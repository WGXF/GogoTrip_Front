var FC=Object.defineProperty;var MC=(s,e,r)=>e in s?FC(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var za=(s,e,r)=>MC(s,typeof e!="symbol"?e+"":e,r);function LC(s,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in s)){const c=Object.getOwnPropertyDescriptor(n,i);c&&Object.defineProperty(s,i,c.get?c:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(i){if(i.ep)return;i.ep=!0;const c=r(i);fetch(i.href,c)}})();var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Mx={exports:{}},S0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function OC(){if(ky)return S0;ky=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,c){var u=null;if(c!==void 0&&(u=""+c),i.key!==void 0&&(u=""+i.key),"key"in i){c={};for(var d in i)d!=="key"&&(c[d]=i[d])}else c=i;return i=c.ref,{$$typeof:s,type:n,key:u,ref:i!==void 0?i:null,props:c}}return S0.Fragment=e,S0.jsx=r,S0.jsxs=r,S0}var Sy;function IC(){return Sy||(Sy=1,Mx.exports=OC()),Mx.exports}var t=IC(),Lx={exports:{}},Xn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function DC(){if(Ey)return Xn;Ey=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;function x(ke){return ke===null||typeof ke!="object"?null:(ke=p&&ke[p]||ke["@@iterator"],typeof ke=="function"?ke:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function E(ke,me,we){this.props=ke,this.context=me,this.refs=w,this.updater=we||v}E.prototype.isReactComponent={},E.prototype.setState=function(ke,me){if(typeof ke!="object"&&typeof ke!="function"&&ke!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ke,me,"setState")},E.prototype.forceUpdate=function(ke){this.updater.enqueueForceUpdate(this,ke,"forceUpdate")};function Q(){}Q.prototype=E.prototype;function K(ke,me,we){this.props=ke,this.context=me,this.refs=w,this.updater=we||v}var Z=K.prototype=new Q;Z.constructor=K,y(Z,E.prototype),Z.isPureReactComponent=!0;var J=Array.isArray;function H(){}var G={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function Ae(ke,me,we){var ue=we.ref;return{$$typeof:s,type:ke,key:me,ref:ue!==void 0?ue:null,props:we}}function Ne(ke,me){return Ae(ke.type,me,ke.props)}function re(ke){return typeof ke=="object"&&ke!==null&&ke.$$typeof===s}function Be(ke){var me={"=":"=0",":":"=2"};return"$"+ke.replace(/[=:]/g,function(we){return me[we]})}var fe=/\/+/g;function Se(ke,me){return typeof ke=="object"&&ke!==null&&ke.key!=null?Be(""+ke.key):me.toString(36)}function pe(ke){switch(ke.status){case"fulfilled":return ke.value;case"rejected":throw ke.reason;default:switch(typeof ke.status=="string"?ke.then(H,H):(ke.status="pending",ke.then(function(me){ke.status==="pending"&&(ke.status="fulfilled",ke.value=me)},function(me){ke.status==="pending"&&(ke.status="rejected",ke.reason=me)})),ke.status){case"fulfilled":return ke.value;case"rejected":throw ke.reason}}throw ke}function ae(ke,me,we,ue,te){var ge=typeof ke;(ge==="undefined"||ge==="boolean")&&(ke=null);var Me=!1;if(ke===null)Me=!0;else switch(ge){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(ke.$$typeof){case s:case e:Me=!0;break;case f:return Me=ke._init,ae(Me(ke._payload),me,we,ue,te)}}if(Me)return te=te(ke),Me=ue===""?"."+Se(ke,0):ue,J(te)?(we="",Me!=null&&(we=Me.replace(fe,"$&/")+"/"),ae(te,me,we,"",function(ut){return ut})):te!=null&&(re(te)&&(te=Ne(te,we+(te.key==null||ke&&ke.key===te.key?"":(""+te.key).replace(fe,"$&/")+"/")+Me)),me.push(te)),1;Me=0;var Ve=ue===""?".":ue+":";if(J(ke))for(var Nt=0;Nt<ke.length;Nt++)ue=ke[Nt],ge=Ve+Se(ue,Nt),Me+=ae(ue,me,we,ge,te);else if(Nt=x(ke),typeof Nt=="function")for(ke=Nt.call(ke),Nt=0;!(ue=ke.next()).done;)ue=ue.value,ge=Ve+Se(ue,Nt++),Me+=ae(ue,me,we,ge,te);else if(ge==="object"){if(typeof ke.then=="function")return ae(pe(ke),me,we,ue,te);throw me=String(ke),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(ke).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return Me}function de(ke,me,we){if(ke==null)return ke;var ue=[],te=0;return ae(ke,ue,"","",function(ge){return me.call(we,ge,te++)}),ue}function oe(ke){if(ke._status===-1){var me=ke._result;me=me(),me.then(function(we){(ke._status===0||ke._status===-1)&&(ke._status=1,ke._result=we)},function(we){(ke._status===0||ke._status===-1)&&(ke._status=2,ke._result=we)}),ke._status===-1&&(ke._status=0,ke._result=me)}if(ke._status===1)return ke._result.default;throw ke._result}var Ee=typeof reportError=="function"?reportError:function(ke){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ke=="object"&&ke!==null&&typeof ke.message=="string"?String(ke.message):String(ke),error:ke});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ke);return}console.error(ke)},Re={map:de,forEach:function(ke,me,we){de(ke,function(){me.apply(this,arguments)},we)},count:function(ke){var me=0;return de(ke,function(){me++}),me},toArray:function(ke){return de(ke,function(me){return me})||[]},only:function(ke){if(!re(ke))throw Error("React.Children.only expected to receive a single React element child.");return ke}};return Xn.Activity=m,Xn.Children=Re,Xn.Component=E,Xn.Fragment=r,Xn.Profiler=i,Xn.PureComponent=K,Xn.StrictMode=n,Xn.Suspense=A,Xn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Xn.__COMPILER_RUNTIME={__proto__:null,c:function(ke){return G.H.useMemoCache(ke)}},Xn.cache=function(ke){return function(){return ke.apply(null,arguments)}},Xn.cacheSignal=function(){return null},Xn.cloneElement=function(ke,me,we){if(ke==null)throw Error("The argument must be a React element, but you passed "+ke+".");var ue=y({},ke.props),te=ke.key;if(me!=null)for(ge in me.key!==void 0&&(te=""+me.key),me)!ce.call(me,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&me.ref===void 0||(ue[ge]=me[ge]);var ge=arguments.length-2;if(ge===1)ue.children=we;else if(1<ge){for(var Me=Array(ge),Ve=0;Ve<ge;Ve++)Me[Ve]=arguments[Ve+2];ue.children=Me}return Ae(ke.type,te,ue)},Xn.createContext=function(ke){return ke={$$typeof:u,_currentValue:ke,_currentValue2:ke,_threadCount:0,Provider:null,Consumer:null},ke.Provider=ke,ke.Consumer={$$typeof:c,_context:ke},ke},Xn.createElement=function(ke,me,we){var ue,te={},ge=null;if(me!=null)for(ue in me.key!==void 0&&(ge=""+me.key),me)ce.call(me,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(te[ue]=me[ue]);var Me=arguments.length-2;if(Me===1)te.children=we;else if(1<Me){for(var Ve=Array(Me),Nt=0;Nt<Me;Nt++)Ve[Nt]=arguments[Nt+2];te.children=Ve}if(ke&&ke.defaultProps)for(ue in Me=ke.defaultProps,Me)te[ue]===void 0&&(te[ue]=Me[ue]);return Ae(ke,ge,te)},Xn.createRef=function(){return{current:null}},Xn.forwardRef=function(ke){return{$$typeof:d,render:ke}},Xn.isValidElement=re,Xn.lazy=function(ke){return{$$typeof:f,_payload:{_status:-1,_result:ke},_init:oe}},Xn.memo=function(ke,me){return{$$typeof:o,type:ke,compare:me===void 0?null:me}},Xn.startTransition=function(ke){var me=G.T,we={};G.T=we;try{var ue=ke(),te=G.S;te!==null&&te(we,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(H,Ee)}catch(ge){Ee(ge)}finally{me!==null&&we.types!==null&&(me.types=we.types),G.T=me}},Xn.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Xn.use=function(ke){return G.H.use(ke)},Xn.useActionState=function(ke,me,we){return G.H.useActionState(ke,me,we)},Xn.useCallback=function(ke,me){return G.H.useCallback(ke,me)},Xn.useContext=function(ke){return G.H.useContext(ke)},Xn.useDebugValue=function(){},Xn.useDeferredValue=function(ke,me){return G.H.useDeferredValue(ke,me)},Xn.useEffect=function(ke,me){return G.H.useEffect(ke,me)},Xn.useEffectEvent=function(ke){return G.H.useEffectEvent(ke)},Xn.useId=function(){return G.H.useId()},Xn.useImperativeHandle=function(ke,me,we){return G.H.useImperativeHandle(ke,me,we)},Xn.useInsertionEffect=function(ke,me){return G.H.useInsertionEffect(ke,me)},Xn.useLayoutEffect=function(ke,me){return G.H.useLayoutEffect(ke,me)},Xn.useMemo=function(ke,me){return G.H.useMemo(ke,me)},Xn.useOptimistic=function(ke,me){return G.H.useOptimistic(ke,me)},Xn.useReducer=function(ke,me,we){return G.H.useReducer(ke,me,we)},Xn.useRef=function(ke){return G.H.useRef(ke)},Xn.useState=function(ke){return G.H.useState(ke)},Xn.useSyncExternalStore=function(ke,me,we){return G.H.useSyncExternalStore(ke,me,we)},Xn.useTransition=function(){return G.H.useTransition()},Xn.version="19.2.3",Xn}var Ty;function hm(){return Ty||(Ty=1,Lx.exports=DC()),Lx.exports}var W=hm();const Sc=Tg(W),RC=LC({__proto__:null,default:Sc},[W]);var Ox={exports:{}},E0={},Ix={exports:{}},Dx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function QC(){return Uy||(Uy=1,(function(s){function e(ae,de){var oe=ae.length;ae.push(de);e:for(;0<oe;){var Ee=oe-1>>>1,Re=ae[Ee];if(0<i(Re,de))ae[Ee]=de,ae[oe]=Re,oe=Ee;else break e}}function r(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var de=ae[0],oe=ae.pop();if(oe!==de){ae[0]=oe;e:for(var Ee=0,Re=ae.length,ke=Re>>>1;Ee<ke;){var me=2*(Ee+1)-1,we=ae[me],ue=me+1,te=ae[ue];if(0>i(we,oe))ue<Re&&0>i(te,we)?(ae[Ee]=te,ae[ue]=oe,Ee=ue):(ae[Ee]=we,ae[me]=oe,Ee=me);else if(ue<Re&&0>i(te,oe))ae[Ee]=te,ae[ue]=oe,Ee=ue;else break e}}return de}function i(ae,de){var oe=ae.sortIndex-de.sortIndex;return oe!==0?oe:ae.id-de.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();s.unstable_now=function(){return u.now()-d}}var A=[],o=[],f=1,m=null,p=3,x=!1,v=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Z(ae){for(var de=r(o);de!==null;){if(de.callback===null)n(o);else if(de.startTime<=ae)n(o),de.sortIndex=de.expirationTime,e(A,de);else break;de=r(o)}}function J(ae){if(y=!1,Z(ae),!v)if(r(A)!==null)v=!0,H||(H=!0,Be());else{var de=r(o);de!==null&&pe(J,de.startTime-ae)}}var H=!1,G=-1,ce=5,Ae=-1;function Ne(){return w?!0:!(s.unstable_now()-Ae<ce)}function re(){if(w=!1,H){var ae=s.unstable_now();Ae=ae;var de=!0;try{e:{v=!1,y&&(y=!1,Q(G),G=-1),x=!0;var oe=p;try{t:{for(Z(ae),m=r(A);m!==null&&!(m.expirationTime>ae&&Ne());){var Ee=m.callback;if(typeof Ee=="function"){m.callback=null,p=m.priorityLevel;var Re=Ee(m.expirationTime<=ae);if(ae=s.unstable_now(),typeof Re=="function"){m.callback=Re,Z(ae),de=!0;break t}m===r(A)&&n(A),Z(ae)}else n(A);m=r(A)}if(m!==null)de=!0;else{var ke=r(o);ke!==null&&pe(J,ke.startTime-ae),de=!1}}break e}finally{m=null,p=oe,x=!1}de=void 0}}finally{de?Be():H=!1}}}var Be;if(typeof K=="function")Be=function(){K(re)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Se=fe.port2;fe.port1.onmessage=re,Be=function(){Se.postMessage(null)}}else Be=function(){E(re,0)};function pe(ae,de){G=E(function(){ae(s.unstable_now())},de)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ae){ae.callback=null},s.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<ae?Math.floor(1e3/ae):5},s.unstable_getCurrentPriorityLevel=function(){return p},s.unstable_next=function(ae){switch(p){case 1:case 2:case 3:var de=3;break;default:de=p}var oe=p;p=de;try{return ae()}finally{p=oe}},s.unstable_requestPaint=function(){w=!0},s.unstable_runWithPriority=function(ae,de){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var oe=p;p=ae;try{return de()}finally{p=oe}},s.unstable_scheduleCallback=function(ae,de,oe){var Ee=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ee+oe:Ee):oe=Ee,ae){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=oe+Re,ae={id:f++,callback:de,priorityLevel:ae,startTime:oe,expirationTime:Re,sortIndex:-1},oe>Ee?(ae.sortIndex=oe,e(o,ae),r(A)===null&&ae===r(o)&&(y?(Q(G),G=-1):y=!0,pe(J,oe-Ee))):(ae.sortIndex=Re,e(A,ae),v||x||(v=!0,H||(H=!0,Be()))),ae},s.unstable_shouldYield=Ne,s.unstable_wrapCallback=function(ae){var de=p;return function(){var oe=p;p=de;try{return ae.apply(this,arguments)}finally{p=oe}}}})(Dx)),Dx}var Fy;function _C(){return Fy||(Fy=1,Ix.exports=QC()),Ix.exports}var Rx={exports:{}},Pc={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function PC(){if(My)return Pc;My=1;var s=hm();function e(A){var o="https://react.dev/errors/"+A;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+A+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function c(A,o,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:A,containerInfo:o,implementation:f}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(A,o){if(A==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return Pc.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Pc.createPortal=function(A,o){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(e(299));return c(A,o,null,f)},Pc.flushSync=function(A){var o=u.T,f=n.p;try{if(u.T=null,n.p=2,A)return A()}finally{u.T=o,n.p=f,n.d.f()}},Pc.preconnect=function(A,o){typeof A=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,n.d.C(A,o))},Pc.prefetchDNS=function(A){typeof A=="string"&&n.d.D(A)},Pc.preinit=function(A,o){if(typeof A=="string"&&o&&typeof o.as=="string"){var f=o.as,m=d(f,o.crossOrigin),p=typeof o.integrity=="string"?o.integrity:void 0,x=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;f==="style"?n.d.S(A,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:x}):f==="script"&&n.d.X(A,{crossOrigin:m,integrity:p,fetchPriority:x,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},Pc.preinitModule=function(A,o){if(typeof A=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var f=d(o.as,o.crossOrigin);n.d.M(A,{crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&n.d.M(A)},Pc.preload=function(A,o){if(typeof A=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var f=o.as,m=d(f,o.crossOrigin);n.d.L(A,f,{crossOrigin:m,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},Pc.preloadModule=function(A,o){if(typeof A=="string")if(o){var f=d(o.as,o.crossOrigin);n.d.m(A,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else n.d.m(A)},Pc.requestFormReset=function(A){n.d.r(A)},Pc.unstable_batchedUpdates=function(A,o){return A(o)},Pc.useFormState=function(A,o,f){return u.H.useFormState(A,o,f)},Pc.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pc.version="19.2.3",Pc}var Ly;function ej(){if(Ly)return Rx.exports;Ly=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Rx.exports=PC(),Rx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function HC(){if(Oy)return E0;Oy=1;var s=_C(),e=hm(),r=ej();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function c(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function u(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function d(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function A(a){if(c(a)!==a)throw Error(n(188))}function o(a){var l=a.alternate;if(!l){if(l=c(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,g=l;;){var O=h.return;if(O===null)break;var _=O.alternate;if(_===null){if(g=O.return,g!==null){h=g;continue}break}if(O.child===_.child){for(_=O.child;_;){if(_===h)return A(O),a;if(_===g)return A(O),l;_=_.sibling}throw Error(n(188))}if(h.return!==g.return)h=O,g=_;else{for(var be=!1,He=O.child;He;){if(He===h){be=!0,h=O,g=_;break}if(He===g){be=!0,g=O,h=_;break}He=He.sibling}if(!be){for(He=_.child;He;){if(He===h){be=!0,h=_,g=O;break}if(He===g){be=!0,g=_,h=O;break}He=He.sibling}if(!be)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),Ae=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function Be(a){return a===null||typeof a!="object"?null:(a=re&&a[re]||a["@@iterator"],typeof a=="function"?a:null)}var fe=Symbol.for("react.client.reference");function Se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===fe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case y:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case J:return"Suspense";case H:return"SuspenseList";case Ae:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case v:return"Portal";case K:return a.displayName||"Context";case Q:return(a._context.displayName||"Context")+".Consumer";case Z:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case G:return l=a.displayName||null,l!==null?l:Se(a.type)||"Memo";case ce:l=a._payload,a=a._init;try{return Se(a(l))}catch{}}return null}var pe=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ee=[],Re=-1;function ke(a){return{current:a}}function me(a){0>Re||(a.current=Ee[Re],Ee[Re]=null,Re--)}function we(a,l){Re++,Ee[Re]=a.current,a.current=l}var ue=ke(null),te=ke(null),ge=ke(null),Me=ke(null);function Ve(a,l){switch(we(ge,l),we(te,a),we(ue,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?X1(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=X1(l),a=J1(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}me(ue),we(ue,a)}function Nt(){me(ue),me(te),me(ge)}function ut(a){a.memoizedState!==null&&we(Me,a);var l=ue.current,h=J1(l,a.type);l!==h&&(we(te,a),we(ue,h))}function et(a){te.current===a&&(me(ue),me(te)),Me.current===a&&(me(Me),j0._currentValue=oe)}var Lt,ns;function ls(a){if(Lt===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Lt=l&&l[1]||"",ns=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lt+a+ns}var vt=!1;function $e(a,l){if(!a||vt)return"";vt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var Ls=function(){throw Error()};if(Object.defineProperty(Ls.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ls,[])}catch(cs){var as=cs}Reflect.construct(a,[],Ls)}else{try{Ls.call()}catch(cs){as=cs}a.call(Ls.prototype)}}else{try{throw Error()}catch(cs){as=cs}(Ls=a())&&typeof Ls.catch=="function"&&Ls.catch(function(){})}}catch(cs){if(cs&&as&&typeof cs.stack=="string")return[cs.stack,as.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=g.DetermineComponentFrameRoot(),be=_[0],He=_[1];if(be&&He){var mt=be.split(`
`),rs=He.split(`
`);for(O=g=0;g<mt.length&&!mt[g].includes("DetermineComponentFrameRoot");)g++;for(;O<rs.length&&!rs[O].includes("DetermineComponentFrameRoot");)O++;if(g===mt.length||O===rs.length)for(g=mt.length-1,O=rs.length-1;1<=g&&0<=O&&mt[g]!==rs[O];)O--;for(;1<=g&&0<=O;g--,O--)if(mt[g]!==rs[O]){if(g!==1||O!==1)do if(g--,O--,0>O||mt[g]!==rs[O]){var Ss=`
`+mt[g].replace(" at new "," at ");return a.displayName&&Ss.includes("<anonymous>")&&(Ss=Ss.replace("<anonymous>",a.displayName)),Ss}while(1<=g&&0<=O);break}}}finally{vt=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?ls(h):""}function Bt(a,l){switch(a.tag){case 26:case 27:case 5:return ls(a.type);case 16:return ls("Lazy");case 13:return a.child!==l&&l!==null?ls("Suspense Fallback"):ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return $e(a.type,!1);case 11:return $e(a.type.render,!1);case 1:return $e(a.type,!0);case 31:return ls("Activity");default:return""}}function Qt(a){try{var l="",h=null;do l+=Bt(a,h),h=a,a=a.return;while(a);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ks=Object.prototype.hasOwnProperty,zs=s.unstable_scheduleCallback,yr=s.unstable_cancelCallback,mr=s.unstable_shouldYield,ar=s.unstable_requestPaint,$s=s.unstable_now,As=s.unstable_getCurrentPriorityLevel,Rs=s.unstable_ImmediatePriority,br=s.unstable_UserBlockingPriority,js=s.unstable_NormalPriority,qs=s.unstable_LowPriority,hr=s.unstable_IdlePriority,rr=s.log,Xs=s.unstable_setDisableYieldValue,Es=null,Gt=null;function vs(a){if(typeof rr=="function"&&Xs(a),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Es,a)}catch{}}var Ms=Math.clz32?Math.clz32:Ct,Gs=Math.log,fr=Math.LN2;function Ct(a){return a>>>=0,a===0?32:31-(Gs(a)/fr|0)|0}var Zt=256,ds=262144,hs=4194304;function Ks(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Vs(a,l,h){var g=a.pendingLanes;if(g===0)return 0;var O=0,_=a.suspendedLanes,be=a.pingedLanes;a=a.warmLanes;var He=g&134217727;return He!==0?(g=He&~_,g!==0?O=Ks(g):(be&=He,be!==0?O=Ks(be):h||(h=He&~a,h!==0&&(O=Ks(h))))):(He=g&~_,He!==0?O=Ks(He):be!==0?O=Ks(be):h||(h=g&~a,h!==0&&(O=Ks(h)))),O===0?0:l!==0&&l!==O&&(l&_)===0&&(_=O&-O,h=l&-l,_>=h||_===32&&(h&4194048)!==0)?l:O}function pr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function tn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var a=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),a}function Is(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function kr(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function nr(a,l,h,g,O,_){var be=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var He=a.entanglements,mt=a.expirationTimes,rs=a.hiddenUpdates;for(h=be&~h;0<h;){var Ss=31-Ms(h),Ls=1<<Ss;He[Ss]=0,mt[Ss]=-1;var as=rs[Ss];if(as!==null)for(rs[Ss]=null,Ss=0;Ss<as.length;Ss++){var cs=as[Ss];cs!==null&&(cs.lane&=-536870913)}h&=~Ls}g!==0&&Ts(a,g,0),_!==0&&O===0&&a.tag!==0&&(a.suspendedLanes|=_&~(be&~l))}function Ts(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-Ms(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|h&261930}function Lr(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var g=31-Ms(h),O=1<<g;O&l|a[g]&l&&(a[g]|=l),h&=~O}}function la(a,l){var h=l&-l;return h=(h&42)!==0?1:gr(h),(h&(a.suspendedLanes|l))!==0?0:h}function gr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function qa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function yn(){var a=de.p;return a!==0?a:(a=window.event,a===void 0?32:vy(a.type))}function In(a,l){var h=de.p;try{return de.p=a,l()}finally{de.p=h}}var $n=Math.random().toString(36).slice(2),Nn="__reactFiber$"+$n,ga="__reactProps$"+$n,Zn="__reactContainer$"+$n,Oi="__reactEvents$"+$n,Dn="__reactListeners$"+$n,hc="__reactHandles$"+$n,ii="__reactResources$"+$n,Eo="__reactMarker$"+$n;function Vl(a){delete a[Nn],delete a[ga],delete a[Oi],delete a[Dn],delete a[hc]}function uo(a){var l=a[Nn];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Zn]||h[Nn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=ny(a);a!==null;){if(h=a[Nn])return h;a=ny(a)}return l}a=h,h=a.parentNode}return null}function fa(a){if(a=a[Nn]||a[Zn]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function ji(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function sa(a){var l=a[ii];return l||(l=a[ii]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ta(a){a[Eo]=!0}var qn=new Set,Ao={};function ui(a,l){Ni(a,l),Ni(a+"Capture",l)}function Ni(a,l){for(Ao[a]=l,a=0;a<l.length;a++)qn.add(l[a])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},El={};function xa(a){return ks.call(El,a)?!0:ks.call(Zo,a)?!1:ul.test(a)?El[a]=!0:(Zo[a]=!0,!1)}function wa(a,l,h){if(xa(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function ho(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function ei(a,l,h,g){if(g===null)a.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+g)}}function Ii(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ai(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Yr(a,l,h){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var O=g.get,_=g.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return O.call(this)},set:function(be){h=""+be,_.call(this,be)}}),Object.defineProperty(a,l,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(be){h=""+be},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Va(a){if(!a._valueTracker){var l=Ai(a)?"checked":"value";a._valueTracker=Yr(a,l,""+a[l])}}function Ci(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return a&&(g=Ai(a)?a.checked?"true":"false":a.value),a=g,a!==h?(l.setValue(a),!0):!1}function Ra(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var fo=/[\n"\\]/g;function Gn(a){return a.replace(fo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ki(a,l,h,g,O,_,be,He){a.name="",be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?a.type=be:a.removeAttribute("type"),l!=null?be==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Ii(l)):a.value!==""+Ii(l)&&(a.value=""+Ii(l)):be!=="submit"&&be!=="reset"||a.removeAttribute("value"),l!=null?Ia(a,be,Ii(l)):h!=null?Ia(a,be,Ii(h)):g!=null&&a.removeAttribute("value"),O==null&&_!=null&&(a.defaultChecked=!!_),O!=null&&(a.checked=O&&typeof O!="function"&&typeof O!="symbol"),He!=null&&typeof He!="function"&&typeof He!="symbol"&&typeof He!="boolean"?a.name=""+Ii(He):a.removeAttribute("name")}function Ka(a,l,h,g,O,_,be,He){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),l!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){Va(a);return}h=h!=null?""+Ii(h):"",l=l!=null?""+Ii(l):h,He||l===a.value||(a.value=l),a.defaultValue=l}g=g??O,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=He?a.checked:!!g,a.defaultChecked=!!g,be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"&&(a.name=be),Va(a)}function Ia(a,l,h){l==="number"&&Ra(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function hi(a,l,h,g){if(a=a.options,l){l={};for(var O=0;O<h.length;O++)l["$"+h[O]]=!0;for(h=0;h<a.length;h++)O=l.hasOwnProperty("$"+a[h].value),a[h].selected!==O&&(a[h].selected=O),O&&g&&(a[h].defaultSelected=!0)}else{for(h=""+Ii(h),l=null,O=0;O<a.length;O++){if(a[O].value===h){a[O].selected=!0,g&&(a[O].defaultSelected=!0);return}l!==null||a[O].disabled||(l=a[O])}l!==null&&(l.selected=!0)}}function To(a,l,h){if(l!=null&&(l=""+Ii(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+Ii(h):""}function Bi(a,l,h,g){if(l==null){if(g!=null){if(h!=null)throw Error(n(92));if(pe(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),l=h}h=Ii(l),a.defaultValue=h,g=a.textContent,g===h&&g!==""&&g!==null&&(a.value=g),Va(a)}function ba(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var fi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qi(a,l,h){var g=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,h):typeof h!="number"||h===0||fi.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function ki(a,l,h){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var O in l)g=l[O],l.hasOwnProperty(O)&&h[O]!==g&&qi(a,O,g)}else for(var _ in l)l.hasOwnProperty(_)&&qi(a,_,l[_])}function io(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),M=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $(a){return M.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Y(){}var T=null;function L(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var z=null,ie=null;function ve(a){var l=fa(a);if(l&&(a=l.stateNode)){var h=a[ga]||null;e:switch(a=l.stateNode,l.type){case"input":if(Ki(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Gn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==a&&g.form===a.form){var O=g[ga]||null;if(!O)throw Error(n(90));Ki(g,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(l=0;l<h.length;l++)g=h[l],g.form===a.form&&Ci(g)}break e;case"textarea":To(a,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&hi(a,!!h.multiple,l,!1)}}}var De=!1;function Je(a,l,h){if(De)return a(l,h);De=!0;try{var g=a(l);return g}finally{if(De=!1,(z!==null||ie!==null)&&(_l(),z&&(l=z,a=ie,ie=z=null,ve(l),a)))for(l=0;l<a.length;l++)ve(a[l])}}function N(a,l){var h=a.stateNode;if(h===null)return null;var g=h[ga]||null;if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var b=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S=!1;if(b)try{var I={};Object.defineProperty(I,"passive",{get:function(){S=!0}}),window.addEventListener("test",I,I),window.removeEventListener("test",I,I)}catch{S=!1}var R=null,V=null,le=null;function q(){if(le)return le;var a,l=V,h=l.length,g,O="value"in R?R.value:R.textContent,_=O.length;for(a=0;a<h&&l[a]===O[a];a++);var be=h-a;for(g=1;g<=be&&l[h-g]===O[_-g];g++);return le=O.slice(a,1<g?1-g:void 0)}function ee(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function je(){return!0}function Le(){return!1}function ze(a){function l(h,g,O,_,be){this._reactName=h,this._targetInst=O,this.type=g,this.nativeEvent=_,this.target=be,this.currentTarget=null;for(var He in a)a.hasOwnProperty(He)&&(h=a[He],this[He]=h?h(_):_[He]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?je:Le,this.isPropagationStopped=Le,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=je)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=je)},persist:function(){},isPersistent:je}),l}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=ze(Xe),ct=m({},Xe,{view:0,detail:0}),ot=ze(ct),At,We,yt,Dt=m({},ct,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yt&&(yt&&a.type==="mousemove"?(At=a.screenX-yt.screenX,We=a.screenY-yt.screenY):We=At=0,yt=a),At)},movementY:function(a){return"movementY"in a?a.movementY:We}}),pt=ze(Dt),Ge=m({},Dt,{dataTransfer:0}),Ft=ze(Ge),is=m({},ct,{relatedTarget:0}),Ht=ze(is),bt=m({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),es=ze(bt),Ye=m({},Xe,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),rt=ze(Ye),gt=m({},Xe,{data:0}),xt=ze(gt),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},us={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=xs[a])?!!l[a]:!1}function fs(){return Vt}var Js=m({},ct,{key:function(a){if(a.key){var l=ss[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ee(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?us[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(a){return a.type==="keypress"?ee(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ee(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),_s=ze(Js),_e=m({},Dt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dt=ze(_e),ht=m({},ct,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),Mt=ze(ht),Rt=m({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wt=ze(Rt),ms=m({},Dt,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ps=ze(ms),Us=m({},Xe,{newState:0,oldState:0}),Zs=ze(Us),wr=[9,13,27,32],vr=b&&"CompositionEvent"in window,Xr=null;b&&"documentMode"in document&&(Xr=document.documentMode);var tt=b&&"TextEvent"in window&&!Xr,cr=b&&(!vr||Xr&&8<Xr&&11>=Xr),dn=" ",ir=!1;function Ps(a,l){switch(a){case"keyup":return wr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sn(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var jr=!1;function $r(a,l){switch(a){case"compositionend":return sn(l);case"keypress":return l.which!==32?null:(ir=!0,dn);case"textInput":return a=l.data,a===dn&&ir?null:a;default:return null}}function Rr(a,l){if(jr)return a==="compositionend"||!vr&&Ps(a,l)?(a=q(),le=V=R=null,jr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return cr&&l.locale!=="ko"?null:l.data;default:return null}}var Ca={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kn(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Ca[a.type]:l==="textarea"}function Sr(a,l,h,g){z?ie?ie.push(g):ie=[g]:z=g,l=Sm(l,"onChange"),0<l.length&&(h=new xe("onChange","change",null,h,g),a.push({event:h,listeners:l}))}var zn=null,Jr=null;function Er(a){V1(a,0)}function nn(a){var l=ji(a);if(Ci(l))return a}function Qr(a,l){if(a==="change")return l}var xn=!1;if(b){var Wn;if(b){var Sn="oninput"in document;if(!Sn){var Rn=document.createElement("div");Rn.setAttribute("oninput","return;"),Sn=typeof Rn.oninput=="function"}Wn=Sn}else Wn=!1;xn=Wn&&(!document.documentMode||9<document.documentMode)}function $a(){zn&&(zn.detachEvent("onpropertychange",Gr),Jr=zn=null)}function Gr(a){if(a.propertyName==="value"&&nn(Jr)){var l=[];Sr(l,Jr,a,L(a)),Je(Er,l)}}function Qa(a,l,h){a==="focusin"?($a(),zn=l,Jr=h,zn.attachEvent("onpropertychange",Gr)):a==="focusout"&&$a()}function hn(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return nn(Jr)}function zr(a,l){if(a==="click")return nn(l)}function ja(a,l){if(a==="input"||a==="change")return nn(l)}function wn(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var lr=typeof Object.is=="function"?Object.is:wn;function Fn(a,l){if(lr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var O=h[g];if(!ks.call(l,O)||!lr(a[O],l[O]))return!1}return!0}function $c(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Di(a,l){var h=$c(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=l&&g>=l)return{node:h,offset:l-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=$c(h)}}function oo(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?oo(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Kl(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Ra(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=Ra(a.document)}return l}function an(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var oi=b&&"documentMode"in document&&11>=document.documentMode,mi=null,qo=null,Uo=null,Da=!1;function pi(a,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Da||mi==null||mi!==Ra(g)||(g=mi,"selectionStart"in g&&an(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Uo&&Fn(Uo,g)||(Uo=g,g=Sm(qo,"onSelect"),0<g.length&&(l=new xe("onSelect","select",null,l,h),a.push({event:l,listeners:g}),l.target=mi)))}function li(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var Tl={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},Ri={},Al={};b&&(Al=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function mo(a){if(Ri[a])return Ri[a];if(!Tl[a])return a;var l=Tl[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in Al)return Ri[a]=l[h];return a}var Ul=mo("animationend"),Fo=mo("animationiteration"),hl=mo("animationstart"),Gc=mo("transitionrun"),fl=mo("transitionstart"),Mo=mo("transitioncancel"),Ec=mo("transitionend"),Wc=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function el(a,l){Wc.set(a,l),ui(l,[a])}var Tc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Lo=[],Fl=0,po=0;function mc(){for(var a=Fl,l=po=Fl=0;l<a;){var h=Lo[l];Lo[l++]=null;var g=Lo[l];Lo[l++]=null;var O=Lo[l];Lo[l++]=null;var _=Lo[l];if(Lo[l++]=null,g!==null&&O!==null){var be=g.pending;be===null?O.next=O:(O.next=be.next,be.next=O),g.pending=O}_!==0&&Wd(h,O,_)}}function Uc(a,l,h,g){Lo[Fl++]=a,Lo[Fl++]=l,Lo[Fl++]=h,Lo[Fl++]=g,po|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function cd(a,l,h,g){return Uc(a,l,h,g),dd(a)}function $l(a,l){return Uc(a,null,null,l),dd(a)}function Wd(a,l,h){a.lanes|=h;var g=a.alternate;g!==null&&(g.lanes|=h);for(var O=!1,_=a.return;_!==null;)_.childLanes|=h,g=_.alternate,g!==null&&(g.childLanes|=h),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(O=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,O&&l!==null&&(O=31-Ms(h),a=_.hiddenUpdates,g=a[O],g===null?a[O]=[l]:g.push(l),l.lane=h|536870912),_):null}function dd(a){if(50<da)throw da=0,ya=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var go={};function Fd(a,l,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oo(a,l,h,g){return new Fd(a,l,h,g)}function un(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ml(a,l){var h=a.alternate;return h===null?(h=Oo(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Gl(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Wl(a,l,h,g,O,_){var be=0;if(g=a,typeof a=="function")un(a)&&(be=1);else if(typeof a=="string")be=vC(a,h,ue.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Ae:return a=Oo(31,h,l,O),a.elementType=Ae,a.lanes=_,a;case y:return Fc(h.children,O,_,l);case w:be=8,O|=24;break;case E:return a=Oo(12,h,l,O|2),a.elementType=E,a.lanes=_,a;case J:return a=Oo(13,h,l,O),a.elementType=J,a.lanes=_,a;case H:return a=Oo(19,h,l,O),a.elementType=H,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case K:be=10;break e;case Q:be=9;break e;case Z:be=11;break e;case G:be=14;break e;case ce:be=16,g=null;break e}be=29,h=Error(n(130,a===null?"null":typeof a,"")),g=null}return l=Oo(be,h,l,O),l.elementType=a,l.type=g,l.lanes=_,l}function Fc(a,l,h,g){return a=Oo(7,a,g,l),a.lanes=h,a}function Ll(a,l,h){return a=Oo(6,a,null,l),a.lanes=h,a}function $i(a){var l=Oo(18,null,null,0);return l.stateNode=a,l}function Yl(a,l,h){return l=Oo(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var ud=new WeakMap;function Gi(a,l){if(typeof a=="object"&&a!==null){var h=ud.get(a);return h!==void 0?h:(l={value:a,source:l,stack:Qt(l)},ud.set(a,l),l)}return{value:a,source:l,stack:Qt(l)}}var Yc=[],Io=0,Ad=null,Xl=0,xo=[],eo=0,Jl=null,ml=1,tl="";function pl(a,l){Yc[Io++]=Xl,Yc[Io++]=Ad,Ad=a,Xl=l}function fu(a,l,h){xo[eo++]=ml,xo[eo++]=tl,xo[eo++]=Jl,Jl=a;var g=ml;a=tl;var O=32-Ms(g)-1;g&=~(1<<O),h+=1;var _=32-Ms(l)+O;if(30<_){var be=O-O%5;_=(g&(1<<be)-1).toString(32),g>>=be,O-=be,ml=1<<32-Ms(l)+O|h<<O|g,tl=_+a}else ml=1<<_|h<<O|g,tl=a}function Ol(a){a.return!==null&&(pl(a,1),fu(a,1,0))}function mu(a){for(;a===Ad;)Ad=Yc[--Io],Yc[Io]=null,Xl=Yc[--Io],Yc[Io]=null;for(;a===Jl;)Jl=xo[--eo],xo[eo]=null,tl=xo[--eo],xo[eo]=null,ml=xo[--eo],xo[eo]=null}function hd(a,l){xo[eo++]=ml,xo[eo++]=tl,xo[eo++]=Jl,ml=l.id,tl=l.overflow,Jl=a}var Qi=null,_a=null,dr=!1,Mc=null,gl=!1,fd=Error(n(519));function Do(a){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(Gi(l,a)),fd}function Lc(a){var l=a.stateNode,h=a.type,g=a.memoizedProps;switch(l[Nn]=a,l[ga]=g,h){case"dialog":Na("cancel",l),Na("close",l);break;case"iframe":case"object":case"embed":Na("load",l);break;case"video":case"audio":for(h=0;h<x0.length;h++)Na(x0[h],l);break;case"source":Na("error",l);break;case"img":case"image":case"link":Na("error",l),Na("load",l);break;case"details":Na("toggle",l);break;case"input":Na("invalid",l),Ka(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Na("invalid",l);break;case"textarea":Na("invalid",l),Bi(l,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||g.suppressHydrationWarning===!0||W1(l.textContent,h)?(g.popover!=null&&(Na("beforetoggle",l),Na("toggle",l)),g.onScroll!=null&&Na("scroll",l),g.onScrollEnd!=null&&Na("scrollend",l),g.onClick!=null&&(l.onclick=Y),l=!0):l=!1,l||Do(a,!0)}function pu(a){for(Qi=a.return;Qi;)switch(Qi.tag){case 5:case 31:case 13:gl=!1;return;case 27:case 3:gl=!0;return;default:Qi=Qi.return}}function md(a){if(a!==Qi)return!1;if(!dr)return pu(a),dr=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||xx(a.type,a.memoizedProps)),h=!h),h&&_a&&Do(a),pu(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));_a=ry(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));_a=ry(a)}else l===27?(l=_a,oh(a.type)?(a=jx,jx=null,_a=a):_a=l):_a=Qi?su(a.stateNode.nextSibling):null;return!0}function Wi(){_a=Qi=null,dr=!1}function Xc(){var a=Mc;return a!==null&&(jt===null?jt=a:jt.push.apply(jt,a),Mc=null),a}function xl(a){Mc===null?Mc=[a]:Mc.push(a)}var Yd=ke(null),sl=null,pc=null;function Ro(a,l,h){we(Yd,l._currentValue),l._currentValue=h}function rl(a){a._currentValue=Yd.current,me(Yd)}function pd(a,l,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===h)break;a=a.return}}function bl(a,l,h,g){var O=a.child;for(O!==null&&(O.return=a);O!==null;){var _=O.dependencies;if(_!==null){var be=O.child;_=_.firstContext;e:for(;_!==null;){var He=_;_=O;for(var mt=0;mt<l.length;mt++)if(He.context===l[mt]){_.lanes|=h,He=_.alternate,He!==null&&(He.lanes|=h),pd(_.return,h,a),g||(be=null);break e}_=He.next}}else if(O.tag===18){if(be=O.return,be===null)throw Error(n(341));be.lanes|=h,_=be.alternate,_!==null&&(_.lanes|=h),pd(be,h,a),be=null}else be=O.child;if(be!==null)be.return=O;else for(be=O;be!==null;){if(be===a){be=null;break}if(O=be.sibling,O!==null){O.return=be.return,be=O;break}be=be.return}O=be}}function gc(a,l,h,g){a=null;for(var O=l,_=!1;O!==null;){if(!_){if((O.flags&524288)!==0)_=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var be=O.alternate;if(be===null)throw Error(n(387));if(be=be.memoizedProps,be!==null){var He=O.type;lr(O.pendingProps.value,be.value)||(a!==null?a.push(He):a=[He])}}else if(O===Me.current){if(be=O.alternate,be===null)throw Error(n(387));be.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(a!==null?a.push(j0):a=[j0])}O=O.return}a!==null&&bl(l,a,h,g),l.flags|=262144}function Jc(a){for(a=a.firstContext;a!==null;){if(!lr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function nl(a){sl=a,pc=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ti(a){return gu(sl,a)}function gd(a,l){return sl===null&&nl(a),gu(a,l)}function gu(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},pc===null){if(a===null)throw Error(n(308));pc=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else pc=pc.next=l;return h}var Tu=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},Zc=s.unstable_scheduleCallback,qc=s.unstable_NormalPriority,gi={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ed(){return{controller:new Tu,data:new Map,refCount:0}}function xd(a){a.refCount--,a.refCount===0&&Zc(qc,function(){a.controller.abort()})}var X=null,Te=0,at=0,ft=null;function _t(a,l){if(X===null){var h=X=[];Te=0,at=cx(),ft={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Te++,l.then(Cs,Cs),l}function Cs(){if(--Te===0&&X!==null){ft!==null&&(ft.status="fulfilled");var a=X;X=null,at=0,ft=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function Os(a,l){var h=[],g={status:"pending",value:null,reason:null,then:function(O){h.push(O)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var O=0;O<h.length;O++)(0,h[O])(l)},function(O){for(g.status="rejected",g.reason=O,O=0;O<h.length;O++)(0,h[O])(void 0)}),g}var Tr=ae.S;ae.S=function(a,l){ws=$s(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&_t(a,l),Tr!==null&&Tr(a,l)};var Ur=ke(null);function fn(){var a=Ur.current;return a!==null?a:pa.pooledCache}function jn(a,l){l===null?we(Ur,Ur.current):we(Ur,l.pool)}function ra(){var a=fn();return a===null?null:{parent:gi._currentValue,pool:a}}var Ua=Error(n(460)),xi=Error(n(474)),Ba=Error(n(542)),Si={then:function(){}};function C(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Ce(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(Y,Y),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,it(a),a;default:if(typeof l.status=="string")l.then(Y,Y);else{if(a=pa,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var O=l;O.status="fulfilled",O.value=g}},function(g){if(l.status==="pending"){var O=l;O.status="rejected",O.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,it(a),a}throw Qe=l,Ua}}function P(a){try{var l=a._init;return l(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Qe=h,Ua):h}}var Qe=null;function lt(){if(Qe===null)throw Error(n(459));var a=Qe;return Qe=null,a}function it(a){if(a===Ua||a===Ba)throw Error(n(483))}var Yt=null,Tt=0;function xr(a){var l=Tt;return Tt+=1,Yt===null&&(Yt=[]),Ce(Yt,a,l)}function wt(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Xt(a,l){throw l.$$typeof===p?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function mn(a){function l(zt,St){if(a){var ts=zt.deletions;ts===null?(zt.deletions=[St],zt.flags|=16):ts.push(St)}}function h(zt,St){if(!a)return null;for(;St!==null;)l(zt,St),St=St.sibling;return null}function g(zt){for(var St=new Map;zt!==null;)zt.key!==null?St.set(zt.key,zt):St.set(zt.index,zt),zt=zt.sibling;return St}function O(zt,St){return zt=Ml(zt,St),zt.index=0,zt.sibling=null,zt}function _(zt,St,ts){return zt.index=ts,a?(ts=zt.alternate,ts!==null?(ts=ts.index,ts<St?(zt.flags|=67108866,St):ts):(zt.flags|=67108866,St)):(zt.flags|=1048576,St)}function be(zt){return a&&zt.alternate===null&&(zt.flags|=67108866),zt}function He(zt,St,ts,Fs){return St===null||St.tag!==6?(St=Ll(ts,zt.mode,Fs),St.return=zt,St):(St=O(St,ts),St.return=zt,St)}function mt(zt,St,ts,Fs){var pn=ts.type;return pn===y?Ss(zt,St,ts.props.children,Fs,ts.key):St!==null&&(St.elementType===pn||typeof pn=="object"&&pn!==null&&pn.$$typeof===ce&&P(pn)===St.type)?(St=O(St,ts.props),wt(St,ts),St.return=zt,St):(St=Wl(ts.type,ts.key,ts.props,null,zt.mode,Fs),wt(St,ts),St.return=zt,St)}function rs(zt,St,ts,Fs){return St===null||St.tag!==4||St.stateNode.containerInfo!==ts.containerInfo||St.stateNode.implementation!==ts.implementation?(St=Yl(ts,zt.mode,Fs),St.return=zt,St):(St=O(St,ts.children||[]),St.return=zt,St)}function Ss(zt,St,ts,Fs,pn){return St===null||St.tag!==7?(St=Fc(ts,zt.mode,Fs,pn),St.return=zt,St):(St=O(St,ts),St.return=zt,St)}function Ls(zt,St,ts){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return St=Ll(""+St,zt.mode,ts),St.return=zt,St;if(typeof St=="object"&&St!==null){switch(St.$$typeof){case x:return ts=Wl(St.type,St.key,St.props,null,zt.mode,ts),wt(ts,St),ts.return=zt,ts;case v:return St=Yl(St,zt.mode,ts),St.return=zt,St;case ce:return St=P(St),Ls(zt,St,ts)}if(pe(St)||Be(St))return St=Fc(St,zt.mode,ts,null),St.return=zt,St;if(typeof St.then=="function")return Ls(zt,xr(St),ts);if(St.$$typeof===K)return Ls(zt,gd(zt,St),ts);Xt(zt,St)}return null}function as(zt,St,ts,Fs){var pn=St!==null?St.key:null;if(typeof ts=="string"&&ts!==""||typeof ts=="number"||typeof ts=="bigint")return pn!==null?null:He(zt,St,""+ts,Fs);if(typeof ts=="object"&&ts!==null){switch(ts.$$typeof){case x:return ts.key===pn?mt(zt,St,ts,Fs):null;case v:return ts.key===pn?rs(zt,St,ts,Fs):null;case ce:return ts=P(ts),as(zt,St,ts,Fs)}if(pe(ts)||Be(ts))return pn!==null?null:Ss(zt,St,ts,Fs,null);if(typeof ts.then=="function")return as(zt,St,xr(ts),Fs);if(ts.$$typeof===K)return as(zt,St,gd(zt,ts),Fs);Xt(zt,ts)}return null}function cs(zt,St,ts,Fs,pn){if(typeof Fs=="string"&&Fs!==""||typeof Fs=="number"||typeof Fs=="bigint")return zt=zt.get(ts)||null,He(St,zt,""+Fs,pn);if(typeof Fs=="object"&&Fs!==null){switch(Fs.$$typeof){case x:return zt=zt.get(Fs.key===null?ts:Fs.key)||null,mt(St,zt,Fs,pn);case v:return zt=zt.get(Fs.key===null?ts:Fs.key)||null,rs(St,zt,Fs,pn);case ce:return Fs=P(Fs),cs(zt,St,ts,Fs,pn)}if(pe(Fs)||Be(Fs))return zt=zt.get(ts)||null,Ss(St,zt,Fs,pn,null);if(typeof Fs.then=="function")return cs(zt,St,ts,xr(Fs),pn);if(Fs.$$typeof===K)return cs(zt,St,ts,gd(St,Fs),pn);Xt(St,Fs)}return null}function Hr(zt,St,ts,Fs){for(var pn=null,Ja=null,qr=St,oa=St=0,Ea=null;qr!==null&&oa<ts.length;oa++){qr.index>oa?(Ea=qr,qr=null):Ea=qr.sibling;var Za=as(zt,qr,ts[oa],Fs);if(Za===null){qr===null&&(qr=Ea);break}a&&qr&&Za.alternate===null&&l(zt,qr),St=_(Za,St,oa),Ja===null?pn=Za:Ja.sibling=Za,Ja=Za,qr=Ea}if(oa===ts.length)return h(zt,qr),dr&&pl(zt,oa),pn;if(qr===null){for(;oa<ts.length;oa++)qr=Ls(zt,ts[oa],Fs),qr!==null&&(St=_(qr,St,oa),Ja===null?pn=qr:Ja.sibling=qr,Ja=qr);return dr&&pl(zt,oa),pn}for(qr=g(qr);oa<ts.length;oa++)Ea=cs(qr,zt,oa,ts[oa],Fs),Ea!==null&&(a&&Ea.alternate!==null&&qr.delete(Ea.key===null?oa:Ea.key),St=_(Ea,St,oa),Ja===null?pn=Ea:Ja.sibling=Ea,Ja=Ea);return a&&qr.forEach(function(Ah){return l(zt,Ah)}),dr&&pl(zt,oa),pn}function Bn(zt,St,ts,Fs){if(ts==null)throw Error(n(151));for(var pn=null,Ja=null,qr=St,oa=St=0,Ea=null,Za=ts.next();qr!==null&&!Za.done;oa++,Za=ts.next()){qr.index>oa?(Ea=qr,qr=null):Ea=qr.sibling;var Ah=as(zt,qr,Za.value,Fs);if(Ah===null){qr===null&&(qr=Ea);break}a&&qr&&Ah.alternate===null&&l(zt,qr),St=_(Ah,St,oa),Ja===null?pn=Ah:Ja.sibling=Ah,Ja=Ah,qr=Ea}if(Za.done)return h(zt,qr),dr&&pl(zt,oa),pn;if(qr===null){for(;!Za.done;oa++,Za=ts.next())Za=Ls(zt,Za.value,Fs),Za!==null&&(St=_(Za,St,oa),Ja===null?pn=Za:Ja.sibling=Za,Ja=Za);return dr&&pl(zt,oa),pn}for(qr=g(qr);!Za.done;oa++,Za=ts.next())Za=cs(qr,zt,oa,Za.value,Fs),Za!==null&&(a&&Za.alternate!==null&&qr.delete(Za.key===null?oa:Za.key),St=_(Za,St,oa),Ja===null?pn=Za:Ja.sibling=Za,Ja=Za);return a&&qr.forEach(function(UC){return l(zt,UC)}),dr&&pl(zt,oa),pn}function Fi(zt,St,ts,Fs){if(typeof ts=="object"&&ts!==null&&ts.type===y&&ts.key===null&&(ts=ts.props.children),typeof ts=="object"&&ts!==null){switch(ts.$$typeof){case x:e:{for(var pn=ts.key;St!==null;){if(St.key===pn){if(pn=ts.type,pn===y){if(St.tag===7){h(zt,St.sibling),Fs=O(St,ts.props.children),Fs.return=zt,zt=Fs;break e}}else if(St.elementType===pn||typeof pn=="object"&&pn!==null&&pn.$$typeof===ce&&P(pn)===St.type){h(zt,St.sibling),Fs=O(St,ts.props),wt(Fs,ts),Fs.return=zt,zt=Fs;break e}h(zt,St);break}else l(zt,St);St=St.sibling}ts.type===y?(Fs=Fc(ts.props.children,zt.mode,Fs,ts.key),Fs.return=zt,zt=Fs):(Fs=Wl(ts.type,ts.key,ts.props,null,zt.mode,Fs),wt(Fs,ts),Fs.return=zt,zt=Fs)}return be(zt);case v:e:{for(pn=ts.key;St!==null;){if(St.key===pn)if(St.tag===4&&St.stateNode.containerInfo===ts.containerInfo&&St.stateNode.implementation===ts.implementation){h(zt,St.sibling),Fs=O(St,ts.children||[]),Fs.return=zt,zt=Fs;break e}else{h(zt,St);break}else l(zt,St);St=St.sibling}Fs=Yl(ts,zt.mode,Fs),Fs.return=zt,zt=Fs}return be(zt);case ce:return ts=P(ts),Fi(zt,St,ts,Fs)}if(pe(ts))return Hr(zt,St,ts,Fs);if(Be(ts)){if(pn=Be(ts),typeof pn!="function")throw Error(n(150));return ts=pn.call(ts),Bn(zt,St,ts,Fs)}if(typeof ts.then=="function")return Fi(zt,St,xr(ts),Fs);if(ts.$$typeof===K)return Fi(zt,St,gd(zt,ts),Fs);Xt(zt,ts)}return typeof ts=="string"&&ts!==""||typeof ts=="number"||typeof ts=="bigint"?(ts=""+ts,St!==null&&St.tag===6?(h(zt,St.sibling),Fs=O(St,ts),Fs.return=zt,zt=Fs):(h(zt,St),Fs=Ll(ts,zt.mode,Fs),Fs.return=zt,zt=Fs),be(zt)):h(zt,St)}return function(zt,St,ts,Fs){try{Tt=0;var pn=Fi(zt,St,ts,Fs);return Yt=null,pn}catch(qr){if(qr===Ua||qr===Ba)throw qr;var Ja=Oo(29,qr,null,zt.mode);return Ja.lanes=Fs,Ja.return=zt,Ja}finally{}}}var or=mn(!0),Qs=mn(!1),gs=!1;function Fa(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function An(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Wr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ln(a,l,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(va&2)!==0){var O=g.pending;return O===null?l.next=l:(l.next=O.next,O.next=l),g.pending=l,l=dd(a),Wd(a,null,h),l}return Uc(a,g,l,h),dd(a)}function En(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,Lr(a,h)}}function sr(a,l){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var O=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var be={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?O=_=be:_=_.next=be,h=h.next}while(h!==null);_===null?O=_=l:_=_.next=l}else O=_=l;h={baseState:g.baseState,firstBaseUpdate:O,lastBaseUpdate:_,shared:g.shared,callbacks:g.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var Tn=!1;function Ma(){if(Tn){var a=ft;if(a!==null)throw a}}function Vr(a,l,h,g){Tn=!1;var O=a.updateQueue;gs=!1;var _=O.firstBaseUpdate,be=O.lastBaseUpdate,He=O.shared.pending;if(He!==null){O.shared.pending=null;var mt=He,rs=mt.next;mt.next=null,be===null?_=rs:be.next=rs,be=mt;var Ss=a.alternate;Ss!==null&&(Ss=Ss.updateQueue,He=Ss.lastBaseUpdate,He!==be&&(He===null?Ss.firstBaseUpdate=rs:He.next=rs,Ss.lastBaseUpdate=mt))}if(_!==null){var Ls=O.baseState;be=0,Ss=rs=mt=null,He=_;do{var as=He.lane&-536870913,cs=as!==He.lane;if(cs?(Hn&as)===as:(g&as)===as){as!==0&&as===at&&(Tn=!0),Ss!==null&&(Ss=Ss.next={lane:0,tag:He.tag,payload:He.payload,callback:null,next:null});e:{var Hr=a,Bn=He;as=l;var Fi=h;switch(Bn.tag){case 1:if(Hr=Bn.payload,typeof Hr=="function"){Ls=Hr.call(Fi,Ls,as);break e}Ls=Hr;break e;case 3:Hr.flags=Hr.flags&-65537|128;case 0:if(Hr=Bn.payload,as=typeof Hr=="function"?Hr.call(Fi,Ls,as):Hr,as==null)break e;Ls=m({},Ls,as);break e;case 2:gs=!0}}as=He.callback,as!==null&&(a.flags|=64,cs&&(a.flags|=8192),cs=O.callbacks,cs===null?O.callbacks=[as]:cs.push(as))}else cs={lane:as,tag:He.tag,payload:He.payload,callback:He.callback,next:null},Ss===null?(rs=Ss=cs,mt=Ls):Ss=Ss.next=cs,be|=as;if(He=He.next,He===null){if(He=O.shared.pending,He===null)break;cs=He,He=cs.next,cs.next=null,O.lastBaseUpdate=cs,O.shared.pending=null}}while(!0);Ss===null&&(mt=Ls),O.baseState=mt,O.firstBaseUpdate=rs,O.lastBaseUpdate=Ss,_===null&&(O.shared.lanes=0),U|=be,a.lanes=be,a.memoizedState=Ls}}function na(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function Qn(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)na(h[a],l)}var Fr=ke(null),on=ke(0);function bo(a,l){a=j,we(on,a),we(Fr,l),j=a|l.baseLanes}function Zl(){we(on,j),we(Fr,Fr.current)}function vl(){j=on.current,me(Fr),me(on)}var Yi=ke(null),vo=null;function Ga(a){var l=a.alternate;we(bi,bi.current&1),we(Yi,a),vo===null&&(l===null||Fr.current!==null||l.memoizedState!==null)&&(vo=a)}function Uu(a){we(bi,bi.current),we(Yi,a),vo===null&&(vo=a)}function td(a){a.tag===22?(we(bi,bi.current),we(Yi,a),vo===null&&(vo=a)):al()}function al(){we(bi,bi.current),we(Yi,Yi.current)}function il(a){me(Yi),vo===a&&(vo=null),me(bi)}var bi=ke(0);function Xd(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||yx(h)||wx(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var xc=0,bn=null,ma=null,si=null,bd=!1,ql=!1,bc=!1,Qo=0,ec=0,aa=null,Pa=0;function _n(){throw Error(n(321))}function Xi(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!lr(a[h],l[h]))return!1;return!0}function sd(a,l,h,g,O,_){return xc=_,bn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ae.H=a===null||a.memoizedState===null?$h:qA,bc=!1,_=h(g,O),bc=!1,ql&&(_=Md(l,h,g,O)),xu(a),_}function xu(a){ae.H=pA;var l=ma!==null&&ma.next!==null;if(xc=0,si=ma=bn=null,bd=!1,ec=0,aa=null,l)throw Error(n(300));a===null||Oe||(a=a.dependencies,a!==null&&Jc(a)&&(Oe=!0))}function Md(a,l,h,g){bn=a;var O=0;do{if(ql&&(aa=null),ec=0,ql=!1,25<=O)throw Error(n(301));if(O+=1,si=ma=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ae.H=eh,_=l(h,g)}while(ql);return _}function Fu(){var a=ae.H,l=a.useState()[0];return l=typeof l.then=="function"?Ld(l):l,a=a.useState()[0],(ma!==null?ma.memoizedState:null)!==a&&(bn.flags|=1024),l}function nA(){var a=Qo!==0;return Qo=0,a}function aA(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function iA(a){if(bd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}bd=!1}xc=0,si=ma=bn=null,ql=!1,ec=Qo=0,aa=null}function ol(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?bn.memoizedState=si=a:si=si.next=a,si}function Ei(){if(ma===null){var a=bn.alternate;a=a!==null?a.memoizedState:null}else a=ma.next;var l=si===null?bn.memoizedState:si.next;if(l!==null)si=l,ma=a;else{if(a===null)throw bn.alternate===null?Error(n(467)):Error(n(310));ma=a,a={memoizedState:ma.memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},si===null?bn.memoizedState=si=a:si=si.next=a}return si}function oA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ld(a){var l=ec;return ec+=1,aa===null&&(aa=[]),a=Ce(aa,a,l),l=bn,(si===null?l.memoizedState:si.next)===null&&(l=l.alternate,ae.H=l===null||l.memoizedState===null?$h:qA),a}function lA(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ld(a);if(a.$$typeof===K)return ti(a)}throw Error(n(438,String(a)))}function Il(a){var l=null,h=bn.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var g=bn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(O){return O.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=oA(),bn.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),g=0;g<a;g++)h[g]=Ne;return l.index++,h}function Oc(a,l){return typeof l=="function"?l(a):l}function cA(a){var l=Ei();return QA(l,ma,a)}function QA(a,l,h){var g=a.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=h;var O=a.baseQueue,_=g.pending;if(_!==null){if(O!==null){var be=O.next;O.next=_.next,_.next=be}l.baseQueue=O=_,g.pending=null}if(_=a.baseState,O===null)a.memoizedState=_;else{l=O.next;var He=be=null,mt=null,rs=l,Ss=!1;do{var Ls=rs.lane&-536870913;if(Ls!==rs.lane?(Hn&Ls)===Ls:(xc&Ls)===Ls){var as=rs.revertLane;if(as===0)mt!==null&&(mt=mt.next={lane:0,revertLane:0,gesture:null,action:rs.action,hasEagerState:rs.hasEagerState,eagerState:rs.eagerState,next:null}),Ls===at&&(Ss=!0);else if((xc&as)===as){rs=rs.next,as===at&&(Ss=!0);continue}else Ls={lane:0,revertLane:rs.revertLane,gesture:null,action:rs.action,hasEagerState:rs.hasEagerState,eagerState:rs.eagerState,next:null},mt===null?(He=mt=Ls,be=_):mt=mt.next=Ls,bn.lanes|=as,U|=as;Ls=rs.action,bc&&h(_,Ls),_=rs.hasEagerState?rs.eagerState:h(_,Ls)}else as={lane:Ls,revertLane:rs.revertLane,gesture:rs.gesture,action:rs.action,hasEagerState:rs.hasEagerState,eagerState:rs.eagerState,next:null},mt===null?(He=mt=as,be=_):mt=mt.next=as,bn.lanes|=Ls,U|=Ls;rs=rs.next}while(rs!==null&&rs!==l);if(mt===null?be=_:mt.next=He,!lr(_,a.memoizedState)&&(Oe=!0,Ss&&(h=ft,h!==null)))throw h;a.memoizedState=_,a.baseState=be,a.baseQueue=mt,g.lastRenderedState=_}return O===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function _A(a){var l=Ei(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=h.dispatch,O=h.pending,_=l.memoizedState;if(O!==null){h.pending=null;var be=O=O.next;do _=a(_,be.action),be=be.next;while(be!==O);lr(_,l.memoizedState)||(Oe=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),h.lastRenderedState=_}return[_,g]}function Qh(a,l,h){var g=bn,O=Ei(),_=dr;if(_){if(h===void 0)throw Error(n(407));h=h()}else h=l();var be=!lr((ma||O).memoizedState,h);if(be&&(O.memoizedState=h,Oe=!0),O=O.queue,Ou(dA.bind(null,g,O,a),[a]),O.getSnapshot!==l||be||si!==null&&si.memoizedState.tag&1){if(g.flags|=2048,Lu(9,{destroy:void 0},PA.bind(null,g,O,h,l),null),pa===null)throw Error(n(349));_||(xc&127)!==0||_h(g,l,h)}return h}function _h(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=bn.updateQueue,l===null?(l=oA(),bn.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function PA(a,l,h,g){l.value=h,l.getSnapshot=g,tc(l)&&vc(a)}function dA(a,l,h){return h(function(){tc(l)&&vc(a)})}function tc(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!lr(a,h)}catch{return!0}}function vc(a){var l=$l(a,2);l!==null&&vi(l,a,2)}function bu(a){var l=ol();if(typeof a=="function"){var h=a;if(a=h(),bc){vs(!0);try{h()}finally{vs(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:a},l}function uA(a,l,h,g){return a.baseState=h,QA(a,ma,typeof g=="function"?g:Oc)}function HA(a,l,h,g,O){if(jd(a))throw Error(n(485));if(a=l.action,a!==null){var _={payload:O,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(be){_.listeners.push(be)}};ae.T!==null?h(!0):_.isTransition=!1,g(_),h=l.pending,h===null?(_.next=l.pending=_,Mu(l,_)):(_.next=h.next,l.pending=h.next=_)}}function Mu(a,l){var h=l.action,g=l.payload,O=a.state;if(l.isTransition){var _=ae.T,be={};ae.T=be;try{var He=h(O,g),mt=ae.S;mt!==null&&mt(be,He),to(a,l,He)}catch(rs){zA(a,l,rs)}finally{_!==null&&be.types!==null&&(_.types=be.types),ae.T=_}}else try{_=h(O,g),to(a,l,_)}catch(rs){zA(a,l,rs)}}function to(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){Jd(a,l,g)},function(g){return zA(a,l,g)}):Jd(a,l,h)}function Jd(a,l,h){l.status="fulfilled",l.value=h,VA(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,Mu(a,h)))}function zA(a,l,h){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=h,VA(l),l=l.next;while(l!==g)}a.action=null}function VA(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function AA(a,l){return l}function vu(a,l){if(dr){var h=pa.formState;if(h!==null){e:{var g=bn;if(dr){if(_a){t:{for(var O=_a,_=gl;O.nodeType!==8;){if(!_){O=null;break t}if(O=su(O.nextSibling),O===null){O=null;break t}}_=O.data,O=_==="F!"||_==="F"?O:null}if(O){_a=su(O.nextSibling),g=O.data==="F!";break e}}Do(g)}g=!1}g&&(l=h[0])}}return h=ol(),h.memoizedState=h.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AA,lastRenderedState:l},h.queue=g,h=JA.bind(null,bn,g),g.dispatch=h,g=bu(!1),_=Zd.bind(null,bn,!1,g.queue),g=ol(),O={state:l,dispatch:null,action:a,pending:null},g.queue=O,h=HA.bind(null,bn,O,_,h),O.dispatch=h,g.memoizedState=a,[l,h,!1]}function KA(a){var l=Ei();return Nf(l,ma,a)}function Nf(a,l,h){if(l=QA(a,l,AA)[0],a=cA(Oc)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Ld(l)}catch(be){throw be===Ua?Ba:be}else g=l;l=Ei();var O=l.queue,_=O.dispatch;return h!==l.memoizedState&&(bn.flags|=2048,Lu(9,{destroy:void 0},p0.bind(null,O,h),null)),[g,_,a]}function p0(a,l){a.action=l}function Ph(a){var l=Ei(),h=ma;if(h!==null)return Nf(l,h,a);Ei(),l=l.memoizedState,h=Ei();var g=h.queue.dispatch;return h.memoizedState=a,[l,g,!1]}function Lu(a,l,h,g){return a={tag:a,create:h,deps:g,inst:l,next:null},l=bn.updateQueue,l===null&&(l=oA(),bn.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,l.lastEffect=a),a}function Cf(){return Ei().memoizedState}function $A(a,l,h,g){var O=ol();bn.flags|=a,O.memoizedState=Lu(1|l,{destroy:void 0},h,g===void 0?null:g)}function GA(a,l,h,g){var O=Ei();g=g===void 0?null:g;var _=O.memoizedState.inst;ma!==null&&g!==null&&Xi(g,ma.memoizedState.deps)?O.memoizedState=Lu(l,_,h,g):(bn.flags|=a,O.memoizedState=Lu(1|l,_,h,g))}function Hh(a,l){$A(8390656,8,a,l)}function Ou(a,l){GA(2048,8,a,l)}function WA(a){bn.flags|=4;var l=bn.updateQueue;if(l===null)l=oA(),bn.updateQueue=l,l.events=[a];else{var h=l.events;h===null?l.events=[a]:h.push(a)}}function yu(a){var l=Ei().memoizedState;return WA({ref:l,nextImpl:a}),function(){if((va&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function YA(a,l){return GA(4,2,a,l)}function Bf(a,l){return GA(4,4,a,l)}function zh(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function kf(a,l,h){h=h!=null?h.concat([a]):null,GA(4,4,zh.bind(null,l,a),h)}function Vh(){}function hA(a,l){var h=Ei();l=l===void 0?null:l;var g=h.memoizedState;return l!==null&&Xi(l,g[1])?g[0]:(h.memoizedState=[a,l],a)}function fA(a,l){var h=Ei();l=l===void 0?null:l;var g=h.memoizedState;if(l!==null&&Xi(l,g[1]))return g[0];if(g=a(),bc){vs(!0);try{a()}finally{vs(!1)}}return h.memoizedState=[g,l],g}function vd(a,l,h){return h===void 0||(xc&1073741824)!==0&&(Hn&261930)===0?a.memoizedState=l:(a.memoizedState=h,a=jo(),bn.lanes|=a,U|=a,h)}function yc(a,l,h,g){return lr(h,l)?h:Fr.current!==null?(a=vd(a,h,g),lr(a,l)||(Oe=!0),a):(xc&42)===0||(xc&1073741824)!==0&&(Hn&261930)===0?(Oe=!0,a.memoizedState=h):(a=jo(),bn.lanes|=a,U|=a,l)}function Ic(a,l,h,g,O){var _=de.p;de.p=_!==0&&8>_?_:8;var be=ae.T,He={};ae.T=He,Zd(a,!1,l,h);try{var mt=O(),rs=ae.S;if(rs!==null&&rs(He,mt),mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var Ss=Os(mt,g);wd(a,l,Ss,rn(a))}else wd(a,l,g,rn(a))}catch(Ls){wd(a,l,{then:function(){},status:"rejected",reason:Ls},rn())}finally{de.p=_,be!==null&&He.types!==null&&(be.types=He.types),ae.T=be}}function Sf(){}function mA(a,l,h,g){if(a.tag!==5)throw Error(n(476));var O=yd(a).queue;Ic(a,O,l,oe,h===null?Sf:function(){return wc(a),h(g)})}function yd(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:oe},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function wc(a){var l=yd(a);l.next===null&&(l=a.alternate.memoizedState),wd(a,l.next.queue,{},rn())}function Iu(){return ti(j0)}function Kh(){return Ei().memoizedState}function XA(){return Ei().memoizedState}function Ef(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=rn();a=Wr(h);var g=ln(l,a,h);g!==null&&(vi(g,l,h),En(g,l,h)),l={cache:ed()},a.payload=l;return}l=l.return}}function Tf(a,l,h){var g=rn();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},jd(a)?Du(l,h):(h=cd(a,l,h,g),h!==null&&(vi(h,a,g),ZA(h,l,g)))}function JA(a,l,h){var g=rn();wd(a,l,h,g)}function wd(a,l,h,g){var O={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(jd(a))Du(l,O);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var be=l.lastRenderedState,He=_(be,h);if(O.hasEagerState=!0,O.eagerState=He,lr(He,be))return Uc(a,l,O,0),pa===null&&mc(),!1}catch{}finally{}if(h=cd(a,l,O,g),h!==null)return vi(h,a,g),ZA(h,l,g),!0}return!1}function Zd(a,l,h,g){if(g={lane:2,revertLane:cx(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},jd(a)){if(l)throw Error(n(479))}else l=cd(a,h,g,2),l!==null&&vi(l,a,2)}function jd(a){var l=a.alternate;return a===bn||l!==null&&l===bn}function Du(a,l){ql=bd=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function ZA(a,l,h){if((h&4194048)!==0){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,Lr(a,h)}}var pA={readContext:ti,use:lA,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};pA.useEffectEvent=_n;var $h={readContext:ti,use:lA,useCallback:function(a,l){return ol().memoizedState=[a,l===void 0?null:l],a},useContext:ti,useEffect:Hh,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,$A(4194308,4,zh.bind(null,l,a),h)},useLayoutEffect:function(a,l){return $A(4194308,4,a,l)},useInsertionEffect:function(a,l){$A(4,2,a,l)},useMemo:function(a,l){var h=ol();l=l===void 0?null:l;var g=a();if(bc){vs(!0);try{a()}finally{vs(!1)}}return h.memoizedState=[g,l],g},useReducer:function(a,l,h){var g=ol();if(h!==void 0){var O=h(l);if(bc){vs(!0);try{h(l)}finally{vs(!1)}}}else O=l;return g.memoizedState=g.baseState=O,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:O},g.queue=a,a=a.dispatch=Tf.bind(null,bn,a),[g.memoizedState,a]},useRef:function(a){var l=ol();return a={current:a},l.memoizedState=a},useState:function(a){a=bu(a);var l=a.queue,h=JA.bind(null,bn,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:Vh,useDeferredValue:function(a,l){var h=ol();return vd(h,a,l)},useTransition:function(){var a=bu(!1);return a=Ic.bind(null,bn,a.queue,!0,!1),ol().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var g=bn,O=ol();if(dr){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),pa===null)throw Error(n(349));(Hn&127)!==0||_h(g,l,h)}O.memoizedState=h;var _={value:h,getSnapshot:l};return O.queue=_,Hh(dA.bind(null,g,_,a),[a]),g.flags|=2048,Lu(9,{destroy:void 0},PA.bind(null,g,_,h,l),null),h},useId:function(){var a=ol(),l=pa.identifierPrefix;if(dr){var h=tl,g=ml;h=(g&~(1<<32-Ms(g)-1)).toString(32)+h,l="_"+l+"R_"+h,h=Qo++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=Pa++,l="_"+l+"r_"+h.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:Iu,useFormState:vu,useActionState:vu,useOptimistic:function(a){var l=ol();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=Zd.bind(null,bn,!0,h),h.dispatch=l,[a,l]},useMemoCache:Il,useCacheRefresh:function(){return ol().memoizedState=Ef.bind(null,bn)},useEffectEvent:function(a){var l=ol(),h={impl:a};return l.memoizedState=h,function(){if((va&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},qA={readContext:ti,use:lA,useCallback:hA,useContext:ti,useEffect:Ou,useImperativeHandle:kf,useInsertionEffect:YA,useLayoutEffect:Bf,useMemo:fA,useReducer:cA,useRef:Cf,useState:function(){return cA(Oc)},useDebugValue:Vh,useDeferredValue:function(a,l){var h=Ei();return yc(h,ma.memoizedState,a,l)},useTransition:function(){var a=cA(Oc)[0],l=Ei().memoizedState;return[typeof a=="boolean"?a:Ld(a),l]},useSyncExternalStore:Qh,useId:Kh,useHostTransitionStatus:Iu,useFormState:KA,useActionState:KA,useOptimistic:function(a,l){var h=Ei();return uA(h,ma,a,l)},useMemoCache:Il,useCacheRefresh:XA};qA.useEffectEvent=yu;var eh={readContext:ti,use:lA,useCallback:hA,useContext:ti,useEffect:Ou,useImperativeHandle:kf,useInsertionEffect:YA,useLayoutEffect:Bf,useMemo:fA,useReducer:_A,useRef:Cf,useState:function(){return _A(Oc)},useDebugValue:Vh,useDeferredValue:function(a,l){var h=Ei();return ma===null?vd(h,a,l):yc(h,ma.memoizedState,a,l)},useTransition:function(){var a=_A(Oc)[0],l=Ei().memoizedState;return[typeof a=="boolean"?a:Ld(a),l]},useSyncExternalStore:Qh,useId:Kh,useHostTransitionStatus:Iu,useFormState:Ph,useActionState:Ph,useOptimistic:function(a,l){var h=Ei();return ma!==null?uA(h,ma,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:Il,useCacheRefresh:XA};eh.useEffectEvent=yu;function th(a,l,h,g){l=a.memoizedState,h=h(g,l),h=h==null?l:m({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var sh={enqueueSetState:function(a,l,h){a=a._reactInternals;var g=rn(),O=Wr(g);O.payload=l,h!=null&&(O.callback=h),l=ln(a,O,g),l!==null&&(vi(l,a,g),En(l,a,g))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var g=rn(),O=Wr(g);O.tag=1,O.payload=l,h!=null&&(O.callback=h),l=ln(a,O,g),l!==null&&(vi(l,a,g),En(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=rn(),g=Wr(h);g.tag=2,l!=null&&(g.callback=l),l=ln(a,g,h),l!==null&&(vi(l,a,h),En(l,a,h))}};function rh(a,l,h,g,O,_,be){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,_,be):l.prototype&&l.prototype.isPureReactComponent?!Fn(h,g)||!Fn(O,_):!0}function Gh(a,l,h,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==a&&sh.enqueueReplaceState(l,l.state,null)}function Od(a,l){var h=l;if("ref"in l){h={};for(var g in l)g!=="ref"&&(h[g]=l[g])}if(a=a.defaultProps){h===l&&(h=m({},h));for(var O in a)h[O]===void 0&&(h[O]=a[O])}return h}function gA(a){Tc(a)}function xA(a){console.error(a)}function bA(a){Tc(a)}function Ru(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function B(a,l,h){try{var g=a.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function D(a,l,h){return h=Wr(h),h.tag=3,h.payload={element:null},h.callback=function(){Ru(a,l)},h}function se(a){return a=Wr(a),a.tag=3,a}function he(a,l,h,g){var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var _=g.value;a.payload=function(){return O(_)},a.callback=function(){B(l,h,g)}}var be=h.stateNode;be!==null&&typeof be.componentDidCatch=="function"&&(a.callback=function(){B(l,h,g),typeof O!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var He=g.stack;this.componentDidCatch(g.value,{componentStack:He!==null?He:""})})}function Ue(a,l,h,g,O){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=h.alternate,l!==null&&gc(l,h,O,!0),h=Yi.current,h!==null){switch(h.tag){case 31:case 13:return vo===null?Cd():h.alternate===null&&F===0&&(F=3),h.flags&=-257,h.flags|=65536,h.lanes=O,g===Si?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([g]):l.add(g),ix(a,g,O)),!1;case 22:return h.flags|=65536,g===Si?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([g]):h.add(g)),ix(a,g,O)),!1}throw Error(n(435,h.tag))}return ix(a,g,O),Cd(),!1}if(dr)return l=Yi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=O,g!==fd&&(a=Error(n(422),{cause:g}),xl(Gi(a,h)))):(g!==fd&&(l=Error(n(423),{cause:g}),xl(Gi(l,h))),a=a.current.alternate,a.flags|=65536,O&=-O,a.lanes|=O,g=Gi(g,h),O=D(a.stateNode,g,O),sr(a,O),F!==4&&(F=2)),!1;var _=Error(n(520),{cause:g});if(_=Gi(_,h),qe===null?qe=[_]:qe.push(_),F!==4&&(F=2),l===null)return!0;g=Gi(g,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=O&-O,h.lanes|=a,a=D(h.stateNode,g,a),sr(h,a),!1;case 1:if(l=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ar===null||!Ar.has(_))))return h.flags|=65536,O&=-O,h.lanes|=O,O=se(O),he(O,a,h,g),sr(h,O),!1}h=h.return}while(h!==null);return!1}var Ie=Error(n(461)),Oe=!1;function Pe(a,l,h,g){l.child=a===null?Qs(l,null,h,g):or(l,a.child,h,g)}function Ke(a,l,h,g,O){h=h.render;var _=l.ref;if("ref"in g){var be={};for(var He in g)He!=="ref"&&(be[He]=g[He])}else be=g;return nl(l),g=sd(a,l,h,be,_,O),He=nA(),a!==null&&!Oe?(aA(a,l,O),Vn(a,l,O)):(dr&&He&&Ol(l),l.flags|=1,Pe(a,l,g,O),l.child)}function nt(a,l,h,g,O){if(a===null){var _=h.type;return typeof _=="function"&&!un(_)&&_.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=_,kt(a,l,_,g,O)):(a=Wl(h.type,null,g,l,l.mode,O),a.ref=l.ref,a.return=l,l.child=a)}if(_=a.child,!ri(a,O)){var be=_.memoizedProps;if(h=h.compare,h=h!==null?h:Fn,h(be,g)&&a.ref===l.ref)return Vn(a,l,O)}return l.flags|=1,a=Ml(_,g),a.ref=l.ref,a.return=l,l.child=a}function kt(a,l,h,g,O){if(a!==null){var _=a.memoizedProps;if(Fn(_,g)&&a.ref===l.ref)if(Oe=!1,l.pendingProps=g=_,ri(a,O))(a.flags&131072)!==0&&(Oe=!0);else return l.lanes=a.lanes,Vn(a,l,O)}return Bs(a,l,h,g,O)}function $t(a,l,h,g){var O=g.children,_=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|h:h,a!==null){for(g=l.child=a.child,O=0;g!==null;)O=O|g.lanes|g.childLanes,g=g.sibling;g=O&~_}else g=0,l.child=null;return Ut(a,l,_,h,g)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&jn(l,_!==null?_.cachePool:null),_!==null?bo(l,_):Zl(),td(l);else return g=l.lanes=536870912,Ut(a,l,_!==null?_.baseLanes|h:h,h,g)}else _!==null?(jn(l,_.cachePool),bo(l,_),al(),l.memoizedState=null):(a!==null&&jn(l,null),Zl(),al());return Pe(a,l,O,h),l.child}function st(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Ut(a,l,h,g,O){var _=fn();return _=_===null?null:{parent:gi._currentValue,pool:_},l.memoizedState={baseLanes:h,cachePool:_},a!==null&&jn(l,null),Zl(),td(l),a!==null&&gc(a,l,g,!0),l.childLanes=O,null}function Pt(a,l){return l=Mn({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function bs(a,l,h){return or(l,a.child,null,h),a=Pt(l,l.pendingProps),a.flags|=2,il(l),l.memoizedState=null,a}function Jt(a,l,h){var g=l.pendingProps,O=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(dr){if(g.mode==="hidden")return a=Pt(l,g),l.lanes=536870912,st(null,a);if(Uu(l),(a=_a)?(a=sy(a,gl),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Jl!==null?{id:ml,overflow:tl}:null,retryLane:536870912,hydrationErrors:null},h=$i(a),h.return=l,l.child=h,Qi=l,_a=null)):a=null,a===null)throw Do(l);return l.lanes=536870912,null}return Pt(l,g)}var _=a.memoizedState;if(_!==null){var be=_.dehydrated;if(Uu(l),O)if(l.flags&256)l.flags&=-257,l=bs(a,l,h);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(n(558));else if(Oe||gc(a,l,h,!1),O=(h&a.childLanes)!==0,Oe||O){if(g=pa,g!==null&&(be=la(g,h),be!==0&&be!==_.retryLane))throw _.retryLane=be,$l(a,be),vi(g,a,be),Ie;Cd(),l=bs(a,l,h)}else a=_.treeContext,_a=su(be.nextSibling),Qi=l,dr=!0,Mc=null,gl=!1,a!==null&&hd(l,a),l=Pt(l,g),l.flags|=4096;return l}return a=Ml(a.child,{mode:g.mode,children:g.children}),a.ref=l.ref,l.child=a,a.return=l,a}function ys(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function Bs(a,l,h,g,O){return nl(l),h=sd(a,l,h,g,void 0,O),g=nA(),a!==null&&!Oe?(aA(a,l,O),Vn(a,l,O)):(dr&&g&&Ol(l),l.flags|=1,Pe(a,l,h,O),l.child)}function Hs(a,l,h,g,O,_){return nl(l),l.updateQueue=null,h=Md(l,g,h,O),xu(a),g=nA(),a!==null&&!Oe?(aA(a,l,_),Vn(a,l,_)):(dr&&g&&Ol(l),l.flags|=1,Pe(a,l,h,_),l.child)}function Ds(a,l,h,g,O){if(nl(l),l.stateNode===null){var _=go,be=h.contextType;typeof be=="object"&&be!==null&&(_=ti(be)),_=new h(g,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=sh,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=g,_.state=l.memoizedState,_.refs={},Fa(l),be=h.contextType,_.context=typeof be=="object"&&be!==null?ti(be):go,_.state=l.memoizedState,be=h.getDerivedStateFromProps,typeof be=="function"&&(th(l,h,be,g),_.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(be=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),be!==_.state&&sh.enqueueReplaceState(_,_.state,null),Vr(l,g,_,O),Ma(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){_=l.stateNode;var He=l.memoizedProps,mt=Od(h,He);_.props=mt;var rs=_.context,Ss=h.contextType;be=go,typeof Ss=="object"&&Ss!==null&&(be=ti(Ss));var Ls=h.getDerivedStateFromProps;Ss=typeof Ls=="function"||typeof _.getSnapshotBeforeUpdate=="function",He=l.pendingProps!==He,Ss||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(He||rs!==be)&&Gh(l,_,g,be),gs=!1;var as=l.memoizedState;_.state=as,Vr(l,g,_,O),Ma(),rs=l.memoizedState,He||as!==rs||gs?(typeof Ls=="function"&&(th(l,h,Ls,g),rs=l.memoizedState),(mt=gs||rh(l,h,mt,g,as,rs,be))?(Ss||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=rs),_.props=g,_.state=rs,_.context=be,g=mt):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{_=l.stateNode,An(a,l),be=l.memoizedProps,Ss=Od(h,be),_.props=Ss,Ls=l.pendingProps,as=_.context,rs=h.contextType,mt=go,typeof rs=="object"&&rs!==null&&(mt=ti(rs)),He=h.getDerivedStateFromProps,(rs=typeof He=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(be!==Ls||as!==mt)&&Gh(l,_,g,mt),gs=!1,as=l.memoizedState,_.state=as,Vr(l,g,_,O),Ma();var cs=l.memoizedState;be!==Ls||as!==cs||gs||a!==null&&a.dependencies!==null&&Jc(a.dependencies)?(typeof He=="function"&&(th(l,h,He,g),cs=l.memoizedState),(Ss=gs||rh(l,h,Ss,g,as,cs,mt)||a!==null&&a.dependencies!==null&&Jc(a.dependencies))?(rs||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,cs,mt),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,cs,mt)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||be===a.memoizedProps&&as===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||be===a.memoizedProps&&as===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=cs),_.props=g,_.state=cs,_.context=mt,g=Ss):(typeof _.componentDidUpdate!="function"||be===a.memoizedProps&&as===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||be===a.memoizedProps&&as===a.memoizedState||(l.flags|=1024),g=!1)}return _=g,ys(a,l),g=(l.flags&128)!==0,_||g?(_=l.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,a!==null&&g?(l.child=or(l,a.child,null,O),l.child=or(l,null,h,O)):Pe(a,l,h,O),l.memoizedState=_.state,a=l.child):a=Vn(a,l,O),a}function Kr(a,l,h,g){return Wi(),l.flags|=256,Pe(a,l,h,g),l.child}var Nr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pn(a){return{baseLanes:a,cachePool:ra()}}function Pr(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=Fe),a}function ca(a,l,h){var g=l.pendingProps,O=!1,_=(l.flags&128)!==0,be;if((be=_)||(be=a!==null&&a.memoizedState===null?!1:(bi.current&2)!==0),be&&(O=!0,l.flags&=-129),be=(l.flags&32)!==0,l.flags&=-33,a===null){if(dr){if(O?Ga(l):al(),(a=_a)?(a=sy(a,gl),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Jl!==null?{id:ml,overflow:tl}:null,retryLane:536870912,hydrationErrors:null},h=$i(a),h.return=l,l.child=h,Qi=l,_a=null)):a=null,a===null)throw Do(l);return wx(a)?l.lanes=32:l.lanes=536870912,null}var He=g.children;return g=g.fallback,O?(al(),O=l.mode,He=Mn({mode:"hidden",children:He},O),g=Fc(g,O,h,null),He.return=l,g.return=l,He.sibling=g,l.child=He,g=l.child,g.memoizedState=Pn(h),g.childLanes=Pr(a,be,h),l.memoizedState=Nr,st(null,g)):(Ga(l),so(l,He))}var mt=a.memoizedState;if(mt!==null&&(He=mt.dehydrated,He!==null)){if(_)l.flags&256?(Ga(l),l.flags&=-257,l=_r(a,l,h)):l.memoizedState!==null?(al(),l.child=a.child,l.flags|=128,l=null):(al(),He=g.fallback,O=l.mode,g=Mn({mode:"visible",children:g.children},O),He=Fc(He,O,h,null),He.flags|=2,g.return=l,He.return=l,g.sibling=He,l.child=g,or(l,a.child,null,h),g=l.child,g.memoizedState=Pn(h),g.childLanes=Pr(a,be,h),l.memoizedState=Nr,l=st(null,g));else if(Ga(l),wx(He)){if(be=He.nextSibling&&He.nextSibling.dataset,be)var rs=be.dgst;be=rs,g=Error(n(419)),g.stack="",g.digest=be,xl({value:g,source:null,stack:null}),l=_r(a,l,h)}else if(Oe||gc(a,l,h,!1),be=(h&a.childLanes)!==0,Oe||be){if(be=pa,be!==null&&(g=la(be,h),g!==0&&g!==mt.retryLane))throw mt.retryLane=g,$l(a,g),vi(be,a,g),Ie;yx(He)||Cd(),l=_r(a,l,h)}else yx(He)?(l.flags|=192,l.child=a.child,l=null):(a=mt.treeContext,_a=su(He.nextSibling),Qi=l,dr=!0,Mc=null,gl=!1,a!==null&&hd(l,a),l=so(l,g.children),l.flags|=4096);return l}return O?(al(),He=g.fallback,O=l.mode,mt=a.child,rs=mt.sibling,g=Ml(mt,{mode:"hidden",children:g.children}),g.subtreeFlags=mt.subtreeFlags&65011712,rs!==null?He=Ml(rs,He):(He=Fc(He,O,h,null),He.flags|=2),He.return=l,g.return=l,g.sibling=He,l.child=g,st(null,g),g=l.child,He=a.child.memoizedState,He===null?He=Pn(h):(O=He.cachePool,O!==null?(mt=gi._currentValue,O=O.parent!==mt?{parent:mt,pool:mt}:O):O=ra(),He={baseLanes:He.baseLanes|h,cachePool:O}),g.memoizedState=He,g.childLanes=Pr(a,be,h),l.memoizedState=Nr,st(a.child,g)):(Ga(l),h=a.child,a=h.sibling,h=Ml(h,{mode:"visible",children:g.children}),h.return=l,h.sibling=null,a!==null&&(be=l.deletions,be===null?(l.deletions=[a],l.flags|=16):be.push(a)),l.child=h,l.memoizedState=null,h)}function so(a,l){return l=Mn({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Mn(a,l){return a=Oo(22,a,null,l),a.lanes=0,a}function _r(a,l,h){return or(l,a.child,null,h),a=so(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function ur(a,l,h){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),pd(a.return,l,h)}function _i(a,l,h,g,O,_){var be=a.memoizedState;be===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:O,treeForkCount:_}:(be.isBackwards=l,be.rendering=null,be.renderingStartTime=0,be.last=g,be.tail=h,be.tailMode=O,be.treeForkCount=_)}function Ln(a,l,h){var g=l.pendingProps,O=g.revealOrder,_=g.tail;g=g.children;var be=bi.current,He=(be&2)!==0;if(He?(be=be&1|2,l.flags|=128):be&=1,we(bi,be),Pe(a,l,g,h),g=dr?Xl:0,!He&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ur(a,h,l);else if(a.tag===19)ur(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(O){case"forwards":for(h=l.child,O=null;h!==null;)a=h.alternate,a!==null&&Xd(a)===null&&(O=h),h=h.sibling;h=O,h===null?(O=l.child,l.child=null):(O=h.sibling,h.sibling=null),_i(l,!1,O,h,_,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,O=l.child,l.child=null;O!==null;){if(a=O.alternate,a!==null&&Xd(a)===null){l.child=O;break}a=O.sibling,O.sibling=h,h=O,O=a}_i(l,!0,h,null,_,g);break;case"together":_i(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function Vn(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),U|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(gc(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=Ml(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Ml(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function ri(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Jc(a)))}function yo(a,l,h){switch(l.tag){case 3:Ve(l,l.stateNode.containerInfo),Ro(l,gi,a.memoizedState.cache),Wi();break;case 27:case 5:ut(l);break;case 4:Ve(l,l.stateNode.containerInfo);break;case 10:Ro(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Uu(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(Ga(l),l.flags|=128,null):(h&l.child.childLanes)!==0?ca(a,l,h):(Ga(l),a=Vn(a,l,h),a!==null?a.sibling:null);Ga(l);break;case 19:var O=(a.flags&128)!==0;if(g=(h&l.childLanes)!==0,g||(gc(a,l,h,!1),g=(h&l.childLanes)!==0),O){if(g)return Ln(a,l,h);l.flags|=128}if(O=l.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),we(bi,bi.current),g)break;return null;case 22:return l.lanes=0,$t(a,l,h,l.pendingProps);case 24:Ro(l,gi,a.memoizedState.cache)}return Vn(a,l,h)}function _o(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)Oe=!0;else{if(!ri(a,h)&&(l.flags&128)===0)return Oe=!1,yo(a,l,h);Oe=(a.flags&131072)!==0}else Oe=!1,dr&&(l.flags&1048576)!==0&&fu(l,Xl,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(a=P(l.elementType),l.type=a,typeof a=="function")un(a)?(g=Od(a,g),l.tag=1,l=Ds(null,l,a,g,h)):(l.tag=0,l=Bs(null,l,a,g,h));else{if(a!=null){var O=a.$$typeof;if(O===Z){l.tag=11,l=Ke(null,l,a,g,h);break e}else if(O===G){l.tag=14,l=nt(null,l,a,g,h);break e}}throw l=Se(a)||a,Error(n(306,l,""))}}return l;case 0:return Bs(a,l,l.type,l.pendingProps,h);case 1:return g=l.type,O=Od(g,l.pendingProps),Ds(a,l,g,O,h);case 3:e:{if(Ve(l,l.stateNode.containerInfo),a===null)throw Error(n(387));g=l.pendingProps;var _=l.memoizedState;O=_.element,An(a,l),Vr(l,g,null,h);var be=l.memoizedState;if(g=be.cache,Ro(l,gi,g),g!==_.cache&&bl(l,[gi],h,!0),Ma(),g=be.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:be.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=Kr(a,l,g,h);break e}else if(g!==O){O=Gi(Error(n(424)),l),xl(O),l=Kr(a,l,g,h);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(_a=su(a.firstChild),Qi=l,dr=!0,Mc=null,gl=!0,h=Qs(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Wi(),g===O){l=Vn(a,l,h);break e}Pe(a,l,g,h)}l=l.child}return l;case 26:return ys(a,l),a===null?(h=ly(l.type,null,l.pendingProps,null))?l.memoizedState=h:dr||(h=l.type,a=l.pendingProps,g=Em(ge.current).createElement(h),g[Nn]=l,g[ga]=a,Nc(g,h,a),Ta(g),l.stateNode=g):l.memoizedState=ly(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return ut(l),a===null&&dr&&(g=l.stateNode=ay(l.type,l.pendingProps,ge.current),Qi=l,gl=!0,O=_a,oh(l.type)?(jx=O,_a=su(g.firstChild)):_a=O),Pe(a,l,l.pendingProps.children,h),ys(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&dr&&((O=g=_a)&&(g=oC(g,l.type,l.pendingProps,gl),g!==null?(l.stateNode=g,Qi=l,_a=su(g.firstChild),gl=!1,O=!0):O=!1),O||Do(l)),ut(l),O=l.type,_=l.pendingProps,be=a!==null?a.memoizedProps:null,g=_.children,xx(O,_)?g=null:be!==null&&xx(O,be)&&(l.flags|=32),l.memoizedState!==null&&(O=sd(a,l,Fu,null,null,h),j0._currentValue=O),ys(a,l),Pe(a,l,g,h),l.child;case 6:return a===null&&dr&&((a=h=_a)&&(h=lC(h,l.pendingProps,gl),h!==null?(l.stateNode=h,Qi=l,_a=null,a=!0):a=!1),a||Do(l)),null;case 13:return ca(a,l,h);case 4:return Ve(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=or(l,null,g,h):Pe(a,l,g,h),l.child;case 11:return Ke(a,l,l.type,l.pendingProps,h);case 7:return Pe(a,l,l.pendingProps,h),l.child;case 8:return Pe(a,l,l.pendingProps.children,h),l.child;case 12:return Pe(a,l,l.pendingProps.children,h),l.child;case 10:return g=l.pendingProps,Ro(l,l.type,g.value),Pe(a,l,g.children,h),l.child;case 9:return O=l.type._context,g=l.pendingProps.children,nl(l),O=ti(O),g=g(O),l.flags|=1,Pe(a,l,g,h),l.child;case 14:return nt(a,l,l.type,l.pendingProps,h);case 15:return kt(a,l,l.type,l.pendingProps,h);case 19:return Ln(a,l,h);case 31:return Jt(a,l,h);case 22:return $t(a,l,h,l.pendingProps);case 24:return nl(l),g=ti(gi),a===null?(O=fn(),O===null&&(O=pa,_=ed(),O.pooledCache=_,_.refCount++,_!==null&&(O.pooledCacheLanes|=h),O=_),l.memoizedState={parent:g,cache:O},Fa(l),Ro(l,gi,O)):((a.lanes&h)!==0&&(An(a,l),Vr(l,null,null,h),Ma()),O=a.memoizedState,_=l.memoizedState,O.parent!==g?(O={parent:g,cache:g},l.memoizedState=O,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=O),Ro(l,gi,g)):(g=_.cache,Ro(l,gi,g),g!==O.cache&&bl(l,[gi],h,!0))),Pe(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function La(a){a.flags|=4}function Po(a,l,h,g,O){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(O&335544128)===O)if(a.stateNode.complete)a.flags|=8192;else if(Nu())a.flags|=8192;else throw Qe=Si,xi}else a.flags&=-16777217}function yl(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!hy(l))if(Nu())a.flags|=8192;else throw Qe=Si,xi}function Pi(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Ns():536870912,a.lanes|=l,Ze|=l)}function ia(a,l){if(!dr)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function cn(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(l)for(var O=a.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags&65011712,g|=O.flags&65011712,O.return=a,O=O.sibling;else for(O=a.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags,g|=O.flags,O.return=a,O=O.sibling;return a.subtreeFlags|=g,a.childLanes=h,l}function Ji(a,l,h){var g=l.pendingProps;switch(mu(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(l),null;case 1:return cn(l),null;case 3:return h=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),rl(gi),Nt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(md(l)?La(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Xc())),cn(l),null;case 26:var O=l.type,_=l.memoizedState;return a===null?(La(l),_!==null?(cn(l),yl(l,_)):(cn(l),Po(l,O,null,g,h))):_?_!==a.memoizedState?(La(l),cn(l),yl(l,_)):(cn(l),l.flags&=-16777217):(a=a.memoizedProps,a!==g&&La(l),cn(l),Po(l,O,a,g,h)),null;case 27:if(et(l),h=ge.current,O=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&La(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return cn(l),null}a=ue.current,md(l)?Lc(l):(a=ay(O,g,h),l.stateNode=a,La(l))}return cn(l),null;case 5:if(et(l),O=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&La(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return cn(l),null}if(_=ue.current,md(l))Lc(l);else{var be=Em(ge.current);switch(_){case 1:_=be.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:_=be.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":_=be.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":_=be.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":_=be.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof g.is=="string"?be.createElement("select",{is:g.is}):be.createElement("select"),g.multiple?_.multiple=!0:g.size&&(_.size=g.size);break;default:_=typeof g.is=="string"?be.createElement(O,{is:g.is}):be.createElement(O)}}_[Nn]=l,_[ga]=g;e:for(be=l.child;be!==null;){if(be.tag===5||be.tag===6)_.appendChild(be.stateNode);else if(be.tag!==4&&be.tag!==27&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===l)break e;for(;be.sibling===null;){if(be.return===null||be.return===l)break e;be=be.return}be.sibling.return=be.return,be=be.sibling}l.stateNode=_;e:switch(Nc(_,O,g),O){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&La(l)}}return cn(l),Po(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,h),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&La(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(a=ge.current,md(l)){if(a=l.stateNode,h=l.memoizedProps,g=null,O=Qi,O!==null)switch(O.tag){case 27:case 5:g=O.memoizedProps}a[Nn]=l,a=!!(a.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||W1(a.nodeValue,h)),a||Do(l,!0)}else a=Em(a).createTextNode(g),a[Nn]=l,l.stateNode=a}return cn(l),null;case 31:if(h=l.memoizedState,a===null||a.memoizedState!==null){if(g=md(l),h!==null){if(a===null){if(!g)throw Error(n(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Nn]=l}else Wi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;cn(l),a=!1}else h=Xc(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return l.flags&256?(il(l),l):(il(l),null);if((l.flags&128)!==0)throw Error(n(558))}return cn(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(O=md(l),g!==null&&g.dehydrated!==null){if(a===null){if(!O)throw Error(n(318));if(O=l.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Nn]=l}else Wi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;cn(l),O=!1}else O=Xc(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=O),O=!0;if(!O)return l.flags&256?(il(l),l):(il(l),null)}return il(l),(l.flags&128)!==0?(l.lanes=h,l):(h=g!==null,a=a!==null&&a.memoizedState!==null,h&&(g=l.child,O=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(O=g.alternate.memoizedState.cachePool.pool),_=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==O&&(g.flags|=2048)),h!==a&&h&&(l.child.flags|=8192),Pi(l,l.updateQueue),cn(l),null);case 4:return Nt(),a===null&&hx(l.stateNode.containerInfo),cn(l),null;case 10:return rl(l.type),cn(l),null;case 19:if(me(bi),g=l.memoizedState,g===null)return cn(l),null;if(O=(l.flags&128)!==0,_=g.rendering,_===null)if(O)ia(g,!1);else{if(F!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(_=Xd(a),_!==null){for(l.flags|=128,ia(g,!1),a=_.updateQueue,l.updateQueue=a,Pi(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)Gl(h,a),h=h.sibling;return we(bi,bi.current&1|2),dr&&pl(l,g.treeForkCount),l.child}a=a.sibling}g.tail!==null&&$s()>Cr&&(l.flags|=128,O=!0,ia(g,!1),l.lanes=4194304)}else{if(!O)if(a=Xd(_),a!==null){if(l.flags|=128,O=!0,a=a.updateQueue,l.updateQueue=a,Pi(l,a),ia(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!dr)return cn(l),null}else 2*$s()-g.renderingStartTime>Cr&&h!==536870912&&(l.flags|=128,O=!0,ia(g,!1),l.lanes=4194304);g.isBackwards?(_.sibling=l.child,l.child=_):(a=g.last,a!==null?a.sibling=_:l.child=_,g.last=_)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=$s(),a.sibling=null,h=bi.current,we(bi,O?h&1|2:h&1),dr&&pl(l,g.treeForkCount),a):(cn(l),null);case 22:case 23:return il(l),vl(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(h&536870912)!==0&&(l.flags&128)===0&&(cn(l),l.subtreeFlags&6&&(l.flags|=8192)):cn(l),h=l.updateQueue,h!==null&&Pi(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==h&&(l.flags|=2048),a!==null&&me(Ur),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),rl(gi),cn(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function Ha(a,l){switch(mu(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return rl(gi),Nt(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return et(l),null;case 31:if(l.memoizedState!==null){if(il(l),l.alternate===null)throw Error(n(340));Wi()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(il(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Wi()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return me(bi),null;case 4:return Nt(),null;case 10:return rl(l.type),null;case 22:case 23:return il(l),vl(),a!==null&&me(Ur),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return rl(gi),null;case 25:return null;default:return null}}function Ho(a,l){switch(mu(l),l.tag){case 3:rl(gi),Nt();break;case 26:case 27:case 5:et(l);break;case 4:Nt();break;case 31:l.memoizedState!==null&&il(l);break;case 13:il(l);break;case 19:me(bi);break;case 10:rl(l.type);break;case 22:case 23:il(l),vl(),a!==null&&me(Ur);break;case 24:rl(gi)}}function ll(a,l){try{var h=l.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var O=g.next;h=O;do{if((h.tag&a)===a){g=void 0;var _=h.create,be=h.inst;g=_(),be.destroy=g}h=h.next}while(h!==O)}}catch(He){yi(l,l.return,He)}}function Wa(a,l,h){try{var g=l.updateQueue,O=g!==null?g.lastEffect:null;if(O!==null){var _=O.next;g=_;do{if((g.tag&a)===a){var be=g.inst,He=be.destroy;if(He!==void 0){be.destroy=void 0,O=l;var mt=h,rs=He;try{rs()}catch(Ss){yi(O,mt,Ss)}}}g=g.next}while(g!==_)}}catch(Ss){yi(l,l.return,Ss)}}function cl(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{Qn(l,h)}catch(g){yi(a,a.return,g)}}}function Ya(a,l,h){h.props=Od(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(g){yi(a,l,g)}}function Ys(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof h=="function"?a.refCleanup=h(g):h.current=g}}catch(O){yi(a,l,O)}}function ni(a,l){var h=a.ref,g=a.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(O){yi(a,l,O)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(O){yi(a,l,O)}else h.current=null}function wo(a){var l=a.type,h=a.memoizedProps,g=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(O){yi(a,a.return,O)}}function ci(a,l,h){try{var g=a.stateNode;tC(g,a.type,h,l),g[ga]=l}catch(O){yi(a,a.return,O)}}function sc(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&oh(a.type)||a.tag===4}function Un(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||sc(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&oh(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ea(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Y));else if(g!==4&&(g===27&&oh(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for(ea(a,l,h),a=a.sibling;a!==null;)ea(a,l,h),a=a.sibling}function ka(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(g!==4&&(g===27&&oh(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(ka(a,l,h),a=a.sibling;a!==null;)ka(a,l,h),a=a.sibling}function rc(a){var l=a.stateNode,h=a.memoizedProps;try{for(var g=a.type,O=l.attributes;O.length;)l.removeAttributeNode(O[0]);Nc(l,g,h),l[Nn]=a,l[ga]=h}catch(_){yi(a,a.return,_)}}var Zi=!1,di=!1,nc=!1,zo=typeof WeakSet=="function"?WeakSet:Set,ro=null;function nh(a,l){if(a=a.containerInfo,px=Im,a=Kl(a),an(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var O=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var be=0,He=-1,mt=-1,rs=0,Ss=0,Ls=a,as=null;t:for(;;){for(var cs;Ls!==h||O!==0&&Ls.nodeType!==3||(He=be+O),Ls!==_||g!==0&&Ls.nodeType!==3||(mt=be+g),Ls.nodeType===3&&(be+=Ls.nodeValue.length),(cs=Ls.firstChild)!==null;)as=Ls,Ls=cs;for(;;){if(Ls===a)break t;if(as===h&&++rs===O&&(He=be),as===_&&++Ss===g&&(mt=be),(cs=Ls.nextSibling)!==null)break;Ls=as,as=Ls.parentNode}Ls=cs}h=He===-1||mt===-1?null:{start:He,end:mt}}else h=null}h=h||{start:0,end:0}}else h=null;for(gx={focusedElem:a,selectionRange:h},Im=!1,ro=l;ro!==null;)if(l=ro,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,ro=a;else for(;ro!==null;){switch(l=ro,_=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)O=a[h],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,h=l,O=_.memoizedProps,_=_.memoizedState,g=h.stateNode;try{var Hr=Od(h.type,O);a=g.getSnapshotBeforeUpdate(Hr,_),g.__reactInternalSnapshotBeforeUpdate=a}catch(Bn){yi(h,h.return,Bn)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)vx(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":vx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,ro=a;break}ro=l.return}}function vA(a,l,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:wl(a,h),g&4&&ll(5,h);break;case 1:if(wl(a,h),g&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(be){yi(h,h.return,be)}else{var O=Od(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(O,l,a.__reactInternalSnapshotBeforeUpdate)}catch(be){yi(h,h.return,be)}}g&64&&cl(h),g&512&&Ys(h,h.return);break;case 3:if(wl(a,h),g&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Qn(a,l)}catch(be){yi(h,h.return,be)}}break;case 27:l===null&&g&4&&rc(h);case 26:case 5:wl(a,h),l===null&&g&4&&wo(h),g&512&&Ys(h,h.return);break;case 12:wl(a,h);break;case 31:wl(a,h),g&4&&Wh(a,h);break;case 13:wl(a,h),g&4&&Uf(a,h),g&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=z4.bind(null,h),cC(a,h))));break;case 22:if(g=h.memoizedState!==null||Zi,!g){l=l!==null&&l.memoizedState!==null||di,O=Zi;var _=di;Zi=g,(di=l)&&!_?Id(a,h,(h.subtreeFlags&8772)!==0):wl(a,h),Zi=O,di=_}break;case 30:break;default:wl(a,h)}}function wu(a){var l=a.alternate;l!==null&&(a.alternate=null,wu(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Vl(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ti=null,Dl=!1;function Dc(a,l,h){for(h=h.child;h!==null;)rd(a,l,h),h=h.sibling}function rd(a,l,h){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Es,h)}catch{}switch(h.tag){case 26:di||ni(h,l),Dc(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:di||ni(h,l);var g=Ti,O=Dl;oh(h.type)&&(Ti=h.stateNode,Dl=!1),Dc(a,l,h),v0(h.stateNode),Ti=g,Dl=O;break;case 5:di||ni(h,l);case 6:if(g=Ti,O=Dl,Ti=null,Dc(a,l,h),Ti=g,Dl=O,Ti!==null)if(Dl)try{(Ti.nodeType===9?Ti.body:Ti.nodeName==="HTML"?Ti.ownerDocument.body:Ti).removeChild(h.stateNode)}catch(_){yi(h,l,_)}else try{Ti.removeChild(h.stateNode)}catch(_){yi(h,l,_)}break;case 18:Ti!==null&&(Dl?(a=Ti,ey(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),_f(a)):ey(Ti,h.stateNode));break;case 4:g=Ti,O=Dl,Ti=h.stateNode.containerInfo,Dl=!0,Dc(a,l,h),Ti=g,Dl=O;break;case 0:case 11:case 14:case 15:Wa(2,h,l),di||Wa(4,h,l),Dc(a,l,h);break;case 1:di||(ni(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"&&Ya(h,l,g)),Dc(a,l,h);break;case 21:Dc(a,l,h);break;case 22:di=(g=di)||h.memoizedState!==null,Dc(a,l,h),di=g;break;default:Dc(a,l,h)}}function Wh(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{_f(a)}catch(h){yi(l,l.return,h)}}}function Uf(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{_f(a)}catch(h){yi(l,l.return,h)}}function Ff(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new zo),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new zo),l;default:throw Error(n(435,a.tag))}}function yA(a,l){var h=Ff(a);l.forEach(function(g){if(!h.has(g)){h.add(g);var O=V4.bind(null,a,g);g.then(O,O)}})}function dl(a,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var O=h[g],_=a,be=l,He=be;e:for(;He!==null;){switch(He.tag){case 27:if(oh(He.type)){Ti=He.stateNode,Dl=!1;break e}break;case 5:Ti=He.stateNode,Dl=!1;break e;case 3:case 4:Ti=He.stateNode.containerInfo,Dl=!0;break e}He=He.return}if(Ti===null)throw Error(n(160));rd(_,be,O),Ti=null,Dl=!1,_=O.alternate,_!==null&&(_.return=null),O.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Qu(l,a),l=l.sibling}var Rc=null;function Qu(a,l){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:dl(l,a),Xa(a),g&4&&(Wa(3,a,a.return),ll(3,a),Wa(5,a,a.return));break;case 1:dl(l,a),Xa(a),g&512&&(di||h===null||ni(h,h.return)),g&64&&Zi&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var O=Rc;if(dl(l,a),Xa(a),g&512&&(di||h===null||ni(h,h.return)),g&4){var _=h!==null?h.memoizedState:null;if(g=a.memoizedState,h===null)if(g===null)if(a.stateNode===null){e:{g=a.type,h=a.memoizedProps,O=O.ownerDocument||O;t:switch(g){case"title":_=O.getElementsByTagName("title")[0],(!_||_[Eo]||_[Nn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=O.createElement(g),O.head.insertBefore(_,O.querySelector("head > title"))),Nc(_,g,h),_[Nn]=a,Ta(_),g=_;break e;case"link":var be=uy("link","href",O).get(g+(h.href||""));if(be){for(var He=0;He<be.length;He++)if(_=be[He],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){be.splice(He,1);break t}}_=O.createElement(g),Nc(_,g,h),O.head.appendChild(_);break;case"meta":if(be=uy("meta","content",O).get(g+(h.content||""))){for(He=0;He<be.length;He++)if(_=be[He],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){be.splice(He,1);break t}}_=O.createElement(g),Nc(_,g,h),O.head.appendChild(_);break;default:throw Error(n(468,g))}_[Nn]=a,Ta(_),g=_}a.stateNode=g}else Ay(O,a.type,a.stateNode);else a.stateNode=dy(O,g,a.memoizedProps);else _!==g?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,g===null?Ay(O,a.type,a.stateNode):dy(O,g,a.memoizedProps)):g===null&&a.stateNode!==null&&ci(a,a.memoizedProps,h.memoizedProps)}break;case 27:dl(l,a),Xa(a),g&512&&(di||h===null||ni(h,h.return)),h!==null&&g&4&&ci(a,a.memoizedProps,h.memoizedProps);break;case 5:if(dl(l,a),Xa(a),g&512&&(di||h===null||ni(h,h.return)),a.flags&32){O=a.stateNode;try{ba(O,"")}catch(Hr){yi(a,a.return,Hr)}}g&4&&a.stateNode!=null&&(O=a.memoizedProps,ci(a,O,h!==null?h.memoizedProps:O)),g&1024&&(nc=!0);break;case 6:if(dl(l,a),Xa(a),g&4){if(a.stateNode===null)throw Error(n(162));g=a.memoizedProps,h=a.stateNode;try{h.nodeValue=g}catch(Hr){yi(a,a.return,Hr)}}break;case 3:if(Fm=null,O=Rc,Rc=Tm(l.containerInfo),dl(l,a),Rc=O,Xa(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{_f(l.containerInfo)}catch(Hr){yi(a,a.return,Hr)}nc&&(nc=!1,wA(a));break;case 4:g=Rc,Rc=Tm(a.stateNode.containerInfo),dl(l,a),Xa(a),Rc=g;break;case 12:dl(l,a),Xa(a);break;case 31:dl(l,a),Xa(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,yA(a,g)));break;case 13:dl(l,a),Xa(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Kt=$s()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,yA(a,g)));break;case 22:O=a.memoizedState!==null;var mt=h!==null&&h.memoizedState!==null,rs=Zi,Ss=di;if(Zi=rs||O,di=Ss||mt,dl(l,a),di=Ss,Zi=rs,Xa(a),g&8192)e:for(l=a.stateNode,l._visibility=O?l._visibility&-2:l._visibility|1,O&&(h===null||mt||Zi||di||qd(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){mt=h=l;try{if(_=mt.stateNode,O)be=_.style,typeof be.setProperty=="function"?be.setProperty("display","none","important"):be.display="none";else{He=mt.stateNode;var Ls=mt.memoizedProps.style,as=Ls!=null&&Ls.hasOwnProperty("display")?Ls.display:null;He.style.display=as==null||typeof as=="boolean"?"":(""+as).trim()}}catch(Hr){yi(mt,mt.return,Hr)}}}else if(l.tag===6){if(h===null){mt=l;try{mt.stateNode.nodeValue=O?"":mt.memoizedProps}catch(Hr){yi(mt,mt.return,Hr)}}}else if(l.tag===18){if(h===null){mt=l;try{var cs=mt.stateNode;O?ty(cs,!0):ty(mt.stateNode,!1)}catch(Hr){yi(mt,mt.return,Hr)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,yA(a,h))));break;case 19:dl(l,a),Xa(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,yA(a,g)));break;case 30:break;case 21:break;default:dl(l,a),Xa(a)}}function Xa(a){var l=a.flags;if(l&2){try{for(var h,g=a.return;g!==null;){if(sc(g)){h=g;break}g=g.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var O=h.stateNode,_=Un(a);ka(a,_,O);break;case 5:var be=h.stateNode;h.flags&32&&(ba(be,""),h.flags&=-33);var He=Un(a);ka(a,He,be);break;case 3:case 4:var mt=h.stateNode.containerInfo,rs=Un(a);ea(a,rs,mt);break;default:throw Error(n(161))}}catch(Ss){yi(a,a.return,Ss)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function wA(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;wA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function wl(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)vA(a,l.alternate,l),l=l.sibling}function qd(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Wa(4,l,l.return),qd(l);break;case 1:ni(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&Ya(l,l.return,h),qd(l);break;case 27:v0(l.stateNode);case 26:case 5:ni(l,l.return),qd(l);break;case 22:l.memoizedState===null&&qd(l);break;case 30:qd(l);break;default:qd(l)}a=a.sibling}}function Id(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,O=a,_=l,be=_.flags;switch(_.tag){case 0:case 11:case 15:Id(O,_,h),ll(4,_);break;case 1:if(Id(O,_,h),g=_,O=g.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(rs){yi(g,g.return,rs)}if(g=_,O=g.updateQueue,O!==null){var He=g.stateNode;try{var mt=O.shared.hiddenCallbacks;if(mt!==null)for(O.shared.hiddenCallbacks=null,O=0;O<mt.length;O++)na(mt[O],He)}catch(rs){yi(g,g.return,rs)}}h&&be&64&&cl(_),Ys(_,_.return);break;case 27:rc(_);case 26:case 5:Id(O,_,h),h&&g===null&&be&4&&wo(_),Ys(_,_.return);break;case 12:Id(O,_,h);break;case 31:Id(O,_,h),h&&be&4&&Wh(O,_);break;case 13:Id(O,_,h),h&&be&4&&Uf(O,_);break;case 22:_.memoizedState===null&&Id(O,_,h),Ys(_,_.return);break;case 30:break;default:Id(O,_,h)}l=l.sibling}}function eu(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&xd(h))}function Dd(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&xd(a))}function jl(a,l,h,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Rd(a,l,h,g),l=l.sibling}function Rd(a,l,h,g){var O=l.flags;switch(l.tag){case 0:case 11:case 15:jl(a,l,h,g),O&2048&&ll(9,l);break;case 1:jl(a,l,h,g);break;case 3:jl(a,l,h,g),O&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&xd(a)));break;case 12:if(O&2048){jl(a,l,h,g),a=l.stateNode;try{var _=l.memoizedProps,be=_.id,He=_.onPostCommit;typeof He=="function"&&He(be,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(mt){yi(l,l.return,mt)}}else jl(a,l,h,g);break;case 31:jl(a,l,h,g);break;case 13:jl(a,l,h,g);break;case 23:break;case 22:_=l.stateNode,be=l.alternate,l.memoizedState!==null?_._visibility&2?jl(a,l,h,g):_u(a,l):_._visibility&2?jl(a,l,h,g):(_._visibility|=2,Qc(a,l,h,g,(l.subtreeFlags&10256)!==0||!1)),O&2048&&eu(be,l);break;case 24:jl(a,l,h,g),O&2048&&Dd(l.alternate,l);break;default:jl(a,l,h,g)}}function Qc(a,l,h,g,O){for(O=O&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=a,be=l,He=h,mt=g,rs=be.flags;switch(be.tag){case 0:case 11:case 15:Qc(_,be,He,mt,O),ll(8,be);break;case 23:break;case 22:var Ss=be.stateNode;be.memoizedState!==null?Ss._visibility&2?Qc(_,be,He,mt,O):_u(_,be):(Ss._visibility|=2,Qc(_,be,He,mt,O)),O&&rs&2048&&eu(be.alternate,be);break;case 24:Qc(_,be,He,mt,O),O&&rs&2048&&Dd(be.alternate,be);break;default:Qc(_,be,He,mt,O)}l=l.sibling}}function _u(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,g=l,O=g.flags;switch(g.tag){case 22:_u(h,g),O&2048&&eu(g.alternate,g);break;case 24:_u(h,g),O&2048&&Dd(g.alternate,g);break;default:_u(h,g)}l=l.sibling}}var jA=8192;function tu(a,l,h){if(a.subtreeFlags&jA)for(a=a.child;a!==null;)ju(a,l,h),a=a.sibling}function ju(a,l,h){switch(a.tag){case 26:tu(a,l,h),a.flags&jA&&a.memoizedState!==null&&yC(h,Rc,a.memoizedState,a.memoizedProps);break;case 5:tu(a,l,h);break;case 3:case 4:var g=Rc;Rc=Tm(a.stateNode.containerInfo),tu(a,l,h),Rc=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=jA,jA=16777216,tu(a,l,h),jA=g):tu(a,l,h));break;default:tu(a,l,h)}}function Yh(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Pu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];ro=g,Lf(g,a)}Yh(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Mf(a),a=a.sibling}function Mf(a){switch(a.tag){case 0:case 11:case 15:Pu(a),a.flags&2048&&Wa(9,a,a.return);break;case 3:Pu(a);break;case 12:Pu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,NA(a)):Pu(a);break;default:Pu(a)}}function NA(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];ro=g,Lf(g,a)}Yh(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Wa(8,l,l.return),NA(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,NA(l));break;default:NA(l)}a=a.sibling}}function Lf(a,l){for(;ro!==null;){var h=ro;switch(h.tag){case 0:case 11:case 15:Wa(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:xd(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,ro=g;else e:for(h=a;ro!==null;){g=ro;var O=g.sibling,_=g.return;if(wu(g),g===h){ro=null;break e}if(O!==null){O.return=_,ro=O;break e}ro=_}}}var CA={getCacheForType:function(a){var l=ti(gi),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h},cacheSignal:function(){return ti(gi).controller.signal}},Xh=typeof WeakMap=="function"?WeakMap:Map,va=0,pa=null,On=null,Hn=0,Sa=0,Rl=null,Qd=!1,Hu=!1,k=!1,j=0,F=0,U=0,ne=0,ye=0,Fe=0,Ze=0,qe=null,jt=null,It=!1,Kt=0,ws=0,Cr=1/0,er=null,Ar=null,Zr=0,Or=null,Mr=null,ta=0,Yn=0,Cn=null,Br=null,da=0,ya=null;function rn(){return(va&2)!==0&&Hn!==0?Hn&-Hn:ae.T!==null?cx():yn()}function jo(){if(Fe===0)if((Hn&536870912)===0||dr){var a=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),Fe=a}else Fe=536870912;return a=Yi.current,a!==null&&(a.flags|=32),Fe}function vi(a,l,h){(a===pa&&(Sa===2||Sa===9)||a.cancelPendingCommit!==null)&&(Nd(a,0),jc(a,Hn,Fe,!1)),kr(a,h),((va&2)===0||a!==pa)&&(a===pa&&((va&2)===0&&(ne|=h),F===4&&jc(a,Hn,Fe,!1)),Ku(a))}function _c(a,l,h){if((va&6)!==0)throw Error(n(327));var g=!h&&(l&127)===0&&(l&a.expiredLanes)===0||pr(a,l),O=g?ah(a,l):Cu(a,l,!0),_=g;do{if(O===0){Hu&&!g&&jc(a,l,0,!1);break}else{if(h=a.current.alternate,_&&!Ql(h)){O=Cu(a,l,!1),_=!1;continue}if(O===2){if(_=l,a.errorRecoveryDisabledLanes&_)var be=0;else be=a.pendingLanes&-536870913,be=be!==0?be:be&536870912?536870912:0;if(be!==0){l=be;e:{var He=a;O=qe;var mt=He.current.memoizedState.isDehydrated;if(mt&&(Nd(He,be).flags|=256),be=Cu(He,be,!1),be!==2){if(k&&!mt){He.errorRecoveryDisabledLanes|=_,ne|=_,O=4;break e}_=jt,jt=O,_!==null&&(jt===null?jt=_:jt.push.apply(jt,_))}O=be}if(_=!1,O!==2)continue}}if(O===1){Nd(a,0),jc(a,l,0,!0);break}e:{switch(g=a,_=O,_){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:jc(g,l,Fe,!Qd);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(O=Kt+300-$s(),10<O)){if(jc(g,l,Fe,!Qd),Vs(g,0,!0)!==0)break e;ta=l,g.timeoutHandle=Z1(ai.bind(null,g,h,jt,er,It,l,Fe,ne,Ze,Qd,_,"Throttled",-0,0),O);break e}ai(g,h,jt,er,It,l,Fe,ne,Ze,Qd,_,null,-0,0)}}break}while(!0);Ku(a)}function ai(a,l,h,g,O,_,be,He,mt,rs,Ss,Ls,as,cs){if(a.timeoutHandle=-1,Ls=l.subtreeFlags,Ls&8192||(Ls&16785408)===16785408){Ls={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Y},ju(l,_,Ls);var Hr=(_&62914560)===_?Kt-$s():(_&4194048)===_?ws-$s():0;if(Hr=wC(Ls,Hr),Hr!==null){ta=_,a.cancelPendingCommit=Hr(T1.bind(null,a,l,_,h,g,O,be,He,mt,Ss,Ls,null,as,cs)),jc(a,_,be,!rs);return}}T1(a,l,_,h,g,O,be,He,mt)}function Ql(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var O=h[g],_=O.getSnapshot;O=O.value;try{if(!lr(_(),O))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function jc(a,l,h,g){l&=~ye,l&=~ne,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var O=l;0<O;){var _=31-Ms(O),be=1<<_;g[_]=-1,O&=~be}h!==0&&Ts(a,h,l)}function _l(){return(va&6)===0?(g0(0),!1):!0}function ac(){if(On!==null){if(Sa===0)var a=On.return;else a=On,pc=sl=null,iA(a),Yt=null,Tt=0,a=On;for(;a!==null;)Ho(a.alternate,a),a=a.return;On=null}}function Nd(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,nC(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),ta=0,ac(),pa=a,On=h=Ml(a.current,null),Hn=l,Sa=0,Rl=null,Qd=!1,Hu=pr(a,l),k=!1,Ze=Fe=ye=ne=U=F=0,jt=qe=null,It=!1,(l&8)!==0&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var O=31-Ms(g),_=1<<O;l|=a[O],g&=~_}return j=l,mc(),h}function _d(a,l){bn=null,ae.H=pA,l===Ua||l===Ba?(l=lt(),Sa=3):l===xi?(l=lt(),Sa=4):Sa=l===Ie?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Rl=l,On===null&&(F=1,Ru(a,Gi(l,a.current)))}function Nu(){var a=Yi.current;return a===null?!0:(Hn&4194048)===Hn?vo===null:(Hn&62914560)===Hn||(Hn&536870912)!==0?a===vo:!1}function zu(){var a=ae.H;return ae.H=pA,a===null?pA:a}function Vu(){var a=ae.A;return ae.A=CA,a}function Cd(){F=4,Qd||(Hn&4194048)!==Hn&&Yi.current!==null||(Hu=!0),(U&134217727)===0&&(ne&134217727)===0||pa===null||jc(pa,Hn,Fe,!1)}function Cu(a,l,h){var g=va;va|=2;var O=zu(),_=Vu();(pa!==a||Hn!==l)&&(er=null,Nd(a,l)),l=!1;var be=F;e:do try{if(Sa!==0&&On!==null){var He=On,mt=Rl;switch(Sa){case 8:ac(),be=6;break e;case 3:case 2:case 9:case 6:Yi.current===null&&(l=!0);var rs=Sa;if(Sa=0,Rl=null,Of(a,He,mt,rs),h&&Hu){be=0;break e}break;default:rs=Sa,Sa=0,Rl=null,Of(a,He,mt,rs)}}Bu(),be=F;break}catch(Ss){_d(a,Ss)}while(!0);return l&&a.shellSuspendCounter++,pc=sl=null,va=g,ae.H=O,ae.A=_,On===null&&(pa=null,Hn=0,mc()),be}function Bu(){for(;On!==null;)k1(On)}function ah(a,l){var h=va;va|=2;var g=zu(),O=Vu();pa!==a||Hn!==l?(er=null,Cr=$s()+500,Nd(a,l)):Hu=pr(a,l);e:do try{if(Sa!==0&&On!==null){l=On;var _=Rl;t:switch(Sa){case 1:Sa=0,Rl=null,Of(a,l,_,1);break;case 2:case 9:if(C(_)){Sa=0,Rl=null,S1(l);break}l=function(){Sa!==2&&Sa!==9||pa!==a||(Sa=7),Ku(a)},_.then(l,l);break e;case 3:Sa=7;break e;case 4:Sa=5;break e;case 7:C(_)?(Sa=0,Rl=null,S1(l)):(Sa=0,Rl=null,Of(a,l,_,7));break;case 5:var be=null;switch(On.tag){case 26:be=On.memoizedState;case 5:case 27:var He=On;if(be?hy(be):He.stateNode.complete){Sa=0,Rl=null;var mt=He.sibling;if(mt!==null)On=mt;else{var rs=He.return;rs!==null?(On=rs,jm(rs)):On=null}break t}}Sa=0,Rl=null,Of(a,l,_,5);break;case 6:Sa=0,Rl=null,Of(a,l,_,6);break;case 8:ac(),F=6;break e;default:throw Error(n(462))}}Jh();break}catch(Ss){_d(a,Ss)}while(!0);return pc=sl=null,ae.H=g,ae.A=O,va=h,On!==null?0:(pa=null,Hn=0,mc(),F)}function Jh(){for(;On!==null&&!mr();)k1(On)}function k1(a){var l=_o(a.alternate,a,j);a.memoizedProps=a.pendingProps,l===null?jm(a):On=l}function S1(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=Hs(h,l,l.pendingProps,l.type,void 0,Hn);break;case 11:l=Hs(h,l,l.pendingProps,l.type.render,l.ref,Hn);break;case 5:iA(l);default:Ho(h,l),l=On=Gl(l,j),l=_o(h,l,j)}a.memoizedProps=a.pendingProps,l===null?jm(a):On=l}function Of(a,l,h,g){pc=sl=null,iA(l),Yt=null,Tt=0;var O=l.return;try{if(Ue(a,O,l,h,Hn)){F=1,Ru(a,Gi(h,a.current)),On=null;return}}catch(_){if(O!==null)throw On=O,_;F=1,Ru(a,Gi(h,a.current)),On=null;return}l.flags&32768?(dr||g===1?a=!0:Hu||(Hn&536870912)!==0?a=!1:(Qd=a=!0,(g===2||g===9||g===3||g===6)&&(g=Yi.current,g!==null&&g.tag===13&&(g.flags|=16384))),E1(l,a)):jm(l)}function jm(a){var l=a;do{if((l.flags&32768)!==0){E1(l,Qd);return}a=l.return;var h=Ji(l.alternate,l,j);if(h!==null){On=h;return}if(l=l.sibling,l!==null){On=l;return}On=l=a}while(l!==null);F===0&&(F=5)}function E1(a,l){do{var h=Ha(a.alternate,a);if(h!==null){h.flags&=32767,On=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){On=a;return}On=a=h}while(a!==null);F=6,On=null}function T1(a,l,h,g,O,_,be,He,mt){a.cancelPendingCommit=null;do Nm();while(Zr!==0);if((va&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(_=l.lanes|l.childLanes,_|=po,nr(a,h,_,be,He,mt),a===pa&&(On=pa=null,Hn=0),Mr=l,Or=a,ta=h,Yn=_,Cn=O,Br=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,K4(js,function(){return O1(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=ae.T,ae.T=null,O=de.p,de.p=2,be=va,va|=4;try{nh(a,l,h)}finally{va=be,de.p=O,ae.T=g}}Zr=1,U1(),F1(),M1()}}function U1(){if(Zr===1){Zr=0;var a=Or,l=Mr,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=ae.T,ae.T=null;var g=de.p;de.p=2;var O=va;va|=4;try{Qu(l,a);var _=gx,be=Kl(a.containerInfo),He=_.focusedElem,mt=_.selectionRange;if(be!==He&&He&&He.ownerDocument&&oo(He.ownerDocument.documentElement,He)){if(mt!==null&&an(He)){var rs=mt.start,Ss=mt.end;if(Ss===void 0&&(Ss=rs),"selectionStart"in He)He.selectionStart=rs,He.selectionEnd=Math.min(Ss,He.value.length);else{var Ls=He.ownerDocument||document,as=Ls&&Ls.defaultView||window;if(as.getSelection){var cs=as.getSelection(),Hr=He.textContent.length,Bn=Math.min(mt.start,Hr),Fi=mt.end===void 0?Bn:Math.min(mt.end,Hr);!cs.extend&&Bn>Fi&&(be=Fi,Fi=Bn,Bn=be);var zt=Di(He,Bn),St=Di(He,Fi);if(zt&&St&&(cs.rangeCount!==1||cs.anchorNode!==zt.node||cs.anchorOffset!==zt.offset||cs.focusNode!==St.node||cs.focusOffset!==St.offset)){var ts=Ls.createRange();ts.setStart(zt.node,zt.offset),cs.removeAllRanges(),Bn>Fi?(cs.addRange(ts),cs.extend(St.node,St.offset)):(ts.setEnd(St.node,St.offset),cs.addRange(ts))}}}}for(Ls=[],cs=He;cs=cs.parentNode;)cs.nodeType===1&&Ls.push({element:cs,left:cs.scrollLeft,top:cs.scrollTop});for(typeof He.focus=="function"&&He.focus(),He=0;He<Ls.length;He++){var Fs=Ls[He];Fs.element.scrollLeft=Fs.left,Fs.element.scrollTop=Fs.top}}Im=!!px,gx=px=null}finally{va=O,de.p=g,ae.T=h}}a.current=l,Zr=2}}function F1(){if(Zr===2){Zr=0;var a=Or,l=Mr,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=ae.T,ae.T=null;var g=de.p;de.p=2;var O=va;va|=4;try{vA(a,l.alternate,l)}finally{va=O,de.p=g,ae.T=h}}Zr=3}}function M1(){if(Zr===4||Zr===3){Zr=0,ar();var a=Or,l=Mr,h=ta,g=Br;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Zr=5:(Zr=0,Mr=Or=null,L1(a,a.pendingLanes));var O=a.pendingLanes;if(O===0&&(Ar=null),qa(h),l=l.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Es,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=ae.T,O=de.p,de.p=2,ae.T=null;try{for(var _=a.onRecoverableError,be=0;be<g.length;be++){var He=g[be];_(He.value,{componentStack:He.stack})}}finally{ae.T=l,de.p=O}}(ta&3)!==0&&Nm(),Ku(a),O=a.pendingLanes,(h&261930)!==0&&(O&42)!==0?a===ya?da++:(da=0,ya=a):da=0,g0(0)}}function L1(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,xd(l)))}function Nm(){return U1(),F1(),M1(),O1()}function O1(){if(Zr!==5)return!1;var a=Or,l=Yn;Yn=0;var h=qa(ta),g=ae.T,O=de.p;try{de.p=32>h?32:h,ae.T=null,h=Cn,Cn=null;var _=Or,be=ta;if(Zr=0,Mr=Or=null,ta=0,(va&6)!==0)throw Error(n(331));var He=va;if(va|=4,Mf(_.current),Rd(_,_.current,be,h),va=He,g0(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Es,_)}catch{}return!0}finally{de.p=O,ae.T=g,L1(a,l)}}function I1(a,l,h){l=Gi(h,l),l=D(a.stateNode,l,2),a=ln(a,l,2),a!==null&&(kr(a,2),Ku(a))}function yi(a,l,h){if(a.tag===3)I1(a,a,h);else for(;l!==null;){if(l.tag===3){I1(l,a,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ar===null||!Ar.has(g))){a=Gi(h,a),h=se(2),g=ln(l,h,2),g!==null&&(he(h,g,l,a),kr(g,2),Ku(g));break}}l=l.return}}function ix(a,l,h){var g=a.pingCache;if(g===null){g=a.pingCache=new Xh;var O=new Set;g.set(l,O)}else O=g.get(l),O===void 0&&(O=new Set,g.set(l,O));O.has(h)||(k=!0,O.add(h),a=H4.bind(null,a,l,h),l.then(a,a))}function H4(a,l,h){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,pa===a&&(Hn&h)===h&&(F===4||F===3&&(Hn&62914560)===Hn&&300>$s()-Kt?(va&2)===0&&Nd(a,0):ye|=h,Ze===Hn&&(Ze=0)),Ku(a)}function D1(a,l){l===0&&(l=Ns()),a=$l(a,l),a!==null&&(kr(a,l),Ku(a))}function z4(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),D1(a,h)}function V4(a,l){var h=0;switch(a.tag){case 31:case 13:var g=a.stateNode,O=a.memoizedState;O!==null&&(h=O.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(l),D1(a,h)}function K4(a,l){return zs(a,l)}var Cm=null,If=null,ox=!1,Bm=!1,lx=!1,ih=0;function Ku(a){a!==If&&a.next===null&&(If===null?Cm=If=a:If=If.next=a),Bm=!0,ox||(ox=!0,G4())}function g0(a,l){if(!lx&&Bm){lx=!0;do for(var h=!1,g=Cm;g!==null;){if(a!==0){var O=g.pendingLanes;if(O===0)var _=0;else{var be=g.suspendedLanes,He=g.pingedLanes;_=(1<<31-Ms(42|a)+1)-1,_&=O&~(be&~He),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,P1(g,_))}else _=Hn,_=Vs(g,g===pa?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(_&3)===0||pr(g,_)||(h=!0,P1(g,_));g=g.next}while(h);lx=!1}}function $4(){R1()}function R1(){Bm=ox=!1;var a=0;ih!==0&&rC()&&(a=ih);for(var l=$s(),h=null,g=Cm;g!==null;){var O=g.next,_=Q1(g,l);_===0?(g.next=null,h===null?Cm=O:h.next=O,O===null&&(If=h)):(h=g,(a!==0||(_&3)!==0)&&(Bm=!0)),g=O}Zr!==0&&Zr!==5||g0(a),ih!==0&&(ih=0)}function Q1(a,l){for(var h=a.suspendedLanes,g=a.pingedLanes,O=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var be=31-Ms(_),He=1<<be,mt=O[be];mt===-1?((He&h)===0||(He&g)!==0)&&(O[be]=tn(He,l)):mt<=l&&(a.expiredLanes|=He),_&=~He}if(l=pa,h=Hn,h=Vs(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,h===0||a===l&&(Sa===2||Sa===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&yr(g),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||pr(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(g!==null&&yr(g),qa(h)){case 2:case 8:h=br;break;case 32:h=js;break;case 268435456:h=hr;break;default:h=js}return g=_1.bind(null,a),h=zs(h,g),a.callbackPriority=l,a.callbackNode=h,l}return g!==null&&g!==null&&yr(g),a.callbackPriority=2,a.callbackNode=null,2}function _1(a,l){if(Zr!==0&&Zr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Nm()&&a.callbackNode!==h)return null;var g=Hn;return g=Vs(a,a===pa?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(_c(a,g,l),Q1(a,$s()),a.callbackNode!=null&&a.callbackNode===h?_1.bind(null,a):null)}function P1(a,l){if(Nm())return null;_c(a,l,!0)}function G4(){aC(function(){(va&6)!==0?zs(Rs,$4):R1()})}function cx(){if(ih===0){var a=at;a===0&&(a=Zt,Zt<<=1,(Zt&261888)===0&&(Zt=256)),ih=a}return ih}function H1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:$(""+a)}function z1(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function W4(a,l,h,g,O){if(l==="submit"&&h&&h.stateNode===O){var _=H1((O[ga]||null).action),be=g.submitter;be&&(l=(l=be[ga]||null)?H1(l.formAction):be.getAttribute("formAction"),l!==null&&(_=l,be=null));var He=new xe("action","action",null,g,O);a.push({event:He,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ih!==0){var mt=be?z1(O,be):new FormData(O);mA(h,{pending:!0,data:mt,method:O.method,action:_},null,mt)}}else typeof _=="function"&&(He.preventDefault(),mt=be?z1(O,be):new FormData(O),mA(h,{pending:!0,data:mt,method:O.method,action:_},_,mt))},currentTarget:O}]})}}for(var dx=0;dx<fc.length;dx++){var ux=fc[dx],Y4=ux.toLowerCase(),X4=ux[0].toUpperCase()+ux.slice(1);el(Y4,"on"+X4)}el(Ul,"onAnimationEnd"),el(Fo,"onAnimationIteration"),el(hl,"onAnimationStart"),el("dblclick","onDoubleClick"),el("focusin","onFocus"),el("focusout","onBlur"),el(Gc,"onTransitionRun"),el(fl,"onTransitionStart"),el(Mo,"onTransitionCancel"),el(Ec,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var x0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(x0));function V1(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],O=g.event;g=g.listeners;e:{var _=void 0;if(l)for(var be=g.length-1;0<=be;be--){var He=g[be],mt=He.instance,rs=He.currentTarget;if(He=He.listener,mt!==_&&O.isPropagationStopped())break e;_=He,O.currentTarget=rs;try{_(O)}catch(Ss){Tc(Ss)}O.currentTarget=null,_=mt}else for(be=0;be<g.length;be++){if(He=g[be],mt=He.instance,rs=He.currentTarget,He=He.listener,mt!==_&&O.isPropagationStopped())break e;_=He,O.currentTarget=rs;try{_(O)}catch(Ss){Tc(Ss)}O.currentTarget=null,_=mt}}}}function Na(a,l){var h=l[Oi];h===void 0&&(h=l[Oi]=new Set);var g=a+"__bubble";h.has(g)||(K1(l,a,2,!1),h.add(g))}function Ax(a,l,h){var g=0;l&&(g|=4),K1(h,a,g,l)}var km="_reactListening"+Math.random().toString(36).slice(2);function hx(a){if(!a[km]){a[km]=!0,qn.forEach(function(h){h!=="selectionchange"&&(J4.has(h)||Ax(h,!1,a),Ax(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[km]||(l[km]=!0,Ax("selectionchange",!1,l))}}function K1(a,l,h,g){switch(vy(l)){case 2:var O=CC;break;case 8:O=BC;break;default:O=Sx}h=O.bind(null,l,h,a),O=void 0,!S||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(O=!0),g?O!==void 0?a.addEventListener(l,h,{capture:!0,passive:O}):a.addEventListener(l,h,!0):O!==void 0?a.addEventListener(l,h,{passive:O}):a.addEventListener(l,h,!1)}function fx(a,l,h,g,O){var _=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var be=g.tag;if(be===3||be===4){var He=g.stateNode.containerInfo;if(He===O)break;if(be===4)for(be=g.return;be!==null;){var mt=be.tag;if((mt===3||mt===4)&&be.stateNode.containerInfo===O)return;be=be.return}for(;He!==null;){if(be=uo(He),be===null)return;if(mt=be.tag,mt===5||mt===6||mt===26||mt===27){g=_=be;continue e}He=He.parentNode}}g=g.return}Je(function(){var rs=_,Ss=L(h),Ls=[];e:{var as=Wc.get(a);if(as!==void 0){var cs=xe,Hr=a;switch(a){case"keypress":if(ee(h)===0)break e;case"keydown":case"keyup":cs=_s;break;case"focusin":Hr="focus",cs=Ht;break;case"focusout":Hr="blur",cs=Ht;break;case"beforeblur":case"afterblur":cs=Ht;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":cs=pt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":cs=Ft;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":cs=Mt;break;case Ul:case Fo:case hl:cs=es;break;case Ec:cs=Wt;break;case"scroll":case"scrollend":cs=ot;break;case"wheel":cs=ps;break;case"copy":case"cut":case"paste":cs=rt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":cs=dt;break;case"toggle":case"beforetoggle":cs=Zs}var Bn=(l&4)!==0,Fi=!Bn&&(a==="scroll"||a==="scrollend"),zt=Bn?as!==null?as+"Capture":null:as;Bn=[];for(var St=rs,ts;St!==null;){var Fs=St;if(ts=Fs.stateNode,Fs=Fs.tag,Fs!==5&&Fs!==26&&Fs!==27||ts===null||zt===null||(Fs=N(St,zt),Fs!=null&&Bn.push(b0(St,Fs,ts))),Fi)break;St=St.return}0<Bn.length&&(as=new cs(as,Hr,null,h,Ss),Ls.push({event:as,listeners:Bn}))}}if((l&7)===0){e:{if(as=a==="mouseover"||a==="pointerover",cs=a==="mouseout"||a==="pointerout",as&&h!==T&&(Hr=h.relatedTarget||h.fromElement)&&(uo(Hr)||Hr[Zn]))break e;if((cs||as)&&(as=Ss.window===Ss?Ss:(as=Ss.ownerDocument)?as.defaultView||as.parentWindow:window,cs?(Hr=h.relatedTarget||h.toElement,cs=rs,Hr=Hr?uo(Hr):null,Hr!==null&&(Fi=c(Hr),Bn=Hr.tag,Hr!==Fi||Bn!==5&&Bn!==27&&Bn!==6)&&(Hr=null)):(cs=null,Hr=rs),cs!==Hr)){if(Bn=pt,Fs="onMouseLeave",zt="onMouseEnter",St="mouse",(a==="pointerout"||a==="pointerover")&&(Bn=dt,Fs="onPointerLeave",zt="onPointerEnter",St="pointer"),Fi=cs==null?as:ji(cs),ts=Hr==null?as:ji(Hr),as=new Bn(Fs,St+"leave",cs,h,Ss),as.target=Fi,as.relatedTarget=ts,Fs=null,uo(Ss)===rs&&(Bn=new Bn(zt,St+"enter",Hr,h,Ss),Bn.target=ts,Bn.relatedTarget=Fi,Fs=Bn),Fi=Fs,cs&&Hr)t:{for(Bn=Z4,zt=cs,St=Hr,ts=0,Fs=zt;Fs;Fs=Bn(Fs))ts++;Fs=0;for(var pn=St;pn;pn=Bn(pn))Fs++;for(;0<ts-Fs;)zt=Bn(zt),ts--;for(;0<Fs-ts;)St=Bn(St),Fs--;for(;ts--;){if(zt===St||St!==null&&zt===St.alternate){Bn=zt;break t}zt=Bn(zt),St=Bn(St)}Bn=null}else Bn=null;cs!==null&&$1(Ls,as,cs,Bn,!1),Hr!==null&&Fi!==null&&$1(Ls,Fi,Hr,Bn,!0)}}e:{if(as=rs?ji(rs):window,cs=as.nodeName&&as.nodeName.toLowerCase(),cs==="select"||cs==="input"&&as.type==="file")var Ja=Qr;else if(kn(as))if(xn)Ja=ja;else{Ja=hn;var qr=Qa}else cs=as.nodeName,!cs||cs.toLowerCase()!=="input"||as.type!=="checkbox"&&as.type!=="radio"?rs&&io(rs.elementType)&&(Ja=Qr):Ja=zr;if(Ja&&(Ja=Ja(a,rs))){Sr(Ls,Ja,h,Ss);break e}qr&&qr(a,as,rs),a==="focusout"&&rs&&as.type==="number"&&rs.memoizedProps.value!=null&&Ia(as,"number",as.value)}switch(qr=rs?ji(rs):window,a){case"focusin":(kn(qr)||qr.contentEditable==="true")&&(mi=qr,qo=rs,Uo=null);break;case"focusout":Uo=qo=mi=null;break;case"mousedown":Da=!0;break;case"contextmenu":case"mouseup":case"dragend":Da=!1,pi(Ls,h,Ss);break;case"selectionchange":if(oi)break;case"keydown":case"keyup":pi(Ls,h,Ss)}var oa;if(vr)e:{switch(a){case"compositionstart":var Ea="onCompositionStart";break e;case"compositionend":Ea="onCompositionEnd";break e;case"compositionupdate":Ea="onCompositionUpdate";break e}Ea=void 0}else jr?Ps(a,h)&&(Ea="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ea="onCompositionStart");Ea&&(cr&&h.locale!=="ko"&&(jr||Ea!=="onCompositionStart"?Ea==="onCompositionEnd"&&jr&&(oa=q()):(R=Ss,V="value"in R?R.value:R.textContent,jr=!0)),qr=Sm(rs,Ea),0<qr.length&&(Ea=new xt(Ea,a,null,h,Ss),Ls.push({event:Ea,listeners:qr}),oa?Ea.data=oa:(oa=sn(h),oa!==null&&(Ea.data=oa)))),(oa=tt?$r(a,h):Rr(a,h))&&(Ea=Sm(rs,"onBeforeInput"),0<Ea.length&&(qr=new xt("onBeforeInput","beforeinput",null,h,Ss),Ls.push({event:qr,listeners:Ea}),qr.data=oa)),W4(Ls,a,rs,h,Ss)}V1(Ls,l)})}function b0(a,l,h){return{instance:a,listener:l,currentTarget:h}}function Sm(a,l){for(var h=l+"Capture",g=[];a!==null;){var O=a,_=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||_===null||(O=N(a,h),O!=null&&g.unshift(b0(a,O,_)),O=N(a,l),O!=null&&g.push(b0(a,O,_))),a.tag===3)return g;a=a.return}return[]}function Z4(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function $1(a,l,h,g,O){for(var _=l._reactName,be=[];h!==null&&h!==g;){var He=h,mt=He.alternate,rs=He.stateNode;if(He=He.tag,mt!==null&&mt===g)break;He!==5&&He!==26&&He!==27||rs===null||(mt=rs,O?(rs=N(h,_),rs!=null&&be.unshift(b0(h,rs,mt))):O||(rs=N(h,_),rs!=null&&be.push(b0(h,rs,mt)))),h=h.return}be.length!==0&&a.push({event:l,listeners:be})}var q4=/\r\n?/g,eC=/\u0000|\uFFFD/g;function G1(a){return(typeof a=="string"?a:""+a).replace(q4,`
`).replace(eC,"")}function W1(a,l){return l=G1(l),G1(a)===l}function Ui(a,l,h,g,O,_){switch(h){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||ba(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&ba(a,""+g);break;case"className":ho(a,"class",g);break;case"tabIndex":ho(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":ho(a,h,g);break;case"style":ki(a,g,_);break;case"data":if(l!=="object"){ho(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=$(""+g),a.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(l!=="input"&&Ui(a,l,"name",O.name,O,null),Ui(a,l,"formEncType",O.formEncType,O,null),Ui(a,l,"formMethod",O.formMethod,O,null),Ui(a,l,"formTarget",O.formTarget,O,null)):(Ui(a,l,"encType",O.encType,O,null),Ui(a,l,"method",O.method,O,null),Ui(a,l,"target",O.target,O,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=$(""+g),a.setAttribute(h,g);break;case"onClick":g!=null&&(a.onclick=Y);break;case"onScroll":g!=null&&Na("scroll",a);break;case"onScrollEnd":g!=null&&Na("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}h=$(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""+g):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":g===!0?a.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,g):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(h,g):a.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(h):a.setAttribute(h,g);break;case"popover":Na("beforetoggle",a),Na("toggle",a),wa(a,"popover",g);break;case"xlinkActuate":ei(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ei(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ei(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ei(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ei(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ei(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ei(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ei(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ei(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":wa(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Et.get(h)||h,wa(a,h,g))}}function mx(a,l,h,g,O,_){switch(h){case"style":ki(a,g,_);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"children":typeof g=="string"?ba(a,g):(typeof g=="number"||typeof g=="bigint")&&ba(a,""+g);break;case"onScroll":g!=null&&Na("scroll",a);break;case"onScrollEnd":g!=null&&Na("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Y);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(O=h.endsWith("Capture"),l=h.slice(2,O?h.length-7:void 0),_=a[ga]||null,_=_!=null?_[h]:null,typeof _=="function"&&a.removeEventListener(l,_,O),typeof g=="function")){typeof _!="function"&&_!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,g,O);break e}h in a?a[h]=g:g===!0?a.setAttribute(h,""):wa(a,h,g)}}}function Nc(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Na("error",a),Na("load",a);var g=!1,O=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var be=h[_];if(be!=null)switch(_){case"src":g=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Ui(a,l,_,be,h,null)}}O&&Ui(a,l,"srcSet",h.srcSet,h,null),g&&Ui(a,l,"src",h.src,h,null);return;case"input":Na("invalid",a);var He=_=be=O=null,mt=null,rs=null;for(g in h)if(h.hasOwnProperty(g)){var Ss=h[g];if(Ss!=null)switch(g){case"name":O=Ss;break;case"type":be=Ss;break;case"checked":mt=Ss;break;case"defaultChecked":rs=Ss;break;case"value":_=Ss;break;case"defaultValue":He=Ss;break;case"children":case"dangerouslySetInnerHTML":if(Ss!=null)throw Error(n(137,l));break;default:Ui(a,l,g,Ss,h,null)}}Ka(a,_,He,mt,rs,be,O,!1);return;case"select":Na("invalid",a),g=be=_=null;for(O in h)if(h.hasOwnProperty(O)&&(He=h[O],He!=null))switch(O){case"value":_=He;break;case"defaultValue":be=He;break;case"multiple":g=He;default:Ui(a,l,O,He,h,null)}l=_,h=be,a.multiple=!!g,l!=null?hi(a,!!g,l,!1):h!=null&&hi(a,!!g,h,!0);return;case"textarea":Na("invalid",a),_=O=g=null;for(be in h)if(h.hasOwnProperty(be)&&(He=h[be],He!=null))switch(be){case"value":g=He;break;case"defaultValue":O=He;break;case"children":_=He;break;case"dangerouslySetInnerHTML":if(He!=null)throw Error(n(91));break;default:Ui(a,l,be,He,h,null)}Bi(a,g,O,_);return;case"option":for(mt in h)if(h.hasOwnProperty(mt)&&(g=h[mt],g!=null))switch(mt){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ui(a,l,mt,g,h,null)}return;case"dialog":Na("beforetoggle",a),Na("toggle",a),Na("cancel",a),Na("close",a);break;case"iframe":case"object":Na("load",a);break;case"video":case"audio":for(g=0;g<x0.length;g++)Na(x0[g],a);break;case"image":Na("error",a),Na("load",a);break;case"details":Na("toggle",a);break;case"embed":case"source":case"link":Na("error",a),Na("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(rs in h)if(h.hasOwnProperty(rs)&&(g=h[rs],g!=null))switch(rs){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Ui(a,l,rs,g,h,null)}return;default:if(io(l)){for(Ss in h)h.hasOwnProperty(Ss)&&(g=h[Ss],g!==void 0&&mx(a,l,Ss,g,h,void 0));return}}for(He in h)h.hasOwnProperty(He)&&(g=h[He],g!=null&&Ui(a,l,He,g,h,null))}function tC(a,l,h,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,_=null,be=null,He=null,mt=null,rs=null,Ss=null;for(cs in h){var Ls=h[cs];if(h.hasOwnProperty(cs)&&Ls!=null)switch(cs){case"checked":break;case"value":break;case"defaultValue":mt=Ls;default:g.hasOwnProperty(cs)||Ui(a,l,cs,null,g,Ls)}}for(var as in g){var cs=g[as];if(Ls=h[as],g.hasOwnProperty(as)&&(cs!=null||Ls!=null))switch(as){case"type":_=cs;break;case"name":O=cs;break;case"checked":rs=cs;break;case"defaultChecked":Ss=cs;break;case"value":be=cs;break;case"defaultValue":He=cs;break;case"children":case"dangerouslySetInnerHTML":if(cs!=null)throw Error(n(137,l));break;default:cs!==Ls&&Ui(a,l,as,cs,g,Ls)}}Ki(a,be,He,mt,rs,Ss,_,O);return;case"select":cs=be=He=as=null;for(_ in h)if(mt=h[_],h.hasOwnProperty(_)&&mt!=null)switch(_){case"value":break;case"multiple":cs=mt;default:g.hasOwnProperty(_)||Ui(a,l,_,null,g,mt)}for(O in g)if(_=g[O],mt=h[O],g.hasOwnProperty(O)&&(_!=null||mt!=null))switch(O){case"value":as=_;break;case"defaultValue":He=_;break;case"multiple":be=_;default:_!==mt&&Ui(a,l,O,_,g,mt)}l=He,h=be,g=cs,as!=null?hi(a,!!h,as,!1):!!g!=!!h&&(l!=null?hi(a,!!h,l,!0):hi(a,!!h,h?[]:"",!1));return;case"textarea":cs=as=null;for(He in h)if(O=h[He],h.hasOwnProperty(He)&&O!=null&&!g.hasOwnProperty(He))switch(He){case"value":break;case"children":break;default:Ui(a,l,He,null,g,O)}for(be in g)if(O=g[be],_=h[be],g.hasOwnProperty(be)&&(O!=null||_!=null))switch(be){case"value":as=O;break;case"defaultValue":cs=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:O!==_&&Ui(a,l,be,O,g,_)}To(a,as,cs);return;case"option":for(var Hr in h)if(as=h[Hr],h.hasOwnProperty(Hr)&&as!=null&&!g.hasOwnProperty(Hr))switch(Hr){case"selected":a.selected=!1;break;default:Ui(a,l,Hr,null,g,as)}for(mt in g)if(as=g[mt],cs=h[mt],g.hasOwnProperty(mt)&&as!==cs&&(as!=null||cs!=null))switch(mt){case"selected":a.selected=as&&typeof as!="function"&&typeof as!="symbol";break;default:Ui(a,l,mt,as,g,cs)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bn in h)as=h[Bn],h.hasOwnProperty(Bn)&&as!=null&&!g.hasOwnProperty(Bn)&&Ui(a,l,Bn,null,g,as);for(rs in g)if(as=g[rs],cs=h[rs],g.hasOwnProperty(rs)&&as!==cs&&(as!=null||cs!=null))switch(rs){case"children":case"dangerouslySetInnerHTML":if(as!=null)throw Error(n(137,l));break;default:Ui(a,l,rs,as,g,cs)}return;default:if(io(l)){for(var Fi in h)as=h[Fi],h.hasOwnProperty(Fi)&&as!==void 0&&!g.hasOwnProperty(Fi)&&mx(a,l,Fi,void 0,g,as);for(Ss in g)as=g[Ss],cs=h[Ss],!g.hasOwnProperty(Ss)||as===cs||as===void 0&&cs===void 0||mx(a,l,Ss,as,g,cs);return}}for(var zt in h)as=h[zt],h.hasOwnProperty(zt)&&as!=null&&!g.hasOwnProperty(zt)&&Ui(a,l,zt,null,g,as);for(Ls in g)as=g[Ls],cs=h[Ls],!g.hasOwnProperty(Ls)||as===cs||as==null&&cs==null||Ui(a,l,Ls,as,g,cs)}function Y1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sC(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var O=h[g],_=O.transferSize,be=O.initiatorType,He=O.duration;if(_&&He&&Y1(be)){for(be=0,He=O.responseEnd,g+=1;g<h.length;g++){var mt=h[g],rs=mt.startTime;if(rs>He)break;var Ss=mt.transferSize,Ls=mt.initiatorType;Ss&&Y1(Ls)&&(mt=mt.responseEnd,be+=Ss*(mt<He?1:(He-rs)/(mt-rs)))}if(--g,l+=8*(_+be)/(O.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var px=null,gx=null;function Em(a){return a.nodeType===9?a:a.ownerDocument}function X1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J1(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function xx(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var bx=null;function rC(){var a=window.event;return a&&a.type==="popstate"?a===bx?!1:(bx=a,!0):(bx=null,!1)}var Z1=typeof setTimeout=="function"?setTimeout:void 0,nC=typeof clearTimeout=="function"?clearTimeout:void 0,q1=typeof Promise=="function"?Promise:void 0,aC=typeof queueMicrotask=="function"?queueMicrotask:typeof q1<"u"?function(a){return q1.resolve(null).then(a).catch(iC)}:Z1;function iC(a){setTimeout(function(){throw a})}function oh(a){return a==="head"}function ey(a,l){var h=l,g=0;do{var O=h.nextSibling;if(a.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"||h==="/&"){if(g===0){a.removeChild(O),_f(l);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")v0(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,v0(h);for(var _=h.firstChild;_;){var be=_.nextSibling,He=_.nodeName;_[Eo]||He==="SCRIPT"||He==="STYLE"||He==="LINK"&&_.rel.toLowerCase()==="stylesheet"||h.removeChild(_),_=be}}else h==="body"&&v0(a.ownerDocument.body);h=O}while(h);_f(l)}function ty(a,l){var h=a;a=0;do{var g=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=g}while(h)}function vx(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":vx(h),Vl(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function oC(a,l,h,g){for(;a.nodeType===1;){var O=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Eo])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==O.rel||a.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||a.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||a.getAttribute("title")!==(O.title==null?null:O.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(O.src==null?null:O.src)||a.getAttribute("type")!==(O.type==null?null:O.type)||a.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var _=O.name==null?null:""+O.name;if(O.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=su(a.nextSibling),a===null)break}return null}function lC(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=su(a.nextSibling),a===null))return null;return a}function sy(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=su(a.nextSibling),a===null))return null;return a}function yx(a){return a.data==="$?"||a.data==="$~"}function wx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function cC(a,l){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||h.readyState!=="loading")l();else{var g=function(){l(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function su(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var jx=null;function ry(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(l===0)return su(a.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}a=a.nextSibling}return null}function ny(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return a;l--}else h!=="/$"&&h!=="/&"||l++}a=a.previousSibling}return null}function ay(a,l,h){switch(l=Em(h),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function v0(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Vl(a)}var ru=new Map,iy=new Set;function Tm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var BA=de.d;de.d={f:dC,r:uC,D:AC,C:hC,L:fC,m:mC,X:gC,S:pC,M:xC};function dC(){var a=BA.f(),l=_l();return a||l}function uC(a){var l=fa(a);l!==null&&l.tag===5&&l.type==="form"?wc(l):BA.r(a)}var Df=typeof document>"u"?null:document;function oy(a,l,h){var g=Df;if(g&&typeof l=="string"&&l){var O=Gn(l);O='link[rel="'+a+'"][href="'+O+'"]',typeof h=="string"&&(O+='[crossorigin="'+h+'"]'),iy.has(O)||(iy.add(O),a={rel:a,crossOrigin:h,href:l},g.querySelector(O)===null&&(l=g.createElement("link"),Nc(l,"link",a),Ta(l),g.head.appendChild(l)))}}function AC(a){BA.D(a),oy("dns-prefetch",a,null)}function hC(a,l){BA.C(a,l),oy("preconnect",a,l)}function fC(a,l,h){BA.L(a,l,h);var g=Df;if(g&&a&&l){var O='link[rel="preload"][as="'+Gn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(O+='[imagesrcset="'+Gn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(O+='[imagesizes="'+Gn(h.imageSizes)+'"]')):O+='[href="'+Gn(a)+'"]';var _=O;switch(l){case"style":_=Rf(a);break;case"script":_=Qf(a)}ru.has(_)||(a=m({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),ru.set(_,a),g.querySelector(O)!==null||l==="style"&&g.querySelector(y0(_))||l==="script"&&g.querySelector(w0(_))||(l=g.createElement("link"),Nc(l,"link",a),Ta(l),g.head.appendChild(l)))}}function mC(a,l){BA.m(a,l);var h=Df;if(h&&a){var g=l&&typeof l.as=="string"?l.as:"script",O='link[rel="modulepreload"][as="'+Gn(g)+'"][href="'+Gn(a)+'"]',_=O;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Qf(a)}if(!ru.has(_)&&(a=m({rel:"modulepreload",href:a},l),ru.set(_,a),h.querySelector(O)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(w0(_)))return}g=h.createElement("link"),Nc(g,"link",a),Ta(g),h.head.appendChild(g)}}}function pC(a,l,h){BA.S(a,l,h);var g=Df;if(g&&a){var O=sa(g).hoistableStyles,_=Rf(a);l=l||"default";var be=O.get(_);if(!be){var He={loading:0,preload:null};if(be=g.querySelector(y0(_)))He.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":l},h),(h=ru.get(_))&&Nx(a,h);var mt=be=g.createElement("link");Ta(mt),Nc(mt,"link",a),mt._p=new Promise(function(rs,Ss){mt.onload=rs,mt.onerror=Ss}),mt.addEventListener("load",function(){He.loading|=1}),mt.addEventListener("error",function(){He.loading|=2}),He.loading|=4,Um(be,l,g)}be={type:"stylesheet",instance:be,count:1,state:He},O.set(_,be)}}}function gC(a,l){BA.X(a,l);var h=Df;if(h&&a){var g=sa(h).hoistableScripts,O=Qf(a),_=g.get(O);_||(_=h.querySelector(w0(O)),_||(a=m({src:a,async:!0},l),(l=ru.get(O))&&Cx(a,l),_=h.createElement("script"),Ta(_),Nc(_,"link",a),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(O,_))}}function xC(a,l){BA.M(a,l);var h=Df;if(h&&a){var g=sa(h).hoistableScripts,O=Qf(a),_=g.get(O);_||(_=h.querySelector(w0(O)),_||(a=m({src:a,async:!0,type:"module"},l),(l=ru.get(O))&&Cx(a,l),_=h.createElement("script"),Ta(_),Nc(_,"link",a),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(O,_))}}function ly(a,l,h,g){var O=(O=ge.current)?Tm(O):null;if(!O)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Rf(h.href),h=sa(O).hoistableStyles,g=h.get(l),g||(g={type:"style",instance:null,count:0,state:null},h.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Rf(h.href);var _=sa(O).hoistableStyles,be=_.get(a);if(be||(O=O.ownerDocument||O,be={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,be),(_=O.querySelector(y0(a)))&&!_._p&&(be.instance=_,be.state.loading=5),ru.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ru.set(a,h),_||bC(O,a,h,be.state))),l&&g===null)throw Error(n(528,""));return be}if(l&&g!==null)throw Error(n(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Qf(h),h=sa(O).hoistableScripts,g=h.get(l),g||(g={type:"script",instance:null,count:0,state:null},h.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Rf(a){return'href="'+Gn(a)+'"'}function y0(a){return'link[rel="stylesheet"]['+a+"]"}function cy(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function bC(a,l,h,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Nc(l,"link",h),Ta(l),a.head.appendChild(l))}function Qf(a){return'[src="'+Gn(a)+'"]'}function w0(a){return"script[async]"+a}function dy(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+Gn(h.href)+'"]');if(g)return l.instance=g,Ta(g),g;var O=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Ta(g),Nc(g,"style",O),Um(g,h.precedence,a),l.instance=g;case"stylesheet":O=Rf(h.href);var _=a.querySelector(y0(O));if(_)return l.state.loading|=4,l.instance=_,Ta(_),_;g=cy(h),(O=ru.get(O))&&Nx(g,O),_=(a.ownerDocument||a).createElement("link"),Ta(_);var be=_;return be._p=new Promise(function(He,mt){be.onload=He,be.onerror=mt}),Nc(_,"link",g),l.state.loading|=4,Um(_,h.precedence,a),l.instance=_;case"script":return _=Qf(h.src),(O=a.querySelector(w0(_)))?(l.instance=O,Ta(O),O):(g=h,(O=ru.get(_))&&(g=m({},h),Cx(g,O)),a=a.ownerDocument||a,O=a.createElement("script"),Ta(O),Nc(O,"link",g),a.head.appendChild(O),l.instance=O);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Um(g,h.precedence,a));return l.instance}function Um(a,l,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=g.length?g[g.length-1]:null,_=O,be=0;be<g.length;be++){var He=g[be];if(He.dataset.precedence===l)_=He;else if(_!==O)break}_?_.parentNode.insertBefore(a,_.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function Nx(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Cx(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Fm=null;function uy(a,l,h){if(Fm===null){var g=new Map,O=Fm=new Map;O.set(h,g)}else O=Fm,g=O.get(h),g||(g=new Map,O.set(h,g));if(g.has(a))return g;for(g.set(a,null),h=h.getElementsByTagName(a),O=0;O<h.length;O++){var _=h[O];if(!(_[Eo]||_[Nn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var be=_.getAttribute(l)||"";be=a+be;var He=g.get(be);He?He.push(_):g.set(be,[_])}}return g}function Ay(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function vC(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function hy(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function yC(a,l,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=Rf(g.href),_=l.querySelector(y0(O));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Mm.bind(a),l.then(a,a)),h.state.loading|=4,h.instance=_,Ta(_);return}_=l.ownerDocument||l,g=cy(g),(O=ru.get(O))&&Nx(g,O),_=_.createElement("link"),Ta(_);var be=_;be._p=new Promise(function(He,mt){be.onload=He,be.onerror=mt}),Nc(_,"link",g),h.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=Mm.bind(a),l.addEventListener("load",h),l.addEventListener("error",h))}}var Bx=0;function wC(a,l){return a.stylesheets&&a.count===0&&Om(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var g=setTimeout(function(){if(a.stylesheets&&Om(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+l);0<a.imgBytes&&Bx===0&&(Bx=62500*sC());var O=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Om(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>Bx?50:800)+l);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(O)}}:null}function Mm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Om(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Lm=null;function Om(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Lm=new Map,l.forEach(jC,a),Lm=null,Mm.call(a))}function jC(a,l){if(!(l.state.loading&4)){var h=Lm.get(a);if(h)var g=h.get(null);else{h=new Map,Lm.set(a,h);for(var O=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<O.length;_++){var be=O[_];(be.nodeName==="LINK"||be.getAttribute("media")!=="not all")&&(h.set(be.dataset.precedence,be),g=be)}g&&h.set(null,g)}O=l.instance,be=O.getAttribute("data-precedence"),_=h.get(be)||g,_===g&&h.set(null,O),h.set(be,O),this.count++,g=Mm.bind(this),O.addEventListener("load",g),O.addEventListener("error",g),_?_.parentNode.insertBefore(O,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(O,a.firstChild)),l.state.loading|=4}}var j0={$$typeof:K,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function NC(a,l,h,g,O,_,be,He,mt){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Is(0),this.hiddenUpdates=Is(null),this.identifierPrefix=g,this.onUncaughtError=O,this.onCaughtError=_,this.onRecoverableError=be,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=mt,this.incompleteTransitions=new Map}function fy(a,l,h,g,O,_,be,He,mt,rs,Ss,Ls){return a=new NC(a,l,h,be,mt,rs,Ss,Ls,He),l=1,_===!0&&(l|=24),_=Oo(3,null,null,l),a.current=_,_.stateNode=a,l=ed(),l.refCount++,a.pooledCache=l,l.refCount++,_.memoizedState={element:g,isDehydrated:h,cache:l},Fa(_),a}function my(a){return a?(a=go,a):go}function py(a,l,h,g,O,_){O=my(O),g.context===null?g.context=O:g.pendingContext=O,g=Wr(l),g.payload={element:h},_=_===void 0?null:_,_!==null&&(g.callback=_),h=ln(a,g,l),h!==null&&(vi(h,a,l),En(h,a,l))}function gy(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function kx(a,l){gy(a,l),(a=a.alternate)&&gy(a,l)}function xy(a){if(a.tag===13||a.tag===31){var l=$l(a,67108864);l!==null&&vi(l,a,67108864),kx(a,67108864)}}function by(a){if(a.tag===13||a.tag===31){var l=rn();l=gr(l);var h=$l(a,l);h!==null&&vi(h,a,l),kx(a,l)}}var Im=!0;function CC(a,l,h,g){var O=ae.T;ae.T=null;var _=de.p;try{de.p=2,Sx(a,l,h,g)}finally{de.p=_,ae.T=O}}function BC(a,l,h,g){var O=ae.T;ae.T=null;var _=de.p;try{de.p=8,Sx(a,l,h,g)}finally{de.p=_,ae.T=O}}function Sx(a,l,h,g){if(Im){var O=Ex(g);if(O===null)fx(a,l,g,Dm,h),yy(a,g);else if(SC(O,a,l,h,g))g.stopPropagation();else if(yy(a,g),l&4&&-1<kC.indexOf(a)){for(;O!==null;){var _=fa(O);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var be=Ks(_.pendingLanes);if(be!==0){var He=_;for(He.pendingLanes|=2,He.entangledLanes|=2;be;){var mt=1<<31-Ms(be);He.entanglements[1]|=mt,be&=~mt}Ku(_),(va&6)===0&&(Cr=$s()+500,g0(0))}}break;case 31:case 13:He=$l(_,2),He!==null&&vi(He,_,2),_l(),kx(_,2)}if(_=Ex(g),_===null&&fx(a,l,g,Dm,h),_===O)break;O=_}O!==null&&g.stopPropagation()}else fx(a,l,g,null,h)}}function Ex(a){return a=L(a),Tx(a)}var Dm=null;function Tx(a){if(Dm=null,a=uo(a),a!==null){var l=c(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=u(l),a!==null)return a;a=null}else if(h===31){if(a=d(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Dm=a,null}function vy(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case Rs:return 2;case br:return 8;case js:case qs:return 32;case hr:return 268435456;default:return 32}default:return 32}}var Ux=!1,lh=null,ch=null,dh=null,N0=new Map,C0=new Map,uh=[],kC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yy(a,l){switch(a){case"focusin":case"focusout":lh=null;break;case"dragenter":case"dragleave":ch=null;break;case"mouseover":case"mouseout":dh=null;break;case"pointerover":case"pointerout":N0.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":C0.delete(l.pointerId)}}function B0(a,l,h,g,O,_){return a===null||a.nativeEvent!==_?(a={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:_,targetContainers:[O]},l!==null&&(l=fa(l),l!==null&&xy(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,O!==null&&l.indexOf(O)===-1&&l.push(O),a)}function SC(a,l,h,g,O){switch(l){case"focusin":return lh=B0(lh,a,l,h,g,O),!0;case"dragenter":return ch=B0(ch,a,l,h,g,O),!0;case"mouseover":return dh=B0(dh,a,l,h,g,O),!0;case"pointerover":var _=O.pointerId;return N0.set(_,B0(N0.get(_)||null,a,l,h,g,O)),!0;case"gotpointercapture":return _=O.pointerId,C0.set(_,B0(C0.get(_)||null,a,l,h,g,O)),!0}return!1}function wy(a){var l=uo(a.target);if(l!==null){var h=c(l);if(h!==null){if(l=h.tag,l===13){if(l=u(h),l!==null){a.blockedOn=l,In(a.priority,function(){by(h)});return}}else if(l===31){if(l=d(h),l!==null){a.blockedOn=l,In(a.priority,function(){by(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Rm(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=Ex(a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);T=g,h.target.dispatchEvent(g),T=null}else return l=fa(h),l!==null&&xy(l),a.blockedOn=h,!1;l.shift()}return!0}function jy(a,l,h){Rm(a)&&h.delete(l)}function EC(){Ux=!1,lh!==null&&Rm(lh)&&(lh=null),ch!==null&&Rm(ch)&&(ch=null),dh!==null&&Rm(dh)&&(dh=null),N0.forEach(jy),C0.forEach(jy)}function Qm(a,l){a.blockedOn===l&&(a.blockedOn=null,Ux||(Ux=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,EC)))}var _m=null;function Ny(a){_m!==a&&(_m=a,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){_m===a&&(_m=null);for(var l=0;l<a.length;l+=3){var h=a[l],g=a[l+1],O=a[l+2];if(typeof g!="function"){if(Tx(g||h)===null)continue;break}var _=fa(h);_!==null&&(a.splice(l,3),l-=3,mA(_,{pending:!0,data:O,method:h.method,action:g},g,O))}}))}function _f(a){function l(mt){return Qm(mt,a)}lh!==null&&Qm(lh,a),ch!==null&&Qm(ch,a),dh!==null&&Qm(dh,a),N0.forEach(l),C0.forEach(l);for(var h=0;h<uh.length;h++){var g=uh[h];g.blockedOn===a&&(g.blockedOn=null)}for(;0<uh.length&&(h=uh[0],h.blockedOn===null);)wy(h),h.blockedOn===null&&uh.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var O=h[g],_=h[g+1],be=O[ga]||null;if(typeof _=="function")be||Ny(h);else if(be){var He=null;if(_&&_.hasAttribute("formAction")){if(O=_,be=_[ga]||null)He=be.formAction;else if(Tx(O)!==null)continue}else He=be.action;typeof He=="function"?h[g+1]=He:(h.splice(g,3),g-=3),Ny(h)}}}function Cy(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(be){return O=be})},focusReset:"manual",scroll:"manual"})}function l(){O!==null&&(O(),O=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,O=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),O!==null&&(O(),O=null)}}}function Fx(a){this._internalRoot=a}Pm.prototype.render=Fx.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var h=l.current,g=rn();py(h,g,a,l,null,null)},Pm.prototype.unmount=Fx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;py(a.current,2,null,a,null,null),_l(),l[Zn]=null}};function Pm(a){this._internalRoot=a}Pm.prototype.unstable_scheduleHydration=function(a){if(a){var l=yn();a={blockedOn:null,target:a,priority:l};for(var h=0;h<uh.length&&l!==0&&l<uh[h].priority;h++);uh.splice(h,0,a),h===0&&wy(a)}};var By=e.version;if(By!=="19.2.3")throw Error(n(527,By,"19.2.3"));de.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=o(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var TC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hm.isDisabled&&Hm.supportsFiber)try{Es=Hm.inject(TC),Gt=Hm}catch{}}return E0.createRoot=function(a,l){if(!i(a))throw Error(n(299));var h=!1,g="",O=gA,_=xA,be=bA;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(O=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(be=l.onRecoverableError)),l=fy(a,1,!1,null,null,h,g,null,O,_,be,Cy),a[Zn]=l.current,hx(a),new Fx(l)},E0.hydrateRoot=function(a,l,h){if(!i(a))throw Error(n(299));var g=!1,O="",_=gA,be=xA,He=bA,mt=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(be=h.onCaughtError),h.onRecoverableError!==void 0&&(He=h.onRecoverableError),h.formState!==void 0&&(mt=h.formState)),l=fy(a,1,!0,l,h??null,g,O,mt,_,be,He,Cy),l.context=my(null),h=l.current,g=rn(),g=gr(g),O=Wr(g),O.callback=null,ln(h,O,g),h=g,l.current.lanes=h,kr(l,h),Ku(l),a[Zn]=l.current,hx(a),new Pm(l)},E0.version="19.2.3",E0}var Iy;function zC(){if(Iy)return Ox.exports;Iy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ox.exports=HC(),Ox.exports}var VC=zC();const KC=Tg(VC);var tj=ej();const sj=Tg(tj);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},em.apply(this,arguments)}var vh;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(vh||(vh={}));const Dy="popstate";function $C(s){s===void 0&&(s={});function e(n,i){let{pathname:c,search:u,hash:d}=n.location;return kb("",{pathname:c,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:rj(i)}return WC(e,r,null,s)}function Bl(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Sv(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GC(){return Math.random().toString(36).substr(2,8)}function Ry(s,e){return{usr:s.state,key:s.key,idx:e}}function kb(s,e,r,n){return r===void 0&&(r=null),em({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?c0(e):e,{state:r,key:e&&e.key||n||GC()})}function rj(s){let{pathname:e="/",search:r="",hash:n=""}=s;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function c0(s){let e={};if(s){let r=s.indexOf("#");r>=0&&(e.hash=s.substr(r),s=s.substr(0,r));let n=s.indexOf("?");n>=0&&(e.search=s.substr(n),s=s.substr(0,n)),s&&(e.pathname=s)}return e}function WC(s,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:c=!1}=n,u=i.history,d=vh.Pop,A=null,o=f();o==null&&(o=0,u.replaceState(em({},u.state,{idx:o}),""));function f(){return(u.state||{idx:null}).idx}function m(){d=vh.Pop;let w=f(),E=w==null?null:w-o;o=w,A&&A({action:d,location:y.location,delta:E})}function p(w,E){d=vh.Push;let Q=kb(y.location,w,E);o=f()+1;let K=Ry(Q,o),Z=y.createHref(Q);try{u.pushState(K,"",Z)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(Z)}c&&A&&A({action:d,location:y.location,delta:1})}function x(w,E){d=vh.Replace;let Q=kb(y.location,w,E);o=f();let K=Ry(Q,o),Z=y.createHref(Q);u.replaceState(K,"",Z),c&&A&&A({action:d,location:y.location,delta:0})}function v(w){let E=i.location.origin!=="null"?i.location.origin:i.location.href,Q=typeof w=="string"?w:rj(w);return Q=Q.replace(/ $/,"%20"),Bl(E,"No window.location.(origin|href) available to create URL for href: "+Q),new URL(Q,E)}let y={get action(){return d},get location(){return s(i,u)},listen(w){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener(Dy,m),A=w,()=>{i.removeEventListener(Dy,m),A=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let E=v(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:x,go(w){return u.go(w)}};return y}var Qy;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Qy||(Qy={}));function YC(s,e,r){return r===void 0&&(r="/"),XC(s,e,r)}function XC(s,e,r,n){let i=typeof e=="string"?c0(e):e,c=ij(i.pathname||"/",r);if(c==null)return null;let u=nj(s);JC(u);let d=null;for(let A=0;d==null&&A<u.length;++A){let o=cB(c);d=iB(u[A],o)}return d}function nj(s,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(c,u,d)=>{let A={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};A.relativePath.startsWith("/")&&(Bl(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let o=lf([n,A.relativePath]),f=r.concat(A);c.children&&c.children.length>0&&(Bl(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),nj(c.children,e,f,o)),!(c.path==null&&!c.index)&&e.push({path:o,score:nB(o,c.index),routesMeta:f})};return s.forEach((c,u)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))i(c,u);else for(let A of aj(c.path))i(c,u,A)}),e}function aj(s){let e=s.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),c=r.replace(/\?$/,"");if(n.length===0)return i?[c,""]:[c];let u=aj(n.join("/")),d=[];return d.push(...u.map(A=>A===""?c:[c,A].join("/"))),i&&d.push(...u),d.map(A=>s.startsWith("/")&&A===""?"/":A)}function JC(s){s.sort((e,r)=>e.score!==r.score?r.score-e.score:aB(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ZC=/^:[\w-]+$/,qC=3,eB=2,tB=1,sB=10,rB=-2,_y=s=>s==="*";function nB(s,e){let r=s.split("/"),n=r.length;return r.some(_y)&&(n+=rB),e&&(n+=eB),r.filter(i=>!_y(i)).reduce((i,c)=>i+(ZC.test(c)?qC:c===""?tB:sB),n)}function aB(s,e){return s.length===e.length&&s.slice(0,-1).every((n,i)=>n===e[i])?s[s.length-1]-e[e.length-1]:0}function iB(s,e,r){let{routesMeta:n}=s,i={},c="/",u=[];for(let d=0;d<n.length;++d){let A=n[d],o=d===n.length-1,f=c==="/"?e:e.slice(c.length)||"/",m=oB({path:A.relativePath,caseSensitive:A.caseSensitive,end:o},f),p=A.route;if(!m)return null;Object.assign(i,m.params),u.push({params:i,pathname:lf([c,m.pathname]),pathnameBase:fB(lf([c,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(c=lf([c,m.pathnameBase]))}return u}function oB(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,n]=lB(s.path,s.caseSensitive,s.end),i=e.match(r);if(!i)return null;let c=i[0],u=c.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((o,f,m)=>{let{paramName:p,isOptional:x}=f;if(p==="*"){let y=d[m]||"";u=c.slice(0,c.length-y.length).replace(/(.)\/+$/,"$1")}const v=d[m];return x&&!v?o[p]=void 0:o[p]=(v||"").replace(/%2F/g,"/"),o},{}),pathname:c,pathnameBase:u,pattern:s}}function lB(s,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Sv(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let n=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,A)=>(n.push({paramName:d,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function cB(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sv(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function ij(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=s.charAt(r);return n&&n!=="/"?null:s.slice(r)||"/"}const dB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uB=s=>dB.test(s);function AB(s,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof s=="string"?c0(s):s,c;if(r)if(uB(r))c=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),Sv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+r))}r.startsWith("/")?c=Py(r.substring(1),"/"):c=Py(r,e)}else c=e;return{pathname:c,search:mB(n),hash:pB(i)}}function Py(s,e){let r=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Qx(s,e,r,n){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hB(s){return s.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function oj(s,e){let r=hB(s);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lj(s,e,r,n){n===void 0&&(n=!1);let i;typeof s=="string"?i=c0(s):(i=em({},s),Bl(!i.pathname||!i.pathname.includes("?"),Qx("?","pathname","search",i)),Bl(!i.pathname||!i.pathname.includes("#"),Qx("#","pathname","hash",i)),Bl(!i.search||!i.search.includes("#"),Qx("#","search","hash",i)));let c=s===""||i.pathname==="",u=c?"/":i.pathname,d;if(u==null)d=r;else{let m=e.length-1;if(!n&&u.startsWith("..")){let p=u.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}d=m>=0?e[m]:"/"}let A=AB(i,d),o=u&&u!=="/"&&u.endsWith("/"),f=(c||u===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(o||f)&&(A.pathname+="/"),A}const lf=s=>s.join("/").replace(/\/\/+/g,"/"),fB=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),mB=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,pB=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function gB(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const cj=["post","put","patch","delete"];new Set(cj);const xB=["get",...cj];new Set(xB);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tm(){return tm=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},tm.apply(this,arguments)}const Ev=W.createContext(null),bB=W.createContext(null),fm=W.createContext(null),Ug=W.createContext(null),Lh=W.createContext({outlet:null,matches:[],isDataRoute:!1}),dj=W.createContext(null);function mm(){return W.useContext(Ug)!=null}function d0(){return mm()||Bl(!1),W.useContext(Ug).location}function uj(s){W.useContext(fm).static||W.useLayoutEffect(s)}function Hl(){let{isDataRoute:s}=W.useContext(Lh);return s?FB():vB()}function vB(){mm()||Bl(!1);let s=W.useContext(Ev),{basename:e,future:r,navigator:n}=W.useContext(fm),{matches:i}=W.useContext(Lh),{pathname:c}=d0(),u=JSON.stringify(oj(i,r.v7_relativeSplatPath)),d=W.useRef(!1);return uj(()=>{d.current=!0}),W.useCallback(function(o,f){if(f===void 0&&(f={}),!d.current)return;if(typeof o=="number"){n.go(o);return}let m=lj(o,JSON.parse(u),c,f.relative==="path");s==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:lf([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,u,c,s])}function Fg(){let{matches:s}=W.useContext(Lh),e=s[s.length-1];return e?e.params:{}}function yB(s,e){return wB(s,e)}function wB(s,e,r,n){mm()||Bl(!1);let{navigator:i}=W.useContext(fm),{matches:c}=W.useContext(Lh),u=c[c.length-1],d=u?u.params:{};u&&u.pathname;let A=u?u.pathnameBase:"/";u&&u.route;let o=d0(),f;if(e){var m;let w=typeof e=="string"?c0(e):e;A==="/"||(m=w.pathname)!=null&&m.startsWith(A)||Bl(!1),f=w}else f=o;let p=f.pathname||"/",x=p;if(A!=="/"){let w=A.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=YC(s,{pathname:x}),y=kB(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:lf([A,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?A:lf([A,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),c,r,n);return e&&y?W.createElement(Ug.Provider,{value:{location:tm({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:vh.Pop}},y):y}function jB(){let s=UB(),e=gB(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),r?W.createElement("pre",{style:i},r):null,null)}const NB=W.createElement(jB,null);class CB extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?W.createElement(Lh.Provider,{value:this.props.routeContext},W.createElement(dj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BB(s){let{routeContext:e,match:r,children:n}=s,i=W.useContext(Ev);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),W.createElement(Lh.Provider,{value:e},n)}function kB(s,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),s==null){var c;if(!r)return null;if(r.errors)s=r.matches;else if((c=n)!=null&&c.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=(i=r)==null?void 0:i.errors;if(d!=null){let f=u.findIndex(m=>m.route.id&&(d==null?void 0:d[m.route.id])!==void 0);f>=0||Bl(!1),u=u.slice(0,Math.min(u.length,f+1))}let A=!1,o=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<u.length;f++){let m=u[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(o=f),m.route.id){let{loaderData:p,errors:x}=r,v=m.route.loader&&p[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||v){A=!0,o>=0?u=u.slice(0,o+1):u=[u[0]];break}}}return u.reduceRight((f,m,p)=>{let x,v=!1,y=null,w=null;r&&(x=d&&m.route.id?d[m.route.id]:void 0,y=m.route.errorElement||NB,A&&(o<0&&p===0?(MB("route-fallback"),v=!0,w=null):o===p&&(v=!0,w=m.route.hydrateFallbackElement||null)));let E=e.concat(u.slice(0,p+1)),Q=()=>{let K;return x?K=y:v?K=w:m.route.Component?K=W.createElement(m.route.Component,null):m.route.element?K=m.route.element:K=f,W.createElement(BB,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:r!=null},children:K})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?W.createElement(CB,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:Q(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):Q()},null)}var Aj=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Aj||{}),hj=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(hj||{});function SB(s){let e=W.useContext(Ev);return e||Bl(!1),e}function EB(s){let e=W.useContext(bB);return e||Bl(!1),e}function TB(s){let e=W.useContext(Lh);return e||Bl(!1),e}function fj(s){let e=TB(),r=e.matches[e.matches.length-1];return r.route.id||Bl(!1),r.route.id}function UB(){var s;let e=W.useContext(dj),r=EB(),n=fj();return e!==void 0?e:(s=r.errors)==null?void 0:s[n]}function FB(){let{router:s}=SB(Aj.UseNavigateStable),e=fj(hj.UseNavigateStable),r=W.useRef(!1);return uj(()=>{r.current=!0}),W.useCallback(function(i,c){c===void 0&&(c={}),r.current&&(typeof i=="number"?s.navigate(i):s.navigate(i,tm({fromRouteId:e},c)))},[s,e])}const Hy={};function MB(s,e,r){Hy[s]||(Hy[s]=!0)}function LB(s,e){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function OB(s){let{to:e,replace:r,state:n,relative:i}=s;mm()||Bl(!1);let{future:c,static:u}=W.useContext(fm),{matches:d}=W.useContext(Lh),{pathname:A}=d0(),o=Hl(),f=lj(e,oj(d,c.v7_relativeSplatPath),A,i==="path"),m=JSON.stringify(f);return W.useEffect(()=>o(JSON.parse(m),{replace:r,state:n,relative:i}),[o,m,i,r,n]),null}function Pl(s){Bl(!1)}function IB(s){let{basename:e="/",children:r=null,location:n,navigationType:i=vh.Pop,navigator:c,static:u=!1,future:d}=s;mm()&&Bl(!1);let A=e.replace(/^\/*/,"/"),o=W.useMemo(()=>({basename:A,navigator:c,static:u,future:tm({v7_relativeSplatPath:!1},d)}),[A,d,c,u]);typeof n=="string"&&(n=c0(n));let{pathname:f="/",search:m="",hash:p="",state:x=null,key:v="default"}=n,y=W.useMemo(()=>{let w=ij(f,A);return w==null?null:{location:{pathname:w,search:m,hash:p,state:x,key:v},navigationType:i}},[A,f,m,p,x,v,i]);return y==null?null:W.createElement(fm.Provider,{value:o},W.createElement(Ug.Provider,{children:r,value:y}))}function DB(s){let{children:e,location:r}=s;return yB(Sb(e),r)}new Promise(()=>{});function Sb(s,e){e===void 0&&(e=[]);let r=[];return W.Children.forEach(s,(n,i)=>{if(!W.isValidElement(n))return;let c=[...e,i];if(n.type===W.Fragment){r.push.apply(r,Sb(n.props.children,c));return}n.type!==Pl&&Bl(!1),!n.props.index||!n.props.children||Bl(!1);let u={id:n.props.id||c.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Sb(n.props.children,c)),r.push(u)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eb(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,r)=>{let n=s[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function RB(s,e){let r=Eb(s);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(c=>{r.append(i,c)})}),r}const QB="6";try{window.__reactRouterVersion=QB}catch{}const _B="startTransition",zy=RC[_B];function PB(s){let{basename:e,children:r,future:n,window:i}=s,c=W.useRef();c.current==null&&(c.current=$C({window:i,v5Compat:!0}));let u=c.current,[d,A]=W.useState({action:u.action,location:u.location}),{v7_startTransition:o}=n||{},f=W.useCallback(m=>{o&&zy?zy(()=>A(m)):A(m)},[A,o]);return W.useLayoutEffect(()=>u.listen(f),[u,f]),W.useEffect(()=>LB(n),[n]),W.createElement(IB,{basename:e,children:r,location:d.location,navigationType:d.action,navigator:u,future:n})}var Vy;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Vy||(Vy={}));var Ky;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Ky||(Ky={}));function HB(s){let e=W.useRef(Eb(s)),r=W.useRef(!1),n=d0(),i=W.useMemo(()=>RB(n.search,r.current?null:e.current),[n.search]),c=Hl(),u=W.useCallback((d,A)=>{const o=Eb(typeof d=="function"?d(i):d);r.current=!0,c("?"+o,A)},[c,i]);return[i,u]}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VB=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),$y=s=>{const e=VB(s);return e.charAt(0).toUpperCase()+e.slice(1)},mj=(...s)=>s.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),KB=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $B={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=W.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:c,iconNode:u,...d},A)=>W.createElement("svg",{ref:A,...$B,width:e,height:e,stroke:s,strokeWidth:n?Number(r)*24/Number(e):r,className:mj("lucide",i),...!c&&!KB(d)&&{"aria-hidden":"true"},...d},[...u.map(([o,f])=>W.createElement(o,f)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(s,e)=>{const r=W.forwardRef(({className:n,...i},c)=>W.createElement(GB,{ref:c,iconNode:e,className:mj(`lucide-${zB($y(s))}`,`lucide-${s}`,n),...i}));return r.displayName=$y(s),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],cp=qt("arrow-down",WB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],XB=qt("arrow-left-right",YB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qu=qt("arrow-left",JB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],_x=qt("arrow-right-left",ZB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],MA=qt("arrow-right",qB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],tk=qt("arrow-up-right",ek);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],dp=qt("arrow-up",sk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nk=qt("ban",rk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],ik=qt("bed-double",ak);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],cu=qt("bell",ok);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],ck=qt("bold",lk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ep=qt("book-open",dk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Xf=qt("bot",uk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],pj=qt("building-2",Ak);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Mg=qt("bus",hk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],mk=qt("calendar-days",fk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lo=qt("calendar",pk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Lg=qt("camera",gk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],gj=qt("car",xk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],xj=qt("chart-column",bk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],yk=qt("check-check",vk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Go=qt("check",wk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Jf=qt("chevron-down",jk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Oh=qt("chevron-left",Nk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uc=qt("chevron-right",Ck);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oa=qt("circle-alert",Bk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Co=qt("circle-check-big",kk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bo=qt("circle-check",Sk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Og=qt("circle-plus",Ek);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Tp=qt("circle-question-mark",Tk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],du=qt("circle-x",Uk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mk=qt("circle",Fk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vi=qt("clock",Lk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Ik=qt("code",Ok);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],pm=qt("coffee",Dk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Tb=qt("copy",Rk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],_k=qt("cpu",Qk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Zf=qt("credit-card",Pk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zd=qt("crown",Hk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ub=qt("dollar-sign",zk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],P0=qt("download",Vk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],$k=qt("ellipsis",Kk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qf=qt("external-link",Gk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yu=qt("eye-off",Wk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ao=qt("eye",Yk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],Gy=qt("file-headphone",Xk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],Wy=qt("file-pen",Jk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kd=qt("file-text",Zk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],eS=qt("film",qk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Up=qt("flag",tS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],rS=qt("footprints",sS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bj=qt("funnel",nS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ff=qt("gift",aS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fp=qt("globe",iS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Yy=qt("hash",oS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],cS=qt("heading-1",lS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],uS=qt("heading-2",dS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],hS=qt("heading-3",AS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],mf=qt("heart",fS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pS=qt("history",mS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Ig=qt("hotel",gS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],e0=qt("image",xS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],sm=qt("inbox",bS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],yS=qt("infinity",vS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kl=qt("info",wS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],NS=qt("italic",jS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],BS=qt("key-round",CS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Xy=qt("key",kS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],ES=qt("landmark",SS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],US=qt("languages",TS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Tv=qt("layout-dashboard",FS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],LS=qt("leaf",MS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],vj=qt("link-2",OS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Dg=qt("link",IS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],RS=qt("list-ordered",DS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],_S=qt("list",QS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ir=qt("loader-circle",PS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Sd=qt("lock",HS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rg=qt("log-out",zS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M6 20a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2",key:"1m57jg"}],["path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14",key:"1l99gc"}],["path",{d:"M10 20h4",key:"ni2waw"}],["circle",{cx:"16",cy:"20",r:"2",key:"1vifvg"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]],KS=qt("luggage",VS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gd=qt("mail",$S);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yo=qt("map-pin",GS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Mp=qt("map",WS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Xu=qt("megaphone",YS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],yj=qt("menu",XS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],hu=qt("message-circle",JS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Th=qt("message-square",ZS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],wj=qt("mic",qS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M5 12h14",key:"1ays0h"}]],t3=qt("minus",e3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],r3=qt("moon",s3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],Jy=qt("mouse-pointer-click",n3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],jj=qt("navigation",a3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],Fb=qt("notebook-pen",i3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Px=qt("package",o3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],c3=qt("palette",l3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],u3=qt("panel-left-close",d3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],h3=qt("panel-left",A3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],m3=qt("paperclip",f3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],g3=qt("party-popper",p3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Nj=qt("pause",x3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Cj=qt("pen-line",b3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],u0=qt("pen",v3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Qg=qt("pencil",y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Zy=qt("percent",w3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],eA=qt("plane",j3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Mb=qt("play",N3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zi=qt("plus",C3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],k3=qt("printer",B3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],E3=qt("quote",S3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Bj=qt("receipt",T3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],F3=qt("redo",U3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],id=qt("refresh-cw",M3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],O3=qt("rotate-ccw",L3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IA=qt("save",I3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zc=qt("search",D3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Nh=qt("send",R3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gm=qt("settings",Q3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Lp=qt("share-2",_3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],H3=qt("shield-alert",P3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],t0=qt("shield-check",z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vd=qt("shield",V3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],_g=qt("shopping-bag",K3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],co=qt("sparkles",$3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],W3=qt("square-check-big",G3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Uv=qt("square-pen",Y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],J3=qt("square",X3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],q3=qt("star-off",Z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ju=qt("star",eE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],kj=qt("sticky-note",tE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Fv=qt("store",sE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],nE=qt("strikethrough",rE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],iE=qt("sun",aE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Op=qt("tag",oE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],qy=qt("target",lE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],dE=qt("text-align-center",cE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],AE=qt("text-align-end",uE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],fE=qt("text-align-justify",hE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],pE=qt("text-align-start",mE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],xE=qt("ticket",gE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Lb=qt("timer",bE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xo=qt("trash-2",vE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],wE=qt("trending-down",yE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Pg=qt("trending-up",jE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jo=qt("triangle-alert",NE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],BE=qt("type",CE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],SE=qt("underline",kE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],TE=qt("undo",EE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],FE=qt("unlink",UE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],s0=qt("upload",ME);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OE=qt("user-cog",LE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Wo=qt("user",IE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Td=qt("users",DE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Kd=qt("utensils",RE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ob=qt("volume-2",QE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],yf=qt("wallet",_E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Ib=qt("wand-sparkles",PE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],A0=qt("wifi-off",HE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],h0=qt("wifi",zE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],en=qt("x",VE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$E=qt("zap",KE),GE={success:Co,error:Oa,warning:Jo,info:kl},WE={success:"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-200 dark:border-emerald-700 text-emerald-800 dark:text-emerald-200",error:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700 text-red-800 dark:text-red-200",warning:"bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-700 text-amber-800 dark:text-amber-200",info:"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-200"},YE={success:"text-emerald-500",error:"text-red-500",warning:"text-amber-500",info:"text-blue-500"},XE=({id:s,message:e,type:r,duration:n=4e3,onClose:i})=>{const[c,u]=W.useState(!1);W.useEffect(()=>{const o=setTimeout(()=>{u(!0)},n-300),f=setTimeout(()=>{i(s)},n);return()=>{clearTimeout(o),clearTimeout(f)}},[s,n,i]);const d=()=>{u(!0),setTimeout(()=>i(s),300)},A=GE[r];return t.jsxs("div",{className:`
        flex items-center gap-3 p-4 rounded-xl border shadow-lg backdrop-blur-sm
        ${WE[r]}
        ${c?"animate-slide-out-right":"animate-slide-in-right"}
        transition-all duration-300
      `,children:[t.jsx(A,{className:`w-5 h-5 flex-shrink-0 ${YE[r]}`}),t.jsx("span",{className:"font-medium text-sm flex-1",children:e}),t.jsx("button",{onClick:d,className:"p-1 rounded-lg hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:t.jsx(en,{className:"w-4 h-4"})})]})},JE=({toasts:s,onClose:e})=>t.jsx("div",{className:"fixed top-4 right-4 z-[200] flex flex-col gap-2 max-w-sm w-full pointer-events-none",children:s.map(r=>t.jsx("div",{className:"pointer-events-auto",children:t.jsx(XE,{id:r.id,message:r.message,type:r.type,duration:r.duration,onClose:e})},r.id))}),Sj=W.createContext(null);let ZE=0;const qE=({children:s})=>{const[e,r]=W.useState([]),n=W.useCallback(o=>{r(f=>f.filter(m=>m.id!==o))},[]),i=W.useCallback((o,f="info",m=4e3)=>{const p=`toast-${++ZE}`;r(x=>[...x,{id:p,message:o,type:f,duration:m}])},[]),c=W.useCallback((o,f)=>{i(o,"success",f)},[i]),u=W.useCallback((o,f)=>{i(o,"error",f)},[i]),d=W.useCallback((o,f)=>{i(o,"warning",f)},[i]),A=W.useCallback((o,f)=>{i(o,"info",f)},[i]);return t.jsxs(Sj.Provider,{value:{showToast:i,success:c,error:u,warning:d,info:A},children:[s,t.jsx(JE,{toasts:e,onClose:n})]})},Hg=()=>{const s=W.useContext(Sj);if(!s)throw new Error("useToast must be used within a ToastProvider");return s},eT=({isOpen:s,isAdminUser:e,onSwitchToAdmin:r})=>{const n=Hl(),i=d0(),[c,u]=W.useState(!1),[d,A]=W.useState(!1),[o,f]=W.useState(!1),m=W.useRef(null),p=[{path:"/",label:"Travel Dashboard",icon:Tv},{path:"/chat",label:"AI Planner",icon:co},{path:"/trips",label:"My Trips",icon:eA},{path:"/blogs",label:"Travel Stories",icon:Ep},{path:"/scheduler",label:"Notes",icon:Fb},{path:"/translate",label:"Translate",icon:US},{path:"/expenses",label:"Expenses",icon:yf},{path:"/calendar",label:"Calendar",icon:mk}];W.useEffect(()=>{const w=E=>{m.current&&!m.current.contains(E.target)&&A(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const x=()=>{n("/support")},v=()=>{alert(`GogoTrip v2.0 Beta

AI-Powered Travel Companion.`)},y=w=>w==="/"||w==="/dashboard"?i.pathname==="/"||i.pathname==="/dashboard":i.pathname.startsWith(w);return t.jsxs(t.Fragment,{children:[t.jsx("aside",{className:`
          fixed inset-y-0 left-0 z-50 w-72 bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl transition-transform duration-500 ease-apple
          ${s?"translate-x-0":"-translate-x-full"}
          md:hidden shadow-2xl overflow-y-auto
        `,children:t.jsxs("div",{className:"flex flex-col h-full p-4",children:[t.jsxs("div",{className:`mb-6 transition-all duration-500 delay-100 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[t.jsxs("button",{onClick:()=>f(!o),className:`w-full flex items-center justify-between p-2 rounded-2xl transition-all duration-300 active:scale-95 active:bg-slate-100 active:scale-95 ${o?"bg-slate-100 dark:bg-slate-800":""}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-lg shadow-sky-500/30",children:t.jsx(Xf,{className:"w-6 h-6 text-white"})}),t.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"GogoTrip"})]}),t.jsx(Jf,{className:`w-5 h-5 text-slate-400 transition-transform duration-300 ${o?"rotate-180":""}`})]}),t.jsx("div",{className:`
                overflow-hidden transition-all duration-300 ease-in-out
                ${o?"max-h-48 opacity-100 mt-2":"max-h-0 opacity-0"}
             `,children:t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-2 space-y-1",children:[t.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-700 transition-colors active:scale-95",children:[t.jsx(Tp,{className:"w-4 h-4"}),"Help & Support"]}),t.jsxs("button",{onClick:v,className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-700 transition-colors active:scale-95",children:[t.jsx(kl,{className:"w-4 h-4"}),"About"]})]})})]}),t.jsxs("nav",{className:"space-y-2",children:[p.map((w,E)=>t.jsxs("button",{onClick:()=>n(w.path),style:{animationDelay:`${E*100}ms`},className:`
                  w-full flex items-center gap-4 px-4 py-4 rounded-2xl transition-all duration-300 origin-left
                  ${s?"animate-fade-in-up":"opacity-0"}
                  ${y(w.path)?"bg-sky-50 text-sky-600 dark:bg-indigo-500/20 dark:text-indigo-300 font-bold shadow-sm scale-100":"text-slate-500 hover:bg-slate-50 hover:text-slate-900 dark:text-slate-400 dark:hover:bg-slate-800/50 dark:hover:text-slate-200 font-medium"}
                  active:scale-105 active:bg-slate-100 dark:active:bg-slate-800
                `,children:[t.jsx(w.icon,{className:`w-6 h-6 ${y(w.path)?"text-sky-600 dark:text-indigo-400":"text-slate-400"}`}),t.jsx("span",{className:"text-base",children:w.label})]},w.path)),e&&r&&t.jsxs("button",{onClick:r,className:"w-full flex items-center gap-4 px-4 py-4 rounded-2xl transition-all duration-300 origin-left mt-4 bg-violet-50 text-violet-700 dark:bg-violet-900/20 dark:text-violet-300 font-bold active:scale-95",children:[t.jsx(t0,{className:"w-6 h-6"}),t.jsx("span",{className:"text-base",children:"Admin Portal"})]})]})]})}),t.jsx("div",{className:"hidden md:flex flex-col z-50 fixed left-4 top-4 bottom-4",onMouseEnter:()=>u(!0),onMouseLeave:()=>{u(!1),A(!1)},children:t.jsxs("div",{className:`
            h-full bg-white/90 dark:bg-slate-900/90 backdrop-blur-2xl shadow-xl dark:shadow-black/50 rounded-[2.5rem] flex flex-col transition-all duration-500 ease-apple border-none
            ${c?"w-[280px]":"w-[88px]"}
          `,children:[t.jsxs("div",{className:"relative pt-6 px-4 mb-2",ref:m,children:[t.jsxs("button",{onClick:()=>A(!d),className:`w-full flex items-center gap-4 p-4 rounded-2xl hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-all duration-300 group ${d?"bg-slate-100 dark:bg-slate-800":""}`,children:[t.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-sky-500 to-blue-600 flex-shrink-0 flex items-center justify-center shadow-lg shadow-sky-500/30 transition-transform duration-500 group-hover:scale-110",children:t.jsx(Xf,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{className:`flex flex-col items-start transition-all duration-300 delay-75 origin-left ${c?"opacity-100 translate-x-0 scale-100":"opacity-0 -translate-x-4 scale-95 pointer-events-none fixed"}`,children:[t.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight leading-none group-hover:scale-105 origin-left transition-transform",children:"GogoTrip"}),t.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase tracking-wider mt-1",children:"v2.0 Beta"})]}),c&&t.jsx(uc,{className:`ml-auto w-4 h-4 text-slate-400 transition-transform duration-300 ${d?"rotate-90":""}`})]}),t.jsx("div",{className:`
                absolute top-full left-4 right-4 mt-2 bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden transition-all duration-300 origin-top z-50
                ${d&&c?"opacity-100 scale-100 translate-y-0 max-h-40":"opacity-0 scale-95 -translate-y-2 max-h-0 pointer-events-none"}
             `,children:t.jsxs("div",{className:"p-1.5 space-y-0.5",children:[t.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[t.jsx(Tp,{className:"w-4 h-4"}),"Help & Support"]}),t.jsxs("button",{onClick:v,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[t.jsx(kl,{className:"w-4 h-4"}),"About"]})]})})]}),t.jsxs("nav",{className:"flex-1 px-4 space-y-2 py-2 overflow-y-auto scrollbar-none",children:[p.map(w=>{const E=w.icon,Q=y(w.path);return t.jsxs("button",{onClick:()=>n(w.path),className:`
                    relative w-full flex items-center h-14 rounded-full transition-all duration-300 group
                    ${Q?"bg-sky-50 dark:bg-indigo-500/20":"hover:bg-slate-50 dark:hover:bg-slate-800/40"}
                  `,children:[t.jsx("div",{className:"absolute left-0 w-[56px] flex justify-center items-center transition-all duration-300",children:t.jsx(E,{className:`w-6 h-6 transition-colors duration-300 ${Q?"text-sky-600 dark:text-indigo-400":"text-slate-400 group-hover:text-slate-600 dark:text-slate-500 dark:group-hover:text-slate-300"}`})}),t.jsx("span",{className:`
                    ml-[60px] text-sm font-medium whitespace-nowrap transition-all duration-300 ease-apple origin-left
                    ${c?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}
                    ${Q?"text-sky-600 dark:text-indigo-300":"text-slate-600 dark:text-slate-400"}
                    group-hover:scale-105
                  `,children:w.label}),Q&&t.jsx("div",{className:"absolute right-4 w-1.5 h-1.5 rounded-full bg-sky-500 dark:bg-indigo-400 shadow-[0_0_10px_rgba(14,165,233,0.6)]"})]},w.path)}),e&&r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"my-2 border-t border-slate-100 dark:border-slate-800/50 mx-2"}),t.jsxs("button",{onClick:r,className:`
                    relative w-full flex items-center h-14 rounded-full transition-all duration-300 group
                    hover:bg-violet-50 dark:hover:bg-violet-900/20
                  `,title:"Back to Admin Dashboard",children:[t.jsx("div",{className:"absolute left-0 w-[56px] flex justify-center items-center transition-all duration-300",children:t.jsx(t0,{className:"w-6 h-6 text-violet-600 dark:text-violet-400"})}),t.jsx("span",{className:`
                    ml-[60px] text-sm font-bold whitespace-nowrap transition-all duration-300 ease-apple origin-left
                    text-violet-700 dark:text-violet-300
                    ${c?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}
                  `,children:"Admin Portal"})]})]})]}),t.jsx("div",{className:"h-4"})]})}),t.jsx("div",{className:"hidden md:block w-[120px] flex-shrink-0"})]})},Ot="https://gogotrip.teocodes.com",zm=`${Ot}/api/notifications`,Vm={getNotifications:async()=>{try{const e=await(await fetch(`${zm}/user`,{credentials:"include"})).json();return e.success?{notifications:e.notifications,unreadCount:e.unreadCount}:{notifications:[],unreadCount:0}}catch{return{notifications:[],unreadCount:0}}},markAsRead:async s=>{try{return(await(await fetch(`${zm}/user/${s}/read`,{method:"POST",credentials:"include"})).json()).success}catch{return!1}},markAllAsRead:async()=>{try{return(await(await fetch(`${zm}/user/read-all`,{method:"POST",credentials:"include"})).json()).success}catch{return!1}},deleteNotification:async s=>{try{return(await(await fetch(`${zm}/user/${s}`,{method:"DELETE",credentials:"include"})).json()).success}catch{return!1}}},tT=({onToggleSidebar:s,title:e,isDarkMode:r,onToggleTheme:n,user:i,onLogout:c})=>{const u=Hl(),[d,A]=W.useState(!1),[o,f]=W.useState(!1),[m,p]=W.useState([]),[x,v]=W.useState(0),[y,w]=W.useState(!0),E=W.useRef(null),Q=W.useRef(null),K=W.useCallback(async()=>{const re=await Vm.getNotifications();p(re.notifications),v(re.unreadCount),w(!1)},[]);W.useEffect(()=>{K();const re=setInterval(K,3e4);return()=>clearInterval(re)},[K]),W.useEffect(()=>{const re=Be=>{E.current&&!E.current.contains(Be.target)&&A(!1),Q.current&&!Q.current.contains(Be.target)&&f(!1)};return document.addEventListener("mousedown",re),()=>document.removeEventListener("mousedown",re)},[]);const Z=async re=>{await Vm.markAsRead(re)&&(p(fe=>fe.map(Se=>Se.id===re?{...Se,unread:!1}:Se)),v(fe=>Math.max(0,fe-1)))},J=async()=>{await Vm.markAllAsRead()&&(p(Be=>Be.map(fe=>({...fe,unread:!1}))),v(0))},H=async re=>{const Be=m.find(Se=>Se.id===re);await Vm.deleteNotification(re)&&(p(Se=>Se.filter(pe=>pe.id!==re)),Be!=null&&Be.unread&&v(Se=>Math.max(0,Se-1)))},G=async re=>{re.unread&&await Z(re.id),re.hasTab&&re.tabId&&(f(!1),u(`/announcements/${re.tabId}`))},ce=re=>{re==="Account"||re==="Preferences"?u("/settings"):re==="Billing"&&u("/billing"),A(!1)},Ae=re=>{switch(re){case"success":return t.jsx(co,{className:"w-4 h-4 text-green-500"});case"warning":return t.jsx(Jo,{className:"w-4 h-4 text-yellow-500"});case"alert":return t.jsx(Jo,{className:"w-4 h-4 text-red-500"});case"promotion":return t.jsx(ff,{className:"w-4 h-4 text-purple-500"});default:return t.jsx(kl,{className:"w-4 h-4 text-blue-500"})}},Ne=(re,Be)=>{const fe=Be?"bg-opacity-50":"";switch(re){case"success":return`${fe} ${Be?"bg-green-50 dark:bg-green-900/10":""}`;case"warning":return`${fe} ${Be?"bg-yellow-50 dark:bg-yellow-900/10":""}`;case"alert":return`${fe} ${Be?"bg-red-50 dark:bg-red-900/10":""} border-l-4 border-l-red-500`;default:return`${fe} ${Be?"bg-sky-50 dark:bg-indigo-900/10":""}`}};return t.jsx("header",{className:"absolute top-0 left-0 right-0 z-20 px-3 md:px-4 pt-4 pb-2 transition-all duration-300 pointer-events-none",children:t.jsxs("div",{className:"mx-auto bg-slate-100/80 dark:bg-slate-900/80 backdrop-blur-xl border border-transparent hover:border-slate-300 dark:hover:border-slate-600 rounded-[2rem] shadow-sm shadow-slate-200/50 dark:shadow-black/20 pointer-events-auto h-20 px-4 md:px-8 flex items-center justify-between transition-all duration-300 ease-out hover:shadow-xl hover:-translate-y-0.5 hover:scale-[1.005]",children:[t.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0 flex-1 mr-2",children:[t.jsx("button",{onClick:s,className:"p-2 -ml-2 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 rounded-full md:hidden transition-colors active:scale-95",children:t.jsx(yj,{size:24})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-black text-slate-900 dark:text-white tracking-tight truncate bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-slate-300",children:e}),t.jsx("span",{className:"text-[10px] md:text-xs font-bold text-slate-400 uppercase tracking-widest hidden sm:block",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[t.jsxs("div",{className:"relative",ref:Q,children:[t.jsxs("button",{onClick:()=>f(!o),className:"p-3 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 hover:text-sky-600 dark:hover:text-indigo-400 rounded-full transition-all duration-200 relative active:scale-95 group",children:[t.jsx(cu,{size:20,className:"transition-transform group-hover:rotate-12"}),x>0&&t.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full ring-2 ring-slate-100 dark:ring-slate-900 animate-pulse"})]}),o&&t.jsxs("div",{className:"absolute right-0 mt-4 w-80 md:w-96 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden z-50 animate-in zoom-in-95 origin-top-right",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Notifications"}),x>0&&t.jsxs("button",{onClick:J,className:"text-xs font-bold text-sky-600 hover:text-sky-700 dark:text-indigo-400 flex items-center gap-1 px-2 py-1 rounded-lg hover:bg-sky-50 dark:hover:bg-indigo-900/20 transition-colors",children:[t.jsx(Go,{className:"w-3 h-3"})," Mark all read"]})]}),t.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar",children:y?t.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading..."}):m.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-3 text-slate-300",children:t.jsx(cu,{className:"w-6 h-6"})}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No notifications"})]}):t.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:m.map(re=>t.jsx("div",{className:`p-4 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800/50 cursor-pointer group ${Ne(re.type,re.unread)}`,onClick:()=>G(re),children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"mt-1 w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 bg-white dark:bg-slate-800 shadow-sm border border-slate-100 dark:border-slate-700",children:Ae(re.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm ${re.unread?"font-bold text-slate-900 dark:text-white":"font-medium text-slate-600 dark:text-slate-300"}`,children:re.title}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 line-clamp-2 leading-relaxed",children:re.message}),t.jsx("p",{className:"text-[10px] text-slate-400 mt-2 font-medium",children:new Date(re.createdAt).toLocaleDateString()})]}),t.jsx("button",{onClick:Be=>{Be.stopPropagation(),H(re.id)},className:"self-start p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(en,{className:"w-3 h-3"})})]})},re.id))})}),t.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-800 text-center",children:t.jsxs("button",{onClick:()=>{f(!1),u("/announcements")},className:"text-xs font-bold text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 transition-colors flex items-center justify-center gap-1 w-full py-1",children:["View all announcements ",t.jsx(uc,{className:"w-3 h-3"})]})})]})]}),t.jsx("button",{onClick:n,className:"p-3 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 hover:text-amber-500 dark:hover:text-yellow-400 rounded-full transition-all duration-200 active:scale-95",children:r?t.jsx(iE,{size:20}):t.jsx(r3,{size:20})}),t.jsxs("div",{className:"relative ml-2",ref:E,children:[t.jsxs("button",{onClick:()=>A(!d),className:"flex items-center gap-3 pl-1 pr-2 py-1 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-full border border-slate-200 dark:border-slate-700 transition-all duration-200 active:scale-95",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center text-white shadow-md ring-2 ring-white dark:ring-slate-800 overflow-hidden",children:i.avatarUrl?t.jsx("img",{src:i.avatarUrl,alt:i.name,className:"w-full h-full object-cover"}):t.jsx("span",{className:"font-bold text-sm",children:i.name.charAt(0)})}),t.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 max-w-[80px] truncate hidden md:block",children:i.name})]}),d&&t.jsxs("div",{className:"absolute right-0 mt-4 w-64 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden z-50 animate-in zoom-in-95 origin-top-right",children:[t.jsxs("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:i.name}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:i.email}),i.isPremium&&t.jsx("div",{className:"mt-2 inline-flex items-center gap-1.5 px-2 py-1 bg-gradient-to-r from-amber-200 to-yellow-400 rounded-lg shadow-sm",children:t.jsxs("span",{className:"text-[10px] font-black text-yellow-900 uppercase tracking-wider flex items-center gap-1",children:[t.jsx(ff,{className:"w-3 h-3"})," Premium"]})})]}),t.jsxs("div",{className:"p-2 space-y-1",children:[t.jsxs("button",{onClick:()=>ce("Account"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[t.jsx(Wo,{size:16}),"Account"]}),t.jsxs("button",{onClick:()=>ce("Billing"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[t.jsx(Zf,{size:16}),"Billing & Plan"]})]}),t.jsx("div",{className:"p-2 border-t border-slate-100 dark:border-slate-800",children:t.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-bold text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t.jsx(Rg,{size:16}),"Sign Out"]})})]})]})]})]})})},tA=Object.create(null);tA.open="0";tA.close="1";tA.ping="2";tA.pong="3";tA.message="4";tA.upgrade="5";tA.noop="6";const up=Object.create(null);Object.keys(tA).forEach(s=>{up[tA[s]]=s});const Db={type:"error",data:"parser error"},Ej=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Tj=typeof ArrayBuffer=="function",Uj=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,Mv=({type:s,data:e},r,n)=>Ej&&e instanceof Blob?r?n(e):e2(e,n):Tj&&(e instanceof ArrayBuffer||Uj(e))?r?n(e):e2(new Blob([e]),n):n(tA[s]+(e||"")),e2=(s,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(s)};function t2(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let Hx;function sT(s,e){if(Ej&&s.data instanceof Blob)return s.data.arrayBuffer().then(t2).then(e);if(Tj&&(s.data instanceof ArrayBuffer||Uj(s.data)))return e(t2(s.data));Mv(s,!1,r=>{Hx||(Hx=new TextEncoder),e(Hx.encode(r))})}const s2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<s2.length;s++)I0[s2.charCodeAt(s)]=s;const rT=s=>{let e=s.length*.75,r=s.length,n,i=0,c,u,d,A;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const o=new ArrayBuffer(e),f=new Uint8Array(o);for(n=0;n<r;n+=4)c=I0[s.charCodeAt(n)],u=I0[s.charCodeAt(n+1)],d=I0[s.charCodeAt(n+2)],A=I0[s.charCodeAt(n+3)],f[i++]=c<<2|u>>4,f[i++]=(u&15)<<4|d>>2,f[i++]=(d&3)<<6|A&63;return o},nT=typeof ArrayBuffer=="function",Lv=(s,e)=>{if(typeof s!="string")return{type:"message",data:Fj(s,e)};const r=s.charAt(0);return r==="b"?{type:"message",data:aT(s.substring(1),e)}:up[r]?s.length>1?{type:up[r],data:s.substring(1)}:{type:up[r]}:Db},aT=(s,e)=>{if(nT){const r=rT(s);return Fj(r,e)}else return{base64:!0,data:s}},Fj=(s,e)=>{switch(e){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},Mj="",iT=(s,e)=>{const r=s.length,n=new Array(r);let i=0;s.forEach((c,u)=>{Mv(c,!1,d=>{n[u]=d,++i===r&&e(n.join(Mj))})})},oT=(s,e)=>{const r=s.split(Mj),n=[];for(let i=0;i<r.length;i++){const c=Lv(r[i],e);if(n.push(c),c.type==="error")break}return n};function lT(){return new TransformStream({transform(s,e){sT(s,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const c=new DataView(i.buffer);c.setUint8(0,126),c.setUint16(1,n)}else{i=new Uint8Array(9);const c=new DataView(i.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(n))}s.data&&typeof s.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let zx;function Km(s){return s.reduce((e,r)=>e+r.length,0)}function $m(s,e){if(s[0].length===e)return s.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=s[0][n++],n===s[0].length&&(s.shift(),n=0);return s.length&&n<s[0].length&&(s[0]=s[0].slice(n)),r}function cT(s,e){zx||(zx=new TextDecoder);const r=[];let n=0,i=-1,c=!1;return new TransformStream({transform(u,d){for(r.push(u);;){if(n===0){if(Km(r)<1)break;const A=$m(r,1);c=(A[0]&128)===128,i=A[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Km(r)<2)break;const A=$m(r,2);i=new DataView(A.buffer,A.byteOffset,A.length).getUint16(0),n=3}else if(n===2){if(Km(r)<8)break;const A=$m(r,8),o=new DataView(A.buffer,A.byteOffset,A.length),f=o.getUint32(0);if(f>Math.pow(2,21)-1){d.enqueue(Db);break}i=f*Math.pow(2,32)+o.getUint32(4),n=3}else{if(Km(r)<i)break;const A=$m(r,i);d.enqueue(Lv(c?A:zx.decode(A),e)),n=0}if(i===0||i>s){d.enqueue(Db);break}}}})}const Lj=4;function Nl(s){if(s)return dT(s)}function dT(s){for(var e in Nl.prototype)s[e]=Nl.prototype[e];return s}Nl.prototype.on=Nl.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this};Nl.prototype.once=function(s,e){function r(){this.off(s,r),e.apply(this,arguments)}return r.fn=e,this.on(s,r),this};Nl.prototype.off=Nl.prototype.removeListener=Nl.prototype.removeAllListeners=Nl.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+s];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+s],this};Nl.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+s],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Nl.prototype.emitReserved=Nl.prototype.emit;Nl.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};Nl.prototype.hasListeners=function(s){return!!this.listeners(s).length};const zg=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),ou=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),uT="arraybuffer";function Oj(s,...e){return e.reduce((r,n)=>(s.hasOwnProperty(n)&&(r[n]=s[n]),r),{})}const AT=ou.setTimeout,hT=ou.clearTimeout;function Vg(s,e){e.useNativeTimers?(s.setTimeoutFn=AT.bind(ou),s.clearTimeoutFn=hT.bind(ou)):(s.setTimeoutFn=ou.setTimeout.bind(ou),s.clearTimeoutFn=ou.clearTimeout.bind(ou))}const fT=1.33;function mT(s){return typeof s=="string"?pT(s):Math.ceil((s.byteLength||s.size)*fT)}function pT(s){let e=0,r=0;for(let n=0,i=s.length;n<i;n++)e=s.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function Ij(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function gT(s){let e="";for(let r in s)s.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(s[r]));return e}function xT(s){let e={},r=s.split("&");for(let n=0,i=r.length;n<i;n++){let c=r[n].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class bT extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class Ov extends Nl{constructor(e){super(),this.writable=!1,Vg(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new bT(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=Lv(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=gT(e);return r.length?"?"+r:""}}class vT extends Ov{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};oT(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,iT(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Ij()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let Dj=!1;try{Dj=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const yT=Dj;function wT(){}class jT extends vT{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,c)=>{this.onError("xhr post error",i,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class Zu extends Nl{constructor(e,r,n){super(),this.createRequest=e,Vg(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=Oj(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Zu.requestsCount++,Zu.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=wT,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Zu.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Zu.requestsCount=0;Zu.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",r2);else if(typeof addEventListener=="function"){const s="onpagehide"in ou?"pagehide":"unload";addEventListener(s,r2,!1)}}function r2(){for(let s in Zu.requests)Zu.requests.hasOwnProperty(s)&&Zu.requests[s].abort()}const NT=(function(){const s=Rj({xdomain:!1});return s&&s.responseType!==null})();class CT extends jT{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=NT&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Zu(Rj,this.uri(),e)}}function Rj(s){const e=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||yT))return new XMLHttpRequest}catch{}if(!e)try{return new ou[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Qj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BT extends Ov{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=Qj?{}:Oj(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;Mv(n,this.supportsBinary,c=>{try{this.doWrite(n,c)}catch{}i&&zg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Ij()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const Vx=ou.WebSocket||ou.MozWebSocket;let kT=class extends BT{createSocket(e,r,n){return Qj?new Vx(e,r,n):r?new Vx(e,r):new Vx(e)}doWrite(e,r){this.ws.send(r)}};class ST extends Ov{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=cT(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=lT();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const c=()=>{n.read().then(({done:d,value:A})=>{d||(this.onPacket(A),c())}).catch(d=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&zg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const ET={websocket:kT,webtransport:ST,polling:CT},TT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,UT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Rb(s){if(s.length>8e3)throw"URI too long";const e=s,r=s.indexOf("["),n=s.indexOf("]");r!=-1&&n!=-1&&(s=s.substring(0,r)+s.substring(r,n).replace(/:/g,";")+s.substring(n,s.length));let i=TT.exec(s||""),c={},u=14;for(;u--;)c[UT[u]]=i[u]||"";return r!=-1&&n!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=FT(c,c.path),c.queryKey=MT(c,c.query),c}function FT(s,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function MT(s,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,c){i&&(r[i]=c)}),r}const Qb=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ap=[];Qb&&addEventListener("offline",()=>{Ap.forEach(s=>s())},!1);class Ch extends Nl{constructor(e,r){if(super(),this.binaryType=uT,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=Rb(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Rb(r.host).host);Vg(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=xT(this.opts.query)),Qb&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ap.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=Lj,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ch.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Ch.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=mT(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,zg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const c={type:e,data:r,options:n};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Ch.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Qb&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ap.indexOf(this._offlineEventListener);n!==-1&&Ap.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}Ch.protocol=Lj;class LT extends Ch{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;Ch.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Ch.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function c(){n||(n=!0,f(),r.close(),r=null)}const u=m=>{const p=new Error("probe error: "+m);p.transport=r.name,c(),this.emitReserved("upgradeError",p)};function d(){u("transport closed")}function A(){u("socket closed")}function o(m){r&&m.name!==r.name&&c()}const f=()=>{r.removeListener("open",i),r.removeListener("error",u),r.removeListener("close",d),this.off("close",A),this.off("upgrading",o)};r.once("open",i),r.once("error",u),r.once("close",d),this.once("close",A),this.once("upgrading",o),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let OT=class extends LT{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>ET[i]).filter(i=>!!i)),super(e,n)}};function IT(s,e="",r){let n=s;r=r||typeof location<"u"&&location,s==null&&(s=r.protocol+"//"+r.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=r.protocol+s:s=r.host+s),/^(https?|wss?):\/\//.test(s)||(typeof r<"u"?s=r.protocol+"//"+s:s="https://"+s),n=Rb(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const c=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+c+":"+n.port+e,n.href=n.protocol+"://"+c+(r&&r.port===n.port?"":":"+n.port),n}const DT=typeof ArrayBuffer=="function",RT=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,_j=Object.prototype.toString,QT=typeof Blob=="function"||typeof Blob<"u"&&_j.call(Blob)==="[object BlobConstructor]",_T=typeof File=="function"||typeof File<"u"&&_j.call(File)==="[object FileConstructor]";function Iv(s){return DT&&(s instanceof ArrayBuffer||RT(s))||QT&&s instanceof Blob||_T&&s instanceof File}function hp(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let r=0,n=s.length;r<n;r++)if(hp(s[r]))return!0;return!1}if(Iv(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return hp(s.toJSON(),!0);for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&hp(s[r]))return!0;return!1}function PT(s){const e=[],r=s.data,n=s;return n.data=_b(r,e),n.attachments=e.length,{packet:n,buffers:e}}function _b(s,e){if(!s)return s;if(Iv(s)){const r={_placeholder:!0,num:e.length};return e.push(s),r}else if(Array.isArray(s)){const r=new Array(s.length);for(let n=0;n<s.length;n++)r[n]=_b(s[n],e);return r}else if(typeof s=="object"&&!(s instanceof Date)){const r={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=_b(s[n],e));return r}return s}function HT(s,e){return s.data=Pb(s.data,e),delete s.attachments,s}function Pb(s,e){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<e.length)return e[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let r=0;r<s.length;r++)s[r]=Pb(s[r],e);else if(typeof s=="object")for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(s[r]=Pb(s[r],e));return s}const Pj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zT=5;var Aa;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(Aa||(Aa={}));class VT{constructor(e){this.replacer=e}encode(e){return(e.type===Aa.EVENT||e.type===Aa.ACK)&&hp(e)?this.encodeAsBinary({type:e.type===Aa.EVENT?Aa.BINARY_EVENT:Aa.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Aa.BINARY_EVENT||e.type===Aa.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=PT(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}class Dv extends Nl{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Aa.BINARY_EVENT;n||r.type===Aa.BINARY_ACK?(r.type=n?Aa.EVENT:Aa.ACK,this.reconstructor=new KT(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Iv(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Aa[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Aa.BINARY_EVENT||n.type===Aa.BINARY_ACK){const c=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const u=e.substring(c,r);if(u!=Number(u)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(u)}if(e.charAt(r+1)==="/"){const c=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(c,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const c=r+1;for(;++r;){const u=e.charAt(r);if(u==null||Number(u)!=u){--r;break}if(r===e.length)break}n.id=Number(e.substring(c,r+1))}if(e.charAt(++r)){const c=this.tryParse(e.substr(r));if(Dv.isPayloadValid(n.type,c))n.data=c;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Aa.CONNECT:return Ip(r);case Aa.DISCONNECT:return r===void 0;case Aa.CONNECT_ERROR:return typeof r=="string"||Ip(r);case Aa.EVENT:case Aa.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Pj.indexOf(r[0])===-1);case Aa.ACK:case Aa.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class KT{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=HT(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function $T(s){return typeof s=="string"}const GT=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s};function WT(s){return s===void 0||GT(s)}function Ip(s){return Object.prototype.toString.call(s)==="[object Object]"}function YT(s,e){switch(s){case Aa.CONNECT:return e===void 0||Ip(e);case Aa.DISCONNECT:return e===void 0;case Aa.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&Pj.indexOf(e[0])===-1);case Aa.ACK:return Array.isArray(e);case Aa.CONNECT_ERROR:return typeof e=="string"||Ip(e);default:return!1}}function XT(s){return $T(s.nsp)&&WT(s.id)&&YT(s.type,s.data)}const JT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Dv,Encoder:VT,get PacketType(){return Aa},isPacketValid:XT,protocol:zT},Symbol.toStringTag,{value:"Module"}));function ku(s,e,r){return s.on(e,r),function(){s.off(e,r)}}const ZT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Hj extends Nl{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ku(e,"open",this.onopen.bind(this)),ku(e,"packet",this.onpacket.bind(this)),ku(e,"error",this.onerror.bind(this)),ku(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,c;if(ZT.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const u={type:Aa.EVENT,data:r};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,m=r.pop();this._registerAckCallback(f,m),u.id=f}const d=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,A=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!d||(A?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===e&&this.sendBuffer.splice(d,1);r.call(this,new Error("operation has timed out"))},i),u=(...d)=>{this.io.clearTimeoutFn(c),r.apply(this,d)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...r){return new Promise((n,i)=>{const c=(u,d)=>u?i(u):n(d);c.withError=!0,r.push(c),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...c)=>(this._queue[0],i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...c)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Aa.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Aa.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Aa.EVENT:case Aa.BINARY_EVENT:this.onevent(e);break;case Aa.ACK:case Aa.BINARY_ACK:this.onack(e);break;case Aa.DISCONNECT:this.ondisconnect();break;case Aa.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Aa.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Aa.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function f0(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}f0.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*s);s=(Math.floor(e*10)&1)==0?s-r:s+r}return Math.min(s,this.max)|0};f0.prototype.reset=function(){this.attempts=0};f0.prototype.setMin=function(s){this.ms=s};f0.prototype.setMax=function(s){this.max=s};f0.prototype.setJitter=function(s){this.jitter=s};class Hb extends Nl{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Vg(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new f0({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||JT;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new OT(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=ku(r,"open",function(){n.onopen(),e&&e()}),c=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),e?e(d):this.maybeReconnectOnOpen()},u=ku(r,"error",c);if(this._timeout!==!1){const d=this._timeout,A=this.setTimeoutFn(()=>{i(),c(new Error("timeout")),r.close()},d);this.opts.autoUnref&&A.unref(),this.subs.push(()=>{this.clearTimeoutFn(A)})}return this.subs.push(i),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ku(e,"ping",this.onping.bind(this)),ku(e,"data",this.ondata.bind(this)),ku(e,"error",this.onerror.bind(this)),ku(e,"close",this.onclose.bind(this)),ku(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){zg(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Hj(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const T0={};function H0(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const r=IT(s,e.path||"/socket.io"),n=r.source,i=r.id,c=r.path,u=T0[i]&&c in T0[i].nsps,d=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let A;return d?A=new Hb(n,e):(T0[i]||(T0[i]=new Hb(n,e)),A=T0[i]),r.query&&!e.query&&(e.query=r.queryKey),A.socket(r.path,e)}Object.assign(H0,{Manager:Hb,Socket:Hj,io:H0,connect:H0});const zj=W.createContext(null),qT=({children:s,userId:e,isAuthenticated:r})=>{const[n,i]=W.useState(null),[c,u]=W.useState(!1),d=W.useRef(null);W.useEffect(()=>{if(!r||!e){d.current&&(d.current.disconnect(),d.current=null,i(null),u(!1));return}const H=H0(Ot,{withCredentials:!0,transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3});return d.current=H,i(H),H.on("connect",()=>{console.log(" Socket connected:",H.id),u(!0)}),H.on("disconnect",G=>{console.log(" Socket disconnected:",G),u(!1)}),H.on("connect_error",G=>{console.error(" Socket connection error:",G),u(!1)}),H.on("connected",G=>{console.log(" Authenticated connection:",G)}),H.on("error",G=>{console.error(" Socket error:",G.message)}),()=>{console.log(" Cleaning up socket connection"),H.disconnect(),d.current=null}},[r,e]);const A=W.useCallback(H=>{var G;(G=d.current)!=null&&G.connected&&d.current.emit("join_ticket",{ticketId:H})},[]),o=W.useCallback(H=>{var G;(G=d.current)!=null&&G.connected&&d.current.emit("leave_ticket",{ticketId:H})},[]),f=W.useCallback((H,G)=>{var ce;(ce=d.current)!=null&&ce.connected&&d.current.emit("ticket_message",{ticketId:H,content:G})},[]),m=W.useCallback((H,G)=>{var ce;(ce=d.current)!=null&&ce.connected&&d.current.emit("ticket_typing",{ticketId:H,isTyping:G})},[]),p=W.useCallback((H,G,ce,Ae)=>{var Ne;(Ne=d.current)!=null&&Ne.connected&&d.current.emit("admin_message",{recipientId:H,isBroadcast:H===null,content:G,subject:ce,priority:Ae||"normal"})},[]),x=W.useCallback(H=>G=>d.current?(d.current.on(H,G),()=>{var ce;(ce=d.current)==null||ce.off(H,G)}):()=>{},[]),v=W.useCallback(x("new_ticket_message"),[x]),y=W.useCallback(x("ticket_activity"),[x]),w=W.useCallback(x("user_typing"),[x]),E=W.useCallback(x("new_admin_message"),[x]),Q=W.useCallback(x("new_ticket"),[x]),K=W.useCallback(x("ticket_accepted"),[x]),Z=W.useCallback(x("ticket_resolved"),[x]),J={socket:n,isConnected:c,joinTicket:A,leaveTicket:o,sendTicketMessage:f,sendTypingStatus:m,sendAdminMessage:p,onNewTicketMessage:v,onTicketActivity:y,onUserTyping:w,onNewAdminMessage:E,onNewTicket:Q,onTicketAccepted:K,onTicketResolved:Z};return t.jsx(zj.Provider,{value:J,children:s})},xm=()=>{const s=W.useContext(zj);if(!s)throw new Error("useSocket must be used within a SocketProvider");return s},Dp={getTickets:async()=>{const e=await(await fetch(`${Ot}/api/tickets/user`,{credentials:"include"})).json();return e.success?e.tickets:[]},getTicketDetail:async s=>{const r=await(await fetch(`${Ot}/api/tickets/user/${s}`,{credentials:"include"})).json();return r.success?{ticket:r.ticket,messages:r.messages}:null},createTicket:async(s,e,r,n)=>(await fetch(`${Ot}/api/tickets/user`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({subject:s,category:e,priority:r,message:n})})).json(),closeTicket:async s=>(await fetch(`${Ot}/api/tickets/user/${s}/close`,{method:"POST",credentials:"include"})).json()},Vj=({status:s})=>{const e={pending:{color:"yellow",icon:t.jsx(Vi,{className:"w-3 h-3"}),label:"Waiting"},accepted:{color:"blue",icon:t.jsx(Co,{className:"w-3 h-3"}),label:"Accepted"},in_progress:{color:"indigo",icon:t.jsx(hu,{className:"w-3 h-3"}),label:"In Progress"},resolved:{color:"green",icon:t.jsx(Co,{className:"w-3 h-3"}),label:"Resolved"},expired:{color:"red",icon:t.jsx(Jo,{className:"w-3 h-3"}),label:"Expired"},closed:{color:"slate",icon:t.jsx(en,{className:"w-3 h-3"}),label:"Closed"}},{color:r,icon:n,label:i}=e[s]||e.pending,c={yellow:"bg-yellow-100 text-yellow-700",blue:"bg-blue-100 text-blue-700",indigo:"bg-indigo-100 text-indigo-700",green:"bg-green-100 text-green-700",red:"bg-red-100 text-red-700",slate:"bg-slate-100 text-slate-700"};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${c[r]}`,children:[n,i]})},e6=({category:s})=>{const e={general:t.jsx(Tp,{className:"w-5 h-5"}),billing:t.jsx(Zf,{className:"w-5 h-5"}),technical:t.jsx(gm,{className:"w-5 h-5"}),feedback:t.jsx(Th,{className:"w-5 h-5"})};return t.jsx(t.Fragment,{children:e[s]||e.general})},Kj=s=>{if(s<=0)return"Expired";const e=Math.floor(s/3600),r=Math.floor(s%3600/60);return e>0?`${e}h ${r}m remaining`:`${r}m remaining`},t6=()=>{const s=Hl(),{onTicketAccepted:e,onTicketResolved:r,isConnected:n}=xm(),[i,c]=W.useState([]),[u,d]=W.useState(!0),[A,o]=W.useState(!1);W.useEffect(()=>{f()},[]),W.useEffect(()=>{const m=e(x=>{c(v=>v.map(y=>y.id===x.ticketId?{...y,status:"accepted",assignedAdminName:x.adminName}:y))}),p=r(x=>{c(v=>v.map(y=>y.id===x.ticketId?{...y,status:"resolved"}:y))});return()=>{m(),p()}},[e,r]);const f=async()=>{d(!0);const m=await Dp.getTickets();c(m),d(!1)};return u?t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Ir,{className:"w-8 h-8 animate-spin text-blue-500"})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Support Tickets"}),t.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs ${n?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[n?t.jsx(h0,{className:"w-3 h-3"}):t.jsx(A0,{className:"w-3 h-3"}),n?"Live":"Offline"]})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Get help from our support team"})]}),t.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:[t.jsx(zi,{className:"w-4 h-4"}),"New Ticket"]})]}),i.length===0?t.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800",children:[t.jsx(hu,{className:"w-16 h-16 text-slate-200 dark:text-slate-700 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No tickets yet"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Create a ticket to get support from our team"}),t.jsx("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:"Create Your First Ticket"})]}):t.jsx("div",{className:"space-y-3",children:i.map(m=>t.jsx("div",{onClick:()=>s(`/support/${m.id}`),className:"bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-200 dark:border-slate-800 hover:shadow-lg hover:-translate-y-0.5 transition-all cursor-pointer group",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${m.status==="expired"?"bg-red-100 text-red-600":m.status==="resolved"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:t.jsx(e6,{category:m.category})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Vj,{status:m.status}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",m.id]})]}),t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white group-hover:text-blue-600 transition-colors truncate",children:m.subject}),m.lastMessage&&t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate mt-1",children:[m.lastMessage.senderType==="admin"?" ":"",m.lastMessage.text]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-400",children:[t.jsx("span",{children:m.createdAt}),m.status==="pending"&&!m.isExpired&&t.jsxs("span",{className:"flex items-center gap-1 text-orange-500",children:[t.jsx(Lb,{className:"w-3 h-3"}),Kj(m.timeRemaining)]})]})]}),t.jsx(uc,{className:"w-5 h-5 text-slate-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all self-center"})]})},m.id))}),A&&t.jsx(s6,{onClose:()=>o(!1),onCreated:()=>{o(!1),f()}})]})},s6=({onClose:s,onCreated:e})=>{const[r,n]=W.useState(""),[i,c]=W.useState("general"),[u,d]=W.useState("normal"),[A,o]=W.useState(""),[f,m]=W.useState(!1),[p,x]=W.useState(""),v=async()=>{if(!r.trim()||!A.trim()){x("Please fill in all required fields");return}m(!0),x("");const y=await Dp.createTicket(r,i,u,A);y.success?e():x(y.error||"Failed to create ticket"),m(!1)};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Create Support Ticket"}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:t.jsx(en,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"p-6 space-y-5",children:[p&&t.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-xl text-sm",children:p}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Subject *"}),t.jsx("input",{type:"text",value:r,onChange:y=>n(y.target.value),placeholder:"Brief description of your issue",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"general",label:"General",icon:t.jsx(Tp,{className:"w-4 h-4"})},{id:"billing",label:"Billing",icon:t.jsx(Zf,{className:"w-4 h-4"})},{id:"technical",label:"Technical",icon:t.jsx(gm,{className:"w-4 h-4"})},{id:"feedback",label:"Feedback",icon:t.jsx(Th,{className:"w-4 h-4"})}].map(y=>t.jsxs("button",{type:"button",onClick:()=>c(y.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl border transition-colors ${i===y.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[y.icon,y.label]},y.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:u,onChange:y=>d(y.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"normal",children:"Normal"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"urgent",children:"Urgent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description *"}),t.jsx("textarea",{value:A,onChange:y=>o(y.target.value),placeholder:"Please describe your issue in detail...",rows:4,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Vi,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),t.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-400",children:[t.jsx("p",{className:"font-medium",children:"24-Hour Response Window"}),t.jsx("p",{className:"mt-1 opacity-80",children:"Your ticket will be active for 24 hours. If not resolved within this time, it will expire automatically."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-800 flex gap-3",children:[t.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl font-medium hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:v,disabled:f,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:f?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(zi,{className:"w-4 h-4"}),"Create Ticket"]})})]})]})})},r6=()=>{const{id:s}=Fg(),e=Hl(),r=W.useRef(null),n=W.useRef(null),{isConnected:i,joinTicket:c,leaveTicket:u,sendTicketMessage:d,sendTypingStatus:A,onNewTicketMessage:o,onUserTyping:f,onTicketAccepted:m,onTicketResolved:p}=xm(),[x,v]=W.useState(null),[y,w]=W.useState([]),[E,Q]=W.useState(!0),[K,Z]=W.useState(""),[J,H]=W.useState(!1),[G,ce]=W.useState(null),Ae=W.useRef();W.useEffect(()=>{s&&Ne()},[s]),W.useEffect(()=>{if(s&&i)return c(Number(s)),()=>{u(Number(s))}},[s,i,c,u]),W.useEffect(()=>{const ae=o(de=>{de.ticketId===Number(s)&&(w(oe=>oe.some(Ee=>Ee.id===de.id)?oe:[...oe,de]),ce(null))});return()=>ae()},[s,o]),W.useEffect(()=>{const ae=f(de=>{de.ticketId===Number(s)&&de.isAdmin&&(de.isTyping?ce(de.userName):ce(null))});return()=>ae()},[s,f]),W.useEffect(()=>{const ae=m(oe=>{oe.ticketId===Number(s)&&v(Ee=>Ee&&{...Ee,status:"accepted",assignedAdminName:oe.adminName})}),de=p(oe=>{oe.ticketId===Number(s)&&v(Ee=>Ee&&{...Ee,status:"resolved"})});return()=>{ae(),de()}},[s,m,p]),W.useEffect(()=>{re()},[y,G]);const Ne=async()=>{Q(!0);const ae=await Dp.getTicketDetail(Number(s));ae&&(v(ae.ticket),w(ae.messages)),Q(!1)},re=()=>{var ae;(ae=r.current)==null||ae.scrollIntoView({behavior:"smooth"})},Be=W.useCallback(()=>{var ae;!K.trim()||!x||!i||(H(!0),d(x.id,K.trim()),Z(""),H(!1),(ae=n.current)==null||ae.focus(),A(x.id,!1))},[K,x,i,d,A]),fe=ae=>{Z(ae.target.value),x&&i&&(A(x.id,!0),Ae.current&&clearTimeout(Ae.current),Ae.current=setTimeout(()=>{A(x.id,!1)},2e3))},Se=async()=>{if(!x||!confirm("Are you sure you want to close this ticket?"))return;(await Dp.closeTicket(x.id)).success&&Ne()};if(E)return t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Ir,{className:"w-8 h-8 animate-spin text-blue-500"})});if(!x)return t.jsxs("div",{className:"text-center py-16",children:[t.jsx("p",{className:"text-slate-500",children:"Ticket not found"}),t.jsx("button",{onClick:()=>e("/support"),className:"mt-4 text-blue-600",children:"Back to tickets"})]});const pe=["accepted","in_progress"].includes(x.status);return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)] max-w-4xl mx-auto",children:[t.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>e("/support"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:t.jsx(qu,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vj,{status:x.status}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",x.id]}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${i?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[i?t.jsx(h0,{className:"w-3 h-3"}):t.jsx(A0,{className:"w-3 h-3"}),i?"Live":"Reconnecting..."]})]}),t.jsx("h1",{className:"font-bold text-slate-900 dark:text-white truncate",children:x.subject})]}),x.status!=="closed"&&x.status!=="expired"&&t.jsx("button",{onClick:Se,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:"Close Ticket"})]}),x.status==="pending"&&t.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl text-sm text-yellow-700 dark:text-yellow-400",children:[t.jsx("p",{children:" Waiting for an admin to accept your ticket..."}),t.jsx("p",{className:"text-xs mt-1 opacity-80",children:Kj(x.timeRemaining)})]}),x.assignedAdminName&&t.jsxs("div",{className:"mt-3 text-sm text-slate-500",children:["Assigned to: ",t.jsx("span",{className:"font-medium",children:x.assignedAdminName})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-950",children:[y.map(ae=>t.jsx("div",{className:`flex ${ae.senderType==="user"?"justify-end":"justify-start"}`,children:ae.senderType==="system"?t.jsx("div",{className:"text-center text-xs text-slate-400 py-2 w-full",children:ae.content}):t.jsxs("div",{className:`max-w-[80%] ${ae.senderType==="user"?"order-1":""}`,children:[t.jsx("div",{className:`px-4 py-3 rounded-2xl ${ae.senderType==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white dark:bg-slate-800 rounded-bl-md"}`,children:t.jsx("p",{className:"text-sm",children:ae.content})}),t.jsxs("div",{className:`flex items-center gap-2 mt-1 text-xs text-slate-400 ${ae.senderType==="user"?"justify-end":""}`,children:[t.jsx("span",{children:ae.senderName}),t.jsx("span",{children:""}),t.jsx("span",{children:new Date(ae.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},ae.id)),G&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[G," is typing..."]})]})})}),t.jsx("div",{ref:r})]}),pe?t.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{ref:n,type:"text",value:K,onChange:fe,onKeyDown:ae=>ae.key==="Enter"&&!ae.shiftKey&&Be(),placeholder:i?"Type your message...":"Connecting...",disabled:!i,className:"flex-1 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:Be,disabled:J||!K.trim()||!i,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:J?t.jsx(Ir,{className:"w-5 h-5 animate-spin"}):t.jsx(Nh,{className:"w-5 h-5"})})]})}):t.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 text-center text-sm text-slate-500",children:x.status==="pending"?"You can send messages once an admin accepts your ticket":"This ticket is closed"})]})},n6=({isPremium:s})=>{const e=Hl(),[r,n]=W.useState([]),[i,c]=W.useState(0),[u,d]=W.useState(!0),[A,o]=W.useState(!1);W.useEffect(()=>{s||f()},[s]),W.useEffect(()=>{if(r.length===0||s)return;m(r[i].id);const w=setInterval(()=>{c(E=>(E+1)%r.length)},3e4);return()=>clearInterval(w)},[r,i,s]);const f=async()=>{try{const w=await fetch(`${Ot}/api/advertisements/active`);if(w.ok){const E=await w.json();E.length>0?(n(E),o(!1)):(n([]),o(!0))}else n([]),o(!0)}catch(w){console.error("Error fetching advertisements:",w),n([]),o(!0)}},m=async w=>{try{await fetch(`${Ot}/api/advertisements/${w}/view`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(E){console.error("Error recording view:",E)}},p=async w=>{try{await fetch(`${Ot}/api/advertisements/${w}/click`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(E){console.error("Error recording click:",E)}},x=w=>{p(w.id),window.open(w.link,"_blank","noopener,noreferrer")},v=()=>{d(!1),sessionStorage.setItem("adDismissed","true")};if(s||!u||sessionStorage.getItem("adDismissed")==="true")return null;const y=r.length>0?r[i]:null;return t.jsxs("div",{className:"relative bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-6 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out overflow-hidden group",children:[t.jsx("button",{onClick:v,className:"absolute top-4 right-4 z-10 p-2 bg-white/80 dark:bg-slate-800/80 hover:bg-white dark:hover:bg-slate-800 rounded-full transition-colors shadow-sm",title:"Dismiss ad",children:t.jsx(en,{size:16,className:"text-slate-600 dark:text-slate-400"})}),A?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-4",children:t.jsx(Oa,{size:32,className:"text-slate-400 dark:text-slate-500"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2 text-center",children:""}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center",children:""})]}):y?t.jsxs("div",{onClick:()=>x(y),className:"cursor-pointer",children:[y.imageUrl&&t.jsx("div",{className:"mb-4 rounded-2xl overflow-hidden",children:t.jsx("img",{src:`${Ot}${y.imageUrl}`,alt:y.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"flex items-start justify-between gap-2",children:t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:y.title})}),y.description&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2",children:y.description}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium",children:"Sponsored"}),r.length>1&&t.jsx("div",{className:"flex gap-1",children:r.map((w,E)=>t.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${E===i?"bg-sky-600 dark:bg-indigo-400 w-4":"bg-slate-300 dark:bg-slate-600"}`},E))})]})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsx("div",{className:"w-10 h-10 border-4 border-slate-200 dark:border-slate-700 border-t-sky-600 dark:border-t-indigo-600 rounded-full animate-spin mb-4"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"..."})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:["Upgrade to Premium to remove ads "," ",t.jsx("button",{onClick:()=>e("/billing"),className:"text-sky-600 dark:text-indigo-400 hover:underline font-medium cursor-pointer bg-transparent border-none p-0 inline",children:"Learn more"})]})})]})},Kx=({title:s,value:e,badgeText:r,badgeColor:n="default",icon:i})=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-5 shadow-sm border border-transparent hover:border-sky-400 dark:hover:border-indigo-400 transition-all duration-300 ease-out group relative overflow-hidden hover:-translate-y-2 hover:scale-105 hover:shadow-2xl hover:shadow-sky-100 dark:hover:shadow-indigo-900/20",children:[t.jsxs("div",{className:"flex justify-between items-start mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-700/50 flex items-center justify-center text-slate-600 dark:text-slate-300 group-hover:bg-sky-50 group-hover:text-sky-600 dark:group-hover:bg-indigo-500/20 dark:group-hover:text-indigo-400 transition-colors",children:i}),r&&t.jsx("span",{className:`
          text-[10px] font-bold uppercase tracking-wider px-2.5 py-1 rounded-full
          ${n==="green"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/10 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}
        `,children:r})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:e})]})]}),a6=({appointment:s})=>{const e=new Date(s.date),r=()=>{switch(s.type){case"flight":return t.jsx(eA,{className:"w-4 h-4"});case"activity":return t.jsx(Kd,{className:"w-4 h-4"});case"stay":return t.jsx(ik,{className:"w-4 h-4"});default:return t.jsx(Vi,{className:"w-4 h-4"})}},n=s.status==="confirmed"?"bg-emerald-500":"bg-amber-500",i=s.status==="confirmed"?"bg-emerald-50 dark:bg-emerald-500/10":"bg-amber-50 dark:bg-amber-500/10",c=s.status==="confirmed"?"text-emerald-700 dark:text-emerald-400":"text-amber-700 dark:text-amber-400";return t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 hover:shadow-2xl hover:shadow-sky-100 dark:hover:shadow-indigo-900/20 transition-all duration-300 ease-out group cursor-pointer hover:-translate-y-1 hover:scale-[1.02]",children:[t.jsxs("div",{className:`flex flex-col items-center justify-center w-14 h-14 rounded-2xl ${i} relative overflow-hidden flex-shrink-0 transition-transform group-hover:scale-110 duration-300`,children:[t.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${n}`}),t.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${c} mb-0.5`,children:e.toLocaleString("en-US",{month:"short"})}),t.jsx("span",{className:`text-xl font-bold ${s.status==="confirmed"?"text-emerald-900 dark:text-emerald-200":"text-amber-900 dark:text-amber-200"}`,children:e.getDate()})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-base font-bold text-slate-900 dark:text-white truncate group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:s.title}),t.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-sm font-medium text-slate-500 dark:text-slate-400",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Vi,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.location&&t.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[t.jsx(Yo,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"truncate",children:s.location})]})]})]}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-700/50 flex items-center justify-center text-slate-400 dark:text-slate-500 group-hover:bg-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 dark:group-hover:bg-slate-700 transition-all shadow-sm group-hover:scale-110 group-hover:rotate-12",children:r()})]})},i6=({user:s})=>{var o;const e=Hl(),[r,n]=W.useState({upcomingTrips:0,countriesVisited:0,savedItineraries:0,nextTrip:null,upcomingAppointments:[],savedDrafts:[]}),[i,c]=W.useState(!0);W.useEffect(()=>{u()},[]);const u=async()=>{try{const f=await fetch(`${Ot}/api/user/dashboard`,{credentials:"include"});if(f.ok){const m=await f.json();n(m)}}catch(f){console.error("Error fetching dashboard data:",f)}finally{c(!1)}};if(!s)return t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("div",{className:"text-slate-500",children:"Loading user data..."})});if(i)return t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-sky-600"})});const d=r.nextTrip?`NEXT: ${r.nextTrip.destination.toUpperCase()} (${r.nextTrip.daysUntil}D)`:"NO TRIPS PLANNED",A=r.nextTrip?`Your next adventure to ${r.nextTrip.destination} begins in ${r.nextTrip.daysUntil} days.`:"Plan your next adventure today!";return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-8 animate-fade-in-up",children:[t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 relative overflow-hidden shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-br from-white/40 to-transparent dark:from-indigo-500/10 dark:to-transparent rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-6 mb-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight mb-2",children:"Travel Dashboard"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-lg",children:A})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>e("/trips"),className:"px-5 py-3 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-xl text-sm font-bold hover:bg-slate-50 dark:hover:bg-slate-700 transition-all shadow-sm active:scale-95 border border-transparent hover:border-slate-300 dark:hover:border-slate-500 hover:-translate-y-1 hover:shadow-md",children:"View All Trips"}),t.jsxs("button",{onClick:()=>e("/chat"),className:"px-5 py-3 bg-sky-600 dark:bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-all shadow-lg shadow-sky-600/30 dark:shadow-indigo-600/30 flex items-center gap-2 active:scale-95 hover:-translate-y-1 hover:shadow-xl",children:[t.jsx(co,{className:"w-4 h-4"}),"Start AI Planning"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(Kx,{title:"Upcoming Trips",value:r.upcomingTrips.toString(),badgeText:d,icon:t.jsx(eA,{className:"w-5 h-5"})}),t.jsx(Kx,{title:"Countries Visited",value:r.countriesVisited.toString(),badgeText:"EXPLORED",badgeColor:"green",icon:t.jsx(Fp,{className:"w-5 h-5"})}),t.jsx(Kx,{title:"Saved Itineraries",value:r.savedItineraries.toString(),badgeText:"READY TO GO",badgeColor:"green",icon:t.jsx(Mp,{className:"w-5 h-5"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 h-fit shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Upcoming Itinerary"}),t.jsx("button",{onClick:()=>e("/calendar"),className:"text-sm text-sky-600 hover:text-sky-500 dark:text-indigo-400 dark:hover:text-indigo-300 font-bold hover:underline",children:"View Full Schedule"})]}),t.jsx("div",{className:"space-y-4",children:r.upcomingAppointments.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No upcoming appointments"}),t.jsx("button",{onClick:()=>e("/chat"),className:"mt-4 text-sky-600 dark:text-indigo-400 hover:underline font-medium",children:"Plan your first trip"})]}):r.upcomingAppointments.map((f,m)=>t.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${(m+1)*100}ms`},children:t.jsx(a6,{appointment:f})},f.id))})]}),t.jsxs("div",{className:"space-y-8 animate-fade-in-up",style:{animationDelay:"300ms"},children:[t.jsx(n6,{isPremium:((o=s.subscription)==null?void 0:o.status)==="active"||s.isPremium||!1}),t.jsxs("div",{className:"bg-gradient-to-b from-sky-500 to-blue-600 dark:from-indigo-600 dark:to-violet-700 rounded-[2.5rem] p-8 relative overflow-hidden shadow-xl shadow-sky-500/20 dark:shadow-indigo-500/20 group text-center border border-transparent hover:border-white/50 transition-all duration-300 hover:-translate-y-2 hover:scale-[1.02] hover:shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 dark:bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none group-hover:scale-125 transition-transform duration-700"}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-2 relative z-10 tracking-tight",children:"Trip Idea?"}),t.jsx("p",{className:"text-sky-100 dark:text-indigo-100 font-medium leading-relaxed mb-8 relative z-10 px-4",children:"Not sure where to go next? Ask the AI Planner to suggest destinations."}),t.jsx("div",{className:"relative z-10",children:t.jsx("button",{onClick:()=>e("/chat"),className:"w-full py-3.5 bg-white text-sky-600 hover:bg-sky-50 dark:bg-white/10 dark:backdrop-blur-md dark:text-white dark:hover:bg-white/20 text-sm font-bold rounded-xl transition-all shadow-lg active:scale-95 border border-transparent hover:border-sky-100 hover:shadow-xl hover:-translate-y-1",children:"Ask AI Planner"})})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Saved Drafts"}),t.jsx("div",{className:"space-y-3",children:r.savedDrafts.length===0?t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-4",children:"No saved drafts yet"}):r.savedDrafts.map(f=>t.jsxs("div",{onClick:()=>e("/chat"),className:"flex gap-4 p-4 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-2xl transition-all cursor-pointer group border border-slate-100 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 hover:shadow-xl hover:-translate-y-1 hover:scale-[1.02] duration-300",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-50 dark:bg-slate-700 flex-shrink-0 flex items-center justify-center group-hover:scale-110 group-hover:bg-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-all ease-out",children:t.jsx(Yo,{className:"w-6 h-6 text-slate-400 dark:text-slate-300 group-hover:text-sky-500 dark:group-hover:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-900 dark:text-white font-bold group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:f.title}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 font-medium",children:f.details})]})]},f.id))})]})]})]})]})},o6=({isOpen:s,onClose:e})=>{const r=Hl(),[n,i]=W.useState(null),[c,u]=W.useState(5),[d,A]=W.useState(!1),[o,f]=W.useState(!1);W.useEffect(()=>{s&&(u(5),A(!1),f(!1),m())},[s]),W.useEffect(()=>{if(!s||c===0)return;const E=setInterval(()=>{u(Q=>Q<=1?(A(!0),0):Q-1)},1e3);return()=>clearInterval(E)},[s,c]);const m=async()=>{try{const E=await fetch(`${Ot}/api/advertisements/active`);if(!E.ok)throw new Error;const Q=await E.json();if(Q.length>0){const K=Q[Math.floor(Math.random()*Q.length)];i(K),f(!1),p(K.id)}else i(null),f(!0)}catch{i(null),f(!0)}},p=async E=>{try{await fetch(`${Ot}/api/advertisements/${E}/view`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch{}},x=async E=>{try{await fetch(`${Ot}/api/advertisements/${E}/click`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch{}},v=E=>{E&&(E.preventDefault(),E.stopPropagation()),n&&(x(n.id),window.open(n.link,"_blank","noopener,noreferrer"))},y=E=>{E&&(E.preventDefault(),E.stopPropagation()),e(),r("/billing")},w=E=>{E&&(E.preventDefault(),E.stopPropagation()),d&&e()};return s?t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",onClick:E=>E.stopPropagation(),children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl max-w-md w-full shadow-2xl relative animate-in zoom-in-95 duration-300",onClick:E=>E.stopPropagation(),children:[t.jsx("button",{type:"button",onClick:w,disabled:!d,className:`absolute top-4 right-4 z-10 p-2 rounded-full transition-all ${d?"bg-white/80 dark:bg-slate-700/80 hover:bg-white dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400 cursor-pointer":"bg-slate-100 dark:bg-slate-700/50 text-slate-400 dark:text-slate-500 cursor-not-allowed"}`,title:d?"Close":`Wait ${c}s`,children:d?t.jsx(en,{size:20}):t.jsx("span",{className:"text-sm font-bold w-5 h-5 flex items-center justify-center",children:c})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-semibold uppercase tracking-wider",children:o?"Notice":"Sponsored Content"}),!d&&!o&&t.jsxs("span",{className:"text-xs text-sky-600 dark:text-indigo-400 font-semibold",children:["Closing in ",c,"s"]})]}),o?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[t.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-6",children:t.jsx(Oa,{size:48,className:"text-slate-400 dark:text-slate-500"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 text-center",children:""}),t.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center mb-6",children:["",t.jsx("br",{}),""]}),t.jsx("div",{className:"w-full max-w-xs",children:t.jsx("div",{className:"h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-sky-500 to-blue-600 dark:from-indigo-500 dark:to-purple-600 transition-all duration-1000",style:{width:`${(5-c)/5*100}%`}})})})]}):n?t.jsxs(t.Fragment,{children:[n.imageUrl&&t.jsx("div",{onClick:v,className:"mb-4 rounded-2xl overflow-hidden cursor-pointer group",children:t.jsx("img",{src:`${Ot}${n.imageUrl}`,alt:n.title,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"})}),t.jsxs("div",{onClick:v,className:"cursor-pointer group",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:n.title}),n.description&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:n.description}),t.jsx("button",{type:"button",onClick:v,className:"w-full py-3 bg-sky-600 dark:bg-indigo-600 text-white rounded-xl font-semibold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-colors shadow-lg",children:"Learn More"})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 dark:border-slate-700 border-t-sky-600 dark:border-t-indigo-600 rounded-full animate-spin mb-4"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"..."})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:["Premium members enjoy ad-free experience "," ",t.jsx("button",{onClick:y,className:"text-sky-600 dark:text-indigo-400 hover:underline font-semibold bg-transparent border-none p-0 inline cursor-pointer",children:"Upgrade now"})]})})]})]})}):null},l6=[{id:"relaxed",label:"Relaxed",icon:pm},{id:"energetic",label:"Energetic",icon:co},{id:"romantic",label:"Romantic",icon:mf},{id:"family",label:"Family Fun",icon:Td}],c6=[{id:"solo",label:"Solo"},{id:"couple",label:"Couple"},{id:"family",label:"Family"},{id:"friends",label:"Friends"}],d6=[{id:"car",label:"Car",icon:gj},{id:"public",label:"Public Transport",icon:Yo},{id:"walk",label:"Walking",icon:rS}],u6=[{id:"low",label:"Budget",desc:"Cheap & Cheerful"},{id:"medium",label:"Standard",desc:"Balanced"},{id:"high",label:"Premium",desc:"Treat Yourself"},{id:"luxury",label:"Luxury",desc:"Spare No Expense"}],A6=["Halal","Vegetarian","Vegan","No Beef","No Pork","Gluten Free"],h6=({isOpen:s,onClose:e,onComplete:r})=>{const[n,i]=W.useState(1),[c,u]=W.useState({mood:"",companions:"",budget:"medium",transport:"",dietary:[]});if(!s)return null;const d=()=>{n<3?i(n+1):r(c)},A=o=>{u(f=>({...f,dietary:f.dietary.includes(o)?f.dietary.filter(m=>m!==o):[...f.dietary,o]}))};return t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-200 dark:border-slate-800 flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/50",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Trip Wizard"}),t.jsxs("p",{className:"text-xs text-slate-500",children:["Step ",n," of 3"]})]}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(en,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[n===1&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"What's the vibe today?"}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:l6.map(o=>t.jsxs("button",{onClick:()=>u({...c,mood:o.id}),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border transition-all ${c.mood===o.id?"border-sky-500 bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 ring-1 ring-sky-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(o.icon,{className:"w-6 h-6"}),t.jsx("span",{className:"text-sm font-medium",children:o.label})]},o.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Who are you with?"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:c6.map(o=>t.jsx("button",{onClick:()=>u({...c,companions:o.id}),className:`px-4 py-2 rounded-full text-sm font-medium border transition-all ${c.companions===o.id?"bg-slate-900 text-white dark:bg-white dark:text-slate-900 border-transparent":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-100"}`,children:o.label},o.id))})]})]}),n===2&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(yf,{className:"w-4 h-4"})," Budget Level"]}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:u6.map(o=>t.jsxs("button",{onClick:()=>u({...c,budget:o.id}),className:`flex items-center justify-between p-3 rounded-xl border transition-all ${c.budget===o.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 ring-1 ring-emerald-500":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:o.label}),t.jsx("span",{className:"text-xs text-slate-500",children:o.desc})]},o.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"How are you getting around?"}),t.jsx("div",{className:"flex gap-2",children:d6.map(o=>t.jsxs("button",{onClick:()=>u({...c,transport:o.id}),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${c.transport===o.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(o.icon,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.id))})]})]}),n===3&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Kd,{className:"w-4 h-4"})," Dietary Preferences"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:A6.map(o=>t.jsx("button",{onClick:()=>A(o),className:`px-3 py-1.5 rounded-lg text-sm font-medium border transition-all ${c.dietary.includes(o)?"bg-rose-100 text-rose-700 border-rose-200 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:o},o))})]}),t.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800 text-sm text-slate-600 dark:text-slate-400",children:t.jsx("p",{children:"Ready to generate your custom plan? The AI will use these preferences to find the best spots for you."})})]})]}),t.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900",children:t.jsx("button",{onClick:d,disabled:n===1&&(!c.mood||!c.companions),className:"w-full py-3 bg-gradient-to-r from-sky-500 to-blue-600 text-white font-bold rounded-xl shadow-lg shadow-sky-500/20 hover:shadow-sky-500/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:n===3?t.jsxs(t.Fragment,{children:[t.jsx(co,{className:"w-5 h-5"})," Generate My Plan"]}):t.jsxs(t.Fragment,{children:["Next Step ",t.jsx(MA,{className:"w-5 h-5"})]})})})]})})},f6=[{id:"local",label:"Local",icon:""},{id:"chinese",label:"Chinese",icon:""},{id:"japanese",label:"Japanese",icon:""},{id:"korean",label:"Korean",icon:""},{id:"western",label:"Western",icon:""},{id:"indian",label:"Indian",icon:""},{id:"thai",label:"Thai",icon:""},{id:"malay",label:"Malay",icon:""}],n2=[{id:"quick",label:"Quick Bite",icon:Vi,desc:"Fast & convenient"},{id:"casual",label:"Casual",icon:pm,desc:"Relaxed dining"},{id:"romantic",label:"Date Night",icon:mf,desc:"Special occasion"},{id:"group",label:"Group Feast",icon:Td,desc:"Friends & family"}],a2=[{id:"breakfast",label:"Breakfast",icon:""},{id:"lunch",label:"Lunch",icon:""},{id:"dinner",label:"Dinner",icon:""},{id:"supper",label:"Supper",icon:""},{id:"cafe",label:"Cafe/Dessert",icon:""}],i2=[{id:"low",label:"Budget",desc:"Under RM 15/pax",icon:"$"},{id:"medium",label:"Moderate",desc:"RM 15-40/pax",icon:"$$"},{id:"high",label:"Upscale",desc:"RM 40-80/pax",icon:"$$$"},{id:"luxury",label:"Fine Dining",desc:"RM 80+/pax",icon:"$$$$"}],m6=[{id:"halal",label:"Halal",icon:""},{id:"vegetarian",label:"Vegetarian",icon:""},{id:"vegan",label:"Vegan",icon:""},{id:"no-pork",label:"No Pork",icon:""},{id:"no-beef",label:"No Beef",icon:""},{id:"gluten-free",label:"Gluten Free",icon:""}],p6=[{id:"nearby",label:"Walking (< 1km)",value:"1"},{id:"short",label:"Short drive (< 5km)",value:"5"},{id:"any",label:"Any distance",value:"15"}],g6=({isOpen:s,onClose:e,onComplete:r,userLocation:n})=>{var p,x,v;const[i,c]=W.useState(1),[u,d]=W.useState({cuisine:[],mood:"",budget:"medium",dietary:[],mealType:"",distance:"5"});if(!s)return null;const A=()=>{i<3?c(i+1):r(u)},o=y=>{d(w=>({...w,cuisine:w.cuisine.includes(y)?w.cuisine.filter(E=>E!==y):[...w.cuisine,y]}))},f=y=>{d(w=>({...w,dietary:w.dietary.includes(y)?w.dietary.filter(E=>E!==y):[...w.dietary,y]}))},m=()=>i===1?u.mealType&&u.mood:!0;return t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-200 dark:border-slate-800 flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl shadow-lg shadow-orange-500/20",children:t.jsx(Kd,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Food Finder"}),t.jsxs("p",{className:"text-xs text-slate-500",children:["Step ",i," of 3  Quick recommendations"]})]})]}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-white/50 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(en,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[i===1&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4 text-orange-500"})," What meal are you looking for?"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:a2.map(y=>t.jsxs("button",{onClick:()=>d({...u,mealType:y.id}),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${u.mealType===y.id?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx("span",{className:"text-lg",children:y.icon}),t.jsx("span",{className:"text-sm font-medium",children:y.label})]},y.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"What's the vibe?"}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:n2.map(y=>t.jsxs("button",{onClick:()=>d({...u,mood:y.id}),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border transition-all ${u.mood===y.id?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(y.icon,{className:"w-6 h-6"}),t.jsx("span",{className:"text-sm font-bold",children:y.label}),t.jsx("span",{className:"text-[10px] text-slate-500",children:y.desc})]},y.id))})]})]}),i===2&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(yf,{className:"w-4 h-4 text-emerald-500"})," Budget per person"]}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:i2.map(y=>t.jsxs("button",{onClick:()=>d({...u,budget:y.id}),className:`flex items-center justify-between p-3 rounded-xl border transition-all ${u.budget===y.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 ring-1 ring-emerald-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white block",children:y.label}),t.jsx("span",{className:"text-[10px] text-slate-500",children:y.desc})]}),t.jsx("span",{className:"text-lg font-bold text-emerald-600",children:y.icon})]},y.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(LS,{className:"w-4 h-4 text-green-500"})," Dietary requirements (optional)"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:m6.map(y=>t.jsxs("button",{onClick:()=>f(y.id),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium border transition-all ${u.dietary.includes(y.id)?"bg-green-100 text-green-700 border-green-300 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{children:y.icon}),t.jsx("span",{children:y.label})]},y.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Yo,{className:"w-4 h-4 text-blue-500"})," Distance"]}),t.jsx("div",{className:"flex gap-2",children:p6.map(y=>t.jsx("button",{onClick:()=>d({...u,distance:y.value}),className:`flex-1 py-2.5 px-3 rounded-xl text-sm font-medium border transition-all ${u.distance===y.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:y.label},y.id))})]})]}),i===3&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Kd,{className:"w-4 h-4 text-orange-500"})," What are you craving? (optional)"]}),t.jsx("p",{className:"text-xs text-slate-500",children:"Select one or more, or skip for varied suggestions"}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:f6.map(y=>t.jsxs("button",{onClick:()=>o(y.id),className:`flex flex-col items-center gap-1 p-3 rounded-xl border transition-all ${u.cuisine.includes(y.id)?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{className:"text-2xl",children:y.icon}),t.jsx("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:y.label})]},y.id))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 p-4 rounded-xl border border-orange-100 dark:border-orange-800/30",children:[t.jsxs("h4",{className:"text-sm font-bold text-orange-800 dark:text-orange-300 mb-2 flex items-center gap-2",children:[t.jsx(co,{className:"w-4 h-4"})," Ready to find your perfect meal!"]}),t.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-400 space-y-1",children:[t.jsxs("p",{children:[" ",((p=a2.find(y=>y.id===u.mealType))==null?void 0:p.label)||"Any meal","  ",((x=n2.find(y=>y.id===u.mood))==null?void 0:x.label)||"Any mood"]}),t.jsxs("p",{children:[" Budget: ",(v=i2.find(y=>y.id===u.budget))==null?void 0:v.desc]}),u.dietary.length>0&&t.jsxs("p",{children:[" Dietary: ",u.dietary.join(", ")]}),u.cuisine.length>0&&t.jsxs("p",{children:[" Cuisine: ",u.cuisine.join(", ")]})]})]})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex gap-3",children:[i>1&&t.jsx("button",{onClick:()=>c(i-1),className:"px-4 py-3 text-slate-600 dark:text-slate-400 font-medium rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:"Back"}),t.jsx("button",{onClick:A,disabled:!m(),className:"flex-1 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold rounded-xl shadow-lg shadow-orange-500/20 hover:shadow-orange-500/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i===3?t.jsxs(t.Fragment,{children:[t.jsx(co,{className:"w-5 h-5"})," Find Food"]}):t.jsxs(t.Fragment,{children:["Next ",t.jsx(MA,{className:"w-5 h-5"})]})})]})]})})},x6=s=>s.place_id?`${Ot}/proxy_image?place_id=${s.place_id}`:s.google_place_id?`${Ot}/proxy_image?google_place_id=${encodeURIComponent(s.google_place_id)}`:s.photo_reference&&s.photo_reference!=="N/A"?`${Ot}/proxy_image?ref=${encodeURIComponent(s.photo_reference)}`:s.name?`${Ot}/proxy_image?name=${encodeURIComponent(s.name)}`:`${Ot}/proxy_image/default`,b6=({place:s,onAddToItinerary:e,onViewDetails:r,compact:n=!1})=>{const[i,c]=W.useState(!1),u=x6(s),d=()=>{},A=f=>f?typeof f=="string"?f:"$".repeat(Math.min(f,4)):null,o=f=>{f.stopPropagation(),c(!i)};return n?t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 hover:shadow-md transition-all cursor-pointer group",onClick:()=>r==null?void 0:r(s),children:[t.jsx("img",{src:u,onError:d,alt:s.name,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm truncate",children:s.name}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-0.5",children:[s.rating&&t.jsxs("span",{className:"flex items-center gap-0.5",children:[t.jsx(Ju,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),s.rating.toFixed(1)]}),A(s.price_level)&&t.jsx("span",{className:"text-emerald-600 font-bold",children:A(s.price_level)}),s.distance&&t.jsx("span",{children:s.distance})]})]}),e&&t.jsx("button",{onClick:f=>{f.stopPropagation(),e(s)},className:"p-2 text-slate-400 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(zi,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 overflow-hidden shadow-sm hover:shadow-xl transition-all group",children:[t.jsxs("div",{className:"relative h-40 overflow-hidden",children:[t.jsx("img",{src:u,onError:d,alt:s.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[s.is_open_now!==void 0&&t.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-bold uppercase ${s.is_open_now?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:s.is_open_now?"Open":"Closed"}),s.cuisine_type&&t.jsx("span",{className:"px-2 py-1 rounded-lg text-[10px] font-bold uppercase bg-white/90 text-slate-700",children:s.cuisine_type})]}),t.jsx("button",{onClick:o,className:`absolute top-3 right-3 p-2 rounded-full transition-all ${i?"bg-rose-500 text-white":"bg-white/90 text-slate-600 hover:bg-rose-500 hover:text-white"}`,children:t.jsx(mf,{className:`w-4 h-4 ${i?"fill-current":""}`})}),t.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:s.rating&&t.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-white/95 rounded-lg text-xs font-bold text-slate-800",children:[t.jsx(Ju,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),s.rating.toFixed(1),s.review_count&&t.jsxs("span",{className:"text-slate-400 font-normal",children:["(",s.review_count,")"]})]})}),A(s.price_level)&&t.jsx("span",{className:"px-2 py-1 bg-emerald-500 text-white rounded-lg text-xs font-bold",children:A(s.price_level)})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white mb-1 line-clamp-1",children:s.name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-start gap-1 mb-3 line-clamp-2",children:[t.jsx(Yo,{className:"w-3.5 h-3.5 flex-shrink-0 mt-0.5"}),s.address]}),s.dietary_tags&&s.dietary_tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:s.dietary_tags.map((f,m)=>t.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded text-[10px] font-bold",children:f},m))}),s.description&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-3 line-clamp-2",children:s.description}),t.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-100 dark:border-slate-700",children:[s.google_place_id&&t.jsxs("a",{href:`https://www.google.com/maps/place/?q=place_id:${s.google_place_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-sky-600 dark:hover:text-sky-400 hover:bg-sky-50 dark:hover:bg-sky-900/20 rounded-lg transition-colors",children:[t.jsx(jj,{className:"w-4 h-4"}),"Directions"]}),e&&t.jsxs("button",{onClick:()=>e(s),className:"flex-1 flex items-center justify-center gap-1 py-2 text-sm font-bold text-white bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 rounded-lg transition-all",children:[t.jsx(zi,{className:"w-4 h-4"}),"Add to Plan"]})]})]})]})},v6=({places:s,onAddToItinerary:e,title:r="Food Recommendations",loading:n=!1})=>{const[i,c]=W.useState(0),u=Sc.useRef(null),d=A=>{if(!u.current)return;const o=296,f=A==="left"?Math.max(0,i-1):Math.min(s.length-1,i+1);c(f),u.current.scrollTo({left:f*o,behavior:"smooth"})};return n?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Kd,{className:"w-5 h-5 text-orange-500"}),r]}),t.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3].map(A=>t.jsxs("div",{className:"w-[280px] flex-shrink-0 bg-slate-100 dark:bg-slate-800 rounded-2xl animate-pulse",children:[t.jsx("div",{className:"h-40 bg-slate-200 dark:bg-slate-700 rounded-t-2xl"}),t.jsxs("div",{className:"p-4 space-y-3",children:[t.jsx("div",{className:"h-5 bg-slate-200 dark:bg-slate-700 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),t.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2"})]})]},A))})]}):!s||s.length===0?t.jsxs("div",{className:"text-center py-8 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[t.jsx(Kd,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No food recommendations found"}),t.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:"Try adjusting your preferences"})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Kd,{className:"w-5 h-5 text-orange-500"}),r,t.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",s.length," found)"]})]}),s.length>2&&t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>d("left"),disabled:i===0,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Oh,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>d("right"),disabled:i>=s.length-2,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(uc,{className:"w-5 h-5"})})]})]}),t.jsx("div",{ref:u,className:"flex gap-4 overflow-x-auto pb-4 scroll-smooth [&::-webkit-scrollbar]:hidden",children:s.map((A,o)=>t.jsx("div",{className:"w-[280px] flex-shrink-0",children:t.jsx(b6,{place:A,onAddToItinerary:e})},A.id||o))})]})},y6=(s,e,r)=>{if(e)return`${Ot}/proxy_image?place_id=${e}`;if(r)return`${Ot}/proxy_image?name=${encodeURIComponent(r)}`;if(s&&!s.includes("unsplash.com")&&(s.includes("photo_reference")||s.includes("AF1Qip")||s.includes("photos/"))){const n=s.includes("photos/")?s.split("photos/").pop():s;if(n)return`${Ot}/proxy_image?ref=${encodeURIComponent(n)}`}return`${Ot}/proxy_image/default`},w6=({type:s,className:e="w-4 h-4"})=>{switch(s){case"food":return t.jsx(Kd,{className:e});case"attraction":return t.jsx(Lg,{className:e});case"cafe":return t.jsx(pm,{className:e});case"hotel":return t.jsx(Ig,{className:e});case"shopping":return t.jsx(_g,{className:e});case"transport":return t.jsx(Mg,{className:e});default:return t.jsx(Yo,{className:e})}},j6=({slot:s})=>{const e={morning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",lunch:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",afternoon:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400",evening:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400",night:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"},r={morning:"",lunch:"",afternoon:"",evening:"",night:""};return t.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${e[s]||e.morning}`,children:r[s]||s})},N6=({activity:s,onSave:e,onCancel:r,onDelete:n})=>{const[i,c]=W.useState({...s}),u=[{value:"morning",label:" Morning"},{value:"lunch",label:" Lunch"},{value:"afternoon",label:" Afternoon"},{value:"evening",label:" Evening"},{value:"night",label:" Night"}],d=[{value:"attraction",label:" Attraction"},{value:"food",label:" Food"},{value:"cafe",label:" Cafe"},{value:"hotel",label:" Hotel"},{value:"shopping",label:" Shopping"},{value:"transport",label:" Transport"}];return t.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:""}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"time",value:i.start_time,onChange:A=>c({...i,start_time:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"time",value:i.end_time,onChange:A=>c({...i,end_time:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("select",{value:i.time_slot,onChange:A=>c({...i,time_slot:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",children:u.map(A=>t.jsx("option",{value:A.value,children:A.label},A.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("select",{value:i.activity_type,onChange:A=>c({...i,activity_type:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",children:d.map(A=>t.jsx("option",{value:A.value,children:A.label},A.value))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"text",value:i.place_name,onChange:A=>c({...i,place_name:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"text",value:i.place_address,onChange:A=>c({...i,place_address:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("textarea",{value:i.description,onChange:A=>c({...i,description:A.target.value}),rows:3,className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none resize-none",placeholder:""})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"text",value:i.budget_estimate,onChange:A=>c({...i,budget_estimate:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:"RM 50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"text",value:i.tips||"",onChange:A=>c({...i,tips:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:""})]})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl text-sm font-medium transition-colors",children:[t.jsx(Xo,{className:"w-4 h-4"}),""]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl text-sm font-medium transition-colors",children:""}),t.jsxs("button",{onClick:()=>e(i),className:"flex items-center gap-2 px-5 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-xl text-sm font-bold transition-colors",children:[t.jsx(IA,{className:"w-4 h-4"}),""]})]})]})]})})},C6=({selectedCount:s,onSubmit:e,onCancel:r,isLoading:n})=>{const[i,c]=W.useState(""),u=["1","","","","",""];return t.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl",children:t.jsx(Ib,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"AI "}),t.jsxs("p",{className:"text-xs text-slate-500",children:[" ",s," "]})]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:" AI "}),t.jsx("textarea",{value:i,onChange:d=>c(d.target.value),placeholder:"2...",rows:4,className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none resize-none",disabled:n})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:""}),t.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((d,A)=>t.jsx("button",{onClick:()=>c(d),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 text-xs rounded-full hover:bg-purple-100 dark:hover:bg-purple-900/30 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",disabled:n,children:d},A))})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-800 flex justify-end gap-3",children:[t.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl text-sm font-medium transition-colors",disabled:n,children:""}),t.jsx("button",{onClick:()=>e(i),disabled:!i.trim()||n,className:"flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-xl text-sm font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ib,{className:"w-4 h-4"}),""]})})]})]})})},B6=({plan:s,onClose:e,onSave:r,onEditActivity:n})=>{const[i,c]=W.useState(s),[u,d]=W.useState(0),[A,o]=W.useState(null),[f,m]=W.useState(!1),[p,x]=W.useState(!1),[v,y]=W.useState(new Set),[w,E]=W.useState(!1),[Q,K]=W.useState(!1),Z=i.days[u],J=()=>d(de=>Math.max(0,de-1)),H=()=>d(de=>Math.min(i.days.length-1,de+1)),G=de=>{de.currentTarget.src=`${Ot}/proxy_image/default`},ce=(de,oe,Ee)=>{o({dayIdx:de,actIdx:oe,activity:Ee})},Ae=de=>{if(!A)return;const oe={...i};oe.days=[...i.days],oe.days[A.dayIdx]={...i.days[A.dayIdx]},oe.days[A.dayIdx].activities=[...i.days[A.dayIdx].activities],oe.days[A.dayIdx].activities[A.actIdx]=de,oe.days[A.dayIdx].day_summary={...oe.days[A.dayIdx].day_summary,total_activities:oe.days[A.dayIdx].activities.length},c(oe),m(!0),o(null),n(A.dayIdx,A.actIdx,de)},Ne=()=>{if(!A)return;const de={...i};de.days=[...i.days],de.days[A.dayIdx]={...i.days[A.dayIdx]},de.days[A.dayIdx].activities=i.days[A.dayIdx].activities.filter((oe,Ee)=>Ee!==A.actIdx),de.days[A.dayIdx].day_summary={...de.days[A.dayIdx].day_summary,total_activities:de.days[A.dayIdx].activities.length},c(de),m(!0),o(null)},re=()=>{o(null)},Be=()=>{p&&y(new Set),x(!p)},fe=(de,oe)=>{const Ee=`${de}-${oe}`,Re=new Set(v);Re.has(Ee)?Re.delete(Ee):Re.add(Ee),y(Re)},Se=(de,oe)=>v.has(`${de}-${oe}`),pe=()=>{const de=[];return v.forEach(oe=>{const[Ee,Re]=oe.split("-"),ke=parseInt(Ee),me=parseInt(Re);i.days[ke]&&i.days[ke].activities[me]&&de.push({dayIdx:ke,actIdx:me,activity:i.days[ke].activities[me]})}),de},ae=async de=>{const oe=pe();if(oe.length!==0){K(!0);try{const Ee=await fetch(`${Ot}/api/ai/edit-activities`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({activities:oe.map(ke=>({day_index:ke.dayIdx,activity_index:ke.actIdx,activity:ke.activity})),instructions:de,plan_context:{title:i.title,destination:i.title,preferences:i.user_preferences_applied}})});if(!Ee.ok)throw new Error("AI edit request failed");const Re=await Ee.json();if(Re.success&&Re.updated_activities){const ke={...i};ke.days=i.days.map((me,we)=>({...me,activities:me.activities.map((ue,te)=>{const ge=Re.updated_activities.find(Me=>Me.day_index===we&&Me.activity_index===te);return ge?ge.activity:ue})})),c(ke),m(!0),x(!1),y(new Set)}}catch(Ee){console.error("AI Edit failed:",Ee),alert("AI ")}finally{K(!1),E(!1)}}};return t.jsxs("div",{className:"fixed inset-0 z-[70] bg-white dark:bg-slate-900 flex flex-col overflow-hidden animate-in fade-in duration-200",children:[t.jsx("div",{className:"shrink-0 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:t.jsx(en,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:i.title}),t.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2",children:[t.jsx("span",{children:i.duration}),t.jsx("span",{children:""}),t.jsx("span",{children:i.total_budget_estimate})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:Be,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${p?"bg-purple-500 text-white shadow-lg shadow-purple-500/20":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-purple-100 dark:hover:bg-purple-900/30 hover:text-purple-600 dark:hover:text-purple-400"}`,children:[t.jsx(Ib,{className:"w-4 h-4"}),p?"":"AI "]}),p&&v.size>0&&t.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-bold text-sm shadow-lg shadow-purple-500/20 hover:from-purple-600 hover:to-pink-600 transition-all animate-in slide-in-from-right-2",children:[t.jsx(co,{className:"w-4 h-4"})," ",v.size," "]}),t.jsxs("button",{onClick:()=>r(i),className:`flex items-center gap-2 px-5 py-2.5 text-white font-bold rounded-xl shadow-lg transition-all active:scale-95 ${f?"bg-emerald-500 hover:bg-emerald-600 shadow-emerald-500/20":"bg-sky-500 hover:bg-sky-600 shadow-sky-500/20"}`,children:[f?t.jsx(IA,{className:"w-4 h-4"}):t.jsx(Og,{className:"w-4 h-4"}),f?"":""]})]})]})}),t.jsx("div",{className:"shrink-0 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:J,disabled:u===0,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Oh,{className:"w-5 h-5"})}),t.jsx("div",{className:"flex-1 flex gap-2 overflow-x-auto py-1 [&::-webkit-scrollbar]:hidden",children:i.days.map((de,oe)=>t.jsx("button",{onClick:()=>d(oe),className:`shrink-0 px-4 py-2 rounded-xl font-medium text-sm transition-all ${u===oe?"bg-sky-500 text-white shadow-md shadow-sky-500/20":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-sky-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("span",{className:"font-bold",children:["Day ",de.day_number]}),t.jsx("span",{className:"text-[10px] opacity-75",children:de.theme})]})},de.day_number))}),t.jsx("button",{onClick:H,disabled:u===i.days.length-1,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(uc,{className:"w-5 h-5"})})]})})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-8",children:[Z.top_locations&&Z.top_locations.length>0&&t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(co,{className:"w-4 h-4"})," "]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Z.top_locations.map((de,oe)=>t.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden group cursor-pointer shadow-lg",children:[t.jsx("img",{src:y6(de.image_url,de.place_id,de.name),onError:G,alt:de.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:de.name}),t.jsx("p",{className:"text-white/80 text-xs",children:de.highlight_reason})]})]},oe))})]}),t.jsx("section",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-5 border border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-wrap gap-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-900/30 rounded-lg",children:t.jsx(lo,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:""}),t.jsxs("p",{className:"font-bold text-slate-900 dark:text-white",children:[Z.day_summary.total_activities," "]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:t.jsx(yf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:""}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:Z.day_summary.total_budget})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:t.jsx(Mg,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:""}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:Z.day_summary.transport_notes})]})]})]})}),t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4"})," "]}),t.jsx("div",{className:"space-y-4",children:Z.activities.map((de,oe)=>t.jsxs("div",{className:"relative pl-8 group",children:[oe<Z.activities.length-1&&t.jsx("div",{className:"absolute left-[11px] top-10 bottom-0 w-0.5 bg-slate-200 dark:bg-slate-700"}),t.jsx("div",{className:`absolute left-0 top-2 w-6 h-6 rounded-full flex items-center justify-center shadow-md ${de.activity_type==="food"?"bg-orange-500":de.activity_type==="attraction"?"bg-sky-500":de.activity_type==="cafe"?"bg-amber-500":"bg-slate-500"}`,children:t.jsx(w6,{type:de.activity_type,className:"w-3 h-3 text-white"})}),t.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border p-5 shadow-sm hover:shadow-lg transition-all cursor-pointer ${p&&Se(u,oe)?"border-purple-400 dark:border-purple-500 ring-2 ring-purple-400/30":"border-slate-100 dark:border-slate-700"}`,onClick:()=>p&&fe(u,oe),children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[p&&t.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),fe(u,oe)},className:`p-1 rounded-md transition-all ${Se(u,oe)?"bg-purple-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:Se(u,oe)?t.jsx(Go,{className:"w-4 h-4"}):t.jsx(J3,{className:"w-4 h-4"})}),t.jsx(j6,{slot:de.time_slot}),t.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[de.start_time," - ",de.end_time]})]}),!p&&t.jsx("button",{onClick:()=>ce(u,oe,de),className:"p-1.5 text-slate-300 hover:text-sky-500 hover:bg-sky-50 dark:hover:bg-sky-900/30 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(Cj,{className:"w-4 h-4"})})]}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:de.place_name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-1 mb-3",children:[t.jsx(Yo,{className:"w-3 h-3"}),de.place_address]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed mb-4",children:de.description}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[t.jsx("span",{className:"px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 rounded-lg font-bold",children:de.budget_estimate}),de.dietary_info&&t.jsx("span",{className:"px-2 py-1 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-400 rounded-lg font-medium",children:de.dietary_info}),de.tips&&t.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[t.jsx(kl,{className:"w-3 h-3"})," ",de.tips]})]})]})]},oe))})]}),i.practical_info&&t.jsxs("section",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-2xl p-5 border border-amber-100 dark:border-amber-800/30",children:[t.jsxs("h2",{className:"text-sm font-bold text-amber-800 dark:text-amber-400 mb-3 flex items-center gap-2",children:[t.jsx(kl,{className:"w-4 h-4"})," "]}),t.jsxs("div",{className:"space-y-2 text-sm text-amber-700 dark:text-amber-300",children:[i.practical_info.best_transport&&t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",i.practical_info.best_transport]}),i.practical_info.weather_advisory&&t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",i.practical_info.weather_advisory]}),i.practical_info.booking_recommendations&&i.practical_info.booking_recommendations.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:":"}),t.jsx("ul",{className:"list-disc list-inside mt-1",children:i.practical_info.booking_recommendations.map((de,oe)=>t.jsx("li",{children:de},oe))})]})]})]})]})}),A&&t.jsx(N6,{activity:A.activity,onSave:Ae,onCancel:re,onDelete:Ne}),w&&t.jsx(C6,{selectedCount:v.size,onSubmit:ae,onCancel:()=>E(!1),isLoading:Q})]})},Gm=["Describe your dream trip to Kyoto...","Plan a weekend getaway to Napa Valley...","Find the best sushi restaurants in Tokyo...","Suggest a 7-day itinerary for Italy...","Looking for family-friendly activities in London...","Show me flights to New York under RM 2000..."],k6=({suggestion:s,onClose:e,onSave:r,onUpdate:n,isSaved:i})=>{const[c,u]=W.useState(null),[d,A]=W.useState(null),o=(p,x)=>{u(p),A({...x})},f=()=>{if(c!==null&&s.itinerary){const p=[...s.itinerary];p[c]=d,n({...s,itinerary:p}),u(null)}},m=p=>{p.currentTarget.src=`${Ot}/proxy_image/default`};return t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 relative flex flex-col max-h-[85vh] overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"relative h-48 sm:h-64 shrink-0 group",children:[t.jsx("img",{src:s.imageUrl,onError:m,alt:s.title,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),t.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-black/30 hover:bg-black/50 text-white rounded-full backdrop-blur-md transition-colors",children:t.jsx(en,{className:"w-5 h-5"})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[t.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-2 drop-shadow-md",children:s.title}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.map(p=>t.jsx("span",{className:"px-2.5 py-1 rounded-lg bg-white/20 backdrop-blur-md text-white text-xs font-bold uppercase tracking-wider border border-white/10",children:p},p)),t.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-emerald-500/80 backdrop-blur-md text-white text-xs font-bold flex items-center gap-1 border border-white/10",children:[t.jsx("span",{className:"opacity-75",children:"Est."})," ",s.priceEstimate]})]})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8 space-y-8 custom-scrollbar bg-white dark:bg-slate-900",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[t.jsx(kl,{className:"w-3 h-3"})," About"]}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-sm sm:text-base bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl border border-slate-100 dark:border-slate-800",children:s.description})]}),s.itinerary&&Array.isArray(s.itinerary)&&s.itinerary.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(lo,{className:"w-3 h-3"})," Itinerary"]}),t.jsx("div",{className:"space-y-4",children:s.itinerary.map((p,x)=>{var v,y,w;return t.jsxs("div",{className:"relative pl-6 pb-2 border-l-2 border-slate-100 dark:border-slate-800 last:border-0 group/item",children:[t.jsx("div",{className:"absolute left-[-5px] top-0 w-2.5 h-2.5 rounded-full bg-sky-500 ring-4 ring-white dark:ring-slate-900"}),c===x?t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border-2 border-sky-500 shadow-lg space-y-3",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{value:d.day_number,onChange:E=>A({...d,day_number:E.target.value}),className:"w-16 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-2 py-1 text-xs font-bold",placeholder:"Day"}),t.jsx("input",{value:d.start_time,onChange:E=>A({...d,start_time:E.target.value}),className:"w-20 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-2 py-1 text-xs font-bold",placeholder:"Time"})]}),t.jsx("input",{value:d.custom_title||((v=d.place)==null?void 0:v.name),onChange:E=>A({...d,custom_title:E.target.value}),className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm font-bold",placeholder:"Activity Title"}),t.jsx("textarea",{value:d.custom_notes,onChange:E=>A({...d,custom_notes:E.target.value}),className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm",placeholder:"Notes",rows:2}),t.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[t.jsx("button",{onClick:()=>u(null),className:"px-3 py-1.5 text-xs font-bold text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),t.jsx("button",{onClick:f,className:"px-3 py-1.5 text-xs font-bold bg-sky-500 text-white rounded-lg hover:bg-sky-600",children:"Save Changes"})]})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 border border-slate-100 dark:border-slate-700 hover:border-sky-200 dark:hover:border-sky-900 transition-all hover:shadow-md group relative",children:[t.jsx("button",{onClick:()=>o(x,p),className:"absolute top-2 right-2 p-1.5 text-slate-300 hover:text-sky-500 hover:bg-sky-50 dark:hover:bg-sky-900/30 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(Qg,{className:"w-3.5 h-3.5"})}),t.jsx("div",{className:"flex items-start justify-between mb-1.5",children:t.jsxs("span",{className:"text-[10px] font-bold text-sky-600 dark:text-sky-400 bg-sky-50 dark:bg-sky-900/20 px-2 py-0.5 rounded uppercase tracking-wider",children:["Day ",p.day_number,"  ",p.start_time]})}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white mb-1 text-sm",children:p.custom_title||((y=p.place)==null?void 0:y.name)||"Activity"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2 leading-relaxed",children:p.custom_notes||((w=p.place)==null?void 0:w.address)})]})]},x)})})]}),s.reviews&&s.reviews.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Ju,{className:"w-3 h-3"})," Reviews"]}),t.jsx("div",{className:"space-y-3",children:s.reviews.slice(0,3).map((p,x)=>t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl text-sm border border-slate-100 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[t.jsx("div",{className:"flex text-amber-400",children:[...Array(5)].map((v,y)=>t.jsx(Ju,{className:`w-3 h-3 ${y<Math.round(p.rating)?"fill-current":"opacity-30"}`},y))}),t.jsx("span",{className:"font-bold text-xs text-slate-700 dark:text-slate-300",children:p.rating})]}),t.jsxs("p",{className:"text-slate-600 dark:text-slate-400 italic text-xs leading-relaxed",children:['"',p.text,'"']})]},x))})]})]}),t.jsxs("div",{className:"p-5 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex gap-3",children:[t.jsx("button",{onClick:e,className:"px-6 py-3.5 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:"Close"}),t.jsxs("button",{onClick:()=>r(s),className:`flex-1 py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg active:scale-[0.98] ${i?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800":"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-500 text-white shadow-sky-500/25"}`,children:[i?t.jsx(Bo,{className:"w-5 h-5"}):t.jsx(Og,{className:"w-5 h-5"}),i?"Saved to My Trips":"Save Trip Plan"]})]})]})})},S6=Sc.memo(({suggestion:s,isSaved:e,onViewDetails:r,onToggleSave:n})=>t.jsxs("div",{className:"w-full md:w-auto md:min-w-[280px] md:max-w-[320px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl isolate transform-gpu flex-shrink-0 snap-start transition-all duration-300 ease-out cursor-pointer group hover:scale-105",children:[t.jsxs("div",{className:"h-36 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),t.jsx("div",{className:"absolute bottom-3 left-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight tracking-tight",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(i=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:i},i))}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Cost"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.priceEstimate})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:i=>{i.stopPropagation(),r(s)},className:"p-2 rounded-xl text-slate-400 hover:text-sky-600 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all",title:"View Details",children:t.jsx(kl,{className:"w-4 h-4"})}),t.jsxs("button",{onClick:i=>{i.stopPropagation(),n(s)},className:`flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold transition-all ${e?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 text-white"}`,children:[e?t.jsx(Bo,{className:"w-3.5 h-3.5"}):t.jsx(Og,{className:"w-3.5 h-3.5"}),e?"Added":"Add"]})]})]})]})]})),E6=({suggestions:s,savedSuggestions:e,onViewDetails:r,onToggleSave:n})=>{const i=W.useRef(null),[c,u]=W.useState(0),d=()=>{var f;if(i.current){const m=i.current.scrollLeft,p=((f=i.current.firstElementChild)==null?void 0:f.clientWidth)||300;u(Math.round(m/p))}},A=()=>{var f;return(f=i.current)==null?void 0:f.scrollBy({left:-340,behavior:"smooth"})},o=()=>{var f;return(f=i.current)==null?void 0:f.scrollBy({left:340,behavior:"smooth"})};return t.jsxs("div",{className:"relative group/list",children:[t.jsxs("div",{className:"hidden md:block opacity-0 group-hover/list:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:A,className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-5 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(Oh,{className:"w-5 h-5"})}),t.jsx("button",{onClick:o,className:"absolute right-0 top-1/2 -translate-y-1/2 -mr-1 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(uc,{className:"w-5 h-5"})})]}),t.jsx("div",{ref:i,onScroll:d,className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:s.map(f=>t.jsx(S6,{suggestion:f,isSaved:e.includes(f.id),onViewDetails:r,onToggleSave:n},f.id))}),t.jsx("div",{className:"flex justify-center gap-1.5 mt-2",children:s.map((f,m)=>t.jsx("div",{className:`h-1.5 rounded-full transition-all ${m===c?"w-6 bg-sky-500":"w-1.5 bg-slate-200 dark:bg-slate-700"}`},m))})]})},T6=Sc.memo(({plan:s,onViewDetails:e,onSave:r,isSaved:n})=>{const i=()=>{var A,o,f;const d=(f=(o=(A=s.days)==null?void 0:A[0])==null?void 0:o.top_locations)==null?void 0:f[0];return d!=null&&d.place_id?`${Ot}/proxy_image?place_id=${d.place_id}`:d!=null&&d.name?`${Ot}/proxy_image?name=${encodeURIComponent(d.name)}`:`${Ot}/proxy_image/default`},c=d=>{d.currentTarget.src=`${Ot}/proxy_image/default`},u=s.days.reduce((d,A)=>{var o;return d+(((o=A.activities)==null?void 0:o.length)||0)},0);return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[320px] md:max-w-[380px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl isolate transform-gpu flex-shrink-0 snap-start transition-all duration-300 ease-out cursor-pointer group hover:scale-[1.02] hover:shadow-xl",children:[t.jsxs("div",{className:"h-40 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:i(),onError:c,alt:s.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1 bg-sky-500/90 backdrop-blur-sm rounded-full text-white text-xs font-bold flex items-center gap-1.5",children:[t.jsx(lo,{className:"w-3 h-3"}),s.duration]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight tracking-tight drop-shadow-md",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.slice(0,4).map(d=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:d},d))}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(lo,{className:"w-3.5 h-3.5"}),s.days.length," "]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Yo,{className:"w-3.5 h-3.5"}),u," "]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:""}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.total_budget_estimate})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:d=>{d.stopPropagation(),e(s)},className:"flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 text-white transition-all",children:[t.jsx(kl,{className:"w-3.5 h-3.5"}),""]}),t.jsx("button",{onClick:d=>{d.stopPropagation(),r(s)},className:`p-2 rounded-xl transition-all ${n?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-slate-100 dark:bg-slate-800 text-slate-400 hover:text-sky-600"}`,children:n?t.jsx(Bo,{className:"w-4 h-4"}):t.jsx(Og,{className:"w-4 h-4"})})]})]})]})]})}),U6=({plans:s,savedPlans:e,onViewDetails:r,onSave:n})=>{const i=W.useRef(null),c=()=>{var d;return(d=i.current)==null?void 0:d.scrollBy({left:-380,behavior:"smooth"})},u=()=>{var d;return(d=i.current)==null?void 0:d.scrollBy({left:380,behavior:"smooth"})};return t.jsxs("div",{className:"relative group/list",children:[s.length>1&&t.jsxs("div",{className:"hidden md:block opacity-0 group-hover/list:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:c,className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-5 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(Oh,{className:"w-5 h-5"})}),t.jsx("button",{onClick:u,className:"absolute right-0 top-1/2 -translate-y-1/2 -mr-1 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(uc,{className:"w-5 h-5"})})]}),t.jsx("div",{ref:i,className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:s.map((d,A)=>t.jsx(T6,{plan:d,isSaved:e.includes(d.title),onViewDetails:r,onSave:n},`${d.title}-${A}`))})]})},F6=({conversations:s,activeConversationId:e,isLoading:r,isPremium:n,isOpen:i,onSelectConversation:c,onNewConversation:u,onDeleteConversation:d,onRenameConversation:A,onToggleSidebar:o,onUpgrade:f})=>{const[m,p]=W.useState(null),[x,v]=W.useState(""),[y,w]=W.useState(null),E=J=>{p(J.id),v(J.title),w(null)},Q=()=>{m&&x.trim()&&A(m,x.trim()),p(null),v("")},K=J=>{const H=new Date(J),ce=Math.floor((new Date().getTime()-H.getTime())/(1e3*60*60*24));return ce===0?"Today":ce===1?"Yesterday":ce<7?`${ce} days ago`:H.toLocaleDateString()},Z=s.reduce((J,H)=>{const G=K(H.updatedAt);return J[G]||(J[G]=[]),J[G].push(H),J},{});return t.jsxs(t.Fragment,{children:[i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:o}),t.jsxs("div",{className:`
        fixed md:relative inset-y-0 left-0 z-50 
        w-72 bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800
        flex flex-col transition-transform duration-300 ease-in-out
        ${i?"translate-x-0":"-translate-x-full md:translate-x-0 md:w-0 md:overflow-hidden"}
      `,children:[t.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:t.jsxs("button",{onClick:u,disabled:!n,className:`w-full flex items-center justify-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 
                       border border-slate-200 dark:border-slate-700 rounded-xl
                       hover:bg-slate-50 dark:hover:bg-slate-700 transition-all
                       disabled:opacity-50 disabled:cursor-not-allowed`,children:[t.jsx(zi,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"New Chat"})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:n?r?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(Ir,{className:"w-6 h-6 text-slate-400 animate-spin"})}):s.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Th,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No conversations yet"}),t.jsx("p",{className:"text-xs mt-1",children:"Start a new chat!"})]}):Object.entries(Z).map(([J,H])=>t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:J}),H.map(G=>t.jsxs("div",{className:`
                      group relative flex items-center gap-2 px-3 py-2.5 rounded-lg cursor-pointer
                      transition-all duration-150
                      ${e===G.id?"bg-sky-100 dark:bg-sky-900/30 text-sky-700 dark:text-sky-300":"hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-300"}
                    `,onClick:()=>c(G.id),children:[t.jsx(Th,{className:"w-4 h-4 flex-shrink-0 opacity-60"}),m===G.id?t.jsx("input",{type:"text",value:x,onChange:ce=>v(ce.target.value),onBlur:Q,onKeyDown:ce=>ce.key==="Enter"&&Q(),className:"flex-1 bg-white dark:bg-slate-700 px-2 py-1 rounded text-sm outline-none",autoFocus:!0,onClick:ce=>ce.stopPropagation()}):t.jsx("span",{className:"flex-1 truncate text-sm font-medium",children:G.title}),t.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:ce=>{ce.stopPropagation(),w(y===G.id?null:G.id)},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded",children:t.jsx($k,{className:"w-4 h-4"})}),y===G.id&&t.jsxs("div",{className:"absolute right-2 top-full mt-1 py-1 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 z-10 min-w-[120px]",children:[t.jsxs("button",{onClick:ce=>{ce.stopPropagation(),E(G)},className:"w-full px-3 py-2 text-left text-sm hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center gap-2",children:[t.jsx(Qg,{className:"w-3.5 h-3.5"}),"Rename"]}),t.jsxs("button",{onClick:ce=>{ce.stopPropagation(),d(G.id),w(null)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[t.jsx(Xo,{className:"w-3.5 h-3.5"}),"Delete"]})]})]})]},G.id))]},J)):t.jsxs("div",{className:"p-4 text-center",children:[t.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl mb-3",children:[t.jsx(zd,{className:"w-8 h-8 text-amber-500 mx-auto mb-2"}),t.jsx("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Upgrade to Premium"}),t.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"Save & access your chat history"})]}),f&&t.jsx("button",{onClick:f,className:"w-full px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-bold rounded-xl transition-all",children:"Upgrade Now"})]})}),n&&t.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 rounded-lg",children:[t.jsx(zd,{className:"w-4 h-4 text-amber-500"}),t.jsx("span",{className:"text-xs font-bold text-amber-700 dark:text-amber-300",children:"Premium Active"})]})})]})]})},o2=({user:s})=>{var pr,tn;const{conversationId:e}=Fg();Hl();const[r,n]=W.useState([]),[i,c]=W.useState(null),[u,d]=W.useState(!1),[A,o]=W.useState(!0),[f,m]=W.useState(!1),[p,x]=W.useState(!1),[v,y]=W.useState([]),[w,E]=W.useState(!1),[Q,K]=W.useState(!1),[Z,J]=W.useState(null),[H,G]=W.useState(!1),[ce,Ae]=W.useState(!1),[Ne,re]=W.useState([]),[Be,fe]=W.useState(""),[Se,pe]=W.useState([]),[ae,de]=W.useState([]),[oe,Ee]=W.useState(null),[Re,ke]=W.useState(null),[me,we]=W.useState(Gm[0]),[ue,te]=W.useState(!0),[ge,Me]=W.useState(0),[Ve,Nt]=W.useState(null),[ut,et]=W.useState(null),[Lt,ns]=W.useState(null),[ls,vt]=W.useState(null),[$e,Bt]=W.useState(!1),[Qt,ks]=W.useState(!1),[zs,yr]=W.useState(null),mr=W.useRef(null),ar=W.useRef(null),$s=(s==null?void 0:s.isPremium)||((pr=s==null?void 0:s.subscription)==null?void 0:pr.status)==="active"||!1,As=(Ns,Is="info")=>{ke({message:Ns,type:Is}),setTimeout(()=>ke(null),3e3)},Rs=Ns=>Ns.map((Is,kr)=>{const nr=()=>Is.id||Is.place_id?`${Ot}/proxy_image?place_id=${Is.id||Is.place_id}`:Is.google_place_id?`${Ot}/proxy_image?google_place_id=${encodeURIComponent(Is.google_place_id)}`:Is.photo_reference&&Is.photo_reference!=="N/A"?`${Ot}/proxy_image?ref=${encodeURIComponent(Is.photo_reference)}`:Is.name?`${Ot}/proxy_image?name=${encodeURIComponent(Is.name)}`:`${Ot}/proxy_image/default`;return Is.itinerary&&Array.isArray(Is.itinerary)?{id:Is.id||`ai-plan-${kr}-${Date.now()}`,title:Is.title||"",description:Is.description||"",duration:Is.duration||"Custom Trip",priceEstimate:Is.priceEstimate||"N/A",tags:Is.tags||["Plan"],imageUrl:nr(),itinerary:Is.itinerary,reviews:[],fullAddress:Is.description,rating:5}:{id:`g-place-${kr}-${Date.now()}`,title:Is.name||"",description:`${Is.address||""} | : ${Is.rating||"N/A"}`,duration:"Place",priceEstimate:Is.price_level?"$".repeat(Is.price_level.length):"N/A",tags:Is.business_status==="OPERATIONAL"?["",""]:[""],imageUrl:nr(),itinerary:null,reviews:Is.review_list||[],fullAddress:Is.address,rating:Is.rating}}),br=W.useCallback(async()=>{if($s){d(!0);try{const Ns=await fetch(`${Ot}/api/conversations`,{credentials:"include"});if(Ns.status===403)return;if(!Ns.ok)throw new Error("Failed to fetch");const Is=await Ns.json();n(Is.conversations||[])}catch(Ns){console.error("Failed to fetch conversations:",Ns)}finally{d(!1)}}},[$s]),js=async Ns=>{try{const Is=await fetch(`${Ot}/api/conversations/${Ns}`,{credentials:"include"});if(!Is.ok)throw new Error("Failed to load");const nr=(await Is.json()).conversation;if(nr!=null&&nr.messages){const Ts=nr.messages.map(Lr=>{let la,gr,qa,yn=Lr.content;if(Lr.content.startsWith("DAILY_PLAN::"))try{const In=Lr.content.substring(12),$n=JSON.parse(In);gr=[$n],yn=` ${$n.duration} `}catch(In){console.error("Failed to parse daily plan from history:",In)}else if(Lr.content.startsWith("FOOD_DATA::"))try{const In=Lr.content.substring(11),$n=JSON.parse(In);$n.recommendations&&(qa=$n.recommendations,yn=` ${$n.recommendations.length} `)}catch(In){console.error("Failed to parse food data from history:",In)}else if(Lr.content.startsWith("POPUP_DATA::"))try{const In=Lr.content.substring(12);la=Rs(JSON.parse(In)),yn=` ${la.length} `}catch{}else if(Lr.suggestions)try{la=Rs(Lr.suggestions)}catch{}else Lr.dailyPlans&&(gr=Lr.dailyPlans);return{id:`msg-${Lr.id}`,sender:Lr.role==="user"?"user":"ai",text:yn,timestamp:new Date(Lr.createdAt),suggestions:la,dailyPlans:gr,foodRecommendations:qa}});re(Ts),c(Ns)}}catch(Is){console.error("Failed to load conversation:",Is),As("Failed to load conversation","error")}},qs=()=>{c(null),re([])},hr=async Ns=>{if(confirm("Delete this conversation?"))try{if(!(await fetch(`${Ot}/api/conversations/${Ns}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete");n(kr=>kr.filter(nr=>nr.id!==Ns)),i===Ns&&(c(null),re([])),As("Conversation deleted","success")}catch{As("Failed to delete","error")}},rr=async(Ns,Is)=>{try{if(!(await fetch(`${Ot}/api/conversations/${Ns}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:Is})})).ok)throw new Error("Failed to rename");n(nr=>nr.map(Ts=>Ts.id===Ns?{...Ts,title:Is}:Ts))}catch{As("Failed to rename","error")}},Xs=async()=>{if(!(!i||!$s)){K(!0);try{const Ns=await fetch(`${Ot}/api/conversations/${i}/share`,{method:"POST",credentials:"include"});if(!Ns.ok)throw new Error("Failed to share");const Is=await Ns.json(),kr=`${window.location.origin}${Is.shareUrl}`;J(kr),G(!0)}catch{As("Failed to share conversation","error")}finally{K(!1)}}},Es=async()=>{if(Z)try{await navigator.clipboard.writeText(Z),Ae(!0),As("Link copied to clipboard!","success"),setTimeout(()=>Ae(!1),2e3)}catch{As("Failed to copy link","error")}},Gt=()=>{G(!1),J(null),Ae(!1)},vs=async Ns=>{m(!1);const Is=`I need a daily plan with these preferences:
- Mood: ${Ns.mood}
- Companions: ${Ns.companions}
- Budget: ${Ns.budget}
- Transport: ${Ns.transport}
- Dietary: ${Ns.dietary.join(", ")||"None"}

Please suggest a destination or ask for one if needed.`;qs(),fe(Is),fe(`Plan a trip based on my preferences:
Mood: ${Ns.mood}, Budget: ${Ns.budget}, Group: ${Ns.companions}...

(Type your destination here)`),ar.current&&ar.current.focus()},Ms=async Ns=>{x(!1),E(!0),y([]);const Is={id:`food-search-${Date.now()}`,sender:"ai",text:` Finding the best ${Ns.mealType} spots for you based on your preferences...`,timestamp:new Date};re(kr=>[...kr,Is]);try{const nr=await(await fetch(`${Ot}/api/food/recommendations`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({preferences:Ns,coordinates:Lt})})).json();if(nr.success&&nr.recommendations){y(nr.recommendations);const Ts={id:`food-result-${Date.now()}`,sender:"ai",text:`Found ${nr.recommendations.length} great options for you! Check them out below:`,timestamp:new Date,foodRecommendations:nr.recommendations};re(Lr=>[...Lr.filter(la=>la.id!==Is.id),Ts])}else throw new Error(nr.error||"Failed to get recommendations")}catch(kr){console.error("Food recommendations error:",kr),re(nr=>nr.map(Ts=>Ts.id===Is.id?{...Ts,text:""}:Ts))}finally{E(!1)}},Gs=Ns=>{As(`Added "${Ns.name}" to your plans!`,"success")},fr=async()=>{if(!Be.trim()||$e)return;const Ns={id:Date.now().toString(),sender:"user",text:Be,timestamp:new Date};re(kr=>[...kr,Ns]);const Is=Be;fe(""),Bt(!0);try{const kr=Ne.map(yn=>({role:yn.sender==="user"?"user":"model",parts:[yn.text]})),nr=await fetch(`${Ot}/chat_message`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:Is,conversationId:i,history:kr,coordinates:Lt})});if(!nr.ok){const yn=await nr.json();throw new Error(yn.error||`HTTP error: ${nr.status}`)}const Ts=await nr.json();let Lr=Ts.reply||"AI ",la,gr;if(Lr.startsWith("DAILY_PLAN::"))try{const yn=JSON.parse(Lr.substring(12));gr=[yn],Lr=` ${yn.duration} `}catch(yn){console.error("Failed to parse daily plan:",yn),Lr=""}else if(Lr.startsWith("POPUP_DATA::"))try{const yn=JSON.parse(Lr.substring(12));la=Rs(yn),Lr=` ${la.length} `}catch{Lr=""}const qa={id:(Date.now()+1).toString(),sender:"ai",text:Lr,timestamp:new Date,suggestions:la,dailyPlans:gr};Ts.conversationId&&!i&&(c(Ts.conversationId),br()),$s?(Bt(!1),re(yn=>[...yn,qa])):(yr(qa),ks(!0))}catch(kr){console.error("Send message error:",kr),Bt(!1),re(nr=>[...nr,{id:(Date.now()+1).toString(),sender:"ai",text:`: ${kr.message||kr}`,timestamp:new Date}])}},Ct=()=>{ks(!1),Bt(!1),zs&&(re(Ns=>[...Ns,zs]),yr(null))},Zt=Ns=>{Ns.key==="Enter"&&!Ns.shiftKey&&(Ns.preventDefault(),fr())},ds=W.useCallback(async Ns=>{const Is=Ns.id,kr=Se.includes(Is);if(pe(nr=>kr?nr.filter(Ts=>Ts!==Is):[...nr,Is]),!kr)try{if(!(await fetch(`${Ot}/api/trips/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ns),credentials:"include"})).ok)throw new Error("Failed to save trip");As("Trip saved!","success")}catch{pe(Ts=>Ts.filter(Lr=>Lr!==Is)),As("Failed to save trip","error")}},[Se]),hs=Ns=>{Nt(Ns)},Ks=Ns=>{vt(Ns)},Vs=W.useCallback(async Ns=>{const Is=Ns.title,kr=ae.includes(Is);if(de(nr=>kr?nr.filter(Ts=>Ts!==Is):[...nr,Is]),!kr)try{if(!(await fetch(`${Ot}/api/trips/save_daily_plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ns),credentials:"include"})).ok)throw new Error("Failed to save");As("!","success")}catch{de(Ts=>Ts.filter(Lr=>Lr!==Is)),As("","error")}},[ae]);return W.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(Ns=>{ns({latitude:Ns.coords.latitude,longitude:Ns.coords.longitude})},Ns=>console.warn("GPS Error:",Ns),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},[]),W.useEffect(()=>{$s&&br()},[$s,br]),W.useEffect(()=>{if(e){const Ns=parseInt(e,10);!isNaN(Ns)&&Ns!==i&&js(Ns)}else $s&&r.length>0&&!i&&js(r[0].id)},[$s,r,e]),W.useEffect(()=>{const Ns=setTimeout(()=>{var Is;(Is=mr.current)==null||Is.scrollIntoView({behavior:"smooth"})},100);return()=>clearTimeout(Ns)},[Ne,$e]),W.useEffect(()=>{ar.current&&(ar.current.style.height="56px",ar.current.style.height=Math.min(ar.current.scrollHeight,200)+"px")},[Be]),W.useEffect(()=>{const Ns=setInterval(()=>{te(!1),setTimeout(()=>{we(Is=>{const kr=Gm.indexOf(Is);return Gm[(kr+1)%Gm.length]}),te(!0)},300)},4e3);return()=>clearInterval(Ns)},[]),t.jsxs("div",{className:"flex h-full bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[t.jsx(F6,{conversations:r,activeConversationId:i,isLoading:u,isPremium:$s,isOpen:A,onSelectConversation:js,onNewConversation:qs,onDeleteConversation:hr,onRenameConversation:rr,onToggleSidebar:()=>o(!A),onUpgrade:()=>window.location.href="/pricing"}),t.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[Re&&t.jsxs("div",{className:`absolute top-4 right-4 z-50 px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 ${Re.type==="success"?"bg-emerald-500 text-white":Re.type==="error"?"bg-red-500 text-white":"bg-slate-800 text-white"}`,children:[Re.type==="success"&&t.jsx(Bo,{className:"w-4 h-4"}),Re.type==="error"&&t.jsx(Jo,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:Re.message})]}),t.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm flex items-center gap-3",children:[t.jsx("button",{onClick:()=>o(!A),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:A?t.jsx(u3,{className:"w-5 h-5"}):t.jsx(h3,{className:"w-5 h-5"})}),$s&&t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-100 to-yellow-100 dark:from-amber-900/30 dark:to-yellow-900/30 rounded-full",children:[t.jsx(zd,{className:"w-3.5 h-3.5 text-amber-600"}),t.jsx("span",{className:"text-xs font-bold text-amber-700 dark:text-amber-300",children:"PRO"})]}),i&&t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 truncate flex-1",children:((tn=r.find(Ns=>Ns.id===i))==null?void 0:tn.title)||"Chat"}),i&&$s&&Ne.length>0&&t.jsxs("button",{onClick:Xs,disabled:Q,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors disabled:opacity-50",title:"Share conversation",children:[Q?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):t.jsx(Lp,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col space-y-8",children:[Ne.length===0&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-6",children:[t.jsx("div",{className:"w-20 h-20 rounded-3xl bg-slate-100 dark:bg-slate-900 flex items-center justify-center border border-slate-200 dark:border-slate-800 shadow-sm mb-4",children:t.jsx(Mp,{className:"w-10 h-10 text-sky-500 dark:text-indigo-400"})}),t.jsxs("div",{className:"space-y-2 max-w-md",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Where to next?"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"I can help you plan the perfect trip based on your budget, mood, and preferences."})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-full shadow-lg shadow-sky-500/20 transition-all hover:scale-105 active:scale-95",children:[t.jsx(co,{className:"w-4 h-4"}),"Plan a Trip"]}),t.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold rounded-full shadow-lg shadow-orange-500/20 transition-all hover:scale-105 active:scale-95",children:[t.jsx(Kd,{className:"w-4 h-4"}),"Find Food"]})]})]}),Ne.map(Ns=>{const Is=Ns.sender==="user";return t.jsxs("div",{className:`flex w-full flex-col ${Is?"items-end":"items-start"}`,children:[t.jsxs("div",{className:`flex gap-4 max-w-[90%] md:max-w-[70%] ${Is?"flex-row-reverse":"flex-row"}`,children:[t.jsx("div",{className:"flex-shrink-0 mt-2",children:Is?t.jsx("img",{src:s.avatarUrl,alt:"User",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-800 shadow-sm object-cover"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md",children:t.jsx(Xf,{className:"w-5 h-5 text-white"})})}),t.jsxs("div",{className:`flex flex-col gap-1 p-5 rounded-[1.5rem] shadow-sm ${Is?"bg-sky-600 dark:bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 border border-slate-100 dark:border-slate-800 rounded-tl-sm"}`,children:[t.jsx("p",{className:"text-[15px] leading-relaxed whitespace-pre-wrap font-medium",children:Ns.text}),t.jsx("span",{className:`text-[10px] font-bold ${Is?"text-sky-100":"text-slate-400"} self-end mt-1`,children:Ns.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),Ns.suggestions&&Ns.suggestions.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(E6,{suggestions:Ns.suggestions,savedSuggestions:Se,onViewDetails:hs,onToggleSave:ds})}),Ns.dailyPlans&&Ns.dailyPlans.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(U6,{plans:Ns.dailyPlans,savedPlans:ae,onViewDetails:Ks,onSave:Vs})}),Ns.foodRecommendations&&Ns.foodRecommendations.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(v6,{places:Ns.foodRecommendations,onAddToItinerary:Gs,title:"Recommended for You"})})]},Ns.id)}),$e&&t.jsx("div",{className:"flex w-full flex-col items-start",children:t.jsxs("div",{className:"flex gap-4 max-w-[90%] md:max-w-[70%]",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md animate-pulse",children:t.jsx(Xf,{className:"w-5 h-5 text-white animate-spin"})}),t.jsx("div",{className:"flex flex-col gap-1 p-5 rounded-[1.5rem] shadow-sm bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-tl-sm",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}}),t.jsx("span",{className:"text-sm text-slate-500 ml-2",children:"AI is thinking..."})]})})]})})]}),t.jsx("div",{ref:mr})]}),t.jsx("div",{className:"px-4 md:px-6 pb-6 pt-4",children:t.jsxs("div",{className:"relative w-full max-w-3xl mx-auto bg-white dark:bg-slate-900 rounded-[2rem] shadow-2xl border border-slate-200 dark:border-slate-800 flex items-end",children:[t.jsxs("div",{className:"absolute left-4 bottom-[8px] flex gap-1 z-10",children:[t.jsx("button",{className:"p-2.5 text-slate-400 hover:text-sky-600 transition-all rounded-xl",children:t.jsx(m3,{className:"w-5 h-5"})}),t.jsx("button",{className:"p-2.5 text-slate-400 hover:text-sky-600 transition-all rounded-xl",children:t.jsx(wj,{className:"w-5 h-5"})})]}),!Be&&t.jsx("div",{className:`absolute left-28 right-20 top-[18px] pointer-events-none text-slate-400 font-medium text-base transition-all duration-500 truncate ${ue?"opacity-100":"opacity-0"}`,children:me}),t.jsx("textarea",{ref:ar,value:Be,onChange:Ns=>fe(Ns.target.value),onKeyDown:Zt,className:"w-full bg-transparent text-slate-900 dark:text-slate-100 font-medium rounded-[2rem] pt-[18px] pb-[14px] pl-28 pr-16 focus:outline-none resize-none h-auto overflow-hidden leading-normal",style:{minHeight:"56px"}}),t.jsx("div",{className:"absolute right-5 bottom-[8px]",children:t.jsx("button",{onClick:fr,disabled:!Be.trim()||$e,className:"p-2.5 bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-2xl transition-all",children:t.jsx(Nh,{className:"w-5 h-4"})})})]})}),t.jsx(o6,{isOpen:Qt,onClose:Ct}),t.jsx(h6,{isOpen:f,onClose:()=>m(!1),onComplete:vs}),t.jsx(g6,{isOpen:p,onClose:()=>x(!1),onComplete:Ms,userLocation:Lt}),Ve&&t.jsx(k6,{suggestion:Ve,onClose:()=>Nt(null),onSave:ds,onUpdate:Nt,isSaved:Se.includes(Ve.id)}),ls&&t.jsx(B6,{plan:ls,onClose:()=>vt(null),onSave:async Ns=>{try{(await fetch(`${Ot}/api/trips/save_daily_plan`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Ns)})).ok?(de(kr=>kr.includes(Ns.title)?kr:[...kr,Ns.title]),As("!","success"),vt(null)):As("","error")}catch{As("","error")}},onEditActivity:(Ns,Is,kr)=>{console.log("Edit activity:",Ns,Is,kr)}}),H&&Z&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Lp,{className:"w-5 h-5 text-sky-500"}),"Share Conversation"]}),t.jsx("button",{onClick:Gt,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Anyone with this link can view this conversation."}),t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-100 dark:bg-slate-800 rounded-xl",children:[t.jsx(Dg,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),t.jsx("input",{type:"text",value:Z,readOnly:!0,className:"flex-1 bg-transparent text-sm text-slate-700 dark:text-slate-300 outline-none truncate"}),t.jsx("button",{onClick:Es,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${ce?"bg-emerald-500 text-white":"bg-sky-500 hover:bg-sky-600 text-white"}`,children:ce?t.jsxs(t.Fragment,{children:[t.jsx(Go,{className:"w-4 h-4"}),"Copied"]}):t.jsxs(t.Fragment,{children:[t.jsx(Tb,{className:"w-4 h-4"}),"Copy"]})})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsx("button",{onClick:Gt,className:"w-full py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:"Done"})})]})})]})]})},$j=({isOpen:s,onClose:e,onGoToSettings:r,featureName:n="This feature"})=>s?t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",onClick:e,children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-6 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",onClick:i=>i.stopPropagation(),children:[t.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:t.jsx(en,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center bg-amber-100 dark:bg-amber-900/30",children:t.jsx(vj,{className:"w-8 h-8 text-amber-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Google Account Not Linked"}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed px-2",children:[n," requires a linked Google account.",t.jsx("br",{}),"Would you like to go to Settings to link your Google account now?"]})]}),t.jsxs("div",{className:"flex items-center gap-2 py-2 px-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),t.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Link to enable Calendar features"})]}),t.jsxs("div",{className:"flex gap-3 w-full pt-2",children:[t.jsx("button",{onClick:e,className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:"Cancel"}),t.jsxs("button",{onClick:r,className:"flex-1 py-3 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-sky-500/25 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[t.jsx(gm,{className:"w-4 h-4"}),"Go to Settings"]})]}),t.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 flex items-center gap-1.5",children:[t.jsx(Jo,{className:"w-3 h-3"}),"Your data stays secure with Google OAuth"]})]})]})}):null,Gj=({user:s,onShowWarning:e,onNavigateToSettings:r})=>{const[n,i]=W.useState(!1),[c,u]=W.useState(""),d=W.useCallback(()=>s?s.authProvider==="google"?!0:s.hasGoogleLinked===!0:!1,[s]),A=W.useCallback(p=>d()?!0:(u(p),i(!0),!1),[d]),o=W.useCallback(()=>{i(!1),u(""),r?r():window.location.href="/settings#google-linking"},[r]),f=W.useCallback(()=>{i(!1),u(""),e&&e("Google account not linked. This feature cannot be used until you link your Google account in Settings.")},[e]),m=W.useCallback(()=>{i(!1),u("")},[]);return{isGoogleLinked:d,requireGoogleLink:A,showLinkDialog:n,pendingFeature:c,handleGoToSettings:o,handleCancelLink:f,closeLinkDialog:m}},Rp=0,M6=24,U0=Array.from({length:M6-Rp},(s,e)=>e+Rp),l2=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],L6=["January","February","March","April","May","June","July","August","September","October","November","December"],O6=({user:s})=>{const[e,r]=W.useState(new Date),[n,i]=W.useState("week"),[c,u]=W.useState([]),[d,A]=W.useState(!1),[o,f]=W.useState(!1),{requireGoogleLink:m,showLinkDialog:p,pendingFeature:x,handleGoToSettings:v,handleCancelLink:y}=Gj({user:s,onShowWarning:te=>Ne(te,"error")}),[w,E]=W.useState(!1),[Q,K]=W.useState(!1),[Z,J]=W.useState(null),[H,G]=W.useState(null),[ce,Ae]=W.useState({title:"",dateStr:"",startTime:"09:00",endTime:"10:00",type:"activity"}),Ne=(te,ge="success")=>{J({message:te,type:ge}),setTimeout(()=>J(null),3e3)},re=async()=>{try{const te=await fetch(`${Ot}/api/calendar/events`,{credentials:"include"});if(te.ok){const Me=(await te.json()).map(Ve=>{const Nt=new Date(Ve.startTime),ut=new Date(Ve.endTime),et=Lt=>Lt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return{id:Ve.id,title:Ve.title,date:Nt,startTime:et(Nt),endTime:et(ut),fullStart:Ve.startTime,fullEnd:Ve.endTime,type:"activity",color:"bg-sky-500 border-sky-600"}});u(Me)}}catch(te){console.error("Failed to fetch events:",te),Ne("Failed to load events","error")}};W.useEffect(()=>{re()},[]);const Be=async()=>{if(m("Calendar sync")){A(!0),f(!1);try{const te=await fetch(`${Ot}/api/calendar/sync`,{method:"POST",credentials:"include"});if(te.status===401){window.location.href=`${Ot}/authorize`;return}te.ok?(f(!0),Ne("Calendar synced successfully!"),await re(),setTimeout(()=>f(!1),3e3)):Ne("Sync failed","error")}catch(te){console.error("Sync error:",te),Ne("Sync error occurred","error")}finally{A(!1)}}},fe=async()=>{if(!ce.title||!ce.dateStr)return;const te=new Date(`${ce.dateStr}T${ce.startTime}:00`),ge=new Date(`${ce.dateStr}T${ce.endTime}:00`);try{(await fetch(`${Ot}/api/calendar/add_manual`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:ce.title,startTime:te.toISOString(),endTime:ge.toISOString()})})).ok?(E(!1),await re(),Ae({title:"",dateStr:"",startTime:"09:00",endTime:"10:00",type:"activity"}),Ne("Event added successfully!")):Ne("Failed to add event. Check network or auth.","error")}catch(Me){console.error(Me),Ne("An error occurred while adding event.","error")}},Se=async()=>{if(H&&window.confirm("Are you sure you want to delete this event?"))try{(await fetch(`${Ot}/api/calendar/delete/${H.id}`,{method:"DELETE",credentials:"include"})).ok?(K(!1),G(null),await re(),Ne("Event deleted successfully!")):Ne("Failed to delete event.","error")}catch(te){console.error(te),Ne("An error occurred while deleting.","error")}},pe=(te,ge)=>{const Me=te.getFullYear(),Ve=String(te.getMonth()+1).padStart(2,"0"),Nt=String(te.getDate()).padStart(2,"0"),ut=`${Me}-${Ve}-${Nt}`;let et="09:00",Lt="10:00";ge!==void 0&&(et=`${String(ge).padStart(2,"0")}:00`,Lt=`${String(ge+1).padStart(2,"0")}:00`),Ae({...ce,dateStr:ut,startTime:et,endTime:Lt,title:""}),E(!0)},ae=(te,ge)=>{te.stopPropagation(),G(ge),K(!0)},de=()=>{const te=new Date(e);n==="month"?te.setMonth(te.getMonth()-1):n==="week"?te.setDate(te.getDate()-7):te.setDate(te.getDate()-1),r(te)},oe=()=>{const te=new Date(e);n==="month"?te.setMonth(te.getMonth()+1):n==="week"?te.setDate(te.getDate()+7):te.setDate(te.getDate()+1),r(te)},Ee=te=>{const ge=te.getFullYear(),Me=te.getMonth(),Ve=new Date(ge,Me,1).getDay(),Nt=new Date(ge,Me+1,0).getDate(),ut=Ve===0?6:Ve-1,et=[];for(let Lt=0;Lt<ut;Lt++)et.push(null);for(let Lt=1;Lt<=Nt;Lt++)et.push(new Date(ge,Me,Lt));return et},Re=te=>{const ge=Ee(te).length;return Math.ceil(ge/7)},ke=te=>{const ge=new Date(te),Me=ge.getDay(),Ve=ge.getDate()-Me+(Me===0?-6:1);ge.setDate(Ve);const Nt=[];for(let ut=0;ut<7;ut++){const et=new Date(ge);et.setDate(ge.getDate()+ut),Nt.push(et)}return Nt},me=te=>{if(te.fullStart){const Ve=new Date(te.fullStart);return(Ve.getHours()*60+Ve.getMinutes()-Rp*60)/60*80+2}const ge=parseInt(te.startTime.split(":")[0]),Me=parseInt(te.startTime.split(":")[1])||0;return(ge-Rp+Me/60)*80+2},we=te=>{if(te.fullStart&&te.fullEnd){const ge=new Date(te.fullStart),Ve=(new Date(te.fullEnd).getTime()-ge.getTime())/(1e3*60);return Math.max(Ve/60*80-4,20)}return 76},ue=(te,ge)=>{if(te.fullStart&&te.fullEnd){const Ve=new Date(te.fullStart),Nt=new Date(te.fullEnd),ut=ge,et=ge+1,Lt=Ve.getHours()+Ve.getMinutes()/60,ns=Nt.getHours()+Nt.getMinutes()/60;return Lt<et&&ns>ut}return parseInt(te.startTime.split(":")[0])===ge};return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] w-full p-6 overflow-hidden animate-fade-in-up relative",children:[Z&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[60] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${Z.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800"}`,children:[Z.type==="error"?t.jsx(Oa,{className:"w-5 h-5"}):t.jsx(Go,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:Z.message}),t.jsx("button",{onClick:()=>J(null),className:"ml-2 hover:opacity-70",children:t.jsx(en,{className:"w-4 h-4"})})]}),w&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Add New Event"}),t.jsx("button",{onClick:()=>E(!1),children:t.jsx(en,{className:"w-5 h-5 text-slate-400 hover:text-slate-900"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Title"}),t.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",autoFocus:!0,placeholder:"e.g. Meeting",value:ce.title,onChange:te=>Ae({...ce,title:te.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Date"}),t.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:ce.dateStr,onChange:te=>Ae({...ce,dateStr:te.target.value})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Start"}),t.jsx("input",{type:"time",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:ce.startTime,onChange:te=>Ae({...ce,startTime:te.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"End"}),t.jsx("input",{type:"time",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:ce.endTime,onChange:te=>Ae({...ce,endTime:te.target.value})})]})]}),t.jsx("button",{onClick:fe,className:"w-full py-3 bg-sky-600 text-white font-bold rounded-xl hover:bg-sky-500 shadow-lg mt-2",children:"Save Event"})]})]})}),Q&&H&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white break-words w-10/12",children:H.title}),t.jsx("button",{onClick:()=>K(!1),children:t.jsx(en,{className:"w-5 h-5 text-slate-400 hover:text-slate-900"})})]}),t.jsxs("div",{className:"space-y-6 mb-8",children:[t.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-300",children:[t.jsx(lo,{className:"w-5 h-5 text-sky-500"}),t.jsx("span",{className:"font-medium",children:H.date.toDateString()})]}),t.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-300",children:[t.jsx(Vi,{className:"w-5 h-5 text-sky-500"}),t.jsxs("span",{className:"font-medium",children:[H.startTime," - ",H.endTime]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:Se,className:"flex-1 py-3 bg-red-50 text-red-600 font-bold rounded-xl hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[t.jsx(Xo,{className:"w-4 h-4"}),"Delete"]}),t.jsx("button",{onClick:()=>K(!1),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-white font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Close"})]})]})}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white w-64",children:[L6[e.getMonth()]," ",e.getFullYear()]}),t.jsxs("div",{className:"flex bg-white dark:bg-slate-800 rounded-lg p-1 border border-slate-200 dark:border-slate-700 shadow-sm dark:shadow-none",children:[t.jsx("button",{onClick:de,className:"p-1 hover:bg-slate-50 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400",children:t.jsx(Oh,{className:"w-5 h-5"})}),t.jsx("button",{onClick:oe,className:"p-1 hover:bg-slate-50 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400",children:t.jsx(uc,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:Be,className:`flex items-center gap-2 px-3 py-2 bg-white text-slate-700 dark:text-slate-900 rounded-lg text-sm font-semibold hover:bg-slate-50 transition-colors border border-slate-200 shadow-sm ${o?"bg-emerald-50 text-emerald-600 border-emerald-200":""}`,children:[d?t.jsx(id,{className:"w-4 h-4 animate-spin text-blue-500"}):o?t.jsx(Go,{className:"w-4 h-4 text-emerald-500"}):t.jsx("span",{className:"flex items-center gap-2",children:t.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 text-white flex items-center justify-center text-[10px] font-bold",children:"G"})}),o?"Synced!":"Sync"]}),t.jsx("div",{className:"flex bg-white dark:bg-slate-800 rounded-lg p-1 border border-slate-200 dark:border-slate-700 shadow-sm dark:shadow-none",children:["month","week","day"].map(te=>t.jsx("button",{onClick:()=>i(te),className:`px-3 py-1.5 text-sm font-medium rounded capitalize transition-all ${n===te?"bg-sky-600 dark:bg-indigo-600 text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:te},te))}),t.jsxs("button",{onClick:()=>pe(new Date),className:"flex items-center gap-2 px-4 py-2 bg-sky-600 hover:bg-sky-500 text-white text-sm font-medium rounded-lg shadow-lg",children:[t.jsx(zi,{className:"w-4 h-4"})," Add"]})]})]}),t.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800/20 border border-slate-200 dark:border-slate-800 rounded-xl overflow-hidden flex flex-col shadow-sm dark:shadow-none relative",children:[n==="month"&&t.jsxs("div",{className:"flex-1 grid grid-cols-7 grid-rows-[auto_1fr]",children:[l2.map(te=>t.jsx("div",{className:"p-4 text-center border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50",children:t.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase",children:te})},te)),t.jsx("div",{className:"grid grid-cols-7 col-span-7",style:{gridTemplateRows:`repeat(${Re(e)}, 1fr)`},children:Ee(e).map((te,ge)=>{const Me=te?c.filter(Ve=>Ve.date.getDate()===te.getDate()&&Ve.date.getMonth()===te.getMonth()):[];return t.jsx("div",{onClick:()=>te&&pe(te),className:`border-r border-b border-slate-100 dark:border-slate-800/50 p-2 min-h-[100px] hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors cursor-pointer ${te?"":"bg-slate-50/50 dark:bg-slate-900/50"}`,children:te&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:`text-sm font-medium ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-600 text-white w-7 h-7 flex items-center justify-center rounded-full":"text-slate-700 dark:text-slate-300"}`,children:te.getDate()}),t.jsx("div",{className:"mt-2 space-y-1",children:Me.map(Ve=>t.jsx("div",{onClick:Nt=>ae(Nt,Ve),className:`text-[10px] px-1.5 py-0.5 rounded truncate text-white ${Ve.color.split(" ")[0]} cursor-pointer hover:brightness-110 shadow-sm`,children:Ve.title},Ve.id))})]})},ge)})})]}),n==="week"&&t.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[t.jsxs("div",{className:"grid grid-cols-8 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 flex-shrink-0 sticky top-0 z-20",children:[t.jsx("div",{className:"p-4 border-r border-slate-200 dark:border-slate-800 w-20"}),ke(e).map((te,ge)=>t.jsxs("div",{className:`p-4 text-center border-r border-slate-200 dark:border-slate-800 last:border-r-0 ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-50 dark:bg-indigo-900/20":""}`,children:[t.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:l2[ge]}),t.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-600 dark:bg-indigo-600 text-white":"text-slate-700 dark:text-slate-300"}`,children:te.getDate()})]},ge))]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:t.jsxs("div",{className:"grid grid-cols-8 relative",style:{minHeight:`${U0.length*80}px`},children:[t.jsx("div",{className:"border-r border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/30 w-20 flex-shrink-0",children:U0.map(te=>t.jsx("div",{className:"h-20 border-b border-slate-100 dark:border-slate-800/50 text-xs text-slate-400 dark:text-slate-500 p-2 text-right relative",children:t.jsxs("span",{className:"-top-3 relative block",children:[String(te).padStart(2,"0"),":00"]})},te))}),ke(e).map((te,ge)=>{const Me=c.filter(Ve=>Ve.date.getDate()===te.getDate()&&Ve.date.getMonth()===te.getMonth());return t.jsxs("div",{className:"border-r border-slate-100 dark:border-slate-800/50 last:border-r-0 relative",children:[U0.map(Ve=>t.jsx("div",{onClick:()=>pe(te,Ve),className:"h-20 border-b border-slate-100 dark:border-slate-800/50 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/20"},Ve)),Me.map(Ve=>{const Nt=me(Ve),ut=we(Ve);return Nt<0||Nt>U0.length*80?null:t.jsxs("div",{onClick:et=>ae(et,Ve),className:`absolute left-1 right-1 p-2 rounded border-l-4 text-white text-xs cursor-pointer hover:brightness-110 transition-all shadow-md z-10 ${Ve.color}`,style:{top:`${Nt}px`,height:`${ut}px`,minHeight:"20px"},children:[t.jsx("div",{className:"font-bold truncate",children:Ve.title}),t.jsxs("div",{className:"opacity-80",children:[Ve.startTime," - ",Ve.endTime]})]},Ve.id)})]},ge)})]})})]}),n==="day"&&t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:t.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:U0.map(te=>{const ge=c.filter(Me=>Me.date.getDate()===e.getDate()&&Me.date.getMonth()===e.getMonth()&&ue(Me,te));return t.jsxs("div",{className:"flex gap-4 border-b border-slate-100 dark:border-slate-800 pb-4",children:[t.jsxs("div",{className:"w-16 text-right text-sm text-slate-400 pt-2",children:[String(te).padStart(2,"0"),":00"]}),t.jsx("div",{className:"flex-1 min-h-[60px] relative",children:ge.length>0?ge.map(Me=>t.jsx("div",{onClick:Ve=>ae(Ve,Me),className:`p-3 rounded-xl mb-2 border-l-4 ${Me.color} bg-opacity-10 dark:bg-opacity-20 flex justify-between items-center bg-slate-50 dark:bg-slate-800 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors`,children:t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:Me.title}),t.jsxs("p",{className:"text-xs text-slate-500",children:[Me.startTime," - ",Me.endTime]})]})},Me.id)):t.jsx("div",{onClick:()=>pe(e,te),className:"border-b border-dashed border-slate-200 dark:border-slate-800/50 h-full w-full cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/20"})})]},te)})})})]}),t.jsx($j,{isOpen:p,onClose:y,onGoToSettings:v,featureName:x})]})},I6=s=>{if(!s)return"";try{const[e,r]=s.split(":"),n=parseInt(e),i=n>=12?"PM":"AM";return`${n%12||12}:${r} ${i}`}catch{return s}},D6=(s,e)=>{if(!s)return null;try{const r=new Date(s);return r.setDate(r.getDate()+(e-1)),r.toLocaleDateString("en-US",{month:"short",day:"numeric",weekday:"short"})}catch{return null}},R6=(s="",e="")=>{const r=(s+e).toLowerCase();return["","","","","food","restaurant","dinner","lunch","breakfast","buffet"].some(n=>r.includes(n))?{type:"Food & Dining",icon:Kd,color:"text-orange-600 dark:text-orange-400",bg:"bg-orange-50 dark:bg-orange-500/10",border:"border-orange-100 dark:border-orange-500/20",iconBg:"bg-orange-100 dark:bg-orange-500/20"}:["","","","visit","tour","sightseeing","park","museum","attraction","ticket"].some(n=>r.includes(n))?{type:"Attraction",icon:ES,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-500/10",border:"border-blue-100 dark:border-blue-500/20",iconBg:"bg-blue-100 dark:bg-blue-500/20"}:["","","","mall","shop","store","market","souvenir"].some(n=>r.includes(n))?{type:"Shopping",icon:_g,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-500/10",border:"border-emerald-100 dark:border-emerald-500/20",iconBg:"bg-emerald-100 dark:bg-emerald-500/20"}:{type:e||"Activity",icon:Yo,color:"text-slate-600 dark:text-slate-400",bg:"bg-slate-50 dark:bg-slate-800/50",border:"border-slate-200 dark:border-slate-700",iconBg:"bg-slate-200 dark:bg-slate-700"}},Q6=({user:s})=>{const e=Hl(),[r,n]=W.useState(null),[i,c]=W.useState(!1),[u,d]=W.useState(!1),[A,o]=W.useState([]),[f,m]=W.useState(!0),[p,x]=W.useState(!1),[v,y]=W.useState(!1),[w,E]=W.useState(null),[Q,K]=W.useState(!1),[Z,J]=W.useState(null),[H,G]=W.useState(""),[ce,Ae]=W.useState(null),[Ne,re]=W.useState(null),[Be,fe]=W.useState(!1),[Se,pe]=W.useState({show:!1,message:"",type:"success"}),[ae,de]=W.useState({show:!1,title:"",message:"",onConfirm:()=>{}}),oe=A.length>0?A[0]:null,Ee=($e,Bt="success")=>{pe({show:!0,message:$e,type:Bt}),setTimeout(()=>{pe(Qt=>({...Qt,show:!1}))},3e3)},{showLinkDialog:Re,pendingFeature:ke,requireGoogleLink:me,handleGoToSettings:we,handleCancelLink:ue}=Gj({user:s,onShowWarning:$e=>Ee($e,"info")}),te=async()=>{m(!0);try{const $e=await fetch(`${Ot}/api/trips/list`,{credentials:"include"});if($e.ok){const Qt=(await $e.json()).map(ks=>({id:ks.id,destination:ks.destination||ks.title,title:ks.title,dates:ks.dates||`${ks.start_date||""} - ${ks.end_date||""}`,status:ks.status||"planning",weather:"25C",imageUrl:ks.imageUrl||"https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?auto=format&fit=crop&q=80&w=400",flight:ks.flight||null,hotel:ks.hotel||null,total_expenses:ks.total_expenses||0}));o(Qt)}else console.error("Failed to fetch trips")}catch($e){console.error("Error fetching trips:",$e)}finally{m(!1)}},ge=async $e=>{try{const Bt=await fetch(`${Ot}/api/trips/${$e}`,{credentials:"include"});if(Bt.ok){const Qt=await Bt.json();E(Qt),y(!0)}else Ee("Failed to load trip details","error")}catch(Bt){console.error("Error fetching trip details:",Bt),Ee("Error loading trip details","error")}},Me=$e=>{if(!me("Export trip to Google Calendar"))return;J($e);const Bt=new Date().toISOString().split("T")[0];G(Bt),K(!0)},Ve=async($e,Bt)=>{x(!0);try{const Qt=await fetch(`${Ot}/api/trips/${$e}/export_calendar`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:Bt})});if(Qt.ok)(await Qt.json()).status==="success"&&(Ee("Successfully exported events to Calendar!","success"),K(!1),te());else if(Qt.status===401)de({show:!0,title:"Authorization Required",message:"You need to authorize Google Calendar first. Redirect to authorization page?",confirmText:"Authorize",isDestructive:!1,onConfirm:()=>{window.location.href=`${Ot}/auth/authorize`,de(ks=>({...ks,show:!1}))}});else{const ks=await Qt.json();Ee(`Export failed: ${ks.error||"Unknown error"}`,"error")}}catch(Qt){console.error("Export error:",Qt),Ee("Failed to export to Google Calendar.","error")}finally{x(!1)}},Nt=$e=>{de({show:!0,title:"Delete Trip",message:"Are you sure you want to delete this trip? This action cannot be undone.",confirmText:"Delete",isDestructive:!0,onConfirm:()=>ut($e)})},ut=async $e=>{de(Bt=>({...Bt,show:!1}));try{(await fetch(`${Ot}/api/trips/${$e}`,{method:"DELETE",credentials:"include"})).ok?(Ee("Trip deleted successfully","success"),te()):Ee("Failed to delete trip","error")}catch(Bt){console.error("Delete error:",Bt),Ee("Failed to delete trip","error")}},et=()=>{if(!navigator.geolocation){re("Geolocation is not supported by your browser");return}fe(!0),navigator.geolocation.getCurrentPosition($e=>{Ae({lat:$e.coords.latitude,lng:$e.coords.longitude}),re(null),fe(!1)},$e=>{console.error("Error getting location:",$e),re("Unable to retrieve your location"),fe(!1)})};if(W.useEffect(()=>{et(),te()},[]),f)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4 animate-fade-in",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 border-t-sky-600 rounded-full animate-spin"}),t.jsx("p",{className:"text-slate-500 font-medium",children:"Loading your adventures..."})]});if(A.length===0)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-6 animate-fade-in p-8",children:[t.jsx("div",{className:"w-20 h-20 rounded-3xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(eA,{className:"w-10 h-10 text-slate-400"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"No trips yet"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Start planning your next adventure!"})]}),t.jsxs("button",{type:"button",onClick:()=>e("/chat"),className:"px-8 py-4 bg-sky-600 dark:bg-indigo-600 text-white rounded-2xl text-sm font-bold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-all shadow-lg flex items-center gap-2",children:[t.jsx(zi,{className:"w-5 h-5"}),"Plan Your First Trip"]})]});const Lt=oe!=null&&oe.hotel?[{id:"hotel-1",type:"hotel",title:oe.hotel.name||"Luxury Hotel",subtitle:oe.hotel.address||"Location",rating:oe.hotel.rating||5,top:"40%",left:"45%",icon:Ig,color:"emerald",description:"Experience luxury accommodations with world-class amenities.",image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=800",tags:["Luxury","Spa","View"]}]:[],ns=["Passport & Visa","Travel Insurance","Universal Adapter","Light Jacket","Comfortable Walking Shoes","Portable Charger","Local Currency","Toiletries","Camera","Prescription Meds"],ls=Lt.find($e=>$e.id===r),vt=()=>{const Qt=ce?ce.lat:35.0116,ks=ce?ce.lng:135.7681;return t.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/60 backdrop-blur-md border border-white/50 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 rounded-[2rem] p-1.5 shadow-sm relative group overflow-hidden isolate h-[450px] transition-all duration-500 ease-out hover:-translate-y-1 hover:shadow-2xl",children:[ls&&t.jsx("div",{className:"absolute inset-2 z-50 bg-white/95 dark:bg-slate-900/95 backdrop-blur-2xl rounded-[1.7rem] overflow-hidden shadow-2xl animate-scale-in",children:t.jsxs("div",{className:"h-full flex flex-col md:flex-row",children:[t.jsxs("div",{className:"w-full md:w-5/12 h-48 md:h-full relative shrink-0",children:[t.jsx("img",{src:ls.image,alt:ls.title,className:"w-full h-full object-cover"}),t.jsx("button",{onClick:()=>n(null),className:"absolute top-4 left-4 p-2 bg-black/20 backdrop-blur-md hover:bg-black/40 text-white rounded-full transition-colors",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex-1 p-6 md:p-8 flex flex-col overflow-y-auto",children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:ls.title}),t.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-4",children:ls.subtitle}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed mb-6 text-sm",children:ls.description}),t.jsx("div",{className:"mt-auto flex gap-3",children:t.jsxs("button",{onClick:()=>window.open("https://maps.google.com","_blank"),className:"flex-1 py-3 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold flex items-center justify-center gap-2",children:[t.jsx(jj,{className:"w-4 h-4"}),"Directions"]})})]})]})}),t.jsx("div",{className:"w-full h-full relative bg-slate-100 dark:bg-slate-800 rounded-[1.7rem] overflow-hidden",children:t.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${Qt},${ks}&z=14&output=embed`,allowFullScreen:!0,className:"grayscale-[20%] hover:grayscale-0 transition-all duration-700"})})]})};return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-10 animate-fade-in-up relative",children:[Se.show&&t.jsx("div",{className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[100] animate-fade-in-down",children:t.jsxs("div",{className:`flex items-center gap-3 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md border border-white/10 ${Se.type==="success"?"bg-emerald-500/90 text-white":Se.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}`,children:[Se.type==="success"?t.jsx(Bo,{className:"w-5 h-5"}):Se.type==="error"?t.jsx(Oa,{className:"w-5 h-5"}):t.jsx(Oa,{className:"w-5 h-5"}),t.jsx("span",{className:"font-bold text-sm",children:Se.message})]})}),ae.show&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-6 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",children:t.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[t.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center ${ae.isDestructive?"bg-red-100 dark:bg-red-900/30 text-red-500":"bg-sky-100 dark:bg-indigo-900/30 text-sky-500"}`,children:ae.isDestructive?t.jsx(Xo,{className:"w-7 h-7"}):t.jsx(Jo,{className:"w-7 h-7"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:ae.title}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:ae.message})]}),t.jsxs("div",{className:"flex gap-3 w-full pt-2",children:[t.jsx("button",{onClick:()=>de($e=>({...$e,show:!1})),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:"Cancel"}),t.jsx("button",{onClick:ae.onConfirm,className:`flex-1 py-3 text-white rounded-xl text-sm font-bold shadow-lg transition-all active:scale-95 ${ae.isDestructive?"bg-red-500 hover:bg-red-600":"bg-sky-600 hover:bg-sky-500"}`,children:ae.confirmText||"Confirm"})]})]})})}),Q&&Z&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(lo,{className:"w-6 h-6 text-sky-500"}),"Select Start Date"]}),t.jsx("button",{onClick:()=>K(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors hover:scale-105",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm leading-relaxed",children:"Choose when you want your trip to start. All itinerary items will be scheduled from this date."}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Start Date"}),t.jsx("input",{type:"date",value:H,onChange:$e=>G($e.target.value),min:new Date().toISOString().split("T")[0],className:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl py-4 px-4 text-slate-900 dark:text-white font-medium focus:outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 dark:focus:border-indigo-500 transition-all hover:border-sky-300 dark:hover:border-indigo-500/50"})]}),t.jsx("div",{className:"bg-sky-50 dark:bg-indigo-900/20 rounded-2xl p-4 border border-sky-100 dark:border-indigo-500/30",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-indigo-500/20 rounded-lg",children:t.jsx(lo,{className:"w-5 h-5 text-sky-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:"Trip Schedule Preview"}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:H?t.jsxs(t.Fragment,{children:["Your trip will start on ",t.jsx("span",{className:"font-bold text-sky-600 dark:text-indigo-400",children:new Date(H).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}):"Please select a start date"})]})]})}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>K(!1),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all border border-transparent hover:border-slate-300 dark:hover:border-slate-600",children:"Cancel"}),t.jsx("button",{onClick:()=>Ve(Z,H),disabled:!H||p,className:"flex-[2] py-3 bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 dark:hover:bg-indigo-500 text-white rounded-xl text-sm font-bold shadow-lg transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:p?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{className:"w-4 h-4 animate-spin"}),"Exporting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(P0,{className:"w-4 h-4"}),"Export to Calendar"]})})]})]})]})}),v&&w&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in flex flex-col max-h-[85vh]",children:[t.jsxs("div",{className:"p-8 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white/50 dark:bg-slate-900/50 backdrop-blur-xl z-20 rounded-t-[2.5rem]",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:w.title}),t.jsxs("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 flex items-center gap-2 mt-1",children:[t.jsx(lo,{className:"w-4 h-4"}),w.dates||"Trip Itinerary"]})]}),t.jsx("button",{onClick:()=>y(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors hover:rotate-90 duration-300",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-white dark:bg-slate-900",children:w.items&&w.items.length>0?t.jsx("div",{className:"p-8 space-y-10",children:Object.entries(w.items.reduce(($e,Bt)=>{const Qt=Bt.day_number;return $e[Qt]||($e[Qt]=[]),$e[Qt].push(Bt),$e},{})).map(([$e,Bt])=>{const Qt=Bt.sort((ks,zs)=>ks.start_time.localeCompare(zs.start_time));return t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-white/95 dark:bg-slate-900/95 backdrop-blur-md z-10 py-3 border-b border-slate-100 dark:border-slate-800",children:[t.jsx("div",{children:t.jsxs("h4",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:["DAY ",$e,w.start_date&&t.jsx("span",{className:"text-sm font-medium text-slate-400 font-normal border-l border-slate-200 dark:border-slate-700 pl-3",children:D6(w.start_date,parseInt($e))})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>Ee("AI Day Optimization coming soon!","info"),className:"text-xs font-bold text-sky-600 dark:text-sky-400 bg-sky-50 dark:bg-sky-500/10 hover:bg-sky-100 dark:hover:bg-sky-500/20 px-3 py-1.5 rounded-full transition-colors flex items-center gap-1.5",children:[t.jsx(co,{className:"w-3 h-3"})," Optimize Day"]}),t.jsxs("button",{onClick:()=>Ee("Relax Mode coming soon!","info"),className:"text-xs font-bold text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 px-3 py-1.5 rounded-full transition-colors flex items-center gap-1.5",children:[t.jsx(pm,{className:"w-3 h-3"})," Relax"]})]})]}),t.jsxs("div",{className:"space-y-6 relative pl-4",children:[t.jsx("div",{className:"absolute left-[85px] top-4 bottom-4 w-0.5 bg-slate-100 dark:bg-slate-800/50"}),Qt.map((ks,zs)=>{var br;const{type:yr,icon:mr,color:ar,bg:$s,border:As,iconBg:Rs}=R6(ks.notes,ks.type);return t.jsxs("div",{className:"flex gap-6 relative group",children:[t.jsx("div",{className:"w-[70px] shrink-0 pt-1 text-right",children:t.jsx("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800 px-2.5 py-1 rounded-lg border border-transparent group-hover:border-slate-200 dark:group-hover:border-slate-700 transition-all",children:I6(ks.start_time)})}),t.jsx("div",{className:`absolute left-[81px] top-3 w-2.5 h-2.5 rounded-full z-10 border-2 border-white dark:border-slate-900 transition-all duration-300 ${ar.replace("text-","bg-")} group-hover:scale-125 shadow-sm`}),t.jsx("div",{className:`flex-1 ${$s} rounded-2xl p-4 border ${As} hover:shadow-lg hover:shadow-sky-100/50 dark:hover:shadow-none transition-all duration-300 group-hover:-translate-y-0.5 relative overflow-hidden`,children:t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`p-1.5 rounded-lg ${Rs}`,children:t.jsx(mr,{className:`w-4 h-4 ${ar}`})}),t.jsx("h5",{className:"font-bold text-slate-900 dark:text-white text-base",children:((br=ks.place)==null?void 0:br.name)||ks.type||"Activity"})]}),t.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 transform translate-x-2 group-hover:translate-x-0",children:[t.jsx("button",{onClick:()=>Ee("Edit item coming soon","info"),className:"p-1.5 text-slate-400 hover:text-sky-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:t.jsx(u0,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>Ee("AI Replace coming soon","info"),className:"p-1.5 text-slate-400 hover:text-purple-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"AI Replace",children:t.jsx(id,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>Ee("Delete item coming soon","info"),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Delete",children:t.jsx(Xo,{className:"w-3.5 h-3.5"})})]})]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed pl-[34px]",children:ks.notes})]})})]},zs)})]})]},$e)})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 py-12 space-y-4",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center",children:t.jsx(Yo,{className:"w-8 h-8 text-slate-300"})}),t.jsx("p",{children:"No itinerary items yet"}),t.jsx("button",{className:"text-sky-600 font-bold text-sm hover:underline",children:"Start Planning with AI"})]})}),t.jsx("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-b-[2.5rem] z-20",children:t.jsxs("button",{onClick:()=>Me(w.id),disabled:p,className:"w-full py-4 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white rounded-xl text-sm font-bold shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2 disabled:opacity-50 transition-all hover:scale-[1.02] active:scale-[0.98]",children:[p?t.jsx(Ir,{className:"w-5 h-5 animate-spin"}):t.jsx(P0,{className:"w-5 h-5"}),p?"Exporting to Calendar...":"Export Itinerary to Calendar"]})})]})}),u&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in flex flex-col max-h-[80vh]",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(KS,{className:"w-6 h-6 text-sky-500"}),"Packing List"]}),t.jsx("button",{onClick:()=>d(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-3",children:ns.map(($e,Bt)=>t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl hover:bg-sky-50 dark:hover:bg-indigo-900/20 cursor-pointer transition-colors group",children:[t.jsx(W3,{className:"w-5 h-5 text-slate-300 group-hover:text-sky-500 dark:group-hover:text-indigo-400"}),t.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:$e})]},Bt))}),t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-100 dark:border-slate-700",children:t.jsx("button",{onClick:()=>d(!1),className:"w-full py-3 bg-sky-600 text-white font-bold rounded-xl shadow-lg hover:bg-sky-500 active:scale-95 transition-all",children:"Done"})})]})}),t.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-4xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Travel Hub"}),t.jsxs("p",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mt-1",children:[A.length," ",A.length===1?"trip":"trips"," planned"]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(($e,Bt)=>t.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/40 backdrop-blur-xl border border-white/60 dark:border-slate-700/50 rounded-[2rem] overflow-hidden shadow-sm hover:shadow-2xl transition-all duration-300 group hover:-translate-y-2",style:{animationDelay:`${Bt*100}ms`},children:[t.jsxs("div",{className:"relative h-48 overflow-hidden",children:[t.jsx("img",{src:$e.imageUrl,alt:$e.destination,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase backdrop-blur-md ${$e.status==="completed"?"bg-emerald-500/80 text-white":$e.status==="upcoming"||$e.status==="planning"?"bg-sky-500/80 text-white":"bg-amber-500/80 text-white"}`,children:$e.status})}),t.jsx("div",{className:"absolute bottom-4 left-4",children:t.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:$e.destination})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[t.jsx(lo,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:$e.dates})]}),$e.total_expenses>0&&t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-xl p-3",children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Total Expenses"}),t.jsxs("p",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:["$",$e.total_expenses.toFixed(2)]})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs("button",{onClick:()=>ge($e.id),className:"flex-1 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-white rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all flex items-center justify-center gap-2",children:[t.jsx(ao,{className:"w-4 h-4"}),"View"]}),t.jsxs("button",{onClick:()=>Me($e.id),disabled:p,className:"flex-1 py-2.5 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[p?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):t.jsx(P0,{className:"w-4 h-4"}),"Export"]}),t.jsx("button",{onClick:()=>Nt($e.id),className:"p-2.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl hover:bg-red-100 dark:hover:bg-red-900/40 transition-all",children:t.jsx(Xo,{className:"w-4 h-4"})})]})]})]},$e.id))}),oe&&t.jsxs("div",{className:"relative h-80 rounded-[2.5rem] overflow-hidden isolate group shadow-2xl border border-transparent hover:border-sky-500/30 transition-all duration-500 hover:scale-[1.01]",children:[t.jsx("img",{src:oe.imageUrl,alt:oe.destination,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-[1.5s] group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-10",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/20 backdrop-blur-md border border-white/20 text-xs font-bold text-white mb-4 uppercase tracking-wider",children:[t.jsx(eA,{className:"w-3.5 h-3.5"}),"Next Adventure"]}),t.jsx("h3",{className:"text-5xl font-bold text-white mb-4 tracking-tighter",children:oe.destination}),t.jsx("div",{className:"flex items-center gap-4 text-slate-200",children:t.jsxs("div",{className:"flex items-center gap-2.5 text-sm font-medium bg-black/40 px-4 py-2 rounded-xl backdrop-blur-md",children:[t.jsx(lo,{className:"w-4 h-4 text-sky-400"}),oe.dates]})})]})]}),oe&&Lt.length>0&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(Yo,{className:"w-5 h-5 text-sky-600 dark:text-indigo-400"})}),"Trip Map"]}),t.jsx(vt,{})]}),t.jsx($j,{isOpen:Re,onClose:ue,onGoToSettings:we,featureName:ke})]})};new Date(new Date().getFullYear(),new Date().getMonth()-11,1),new Date(new Date().setMonth(new Date().getMonth()-1)),new Date(new Date().setMonth(new Date().getMonth()-2)),new Date(new Date().setMonth(new Date().getMonth()-3));new Date(new Date().setHours(10,30,0,0)),new Date(new Date().setHours(15,0,0,0)),new Date(new Date().setDate(new Date().getDate()+1));const _6=[{id:"si-1",content:"Remember to buy JR Rail Pass before leaving",category:"note",timestamp:new Date,isCompleted:!1,priority:"high"},{id:"si-2",content:"Visit Fushimi Inari Shrine early morning to avoid crowds",category:"ai-suggestion",timestamp:new Date(Date.now()-864e5),isCompleted:!1,priority:"medium"},{id:"si-3",content:"Restaurant reservation: Monk (confirm 2 days prior)",category:"activity",timestamp:new Date(Date.now()-1728e5),isCompleted:!0,priority:"high"}],P6=()=>{const[s,e]=W.useState(_6),[r,n]=W.useState(""),[i,c]=W.useState("all"),[u,d]=W.useState(null),A=(v,y="success")=>{d({message:v,type:y}),setTimeout(()=>d(null),3e3)},o=()=>{if(!r.trim())return;const v={id:Date.now().toString(),content:r,category:"note",timestamp:new Date,isCompleted:!1,priority:"medium"};e(y=>[v,...y]),n(""),A("Note added successfully!","success")},f=v=>{e(y=>y.map(w=>w.id===v?{...w,isCompleted:!w.isCompleted}:w))},m=v=>{e(y=>y.filter(w=>w.id!==v)),A("Item deleted","info")},p=v=>{switch(v){case"ai-suggestion":return t.jsx(Xf,{className:"w-4 h-4"});case"activity":return t.jsx(Kd,{className:"w-4 h-4"});case"logistics":return t.jsx(eA,{className:"w-4 h-4"});default:return t.jsx(kj,{className:"w-4 h-4"})}},x=i==="all"?s:s.filter(v=>v.category===i);return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto flex flex-col h-[calc(100vh-6rem)] animate-fade-in-up relative",children:[u&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[60] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${u.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":u.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[u.type==="error"?t.jsx(Oa,{className:"w-5 h-5"}):u.type==="success"?t.jsx(Go,{className:"w-5 h-5"}):t.jsx(kl,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:u.message}),t.jsx("button",{onClick:()=>d(null),className:"ml-2 hover:opacity-70",children:t.jsx(en,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-10",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:t.jsx(Fb,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Trip Notebook"})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Capture ideas, AI suggestions, and tasks for your trip."})]}),t.jsx("div",{className:"flex bg-white dark:bg-slate-800 rounded-xl p-1 shadow-sm border border-slate-200 dark:border-slate-700/50 hover:border-slate-300 dark:hover:border-slate-600 transition-colors",children:["all","note","activity","ai-suggestion"].map(v=>t.jsx("button",{onClick:()=>c(v),className:`
                 px-4 py-2 rounded-lg text-sm font-bold capitalize transition-all
                 ${i===v?"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-300":"text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-700"}
               `,children:v==="ai-suggestion"?"AI Tips":v},v))})]}),t.jsxs("div",{className:"relative mb-8 z-20 group",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-200 to-orange-100 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl blur opacity-25 group-hover:opacity-50 transition-opacity duration-500"}),t.jsxs("div",{className:"relative flex items-center bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-lg p-2 transition-all focus-within:ring-4 focus-within:ring-amber-500/10 focus-within:border-amber-500/50 hover:border-amber-400 dark:hover:border-amber-400 hover:-translate-y-1 hover:shadow-xl duration-300 ease-out",children:[t.jsx("div",{className:"pl-4 pr-3 text-slate-400",children:t.jsx(zi,{className:"w-5 h-5"})}),t.jsx("input",{type:"text",value:r,onChange:v=>n(v.target.value),onKeyDown:v=>v.key==="Enter"&&o(),placeholder:"Add a note, restaurant idea, or reminder...",className:"flex-1 bg-transparent border-none outline-none py-3 text-slate-900 dark:text-white placeholder-slate-400 font-medium"}),t.jsx("button",{onClick:o,disabled:!r.trim(),className:"bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-6 py-2.5 rounded-xl font-bold text-sm hover:opacity-90 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:-translate-y-0.5",children:"Add Note"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-4 pr-4 space-y-4 pb-10",children:x.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center space-y-4 opacity-50",children:[t.jsx(Fb,{className:"w-12 h-12 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No items found. Start typing above!"})]}):x.map((v,y)=>t.jsxs("div",{className:"group flex items-start gap-4 p-5 bg-white/70 dark:bg-slate-800/40 backdrop-blur-md border border-white/60 dark:border-slate-700/50 rounded-2xl shadow-sm transition-all duration-300 animate-scale-in hover:border-amber-400 dark:hover:border-amber-500 hover:-translate-y-1 hover:scale-[1.01] hover:shadow-xl",style:{animationDelay:`${y*50}ms`},children:[t.jsx("button",{onClick:()=>f(v.id),className:`mt-0.5 flex-shrink-0 transition-all hover:scale-110 ${v.isCompleted?"text-emerald-500":"text-slate-300 dark:text-slate-600 hover:text-emerald-500"}`,children:v.isCompleted?t.jsx(Bo,{className:"w-6 h-6"}):t.jsx(Mk,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-base font-medium leading-relaxed transition-all duration-300 ${v.isCompleted?"text-slate-400 line-through decoration-slate-300":"text-slate-900 dark:text-white"}`,children:v.content}),t.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[t.jsxs("span",{className:`
                     inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-transform group-hover:scale-105
                     ${v.category==="ai-suggestion"?"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":v.category==="activity"?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300":"bg-slate-100 text-slate-600 dark:bg-slate-700/50 dark:text-slate-400"}
                   `,children:[p(v.category),v.category==="ai-suggestion"?"AI Suggestion":v.category]}),t.jsx("span",{className:"text-xs text-slate-400 font-medium",children:v.timestamp.toLocaleDateString()})]})]}),t.jsx("button",{onClick:()=>m(v.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl opacity-0 group-hover:opacity-100 transition-all border border-transparent hover:border-red-200 hover:scale-110",children:t.jsx(Xo,{className:"w-5 h-5"})})]},v.id))})]})},Zh=[{code:"en",name:"English",flag:""},{code:"ja",name:"Japanese",flag:""},{code:"zh",name:"Chinese",flag:""},{code:"ko",name:"Korean",flag:""},{code:"es",name:"Spanish",flag:""},{code:"fr",name:"French",flag:""},{code:"de",name:"German",flag:""},{code:"it",name:"Italian",flag:""},{code:"my",name:"Malay",flag:""},{code:"th",name:"Thai",flag:""},{code:"vi",name:"Vietnamese",flag:""},{code:"id",name:"Indonesian",flag:""},{code:"pt",name:"Portuguese",flag:""},{code:"ru",name:"Russian",flag:""},{code:"ar",name:"Arabic",flag:""}],$x=[{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",premiumOnly:!1},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",premiumOnly:!0}],Gx=({active:s,onClick:e,icon:r,label:n,badge:i})=>t.jsxs("button",{onClick:e,className:`
      relative flex items-center gap-2 px-5 py-2.5 rounded-xl font-semibold text-sm transition-all duration-300
      ${s?"bg-gradient-to-r from-sky-500 to-indigo-500 text-white shadow-lg shadow-sky-500/25":"bg-white/50 dark:bg-slate-800/50 text-slate-600 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800"}
    `,children:[r,n,i&&t.jsxs("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-amber-400 text-amber-900 text-[10px] font-bold rounded-full flex items-center gap-0.5",children:[t.jsx(zd,{className:"w-2.5 h-2.5"}),i]})]}),H6=({engine:s,setEngine:e,disabled:r,isPremium:n,onUpgrade:i})=>t.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:[t.jsxs("button",{onClick:()=>!r&&e("google"),disabled:r,className:`
        flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all
        ${s==="google"?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}
        ${r?"opacity-50 cursor-not-allowed":""}
      `,children:[t.jsx(Fp,{className:"w-3.5 h-3.5"}),"Google Cloud"]}),t.jsxs("button",{onClick:()=>{if(!r){if(!n){i();return}e("ai")}},disabled:r,className:`
        flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all relative
        ${s==="ai"?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}
        ${r?"opacity-50 cursor-not-allowed":""}
      `,children:[t.jsx(co,{className:"w-3.5 h-3.5"}),"AI Enhanced",!n&&t.jsx(Sd,{className:"w-3 h-3 text-amber-500 ml-1"})]})]}),z6=({selectedModel:s,onSelect:e,isPremium:r,disabled:n,onUpgrade:i})=>{const[c,u]=W.useState(!1),d=W.useRef(null),[A,o]=W.useState({top:0,left:0,width:0}),f=()=>{if(d.current){const p=d.current.getBoundingClientRect();o({top:p.bottom+window.scrollY+8,left:p.left+window.scrollX,width:Math.max(p.width,200)})}};W.useEffect(()=>(c&&(f(),window.addEventListener("scroll",f),window.addEventListener("resize",f)),()=>{window.removeEventListener("scroll",f),window.removeEventListener("resize",f)}),[c]),W.useEffect(()=>{const p=x=>{d.current&&d.current.contains(x.target)||u(!1)};return c&&document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[c]);const m=$x.find(p=>p.id===s)||$x[0];return t.jsxs(t.Fragment,{children:[t.jsx("button",{ref:d,onClick:()=>!n&&u(!c),disabled:n,className:`
          flex items-center gap-2 px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl
          hover:border-indigo-400 transition-colors text-xs font-medium min-w-[160px] justify-between
          ${n?"opacity-50 cursor-not-allowed":""}
        `,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_k,{className:"w-4 h-4 text-indigo-500"}),t.jsx("span",{className:"text-slate-700 dark:text-slate-200 truncate max-w-[120px]",children:m.name})]})}),c&&tj.createPortal(t.jsxs("div",{className:"fixed z-[9999] bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden animate-in fade-in zoom-in-95 duration-100",style:{top:A.top,left:A.left,width:A.width},onMouseDown:p=>p.stopPropagation(),children:[$x.map(p=>{const x=p.premiumOnly&&!r;return t.jsxs("button",{onClick:()=>{x?(i(),u(!1)):(e(p.id),u(!1))},className:`
                  w-full flex items-center justify-between p-3 text-left border-b last:border-0 border-slate-50 dark:border-slate-700/50
                  ${s===p.id?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"text-slate-600 dark:text-slate-300"}
                  hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors
                `,children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs font-medium",children:p.name}),p.premiumOnly&&t.jsx("span",{className:"text-[10px] text-amber-600 dark:text-amber-500",children:"PRO Model"})]}),x?t.jsx(Sd,{className:"w-3.5 h-3.5 text-amber-500"}):s===p.id&&t.jsx(Go,{className:"w-3.5 h-3.5"})]},p.id)}),!r&&t.jsx("button",{onClick:()=>{i(),u(!1)},className:"w-full p-2 bg-amber-50 dark:bg-amber-900/20 text-center hover:bg-amber-100 dark:hover:bg-amber-900/40 transition-colors",children:t.jsxs("p",{className:"text-[10px] font-bold text-amber-700 dark:text-amber-400 flex items-center justify-center gap-1",children:[t.jsx(zd,{className:"w-3 h-3"}),"Upgrade to Unlock All"]})})]}),document.body)]})},c2=({speaker:s,flag:e,langName:r,isActive:n,isRecording:i,isProcessing:c,disabled:u,onPress:d,onRelease:A})=>t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsxs("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:["Speaker ",s]}),t.jsxs("div",{className:"relative",children:[i&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500/30 animate-ping",style:{animationDuration:"1s"}}),t.jsx("div",{className:"absolute -inset-2 rounded-full bg-red-500/20 animate-ping",style:{animationDuration:"1.5s"}}),t.jsx("div",{className:"absolute -inset-4 rounded-full bg-red-500/10 animate-ping",style:{animationDuration:"2s"}})]}),t.jsx("button",{onMouseDown:d,onMouseUp:A,onMouseLeave:A,onTouchStart:o=>{o.preventDefault(),d()},onTouchEnd:o=>{o.preventDefault(),A()},disabled:u,className:`
          relative w-24 h-24 rounded-full flex flex-col items-center justify-center gap-1 transition-all duration-300
          ${i?"bg-gradient-to-br from-red-500 to-rose-600 scale-110 shadow-2xl shadow-red-500/50":c?"bg-gradient-to-br from-amber-500 to-orange-500 shadow-xl shadow-amber-500/30":n?"bg-gradient-to-br from-sky-500 to-indigo-500 shadow-xl shadow-sky-500/30 hover:scale-105":"bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600"}
          ${u&&!c?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        `,children:c?t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Ir,{className:"w-7 h-7 text-white animate-spin"}),t.jsx("span",{className:"text-[10px] text-white/80 font-medium",children:"Processing"})]}):i?t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(o=>t.jsx("div",{className:"w-1 bg-white rounded-full animate-pulse",style:{height:`${12+Math.random()*16}px`,animationDelay:`${o*.1}s`,animationDuration:"0.5s"}},o))}),t.jsx("span",{className:"text-[10px] text-white/80 font-medium",children:"Recording"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-2xl",children:e}),t.jsx(wj,{className:`w-5 h-5 ${n?"text-white":"text-slate-500 dark:text-slate-400"}`})]})})]}),t.jsx("span",{className:`text-sm font-medium transition-colors ${i?"text-red-500":c?"text-amber-600 dark:text-amber-400":n?"text-sky-600 dark:text-indigo-400":"text-slate-600 dark:text-slate-400"}`,children:r}),i&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsxs("span",{className:"relative flex h-2 w-2",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),t.jsx("span",{className:"text-xs text-red-500 font-semibold",children:"Streaming live..."})]}),c&&!i&&t.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:"Translating..."})]}),V6=({message:s,onPlayAudio:e,isPlaying:r})=>{const n=s.speaker==="A",i=s.type==="translated";return t.jsx("div",{className:`flex ${n?"justify-end":"justify-start"} mb-3`,children:t.jsxs("div",{className:`max-w-[80%] ${n?"items-end":"items-start"} flex flex-col gap-1`,children:[t.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${n?"flex-row-reverse":""}`,children:[t.jsx("span",{children:s.flag}),t.jsx("span",{className:"font-medium text-slate-500 dark:text-slate-400",children:i?"Translation":`Speaker ${s.speaker}`})]}),t.jsx("div",{className:`
            px-4 py-3 rounded-2xl
            ${i?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white":n?"bg-sky-500 text-white":"bg-white dark:bg-slate-800 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-700"}
            ${n?"rounded-tr-sm":"rounded-tl-sm"}
          `,children:t.jsx("p",{className:"text-sm leading-relaxed",children:s.text})}),i&&s.audioBase64&&e&&t.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 px-2 py-1 text-xs text-slate-500 dark:text-slate-400 hover:text-indigo-500 transition-colors",children:[r?t.jsx(Nj,{className:"w-3 h-3"}):t.jsx(Ob,{className:"w-3 h-3"}),r?"Playing...":"Play audio"]})]})})},K6=({user:s})=>{const[e,r]=W.useState("text"),[n,i]=W.useState("en"),[c,u]=W.useState("ja"),[d,A]=W.useState("google"),[o,f]=W.useState("gemini-2.5-flash"),[m,p]=W.useState(""),[x,v]=W.useState(""),[y,w]=W.useState(!1),[E,Q]=W.useState(!1),[K,Z]=W.useState(!1),[J,H]=W.useState("A"),[G,ce]=W.useState(!1),[Ae,Ne]=W.useState(!1),[re,Be]=W.useState([]),[fe,Se]=W.useState(null),[pe,ae]=W.useState(null),[de,oe]=W.useState(""),[Ee,Re]=W.useState(""),[ke,me]=W.useState(!1),[we,ue]=W.useState(null),[te,ge]=W.useState(null),[Me,Ve]=W.useState(!1),[Nt,ut]=W.useState(!1),[et,Lt]=W.useState(null),ns=W.useRef(null),ls=W.useRef(null);W.useRef([]);const vt=W.useRef(null),$e=W.useRef(null),Bt=W.useRef(null),Qt=W.useRef(null),ks=W.useRef(0),zs=(s==null?void 0:s.isPremium)??!1,yr=Ct=>Zh.find(Zt=>Zt.code===Ct)||{code:Ct,name:Ct,flag:""};W.useEffect(()=>{var Ct;(Ct=vt.current)==null||Ct.scrollIntoView({behavior:"smooth"})},[re]),W.useEffect(()=>()=>{ns.current&&ns.current.disconnect(),ls.current&&ls.current.state!=="inactive"&&ls.current.stop()},[]),W.useEffect(()=>{!zs&&d==="ai"&&A("google")},[zs,d]);const mr=()=>{confirm("This feature requires a Premium subscription. Unlock the full power of AI translation now!")&&(window.location.href="/billing")},ar=()=>{i(c),u(n),ns.current&&K&&ns.current.emit("swap_languages"),e==="text"&&(p(x),v(m))},$s=async()=>{if(m.trim()){w(!0),v("");try{const Ct=await fetch(`${Ot}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({text:m,source_lang:n,target_lang:c,engine:d,model:d==="ai"?o:void 0})}),Zt=await Ct.json();Ct.ok&&Zt.status==="success"?v(Zt.translation):v(Zt.error||"Error: Could not translate.")}catch{v("Error: Failed to connect to translation service.")}finally{w(!1)}}},As=W.useCallback(()=>{if(!zs){mr();return}ae(null);const Ct=H0(`${Ot}/translate-stream`,{withCredentials:!0,transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});Ct.on("connect",()=>{console.log("[StreamingConversation] Socket connected")}),Ct.on("connected",Zt=>{console.log("[StreamingConversation] Authenticated:",Zt),Q(!0),ae(null)}),Ct.on("error",Zt=>{console.error("[StreamingConversation] Error:",Zt),ae(Zt.message),Ne(!1),me(!1),oe(""),(Zt.code==="PREMIUM_REQUIRED"||Zt.code==="AUTH_REQUIRED")&&(Ct.disconnect(),Q(!1))}),Ct.on("streaming_started",Zt=>{console.log("[StreamingConversation] Streaming started:",Zt),me(!0),Z(!0),H(Zt.speaker),oe(""),ks.current=0,Zt.session_info&&Se({langA:Zt.session_info.lang_a,langB:Zt.session_info.lang_b,langAName:Zt.session_info.lang_a_name,langBName:Zt.session_info.lang_b_name,langAFlag:Zt.session_info.lang_a_flag,langBFlag:Zt.session_info.lang_b_flag})}),Ct.on("partial_transcription",Zt=>{oe(Zt.text)}),Ct.on("partial_translation",Zt=>{Re(Zt.translated_text)}),Ct.on("final_transcription",Zt=>{oe(""),Re("");const ds={id:`${Date.now()}-orig-${Zt.speaker}`,speaker:Zt.speaker,type:"original",text:Zt.text,language:Zt.language,languageName:Zt.language_name,flag:Zt.flag,timestamp:new Date};Be(hs=>[...hs,ds])}),Ct.on("translation",Zt=>{Re("");const ds={id:`${Date.now()}-trans-${Zt.speaker}`,speaker:Zt.speaker,type:"translated",text:Zt.translated_text,language:Zt.target_lang,languageName:Zt.target_lang_name,flag:Zt.target_flag,timestamp:new Date};Be(hs=>[...hs,ds])}),Ct.on("audio_response",Zt=>{Be(ds=>{const hs=[...ds];for(let Ks=hs.length-1;Ks>=0;Ks--)if(hs[Ks].type==="translated"&&!hs[Ks].audioBase64){hs[Ks]={...hs[Ks],audioBase64:Zt.audio};break}return hs}),Zt.auto_play&&rr(Zt.audio)}),Ct.on("streaming_ended",Zt=>{console.log("[StreamingConversation] Streaming ended:",Zt),me(!1),Ne(!1),oe("")}),Ct.on("speaker_switched",Zt=>{console.log("[StreamingConversation] Speaker switched:",Zt),H(Zt.speaker),oe("")}),Ct.on("languages_swapped",Zt=>{Se({langA:Zt.lang_a,langB:Zt.lang_b,langAName:Zt.lang_a_name,langBName:Zt.lang_b_name,langAFlag:Zt.lang_a_flag,langBFlag:Zt.lang_b_flag}),i(Zt.lang_a),u(Zt.lang_b)}),Ct.on("session_ended",Zt=>{console.log("[StreamingConversation] Session ended:",Zt),Z(!1),me(!1),Se(null),oe("")}),Ct.on("disconnect",()=>{Q(!1),Z(!1),me(!1),oe("")}),ns.current=Ct},[zs]),Rs=()=>{Qt.current&&(Qt.current.getTracks().forEach(Ct=>Ct.stop()),Qt.current=null),ls.current&&ls.current.state!=="inactive"&&ls.current.stop(),ns.current&&(ns.current.emit("end_session"),ns.current.disconnect(),ns.current=null),Q(!1),Z(!1),ce(!1),Ne(!1),me(!1),oe(""),Re("")},br=Ct=>{!ns.current||!E||(ks.current=0,ns.current.emit("start_streaming",{lang_a:n,lang_b:c,speaker:Ct}))},js=W.useCallback(()=>{ls.current&&ls.current.state!=="inactive"&&ls.current.stop(),Qt.current&&(Qt.current.getTracks().forEach(Ct=>{Ct.stop(),Ct.enabled=!1}),Qt.current=null),ls.current=null},[]),qs=async Ct=>{if(!ns.current||!E){ae("Not connected to server");return}js(),H(Ct),oe(""),ae(null);try{const Zt=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:16e3}});Qt.current=Zt;let ds="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(ds)||(ds=MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"");const hs=new MediaRecorder(Zt,{mimeType:ds||void 0});hs.ondataavailable=async Ks=>{var Vs;if(Ks.data.size>0&&((Vs=ns.current)!=null&&Vs.connected))try{const pr=new FileReader;pr.onloadend=()=>{var Ns;const tn=pr.result.split(",")[1];(Ns=ns.current)!=null&&Ns.connected&&ns.current.emit("audio_chunk",{audio:tn,speaker:Ct,seq:ks.current++})},pr.readAsDataURL(Ks.data)}catch(pr){console.error("Failed to send audio chunk:",pr)}},hs.onerror=Ks=>{console.error("MediaRecorder error:",Ks.error),ae("Recording error occurred"),hr()},br(Ct),await new Promise(Ks=>setTimeout(Ks,100)),hs.start(200),ls.current=hs,ce(!0)}catch(Zt){console.error("Failed to start recording:",Zt),js(),Zt.name==="NotAllowedError"||Zt.name==="PermissionDeniedError"?ae("Microphone access denied. Please allow permission."):Zt.name==="NotFoundError"||Zt.name==="DevicesNotFoundError"?ae("No microphone found."):Zt.name==="NotReadableError"||Zt.name==="TrackStartError"?ae("Microphone is busy or not readable."):ae("Microphone access denied or not available")}},hr=W.useCallback(()=>{var Ct;js(),(Ct=ns.current)!=null&&Ct.connected&&ns.current.emit("stop_streaming",{speaker:J}),ce(!1),Ne(!0),setTimeout(()=>{Ne(Zt=>Zt&&(console.warn("Processing state reset by timeout"),!1))},5e3)},[J,js]),rr=Ct=>{$e.current&&$e.current.pause();try{const Zt=Gs(Ct,"audio/mp3"),ds=URL.createObjectURL(Zt),hs=new Audio(ds);hs.onended=()=>{URL.revokeObjectURL(ds),Lt(null)},hs.onerror=Vs=>{console.error("Audio error:",Vs),URL.revokeObjectURL(ds),Lt(null)};const Ks=hs.play();Ks!==void 0&&Ks.catch(Vs=>{console.error("Audio playback failed:",Vs)}),$e.current=hs}catch(Zt){console.error("Failed to setup audio playback:",Zt)}},Xs=(Ct,Zt)=>{Lt(Ct),rr(Zt)},Es=Ct=>{var ds;const Zt=(ds=Ct.target.files)==null?void 0:ds[0];Zt&&(ue(Zt),ge(null))},Gt=async()=>{if(we){Ve(!0),ge(null);try{const Ct=new FormData;Ct.append("file",we),Ct.append("source_lang",n),Ct.append("target_lang",c),Ct.append("engine",d),d==="ai"&&Ct.append("model",o);const Zt=await fetch(`${Ot}/api/translate/audio`,{method:"POST",credentials:"include",body:Ct}),ds=await Zt.json();Zt.ok&&ds.status==="success"?ge({originalText:ds.original_text,translatedText:ds.translated_text,audioBase64:ds.audio_base64}):ae(ds.error||"Translation failed")}catch{ae("Failed to connect to translation service")}finally{Ve(!1)}}},vs=async(Ct,Zt)=>{if(Ct)try{const ds=await fetch(`${Ot}/tts`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({text:Ct,lang:Zt})});if(!ds.ok)throw new Error("TTS Failed");const hs=await ds.blob(),Ks=URL.createObjectURL(hs),Vs=new Audio(Ks);Vs.onended=()=>URL.revokeObjectURL(Ks),Vs.play(),$e.current=Vs}catch(ds){console.error("TTS error",ds)}},Ms=Ct=>{navigator.clipboard.writeText(Ct),ut(!0),setTimeout(()=>ut(!1),2e3)},Gs=(Ct,Zt)=>{const ds=atob(Ct),hs=new Array(ds.length);for(let Vs=0;Vs<ds.length;Vs++)hs[Vs]=ds.charCodeAt(Vs);const Ks=new Uint8Array(hs);return new Blob([Ks],{type:Zt})},fr=()=>{Be([]),H("A")};return t.jsxs("div",{className:"p-4 md:p-6 w-full max-w-5xl mx-auto space-y-5",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-11 h-11 rounded-2xl bg-gradient-to-br from-sky-400 to-indigo-500 flex items-center justify-center shadow-lg shadow-sky-500/25",children:t.jsx(hu,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Translation Hub"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Text, conversation & audio translation"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-white/50 dark:bg-slate-800/50 p-1.5 rounded-2xl backdrop-blur-sm border border-white/20 dark:border-slate-700/50 relative z-10",children:[t.jsx(H6,{engine:d,setEngine:A,disabled:y||Me||K,isPremium:zs,onUpgrade:mr}),d==="ai"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1"}),t.jsx(z6,{selectedModel:o,onSelect:f,isPremium:zs,disabled:y||Me||K,onUpgrade:mr})]}),!zs&&t.jsxs("a",{href:"/billing",className:"ml-2 flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-400 to-orange-500 text-white rounded-lg font-semibold text-xs shadow-lg shadow-orange-500/25 hover:shadow-xl transition-all hover:-translate-y-0.5",children:[t.jsx(zd,{className:"w-3.5 h-3.5"}),"Upgrade"]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 p-1.5 bg-slate-100/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:[t.jsx(Gx,{active:e==="text",onClick:()=>r("text"),icon:t.jsx(co,{className:"w-4 h-4"}),label:"Text"}),t.jsx(Gx,{active:e==="conversation",onClick:()=>{r("conversation"),zs&&!E&&As()},icon:t.jsx(Td,{className:"w-4 h-4"}),label:"Conversation",badge:zs?void 0:"PRO"}),t.jsx(Gx,{active:e==="batch",onClick:()=>r("batch"),icon:t.jsx(Gy,{className:"w-4 h-4"}),label:"Audio File"})]}),pe&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-2",children:[t.jsx(en,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),t.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm flex-1",children:pe}),t.jsx("button",{onClick:()=>ae(null),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg",children:t.jsx(en,{className:"w-4 h-4 text-red-400"})})]}),t.jsxs("div",{className:"bg-white/70 dark:bg-slate-900/70 backdrop-blur-xl rounded-2xl p-5 shadow-xl border border-white/20 dark:border-slate-700/30",children:[e==="text"&&t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("select",{value:n,onChange:Ct=>i(Ct.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm",children:Zh.map(Ct=>t.jsxs("option",{value:Ct.code,children:[Ct.flag," ",Ct.name]},Ct.code))}),t.jsx("button",{onClick:ar,className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-sky-100 dark:hover:bg-indigo-900/50 transition-all active:rotate-180 duration-300",children:t.jsx(_x,{className:"w-4 h-4 text-slate-500"})}),t.jsx("select",{value:c,onChange:Ct=>u(Ct.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm text-indigo-600 dark:text-indigo-400",children:Zh.map(Ct=>t.jsxs("option",{value:Ct.code,children:[Ct.flag," ",Ct.name]},Ct.code))})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex flex-col bg-slate-50 dark:bg-slate-800/50 rounded-xl p-3 min-h-[200px]",children:[t.jsx("textarea",{value:m,onChange:Ct=>p(Ct.target.value),placeholder:"Enter text to translate...",className:"flex-1 w-full bg-transparent resize-none border-none outline-none text-sm text-slate-900 dark:text-white placeholder-slate-400"}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-200 dark:border-slate-700",children:[t.jsx("button",{onClick:()=>vs(m,n),className:"p-1.5 text-slate-400 hover:text-sky-600 rounded-lg transition-all",children:t.jsx(Ob,{className:"w-4 h-4"})}),t.jsx("span",{className:"text-xs text-slate-400",children:m.length})]})]}),t.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-indigo-50 to-sky-50 dark:from-indigo-900/20 dark:to-sky-900/20 rounded-xl p-3 min-h-[200px]",children:[y?t.jsxs("div",{className:"flex-1 flex items-center justify-center flex-col gap-2 text-indigo-500",children:[t.jsx(Ir,{className:"w-6 h-6 animate-spin"}),t.jsxs("span",{className:"text-xs opacity-70",children:["Using ",d==="google"?"Google Cloud":o,"..."]})]}):t.jsx("textarea",{readOnly:!0,value:x,placeholder:"Translation...",className:"flex-1 w-full bg-transparent resize-none border-none outline-none text-sm text-slate-700 dark:text-slate-200 placeholder-slate-400"}),t.jsx("div",{className:"flex justify-between items-center pt-2 border-t border-indigo-100 dark:border-indigo-900/50",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>Ms(x),className:"p-1.5 text-slate-400 hover:text-emerald-500 rounded-lg transition-all",children:Nt?t.jsx(Go,{className:"w-4 h-4"}):t.jsx(Tb,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>vs(x,c),className:"p-1.5 text-slate-400 hover:text-sky-600 rounded-lg transition-all",children:t.jsx(Ob,{className:"w-4 h-4"})})]})})]})]}),t.jsxs("button",{onClick:$s,disabled:!m||y,className:"w-full py-3 bg-gradient-to-r from-sky-500 to-indigo-500 text-white rounded-xl font-bold text-sm shadow-lg shadow-sky-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[y?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):t.jsx(co,{className:"w-4 h-4"}),y?"Translating...":"Translate"]})]}),e==="conversation"&&t.jsx("div",{className:"space-y-4",children:zs?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[E?t.jsx(h0,{className:"w-4 h-4 text-emerald-500"}):t.jsx(A0,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:`text-xs font-medium ${E?"text-emerald-600":"text-slate-500"}`,children:E?K?"Session Active":"Connected":"Disconnected"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("select",{value:n,onChange:Ct=>i(Ct.target.value),disabled:K,className:"bg-white dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-xs font-medium",children:Zh.map(Ct=>t.jsxs("option",{value:Ct.code,children:[Ct.flag," ",Ct.name]},Ct.code))}),t.jsx("button",{onClick:ar,className:"p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",disabled:Ae,children:t.jsx(_x,{className:"w-3 h-3 text-slate-500"})}),t.jsx("select",{value:c,onChange:Ct=>u(Ct.target.value),disabled:K,className:"bg-white dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-xs font-medium text-indigo-600",children:Zh.map(Ct=>t.jsxs("option",{value:Ct.code,children:[Ct.flag," ",Ct.name]},Ct.code))})]}),t.jsxs("div",{className:"flex gap-2",children:[re.length>0&&t.jsx("button",{onClick:fr,className:"p-1.5 text-slate-400 hover:text-red-500 rounded-lg transition-colors",title:"Clear conversation",children:t.jsx(O3,{className:"w-4 h-4"})}),t.jsx("button",{onClick:E?Rs:As,className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${E?"bg-red-100 text-red-600 hover:bg-red-200":"bg-emerald-100 text-emerald-600 hover:bg-emerald-200"}`,children:E?"End":"Start"})]})]}),(G||de||Ee)&&t.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-r from-sky-500/10 via-indigo-500/10 to-purple-500/10 dark:from-sky-500/20 dark:via-indigo-500/20 dark:to-purple-500/20 border border-sky-200 dark:border-sky-800",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-400/20 to-indigo-400/20 animate-pulse"}),t.jsxs("div",{className:"relative p-4 space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500"})]}),t.jsxs("span",{className:"text-xs font-semibold text-sky-600 dark:text-sky-400",children:["LIVE  Speaker ",J]})]}),t.jsx("span",{className:"text-xs text-slate-400",children:J==="A"?(fe==null?void 0:fe.langAName)||yr(n).name:(fe==null?void 0:fe.langBName)||yr(c).name})]}),t.jsx("p",{className:"text-lg font-medium text-slate-800 dark:text-white min-h-[28px]",children:de||t.jsxs("span",{className:"text-slate-400 italic flex items-center gap-2",children:[t.jsx(Ir,{className:"w-4 h-4 animate-spin"}),"Listening..."]})})]}),Ee&&t.jsxs("div",{className:"border-t border-indigo-200 dark:border-indigo-800 pt-2",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[t.jsx(co,{className:"w-3 h-3 text-indigo-500"}),t.jsx("span",{className:"text-xs font-medium text-indigo-500",children:"Translation Preview"}),t.jsx("span",{className:"text-xs text-slate-400",children:J==="A"?(fe==null?void 0:fe.langBName)||yr(c).name:(fe==null?void 0:fe.langAName)||yr(n).name})]}),t.jsx("p",{className:"text-base text-indigo-600 dark:text-indigo-400 italic",children:Ee})]})]})]}),t.jsx("div",{className:"h-[280px] overflow-y-auto p-3 bg-slate-50 dark:bg-slate-800/30 rounded-xl",children:re.length===0&&!G?t.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[t.jsx(Td,{className:"w-10 h-10 mb-2 opacity-50"}),t.jsx("p",{className:"text-sm text-center",children:E?"Press and hold a speaker button to start talking":"Click Start to begin conversation"})]}):t.jsxs(t.Fragment,{children:[re.map(Ct=>t.jsx(V6,{message:Ct,onPlayAudio:Ct.audioBase64?()=>Xs(Ct.id,Ct.audioBase64):void 0,isPlaying:et===Ct.id},Ct.id)),t.jsx("div",{ref:vt})]})}),t.jsxs("div",{className:"flex justify-center gap-8 py-4",children:[t.jsx(c2,{speaker:"A",flag:(fe==null?void 0:fe.langAFlag)||yr(n).flag,langName:(fe==null?void 0:fe.langAName)||yr(n).name,isActive:J==="A",isRecording:G&&J==="A",isProcessing:Ae&&J==="A",disabled:!E||Ae,onPress:()=>qs("A"),onRelease:hr}),t.jsx(c2,{speaker:"B",flag:(fe==null?void 0:fe.langBFlag)||yr(c).flag,langName:(fe==null?void 0:fe.langBName)||yr(c).name,isActive:J==="B",isRecording:G&&J==="B",isProcessing:Ae&&J==="B",disabled:!E||Ae,onPress:()=>qs("B"),onRelease:hr})]}),t.jsx("p",{className:"text-center text-xs text-slate-400",children:"Press and hold to speak  Release to translate"})]}):t.jsxs("div",{className:"text-center py-10 px-4",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-xl shadow-orange-500/30",children:t.jsx(zd,{className:"w-8 h-8 text-white"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Unlock Conversation Mode"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4 text-sm max-w-md mx-auto",children:"Have real-time bilingual conversations. Perfect for travel, meetings, and making connections."}),t.jsxs("a",{href:"/billing",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-400 to-orange-500 text-white rounded-xl font-bold text-sm shadow-lg",children:[t.jsx($E,{className:"w-4 h-4"}),"Upgrade to Premium"]})]})}),e==="batch"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("select",{value:n,onChange:Ct=>i(Ct.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm",children:Zh.map(Ct=>t.jsxs("option",{value:Ct.code,children:[Ct.flag," ",Ct.name]},Ct.code))}),t.jsx("button",{onClick:ar,className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-sky-100 transition-all",children:t.jsx(_x,{className:"w-4 h-4 text-slate-500"})}),t.jsx("select",{value:c,onChange:Ct=>u(Ct.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm text-indigo-600",children:Zh.map(Ct=>t.jsxs("option",{value:Ct.code,children:[Ct.flag," ",Ct.name]},Ct.code))})]}),t.jsxs("div",{onClick:()=>{var Ct;return(Ct=Bt.current)==null?void 0:Ct.click()},className:`
                border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all
                ${we?"border-emerald-300 bg-emerald-50 dark:bg-emerald-900/20":"border-slate-300 hover:border-sky-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}
              `,children:[t.jsx("input",{ref:Bt,type:"file",accept:"audio/*",onChange:Es,className:"hidden"}),we?t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(Gy,{className:"w-8 h-8 text-emerald-600"}),t.jsx("p",{className:"font-medium text-sm text-slate-900 dark:text-white",children:we.name}),t.jsxs("p",{className:"text-xs text-slate-500",children:[(we.size/1024).toFixed(1)," KB"]})]}):t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(s0,{className:"w-8 h-8 text-slate-400"}),t.jsx("p",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Upload audio file"}),t.jsx("p",{className:"text-xs text-slate-500",children:"WAV, MP3, FLAC, WebM"})]})]}),t.jsxs("button",{onClick:Gt,disabled:!we||Me,className:"w-full py-3 bg-gradient-to-r from-sky-500 to-indigo-500 text-white rounded-xl font-bold text-sm shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[Me?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):t.jsx(co,{className:"w-4 h-4"}),Me?"Processing...":"Translate Audio"]}),te&&t.jsxs("div",{className:"space-y-3 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-medium text-slate-500 mb-1",children:"Original"}),t.jsx("p",{className:"text-sm text-slate-900 dark:text-white bg-white dark:bg-slate-800 p-3 rounded-lg",children:te.originalText})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-medium text-indigo-500 mb-1",children:["Translation",t.jsxs("span",{className:"ml-2 opacity-50 font-normal",children:["(via ",d==="google"?"Google Cloud":o,")"]})]}),t.jsx("p",{className:"text-sm text-slate-900 dark:text-white bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg",children:te.translatedText})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>rr(te.audioBase64),className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-100 text-indigo-600 rounded-lg text-xs font-medium",children:[t.jsx(Mb,{className:"w-3 h-3"}),"Play"]}),t.jsxs("button",{onClick:()=>Ms(te.translatedText),className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 text-slate-600 rounded-lg text-xs font-medium",children:[Nt?t.jsx(Go,{className:"w-3 h-3"}):t.jsx(Tb,{className:"w-3 h-3"}),"Copy"]})]})]})]})]})]})},$6=({trips:s,selectedTripId:e,onSelectTrip:r,isOpen:n,onToggle:i})=>{const c=s.find(u=>u.id===e);return t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:i,className:"w-full bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-2xl px-6 py-4 flex items-center justify-between hover:border-emerald-400 transition-all shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:t.jsx(eA,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Current Trip"}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:c?c.title:"Select a trip"}),c&&t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[c.destination,"  ",c.expense_count," expenses"]})]})]}),t.jsx(Jf,{className:`w-5 h-5 text-slate-400 transition-transform ${n?"rotate-180":""}`})]}),n&&t.jsx("div",{className:"absolute z-50 mt-2 w-full bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-2xl shadow-xl max-h-96 overflow-y-auto custom-scrollbar",children:s.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(lo,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:"No active trips"}),t.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"Create an active trip in Travel page first"})]}):t.jsx("div",{className:"py-2",children:s.map(u=>t.jsx("button",{onClick:()=>{r(u.id),i()},className:`
                    w-full px-6 py-4 text-left hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors
                    ${u.id===e?"bg-emerald-50 dark:bg-emerald-900/20":""}
                  `,children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-1",children:u.title}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:u.destination}),t.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[t.jsxs("span",{className:"text-slate-400",children:["Budget: RM ",u.budget.toLocaleString()]}),t.jsx("span",{className:"text-slate-400",children:""}),t.jsxs("span",{className:"text-slate-400",children:[u.expense_count," expenses"]})]})]}),u.id===e&&t.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500 flex items-center justify-center flex-shrink-0",children:t.jsx(Go,{className:"w-4 h-4 text-white"})})]})},u.id))})})]})},G6=({stats:s,onEditBudget:e})=>{if(!s)return t.jsx("div",{className:"bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-800 rounded-[2.5rem] p-8 text-slate-500 dark:text-slate-400 shadow-xl",children:t.jsx("p",{className:"text-center",children:"Select a trip to view budget"})});const r=Math.min(s.budget_percentage,100),n=s.is_over_budget;return t.jsxs("div",{className:`
      bg-gradient-to-br rounded-[2.5rem] p-8 text-white shadow-xl
      ${n?"from-red-500 to-red-600 shadow-red-500/20":"from-emerald-500 to-teal-600 shadow-emerald-500/20"}
    `,children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsx("p",{className:`font-bold uppercase tracking-wider text-xs ${n?"text-red-100":"text-emerald-100"}`,children:n?"Over Budget!":"Total Spent"}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(Cj,{className:"w-4 h-4"})})]}),t.jsxs("h3",{className:"text-4xl font-black mb-1",children:["RM ",s.total_spent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsxs("p",{className:"text-sm mb-4 opacity-90",children:["of RM ",s.budget.toLocaleString()," budget"]}),t.jsx("div",{className:"w-full bg-black/20 rounded-full h-2 mb-2 overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${n?"bg-red-200":"bg-white"}`,style:{width:`${r}%`}})}),t.jsxs("div",{className:"flex justify-between text-xs font-medium opacity-90",children:[t.jsxs("span",{children:[r.toFixed(0),"% Used"]}),t.jsx("span",{className:"flex items-center gap-1",children:n?t.jsxs(t.Fragment,{children:[t.jsx(Pg,{className:"w-3 h-3"}),"RM ",Math.abs(s.remaining).toLocaleString()," over"]}):t.jsxs(t.Fragment,{children:[t.jsx(wE,{className:"w-3 h-3"}),"RM ",s.remaining.toLocaleString()," left"]})})]}),Object.keys(s.by_category).length>0&&t.jsxs("div",{className:"mt-6 pt-6 border-t border-white/20",children:[t.jsx("p",{className:"text-xs font-bold uppercase tracking-wider mb-3 opacity-75",children:"Spending by Category"}),t.jsx("div",{className:"space-y-2",children:Object.entries(s.by_category).sort(([,i],[,c])=>c-i).slice(0,3).map(([i,c])=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"capitalize opacity-90",children:i}),t.jsxs("span",{className:"font-bold",children:["RM ",c.toLocaleString()]})]},i))})]})]})},W6=()=>{const s=Hl(),[e,r]=W.useState([]),[n,i]=W.useState(null),[c,u]=W.useState(null),[d,A]=W.useState([]),[o,f]=W.useState(!0),[m,p]=W.useState(!1),[x,v]=W.useState(!1),[y,w]=W.useState(!1),[E,Q]=W.useState(!1),[K,Z]=W.useState(!1),[J,H]=W.useState(""),[G,ce]=W.useState(null),[Ae,Ne]=W.useState(null),[re,Be]=W.useState(null),[fe,Se]=W.useState({title:"",amount:0,category:"food"}),pe=W.useCallback((ue,te="success")=>{ce({message:ue,type:te}),setTimeout(()=>ce(null),3e3)},[]),ae=async()=>{f(!0),Be(null);try{const ue=await fetch("/api/expenses/active-trips",{credentials:"include"});if(ue.ok){const te=await ue.json();r(te.trips||[]),te.trips&&te.trips.length>0&&!n?i(te.trips[0].id):te.hasActiveTrips||Be("No active trips found. Please create an active trip in Travel page.")}else ue.status===401?Be("Please log in to continue"):Be("Failed to load trips")}catch(ue){console.error("Error fetching active trips:",ue),Be("Network error")}finally{f(!1)}},de=async ue=>{p(!0);try{const te=await fetch(`/api/expenses/trips/${ue}/stats`,{credentials:"include"});if(te.ok){const ge=await te.json();u(ge)}}catch(te){console.error("Error fetching trip stats:",te)}finally{p(!1)}},oe=async ue=>{v(!0);try{const te=await fetch(`/api/expenses/trips/${ue}`,{credentials:"include"});if(te.ok){const ge=await te.json();A(ge.expenses||[])}}catch(te){console.error("Error fetching expenses:",te)}finally{v(!1)}},Ee=async()=>{if(!(!n||!J))try{const ue=await fetch(`/api/expenses/trips/${n}/budget`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budget:parseFloat(J)})});if(ue.ok)Z(!1),H(""),de(n),ae(),pe("Budget updated successfully!","success");else{const te=await ue.json();pe(`Failed to update budget: ${te.error}`,"error")}}catch(ue){console.error("Error updating budget:",ue),pe("Failed to update budget","error")}},Re=async()=>{if(!fe.title||!fe.amount){pe("Please fill in title and amount","info");return}if(!n){pe("Please select a trip first","info");return}try{const ue=await fetch("/api/expenses/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:fe.title,amount:fe.amount,category:fe.category,trip_id:n,transaction_date:new Date().toISOString().split("T")[0]})});if(ue.ok)Se({title:"",amount:0,category:"food"}),Q(!1),de(n),oe(n),ae(),pe("Expense added successfully!","success");else{const te=await ue.json();pe(`Failed to add expense: ${te.error}`,"error")}}catch(ue){console.error("Error adding expense:",ue),pe("Failed to add expense","error")}},ke=async()=>{if(Ae)try{(await fetch(`/api/expenses/${Ae}`,{method:"DELETE",credentials:"include"})).ok&&n?(de(n),oe(n),ae(),pe("Expense deleted successfully","success")):pe("Failed to delete expense","error")}catch(ue){console.error("Error deleting expense:",ue),pe("Failed to delete expense","error")}finally{Ne(null)}};W.useEffect(()=>{ae()},[]),W.useEffect(()=>{n&&(de(n),oe(n))},[n]);const me=ue=>{switch(ue){case"food":return t.jsx(Kd,{className:"w-5 h-5"});case"transport":return t.jsx(gj,{className:"w-5 h-5"});case"shopping":return t.jsx(_g,{className:"w-5 h-5"});case"accommodation":return t.jsx(Ig,{className:"w-5 h-5"});case"entertainment":return t.jsx(eS,{className:"w-5 h-5"});default:return t.jsx(Ub,{className:"w-5 h-5"})}},we=ue=>{switch(ue){case"food":return"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400";case"transport":return"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400";case"shopping":return"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400";case"accommodation":return"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400";case"entertainment":return"bg-pink-100 text-pink-600 dark:bg-pink-900/30 dark:text-pink-400";default:return"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}};return o?t.jsx("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ir,{className:"w-12 h-12 animate-spin text-emerald-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading trips..."})]})}):re?t.jsx("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto",children:t.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-xl p-6 flex items-start gap-3",children:[t.jsx(Oa,{className:"w-6 h-6 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-100 mb-1",children:"No Active Trips"}),t.jsx("p",{className:"text-amber-700 dark:text-amber-300 mb-4",children:re}),t.jsx("button",{onClick:()=>s("/travel"),className:"px-4 py-2 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"Go to Travel Page"})]})]})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto animate-fade-in-up relative",children:[G&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${G.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":G.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[G.type==="error"?t.jsx(Oa,{className:"w-5 h-5"}):G.type==="success"?t.jsx(Bo,{className:"w-5 h-5"}):t.jsx(kl,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:G.message}),t.jsx("button",{onClick:()=>ce(null),className:"ml-2 hover:opacity-70",children:t.jsx(en,{className:"w-4 h-4"})})]}),Ae&&t.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60] p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 text-center animate-scale-in",children:[t.jsx("div",{className:"w-14 h-14 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Xo,{className:"w-7 h-7"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Delete Expense?"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8 font-medium leading-relaxed text-sm",children:"This item will be removed from your spending history. This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>Ne(null),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all active:scale-95",children:"Cancel"}),t.jsx("button",{onClick:ke,className:"flex-1 py-3 bg-red-600 hover:bg-red-500 text-white rounded-xl text-sm font-bold shadow-lg shadow-red-600/20 transition-all active:scale-95 flex items-center justify-center gap-2",children:"Yes, Delete"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_384px] gap-8",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:t.jsx(yf,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),"Trip Wallet"]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 font-medium ml-14",children:"Track expenses for each active trip."})]}),t.jsxs("button",{onClick:()=>Q(!E),disabled:!n,className:"px-5 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all active:scale-95 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(zi,{className:"w-4 h-4"}),"Add Expense"]})]}),t.jsx($6,{trips:e,selectedTripId:n,onSelectTrip:i,isOpen:y,onToggle:()=>w(!y)}),E&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] p-6 shadow-xl border border-slate-200 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Item Name"}),t.jsx("input",{type:"text",placeholder:"e.g. Sushi Dinner",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none",value:fe.title,onChange:ue=>Se({...fe,title:ue.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Amount"}),t.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none",value:fe.amount||"",onChange:ue=>Se({...fe,amount:Number(ue.target.value)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Category"}),t.jsxs("select",{className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium outline-none",value:fe.category,onChange:ue=>Se({...fe,category:ue.target.value}),children:[t.jsx("option",{value:"food",children:"Food & Drink"}),t.jsx("option",{value:"transport",children:"Transportation"}),t.jsx("option",{value:"accommodation",children:"Accommodation"}),t.jsx("option",{value:"shopping",children:"Shopping"}),t.jsx("option",{value:"entertainment",children:"Entertainment"}),t.jsx("option",{value:"other",children:"Other"})]})]})]}),t.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-700/50 rounded-xl mb-4",children:t.jsxs("p",{className:"text-xs text-emerald-700 dark:text-emerald-300 flex items-center gap-2",children:[t.jsx(Yo,{className:"w-3 h-3"}),t.jsxs("span",{children:["This expense will be added to ",t.jsx("strong",{children:c==null?void 0:c.trip_title})]})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{Q(!1),Se({title:"",amount:0,category:"food"})},className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Re,className:"flex-1 py-3 bg-emerald-500 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-400 transition-all active:scale-95",children:"Save Expense"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:["Recent Transactions",d.length>0&&t.jsxs("span",{className:"text-sm font-normal text-slate-400 ml-2",children:["(",d.length," total)"]})]}),x?t.jsxs("div",{className:"text-center py-10",children:[t.jsx(Ir,{className:"w-8 h-8 animate-spin text-emerald-600 mx-auto mb-2"}),t.jsx("p",{className:"text-slate-400",children:"Loading expenses..."})]}):d.length===0?t.jsxs("div",{className:"text-center py-10 bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700",children:[t.jsx(Ub,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-400",children:"No expenses yet for this trip."})]}):d.map(ue=>t.jsxs("div",{className:"group bg-white/60 dark:bg-slate-800/60 backdrop-blur-xl border border-white/60 dark:border-slate-700/50 rounded-2xl p-4 flex items-center justify-between hover:scale-[1.01] hover:shadow-lg transition-all duration-300",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${we(ue.category)}`,children:me(ue.category)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:ue.title}),t.jsx("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:t.jsx("span",{children:ue.date?new Date(ue.date).toLocaleDateString():"No date"})})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:["RM ",ue.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:ue.category})]}),t.jsx("button",{onClick:()=>Ne(ue.id),className:"opacity-0 group-hover:opacity-100 p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:t.jsx(en,{className:"w-4 h-4 text-red-500"})})]})]},ue.id))]})]}),t.jsxs("div",{className:"w-full space-y-8",children:[t.jsx(G6,{stats:c,onEditBudget:()=>{Z(!0),H((c==null?void 0:c.budget.toString())||"")}}),K&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 max-w-md w-full animate-scale-in",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Update Budget"}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:["Set the budget for ",t.jsx("strong",{children:c==null?void 0:c.trip_title})]}),t.jsx("input",{type:"number",placeholder:"Enter budget amount",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none mb-4",value:J,onChange:ue=>H(ue.target.value)}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{Z(!1),H("")},className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ee,className:"flex-1 py-3 bg-emerald-500 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-400 transition-all",children:"Update"})]})]})})]})]})]})},Y6=({user:s,onUpdateUser:e})=>{const[r,n]=W.useState({name:s.name,email:s.email||"",avatarUrl:s.avatarUrl}),[i,c]=W.useState(null),u=W.useRef(null),[d,A]=W.useState({currentPassword:"",newPassword:""}),[o,f]=W.useState("idle"),[m,p]=W.useState(""),[x,v]=W.useState(!1),[y,w]=W.useState({hasLength:!1,hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpecial:!1}),[E,Q]=W.useState("idle"),[K,Z]=W.useState(null),[J,H]=W.useState(""),[G,ce]=W.useState(0),[Ae,Ne]=W.useState(""),[re,Be]=W.useState("idle"),[fe,Se]=W.useState(""),[pe,ae]=W.useState(null),[de,oe]=W.useState(""),[Ee,Re]=W.useState(0),[ke,me]=W.useState(!1),[we,ue]=W.useState(null),[te,ge]=W.useState(s.emailNotifications??!0),[Me,Ve]=W.useState(!0);W.useEffect(()=>{ge(s.emailNotifications??!0)},[s.emailNotifications]);const[Nt,ut]=W.useState(!1),[et,Lt]=W.useState(!1),[ns,ls]=W.useState(null),[vt,$e]=W.useState(!1),[Bt,Qt]=W.useState(!1),ks=(js,qs="success")=>{ls({message:js,type:qs}),setTimeout(()=>ls(null),3e3)};W.useEffect(()=>{const js=new URLSearchParams(window.location.search),qs=js.get("success"),hr=js.get("error");qs==="google_linked"&&(ks("Google account linked successfully!","success"),window.history.replaceState({},"","/settings"),window.location.reload()),hr==="google_already_linked"&&(ks("This Google account is already linked to another user.","error"),window.history.replaceState({},"","/settings")),hr==="linking_failed"&&(ks("Failed to link Google account. Please try again.","error"),window.history.replaceState({},"","/settings")),hr==="already_linked"&&(ks("Your account already has Google linked.","info"),window.history.replaceState({},"","/settings")),hr==="session_expired"&&(ks("Session expired. Please try again.","error"),window.history.replaceState({},"","/settings"))},[]),W.useEffect(()=>{window.location.hash==="#google-linking"&&setTimeout(()=>{const js=document.getElementById("google-linking-section");js==null||js.scrollIntoView({behavior:"smooth",block:"center"})},100)},[]);const zs=W.useCallback(js=>{const qs={hasLength:js.length>=8,hasUpper:/[A-Z]/.test(js),hasLower:/[a-z]/.test(js),hasNumber:/[0-9]/.test(js),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(js)};w(qs),v(Object.values(qs).every(Boolean))},[]),yr=async()=>{if(!d.currentPassword){f("error"),p("Please enter your current password.");return}f("loading"),p("");try{const js=await fetch(`${Ot}/auth/password-change/send-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({current_password:d.currentPassword})}),qs=await js.json();js.ok&&qs.status==="success"?(Z(qs.token),Q("verify_code"),ce(60),f("idle"),ks("Verification code sent to your email","success")):(f("error"),p(qs.message||"Failed to verify password."))}catch{f("error"),p("Network error.")}},mr=async()=>{if(!J||J.length!==6){f("error"),p("Please enter the 6-digit code.");return}if(!x){f("error"),p("New password is too weak.");return}if(d.newPassword!==Ae){f("error"),p("Passwords do not match.");return}f("loading");try{const js=await fetch(`${Ot}/auth/password-change/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:K,code:J,new_password:d.newPassword})}),qs=await js.json();js.ok&&qs.status==="success"?(Q("success"),f("success"),p("Password changed successfully!"),ks("Password updated successfully","success"),setTimeout(()=>{Q("idle"),A({currentPassword:"",newPassword:""}),H(""),Ne(""),Z(null),f("idle"),p(""),v(!1)},2e3)):(f("error"),p(qs.message||"Failed to change password."))}catch{f("error"),p("Network error.")}},ar=async()=>{if(!(G>0))try{const js=await fetch(`${Ot}/auth/password-change/resend-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:K})}),qs=await js.json();js.ok&&qs.status==="success"?(Z(qs.token),ce(60),ks("Code resent successfully","success")):ks(qs.message||"Failed to resend","error")}catch{ks("Network error","error")}};Sc.useEffect(()=>{if(G>0){const js=setTimeout(()=>ce(qs=>qs-1),1e3);return()=>clearTimeout(js)}},[G]),Sc.useEffect(()=>{if(Ee>0){const js=setTimeout(()=>Re(qs=>qs-1),1e3);return()=>clearTimeout(js)}},[Ee]);const $s=js=>{var hr;const qs=(hr=js.target.files)==null?void 0:hr[0];if(qs){if(qs.size>1048576){ks("File is too large! Please upload an image smaller than 1MB.","error"),js.target.value="";return}c(qs);const Xs=new FileReader;Xs.onloadend=()=>{n(Es=>({...Es,avatarUrl:Xs.result}))},Xs.readAsDataURL(qs)}},As=async()=>{ut(!0);try{const js=new FormData;js.append("name",r.name),js.append("emailNotifications",String(te)),i&&js.append("avatar",i);const qs=await fetch(`${Ot}/auth/update-profile`,{method:"PUT",credentials:"include",body:js}),hr=await qs.json();qs.ok?(Lt(!0),setTimeout(()=>Lt(!1),3e3),hr.user&&e({...hr.user}),c(null),ks("Profile updated successfully!","success")):ks(hr.message||"Update failed","error")}catch(js){console.error("Upload error:",js),ks("Network error occurred. Please try again.","error")}finally{ut(!1)}},Rs=()=>t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-500 bg-white dark:bg-slate-700/50 p-3 rounded-lg border border-slate-200 dark:border-slate-600 mt-2",children:[t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasLength?"text-emerald-500 font-bold":""}`,children:[y.hasLength?t.jsx(Go,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Min 8 chars"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasUpper?"text-emerald-500 font-bold":""}`,children:[y.hasUpper?t.jsx(Go,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Uppercase"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasLower?"text-emerald-500 font-bold":""}`,children:[y.hasLower?t.jsx(Go,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Lowercase"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasNumber?"text-emerald-500 font-bold":""}`,children:[y.hasNumber?t.jsx(Go,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Number"]}),t.jsxs("div",{className:`col-span-2 flex items-center gap-1.5 ${y.hasSpecial?"text-emerald-500 font-bold":""}`,children:[y.hasSpecial?t.jsx(Go,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Special char (!@#$%^&*)"]})]}),br=()=>E==="idle"||E==="verify_current"?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(BS,{className:"w-5 h-5 text-sky-500"}),t.jsx("h4",{className:"font-bold text-slate-700 dark:text-white",children:"Change Password (Secure)"})]}),t.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"For your security, we'll send a verification code to your email."}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Sd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"",value:d.currentPassword,onChange:js=>A({...d,currentPassword:js.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:o==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:m})}),t.jsx("button",{onClick:yr,disabled:o==="loading"||!d.currentPassword,className:"px-5 py-2 bg-sky-600 text-white rounded-xl text-xs font-bold hover:bg-sky-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o==="loading"?t.jsx(Ir,{className:"w-3 h-3 animate-spin"}):t.jsxs(t.Fragment,{children:["Continue ",t.jsx(MA,{className:"w-3 h-3"})]})})]})]})]}):E==="verify_code"?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Vd,{className:"w-5 h-5 text-blue-500"}),t.jsx("h4",{className:"font-bold text-slate-700 dark:text-white",children:"Verify & Set New Password"})]}),t.jsxs("p",{className:"text-xs text-slate-500 mb-4",children:["Enter the 6-digit code sent to ",t.jsx("strong",{children:s.email})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Verification Code"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",placeholder:"000000",value:J,onChange:js=>H(js.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 text-sm font-mono tracking-[0.3em] text-center font-bold outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:ar,disabled:G>0,className:"text-xs text-sky-600 hover:text-sky-700 font-medium disabled:text-slate-400",children:G>0?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{className:"w-3 h-3"})," Resend in ",G,"s"]}):t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(id,{className:"w-3 h-3"})," Resend Code"]})})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Sd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Min 8 characters",value:d.newPassword,onChange:js=>{const qs=js.target.value;A({...d,newPassword:qs}),zs(qs)},className:`w-full bg-white dark:bg-slate-800 border rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none transition-all ${d.newPassword.length>0&&!x?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 dark:border-slate-700 focus:ring-sky-500/20 focus:border-sky-500"}`})]}),d.newPassword.length>0&&Rs()]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Sd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Confirm password",value:Ae,onChange:js=>Ne(js.target.value),className:`w-full bg-white dark:bg-slate-800 border rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none transition-all ${Ae.length>0&&Ae!==d.newPassword?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 dark:border-slate-700 focus:ring-sky-500/20 focus:border-sky-500"}`})]}),Ae.length>0&&Ae!==d.newPassword&&t.jsx("p",{className:"text-xs text-red-500 font-bold",children:"Passwords do not match"})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsx("button",{onClick:()=>{Q("idle"),H(""),A({currentPassword:"",newPassword:""}),Ne(""),f("idle"),p("")},className:"text-xs text-slate-500 hover:text-slate-700",children:" Back"}),t.jsxs("div",{className:"flex items-center gap-3",children:[o==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:m}),t.jsx("button",{onClick:mr,disabled:o==="loading"||J.length!==6||!x||d.newPassword!==Ae,className:"px-5 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o==="loading"?t.jsx(Ir,{className:"w-3 h-3 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(Go,{className:"w-3 h-3"})," Change Password"]})})]})]})]})]}):E==="success"?t.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl p-6 border border-emerald-200 dark:border-emerald-800",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Bo,{className:"w-6 h-6 text-emerald-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-emerald-800 dark:text-emerald-200",children:"Password Changed!"}),t.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Your password has been updated successfully."})]})]})}):null;return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-4xl mx-auto animate-fade-in-up relative",children:[ns&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${ns.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":ns.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[ns.type==="error"?t.jsx(Oa,{className:"w-5 h-5"}):ns.type==="success"?t.jsx(Bo,{className:"w-5 h-5"}):t.jsx(kl,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:ns.message}),t.jsx("button",{onClick:()=>ls(null),className:"ml-2 hover:opacity-70",children:t.jsx(en,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(Wo,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"General Settings"})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-10 pb-10 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var js;return(js=u.current)==null?void 0:js.click()},children:[t.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white dark:border-slate-800 shadow-xl ring-2 ring-slate-100 dark:ring-slate-700",children:t.jsx("img",{src:r.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx(Lg,{className:"w-8 h-8 text-white"})}),t.jsx("input",{type:"file",ref:u,className:"hidden",accept:"image/*",onChange:$s})]}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Profile Photo"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 mb-4",children:"Click the image to upload a new photo. JPG, GIF or PNG."}),t.jsx("button",{onClick:()=>{var js;return(js=u.current)==null?void 0:js.click()},className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Change Photo"})]})]}),t.jsxs("div",{className:"space-y-6 max-w-2xl",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Personal Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Wo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:r.name,onChange:js=>n({...r,name:js.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",value:r.email,disabled:!0,className:"w-full bg-slate-100 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none text-slate-500 cursor-not-allowed"})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:"Security"}),s.authProvider==="google"||!s.email?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 flex items-center gap-3 text-slate-500 border border-slate-200 dark:border-slate-700",children:[t.jsx(Vd,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm",children:"You are logged in via Google. Password change is not applicable."})]}):br()]}),t.jsxs("div",{id:"google-linking-section",className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(vj,{className:"w-5 h-5 text-sky-500"}),"Google Account"]}),s.authProvider==="google"||s.hasGoogleLinked?t.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl p-5 border border-emerald-200 dark:border-emerald-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center shadow-sm border border-emerald-200 dark:border-emerald-700",children:t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-bold text-emerald-800 dark:text-emerald-200",children:"Google Account Linked"}),t.jsx(Bo,{className:"w-5 h-5 text-emerald-500"})]}),t.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 mt-1",children:s.authProvider==="google"?"You signed up with Google. Calendar features are available.":"Your Google account is connected. Calendar sync and trip export are enabled."})]})]}),s.authProvider==="email"&&s.hasGoogleLinked&&t.jsx("div",{className:"mt-4 pt-4 border-t border-emerald-200 dark:border-emerald-700/50",children:t.jsxs("button",{onClick:async()=>{if(window.confirm("Are you sure you want to unlink your Google account? Calendar sync and trip export will no longer work.")){Qt(!0);try{const js=await fetch(`${Ot}/auth/unlink-google`,{method:"POST",credentials:"include"}),qs=await js.json();js.ok&&qs.status==="success"?(ks("Google account unlinked successfully","success"),qs.user&&e(qs.user)):ks(qs.message||"Failed to unlink Google account","error")}catch{ks("Network error. Please try again.","error")}finally{Qt(!1)}}},disabled:Bt,className:"text-xs text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 font-medium flex items-center gap-1.5 disabled:opacity-50",children:[Bt?t.jsx(Ir,{className:"w-3 h-3 animate-spin"}):t.jsx(FE,{className:"w-3 h-3"}),Bt?"Unlinking...":"Unlink Google Account"]})})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Link Google Account"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 leading-relaxed",children:"Connect your Google account to enable Calendar sync and export your trips to Google Calendar."}),t.jsxs("button",{onClick:()=>{$e(!0),window.location.href=`${Ot}/auth/link-google`},disabled:vt,className:"px-5 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-slate-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[vt?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"",className:"w-4 h-4"}),vt?"Connecting...":"Connect Google Account",!vt&&t.jsx(qf,{className:"w-3 h-3 text-slate-400"})]})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700/50 flex items-start gap-2",children:[t.jsx(kl,{className:"w-4 h-4 text-slate-400 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 leading-relaxed",children:"We only access your Google Calendar to sync events. Your data stays secure with Google OAuth."})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Preferences"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:t.jsx(cu,{className:"w-5 h-5 text-sky-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Email Notifications"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Receive trip updates and AI suggestions"})]})]}),t.jsx("button",{onClick:()=>ge(!te),className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors duration-300 ${te?"bg-sky-500":"bg-slate-300 dark:bg-slate-700"}`,children:t.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-300 ${te?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:t.jsx(Vd,{className:"w-5 h-5 text-emerald-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Data Privacy"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Allow AI to use travel history for better suggestions"})]})]}),t.jsx("button",{onClick:()=>Ve(!Me),className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors duration-300 ${Me?"bg-emerald-500":"bg-slate-300 dark:bg-slate-700"}`,children:t.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-300 ${Me?"translate-x-6":"translate-x-0"}`})})]})]})]}),t.jsx("div",{className:"pt-6 mt-6 flex justify-end",children:t.jsxs("button",{onClick:As,disabled:Nt,className:`w-full md:w-auto px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-lg hover:bg-slate-800 dark:hover:bg-slate-200 transition-all flex items-center justify-center gap-2 ${Nt?"opacity-70 cursor-not-allowed":""}`,children:[Nt?t.jsx(Ir,{className:"w-5 h-5 animate-spin"}):et?t.jsx(Bo,{className:"w-5 h-5"}):t.jsx(IA,{className:"w-5 h-5"}),et?"Saved":Nt?"Saving...":"Save Changes"]})})]})]})]})},X6=({user:s,onUpdateUser:e})=>{const r=Hl(),[n]=HB(),[i,c]=W.useState("plans"),[u,d]=W.useState(!1),[A,o]=W.useState(null),[f,m]=W.useState(null),[p,x]=W.useState(null),[v,y]=W.useState(!1),[w,E]=W.useState([]),[Q,K]=W.useState(!0),[Z,J]=W.useState(""),[H,G]=W.useState(!1),[ce,Ae]=W.useState(null),[Ne,re]=W.useState(null),[Be,fe]=W.useState(""),[Se,pe]=W.useState([]),[ae,de]=W.useState(!1),[oe,Ee]=W.useState("all"),[Re,ke]=W.useState(null),me={monthly:["Unlimited AI trip planning","Advanced route optimization","Priority support","Budget tracking","Calendar sync"],yearly:["Everything in Monthly","2 months FREE","Early access to new features","Exclusive travel tips","No price increases"],lifetime:["Everything in Yearly","Lifetime updates","VIP support","Transferable license","Exclusive community access"]};W.useEffect(()=>{ue(),we();const vt=n.get("success"),$e=n.get("activated");vt==="true"&&(ke(" Payment successful! Your premium membership is updated."),setTimeout(()=>ke(null),5e3)),$e==="true"&&(ke(" Premium membership activated successfully!"),setTimeout(()=>ke(null),5e3))},[]),W.useEffect(()=>{i==="transactions"&&te()},[i,oe]),W.useEffect(()=>{if(f!=null&&f.pendingOrder){const vt=setInterval(ge,1e4);return()=>clearInterval(vt)}},[f]);const we=async()=>{try{K(!0);const vt=await fetch(`${Ot}/api/payment/plans`,{credentials:"include"});if(vt.ok){const $e=await vt.json();E($e.plans||[])}}catch(vt){console.error("Failed to fetch plans:",vt)}finally{K(!1)}},ue=async()=>{try{const vt=await fetch(`${Ot}/api/payment/subscription-status`,{credentials:"include"});if(vt.ok){const $e=await vt.json();m($e)}}catch(vt){console.error("Failed to fetch subscription status:",vt)}},te=async()=>{try{de(!0);const vt=oe==="all"?`${Ot}/api/payment/transactions`:`${Ot}/api/payment/transactions?status=${oe}`,Bt=await(await fetch(vt,{credentials:"include"})).json();pe(Bt.transactions||[])}catch(vt){console.error("Failed to fetch transactions:",vt)}finally{de(!1)}},ge=async()=>{var vt;if(f!=null&&f.pendingOrder){y(!0);try{const Bt=await(await fetch(`${Ot}/api/payment/verify-order/${f.pendingOrder.orderReference}`,{method:"POST",credentials:"include"})).json();Bt.success&&((vt=Bt.order)==null?void 0:vt.status)==="active"&&(await ue(),e({isPremium:!0}),ke(" Payment confirmed! Your plan is now active."),setTimeout(()=>ke(null),5e3))}catch($e){console.error("Error checking order status:",$e)}finally{y(!1)}}},Me=async vt=>{if(!Z.trim()){fe("Please enter a voucher code");return}G(!0),fe("");const $e=vt!==void 0?vt:A==null?void 0:A.id;try{const Qt=await(await fetch(`${Ot}/api/payment/validate-voucher`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:Z.trim(),planId:$e||null})})).json();Qt.valid?(Ae(Qt.voucher),re(Qt.preview),fe(""),Qt.voucher.type==="activation"&&o(null)):(fe(Qt.error||"Invalid voucher code"),re(null))}catch{fe("Failed to validate voucher")}finally{G(!1)}},Ve=()=>{Ae(null),re(null),J(""),fe("")},Nt=async vt=>{d(!0),vt&&o(vt),x(null);try{const $e={};if(vt&&($e.planId=vt.id),ce&&($e.voucherCode=ce.code),!vt&&(ce==null?void 0:ce.type)!=="activation")throw new Error("Please select a plan.");const Bt=await fetch(`${Ot}/api/payment/create-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify($e)}),Qt=await Bt.json();if(Qt.activated){await ue(),e({isPremium:!0}),ke(" Premium membership activated!"),Ve();return}if(Bt.ok&&Qt.paymentUrl)window.location.href=Qt.paymentUrl;else if(Qt.redirectTo)await ue(),e({isPremium:!0}),ke(" Premium membership activated with voucher!"),Ve();else throw new Error(Qt.error||"Payment creation failed")}catch($e){x($e.message||"Payment failed")}finally{d(!1)}},ut=async vt=>{try{const Bt=await(await fetch(`${Ot}/api/payment/continue-payment/${vt}`,{credentials:"include"})).json();Bt.paymentUrl?window.location.href=Bt.paymentUrl:Bt.error&&x(Bt.error)}catch{x("Failed to continue payment")}},et=async vt=>{try{(await fetch(`${Ot}/api/payment/cancel-order/${vt}`,{method:"POST",credentials:"include"})).ok&&(te(),ue())}catch($e){console.error("Failed to cancel order:",$e)}},Lt=vt=>{r(`/receipt?order_id=${vt}`)},ns=vt=>{const $e={pending:{icon:Vi,color:"text-amber-600 bg-amber-50 dark:bg-amber-900/20",label:"Pending"},paid:{icon:Co,color:"text-green-600 bg-green-50 dark:bg-green-900/20",label:"Paid"},active:{icon:Co,color:"text-green-600 bg-green-50 dark:bg-green-900/20",label:"Active"},cancelled:{icon:du,color:"text-red-600 bg-red-50 dark:bg-red-900/20",label:"Cancelled"},expired:{icon:Jo,color:"text-gray-600 bg-gray-50 dark:bg-gray-800",label:"Expired"},refunded:{icon:du,color:"text-blue-600 bg-blue-50 dark:bg-blue-900/20",label:"Refunded"},failed:{icon:du,color:"text-red-600 bg-red-50 dark:bg-red-900/20",label:"Failed"}},Bt=$e[vt]||$e.pending,Qt=Bt.icon;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${Bt.color}`,children:[t.jsx(Qt,{size:14}),Bt.label]})},ls=vt=>vt.durationDays===null||vt.slug==="lifetime"?"one-time":vt.durationDays===30||vt.slug==="monthly"?"month":vt.durationDays===365||vt.slug==="yearly"?"year":`${vt.durationDays} days`;return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-7xl mx-auto animate-fade-in-up",children:[Re&&t.jsxs("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(Co,{className:"w-5 h-5 text-green-600"}),t.jsx("p",{className:"text-green-700 dark:text-green-400 font-medium",children:Re})]}),(f==null?void 0:f.pendingOrder)&&t.jsx("div",{className:"mb-8 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-2xl p-6 shadow-sm",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:v?t.jsx(Ir,{className:"w-6 h-6 text-amber-600 animate-spin"}):t.jsx(Oa,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-100 mb-2",children:"Payment in Progress"}),t.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-400 mb-4",children:["Order ",t.jsx("span",{className:"font-mono font-bold",children:f.pendingOrder.orderReference})," is pending payment.",f.pendingOrder.remainingTime>0&&t.jsxs("span",{className:"ml-2",children:["Expires in ",Math.floor(f.pendingOrder.remainingTime/60),":",String(f.pendingOrder.remainingTime%60).padStart(2,"0")]})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:()=>ut(f.pendingOrder.orderReference),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors flex items-center gap-2",children:[t.jsx(Zf,{className:"w-4 h-4"}),"Continue Payment"]}),t.jsxs("button",{onClick:()=>ge(),disabled:v,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-amber-200 dark:border-amber-800 text-amber-700 dark:text-amber-400 rounded-lg hover:bg-amber-50 dark:hover:bg-amber-900/10 transition-colors flex items-center gap-2",children:[v?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):t.jsx(Co,{className:"w-4 h-4"}),"Refresh Status"]})]})]})]})}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-amber-500/20 to-orange-500/20 rounded-full mb-4",children:[t.jsx(zd,{className:"w-5 h-5 text-amber-600"}),t.jsx("span",{className:"text-sm font-bold text-amber-700 dark:text-amber-400",children:"Premium Plans"})]}),t.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-4",children:["Upgrade to ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-500 to-orange-600",children:"Premium"})]}),t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:"Unlock unlimited AI-powered trip planning and advanced features"})]}),(f==null?void 0:f.isPremium)&&t.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-6 mb-8 border border-amber-200 dark:border-amber-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(co,{className:"w-6 h-6 text-amber-600"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Active Premium Subscription"})]}),f.subscriptionEndDate?t.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[t.jsx(lo,{className:"w-4 h-4 inline mr-2"}),"Valid until: ",new Date(f.subscriptionEndDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})]}):t.jsxs("p",{className:"text-slate-600 dark:text-slate-400 flex items-center gap-2",children:[t.jsx(zd,{className:"w-4 h-4 text-amber-600"}),t.jsx("span",{className:"font-bold text-amber-700",children:"Lifetime Access"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden mb-8",children:[t.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("button",{onClick:()=>c("plans"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${i==="plans"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(yf,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:"Plans"})]}),t.jsxs("button",{onClick:()=>c("transactions"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${i==="transactions"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(pS,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:"Transactions"})]}),t.jsxs("button",{onClick:()=>c("voucher"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${i==="voucher"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(ff,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:"Redeem Code"})]})]}),t.jsxs("div",{className:"p-6",children:[p&&t.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 mb-6 flex items-center gap-3",children:[t.jsx(Oa,{className:"w-5 h-5 text-red-600"}),t.jsx("p",{className:"text-red-700 dark:text-red-400",children:p}),t.jsx("button",{onClick:()=>x(null),className:"ml-auto text-red-400 hover:text-red-600",children:t.jsx(en,{size:18})})]}),i==="plans"&&t.jsx("div",{children:Q?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Ir,{className:"w-8 h-8 animate-spin text-amber-500"})}):t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:w.map(vt=>{var Rs;const $e=me[vt.slug]||me.monthly,Bt=(A==null?void 0:A.id)===vt.id,Qt=Bt&&Ne,ks=vt.actionType||"purchase",zs=vt.canPurchase!==!1;let yr=Zf,mr="Subscribe Now",ar=!1;ks==="upgrade"?(mr="Upgrade Plan",yr=Pg,ar=!0):ks==="renew"?(mr="Renew Subscription",yr=id):ks==="blocked"?(mr="Current Plan is Higher",yr=Sd):f!=null&&f.isPremium&&vt.slug==="lifetime"&&!f.subscriptionEndDate&&(mr="Current Plan",yr=Go),((Rs=f==null?void 0:f.currentSubscription)==null?void 0:Rs.planId)===vt.id&&ks==="renew"&&(mr="Renew / Extend");const As=u||!zs;return t.jsxs("div",{onClick:()=>{(!As||ks!=="blocked")&&(o(vt),Z.trim()&&Me(vt.id))},className:`relative bg-white dark:bg-slate-800 rounded-2xl p-6 border-2 transition-all duration-300 ${As?"opacity-80":"cursor-pointer hover:scale-[1.02]"} ${vt.isFeatured||vt.slug==="yearly"?"border-amber-500 shadow-xl shadow-amber-500/20":Bt?"border-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:[(vt.isFeatured||vt.slug==="yearly")&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-gradient-to-r from-amber-500 to-orange-600 text-white text-xs font-bold rounded-full shadow-lg",children:"Most Popular"}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:vt.name}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:vt.description}),t.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[Qt?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-2xl text-slate-400 line-through",children:["RM ",Ne.originalPrice]}),t.jsxs("span",{className:"text-3xl font-bold text-green-600",children:["RM ",Ne.finalPrice.toFixed(2)]})]}):t.jsxs("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:["RM ",vt.price]}),t.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["/",ls(vt)]})]}),Qt&&t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Save RM ",Ne.discount.toFixed(2),"!"]})]}),t.jsx("ul",{className:"space-y-3 mb-6",children:$e.map((br,js)=>t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Go,{className:"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:br})]},js))}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{onClick:br=>{br.stopPropagation(),As||Nt(vt)},disabled:As,className:`w-full py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${As?"bg-slate-100 dark:bg-slate-700 text-slate-400 dark:text-slate-500 cursor-not-allowed":vt.isFeatured||vt.slug==="yearly"?"bg-gradient-to-r from-amber-500 to-orange-600 text-white hover:shadow-lg hover:shadow-amber-500/50":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:u&&(A==null?void 0:A.id)===vt.id?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(yr,{className:"w-5 h-5"}),mr]})}),ar&&!As&&t.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 text-center font-medium animate-pulse",children:" Remaining days will be added to new plan!"}),ks==="blocked"&&t.jsx("p",{className:"text-xs text-slate-400 text-center",children:"You are on a higher tier plan."})]})]},vt.id)})})}),i==="transactions"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Transaction History"}),t.jsxs("select",{value:oe,onChange:vt=>Ee(vt.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm",children:[t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"paid",children:"Paid"}),t.jsx("option",{value:"expired",children:"Expired"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),ae?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Ir,{className:"w-8 h-8 animate-spin text-amber-500"})}):Se.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Bj,{className:"w-12 h-12 mx-auto mb-3 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No transactions found"})]}):t.jsx("div",{className:"space-y-4",children:Se.map(vt=>t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:vt.planName}),t.jsx("p",{className:"text-sm text-slate-500 font-mono",children:vt.orderReference}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:vt.createdAt})]}),t.jsxs("div",{className:"text-right",children:[ns(vt.status),t.jsxs("p",{className:"mt-2 font-bold text-lg text-slate-900 dark:text-white",children:["RM ",vt.amount.toFixed(2)]}),vt.discountAmount>0&&t.jsxs("p",{className:"text-xs text-green-600",children:["-RM ",vt.discountAmount.toFixed(2)," discount"]})]})]}),vt.canContinuePayment&&vt.status==="pending"&&t.jsxs("div",{className:"mt-4 flex gap-2",children:[t.jsxs("button",{onClick:()=>ut(vt.orderReference),className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg flex items-center justify-center gap-2",children:[t.jsx(qf,{size:18}),"Continue Payment"]}),t.jsx("button",{onClick:()=>et(vt.orderReference),className:"px-4 py-2.5 border border-red-200 text-red-600 hover:bg-red-50 rounded-lg",children:"Cancel"})]}),["paid","active"].includes(vt.status)&&vt.paymentMethod!=="activation_code"&&t.jsxs("button",{onClick:()=>Lt(vt.orderReference),className:"mt-4 w-full py-2.5 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg flex items-center justify-center gap-2 hover:bg-slate-100 dark:hover:bg-slate-700",children:[t.jsx(kd,{size:18}),"View Receipt"]}),vt.voucherCode&&t.jsxs("p",{className:"mt-3 text-xs text-slate-500",children:["Voucher: ",t.jsx("span",{className:"font-mono bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:vt.voucherCode})]})]},vt.id))})]}),i==="voucher"&&t.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx(ff,{className:"w-12 h-12 mx-auto mb-3 text-amber-500"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Redeem Code"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Enter your activation code or discount voucher below."})]}),!ce&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Op,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:Z,onChange:vt=>J(vt.target.value.toUpperCase()),placeholder:"ENTER CODE HERE",className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl font-mono uppercase text-lg tracking-wider focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all shadow-sm",onKeyDown:vt=>vt.key==="Enter"&&Me()})]}),t.jsx("button",{onClick:()=>Me(),disabled:!Z.trim()||H,className:"w-full py-3.5 bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg shadow-amber-500/20 transition-all hover:scale-[1.02]",children:H?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{className:"w-5 h-5 animate-spin"}),"Validating..."]}):t.jsxs(t.Fragment,{children:["Check Code ",t.jsx(MA,{size:18})]})}),Be&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/50 rounded-lg flex items-center justify-center gap-2 text-red-600 dark:text-red-400 text-sm animate-shake",children:[t.jsx(Oa,{size:16}),Be]})]}),(ce==null?void 0:ce.type)==="activation"&&t.jsx("div",{className:"animate-fade-in-up",children:t.jsx("div",{className:"p-1 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-2xl shadow-xl",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(co,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:"Premium Activation"}),t.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Code: ",t.jsx("span",{className:"font-mono font-bold text-purple-600",children:ce.code})]}),t.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 mb-6 border border-purple-100 dark:border-purple-800/50",children:[t.jsx("p",{className:"text-sm text-purple-800 dark:text-purple-300 mb-1",children:"You will receive:"}),t.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:[ce.activationDays?`${ce.activationDays} Days`:"Lifetime"," Premium"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>Nt(),disabled:u,className:"w-full py-4 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-purple-600/30 transition-all hover:scale-[1.02]",children:u?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{className:"w-5 h-5 animate-spin"}),"Activating..."]}):t.jsxs(t.Fragment,{children:["Activate Now ",t.jsx(co,{className:"w-5 h-5"})]})}),t.jsx("button",{onClick:Ve,className:"text-sm text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 underline",children:"Use a different code"})]})]})})}),(ce==null?void 0:ce.type)==="discount"&&t.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Op,{className:"w-5 h-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-mono font-bold text-green-700 dark:text-green-400",children:ce.code}),t.jsx("p",{className:"text-sm text-green-600",children:ce.discountType==="percentage"?`${ce.discountValue}% Discount`:`RM${ce.discountValue} Off`})]})]}),t.jsx("button",{onClick:Ve,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:t.jsx(en,{size:18})})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-6 h-6 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),"Select a Plan"]}),t.jsx("div",{className:"grid grid-cols-1 gap-3",children:w.map(vt=>t.jsxs("button",{onClick:()=>{vt.canPurchase!==!1&&(o(vt),Z.trim()&&Me(vt.id))},disabled:vt.canPurchase===!1&&vt.actionType==="blocked",className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${(A==null?void 0:A.id)===vt.id?"border-amber-500 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-700 hover:border-amber-200"} ${vt.canPurchase===!1?"opacity-60 cursor-not-allowed":""}`,children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:vt.name}),t.jsx("p",{className:"text-xs text-slate-500",children:vt.description})]}),t.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:["RM ",vt.price]})]},vt.id))})]}),A&&t.jsxs("div",{className:"animate-fade-in-up",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx("span",{className:"w-6 h-6 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),"Confirm & Pay"]}),t.jsx("button",{onClick:()=>Me(),className:"text-xs text-amber-600 underline",children:"Refresh Price"})]}),t.jsxs("div",{className:"p-5 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[Ne?t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-slate-500",children:["Plan Price (",A.name,")"]}),t.jsxs("span",{className:"text-slate-900 dark:text-white",children:["RM ",A.price.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-green-600 font-medium",children:[t.jsx("span",{children:"Voucher Applied"}),t.jsxs("span",{children:["-RM ",Ne.discount.toFixed(2)]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3 flex justify-between items-end",children:[t.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:"Total Amount"}),t.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:["RM ",Ne.finalPrice.toFixed(2)]})]})]}):t.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[t.jsx(Ir,{className:"w-4 h-4 animate-spin mx-auto mb-2"}),"Calculating discount..."]}),t.jsx("button",{onClick:()=>Nt(A),disabled:u||!Ne,className:"w-full mt-5 py-3.5 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-amber-500/30 hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:scale-100",children:u?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:["Proceed to Payment ",t.jsx(MA,{size:18})]})})]})]})]})]})]})]})]})};var Wx={exports:{}},fp={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var J6=fp.exports,d2;function Z6(){return d2||(d2=1,(function(s,e){(function(r,n){s.exports=n()})(J6,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var r=function(k,j){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,U){F.__proto__=U}||function(F,U){for(var ne in U)Object.prototype.hasOwnProperty.call(U,ne)&&(F[ne]=U[ne])},r(k,j)};function n(k,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");r(k,j);function F(){this.constructor=k}k.prototype=j===null?Object.create(j):(F.prototype=j.prototype,new F)}var i=function(){return i=Object.assign||function(j){for(var F,U=1,ne=arguments.length;U<ne;U++){F=arguments[U];for(var ye in F)Object.prototype.hasOwnProperty.call(F,ye)&&(j[ye]=F[ye])}return j},i.apply(this,arguments)};function c(k,j,F,U){function ne(ye){return ye instanceof F?ye:new F(function(Fe){Fe(ye)})}return new(F||(F=Promise))(function(ye,Fe){function Ze(It){try{jt(U.next(It))}catch(Kt){Fe(Kt)}}function qe(It){try{jt(U.throw(It))}catch(Kt){Fe(Kt)}}function jt(It){It.done?ye(It.value):ne(It.value).then(Ze,qe)}jt((U=U.apply(k,[])).next())})}function u(k,j){var F={label:0,sent:function(){if(ye[0]&1)throw ye[1];return ye[1]},trys:[],ops:[]},U,ne,ye,Fe;return Fe={next:Ze(0),throw:Ze(1),return:Ze(2)},typeof Symbol=="function"&&(Fe[Symbol.iterator]=function(){return this}),Fe;function Ze(jt){return function(It){return qe([jt,It])}}function qe(jt){if(U)throw new TypeError("Generator is already executing.");for(;F;)try{if(U=1,ne&&(ye=jt[0]&2?ne.return:jt[0]?ne.throw||((ye=ne.return)&&ye.call(ne),0):ne.next)&&!(ye=ye.call(ne,jt[1])).done)return ye;switch(ne=0,ye&&(jt=[jt[0]&2,ye.value]),jt[0]){case 0:case 1:ye=jt;break;case 4:return F.label++,{value:jt[1],done:!1};case 5:F.label++,ne=jt[1],jt=[0];continue;case 7:jt=F.ops.pop(),F.trys.pop();continue;default:if(ye=F.trys,!(ye=ye.length>0&&ye[ye.length-1])&&(jt[0]===6||jt[0]===2)){F=0;continue}if(jt[0]===3&&(!ye||jt[1]>ye[0]&&jt[1]<ye[3])){F.label=jt[1];break}if(jt[0]===6&&F.label<ye[1]){F.label=ye[1],ye=jt;break}if(ye&&F.label<ye[2]){F.label=ye[2],F.ops.push(jt);break}ye[2]&&F.ops.pop(),F.trys.pop();continue}jt=j.call(k,F)}catch(It){jt=[6,It],ne=0}finally{U=ye=0}if(jt[0]&5)throw jt[1];return{value:jt[0]?jt[1]:void 0,done:!0}}}function d(k,j,F){if(arguments.length===2)for(var U=0,ne=j.length,ye;U<ne;U++)(ye||!(U in j))&&(ye||(ye=Array.prototype.slice.call(j,0,U)),ye[U]=j[U]);return k.concat(ye||j)}for(var A=(function(){function k(j,F,U,ne){this.left=j,this.top=F,this.width=U,this.height=ne}return k.prototype.add=function(j,F,U,ne){return new k(this.left+j,this.top+F,this.width+U,this.height+ne)},k.fromClientRect=function(j,F){return new k(F.left+j.windowBounds.left,F.top+j.windowBounds.top,F.width,F.height)},k.fromDOMRectList=function(j,F){var U=Array.from(F).find(function(ne){return ne.width!==0});return U?new k(U.left+j.windowBounds.left,U.top+j.windowBounds.top,U.width,U.height):k.EMPTY},k.EMPTY=new k(0,0,0,0),k})(),o=function(k,j){return A.fromClientRect(k,j.getBoundingClientRect())},f=function(k){var j=k.body,F=k.documentElement;if(!j||!F)throw new Error("Unable to get document size");var U=Math.max(Math.max(j.scrollWidth,F.scrollWidth),Math.max(j.offsetWidth,F.offsetWidth),Math.max(j.clientWidth,F.clientWidth)),ne=Math.max(Math.max(j.scrollHeight,F.scrollHeight),Math.max(j.offsetHeight,F.offsetHeight),Math.max(j.clientHeight,F.clientHeight));return new A(0,0,U,ne)},m=function(k){for(var j=[],F=0,U=k.length;F<U;){var ne=k.charCodeAt(F++);if(ne>=55296&&ne<=56319&&F<U){var ye=k.charCodeAt(F++);(ye&64512)===56320?j.push(((ne&1023)<<10)+(ye&1023)+65536):(j.push(ne),F--)}else j.push(ne)}return j},p=function(){for(var k=[],j=0;j<arguments.length;j++)k[j]=arguments[j];if(String.fromCodePoint)return String.fromCodePoint.apply(String,k);var F=k.length;if(!F)return"";for(var U=[],ne=-1,ye="";++ne<F;){var Fe=k[ne];Fe<=65535?U.push(Fe):(Fe-=65536,U.push((Fe>>10)+55296,Fe%1024+56320)),(ne+1===F||U.length>16384)&&(ye+=String.fromCharCode.apply(String,U),U.length=0)}return ye},x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=typeof Uint8Array>"u"?[]:new Uint8Array(256),y=0;y<x.length;y++)v[x.charCodeAt(y)]=y;for(var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=typeof Uint8Array>"u"?[]:new Uint8Array(256),Q=0;Q<w.length;Q++)E[w.charCodeAt(Q)]=Q;for(var K=function(k){var j=k.length*.75,F=k.length,U,ne=0,ye,Fe,Ze,qe;k[k.length-1]==="="&&(j--,k[k.length-2]==="="&&j--);var jt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(j):new Array(j),It=Array.isArray(jt)?jt:new Uint8Array(jt);for(U=0;U<F;U+=4)ye=E[k.charCodeAt(U)],Fe=E[k.charCodeAt(U+1)],Ze=E[k.charCodeAt(U+2)],qe=E[k.charCodeAt(U+3)],It[ne++]=ye<<2|Fe>>4,It[ne++]=(Fe&15)<<4|Ze>>2,It[ne++]=(Ze&3)<<6|qe&63;return jt},Z=function(k){for(var j=k.length,F=[],U=0;U<j;U+=2)F.push(k[U+1]<<8|k[U]);return F},J=function(k){for(var j=k.length,F=[],U=0;U<j;U+=4)F.push(k[U+3]<<24|k[U+2]<<16|k[U+1]<<8|k[U]);return F},H=5,G=11,ce=2,Ae=G-H,Ne=65536>>H,re=1<<H,Be=re-1,fe=1024>>H,Se=Ne+fe,pe=Se,ae=32,de=pe+ae,oe=65536>>G,Ee=1<<Ae,Re=Ee-1,ke=function(k,j,F){return k.slice?k.slice(j,F):new Uint16Array(Array.prototype.slice.call(k,j,F))},me=function(k,j,F){return k.slice?k.slice(j,F):new Uint32Array(Array.prototype.slice.call(k,j,F))},we=function(k,j){var F=K(k),U=Array.isArray(F)?J(F):new Uint32Array(F),ne=Array.isArray(F)?Z(F):new Uint16Array(F),ye=24,Fe=ke(ne,ye/2,U[4]/2),Ze=U[5]===2?ke(ne,(ye+U[4])/2):me(U,Math.ceil((ye+U[4])/4));return new ue(U[0],U[1],U[2],U[3],Fe,Ze)},ue=(function(){function k(j,F,U,ne,ye,Fe){this.initialValue=j,this.errorValue=F,this.highStart=U,this.highValueIndex=ne,this.index=ye,this.data=Fe}return k.prototype.get=function(j){var F;if(j>=0){if(j<55296||j>56319&&j<=65535)return F=this.index[j>>H],F=(F<<ce)+(j&Be),this.data[F];if(j<=65535)return F=this.index[Ne+(j-55296>>H)],F=(F<<ce)+(j&Be),this.data[F];if(j<this.highStart)return F=de-oe+(j>>G),F=this.index[F],F+=j>>H&Re,F=this.index[F],F=(F<<ce)+(j&Be),this.data[F];if(j<=1114111)return this.data[this.highValueIndex]}return this.errorValue},k})(),te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge=typeof Uint8Array>"u"?[]:new Uint8Array(256),Me=0;Me<te.length;Me++)ge[te.charCodeAt(Me)]=Me;var Ve="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Nt=50,ut=1,et=2,Lt=3,ns=4,ls=5,vt=7,$e=8,Bt=9,Qt=10,ks=11,zs=12,yr=13,mr=14,ar=15,$s=16,As=17,Rs=18,br=19,js=20,qs=21,hr=22,rr=23,Xs=24,Es=25,Gt=26,vs=27,Ms=28,Gs=29,fr=30,Ct=31,Zt=32,ds=33,hs=34,Ks=35,Vs=36,pr=37,tn=38,Ns=39,Is=40,kr=41,nr=42,Ts=43,Lr=[9001,65288],la="!",gr="",qa="",yn=we(Ve),In=[fr,Vs],$n=[ut,et,Lt,ls],Nn=[Qt,$e],ga=[vs,Gt],Zn=$n.concat(Nn),Oi=[tn,Ns,Is,hs,Ks],Dn=[ar,yr],hc=function(k,j){j===void 0&&(j="strict");var F=[],U=[],ne=[];return k.forEach(function(ye,Fe){var Ze=yn.get(ye);if(Ze>Nt?(ne.push(!0),Ze-=Nt):ne.push(!1),["normal","auto","loose"].indexOf(j)!==-1&&[8208,8211,12316,12448].indexOf(ye)!==-1)return U.push(Fe),F.push($s);if(Ze===ns||Ze===ks){if(Fe===0)return U.push(Fe),F.push(fr);var qe=F[Fe-1];return Zn.indexOf(qe)===-1?(U.push(U[Fe-1]),F.push(qe)):(U.push(Fe),F.push(fr))}if(U.push(Fe),Ze===Ct)return F.push(j==="strict"?qs:pr);if(Ze===nr||Ze===Gs)return F.push(fr);if(Ze===Ts)return ye>=131072&&ye<=196605||ye>=196608&&ye<=262141?F.push(pr):F.push(fr);F.push(Ze)}),[U,F,ne]},ii=function(k,j,F,U){var ne=U[F];if(Array.isArray(k)?k.indexOf(ne)!==-1:k===ne)for(var ye=F;ye<=U.length;){ye++;var Fe=U[ye];if(Fe===j)return!0;if(Fe!==Qt)break}if(ne===Qt)for(var ye=F;ye>0;){ye--;var Ze=U[ye];if(Array.isArray(k)?k.indexOf(Ze)!==-1:k===Ze)for(var qe=F;qe<=U.length;){qe++;var Fe=U[qe];if(Fe===j)return!0;if(Fe!==Qt)break}if(Ze!==Qt)break}return!1},Eo=function(k,j){for(var F=k;F>=0;){var U=j[F];if(U===Qt)F--;else return U}return 0},Vl=function(k,j,F,U,ne){if(F[U]===0)return gr;var ye=U-1;if(Array.isArray(ne)&&ne[ye]===!0)return gr;var Fe=ye-1,Ze=ye+1,qe=j[ye],jt=Fe>=0?j[Fe]:0,It=j[Ze];if(qe===et&&It===Lt)return gr;if($n.indexOf(qe)!==-1)return la;if($n.indexOf(It)!==-1||Nn.indexOf(It)!==-1)return gr;if(Eo(ye,j)===$e)return qa;if(yn.get(k[ye])===ks||(qe===Zt||qe===ds)&&yn.get(k[Ze])===ks||qe===vt||It===vt||qe===Bt||[Qt,yr,ar].indexOf(qe)===-1&&It===Bt||[As,Rs,br,Xs,Ms].indexOf(It)!==-1||Eo(ye,j)===hr||ii(rr,hr,ye,j)||ii([As,Rs],qs,ye,j)||ii(zs,zs,ye,j))return gr;if(qe===Qt)return qa;if(qe===rr||It===rr)return gr;if(It===$s||qe===$s)return qa;if([yr,ar,qs].indexOf(It)!==-1||qe===mr||jt===Vs&&Dn.indexOf(qe)!==-1||qe===Ms&&It===Vs||It===js||In.indexOf(It)!==-1&&qe===Es||In.indexOf(qe)!==-1&&It===Es||qe===vs&&[pr,Zt,ds].indexOf(It)!==-1||[pr,Zt,ds].indexOf(qe)!==-1&&It===Gt||In.indexOf(qe)!==-1&&ga.indexOf(It)!==-1||ga.indexOf(qe)!==-1&&In.indexOf(It)!==-1||[vs,Gt].indexOf(qe)!==-1&&(It===Es||[hr,ar].indexOf(It)!==-1&&j[Ze+1]===Es)||[hr,ar].indexOf(qe)!==-1&&It===Es||qe===Es&&[Es,Ms,Xs].indexOf(It)!==-1)return gr;if([Es,Ms,Xs,As,Rs].indexOf(It)!==-1)for(var Kt=ye;Kt>=0;){var ws=j[Kt];if(ws===Es)return gr;if([Ms,Xs].indexOf(ws)!==-1)Kt--;else break}if([vs,Gt].indexOf(It)!==-1)for(var Kt=[As,Rs].indexOf(qe)!==-1?Fe:ye;Kt>=0;){var ws=j[Kt];if(ws===Es)return gr;if([Ms,Xs].indexOf(ws)!==-1)Kt--;else break}if(tn===qe&&[tn,Ns,hs,Ks].indexOf(It)!==-1||[Ns,hs].indexOf(qe)!==-1&&[Ns,Is].indexOf(It)!==-1||[Is,Ks].indexOf(qe)!==-1&&It===Is||Oi.indexOf(qe)!==-1&&[js,Gt].indexOf(It)!==-1||Oi.indexOf(It)!==-1&&qe===vs||In.indexOf(qe)!==-1&&In.indexOf(It)!==-1||qe===Xs&&In.indexOf(It)!==-1||In.concat(Es).indexOf(qe)!==-1&&It===hr&&Lr.indexOf(k[Ze])===-1||In.concat(Es).indexOf(It)!==-1&&qe===Rs)return gr;if(qe===kr&&It===kr){for(var Cr=F[ye],er=1;Cr>0&&(Cr--,j[Cr]===kr);)er++;if(er%2!==0)return gr}return qe===Zt&&It===ds?gr:qa},uo=function(k,j){j||(j={lineBreak:"normal",wordBreak:"normal"});var F=hc(k,j.lineBreak),U=F[0],ne=F[1],ye=F[2];(j.wordBreak==="break-all"||j.wordBreak==="break-word")&&(ne=ne.map(function(Ze){return[Es,fr,nr].indexOf(Ze)!==-1?pr:Ze}));var Fe=j.wordBreak==="keep-all"?ye.map(function(Ze,qe){return Ze&&k[qe]>=19968&&k[qe]<=40959}):void 0;return[U,ne,Fe]},fa=(function(){function k(j,F,U,ne){this.codePoints=j,this.required=F===la,this.start=U,this.end=ne}return k.prototype.slice=function(){return p.apply(void 0,this.codePoints.slice(this.start,this.end))},k})(),ji=function(k,j){var F=m(k),U=uo(F,j),ne=U[0],ye=U[1],Fe=U[2],Ze=F.length,qe=0,jt=0;return{next:function(){if(jt>=Ze)return{done:!0,value:null};for(var It=gr;jt<Ze&&(It=Vl(F,ye,ne,++jt,Fe))===gr;);if(It!==gr||jt===Ze){var Kt=new fa(F,It,qe,jt);return qe=jt,{value:Kt,done:!1}}return{done:!0,value:null}}}},sa=1,Ta=2,qn=4,Ao=8,ui=10,Ni=47,ul=92,Zo=9,El=32,xa=34,wa=61,ho=35,ei=36,Ii=37,Ai=39,Yr=40,Va=41,Ci=95,Ra=45,fo=33,Gn=60,Ki=62,Ka=64,Ia=91,hi=93,To=61,Bi=123,ba=63,fi=125,qi=124,ki=126,io=128,Et=65533,M=42,$=43,Y=44,T=58,L=59,z=46,ie=0,ve=8,De=11,Je=14,N=31,b=127,S=-1,I=48,R=97,V=101,le=102,q=117,ee=122,je=65,Le=69,ze=70,Xe=85,xe=90,ct=function(k){return k>=I&&k<=57},ot=function(k){return k>=55296&&k<=57343},At=function(k){return ct(k)||k>=je&&k<=ze||k>=R&&k<=le},We=function(k){return k>=R&&k<=ee},yt=function(k){return k>=je&&k<=xe},Dt=function(k){return We(k)||yt(k)},pt=function(k){return k>=io},Ge=function(k){return k===ui||k===Zo||k===El},Ft=function(k){return Dt(k)||pt(k)||k===Ci},is=function(k){return Ft(k)||ct(k)||k===Ra},Ht=function(k){return k>=ie&&k<=ve||k===De||k>=Je&&k<=N||k===b},bt=function(k,j){return k!==ul?!1:j!==ui},es=function(k,j,F){return k===Ra?Ft(j)||bt(j,F):Ft(k)?!0:!!(k===ul&&bt(k,j))},Ye=function(k,j,F){return k===$||k===Ra?ct(j)?!0:j===z&&ct(F):ct(k===z?j:k)},rt=function(k){var j=0,F=1;(k[j]===$||k[j]===Ra)&&(k[j]===Ra&&(F=-1),j++);for(var U=[];ct(k[j]);)U.push(k[j++]);var ne=U.length?parseInt(p.apply(void 0,U),10):0;k[j]===z&&j++;for(var ye=[];ct(k[j]);)ye.push(k[j++]);var Fe=ye.length,Ze=Fe?parseInt(p.apply(void 0,ye),10):0;(k[j]===Le||k[j]===V)&&j++;var qe=1;(k[j]===$||k[j]===Ra)&&(k[j]===Ra&&(qe=-1),j++);for(var jt=[];ct(k[j]);)jt.push(k[j++]);var It=jt.length?parseInt(p.apply(void 0,jt),10):0;return F*(ne+Ze*Math.pow(10,-Fe))*Math.pow(10,qe*It)},gt={type:2},xt={type:3},ss={type:4},us={type:13},xs={type:8},Vt={type:21},fs={type:9},Js={type:10},_s={type:11},_e={type:12},dt={type:14},ht={type:23},Mt={type:1},Rt={type:25},Wt={type:24},ms={type:26},ps={type:27},Us={type:28},Zs={type:29},wr={type:31},vr={type:32},Xr=(function(){function k(){this._value=[]}return k.prototype.write=function(j){this._value=this._value.concat(m(j))},k.prototype.read=function(){for(var j=[],F=this.consumeToken();F!==vr;)j.push(F),F=this.consumeToken();return j},k.prototype.consumeToken=function(){var j=this.consumeCodePoint();switch(j){case xa:return this.consumeStringToken(xa);case ho:var F=this.peekCodePoint(0),U=this.peekCodePoint(1),ne=this.peekCodePoint(2);if(is(F)||bt(U,ne)){var ye=es(F,U,ne)?Ta:sa,Fe=this.consumeName();return{type:5,value:Fe,flags:ye}}break;case ei:if(this.peekCodePoint(0)===wa)return this.consumeCodePoint(),us;break;case Ai:return this.consumeStringToken(Ai);case Yr:return gt;case Va:return xt;case M:if(this.peekCodePoint(0)===wa)return this.consumeCodePoint(),dt;break;case $:if(Ye(j,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(j),this.consumeNumericToken();break;case Y:return ss;case Ra:var Ze=j,qe=this.peekCodePoint(0),jt=this.peekCodePoint(1);if(Ye(Ze,qe,jt))return this.reconsumeCodePoint(j),this.consumeNumericToken();if(es(Ze,qe,jt))return this.reconsumeCodePoint(j),this.consumeIdentLikeToken();if(qe===Ra&&jt===Ki)return this.consumeCodePoint(),this.consumeCodePoint(),Wt;break;case z:if(Ye(j,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(j),this.consumeNumericToken();break;case Ni:if(this.peekCodePoint(0)===M)for(this.consumeCodePoint();;){var It=this.consumeCodePoint();if(It===M&&(It=this.consumeCodePoint(),It===Ni))return this.consumeToken();if(It===S)return this.consumeToken()}break;case T:return ms;case L:return ps;case Gn:if(this.peekCodePoint(0)===fo&&this.peekCodePoint(1)===Ra&&this.peekCodePoint(2)===Ra)return this.consumeCodePoint(),this.consumeCodePoint(),Rt;break;case Ka:var Kt=this.peekCodePoint(0),ws=this.peekCodePoint(1),Cr=this.peekCodePoint(2);if(es(Kt,ws,Cr)){var Fe=this.consumeName();return{type:7,value:Fe}}break;case Ia:return Us;case ul:if(bt(j,this.peekCodePoint(0)))return this.reconsumeCodePoint(j),this.consumeIdentLikeToken();break;case hi:return Zs;case To:if(this.peekCodePoint(0)===wa)return this.consumeCodePoint(),xs;break;case Bi:return _s;case fi:return _e;case q:case Xe:var er=this.peekCodePoint(0),Ar=this.peekCodePoint(1);return er===$&&(At(Ar)||Ar===ba)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(j),this.consumeIdentLikeToken();case qi:if(this.peekCodePoint(0)===wa)return this.consumeCodePoint(),fs;if(this.peekCodePoint(0)===qi)return this.consumeCodePoint(),Vt;break;case ki:if(this.peekCodePoint(0)===wa)return this.consumeCodePoint(),Js;break;case S:return vr}return Ge(j)?(this.consumeWhiteSpace(),wr):ct(j)?(this.reconsumeCodePoint(j),this.consumeNumericToken()):Ft(j)?(this.reconsumeCodePoint(j),this.consumeIdentLikeToken()):{type:6,value:p(j)}},k.prototype.consumeCodePoint=function(){var j=this._value.shift();return typeof j>"u"?-1:j},k.prototype.reconsumeCodePoint=function(j){this._value.unshift(j)},k.prototype.peekCodePoint=function(j){return j>=this._value.length?-1:this._value[j]},k.prototype.consumeUnicodeRangeToken=function(){for(var j=[],F=this.consumeCodePoint();At(F)&&j.length<6;)j.push(F),F=this.consumeCodePoint();for(var U=!1;F===ba&&j.length<6;)j.push(F),F=this.consumeCodePoint(),U=!0;if(U){var ne=parseInt(p.apply(void 0,j.map(function(qe){return qe===ba?I:qe})),16),ye=parseInt(p.apply(void 0,j.map(function(qe){return qe===ba?ze:qe})),16);return{type:30,start:ne,end:ye}}var Fe=parseInt(p.apply(void 0,j),16);if(this.peekCodePoint(0)===Ra&&At(this.peekCodePoint(1))){this.consumeCodePoint(),F=this.consumeCodePoint();for(var Ze=[];At(F)&&Ze.length<6;)Ze.push(F),F=this.consumeCodePoint();var ye=parseInt(p.apply(void 0,Ze),16);return{type:30,start:Fe,end:ye}}else return{type:30,start:Fe,end:Fe}},k.prototype.consumeIdentLikeToken=function(){var j=this.consumeName();return j.toLowerCase()==="url"&&this.peekCodePoint(0)===Yr?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Yr?(this.consumeCodePoint(),{type:19,value:j}):{type:20,value:j}},k.prototype.consumeUrlToken=function(){var j=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===S)return{type:22,value:""};var F=this.peekCodePoint(0);if(F===Ai||F===xa){var U=this.consumeStringToken(this.consumeCodePoint());return U.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===S||this.peekCodePoint(0)===Va)?(this.consumeCodePoint(),{type:22,value:U.value}):(this.consumeBadUrlRemnants(),ht)}for(;;){var ne=this.consumeCodePoint();if(ne===S||ne===Va)return{type:22,value:p.apply(void 0,j)};if(Ge(ne))return this.consumeWhiteSpace(),this.peekCodePoint(0)===S||this.peekCodePoint(0)===Va?(this.consumeCodePoint(),{type:22,value:p.apply(void 0,j)}):(this.consumeBadUrlRemnants(),ht);if(ne===xa||ne===Ai||ne===Yr||Ht(ne))return this.consumeBadUrlRemnants(),ht;if(ne===ul)if(bt(ne,this.peekCodePoint(0)))j.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ht;else j.push(ne)}},k.prototype.consumeWhiteSpace=function(){for(;Ge(this.peekCodePoint(0));)this.consumeCodePoint()},k.prototype.consumeBadUrlRemnants=function(){for(;;){var j=this.consumeCodePoint();if(j===Va||j===S)return;bt(j,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},k.prototype.consumeStringSlice=function(j){for(var F=5e4,U="";j>0;){var ne=Math.min(F,j);U+=p.apply(void 0,this._value.splice(0,ne)),j-=ne}return this._value.shift(),U},k.prototype.consumeStringToken=function(j){var F="",U=0;do{var ne=this._value[U];if(ne===S||ne===void 0||ne===j)return F+=this.consumeStringSlice(U),{type:0,value:F};if(ne===ui)return this._value.splice(0,U),Mt;if(ne===ul){var ye=this._value[U+1];ye!==S&&ye!==void 0&&(ye===ui?(F+=this.consumeStringSlice(U),U=-1,this._value.shift()):bt(ne,ye)&&(F+=this.consumeStringSlice(U),F+=p(this.consumeEscapedCodePoint()),U=-1))}U++}while(!0)},k.prototype.consumeNumber=function(){var j=[],F=qn,U=this.peekCodePoint(0);for((U===$||U===Ra)&&j.push(this.consumeCodePoint());ct(this.peekCodePoint(0));)j.push(this.consumeCodePoint());U=this.peekCodePoint(0);var ne=this.peekCodePoint(1);if(U===z&&ct(ne))for(j.push(this.consumeCodePoint(),this.consumeCodePoint()),F=Ao;ct(this.peekCodePoint(0));)j.push(this.consumeCodePoint());U=this.peekCodePoint(0),ne=this.peekCodePoint(1);var ye=this.peekCodePoint(2);if((U===Le||U===V)&&((ne===$||ne===Ra)&&ct(ye)||ct(ne)))for(j.push(this.consumeCodePoint(),this.consumeCodePoint()),F=Ao;ct(this.peekCodePoint(0));)j.push(this.consumeCodePoint());return[rt(j),F]},k.prototype.consumeNumericToken=function(){var j=this.consumeNumber(),F=j[0],U=j[1],ne=this.peekCodePoint(0),ye=this.peekCodePoint(1),Fe=this.peekCodePoint(2);if(es(ne,ye,Fe)){var Ze=this.consumeName();return{type:15,number:F,flags:U,unit:Ze}}return ne===Ii?(this.consumeCodePoint(),{type:16,number:F,flags:U}):{type:17,number:F,flags:U}},k.prototype.consumeEscapedCodePoint=function(){var j=this.consumeCodePoint();if(At(j)){for(var F=p(j);At(this.peekCodePoint(0))&&F.length<6;)F+=p(this.consumeCodePoint());Ge(this.peekCodePoint(0))&&this.consumeCodePoint();var U=parseInt(F,16);return U===0||ot(U)||U>1114111?Et:U}return j===S?Et:j},k.prototype.consumeName=function(){for(var j="";;){var F=this.consumeCodePoint();if(is(F))j+=p(F);else if(bt(F,this.peekCodePoint(0)))j+=p(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(F),j}},k})(),tt=(function(){function k(j){this._tokens=j}return k.create=function(j){var F=new Xr;return F.write(j),new k(F.read())},k.parseValue=function(j){return k.create(j).parseComponentValue()},k.parseValues=function(j){return k.create(j).parseComponentValues()},k.prototype.parseComponentValue=function(){for(var j=this.consumeToken();j.type===31;)j=this.consumeToken();if(j.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(j);var F=this.consumeComponentValue();do j=this.consumeToken();while(j.type===31);if(j.type===32)return F;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},k.prototype.parseComponentValues=function(){for(var j=[];;){var F=this.consumeComponentValue();if(F.type===32)return j;j.push(F),j.push()}},k.prototype.consumeComponentValue=function(){var j=this.consumeToken();switch(j.type){case 11:case 28:case 2:return this.consumeSimpleBlock(j.type);case 19:return this.consumeFunction(j)}return j},k.prototype.consumeSimpleBlock=function(j){for(var F={type:j,values:[]},U=this.consumeToken();;){if(U.type===32||Ca(U,j))return F;this.reconsumeToken(U),F.values.push(this.consumeComponentValue()),U=this.consumeToken()}},k.prototype.consumeFunction=function(j){for(var F={name:j.value,values:[],type:18};;){var U=this.consumeToken();if(U.type===32||U.type===3)return F;this.reconsumeToken(U),F.values.push(this.consumeComponentValue())}},k.prototype.consumeToken=function(){var j=this._tokens.shift();return typeof j>"u"?vr:j},k.prototype.reconsumeToken=function(j){this._tokens.unshift(j)},k})(),cr=function(k){return k.type===15},dn=function(k){return k.type===17},ir=function(k){return k.type===20},Ps=function(k){return k.type===0},sn=function(k,j){return ir(k)&&k.value===j},jr=function(k){return k.type!==31},$r=function(k){return k.type!==31&&k.type!==4},Rr=function(k){var j=[],F=[];return k.forEach(function(U){if(U.type===4){if(F.length===0)throw new Error("Error parsing function args, zero tokens for arg");j.push(F),F=[];return}U.type!==31&&F.push(U)}),F.length&&j.push(F),j},Ca=function(k,j){return j===11&&k.type===12||j===28&&k.type===29?!0:j===2&&k.type===3},kn=function(k){return k.type===17||k.type===15},Sr=function(k){return k.type===16||kn(k)},zn=function(k){return k.length>1?[k[0],k[1]]:[k[0]]},Jr={type:17,number:0,flags:qn},Er={type:16,number:50,flags:qn},nn={type:16,number:100,flags:qn},Qr=function(k,j,F){var U=k[0],ne=k[1];return[xn(U,j),xn(typeof ne<"u"?ne:U,F)]},xn=function(k,j){if(k.type===16)return k.number/100*j;if(cr(k))switch(k.unit){case"rem":case"em":return 16*k.number;case"px":default:return k.number}return k.number},Wn="deg",Sn="grad",Rn="rad",$a="turn",Gr={name:"angle",parse:function(k,j){if(j.type===15)switch(j.unit){case Wn:return Math.PI*j.number/180;case Sn:return Math.PI/200*j.number;case Rn:return j.number;case $a:return Math.PI*2*j.number}throw new Error("Unsupported angle type")}},Qa=function(k){return k.type===15&&(k.unit===Wn||k.unit===Sn||k.unit===Rn||k.unit===$a)},hn=function(k){var j=k.filter(ir).map(function(F){return F.value}).join(" ");switch(j){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Jr,Jr];case"to top":case"bottom":return zr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Jr,nn];case"to right":case"left":return zr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[nn,nn];case"to bottom":case"top":return zr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[nn,Jr];case"to left":case"right":return zr(270)}return 0},zr=function(k){return Math.PI*k/180},ja={name:"color",parse:function(k,j){if(j.type===18){var F=an[j.name];if(typeof F>"u")throw new Error('Attempting to parse an unsupported color function "'+j.name+'"');return F(k,j.values)}if(j.type===5){if(j.value.length===3){var U=j.value.substring(0,1),ne=j.value.substring(1,2),ye=j.value.substring(2,3);return Fn(parseInt(U+U,16),parseInt(ne+ne,16),parseInt(ye+ye,16),1)}if(j.value.length===4){var U=j.value.substring(0,1),ne=j.value.substring(1,2),ye=j.value.substring(2,3),Fe=j.value.substring(3,4);return Fn(parseInt(U+U,16),parseInt(ne+ne,16),parseInt(ye+ye,16),parseInt(Fe+Fe,16)/255)}if(j.value.length===6){var U=j.value.substring(0,2),ne=j.value.substring(2,4),ye=j.value.substring(4,6);return Fn(parseInt(U,16),parseInt(ne,16),parseInt(ye,16),1)}if(j.value.length===8){var U=j.value.substring(0,2),ne=j.value.substring(2,4),ye=j.value.substring(4,6),Fe=j.value.substring(6,8);return Fn(parseInt(U,16),parseInt(ne,16),parseInt(ye,16),parseInt(Fe,16)/255)}}if(j.type===20){var Ze=mi[j.value.toUpperCase()];if(typeof Ze<"u")return Ze}return mi.TRANSPARENT}},wn=function(k){return(255&k)===0},lr=function(k){var j=255&k,F=255&k>>8,U=255&k>>16,ne=255&k>>24;return j<255?"rgba("+ne+","+U+","+F+","+j/255+")":"rgb("+ne+","+U+","+F+")"},Fn=function(k,j,F,U){return(k<<24|j<<16|F<<8|Math.round(U*255)<<0)>>>0},$c=function(k,j){if(k.type===17)return k.number;if(k.type===16){var F=j===3?1:255;return j===3?k.number/100*F:Math.round(k.number/100*F)}return 0},Di=function(k,j){var F=j.filter($r);if(F.length===3){var U=F.map($c),ne=U[0],ye=U[1],Fe=U[2];return Fn(ne,ye,Fe,1)}if(F.length===4){var Ze=F.map($c),ne=Ze[0],ye=Ze[1],Fe=Ze[2],qe=Ze[3];return Fn(ne,ye,Fe,qe)}return 0};function oo(k,j,F){return F<0&&(F+=1),F>=1&&(F-=1),F<1/6?(j-k)*F*6+k:F<1/2?j:F<2/3?(j-k)*6*(2/3-F)+k:k}var Kl=function(k,j){var F=j.filter($r),U=F[0],ne=F[1],ye=F[2],Fe=F[3],Ze=(U.type===17?zr(U.number):Gr.parse(k,U))/(Math.PI*2),qe=Sr(ne)?ne.number/100:0,jt=Sr(ye)?ye.number/100:0,It=typeof Fe<"u"&&Sr(Fe)?xn(Fe,1):1;if(qe===0)return Fn(jt*255,jt*255,jt*255,1);var Kt=jt<=.5?jt*(qe+1):jt+qe-jt*qe,ws=jt*2-Kt,Cr=oo(ws,Kt,Ze+1/3),er=oo(ws,Kt,Ze),Ar=oo(ws,Kt,Ze-1/3);return Fn(Cr*255,er*255,Ar*255,It)},an={hsl:Kl,hsla:Kl,rgb:Di,rgba:Di},oi=function(k,j){return ja.parse(k,tt.create(j).parseComponentValue())},mi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},qo={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(k,j){return j.map(function(F){if(ir(F))switch(F.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Uo={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Da=function(k,j){var F=ja.parse(k,j[0]),U=j[1];return U&&Sr(U)?{color:F,stop:U}:{color:F,stop:null}},pi=function(k,j){var F=k[0],U=k[k.length-1];F.stop===null&&(F.stop=Jr),U.stop===null&&(U.stop=nn);for(var ne=[],ye=0,Fe=0;Fe<k.length;Fe++){var Ze=k[Fe].stop;if(Ze!==null){var qe=xn(Ze,j);qe>ye?ne.push(qe):ne.push(ye),ye=qe}else ne.push(null)}for(var jt=null,Fe=0;Fe<ne.length;Fe++){var It=ne[Fe];if(It===null)jt===null&&(jt=Fe);else if(jt!==null){for(var Kt=Fe-jt,ws=ne[jt-1],Cr=(It-ws)/(Kt+1),er=1;er<=Kt;er++)ne[jt+er-1]=Cr*er;jt=null}}return k.map(function(Ar,Zr){var Or=Ar.color;return{color:Or,stop:Math.max(Math.min(1,ne[Zr]/j),0)}})},li=function(k,j,F){var U=j/2,ne=F/2,ye=xn(k[0],j)-U,Fe=ne-xn(k[1],F);return(Math.atan2(Fe,ye)+Math.PI*2)%(Math.PI*2)},Tl=function(k,j,F){var U=typeof k=="number"?k:li(k,j,F),ne=Math.abs(j*Math.sin(U))+Math.abs(F*Math.cos(U)),ye=j/2,Fe=F/2,Ze=ne/2,qe=Math.sin(U-Math.PI/2)*Ze,jt=Math.cos(U-Math.PI/2)*Ze;return[ne,ye-jt,ye+jt,Fe-qe,Fe+qe]},Ri=function(k,j){return Math.sqrt(k*k+j*j)},Al=function(k,j,F,U,ne){var ye=[[0,0],[0,j],[k,0],[k,j]];return ye.reduce(function(Fe,Ze){var qe=Ze[0],jt=Ze[1],It=Ri(F-qe,U-jt);return(ne?It<Fe.optimumDistance:It>Fe.optimumDistance)?{optimumCorner:Ze,optimumDistance:It}:Fe},{optimumDistance:ne?1/0:-1/0,optimumCorner:null}).optimumCorner},mo=function(k,j,F,U,ne){var ye=0,Fe=0;switch(k.size){case 0:k.shape===0?ye=Fe=Math.min(Math.abs(j),Math.abs(j-U),Math.abs(F),Math.abs(F-ne)):k.shape===1&&(ye=Math.min(Math.abs(j),Math.abs(j-U)),Fe=Math.min(Math.abs(F),Math.abs(F-ne)));break;case 2:if(k.shape===0)ye=Fe=Math.min(Ri(j,F),Ri(j,F-ne),Ri(j-U,F),Ri(j-U,F-ne));else if(k.shape===1){var Ze=Math.min(Math.abs(F),Math.abs(F-ne))/Math.min(Math.abs(j),Math.abs(j-U)),qe=Al(U,ne,j,F,!0),jt=qe[0],It=qe[1];ye=Ri(jt-j,(It-F)/Ze),Fe=Ze*ye}break;case 1:k.shape===0?ye=Fe=Math.max(Math.abs(j),Math.abs(j-U),Math.abs(F),Math.abs(F-ne)):k.shape===1&&(ye=Math.max(Math.abs(j),Math.abs(j-U)),Fe=Math.max(Math.abs(F),Math.abs(F-ne)));break;case 3:if(k.shape===0)ye=Fe=Math.max(Ri(j,F),Ri(j,F-ne),Ri(j-U,F),Ri(j-U,F-ne));else if(k.shape===1){var Ze=Math.max(Math.abs(F),Math.abs(F-ne))/Math.max(Math.abs(j),Math.abs(j-U)),Kt=Al(U,ne,j,F,!1),jt=Kt[0],It=Kt[1];ye=Ri(jt-j,(It-F)/Ze),Fe=Ze*ye}break}return Array.isArray(k.size)&&(ye=xn(k.size[0],U),Fe=k.size.length===2?xn(k.size[1],ne):ye),[ye,Fe]},Ul=function(k,j){var F=zr(180),U=[];return Rr(j).forEach(function(ne,ye){if(ye===0){var Fe=ne[0];if(Fe.type===20&&Fe.value==="to"){F=hn(ne);return}else if(Qa(Fe)){F=Gr.parse(k,Fe);return}}var Ze=Da(k,ne);U.push(Ze)}),{angle:F,stops:U,type:1}},Fo=function(k,j){var F=zr(180),U=[];return Rr(j).forEach(function(ne,ye){if(ye===0){var Fe=ne[0];if(Fe.type===20&&["top","left","right","bottom"].indexOf(Fe.value)!==-1){F=hn(ne);return}else if(Qa(Fe)){F=(Gr.parse(k,Fe)+zr(270))%zr(360);return}}var Ze=Da(k,ne);U.push(Ze)}),{angle:F,stops:U,type:1}},hl=function(k,j){var F=zr(180),U=[],ne=1,ye=0,Fe=3,Ze=[];return Rr(j).forEach(function(qe,jt){var It=qe[0];if(jt===0){if(ir(It)&&It.value==="linear"){ne=1;return}else if(ir(It)&&It.value==="radial"){ne=2;return}}if(It.type===18){if(It.name==="from"){var Kt=ja.parse(k,It.values[0]);U.push({stop:Jr,color:Kt})}else if(It.name==="to"){var Kt=ja.parse(k,It.values[0]);U.push({stop:nn,color:Kt})}else if(It.name==="color-stop"){var ws=It.values.filter($r);if(ws.length===2){var Kt=ja.parse(k,ws[1]),Cr=ws[0];dn(Cr)&&U.push({stop:{type:16,number:Cr.number*100,flags:Cr.flags},color:Kt})}}}}),ne===1?{angle:(F+zr(180))%zr(360),stops:U,type:ne}:{size:Fe,shape:ye,stops:U,position:Ze,type:ne}},Gc="closest-side",fl="farthest-side",Mo="closest-corner",Ec="farthest-corner",Wc="circle",fc="ellipse",el="cover",Tc="contain",Lo=function(k,j){var F=0,U=3,ne=[],ye=[];return Rr(j).forEach(function(Fe,Ze){var qe=!0;if(Ze===0){var jt=!1;qe=Fe.reduce(function(Kt,ws){if(jt)if(ir(ws))switch(ws.value){case"center":return ye.push(Er),Kt;case"top":case"left":return ye.push(Jr),Kt;case"right":case"bottom":return ye.push(nn),Kt}else(Sr(ws)||kn(ws))&&ye.push(ws);else if(ir(ws))switch(ws.value){case Wc:return F=0,!1;case fc:return F=1,!1;case"at":return jt=!0,!1;case Gc:return U=0,!1;case el:case fl:return U=1,!1;case Tc:case Mo:return U=2,!1;case Ec:return U=3,!1}else if(kn(ws)||Sr(ws))return Array.isArray(U)||(U=[]),U.push(ws),!1;return Kt},qe)}if(qe){var It=Da(k,Fe);ne.push(It)}}),{size:U,shape:F,stops:ne,position:ye,type:2}},Fl=function(k,j){var F=0,U=3,ne=[],ye=[];return Rr(j).forEach(function(Fe,Ze){var qe=!0;if(Ze===0?qe=Fe.reduce(function(It,Kt){if(ir(Kt))switch(Kt.value){case"center":return ye.push(Er),!1;case"top":case"left":return ye.push(Jr),!1;case"right":case"bottom":return ye.push(nn),!1}else if(Sr(Kt)||kn(Kt))return ye.push(Kt),!1;return It},qe):Ze===1&&(qe=Fe.reduce(function(It,Kt){if(ir(Kt))switch(Kt.value){case Wc:return F=0,!1;case fc:return F=1,!1;case Tc:case Gc:return U=0,!1;case fl:return U=1,!1;case Mo:return U=2,!1;case el:case Ec:return U=3,!1}else if(kn(Kt)||Sr(Kt))return Array.isArray(U)||(U=[]),U.push(Kt),!1;return It},qe)),qe){var jt=Da(k,Fe);ne.push(jt)}}),{size:U,shape:F,stops:ne,position:ye,type:2}},po=function(k){return k.type===1},mc=function(k){return k.type===2},Uc={name:"image",parse:function(k,j){if(j.type===22){var F={url:j.value,type:0};return k.cache.addImage(j.value),F}if(j.type===18){var U=$l[j.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported image function "'+j.name+'"');return U(k,j.values)}throw new Error("Unsupported image type "+j.type)}};function cd(k){return!(k.type===20&&k.value==="none")&&(k.type!==18||!!$l[k.name])}var $l={"linear-gradient":Ul,"-moz-linear-gradient":Fo,"-ms-linear-gradient":Fo,"-o-linear-gradient":Fo,"-webkit-linear-gradient":Fo,"radial-gradient":Lo,"-moz-radial-gradient":Fl,"-ms-radial-gradient":Fl,"-o-radial-gradient":Fl,"-webkit-radial-gradient":Fl,"-webkit-gradient":hl},Wd={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(k,j){if(j.length===0)return[];var F=j[0];return F.type===20&&F.value==="none"?[]:j.filter(function(U){return $r(U)&&cd(U)}).map(function(U){return Uc.parse(k,U)})}},dd={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(k,j){return j.map(function(F){if(ir(F))switch(F.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},go={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(k,j){return Rr(j).map(function(F){return F.filter(Sr)}).map(zn)}},Fd={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(k,j){return Rr(j).map(function(F){return F.filter(ir).map(function(U){return U.value}).join(" ")}).map(Oo)}},Oo=function(k){switch(k){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},un;(function(k){k.AUTO="auto",k.CONTAIN="contain",k.COVER="cover"})(un||(un={}));var Ml={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(k,j){return Rr(j).map(function(F){return F.filter(Gl)})}},Gl=function(k){return ir(k)||Sr(k)},Wl=function(k){return{name:"border-"+k+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Fc=Wl("top"),Ll=Wl("right"),$i=Wl("bottom"),Yl=Wl("left"),ud=function(k){return{name:"border-radius-"+k,initialValue:"0 0",prefix:!1,type:1,parse:function(j,F){return zn(F.filter(Sr))}}},Gi=ud("top-left"),Yc=ud("top-right"),Io=ud("bottom-right"),Ad=ud("bottom-left"),Xl=function(k){return{name:"border-"+k+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(j,F){switch(F){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},xo=Xl("top"),eo=Xl("right"),Jl=Xl("bottom"),ml=Xl("left"),tl=function(k){return{name:"border-"+k+"-width",initialValue:"0",type:0,prefix:!1,parse:function(j,F){return cr(F)?F.number:0}}},pl=tl("top"),fu=tl("right"),Ol=tl("bottom"),mu=tl("left"),hd={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Qi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(k,j){switch(j){case"rtl":return 1;case"ltr":default:return 0}}},_a={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(k,j){return j.filter(ir).reduce(function(F,U){return F|dr(U.value)},0)}},dr=function(k){switch(k){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Mc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(k,j){switch(j){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gl={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(k,j){return j.type===20&&j.value==="normal"?0:j.type===17||j.type===15?j.number:0}},fd;(function(k){k.NORMAL="normal",k.STRICT="strict"})(fd||(fd={}));var Do={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(k,j){switch(j){case"strict":return fd.STRICT;case"normal":default:return fd.NORMAL}}},Lc={name:"line-height",initialValue:"normal",prefix:!1,type:4},pu=function(k,j){return ir(k)&&k.value==="normal"?1.2*j:k.type===17?j*k.number:Sr(k)?xn(k,j):j},md={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(k,j){return j.type===20&&j.value==="none"?null:Uc.parse(k,j)}},Wi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(k,j){switch(j){case"inside":return 0;case"outside":default:return 1}}},Xc={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(k,j){switch(j){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},xl=function(k){return{name:"margin-"+k,initialValue:"0",prefix:!1,type:4}},Yd=xl("top"),sl=xl("right"),pc=xl("bottom"),Ro=xl("left"),rl={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(k,j){return j.filter(ir).map(function(F){switch(F.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},pd={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(k,j){switch(j){case"break-word":return"break-word";case"normal":default:return"normal"}}},bl=function(k){return{name:"padding-"+k,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},gc=bl("top"),Jc=bl("right"),nl=bl("bottom"),ti=bl("left"),gd={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(k,j){switch(j){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},gu={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(k,j){switch(j){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Tu={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(k,j){return j.length===1&&sn(j[0],"none")?[]:Rr(j).map(function(F){for(var U={color:mi.TRANSPARENT,offsetX:Jr,offsetY:Jr,blur:Jr},ne=0,ye=0;ye<F.length;ye++){var Fe=F[ye];kn(Fe)?(ne===0?U.offsetX=Fe:ne===1?U.offsetY=Fe:U.blur=Fe,ne++):U.color=ja.parse(k,Fe)}return U})}},Zc={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(k,j){switch(j){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},qc={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(k,j){if(j.type===20&&j.value==="none")return null;if(j.type===18){var F=xd[j.name];if(typeof F>"u")throw new Error('Attempting to parse an unsupported transform function "'+j.name+'"');return F(j.values)}return null}},gi=function(k){var j=k.filter(function(F){return F.type===17}).map(function(F){return F.number});return j.length===6?j:null},ed=function(k){var j=k.filter(function(qe){return qe.type===17}).map(function(qe){return qe.number}),F=j[0],U=j[1];j[2],j[3];var ne=j[4],ye=j[5];j[6],j[7],j[8],j[9],j[10],j[11];var Fe=j[12],Ze=j[13];return j[14],j[15],j.length===16?[F,U,ne,ye,Fe,Ze]:null},xd={matrix:gi,matrix3d:ed},X={type:16,number:50,flags:qn},Te=[X,X],at={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(k,j){var F=j.filter(Sr);return F.length!==2?Te:[F[0],F[1]]}},ft={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(k,j){switch(j){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},_t;(function(k){k.NORMAL="normal",k.BREAK_ALL="break-all",k.KEEP_ALL="keep-all"})(_t||(_t={}));for(var Cs={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(k,j){switch(j){case"break-all":return _t.BREAK_ALL;case"keep-all":return _t.KEEP_ALL;case"normal":default:return _t.NORMAL}}},Os={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(k,j){if(j.type===20)return{auto:!0,order:0};if(dn(j))return{auto:!1,order:j.number};throw new Error("Invalid z-index number parsed")}},Tr={name:"time",parse:function(k,j){if(j.type===15)switch(j.unit.toLowerCase()){case"s":return 1e3*j.number;case"ms":return j.number}throw new Error("Unsupported time type")}},Ur={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(k,j){return dn(j)?j.number:1}},fn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(k,j){return j.filter(ir).map(function(F){switch(F.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(F){return F!==0})}},ra={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(k,j){var F=[],U=[];return j.forEach(function(ne){switch(ne.type){case 20:case 0:F.push(ne.value);break;case 17:F.push(ne.number.toString());break;case 4:U.push(F.join(" ")),F.length=0;break}}),F.length&&U.push(F.join(" ")),U.map(function(ne){return ne.indexOf(" ")===-1?ne:"'"+ne+"'"})}},Ua={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},xi={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(k,j){if(dn(j))return j.number;if(ir(j))switch(j.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ba={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(k,j){return j.filter(ir).map(function(F){return F.value})}},Si={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(k,j){switch(j){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},C=function(k,j){return(k&j)!==0},Ce={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(k,j){if(j.length===0)return[];var F=j[0];return F.type===20&&F.value==="none"?[]:j}},P={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(k,j){if(j.length===0)return null;var F=j[0];if(F.type===20&&F.value==="none")return null;for(var U=[],ne=j.filter(jr),ye=0;ye<ne.length;ye++){var Fe=ne[ye],Ze=ne[ye+1];if(Fe.type===20){var qe=Ze&&dn(Ze)?Ze.number:1;U.push({counter:Fe.value,increment:qe})}}return U}},Qe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(k,j){if(j.length===0)return[];for(var F=[],U=j.filter(jr),ne=0;ne<U.length;ne++){var ye=U[ne],Fe=U[ne+1];if(ir(ye)&&ye.value!=="none"){var Ze=Fe&&dn(Fe)?Fe.number:0;F.push({counter:ye.value,reset:Ze})}}return F}},lt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(k,j){return j.filter(cr).map(function(F){return Tr.parse(k,F)})}},it={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(k,j){if(j.length===0)return null;var F=j[0];if(F.type===20&&F.value==="none")return null;var U=[],ne=j.filter(Ps);if(ne.length%2!==0)return null;for(var ye=0;ye<ne.length;ye+=2){var Fe=ne[ye].value,Ze=ne[ye+1].value;U.push({open:Fe,close:Ze})}return U}},Yt=function(k,j,F){if(!k)return"";var U=k[Math.min(j,k.length-1)];return U?F?U.open:U.close:""},Tt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(k,j){return j.length===1&&sn(j[0],"none")?[]:Rr(j).map(function(F){for(var U={color:255,offsetX:Jr,offsetY:Jr,blur:Jr,spread:Jr,inset:!1},ne=0,ye=0;ye<F.length;ye++){var Fe=F[ye];sn(Fe,"inset")?U.inset=!0:kn(Fe)?(ne===0?U.offsetX=Fe:ne===1?U.offsetY=Fe:ne===2?U.blur=Fe:U.spread=Fe,ne++):U.color=ja.parse(k,Fe)}return U})}},xr={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(k,j){var F=[0,1,2],U=[];return j.filter(ir).forEach(function(ne){switch(ne.value){case"stroke":U.push(1);break;case"fill":U.push(0);break;case"markers":U.push(2);break}}),F.forEach(function(ne){U.indexOf(ne)===-1&&U.push(ne)}),U}},wt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Xt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(k,j){return cr(j)?j.number:0}},mn=(function(){function k(j,F){var U,ne;this.animationDuration=gs(j,lt,F.animationDuration),this.backgroundClip=gs(j,qo,F.backgroundClip),this.backgroundColor=gs(j,Uo,F.backgroundColor),this.backgroundImage=gs(j,Wd,F.backgroundImage),this.backgroundOrigin=gs(j,dd,F.backgroundOrigin),this.backgroundPosition=gs(j,go,F.backgroundPosition),this.backgroundRepeat=gs(j,Fd,F.backgroundRepeat),this.backgroundSize=gs(j,Ml,F.backgroundSize),this.borderTopColor=gs(j,Fc,F.borderTopColor),this.borderRightColor=gs(j,Ll,F.borderRightColor),this.borderBottomColor=gs(j,$i,F.borderBottomColor),this.borderLeftColor=gs(j,Yl,F.borderLeftColor),this.borderTopLeftRadius=gs(j,Gi,F.borderTopLeftRadius),this.borderTopRightRadius=gs(j,Yc,F.borderTopRightRadius),this.borderBottomRightRadius=gs(j,Io,F.borderBottomRightRadius),this.borderBottomLeftRadius=gs(j,Ad,F.borderBottomLeftRadius),this.borderTopStyle=gs(j,xo,F.borderTopStyle),this.borderRightStyle=gs(j,eo,F.borderRightStyle),this.borderBottomStyle=gs(j,Jl,F.borderBottomStyle),this.borderLeftStyle=gs(j,ml,F.borderLeftStyle),this.borderTopWidth=gs(j,pl,F.borderTopWidth),this.borderRightWidth=gs(j,fu,F.borderRightWidth),this.borderBottomWidth=gs(j,Ol,F.borderBottomWidth),this.borderLeftWidth=gs(j,mu,F.borderLeftWidth),this.boxShadow=gs(j,Tt,F.boxShadow),this.color=gs(j,hd,F.color),this.direction=gs(j,Qi,F.direction),this.display=gs(j,_a,F.display),this.float=gs(j,Mc,F.cssFloat),this.fontFamily=gs(j,ra,F.fontFamily),this.fontSize=gs(j,Ua,F.fontSize),this.fontStyle=gs(j,Si,F.fontStyle),this.fontVariant=gs(j,Ba,F.fontVariant),this.fontWeight=gs(j,xi,F.fontWeight),this.letterSpacing=gs(j,gl,F.letterSpacing),this.lineBreak=gs(j,Do,F.lineBreak),this.lineHeight=gs(j,Lc,F.lineHeight),this.listStyleImage=gs(j,md,F.listStyleImage),this.listStylePosition=gs(j,Wi,F.listStylePosition),this.listStyleType=gs(j,Xc,F.listStyleType),this.marginTop=gs(j,Yd,F.marginTop),this.marginRight=gs(j,sl,F.marginRight),this.marginBottom=gs(j,pc,F.marginBottom),this.marginLeft=gs(j,Ro,F.marginLeft),this.opacity=gs(j,Ur,F.opacity);var ye=gs(j,rl,F.overflow);this.overflowX=ye[0],this.overflowY=ye[ye.length>1?1:0],this.overflowWrap=gs(j,pd,F.overflowWrap),this.paddingTop=gs(j,gc,F.paddingTop),this.paddingRight=gs(j,Jc,F.paddingRight),this.paddingBottom=gs(j,nl,F.paddingBottom),this.paddingLeft=gs(j,ti,F.paddingLeft),this.paintOrder=gs(j,xr,F.paintOrder),this.position=gs(j,gu,F.position),this.textAlign=gs(j,gd,F.textAlign),this.textDecorationColor=gs(j,fn,(U=F.textDecorationColor)!==null&&U!==void 0?U:F.color),this.textDecorationLine=gs(j,jn,(ne=F.textDecorationLine)!==null&&ne!==void 0?ne:F.textDecoration),this.textShadow=gs(j,Tu,F.textShadow),this.textTransform=gs(j,Zc,F.textTransform),this.transform=gs(j,qc,F.transform),this.transformOrigin=gs(j,at,F.transformOrigin),this.visibility=gs(j,ft,F.visibility),this.webkitTextStrokeColor=gs(j,wt,F.webkitTextStrokeColor),this.webkitTextStrokeWidth=gs(j,Xt,F.webkitTextStrokeWidth),this.wordBreak=gs(j,Cs,F.wordBreak),this.zIndex=gs(j,Os,F.zIndex)}return k.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},k.prototype.isTransparent=function(){return wn(this.backgroundColor)},k.prototype.isTransformed=function(){return this.transform!==null},k.prototype.isPositioned=function(){return this.position!==0},k.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},k.prototype.isFloating=function(){return this.float!==0},k.prototype.isInlineLevel=function(){return C(this.display,4)||C(this.display,33554432)||C(this.display,268435456)||C(this.display,536870912)||C(this.display,67108864)||C(this.display,134217728)},k})(),or=(function(){function k(j,F){this.content=gs(j,Ce,F.content),this.quotes=gs(j,it,F.quotes)}return k})(),Qs=(function(){function k(j,F){this.counterIncrement=gs(j,P,F.counterIncrement),this.counterReset=gs(j,Qe,F.counterReset)}return k})(),gs=function(k,j,F){var U=new Xr,ne=F!==null&&typeof F<"u"?F.toString():j.initialValue;U.write(ne);var ye=new tt(U.read());switch(j.type){case 2:var Fe=ye.parseComponentValue();return j.parse(k,ir(Fe)?Fe.value:j.initialValue);case 0:return j.parse(k,ye.parseComponentValue());case 1:return j.parse(k,ye.parseComponentValues());case 4:return ye.parseComponentValue();case 3:switch(j.format){case"angle":return Gr.parse(k,ye.parseComponentValue());case"color":return ja.parse(k,ye.parseComponentValue());case"image":return Uc.parse(k,ye.parseComponentValue());case"length":var Ze=ye.parseComponentValue();return kn(Ze)?Ze:Jr;case"length-percentage":var qe=ye.parseComponentValue();return Sr(qe)?qe:Jr;case"time":return Tr.parse(k,ye.parseComponentValue())}break}},Fa="data-html2canvas-debug",An=function(k){var j=k.getAttribute(Fa);switch(j){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Wr=function(k,j){var F=An(k);return F===1||j===F},ln=(function(){function k(j,F){if(this.context=j,this.textNodes=[],this.elements=[],this.flags=0,Wr(F,3))debugger;this.styles=new mn(j,window.getComputedStyle(F,null)),Zd(F)&&(this.styles.animationDuration.some(function(U){return U>0})&&(F.style.animationDuration="0s"),this.styles.transform!==null&&(F.style.transform="none")),this.bounds=o(this.context,F),Wr(F,4)&&(this.flags|=16)}return k})(),En="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tn=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ma=0;Ma<sr.length;Ma++)Tn[sr.charCodeAt(Ma)]=Ma;for(var Vr=function(k){var j=k.length*.75,F=k.length,U,ne=0,ye,Fe,Ze,qe;k[k.length-1]==="="&&(j--,k[k.length-2]==="="&&j--);var jt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(j):new Array(j),It=Array.isArray(jt)?jt:new Uint8Array(jt);for(U=0;U<F;U+=4)ye=Tn[k.charCodeAt(U)],Fe=Tn[k.charCodeAt(U+1)],Ze=Tn[k.charCodeAt(U+2)],qe=Tn[k.charCodeAt(U+3)],It[ne++]=ye<<2|Fe>>4,It[ne++]=(Fe&15)<<4|Ze>>2,It[ne++]=(Ze&3)<<6|qe&63;return jt},na=function(k){for(var j=k.length,F=[],U=0;U<j;U+=2)F.push(k[U+1]<<8|k[U]);return F},Qn=function(k){for(var j=k.length,F=[],U=0;U<j;U+=4)F.push(k[U+3]<<24|k[U+2]<<16|k[U+1]<<8|k[U]);return F},Fr=5,on=11,bo=2,Zl=on-Fr,vl=65536>>Fr,Yi=1<<Fr,vo=Yi-1,Ga=1024>>Fr,Uu=vl+Ga,td=Uu,al=32,il=td+al,bi=65536>>on,Xd=1<<Zl,xc=Xd-1,bn=function(k,j,F){return k.slice?k.slice(j,F):new Uint16Array(Array.prototype.slice.call(k,j,F))},ma=function(k,j,F){return k.slice?k.slice(j,F):new Uint32Array(Array.prototype.slice.call(k,j,F))},si=function(k,j){var F=Vr(k),U=Array.isArray(F)?Qn(F):new Uint32Array(F),ne=Array.isArray(F)?na(F):new Uint16Array(F),ye=24,Fe=bn(ne,ye/2,U[4]/2),Ze=U[5]===2?bn(ne,(ye+U[4])/2):ma(U,Math.ceil((ye+U[4])/4));return new bd(U[0],U[1],U[2],U[3],Fe,Ze)},bd=(function(){function k(j,F,U,ne,ye,Fe){this.initialValue=j,this.errorValue=F,this.highStart=U,this.highValueIndex=ne,this.index=ye,this.data=Fe}return k.prototype.get=function(j){var F;if(j>=0){if(j<55296||j>56319&&j<=65535)return F=this.index[j>>Fr],F=(F<<bo)+(j&vo),this.data[F];if(j<=65535)return F=this.index[vl+(j-55296>>Fr)],F=(F<<bo)+(j&vo),this.data[F];if(j<this.highStart)return F=il-bi+(j>>on),F=this.index[F],F+=j>>Fr&xc,F=this.index[F],F=(F<<bo)+(j&vo),this.data[F];if(j<=1114111)return this.data[this.highValueIndex]}return this.errorValue},k})(),ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bc=typeof Uint8Array>"u"?[]:new Uint8Array(256),Qo=0;Qo<ql.length;Qo++)bc[ql.charCodeAt(Qo)]=Qo;var ec=1,aa=2,Pa=3,_n=4,Xi=5,sd=7,xu=8,Md=9,Fu=10,nA=11,aA=12,iA=13,ol=14,Ei=15,oA=function(k){for(var j=[],F=0,U=k.length;F<U;){var ne=k.charCodeAt(F++);if(ne>=55296&&ne<=56319&&F<U){var ye=k.charCodeAt(F++);(ye&64512)===56320?j.push(((ne&1023)<<10)+(ye&1023)+65536):(j.push(ne),F--)}else j.push(ne)}return j},Ld=function(){for(var k=[],j=0;j<arguments.length;j++)k[j]=arguments[j];if(String.fromCodePoint)return String.fromCodePoint.apply(String,k);var F=k.length;if(!F)return"";for(var U=[],ne=-1,ye="";++ne<F;){var Fe=k[ne];Fe<=65535?U.push(Fe):(Fe-=65536,U.push((Fe>>10)+55296,Fe%1024+56320)),(ne+1===F||U.length>16384)&&(ye+=String.fromCharCode.apply(String,U),U.length=0)}return ye},lA=si(En),Il="",Oc="",cA=function(k){return lA.get(k)},QA=function(k,j,F){var U=F-2,ne=j[U],ye=j[F-1],Fe=j[F];if(ye===aa&&Fe===Pa)return Il;if(ye===aa||ye===Pa||ye===_n||Fe===aa||Fe===Pa||Fe===_n)return Oc;if(ye===xu&&[xu,Md,nA,aA].indexOf(Fe)!==-1||(ye===nA||ye===Md)&&(Fe===Md||Fe===Fu)||(ye===aA||ye===Fu)&&Fe===Fu||Fe===iA||Fe===Xi||Fe===sd||ye===ec)return Il;if(ye===iA&&Fe===ol){for(;ne===Xi;)ne=j[--U];if(ne===ol)return Il}if(ye===Ei&&Fe===Ei){for(var Ze=0;ne===Ei;)Ze++,ne=j[--U];if(Ze%2===0)return Il}return Oc},_A=function(k){var j=oA(k),F=j.length,U=0,ne=0,ye=j.map(cA);return{next:function(){if(U>=F)return{done:!0,value:null};for(var Fe=Il;U<F&&(Fe=QA(j,ye,++U))===Il;);if(Fe!==Il||U===F){var Ze=Ld.apply(null,j.slice(ne,U));return ne=U,{value:Ze,done:!1}}return{done:!0,value:null}}}},Qh=function(k){for(var j=_A(k),F=[],U;!(U=j.next()).done;)U.value&&F.push(U.value.slice());return F},_h=function(k){var j=123;if(k.createRange){var F=k.createRange();if(F.getBoundingClientRect){var U=k.createElement("boundtest");U.style.height=j+"px",U.style.display="block",k.body.appendChild(U),F.selectNode(U);var ne=F.getBoundingClientRect(),ye=Math.round(ne.height);if(k.body.removeChild(U),ye===j)return!0}}return!1},PA=function(k){var j=k.createElement("boundtest");j.style.width="50px",j.style.display="block",j.style.fontSize="12px",j.style.letterSpacing="0px",j.style.wordSpacing="0px",k.body.appendChild(j);var F=k.createRange();j.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var U=j.firstChild,ne=m(U.data).map(function(qe){return p(qe)}),ye=0,Fe={},Ze=ne.every(function(qe,jt){F.setStart(U,ye),F.setEnd(U,ye+qe.length);var It=F.getBoundingClientRect();ye+=qe.length;var Kt=It.x>Fe.x||It.y>Fe.y;return Fe=It,jt===0?!0:Kt});return k.body.removeChild(j),Ze},dA=function(){return typeof new Image().crossOrigin<"u"},tc=function(){return typeof new XMLHttpRequest().responseType=="string"},vc=function(k){var j=new Image,F=k.createElement("canvas"),U=F.getContext("2d");if(!U)return!1;j.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{U.drawImage(j,0,0),F.toDataURL()}catch{return!1}return!0},bu=function(k){return k[0]===0&&k[1]===255&&k[2]===0&&k[3]===255},uA=function(k){var j=k.createElement("canvas"),F=100;j.width=F,j.height=F;var U=j.getContext("2d");if(!U)return Promise.reject(!1);U.fillStyle="rgb(0, 255, 0)",U.fillRect(0,0,F,F);var ne=new Image,ye=j.toDataURL();ne.src=ye;var Fe=HA(F,F,0,0,ne);return U.fillStyle="red",U.fillRect(0,0,F,F),Mu(Fe).then(function(Ze){U.drawImage(Ze,0,0);var qe=U.getImageData(0,0,F,F).data;U.fillStyle="red",U.fillRect(0,0,F,F);var jt=k.createElement("div");return jt.style.backgroundImage="url("+ye+")",jt.style.height=F+"px",bu(qe)?Mu(HA(F,F,0,0,jt)):Promise.reject(!1)}).then(function(Ze){return U.drawImage(Ze,0,0),bu(U.getImageData(0,0,F,F).data)}).catch(function(){return!1})},HA=function(k,j,F,U,ne){var ye="http://www.w3.org/2000/svg",Fe=document.createElementNS(ye,"svg"),Ze=document.createElementNS(ye,"foreignObject");return Fe.setAttributeNS(null,"width",k.toString()),Fe.setAttributeNS(null,"height",j.toString()),Ze.setAttributeNS(null,"width","100%"),Ze.setAttributeNS(null,"height","100%"),Ze.setAttributeNS(null,"x",F.toString()),Ze.setAttributeNS(null,"y",U.toString()),Ze.setAttributeNS(null,"externalResourcesRequired","true"),Fe.appendChild(Ze),Ze.appendChild(ne),Fe},Mu=function(k){return new Promise(function(j,F){var U=new Image;U.onload=function(){return j(U)},U.onerror=F,U.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(k))})},to={get SUPPORT_RANGE_BOUNDS(){var k=_h(document);return Object.defineProperty(to,"SUPPORT_RANGE_BOUNDS",{value:k}),k},get SUPPORT_WORD_BREAKING(){var k=to.SUPPORT_RANGE_BOUNDS&&PA(document);return Object.defineProperty(to,"SUPPORT_WORD_BREAKING",{value:k}),k},get SUPPORT_SVG_DRAWING(){var k=vc(document);return Object.defineProperty(to,"SUPPORT_SVG_DRAWING",{value:k}),k},get SUPPORT_FOREIGNOBJECT_DRAWING(){var k=typeof Array.from=="function"&&typeof window.fetch=="function"?uA(document):Promise.resolve(!1);return Object.defineProperty(to,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:k}),k},get SUPPORT_CORS_IMAGES(){var k=dA();return Object.defineProperty(to,"SUPPORT_CORS_IMAGES",{value:k}),k},get SUPPORT_RESPONSE_TYPE(){var k=tc();return Object.defineProperty(to,"SUPPORT_RESPONSE_TYPE",{value:k}),k},get SUPPORT_CORS_XHR(){var k="withCredentials"in new XMLHttpRequest;return Object.defineProperty(to,"SUPPORT_CORS_XHR",{value:k}),k},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var k=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(to,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:k}),k}},Jd=(function(){function k(j,F){this.text=j,this.bounds=F}return k})(),zA=function(k,j,F,U){var ne=Nf(j,F),ye=[],Fe=0;return ne.forEach(function(Ze){if(F.textDecorationLine.length||Ze.trim().length>0)if(to.SUPPORT_RANGE_BOUNDS){var qe=AA(U,Fe,Ze.length).getClientRects();if(qe.length>1){var jt=vu(Ze),It=0;jt.forEach(function(ws){ye.push(new Jd(ws,A.fromDOMRectList(k,AA(U,It+Fe,ws.length).getClientRects()))),It+=ws.length})}else ye.push(new Jd(Ze,A.fromDOMRectList(k,qe)))}else{var Kt=U.splitText(Ze.length);ye.push(new Jd(Ze,VA(k,U))),U=Kt}else to.SUPPORT_RANGE_BOUNDS||(U=U.splitText(Ze.length));Fe+=Ze.length}),ye},VA=function(k,j){var F=j.ownerDocument;if(F){var U=F.createElement("html2canvaswrapper");U.appendChild(j.cloneNode(!0));var ne=j.parentNode;if(ne){ne.replaceChild(U,j);var ye=o(k,U);return U.firstChild&&ne.replaceChild(U.firstChild,U),ye}}return A.EMPTY},AA=function(k,j,F){var U=k.ownerDocument;if(!U)throw new Error("Node has no owner document");var ne=U.createRange();return ne.setStart(k,j),ne.setEnd(k,j+F),ne},vu=function(k){if(to.SUPPORT_NATIVE_TEXT_SEGMENTATION){var j=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(j.segment(k)).map(function(F){return F.segment})}return Qh(k)},KA=function(k,j){if(to.SUPPORT_NATIVE_TEXT_SEGMENTATION){var F=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(F.segment(k)).map(function(U){return U.segment})}return Ph(k,j)},Nf=function(k,j){return j.letterSpacing!==0?vu(k):KA(k,j)},p0=[32,160,4961,65792,65793,4153,4241],Ph=function(k,j){for(var F=ji(k,{lineBreak:j.lineBreak,wordBreak:j.overflowWrap==="break-word"?"break-word":j.wordBreak}),U=[],ne,ye=function(){if(ne.value){var Fe=ne.value.slice(),Ze=m(Fe),qe="";Ze.forEach(function(jt){p0.indexOf(jt)===-1?qe+=p(jt):(qe.length&&U.push(qe),U.push(p(jt)),qe="")}),qe.length&&U.push(qe)}};!(ne=F.next()).done;)ye();return U},Lu=(function(){function k(j,F,U){this.text=Cf(F.data,U.textTransform),this.textBounds=zA(j,this.text,U,F)}return k})(),Cf=function(k,j){switch(j){case 1:return k.toLowerCase();case 3:return k.replace($A,GA);case 2:return k.toUpperCase();default:return k}},$A=/(^|\s|:|-|\(|\))([a-z])/g,GA=function(k,j,F){return k.length>0?j+F.toUpperCase():k},Hh=(function(k){n(j,k);function j(F,U){var ne=k.call(this,F,U)||this;return ne.src=U.currentSrc||U.src,ne.intrinsicWidth=U.naturalWidth,ne.intrinsicHeight=U.naturalHeight,ne.context.cache.addImage(ne.src),ne}return j})(ln),Ou=(function(k){n(j,k);function j(F,U){var ne=k.call(this,F,U)||this;return ne.canvas=U,ne.intrinsicWidth=U.width,ne.intrinsicHeight=U.height,ne}return j})(ln),WA=(function(k){n(j,k);function j(F,U){var ne=k.call(this,F,U)||this,ye=new XMLSerializer,Fe=o(F,U);return U.setAttribute("width",Fe.width+"px"),U.setAttribute("height",Fe.height+"px"),ne.svg="data:image/svg+xml,"+encodeURIComponent(ye.serializeToString(U)),ne.intrinsicWidth=U.width.baseVal.value,ne.intrinsicHeight=U.height.baseVal.value,ne.context.cache.addImage(ne.svg),ne}return j})(ln),yu=(function(k){n(j,k);function j(F,U){var ne=k.call(this,F,U)||this;return ne.value=U.value,ne}return j})(ln),YA=(function(k){n(j,k);function j(F,U){var ne=k.call(this,F,U)||this;return ne.start=U.start,ne.reversed=typeof U.reversed=="boolean"&&U.reversed===!0,ne}return j})(ln),Bf=[{type:15,flags:0,unit:"px",number:3}],zh=[{type:16,flags:0,number:50}],kf=function(k){return k.width>k.height?new A(k.left+(k.width-k.height)/2,k.top,k.height,k.height):k.width<k.height?new A(k.left,k.top+(k.height-k.width)/2,k.width,k.width):k},Vh=function(k){var j=k.type===vd?new Array(k.value.length+1).join(""):k.value;return j.length===0?k.placeholder||"":j},hA="checkbox",fA="radio",vd="password",yc=707406591,Ic=(function(k){n(j,k);function j(F,U){var ne=k.call(this,F,U)||this;switch(ne.type=U.type.toLowerCase(),ne.checked=U.checked,ne.value=Vh(U),(ne.type===hA||ne.type===fA)&&(ne.styles.backgroundColor=3739148031,ne.styles.borderTopColor=ne.styles.borderRightColor=ne.styles.borderBottomColor=ne.styles.borderLeftColor=2779096575,ne.styles.borderTopWidth=ne.styles.borderRightWidth=ne.styles.borderBottomWidth=ne.styles.borderLeftWidth=1,ne.styles.borderTopStyle=ne.styles.borderRightStyle=ne.styles.borderBottomStyle=ne.styles.borderLeftStyle=1,ne.styles.backgroundClip=[0],ne.styles.backgroundOrigin=[0],ne.bounds=kf(ne.bounds)),ne.type){case hA:ne.styles.borderTopRightRadius=ne.styles.borderTopLeftRadius=ne.styles.borderBottomRightRadius=ne.styles.borderBottomLeftRadius=Bf;break;case fA:ne.styles.borderTopRightRadius=ne.styles.borderTopLeftRadius=ne.styles.borderBottomRightRadius=ne.styles.borderBottomLeftRadius=zh;break}return ne}return j})(ln),Sf=(function(k){n(j,k);function j(F,U){var ne=k.call(this,F,U)||this,ye=U.options[U.selectedIndex||0];return ne.value=ye&&ye.text||"",ne}return j})(ln),mA=(function(k){n(j,k);function j(F,U){var ne=k.call(this,F,U)||this;return ne.value=U.value,ne}return j})(ln),yd=(function(k){n(j,k);function j(F,U){var ne=k.call(this,F,U)||this;ne.src=U.src,ne.width=parseInt(U.width,10)||0,ne.height=parseInt(U.height,10)||0,ne.backgroundColor=ne.styles.backgroundColor;try{if(U.contentWindow&&U.contentWindow.document&&U.contentWindow.document.documentElement){ne.tree=XA(F,U.contentWindow.document.documentElement);var ye=U.contentWindow.document.documentElement?oi(F,getComputedStyle(U.contentWindow.document.documentElement).backgroundColor):mi.TRANSPARENT,Fe=U.contentWindow.document.body?oi(F,getComputedStyle(U.contentWindow.document.body).backgroundColor):mi.TRANSPARENT;ne.backgroundColor=wn(ye)?wn(Fe)?ne.styles.backgroundColor:Fe:ye}}catch{}return ne}return j})(ln),wc=["OL","UL","MENU"],Iu=function(k,j,F,U){for(var ne=j.firstChild,ye=void 0;ne;ne=ye)if(ye=ne.nextSibling,JA(ne)&&ne.data.trim().length>0)F.textNodes.push(new Lu(k,ne,F.styles));else if(wd(ne))if(Ru(ne)&&ne.assignedNodes)ne.assignedNodes().forEach(function(Ze){return Iu(k,Ze,F,U)});else{var Fe=Kh(k,ne);Fe.styles.isVisible()&&(Ef(ne,Fe,U)?Fe.flags|=4:Tf(Fe.styles)&&(Fe.flags|=2),wc.indexOf(ne.tagName)!==-1&&(Fe.flags|=8),F.elements.push(Fe),ne.slot,ne.shadowRoot?Iu(k,ne.shadowRoot,Fe,U):!xA(ne)&&!qA(ne)&&!bA(ne)&&Iu(k,ne,Fe,U))}},Kh=function(k,j){return rh(j)?new Hh(k,j):th(j)?new Ou(k,j):qA(j)?new WA(k,j):Du(j)?new yu(k,j):ZA(j)?new YA(k,j):pA(j)?new Ic(k,j):bA(j)?new Sf(k,j):xA(j)?new mA(k,j):Gh(j)?new yd(k,j):new ln(k,j)},XA=function(k,j){var F=Kh(k,j);return F.flags|=4,Iu(k,j,F,F),F},Ef=function(k,j,F){return j.styles.isPositionedWithZIndex()||j.styles.opacity<1||j.styles.isTransformed()||eh(k)&&F.styles.isTransparent()},Tf=function(k){return k.isPositioned()||k.isFloating()},JA=function(k){return k.nodeType===Node.TEXT_NODE},wd=function(k){return k.nodeType===Node.ELEMENT_NODE},Zd=function(k){return wd(k)&&typeof k.style<"u"&&!jd(k)},jd=function(k){return typeof k.className=="object"},Du=function(k){return k.tagName==="LI"},ZA=function(k){return k.tagName==="OL"},pA=function(k){return k.tagName==="INPUT"},$h=function(k){return k.tagName==="HTML"},qA=function(k){return k.tagName==="svg"},eh=function(k){return k.tagName==="BODY"},th=function(k){return k.tagName==="CANVAS"},sh=function(k){return k.tagName==="VIDEO"},rh=function(k){return k.tagName==="IMG"},Gh=function(k){return k.tagName==="IFRAME"},Od=function(k){return k.tagName==="STYLE"},gA=function(k){return k.tagName==="SCRIPT"},xA=function(k){return k.tagName==="TEXTAREA"},bA=function(k){return k.tagName==="SELECT"},Ru=function(k){return k.tagName==="SLOT"},B=function(k){return k.tagName.indexOf("-")>0},D=(function(){function k(){this.counters={}}return k.prototype.getCounterValue=function(j){var F=this.counters[j];return F&&F.length?F[F.length-1]:1},k.prototype.getCounterValues=function(j){var F=this.counters[j];return F||[]},k.prototype.pop=function(j){var F=this;j.forEach(function(U){return F.counters[U].pop()})},k.prototype.parse=function(j){var F=this,U=j.counterIncrement,ne=j.counterReset,ye=!0;U!==null&&U.forEach(function(Ze){var qe=F.counters[Ze.counter];qe&&Ze.increment!==0&&(ye=!1,qe.length||qe.push(1),qe[Math.max(0,qe.length-1)]+=Ze.increment)});var Fe=[];return ye&&ne.forEach(function(Ze){var qe=F.counters[Ze.counter];Fe.push(Ze.counter),qe||(qe=F.counters[Ze.counter]=[]),qe.push(Ze.reset)}),Fe},k})(),se={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},he={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ue={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ie={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Oe=function(k,j,F,U,ne,ye){return k<j||k>F?Hs(k,ne,ye.length>0):U.integers.reduce(function(Fe,Ze,qe){for(;k>=Ze;)k-=Ze,Fe+=U.values[qe];return Fe},"")+ye},Pe=function(k,j,F,U){var ne="";do F||k--,ne=U(k)+ne,k/=j;while(k*j>=j);return ne},Ke=function(k,j,F,U,ne){var ye=F-j+1;return(k<0?"-":"")+(Pe(Math.abs(k),ye,U,function(Fe){return p(Math.floor(Fe%ye)+j)})+ne)},nt=function(k,j,F){F===void 0&&(F=". ");var U=j.length;return Pe(Math.abs(k),U,!1,function(ne){return j[Math.floor(ne%U)]})+F},kt=1,$t=2,st=4,Ut=8,Pt=function(k,j,F,U,ne,ye){if(k<-9999||k>9999)return Hs(k,4,ne.length>0);var Fe=Math.abs(k),Ze=ne;if(Fe===0)return j[0]+Ze;for(var qe=0;Fe>0&&qe<=4;qe++){var jt=Fe%10;jt===0&&C(ye,kt)&&Ze!==""?Ze=j[jt]+Ze:jt>1||jt===1&&qe===0||jt===1&&qe===1&&C(ye,$t)||jt===1&&qe===1&&C(ye,st)&&k>100||jt===1&&qe>1&&C(ye,Ut)?Ze=j[jt]+(qe>0?F[qe-1]:"")+Ze:jt===1&&qe>0&&(Ze=F[qe-1]+Ze),Fe=Math.floor(Fe/10)}return(k<0?U:"")+Ze},bs="",Jt="",ys="",Bs="",Hs=function(k,j,F){var U=F?". ":"",ne=F?"":"",ye=F?", ":"",Fe=F?" ":"";switch(j){case 0:return""+Fe;case 1:return""+Fe;case 2:return""+Fe;case 5:var Ze=Ke(k,48,57,!0,U);return Ze.length<4?"0"+Ze:Ze;case 4:return nt(k,"",ne);case 6:return Oe(k,1,3999,se,3,U).toLowerCase();case 7:return Oe(k,1,3999,se,3,U);case 8:return Ke(k,945,969,!1,U);case 9:return Ke(k,97,122,!1,U);case 10:return Ke(k,65,90,!1,U);case 11:return Ke(k,1632,1641,!0,U);case 12:case 49:return Oe(k,1,9999,he,3,U);case 35:return Oe(k,1,9999,he,3,U).toLowerCase();case 13:return Ke(k,2534,2543,!0,U);case 14:case 30:return Ke(k,6112,6121,!0,U);case 15:return nt(k,"",ne);case 16:return nt(k,"",ne);case 17:case 48:return Pt(k,"",bs,"",ne,$t|st|Ut);case 47:return Pt(k,"",Jt,"",ne,kt|$t|st|Ut);case 42:return Pt(k,"",bs,"",ne,$t|st|Ut);case 41:return Pt(k,"",Jt,"",ne,kt|$t|st|Ut);case 26:return Pt(k,"","",ys,ne,0);case 25:return Pt(k,"","",ys,ne,kt|$t|st);case 31:return Pt(k,"","",Bs,ye,kt|$t|st);case 33:return Pt(k,"","",Bs,ye,0);case 32:return Pt(k,"","",Bs,ye,kt|$t|st);case 18:return Ke(k,2406,2415,!0,U);case 20:return Oe(k,1,19999,Ie,3,U);case 21:return Ke(k,2790,2799,!0,U);case 22:return Ke(k,2662,2671,!0,U);case 22:return Oe(k,1,10999,Ue,3,U);case 23:return nt(k,"");case 24:return nt(k,"");case 27:return Ke(k,3302,3311,!0,U);case 28:return nt(k,"",ne);case 29:return nt(k,"",ne);case 34:return Ke(k,3792,3801,!0,U);case 37:return Ke(k,6160,6169,!0,U);case 38:return Ke(k,4160,4169,!0,U);case 39:return Ke(k,2918,2927,!0,U);case 40:return Ke(k,1776,1785,!0,U);case 43:return Ke(k,3046,3055,!0,U);case 44:return Ke(k,3174,3183,!0,U);case 45:return Ke(k,3664,3673,!0,U);case 46:return Ke(k,3872,3881,!0,U);case 3:default:return Ke(k,48,57,!0,U)}},Ds="data-html2canvas-ignore",Kr=(function(){function k(j,F,U){if(this.context=j,this.options=U,this.scrolledElements=[],this.referenceElement=F,this.counters=new D,this.quoteDepth=0,!F.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(F.ownerDocument.documentElement,!1)}return k.prototype.toIFrame=function(j,F){var U=this,ne=Pn(j,F);if(!ne.contentWindow)return Promise.reject("Unable to find iframe window");var ye=j.defaultView.pageXOffset,Fe=j.defaultView.pageYOffset,Ze=ne.contentWindow,qe=Ze.document,jt=so(ne).then(function(){return c(U,void 0,void 0,function(){var It,Kt;return u(this,function(ws){switch(ws.label){case 0:return this.scrolledElements.forEach(Ln),Ze&&(Ze.scrollTo(F.left,F.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Ze.scrollY!==F.top||Ze.scrollX!==F.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Ze.scrollX-F.left,Ze.scrollY-F.top,0,0))),It=this.options.onclone,Kt=this.clonedReferenceElement,typeof Kt>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:qe.fonts&&qe.fonts.ready?[4,qe.fonts.ready]:[3,2];case 1:ws.sent(),ws.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ca(qe)]:[3,4];case 3:ws.sent(),ws.label=4;case 4:return typeof It=="function"?[2,Promise.resolve().then(function(){return It(qe,Kt)}).then(function(){return ne})]:[2,ne]}})})});return qe.open(),qe.write(ur(document.doctype)+"<html></html>"),_i(this.referenceElement.ownerDocument,ye,Fe),qe.replaceChild(qe.adoptNode(this.documentElement),qe.documentElement),qe.close(),jt},k.prototype.createElementClone=function(j){if(Wr(j,2))debugger;if(th(j))return this.createCanvasClone(j);if(sh(j))return this.createVideoClone(j);if(Od(j))return this.createStyleClone(j);var F=j.cloneNode(!1);return rh(F)&&(rh(j)&&j.currentSrc&&j.currentSrc!==j.src&&(F.src=j.currentSrc,F.srcset=""),F.loading==="lazy"&&(F.loading="eager")),B(F)?this.createCustomElementClone(F):F},k.prototype.createCustomElementClone=function(j){var F=document.createElement("html2canvascustomelement");return _r(j.style,F),F},k.prototype.createStyleClone=function(j){try{var F=j.sheet;if(F&&F.cssRules){var U=[].slice.call(F.cssRules,0).reduce(function(ye,Fe){return Fe&&typeof Fe.cssText=="string"?ye+Fe.cssText:ye},""),ne=j.cloneNode(!1);return ne.textContent=U,ne}}catch(ye){if(this.context.logger.error("Unable to access cssRules property",ye),ye.name!=="SecurityError")throw ye}return j.cloneNode(!1)},k.prototype.createCanvasClone=function(j){var F;if(this.options.inlineImages&&j.ownerDocument){var U=j.ownerDocument.createElement("img");try{return U.src=j.toDataURL(),U}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",j)}}var ne=j.cloneNode(!1);try{ne.width=j.width,ne.height=j.height;var ye=j.getContext("2d"),Fe=ne.getContext("2d");if(Fe)if(!this.options.allowTaint&&ye)Fe.putImageData(ye.getImageData(0,0,j.width,j.height),0,0);else{var Ze=(F=j.getContext("webgl2"))!==null&&F!==void 0?F:j.getContext("webgl");if(Ze){var qe=Ze.getContextAttributes();(qe==null?void 0:qe.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",j)}Fe.drawImage(j,0,0)}return ne}catch{this.context.logger.info("Unable to clone canvas as it is tainted",j)}return ne},k.prototype.createVideoClone=function(j){var F=j.ownerDocument.createElement("canvas");F.width=j.offsetWidth,F.height=j.offsetHeight;var U=F.getContext("2d");try{return U&&(U.drawImage(j,0,0,F.width,F.height),this.options.allowTaint||U.getImageData(0,0,F.width,F.height)),F}catch{this.context.logger.info("Unable to clone video as it is tainted",j)}var ne=j.ownerDocument.createElement("canvas");return ne.width=j.offsetWidth,ne.height=j.offsetHeight,ne},k.prototype.appendChildNode=function(j,F,U){(!wd(F)||!gA(F)&&!F.hasAttribute(Ds)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(F)))&&(!this.options.copyStyles||!wd(F)||!Od(F))&&j.appendChild(this.cloneNode(F,U))},k.prototype.cloneChildNodes=function(j,F,U){for(var ne=this,ye=j.shadowRoot?j.shadowRoot.firstChild:j.firstChild;ye;ye=ye.nextSibling)if(wd(ye)&&Ru(ye)&&typeof ye.assignedNodes=="function"){var Fe=ye.assignedNodes();Fe.length&&Fe.forEach(function(Ze){return ne.appendChildNode(F,Ze,U)})}else this.appendChildNode(F,ye,U)},k.prototype.cloneNode=function(j,F){if(JA(j))return document.createTextNode(j.data);if(!j.ownerDocument)return j.cloneNode(!1);var U=j.ownerDocument.defaultView;if(U&&wd(j)&&(Zd(j)||jd(j))){var ne=this.createElementClone(j);ne.style.transitionProperty="none";var ye=U.getComputedStyle(j),Fe=U.getComputedStyle(j,":before"),Ze=U.getComputedStyle(j,":after");this.referenceElement===j&&Zd(ne)&&(this.clonedReferenceElement=ne),eh(ne)&&Po(ne);var qe=this.counters.parse(new Qs(this.context,ye)),jt=this.resolvePseudoContent(j,ne,Fe,Nr.BEFORE);B(j)&&(F=!0),sh(j)||this.cloneChildNodes(j,ne,F),jt&&ne.insertBefore(jt,ne.firstChild);var It=this.resolvePseudoContent(j,ne,Ze,Nr.AFTER);return It&&ne.appendChild(It),this.counters.pop(qe),(ye&&(this.options.copyStyles||jd(j))&&!Gh(j)||F)&&_r(ye,ne),(j.scrollTop!==0||j.scrollLeft!==0)&&this.scrolledElements.push([ne,j.scrollLeft,j.scrollTop]),(xA(j)||bA(j))&&(xA(ne)||bA(ne))&&(ne.value=j.value),ne}return j.cloneNode(!1)},k.prototype.resolvePseudoContent=function(j,F,U,ne){var ye=this;if(U){var Fe=U.content,Ze=F.ownerDocument;if(!(!Ze||!Fe||Fe==="none"||Fe==="-moz-alt-content"||U.display==="none")){this.counters.parse(new Qs(this.context,U));var qe=new or(this.context,U),jt=Ze.createElement("html2canvaspseudoelement");_r(U,jt),qe.content.forEach(function(Kt){if(Kt.type===0)jt.appendChild(Ze.createTextNode(Kt.value));else if(Kt.type===22){var ws=Ze.createElement("img");ws.src=Kt.value,ws.style.opacity="1",jt.appendChild(ws)}else if(Kt.type===18){if(Kt.name==="attr"){var Cr=Kt.values.filter(ir);Cr.length&&jt.appendChild(Ze.createTextNode(j.getAttribute(Cr[0].value)||""))}else if(Kt.name==="counter"){var er=Kt.values.filter($r),Ar=er[0],Zr=er[1];if(Ar&&ir(Ar)){var Or=ye.counters.getCounterValue(Ar.value),Mr=Zr&&ir(Zr)?Xc.parse(ye.context,Zr.value):3;jt.appendChild(Ze.createTextNode(Hs(Or,Mr,!1)))}}else if(Kt.name==="counters"){var ta=Kt.values.filter($r),Ar=ta[0],Yn=ta[1],Zr=ta[2];if(Ar&&ir(Ar)){var Cn=ye.counters.getCounterValues(Ar.value),Br=Zr&&ir(Zr)?Xc.parse(ye.context,Zr.value):3,da=Yn&&Yn.type===0?Yn.value:"",ya=Cn.map(function(vi){return Hs(vi,Br,!1)}).join(da);jt.appendChild(Ze.createTextNode(ya))}}}else if(Kt.type===20)switch(Kt.value){case"open-quote":jt.appendChild(Ze.createTextNode(Yt(qe.quotes,ye.quoteDepth++,!0)));break;case"close-quote":jt.appendChild(Ze.createTextNode(Yt(qe.quotes,--ye.quoteDepth,!1)));break;default:jt.appendChild(Ze.createTextNode(Kt.value))}}),jt.className=yo+" "+_o;var It=ne===Nr.BEFORE?" "+yo:" "+_o;return jd(F)?F.className.baseValue+=It:F.className+=It,jt}}},k.destroy=function(j){return j.parentNode?(j.parentNode.removeChild(j),!0):!1},k})(),Nr;(function(k){k[k.BEFORE=0]="BEFORE",k[k.AFTER=1]="AFTER"})(Nr||(Nr={}));var Pn=function(k,j){var F=k.createElement("iframe");return F.className="html2canvas-container",F.style.visibility="hidden",F.style.position="fixed",F.style.left="-10000px",F.style.top="0px",F.style.border="0",F.width=j.width.toString(),F.height=j.height.toString(),F.scrolling="no",F.setAttribute(Ds,"true"),k.body.appendChild(F),F},Pr=function(k){return new Promise(function(j){if(k.complete){j();return}if(!k.src){j();return}k.onload=j,k.onerror=j})},ca=function(k){return Promise.all([].slice.call(k.images,0).map(Pr))},so=function(k){return new Promise(function(j,F){var U=k.contentWindow;if(!U)return F("No window assigned for iframe");var ne=U.document;U.onload=k.onload=function(){U.onload=k.onload=null;var ye=setInterval(function(){ne.body.childNodes.length>0&&ne.readyState==="complete"&&(clearInterval(ye),j(k))},50)}})},Mn=["all","d","content"],_r=function(k,j){for(var F=k.length-1;F>=0;F--){var U=k.item(F);Mn.indexOf(U)===-1&&j.style.setProperty(U,k.getPropertyValue(U))}return j},ur=function(k){var j="";return k&&(j+="<!DOCTYPE ",k.name&&(j+=k.name),k.internalSubset&&(j+=k.internalSubset),k.publicId&&(j+='"'+k.publicId+'"'),k.systemId&&(j+='"'+k.systemId+'"'),j+=">"),j},_i=function(k,j,F){k&&k.defaultView&&(j!==k.defaultView.pageXOffset||F!==k.defaultView.pageYOffset)&&k.defaultView.scrollTo(j,F)},Ln=function(k){var j=k[0],F=k[1],U=k[2];j.scrollLeft=F,j.scrollTop=U},Vn=":before",ri=":after",yo="___html2canvas___pseudoelement_before",_o="___html2canvas___pseudoelement_after",La=`{
    content: "" !important;
    display: none !important;
}`,Po=function(k){yl(k,"."+yo+Vn+La+`
         .`+_o+ri+La)},yl=function(k,j){var F=k.ownerDocument;if(F){var U=F.createElement("style");U.textContent=j,k.appendChild(U)}},Pi=(function(){function k(){}return k.getOrigin=function(j){var F=k._link;return F?(F.href=j,F.href=F.href,F.protocol+F.hostname+F.port):"about:blank"},k.isSameOrigin=function(j){return k.getOrigin(j)===k._origin},k.setContext=function(j){k._link=j.document.createElement("a"),k._origin=k.getOrigin(j.location.href)},k._origin="about:blank",k})(),ia=(function(){function k(j,F){this.context=j,this._options=F,this._cache={}}return k.prototype.addImage=function(j){var F=Promise.resolve();return this.has(j)||(cl(j)||Ho(j))&&(this._cache[j]=this.loadImage(j)).catch(function(){}),F},k.prototype.match=function(j){return this._cache[j]},k.prototype.loadImage=function(j){return c(this,void 0,void 0,function(){var F,U,ne,ye,Fe=this;return u(this,function(Ze){switch(Ze.label){case 0:return F=Pi.isSameOrigin(j),U=!ll(j)&&this._options.useCORS===!0&&to.SUPPORT_CORS_IMAGES&&!F,ne=!ll(j)&&!F&&!cl(j)&&typeof this._options.proxy=="string"&&to.SUPPORT_CORS_XHR&&!U,!F&&this._options.allowTaint===!1&&!ll(j)&&!cl(j)&&!ne&&!U?[2]:(ye=j,ne?[4,this.proxy(ye)]:[3,2]);case 1:ye=Ze.sent(),Ze.label=2;case 2:return this.context.logger.debug("Added image "+j.substring(0,256)),[4,new Promise(function(qe,jt){var It=new Image;It.onload=function(){return qe(It)},It.onerror=jt,(Wa(ye)||U)&&(It.crossOrigin="anonymous"),It.src=ye,It.complete===!0&&setTimeout(function(){return qe(It)},500),Fe._options.imageTimeout>0&&setTimeout(function(){return jt("Timed out ("+Fe._options.imageTimeout+"ms) loading image")},Fe._options.imageTimeout)})];case 3:return[2,Ze.sent()]}})})},k.prototype.has=function(j){return typeof this._cache[j]<"u"},k.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},k.prototype.proxy=function(j){var F=this,U=this._options.proxy;if(!U)throw new Error("No proxy defined");var ne=j.substring(0,256);return new Promise(function(ye,Fe){var Ze=to.SUPPORT_RESPONSE_TYPE?"blob":"text",qe=new XMLHttpRequest;qe.onload=function(){if(qe.status===200)if(Ze==="text")ye(qe.response);else{var Kt=new FileReader;Kt.addEventListener("load",function(){return ye(Kt.result)},!1),Kt.addEventListener("error",function(ws){return Fe(ws)},!1),Kt.readAsDataURL(qe.response)}else Fe("Failed to proxy resource "+ne+" with status code "+qe.status)},qe.onerror=Fe;var jt=U.indexOf("?")>-1?"&":"?";if(qe.open("GET",""+U+jt+"url="+encodeURIComponent(j)+"&responseType="+Ze),Ze!=="text"&&qe instanceof XMLHttpRequest&&(qe.responseType=Ze),F._options.imageTimeout){var It=F._options.imageTimeout;qe.timeout=It,qe.ontimeout=function(){return Fe("Timed out ("+It+"ms) proxying "+ne)}}qe.send()})},k})(),cn=/^data:image\/svg\+xml/i,Ji=/^data:image\/.*;base64,/i,Ha=/^data:image\/.*/i,Ho=function(k){return to.SUPPORT_SVG_DRAWING||!Ya(k)},ll=function(k){return Ha.test(k)},Wa=function(k){return Ji.test(k)},cl=function(k){return k.substr(0,4)==="blob"},Ya=function(k){return k.substr(-3).toLowerCase()==="svg"||cn.test(k)},Ys=(function(){function k(j,F){this.type=0,this.x=j,this.y=F}return k.prototype.add=function(j,F){return new k(this.x+j,this.y+F)},k})(),ni=function(k,j,F){return new Ys(k.x+(j.x-k.x)*F,k.y+(j.y-k.y)*F)},wo=(function(){function k(j,F,U,ne){this.type=1,this.start=j,this.startControl=F,this.endControl=U,this.end=ne}return k.prototype.subdivide=function(j,F){var U=ni(this.start,this.startControl,j),ne=ni(this.startControl,this.endControl,j),ye=ni(this.endControl,this.end,j),Fe=ni(U,ne,j),Ze=ni(ne,ye,j),qe=ni(Fe,Ze,j);return F?new k(this.start,U,Fe,qe):new k(qe,Ze,ye,this.end)},k.prototype.add=function(j,F){return new k(this.start.add(j,F),this.startControl.add(j,F),this.endControl.add(j,F),this.end.add(j,F))},k.prototype.reverse=function(){return new k(this.end,this.endControl,this.startControl,this.start)},k})(),ci=function(k){return k.type===1},sc=(function(){function k(j){var F=j.styles,U=j.bounds,ne=Qr(F.borderTopLeftRadius,U.width,U.height),ye=ne[0],Fe=ne[1],Ze=Qr(F.borderTopRightRadius,U.width,U.height),qe=Ze[0],jt=Ze[1],It=Qr(F.borderBottomRightRadius,U.width,U.height),Kt=It[0],ws=It[1],Cr=Qr(F.borderBottomLeftRadius,U.width,U.height),er=Cr[0],Ar=Cr[1],Zr=[];Zr.push((ye+qe)/U.width),Zr.push((er+Kt)/U.width),Zr.push((Fe+Ar)/U.height),Zr.push((jt+ws)/U.height);var Or=Math.max.apply(Math,Zr);Or>1&&(ye/=Or,Fe/=Or,qe/=Or,jt/=Or,Kt/=Or,ws/=Or,er/=Or,Ar/=Or);var Mr=U.width-qe,ta=U.height-ws,Yn=U.width-Kt,Cn=U.height-Ar,Br=F.borderTopWidth,da=F.borderRightWidth,ya=F.borderBottomWidth,rn=F.borderLeftWidth,jo=xn(F.paddingTop,j.bounds.width),vi=xn(F.paddingRight,j.bounds.width),_c=xn(F.paddingBottom,j.bounds.width),ai=xn(F.paddingLeft,j.bounds.width);this.topLeftBorderDoubleOuterBox=ye>0||Fe>0?ea(U.left+rn/3,U.top+Br/3,ye-rn/3,Fe-Br/3,Un.TOP_LEFT):new Ys(U.left+rn/3,U.top+Br/3),this.topRightBorderDoubleOuterBox=ye>0||Fe>0?ea(U.left+Mr,U.top+Br/3,qe-da/3,jt-Br/3,Un.TOP_RIGHT):new Ys(U.left+U.width-da/3,U.top+Br/3),this.bottomRightBorderDoubleOuterBox=Kt>0||ws>0?ea(U.left+Yn,U.top+ta,Kt-da/3,ws-ya/3,Un.BOTTOM_RIGHT):new Ys(U.left+U.width-da/3,U.top+U.height-ya/3),this.bottomLeftBorderDoubleOuterBox=er>0||Ar>0?ea(U.left+rn/3,U.top+Cn,er-rn/3,Ar-ya/3,Un.BOTTOM_LEFT):new Ys(U.left+rn/3,U.top+U.height-ya/3),this.topLeftBorderDoubleInnerBox=ye>0||Fe>0?ea(U.left+rn*2/3,U.top+Br*2/3,ye-rn*2/3,Fe-Br*2/3,Un.TOP_LEFT):new Ys(U.left+rn*2/3,U.top+Br*2/3),this.topRightBorderDoubleInnerBox=ye>0||Fe>0?ea(U.left+Mr,U.top+Br*2/3,qe-da*2/3,jt-Br*2/3,Un.TOP_RIGHT):new Ys(U.left+U.width-da*2/3,U.top+Br*2/3),this.bottomRightBorderDoubleInnerBox=Kt>0||ws>0?ea(U.left+Yn,U.top+ta,Kt-da*2/3,ws-ya*2/3,Un.BOTTOM_RIGHT):new Ys(U.left+U.width-da*2/3,U.top+U.height-ya*2/3),this.bottomLeftBorderDoubleInnerBox=er>0||Ar>0?ea(U.left+rn*2/3,U.top+Cn,er-rn*2/3,Ar-ya*2/3,Un.BOTTOM_LEFT):new Ys(U.left+rn*2/3,U.top+U.height-ya*2/3),this.topLeftBorderStroke=ye>0||Fe>0?ea(U.left+rn/2,U.top+Br/2,ye-rn/2,Fe-Br/2,Un.TOP_LEFT):new Ys(U.left+rn/2,U.top+Br/2),this.topRightBorderStroke=ye>0||Fe>0?ea(U.left+Mr,U.top+Br/2,qe-da/2,jt-Br/2,Un.TOP_RIGHT):new Ys(U.left+U.width-da/2,U.top+Br/2),this.bottomRightBorderStroke=Kt>0||ws>0?ea(U.left+Yn,U.top+ta,Kt-da/2,ws-ya/2,Un.BOTTOM_RIGHT):new Ys(U.left+U.width-da/2,U.top+U.height-ya/2),this.bottomLeftBorderStroke=er>0||Ar>0?ea(U.left+rn/2,U.top+Cn,er-rn/2,Ar-ya/2,Un.BOTTOM_LEFT):new Ys(U.left+rn/2,U.top+U.height-ya/2),this.topLeftBorderBox=ye>0||Fe>0?ea(U.left,U.top,ye,Fe,Un.TOP_LEFT):new Ys(U.left,U.top),this.topRightBorderBox=qe>0||jt>0?ea(U.left+Mr,U.top,qe,jt,Un.TOP_RIGHT):new Ys(U.left+U.width,U.top),this.bottomRightBorderBox=Kt>0||ws>0?ea(U.left+Yn,U.top+ta,Kt,ws,Un.BOTTOM_RIGHT):new Ys(U.left+U.width,U.top+U.height),this.bottomLeftBorderBox=er>0||Ar>0?ea(U.left,U.top+Cn,er,Ar,Un.BOTTOM_LEFT):new Ys(U.left,U.top+U.height),this.topLeftPaddingBox=ye>0||Fe>0?ea(U.left+rn,U.top+Br,Math.max(0,ye-rn),Math.max(0,Fe-Br),Un.TOP_LEFT):new Ys(U.left+rn,U.top+Br),this.topRightPaddingBox=qe>0||jt>0?ea(U.left+Math.min(Mr,U.width-da),U.top+Br,Mr>U.width+da?0:Math.max(0,qe-da),Math.max(0,jt-Br),Un.TOP_RIGHT):new Ys(U.left+U.width-da,U.top+Br),this.bottomRightPaddingBox=Kt>0||ws>0?ea(U.left+Math.min(Yn,U.width-rn),U.top+Math.min(ta,U.height-ya),Math.max(0,Kt-da),Math.max(0,ws-ya),Un.BOTTOM_RIGHT):new Ys(U.left+U.width-da,U.top+U.height-ya),this.bottomLeftPaddingBox=er>0||Ar>0?ea(U.left+rn,U.top+Math.min(Cn,U.height-ya),Math.max(0,er-rn),Math.max(0,Ar-ya),Un.BOTTOM_LEFT):new Ys(U.left+rn,U.top+U.height-ya),this.topLeftContentBox=ye>0||Fe>0?ea(U.left+rn+ai,U.top+Br+jo,Math.max(0,ye-(rn+ai)),Math.max(0,Fe-(Br+jo)),Un.TOP_LEFT):new Ys(U.left+rn+ai,U.top+Br+jo),this.topRightContentBox=qe>0||jt>0?ea(U.left+Math.min(Mr,U.width+rn+ai),U.top+Br+jo,Mr>U.width+rn+ai?0:qe-rn+ai,jt-(Br+jo),Un.TOP_RIGHT):new Ys(U.left+U.width-(da+vi),U.top+Br+jo),this.bottomRightContentBox=Kt>0||ws>0?ea(U.left+Math.min(Yn,U.width-(rn+ai)),U.top+Math.min(ta,U.height+Br+jo),Math.max(0,Kt-(da+vi)),ws-(ya+_c),Un.BOTTOM_RIGHT):new Ys(U.left+U.width-(da+vi),U.top+U.height-(ya+_c)),this.bottomLeftContentBox=er>0||Ar>0?ea(U.left+rn+ai,U.top+Cn,Math.max(0,er-(rn+ai)),Ar-(ya+_c),Un.BOTTOM_LEFT):new Ys(U.left+rn+ai,U.top+U.height-(ya+_c))}return k})(),Un;(function(k){k[k.TOP_LEFT=0]="TOP_LEFT",k[k.TOP_RIGHT=1]="TOP_RIGHT",k[k.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",k[k.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Un||(Un={}));var ea=function(k,j,F,U,ne){var ye=4*((Math.sqrt(2)-1)/3),Fe=F*ye,Ze=U*ye,qe=k+F,jt=j+U;switch(ne){case Un.TOP_LEFT:return new wo(new Ys(k,jt),new Ys(k,jt-Ze),new Ys(qe-Fe,j),new Ys(qe,j));case Un.TOP_RIGHT:return new wo(new Ys(k,j),new Ys(k+Fe,j),new Ys(qe,jt-Ze),new Ys(qe,jt));case Un.BOTTOM_RIGHT:return new wo(new Ys(qe,j),new Ys(qe,j+Ze),new Ys(k+Fe,jt),new Ys(k,jt));case Un.BOTTOM_LEFT:default:return new wo(new Ys(qe,jt),new Ys(qe-Fe,jt),new Ys(k,j+Ze),new Ys(k,j))}},ka=function(k){return[k.topLeftBorderBox,k.topRightBorderBox,k.bottomRightBorderBox,k.bottomLeftBorderBox]},rc=function(k){return[k.topLeftContentBox,k.topRightContentBox,k.bottomRightContentBox,k.bottomLeftContentBox]},Zi=function(k){return[k.topLeftPaddingBox,k.topRightPaddingBox,k.bottomRightPaddingBox,k.bottomLeftPaddingBox]},di=(function(){function k(j,F,U){this.offsetX=j,this.offsetY=F,this.matrix=U,this.type=0,this.target=6}return k})(),nc=(function(){function k(j,F){this.path=j,this.target=F,this.type=1}return k})(),zo=(function(){function k(j){this.opacity=j,this.type=2,this.target=6}return k})(),ro=function(k){return k.type===0},nh=function(k){return k.type===1},vA=function(k){return k.type===2},wu=function(k,j){return k.length===j.length?k.some(function(F,U){return F===j[U]}):!1},Ti=function(k,j,F,U,ne){return k.map(function(ye,Fe){switch(Fe){case 0:return ye.add(j,F);case 1:return ye.add(j+U,F);case 2:return ye.add(j+U,F+ne);case 3:return ye.add(j,F+ne)}return ye})},Dl=(function(){function k(j){this.element=j,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return k})(),Dc=(function(){function k(j,F){if(this.container=j,this.parent=F,this.effects=[],this.curves=new sc(this.container),this.container.styles.opacity<1&&this.effects.push(new zo(this.container.styles.opacity)),this.container.styles.transform!==null){var U=this.container.bounds.left+this.container.styles.transformOrigin[0].number,ne=this.container.bounds.top+this.container.styles.transformOrigin[1].number,ye=this.container.styles.transform;this.effects.push(new di(U,ne,ye))}if(this.container.styles.overflowX!==0){var Fe=ka(this.curves),Ze=Zi(this.curves);wu(Fe,Ze)?this.effects.push(new nc(Fe,6)):(this.effects.push(new nc(Fe,2)),this.effects.push(new nc(Ze,4)))}}return k.prototype.getEffects=function(j){for(var F=[2,3].indexOf(this.container.styles.position)===-1,U=this.parent,ne=this.effects.slice(0);U;){var ye=U.effects.filter(function(qe){return!nh(qe)});if(F||U.container.styles.position!==0||!U.parent){if(ne.unshift.apply(ne,ye),F=[2,3].indexOf(U.container.styles.position)===-1,U.container.styles.overflowX!==0){var Fe=ka(U.curves),Ze=Zi(U.curves);wu(Fe,Ze)||ne.unshift(new nc(Ze,6))}}else ne.unshift.apply(ne,ye);U=U.parent}return ne.filter(function(qe){return C(qe.target,j)})},k})(),rd=function(k,j,F,U){k.container.elements.forEach(function(ne){var ye=C(ne.flags,4),Fe=C(ne.flags,2),Ze=new Dc(ne,k);C(ne.styles.display,2048)&&U.push(Ze);var qe=C(ne.flags,8)?[]:U;if(ye||Fe){var jt=ye||ne.styles.isPositioned()?F:j,It=new Dl(Ze);if(ne.styles.isPositioned()||ne.styles.opacity<1||ne.styles.isTransformed()){var Kt=ne.styles.zIndex.order;if(Kt<0){var ws=0;jt.negativeZIndex.some(function(er,Ar){return Kt>er.element.container.styles.zIndex.order?(ws=Ar,!1):ws>0}),jt.negativeZIndex.splice(ws,0,It)}else if(Kt>0){var Cr=0;jt.positiveZIndex.some(function(er,Ar){return Kt>=er.element.container.styles.zIndex.order?(Cr=Ar+1,!1):Cr>0}),jt.positiveZIndex.splice(Cr,0,It)}else jt.zeroOrAutoZIndexOrTransformedOrOpacity.push(It)}else ne.styles.isFloating()?jt.nonPositionedFloats.push(It):jt.nonPositionedInlineLevel.push(It);rd(Ze,It,ye?It:F,qe)}else ne.styles.isInlineLevel()?j.inlineLevel.push(Ze):j.nonInlineLevel.push(Ze),rd(Ze,j,F,qe);C(ne.flags,8)&&Wh(ne,qe)})},Wh=function(k,j){for(var F=k instanceof YA?k.start:1,U=k instanceof YA?k.reversed:!1,ne=0;ne<j.length;ne++){var ye=j[ne];ye.container instanceof yu&&typeof ye.container.value=="number"&&ye.container.value!==0&&(F=ye.container.value),ye.listValue=Hs(F,ye.container.styles.listStyleType,!0),F+=U?-1:1}},Uf=function(k){var j=new Dc(k,null),F=new Dl(j),U=[];return rd(j,F,F,U),Wh(j.container,U),F},Ff=function(k,j){switch(j){case 0:return Xa(k.topLeftBorderBox,k.topLeftPaddingBox,k.topRightBorderBox,k.topRightPaddingBox);case 1:return Xa(k.topRightBorderBox,k.topRightPaddingBox,k.bottomRightBorderBox,k.bottomRightPaddingBox);case 2:return Xa(k.bottomRightBorderBox,k.bottomRightPaddingBox,k.bottomLeftBorderBox,k.bottomLeftPaddingBox);case 3:default:return Xa(k.bottomLeftBorderBox,k.bottomLeftPaddingBox,k.topLeftBorderBox,k.topLeftPaddingBox)}},yA=function(k,j){switch(j){case 0:return Xa(k.topLeftBorderBox,k.topLeftBorderDoubleOuterBox,k.topRightBorderBox,k.topRightBorderDoubleOuterBox);case 1:return Xa(k.topRightBorderBox,k.topRightBorderDoubleOuterBox,k.bottomRightBorderBox,k.bottomRightBorderDoubleOuterBox);case 2:return Xa(k.bottomRightBorderBox,k.bottomRightBorderDoubleOuterBox,k.bottomLeftBorderBox,k.bottomLeftBorderDoubleOuterBox);case 3:default:return Xa(k.bottomLeftBorderBox,k.bottomLeftBorderDoubleOuterBox,k.topLeftBorderBox,k.topLeftBorderDoubleOuterBox)}},dl=function(k,j){switch(j){case 0:return Xa(k.topLeftBorderDoubleInnerBox,k.topLeftPaddingBox,k.topRightBorderDoubleInnerBox,k.topRightPaddingBox);case 1:return Xa(k.topRightBorderDoubleInnerBox,k.topRightPaddingBox,k.bottomRightBorderDoubleInnerBox,k.bottomRightPaddingBox);case 2:return Xa(k.bottomRightBorderDoubleInnerBox,k.bottomRightPaddingBox,k.bottomLeftBorderDoubleInnerBox,k.bottomLeftPaddingBox);case 3:default:return Xa(k.bottomLeftBorderDoubleInnerBox,k.bottomLeftPaddingBox,k.topLeftBorderDoubleInnerBox,k.topLeftPaddingBox)}},Rc=function(k,j){switch(j){case 0:return Qu(k.topLeftBorderStroke,k.topRightBorderStroke);case 1:return Qu(k.topRightBorderStroke,k.bottomRightBorderStroke);case 2:return Qu(k.bottomRightBorderStroke,k.bottomLeftBorderStroke);case 3:default:return Qu(k.bottomLeftBorderStroke,k.topLeftBorderStroke)}},Qu=function(k,j){var F=[];return ci(k)?F.push(k.subdivide(.5,!1)):F.push(k),ci(j)?F.push(j.subdivide(.5,!0)):F.push(j),F},Xa=function(k,j,F,U){var ne=[];return ci(k)?ne.push(k.subdivide(.5,!1)):ne.push(k),ci(F)?ne.push(F.subdivide(.5,!0)):ne.push(F),ci(U)?ne.push(U.subdivide(.5,!0).reverse()):ne.push(U),ci(j)?ne.push(j.subdivide(.5,!1).reverse()):ne.push(j),ne},wA=function(k){var j=k.bounds,F=k.styles;return j.add(F.borderLeftWidth,F.borderTopWidth,-(F.borderRightWidth+F.borderLeftWidth),-(F.borderTopWidth+F.borderBottomWidth))},wl=function(k){var j=k.styles,F=k.bounds,U=xn(j.paddingLeft,F.width),ne=xn(j.paddingRight,F.width),ye=xn(j.paddingTop,F.width),Fe=xn(j.paddingBottom,F.width);return F.add(U+j.borderLeftWidth,ye+j.borderTopWidth,-(j.borderRightWidth+j.borderLeftWidth+U+ne),-(j.borderTopWidth+j.borderBottomWidth+ye+Fe))},qd=function(k,j){return k===0?j.bounds:k===2?wl(j):wA(j)},Id=function(k,j){return k===0?j.bounds:k===2?wl(j):wA(j)},eu=function(k,j,F){var U=qd(Qc(k.styles.backgroundOrigin,j),k),ne=Id(Qc(k.styles.backgroundClip,j),k),ye=Rd(Qc(k.styles.backgroundSize,j),F,U),Fe=ye[0],Ze=ye[1],qe=Qr(Qc(k.styles.backgroundPosition,j),U.width-Fe,U.height-Ze),jt=_u(Qc(k.styles.backgroundRepeat,j),qe,ye,U,ne),It=Math.round(U.left+qe[0]),Kt=Math.round(U.top+qe[1]);return[jt,It,Kt,Fe,Ze]},Dd=function(k){return ir(k)&&k.value===un.AUTO},jl=function(k){return typeof k=="number"},Rd=function(k,j,F){var U=j[0],ne=j[1],ye=j[2],Fe=k[0],Ze=k[1];if(!Fe)return[0,0];if(Sr(Fe)&&Ze&&Sr(Ze))return[xn(Fe,F.width),xn(Ze,F.height)];var qe=jl(ye);if(ir(Fe)&&(Fe.value===un.CONTAIN||Fe.value===un.COVER)){if(jl(ye)){var jt=F.width/F.height;return jt<ye!=(Fe.value===un.COVER)?[F.width,F.width/ye]:[F.height*ye,F.height]}return[F.width,F.height]}var It=jl(U),Kt=jl(ne),ws=It||Kt;if(Dd(Fe)&&(!Ze||Dd(Ze))){if(It&&Kt)return[U,ne];if(!qe&&!ws)return[F.width,F.height];if(ws&&qe){var Cr=It?U:ne*ye,er=Kt?ne:U/ye;return[Cr,er]}var Ar=It?U:F.width,Zr=Kt?ne:F.height;return[Ar,Zr]}if(qe){var Or=0,Mr=0;return Sr(Fe)?Or=xn(Fe,F.width):Sr(Ze)&&(Mr=xn(Ze,F.height)),Dd(Fe)?Or=Mr*ye:(!Ze||Dd(Ze))&&(Mr=Or/ye),[Or,Mr]}var ta=null,Yn=null;if(Sr(Fe)?ta=xn(Fe,F.width):Ze&&Sr(Ze)&&(Yn=xn(Ze,F.height)),ta!==null&&(!Ze||Dd(Ze))&&(Yn=It&&Kt?ta/U*ne:F.height),Yn!==null&&Dd(Fe)&&(ta=It&&Kt?Yn/ne*U:F.width),ta!==null&&Yn!==null)return[ta,Yn];throw new Error("Unable to calculate background-size for element")},Qc=function(k,j){var F=k[j];return typeof F>"u"?k[0]:F},_u=function(k,j,F,U,ne){var ye=j[0],Fe=j[1],Ze=F[0],qe=F[1];switch(k){case 2:return[new Ys(Math.round(U.left),Math.round(U.top+Fe)),new Ys(Math.round(U.left+U.width),Math.round(U.top+Fe)),new Ys(Math.round(U.left+U.width),Math.round(qe+U.top+Fe)),new Ys(Math.round(U.left),Math.round(qe+U.top+Fe))];case 3:return[new Ys(Math.round(U.left+ye),Math.round(U.top)),new Ys(Math.round(U.left+ye+Ze),Math.round(U.top)),new Ys(Math.round(U.left+ye+Ze),Math.round(U.height+U.top)),new Ys(Math.round(U.left+ye),Math.round(U.height+U.top))];case 1:return[new Ys(Math.round(U.left+ye),Math.round(U.top+Fe)),new Ys(Math.round(U.left+ye+Ze),Math.round(U.top+Fe)),new Ys(Math.round(U.left+ye+Ze),Math.round(U.top+Fe+qe)),new Ys(Math.round(U.left+ye),Math.round(U.top+Fe+qe))];default:return[new Ys(Math.round(ne.left),Math.round(ne.top)),new Ys(Math.round(ne.left+ne.width),Math.round(ne.top)),new Ys(Math.round(ne.left+ne.width),Math.round(ne.height+ne.top)),new Ys(Math.round(ne.left),Math.round(ne.height+ne.top))]}},jA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",tu="Hidden Text",ju=(function(){function k(j){this._data={},this._document=j}return k.prototype.parseMetrics=function(j,F){var U=this._document.createElement("div"),ne=this._document.createElement("img"),ye=this._document.createElement("span"),Fe=this._document.body;U.style.visibility="hidden",U.style.fontFamily=j,U.style.fontSize=F,U.style.margin="0",U.style.padding="0",U.style.whiteSpace="nowrap",Fe.appendChild(U),ne.src=jA,ne.width=1,ne.height=1,ne.style.margin="0",ne.style.padding="0",ne.style.verticalAlign="baseline",ye.style.fontFamily=j,ye.style.fontSize=F,ye.style.margin="0",ye.style.padding="0",ye.appendChild(this._document.createTextNode(tu)),U.appendChild(ye),U.appendChild(ne);var Ze=ne.offsetTop-ye.offsetTop+2;U.removeChild(ye),U.appendChild(this._document.createTextNode(tu)),U.style.lineHeight="normal",ne.style.verticalAlign="super";var qe=ne.offsetTop-U.offsetTop+2;return Fe.removeChild(U),{baseline:Ze,middle:qe}},k.prototype.getMetrics=function(j,F){var U=j+" "+F;return typeof this._data[U]>"u"&&(this._data[U]=this.parseMetrics(j,F)),this._data[U]},k})(),Yh=(function(){function k(j,F){this.context=j,this.options=F}return k})(),Pu=1e4,Mf=(function(k){n(j,k);function j(F,U){var ne=k.call(this,F,U)||this;return ne._activeEffects=[],ne.canvas=U.canvas?U.canvas:document.createElement("canvas"),ne.ctx=ne.canvas.getContext("2d"),U.canvas||(ne.canvas.width=Math.floor(U.width*U.scale),ne.canvas.height=Math.floor(U.height*U.scale),ne.canvas.style.width=U.width+"px",ne.canvas.style.height=U.height+"px"),ne.fontMetrics=new ju(document),ne.ctx.scale(ne.options.scale,ne.options.scale),ne.ctx.translate(-U.x,-U.y),ne.ctx.textBaseline="bottom",ne._activeEffects=[],ne.context.logger.debug("Canvas renderer initialized ("+U.width+"x"+U.height+") with scale "+U.scale),ne}return j.prototype.applyEffects=function(F){for(var U=this;this._activeEffects.length;)this.popEffect();F.forEach(function(ne){return U.applyEffect(ne)})},j.prototype.applyEffect=function(F){this.ctx.save(),vA(F)&&(this.ctx.globalAlpha=F.opacity),ro(F)&&(this.ctx.translate(F.offsetX,F.offsetY),this.ctx.transform(F.matrix[0],F.matrix[1],F.matrix[2],F.matrix[3],F.matrix[4],F.matrix[5]),this.ctx.translate(-F.offsetX,-F.offsetY)),nh(F)&&(this.path(F.path),this.ctx.clip()),this._activeEffects.push(F)},j.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},j.prototype.renderStack=function(F){return c(this,void 0,void 0,function(){var U;return u(this,function(ne){switch(ne.label){case 0:return U=F.element.container.styles,U.isVisible()?[4,this.renderStackContent(F)]:[3,2];case 1:ne.sent(),ne.label=2;case 2:return[2]}})})},j.prototype.renderNode=function(F){return c(this,void 0,void 0,function(){return u(this,function(U){switch(U.label){case 0:if(C(F.container.flags,16))debugger;return F.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(F)]:[3,3];case 1:return U.sent(),[4,this.renderNodeContent(F)];case 2:U.sent(),U.label=3;case 3:return[2]}})})},j.prototype.renderTextWithLetterSpacing=function(F,U,ne){var ye=this;if(U===0)this.ctx.fillText(F.text,F.bounds.left,F.bounds.top+ne);else{var Fe=vu(F.text);Fe.reduce(function(Ze,qe){return ye.ctx.fillText(qe,Ze,F.bounds.top+ne),Ze+ye.ctx.measureText(qe).width},F.bounds.left)}},j.prototype.createFontStyle=function(F){var U=F.fontVariant.filter(function(Fe){return Fe==="normal"||Fe==="small-caps"}).join(""),ne=va(F.fontFamily).join(", "),ye=cr(F.fontSize)?""+F.fontSize.number+F.fontSize.unit:F.fontSize.number+"px";return[[F.fontStyle,U,F.fontWeight,ye,ne].join(" "),ne,ye]},j.prototype.renderTextNode=function(F,U){return c(this,void 0,void 0,function(){var ne,ye,Fe,Ze,qe,jt,It,Kt,ws=this;return u(this,function(Cr){return ne=this.createFontStyle(U),ye=ne[0],Fe=ne[1],Ze=ne[2],this.ctx.font=ye,this.ctx.direction=U.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",qe=this.fontMetrics.getMetrics(Fe,Ze),jt=qe.baseline,It=qe.middle,Kt=U.paintOrder,F.textBounds.forEach(function(er){Kt.forEach(function(Ar){switch(Ar){case 0:ws.ctx.fillStyle=lr(U.color),ws.renderTextWithLetterSpacing(er,U.letterSpacing,jt);var Zr=U.textShadow;Zr.length&&er.text.trim().length&&(Zr.slice(0).reverse().forEach(function(Or){ws.ctx.shadowColor=lr(Or.color),ws.ctx.shadowOffsetX=Or.offsetX.number*ws.options.scale,ws.ctx.shadowOffsetY=Or.offsetY.number*ws.options.scale,ws.ctx.shadowBlur=Or.blur.number,ws.renderTextWithLetterSpacing(er,U.letterSpacing,jt)}),ws.ctx.shadowColor="",ws.ctx.shadowOffsetX=0,ws.ctx.shadowOffsetY=0,ws.ctx.shadowBlur=0),U.textDecorationLine.length&&(ws.ctx.fillStyle=lr(U.textDecorationColor||U.color),U.textDecorationLine.forEach(function(Or){switch(Or){case 1:ws.ctx.fillRect(er.bounds.left,Math.round(er.bounds.top+jt),er.bounds.width,1);break;case 2:ws.ctx.fillRect(er.bounds.left,Math.round(er.bounds.top),er.bounds.width,1);break;case 3:ws.ctx.fillRect(er.bounds.left,Math.ceil(er.bounds.top+It),er.bounds.width,1);break}}));break;case 1:U.webkitTextStrokeWidth&&er.text.trim().length&&(ws.ctx.strokeStyle=lr(U.webkitTextStrokeColor),ws.ctx.lineWidth=U.webkitTextStrokeWidth,ws.ctx.lineJoin=window.chrome?"miter":"round",ws.ctx.strokeText(er.text,er.bounds.left,er.bounds.top+jt)),ws.ctx.strokeStyle="",ws.ctx.lineWidth=0,ws.ctx.lineJoin="miter";break}})}),[2]})})},j.prototype.renderReplacedElement=function(F,U,ne){if(ne&&F.intrinsicWidth>0&&F.intrinsicHeight>0){var ye=wl(F),Fe=Zi(U);this.path(Fe),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(ne,0,0,F.intrinsicWidth,F.intrinsicHeight,ye.left,ye.top,ye.width,ye.height),this.ctx.restore()}},j.prototype.renderNodeContent=function(F){return c(this,void 0,void 0,function(){var U,ne,ye,Fe,Ze,qe,Mr,Mr,jt,It,Kt,ws,Yn,Cr,er,Cn,Ar,Zr,Or,Mr,ta,Yn,Cn;return u(this,function(Br){switch(Br.label){case 0:this.applyEffects(F.getEffects(4)),U=F.container,ne=F.curves,ye=U.styles,Fe=0,Ze=U.textNodes,Br.label=1;case 1:return Fe<Ze.length?(qe=Ze[Fe],[4,this.renderTextNode(qe,ye)]):[3,4];case 2:Br.sent(),Br.label=3;case 3:return Fe++,[3,1];case 4:if(!(U instanceof Hh))return[3,8];Br.label=5;case 5:return Br.trys.push([5,7,,8]),[4,this.context.cache.match(U.src)];case 6:return Mr=Br.sent(),this.renderReplacedElement(U,ne,Mr),[3,8];case 7:return Br.sent(),this.context.logger.error("Error loading image "+U.src),[3,8];case 8:if(U instanceof Ou&&this.renderReplacedElement(U,ne,U.canvas),!(U instanceof WA))return[3,12];Br.label=9;case 9:return Br.trys.push([9,11,,12]),[4,this.context.cache.match(U.svg)];case 10:return Mr=Br.sent(),this.renderReplacedElement(U,ne,Mr),[3,12];case 11:return Br.sent(),this.context.logger.error("Error loading svg "+U.svg.substring(0,255)),[3,12];case 12:return U instanceof yd&&U.tree?(jt=new j(this.context,{scale:this.options.scale,backgroundColor:U.backgroundColor,x:0,y:0,width:U.width,height:U.height}),[4,jt.render(U.tree)]):[3,14];case 13:It=Br.sent(),U.width&&U.height&&this.ctx.drawImage(It,0,0,U.width,U.height,U.bounds.left,U.bounds.top,U.bounds.width,U.bounds.height),Br.label=14;case 14:if(U instanceof Ic&&(Kt=Math.min(U.bounds.width,U.bounds.height),U.type===hA?U.checked&&(this.ctx.save(),this.path([new Ys(U.bounds.left+Kt*.39363,U.bounds.top+Kt*.79),new Ys(U.bounds.left+Kt*.16,U.bounds.top+Kt*.5549),new Ys(U.bounds.left+Kt*.27347,U.bounds.top+Kt*.44071),new Ys(U.bounds.left+Kt*.39694,U.bounds.top+Kt*.5649),new Ys(U.bounds.left+Kt*.72983,U.bounds.top+Kt*.23),new Ys(U.bounds.left+Kt*.84,U.bounds.top+Kt*.34085),new Ys(U.bounds.left+Kt*.39363,U.bounds.top+Kt*.79)]),this.ctx.fillStyle=lr(yc),this.ctx.fill(),this.ctx.restore()):U.type===fA&&U.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(U.bounds.left+Kt/2,U.bounds.top+Kt/2,Kt/4,0,Math.PI*2,!0),this.ctx.fillStyle=lr(yc),this.ctx.fill(),this.ctx.restore())),NA(U)&&U.value.length){switch(ws=this.createFontStyle(ye),Yn=ws[0],Cr=ws[1],er=this.fontMetrics.getMetrics(Yn,Cr).baseline,this.ctx.font=Yn,this.ctx.fillStyle=lr(ye.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=CA(U.styles.textAlign),Cn=wl(U),Ar=0,U.styles.textAlign){case 1:Ar+=Cn.width/2;break;case 2:Ar+=Cn.width;break}Zr=Cn.add(Ar,0,0,-Cn.height/2+1),this.ctx.save(),this.path([new Ys(Cn.left,Cn.top),new Ys(Cn.left+Cn.width,Cn.top),new Ys(Cn.left+Cn.width,Cn.top+Cn.height),new Ys(Cn.left,Cn.top+Cn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Jd(U.value,Zr),ye.letterSpacing,er),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!C(U.styles.display,2048))return[3,20];if(U.styles.listStyleImage===null)return[3,19];if(Or=U.styles.listStyleImage,Or.type!==0)return[3,18];Mr=void 0,ta=Or.url,Br.label=15;case 15:return Br.trys.push([15,17,,18]),[4,this.context.cache.match(ta)];case 16:return Mr=Br.sent(),this.ctx.drawImage(Mr,U.bounds.left-(Mr.width+10),U.bounds.top),[3,18];case 17:return Br.sent(),this.context.logger.error("Error loading list-style-image "+ta),[3,18];case 18:return[3,20];case 19:F.listValue&&U.styles.listStyleType!==-1&&(Yn=this.createFontStyle(ye)[0],this.ctx.font=Yn,this.ctx.fillStyle=lr(ye.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Cn=new A(U.bounds.left,U.bounds.top+xn(U.styles.paddingTop,U.bounds.width),U.bounds.width,pu(ye.lineHeight,ye.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Jd(F.listValue,Cn),ye.letterSpacing,pu(ye.lineHeight,ye.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Br.label=20;case 20:return[2]}})})},j.prototype.renderStackContent=function(F){return c(this,void 0,void 0,function(){var U,ne,Or,ye,Fe,Or,Ze,qe,Or,jt,It,Or,Kt,ws,Or,Cr,er,Or,Ar,Zr,Or;return u(this,function(Mr){switch(Mr.label){case 0:if(C(F.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(F.element)];case 1:Mr.sent(),U=0,ne=F.negativeZIndex,Mr.label=2;case 2:return U<ne.length?(Or=ne[U],[4,this.renderStack(Or)]):[3,5];case 3:Mr.sent(),Mr.label=4;case 4:return U++,[3,2];case 5:return[4,this.renderNodeContent(F.element)];case 6:Mr.sent(),ye=0,Fe=F.nonInlineLevel,Mr.label=7;case 7:return ye<Fe.length?(Or=Fe[ye],[4,this.renderNode(Or)]):[3,10];case 8:Mr.sent(),Mr.label=9;case 9:return ye++,[3,7];case 10:Ze=0,qe=F.nonPositionedFloats,Mr.label=11;case 11:return Ze<qe.length?(Or=qe[Ze],[4,this.renderStack(Or)]):[3,14];case 12:Mr.sent(),Mr.label=13;case 13:return Ze++,[3,11];case 14:jt=0,It=F.nonPositionedInlineLevel,Mr.label=15;case 15:return jt<It.length?(Or=It[jt],[4,this.renderStack(Or)]):[3,18];case 16:Mr.sent(),Mr.label=17;case 17:return jt++,[3,15];case 18:Kt=0,ws=F.inlineLevel,Mr.label=19;case 19:return Kt<ws.length?(Or=ws[Kt],[4,this.renderNode(Or)]):[3,22];case 20:Mr.sent(),Mr.label=21;case 21:return Kt++,[3,19];case 22:Cr=0,er=F.zeroOrAutoZIndexOrTransformedOrOpacity,Mr.label=23;case 23:return Cr<er.length?(Or=er[Cr],[4,this.renderStack(Or)]):[3,26];case 24:Mr.sent(),Mr.label=25;case 25:return Cr++,[3,23];case 26:Ar=0,Zr=F.positiveZIndex,Mr.label=27;case 27:return Ar<Zr.length?(Or=Zr[Ar],[4,this.renderStack(Or)]):[3,30];case 28:Mr.sent(),Mr.label=29;case 29:return Ar++,[3,27];case 30:return[2]}})})},j.prototype.mask=function(F){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(F.slice(0).reverse()),this.ctx.closePath()},j.prototype.path=function(F){this.ctx.beginPath(),this.formatPath(F),this.ctx.closePath()},j.prototype.formatPath=function(F){var U=this;F.forEach(function(ne,ye){var Fe=ci(ne)?ne.start:ne;ye===0?U.ctx.moveTo(Fe.x,Fe.y):U.ctx.lineTo(Fe.x,Fe.y),ci(ne)&&U.ctx.bezierCurveTo(ne.startControl.x,ne.startControl.y,ne.endControl.x,ne.endControl.y,ne.end.x,ne.end.y)})},j.prototype.renderRepeat=function(F,U,ne,ye){this.path(F),this.ctx.fillStyle=U,this.ctx.translate(ne,ye),this.ctx.fill(),this.ctx.translate(-ne,-ye)},j.prototype.resizeImage=function(F,U,ne){var ye;if(F.width===U&&F.height===ne)return F;var Fe=(ye=this.canvas.ownerDocument)!==null&&ye!==void 0?ye:document,Ze=Fe.createElement("canvas");Ze.width=Math.max(1,U),Ze.height=Math.max(1,ne);var qe=Ze.getContext("2d");return qe.drawImage(F,0,0,F.width,F.height,0,0,U,ne),Ze},j.prototype.renderBackgroundImage=function(F){return c(this,void 0,void 0,function(){var U,ne,ye,Fe,Ze,qe;return u(this,function(jt){switch(jt.label){case 0:U=F.styles.backgroundImage.length-1,ne=function(It){var Kt,ws,Cr,jo,_l,ac,ai,Ql,ya,er,jo,_l,ac,ai,Ql,Ar,Zr,Or,Mr,ta,Yn,Cn,Br,da,ya,rn,jo,vi,_c,ai,Ql,jc,_l,ac,Nd,_d,Nu,zu,Vu,Cd,Cu,Bu;return u(this,function(ah){switch(ah.label){case 0:if(It.type!==0)return[3,5];Kt=void 0,ws=It.url,ah.label=1;case 1:return ah.trys.push([1,3,,4]),[4,ye.context.cache.match(ws)];case 2:return Kt=ah.sent(),[3,4];case 3:return ah.sent(),ye.context.logger.error("Error loading background-image "+ws),[3,4];case 4:return Kt&&(Cr=eu(F,U,[Kt.width,Kt.height,Kt.width/Kt.height]),jo=Cr[0],_l=Cr[1],ac=Cr[2],ai=Cr[3],Ql=Cr[4],ya=ye.ctx.createPattern(ye.resizeImage(Kt,ai,Ql),"repeat"),ye.renderRepeat(jo,ya,_l,ac)),[3,6];case 5:po(It)?(er=eu(F,U,[null,null,null]),jo=er[0],_l=er[1],ac=er[2],ai=er[3],Ql=er[4],Ar=Tl(It.angle,ai,Ql),Zr=Ar[0],Or=Ar[1],Mr=Ar[2],ta=Ar[3],Yn=Ar[4],Cn=document.createElement("canvas"),Cn.width=ai,Cn.height=Ql,Br=Cn.getContext("2d"),da=Br.createLinearGradient(Or,ta,Mr,Yn),pi(It.stops,Zr).forEach(function(Jh){return da.addColorStop(Jh.stop,lr(Jh.color))}),Br.fillStyle=da,Br.fillRect(0,0,ai,Ql),ai>0&&Ql>0&&(ya=ye.ctx.createPattern(Cn,"repeat"),ye.renderRepeat(jo,ya,_l,ac))):mc(It)&&(rn=eu(F,U,[null,null,null]),jo=rn[0],vi=rn[1],_c=rn[2],ai=rn[3],Ql=rn[4],jc=It.position.length===0?[Er]:It.position,_l=xn(jc[0],ai),ac=xn(jc[jc.length-1],Ql),Nd=mo(It,_l,ac,ai,Ql),_d=Nd[0],Nu=Nd[1],_d>0&&Nu>0&&(zu=ye.ctx.createRadialGradient(vi+_l,_c+ac,0,vi+_l,_c+ac,_d),pi(It.stops,_d*2).forEach(function(Jh){return zu.addColorStop(Jh.stop,lr(Jh.color))}),ye.path(jo),ye.ctx.fillStyle=zu,_d!==Nu?(Vu=F.bounds.left+.5*F.bounds.width,Cd=F.bounds.top+.5*F.bounds.height,Cu=Nu/_d,Bu=1/Cu,ye.ctx.save(),ye.ctx.translate(Vu,Cd),ye.ctx.transform(1,0,0,Cu,0,0),ye.ctx.translate(-Vu,-Cd),ye.ctx.fillRect(vi,Bu*(_c-Cd)+Cd,ai,Ql*Bu),ye.ctx.restore()):ye.ctx.fill())),ah.label=6;case 6:return U--,[2]}})},ye=this,Fe=0,Ze=F.styles.backgroundImage.slice(0).reverse(),jt.label=1;case 1:return Fe<Ze.length?(qe=Ze[Fe],[5,ne(qe)]):[3,4];case 2:jt.sent(),jt.label=3;case 3:return Fe++,[3,1];case 4:return[2]}})})},j.prototype.renderSolidBorder=function(F,U,ne){return c(this,void 0,void 0,function(){return u(this,function(ye){return this.path(Ff(ne,U)),this.ctx.fillStyle=lr(F),this.ctx.fill(),[2]})})},j.prototype.renderDoubleBorder=function(F,U,ne,ye){return c(this,void 0,void 0,function(){var Fe,Ze;return u(this,function(qe){switch(qe.label){case 0:return U<3?[4,this.renderSolidBorder(F,ne,ye)]:[3,2];case 1:return qe.sent(),[2];case 2:return Fe=yA(ye,ne),this.path(Fe),this.ctx.fillStyle=lr(F),this.ctx.fill(),Ze=dl(ye,ne),this.path(Ze),this.ctx.fill(),[2]}})})},j.prototype.renderNodeBackgroundAndBorders=function(F){return c(this,void 0,void 0,function(){var U,ne,ye,Fe,Ze,qe,jt,It,Kt=this;return u(this,function(ws){switch(ws.label){case 0:return this.applyEffects(F.getEffects(2)),U=F.container.styles,ne=!wn(U.backgroundColor)||U.backgroundImage.length,ye=[{style:U.borderTopStyle,color:U.borderTopColor,width:U.borderTopWidth},{style:U.borderRightStyle,color:U.borderRightColor,width:U.borderRightWidth},{style:U.borderBottomStyle,color:U.borderBottomColor,width:U.borderBottomWidth},{style:U.borderLeftStyle,color:U.borderLeftColor,width:U.borderLeftWidth}],Fe=Lf(Qc(U.backgroundClip,0),F.curves),ne||U.boxShadow.length?(this.ctx.save(),this.path(Fe),this.ctx.clip(),wn(U.backgroundColor)||(this.ctx.fillStyle=lr(U.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(F.container)]):[3,2];case 1:ws.sent(),this.ctx.restore(),U.boxShadow.slice(0).reverse().forEach(function(Cr){Kt.ctx.save();var er=ka(F.curves),Ar=Cr.inset?0:Pu,Zr=Ti(er,-Ar+(Cr.inset?1:-1)*Cr.spread.number,(Cr.inset?1:-1)*Cr.spread.number,Cr.spread.number*(Cr.inset?-2:2),Cr.spread.number*(Cr.inset?-2:2));Cr.inset?(Kt.path(er),Kt.ctx.clip(),Kt.mask(Zr)):(Kt.mask(er),Kt.ctx.clip(),Kt.path(Zr)),Kt.ctx.shadowOffsetX=Cr.offsetX.number+Ar,Kt.ctx.shadowOffsetY=Cr.offsetY.number,Kt.ctx.shadowColor=lr(Cr.color),Kt.ctx.shadowBlur=Cr.blur.number,Kt.ctx.fillStyle=Cr.inset?lr(Cr.color):"rgba(0,0,0,1)",Kt.ctx.fill(),Kt.ctx.restore()}),ws.label=2;case 2:Ze=0,qe=0,jt=ye,ws.label=3;case 3:return qe<jt.length?(It=jt[qe],It.style!==0&&!wn(It.color)&&It.width>0?It.style!==2?[3,5]:[4,this.renderDashedDottedBorder(It.color,It.width,Ze,F.curves,2)]:[3,11]):[3,13];case 4:return ws.sent(),[3,11];case 5:return It.style!==3?[3,7]:[4,this.renderDashedDottedBorder(It.color,It.width,Ze,F.curves,3)];case 6:return ws.sent(),[3,11];case 7:return It.style!==4?[3,9]:[4,this.renderDoubleBorder(It.color,It.width,Ze,F.curves)];case 8:return ws.sent(),[3,11];case 9:return[4,this.renderSolidBorder(It.color,Ze,F.curves)];case 10:ws.sent(),ws.label=11;case 11:Ze++,ws.label=12;case 12:return qe++,[3,3];case 13:return[2]}})})},j.prototype.renderDashedDottedBorder=function(F,U,ne,ye,Fe){return c(this,void 0,void 0,function(){var Ze,qe,jt,It,Kt,ws,Cr,er,Ar,Zr,Or,Mr,ta,Yn,Cn,Br,Cn,Br;return u(this,function(da){return this.ctx.save(),Ze=Rc(ye,ne),qe=Ff(ye,ne),Fe===2&&(this.path(qe),this.ctx.clip()),ci(qe[0])?(jt=qe[0].start.x,It=qe[0].start.y):(jt=qe[0].x,It=qe[0].y),ci(qe[1])?(Kt=qe[1].end.x,ws=qe[1].end.y):(Kt=qe[1].x,ws=qe[1].y),ne===0||ne===2?Cr=Math.abs(jt-Kt):Cr=Math.abs(It-ws),this.ctx.beginPath(),Fe===3?this.formatPath(Ze):this.formatPath(qe.slice(0,2)),er=U<3?U*3:U*2,Ar=U<3?U*2:U,Fe===3&&(er=U,Ar=U),Zr=!0,Cr<=er*2?Zr=!1:Cr<=er*2+Ar?(Or=Cr/(2*er+Ar),er*=Or,Ar*=Or):(Mr=Math.floor((Cr+Ar)/(er+Ar)),ta=(Cr-Mr*er)/(Mr-1),Yn=(Cr-(Mr+1)*er)/Mr,Ar=Yn<=0||Math.abs(Ar-ta)<Math.abs(Ar-Yn)?ta:Yn),Zr&&(Fe===3?this.ctx.setLineDash([0,er+Ar]):this.ctx.setLineDash([er,Ar])),Fe===3?(this.ctx.lineCap="round",this.ctx.lineWidth=U):this.ctx.lineWidth=U*2+1.1,this.ctx.strokeStyle=lr(F),this.ctx.stroke(),this.ctx.setLineDash([]),Fe===2&&(ci(qe[0])&&(Cn=qe[3],Br=qe[0],this.ctx.beginPath(),this.formatPath([new Ys(Cn.end.x,Cn.end.y),new Ys(Br.start.x,Br.start.y)]),this.ctx.stroke()),ci(qe[1])&&(Cn=qe[1],Br=qe[2],this.ctx.beginPath(),this.formatPath([new Ys(Cn.end.x,Cn.end.y),new Ys(Br.start.x,Br.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},j.prototype.render=function(F){return c(this,void 0,void 0,function(){var U;return u(this,function(ne){switch(ne.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=lr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),U=Uf(F),[4,this.renderStack(U)];case 1:return ne.sent(),this.applyEffects([]),[2,this.canvas]}})})},j})(Yh),NA=function(k){return k instanceof mA||k instanceof Sf?!0:k instanceof Ic&&k.type!==fA&&k.type!==hA},Lf=function(k,j){switch(k){case 0:return ka(j);case 2:return rc(j);case 1:default:return Zi(j)}},CA=function(k){switch(k){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Xh=["-apple-system","system-ui"],va=function(k){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?k.filter(function(j){return Xh.indexOf(j)===-1}):k},pa=(function(k){n(j,k);function j(F,U){var ne=k.call(this,F,U)||this;return ne.canvas=U.canvas?U.canvas:document.createElement("canvas"),ne.ctx=ne.canvas.getContext("2d"),ne.options=U,ne.canvas.width=Math.floor(U.width*U.scale),ne.canvas.height=Math.floor(U.height*U.scale),ne.canvas.style.width=U.width+"px",ne.canvas.style.height=U.height+"px",ne.ctx.scale(ne.options.scale,ne.options.scale),ne.ctx.translate(-U.x,-U.y),ne.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+U.width+"x"+U.height+" at "+U.x+","+U.y+") with scale "+U.scale),ne}return j.prototype.render=function(F){return c(this,void 0,void 0,function(){var U,ne;return u(this,function(ye){switch(ye.label){case 0:return U=HA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,F),[4,On(U)];case 1:return ne=ye.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=lr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(ne,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},j})(Yh),On=function(k){return new Promise(function(j,F){var U=new Image;U.onload=function(){j(U)},U.onerror=F,U.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(k))})},Hn=(function(){function k(j){var F=j.id,U=j.enabled;this.id=F,this.enabled=U,this.start=Date.now()}return k.prototype.debug=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,d([this.id,this.getTime()+"ms"],j)):this.info.apply(this,j))},k.prototype.getTime=function(){return Date.now()-this.start},k.prototype.info=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,d([this.id,this.getTime()+"ms"],j))},k.prototype.warn=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,d([this.id,this.getTime()+"ms"],j)):this.info.apply(this,j))},k.prototype.error=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,d([this.id,this.getTime()+"ms"],j)):this.info.apply(this,j))},k.instances={},k})(),Sa=(function(){function k(j,F){var U;this.windowBounds=F,this.instanceName="#"+k.instanceCount++,this.logger=new Hn({id:this.instanceName,enabled:j.logging}),this.cache=(U=j.cache)!==null&&U!==void 0?U:new ia(this,j)}return k.instanceCount=1,k})(),Rl=function(k,j){return j===void 0&&(j={}),Qd(k,j)};typeof window<"u"&&Pi.setContext(window);var Qd=function(k,j){return c(void 0,void 0,void 0,function(){var F,U,ne,ye,Fe,Ze,qe,jt,It,Kt,ws,Cr,er,Ar,Zr,Or,Mr,ta,Yn,Cn,da,Br,da,ya,rn,jo,vi,_c,ai,Ql,jc,_l,ac,Nd,_d,Nu,zu,Vu,Cd,Cu;return u(this,function(Bu){switch(Bu.label){case 0:if(!k||typeof k!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(F=k.ownerDocument,!F)throw new Error("Element is not attached to a Document");if(U=F.defaultView,!U)throw new Error("Document is not attached to a Window");return ne={allowTaint:(ya=j.allowTaint)!==null&&ya!==void 0?ya:!1,imageTimeout:(rn=j.imageTimeout)!==null&&rn!==void 0?rn:15e3,proxy:j.proxy,useCORS:(jo=j.useCORS)!==null&&jo!==void 0?jo:!1},ye=i({logging:(vi=j.logging)!==null&&vi!==void 0?vi:!0,cache:j.cache},ne),Fe={windowWidth:(_c=j.windowWidth)!==null&&_c!==void 0?_c:U.innerWidth,windowHeight:(ai=j.windowHeight)!==null&&ai!==void 0?ai:U.innerHeight,scrollX:(Ql=j.scrollX)!==null&&Ql!==void 0?Ql:U.pageXOffset,scrollY:(jc=j.scrollY)!==null&&jc!==void 0?jc:U.pageYOffset},Ze=new A(Fe.scrollX,Fe.scrollY,Fe.windowWidth,Fe.windowHeight),qe=new Sa(ye,Ze),jt=(_l=j.foreignObjectRendering)!==null&&_l!==void 0?_l:!1,It={allowTaint:(ac=j.allowTaint)!==null&&ac!==void 0?ac:!1,onclone:j.onclone,ignoreElements:j.ignoreElements,inlineImages:jt,copyStyles:jt},qe.logger.debug("Starting document clone with size "+Ze.width+"x"+Ze.height+" scrolled to "+-Ze.left+","+-Ze.top),Kt=new Kr(qe,k,It),ws=Kt.clonedReferenceElement,ws?[4,Kt.toIFrame(F,Ze)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Cr=Bu.sent(),er=eh(ws)||$h(ws)?f(ws.ownerDocument):o(qe,ws),Ar=er.width,Zr=er.height,Or=er.left,Mr=er.top,ta=Hu(qe,ws,j.backgroundColor),Yn={canvas:j.canvas,backgroundColor:ta,scale:(_d=(Nd=j.scale)!==null&&Nd!==void 0?Nd:U.devicePixelRatio)!==null&&_d!==void 0?_d:1,x:((Nu=j.x)!==null&&Nu!==void 0?Nu:0)+Or,y:((zu=j.y)!==null&&zu!==void 0?zu:0)+Mr,width:(Vu=j.width)!==null&&Vu!==void 0?Vu:Math.ceil(Ar),height:(Cd=j.height)!==null&&Cd!==void 0?Cd:Math.ceil(Zr)},jt?(qe.logger.debug("Document cloned, using foreign object rendering"),da=new pa(qe,Yn),[4,da.render(ws)]):[3,3];case 2:return Cn=Bu.sent(),[3,5];case 3:return qe.logger.debug("Document cloned, element located at "+Or+","+Mr+" with size "+Ar+"x"+Zr+" using computed rendering"),qe.logger.debug("Starting DOM parsing"),Br=XA(qe,ws),ta===Br.styles.backgroundColor&&(Br.styles.backgroundColor=mi.TRANSPARENT),qe.logger.debug("Starting renderer for element at "+Yn.x+","+Yn.y+" with size "+Yn.width+"x"+Yn.height),da=new Mf(qe,Yn),[4,da.render(Br)];case 4:Cn=Bu.sent(),Bu.label=5;case 5:return(!((Cu=j.removeContainer)!==null&&Cu!==void 0)||Cu)&&(Kr.destroy(Cr)||qe.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),qe.logger.debug("Finished rendering"),[2,Cn]}})})},Hu=function(k,j,F){var U=j.ownerDocument,ne=U.documentElement?oi(k,getComputedStyle(U.documentElement).backgroundColor):mi.TRANSPARENT,ye=U.body?oi(k,getComputedStyle(U.body).backgroundColor):mi.TRANSPARENT,Fe=typeof F=="string"?oi(k,F):F===null?mi.TRANSPARENT:4294967295;return j===U.documentElement?wn(ne)?wn(ye)?Fe:ye:ne:Fe};return Rl}))})(fp)),fp.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var u2;function q6(){return u2||(u2=1,(function(s,e){(function(n,i){s.exports=i(Z6())})(self,function(r){return(function(){var n={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(m,p){(p==null||p>m.length)&&(p=m.length);for(var x=0,v=Array(p);x<p;x++)v[x]=m[x];return v}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(m){if(Array.isArray(m))return m}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return m}});function f(p,x,v,y,w,E,Q){try{var K=p[E](Q),Z=K.value}catch(J){return void v(J)}K.done?x(Z):Promise.resolve(Z).then(y,w)}function m(p){return function(){var x=this,v=arguments;return new Promise(function(y,w){var E=p.apply(x,v);function Q(Z){f(E,y,w,Q,K,"next",Z)}function K(Z){f(E,y,w,Q,K,"throw",Z)}Q(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return m}});var f=o("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function m(p,x,v){return(x=(0,f.default)(x))in p?Object.defineProperty(p,x,{value:v,enumerable:!0,configurable:!0,writable:!0}):p[x]=v,p}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(m,p){var x=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(x!=null){var v,y,w,E,Q=[],K=!0,Z=!1;try{if(w=(x=x.call(m)).next,p===0){if(Object(x)!==x)return;K=!1}else for(;!(K=(v=w.call(x)).done)&&(Q.push(v.value),Q.length!==p);K=!0);}catch(J){Z=!0,y=J}finally{try{if(!K&&x.return!=null&&(E=x.return(),Object(E)!==E))return}finally{if(Z)throw y}}return Q}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return v}});var f=o("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),m=o("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),p=o("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),x=o("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function v(y,w){return(0,f.default)(y)||(0,m.default)(y,w)||(0,p.default)(y,w)||(0,x.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return m}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js");function m(p,x){if((0,f.default)(p)!="object"||!p)return p;var v=p[Symbol.toPrimitive];if(v!==void 0){var y=v.call(p,x||"default");if((0,f.default)(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(p)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return p}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),m=o("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function p(x){var v=(0,m.default)(x,"string");return(0,f.default)(v)=="symbol"?v:v+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(m){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},f(m)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return m}});var f=o("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function m(p,x){if(p){if(typeof p=="string")return(0,f.default)(p,x);var v={}.toString.call(p).slice(8,-1);return v==="Object"&&p.constructor&&(v=p.constructor.name),v==="Map"||v==="Set"?Array.from(p):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?(0,f.default)(p,x):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(d,A,o){o.r(A),o.d(A,{AElement:function(){return uo},AnimateColorElement:function(){return Oi},AnimateElement:function(){return Zn},AnimateTransformElement:function(){return Dn},BoundingBox:function(){return fr},CB1:function(){return ue},CB2:function(){return te},CB3:function(){return ge},CB4:function(){return Me},Canvg:function(){return io},CircleElement:function(){return Is},ClipPathElement:function(){return Ai},DefsElement:function(){return qa},DescElement:function(){return Ki},Document:function(){return fi},Element:function(){return rr},EllipseElement:function(){return kr},FeColorMatrixElement:function(){return ho},FeCompositeElement:function(){return Ra},FeDropShadowElement:function(){return Va},FeGaussianBlurElement:function(){return fo},FeMorphologyElement:function(){return Ci},FilterElement:function(){return Yr},Font:function(){return Gs},FontElement:function(){return hc},FontFaceElement:function(){return ii},GElement:function(){return yn},GlyphElement:function(){return hs},GradientElement:function(){return In},ImageElement:function(){return qn},LineElement:function(){return nr},LinearGradientElement:function(){return $n},MarkerElement:function(){return gr},MaskElement:function(){return ei},Matrix:function(){return $s},MissingGlyphElement:function(){return Eo},Mouse:function(){return ls},PSEUDO_ZERO:function(){return Re},Parser:function(){return zs},PathElement:function(){return ds},PathParser:function(){return Ct},PatternElement:function(){return la},Point:function(){return ns},PolygonElement:function(){return Lr},PolylineElement:function(){return Ts},Property:function(){return et},QB1:function(){return Ve},QB2:function(){return Nt},QB3:function(){return ut},RadialGradientElement:function(){return Nn},RectElement:function(){return Ns},RenderedElement:function(){return Zt},Rotate:function(){return mr},SVGElement:function(){return tn},SVGFontLoader:function(){return ui},Scale:function(){return ar},Screen:function(){return Bt},Skew:function(){return As},SkewX:function(){return Rs},SkewY:function(){return br},StopElement:function(){return ga},StyleElement:function(){return Ni},SymbolElement:function(){return Ao},TRefElement:function(){return Vl},TSpanElement:function(){return Vs},TextElement:function(){return Ks},TextPathElement:function(){return sa},TitleElement:function(){return Gn},Transform:function(){return hr},Translate:function(){return yr},UnknownElement:function(){return Xs},UseElement:function(){return ul},ViewPort:function(){return Lt},compressSpaces:function(){return K},default:function(){return io},getSelectorSpecificity:function(){return Ee},normalizeAttributeName:function(){return ce},normalizeColor:function(){return Ne},parseExternalUrl:function(){return Ae},presets:function(){return Q},toNumbers:function(){return H},trimLeft:function(){return Z},trimRight:function(){return J},vectorMagnitude:function(){return ke},vectorsAngle:function(){return we},vectorsRatio:function(){return me}}),o("./node_modules/core-js/modules/es.promise.js");var f=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");o("./node_modules/core-js/modules/es.string.match.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.string.starts-with.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var m=o("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");o("./node_modules/core-js/modules/es.array.reduce.js"),o("./node_modules/core-js/modules/es.string.ends-with.js"),o("./node_modules/core-js/modules/es.string.split.js");var p=o("./node_modules/raf/index.js");o("./node_modules/core-js/modules/es.string.trim.js");var x=o("./node_modules/rgbcolor/index.js");o("./node_modules/core-js/modules/es.array.index-of.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.reverse.js");var v=o("./node_modules/svg-pathdata/lib/SVGPathData.module.js");o("./node_modules/core-js/modules/es.regexp.to-string.js");var y=o("./node_modules/stackblur-canvas/dist/stackblur-es.js");function w(){var{DOMParser:Et}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Et,createCanvas($,Y){return new OffscreenCanvas($,Y)},createImage($){return(0,f.default)(function*(){var Y=yield fetch($),T=yield Y.blob(),L=yield createImageBitmap(T);return L})()}};return(typeof DOMParser<"u"||typeof Et>"u")&&Reflect.deleteProperty(M,"DOMParser"),M}function E(Et){var{DOMParser:M,canvas:$,fetch:Y}=Et;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:M,fetch:Y,createCanvas:$.createCanvas,createImage:$.loadImage}}var Q=Object.freeze({__proto__:null,offscreen:w,node:E});function K(Et){return Et.replace(/(?!\u3000)\s+/gm," ")}function Z(Et){return Et.replace(/^[\n \t]+/,"")}function J(Et){return Et.replace(/[\n \t]+$/,"")}function H(Et){var M=(Et||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return M.map(parseFloat)}var G=/^[A-Z-]+$/;function ce(Et){return G.test(Et)?Et.toLowerCase():Et}function Ae(Et){var M=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Et)||[];return M[2]||M[3]||M[4]}function Ne(Et){if(!Et.startsWith("rgb"))return Et;var M=3,$=Et.replace(/\d+(\.\d+)?/g,(Y,T)=>M--&&T?String(Math.round(parseFloat(Y))):Y);return $}var re=/(\[[^\]]+\])/g,Be=/(#[^\s+>~.[:]+)/g,fe=/(\.[^\s+>~.[:]+)/g,Se=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,pe=/(:[\w-]+\([^)]*\))/gi,ae=/(:[^\s+>~.[:]+)/g,de=/([^\s+>~.[:]+)/g;function oe(Et,M){var $=M.exec(Et);return $?[Et.replace(M," "),$.length]:[Et,0]}function Ee(Et){var M=[0,0,0],$=Et.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),Y=0;return[$,Y]=oe($,re),M[1]+=Y,[$,Y]=oe($,Be),M[0]+=Y,[$,Y]=oe($,fe),M[1]+=Y,[$,Y]=oe($,Se),M[2]+=Y,[$,Y]=oe($,pe),M[1]+=Y,[$,Y]=oe($,ae),M[1]+=Y,$=$.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[$,Y]=oe($,de),M[2]+=Y,M.join("")}var Re=1e-8;function ke(Et){return Math.sqrt(Math.pow(Et[0],2)+Math.pow(Et[1],2))}function me(Et,M){return(Et[0]*M[0]+Et[1]*M[1])/(ke(Et)*ke(M))}function we(Et,M){return(Et[0]*M[1]<Et[1]*M[0]?-1:1)*Math.acos(me(Et,M))}function ue(Et){return Et*Et*Et}function te(Et){return 3*Et*Et*(1-Et)}function ge(Et){return 3*Et*(1-Et)*(1-Et)}function Me(Et){return(1-Et)*(1-Et)*(1-Et)}function Ve(Et){return Et*Et}function Nt(Et){return 2*Et*(1-Et)}function ut(Et){return(1-Et)*(1-Et)}class et{constructor(M,$,Y){this.document=M,this.name=$,this.value=Y,this.isNormalizedColor=!1}static empty(M){return new et(M,"EMPTY","")}split(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:$,name:Y}=this;return K(this.getString()).trim().split(M).map(T=>new et($,Y,T))}hasValue(M){var{value:$}=this;return $!==null&&$!==""&&(M||$!==0)&&typeof $<"u"}isString(M){var{value:$}=this,Y=typeof $=="string";return!Y||!M?Y:M.test($)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var M=this.getString();switch(!0){case M.endsWith("px"):case/^[0-9]+$/.test(M):return!0;default:return!1}}setValue(M){return this.value=M,this}getValue(M){return typeof M>"u"||this.hasValue()?this.value:M}getNumber(M){if(!this.hasValue())return typeof M>"u"?0:parseFloat(M);var{value:$}=this,Y=parseFloat($);return this.isString(/%$/)&&(Y/=100),Y}getString(M){return typeof M>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(M)}getColor(M){var $=this.getString(M);return this.isNormalizedColor||(this.isNormalizedColor=!0,$=Ne($),this.value=$),$}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[Y,T]=typeof M=="boolean"?[void 0,M]:[M],{viewPort:L}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(L.computeSize("x"),L.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(L.computeSize("x"),L.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*L.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*L.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&T):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*L.computeSize(Y);default:{var z=this.getNumber();return $&&z<1?z*L.computeSize(Y):z}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var M=this.getString(),$=/#([^)'"]+)/.exec(M);return $&&($=$[1]),$||($=M),this.document.definitions[$]}getFillStyleDefinition(M,$){var Y=this.getDefinition();if(!Y)return null;if(typeof Y.createGradient=="function")return Y.createGradient(this.document.ctx,M,$);if(typeof Y.createPattern=="function"){if(Y.getHrefAttribute().hasValue()){var T=Y.getAttribute("patternTransform");Y=Y.getHrefAttribute().getDefinition(),T.hasValue()&&Y.getAttribute("patternTransform",!0).setValue(T.value)}return Y.createPattern(this.document.ctx,M,$)}return null}getTextBaseline(){return this.hasValue()?et.textBaselineMapping[this.getString()]:null}addOpacity(M){for(var $=this.getColor(),Y=$.length,T=0,L=0;L<Y&&($[L]===","&&T++,T!==3);L++);if(M.hasValue()&&this.isString()&&T!==3){var z=new x($);z.ok&&(z.alpha=M.getNumber(),$=z.toRGBA())}return new et(this.document,this.name,$)}}et.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Lt{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(M,$){this.viewPorts.push({width:M,height:$})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:M}=this;return M[M.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(M){return typeof M=="number"?M:M==="x"?this.width:M==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class ns{constructor(M,$){this.x=M,this.y=$}static parse(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[Y=$,T=$]=H(M);return new ns(Y,T)}static parseScale(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[Y=$,T=Y]=H(M);return new ns(Y,T)}static parsePath(M){for(var $=H(M),Y=$.length,T=[],L=0;L<Y;L+=2)T.push(new ns($[L],$[L+1]));return T}angleTo(M){return Math.atan2(M.y-this.y,M.x-this.x)}applyTransform(M){var{x:$,y:Y}=this,T=$*M[0]+Y*M[2]+M[4],L=$*M[1]+Y*M[3]+M[5];this.x=T,this.y=L}}class ls{constructor(M){this.screen=M,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:M,onClick:$,onMouseMove:Y}=this,T=M.ctx.canvas;T.onclick=$,T.onmousemove=Y,this.working=!0}}stop(){if(this.working){var M=this.screen.ctx.canvas;this.working=!1,M.onclick=null,M.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:M,events:$,eventElements:Y}=this,{style:T}=M.ctx.canvas;T&&(T.cursor=""),$.forEach((L,z)=>{for(var{run:ie}=L,ve=Y[z];ve;)ie(ve),ve=ve.parent}),this.events=[],this.eventElements=[]}}checkPath(M,$){if(!(!this.working||!$)){var{events:Y,eventElements:T}=this;Y.forEach((L,z)=>{var{x:ie,y:ve}=L;!T[z]&&$.isPointInPath&&$.isPointInPath(ie,ve)&&(T[z]=M)})}}checkBoundingBox(M,$){if(!(!this.working||!$)){var{events:Y,eventElements:T}=this;Y.forEach((L,z)=>{var{x:ie,y:ve}=L;!T[z]&&$.isPointInBox(ie,ve)&&(T[z]=M)})}}mapXY(M,$){for(var{window:Y,ctx:T}=this.screen,L=new ns(M,$),z=T.canvas;z;)L.x-=z.offsetLeft,L.y-=z.offsetTop,z=z.offsetParent;return Y.scrollX&&(L.x+=Y.scrollX),Y.scrollY&&(L.y+=Y.scrollY),L}onClick(M){var{x:$,y:Y}=this.mapXY(M.clientX,M.clientY);this.events.push({type:"onclick",x:$,y:Y,run(T){T.onClick&&T.onClick()}})}onMouseMove(M){var{x:$,y:Y}=this.mapXY(M.clientX,M.clientY);this.events.push({type:"onmousemove",x:$,y:Y,run(T){T.onMouseMove&&T.onMouseMove()}})}}var vt=typeof window<"u"?window:null,$e=typeof fetch<"u"?fetch.bind(void 0):null;class Bt{constructor(M){var{fetch:$=$e,window:Y=vt}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=M,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Lt,this.mouse=new ls(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=Y,this.fetch=$}wait(M){this.waits.push(M)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var M=this.waits.every($=>$());return M&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=M,M}setDefaults(M){M.strokeStyle="rgba(0,0,0,0)",M.lineCap="butt",M.lineJoin="miter",M.miterLimit=4}setViewBox(M){var{document:$,ctx:Y,aspectRatio:T,width:L,desiredWidth:z,height:ie,desiredHeight:ve,minX:De=0,minY:Je=0,refX:N,refY:b,clip:S=!1,clipX:I=0,clipY:R=0}=M,V=K(T).replace(/^defer\s/,""),[le,q]=V.split(" "),ee=le||"xMidYMid",je=q||"meet",Le=L/z,ze=ie/ve,Xe=Math.min(Le,ze),xe=Math.max(Le,ze),ct=z,ot=ve;je==="meet"&&(ct*=Xe,ot*=Xe),je==="slice"&&(ct*=xe,ot*=xe);var At=new et($,"refX",N),We=new et($,"refY",b),yt=At.hasValue()&&We.hasValue();if(yt&&Y.translate(-Xe*At.getPixels("x"),-Xe*We.getPixels("y")),S){var Dt=Xe*I,pt=Xe*R;Y.beginPath(),Y.moveTo(Dt,pt),Y.lineTo(L,pt),Y.lineTo(L,ie),Y.lineTo(Dt,ie),Y.closePath(),Y.clip()}if(!yt){var Ge=je==="meet"&&Xe===ze,Ft=je==="slice"&&xe===ze,is=je==="meet"&&Xe===Le,Ht=je==="slice"&&xe===Le;ee.startsWith("xMid")&&(Ge||Ft)&&Y.translate(L/2-ct/2,0),ee.endsWith("YMid")&&(is||Ht)&&Y.translate(0,ie/2-ot/2),ee.startsWith("xMax")&&(Ge||Ft)&&Y.translate(L-ct,0),ee.endsWith("YMax")&&(is||Ht)&&Y.translate(0,ie-ot)}switch(!0){case ee==="none":Y.scale(Le,ze);break;case je==="meet":Y.scale(Xe,Xe);break;case je==="slice":Y.scale(xe,xe);break}Y.translate(-De,-Je)}start(M){var{enableRedraw:$=!1,ignoreMouse:Y=!1,ignoreAnimation:T=!1,ignoreDimensions:L=!1,ignoreClear:z=!1,forceRedraw:ie,scaleWidth:ve,scaleHeight:De,offsetX:Je,offsetY:N}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:b,mouse:S}=this,I=1e3/b;if(this.frameDuration=I,this.readyPromise=new Promise(ee=>{this.resolveReady=ee}),this.isReady()&&this.render(M,L,z,ve,De,Je,N),!!$){var R=Date.now(),V=R,le=0,q=()=>{R=Date.now(),le=R-V,le>=I&&(V=R-le%I,this.shouldUpdate(T,ie)&&(this.render(M,L,z,ve,De,Je,N),S.runEvents())),this.intervalId=p(q)};Y||S.start(),this.intervalId=p(q)}}stop(){this.intervalId&&(p.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(M,$){if(!M){var{frameDuration:Y}=this,T=this.animations.reduce((L,z)=>z.update(Y)||L,!1);if(T)return!0}return!!(typeof $=="function"&&$()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(M,$,Y,T,L,z,ie){var{CLIENT_WIDTH:ve,CLIENT_HEIGHT:De,viewPort:Je,ctx:N,isFirstRender:b}=this,S=N.canvas;Je.clear(),S.width&&S.height?Je.setCurrent(S.width,S.height):Je.setCurrent(ve,De);var I=M.getStyle("width"),R=M.getStyle("height");!$&&(b||typeof T!="number"&&typeof L!="number")&&(I.hasValue()&&(S.width=I.getPixels("x"),S.style&&(S.style.width="".concat(S.width,"px"))),R.hasValue()&&(S.height=R.getPixels("y"),S.style&&(S.style.height="".concat(S.height,"px"))));var V=S.clientWidth||S.width,le=S.clientHeight||S.height;if($&&I.hasValue()&&R.hasValue()&&(V=I.getPixels("x"),le=R.getPixels("y")),Je.setCurrent(V,le),typeof z=="number"&&M.getAttribute("x",!0).setValue(z),typeof ie=="number"&&M.getAttribute("y",!0).setValue(ie),typeof T=="number"||typeof L=="number"){var q=H(M.getAttribute("viewBox").getString()),ee=0,je=0;if(typeof T=="number"){var Le=M.getStyle("width");Le.hasValue()?ee=Le.getPixels("x")/T:isNaN(q[2])||(ee=q[2]/T)}if(typeof L=="number"){var ze=M.getStyle("height");ze.hasValue()?je=ze.getPixels("y")/L:isNaN(q[3])||(je=q[3]/L)}ee||(ee=je),je||(je=ee),M.getAttribute("width",!0).setValue(T),M.getAttribute("height",!0).setValue(L);var Xe=M.getStyle("transform",!0,!0);Xe.setValue("".concat(Xe.getString()," scale(").concat(1/ee,", ").concat(1/je,")"))}Y||N.clearRect(0,0,V,le),M.render(N),b&&(this.isFirstRender=!1)}}Bt.defaultWindow=vt,Bt.defaultFetch=$e;var{defaultFetch:Qt}=Bt,ks=typeof DOMParser<"u"?DOMParser:null;class zs{constructor(){var{fetch:M=Qt,DOMParser:$=ks}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=M,this.DOMParser=$}parse(M){var $=this;return(0,f.default)(function*(){return M.startsWith("<")?$.parseFromString(M):$.load(M)})()}parseFromString(M){var $=new this.DOMParser;try{return this.checkDocument($.parseFromString(M,"image/svg+xml"))}catch{return this.checkDocument($.parseFromString(M,"text/xml"))}}checkDocument(M){var $=M.getElementsByTagName("parsererror")[0];if($)throw new Error($.textContent);return M}load(M){var $=this;return(0,f.default)(function*(){var Y=yield $.fetch(M),T=yield Y.text();return $.parseFromString(T)})()}}class yr{constructor(M,$){this.type="translate",this.point=null,this.point=ns.parse($)}apply(M){var{x:$,y:Y}=this.point;M.translate($||0,Y||0)}unapply(M){var{x:$,y:Y}=this.point;M.translate(-1*$||0,-1*Y||0)}applyToPoint(M){var{x:$,y:Y}=this.point;M.applyTransform([1,0,0,1,$||0,Y||0])}}class mr{constructor(M,$,Y){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var T=H($);this.angle=new et(M,"angle",T[0]),this.originX=Y[0],this.originY=Y[1],this.cx=T[1]||0,this.cy=T[2]||0}apply(M){var{cx:$,cy:Y,originX:T,originY:L,angle:z}=this,ie=$+T.getPixels("x"),ve=Y+L.getPixels("y");M.translate(ie,ve),M.rotate(z.getRadians()),M.translate(-ie,-ve)}unapply(M){var{cx:$,cy:Y,originX:T,originY:L,angle:z}=this,ie=$+T.getPixels("x"),ve=Y+L.getPixels("y");M.translate(ie,ve),M.rotate(-1*z.getRadians()),M.translate(-ie,-ve)}applyToPoint(M){var{cx:$,cy:Y,angle:T}=this,L=T.getRadians();M.applyTransform([1,0,0,1,$||0,Y||0]),M.applyTransform([Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0]),M.applyTransform([1,0,0,1,-$||0,-Y||0])}}class ar{constructor(M,$,Y){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var T=ns.parseScale($);(T.x===0||T.y===0)&&(T.x=Re,T.y=Re),this.scale=T,this.originX=Y[0],this.originY=Y[1]}apply(M){var{scale:{x:$,y:Y},originX:T,originY:L}=this,z=T.getPixels("x"),ie=L.getPixels("y");M.translate(z,ie),M.scale($,Y||$),M.translate(-z,-ie)}unapply(M){var{scale:{x:$,y:Y},originX:T,originY:L}=this,z=T.getPixels("x"),ie=L.getPixels("y");M.translate(z,ie),M.scale(1/$,1/Y||$),M.translate(-z,-ie)}applyToPoint(M){var{x:$,y:Y}=this.scale;M.applyTransform([$||0,0,0,Y||0,0,0])}}class $s{constructor(M,$,Y){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=H($),this.originX=Y[0],this.originY=Y[1]}apply(M){var{originX:$,originY:Y,matrix:T}=this,L=$.getPixels("x"),z=Y.getPixels("y");M.translate(L,z),M.transform(T[0],T[1],T[2],T[3],T[4],T[5]),M.translate(-L,-z)}unapply(M){var{originX:$,originY:Y,matrix:T}=this,L=T[0],z=T[2],ie=T[4],ve=T[1],De=T[3],Je=T[5],N=0,b=0,S=1,I=1/(L*(De*S-Je*b)-z*(ve*S-Je*N)+ie*(ve*b-De*N)),R=$.getPixels("x"),V=Y.getPixels("y");M.translate(R,V),M.transform(I*(De*S-Je*b),I*(Je*N-ve*S),I*(ie*b-z*S),I*(L*S-ie*N),I*(z*Je-ie*De),I*(ie*ve-L*Je)),M.translate(-R,-V)}applyToPoint(M){M.applyTransform(this.matrix)}}class As extends $s{constructor(M,$,Y){super(M,$,Y),this.type="skew",this.angle=null,this.angle=new et(M,"angle",$)}}class Rs extends As{constructor(M,$,Y){super(M,$,Y),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class br extends As{constructor(M,$,Y){super(M,$,Y),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function js(Et){return K(Et).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function qs(Et){var[M,$]=Et.split("(");return[M.trim(),$.trim().replace(")","")]}class hr{constructor(M,$,Y){this.document=M,this.transforms=[];var T=js($);T.forEach(L=>{if(L!=="none"){var[z,ie]=qs(L),ve=hr.transformTypes[z];typeof ve<"u"&&this.transforms.push(new ve(this.document,ie,Y))}})}static fromElement(M,$){var Y=$.getStyle("transform",!1,!0),[T,L=T]=$.getStyle("transform-origin",!1,!0).split(),z=[T,L];return Y.hasValue()?new hr(M,Y.getString(),z):null}apply(M){for(var{transforms:$}=this,Y=$.length,T=0;T<Y;T++)$[T].apply(M)}unapply(M){for(var{transforms:$}=this,Y=$.length,T=Y-1;T>=0;T--)$[T].unapply(M)}applyToPoint(M){for(var{transforms:$}=this,Y=$.length,T=0;T<Y;T++)$[T].applyToPoint(M)}}hr.transformTypes={translate:yr,rotate:mr,scale:ar,matrix:$s,skewX:Rs,skewY:br};class rr{constructor(M,$){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=M,this.node=$,this.captureTextNodes=Y,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!$||$.nodeType!==1)){if(Array.from($.attributes).forEach(ie=>{var ve=ce(ie.nodeName);this.attributes[ve]=new et(M,ve,ie.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var T=this.getAttribute("style").getString().split(";").map(ie=>ie.trim());T.forEach(ie=>{if(ie){var[ve,De]=ie.split(":").map(Je=>Je.trim());this.styles[ve]=new et(M,ve,De)}})}var{definitions:L}=M,z=this.getAttribute("id");z.hasValue()&&(L[z.getString()]||(L[z.getString()]=this)),Array.from($.childNodes).forEach(ie=>{if(ie.nodeType===1)this.addChild(ie);else if(Y&&(ie.nodeType===3||ie.nodeType===4)){var ve=M.createTextNode(ie);ve.getText().length>0&&this.addChild(ve)}})}}getAttribute(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y=this.attributes[M];if(!Y&&$){var T=new et(this.document,M,"");return this.attributes[M]=T,T}return Y||et.empty(this.document)}getHrefAttribute(){for(var M in this.attributes)if(M==="href"||M.endsWith(":href"))return this.attributes[M];return et.empty(this.document)}getStyle(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=this.styles[M];if(T)return T;var L=this.getAttribute(M);if(L!=null&&L.hasValue())return this.styles[M]=L,L;if(!Y){var{parent:z}=this;if(z){var ie=z.getStyle(M);if(ie!=null&&ie.hasValue())return ie}}if($){var ve=new et(this.document,M,"");return this.styles[M]=ve,ve}return T||et.empty(this.document)}render(M){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(M.save(),this.getStyle("mask").hasValue()){var $=this.getStyle("mask").getDefinition();$&&(this.applyEffects(M),$.apply(M,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var Y=this.getStyle("filter").getDefinition();Y&&(this.applyEffects(M),Y.apply(M,this))}else this.setContext(M),this.renderChildren(M),this.clearContext(M);M.restore()}}setContext(M){}applyEffects(M){var $=hr.fromElement(this.document,this);$&&$.apply(M);var Y=this.getStyle("clip-path",!1,!0);if(Y.hasValue()){var T=Y.getDefinition();T&&T.apply(M)}}clearContext(M){}renderChildren(M){this.children.forEach($=>{$.render(M)})}addChild(M){var $=M instanceof rr?M:this.document.createElement(M);$.parent=this,rr.ignoreChildTypes.includes($.type)||this.children.push($)}matchesSelector(M){var $,{node:Y}=this;if(typeof Y.matches=="function")return Y.matches(M);var T=($=Y.getAttribute)===null||$===void 0?void 0:$.call(Y,"class");return!T||T===""?!1:T.split(" ").some(L=>".".concat(L)===M)}addStylesFromStyleDefinition(){var{styles:M,stylesSpecificity:$}=this.document;for(var Y in M)if(!Y.startsWith("@")&&this.matchesSelector(Y)){var T=M[Y],L=$[Y];if(T)for(var z in T){var ie=this.stylesSpecificity[z];typeof ie>"u"&&(ie="000"),L>=ie&&(this.styles[z]=T[z],this.stylesSpecificity[z]=L)}}}removeStyles(M,$){var Y=$.reduce((T,L)=>{var z=M.getStyle(L);if(!z.hasValue())return T;var ie=z.getString();return z.setValue(""),[...T,[L,ie]]},[]);return Y}restoreStyles(M,$){$.forEach(Y=>{var[T,L]=Y;M.getStyle(T,!0).setValue(L)})}isFirstChild(){var M;return((M=this.parent)===null||M===void 0?void 0:M.children.indexOf(this))===0}}rr.ignoreChildTypes=["title"];class Xs extends rr{constructor(M,$,Y){super(M,$,Y)}}function Es(Et){var M=Et.trim();return/^('|")/.test(M)?M:'"'.concat(M,'"')}function Gt(Et){return typeof process>"u"?Et:Et.trim().split(",").map(Es).join(",")}function vs(Et){if(!Et)return"";var M=Et.trim().toLowerCase();switch(M){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return M;default:return/^oblique\s+(-|)\d+deg$/.test(M)?M:""}}function Ms(Et){if(!Et)return"";var M=Et.trim().toLowerCase();switch(M){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return M;default:return/^[\d.]+$/.test(M)?M:""}}class Gs{constructor(M,$,Y,T,L,z){var ie=z?typeof z=="string"?Gs.parse(z):z:{};this.fontFamily=L||ie.fontFamily,this.fontSize=T||ie.fontSize,this.fontStyle=M||ie.fontStyle,this.fontWeight=Y||ie.fontWeight,this.fontVariant=$||ie.fontVariant}static parse(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",$=arguments.length>1?arguments[1]:void 0,Y="",T="",L="",z="",ie="",ve=K(M).trim().split(" "),De={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return ve.forEach(Je=>{switch(!0){case(!De.fontStyle&&Gs.styles.includes(Je)):Je!=="inherit"&&(Y=Je),De.fontStyle=!0;break;case(!De.fontVariant&&Gs.variants.includes(Je)):Je!=="inherit"&&(T=Je),De.fontStyle=!0,De.fontVariant=!0;break;case(!De.fontWeight&&Gs.weights.includes(Je)):Je!=="inherit"&&(L=Je),De.fontStyle=!0,De.fontVariant=!0,De.fontWeight=!0;break;case!De.fontSize:Je!=="inherit"&&([z]=Je.split("/")),De.fontStyle=!0,De.fontVariant=!0,De.fontWeight=!0,De.fontSize=!0;break;default:Je!=="inherit"&&(ie+=Je)}}),new Gs(Y,T,L,z,ie,$)}toString(){return[vs(this.fontStyle),this.fontVariant,Ms(this.fontWeight),this.fontSize,Gt(this.fontFamily)].join(" ").trim()}}Gs.styles="normal|italic|oblique|inherit",Gs.variants="normal|small-caps|inherit",Gs.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class fr{constructor(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=M,this.y1=$,this.x2=Y,this.y2=T,this.addPoint(M,$),this.addPoint(Y,T)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(M,$){typeof M<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=M,this.x2=M),M<this.x1&&(this.x1=M),M>this.x2&&(this.x2=M)),typeof $<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=$,this.y2=$),$<this.y1&&(this.y1=$),$>this.y2&&(this.y2=$))}addX(M){this.addPoint(M,null)}addY(M){this.addPoint(null,M)}addBoundingBox(M){if(M){var{x1:$,y1:Y,x2:T,y2:L}=M;this.addPoint($,Y),this.addPoint(T,L)}}sumCubic(M,$,Y,T,L){return Math.pow(1-M,3)*$+3*Math.pow(1-M,2)*M*Y+3*(1-M)*Math.pow(M,2)*T+Math.pow(M,3)*L}bezierCurveAdd(M,$,Y,T,L){var z=6*$-12*Y+6*T,ie=-3*$+9*Y-9*T+3*L,ve=3*Y-3*$;if(ie===0){if(z===0)return;var De=-ve/z;0<De&&De<1&&(M?this.addX(this.sumCubic(De,$,Y,T,L)):this.addY(this.sumCubic(De,$,Y,T,L)));return}var Je=Math.pow(z,2)-4*ve*ie;if(!(Je<0)){var N=(-z+Math.sqrt(Je))/(2*ie);0<N&&N<1&&(M?this.addX(this.sumCubic(N,$,Y,T,L)):this.addY(this.sumCubic(N,$,Y,T,L)));var b=(-z-Math.sqrt(Je))/(2*ie);0<b&&b<1&&(M?this.addX(this.sumCubic(b,$,Y,T,L)):this.addY(this.sumCubic(b,$,Y,T,L)))}}addBezierCurve(M,$,Y,T,L,z,ie,ve){this.addPoint(M,$),this.addPoint(ie,ve),this.bezierCurveAdd(!0,M,Y,L,ie),this.bezierCurveAdd(!1,$,T,z,ve)}addQuadraticCurve(M,$,Y,T,L,z){var ie=M+.6666666666666666*(Y-M),ve=$+2/3*(T-$),De=ie+1/3*(L-M),Je=ve+1/3*(z-$);this.addBezierCurve(M,$,ie,De,ve,Je,L,z)}isPointInBox(M,$){var{x1:Y,y1:T,x2:L,y2:z}=this;return Y<=M&&M<=L&&T<=$&&$<=z}}class Ct extends v.SVGPathData{constructor(M){super(M.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new ns(0,0),this.control=new ns(0,0),this.current=new ns(0,0),this.points=[],this.angles=[]}isEnd(){var{i:M,commands:$}=this;return M>=$.length-1}next(){var M=this.commands[++this.i];return this.previousCommand=this.command,this.command=M,M}getPoint(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",Y=new ns(this.command[M],this.command[$]);return this.makeAbsolute(Y)}getAsControlPoint(M,$){var Y=this.getPoint(M,$);return this.control=Y,Y}getAsCurrentPoint(M,$){var Y=this.getPoint(M,$);return this.current=Y,Y}getReflectedControlPoint(){var M=this.previousCommand.type;if(M!==v.SVGPathData.CURVE_TO&&M!==v.SVGPathData.SMOOTH_CURVE_TO&&M!==v.SVGPathData.QUAD_TO&&M!==v.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:$,y:Y},control:{x:T,y:L}}=this,z=new ns(2*$-T,2*Y-L);return z}makeAbsolute(M){if(this.command.relative){var{x:$,y:Y}=this.current;M.x+=$,M.y+=Y}return M}addMarker(M,$,Y){var{points:T,angles:L}=this;Y&&L.length>0&&!L[L.length-1]&&(L[L.length-1]=T[T.length-1].angleTo(Y)),this.addMarkerAngle(M,$?$.angleTo(M):null)}addMarkerAngle(M,$){this.points.push(M),this.angles.push($)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:M}=this,$=M.length,Y=0;Y<$;Y++)if(!M[Y]){for(var T=Y+1;T<$;T++)if(M[T]){M[Y]=M[T];break}}return M}}class Zt extends rr{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var M=1,$=this;$;){var Y=$.getStyle("opacity",!1,!0);Y.hasValue(!0)&&(M*=Y.getNumber()),$=$.parent}return M}setContext(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!$){var Y=this.getStyle("fill"),T=this.getStyle("fill-opacity"),L=this.getStyle("stroke"),z=this.getStyle("stroke-opacity");if(Y.isUrlDefinition()){var ie=Y.getFillStyleDefinition(this,T);ie&&(M.fillStyle=ie)}else if(Y.hasValue()){Y.getString()==="currentColor"&&Y.setValue(this.getStyle("color").getColor());var ve=Y.getColor();ve!=="inherit"&&(M.fillStyle=ve==="none"?"rgba(0,0,0,0)":ve)}if(T.hasValue()){var De=new et(this.document,"fill",M.fillStyle).addOpacity(T).getColor();M.fillStyle=De}if(L.isUrlDefinition()){var Je=L.getFillStyleDefinition(this,z);Je&&(M.strokeStyle=Je)}else if(L.hasValue()){L.getString()==="currentColor"&&L.setValue(this.getStyle("color").getColor());var N=L.getString();N!=="inherit"&&(M.strokeStyle=N==="none"?"rgba(0,0,0,0)":N)}if(z.hasValue()){var b=new et(this.document,"stroke",M.strokeStyle).addOpacity(z).getString();M.strokeStyle=b}var S=this.getStyle("stroke-width");if(S.hasValue()){var I=S.getPixels();M.lineWidth=I||Re}var R=this.getStyle("stroke-linecap"),V=this.getStyle("stroke-linejoin"),le=this.getStyle("stroke-miterlimit"),q=this.getStyle("stroke-dasharray"),ee=this.getStyle("stroke-dashoffset");if(R.hasValue()&&(M.lineCap=R.getString()),V.hasValue()&&(M.lineJoin=V.getString()),le.hasValue()&&(M.miterLimit=le.getNumber()),q.hasValue()&&q.getString()!=="none"){var je=H(q.getString());typeof M.setLineDash<"u"?M.setLineDash(je):typeof M.webkitLineDash<"u"?M.webkitLineDash=je:typeof M.mozDash<"u"&&!(je.length===1&&je[0]===0)&&(M.mozDash=je);var Le=ee.getPixels();typeof M.lineDashOffset<"u"?M.lineDashOffset=Le:typeof M.webkitLineDashOffset<"u"?M.webkitLineDashOffset=Le:typeof M.mozDashOffset<"u"&&(M.mozDashOffset=Le)}}if(this.modifiedEmSizeStack=!1,typeof M.font<"u"){var ze=this.getStyle("font"),Xe=this.getStyle("font-style"),xe=this.getStyle("font-variant"),ct=this.getStyle("font-weight"),ot=this.getStyle("font-size"),At=this.getStyle("font-family"),We=new Gs(Xe.getString(),xe.getString(),ct.getString(),ot.hasValue()?"".concat(ot.getPixels(!0),"px"):"",At.getString(),Gs.parse(ze.getString(),M.font));Xe.setValue(We.fontStyle),xe.setValue(We.fontVariant),ct.setValue(We.fontWeight),ot.setValue(We.fontSize),At.setValue(We.fontFamily),M.font=We.toString(),ot.isPixels()&&(this.document.emSize=ot.getPixels(),this.modifiedEmSizeStack=!0)}$||(this.applyEffects(M),M.globalAlpha=this.calculateOpacity())}clearContext(M){super.clearContext(M),this.modifiedEmSizeStack&&this.document.popEmSize()}}class ds extends Zt{constructor(M,$,Y){super(M,$,Y),this.type="path",this.pathParser=null,this.pathParser=new Ct(this.getAttribute("d").getString())}path(M){var{pathParser:$}=this,Y=new fr;for($.reset(),M&&M.beginPath();!$.isEnd();)switch($.next().type){case Ct.MOVE_TO:this.pathM(M,Y);break;case Ct.LINE_TO:this.pathL(M,Y);break;case Ct.HORIZ_LINE_TO:this.pathH(M,Y);break;case Ct.VERT_LINE_TO:this.pathV(M,Y);break;case Ct.CURVE_TO:this.pathC(M,Y);break;case Ct.SMOOTH_CURVE_TO:this.pathS(M,Y);break;case Ct.QUAD_TO:this.pathQ(M,Y);break;case Ct.SMOOTH_QUAD_TO:this.pathT(M,Y);break;case Ct.ARC:this.pathA(M,Y);break;case Ct.CLOSE_PATH:this.pathZ(M,Y);break}return Y}getBoundingBox(M){return this.path()}getMarkers(){var{pathParser:M}=this,$=M.getMarkerPoints(),Y=M.getMarkerAngles(),T=$.map((L,z)=>[L,Y[z]]);return T}renderChildren(M){this.path(M),this.document.screen.mouse.checkPath(this,M);var $=this.getStyle("fill-rule");M.fillStyle!==""&&($.getString("inherit")!=="inherit"?M.fill($.getString()):M.fill()),M.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(M.save(),M.setTransform(1,0,0,1,0,0),M.stroke(),M.restore()):M.stroke());var Y=this.getMarkers();if(Y){var T=Y.length-1,L=this.getStyle("marker-start"),z=this.getStyle("marker-mid"),ie=this.getStyle("marker-end");if(L.isUrlDefinition()){var ve=L.getDefinition(),[De,Je]=Y[0];ve.render(M,De,Je)}if(z.isUrlDefinition())for(var N=z.getDefinition(),b=1;b<T;b++){var[S,I]=Y[b];N.render(M,S,I)}if(ie.isUrlDefinition()){var R=ie.getDefinition(),[V,le]=Y[T];R.render(M,V,le)}}}static pathM(M){var $=M.getAsCurrentPoint();return M.start=M.current,{point:$}}pathM(M,$){var{pathParser:Y}=this,{point:T}=ds.pathM(Y),{x:L,y:z}=T;Y.addMarker(T),$.addPoint(L,z),M&&M.moveTo(L,z)}static pathL(M){var{current:$}=M,Y=M.getAsCurrentPoint();return{current:$,point:Y}}pathL(M,$){var{pathParser:Y}=this,{current:T,point:L}=ds.pathL(Y),{x:z,y:ie}=L;Y.addMarker(L,T),$.addPoint(z,ie),M&&M.lineTo(z,ie)}static pathH(M){var{current:$,command:Y}=M,T=new ns((Y.relative?$.x:0)+Y.x,$.y);return M.current=T,{current:$,point:T}}pathH(M,$){var{pathParser:Y}=this,{current:T,point:L}=ds.pathH(Y),{x:z,y:ie}=L;Y.addMarker(L,T),$.addPoint(z,ie),M&&M.lineTo(z,ie)}static pathV(M){var{current:$,command:Y}=M,T=new ns($.x,(Y.relative?$.y:0)+Y.y);return M.current=T,{current:$,point:T}}pathV(M,$){var{pathParser:Y}=this,{current:T,point:L}=ds.pathV(Y),{x:z,y:ie}=L;Y.addMarker(L,T),$.addPoint(z,ie),M&&M.lineTo(z,ie)}static pathC(M){var{current:$}=M,Y=M.getPoint("x1","y1"),T=M.getAsControlPoint("x2","y2"),L=M.getAsCurrentPoint();return{current:$,point:Y,controlPoint:T,currentPoint:L}}pathC(M,$){var{pathParser:Y}=this,{current:T,point:L,controlPoint:z,currentPoint:ie}=ds.pathC(Y);Y.addMarker(ie,z,L),$.addBezierCurve(T.x,T.y,L.x,L.y,z.x,z.y,ie.x,ie.y),M&&M.bezierCurveTo(L.x,L.y,z.x,z.y,ie.x,ie.y)}static pathS(M){var{current:$}=M,Y=M.getReflectedControlPoint(),T=M.getAsControlPoint("x2","y2"),L=M.getAsCurrentPoint();return{current:$,point:Y,controlPoint:T,currentPoint:L}}pathS(M,$){var{pathParser:Y}=this,{current:T,point:L,controlPoint:z,currentPoint:ie}=ds.pathS(Y);Y.addMarker(ie,z,L),$.addBezierCurve(T.x,T.y,L.x,L.y,z.x,z.y,ie.x,ie.y),M&&M.bezierCurveTo(L.x,L.y,z.x,z.y,ie.x,ie.y)}static pathQ(M){var{current:$}=M,Y=M.getAsControlPoint("x1","y1"),T=M.getAsCurrentPoint();return{current:$,controlPoint:Y,currentPoint:T}}pathQ(M,$){var{pathParser:Y}=this,{current:T,controlPoint:L,currentPoint:z}=ds.pathQ(Y);Y.addMarker(z,L,L),$.addQuadraticCurve(T.x,T.y,L.x,L.y,z.x,z.y),M&&M.quadraticCurveTo(L.x,L.y,z.x,z.y)}static pathT(M){var{current:$}=M,Y=M.getReflectedControlPoint();M.control=Y;var T=M.getAsCurrentPoint();return{current:$,controlPoint:Y,currentPoint:T}}pathT(M,$){var{pathParser:Y}=this,{current:T,controlPoint:L,currentPoint:z}=ds.pathT(Y);Y.addMarker(z,L,L),$.addQuadraticCurve(T.x,T.y,L.x,L.y,z.x,z.y),M&&M.quadraticCurveTo(L.x,L.y,z.x,z.y)}static pathA(M){var{current:$,command:Y}=M,{rX:T,rY:L,xRot:z,lArcFlag:ie,sweepFlag:ve}=Y,De=z*(Math.PI/180),Je=M.getAsCurrentPoint(),N=new ns(Math.cos(De)*($.x-Je.x)/2+Math.sin(De)*($.y-Je.y)/2,-Math.sin(De)*($.x-Je.x)/2+Math.cos(De)*($.y-Je.y)/2),b=Math.pow(N.x,2)/Math.pow(T,2)+Math.pow(N.y,2)/Math.pow(L,2);b>1&&(T*=Math.sqrt(b),L*=Math.sqrt(b));var S=(ie===ve?-1:1)*Math.sqrt((Math.pow(T,2)*Math.pow(L,2)-Math.pow(T,2)*Math.pow(N.y,2)-Math.pow(L,2)*Math.pow(N.x,2))/(Math.pow(T,2)*Math.pow(N.y,2)+Math.pow(L,2)*Math.pow(N.x,2)));isNaN(S)&&(S=0);var I=new ns(S*T*N.y/L,S*-L*N.x/T),R=new ns(($.x+Je.x)/2+Math.cos(De)*I.x-Math.sin(De)*I.y,($.y+Je.y)/2+Math.sin(De)*I.x+Math.cos(De)*I.y),V=we([1,0],[(N.x-I.x)/T,(N.y-I.y)/L]),le=[(N.x-I.x)/T,(N.y-I.y)/L],q=[(-N.x-I.x)/T,(-N.y-I.y)/L],ee=we(le,q);return me(le,q)<=-1&&(ee=Math.PI),me(le,q)>=1&&(ee=0),{currentPoint:Je,rX:T,rY:L,sweepFlag:ve,xAxisRotation:De,centp:R,a1:V,ad:ee}}pathA(M,$){var{pathParser:Y}=this,{currentPoint:T,rX:L,rY:z,sweepFlag:ie,xAxisRotation:ve,centp:De,a1:Je,ad:N}=ds.pathA(Y),b=1-ie?1:-1,S=Je+b*(N/2),I=new ns(De.x+L*Math.cos(S),De.y+z*Math.sin(S));if(Y.addMarkerAngle(I,S-b*Math.PI/2),Y.addMarkerAngle(T,S-b*Math.PI),$.addPoint(T.x,T.y),M&&!isNaN(Je)&&!isNaN(N)){var R=L>z?L:z,V=L>z?1:L/z,le=L>z?z/L:1;M.translate(De.x,De.y),M.rotate(ve),M.scale(V,le),M.arc(0,0,R,Je,Je+N,!!(1-ie)),M.scale(1/V,1/le),M.rotate(-ve),M.translate(-De.x,-De.y)}}static pathZ(M){M.current=M.start}pathZ(M,$){ds.pathZ(this.pathParser),M&&$.x1!==$.x2&&$.y1!==$.y2&&M.closePath()}}class hs extends ds{constructor(M,$,Y){super(M,$,Y),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class Ks extends Zt{constructor(M,$,Y){super(M,$,new.target===Ks?!0:Y),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(M,$);var Y=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();Y&&(M.textBaseline=Y)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(M){if(this.type!=="text")return this.getTElementBoundingBox(M);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(M);var $=null;return this.children.forEach((Y,T)=>{var L=this.getChildBoundingBox(M,this,this,T);$?$.addBoundingBox(L):$=L}),$}getFontSize(){var{document:M,parent:$}=this,Y=Gs.parse(M.ctx.font).fontSize,T=$.getStyle("font-size").getNumber(Y);return T}getTElementBoundingBox(M){var $=this.getFontSize();return new fr(this.x,this.y-$,this.x+this.measureText(M),this.y)}getGlyph(M,$,Y){var T=$[Y],L=null;if(M.isArabic){var z=$.length,ie=$[Y-1],ve=$[Y+1],De="isolated";if((Y===0||ie===" ")&&Y<z-1&&ve!==" "&&(De="terminal"),Y>0&&ie!==" "&&Y<z-1&&ve!==" "&&(De="medial"),Y>0&&ie!==" "&&(Y===z-1||ve===" ")&&(De="initial"),typeof M.glyphs[T]<"u"){var Je=M.glyphs[T];L=Je instanceof hs?Je:Je[De]}}else L=M.glyphs[T];return L||(L=M.missingGlyph),L}getText(){return""}getTextFromNode(M){var $=M||this.node,Y=Array.from($.parentNode.childNodes),T=Y.indexOf($),L=Y.length-1,z=K($.textContent||"");return T===0&&(z=Z(z)),T===L&&(z=J(z)),z}renderChildren(M){if(this.type!=="text"){this.renderTElementChildren(M);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(M),this.children.forEach((Y,T)=>{this.renderChild(M,this,this,T)});var{mouse:$}=this.document.screen;$.isWorking()&&$.checkBoundingBox(this,this.getBoundingBox(M))}renderTElementChildren(M){var{document:$,parent:Y}=this,T=this.getText(),L=Y.getStyle("font-family").getDefinition();if(L){for(var{unitsPerEm:z}=L.fontFace,ie=Gs.parse($.ctx.font),ve=Y.getStyle("font-size").getNumber(ie.fontSize),De=Y.getStyle("font-style").getString(ie.fontStyle),Je=ve/z,N=L.isRTL?T.split("").reverse().join(""):T,b=H(Y.getAttribute("dx").getString()),S=N.length,I=0;I<S;I++){var R=this.getGlyph(L,N,I);M.translate(this.x,this.y),M.scale(Je,-Je);var V=M.lineWidth;M.lineWidth=M.lineWidth*z/ve,De==="italic"&&M.transform(1,0,.4,1,0,0),R.render(M),De==="italic"&&M.transform(1,0,-.4,1,0,0),M.lineWidth=V,M.scale(1/Je,-1/Je),M.translate(-this.x,-this.y),this.x+=ve*(R.horizAdvX||L.horizAdvX)/z,typeof b[I]<"u"&&!isNaN(b[I])&&(this.x+=b[I])}return}var{x:le,y:q}=this;M.fillStyle&&M.fillText(T,le,q),M.strokeStyle&&M.strokeText(T,le,q)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var M=this.leafTexts[this.textChunkStart],$=M.getStyle("text-anchor").getString("start"),Y=!1,T=0;$==="start"&&!Y||$==="end"&&Y?T=M.x-this.minX:$==="end"&&!Y||$==="start"&&Y?T=M.x-this.maxX:T=M.x-(this.minX+this.maxX)/2;for(var L=this.textChunkStart;L<this.leafTexts.length;L++)this.leafTexts[L].x+=T;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(M){this.children.forEach(($,Y)=>{this.adjustChildCoordinatesRecursiveCore(M,this,this,Y)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(M,$,Y,T){var L=Y.children[T];L.children.length>0?L.children.forEach((z,ie)=>{$.adjustChildCoordinatesRecursiveCore(M,$,L,ie)}):this.adjustChildCoordinates(M,$,Y,T)}adjustChildCoordinates(M,$,Y,T){var L=Y.children[T];if(typeof L.measureText!="function")return L;M.save(),L.setContext(M,!0);var z=L.getAttribute("x"),ie=L.getAttribute("y"),ve=L.getAttribute("dx"),De=L.getAttribute("dy"),Je=L.getStyle("font-family").getDefinition(),N=!!Je&&Je.isRTL;T===0&&(z.hasValue()||z.setValue(L.getInheritedAttribute("x")),ie.hasValue()||ie.setValue(L.getInheritedAttribute("y")),ve.hasValue()||ve.setValue(L.getInheritedAttribute("dx")),De.hasValue()||De.setValue(L.getInheritedAttribute("dy")));var b=L.measureText(M);return N&&($.x-=b),z.hasValue()?($.applyAnchoring(),L.x=z.getPixels("x"),ve.hasValue()&&(L.x+=ve.getPixels("x"))):(ve.hasValue()&&($.x+=ve.getPixels("x")),L.x=$.x),$.x=L.x,N||($.x+=b),ie.hasValue()?(L.y=ie.getPixels("y"),De.hasValue()&&(L.y+=De.getPixels("y"))):(De.hasValue()&&($.y+=De.getPixels("y")),L.y=$.y),$.y=L.y,$.leafTexts.push(L),$.minX=Math.min($.minX,L.x,L.x+b),$.maxX=Math.max($.maxX,L.x,L.x+b),L.clearContext(M),M.restore(),L}getChildBoundingBox(M,$,Y,T){var L=Y.children[T];if(typeof L.getBoundingBox!="function")return null;var z=L.getBoundingBox(M);return z?(L.children.forEach((ie,ve)=>{var De=$.getChildBoundingBox(M,$,L,ve);z.addBoundingBox(De)}),z):null}renderChild(M,$,Y,T){var L=Y.children[T];L.render(M),L.children.forEach((z,ie)=>{$.renderChild(M,$,L,ie)})}measureText(M){var{measureCache:$}=this;if(~$)return $;var Y=this.getText(),T=this.measureTargetText(M,Y);return this.measureCache=T,T}measureTargetText(M,$){if(!$.length)return 0;var{parent:Y}=this,T=Y.getStyle("font-family").getDefinition();if(T){for(var L=this.getFontSize(),z=T.isRTL?$.split("").reverse().join(""):$,ie=H(Y.getAttribute("dx").getString()),ve=z.length,De=0,Je=0;Je<ve;Je++){var N=this.getGlyph(T,z,Je);De+=(N.horizAdvX||T.horizAdvX)*L/T.fontFace.unitsPerEm,typeof ie[Je]<"u"&&!isNaN(ie[Je])&&(De+=ie[Je])}return De}if(!M.measureText)return $.length*10;M.save(),this.setContext(M,!0);var{width:b}=M.measureText($);return this.clearContext(M),M.restore(),b}getInheritedAttribute(M){for(var $=this;$ instanceof Ks&&$.isFirstChild();){var Y=$.parent.getAttribute(M);if(Y.hasValue(!0))return Y.getValue("0");$=$.parent}return null}}class Vs extends Ks{constructor(M,$,Y){super(M,$,new.target===Vs?!0:Y),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class pr extends Vs{constructor(){super(...arguments),this.type="textNode"}}class tn extends Zt{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(M){var $,{document:Y}=this,{screen:T,window:L}=Y,z=M.canvas;if(T.setDefaults(M),z.style&&typeof M.font<"u"&&L&&typeof L.getComputedStyle<"u"){M.font=L.getComputedStyle(z).getPropertyValue("font");var ie=new et(Y,"fontSize",Gs.parse(M.font).fontSize);ie.hasValue()&&(Y.rootEmSize=ie.getPixels("y"),Y.emSize=Y.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:ve,height:De}=T.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var Je=this.getAttribute("refX"),N=this.getAttribute("refY"),b=this.getAttribute("viewBox"),S=b.hasValue()?H(b.getString()):null,I=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",R=0,V=0,le=0,q=0;S&&(R=S[0],V=S[1]),this.root||(ve=this.getStyle("width").getPixels("x"),De=this.getStyle("height").getPixels("y"),this.type==="marker"&&(le=R,q=V,R=0,V=0)),T.viewPort.setCurrent(ve,De),this.node&&(!this.parent||(($=this.node.parentNode)===null||$===void 0?void 0:$.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(M),M.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),S&&(ve=S[2],De=S[3]),Y.setViewBox({ctx:M,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:T.viewPort.width,desiredWidth:ve,height:T.viewPort.height,desiredHeight:De,minX:R,minY:V,refX:Je.getValue(),refY:N.getValue(),clip:I,clipX:le,clipY:q}),S&&(T.viewPort.removeCurrent(),T.viewPort.setCurrent(ve,De))}clearContext(M){super.clearContext(M),this.document.screen.viewPort.removeCurrent()}resize(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=this.getAttribute("width",!0),L=this.getAttribute("height",!0),z=this.getAttribute("viewBox"),ie=this.getAttribute("style"),ve=T.getNumber(0),De=L.getNumber(0);if(Y)if(typeof Y=="string")this.getAttribute("preserveAspectRatio",!0).setValue(Y);else{var Je=this.getAttribute("preserveAspectRatio");Je.hasValue()&&Je.setValue(Je.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(T.setValue(M),L.setValue($),z.hasValue()||z.setValue("0 0 ".concat(ve||M," ").concat(De||$)),ie.hasValue()){var N=this.getStyle("width"),b=this.getStyle("height");N.hasValue()&&N.setValue("".concat(M,"px")),b.hasValue()&&b.setValue("".concat($,"px"))}}}class Ns extends ds{constructor(){super(...arguments),this.type="rect"}path(M){var $=this.getAttribute("x").getPixels("x"),Y=this.getAttribute("y").getPixels("y"),T=this.getStyle("width",!1,!0).getPixels("x"),L=this.getStyle("height",!1,!0).getPixels("y"),z=this.getAttribute("rx"),ie=this.getAttribute("ry"),ve=z.getPixels("x"),De=ie.getPixels("y");if(z.hasValue()&&!ie.hasValue()&&(De=ve),ie.hasValue()&&!z.hasValue()&&(ve=De),ve=Math.min(ve,T/2),De=Math.min(De,L/2),M){var Je=4*((Math.sqrt(2)-1)/3);M.beginPath(),L>0&&T>0&&(M.moveTo($+ve,Y),M.lineTo($+T-ve,Y),M.bezierCurveTo($+T-ve+Je*ve,Y,$+T,Y+De-Je*De,$+T,Y+De),M.lineTo($+T,Y+L-De),M.bezierCurveTo($+T,Y+L-De+Je*De,$+T-ve+Je*ve,Y+L,$+T-ve,Y+L),M.lineTo($+ve,Y+L),M.bezierCurveTo($+ve-Je*ve,Y+L,$,Y+L-De+Je*De,$,Y+L-De),M.lineTo($,Y+De),M.bezierCurveTo($,Y+De-Je*De,$+ve-Je*ve,Y,$+ve,Y),M.closePath())}return new fr($,Y,$+T,Y+L)}getMarkers(){return null}}class Is extends ds{constructor(){super(...arguments),this.type="circle"}path(M){var $=this.getAttribute("cx").getPixels("x"),Y=this.getAttribute("cy").getPixels("y"),T=this.getAttribute("r").getPixels();return M&&T>0&&(M.beginPath(),M.arc($,Y,T,0,Math.PI*2,!1),M.closePath()),new fr($-T,Y-T,$+T,Y+T)}getMarkers(){return null}}class kr extends ds{constructor(){super(...arguments),this.type="ellipse"}path(M){var $=4*((Math.sqrt(2)-1)/3),Y=this.getAttribute("rx").getPixels("x"),T=this.getAttribute("ry").getPixels("y"),L=this.getAttribute("cx").getPixels("x"),z=this.getAttribute("cy").getPixels("y");return M&&Y>0&&T>0&&(M.beginPath(),M.moveTo(L+Y,z),M.bezierCurveTo(L+Y,z+$*T,L+$*Y,z+T,L,z+T),M.bezierCurveTo(L-$*Y,z+T,L-Y,z+$*T,L-Y,z),M.bezierCurveTo(L-Y,z-$*T,L-$*Y,z-T,L,z-T),M.bezierCurveTo(L+$*Y,z-T,L+Y,z-$*T,L+Y,z),M.closePath()),new fr(L-Y,z-T,L+Y,z+T)}getMarkers(){return null}}class nr extends ds{constructor(){super(...arguments),this.type="line"}getPoints(){return[new ns(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new ns(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(M){var[{x:$,y:Y},{x:T,y:L}]=this.getPoints();return M&&(M.beginPath(),M.moveTo($,Y),M.lineTo(T,L)),new fr($,Y,T,L)}getMarkers(){var[M,$]=this.getPoints(),Y=M.angleTo($);return[[M,Y],[$,Y]]}}class Ts extends ds{constructor(M,$,Y){super(M,$,Y),this.type="polyline",this.points=[],this.points=ns.parsePath(this.getAttribute("points").getString())}path(M){var{points:$}=this,[{x:Y,y:T}]=$,L=new fr(Y,T);return M&&(M.beginPath(),M.moveTo(Y,T)),$.forEach(z=>{var{x:ie,y:ve}=z;L.addPoint(ie,ve),M&&M.lineTo(ie,ve)}),L}getMarkers(){var{points:M}=this,$=M.length-1,Y=[];return M.forEach((T,L)=>{L!==$&&Y.push([T,T.angleTo(M[L+1])])}),Y.length>0&&Y.push([M[M.length-1],Y[Y.length-1][1]]),Y}}class Lr extends Ts{constructor(){super(...arguments),this.type="polygon"}path(M){var $=super.path(M),[{x:Y,y:T}]=this.points;return M&&(M.lineTo(Y,T),M.closePath()),$}}class la extends rr{constructor(){super(...arguments),this.type="pattern"}createPattern(M,$,Y){var T=this.getStyle("width").getPixels("x",!0),L=this.getStyle("height").getPixels("y",!0),z=new tn(this.document,null);z.attributes.viewBox=new et(this.document,"viewBox",this.getAttribute("viewBox").getValue()),z.attributes.width=new et(this.document,"width","".concat(T,"px")),z.attributes.height=new et(this.document,"height","".concat(L,"px")),z.attributes.transform=new et(this.document,"transform",this.getAttribute("patternTransform").getValue()),z.children=this.children;var ie=this.document.createCanvas(T,L),ve=ie.getContext("2d"),De=this.getAttribute("x"),Je=this.getAttribute("y");De.hasValue()&&Je.hasValue()&&ve.translate(De.getPixels("x",!0),Je.getPixels("y",!0)),Y.hasValue()?this.styles["fill-opacity"]=Y:Reflect.deleteProperty(this.styles,"fill-opacity");for(var N=-1;N<=1;N++)for(var b=-1;b<=1;b++)ve.save(),z.attributes.x=new et(this.document,"x",N*ie.width),z.attributes.y=new et(this.document,"y",b*ie.height),z.render(ve),ve.restore();var S=M.createPattern(ie,"repeat");return S}}class gr extends rr{constructor(){super(...arguments),this.type="marker"}render(M,$,Y){if($){var{x:T,y:L}=$,z=this.getAttribute("orient").getString("auto"),ie=this.getAttribute("markerUnits").getString("strokeWidth");M.translate(T,L),z==="auto"&&M.rotate(Y),ie==="strokeWidth"&&M.scale(M.lineWidth,M.lineWidth),M.save();var ve=new tn(this.document,null);ve.type=this.type,ve.attributes.viewBox=new et(this.document,"viewBox",this.getAttribute("viewBox").getValue()),ve.attributes.refX=new et(this.document,"refX",this.getAttribute("refX").getValue()),ve.attributes.refY=new et(this.document,"refY",this.getAttribute("refY").getValue()),ve.attributes.width=new et(this.document,"width",this.getAttribute("markerWidth").getValue()),ve.attributes.height=new et(this.document,"height",this.getAttribute("markerHeight").getValue()),ve.attributes.overflow=new et(this.document,"overflow",this.getAttribute("overflow").getValue()),ve.attributes.fill=new et(this.document,"fill",this.getAttribute("fill").getColor("black")),ve.attributes.stroke=new et(this.document,"stroke",this.getAttribute("stroke").getValue("none")),ve.children=this.children,ve.render(M),M.restore(),ie==="strokeWidth"&&M.scale(1/M.lineWidth,1/M.lineWidth),z==="auto"&&M.rotate(-Y),M.translate(-T,-L)}}}class qa extends rr{constructor(){super(...arguments),this.type="defs"}render(){}}class yn extends Zt{constructor(){super(...arguments),this.type="g"}getBoundingBox(M){var $=new fr;return this.children.forEach(Y=>{$.addBoundingBox(Y.getBoundingBox(M))}),$}}class In extends rr{constructor(M,$,Y){super(M,$,Y),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:T,children:L}=this;L.forEach(z=>{z.type==="stop"&&T.push(z)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(M,$,Y){var T=this;this.getHrefAttribute().hasValue()&&(T=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(T));var{stops:L}=T,z=this.getGradient(M,$);if(!z)return this.addParentOpacity(Y,L[L.length-1].color);if(L.forEach(V=>{z.addColorStop(V.offset,this.addParentOpacity(Y,V.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:ie}=this,{MAX_VIRTUAL_PIXELS:ve,viewPort:De}=ie.screen,[Je]=De.viewPorts,N=new Ns(ie,null);N.attributes.x=new et(ie,"x",-ve/3),N.attributes.y=new et(ie,"y",-ve/3),N.attributes.width=new et(ie,"width",ve),N.attributes.height=new et(ie,"height",ve);var b=new yn(ie,null);b.attributes.transform=new et(ie,"transform",this.getAttribute("gradientTransform").getValue()),b.children=[N];var S=new tn(ie,null);S.attributes.x=new et(ie,"x",0),S.attributes.y=new et(ie,"y",0),S.attributes.width=new et(ie,"width",Je.width),S.attributes.height=new et(ie,"height",Je.height),S.children=[b];var I=ie.createCanvas(Je.width,Je.height),R=I.getContext("2d");return R.fillStyle=z,S.render(R),R.createPattern(I,"no-repeat")}return z}inheritStopContainer(M){this.attributesToInherit.forEach($=>{!this.getAttribute($).hasValue()&&M.getAttribute($).hasValue()&&this.getAttribute($,!0).setValue(M.getAttribute($).getValue())})}addParentOpacity(M,$){if(M.hasValue()){var Y=new et(this.document,"color",$);return Y.addOpacity(M).getColor()}return $}}class $n extends In{constructor(M,$,Y){super(M,$,Y),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(M,$){var Y=this.getGradientUnits()==="objectBoundingBox",T=Y?$.getBoundingBox(M):null;if(Y&&!T)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var L=Y?T.x+T.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),z=Y?T.y+T.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),ie=Y?T.x+T.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),ve=Y?T.y+T.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return L===ie&&z===ve?null:M.createLinearGradient(L,z,ie,ve)}}class Nn extends In{constructor(M,$,Y){super(M,$,Y),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(M,$){var Y=this.getGradientUnits()==="objectBoundingBox",T=$.getBoundingBox(M);if(Y&&!T)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var L=Y?T.x+T.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),z=Y?T.y+T.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),ie=L,ve=z;this.getAttribute("fx").hasValue()&&(ie=Y?T.x+T.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(ve=Y?T.y+T.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var De=Y?(T.width+T.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),Je=this.getAttribute("fr").getPixels();return M.createRadialGradient(ie,ve,Je,L,z,De)}}class ga extends rr{constructor(M,$,Y){super(M,$,Y),this.type="stop";var T=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),L=this.getStyle("stop-opacity"),z=this.getStyle("stop-color",!0);z.getString()===""&&z.setValue("#000"),L.hasValue()&&(z=z.addOpacity(L)),this.offset=T,this.color=z.getColor()}}class Zn extends rr{constructor(M,$,Y){super(M,$,Y),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,M.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new et(M,"values",null);var T=this.getAttribute("values");T.hasValue()&&this.values.setValue(T.getString().split(";"))}getProperty(){var M=this.getAttribute("attributeType").getString(),$=this.getAttribute("attributeName").getString();return M==="CSS"?this.parent.getStyle($,!0):this.parent.getAttribute($,!0)}calcValue(){var{initialUnits:M}=this,{progress:$,from:Y,to:T}=this.getProgress(),L=Y.getNumber()+(T.getNumber()-Y.getNumber())*$;return M==="%"&&(L*=100),"".concat(L).concat(M)}update(M){var{parent:$}=this,Y=this.getProperty();if(this.initialValue||(this.initialValue=Y.getString(),this.initialUnits=Y.getUnits()),this.duration>this.maxDuration){var T=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(T==="freeze"&&!this.frozen)this.frozen=!0,$.animationFrozen=!0,$.animationFrozenValue=Y.getString();else if(T==="remove"&&!this.removed)return this.removed=!0,Y.setValue($.animationFrozen?$.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=M;var L=!1;if(this.begin<this.duration){var z=this.calcValue(),ie=this.getAttribute("type");if(ie.hasValue()){var ve=ie.getString();z="".concat(ve,"(").concat(z,")")}Y.setValue(z),L=!0}return L}getProgress(){var{document:M,values:$}=this,Y={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if($.hasValue()){var T=Y.progress*($.getValue().length-1),L=Math.floor(T),z=Math.ceil(T);Y.from=new et(M,"from",parseFloat($.getValue()[L])),Y.to=new et(M,"to",parseFloat($.getValue()[z])),Y.progress=(T-L)/(z-L)}else Y.from=this.from,Y.to=this.to;return Y}}class Oi extends Zn{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:M,from:$,to:Y}=this.getProgress(),T=new x($.getColor()),L=new x(Y.getColor());if(T.ok&&L.ok){var z=T.r+(L.r-T.r)*M,ie=T.g+(L.g-T.g)*M,ve=T.b+(L.b-T.b)*M;return"rgb(".concat(Math.floor(z),", ").concat(Math.floor(ie),", ").concat(Math.floor(ve),")")}return this.getAttribute("from").getColor()}}class Dn extends Zn{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:M,from:$,to:Y}=this.getProgress(),T=H($.getString()),L=H(Y.getString()),z=T.map((ie,ve)=>{var De=L[ve];return ie+(De-ie)*M}).join(" ");return z}}class hc extends rr{constructor(M,$,Y){super(M,$,Y),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:T}=M,{children:L}=this;for(var z of L)switch(z.type){case"font-face":{this.fontFace=z;var ie=z.getStyle("font-family");ie.hasValue()&&(T[ie.getString()]=this);break}case"missing-glyph":this.missingGlyph=z;break;case"glyph":{var ve=z;ve.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[ve.unicode]>"u"&&(this.glyphs[ve.unicode]=Object.create(null)),this.glyphs[ve.unicode][ve.arabicForm]=ve):this.glyphs[ve.unicode]=ve;break}}}render(){}}class ii extends rr{constructor(M,$,Y){super(M,$,Y),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Eo extends ds{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Vl extends Ks{constructor(){super(...arguments),this.type="tref"}getText(){var M=this.getHrefAttribute().getDefinition();if(M){var $=M.children[0];if($)return $.getText()}return""}}class uo extends Ks{constructor(M,$,Y){super(M,$,Y),this.type="a";var{childNodes:T}=$,L=T[0],z=T.length>0&&Array.from(T).every(ie=>ie.nodeType===3);this.hasText=z,this.text=z?this.getTextFromNode(L):""}getText(){return this.text}renderChildren(M){if(this.hasText){super.renderChildren(M);var{document:$,x:Y,y:T}=this,{mouse:L}=$.screen,z=new et($,"fontSize",Gs.parse($.ctx.font).fontSize);L.isWorking()&&L.checkBoundingBox(this,new fr(Y,T-z.getPixels("y"),Y+this.measureText(M),T))}else if(this.children.length>0){var ie=new yn(this.document,null);ie.children=this.children,ie.parent=this,ie.render(M)}}onClick(){var{window:M}=this.document;M&&M.open(this.getHrefAttribute().getString())}onMouseMove(){var M=this.document.ctx;M.canvas.style.cursor="pointer"}}function fa(Et,M){var $=Object.keys(Et);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(Et);M&&(Y=Y.filter(function(T){return Object.getOwnPropertyDescriptor(Et,T).enumerable})),$.push.apply($,Y)}return $}function ji(Et){for(var M=1;M<arguments.length;M++){var $=arguments[M]!=null?arguments[M]:{};M%2?fa(Object($),!0).forEach(function(Y){(0,m.default)(Et,Y,$[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors($)):fa(Object($)).forEach(function(Y){Object.defineProperty(Et,Y,Object.getOwnPropertyDescriptor($,Y))})}return Et}class sa extends Ks{constructor(M,$,Y){super(M,$,Y),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var T=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(T)}getText(){return this.text}path(M){var{dataArray:$}=this;M&&M.beginPath(),$.forEach(Y=>{var{type:T,points:L}=Y;switch(T){case Ct.LINE_TO:M&&M.lineTo(L[0],L[1]);break;case Ct.MOVE_TO:M&&M.moveTo(L[0],L[1]);break;case Ct.CURVE_TO:M&&M.bezierCurveTo(L[0],L[1],L[2],L[3],L[4],L[5]);break;case Ct.QUAD_TO:M&&M.quadraticCurveTo(L[0],L[1],L[2],L[3]);break;case Ct.ARC:{var[z,ie,ve,De,Je,N,b,S]=L,I=ve>De?ve:De,R=ve>De?1:ve/De,V=ve>De?De/ve:1;M&&(M.translate(z,ie),M.rotate(b),M.scale(R,V),M.arc(0,0,I,Je,Je+N,!!(1-S)),M.scale(1/R,1/V),M.rotate(-b),M.translate(-z,-ie));break}case Ct.CLOSE_PATH:M&&M.closePath();break}})}renderChildren(M){this.setTextData(M),M.save();var $=this.parent.getStyle("text-decoration").getString(),Y=this.getFontSize(),{glyphInfo:T}=this,L=M.fillStyle;$==="underline"&&M.beginPath(),T.forEach((z,ie)=>{var{p0:ve,p1:De,rotation:Je,text:N}=z;M.save(),M.translate(ve.x,ve.y),M.rotate(Je),M.fillStyle&&M.fillText(N,0,0),M.strokeStyle&&M.strokeText(N,0,0),M.restore(),$==="underline"&&(ie===0&&M.moveTo(ve.x,ve.y+Y/8),M.lineTo(De.x,De.y+Y/5))}),$==="underline"&&(M.lineWidth=Y/20,M.strokeStyle=L,M.stroke(),M.closePath()),M.restore()}getLetterSpacingAt(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[M]||0}findSegmentToFitChar(M,$,Y,T,L,z,ie,ve,De){var Je=z,N=this.measureText(M,ve);ve===" "&&$==="justify"&&Y<T&&(N+=(T-Y)/L),De>-1&&(Je+=this.getLetterSpacingAt(De));var b=this.textHeight/20,S=this.getEquidistantPointOnPath(Je,b,0),I=this.getEquidistantPointOnPath(Je+N,b,0),R={p0:S,p1:I},V=S&&I?Math.atan2(I.y-S.y,I.x-S.x):0;if(ie){var le=Math.cos(Math.PI/2+V)*ie,q=Math.cos(-V)*ie;R.p0=ji(ji({},S),{},{x:S.x+le,y:S.y+q}),R.p1=ji(ji({},I),{},{x:I.x+le,y:I.y+q})}return Je+=N,{offset:Je,segment:R,rotation:V}}measureText(M,$){var{measuresCache:Y}=this,T=$||this.getText();if(Y.has(T))return Y.get(T);var L=this.measureTargetText(M,T);return Y.set(T,L),L}setTextData(M){if(!this.glyphInfo){var $=this.getText(),Y=$.split(""),T=$.split(" ").length-1,L=this.parent.getAttribute("dx").split().map(je=>je.getPixels("x")),z=this.parent.getAttribute("dy").getPixels("y"),ie=this.parent.getStyle("text-anchor").getString("start"),ve=this.getStyle("letter-spacing"),De=this.parent.getStyle("letter-spacing"),Je=0;!ve.hasValue()||ve.getValue()==="inherit"?Je=De.getPixels():ve.hasValue()&&ve.getValue()!=="initial"&&ve.getValue()!=="unset"&&(Je=ve.getPixels());var N=[],b=$.length;this.letterSpacingCache=N;for(var S=0;S<b;S++)N.push(typeof L[S]<"u"?L[S]:Je);var I=N.reduce((je,Le,ze)=>ze===0?0:je+Le||0,0),R=this.measureText(M),V=Math.max(R+I,0);this.textWidth=R,this.textHeight=this.getFontSize(),this.glyphInfo=[];var le=this.getPathLength(),q=this.getStyle("startOffset").getNumber(0)*le,ee=0;(ie==="middle"||ie==="center")&&(ee=-V/2),(ie==="end"||ie==="right")&&(ee=-V),ee+=q,Y.forEach((je,Le)=>{var{offset:ze,segment:Xe,rotation:xe}=this.findSegmentToFitChar(M,ie,V,le,T,ee,z,je,Le);ee=ze,!(!Xe.p0||!Xe.p1)&&this.glyphInfo.push({text:Y[Le],p0:Xe.p0,p1:Xe.p1,rotation:xe})})}}parsePathData(M){if(this.pathLength=-1,!M)return[];var $=[],{pathParser:Y}=M;for(Y.reset();!Y.isEnd();){var{current:T}=Y,L=T?T.x:0,z=T?T.y:0,ie=Y.next(),ve=ie.type,De=[];switch(ie.type){case Ct.MOVE_TO:this.pathM(Y,De);break;case Ct.LINE_TO:ve=this.pathL(Y,De);break;case Ct.HORIZ_LINE_TO:ve=this.pathH(Y,De);break;case Ct.VERT_LINE_TO:ve=this.pathV(Y,De);break;case Ct.CURVE_TO:this.pathC(Y,De);break;case Ct.SMOOTH_CURVE_TO:ve=this.pathS(Y,De);break;case Ct.QUAD_TO:this.pathQ(Y,De);break;case Ct.SMOOTH_QUAD_TO:ve=this.pathT(Y,De);break;case Ct.ARC:De=this.pathA(Y);break;case Ct.CLOSE_PATH:ds.pathZ(Y);break}ie.type!==Ct.CLOSE_PATH?$.push({type:ve,points:De,start:{x:L,y:z},pathLength:this.calcLength(L,z,ve,De)}):$.push({type:Ct.CLOSE_PATH,points:[],pathLength:0})}return $}pathM(M,$){var{x:Y,y:T}=ds.pathM(M).point;$.push(Y,T)}pathL(M,$){var{x:Y,y:T}=ds.pathL(M).point;return $.push(Y,T),Ct.LINE_TO}pathH(M,$){var{x:Y,y:T}=ds.pathH(M).point;return $.push(Y,T),Ct.LINE_TO}pathV(M,$){var{x:Y,y:T}=ds.pathV(M).point;return $.push(Y,T),Ct.LINE_TO}pathC(M,$){var{point:Y,controlPoint:T,currentPoint:L}=ds.pathC(M);$.push(Y.x,Y.y,T.x,T.y,L.x,L.y)}pathS(M,$){var{point:Y,controlPoint:T,currentPoint:L}=ds.pathS(M);return $.push(Y.x,Y.y,T.x,T.y,L.x,L.y),Ct.CURVE_TO}pathQ(M,$){var{controlPoint:Y,currentPoint:T}=ds.pathQ(M);$.push(Y.x,Y.y,T.x,T.y)}pathT(M,$){var{controlPoint:Y,currentPoint:T}=ds.pathT(M);return $.push(Y.x,Y.y,T.x,T.y),Ct.QUAD_TO}pathA(M){var{rX:$,rY:Y,sweepFlag:T,xAxisRotation:L,centp:z,a1:ie,ad:ve}=ds.pathA(M);return T===0&&ve>0&&(ve-=2*Math.PI),T===1&&ve<0&&(ve+=2*Math.PI),[z.x,z.y,$,Y,ie,ve,L,T]}calcLength(M,$,Y,T){var L=0,z=null,ie=null,ve=0;switch(Y){case Ct.LINE_TO:return this.getLineLength(M,$,T[0],T[1]);case Ct.CURVE_TO:for(L=0,z=this.getPointOnCubicBezier(0,M,$,T[0],T[1],T[2],T[3],T[4],T[5]),ve=.01;ve<=1;ve+=.01)ie=this.getPointOnCubicBezier(ve,M,$,T[0],T[1],T[2],T[3],T[4],T[5]),L+=this.getLineLength(z.x,z.y,ie.x,ie.y),z=ie;return L;case Ct.QUAD_TO:for(L=0,z=this.getPointOnQuadraticBezier(0,M,$,T[0],T[1],T[2],T[3]),ve=.01;ve<=1;ve+=.01)ie=this.getPointOnQuadraticBezier(ve,M,$,T[0],T[1],T[2],T[3]),L+=this.getLineLength(z.x,z.y,ie.x,ie.y),z=ie;return L;case Ct.ARC:{L=0;var De=T[4],Je=T[5],N=T[4]+Je,b=Math.PI/180;if(Math.abs(De-N)<b&&(b=Math.abs(De-N)),z=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],De,0),Je<0)for(ve=De-b;ve>N;ve-=b)ie=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],ve,0),L+=this.getLineLength(z.x,z.y,ie.x,ie.y),z=ie;else for(ve=De+b;ve<N;ve+=b)ie=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],ve,0),L+=this.getLineLength(z.x,z.y,ie.x,ie.y),z=ie;return ie=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],N,0),L+=this.getLineLength(z.x,z.y,ie.x,ie.y),L}}return 0}getPointOnLine(M,$,Y,T,L){var z=arguments.length>5&&arguments[5]!==void 0?arguments[5]:$,ie=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Y,ve=(L-Y)/(T-$+Re),De=Math.sqrt(M*M/(1+ve*ve));T<$&&(De*=-1);var Je=ve*De,N=null;if(T===$)N={x:z,y:ie+Je};else if((ie-Y)/(z-$+Re)===ve)N={x:z+De,y:ie+Je};else{var b=0,S=0,I=this.getLineLength($,Y,T,L);if(I<Re)return null;var R=(z-$)*(T-$)+(ie-Y)*(L-Y);R/=I*I,b=$+R*(T-$),S=Y+R*(L-Y);var V=this.getLineLength(z,ie,b,S),le=Math.sqrt(M*M-V*V);De=Math.sqrt(le*le/(1+ve*ve)),T<$&&(De*=-1),Je=ve*De,N={x:b+De,y:S+Je}}return N}getPointOnPath(M){var $=this.getPathLength(),Y=0,T=null;if(M<-5e-5||M-5e-5>$)return null;var{dataArray:L}=this;for(var z of L){if(z&&(z.pathLength<5e-5||Y+z.pathLength+5e-5<M)){Y+=z.pathLength;continue}var ie=M-Y,ve=0;switch(z.type){case Ct.LINE_TO:T=this.getPointOnLine(ie,z.start.x,z.start.y,z.points[0],z.points[1],z.start.x,z.start.y);break;case Ct.ARC:{var De=z.points[4],Je=z.points[5],N=z.points[4]+Je;if(ve=De+ie/z.pathLength*Je,Je<0&&ve<N||Je>=0&&ve>N)break;T=this.getPointOnEllipticalArc(z.points[0],z.points[1],z.points[2],z.points[3],ve,z.points[6]);break}case Ct.CURVE_TO:ve=ie/z.pathLength,ve>1&&(ve=1),T=this.getPointOnCubicBezier(ve,z.start.x,z.start.y,z.points[0],z.points[1],z.points[2],z.points[3],z.points[4],z.points[5]);break;case Ct.QUAD_TO:ve=ie/z.pathLength,ve>1&&(ve=1),T=this.getPointOnQuadraticBezier(ve,z.start.x,z.start.y,z.points[0],z.points[1],z.points[2],z.points[3]);break}if(T)return T;break}return null}getLineLength(M,$,Y,T){return Math.sqrt((Y-M)*(Y-M)+(T-$)*(T-$))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((M,$)=>$.pathLength>0?M+$.pathLength:M,0)),this.pathLength}getPointOnCubicBezier(M,$,Y,T,L,z,ie,ve,De){var Je=ve*ue(M)+z*te(M)+T*ge(M)+$*Me(M),N=De*ue(M)+ie*te(M)+L*ge(M)+Y*Me(M);return{x:Je,y:N}}getPointOnQuadraticBezier(M,$,Y,T,L,z,ie){var ve=z*Ve(M)+T*Nt(M)+$*ut(M),De=ie*Ve(M)+L*Nt(M)+Y*ut(M);return{x:ve,y:De}}getPointOnEllipticalArc(M,$,Y,T,L,z){var ie=Math.cos(z),ve=Math.sin(z),De={x:Y*Math.cos(L),y:T*Math.sin(L)};return{x:M+(De.x*ie-De.y*ve),y:$+(De.x*ve+De.y*ie)}}buildEquidistantCache(M,$){var Y=this.getPathLength(),T=$||.25,L=M||Y/100;if(!this.equidistantCache||this.equidistantCache.step!==L||this.equidistantCache.precision!==T){this.equidistantCache={step:L,precision:T,points:[]};for(var z=0,ie=0;ie<=Y;ie+=T){var ve=this.getPointOnPath(ie),De=this.getPointOnPath(ie+T);!ve||!De||(z+=this.getLineLength(ve.x,ve.y,De.x,De.y),z>=L&&(this.equidistantCache.points.push({x:ve.x,y:ve.y,distance:ie}),z-=L))}}}getEquidistantPointOnPath(M,$,Y){if(this.buildEquidistantCache($,Y),M<0||M-this.getPathLength()>5e-5)return null;var T=Math.round(M/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[T]||null}}var Ta=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class qn extends Zt{constructor(M,$,Y){super(M,$,Y),this.type="image",this.loaded=!1;var T=this.getHrefAttribute().getString();if(T){var L=T.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(T);M.images.push(this),L?this.loadSvg(T):this.loadImage(T),this.isSvg=L}}loadImage(M){var $=this;return(0,f.default)(function*(){try{var Y=yield $.document.createImage(M);$.image=Y}catch(T){console.error('Error while loading image "'.concat(M,'":'),T)}$.loaded=!0})()}loadSvg(M){var $=this;return(0,f.default)(function*(){var Y=Ta.exec(M);if(Y){var T=Y[5];Y[4]==="base64"?$.image=atob(T):$.image=decodeURIComponent(T)}else try{var L=yield $.document.fetch(M),z=yield L.text();$.image=z}catch(ie){console.error('Error while loading image "'.concat(M,'":'),ie)}$.loaded=!0})()}renderChildren(M){var{document:$,image:Y,loaded:T}=this,L=this.getAttribute("x").getPixels("x"),z=this.getAttribute("y").getPixels("y"),ie=this.getStyle("width").getPixels("x"),ve=this.getStyle("height").getPixels("y");if(!(!T||!Y||!ie||!ve)){if(M.save(),M.translate(L,z),this.isSvg){var De=$.canvg.forkString(M,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:ie,scaleHeight:ve});De.document.documentElement.parent=this,De.render()}else{var Je=this.image;$.setViewBox({ctx:M,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:ie,desiredWidth:Je.width,height:ve,desiredHeight:Je.height}),this.loaded&&(typeof Je.complete>"u"||Je.complete)&&M.drawImage(Je,0,0)}M.restore()}}getBoundingBox(){var M=this.getAttribute("x").getPixels("x"),$=this.getAttribute("y").getPixels("y"),Y=this.getStyle("width").getPixels("x"),T=this.getStyle("height").getPixels("y");return new fr(M,$,M+Y,$+T)}}class Ao extends Zt{constructor(){super(...arguments),this.type="symbol"}render(M){}}class ui{constructor(M){this.document=M,this.loaded=!1,M.fonts.push(this)}load(M,$){var Y=this;return(0,f.default)(function*(){try{var{document:T}=Y,L=yield T.canvg.parser.load($),z=L.getElementsByTagName("font");Array.from(z).forEach(ie=>{var ve=T.createElement(ie);T.definitions[M]=ve})}catch(ie){console.error('Error while loading font "'.concat($,'":'),ie)}Y.loaded=!0})()}}class Ni extends rr{constructor(M,$,Y){super(M,$,Y),this.type="style";var T=K(Array.from($.childNodes).map(z=>z.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),L=T.split("}");L.forEach(z=>{var ie=z.trim();if(ie){var ve=ie.split("{"),De=ve[0].split(","),Je=ve[1].split(";");De.forEach(N=>{var b=N.trim();if(b){var S=M.styles[b]||{};if(Je.forEach(V=>{var le=V.indexOf(":"),q=V.substr(0,le).trim(),ee=V.substr(le+1,V.length-le).trim();q&&ee&&(S[q]=new et(M,q,ee))}),M.styles[b]=S,M.stylesSpecificity[b]=Ee(b),b==="@font-face"){var I=S["font-family"].getString().replace(/"|'/g,""),R=S.src.getString().split(",");R.forEach(V=>{if(V.indexOf('format("svg")')>0){var le=Ae(V);le&&new ui(M).load(I,le)}})}}})}})}}Ni.parseExternalUrl=Ae;class ul extends Zt{constructor(){super(...arguments),this.type="use"}setContext(M){super.setContext(M);var $=this.getAttribute("x"),Y=this.getAttribute("y");$.hasValue()&&M.translate($.getPixels("x"),0),Y.hasValue()&&M.translate(0,Y.getPixels("y"))}path(M){var{element:$}=this;$&&$.path(M)}renderChildren(M){var{document:$,element:Y}=this;if(Y){var T=Y;if(Y.type==="symbol"&&(T=new tn($,null),T.attributes.viewBox=new et($,"viewBox",Y.getAttribute("viewBox").getString()),T.attributes.preserveAspectRatio=new et($,"preserveAspectRatio",Y.getAttribute("preserveAspectRatio").getString()),T.attributes.overflow=new et($,"overflow",Y.getAttribute("overflow").getString()),T.children=Y.children,Y.styles.opacity=new et($,"opacity",this.calculateOpacity())),T.type==="svg"){var L=this.getStyle("width",!1,!0),z=this.getStyle("height",!1,!0);L.hasValue()&&(T.attributes.width=new et($,"width",L.getString())),z.hasValue()&&(T.attributes.height=new et($,"height",z.getString()))}var ie=T.parent;T.parent=this,T.render(M),T.parent=ie}}getBoundingBox(M){var{element:$}=this;return $?$.getBoundingBox(M):null}elementTransform(){var{document:M,element:$}=this;return hr.fromElement(M,$)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function Zo(Et,M,$,Y,T,L){return Et[$*Y*4+M*4+L]}function El(Et,M,$,Y,T,L,z){Et[$*Y*4+M*4+L]=z}function xa(Et,M,$){var Y=Et[M];return Y*$}function wa(Et,M,$,Y){return M+Math.cos(Et)*$+Math.sin(Et)*Y}class ho extends rr{constructor(M,$,Y){super(M,$,Y),this.type="feColorMatrix";var T=H(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var L=T[0];T=[.213+.787*L,.715-.715*L,.072-.072*L,0,0,.213-.213*L,.715+.285*L,.072-.072*L,0,0,.213-.213*L,.715-.715*L,.072+.928*L,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var z=T[0]*Math.PI/180;T=[wa(z,.213,.787,-.213),wa(z,.715,-.715,-.715),wa(z,.072,-.072,.928),0,0,wa(z,.213,-.213,.143),wa(z,.715,.285,.14),wa(z,.072,-.072,-.283),0,0,wa(z,.213,-.213,-.787),wa(z,.715,-.715,.715),wa(z,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=T,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(M,$,Y,T,L){for(var{includeOpacity:z,matrix:ie}=this,ve=M.getImageData(0,0,T,L),De=0;De<L;De++)for(var Je=0;Je<T;Je++){var N=Zo(ve.data,Je,De,T,L,0),b=Zo(ve.data,Je,De,T,L,1),S=Zo(ve.data,Je,De,T,L,2),I=Zo(ve.data,Je,De,T,L,3),R=xa(ie,0,N)+xa(ie,1,b)+xa(ie,2,S)+xa(ie,3,I)+xa(ie,4,1),V=xa(ie,5,N)+xa(ie,6,b)+xa(ie,7,S)+xa(ie,8,I)+xa(ie,9,1),le=xa(ie,10,N)+xa(ie,11,b)+xa(ie,12,S)+xa(ie,13,I)+xa(ie,14,1),q=xa(ie,15,N)+xa(ie,16,b)+xa(ie,17,S)+xa(ie,18,I)+xa(ie,19,1);z&&(R=0,V=0,le=0,q*=I/255),El(ve.data,Je,De,T,L,0,R),El(ve.data,Je,De,T,L,1,V),El(ve.data,Je,De,T,L,2,le),El(ve.data,Je,De,T,L,3,q)}M.clearRect(0,0,T,L),M.putImageData(ve,0,0)}}class ei extends rr{constructor(){super(...arguments),this.type="mask"}apply(M,$){var{document:Y}=this,T=this.getAttribute("x").getPixels("x"),L=this.getAttribute("y").getPixels("y"),z=this.getStyle("width").getPixels("x"),ie=this.getStyle("height").getPixels("y");if(!z&&!ie){var ve=new fr;this.children.forEach(I=>{ve.addBoundingBox(I.getBoundingBox(M))}),T=Math.floor(ve.x1),L=Math.floor(ve.y1),z=Math.floor(ve.width),ie=Math.floor(ve.height)}var De=this.removeStyles($,ei.ignoreStyles),Je=Y.createCanvas(T+z,L+ie),N=Je.getContext("2d");Y.screen.setDefaults(N),this.renderChildren(N),new ho(Y,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(N,0,0,T+z,L+ie);var b=Y.createCanvas(T+z,L+ie),S=b.getContext("2d");Y.screen.setDefaults(S),$.render(S),S.globalCompositeOperation="destination-in",S.fillStyle=N.createPattern(Je,"no-repeat"),S.fillRect(0,0,T+z,L+ie),M.fillStyle=S.createPattern(b,"no-repeat"),M.fillRect(0,0,T+z,L+ie),this.restoreStyles($,De)}render(M){}}ei.ignoreStyles=["mask","transform","clip-path"];var Ii=()=>{};class Ai extends rr{constructor(){super(...arguments),this.type="clipPath"}apply(M){var{document:$}=this,Y=Reflect.getPrototypeOf(M),{beginPath:T,closePath:L}=M;Y&&(Y.beginPath=Ii,Y.closePath=Ii),Reflect.apply(T,M,[]),this.children.forEach(z=>{if(!(typeof z.path>"u")){var ie=typeof z.elementTransform<"u"?z.elementTransform():null;ie||(ie=hr.fromElement($,z)),ie&&ie.apply(M),z.path(M),Y&&(Y.closePath=L),ie&&ie.unapply(M)}}),Reflect.apply(L,M,[]),M.clip(),Y&&(Y.beginPath=T,Y.closePath=L)}render(M){}}class Yr extends rr{constructor(){super(...arguments),this.type="filter"}apply(M,$){var{document:Y,children:T}=this,L=$.getBoundingBox(M);if(L){var z=0,ie=0;T.forEach(le=>{var q=le.extraFilterDistance||0;z=Math.max(z,q),ie=Math.max(ie,q)});var ve=Math.floor(L.width),De=Math.floor(L.height),Je=ve+2*z,N=De+2*ie;if(!(Je<1||N<1)){var b=Math.floor(L.x),S=Math.floor(L.y),I=this.removeStyles($,Yr.ignoreStyles),R=Y.createCanvas(Je,N),V=R.getContext("2d");Y.screen.setDefaults(V),V.translate(-b+z,-S+ie),$.render(V),T.forEach(le=>{typeof le.apply=="function"&&le.apply(V,0,0,Je,N)}),M.drawImage(R,0,0,Je,N,b-z,S-ie,Je,N),this.restoreStyles($,I)}}}render(M){}}Yr.ignoreStyles=["filter","transform","clip-path"];class Va extends rr{constructor(M,$,Y){super(M,$,Y),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(M,$,Y,T,L){}}class Ci extends rr{constructor(){super(...arguments),this.type="feMorphology"}apply(M,$,Y,T,L){}}class Ra extends rr{constructor(){super(...arguments),this.type="feComposite"}apply(M,$,Y,T,L){}}class fo extends rr{constructor(M,$,Y){super(M,$,Y),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(M,$,Y,T,L){var{document:z,blurRadius:ie}=this,ve=z.window?z.window.document.body:null,De=M.canvas;De.id=z.getUniqueId(),ve&&(De.style.display="none",ve.appendChild(De)),(0,y.canvasRGBA)(De,$,Y,T,L,ie),ve&&ve.removeChild(De)}}class Gn extends rr{constructor(){super(...arguments),this.type="title"}}class Ki extends rr{constructor(){super(...arguments),this.type="desc"}}var Ka={svg:tn,rect:Ns,circle:Is,ellipse:kr,line:nr,polyline:Ts,polygon:Lr,path:ds,pattern:la,marker:gr,defs:qa,linearGradient:$n,radialGradient:Nn,stop:ga,animate:Zn,animateColor:Oi,animateTransform:Dn,font:hc,"font-face":ii,"missing-glyph":Eo,glyph:hs,text:Ks,tspan:Vs,tref:Vl,a:uo,textPath:sa,image:qn,g:yn,symbol:Ao,style:Ni,use:ul,mask:ei,clipPath:Ai,filter:Yr,feDropShadow:Va,feMorphology:Ci,feComposite:Ra,feColorMatrix:ho,feGaussianBlur:fo,title:Gn,desc:Ki};function Ia(Et,M){var $=Object.keys(Et);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(Et);M&&(Y=Y.filter(function(T){return Object.getOwnPropertyDescriptor(Et,T).enumerable})),$.push.apply($,Y)}return $}function hi(Et){for(var M=1;M<arguments.length;M++){var $=arguments[M]!=null?arguments[M]:{};M%2?Ia(Object($),!0).forEach(function(Y){(0,m.default)(Et,Y,$[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors($)):Ia(Object($)).forEach(function(Y){Object.defineProperty(Et,Y,Object.getOwnPropertyDescriptor($,Y))})}return Et}function To(Et,M){var $=document.createElement("canvas");return $.width=Et,$.height=M,$}function Bi(Et){return ba.apply(this,arguments)}function ba(){return ba=(0,f.default)(function*(Et){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$=document.createElement("img");return M&&($.crossOrigin="Anonymous"),new Promise((Y,T)=>{$.onload=()=>{Y($)},$.onerror=(L,z,ie,ve,De)=>{T(De)},$.src=Et})}),ba.apply(this,arguments)}class fi{constructor(M){var{rootEmSize:$=12,emSize:Y=12,createCanvas:T=fi.createCanvas,createImage:L=fi.createImage,anonymousCrossOrigin:z}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=M,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=M.screen,this.rootEmSize=$,this.emSize=Y,this.createCanvas=T,this.createImage=this.bindCreateImage(L,z),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(M,$){return typeof $=="boolean"?(Y,T)=>M(Y,typeof T=="boolean"?T:$):M}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:M}=this;return M[M.length-1]}set emSize(M){var{emSizeStack:$}=this;$.push(M)}popEmSize(){var{emSizeStack:M}=this;M.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(M=>M.loaded)}isFontsLoaded(){return this.fonts.every(M=>M.loaded)}createDocumentElement(M){var $=this.createElement(M.documentElement);return $.root=!0,$.addStylesFromStyleDefinition(),this.documentElement=$,$}createElement(M){var $=M.nodeName.replace(/^[^:]+:/,""),Y=fi.elementTypes[$];return typeof Y<"u"?new Y(this,M):new Xs(this,M)}createTextNode(M){return new pr(this,M)}setViewBox(M){this.screen.setViewBox(hi({document:this},M))}}fi.createCanvas=To,fi.createImage=Bi,fi.elementTypes=Ka;function qi(Et,M){var $=Object.keys(Et);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(Et);M&&(Y=Y.filter(function(T){return Object.getOwnPropertyDescriptor(Et,T).enumerable})),$.push.apply($,Y)}return $}function ki(Et){for(var M=1;M<arguments.length;M++){var $=arguments[M]!=null?arguments[M]:{};M%2?qi(Object($),!0).forEach(function(Y){(0,m.default)(Et,Y,$[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors($)):qi(Object($)).forEach(function(Y){Object.defineProperty(Et,Y,Object.getOwnPropertyDescriptor($,Y))})}return Et}class io{constructor(M,$){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new zs(Y),this.screen=new Bt(M,Y),this.options=Y;var T=new fi(this,Y),L=T.createDocumentElement($);this.document=T,this.documentElement=L}static from(M,$){var Y=arguments;return(0,f.default)(function*(){var T=Y.length>2&&Y[2]!==void 0?Y[2]:{},L=new zs(T),z=yield L.parse($);return new io(M,z,T)})()}static fromString(M,$){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=new zs(Y),L=T.parseFromString($);return new io(M,L,Y)}fork(M,$){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return io.from(M,$,ki(ki({},this.options),Y))}forkString(M,$){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return io.fromString(M,$,ki(ki({},this.options),Y))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var M=arguments,$=this;return(0,f.default)(function*(){var Y=M.length>0&&M[0]!==void 0?M[0]:{};$.start(ki({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},Y)),yield $.ready(),$.stop()})()}start(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:$,screen:Y,options:T}=this;Y.start($,ki(ki({enableRedraw:!0},T),M))}stop(){this.screen.stop()}resize(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(M,$,Y)}}}),"./node_modules/core-js/internals/a-callable.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/try-to-string.js"),p=TypeError;d.exports=function(x){if(f(x))return x;throw new p(m(x)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-constructor.js"),m=o("./node_modules/core-js/internals/try-to-string.js"),p=TypeError;d.exports=function(x){if(f(x))return x;throw new p(m(x)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-possible-prototype.js"),m=String,p=TypeError;d.exports=function(x){if(f(x))return x;throw new p("Can't set "+m(x)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/set-helpers.js").has;d.exports=function(m){return f(m),m}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/object-create.js"),p=o("./node_modules/core-js/internals/object-define-property.js").f,x=f("unscopables"),v=Array.prototype;v[x]===void 0&&p(v,x,{configurable:!0,value:m(null)}),d.exports=function(y){v[x][y]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/string-multibyte.js").charAt;d.exports=function(m,p,x){return p+(x?f(m,p).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-is-prototype-of.js"),m=TypeError;d.exports=function(p,x){if(f(x,p))return p;throw new m("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),m=String,p=TypeError;d.exports=function(x){if(f(x))return x;throw new p(m(x)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=f(function(){if(typeof ArrayBuffer=="function"){var m=new ArrayBuffer(8);Object.isExtensible(m)&&Object.defineProperty(m,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/array-iteration.js").forEach,m=o("./node_modules/core-js/internals/array-method-is-strict.js"),p=m("forEach");d.exports=p?[].forEach:function(v){return f(this,v,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-object.js"),x=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),v=o("./node_modules/core-js/internals/is-array-iterator-method.js"),y=o("./node_modules/core-js/internals/is-constructor.js"),w=o("./node_modules/core-js/internals/length-of-array-like.js"),E=o("./node_modules/core-js/internals/create-property.js"),Q=o("./node_modules/core-js/internals/get-iterator.js"),K=o("./node_modules/core-js/internals/get-iterator-method.js"),Z=Array;d.exports=function(H){var G=p(H),ce=y(this),Ae=arguments.length,Ne=Ae>1?arguments[1]:void 0,re=Ne!==void 0;re&&(Ne=f(Ne,Ae>2?arguments[2]:void 0));var Be=K(G),fe=0,Se,pe,ae,de,oe,Ee;if(Be&&!(this===Z&&v(Be)))for(pe=ce?new this:[],de=Q(G,Be),oe=de.next;!(ae=m(oe,de)).done;fe++)Ee=re?x(de,Ne,[ae.value,fe],!0):ae.value,E(pe,fe,Ee);else for(Se=w(G),pe=ce?new this(Se):Z(Se);Se>fe;fe++)Ee=re?Ne(G[fe],fe):G[fe],E(pe,fe,Ee);return pe.length=fe,pe}}),"./node_modules/core-js/internals/array-includes.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/to-absolute-index.js"),p=o("./node_modules/core-js/internals/length-of-array-like.js"),x=function(v){return function(y,w,E){var Q=f(y),K=p(Q);if(K===0)return!v&&-1;var Z=m(E,K),J;if(v&&w!==w){for(;K>Z;)if(J=Q[Z++],J!==J)return!0}else for(;K>Z;Z++)if((v||Z in Q)&&Q[Z]===w)return v||Z||0;return!v&&-1}};d.exports={includes:x(!0),indexOf:x(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/to-object.js"),v=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/array-species-create.js"),w=m([].push),E=function(Q){var K=Q===1,Z=Q===2,J=Q===3,H=Q===4,G=Q===6,ce=Q===7,Ae=Q===5||G;return function(Ne,re,Be,fe){for(var Se=x(Ne),pe=p(Se),ae=v(pe),de=f(re,Be),oe=0,Ee=fe||y,Re=K?Ee(Ne,ae):Z||ce?Ee(Ne,0):void 0,ke,me;ae>oe;oe++)if((Ae||oe in pe)&&(ke=pe[oe],me=de(ke,oe,Se),Q))if(K)Re[oe]=me;else if(me)switch(Q){case 3:return!0;case 5:return ke;case 6:return oe;case 2:w(Re,ke)}else switch(Q){case 4:return!1;case 7:w(Re,ke)}return G?-1:J||H?H:Re}};d.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6),filterReject:E(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),p=o("./node_modules/core-js/internals/environment-v8-version.js"),x=m("species");d.exports=function(v){return p>=51||!f(function(){var y=[],w=y.constructor={};return w[x]=function(){return{foo:1}},y[v](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=function(m,p){var x=[][m];return!!x&&f(function(){x.call(null,p||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/to-object.js"),p=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/length-of-array-like.js"),v=TypeError,y="Reduce of empty array with no initial value",w=function(E){return function(Q,K,Z,J){var H=m(Q),G=p(H),ce=x(H);if(f(K),ce===0&&Z<2)throw new v(y);var Ae=E?ce-1:0,Ne=E?-1:1;if(Z<2)for(;;){if(Ae in G){J=G[Ae],Ae+=Ne;break}if(Ae+=Ne,E?Ae<0:ce<=Ae)throw new v(y)}for(;E?Ae>=0:ce>Ae;Ae+=Ne)Ae in G&&(J=K(J,G[Ae],Ae,H));return J}};d.exports={left:w(!1),right:w(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-array.js"),m=o("./node_modules/core-js/internals/is-constructor.js"),p=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),v=x("species"),y=Array;d.exports=function(w){var E;return f(w)&&(E=w.constructor,m(E)&&(E===y||f(E.prototype))?E=void 0:p(E)&&(E=E[v],E===null&&(E=void 0))),E===void 0?y:E}}),"./node_modules/core-js/internals/array-species-create.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/array-species-constructor.js");d.exports=function(m,p){return new(f(m))(p===0?0:p)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(p,x,v,y){try{return y?x(f(v)[0],v[1]):x(v)}catch(w){m(p,"throw",w)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),m=f("iterator"),p=!1;try{var x=0,v={next:function(){return{done:!!x++}},return:function(){p=!0}};v[m]=function(){return this},Array.from(v,function(){throw 2})}catch{}d.exports=function(y,w){try{if(!w&&!p)return!1}catch{return!1}var E=!1;try{var Q={};Q[m]=function(){return{next:function(){return{done:E=!0}}}},y(Q)}catch{}return E}}),"./node_modules/core-js/internals/classof-raw.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=f({}.toString),p=f("".slice);d.exports=function(x){return p(m(x),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/classof-raw.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),v=x("toStringTag"),y=Object,w=p((function(){return arguments})())==="Arguments",E=function(Q,K){try{return Q[K]}catch{}};d.exports=f?p:function(Q){var K,Z,J;return Q===void 0?"Undefined":Q===null?"Null":typeof(Z=E(K=y(Q),v))=="string"?Z:w?p(K):(J=p(K))==="Object"&&m(K.callee)?"Arguments":J}}),"./node_modules/core-js/internals/collection-strong.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-create.js"),m=o("./node_modules/core-js/internals/define-built-in-accessor.js"),p=o("./node_modules/core-js/internals/define-built-ins.js"),x=o("./node_modules/core-js/internals/function-bind-context.js"),v=o("./node_modules/core-js/internals/an-instance.js"),y=o("./node_modules/core-js/internals/is-null-or-undefined.js"),w=o("./node_modules/core-js/internals/iterate.js"),E=o("./node_modules/core-js/internals/iterator-define.js"),Q=o("./node_modules/core-js/internals/create-iter-result-object.js"),K=o("./node_modules/core-js/internals/set-species.js"),Z=o("./node_modules/core-js/internals/descriptors.js"),J=o("./node_modules/core-js/internals/internal-metadata.js").fastKey,H=o("./node_modules/core-js/internals/internal-state.js"),G=H.set,ce=H.getterFor;d.exports={getConstructor:function(Ae,Ne,re,Be){var fe=Ae(function(oe,Ee){v(oe,Se),G(oe,{type:Ne,index:f(null),first:null,last:null,size:0}),Z||(oe.size=0),y(Ee)||w(Ee,oe[Be],{that:oe,AS_ENTRIES:re})}),Se=fe.prototype,pe=ce(Ne),ae=function(oe,Ee,Re){var ke=pe(oe),me=de(oe,Ee),we,ue;return me?me.value=Re:(ke.last=me={index:ue=J(Ee,!0),key:Ee,value:Re,previous:we=ke.last,next:null,removed:!1},ke.first||(ke.first=me),we&&(we.next=me),Z?ke.size++:oe.size++,ue!=="F"&&(ke.index[ue]=me)),oe},de=function(oe,Ee){var Re=pe(oe),ke=J(Ee),me;if(ke!=="F")return Re.index[ke];for(me=Re.first;me;me=me.next)if(me.key===Ee)return me};return p(Se,{clear:function(){for(var Ee=this,Re=pe(Ee),ke=Re.first;ke;)ke.removed=!0,ke.previous&&(ke.previous=ke.previous.next=null),ke=ke.next;Re.first=Re.last=null,Re.index=f(null),Z?Re.size=0:Ee.size=0},delete:function(oe){var Ee=this,Re=pe(Ee),ke=de(Ee,oe);if(ke){var me=ke.next,we=ke.previous;delete Re.index[ke.index],ke.removed=!0,we&&(we.next=me),me&&(me.previous=we),Re.first===ke&&(Re.first=me),Re.last===ke&&(Re.last=we),Z?Re.size--:Ee.size--}return!!ke},forEach:function(Ee){for(var Re=pe(this),ke=x(Ee,arguments.length>1?arguments[1]:void 0),me;me=me?me.next:Re.first;)for(ke(me.value,me.key,this);me&&me.removed;)me=me.previous},has:function(Ee){return!!de(this,Ee)}}),p(Se,re?{get:function(Ee){var Re=de(this,Ee);return Re&&Re.value},set:function(Ee,Re){return ae(this,Ee===0?0:Ee,Re)}}:{add:function(Ee){return ae(this,Ee=Ee===0?0:Ee,Ee)}}),Z&&m(Se,"size",{configurable:!0,get:function(){return pe(this).size}}),fe},setStrong:function(Ae,Ne,re){var Be=Ne+" Iterator",fe=ce(Ne),Se=ce(Be);E(Ae,Ne,function(pe,ae){G(this,{type:Be,target:pe,state:fe(pe),kind:ae,last:null})},function(){for(var pe=Se(this),ae=pe.kind,de=pe.last;de&&de.removed;)de=de.previous;return!pe.target||!(pe.last=de=de?de.next:pe.state.first)?(pe.target=null,Q(void 0,!0)):Q(ae==="keys"?de.key:ae==="values"?de.value:[de.key,de.value],!1)},re?"entries":"values",!re,!0),K(Ne)}}}),"./node_modules/core-js/internals/collection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/is-forced.js"),v=o("./node_modules/core-js/internals/define-built-in.js"),y=o("./node_modules/core-js/internals/internal-metadata.js"),w=o("./node_modules/core-js/internals/iterate.js"),E=o("./node_modules/core-js/internals/an-instance.js"),Q=o("./node_modules/core-js/internals/is-callable.js"),K=o("./node_modules/core-js/internals/is-null-or-undefined.js"),Z=o("./node_modules/core-js/internals/is-object.js"),J=o("./node_modules/core-js/internals/fails.js"),H=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),G=o("./node_modules/core-js/internals/set-to-string-tag.js"),ce=o("./node_modules/core-js/internals/inherit-if-required.js");d.exports=function(Ae,Ne,re){var Be=Ae.indexOf("Map")!==-1,fe=Ae.indexOf("Weak")!==-1,Se=Be?"set":"add",pe=m[Ae],ae=pe&&pe.prototype,de=pe,oe={},Ee=function(ge){var Me=p(ae[ge]);v(ae,ge,ge==="add"?function(Nt){return Me(this,Nt===0?0:Nt),this}:ge==="delete"?function(Ve){return fe&&!Z(Ve)?!1:Me(this,Ve===0?0:Ve)}:ge==="get"?function(Nt){return fe&&!Z(Nt)?void 0:Me(this,Nt===0?0:Nt)}:ge==="has"?function(Nt){return fe&&!Z(Nt)?!1:Me(this,Nt===0?0:Nt)}:function(Nt,ut){return Me(this,Nt===0?0:Nt,ut),this})},Re=x(Ae,!Q(pe)||!(fe||ae.forEach&&!J(function(){new pe().entries().next()})));if(Re)de=re.getConstructor(Ne,Ae,Be,Se),y.enable();else if(x(Ae,!0)){var ke=new de,me=ke[Se](fe?{}:-0,1)!==ke,we=J(function(){ke.has(1)}),ue=H(function(ge){new pe(ge)}),te=!fe&&J(function(){for(var ge=new pe,Me=5;Me--;)ge[Se](Me,Me);return!ge.has(-0)});ue||(de=Ne(function(ge,Me){E(ge,ae);var Ve=ce(new pe,ge,de);return K(Me)||w(Me,Ve[Se],{that:Ve,AS_ENTRIES:Be}),Ve}),de.prototype=ae,ae.constructor=de),(we||te)&&(Ee("delete"),Ee("has"),Be&&Ee("get")),(te||me)&&Ee(Se),fe&&ae.clear&&delete ae.clear}return oe[Ae]=de,f({global:!0,constructor:!0,forced:de!==pe},oe),G(de,Ae),fe||re.setStrong(de,Ae,Be),de}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/own-keys.js"),p=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),x=o("./node_modules/core-js/internals/object-define-property.js");d.exports=function(v,y,w){for(var E=m(y),Q=x.f,K=p.f,Z=0;Z<E.length;Z++){var J=E[Z];!f(v,J)&&!(w&&f(w,J))&&Q(v,J,K(y,J))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),m=f("match");d.exports=function(p){var x=/./;try{"/./"[p](x)}catch{try{return x[m]=!1,"/./"[p](x)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js"),p=o("./node_modules/core-js/internals/to-string.js"),x=/"/g,v=f("".replace);d.exports=function(y,w,E,Q){var K=p(m(y)),Z="<"+w;return E!==""&&(Z+=" "+E+'="'+v(p(Q),x,"&quot;")+'"'),Z+">"+K+"</"+w+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(d){d.exports=function(A,o){return{value:A,done:o}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/object-define-property.js"),p=o("./node_modules/core-js/internals/create-property-descriptor.js");d.exports=f?function(x,v,y){return m.f(x,v,p(1,y))}:function(x,v,y){return x[v]=y,x}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(d){d.exports=function(A,o){return{enumerable:!(A&1),configurable:!(A&2),writable:!(A&4),value:o}}}),"./node_modules/core-js/internals/create-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/object-define-property.js"),p=o("./node_modules/core-js/internals/create-property-descriptor.js");d.exports=function(x,v,y){f?m.f(x,v,p(0,y)):x[v]=y}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/make-built-in.js"),m=o("./node_modules/core-js/internals/object-define-property.js");d.exports=function(p,x,v){return v.get&&f(v.get,x,{getter:!0}),v.set&&f(v.set,x,{setter:!0}),m.f(p,x,v)}}),"./node_modules/core-js/internals/define-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/object-define-property.js"),p=o("./node_modules/core-js/internals/make-built-in.js"),x=o("./node_modules/core-js/internals/define-global-property.js");d.exports=function(v,y,w,E){E||(E={});var Q=E.enumerable,K=E.name!==void 0?E.name:y;if(f(w)&&p(w,K,E),E.global)Q?v[y]=w:x(y,w);else{try{E.unsafe?v[y]&&(Q=!0):delete v[y]}catch{}Q?v[y]=w:m.f(v,y,{value:w,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return v}}),"./node_modules/core-js/internals/define-built-ins.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/define-built-in.js");d.exports=function(m,p,x){for(var v in p)f(m,v,p[v],x);return m}}),"./node_modules/core-js/internals/define-global-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=Object.defineProperty;d.exports=function(p,x){try{m(f,p,{value:x,configurable:!0,writable:!0})}catch{f[p]=x}return x}}),"./node_modules/core-js/internals/descriptors.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=f.document,x=m(p)&&m(p.createElement);d.exports=function(v){return x?p.createElement(v):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(d){var A=TypeError,o=9007199254740991;d.exports=function(f){if(f>o)throw A("Maximum allowed index exceeded");return f}}),"./node_modules/core-js/internals/dom-iterables.js":(function(d){d.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/document-create-element.js"),m=f("span").classList,p=m&&m.constructor&&m.constructor.prototype;d.exports=p===Object.prototype?void 0:p}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(d){d.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/ipad|iphone|ipod/i.test(f)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)}),"./node_modules/core-js/internals/environment-is-node.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment.js");d.exports=f==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/web0s(?!.*chrome)/i.test(f)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=f.navigator,p=m&&m.userAgent;d.exports=p?String(p):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/environment-user-agent.js"),p=f.process,x=f.Deno,v=p&&p.versions||x&&x.version,y=v&&v.v8,w,E;y&&(w=y.split("."),E=w[0]>0&&w[0]<4?1:+(w[0]+w[1])),!E&&m&&(w=m.match(/Edge\/(\d+)/),(!w||w[1]>=74)&&(w=m.match(/Chrome\/(\d+)/),w&&(E=+w[1]))),d.exports=E}),"./node_modules/core-js/internals/environment.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/environment-user-agent.js"),p=o("./node_modules/core-js/internals/classof-raw.js"),x=function(v){return m.slice(0,v.length)===v};d.exports=(function(){return x("Bun/")?"BUN":x("Cloudflare-Workers")?"CLOUDFLARE":x("Deno/")?"DENO":x("Node.js/")?"NODE":f.Bun&&typeof Bun.version=="string"?"BUN":f.Deno&&typeof Deno.version=="object"?"DENO":p(f.process)==="process"?"NODE":f.window&&f.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,p=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),v=o("./node_modules/core-js/internals/define-global-property.js"),y=o("./node_modules/core-js/internals/copy-constructor-properties.js"),w=o("./node_modules/core-js/internals/is-forced.js");d.exports=function(E,Q){var K=E.target,Z=E.global,J=E.stat,H,G,ce,Ae,Ne,re;if(Z?G=f:J?G=f[K]||v(K,{}):G=f[K]&&f[K].prototype,G)for(ce in Q){if(Ne=Q[ce],E.dontCallGetSet?(re=m(G,ce),Ae=re&&re.value):Ae=G[ce],H=w(Z?ce:K+(J?".":"#")+ce,E.forced),!H&&Ae!==void 0){if(typeof Ne==typeof Ae)continue;y(Ne,Ae)}(E.sham||Ae&&Ae.sham)&&p(Ne,"sham",!0),x(G,ce,Ne,E)}}}),"./node_modules/core-js/internals/fails.js":(function(d){d.exports=function(A){try{return!!A()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(d,A,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/define-built-in.js"),p=o("./node_modules/core-js/internals/regexp-exec.js"),x=o("./node_modules/core-js/internals/fails.js"),v=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=v("species"),E=RegExp.prototype;d.exports=function(Q,K,Z,J){var H=v(Q),G=!x(function(){var re={};return re[H]=function(){return 7},""[Q](re)!==7}),ce=G&&!x(function(){var re=!1,Be=/a/;if(Q==="split"){var fe={};fe[w]=function(){return Be},Be={constructor:fe,flags:""},Be[H]=/./[H]}return Be.exec=function(){return re=!0,null},Be[H](""),!re});if(!G||!ce||Z){var Ae=/./[H],Ne=K(H,""[Q],function(re,Be,fe,Se,pe){var ae=Be.exec;return ae===p||ae===E.exec?G&&!pe?{done:!0,value:f(Ae,Be,fe,Se)}:{done:!0,value:f(re,fe,Be,Se)}:{done:!1}});m(String.prototype,Q,Ne[0]),m(E,H,Ne[1])}J&&y(E[H],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),m=Function.prototype,p=m.apply,x=m.call;d.exports=typeof Reflect=="object"&&Reflect.apply||(f?x.bind(p):function(){return x.apply(p,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),m=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/function-bind-native.js"),x=f(f.bind);d.exports=function(v,y){return m(v),y===void 0?v:p?x(v,y):function(){return v.apply(y,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){var m=(function(){}).bind();return typeof m!="function"||m.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),m=Function.prototype.call;d.exports=f?m.bind(m):function(){return m.apply(m,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=Function.prototype,x=f&&Object.getOwnPropertyDescriptor,v=m(p,"name"),y=v&&(function(){}).name==="something",w=v&&(!f||f&&x(p,"name").configurable);d.exports={EXISTS:v,PROPER:y,CONFIGURABLE:w}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/a-callable.js");d.exports=function(p,x,v){try{return f(m(Object.getOwnPropertyDescriptor(p,x)[v]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=function(p){if(f(p)==="Function")return m(p)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),m=Function.prototype,p=m.call,x=f&&m.bind.bind(p,p);d.exports=f?x:function(v){return function(){return p.apply(v,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=function(x){return m(x)?x:void 0};d.exports=function(x,v){return arguments.length<2?p(f[x]):f[x]&&f[x][v]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(d){d.exports=function(A){return{iterator:A,next:A.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),m=o("./node_modules/core-js/internals/get-method.js"),p=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/iterators.js"),v=o("./node_modules/core-js/internals/well-known-symbol.js"),y=v("iterator");d.exports=function(w){if(!p(w))return m(w,y)||m(w,"@@iterator")||x[f(w)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),v=o("./node_modules/core-js/internals/get-iterator-method.js"),y=TypeError;d.exports=function(w,E){var Q=arguments.length<2?v(w):E;if(m(Q))return p(f(Q,w));throw new y(x(w)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js");d.exports=function(p,x){var v=p[x];return m(v)?void 0:f(v)}}),"./node_modules/core-js/internals/get-set-record.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=o("./node_modules/core-js/internals/get-iterator-direct.js"),y="Invalid size",w=RangeError,E=TypeError,Q=Math.max,K=function(Z,J){this.set=Z,this.size=Q(J,0),this.has=f(Z.has),this.keys=f(Z.keys)};K.prototype={getIterator:function(){return v(m(p(this.keys,this.set)))},includes:function(Z){return p(this.has,this.set,Z)}},d.exports=function(Z){m(Z);var J=+Z.size;if(J!==J)throw new E(y);var H=x(J);if(H<0)throw new w(y);return new K(Z,H)}}),"./node_modules/core-js/internals/get-substitution.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/to-object.js"),p=Math.floor,x=f("".charAt),v=f("".replace),y=f("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;d.exports=function(Q,K,Z,J,H,G){var ce=Z+Q.length,Ae=J.length,Ne=E;return H!==void 0&&(H=m(H),Ne=w),v(G,Ne,function(re,Be){var fe;switch(x(Be,0)){case"$":return"$";case"&":return Q;case"`":return y(K,0,Z);case"'":return y(K,ce);case"<":fe=H[y(Be,1,-1)];break;default:var Se=+Be;if(Se===0)return re;if(Se>Ae){var pe=p(Se/10);return pe===0?re:pe<=Ae?J[pe-1]===void 0?x(Be,1):J[pe-1]+x(Be,1):re}fe=J[Se-1]}return fe===void 0?"":fe})}}),"./node_modules/core-js/internals/global-this.js":(function(d){var A=function(o){return o&&o.Math===Math&&o};d.exports=A(typeof globalThis=="object"&&globalThis)||A(typeof window=="object"&&window)||A(typeof self=="object"&&self)||A(typeof k0=="object"&&k0)||A(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/to-object.js"),p=f({}.hasOwnProperty);d.exports=Object.hasOwn||function(v,y){return p(m(v),y)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(d){d.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(d){d.exports=function(A,o){try{arguments.length===1?console.error(A):console.error(A,o)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js");d.exports=f("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/document-create-element.js");d.exports=!f&&!m(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/classof-raw.js"),x=Object,v=f("".split);d.exports=m(function(){return!x("z").propertyIsEnumerable(0)})?function(y){return p(y)==="String"?v(y,""):x(y)}:x}),"./node_modules/core-js/internals/inherit-if-required.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/object-set-prototype-of.js");d.exports=function(x,v,y){var w,E;return p&&f(w=v.constructor)&&w!==y&&m(E=w.prototype)&&E!==y.prototype&&p(x,E),x}}),"./node_modules/core-js/internals/inspect-source.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/shared-store.js"),x=f(Function.toString);m(p.inspectSource)||(p.inspectSource=function(v){return x(v)}),d.exports=p.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/hidden-keys.js"),x=o("./node_modules/core-js/internals/is-object.js"),v=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/object-define-property.js").f,w=o("./node_modules/core-js/internals/object-get-own-property-names.js"),E=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),Q=o("./node_modules/core-js/internals/object-is-extensible.js"),K=o("./node_modules/core-js/internals/uid.js"),Z=o("./node_modules/core-js/internals/freezing.js"),J=!1,H=K("meta"),G=0,ce=function(Se){y(Se,H,{value:{objectID:"O"+G++,weakData:{}}})},Ae=function(Se,pe){if(!x(Se))return typeof Se=="symbol"?Se:(typeof Se=="string"?"S":"P")+Se;if(!v(Se,H)){if(!Q(Se))return"F";if(!pe)return"E";ce(Se)}return Se[H].objectID},Ne=function(Se,pe){if(!v(Se,H)){if(!Q(Se))return!0;if(!pe)return!1;ce(Se)}return Se[H].weakData},re=function(Se){return Z&&J&&Q(Se)&&!v(Se,H)&&ce(Se),Se},Be=function(){fe.enable=function(){},J=!0;var Se=w.f,pe=m([].splice),ae={};ae[H]=1,Se(ae).length&&(w.f=function(de){for(var oe=Se(de),Ee=0,Re=oe.length;Ee<Re;Ee++)if(oe[Ee]===H){pe(oe,Ee,1);break}return oe},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:E.f}))},fe=d.exports={enable:Be,fastKey:Ae,getWeakData:Ne,onFreeze:re};p[H]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/weak-map-basic-detection.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/shared-store.js"),w=o("./node_modules/core-js/internals/shared-key.js"),E=o("./node_modules/core-js/internals/hidden-keys.js"),Q="Object already initialized",K=m.TypeError,Z=m.WeakMap,J,H,G,ce=function(Be){return G(Be)?H(Be):J(Be,{})},Ae=function(Be){return function(fe){var Se;if(!p(fe)||(Se=H(fe)).type!==Be)throw new K("Incompatible receiver, "+Be+" required");return Se}};if(f||y.state){var Ne=y.state||(y.state=new Z);Ne.get=Ne.get,Ne.has=Ne.has,Ne.set=Ne.set,J=function(Be,fe){if(Ne.has(Be))throw new K(Q);return fe.facade=Be,Ne.set(Be,fe),fe},H=function(Be){return Ne.get(Be)||{}},G=function(Be){return Ne.has(Be)}}else{var re=w("state");E[re]=!0,J=function(Be,fe){if(v(Be,re))throw new K(Q);return fe.facade=Be,x(Be,re,fe),fe},H=function(Be){return v(Be,re)?Be[re]:{}},G=function(Be){return v(Be,re)}}d.exports={set:J,get:H,has:G,enforce:ce,getterFor:Ae}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/iterators.js"),p=f("iterator"),x=Array.prototype;d.exports=function(v){return v!==void 0&&(m.Array===v||x[p]===v)}}),"./node_modules/core-js/internals/is-array.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js");d.exports=Array.isArray||function(p){return f(p)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(d){var A=typeof document=="object"&&document.all;d.exports=typeof A>"u"&&A!==void 0?function(o){return typeof o=="function"||o===A}:function(o){return typeof o=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/classof.js"),v=o("./node_modules/core-js/internals/get-built-in.js"),y=o("./node_modules/core-js/internals/inspect-source.js"),w=function(){},E=v("Reflect","construct"),Q=/^\s*(?:class|function)\b/,K=f(Q.exec),Z=!Q.test(w),J=function(ce){if(!p(ce))return!1;try{return E(w,[],ce),!0}catch{return!1}},H=function(ce){if(!p(ce))return!1;switch(x(ce)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Z||!!K(Q,y(ce))}catch{return!0}};H.sham=!0,d.exports=!E||m(function(){var G;return J(J.call)||!J(Object)||!J(function(){G=!0})||G})?H:J}),"./node_modules/core-js/internals/is-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=/#|\.prototype\./,x=function(Q,K){var Z=y[v(Q)];return Z===E?!0:Z===w?!1:m(K)?f(K):!!K},v=x.normalize=function(Q){return String(Q).replace(p,".").toLowerCase()},y=x.data={},w=x.NATIVE="N",E=x.POLYFILL="P";d.exports=x}),"./node_modules/core-js/internals/is-iterable.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),v=o("./node_modules/core-js/internals/iterators.js"),y=x("iterator"),w=Object;d.exports=function(E){if(p(E))return!1;var Q=w(E);return Q[y]!==void 0||"@@iterator"in Q||m(v,f(Q))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(d){d.exports=function(A){return A==null}}),"./node_modules/core-js/internals/is-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js");d.exports=function(m){return typeof m=="object"?m!==null:f(m)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js");d.exports=function(m){return f(m)||m===null}}),"./node_modules/core-js/internals/is-pure.js":(function(d){d.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/internal-state.js").get;d.exports=function(x){if(!f(x))return!1;var v=m(x);return!!v&&v.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/classof-raw.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),x=p("match");d.exports=function(v){var y;return f(v)&&((y=v[x])!==void 0?!!y:m(v)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/object-is-prototype-of.js"),x=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),v=Object;d.exports=x?function(y){return typeof y=="symbol"}:function(y){var w=f("Symbol");return m(w)&&p(w.prototype,v(y))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js");d.exports=function(m,p,x){for(var v=x?m:m.iterator,y=m.next,w,E;!(w=f(y,v)).done;)if(E=p(w.value),E!==void 0)return E}}),"./node_modules/core-js/internals/iterate.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),v=o("./node_modules/core-js/internals/is-array-iterator-method.js"),y=o("./node_modules/core-js/internals/length-of-array-like.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),E=o("./node_modules/core-js/internals/get-iterator.js"),Q=o("./node_modules/core-js/internals/get-iterator-method.js"),K=o("./node_modules/core-js/internals/iterator-close.js"),Z=TypeError,J=function(G,ce){this.stopped=G,this.result=ce},H=J.prototype;d.exports=function(G,ce,Ae){var Ne=Ae&&Ae.that,re=!!(Ae&&Ae.AS_ENTRIES),Be=!!(Ae&&Ae.IS_RECORD),fe=!!(Ae&&Ae.IS_ITERATOR),Se=!!(Ae&&Ae.INTERRUPTED),pe=f(ce,Ne),ae,de,oe,Ee,Re,ke,me,we=function(te){return ae&&K(ae,"normal"),new J(!0,te)},ue=function(te){return re?(p(te),Se?pe(te[0],te[1],we):pe(te[0],te[1])):Se?pe(te,we):pe(te)};if(Be)ae=G.iterator;else if(fe)ae=G;else{if(de=Q(G),!de)throw new Z(x(G)+" is not iterable");if(v(de)){for(oe=0,Ee=y(G);Ee>oe;oe++)if(Re=ue(G[oe]),Re&&w(H,Re))return Re;return new J(!1)}ae=E(G,de)}for(ke=Be?G.next:ae.next;!(me=m(ke,ae)).done;){try{Re=ue(me.value)}catch(te){K(ae,"throw",te)}if(typeof Re=="object"&&Re&&w(H,Re))return Re}return new J(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(m,p,x){for(var v=m.length-1;v>=0;v--)if(m[v]!==void 0)try{x=f(m[v].iterator,p,x)}catch(y){p="throw",x=y}if(p==="throw")throw x;return x}}),"./node_modules/core-js/internals/iterator-close.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/get-method.js");d.exports=function(x,v,y){var w,E;m(x);try{if(w=p(x,"return"),!w){if(v==="throw")throw y;return y}w=f(w,x)}catch(Q){E=!0,w=Q}if(v==="throw")throw y;if(E)throw w;return m(w),y}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,m=o("./node_modules/core-js/internals/object-create.js"),p=o("./node_modules/core-js/internals/create-property-descriptor.js"),x=o("./node_modules/core-js/internals/set-to-string-tag.js"),v=o("./node_modules/core-js/internals/iterators.js"),y=function(){return this};d.exports=function(w,E,Q,K){var Z=E+" Iterator";return w.prototype=m(f,{next:p(+!K,Q)}),x(w,Z,!1,!0),v[Z]=y,w}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/object-create.js"),p=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=o("./node_modules/core-js/internals/define-built-ins.js"),v=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/internal-state.js"),w=o("./node_modules/core-js/internals/get-method.js"),E=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,Q=o("./node_modules/core-js/internals/create-iter-result-object.js"),K=o("./node_modules/core-js/internals/iterator-close.js"),Z=o("./node_modules/core-js/internals/iterator-close-all.js"),J=v("toStringTag"),H="IteratorHelper",G="WrapForValidIterator",ce="normal",Ae="throw",Ne=y.set,re=function(Se){var pe=y.getterFor(Se?G:H);return x(m(E),{next:function(){var de=pe(this);if(Se)return de.nextHandler();if(de.done)return Q(void 0,!0);try{var oe=de.nextHandler();return de.returnHandlerResult?oe:Q(oe,de.done)}catch(Ee){throw de.done=!0,Ee}},return:function(){var ae=pe(this),de=ae.iterator;if(ae.done=!0,Se){var oe=w(de,"return");return oe?f(oe,de):Q(void 0,!0)}if(ae.inner)try{K(ae.inner.iterator,ce)}catch(Ee){return K(de,Ae,Ee)}if(ae.openIters)try{Z(ae.openIters,ce)}catch(Ee){return K(de,Ae,Ee)}return de&&K(de,ce),Q(void 0,!0)}})},Be=re(!0),fe=re(!1);p(fe,J,"Iterator Helper"),d.exports=function(Se,pe,ae){var de=function(Ee,Re){Re?(Re.iterator=Ee.iterator,Re.next=Ee.next):Re=Ee,Re.type=pe?G:H,Re.returnHandlerResult=!!ae,Re.nextHandler=Se,Re.counter=0,Re.done=!1,Ne(this,Re)};return de.prototype=pe?Be:fe,de}}),"./node_modules/core-js/internals/iterator-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/is-pure.js"),x=o("./node_modules/core-js/internals/function-name.js"),v=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/iterator-create-constructor.js"),w=o("./node_modules/core-js/internals/object-get-prototype-of.js"),E=o("./node_modules/core-js/internals/object-set-prototype-of.js"),Q=o("./node_modules/core-js/internals/set-to-string-tag.js"),K=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),Z=o("./node_modules/core-js/internals/define-built-in.js"),J=o("./node_modules/core-js/internals/well-known-symbol.js"),H=o("./node_modules/core-js/internals/iterators.js"),G=o("./node_modules/core-js/internals/iterators-core.js"),ce=x.PROPER,Ae=x.CONFIGURABLE,Ne=G.IteratorPrototype,re=G.BUGGY_SAFARI_ITERATORS,Be=J("iterator"),fe="keys",Se="values",pe="entries",ae=function(){return this};d.exports=function(de,oe,Ee,Re,ke,me,we){y(Ee,oe,Re);var ue=function(ls){if(ls===ke&&Nt)return Nt;if(!re&&ls&&ls in Me)return Me[ls];switch(ls){case fe:return function(){return new Ee(this,ls)};case Se:return function(){return new Ee(this,ls)};case pe:return function(){return new Ee(this,ls)}}return function(){return new Ee(this)}},te=oe+" Iterator",ge=!1,Me=de.prototype,Ve=Me[Be]||Me["@@iterator"]||ke&&Me[ke],Nt=!re&&Ve||ue(ke),ut=oe==="Array"&&Me.entries||Ve,et,Lt,ns;if(ut&&(et=w(ut.call(new de)),et!==Object.prototype&&et.next&&(!p&&w(et)!==Ne&&(E?E(et,Ne):v(et[Be])||Z(et,Be,ae)),Q(et,te,!0,!0),p&&(H[te]=ae))),ce&&ke===Se&&Ve&&Ve.name!==Se&&(!p&&Ae?K(Me,"name",Se):(ge=!0,Nt=function(){return m(Ve,this)})),ke)if(Lt={values:ue(Se),keys:me?Nt:ue(fe),entries:ue(pe)},we)for(ns in Lt)(re||ge||!(ns in Me))&&Z(Me,ns,Lt[ns]);else f({target:oe,proto:!0,forced:re||ge},Lt);return(!p||we)&&Me[Be]!==Nt&&Z(Me,Be,Nt,{name:ke}),H[oe]=Nt,Lt}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(d){d.exports=function(A,o){var f=typeof Iterator=="function"&&Iterator.prototype[A];if(f)try{f.call({next:null},o).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=function(m,p){var x=f.Iterator,v=x&&x.prototype,y=v&&v[m],w=!1;if(y)try{y.call({next:function(){return{done:!0}},return:function(){w=!0}},-1)}catch(E){E instanceof p||(w=!1)}if(!w)return y}}),"./node_modules/core-js/internals/iterators-core.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/object-create.js"),v=o("./node_modules/core-js/internals/object-get-prototype-of.js"),y=o("./node_modules/core-js/internals/define-built-in.js"),w=o("./node_modules/core-js/internals/well-known-symbol.js"),E=o("./node_modules/core-js/internals/is-pure.js"),Q=w("iterator"),K=!1,Z,J,H;[].keys&&(H=[].keys(),"next"in H?(J=v(v(H)),J!==Object.prototype&&(Z=J)):K=!0);var G=!p(Z)||f(function(){var ce={};return Z[Q].call(ce)!==ce});G?Z={}:E&&(Z=x(Z)),m(Z[Q])||y(Z,Q,function(){return this}),d.exports={IteratorPrototype:Z,BUGGY_SAFARI_ITERATORS:K}}),"./node_modules/core-js/internals/iterators.js":(function(d){d.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-length.js");d.exports=function(m){return f(m.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/has-own-property.js"),v=o("./node_modules/core-js/internals/descriptors.js"),y=o("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,w=o("./node_modules/core-js/internals/inspect-source.js"),E=o("./node_modules/core-js/internals/internal-state.js"),Q=E.enforce,K=E.get,Z=String,J=Object.defineProperty,H=f("".slice),G=f("".replace),ce=f([].join),Ae=v&&!m(function(){return J(function(){},"length",{value:8}).length!==8}),Ne=String(String).split("String"),re=d.exports=function(Be,fe,Se){H(Z(fe),0,7)==="Symbol("&&(fe="["+G(Z(fe),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),Se&&Se.getter&&(fe="get "+fe),Se&&Se.setter&&(fe="set "+fe),(!x(Be,"name")||y&&Be.name!==fe)&&(v?J(Be,"name",{value:fe,configurable:!0}):Be.name=fe),Ae&&Se&&x(Se,"arity")&&Be.length!==Se.arity&&J(Be,"length",{value:Se.arity});try{Se&&x(Se,"constructor")&&Se.constructor?v&&J(Be,"prototype",{writable:!1}):Be.prototype&&(Be.prototype=void 0)}catch{}var pe=Q(Be);return x(pe,"source")||(pe.source=ce(Ne,typeof fe=="string"?fe:"")),Be};Function.prototype.toString=re(function(){return p(this)&&K(this).source||w(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(d){var A=Math.ceil,o=Math.floor;d.exports=Math.trunc||function(m){var p=+m;return(p>0?o:A)(p)}}),"./node_modules/core-js/internals/microtask.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/safe-get-built-in.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),x=o("./node_modules/core-js/internals/task.js").set,v=o("./node_modules/core-js/internals/queue.js"),y=o("./node_modules/core-js/internals/environment-is-ios.js"),w=o("./node_modules/core-js/internals/environment-is-ios-pebble.js"),E=o("./node_modules/core-js/internals/environment-is-webos-webkit.js"),Q=o("./node_modules/core-js/internals/environment-is-node.js"),K=f.MutationObserver||f.WebKitMutationObserver,Z=f.document,J=f.process,H=f.Promise,G=m("queueMicrotask"),ce,Ae,Ne,re,Be;if(!G){var fe=new v,Se=function(){var pe,ae;for(Q&&(pe=J.domain)&&pe.exit();ae=fe.get();)try{ae()}catch(de){throw fe.head&&ce(),de}pe&&pe.enter()};!y&&!Q&&!E&&K&&Z?(Ae=!0,Ne=Z.createTextNode(""),new K(Se).observe(Ne,{characterData:!0}),ce=function(){Ne.data=Ae=!Ae}):!w&&H&&H.resolve?(re=H.resolve(void 0),re.constructor=H,Be=p(re.then,re),ce=function(){Be(Se)}):Q?ce=function(){J.nextTick(Se)}:(x=p(x,f),ce=function(){x(Se)}),G=function(pe){fe.head||ce(),fe.add(pe)}}d.exports=G}),"./node_modules/core-js/internals/native-raw-json.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){var m="9007199254740993",p=JSON.rawJSON(m);return!JSON.isRawJSON(p)||JSON.stringify(p)!==m})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),m=TypeError,p=function(x){var v,y;this.promise=new x(function(w,E){if(v!==void 0||y!==void 0)throw new m("Bad Promise constructor");v=w,y=E}),this.resolve=f(v),this.reject=f(y)};d.exports.f=function(x){return new p(x)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-regexp.js"),m=TypeError;d.exports=function(p){if(f(p))throw new m("The method doesn't accept regular expressions");return p}}),"./node_modules/core-js/internals/object-assign.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/fails.js"),v=o("./node_modules/core-js/internals/object-keys.js"),y=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),w=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),E=o("./node_modules/core-js/internals/to-object.js"),Q=o("./node_modules/core-js/internals/indexed-object.js"),K=Object.assign,Z=Object.defineProperty,J=m([].concat);d.exports=!K||x(function(){if(f&&K({b:1},K(Z({},"a",{enumerable:!0,get:function(){Z(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var H={},G={},ce=Symbol("assign detection"),Ae="abcdefghijklmnopqrst";return H[ce]=7,Ae.split("").forEach(function(Ne){G[Ne]=Ne}),K({},H)[ce]!==7||v(K({},G)).join("")!==Ae})?function(G,ce){for(var Ae=E(G),Ne=arguments.length,re=1,Be=y.f,fe=w.f;Ne>re;)for(var Se=Q(arguments[re++]),pe=Be?J(v(Se),Be(Se)):v(Se),ae=pe.length,de=0,oe;ae>de;)oe=pe[de++],(!f||p(fe,Se,oe))&&(Ae[oe]=Se[oe]);return Ae}:K}),"./node_modules/core-js/internals/object-create.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/object-define-properties.js"),p=o("./node_modules/core-js/internals/enum-bug-keys.js"),x=o("./node_modules/core-js/internals/hidden-keys.js"),v=o("./node_modules/core-js/internals/html.js"),y=o("./node_modules/core-js/internals/document-create-element.js"),w=o("./node_modules/core-js/internals/shared-key.js"),E=">",Q="<",K="prototype",Z="script",J=w("IE_PROTO"),H=function(){},G=function(Be){return Q+Z+E+Be+Q+"/"+Z+E},ce=function(Be){Be.write(G("")),Be.close();var fe=Be.parentWindow.Object;return Be=null,fe},Ae=function(){var Be=y("iframe"),fe="java"+Z+":",Se;return Be.style.display="none",v.appendChild(Be),Be.src=String(fe),Se=Be.contentWindow.document,Se.open(),Se.write(G("document.F=Object")),Se.close(),Se.F},Ne,re=function(){try{Ne=new ActiveXObject("htmlfile")}catch{}re=typeof document<"u"?document.domain&&Ne?ce(Ne):Ae():ce(Ne);for(var Be=p.length;Be--;)delete re[K][p[Be]];return re()};x[J]=!0,d.exports=Object.create||function(fe,Se){var pe;return fe!==null?(H[K]=f(fe),pe=new H,H[K]=null,pe[J]=fe):pe=re(),Se===void 0?pe:m.f(pe,Se)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),p=o("./node_modules/core-js/internals/object-define-property.js"),x=o("./node_modules/core-js/internals/an-object.js"),v=o("./node_modules/core-js/internals/to-indexed-object.js"),y=o("./node_modules/core-js/internals/object-keys.js");A.f=f&&!m?Object.defineProperties:function(E,Q){x(E);for(var K=v(Q),Z=y(Q),J=Z.length,H=0,G;J>H;)p.f(E,G=Z[H++],K[G]);return E}}),"./node_modules/core-js/internals/object-define-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/ie8-dom-define.js"),p=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),x=o("./node_modules/core-js/internals/an-object.js"),v=o("./node_modules/core-js/internals/to-property-key.js"),y=TypeError,w=Object.defineProperty,E=Object.getOwnPropertyDescriptor,Q="enumerable",K="configurable",Z="writable";A.f=f?p?function(H,G,ce){if(x(H),G=v(G),x(ce),typeof H=="function"&&G==="prototype"&&"value"in ce&&Z in ce&&!ce[Z]){var Ae=E(H,G);Ae&&Ae[Z]&&(H[G]=ce.value,ce={configurable:K in ce?ce[K]:Ae[K],enumerable:Q in ce?ce[Q]:Ae[Q],writable:!1})}return w(H,G,ce)}:w:function(H,G,ce){if(x(H),G=v(G),x(ce),m)try{return w(H,G,ce)}catch{}if("get"in ce||"set"in ce)throw new y("Accessors not supported");return"value"in ce&&(H[G]=ce.value),H}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),x=o("./node_modules/core-js/internals/create-property-descriptor.js"),v=o("./node_modules/core-js/internals/to-indexed-object.js"),y=o("./node_modules/core-js/internals/to-property-key.js"),w=o("./node_modules/core-js/internals/has-own-property.js"),E=o("./node_modules/core-js/internals/ie8-dom-define.js"),Q=Object.getOwnPropertyDescriptor;A.f=f?Q:function(Z,J){if(Z=v(Z),J=y(J),E)try{return Q(Z,J)}catch{}if(w(Z,J))return x(!m(p.f,Z,J),Z[J])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js"),m=o("./node_modules/core-js/internals/to-indexed-object.js"),p=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,x=o("./node_modules/core-js/internals/array-slice.js"),v=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],y=function(w){try{return p(w)}catch{return x(v)}};d.exports.f=function(E){return v&&f(E)==="Window"?y(E):p(m(E))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-keys-internal.js"),m=o("./node_modules/core-js/internals/enum-bug-keys.js"),p=m.concat("length","prototype");A.f=Object.getOwnPropertyNames||function(v){return f(v,p)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(d,A){A.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/to-object.js"),x=o("./node_modules/core-js/internals/shared-key.js"),v=o("./node_modules/core-js/internals/correct-prototype-getter.js"),y=x("IE_PROTO"),w=Object,E=w.prototype;d.exports=v?w.getPrototypeOf:function(Q){var K=p(Q);if(f(K,y))return K[y];var Z=K.constructor;return m(Z)&&K instanceof Z?Z.prototype:K instanceof w?E:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/classof-raw.js"),x=o("./node_modules/core-js/internals/array-buffer-non-extensible.js"),v=Object.isExtensible,y=f(function(){});d.exports=y||x?function(E){return!m(E)||x&&p(E)==="ArrayBuffer"?!1:v?v(E):!0}:v}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/to-indexed-object.js"),x=o("./node_modules/core-js/internals/array-includes.js").indexOf,v=o("./node_modules/core-js/internals/hidden-keys.js"),y=f([].push);d.exports=function(w,E){var Q=p(w),K=0,Z=[],J;for(J in Q)!m(v,J)&&m(Q,J)&&y(Z,J);for(;E.length>K;)m(Q,J=E[K++])&&(~x(Z,J)||y(Z,J));return Z}}),"./node_modules/core-js/internals/object-keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-keys-internal.js"),m=o("./node_modules/core-js/internals/enum-bug-keys.js");d.exports=Object.keys||function(x){return f(x,m)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(d,A){var o={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,m=f&&!o.call({1:2},1);A.f=m?function(x){var v=f(this,x);return!!v&&v.enumerable}:o}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/require-object-coercible.js"),x=o("./node_modules/core-js/internals/a-possible-prototype.js");d.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var v=!1,y={},w;try{w=f(Object.prototype,"__proto__","set"),w(y,[]),v=y instanceof Array}catch{}return function(Q,K){return p(Q),x(K),m(Q)&&(v?w(Q,K):Q.__proto__=K),Q}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),m=o("./node_modules/core-js/internals/classof.js");d.exports=f?{}.toString:function(){return"[object "+m(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/is-object.js"),x=TypeError;d.exports=function(v,y){var w,E;if(y==="string"&&m(w=v.toString)&&!p(E=f(w,v))||m(w=v.valueOf)&&!p(E=f(w,v))||y!=="string"&&m(w=v.toString)&&!p(E=f(w,v)))return E;throw new x("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/object-get-own-property-names.js"),x=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),v=o("./node_modules/core-js/internals/an-object.js"),y=m([].concat);d.exports=f("Reflect","ownKeys")||function(E){var Q=p.f(v(E)),K=x.f;return K?y(Q,K(E)):Q}}),"./node_modules/core-js/internals/parse-json-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=SyntaxError,x=parseInt,v=String.fromCharCode,y=f("".charAt),w=f("".slice),E=f(/./.exec),Q={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},K=/^[\da-f]{4}$/i,Z=/^[\u0000-\u001F]$/;d.exports=function(J,H){for(var G=!0,ce="";H<J.length;){var Ae=y(J,H);if(Ae==="\\"){var Ne=w(J,H,H+2);if(m(Q,Ne))ce+=Q[Ne],H+=2;else if(Ne==="\\u"){H+=2;var re=w(J,H,H+4);if(!E(K,re))throw new p("Bad Unicode escape at: "+H);ce+=v(x(re,16)),H+=4}else throw new p('Unknown escape sequence: "'+Ne+'"')}else if(Ae==='"'){G=!1,H++;break}else{if(E(Z,Ae))throw new p("Bad control character in string literal at: "+H);ce+=Ae,H++}}if(G)throw new p("Unterminated string at: "+H);return{value:ce,end:H}}}),"./node_modules/core-js/internals/path.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=f}),"./node_modules/core-js/internals/perform.js":(function(d){d.exports=function(A){try{return{error:!1,value:A()}}catch(o){return{error:!0,value:o}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/promise-native-constructor.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/is-forced.js"),v=o("./node_modules/core-js/internals/inspect-source.js"),y=o("./node_modules/core-js/internals/well-known-symbol.js"),w=o("./node_modules/core-js/internals/environment.js"),E=o("./node_modules/core-js/internals/is-pure.js"),Q=o("./node_modules/core-js/internals/environment-v8-version.js"),K=m&&m.prototype,Z=y("species"),J=!1,H=p(f.PromiseRejectionEvent),G=x("Promise",function(){var ce=v(m),Ae=ce!==String(m);if(!Ae&&Q===66||E&&!(K.catch&&K.finally))return!0;if(!Q||Q<51||!/native code/.test(ce)){var Ne=new m(function(fe){fe(1)}),re=function(fe){fe(function(){},function(){})},Be=Ne.constructor={};if(Be[Z]=re,J=Ne.then(function(){})instanceof re,!J)return!0}return!Ae&&(w==="BROWSER"||w==="DENO")&&!H});d.exports={CONSTRUCTOR:G,REJECTION_EVENT:H,SUBCLASSING:J}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=f.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/new-promise-capability.js");d.exports=function(x,v){if(f(x),m(v)&&v.constructor===x)return v;var y=p.f(x),w=y.resolve;return w(v),y.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/promise-native-constructor.js"),m=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),p=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;d.exports=p||!m(function(x){f.all(x).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(d){var A=function(){this.head=null,this.tail=null};A.prototype={add:function(o){var f={item:o,next:null},m=this.tail;m?m.next=f:this.head=f,this.tail=f},get:function(){var o=this.head;if(o){var f=this.head=o.next;return f===null&&(this.tail=null),o.item}}},d.exports=A}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/classof-raw.js"),v=o("./node_modules/core-js/internals/regexp-exec.js"),y=TypeError;d.exports=function(w,E){var Q=w.exec;if(p(Q)){var K=f(Q,w,E);return K!==null&&m(K),K}if(x(w)==="RegExp")return f(v,w,E);throw new y("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/regexp-flags.js"),v=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),y=o("./node_modules/core-js/internals/shared.js"),w=o("./node_modules/core-js/internals/object-create.js"),E=o("./node_modules/core-js/internals/internal-state.js").get,Q=o("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),K=o("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),Z=y("native-string-replace",String.prototype.replace),J=RegExp.prototype.exec,H=J,G=m("".charAt),ce=m("".indexOf),Ae=m("".replace),Ne=m("".slice),re=(function(){var pe=/a/,ae=/b*/g;return f(J,pe,"a"),f(J,ae,"a"),pe.lastIndex!==0||ae.lastIndex!==0})(),Be=v.BROKEN_CARET,fe=/()??/.exec("")[1]!==void 0,Se=re||fe||Be||Q||K;Se&&(H=function(ae){var de=this,oe=E(de),Ee=p(ae),Re=oe.raw,ke,me,we,ue,te,ge,Me;if(Re)return Re.lastIndex=de.lastIndex,ke=f(H,Re,Ee),de.lastIndex=Re.lastIndex,ke;var Ve=oe.groups,Nt=Be&&de.sticky,ut=f(x,de),et=de.source,Lt=0,ns=Ee;if(Nt&&(ut=Ae(ut,"y",""),ce(ut,"g")===-1&&(ut+="g"),ns=Ne(Ee,de.lastIndex),de.lastIndex>0&&(!de.multiline||de.multiline&&G(Ee,de.lastIndex-1)!==`
`)&&(et="(?: "+et+")",ns=" "+ns,Lt++),me=new RegExp("^(?:"+et+")",ut)),fe&&(me=new RegExp("^"+et+"$(?!\\s)",ut)),re&&(we=de.lastIndex),ue=f(J,Nt?me:de,ns),Nt?ue?(ue.input=Ne(ue.input,Lt),ue[0]=Ne(ue[0],Lt),ue.index=de.lastIndex,de.lastIndex+=ue[0].length):de.lastIndex=0:re&&ue&&(de.lastIndex=de.global?ue.index+ue[0].length:we),fe&&ue&&ue.length>1&&f(Z,ue[0],me,function(){for(te=1;te<arguments.length-2;te++)arguments[te]===void 0&&(ue[te]=void 0)}),ue&&Ve)for(ue.groups=ge=w(null),te=0;te<Ve.length;te++)Me=Ve[te],ge[Me[0]]=ue[Me[1]];return ue}),d.exports=H}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/fails.js"),p=f.RegExp,x=!m(function(){var v=!0;try{p(".","d")}catch{v=!1}var y={},w="",E=v?"dgimsy":"gimsy",Q=function(H,G){Object.defineProperty(y,H,{get:function(){return w+=G,!0}})},K={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};v&&(K.hasIndices="d");for(var Z in K)Q(Z,K[Z]);var J=Object.getOwnPropertyDescriptor(p.prototype,"flags").get.call(y);return J!==E||w!==E});d.exports={correct:x}}),"./node_modules/core-js/internals/regexp-flags.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js");d.exports=function(){var m=f(this),p="";return m.hasIndices&&(p+="d"),m.global&&(p+="g"),m.ignoreCase&&(p+="i"),m.multiline&&(p+="m"),m.dotAll&&(p+="s"),m.unicode&&(p+="u"),m.unicodeSets&&(p+="v"),m.sticky&&(p+="y"),p}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/object-is-prototype-of.js"),x=o("./node_modules/core-js/internals/regexp-flags-detection.js"),v=o("./node_modules/core-js/internals/regexp-flags.js"),y=RegExp.prototype;d.exports=x.correct?function(w){return w.flags}:function(w){return!x.correct&&p(y,w)&&!m(w,"flags")?f(v,w):w.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=m.RegExp,x=f(function(){var w=p("a","y");return w.lastIndex=2,w.exec("abcd")!==null}),v=x||f(function(){return!p("a","y").sticky}),y=x||f(function(){var w=p("^r","gy");return w.lastIndex=2,w.exec("str")!==null});d.exports={BROKEN_CARET:y,MISSED_STICKY:v,UNSUPPORTED_Y:x}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=m.RegExp;d.exports=f(function(){var x=p(".","s");return!(x.dotAll&&x.test(`
`)&&x.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=m.RegExp;d.exports=f(function(){var x=p("(?<a>b)","g");return x.exec("b").groups.a!=="b"||"b".replace(x,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-null-or-undefined.js"),m=TypeError;d.exports=function(p){if(f(p))throw new m("Can't call method on "+p);return p}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/descriptors.js"),p=Object.getOwnPropertyDescriptor;d.exports=function(x){if(!m)return f[x];var v=p(f,x);return v&&v.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/function-apply.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/environment.js"),v=o("./node_modules/core-js/internals/environment-user-agent.js"),y=o("./node_modules/core-js/internals/array-slice.js"),w=o("./node_modules/core-js/internals/validate-arguments-length.js"),E=f.Function,Q=/MSIE .\./.test(v)||x==="BUN"&&(function(){var K=f.Bun.version.split(".");return K.length<3||K[0]==="0"&&(K[1]<3||K[1]==="3"&&K[2]==="0")})();d.exports=function(K,Z){var J=Z?2:1;return Q?function(H,G){var ce=w(arguments.length,1)>J,Ae=p(H)?H:E(H),Ne=ce?y(arguments,J):[],re=ce?function(){m(Ae,this,Ne)}:Ae;return Z?K(re,G):K(re)}:K}}),"./node_modules/core-js/internals/set-clone.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/set-helpers.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),p=f.Set,x=f.add;d.exports=function(v){var y=new p;return m(v,function(w){x(y,w)}),y}}),"./node_modules/core-js/internals/set-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js"),p=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/set-size.js"),v=o("./node_modules/core-js/internals/get-set-record.js"),y=o("./node_modules/core-js/internals/set-iterate.js"),w=o("./node_modules/core-js/internals/iterate-simple.js"),E=m.has,Q=m.remove;d.exports=function(Z){var J=f(this),H=v(Z),G=p(J);return x(J)<=H.size?y(J,function(ce){H.includes(ce)&&Q(G,ce)}):w(H.getIterator(),function(ce){E(G,ce)&&Q(G,ce)}),G}}),"./node_modules/core-js/internals/set-helpers.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=Set.prototype;d.exports={Set,add:f(m.add),has:f(m.has),remove:f(m.delete),proto:m}}),"./node_modules/core-js/internals/set-intersection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js"),p=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),v=o("./node_modules/core-js/internals/set-iterate.js"),y=o("./node_modules/core-js/internals/iterate-simple.js"),w=m.Set,E=m.add,Q=m.has;d.exports=function(Z){var J=f(this),H=x(Z),G=new w;return p(J)>H.size?y(H.getIterator(),function(ce){Q(J,ce)&&E(G,ce)}):v(J,function(ce){H.includes(ce)&&E(G,ce)}),G}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js").has,p=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),v=o("./node_modules/core-js/internals/set-iterate.js"),y=o("./node_modules/core-js/internals/iterate-simple.js"),w=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(Q){var K=f(this),Z=x(Q);if(p(K)<=Z.size)return v(K,function(H){if(Z.includes(H))return!1},!0)!==!1;var J=Z.getIterator();return y(J,function(H){if(m(K,H))return w(J,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-size.js"),p=o("./node_modules/core-js/internals/set-iterate.js"),x=o("./node_modules/core-js/internals/get-set-record.js");d.exports=function(y){var w=f(this),E=x(y);return m(w)>E.size?!1:p(w,function(Q){if(!E.includes(Q))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js").has,p=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),v=o("./node_modules/core-js/internals/iterate-simple.js"),y=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(E){var Q=f(this),K=x(E);if(p(Q)<K.size)return!1;var Z=K.getIterator();return v(Z,function(J){if(!m(Q,J))return y(Z,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),p=o("./node_modules/core-js/internals/set-helpers.js"),x=p.Set,v=p.proto,y=f(v.forEach),w=f(v.keys),E=w(new x).next;d.exports=function(Q,K,Z){return Z?m({iterator:w(Q),next:E},K):y(Q,K)}}),"./node_modules/core-js/internals/set-size.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),m=o("./node_modules/core-js/internals/set-helpers.js");d.exports=f(m.proto,"size","get")||function(p){return p.size}}),"./node_modules/core-js/internals/set-species.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/define-built-in-accessor.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/descriptors.js"),v=p("species");d.exports=function(y){var w=f(y);x&&w&&!w[v]&&m(w,v,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js"),p=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),v=o("./node_modules/core-js/internals/iterate-simple.js"),y=m.add,w=m.has,E=m.remove;d.exports=function(K){var Z=f(this),J=x(K).getIterator(),H=p(Z);return v(J,function(G){w(Z,G)?E(H,G):y(H,G)}),H}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-define-property.js").f,m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),x=p("toStringTag");d.exports=function(v,y,w){v&&!w&&(v=v.prototype),v&&!m(v,x)&&f(v,x,{configurable:!0,value:y})}}),"./node_modules/core-js/internals/set-union.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js").add,p=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),v=o("./node_modules/core-js/internals/iterate-simple.js");d.exports=function(w){var E=f(this),Q=x(w).getIterator(),K=p(E);return v(Q,function(Z){m(K,Z)}),K}}),"./node_modules/core-js/internals/shared-key.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/uid.js"),p=f("keys");d.exports=function(x){return p[x]||(p[x]=m(x))}}),"./node_modules/core-js/internals/shared-store.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/define-global-property.js"),x="__core-js_shared__",v=d.exports=m[x]||p(x,{});(v.versions||(v.versions=[])).push({version:"3.47.0",mode:f?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/shared-store.js");d.exports=function(m,p){return f[m]||(f[m]=p||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/a-constructor.js"),p=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),v=x("species");d.exports=function(y,w){var E=f(y).constructor,Q;return E===void 0||p(Q=f(E)[v])?w:m(Q)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=function(m){return f(function(){var p=""[m]('"');return p!==p.toLowerCase()||p.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),p=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),v=f("".charAt),y=f("".charCodeAt),w=f("".slice),E=function(Q){return function(K,Z){var J=p(x(K)),H=m(Z),G=J.length,ce,Ae;return H<0||H>=G?Q?"":void 0:(ce=y(J,H),ce<55296||ce>56319||H+1===G||(Ae=y(J,H+1))<56320||Ae>57343?Q?v(J,H):ce:Q?w(J,H,H+2):(ce-55296<<10)+(Ae-56320)+65536)}};d.exports={codeAt:E(!1),charAt:E(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-name.js").PROPER,m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/whitespaces.js"),x="";d.exports=function(v){return m(function(){return!!p[v]()||x[v]()!==x||f&&p[v].name!==v})}}),"./node_modules/core-js/internals/string-trim.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js"),p=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/whitespaces.js"),v=f("".replace),y=RegExp("^["+x+"]+"),w=RegExp("(^|[^"+x+"])["+x+"]+$"),E=function(Q){return function(K){var Z=p(m(K));return Q&1&&(Z=v(Z,y,"")),Q&2&&(Z=v(Z,w,"$1")),Z}};d.exports={start:E(1),end:E(2),trim:E(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-v8-version.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/global-this.js"),x=p.String;d.exports=!!Object.getOwnPropertySymbols&&!m(function(){var v=Symbol("symbol detection");return!x(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&f&&f<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/define-built-in.js");d.exports=function(){var v=m("Symbol"),y=v&&v.prototype,w=y&&y.valueOf,E=p("toPrimitive");y&&!y[E]&&x(y,E,function(Q){return f(w,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/symbol-constructor-detection.js");d.exports=f&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/function-apply.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),x=o("./node_modules/core-js/internals/is-callable.js"),v=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/fails.js"),w=o("./node_modules/core-js/internals/html.js"),E=o("./node_modules/core-js/internals/array-slice.js"),Q=o("./node_modules/core-js/internals/document-create-element.js"),K=o("./node_modules/core-js/internals/validate-arguments-length.js"),Z=o("./node_modules/core-js/internals/environment-is-ios.js"),J=o("./node_modules/core-js/internals/environment-is-node.js"),H=f.setImmediate,G=f.clearImmediate,ce=f.process,Ae=f.Dispatch,Ne=f.Function,re=f.MessageChannel,Be=f.String,fe=0,Se={},pe="onreadystatechange",ae,de,oe,Ee;y(function(){ae=f.location});var Re=function(ue){if(v(Se,ue)){var te=Se[ue];delete Se[ue],te()}},ke=function(ue){return function(){Re(ue)}},me=function(ue){Re(ue.data)},we=function(ue){f.postMessage(Be(ue),ae.protocol+"//"+ae.host)};(!H||!G)&&(H=function(te){K(arguments.length,1);var ge=x(te)?te:Ne(te),Me=E(arguments,1);return Se[++fe]=function(){m(ge,void 0,Me)},de(fe),fe},G=function(te){delete Se[te]},J?de=function(ue){ce.nextTick(ke(ue))}:Ae&&Ae.now?de=function(ue){Ae.now(ke(ue))}:re&&!Z?(oe=new re,Ee=oe.port2,oe.port1.onmessage=me,de=p(Ee.postMessage,Ee)):f.addEventListener&&x(f.postMessage)&&!f.importScripts&&ae&&ae.protocol!=="file:"&&!y(we)?(de=we,f.addEventListener("message",me,!1)):pe in Q("script")?de=function(ue){w.appendChild(Q("script"))[pe]=function(){w.removeChild(this),Re(ue)}}:de=function(ue){setTimeout(ke(ue),0)}),d.exports={set:H,clear:G}}),"./node_modules/core-js/internals/this-number-value.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),m=Math.max,p=Math.min;d.exports=function(x,v){var y=f(x);return y<0?m(y+v,0):p(y,v)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/indexed-object.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js");d.exports=function(p){return f(m(p))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/math-trunc.js");d.exports=function(m){var p=+m;return p!==p||p===0?0:f(p)}}),"./node_modules/core-js/internals/to-length.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),m=Math.min;d.exports=function(p){var x=f(p);return x>0?m(x,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/require-object-coercible.js"),m=Object;d.exports=function(p){return m(f(p))}}),"./node_modules/core-js/internals/to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/is-symbol.js"),x=o("./node_modules/core-js/internals/get-method.js"),v=o("./node_modules/core-js/internals/ordinary-to-primitive.js"),y=o("./node_modules/core-js/internals/well-known-symbol.js"),w=TypeError,E=y("toPrimitive");d.exports=function(Q,K){if(!m(Q)||p(Q))return Q;var Z=x(Q,E),J;if(Z){if(K===void 0&&(K="default"),J=f(Z,Q,K),!m(J)||p(J))return J;throw new w("Can't convert object to primitive value")}return K===void 0&&(K="number"),v(Q,K)}}),"./node_modules/core-js/internals/to-property-key.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-primitive.js"),m=o("./node_modules/core-js/internals/is-symbol.js");d.exports=function(p){var x=f(p,"string");return m(x)?x:x+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/is-iterable.js"),x=o("./node_modules/core-js/internals/is-object.js"),v=f("Set"),y=function(w){return x(w)&&typeof w.size=="number"&&m(w.has)&&m(w.keys)};d.exports=function(w){return y(w)?w:p(w)?new v(w):w}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),m=f("toStringTag"),p={};p[m]="z",d.exports=String(p)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),m=String;d.exports=function(p){if(f(p)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return m(p)}}),"./node_modules/core-js/internals/try-to-string.js":(function(d){var A=String;d.exports=function(o){try{return A(o)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=0,p=Math.random(),x=f(1.1.toString);d.exports=function(v){return"Symbol("+(v===void 0?"":v)+")_"+x(++m+p,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/symbol-constructor-detection.js");d.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/fails.js");d.exports=f&&m(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(d){var A=TypeError;d.exports=function(o,f){if(o<f)throw new A("Not enough arguments");return o}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=f.WeakMap;d.exports=m(p)&&/native code/.test(String(p))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/path.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),x=o("./node_modules/core-js/internals/object-define-property.js").f;d.exports=function(v){var y=f.Symbol||(f.Symbol={});m(y,v)||x(y,v,{value:p.f(v)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js");A.f=f}),"./node_modules/core-js/internals/well-known-symbol.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/shared.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/uid.js"),v=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),y=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),w=f.Symbol,E=m("wks"),Q=y?w.for||w:w&&w.withoutSetter||x;d.exports=function(K){return p(E,K)||(E[K]=v&&p(w,K)?w[K]:Q("Symbol."+K)),E[K]}}),"./node_modules/core-js/internals/whitespaces.js":(function(d){d.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-array.js"),x=o("./node_modules/core-js/internals/is-object.js"),v=o("./node_modules/core-js/internals/to-object.js"),y=o("./node_modules/core-js/internals/length-of-array-like.js"),w=o("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),E=o("./node_modules/core-js/internals/create-property.js"),Q=o("./node_modules/core-js/internals/array-species-create.js"),K=o("./node_modules/core-js/internals/array-method-has-species-support.js"),Z=o("./node_modules/core-js/internals/well-known-symbol.js"),J=o("./node_modules/core-js/internals/environment-v8-version.js"),H=Z("isConcatSpreadable"),G=J>=51||!m(function(){var Ne=[];return Ne[H]=!1,Ne.concat()[0]!==Ne}),ce=function(Ne){if(!x(Ne))return!1;var re=Ne[H];return re!==void 0?!!re:p(Ne)},Ae=!G||!K("concat");f({target:"Array",proto:!0,arity:1,forced:Ae},{concat:function(re){var Be=v(this),fe=Q(Be,0),Se=0,pe,ae,de,oe,Ee;for(pe=-1,de=arguments.length;pe<de;pe++)if(Ee=pe===-1?Be:arguments[pe],ce(Ee))for(oe=y(Ee),w(Se+oe),ae=0;ae<oe;ae++,Se++)ae in Ee&&E(fe,Se,Ee[ae]);else w(Se+1),E(fe,Se++,Ee);return fe.length=Se,fe}})}),"./node_modules/core-js/modules/es.array.from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/array-from.js"),p=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),x=!p(function(v){Array.from(v)});f({target:"Array",stat:!0,forced:x},{from:m})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),p=o("./node_modules/core-js/internals/array-includes.js").indexOf,x=o("./node_modules/core-js/internals/array-method-is-strict.js"),v=m([].indexOf),y=!!v&&1/v([1],1,-0)<0,w=y||!x("indexOf");f({target:"Array",proto:!0,forced:w},{indexOf:function(Q){var K=arguments.length>1?arguments[1]:void 0;return y?v(this,Q,K)||0:p(this,Q,K)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/add-to-unscopables.js"),p=o("./node_modules/core-js/internals/iterators.js"),x=o("./node_modules/core-js/internals/internal-state.js"),v=o("./node_modules/core-js/internals/object-define-property.js").f,y=o("./node_modules/core-js/internals/iterator-define.js"),w=o("./node_modules/core-js/internals/create-iter-result-object.js"),E=o("./node_modules/core-js/internals/is-pure.js"),Q=o("./node_modules/core-js/internals/descriptors.js"),K="Array Iterator",Z=x.set,J=x.getterFor(K);d.exports=y(Array,"Array",function(G,ce){Z(this,{type:K,target:f(G),index:0,kind:ce})},function(){var G=J(this),ce=G.target,Ae=G.index++;if(!ce||Ae>=ce.length)return G.target=null,w(void 0,!0);switch(G.kind){case"keys":return w(Ae,!1);case"values":return w(ce[Ae],!1)}return w([Ae,ce[Ae]],!1)},"values");var H=p.Arguments=p.Array;if(m("keys"),m("values"),m("entries"),!E&&Q&&H.name!=="values")try{v(H,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/to-indexed-object.js"),v=o("./node_modules/core-js/internals/array-method-is-strict.js"),y=m([].join),w=p!==Object,E=w||!v("join",",");f({target:"Array",proto:!0,forced:E},{join:function(K){return y(x(this),K===void 0?",":K)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/array-iteration.js").map,p=o("./node_modules/core-js/internals/array-method-has-species-support.js"),x=p("map");f({target:"Array",proto:!0,forced:!x},{map:function(y){return m(this,y,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/array-reduce.js").left,p=o("./node_modules/core-js/internals/array-method-is-strict.js"),x=o("./node_modules/core-js/internals/environment-v8-version.js"),v=o("./node_modules/core-js/internals/environment-is-node.js"),y=!v&&x>79&&x<83,w=y||!p("reduce");f({target:"Array",proto:!0,forced:w},{reduce:function(Q){var K=arguments.length;return m(this,Q,K,K>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/is-array.js"),x=m([].reverse),v=[1,2];f({target:"Array",proto:!0,forced:String(v)===String(v.reverse())},{reverse:function(){return p(this)&&(this.length=this.length),x(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/is-array.js"),p=o("./node_modules/core-js/internals/is-constructor.js"),x=o("./node_modules/core-js/internals/is-object.js"),v=o("./node_modules/core-js/internals/to-absolute-index.js"),y=o("./node_modules/core-js/internals/length-of-array-like.js"),w=o("./node_modules/core-js/internals/to-indexed-object.js"),E=o("./node_modules/core-js/internals/create-property.js"),Q=o("./node_modules/core-js/internals/well-known-symbol.js"),K=o("./node_modules/core-js/internals/array-method-has-species-support.js"),Z=o("./node_modules/core-js/internals/array-slice.js"),J=K("slice"),H=Q("species"),G=Array,ce=Math.max;f({target:"Array",proto:!0,forced:!J},{slice:function(Ne,re){var Be=w(this),fe=y(Be),Se=v(Ne,fe),pe=v(re===void 0?fe:re,fe),ae,de,oe;if(m(Be)&&(ae=Be.constructor,p(ae)&&(ae===G||m(ae.prototype))?ae=void 0:x(ae)&&(ae=ae[H],ae===null&&(ae=void 0)),ae===G||ae===void 0))return Z(Be,Se,pe);for(de=new(ae===void 0?G:ae)(ce(pe-Se,0)),oe=0;Se<pe;Se++,oe++)Se in Be&&E(de,oe,Be[Se]);return de.length=oe,de}})}),"./node_modules/core-js/modules/es.function.name.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/function-name.js").EXISTS,p=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/define-built-in-accessor.js"),v=Function.prototype,y=p(v.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,E=p(w.exec),Q="name";f&&!m&&x(v,Q,{configurable:!0,get:function(){try{return E(w,y(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/an-instance.js"),x=o("./node_modules/core-js/internals/an-object.js"),v=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/object-get-prototype-of.js"),w=o("./node_modules/core-js/internals/define-built-in-accessor.js"),E=o("./node_modules/core-js/internals/create-property.js"),Q=o("./node_modules/core-js/internals/fails.js"),K=o("./node_modules/core-js/internals/has-own-property.js"),Z=o("./node_modules/core-js/internals/well-known-symbol.js"),J=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,H=o("./node_modules/core-js/internals/descriptors.js"),G=o("./node_modules/core-js/internals/is-pure.js"),ce="constructor",Ae="Iterator",Ne=Z("toStringTag"),re=TypeError,Be=m[Ae],fe=G||!v(Be)||Be.prototype!==J||!Q(function(){Be({})}),Se=function(){if(p(this,J),y(this)===J)throw new re("Abstract class Iterator not directly constructable")},pe=function(ae,de){H?w(J,ae,{configurable:!0,get:function(){return de},set:function(oe){if(x(this),this===J)throw new re("You can't redefine this property");K(this,ae)?this[ae]=oe:E(this,ae,oe)}}):J[ae]=de};K(J,Ne)||pe(Ne,Ae),(fe||!K(J,ce)||J[ce]===Object)&&pe(ce,Se),Se.prototype=J,f({global:!0,constructor:!0,forced:fe},{Iterator:Se})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/a-callable.js"),v=o("./node_modules/core-js/internals/an-object.js"),y=o("./node_modules/core-js/internals/get-iterator-direct.js"),w=o("./node_modules/core-js/internals/iterator-close.js"),E=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),Q=E("forEach",TypeError);f({target:"Iterator",proto:!0,real:!0,forced:Q},{forEach:function(Z){v(this);try{x(Z)}catch(G){w(this,"throw",G)}if(Q)return m(Q,this,Z);var J=y(this),H=0;p(J,function(G){Z(G,H++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/an-object.js"),v=o("./node_modules/core-js/internals/get-iterator-direct.js"),y=o("./node_modules/core-js/internals/iterator-create-proxy.js"),w=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),E=o("./node_modules/core-js/internals/iterator-close.js"),Q=o("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),K=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),Z=o("./node_modules/core-js/internals/is-pure.js"),J=!Z&&!Q("map",function(){}),H=!Z&&!J&&K("map",TypeError),G=Z||J||H,ce=y(function(){var Ae=this.iterator,Ne=x(m(this.next,Ae)),re=this.done=!!Ne.done;if(!re)return w(Ae,this.mapper,[Ne.value,this.counter++],!0)});f({target:"Iterator",proto:!0,real:!0,forced:G},{map:function(Ne){x(this);try{p(Ne)}catch(re){E(this,"throw",re)}return H?m(H,this,Ne):new ce(v(this),{mapper:Ne})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/function-apply.js"),x=o("./node_modules/core-js/internals/function-call.js"),v=o("./node_modules/core-js/internals/function-uncurry-this.js"),y=o("./node_modules/core-js/internals/fails.js"),w=o("./node_modules/core-js/internals/is-array.js"),E=o("./node_modules/core-js/internals/is-callable.js"),Q=o("./node_modules/core-js/internals/is-raw-json.js"),K=o("./node_modules/core-js/internals/is-symbol.js"),Z=o("./node_modules/core-js/internals/classof-raw.js"),J=o("./node_modules/core-js/internals/to-string.js"),H=o("./node_modules/core-js/internals/array-slice.js"),G=o("./node_modules/core-js/internals/parse-json-string.js"),ce=o("./node_modules/core-js/internals/uid.js"),Ae=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),Ne=o("./node_modules/core-js/internals/native-raw-json.js"),re=String,Be=m("JSON","stringify"),fe=v(/./.exec),Se=v("".charAt),pe=v("".charCodeAt),ae=v("".replace),de=v("".slice),oe=v([].push),Ee=v(1.1.toString),Re=/[\uD800-\uDFFF]/g,ke=/^[\uD800-\uDBFF]$/,me=/^[\uDC00-\uDFFF]$/,we=ce(),ue=we.length,te=!Ae||y(function(){var ut=m("Symbol")("stringify detection");return Be([ut])!=="[null]"||Be({a:ut})!=="{}"||Be(Object(ut))!=="{}"}),ge=y(function(){return Be("\uDF06\uD834")!=='"\\udf06\\ud834"'||Be("\uDEAD")!=='"\\udead"'}),Me=te?function(ut,et){var Lt=H(arguments),ns=Nt(et);if(!(!E(ns)&&(ut===void 0||K(ut))))return Lt[1]=function(ls,vt){if(E(ns)&&(vt=x(ns,this,re(ls),vt)),!K(vt))return vt},p(Be,null,Lt)}:Be,Ve=function(ut,et,Lt){var ns=Se(Lt,et-1),ls=Se(Lt,et+1);return fe(ke,ut)&&!fe(me,ls)||fe(me,ut)&&!fe(ke,ns)?"\\u"+Ee(pe(ut,0),16):ut},Nt=function(ut){if(E(ut))return ut;if(w(ut)){for(var et=ut.length,Lt=[],ns=0;ns<et;ns++){var ls=ut[ns];typeof ls=="string"?oe(Lt,ls):(typeof ls=="number"||Z(ls)==="Number"||Z(ls)==="String")&&oe(Lt,J(ls))}var vt=Lt.length,$e=!0;return function(Bt,Qt){if($e)return $e=!1,Qt;if(w(this))return Qt;for(var ks=0;ks<vt;ks++)if(Lt[ks]===Bt)return Qt}}};Be&&f({target:"JSON",stat:!0,arity:3,forced:te||ge||!Ne},{stringify:function(et,Lt,ns){var ls=Nt(Lt),vt=[],$e=Me(et,function(ar,$s){var As=E(ls)?x(ls,this,re(ar),$s):$s;return!Ne&&Q(As)?we+(oe(vt,As.rawJSON)-1):As},ns);if(typeof $e!="string"||(ge&&($e=ae($e,Re,Ve)),Ne))return $e;for(var Bt="",Qt=$e.length,ks=0;ks<Qt;ks++){var zs=Se($e,ks);if(zs==='"'){var yr=G($e,++ks).end-1,mr=de($e,ks,yr);Bt+=de(mr,0,ue)===we?vt[de(mr,ue)]:'"'+mr+'"',ks=yr}else Bt+=zs}return Bt}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/is-pure.js"),p=o("./node_modules/core-js/internals/descriptors.js"),x=o("./node_modules/core-js/internals/global-this.js"),v=o("./node_modules/core-js/internals/path.js"),y=o("./node_modules/core-js/internals/function-uncurry-this.js"),w=o("./node_modules/core-js/internals/is-forced.js"),E=o("./node_modules/core-js/internals/has-own-property.js"),Q=o("./node_modules/core-js/internals/inherit-if-required.js"),K=o("./node_modules/core-js/internals/object-is-prototype-of.js"),Z=o("./node_modules/core-js/internals/is-symbol.js"),J=o("./node_modules/core-js/internals/to-primitive.js"),H=o("./node_modules/core-js/internals/fails.js"),G=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,ce=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,Ae=o("./node_modules/core-js/internals/object-define-property.js").f,Ne=o("./node_modules/core-js/internals/this-number-value.js"),re=o("./node_modules/core-js/internals/string-trim.js").trim,Be="Number",fe=x[Be],Se=v[Be],pe=fe.prototype,ae=x.TypeError,de=y("".slice),oe=y("".charCodeAt),Ee=function(te){var ge=J(te,"number");return typeof ge=="bigint"?ge:Re(ge)},Re=function(te){var ge=J(te,"number"),Me,Ve,Nt,ut,et,Lt,ns,ls;if(Z(ge))throw new ae("Cannot convert a Symbol value to a number");if(typeof ge=="string"&&ge.length>2){if(ge=re(ge),Me=oe(ge,0),Me===43||Me===45){if(Ve=oe(ge,2),Ve===88||Ve===120)return NaN}else if(Me===48){switch(oe(ge,1)){case 66:case 98:Nt=2,ut=49;break;case 79:case 111:Nt=8,ut=55;break;default:return+ge}for(et=de(ge,2),Lt=et.length,ns=0;ns<Lt;ns++)if(ls=oe(et,ns),ls<48||ls>ut)return NaN;return parseInt(et,Nt)}}return+ge},ke=w(Be,!fe(" 0o1")||!fe("0b1")||fe("+0x1")),me=function(te){return K(pe,te)&&H(function(){Ne(te)})},we=function(ge){var Me=arguments.length<1?0:fe(Ee(ge));return me(this)?Q(Object(Me),this,we):Me};we.prototype=pe,ke&&!m&&(pe.constructor=we),f({global:!0,constructor:!0,wrap:!0,forced:ke},{Number:we});var ue=function(te,ge){for(var Me=p?G(ge):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ve=0,Nt;Me.length>Ve;Ve++)E(ge,Nt=Me[Ve])&&!E(te,Nt)&&Ae(te,Nt,ce(ge,Nt))};m&&Se&&ue(v[Be],Se),(ke||m)&&ue(v[Be],fe)}),"./node_modules/core-js/modules/es.object.assign.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/object-assign.js");f({target:"Object",stat:!0,arity:2,forced:Object.assign!==m},{assign:m})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),p=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),v=o("./node_modules/core-js/internals/to-object.js"),y=!m||p(function(){x.f(1)});f({target:"Object",stat:!0,forced:y},{getOwnPropertySymbols:function(E){var Q=x.f;return Q?Q(v(E)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/to-object.js"),p=o("./node_modules/core-js/internals/object-keys.js"),x=o("./node_modules/core-js/internals/fails.js"),v=x(function(){p(1)});f({target:"Object",stat:!0,forced:v},{keys:function(w){return p(m(w))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),m=o("./node_modules/core-js/internals/define-built-in.js"),p=o("./node_modules/core-js/internals/object-to-string.js");f||m(Object.prototype,"toString",p,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/new-promise-capability.js"),v=o("./node_modules/core-js/internals/perform.js"),y=o("./node_modules/core-js/internals/iterate.js"),w=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");f({target:"Promise",stat:!0,forced:w},{all:function(Q){var K=this,Z=x.f(K),J=Z.resolve,H=Z.reject,G=v(function(){var ce=p(K.resolve),Ae=[],Ne=0,re=1;y(Q,function(Be){var fe=Ne++,Se=!1;re++,m(ce,K,Be).then(function(pe){Se||(Se=!0,Ae[fe]=pe,--re||J(Ae))},H)}),--re||J(Ae)});return G.error&&H(G.value),Z.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/is-pure.js"),p=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,x=o("./node_modules/core-js/internals/promise-native-constructor.js"),v=o("./node_modules/core-js/internals/get-built-in.js"),y=o("./node_modules/core-js/internals/is-callable.js"),w=o("./node_modules/core-js/internals/define-built-in.js"),E=x&&x.prototype;if(f({target:"Promise",proto:!0,forced:p,real:!0},{catch:function(K){return this.then(void 0,K)}}),!m&&y(x)){var Q=v("Promise").prototype.catch;E.catch!==Q&&w(E,"catch",Q,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/is-pure.js"),p=o("./node_modules/core-js/internals/environment-is-node.js"),x=o("./node_modules/core-js/internals/global-this.js"),v=o("./node_modules/core-js/internals/path.js"),y=o("./node_modules/core-js/internals/function-call.js"),w=o("./node_modules/core-js/internals/define-built-in.js"),E=o("./node_modules/core-js/internals/object-set-prototype-of.js"),Q=o("./node_modules/core-js/internals/set-to-string-tag.js"),K=o("./node_modules/core-js/internals/set-species.js"),Z=o("./node_modules/core-js/internals/a-callable.js"),J=o("./node_modules/core-js/internals/is-callable.js"),H=o("./node_modules/core-js/internals/is-object.js"),G=o("./node_modules/core-js/internals/an-instance.js"),ce=o("./node_modules/core-js/internals/species-constructor.js"),Ae=o("./node_modules/core-js/internals/task.js").set,Ne=o("./node_modules/core-js/internals/microtask.js"),re=o("./node_modules/core-js/internals/host-report-errors.js"),Be=o("./node_modules/core-js/internals/perform.js"),fe=o("./node_modules/core-js/internals/queue.js"),Se=o("./node_modules/core-js/internals/internal-state.js"),pe=o("./node_modules/core-js/internals/promise-native-constructor.js"),ae=o("./node_modules/core-js/internals/promise-constructor-detection.js"),de=o("./node_modules/core-js/internals/new-promise-capability.js"),oe="Promise",Ee=ae.CONSTRUCTOR,Re=ae.REJECTION_EVENT,ke=ae.SUBCLASSING,me=Se.getterFor(oe),we=Se.set,ue=pe&&pe.prototype,te=pe,ge=ue,Me=x.TypeError,Ve=x.document,Nt=x.process,ut=de.f,et=ut,Lt=!!(Ve&&Ve.createEvent&&x.dispatchEvent),ns="unhandledrejection",ls="rejectionhandled",vt=0,$e=1,Bt=2,Qt=1,ks=2,zs,yr,mr,ar,$s=function(Gt){var vs;return H(Gt)&&J(vs=Gt.then)?vs:!1},As=function(Gt,vs){var Ms=vs.value,Gs=vs.state===$e,fr=Gs?Gt.ok:Gt.fail,Ct=Gt.resolve,Zt=Gt.reject,ds=Gt.domain,hs,Ks,Vs;try{fr?(Gs||(vs.rejection===ks&&hr(vs),vs.rejection=Qt),fr===!0?hs=Ms:(ds&&ds.enter(),hs=fr(Ms),ds&&(ds.exit(),Vs=!0)),hs===Gt.promise?Zt(new Me("Promise-chain cycle")):(Ks=$s(hs))?y(Ks,hs,Ct,Zt):Ct(hs)):Zt(Ms)}catch(pr){ds&&!Vs&&ds.exit(),Zt(pr)}},Rs=function(Gt,vs){Gt.notified||(Gt.notified=!0,Ne(function(){for(var Ms=Gt.reactions,Gs;Gs=Ms.get();)As(Gs,Gt);Gt.notified=!1,vs&&!Gt.rejection&&js(Gt)}))},br=function(Gt,vs,Ms){var Gs,fr;Lt?(Gs=Ve.createEvent("Event"),Gs.promise=vs,Gs.reason=Ms,Gs.initEvent(Gt,!1,!0),x.dispatchEvent(Gs)):Gs={promise:vs,reason:Ms},!Re&&(fr=x["on"+Gt])?fr(Gs):Gt===ns&&re("Unhandled promise rejection",Ms)},js=function(Gt){y(Ae,x,function(){var vs=Gt.facade,Ms=Gt.value,Gs=qs(Gt),fr;if(Gs&&(fr=Be(function(){p?Nt.emit("unhandledRejection",Ms,vs):br(ns,vs,Ms)}),Gt.rejection=p||qs(Gt)?ks:Qt,fr.error))throw fr.value})},qs=function(Gt){return Gt.rejection!==Qt&&!Gt.parent},hr=function(Gt){y(Ae,x,function(){var vs=Gt.facade;p?Nt.emit("rejectionHandled",vs):br(ls,vs,Gt.value)})},rr=function(Gt,vs,Ms){return function(Gs){Gt(vs,Gs,Ms)}},Xs=function(Gt,vs,Ms){Gt.done||(Gt.done=!0,Ms&&(Gt=Ms),Gt.value=vs,Gt.state=Bt,Rs(Gt,!0))},Es=function(Gt,vs,Ms){if(!Gt.done){Gt.done=!0,Ms&&(Gt=Ms);try{if(Gt.facade===vs)throw new Me("Promise can't be resolved itself");var Gs=$s(vs);Gs?Ne(function(){var fr={done:!1};try{y(Gs,vs,rr(Es,fr,Gt),rr(Xs,fr,Gt))}catch(Ct){Xs(fr,Ct,Gt)}}):(Gt.value=vs,Gt.state=$e,Rs(Gt,!1))}catch(fr){Xs({done:!1},fr,Gt)}}};if(Ee&&(te=function(vs){G(this,ge),Z(vs),y(zs,this);var Ms=me(this);try{vs(rr(Es,Ms),rr(Xs,Ms))}catch(Gs){Xs(Ms,Gs)}},ge=te.prototype,zs=function(vs){we(this,{type:oe,done:!1,notified:!1,parent:!1,reactions:new fe,rejection:!1,state:vt,value:null})},zs.prototype=w(ge,"then",function(vs,Ms){var Gs=me(this),fr=ut(ce(this,te));return Gs.parent=!0,fr.ok=J(vs)?vs:!0,fr.fail=J(Ms)&&Ms,fr.domain=p?Nt.domain:void 0,Gs.state===vt?Gs.reactions.add(fr):Ne(function(){As(fr,Gs)}),fr.promise}),yr=function(){var Gt=new zs,vs=me(Gt);this.promise=Gt,this.resolve=rr(Es,vs),this.reject=rr(Xs,vs)},de.f=ut=function(Gt){return Gt===te||Gt===mr?new yr(Gt):et(Gt)},!m&&J(pe)&&ue!==Object.prototype)){ar=ue.then,ke||w(ue,"then",function(vs,Ms){var Gs=this;return new te(function(fr,Ct){y(ar,Gs,fr,Ct)}).then(vs,Ms)},{unsafe:!0});try{delete ue.constructor}catch{}E&&E(ue,ge)}f({global:!0,constructor:!0,wrap:!0,forced:Ee},{Promise:te}),mr=v.Promise,Q(te,oe,!1,!0),K(oe)}),"./node_modules/core-js/modules/es.promise.js":(function(d,A,o){o("./node_modules/core-js/modules/es.promise.constructor.js"),o("./node_modules/core-js/modules/es.promise.all.js"),o("./node_modules/core-js/modules/es.promise.catch.js"),o("./node_modules/core-js/modules/es.promise.race.js"),o("./node_modules/core-js/modules/es.promise.reject.js"),o("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/new-promise-capability.js"),v=o("./node_modules/core-js/internals/perform.js"),y=o("./node_modules/core-js/internals/iterate.js"),w=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");f({target:"Promise",stat:!0,forced:w},{race:function(Q){var K=this,Z=x.f(K),J=Z.reject,H=v(function(){var G=p(K.resolve);y(Q,function(ce){m(G,K,ce).then(Z.resolve,J)})});return H.error&&J(H.value),Z.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/new-promise-capability.js"),p=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;f({target:"Promise",stat:!0,forced:p},{reject:function(v){var y=m.f(this),w=y.reject;return w(v),y.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/is-pure.js"),x=o("./node_modules/core-js/internals/promise-native-constructor.js"),v=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,y=o("./node_modules/core-js/internals/promise-resolve.js"),w=m("Promise"),E=p&&!v;f({target:"Promise",stat:!0,forced:p||v},{resolve:function(K){return y(E&&this===w?x:this,K)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/regexp-exec.js");f({target:"RegExp",proto:!0,forced:/./.exec!==m},{exec:m})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(d,A,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/an-object.js"),v=o("./node_modules/core-js/internals/to-string.js"),y=(function(){var E=!1,Q=/[ac]/;return Q.exec=function(){return E=!0,/./.exec.apply(this,arguments)},Q.test("abc")===!0&&E})(),w=/./.test;f({target:"RegExp",proto:!0,forced:!y},{test:function(E){var Q=x(this),K=v(E),Z=Q.exec;if(!p(Z))return m(w,Q,K);var J=m(Z,Q,K);return J===null?!1:(x(J),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-name.js").PROPER,m=o("./node_modules/core-js/internals/define-built-in.js"),p=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/to-string.js"),v=o("./node_modules/core-js/internals/fails.js"),y=o("./node_modules/core-js/internals/regexp-get-flags.js"),w="toString",E=RegExp.prototype,Q=E[w],K=v(function(){return Q.call({source:"a",flags:"b"})!=="/a/b"}),Z=f&&Q.name!==w;(K||Z)&&m(E,w,function(){var H=p(this),G=x(H.source),ce=x(y(H));return"/"+G+"/"+ce},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/collection.js"),m=o("./node_modules/core-js/internals/collection-strong.js");f("Set",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},m)}),"./node_modules/core-js/modules/es.set.js":(function(d,A,o){o("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),p=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,x=o("./node_modules/core-js/internals/to-length.js"),v=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/not-a-regexp.js"),w=o("./node_modules/core-js/internals/require-object-coercible.js"),E=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),Q=o("./node_modules/core-js/internals/is-pure.js"),K=m("".slice),Z=Math.min,J=E("endsWith"),H=!Q&&!J&&!!(function(){var G=p(String.prototype,"endsWith");return G&&!G.writable})();f({target:"String",proto:!0,forced:!H&&!J},{endsWith:function(ce){var Ae=v(w(this));y(ce);var Ne=arguments.length>1?arguments[1]:void 0,re=Ae.length,Be=Ne===void 0?re:Z(x(Ne),re),fe=v(ce);return K(Ae,Be-fe.length,Be)===fe}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),v=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),w=m("".indexOf);f({target:"String",proto:!0,forced:!y("includes")},{includes:function(Q){return!!~w(v(x(this)),v(p(Q)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/string-multibyte.js").charAt,m=o("./node_modules/core-js/internals/to-string.js"),p=o("./node_modules/core-js/internals/internal-state.js"),x=o("./node_modules/core-js/internals/iterator-define.js"),v=o("./node_modules/core-js/internals/create-iter-result-object.js"),y="String Iterator",w=p.set,E=p.getterFor(y);x(String,"String",function(Q){w(this,{type:y,string:m(Q),index:0})},function(){var K=E(this),Z=K.string,J=K.index,H;return J>=Z.length?v(void 0,!0):(H=f(Z,J),K.index+=H.length,v(H,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/create-html.js"),p=o("./node_modules/core-js/internals/string-html-forced.js");f({target:"String",proto:!0,forced:p("link")},{link:function(v){return m(this,"a","href",v)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),x=o("./node_modules/core-js/internals/an-object.js"),v=o("./node_modules/core-js/internals/is-object.js"),y=o("./node_modules/core-js/internals/to-length.js"),w=o("./node_modules/core-js/internals/to-string.js"),E=o("./node_modules/core-js/internals/require-object-coercible.js"),Q=o("./node_modules/core-js/internals/get-method.js"),K=o("./node_modules/core-js/internals/advance-string-index.js"),Z=o("./node_modules/core-js/internals/regexp-get-flags.js"),J=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),H=m("".indexOf);p("match",function(G,ce,Ae){return[function(re){var Be=E(this),fe=v(re)?Q(re,G):void 0;return fe?f(fe,re,Be):new RegExp(re)[G](w(Be))},function(Ne){var re=x(this),Be=w(Ne),fe=Ae(ce,re,Be);if(fe.done)return fe.value;var Se=w(Z(re));if(H(Se,"g")===-1)return J(re,Be);var pe=H(Se,"u")!==-1;re.lastIndex=0;for(var ae=[],de=0,oe;(oe=J(re,Be))!==null;){var Ee=w(oe[0]);ae[de]=Ee,Ee===""&&(re.lastIndex=K(Be,y(re.lastIndex),pe)),de++}return de===0?null:ae}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-apply.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),v=o("./node_modules/core-js/internals/fails.js"),y=o("./node_modules/core-js/internals/an-object.js"),w=o("./node_modules/core-js/internals/is-callable.js"),E=o("./node_modules/core-js/internals/is-object.js"),Q=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),K=o("./node_modules/core-js/internals/to-length.js"),Z=o("./node_modules/core-js/internals/to-string.js"),J=o("./node_modules/core-js/internals/require-object-coercible.js"),H=o("./node_modules/core-js/internals/advance-string-index.js"),G=o("./node_modules/core-js/internals/get-method.js"),ce=o("./node_modules/core-js/internals/get-substitution.js"),Ae=o("./node_modules/core-js/internals/regexp-get-flags.js"),Ne=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),re=o("./node_modules/core-js/internals/well-known-symbol.js"),Be=re("replace"),fe=Math.max,Se=Math.min,pe=p([].concat),ae=p([].push),de=p("".indexOf),oe=p("".slice),Ee=function(we){return we===void 0?we:String(we)},Re=(function(){return"a".replace(/./,"$0")==="$0"})(),ke=(function(){return/./[Be]?/./[Be]("a","$0")==="":!1})(),me=!v(function(){var we=/./;return we.exec=function(){var ue=[];return ue.groups={a:"7"},ue},"".replace(we,"$<a>")!=="7"});x("replace",function(we,ue,te){var ge=ke?"$":"$0";return[function(Ve,Nt){var ut=J(this),et=E(Ve)?G(Ve,Be):void 0;return et?m(et,Ve,ut,Nt):m(ue,Z(ut),Ve,Nt)},function(Me,Ve){var Nt=y(this),ut=Z(Me);if(typeof Ve=="string"&&de(Ve,ge)===-1&&de(Ve,"$<")===-1){var et=te(ue,Nt,ut,Ve);if(et.done)return et.value}var Lt=w(Ve);Lt||(Ve=Z(Ve));var ns=Z(Ae(Nt)),ls=de(ns,"g")!==-1,vt;ls&&(vt=de(ns,"u")!==-1,Nt.lastIndex=0);for(var $e=[],Bt;Bt=Ne(Nt,ut),!(Bt===null||(ae($e,Bt),!ls));){var Qt=Z(Bt[0]);Qt===""&&(Nt.lastIndex=H(ut,K(Nt.lastIndex),vt))}for(var ks="",zs=0,yr=0;yr<$e.length;yr++){Bt=$e[yr];for(var mr=Z(Bt[0]),ar=fe(Se(Q(Bt.index),ut.length),0),$s=[],As,Rs=1;Rs<Bt.length;Rs++)ae($s,Ee(Bt[Rs]));var br=Bt.groups;if(Lt){var js=pe([mr],$s,ar,ut);br!==void 0&&ae(js,br),As=Z(f(Ve,void 0,js))}else As=ce(mr,ut,ar,$s,br,Ve);ar>=zs&&(ks+=oe(ut,zs,ar)+As,zs=ar+mr.length)}return ks+oe(ut,zs)}]},!me||!Re||ke)}),"./node_modules/core-js/modules/es.string.split.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),x=o("./node_modules/core-js/internals/an-object.js"),v=o("./node_modules/core-js/internals/is-object.js"),y=o("./node_modules/core-js/internals/require-object-coercible.js"),w=o("./node_modules/core-js/internals/species-constructor.js"),E=o("./node_modules/core-js/internals/advance-string-index.js"),Q=o("./node_modules/core-js/internals/to-length.js"),K=o("./node_modules/core-js/internals/to-string.js"),Z=o("./node_modules/core-js/internals/get-method.js"),J=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),H=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),G=o("./node_modules/core-js/internals/fails.js"),ce=H.UNSUPPORTED_Y,Ae=4294967295,Ne=Math.min,re=m([].push),Be=m("".slice),fe=!G(function(){var pe=/(?:)/,ae=pe.exec;pe.exec=function(){return ae.apply(this,arguments)};var de="ab".split(pe);return de.length!==2||de[0]!=="a"||de[1]!=="b"}),Se="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;p("split",function(pe,ae,de){var oe="0".split(void 0,0).length?function(Ee,Re){return Ee===void 0&&Re===0?[]:f(ae,this,Ee,Re)}:ae;return[function(Re,ke){var me=y(this),we=v(Re)?Z(Re,pe):void 0;return we?f(we,Re,me,ke):f(oe,K(me),Re,ke)},function(Ee,Re){var ke=x(this),me=K(Ee);if(!Se){var we=de(oe,ke,me,Re,oe!==ae);if(we.done)return we.value}var ue=w(ke,RegExp),te=ke.unicode,ge=(ke.ignoreCase?"i":"")+(ke.multiline?"m":"")+(ke.unicode?"u":"")+(ce?"g":"y"),Me=new ue(ce?"^(?:"+ke.source+")":ke,ge),Ve=Re===void 0?Ae:Re>>>0;if(Ve===0)return[];if(me.length===0)return J(Me,me)===null?[me]:[];for(var Nt=0,ut=0,et=[];ut<me.length;){Me.lastIndex=ce?0:ut;var Lt=J(Me,ce?Be(me,ut):me),ns;if(Lt===null||(ns=Ne(Q(Me.lastIndex+(ce?ut:0)),me.length))===Nt)ut=E(me,ut,te);else{if(re(et,Be(me,Nt,ut)),et.length===Ve)return et;for(var ls=1;ls<=Lt.length-1;ls++)if(re(et,Lt[ls]),et.length===Ve)return et;ut=Nt=ns}}return re(et,Be(me,Nt)),et}]},Se||!fe,ce)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),p=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,x=o("./node_modules/core-js/internals/to-length.js"),v=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/not-a-regexp.js"),w=o("./node_modules/core-js/internals/require-object-coercible.js"),E=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),Q=o("./node_modules/core-js/internals/is-pure.js"),K=m("".slice),Z=Math.min,J=E("startsWith"),H=!Q&&!J&&!!(function(){var G=p(String.prototype,"startsWith");return G&&!G.writable})();f({target:"String",proto:!0,forced:!H&&!J},{startsWith:function(ce){var Ae=v(w(this));y(ce);var Ne=x(Z(arguments.length>1?arguments[1]:void 0,Ae.length)),re=v(ce);return K(Ae,Ne,Ne+re.length)===re}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/string-trim.js").trim,p=o("./node_modules/core-js/internals/string-trim-forced.js");f({target:"String",proto:!0,forced:p("trim")},{trim:function(){return m(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/function-uncurry-this.js"),v=o("./node_modules/core-js/internals/is-pure.js"),y=o("./node_modules/core-js/internals/descriptors.js"),w=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),E=o("./node_modules/core-js/internals/fails.js"),Q=o("./node_modules/core-js/internals/has-own-property.js"),K=o("./node_modules/core-js/internals/object-is-prototype-of.js"),Z=o("./node_modules/core-js/internals/an-object.js"),J=o("./node_modules/core-js/internals/to-indexed-object.js"),H=o("./node_modules/core-js/internals/to-property-key.js"),G=o("./node_modules/core-js/internals/to-string.js"),ce=o("./node_modules/core-js/internals/create-property-descriptor.js"),Ae=o("./node_modules/core-js/internals/object-create.js"),Ne=o("./node_modules/core-js/internals/object-keys.js"),re=o("./node_modules/core-js/internals/object-get-own-property-names.js"),Be=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),fe=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Se=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),pe=o("./node_modules/core-js/internals/object-define-property.js"),ae=o("./node_modules/core-js/internals/object-define-properties.js"),de=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),oe=o("./node_modules/core-js/internals/define-built-in.js"),Ee=o("./node_modules/core-js/internals/define-built-in-accessor.js"),Re=o("./node_modules/core-js/internals/shared.js"),ke=o("./node_modules/core-js/internals/shared-key.js"),me=o("./node_modules/core-js/internals/hidden-keys.js"),we=o("./node_modules/core-js/internals/uid.js"),ue=o("./node_modules/core-js/internals/well-known-symbol.js"),te=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ge=o("./node_modules/core-js/internals/well-known-symbol-define.js"),Me=o("./node_modules/core-js/internals/symbol-define-to-primitive.js"),Ve=o("./node_modules/core-js/internals/set-to-string-tag.js"),Nt=o("./node_modules/core-js/internals/internal-state.js"),ut=o("./node_modules/core-js/internals/array-iteration.js").forEach,et=ke("hidden"),Lt="Symbol",ns="prototype",ls=Nt.set,vt=Nt.getterFor(Lt),$e=Object[ns],Bt=m.Symbol,Qt=Bt&&Bt[ns],ks=m.RangeError,zs=m.TypeError,yr=m.QObject,mr=Se.f,ar=pe.f,$s=Be.f,As=de.f,Rs=x([].push),br=Re("symbols"),js=Re("op-symbols"),qs=Re("wks"),hr=!yr||!yr[ns]||!yr[ns].findChild,rr=function(ds,hs,Ks){var Vs=mr($e,hs);Vs&&delete $e[hs],ar(ds,hs,Ks),Vs&&ds!==$e&&ar($e,hs,Vs)},Xs=y&&E(function(){return Ae(ar({},"a",{get:function(){return ar(this,"a",{value:7}).a}})).a!==7})?rr:ar,Es=function(ds,hs){var Ks=br[ds]=Ae(Qt);return ls(Ks,{type:Lt,tag:ds,description:hs}),y||(Ks.description=hs),Ks},Gt=function(hs,Ks,Vs){hs===$e&&Gt(js,Ks,Vs),Z(hs);var pr=H(Ks);return Z(Vs),Q(br,pr)?(Vs.enumerable?(Q(hs,et)&&hs[et][pr]&&(hs[et][pr]=!1),Vs=Ae(Vs,{enumerable:ce(0,!1)})):(Q(hs,et)||ar(hs,et,ce(1,Ae(null))),hs[et][pr]=!0),Xs(hs,pr,Vs)):ar(hs,pr,Vs)},vs=function(hs,Ks){Z(hs);var Vs=J(Ks),pr=Ne(Vs).concat(Zt(Vs));return ut(pr,function(tn){(!y||p(Gs,Vs,tn))&&Gt(hs,tn,Vs[tn])}),hs},Ms=function(hs,Ks){return Ks===void 0?Ae(hs):vs(Ae(hs),Ks)},Gs=function(hs){var Ks=H(hs),Vs=p(As,this,Ks);return this===$e&&Q(br,Ks)&&!Q(js,Ks)?!1:Vs||!Q(this,Ks)||!Q(br,Ks)||Q(this,et)&&this[et][Ks]?Vs:!0},fr=function(hs,Ks){var Vs=J(hs),pr=H(Ks);if(!(Vs===$e&&Q(br,pr)&&!Q(js,pr))){var tn=mr(Vs,pr);return tn&&Q(br,pr)&&!(Q(Vs,et)&&Vs[et][pr])&&(tn.enumerable=!0),tn}},Ct=function(hs){var Ks=$s(J(hs)),Vs=[];return ut(Ks,function(pr){!Q(br,pr)&&!Q(me,pr)&&Rs(Vs,pr)}),Vs},Zt=function(ds){var hs=ds===$e,Ks=$s(hs?js:J(ds)),Vs=[];return ut(Ks,function(pr){Q(br,pr)&&(!hs||Q($e,pr))&&Rs(Vs,br[pr])}),Vs};w||(Bt=function(){if(K(Qt,this))throw new zs("Symbol is not a constructor");var hs=!arguments.length||arguments[0]===void 0?void 0:G(arguments[0]),Ks=we(hs),Vs=function(pr){var tn=this===void 0?m:this;tn===$e&&p(Vs,js,pr),Q(tn,et)&&Q(tn[et],Ks)&&(tn[et][Ks]=!1);var Ns=ce(1,pr);try{Xs(tn,Ks,Ns)}catch(Is){if(!(Is instanceof ks))throw Is;rr(tn,Ks,Ns)}};return y&&hr&&Xs($e,Ks,{configurable:!0,set:Vs}),Es(Ks,hs)},Qt=Bt[ns],oe(Qt,"toString",function(){return vt(this).tag}),oe(Bt,"withoutSetter",function(ds){return Es(we(ds),ds)}),de.f=Gs,pe.f=Gt,ae.f=vs,Se.f=fr,re.f=Be.f=Ct,fe.f=Zt,te.f=function(ds){return Es(ue(ds),ds)},y&&(Ee(Qt,"description",{configurable:!0,get:function(){return vt(this).description}}),v||oe($e,"propertyIsEnumerable",Gs,{unsafe:!0}))),f({global:!0,constructor:!0,wrap:!0,forced:!w,sham:!w},{Symbol:Bt}),ut(Ne(qs),function(ds){ge(ds)}),f({target:Lt,stat:!0,forced:!w},{useSetter:function(){hr=!0},useSimple:function(){hr=!1}}),f({target:"Object",stat:!0,forced:!w,sham:!y},{create:Ms,defineProperty:Gt,defineProperties:vs,getOwnPropertyDescriptor:fr}),f({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:Ct}),Me(),Ve(Bt,Lt),me[et]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/global-this.js"),x=o("./node_modules/core-js/internals/function-uncurry-this.js"),v=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/is-callable.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),E=o("./node_modules/core-js/internals/to-string.js"),Q=o("./node_modules/core-js/internals/define-built-in-accessor.js"),K=o("./node_modules/core-js/internals/copy-constructor-properties.js"),Z=p.Symbol,J=Z&&Z.prototype;if(m&&y(Z)&&(!("description"in J)||Z().description!==void 0)){var H={},G=function(){var pe=arguments.length<1||arguments[0]===void 0?void 0:E(arguments[0]),ae=w(J,this)?new Z(pe):pe===void 0?Z():Z(pe);return pe===""&&(H[ae]=!0),ae};K(G,Z),G.prototype=J,J.constructor=G;var ce=String(Z("description detection"))==="Symbol(description detection)",Ae=x(J.valueOf),Ne=x(J.toString),re=/^Symbol\((.*)\)[^)]+$/,Be=x("".replace),fe=x("".slice);Q(J,"description",{configurable:!0,get:function(){var pe=Ae(this);if(v(H,pe))return"";var ae=Ne(pe),de=ce?fe(ae,7,-1):Be(ae,re,"$1");return de===""?void 0:de}}),f({global:!0,constructor:!0,forced:!0},{Symbol:G})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/to-string.js"),v=o("./node_modules/core-js/internals/shared.js"),y=o("./node_modules/core-js/internals/symbol-registry-detection.js"),w=v("string-to-symbol-registry"),E=v("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!y},{for:function(Q){var K=x(Q);if(p(w,K))return w[K];var Z=m("Symbol")(K);return w[K]=Z,E[Z]=K,Z}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol-define.js");f("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(d,A,o){o("./node_modules/core-js/modules/es.symbol.constructor.js"),o("./node_modules/core-js/modules/es.symbol.for.js"),o("./node_modules/core-js/modules/es.symbol.key-for.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/is-symbol.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),v=o("./node_modules/core-js/internals/shared.js"),y=o("./node_modules/core-js/internals/symbol-registry-detection.js"),w=v("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!y},{keyFor:function(Q){if(!p(Q))throw new TypeError(x(Q)+" is not a symbol");if(m(w,Q))return w[Q]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js").add;f({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var v=m(this),y=0,w=arguments.length;y<w;y++)p(v,arguments[y]);return v}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js").remove;f({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var v=m(this),y=!0,w,E=0,Q=arguments.length;E<Q;E++)w=p(v,arguments[E]),y=y&&w;return!!y}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-difference.js");f({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{every:function(y){var w=p(this),E=m(y,arguments.length>1?arguments[1]:void 0);return x(w,function(Q){if(!E(Q,Q,w))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-helpers.js"),v=o("./node_modules/core-js/internals/set-iterate.js"),y=x.Set,w=x.add;f({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(Q){var K=p(this),Z=m(Q,arguments.length>1?arguments[1]:void 0),J=new y;return v(K,function(H){Z(H,H,K)&&w(J,H)}),J}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{find:function(y){var w=p(this),E=m(y,arguments.length>1?arguments[1]:void 0),Q=x(w,function(K){if(E(K,K,w))return{value:K}},!0);return Q&&Q.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-intersection.js");f({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-disjoint-from.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-subset-of.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-superset-of.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js"),v=o("./node_modules/core-js/internals/to-string.js"),y=m([].join),w=m([].push);f({target:"Set",proto:!0,real:!0,forced:!0},{join:function(Q){var K=p(this),Z=Q===void 0?",":v(Q),J=[];return x(K,function(H){w(J,H)}),y(J,Z)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-helpers.js"),v=o("./node_modules/core-js/internals/set-iterate.js"),y=x.Set,w=x.add;f({target:"Set",proto:!0,real:!0,forced:!0},{map:function(Q){var K=p(this),Z=m(Q,arguments.length>1?arguments[1]:void 0),J=new y;return v(K,function(H){w(J,Z(H,H,K))}),J}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js"),v=TypeError;f({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(w){var E=p(this),Q=arguments.length<2,K=Q?void 0:arguments[1];if(m(w),x(E,function(Z){Q?(Q=!1,K=Z):K=w(K,Z,Z,E)}),Q)throw new v("Reduce of empty set with no initial value");return K}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{some:function(y){var w=p(this),E=m(y,arguments.length>1?arguments[1]:void 0);return x(w,function(Q){if(E(Q,Q,w))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-symmetric-difference.js");f({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-union.js");f({target:"Set",proto:!0,real:!0,forced:!0},{union:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/dom-iterables.js"),p=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),x=o("./node_modules/core-js/internals/array-for-each.js"),v=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=function(E){if(E&&E.forEach!==x)try{v(E,"forEach",x)}catch{E.forEach=x}};for(var w in m)m[w]&&y(f[w]&&f[w].prototype);y(p)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/dom-iterables.js"),p=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),x=o("./node_modules/core-js/modules/es.array.iterator.js"),v=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=o("./node_modules/core-js/internals/set-to-string-tag.js"),w=o("./node_modules/core-js/internals/well-known-symbol.js"),E=w("iterator"),Q=x.values,K=function(J,H){if(J){if(J[E]!==Q)try{v(J,E,Q)}catch{J[E]=Q}if(y(J,H,!0),m[H]){for(var G in x)if(J[G]!==x[G])try{v(J,G,x[G])}catch{J[G]=x[G]}}}};for(var Z in m)K(f[Z]&&f[Z].prototype,Z);K(p,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/schedulers-fix.js"),x=p(m.setInterval,!0);f({global:!0,bind:!0,forced:m.setInterval!==x},{setInterval:x})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/schedulers-fix.js"),x=p(m.setTimeout,!0);f({global:!0,bind:!0,forced:m.setTimeout!==x},{setTimeout:x})}),"./node_modules/core-js/modules/web.timers.js":(function(d,A,o){o("./node_modules/core-js/modules/web.set-interval.js"),o("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(d,A,o){o.r(A),o.d(A,{default:function(){return rr}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:f,setPrototypeOf:m,isFrozen:p,getPrototypeOf:x,getOwnPropertyDescriptor:v}=Object;let{freeze:y,seal:w,create:E}=Object,{apply:Q,construct:K}=typeof Reflect<"u"&&Reflect;y||(y=function(Es){return Es}),w||(w=function(Es){return Es}),Q||(Q=function(Es,Gt){for(var vs=arguments.length,Ms=new Array(vs>2?vs-2:0),Gs=2;Gs<vs;Gs++)Ms[Gs-2]=arguments[Gs];return Es.apply(Gt,Ms)}),K||(K=function(Es){for(var Gt=arguments.length,vs=new Array(Gt>1?Gt-1:0),Ms=1;Ms<Gt;Ms++)vs[Ms-1]=arguments[Ms];return new Es(...vs)});const Z=oe(Array.prototype.forEach),J=oe(Array.prototype.lastIndexOf),H=oe(Array.prototype.pop),G=oe(Array.prototype.push),ce=oe(Array.prototype.splice),Ae=oe(String.prototype.toLowerCase),Ne=oe(String.prototype.toString),re=oe(String.prototype.match),Be=oe(String.prototype.replace),fe=oe(String.prototype.indexOf),Se=oe(String.prototype.trim),pe=oe(Object.prototype.hasOwnProperty),ae=oe(RegExp.prototype.test),de=Ee(TypeError);function oe(Xs){return function(Es){Es instanceof RegExp&&(Es.lastIndex=0);for(var Gt=arguments.length,vs=new Array(Gt>1?Gt-1:0),Ms=1;Ms<Gt;Ms++)vs[Ms-1]=arguments[Ms];return Q(Xs,Es,vs)}}function Ee(Xs){return function(){for(var Es=arguments.length,Gt=new Array(Es),vs=0;vs<Es;vs++)Gt[vs]=arguments[vs];return K(Xs,Gt)}}function Re(Xs,Es){let Gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ae;m&&m(Xs,null);let vs=Es.length;for(;vs--;){let Ms=Es[vs];if(typeof Ms=="string"){const Gs=Gt(Ms);Gs!==Ms&&(p(Es)||(Es[vs]=Gs),Ms=Gs)}Xs[Ms]=!0}return Xs}function ke(Xs){for(let Es=0;Es<Xs.length;Es++)pe(Xs,Es)||(Xs[Es]=null);return Xs}function me(Xs){const Es=E(null);for(const[Gt,vs]of f(Xs))pe(Xs,Gt)&&(Array.isArray(vs)?Es[Gt]=ke(vs):vs&&typeof vs=="object"&&vs.constructor===Object?Es[Gt]=me(vs):Es[Gt]=vs);return Es}function we(Xs,Es){for(;Xs!==null;){const vs=v(Xs,Es);if(vs){if(vs.get)return oe(vs.get);if(typeof vs.value=="function")return oe(vs.value)}Xs=x(Xs)}function Gt(){return null}return Gt}const ue=y(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),te=y(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ge=y(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Me=y(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ve=y(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Nt=y(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ut=y(["#text"]),et=y(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Lt=y(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ns=y(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ls=y(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vt=w(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$e=w(/<%[\w\W]*|[\w\W]*%>/gm),Bt=w(/\$\{[\w\W]*/gm),Qt=w(/^data-[\-\w.\u00B7-\uFFFF]+$/),ks=w(/^aria-[\-\w]+$/),zs=w(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yr=w(/^(?:\w+script|data):/i),mr=w(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ar=w(/^html$/i),$s=w(/^[a-z][.\w]*(-[.\w]+)+$/i);var As=Object.freeze({__proto__:null,ARIA_ATTR:ks,ATTR_WHITESPACE:mr,CUSTOM_ELEMENT:$s,DATA_ATTR:Qt,DOCTYPE_NAME:ar,ERB_EXPR:$e,IS_ALLOWED_URI:zs,IS_SCRIPT_OR_DATA:yr,MUSTACHE_EXPR:vt,TMPLIT_EXPR:Bt});const Rs={element:1,text:3,progressingInstruction:7,comment:8,document:9},br=function(){return typeof window>"u"?null:window},js=function(Es,Gt){if(typeof Es!="object"||typeof Es.createPolicy!="function")return null;let vs=null;const Ms="data-tt-policy-suffix";Gt&&Gt.hasAttribute(Ms)&&(vs=Gt.getAttribute(Ms));const Gs="dompurify"+(vs?"#"+vs:"");try{return Es.createPolicy(Gs,{createHTML(fr){return fr},createScriptURL(fr){return fr}})}catch{return console.warn("TrustedTypes policy "+Gs+" could not be created."),null}},qs=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function hr(){let Xs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:br();const Es=pt=>hr(pt);if(Es.version="3.3.1",Es.removed=[],!Xs||!Xs.document||Xs.document.nodeType!==Rs.document||!Xs.Element)return Es.isSupported=!1,Es;let{document:Gt}=Xs;const vs=Gt,Ms=vs.currentScript,{DocumentFragment:Gs,HTMLTemplateElement:fr,Node:Ct,Element:Zt,NodeFilter:ds,NamedNodeMap:hs=Xs.NamedNodeMap||Xs.MozNamedAttrMap,HTMLFormElement:Ks,DOMParser:Vs,trustedTypes:pr}=Xs,tn=Zt.prototype,Ns=we(tn,"cloneNode"),Is=we(tn,"remove"),kr=we(tn,"nextSibling"),nr=we(tn,"childNodes"),Ts=we(tn,"parentNode");if(typeof fr=="function"){const pt=Gt.createElement("template");pt.content&&pt.content.ownerDocument&&(Gt=pt.content.ownerDocument)}let Lr,la="";const{implementation:gr,createNodeIterator:qa,createDocumentFragment:yn,getElementsByTagName:In}=Gt,{importNode:$n}=vs;let Nn=qs();Es.isSupported=typeof f=="function"&&typeof Ts=="function"&&gr&&gr.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ga,ERB_EXPR:Zn,TMPLIT_EXPR:Oi,DATA_ATTR:Dn,ARIA_ATTR:hc,IS_SCRIPT_OR_DATA:ii,ATTR_WHITESPACE:Eo,CUSTOM_ELEMENT:Vl}=As;let{IS_ALLOWED_URI:uo}=As,fa=null;const ji=Re({},[...ue,...te,...ge,...Ve,...ut]);let sa=null;const Ta=Re({},[...et,...Lt,...ns,...ls]);let qn=Object.seal(E(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ao=null,ui=null;const Ni=Object.seal(E(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ul=!0,Zo=!0,El=!1,xa=!0,wa=!1,ho=!0,ei=!1,Ii=!1,Ai=!1,Yr=!1,Va=!1,Ci=!1,Ra=!0,fo=!1;const Gn="user-content-";let Ki=!0,Ka=!1,Ia={},hi=null;const To=Re({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Bi=null;const ba=Re({},["audio","video","img","source","image","track"]);let fi=null;const qi=Re({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ki="http://www.w3.org/1998/Math/MathML",io="http://www.w3.org/2000/svg",Et="http://www.w3.org/1999/xhtml";let M=Et,$=!1,Y=null;const T=Re({},[ki,io,Et],Ne);let L=Re({},["mi","mo","mn","ms","mtext"]),z=Re({},["annotation-xml"]);const ie=Re({},["title","style","font","a","script"]);let ve=null;const De=["application/xhtml+xml","text/html"],Je="text/html";let N=null,b=null;const S=Gt.createElement("form"),I=function(Ge){return Ge instanceof RegExp||Ge instanceof Function},R=function(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(b&&b===Ge)){if((!Ge||typeof Ge!="object")&&(Ge={}),Ge=me(Ge),ve=De.indexOf(Ge.PARSER_MEDIA_TYPE)===-1?Je:Ge.PARSER_MEDIA_TYPE,N=ve==="application/xhtml+xml"?Ne:Ae,fa=pe(Ge,"ALLOWED_TAGS")?Re({},Ge.ALLOWED_TAGS,N):ji,sa=pe(Ge,"ALLOWED_ATTR")?Re({},Ge.ALLOWED_ATTR,N):Ta,Y=pe(Ge,"ALLOWED_NAMESPACES")?Re({},Ge.ALLOWED_NAMESPACES,Ne):T,fi=pe(Ge,"ADD_URI_SAFE_ATTR")?Re(me(qi),Ge.ADD_URI_SAFE_ATTR,N):qi,Bi=pe(Ge,"ADD_DATA_URI_TAGS")?Re(me(ba),Ge.ADD_DATA_URI_TAGS,N):ba,hi=pe(Ge,"FORBID_CONTENTS")?Re({},Ge.FORBID_CONTENTS,N):To,Ao=pe(Ge,"FORBID_TAGS")?Re({},Ge.FORBID_TAGS,N):me({}),ui=pe(Ge,"FORBID_ATTR")?Re({},Ge.FORBID_ATTR,N):me({}),Ia=pe(Ge,"USE_PROFILES")?Ge.USE_PROFILES:!1,ul=Ge.ALLOW_ARIA_ATTR!==!1,Zo=Ge.ALLOW_DATA_ATTR!==!1,El=Ge.ALLOW_UNKNOWN_PROTOCOLS||!1,xa=Ge.ALLOW_SELF_CLOSE_IN_ATTR!==!1,wa=Ge.SAFE_FOR_TEMPLATES||!1,ho=Ge.SAFE_FOR_XML!==!1,ei=Ge.WHOLE_DOCUMENT||!1,Yr=Ge.RETURN_DOM||!1,Va=Ge.RETURN_DOM_FRAGMENT||!1,Ci=Ge.RETURN_TRUSTED_TYPE||!1,Ai=Ge.FORCE_BODY||!1,Ra=Ge.SANITIZE_DOM!==!1,fo=Ge.SANITIZE_NAMED_PROPS||!1,Ki=Ge.KEEP_CONTENT!==!1,Ka=Ge.IN_PLACE||!1,uo=Ge.ALLOWED_URI_REGEXP||zs,M=Ge.NAMESPACE||Et,L=Ge.MATHML_TEXT_INTEGRATION_POINTS||L,z=Ge.HTML_INTEGRATION_POINTS||z,qn=Ge.CUSTOM_ELEMENT_HANDLING||{},Ge.CUSTOM_ELEMENT_HANDLING&&I(Ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(qn.tagNameCheck=Ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ge.CUSTOM_ELEMENT_HANDLING&&I(Ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(qn.attributeNameCheck=Ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ge.CUSTOM_ELEMENT_HANDLING&&typeof Ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(qn.allowCustomizedBuiltInElements=Ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),wa&&(Zo=!1),Va&&(Yr=!0),Ia&&(fa=Re({},ut),sa=[],Ia.html===!0&&(Re(fa,ue),Re(sa,et)),Ia.svg===!0&&(Re(fa,te),Re(sa,Lt),Re(sa,ls)),Ia.svgFilters===!0&&(Re(fa,ge),Re(sa,Lt),Re(sa,ls)),Ia.mathMl===!0&&(Re(fa,Ve),Re(sa,ns),Re(sa,ls))),Ge.ADD_TAGS&&(typeof Ge.ADD_TAGS=="function"?Ni.tagCheck=Ge.ADD_TAGS:(fa===ji&&(fa=me(fa)),Re(fa,Ge.ADD_TAGS,N))),Ge.ADD_ATTR&&(typeof Ge.ADD_ATTR=="function"?Ni.attributeCheck=Ge.ADD_ATTR:(sa===Ta&&(sa=me(sa)),Re(sa,Ge.ADD_ATTR,N))),Ge.ADD_URI_SAFE_ATTR&&Re(fi,Ge.ADD_URI_SAFE_ATTR,N),Ge.FORBID_CONTENTS&&(hi===To&&(hi=me(hi)),Re(hi,Ge.FORBID_CONTENTS,N)),Ge.ADD_FORBID_CONTENTS&&(hi===To&&(hi=me(hi)),Re(hi,Ge.ADD_FORBID_CONTENTS,N)),Ki&&(fa["#text"]=!0),ei&&Re(fa,["html","head","body"]),fa.table&&(Re(fa,["tbody"]),delete Ao.tbody),Ge.TRUSTED_TYPES_POLICY){if(typeof Ge.TRUSTED_TYPES_POLICY.createHTML!="function")throw de('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ge.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw de('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Lr=Ge.TRUSTED_TYPES_POLICY,la=Lr.createHTML("")}else Lr===void 0&&(Lr=js(pr,Ms)),Lr!==null&&typeof la=="string"&&(la=Lr.createHTML(""));y&&y(Ge),b=Ge}},V=Re({},[...te,...ge,...Me]),le=Re({},[...Ve,...Nt]),q=function(Ge){let Ft=Ts(Ge);(!Ft||!Ft.tagName)&&(Ft={namespaceURI:M,tagName:"template"});const is=Ae(Ge.tagName),Ht=Ae(Ft.tagName);return Y[Ge.namespaceURI]?Ge.namespaceURI===io?Ft.namespaceURI===Et?is==="svg":Ft.namespaceURI===ki?is==="svg"&&(Ht==="annotation-xml"||L[Ht]):!!V[is]:Ge.namespaceURI===ki?Ft.namespaceURI===Et?is==="math":Ft.namespaceURI===io?is==="math"&&z[Ht]:!!le[is]:Ge.namespaceURI===Et?Ft.namespaceURI===io&&!z[Ht]||Ft.namespaceURI===ki&&!L[Ht]?!1:!le[is]&&(ie[is]||!V[is]):!!(ve==="application/xhtml+xml"&&Y[Ge.namespaceURI]):!1},ee=function(Ge){G(Es.removed,{element:Ge});try{Ts(Ge).removeChild(Ge)}catch{Is(Ge)}},je=function(Ge,Ft){try{G(Es.removed,{attribute:Ft.getAttributeNode(Ge),from:Ft})}catch{G(Es.removed,{attribute:null,from:Ft})}if(Ft.removeAttribute(Ge),Ge==="is")if(Yr||Va)try{ee(Ft)}catch{}else try{Ft.setAttribute(Ge,"")}catch{}},Le=function(Ge){let Ft=null,is=null;if(Ai)Ge="<remove></remove>"+Ge;else{const es=re(Ge,/^[\r\n\t ]+/);is=es&&es[0]}ve==="application/xhtml+xml"&&M===Et&&(Ge='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ge+"</body></html>");const Ht=Lr?Lr.createHTML(Ge):Ge;if(M===Et)try{Ft=new Vs().parseFromString(Ht,ve)}catch{}if(!Ft||!Ft.documentElement){Ft=gr.createDocument(M,"template",null);try{Ft.documentElement.innerHTML=$?la:Ht}catch{}}const bt=Ft.body||Ft.documentElement;return Ge&&is&&bt.insertBefore(Gt.createTextNode(is),bt.childNodes[0]||null),M===Et?In.call(Ft,ei?"html":"body")[0]:ei?Ft.documentElement:bt},ze=function(Ge){return qa.call(Ge.ownerDocument||Ge,Ge,ds.SHOW_ELEMENT|ds.SHOW_COMMENT|ds.SHOW_TEXT|ds.SHOW_PROCESSING_INSTRUCTION|ds.SHOW_CDATA_SECTION,null)},Xe=function(Ge){return Ge instanceof Ks&&(typeof Ge.nodeName!="string"||typeof Ge.textContent!="string"||typeof Ge.removeChild!="function"||!(Ge.attributes instanceof hs)||typeof Ge.removeAttribute!="function"||typeof Ge.setAttribute!="function"||typeof Ge.namespaceURI!="string"||typeof Ge.insertBefore!="function"||typeof Ge.hasChildNodes!="function")},xe=function(Ge){return typeof Ct=="function"&&Ge instanceof Ct};function ct(pt,Ge,Ft){Z(pt,is=>{is.call(Es,Ge,Ft,b)})}const ot=function(Ge){let Ft=null;if(ct(Nn.beforeSanitizeElements,Ge,null),Xe(Ge))return ee(Ge),!0;const is=N(Ge.nodeName);if(ct(Nn.uponSanitizeElement,Ge,{tagName:is,allowedTags:fa}),ho&&Ge.hasChildNodes()&&!xe(Ge.firstElementChild)&&ae(/<[/\w!]/g,Ge.innerHTML)&&ae(/<[/\w!]/g,Ge.textContent)||Ge.nodeType===Rs.progressingInstruction||ho&&Ge.nodeType===Rs.comment&&ae(/<[/\w]/g,Ge.data))return ee(Ge),!0;if(!(Ni.tagCheck instanceof Function&&Ni.tagCheck(is))&&(!fa[is]||Ao[is])){if(!Ao[is]&&We(is)&&(qn.tagNameCheck instanceof RegExp&&ae(qn.tagNameCheck,is)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(is)))return!1;if(Ki&&!hi[is]){const Ht=Ts(Ge)||Ge.parentNode,bt=nr(Ge)||Ge.childNodes;if(bt&&Ht){const es=bt.length;for(let Ye=es-1;Ye>=0;--Ye){const rt=Ns(bt[Ye],!0);rt.__removalCount=(Ge.__removalCount||0)+1,Ht.insertBefore(rt,kr(Ge))}}}return ee(Ge),!0}return Ge instanceof Zt&&!q(Ge)||(is==="noscript"||is==="noembed"||is==="noframes")&&ae(/<\/no(script|embed|frames)/i,Ge.innerHTML)?(ee(Ge),!0):(wa&&Ge.nodeType===Rs.text&&(Ft=Ge.textContent,Z([ga,Zn,Oi],Ht=>{Ft=Be(Ft,Ht," ")}),Ge.textContent!==Ft&&(G(Es.removed,{element:Ge.cloneNode()}),Ge.textContent=Ft)),ct(Nn.afterSanitizeElements,Ge,null),!1)},At=function(Ge,Ft,is){if(Ra&&(Ft==="id"||Ft==="name")&&(is in Gt||is in S))return!1;if(!(Zo&&!ui[Ft]&&ae(Dn,Ft))){if(!(ul&&ae(hc,Ft))){if(!(Ni.attributeCheck instanceof Function&&Ni.attributeCheck(Ft,Ge))){if(!sa[Ft]||ui[Ft]){if(!(We(Ge)&&(qn.tagNameCheck instanceof RegExp&&ae(qn.tagNameCheck,Ge)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(Ge))&&(qn.attributeNameCheck instanceof RegExp&&ae(qn.attributeNameCheck,Ft)||qn.attributeNameCheck instanceof Function&&qn.attributeNameCheck(Ft,Ge))||Ft==="is"&&qn.allowCustomizedBuiltInElements&&(qn.tagNameCheck instanceof RegExp&&ae(qn.tagNameCheck,is)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(is))))return!1}else if(!fi[Ft]){if(!ae(uo,Be(is,Eo,""))){if(!((Ft==="src"||Ft==="xlink:href"||Ft==="href")&&Ge!=="script"&&fe(is,"data:")===0&&Bi[Ge])){if(!(El&&!ae(ii,Be(is,Eo,"")))){if(is)return!1}}}}}}}return!0},We=function(Ge){return Ge!=="annotation-xml"&&re(Ge,Vl)},yt=function(Ge){ct(Nn.beforeSanitizeAttributes,Ge,null);const{attributes:Ft}=Ge;if(!Ft||Xe(Ge))return;const is={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:sa,forceKeepAttr:void 0};let Ht=Ft.length;for(;Ht--;){const bt=Ft[Ht],{name:es,namespaceURI:Ye,value:rt}=bt,gt=N(es),xt=rt;let ss=es==="value"?xt:Se(xt);if(is.attrName=gt,is.attrValue=ss,is.keepAttr=!0,is.forceKeepAttr=void 0,ct(Nn.uponSanitizeAttribute,Ge,is),ss=is.attrValue,fo&&(gt==="id"||gt==="name")&&(je(es,Ge),ss=Gn+ss),ho&&ae(/((--!?|])>)|<\/(style|title|textarea)/i,ss)){je(es,Ge);continue}if(gt==="attributename"&&re(ss,"href")){je(es,Ge);continue}if(is.forceKeepAttr)continue;if(!is.keepAttr){je(es,Ge);continue}if(!xa&&ae(/\/>/i,ss)){je(es,Ge);continue}wa&&Z([ga,Zn,Oi],xs=>{ss=Be(ss,xs," ")});const us=N(Ge.nodeName);if(!At(us,gt,ss)){je(es,Ge);continue}if(Lr&&typeof pr=="object"&&typeof pr.getAttributeType=="function"&&!Ye)switch(pr.getAttributeType(us,gt)){case"TrustedHTML":{ss=Lr.createHTML(ss);break}case"TrustedScriptURL":{ss=Lr.createScriptURL(ss);break}}if(ss!==xt)try{Ye?Ge.setAttributeNS(Ye,es,ss):Ge.setAttribute(es,ss),Xe(Ge)?ee(Ge):H(Es.removed)}catch{je(es,Ge)}}ct(Nn.afterSanitizeAttributes,Ge,null)},Dt=function pt(Ge){let Ft=null;const is=ze(Ge);for(ct(Nn.beforeSanitizeShadowDOM,Ge,null);Ft=is.nextNode();)ct(Nn.uponSanitizeShadowNode,Ft,null),ot(Ft),yt(Ft),Ft.content instanceof Gs&&pt(Ft.content);ct(Nn.afterSanitizeShadowDOM,Ge,null)};return Es.sanitize=function(pt){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ft=null,is=null,Ht=null,bt=null;if($=!pt,$&&(pt="<!-->"),typeof pt!="string"&&!xe(pt))if(typeof pt.toString=="function"){if(pt=pt.toString(),typeof pt!="string")throw de("dirty is not a string, aborting")}else throw de("toString is not a function");if(!Es.isSupported)return pt;if(Ii||R(Ge),Es.removed=[],typeof pt=="string"&&(Ka=!1),Ka){if(pt.nodeName){const rt=N(pt.nodeName);if(!fa[rt]||Ao[rt])throw de("root node is forbidden and cannot be sanitized in-place")}}else if(pt instanceof Ct)Ft=Le("<!---->"),is=Ft.ownerDocument.importNode(pt,!0),is.nodeType===Rs.element&&is.nodeName==="BODY"||is.nodeName==="HTML"?Ft=is:Ft.appendChild(is);else{if(!Yr&&!wa&&!ei&&pt.indexOf("<")===-1)return Lr&&Ci?Lr.createHTML(pt):pt;if(Ft=Le(pt),!Ft)return Yr?null:Ci?la:""}Ft&&Ai&&ee(Ft.firstChild);const es=ze(Ka?pt:Ft);for(;Ht=es.nextNode();)ot(Ht),yt(Ht),Ht.content instanceof Gs&&Dt(Ht.content);if(Ka)return pt;if(Yr){if(Va)for(bt=yn.call(Ft.ownerDocument);Ft.firstChild;)bt.appendChild(Ft.firstChild);else bt=Ft;return(sa.shadowroot||sa.shadowrootmode)&&(bt=$n.call(vs,bt,!0)),bt}let Ye=ei?Ft.outerHTML:Ft.innerHTML;return ei&&fa["!doctype"]&&Ft.ownerDocument&&Ft.ownerDocument.doctype&&Ft.ownerDocument.doctype.name&&ae(ar,Ft.ownerDocument.doctype.name)&&(Ye="<!DOCTYPE "+Ft.ownerDocument.doctype.name+`>
`+Ye),wa&&Z([ga,Zn,Oi],rt=>{Ye=Be(Ye,rt," ")}),Lr&&Ci?Lr.createHTML(Ye):Ye},Es.setConfig=function(){let pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(pt),Ii=!0},Es.clearConfig=function(){b=null,Ii=!1},Es.isValidAttribute=function(pt,Ge,Ft){b||R({});const is=N(pt),Ht=N(Ge);return At(is,Ht,Ft)},Es.addHook=function(pt,Ge){typeof Ge=="function"&&G(Nn[pt],Ge)},Es.removeHook=function(pt,Ge){if(Ge!==void 0){const Ft=J(Nn[pt],Ge);return Ft===-1?void 0:ce(Nn[pt],Ft,1)[0]}return H(Nn[pt])},Es.removeHooks=function(pt){Nn[pt]=[]},Es.removeAllHooks=function(){Nn=qs()},Es}var rr=hr()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return Q}});var f=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),m=o("./node_modules/pako/dist/pako.esm.mjs"),p=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),x=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),v=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),y=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),w=o("./node_modules/fast-png/lib-esm/helpers/text.js"),E=o("./node_modules/fast-png/lib-esm/internalTypes.js");class Q extends f.IOBuffer{constructor(H,G={}){super(H);za(this,"_checkCrc");za(this,"_inflator");za(this,"_png");za(this,"_apng");za(this,"_end");za(this,"_hasPalette");za(this,"_palette");za(this,"_hasTransparency");za(this,"_transparency");za(this,"_compressionMethod");za(this,"_filterMethod");za(this,"_interlaceMethod");za(this,"_colorType");za(this,"_isAnimated");za(this,"_numberOfFrames");za(this,"_numberOfPlays");za(this,"_frames");za(this,"_writingDataChunks");const{checkCrc:ce=!1}=G;this._checkCrc=ce,this._inflator=new m.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=E.CompressionMethod.UNKNOWN,this._filterMethod=E.FilterMethod.UNKNOWN,this._interlaceMethod=E.InterlaceMethod.UNKNOWN,this._colorType=E.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,y.checkSignature)(this);!this._end;){const H=this.readUint32(),G=this.readChars(4);this.decodeChunk(H,G)}return this.decodeImage(),this._png}decodeApng(){for((0,y.checkSignature)(this);!this._end;){const H=this.readUint32(),G=this.readChars(4);this.decodeApngChunk(H,G)}return this.decodeApngImage(),this._apng}decodeChunk(H,G){const ce=this.offset;switch(G){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(H);break;case"IDAT":this.decodeIDAT(H);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(H);break;case"iCCP":this.decodeiCCP(H);break;case w.textChunkName:(0,w.decodetEXt)(this._png.text,this,H);break;case"pHYs":this.decodepHYs();break;default:this.skip(H);break}if(this.offset-ce!==H)throw new Error(`Length mismatch while decoding chunk ${G}`);this._checkCrc?(0,p.checkCrc)(this,H+4,G):this.skip(4)}decodeApngChunk(H,G){const ce=this.offset;switch(G!=="fdAT"&&G!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),G){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(H);break;default:this.decodeChunk(H,G),this.offset=ce+H;break}if(this.offset-ce!==H)throw new Error(`Length mismatch while decoding chunk ${G}`);this._checkCrc?(0,p.checkCrc)(this,H+4,G):this.skip(4)}decodeIHDR(){const H=this._png;H.width=this.readUint32(),H.height=this.readUint32(),H.depth=K(this.readUint8());const G=this.readUint8();this._colorType=G;let ce;switch(G){case E.ColorType.GREYSCALE:ce=1;break;case E.ColorType.TRUECOLOUR:ce=3;break;case E.ColorType.INDEXED_COLOUR:ce=1;break;case E.ColorType.GREYSCALE_ALPHA:ce=2;break;case E.ColorType.TRUECOLOUR_ALPHA:ce=4;break;case E.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${G}`)}if(this._png.channels=ce,this._compressionMethod=this.readUint8(),this._compressionMethod!==E.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const H={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(H)}decodePLTE(H){if(H%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${H}`);const G=H/3;this._hasPalette=!0;const ce=[];this._palette=ce;for(let Ae=0;Ae<G;Ae++)ce.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(H){this._writingDataChunks=!0;const G=H,ce=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,ce,G)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(H)}decodeFDAT(H){this._writingDataChunks=!0;let G=H,ce=this.offset+this.byteOffset;if(ce+=4,G-=4,this._inflator.push(new Uint8Array(this.buffer,ce,G)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(H)}decodetRNS(H){switch(this._colorType){case E.ColorType.GREYSCALE:case E.ColorType.TRUECOLOUR:{if(H%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${H}`);if(H/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${H/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(H/2);for(let G=0;G<H/2;G++)this._transparency[G]=this.readUint16();break}case E.ColorType.INDEXED_COLOUR:{if(H>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${H} vs ${this._palette.length})`);let G=0;for(;G<H;G++){const ce=this.readByte();this._palette[G].push(ce)}for(;G<this._palette.length;G++)this._palette[G].push(255);break}case E.ColorType.UNKNOWN:case E.ColorType.GREYSCALE_ALPHA:case E.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(H){const G=(0,w.readKeyword)(this),ce=this.readUint8();if(ce!==E.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${ce}`);const Ae=this.readBytes(H-G.length-2);this._png.iccEmbeddedProfile={name:G,profile:(0,m.inflate)(Ae)}}decodepHYs(){const H=this.readUint32(),G=this.readUint32(),ce=this.readByte();this._png.resolution={x:H,y:G,unit:ce}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let H=0;H<this._numberOfFrames;H++){const G={sequenceNumber:this._frames[H].sequenceNumber,delayNumber:this._frames[H].delayNumber,delayDenominator:this._frames[H].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},ce=this._frames.at(H);if(ce){if(ce.data=(0,v.decodeInterlaceNull)({data:ce.data,width:ce.width,height:ce.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),H===0||ce.xOffset===0&&ce.yOffset===0&&ce.width===this._png.width&&ce.height===this._png.height)G.data=ce.data;else{const Ae=this._apng.frames.at(H-1);this.disposeFrame(ce,Ae,G),this.addFrameDataToCanvas(G,ce)}this._apng.frames.push(G)}}return this._apng}disposeFrame(H,G,ce){switch(H.disposeOp){case E.DisposeOpType.NONE:break;case E.DisposeOpType.BACKGROUND:for(let Ae=0;Ae<this._png.height;Ae++)for(let Ne=0;Ne<this._png.width;Ne++){const re=(Ae*H.width+Ne)*this._png.channels;for(let Be=0;Be<this._png.channels;Be++)ce.data[re+Be]=0}break;case E.DisposeOpType.PREVIOUS:ce.data.set(G.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(H,G){const ce=1<<this._png.depth,Ae=(Ne,re)=>{const Be=((Ne+G.yOffset)*this._png.width+G.xOffset+re)*this._png.channels,fe=(Ne*G.width+re)*this._png.channels;return{index:Be,frameIndex:fe}};switch(G.blendOp){case E.BlendOpType.SOURCE:for(let Ne=0;Ne<G.height;Ne++)for(let re=0;re<G.width;re++){const{index:Be,frameIndex:fe}=Ae(Ne,re);for(let Se=0;Se<this._png.channels;Se++)H.data[Be+Se]=G.data[fe+Se]}break;case E.BlendOpType.OVER:for(let Ne=0;Ne<G.height;Ne++)for(let re=0;re<G.width;re++){const{index:Be,frameIndex:fe}=Ae(Ne,re);for(let Se=0;Se<this._png.channels;Se++){const pe=G.data[fe+this._png.channels-1]/ce,ae=Se%(this._png.channels-1)===0?1:G.data[fe+Se],de=Math.floor(pe*ae+(1-pe)*H.data[Be+Se]);H.data[Be+Se]+=de}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var G;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const H=this._isAnimated?((G=this._frames)==null?void 0:G.at(0)).data:this._inflator.result;if(this._filterMethod!==E.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===E.InterlaceMethod.NO_INTERLACE)this._png.data=(0,v.decodeInterlaceNull)({data:H,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===E.InterlaceMethod.ADAM7)this._png.data=(0,x.decodeInterlaceAdam7)({data:H,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const H=this._inflator.result,G=this._frames.at(-1);G?G.data=H:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:E.DisposeOpType.NONE,blendOp:E.BlendOpType.SOURCE,data:H}),this._inflator=new m.Inflate,this._writingDataChunks=!1}}function K(Z){if(Z!==1&&Z!==2&&Z!==4&&Z!==8&&Z!==16)throw new Error(`invalid bit depth: ${Z}`);return Z}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return E}});var f=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),m=o("./node_modules/pako/dist/pako.esm.mjs"),p=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),x=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),v=o("./node_modules/fast-png/lib-esm/helpers/text.js"),y=o("./node_modules/fast-png/lib-esm/internalTypes.js");const w={level:3};class E extends f.IOBuffer{constructor(Ae,Ne={}){super();za(this,"_png");za(this,"_zlibOptions");za(this,"_colorType");za(this,"_interlaceMethod");this._colorType=y.ColorType.UNKNOWN,this._zlibOptions={...w,...Ne.zlib},this._png=this._checkData(Ae),this._interlaceMethod=(Ne.interlace==="Adam7"?y.InterlaceMethod.ADAM7:y.InterlaceMethod.NO_INTERLACE)??y.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,x.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[Ae,Ne]of Object.entries(this._png.text))(0,v.encodetEXt)(this,Ae,Ne);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(y.CompressionMethod.DEFLATE),this.writeByte(y.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,p.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,p.writeCrc)(this,4)}encodePLTE(){var Ne;const Ae=((Ne=this._png.palette)==null?void 0:Ne.length)*3;this.writeUint32(Ae),this.writeChars("PLTE");for(const re of this._png.palette)this.writeByte(re[0]),this.writeByte(re[1]),this.writeByte(re[2]);(0,p.writeCrc)(this,4+Ae)}encodeTRNS(){const Ae=this._png.palette.filter(Ne=>Ne.at(-1)!==255);this.writeUint32(Ae.length),this.writeChars("tRNS");for(const Ne of Ae)this.writeByte(Ne.at(-1));(0,p.writeCrc)(this,4+Ae.length)}encodeIDAT(Ae){this.writeUint32(Ae.length),this.writeChars("IDAT"),this.writeBytes(Ae),(0,p.writeCrc)(this,Ae.length+4)}encodeData(){const{width:Ae,height:Ne,channels:re,depth:Be,data:fe}=this._png,Se=Be<=8?Math.ceil(Ae*Be/8)*re:Math.ceil(Ae*Be/8*re/2),pe=new f.IOBuffer().setBigEndian();let ae=0;if(this._interlaceMethod===y.InterlaceMethod.NO_INTERLACE)for(let Ee=0;Ee<Ne;Ee++)pe.writeByte(0),Be===16?ae=H(fe,pe,Se,ae):ae=Z(fe,pe,Se,ae);else this._interlaceMethod===y.InterlaceMethod.ADAM7&&(ae=J(this._png,fe,pe,ae));const de=pe.toArray(),oe=(0,m.deflate)(de,this._zlibOptions);this.encodeIDAT(oe)}_checkData(Ae){const{colorType:Ne,channels:re,depth:Be}=K(Ae,Ae.palette),fe={width:Q(Ae.width,"width"),height:Q(Ae.height,"height"),channels:re,data:Ae.data,depth:Be,text:Ae.text,palette:Ae.palette};this._colorType=Ne;const Se=Be<8?Math.ceil(fe.width*Be/8)*fe.height*re:fe.width*fe.height*re;if(fe.data.length!==Se)throw new RangeError(`wrong data size. Found ${fe.data.length}, expected ${Se}`);return fe}}function Q(G,ce){if(Number.isInteger(G)&&G>0)return G;throw new TypeError(`${ce} must be a positive integer`)}function K(G,ce){const{channels:Ae=4,depth:Ne=8}=G;if(Ae!==4&&Ae!==3&&Ae!==2&&Ae!==1)throw new RangeError(`unsupported number of channels: ${Ae}`);const re={channels:Ae,depth:Ne,colorType:y.ColorType.UNKNOWN};switch(Ae){case 4:re.colorType=y.ColorType.TRUECOLOUR_ALPHA;break;case 3:re.colorType=y.ColorType.TRUECOLOUR;break;case 1:ce?re.colorType=y.ColorType.INDEXED_COLOUR:re.colorType=y.ColorType.GREYSCALE;break;case 2:re.colorType=y.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return re}function Z(G,ce,Ae,Ne){for(let re=0;re<Ae;re++)ce.writeByte(G[Ne++]);return Ne}function J(G,ce,Ae,Ne){const re=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:Be,height:fe,channels:Se,depth:pe}=G;let ae=0;pe===16?ae=Se*pe/8/2:ae=Se*pe/8;for(let de=0;de<7;de++){const oe=re[de],Ee=Math.floor((Be-oe.x+oe.xStep-1)/oe.xStep),Re=Math.floor((fe-oe.y+oe.yStep-1)/oe.yStep);if(Ee<=0||Re<=0)continue;const ke=Ee*ae;for(let me=0;me<Re;me++){const we=oe.y+me*oe.yStep,ue=pe<=8?new Uint8Array(ke):new Uint16Array(ke);let te=0;for(let ge=0;ge<Ee;ge++){const Me=oe.x+ge*oe.xStep;if(Me<Be&&we<fe){const Ve=(we*Be+Me)*ae;for(let Nt=0;Nt<ae;Nt++)ue[te++]=ce[Ve+Nt]}}if(Ae.writeByte(0),pe===8)Ae.writeBytes(ue);else if(pe===16)for(const ge of ue)Ae.writeByte(ge>>8&255),Ae.writeByte(ge&255)}}return Ne}function H(G,ce,Ae,Ne){for(let re=0;re<Ae;re++)ce.writeUint16(G[Ne++]);return Ne}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(d,A,o){o.r(A),o.d(A,{convertIndexedToRgb:function(){return f}});function f(p){const x=p.palette,v=p.depth;if(!x)throw new Error("Color palette is undefined.");m(p);const y=p.width*p.height,w=y*x[0].length,E=new Uint8Array(w);let Q=0,K=0;const Z=new Uint8Array(y);let J=255;switch(v){case 1:J=128;break;case 2:J=192;break;case 4:J=240;break;case 8:J=255;break;default:throw new Error("Incorrect depth value")}for(const H of p.data){let G=J,ce=8;for(;G&&(ce-=v,Z[Q++]=(H&G)>>ce,G=G>>v,Q%p.width!==0););}if(p.palette)for(const H of Z){const G=p.palette.at(H);if(!G)throw new Error("Incorrect index of palette color");E.set(G,K),K+=G.length}return E}function m(p){const x=p.depth<8?Math.ceil(p.width*p.depth/8)*p.height*p.channels:p.width*p.height*p.channels;if(p.data.length!==x)throw new RangeError(`wrong data size. Found ${p.data.length}, expected ${x}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(d,A,o){o.r(A),o.d(A,{applyUnfilter:function(){return m}});var f=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function m(p,x,v,y,w,E){switch(p){case 0:(0,f.unfilterNone)(x,v,w);break;case 1:(0,f.unfilterSub)(x,v,w,E);break;case 2:(0,f.unfilterUp)(x,v,y,w);break;case 3:(0,f.unfilterAverage)(x,v,y,w,E);break;case 4:(0,f.unfilterPaeth)(x,v,y,w,E);break;default:throw new Error(`Unsupported filter: ${p}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(d,A,o){o.r(A),o.d(A,{checkCrc:function(){return v},writeCrc:function(){return y}});const f=[];for(let w=0;w<256;w++){let E=w;for(let Q=0;Q<8;Q++)E&1?E=3988292384^E>>>1:E=E>>>1;f[w]=E}const m=4294967295;function p(w,E,Q){let K=w;for(let Z=0;Z<Q;Z++)K=f[(K^E[Z])&255]^K>>>8;return K}function x(w,E){return(p(m,w,E)^m)>>>0}function v(w,E,Q){const K=w.readUint32(),Z=x(new Uint8Array(w.buffer,w.byteOffset+w.offset-E-4,E),E);if(Z!==K)throw new Error(`CRC mismatch for chunk ${Q}. Expected ${K}, found ${Z}`)}function y(w,E){w.writeUint32(x(new Uint8Array(w.buffer,w.byteOffset+w.offset-E,E),E))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(d,A,o){o.r(A),o.d(A,{decodeInterlaceAdam7:function(){return v}});var f=o("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const m=new Uint16Array([255]),x=new Uint8Array(m.buffer)[0]===255;function v(w){const{data:E,width:Q,height:K,channels:Z,depth:J}=w,H=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],G=Math.ceil(J/8)*Z,ce=new Uint8Array(K*Q*G);let Ae=0;for(let Ne=0;Ne<7;Ne++){const re=H[Ne],Be=Math.ceil((Q-re.x)/re.xStep),fe=Math.ceil((K-re.y)/re.yStep);if(Be<=0||fe<=0)continue;const Se=Be*G,pe=new Uint8Array(Se);for(let ae=0;ae<fe;ae++){const de=E[Ae++],oe=E.subarray(Ae,Ae+Se);Ae+=Se;const Ee=new Uint8Array(Se);(0,f.applyUnfilter)(de,oe,Ee,pe,Se,G),pe.set(Ee);for(let Re=0;Re<Be;Re++){const ke=re.x+Re*re.xStep,me=re.y+ae*re.yStep;if(!(ke>=Q||me>=K))for(let we=0;we<G;we++)ce[(me*Q+ke)*G+we]=Ee[Re*G+we]}}}if(J===16){const Ne=new Uint16Array(ce.buffer);if(x)for(let re=0;re<Ne.length;re++)Ne[re]=y(Ne[re]);return Ne}else return ce}function y(w){return(w&255)<<8|w>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(d,A,o){o.r(A),o.d(A,{decodeInterlaceNull:function(){return y}});var f=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const m=new Uint16Array([255]),x=new Uint8Array(m.buffer)[0]===255,v=new Uint8Array(0);function y(E){const{data:Q,width:K,height:Z,channels:J,depth:H}=E,G=Math.ceil(H/8)*J,ce=Math.ceil(H/8*J*K),Ae=new Uint8Array(Z*ce);let Ne=v,re=0,Be,fe;for(let Se=0;Se<Z;Se++){switch(Be=Q.subarray(re+1,re+1+ce),fe=Ae.subarray(Se*ce,(Se+1)*ce),Q[re]){case 0:(0,f.unfilterNone)(Be,fe,ce);break;case 1:(0,f.unfilterSub)(Be,fe,ce,G);break;case 2:(0,f.unfilterUp)(Be,fe,Ne,ce);break;case 3:(0,f.unfilterAverage)(Be,fe,Ne,ce,G);break;case 4:(0,f.unfilterPaeth)(Be,fe,Ne,ce,G);break;default:throw new Error(`Unsupported filter: ${Q[re]}`)}Ne=fe,re+=ce+1}if(H===16){const Se=new Uint16Array(Ae.buffer);if(x)for(let pe=0;pe<Se.length;pe++)Se[pe]=w(Se[pe]);return Se}else return Ae}function w(E){return(E&255)<<8|E>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(d,A,o){o.r(A),o.d(A,{checkSignature:function(){return p},hasPngSignature:function(){return x},writeSignature:function(){return m}});const f=Uint8Array.of(137,80,78,71,13,10,26,10);function m(v){v.writeBytes(f)}function p(v){if(!x(v.readBytes(f.length)))throw new Error("wrong PNG signature")}function x(v){if(v.length<f.length)return!1;for(let y=0;y<f.length;y++)if(v[y]!==f[y])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(d,A,o){o.r(A),o.d(A,{decodetEXt:function(){return E},encodetEXt:function(){return Q},readKeyword:function(){return K},readLatin1:function(){return Z},textChunkName:function(){return m}});var f=o("./node_modules/fast-png/lib-esm/helpers/crc.js");const m="tEXt",p=0,x=new TextDecoder("latin1");function v(J){if(w(J),J.length===0||J.length>79)throw new Error("keyword length must be between 1 and 79")}const y=/^[\u0000-\u00FF]*$/;function w(J){if(!y.test(J))throw new Error("invalid latin1 text")}function E(J,H,G){const ce=K(H);J[ce]=Z(H,G-ce.length-1)}function Q(J,H,G){v(H),w(G);const ce=H.length+1+G.length;J.writeUint32(ce),J.writeChars(m),J.writeChars(H),J.writeByte(p),J.writeChars(G),(0,f.writeCrc)(J,ce+4)}function K(J){for(J.mark();J.readByte()!==p;);const H=J.offset;J.reset();const G=x.decode(J.readBytes(H-J.offset-1));return J.skip(1),v(G),G}function Z(J,H){return x.decode(J.readBytes(H))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(d,A,o){o.r(A),o.d(A,{unfilterAverage:function(){return x},unfilterNone:function(){return f},unfilterPaeth:function(){return v},unfilterSub:function(){return m},unfilterUp:function(){return p}});function f(w,E,Q){for(let K=0;K<Q;K++)E[K]=w[K]}function m(w,E,Q,K){let Z=0;for(;Z<K;Z++)E[Z]=w[Z];for(;Z<Q;Z++)E[Z]=w[Z]+E[Z-K]&255}function p(w,E,Q,K){let Z=0;if(Q.length===0)for(;Z<K;Z++)E[Z]=w[Z];else for(;Z<K;Z++)E[Z]=w[Z]+Q[Z]&255}function x(w,E,Q,K,Z){let J=0;if(Q.length===0){for(;J<Z;J++)E[J]=w[J];for(;J<K;J++)E[J]=w[J]+(E[J-Z]>>1)&255}else{for(;J<Z;J++)E[J]=w[J]+(Q[J]>>1)&255;for(;J<K;J++)E[J]=w[J]+(E[J-Z]+Q[J]>>1)&255}}function v(w,E,Q,K,Z){let J=0;if(Q.length===0){for(;J<Z;J++)E[J]=w[J];for(;J<K;J++)E[J]=w[J]+E[J-Z]&255}else{for(;J<Z;J++)E[J]=w[J]+Q[J]&255;for(;J<K;J++)E[J]=w[J]+y(E[J-Z],Q[J],Q[J-Z])&255}}function y(w,E,Q){const K=w+E-Q,Z=Math.abs(K-w),J=Math.abs(K-E),H=Math.abs(K-Q);return Z<=J&&Z<=H?w:J<=H?E:Q}}),"./node_modules/fast-png/lib-esm/index.js":(function(d,A,o){o.r(A),o.d(A,{ResolutionUnitSpecifier:function(){return x.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return v.convertIndexedToRgb},decode:function(){return y},decodeApng:function(){return E},encode:function(){return w},hasPngSignature:function(){return p.hasPngSignature}});var f=o("./node_modules/fast-png/lib-esm/PngDecoder.js"),m=o("./node_modules/fast-png/lib-esm/PngEncoder.js"),p=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=o("./node_modules/fast-png/lib-esm/types.js"),v=o("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function y(Q,K){return new f.default(Q,K).decode()}function w(Q,K){return new m.default(Q,K).encode()}function E(Q,K){return new f.default(Q,K).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(d,A,o){o.r(A),o.d(A,{BlendOpType:function(){return y},ColorType:function(){return f},CompressionMethod:function(){return m},DisposeOpType:function(){return v},FilterMethod:function(){return p},InterlaceMethod:function(){return x}});const f={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},m={UNKNOWN:-1,DEFLATE:0},p={UNKNOWN:-1,ADAPTIVE:0},x={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},v={NONE:0,BACKGROUND:1,PREVIOUS:2},y={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(d,A,o){o.r(A),o.d(A,{ResolutionUnitSpecifier:function(){return f}});var f;(function(m){m[m.UNKNOWN=0]="UNKNOWN",m[m.METRE=1]="METRE"})(f||(f={}))}),"./node_modules/fflate/esm/browser.js":(function(d,A,o){o.r(A),o.d(A,{AsyncCompress:function(){return Nn},AsyncDecompress:function(){return ui},AsyncDeflate:function(){return Ts},AsyncGunzip:function(){return Dn},AsyncGzip:function(){return Nn},AsyncInflate:function(){return qa},AsyncUnzipInflate:function(){return io},AsyncUnzlib:function(){return sa},AsyncZipDeflate:function(){return To},AsyncZlib:function(){return Vl},Compress:function(){return $n},DecodeUTF8:function(){return ei},Decompress:function(){return Ao},Deflate:function(){return nr},EncodeUTF8:function(){return Ii},FlateErrorCode:function(){return ue},Gunzip:function(){return Oi},Gzip:function(){return $n},Inflate:function(){return gr},Unzip:function(){return Et},UnzipInflate:function(){return ki},UnzipPassThrough:function(){return qi},Unzlib:function(){return ji},Zip:function(){return Bi},ZipDeflate:function(){return hi},ZipPassThrough:function(){return Ia},Zlib:function(){return Eo},compress:function(){return ga},compressSync:function(){return Zn},decompress:function(){return Ni},decompressSync:function(){return ul},deflate:function(){return Lr},deflateSync:function(){return la},gunzip:function(){return hc},gunzipSync:function(){return ii},gzip:function(){return ga},gzipSync:function(){return Zn},inflate:function(){return yn},inflateSync:function(){return In},strFromU8:function(){return Yr},strToU8:function(){return Ai},unzip:function(){return $},unzipSync:function(){return Y},unzlib:function(){return Ta},unzlibSync:function(){return qn},zip:function(){return ba},zipSync:function(){return fi},zlib:function(){return uo},zlibSync:function(){return fa}});var f={},m=(function(T,L,z,ie,ve){var De=new Worker(f[L]||(f[L]=URL.createObjectURL(new Blob([T+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return De.onmessage=function(Je){var N=Je.data,b=N.$e$;if(b){var S=new Error(b[0]);S.code=b[1],S.stack=b[2],ve(S,null)}else ve(null,N)},De.postMessage(z,ie),De}),p=Uint8Array,x=Uint16Array,v=Int32Array,y=new p([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),w=new p([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),E=new p([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Q=function(T,L){for(var z=new x(31),ie=0;ie<31;++ie)z[ie]=L+=1<<T[ie-1];for(var ve=new v(z[30]),ie=1;ie<30;++ie)for(var De=z[ie];De<z[ie+1];++De)ve[De]=De-z[ie]<<5|ie;return{b:z,r:ve}},K=Q(y,2),Z=K.b,J=K.r;Z[28]=258,J[258]=28;for(var H=Q(w,0),G=H.b,ce=H.r,Ae=new x(32768),Ne=0;Ne<32768;++Ne){var re=(Ne&43690)>>1|(Ne&21845)<<1;re=(re&52428)>>2|(re&13107)<<2,re=(re&61680)>>4|(re&3855)<<4,Ae[Ne]=((re&65280)>>8|(re&255)<<8)>>1}for(var Be=(function(T,L,z){for(var ie=T.length,ve=0,De=new x(L);ve<ie;++ve)T[ve]&&++De[T[ve]-1];var Je=new x(L);for(ve=1;ve<L;++ve)Je[ve]=Je[ve-1]+De[ve-1]<<1;var N;if(z){N=new x(1<<L);var b=15-L;for(ve=0;ve<ie;++ve)if(T[ve])for(var S=ve<<4|T[ve],I=L-T[ve],R=Je[T[ve]-1]++<<I,V=R|(1<<I)-1;R<=V;++R)N[Ae[R]>>b]=S}else for(N=new x(ie),ve=0;ve<ie;++ve)T[ve]&&(N[ve]=Ae[Je[T[ve]-1]++]>>15-T[ve]);return N}),fe=new p(288),Ne=0;Ne<144;++Ne)fe[Ne]=8;for(var Ne=144;Ne<256;++Ne)fe[Ne]=9;for(var Ne=256;Ne<280;++Ne)fe[Ne]=7;for(var Ne=280;Ne<288;++Ne)fe[Ne]=8;for(var Se=new p(32),Ne=0;Ne<32;++Ne)Se[Ne]=5;var pe=Be(fe,9,0),ae=Be(fe,9,1),de=Be(Se,5,0),oe=Be(Se,5,1),Ee=function(T){for(var L=T[0],z=1;z<T.length;++z)T[z]>L&&(L=T[z]);return L},Re=function(T,L,z){var ie=L/8|0;return(T[ie]|T[ie+1]<<8)>>(L&7)&z},ke=function(T,L){var z=L/8|0;return(T[z]|T[z+1]<<8|T[z+2]<<16)>>(L&7)},me=function(T){return(T+7)/8|0},we=function(T,L,z){return(L==null||L<0)&&(L=0),(z==null||z>T.length)&&(z=T.length),new p(T.subarray(L,z))},ue={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},te=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ge=function(T,L,z){var ie=new Error(L||te[T]);if(ie.code=T,Error.captureStackTrace&&Error.captureStackTrace(ie,ge),!z)throw ie;return ie},Me=function(T,L,z,ie){var ve=T.length,De=ie?ie.length:0;if(!ve||L.f&&!L.l)return z||new p(0);var Je=!z,N=Je||L.i!=2,b=L.i;Je&&(z=new p(ve*3));var S=function(ht){var Mt=z.length;if(ht>Mt){var Rt=new p(Math.max(Mt*2,ht));Rt.set(z),z=Rt}},I=L.f||0,R=L.p||0,V=L.b||0,le=L.l,q=L.d,ee=L.m,je=L.n,Le=ve*8;do{if(!le){I=Re(T,R,1);var ze=Re(T,R+1,3);if(R+=3,ze)if(ze==1)le=ae,q=oe,ee=9,je=5;else if(ze==2){var ot=Re(T,R,31)+257,At=Re(T,R+10,15)+4,We=ot+Re(T,R+5,31)+1;R+=14;for(var yt=new p(We),Dt=new p(19),pt=0;pt<At;++pt)Dt[E[pt]]=Re(T,R+pt*3,7);R+=At*3;for(var Ge=Ee(Dt),Ft=(1<<Ge)-1,is=Be(Dt,Ge,1),pt=0;pt<We;){var Ht=is[Re(T,R,Ft)];R+=Ht&15;var Xe=Ht>>4;if(Xe<16)yt[pt++]=Xe;else{var bt=0,es=0;for(Xe==16?(es=3+Re(T,R,3),R+=2,bt=yt[pt-1]):Xe==17?(es=3+Re(T,R,7),R+=3):Xe==18&&(es=11+Re(T,R,127),R+=7);es--;)yt[pt++]=bt}}var Ye=yt.subarray(0,ot),rt=yt.subarray(ot);ee=Ee(Ye),je=Ee(rt),le=Be(Ye,ee,1),q=Be(rt,je,1)}else ge(1);else{var Xe=me(R)+4,xe=T[Xe-4]|T[Xe-3]<<8,ct=Xe+xe;if(ct>ve){b&&ge(0);break}N&&S(V+xe),z.set(T.subarray(Xe,ct),V),L.b=V+=xe,L.p=R=ct*8,L.f=I;continue}if(R>Le){b&&ge(0);break}}N&&S(V+131072);for(var gt=(1<<ee)-1,xt=(1<<je)-1,ss=R;;ss=R){var bt=le[ke(T,R)&gt],us=bt>>4;if(R+=bt&15,R>Le){b&&ge(0);break}if(bt||ge(2),us<256)z[V++]=us;else if(us==256){ss=R,le=null;break}else{var xs=us-254;if(us>264){var pt=us-257,Vt=y[pt];xs=Re(T,R,(1<<Vt)-1)+Z[pt],R+=Vt}var fs=q[ke(T,R)&xt],Js=fs>>4;fs||ge(3),R+=fs&15;var rt=G[Js];if(Js>3){var Vt=w[Js];rt+=ke(T,R)&(1<<Vt)-1,R+=Vt}if(R>Le){b&&ge(0);break}N&&S(V+131072);var _s=V+xs;if(V<rt){var _e=De-rt,dt=Math.min(rt,_s);for(_e+V<0&&ge(3);V<dt;++V)z[V]=ie[_e+V]}for(;V<_s;++V)z[V]=z[V-rt]}}L.l=le,L.p=ss,L.b=V,L.f=I,le&&(I=1,L.m=ee,L.d=q,L.n=je)}while(!I);return V!=z.length&&Je?we(z,0,V):z.subarray(0,V)},Ve=function(T,L,z){z<<=L&7;var ie=L/8|0;T[ie]|=z,T[ie+1]|=z>>8},Nt=function(T,L,z){z<<=L&7;var ie=L/8|0;T[ie]|=z,T[ie+1]|=z>>8,T[ie+2]|=z>>16},ut=function(T,L){for(var z=[],ie=0;ie<T.length;++ie)T[ie]&&z.push({s:ie,f:T[ie]});var ve=z.length,De=z.slice();if(!ve)return{t:Bt,l:0};if(ve==1){var Je=new p(z[0].s+1);return Je[z[0].s]=1,{t:Je,l:1}}z.sort(function(ct,ot){return ct.f-ot.f}),z.push({s:-1,f:25001});var N=z[0],b=z[1],S=0,I=1,R=2;for(z[0]={s:-1,f:N.f+b.f,l:N,r:b};I!=ve-1;)N=z[z[S].f<z[R].f?S++:R++],b=z[S!=I&&z[S].f<z[R].f?S++:R++],z[I++]={s:-1,f:N.f+b.f,l:N,r:b};for(var V=De[0].s,ie=1;ie<ve;++ie)De[ie].s>V&&(V=De[ie].s);var le=new x(V+1),q=et(z[I-1],le,0);if(q>L){var ie=0,ee=0,je=q-L,Le=1<<je;for(De.sort(function(ot,At){return le[At.s]-le[ot.s]||ot.f-At.f});ie<ve;++ie){var ze=De[ie].s;if(le[ze]>L)ee+=Le-(1<<q-le[ze]),le[ze]=L;else break}for(ee>>=je;ee>0;){var Xe=De[ie].s;le[Xe]<L?ee-=1<<L-le[Xe]++-1:++ie}for(;ie>=0&&ee;--ie){var xe=De[ie].s;le[xe]==L&&(--le[xe],++ee)}q=L}return{t:new p(le),l:q}},et=function(T,L,z){return T.s==-1?Math.max(et(T.l,L,z+1),et(T.r,L,z+1)):L[T.s]=z},Lt=function(T){for(var L=T.length;L&&!T[--L];);for(var z=new x(++L),ie=0,ve=T[0],De=1,Je=function(b){z[ie++]=b},N=1;N<=L;++N)if(T[N]==ve&&N!=L)++De;else{if(!ve&&De>2){for(;De>138;De-=138)Je(32754);De>2&&(Je(De>10?De-11<<5|28690:De-3<<5|12305),De=0)}else if(De>3){for(Je(ve),--De;De>6;De-=6)Je(8304);De>2&&(Je(De-3<<5|8208),De=0)}for(;De--;)Je(ve);De=1,ve=T[N]}return{c:z.subarray(0,ie),n:L}},ns=function(T,L){for(var z=0,ie=0;ie<L.length;++ie)z+=T[ie]*L[ie];return z},ls=function(T,L,z){var ie=z.length,ve=me(L+2);T[ve]=ie&255,T[ve+1]=ie>>8,T[ve+2]=T[ve]^255,T[ve+3]=T[ve+1]^255;for(var De=0;De<ie;++De)T[ve+De+4]=z[De];return(ve+4+ie)*8},vt=function(T,L,z,ie,ve,De,Je,N,b,S,I){Ve(L,I++,z),++ve[256];for(var R=ut(ve,15),V=R.t,le=R.l,q=ut(De,15),ee=q.t,je=q.l,Le=Lt(V),ze=Le.c,Xe=Le.n,xe=Lt(ee),ct=xe.c,ot=xe.n,At=new x(19),We=0;We<ze.length;++We)++At[ze[We]&31];for(var We=0;We<ct.length;++We)++At[ct[We]&31];for(var yt=ut(At,7),Dt=yt.t,pt=yt.l,Ge=19;Ge>4&&!Dt[E[Ge-1]];--Ge);var Ft=S+5<<3,is=ns(ve,fe)+ns(De,Se)+Je,Ht=ns(ve,V)+ns(De,ee)+Je+14+3*Ge+ns(At,Dt)+2*At[16]+3*At[17]+7*At[18];if(b>=0&&Ft<=is&&Ft<=Ht)return ls(L,I,T.subarray(b,b+S));var bt,es,Ye,rt;if(Ve(L,I,1+(Ht<is)),I+=2,Ht<is){bt=Be(V,le,0),es=V,Ye=Be(ee,je,0),rt=ee;var gt=Be(Dt,pt,0);Ve(L,I,Xe-257),Ve(L,I+5,ot-1),Ve(L,I+10,Ge-4),I+=14;for(var We=0;We<Ge;++We)Ve(L,I+3*We,Dt[E[We]]);I+=3*Ge;for(var xt=[ze,ct],ss=0;ss<2;++ss)for(var us=xt[ss],We=0;We<us.length;++We){var xs=us[We]&31;Ve(L,I,gt[xs]),I+=Dt[xs],xs>15&&(Ve(L,I,us[We]>>5&127),I+=us[We]>>12)}}else bt=pe,es=fe,Ye=de,rt=Se;for(var We=0;We<N;++We){var Vt=ie[We];if(Vt>255){var xs=Vt>>18&31;Nt(L,I,bt[xs+257]),I+=es[xs+257],xs>7&&(Ve(L,I,Vt>>23&31),I+=y[xs]);var fs=Vt&31;Nt(L,I,Ye[fs]),I+=rt[fs],fs>3&&(Nt(L,I,Vt>>5&8191),I+=w[fs])}else Nt(L,I,bt[Vt]),I+=es[Vt]}return Nt(L,I,bt[256]),I+es[256]},$e=new v([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Bt=new p(0),Qt=function(T,L,z,ie,ve,De){var Je=De.z||T.length,N=new p(ie+Je+5*(1+Math.ceil(Je/7e3))+ve),b=N.subarray(ie,N.length-ve),S=De.l,I=(De.r||0)&7;if(L){I&&(b[0]=De.r>>3);for(var R=$e[L-1],V=R>>13,le=R&8191,q=(1<<z)-1,ee=De.p||new x(32768),je=De.h||new x(q+1),Le=Math.ceil(z/3),ze=2*Le,Xe=function(Wt){return(T[Wt]^T[Wt+1]<<Le^T[Wt+2]<<ze)&q},xe=new v(25e3),ct=new x(288),ot=new x(32),At=0,We=0,yt=De.i||0,Dt=0,pt=De.w||0,Ge=0;yt+2<Je;++yt){var Ft=Xe(yt),is=yt&32767,Ht=je[Ft];if(ee[is]=Ht,je[Ft]=is,pt<=yt){var bt=Je-yt;if((At>7e3||Dt>24576)&&(bt>423||!S)){I=vt(T,b,0,xe,ct,ot,We,Dt,Ge,yt-Ge,I),Dt=At=We=0,Ge=yt;for(var es=0;es<286;++es)ct[es]=0;for(var es=0;es<30;++es)ot[es]=0}var Ye=2,rt=0,gt=le,xt=is-Ht&32767;if(bt>2&&Ft==Xe(yt-xt))for(var ss=Math.min(V,bt)-1,us=Math.min(32767,yt),xs=Math.min(258,bt);xt<=us&&--gt&&is!=Ht;){if(T[yt+Ye]==T[yt+Ye-xt]){for(var Vt=0;Vt<xs&&T[yt+Vt]==T[yt+Vt-xt];++Vt);if(Vt>Ye){if(Ye=Vt,rt=xt,Vt>ss)break;for(var fs=Math.min(xt,Vt-2),Js=0,es=0;es<fs;++es){var _s=yt-xt+es&32767,_e=ee[_s],dt=_s-_e&32767;dt>Js&&(Js=dt,Ht=_s)}}}is=Ht,Ht=ee[is],xt+=is-Ht&32767}if(rt){xe[Dt++]=268435456|J[Ye]<<18|ce[rt];var ht=J[Ye]&31,Mt=ce[rt]&31;We+=y[ht]+w[Mt],++ct[257+ht],++ot[Mt],pt=yt+Ye,++At}else xe[Dt++]=T[yt],++ct[T[yt]]}}for(yt=Math.max(yt,pt);yt<Je;++yt)xe[Dt++]=T[yt],++ct[T[yt]];I=vt(T,b,S,xe,ct,ot,We,Dt,Ge,yt-Ge,I),S||(De.r=I&7|b[I/8|0]<<3,I-=7,De.h=je,De.p=ee,De.i=yt,De.w=pt)}else{for(var yt=De.w||0;yt<Je+S;yt+=65535){var Rt=yt+65535;Rt>=Je&&(b[I/8|0]=S,Rt=Je),I=ls(b,I+1,T.subarray(yt,Rt))}De.i=Je}return we(N,0,ie+me(I)+ve)},ks=(function(){for(var T=new Int32Array(256),L=0;L<256;++L){for(var z=L,ie=9;--ie;)z=(z&1&&-306674912)^z>>>1;T[L]=z}return T})(),zs=function(){var T=-1;return{p:function(L){for(var z=T,ie=0;ie<L.length;++ie)z=ks[z&255^L[ie]]^z>>>8;T=z},d:function(){return~T}}},yr=function(){var T=1,L=0;return{p:function(z){for(var ie=T,ve=L,De=z.length|0,Je=0;Je!=De;){for(var N=Math.min(Je+2655,De);Je<N;++Je)ve+=ie+=z[Je];ie=(ie&65535)+15*(ie>>16),ve=(ve&65535)+15*(ve>>16)}T=ie,L=ve},d:function(){return T%=65521,L%=65521,(T&255)<<24|(T&65280)<<8|(L&255)<<8|L>>8}}},mr=function(T,L,z,ie,ve){if(!ve&&(ve={l:1},L.dictionary)){var De=L.dictionary.subarray(-32768),Je=new p(De.length+T.length);Je.set(De),Je.set(T,De.length),T=Je,ve.w=De.length}return Qt(T,L.level==null?6:L.level,L.mem==null?ve.l?Math.ceil(Math.max(8,Math.min(13,Math.log(T.length)))*1.5):20:12+L.mem,z,ie,ve)},ar=function(T,L){var z={};for(var ie in T)z[ie]=T[ie];for(var ie in L)z[ie]=L[ie];return z},$s=function(T,L,z){for(var ie=T(),ve=T.toString(),De=ve.slice(ve.indexOf("[")+1,ve.lastIndexOf("]")).replace(/\s+/g,"").split(","),Je=0;Je<ie.length;++Je){var N=ie[Je],b=De[Je];if(typeof N=="function"){L+=";"+b+"=";var S=N.toString();if(N.prototype)if(S.indexOf("[native code]")!=-1){var I=S.indexOf(" ",8)+1;L+=S.slice(I,S.indexOf("(",I))}else{L+=S;for(var R in N.prototype)L+=";"+b+".prototype."+R+"="+N.prototype[R].toString()}else L+=S}else z[b]=N}return L},As=[],Rs=function(T){var L=[];for(var z in T)T[z].buffer&&L.push((T[z]=new T[z].constructor(T[z])).buffer);return L},br=function(T,L,z,ie){if(!As[z]){for(var ve="",De={},Je=T.length-1,N=0;N<Je;++N)ve=$s(T[N],ve,De);As[z]={c:$s(T[Je],ve,De),e:De}}var b=ar({},As[z].e);return m(As[z].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+L.toString()+"}",z,b,Rs(b),ie)},js=function(){return[p,x,v,y,w,E,Z,G,ae,oe,Ae,te,Be,Ee,Re,ke,me,we,ge,Me,In,Gt,vs]},qs=function(){return[p,x,v,y,w,E,J,ce,pe,fe,de,Se,Ae,$e,Bt,Be,Ve,Nt,ut,et,Lt,ns,ls,vt,me,we,Qt,mr,la,Gt]},hr=function(){return[Ks,tn,hs,zs,ks]},rr=function(){return[Vs,pr]},Xs=function(){return[Ns,hs,yr]},Es=function(){return[Is]},Gt=function(T){return postMessage(T,[T.buffer])},vs=function(T){return T&&{out:T.size&&new p(T.size),dictionary:T.dictionary}},Ms=function(T,L,z,ie,ve,De){var Je=br(z,ie,ve,function(N,b){Je.terminate(),De(N,b)});return Je.postMessage([T,L],L.consume?[T.buffer]:[]),function(){Je.terminate()}},Gs=function(T){return T.ondata=function(L,z){return postMessage([L,z],[L.buffer])},function(L){L.data.length?(T.push(L.data[0],L.data[1]),postMessage([L.data[0].length])):T.flush()}},fr=function(T,L,z,ie,ve,De,Je){var N,b=br(T,ie,ve,function(S,I){S?(b.terminate(),L.ondata.call(L,S)):Array.isArray(I)?I.length==1?(L.queuedSize-=I[0],L.ondrain&&L.ondrain(I[0])):(I[1]&&b.terminate(),L.ondata.call(L,S,I[0],I[1])):Je(I)});b.postMessage(z),L.queuedSize=0,L.push=function(S,I){L.ondata||ge(5),N&&L.ondata(ge(4,0,1),null,!!I),L.queuedSize+=S.length,b.postMessage([S,N=I],[S.buffer])},L.terminate=function(){b.terminate()},De&&(L.flush=function(){b.postMessage([])})},Ct=function(T,L){return T[L]|T[L+1]<<8},Zt=function(T,L){return(T[L]|T[L+1]<<8|T[L+2]<<16|T[L+3]<<24)>>>0},ds=function(T,L){return Zt(T,L)+Zt(T,L+4)*4294967296},hs=function(T,L,z){for(;z;++L)T[L]=z,z>>>=8},Ks=function(T,L){var z=L.filename;if(T[0]=31,T[1]=139,T[2]=8,T[8]=L.level<2?4:L.level==9?2:0,T[9]=3,L.mtime!=0&&hs(T,4,Math.floor(new Date(L.mtime||Date.now())/1e3)),z){T[3]=8;for(var ie=0;ie<=z.length;++ie)T[ie+10]=z.charCodeAt(ie)}},Vs=function(T){(T[0]!=31||T[1]!=139||T[2]!=8)&&ge(6,"invalid gzip data");var L=T[3],z=10;L&4&&(z+=(T[10]|T[11]<<8)+2);for(var ie=(L>>3&1)+(L>>4&1);ie>0;ie-=!T[z++]);return z+(L&2)},pr=function(T){var L=T.length;return(T[L-4]|T[L-3]<<8|T[L-2]<<16|T[L-1]<<24)>>>0},tn=function(T){return 10+(T.filename?T.filename.length+1:0)},Ns=function(T,L){var z=L.level,ie=z==0?0:z<6?1:z==9?3:2;if(T[0]=120,T[1]=ie<<6|(L.dictionary&&32),T[1]|=31-(T[0]<<8|T[1])%31,L.dictionary){var ve=yr();ve.p(L.dictionary),hs(T,2,ve.d())}},Is=function(T,L){return((T[0]&15)!=8||T[0]>>4>7||(T[0]<<8|T[1])%31)&&ge(6,"invalid zlib data"),(T[1]>>5&1)==+!L&&ge(6,"invalid zlib data: "+(T[1]&32?"need":"unexpected")+" dictionary"),(T[1]>>3&4)+2};function kr(T,L){return typeof T=="function"&&(L=T,T={}),this.ondata=L,T}var nr=(function(){function T(L,z){if(typeof L=="function"&&(z=L,L={}),this.ondata=z,this.o=L||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new p(98304),this.o.dictionary){var ie=this.o.dictionary.subarray(-32768);this.b.set(ie,32768-ie.length),this.s.i=32768-ie.length}}return T.prototype.p=function(L,z){this.ondata(mr(L,this.o,0,0,this.s),z)},T.prototype.push=function(L,z){this.ondata||ge(5),this.s.l&&ge(4);var ie=L.length+this.s.z;if(ie>this.b.length){if(ie>2*this.b.length-32768){var ve=new p(ie&-32768);ve.set(this.b.subarray(0,this.s.z)),this.b=ve}var De=this.b.length-this.s.z;this.b.set(L.subarray(0,De),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(L.subarray(De),32768),this.s.z=L.length-De+32768,this.s.i=32766,this.s.w=32768}else this.b.set(L,this.s.z),this.s.z+=L.length;this.s.l=z&1,(this.s.z>this.s.w+8191||z)&&(this.p(this.b,z||!1),this.s.w=this.s.i,this.s.i-=2)},T.prototype.flush=function(){this.ondata||ge(5),this.s.l&&ge(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},T})(),Ts=(function(){function T(L,z){fr([qs,function(){return[Gs,nr]}],this,kr.call(this,L,z),function(ie){var ve=new nr(ie.data);onmessage=Gs(ve)},6,1)}return T})();function Lr(T,L,z){return z||(z=L,L={}),typeof z!="function"&&ge(7),Ms(T,L,[qs],function(ie){return Gt(la(ie.data[0],ie.data[1]))},0,z)}function la(T,L){return mr(T,L||{},0,0)}var gr=(function(){function T(L,z){typeof L=="function"&&(z=L,L={}),this.ondata=z;var ie=L&&L.dictionary&&L.dictionary.subarray(-32768);this.s={i:0,b:ie?ie.length:0},this.o=new p(32768),this.p=new p(0),ie&&this.o.set(ie)}return T.prototype.e=function(L){if(this.ondata||ge(5),this.d&&ge(4),!this.p.length)this.p=L;else if(L.length){var z=new p(this.p.length+L.length);z.set(this.p),z.set(L,this.p.length),this.p=z}},T.prototype.c=function(L){this.s.i=+(this.d=L||!1);var z=this.s.b,ie=Me(this.p,this.s,this.o);this.ondata(we(ie,z,this.s.b),this.d),this.o=we(ie,this.s.b-32768),this.s.b=this.o.length,this.p=we(this.p,this.s.p/8|0),this.s.p&=7},T.prototype.push=function(L,z){this.e(L),this.c(z)},T})(),qa=(function(){function T(L,z){fr([js,function(){return[Gs,gr]}],this,kr.call(this,L,z),function(ie){var ve=new gr(ie.data);onmessage=Gs(ve)},7,0)}return T})();function yn(T,L,z){return z||(z=L,L={}),typeof z!="function"&&ge(7),Ms(T,L,[js],function(ie){return Gt(In(ie.data[0],vs(ie.data[1])))},1,z)}function In(T,L){return Me(T,{i:2},L&&L.out,L&&L.dictionary)}var $n=(function(){function T(L,z){this.c=zs(),this.l=0,this.v=1,nr.call(this,L,z)}return T.prototype.push=function(L,z){this.c.p(L),this.l+=L.length,nr.prototype.push.call(this,L,z)},T.prototype.p=function(L,z){var ie=mr(L,this.o,this.v&&tn(this.o),z&&8,this.s);this.v&&(Ks(ie,this.o),this.v=0),z&&(hs(ie,ie.length-8,this.c.d()),hs(ie,ie.length-4,this.l)),this.ondata(ie,z)},T.prototype.flush=function(){nr.prototype.flush.call(this)},T})(),Nn=(function(){function T(L,z){fr([qs,hr,function(){return[Gs,nr,$n]}],this,kr.call(this,L,z),function(ie){var ve=new $n(ie.data);onmessage=Gs(ve)},8,1)}return T})();function ga(T,L,z){return z||(z=L,L={}),typeof z!="function"&&ge(7),Ms(T,L,[qs,hr,function(){return[Zn]}],function(ie){return Gt(Zn(ie.data[0],ie.data[1]))},2,z)}function Zn(T,L){L||(L={});var z=zs(),ie=T.length;z.p(T);var ve=mr(T,L,tn(L),8),De=ve.length;return Ks(ve,L),hs(ve,De-8,z.d()),hs(ve,De-4,ie),ve}var Oi=(function(){function T(L,z){this.v=1,this.r=0,gr.call(this,L,z)}return T.prototype.push=function(L,z){if(gr.prototype.e.call(this,L),this.r+=L.length,this.v){var ie=this.p.subarray(this.v-1),ve=ie.length>3?Vs(ie):4;if(ve>ie.length){if(!z)return}else this.v>1&&this.onmember&&this.onmember(this.r-ie.length);this.p=ie.subarray(ve),this.v=0}gr.prototype.c.call(this,z),this.s.f&&!this.s.l&&!z&&(this.v=me(this.s.p)+9,this.s={i:0},this.o=new p(0),this.push(new p(0),z))},T})(),Dn=(function(){function T(L,z){var ie=this;fr([js,rr,function(){return[Gs,gr,Oi]}],this,kr.call(this,L,z),function(ve){var De=new Oi(ve.data);De.onmember=function(Je){return postMessage(Je)},onmessage=Gs(De)},9,0,function(ve){return ie.onmember&&ie.onmember(ve)})}return T})();function hc(T,L,z){return z||(z=L,L={}),typeof z!="function"&&ge(7),Ms(T,L,[js,rr,function(){return[ii]}],function(ie){return Gt(ii(ie.data[0],ie.data[1]))},3,z)}function ii(T,L){var z=Vs(T);return z+8>T.length&&ge(6,"invalid gzip data"),Me(T.subarray(z,-8),{i:2},L&&L.out||new p(pr(T)),L&&L.dictionary)}var Eo=(function(){function T(L,z){this.c=yr(),this.v=1,nr.call(this,L,z)}return T.prototype.push=function(L,z){this.c.p(L),nr.prototype.push.call(this,L,z)},T.prototype.p=function(L,z){var ie=mr(L,this.o,this.v&&(this.o.dictionary?6:2),z&&4,this.s);this.v&&(Ns(ie,this.o),this.v=0),z&&hs(ie,ie.length-4,this.c.d()),this.ondata(ie,z)},T.prototype.flush=function(){nr.prototype.flush.call(this)},T})(),Vl=(function(){function T(L,z){fr([qs,Xs,function(){return[Gs,nr,Eo]}],this,kr.call(this,L,z),function(ie){var ve=new Eo(ie.data);onmessage=Gs(ve)},10,1)}return T})();function uo(T,L,z){return z||(z=L,L={}),typeof z!="function"&&ge(7),Ms(T,L,[qs,Xs,function(){return[fa]}],function(ie){return Gt(fa(ie.data[0],ie.data[1]))},4,z)}function fa(T,L){L||(L={});var z=yr();z.p(T);var ie=mr(T,L,L.dictionary?6:2,4);return Ns(ie,L),hs(ie,ie.length-4,z.d()),ie}var ji=(function(){function T(L,z){gr.call(this,L,z),this.v=L&&L.dictionary?2:1}return T.prototype.push=function(L,z){if(gr.prototype.e.call(this,L),this.v){if(this.p.length<6&&!z)return;this.p=this.p.subarray(Is(this.p,this.v-1)),this.v=0}z&&(this.p.length<4&&ge(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),gr.prototype.c.call(this,z)},T})(),sa=(function(){function T(L,z){fr([js,Es,function(){return[Gs,gr,ji]}],this,kr.call(this,L,z),function(ie){var ve=new ji(ie.data);onmessage=Gs(ve)},11,0)}return T})();function Ta(T,L,z){return z||(z=L,L={}),typeof z!="function"&&ge(7),Ms(T,L,[js,Es,function(){return[qn]}],function(ie){return Gt(qn(ie.data[0],vs(ie.data[1])))},5,z)}function qn(T,L){return Me(T.subarray(Is(T,L&&L.dictionary),-4),{i:2},L&&L.out,L&&L.dictionary)}var Ao=(function(){function T(L,z){this.o=kr.call(this,L,z)||{},this.G=Oi,this.I=gr,this.Z=ji}return T.prototype.i=function(){var L=this;this.s.ondata=function(z,ie){L.ondata(z,ie)}},T.prototype.push=function(L,z){if(this.ondata||ge(5),this.s)this.s.push(L,z);else{if(this.p&&this.p.length){var ie=new p(this.p.length+L.length);ie.set(this.p),ie.set(L,this.p.length)}else this.p=L;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,z),this.p=null)}},T})(),ui=(function(){function T(L,z){Ao.call(this,L,z),this.queuedSize=0,this.G=Dn,this.I=qa,this.Z=sa}return T.prototype.i=function(){var L=this;this.s.ondata=function(z,ie,ve){L.ondata(z,ie,ve)},this.s.ondrain=function(z){L.queuedSize-=z,L.ondrain&&L.ondrain(z)}},T.prototype.push=function(L,z){this.queuedSize+=L.length,Ao.prototype.push.call(this,L,z)},T})();function Ni(T,L,z){return z||(z=L,L={}),typeof z!="function"&&ge(7),T[0]==31&&T[1]==139&&T[2]==8?hc(T,L,z):(T[0]&15)!=8||T[0]>>4>7||(T[0]<<8|T[1])%31?yn(T,L,z):Ta(T,L,z)}function ul(T,L){return T[0]==31&&T[1]==139&&T[2]==8?ii(T,L):(T[0]&15)!=8||T[0]>>4>7||(T[0]<<8|T[1])%31?In(T,L):qn(T,L)}var Zo=function(T,L,z,ie){for(var ve in T){var De=T[ve],Je=L+ve,N=ie;Array.isArray(De)&&(N=ar(ie,De[1]),De=De[0]),De instanceof p?z[Je]=[De,N]:(z[Je+="/"]=[new p(0),N],Zo(De,Je,z,ie))}},El=typeof TextEncoder<"u"&&new TextEncoder,xa=typeof TextDecoder<"u"&&new TextDecoder,wa=0;try{xa.decode(Bt,{stream:!0}),wa=1}catch{}var ho=function(T){for(var L="",z=0;;){var ie=T[z++],ve=(ie>127)+(ie>223)+(ie>239);if(z+ve>T.length)return{s:L,r:we(T,z-1)};ve?ve==3?(ie=((ie&15)<<18|(T[z++]&63)<<12|(T[z++]&63)<<6|T[z++]&63)-65536,L+=String.fromCharCode(55296|ie>>10,56320|ie&1023)):ve&1?L+=String.fromCharCode((ie&31)<<6|T[z++]&63):L+=String.fromCharCode((ie&15)<<12|(T[z++]&63)<<6|T[z++]&63):L+=String.fromCharCode(ie)}},ei=(function(){function T(L){this.ondata=L,wa?this.t=new TextDecoder:this.p=Bt}return T.prototype.push=function(L,z){if(this.ondata||ge(5),z=!!z,this.t){this.ondata(this.t.decode(L,{stream:!0}),z),z&&(this.t.decode().length&&ge(8),this.t=null);return}this.p||ge(4);var ie=new p(this.p.length+L.length);ie.set(this.p),ie.set(L,this.p.length);var ve=ho(ie),De=ve.s,Je=ve.r;z?(Je.length&&ge(8),this.p=null):this.p=Je,this.ondata(De,z)},T})(),Ii=(function(){function T(L){this.ondata=L}return T.prototype.push=function(L,z){this.ondata||ge(5),this.d&&ge(4),this.ondata(Ai(L),this.d=z||!1)},T})();function Ai(T,L){if(L){for(var z=new p(T.length),ie=0;ie<T.length;++ie)z[ie]=T.charCodeAt(ie);return z}if(El)return El.encode(T);for(var ve=T.length,De=new p(T.length+(T.length>>1)),Je=0,N=function(I){De[Je++]=I},ie=0;ie<ve;++ie){if(Je+5>De.length){var b=new p(Je+8+(ve-ie<<1));b.set(De),De=b}var S=T.charCodeAt(ie);S<128||L?N(S):S<2048?(N(192|S>>6),N(128|S&63)):S>55295&&S<57344?(S=65536+(S&1047552)|T.charCodeAt(++ie)&1023,N(240|S>>18),N(128|S>>12&63),N(128|S>>6&63),N(128|S&63)):(N(224|S>>12),N(128|S>>6&63),N(128|S&63))}return we(De,0,Je)}function Yr(T,L){if(L){for(var z="",ie=0;ie<T.length;ie+=16384)z+=String.fromCharCode.apply(null,T.subarray(ie,ie+16384));return z}else{if(xa)return xa.decode(T);var ve=ho(T),De=ve.s,z=ve.r;return z.length&&ge(8),De}}var Va=function(T){return T==1?3:T<6?2:T==9?1:0},Ci=function(T,L){return L+30+Ct(T,L+26)+Ct(T,L+28)},Ra=function(T,L,z){var ie=Ct(T,L+28),ve=Yr(T.subarray(L+46,L+46+ie),!(Ct(T,L+8)&2048)),De=L+46+ie,Je=Zt(T,L+20),N=z&&Je==4294967295?fo(T,De):[Je,Zt(T,L+24),Zt(T,L+42)],b=N[0],S=N[1],I=N[2];return[Ct(T,L+10),b,S,ve,De+Ct(T,L+30)+Ct(T,L+32),I]},fo=function(T,L){for(;Ct(T,L)!=1;L+=4+Ct(T,L+2));return[ds(T,L+12),ds(T,L+4),ds(T,L+20)]},Gn=function(T){var L=0;if(T)for(var z in T){var ie=T[z].length;ie>65535&&ge(9),L+=ie+4}return L},Ki=function(T,L,z,ie,ve,De,Je,N){var b=ie.length,S=z.extra,I=N&&N.length,R=Gn(S);hs(T,L,Je!=null?33639248:67324752),L+=4,Je!=null&&(T[L++]=20,T[L++]=z.os),T[L]=20,L+=2,T[L++]=z.flag<<1|(De<0&&8),T[L++]=ve&&8,T[L++]=z.compression&255,T[L++]=z.compression>>8;var V=new Date(z.mtime==null?Date.now():z.mtime),le=V.getFullYear()-1980;if((le<0||le>119)&&ge(10),hs(T,L,le<<25|V.getMonth()+1<<21|V.getDate()<<16|V.getHours()<<11|V.getMinutes()<<5|V.getSeconds()>>1),L+=4,De!=-1&&(hs(T,L,z.crc),hs(T,L+4,De<0?-De-2:De),hs(T,L+8,z.size)),hs(T,L+12,b),hs(T,L+14,R),L+=16,Je!=null&&(hs(T,L,I),hs(T,L+6,z.attrs),hs(T,L+10,Je),L+=14),T.set(ie,L),L+=b,R)for(var q in S){var ee=S[q],je=ee.length;hs(T,L,+q),hs(T,L+2,je),T.set(ee,L+4),L+=4+je}return I&&(T.set(N,L),L+=I),L},Ka=function(T,L,z,ie,ve){hs(T,L,101010256),hs(T,L+8,z),hs(T,L+10,z),hs(T,L+12,ie),hs(T,L+16,ve)},Ia=(function(){function T(L){this.filename=L,this.c=zs(),this.size=0,this.compression=0}return T.prototype.process=function(L,z){this.ondata(null,L,z)},T.prototype.push=function(L,z){this.ondata||ge(5),this.c.p(L),this.size+=L.length,z&&(this.crc=this.c.d()),this.process(L,z||!1)},T})(),hi=(function(){function T(L,z){var ie=this;z||(z={}),Ia.call(this,L),this.d=new nr(z,function(ve,De){ie.ondata(null,ve,De)}),this.compression=8,this.flag=Va(z.level)}return T.prototype.process=function(L,z){try{this.d.push(L,z)}catch(ie){this.ondata(ie,null,z)}},T.prototype.push=function(L,z){Ia.prototype.push.call(this,L,z)},T})(),To=(function(){function T(L,z){var ie=this;z||(z={}),Ia.call(this,L),this.d=new Ts(z,function(ve,De,Je){ie.ondata(ve,De,Je)}),this.compression=8,this.flag=Va(z.level),this.terminate=this.d.terminate}return T.prototype.process=function(L,z){this.d.push(L,z)},T.prototype.push=function(L,z){Ia.prototype.push.call(this,L,z)},T})(),Bi=(function(){function T(L){this.ondata=L,this.u=[],this.d=1}return T.prototype.add=function(L){var z=this;if(this.ondata||ge(5),this.d&2)this.ondata(ge(4+(this.d&1)*8,0,1),null,!1);else{var ie=Ai(L.filename),ve=ie.length,De=L.comment,Je=De&&Ai(De),N=ve!=L.filename.length||Je&&De.length!=Je.length,b=ve+Gn(L.extra)+30;ve>65535&&this.ondata(ge(11,0,1),null,!1);var S=new p(b);Ki(S,0,L,ie,N,-1);var I=[S],R=function(){for(var je=0,Le=I;je<Le.length;je++){var ze=Le[je];z.ondata(null,ze,!1)}I=[]},V=this.d;this.d=0;var le=this.u.length,q=ar(L,{f:ie,u:N,o:Je,t:function(){L.terminate&&L.terminate()},r:function(){if(R(),V){var je=z.u[le+1];je?je.r():z.d=1}V=1}}),ee=0;L.ondata=function(je,Le,ze){if(je)z.ondata(je,Le,ze),z.terminate();else if(ee+=Le.length,I.push(Le),ze){var Xe=new p(16);hs(Xe,0,134695760),hs(Xe,4,L.crc),hs(Xe,8,ee),hs(Xe,12,L.size),I.push(Xe),q.c=ee,q.b=b+ee+16,q.crc=L.crc,q.size=L.size,V&&q.r(),V=1}else V&&R()},this.u.push(q)}},T.prototype.end=function(){var L=this;if(this.d&2){this.ondata(ge(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){L.d&1&&(L.u.splice(-1,1),L.e())},t:function(){}}),this.d=3},T.prototype.e=function(){for(var L=0,z=0,ie=0,ve=0,De=this.u;ve<De.length;ve++){var Je=De[ve];ie+=46+Je.f.length+Gn(Je.extra)+(Je.o?Je.o.length:0)}for(var N=new p(ie+22),b=0,S=this.u;b<S.length;b++){var Je=S[b];Ki(N,L,Je,Je.f,Je.u,-Je.c-2,z,Je.o),L+=46+Je.f.length+Gn(Je.extra)+(Je.o?Je.o.length:0),z+=Je.b}Ka(N,L,this.u.length,ie,z),this.ondata(null,N,!0),this.d=2},T.prototype.terminate=function(){for(var L=0,z=this.u;L<z.length;L++){var ie=z[L];ie.t()}this.d=2},T})();function ba(T,L,z){z||(z=L,L={}),typeof z!="function"&&ge(7);var ie={};Zo(T,"",ie,L);var ve=Object.keys(ie),De=ve.length,Je=0,N=0,b=De,S=new Array(De),I=[],R=function(){for(var je=0;je<I.length;++je)I[je]()},V=function(je,Le){M(function(){z(je,Le)})};M(function(){V=z});var le=function(){var je=new p(N+22),Le=Je,ze=N-Je;N=0;for(var Xe=0;Xe<b;++Xe){var xe=S[Xe];try{var ct=xe.c.length;Ki(je,N,xe,xe.f,xe.u,ct);var ot=30+xe.f.length+Gn(xe.extra),At=N+ot;je.set(xe.c,At),Ki(je,Je,xe,xe.f,xe.u,ct,N,xe.m),Je+=16+ot+(xe.m?xe.m.length:0),N=At+ct}catch(We){return V(We,null)}}Ka(je,Je,S.length,ze,Le),V(null,je)};De||le();for(var q=function(je){var Le=ve[je],ze=ie[Le],Xe=ze[0],xe=ze[1],ct=zs(),ot=Xe.length;ct.p(Xe);var At=Ai(Le),We=At.length,yt=xe.comment,Dt=yt&&Ai(yt),pt=Dt&&Dt.length,Ge=Gn(xe.extra),Ft=xe.level==0?0:8,is=function(Ht,bt){if(Ht)R(),V(Ht,null);else{var es=bt.length;S[je]=ar(xe,{size:ot,crc:ct.d(),c:bt,f:At,m:Dt,u:We!=Le.length||Dt&&yt.length!=pt,compression:Ft}),Je+=30+We+Ge+es,N+=76+2*(We+Ge)+(pt||0)+es,--De||le()}};if(We>65535&&is(ge(11,0,1),null),!Ft)is(null,Xe);else if(ot<16e4)try{is(null,la(Xe,xe))}catch(Ht){is(Ht,null)}else I.push(Lr(Xe,xe,is))},ee=0;ee<b;++ee)q(ee);return R}function fi(T,L){L||(L={});var z={},ie=[];Zo(T,"",z,L);var ve=0,De=0;for(var Je in z){var N=z[Je],b=N[0],S=N[1],I=S.level==0?0:8,R=Ai(Je),V=R.length,le=S.comment,q=le&&Ai(le),ee=q&&q.length,je=Gn(S.extra);V>65535&&ge(11);var Le=I?la(b,S):b,ze=Le.length,Xe=zs();Xe.p(b),ie.push(ar(S,{size:b.length,crc:Xe.d(),c:Le,f:R,m:q,u:V!=Je.length||q&&le.length!=ee,o:ve,compression:I})),ve+=30+V+je+ze,De+=76+2*(V+je)+(ee||0)+ze}for(var xe=new p(De+22),ct=ve,ot=De-ve,At=0;At<ie.length;++At){var R=ie[At];Ki(xe,R.o,R,R.f,R.u,R.c.length);var We=30+R.f.length+Gn(R.extra);xe.set(R.c,R.o+We),Ki(xe,ve,R,R.f,R.u,R.c.length,R.o,R.m),ve+=16+We+(R.m?R.m.length:0)}return Ka(xe,ve,ie.length,ot,ct),xe}var qi=(function(){function T(){}return T.prototype.push=function(L,z){this.ondata(null,L,z)},T.compression=0,T})(),ki=(function(){function T(){var L=this;this.i=new gr(function(z,ie){L.ondata(null,z,ie)})}return T.prototype.push=function(L,z){try{this.i.push(L,z)}catch(ie){this.ondata(ie,null,z)}},T.compression=8,T})(),io=(function(){function T(L,z){var ie=this;z<32e4?this.i=new gr(function(ve,De){ie.ondata(null,ve,De)}):(this.i=new qa(function(ve,De,Je){ie.ondata(ve,De,Je)}),this.terminate=this.i.terminate)}return T.prototype.push=function(L,z){this.i.terminate&&(L=we(L,0)),this.i.push(L,z)},T.compression=8,T})(),Et=(function(){function T(L){this.onfile=L,this.k=[],this.o={0:qi},this.p=Bt}return T.prototype.push=function(L,z){var ie=this;if(this.onfile||ge(5),this.p||ge(4),this.c>0){var ve=Math.min(this.c,L.length),De=L.subarray(0,ve);if(this.c-=ve,this.d?this.d.push(De,!this.c):this.k[0].push(De),L=L.subarray(ve),L.length)return this.push(L,z)}else{var Je=0,N=0,b=void 0,S=void 0;this.p.length?L.length?(S=new p(this.p.length+L.length),S.set(this.p),S.set(L,this.p.length)):S=this.p:S=L;for(var I=S.length,R=this.c,V=R&&this.d,le=function(){var Le,ze=Zt(S,N);if(ze==67324752){Je=1,b=N,q.d=null,q.c=0;var Xe=Ct(S,N+6),xe=Ct(S,N+8),ct=Xe&2048,ot=Xe&8,At=Ct(S,N+26),We=Ct(S,N+28);if(I>N+30+At+We){var yt=[];q.k.unshift(yt),Je=2;var Dt=Zt(S,N+18),pt=Zt(S,N+22),Ge=Yr(S.subarray(N+30,N+=30+At),!ct);Dt==4294967295?(Le=ot?[-2]:fo(S,N),Dt=Le[0],pt=Le[1]):ot&&(Dt=-1),N+=We,q.c=Dt;var Ft,is={name:Ge,compression:xe,start:function(){if(is.ondata||ge(5),!Dt)is.ondata(null,Bt,!0);else{var Ht=ie.o[xe];Ht||is.ondata(ge(14,"unknown compression type "+xe,1),null,!1),Ft=Dt<0?new Ht(Ge):new Ht(Ge,Dt,pt),Ft.ondata=function(rt,gt,xt){is.ondata(rt,gt,xt)};for(var bt=0,es=yt;bt<es.length;bt++){var Ye=es[bt];Ft.push(Ye,!1)}ie.k[0]==yt&&ie.c?ie.d=Ft:Ft.push(Bt,!0)}},terminate:function(){Ft&&Ft.terminate&&Ft.terminate()}};Dt>=0&&(is.size=Dt,is.originalSize=pt),q.onfile(is)}return"break"}else if(R){if(ze==134695760)return b=N+=12+(R==-2&&8),Je=3,q.c=0,"break";if(ze==33639248)return b=N-=4,Je=3,q.c=0,"break"}},q=this;N<I-4;++N){var ee=le();if(ee==="break")break}if(this.p=Bt,R<0){var je=Je?S.subarray(0,b-12-(R==-2&&8)-(Zt(S,b-16)==134695760&&4)):S.subarray(0,N);V?V.push(je,!!Je):this.k[+(Je==2)].push(je)}if(Je&2)return this.push(S.subarray(N),z);this.p=S.subarray(N)}z&&(this.c&&ge(13),this.p=null)},T.prototype.register=function(L){this.o[L.compression]=L},T})(),M=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(T){T()};function $(T,L,z){z||(z=L,L={}),typeof z!="function"&&ge(7);var ie=[],ve=function(){for(var je=0;je<ie.length;++je)ie[je]()},De={},Je=function(je,Le){M(function(){z(je,Le)})};M(function(){Je=z});for(var N=T.length-22;Zt(T,N)!=101010256;--N)if(!N||T.length-N>65558)return Je(ge(13,0,1),null),ve;var b=Ct(T,N+8);if(b){var S=b,I=Zt(T,N+16),R=I==4294967295||S==65535;if(R){var V=Zt(T,N-12);R=Zt(T,V)==101075792,R&&(S=b=Zt(T,V+32),I=Zt(T,V+48))}for(var le=L&&L.filter,q=function(je){var Le=Ra(T,I,R),ze=Le[0],Xe=Le[1],xe=Le[2],ct=Le[3],ot=Le[4],At=Le[5],We=Ci(T,At);I=ot;var yt=function(pt,Ge){pt?(ve(),Je(pt,null)):(Ge&&(De[ct]=Ge),--b||Je(null,De))};if(!le||le({name:ct,size:Xe,originalSize:xe,compression:ze}))if(!ze)yt(null,we(T,We,We+Xe));else if(ze==8){var Dt=T.subarray(We,We+Xe);if(xe<524288||Xe>.8*xe)try{yt(null,In(Dt,{out:new p(xe)}))}catch(pt){yt(pt,null)}else ie.push(yn(Dt,{size:xe},yt))}else yt(ge(14,"unknown compression type "+ze,1),null);else yt(null,null)},ee=0;ee<S;++ee)q(ee)}else Je(null,{});return ve}function Y(T,L){for(var z={},ie=T.length-22;Zt(T,ie)!=101010256;--ie)(!ie||T.length-ie>65558)&&ge(13);var ve=Ct(T,ie+8);if(!ve)return{};var De=Zt(T,ie+16),Je=De==4294967295||ve==65535;if(Je){var N=Zt(T,ie-12);Je=Zt(T,N)==101075792,Je&&(ve=Zt(T,N+32),De=Zt(T,N+48))}for(var b=L&&L.filter,S=0;S<ve;++S){var I=Ra(T,De,Je),R=I[0],V=I[1],le=I[2],q=I[3],ee=I[4],je=I[5],Le=Ci(T,je);De=ee,(!b||b({name:q,size:V,originalSize:le,compression:R}))&&(R?R==8?z[q]=In(T.subarray(Le,Le+V),{out:new p(le)}):ge(14,"unknown compression type "+R):z[q]=we(T,Le,Le+V))}return z}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(d,A,o){o.r(A),o.d(A,{IOBuffer:function(){return v}});var f=o("./node_modules/iobuffer/lib-esm/text.js");const m=1024*8,p=(()=>{const y=new Uint8Array(4),w=new Uint32Array(y.buffer);return!((w[0]=1)&y[0])})(),x={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class v{constructor(w=m,E={}){za(this,"buffer");za(this,"byteLength");za(this,"byteOffset");za(this,"length");za(this,"offset");za(this,"lastWrittenByte");za(this,"littleEndian");za(this,"_data");za(this,"_mark");za(this,"_marks");let Q=!1;typeof w=="number"?w=new ArrayBuffer(w):(Q=!0,this.lastWrittenByte=w.byteLength);const K=E.offset?E.offset>>>0:0,Z=w.byteLength-K;let J=K;(ArrayBuffer.isView(w)||w instanceof v)&&(w.byteLength!==w.buffer.byteLength&&(J=w.byteOffset+K),w=w.buffer),Q?this.lastWrittenByte=Z:this.lastWrittenByte=0,this.buffer=w,this.length=Z,this.byteLength=Z,this.byteOffset=J,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,J,Z),this._mark=0,this._marks=[]}available(w=1){return this.offset+w<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(w=1){return this.offset+=w,this}back(w=1){return this.offset-=w,this}seek(w){return this.offset=w,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const w=this._marks.pop();if(w===void 0)throw new Error("Mark stack empty");return this.seek(w),this}rewind(){return this.offset=0,this}ensureAvailable(w=1){if(!this.available(w)){const Q=(this.offset+w)*2,K=new Uint8Array(Q);K.set(new Uint8Array(this.buffer)),this.buffer=K.buffer,this.length=Q,this.byteLength=Q,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(w=1){return this.readArray(w,"uint8")}readArray(w,E){const Q=x[E].BYTES_PER_ELEMENT*w,K=this.byteOffset+this.offset,Z=this.buffer.slice(K,K+Q);if(this.littleEndian===p&&E!=="uint8"&&E!=="int8"){const H=new Uint8Array(this.buffer.slice(K,K+Q));H.reverse();const G=new x[E](H.buffer);return this.offset+=Q,G.reverse(),G}const J=new x[E](Z);return this.offset+=Q,J}readInt16(){const w=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,w}readUint16(){const w=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,w}readInt32(){const w=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,w}readUint32(){const w=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,w}readFloat32(){const w=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,w}readFloat64(){const w=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,w}readBigInt64(){const w=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,w}readBigUint64(){const w=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,w}readChar(){return String.fromCharCode(this.readInt8())}readChars(w=1){let E="";for(let Q=0;Q<w;Q++)E+=this.readChar();return E}readUtf8(w=1){return(0,f.decode)(this.readBytes(w))}decodeText(w=1,E="utf8"){return(0,f.decode)(this.readBytes(w),E)}writeBoolean(w){return this.writeUint8(w?255:0),this}writeInt8(w){return this.ensureAvailable(1),this._data.setInt8(this.offset++,w),this._updateLastWrittenByte(),this}writeUint8(w){return this.ensureAvailable(1),this._data.setUint8(this.offset++,w),this._updateLastWrittenByte(),this}writeByte(w){return this.writeUint8(w)}writeBytes(w){this.ensureAvailable(w.length);for(let E=0;E<w.length;E++)this._data.setUint8(this.offset++,w[E]);return this._updateLastWrittenByte(),this}writeInt16(w){return this.ensureAvailable(2),this._data.setInt16(this.offset,w,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(w){return this.ensureAvailable(2),this._data.setUint16(this.offset,w,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(w){return this.ensureAvailable(4),this._data.setInt32(this.offset,w,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(w){return this.ensureAvailable(4),this._data.setUint32(this.offset,w,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(w){return this.ensureAvailable(4),this._data.setFloat32(this.offset,w,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(w){return this.ensureAvailable(8),this._data.setFloat64(this.offset,w,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(w){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,w,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(w){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,w,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(w){return this.writeUint8(w.charCodeAt(0))}writeChars(w){for(let E=0;E<w.length;E++)this.writeUint8(w.charCodeAt(E));return this}writeUtf8(w){return this.writeBytes((0,f.encode)(w))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(d,A,o){o.r(A),o.d(A,{decode:function(){return f},encode:function(){return p}});function f(x,v="utf8"){return new TextDecoder(v).decode(x)}const m=new TextEncoder;function p(x){return m.encode(x)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(d,A,o){o.r(A),o.d(A,{AcroForm:function(){return la},AcroFormAppearance:function(){return Ts},AcroFormButton:function(){return Vs},AcroFormCheckBox:function(){return Is},AcroFormChoiceField:function(){return Zt},AcroFormComboBox:function(){return hs},AcroFormEditBox:function(){return Ks},AcroFormListBox:function(){return ds},AcroFormPasswordField:function(){return nr},AcroFormPushButton:function(){return pr},AcroFormRadioButton:function(){return tn},AcroFormTextField:function(){return kr},GState:function(){return Me},ShadingPattern:function(){return Nt},TilingPattern:function(){return ut},default:function(){return et},jsPDF:function(){return et}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),m=o("./node_modules/fflate/esm/browser.js"),p=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),x=o("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var v=(function(){return typeof window<"u"?window:typeof k0<"u"?k0:typeof self<"u"?self:this})();function y(){v.console&&typeof v.console.log=="function"&&v.console.log.apply(v.console,arguments)}var w={log:y,warn:function(N){v.console&&(typeof v.console.warn=="function"?v.console.warn.apply(v.console,arguments):y.call(null,arguments))},error:function(N){v.console&&(typeof v.console.error=="function"?v.console.error.apply(v.console,arguments):y(N))}};function E(N,b,S){var I=new XMLHttpRequest;I.open("GET",N),I.responseType="blob",I.onload=function(){Z(I.response,b,S)},I.onerror=function(){w.error("could not download file")},I.send()}function Q(N){var b=new XMLHttpRequest;b.open("HEAD",N,!1);try{b.send()}catch{}return b.status>=200&&b.status<=299}function K(N){try{N.dispatchEvent(new MouseEvent("click"))}catch{var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),N.dispatchEvent(b)}}var Z=v.saveAs||((typeof window>"u"?"undefined":(0,f.default)(window))!=="object"||window!==v?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(N,b,S){var I=v.URL||v.webkitURL,R=document.createElement("a");b=b||N.name||"download",R.download=b,R.rel="noopener",typeof N=="string"?(R.href=N,R.origin!==location.origin?Q(R.href)?E(N,b,S):K(R,R.target="_blank"):K(R)):(R.href=I.createObjectURL(N),setTimeout(function(){I.revokeObjectURL(R.href)},4e4),setTimeout(function(){K(R)},0))}:"msSaveOrOpenBlob"in navigator?function(N,b,S){if(b=b||N.name||"download",typeof N=="string")if(Q(N))E(N,b,S);else{var I=document.createElement("a");I.href=N,I.target="_blank",setTimeout(function(){K(I)})}else navigator.msSaveOrOpenBlob((function(R,V){return V===void 0?V={autoBom:!1}:(0,f.default)(V)!=="object"&&(w.warn("Deprecated: Expected third argument to be a object"),V={autoBom:!V}),V.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(R.type)?new Blob(["\uFEFF",R],{type:R.type}):R})(N,S),b)}:function(N,b,S,I){if((I=I||open("","_blank"))&&(I.document.title=I.document.body.innerText="downloading..."),typeof N=="string")return E(N,b,S);var R=N.type==="application/octet-stream",V=/constructor/i.test(v.HTMLElement)||v.safari,le=/CriOS\/[\d]+/.test(navigator.userAgent);if((le||R&&V)&&(typeof FileReader>"u"?"undefined":(0,f.default)(FileReader))==="object"){var q=new FileReader;q.onloadend=function(){var Le=q.result;Le=le?Le:Le.replace(/^data:[^;]*;/,"data:attachment/file;"),I?I.location.href=Le:location=Le,I=null},q.readAsDataURL(N)}else{var ee=v.URL||v.webkitURL,je=ee.createObjectURL(N);I?I.location=je:location.href=je,I=null,setTimeout(function(){ee.revokeObjectURL(je)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function J(N){var b;N=N||"",this.ok=!1,N.charAt(0)=="#"&&(N=N.substr(1,6)),N={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[N=(N=N.replace(/ /g,"")).toLowerCase()]||N;for(var S=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(q){return[parseInt(q[1]),parseInt(q[2]),parseInt(q[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(q){return[parseInt(q[1],16),parseInt(q[2],16),parseInt(q[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(q){return[parseInt(q[1]+q[1],16),parseInt(q[2]+q[2],16),parseInt(q[3]+q[3],16)]}}],I=0;I<S.length;I++){var R=S[I].re,V=S[I].process,le=R.exec(N);le&&(b=V(le),this.r=b[0],this.g=b[1],this.b=b[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var q=this.r.toString(16),ee=this.g.toString(16),je=this.b.toString(16);return q.length==1&&(q="0"+q),ee.length==1&&(ee="0"+ee),je.length==1&&(je="0"+je),"#"+q+ee+je}}var H=v.atob.bind(v),G=v.btoa.bind(v);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ce(N,b){var S=N[0],I=N[1],R=N[2],V=N[3];S=Ne(S,I,R,V,b[0],7,-680876936),V=Ne(V,S,I,R,b[1],12,-389564586),R=Ne(R,V,S,I,b[2],17,606105819),I=Ne(I,R,V,S,b[3],22,-1044525330),S=Ne(S,I,R,V,b[4],7,-176418897),V=Ne(V,S,I,R,b[5],12,1200080426),R=Ne(R,V,S,I,b[6],17,-1473231341),I=Ne(I,R,V,S,b[7],22,-45705983),S=Ne(S,I,R,V,b[8],7,1770035416),V=Ne(V,S,I,R,b[9],12,-1958414417),R=Ne(R,V,S,I,b[10],17,-42063),I=Ne(I,R,V,S,b[11],22,-1990404162),S=Ne(S,I,R,V,b[12],7,1804603682),V=Ne(V,S,I,R,b[13],12,-40341101),R=Ne(R,V,S,I,b[14],17,-1502002290),S=re(S,I=Ne(I,R,V,S,b[15],22,1236535329),R,V,b[1],5,-165796510),V=re(V,S,I,R,b[6],9,-1069501632),R=re(R,V,S,I,b[11],14,643717713),I=re(I,R,V,S,b[0],20,-373897302),S=re(S,I,R,V,b[5],5,-701558691),V=re(V,S,I,R,b[10],9,38016083),R=re(R,V,S,I,b[15],14,-660478335),I=re(I,R,V,S,b[4],20,-405537848),S=re(S,I,R,V,b[9],5,568446438),V=re(V,S,I,R,b[14],9,-1019803690),R=re(R,V,S,I,b[3],14,-187363961),I=re(I,R,V,S,b[8],20,1163531501),S=re(S,I,R,V,b[13],5,-1444681467),V=re(V,S,I,R,b[2],9,-51403784),R=re(R,V,S,I,b[7],14,1735328473),S=Be(S,I=re(I,R,V,S,b[12],20,-1926607734),R,V,b[5],4,-378558),V=Be(V,S,I,R,b[8],11,-2022574463),R=Be(R,V,S,I,b[11],16,1839030562),I=Be(I,R,V,S,b[14],23,-35309556),S=Be(S,I,R,V,b[1],4,-1530992060),V=Be(V,S,I,R,b[4],11,1272893353),R=Be(R,V,S,I,b[7],16,-155497632),I=Be(I,R,V,S,b[10],23,-1094730640),S=Be(S,I,R,V,b[13],4,681279174),V=Be(V,S,I,R,b[0],11,-358537222),R=Be(R,V,S,I,b[3],16,-722521979),I=Be(I,R,V,S,b[6],23,76029189),S=Be(S,I,R,V,b[9],4,-640364487),V=Be(V,S,I,R,b[12],11,-421815835),R=Be(R,V,S,I,b[15],16,530742520),S=fe(S,I=Be(I,R,V,S,b[2],23,-995338651),R,V,b[0],6,-198630844),V=fe(V,S,I,R,b[7],10,1126891415),R=fe(R,V,S,I,b[14],15,-1416354905),I=fe(I,R,V,S,b[5],21,-57434055),S=fe(S,I,R,V,b[12],6,1700485571),V=fe(V,S,I,R,b[3],10,-1894986606),R=fe(R,V,S,I,b[10],15,-1051523),I=fe(I,R,V,S,b[1],21,-2054922799),S=fe(S,I,R,V,b[8],6,1873313359),V=fe(V,S,I,R,b[15],10,-30611744),R=fe(R,V,S,I,b[6],15,-1560198380),I=fe(I,R,V,S,b[13],21,1309151649),S=fe(S,I,R,V,b[4],6,-145523070),V=fe(V,S,I,R,b[11],10,-1120210379),R=fe(R,V,S,I,b[2],15,718787259),I=fe(I,R,V,S,b[9],21,-343485551),N[0]=ke(S,N[0]),N[1]=ke(I,N[1]),N[2]=ke(R,N[2]),N[3]=ke(V,N[3])}function Ae(N,b,S,I,R,V){return b=ke(ke(b,N),ke(I,V)),ke(b<<R|b>>>32-R,S)}function Ne(N,b,S,I,R,V,le){return Ae(b&S|~b&I,N,b,R,V,le)}function re(N,b,S,I,R,V,le){return Ae(b&I|S&~I,N,b,R,V,le)}function Be(N,b,S,I,R,V,le){return Ae(b^S^I,N,b,R,V,le)}function fe(N,b,S,I,R,V,le){return Ae(S^(b|~I),N,b,R,V,le)}function Se(N){var b,S=N.length,I=[1732584193,-271733879,-1732584194,271733878];for(b=64;b<=N.length;b+=64)ce(I,pe(N.substring(b-64,b)));N=N.substring(b-64);var R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(b=0;b<N.length;b++)R[b>>2]|=N.charCodeAt(b)<<(b%4<<3);if(R[b>>2]|=128<<(b%4<<3),b>55)for(ce(I,R),b=0;b<16;b++)R[b]=0;return R[14]=8*S,ce(I,R),I}function pe(N){var b,S=[];for(b=0;b<64;b+=4)S[b>>2]=N.charCodeAt(b)+(N.charCodeAt(b+1)<<8)+(N.charCodeAt(b+2)<<16)+(N.charCodeAt(b+3)<<24);return S}var ae="0123456789abcdef".split("");function de(N){for(var b="",S=0;S<4;S++)b+=ae[N>>8*S+4&15]+ae[N>>8*S&15];return b}function oe(N){return String.fromCharCode(255&N,(65280&N)>>8,(16711680&N)>>16,(4278190080&N)>>24)}function Ee(N){return Se(N).map(oe).join("")}var Re=(function(N){for(var b=0;b<N.length;b++)N[b]=de(N[b]);return N.join("")})(Se("hello"))!="5d41402abc4b2a76b9719d911017c592";function ke(N,b){if(Re){var S=(65535&N)+(65535&b);return(N>>16)+(b>>16)+(S>>16)<<16|65535&S}return N+b&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function me(N,b){var S,I,R,V;if(N!==S){for(var le=(R=N,V=1+(256/N.length|0),new Array(V+1).join(R)),q=[],ee=0;ee<256;ee++)q[ee]=ee;var je=0;for(ee=0;ee<256;ee++){var Le=q[ee];je=(je+Le+le.charCodeAt(ee))%256,q[ee]=q[je],q[je]=Le}S=N,I=q}else q=I;var ze=b.length,Xe=0,xe=0,ct="";for(ee=0;ee<ze;ee++)xe=(xe+(Le=q[Xe=(Xe+1)%256]))%256,q[Xe]=q[xe],q[xe]=Le,le=q[(q[Xe]+q[xe])%256],ct+=String.fromCharCode(b.charCodeAt(ee)^le);return ct}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var we={print:4,modify:8,copy:16,"annot-forms":32};function ue(N,b,S,I){this.v=1,this.r=2;var R=192;N.forEach(function(q){if(we.perm!==void 0)throw new Error("Invalid permission: "+q);R+=we[q]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var V=(b+this.padding).substr(0,32),le=(S+this.padding).substr(0,32);this.O=this.processOwnerPassword(V,le),this.P=-(1+(255^R)),this.encryptionKey=Ee(V+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(I)).substr(0,5),this.U=me(this.encryptionKey,this.padding)}function te(N){if(/[^\u0000-\u00ff]/.test(N))throw new Error("Invalid PDF Name Object: "+N+", Only accept ASCII characters.");for(var b="",S=N.length,I=0;I<S;I++){var R=N.charCodeAt(I);b+=R<33||R===35||R===37||R===40||R===41||R===47||R===60||R===62||R===91||R===93||R===123||R===125||R>126?"#"+("0"+R.toString(16)).slice(-2):N[I]}return b}function ge(N){if((0,f.default)(N)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var b={};this.subscribe=function(S,I,R){if(R=R||!1,typeof S!="string"||typeof I!="function"||typeof R!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");b.hasOwnProperty(S)||(b[S]={});var V=Math.random().toString(35);return b[S][V]=[I,!!R],V},this.unsubscribe=function(S){for(var I in b)if(b[I][S])return delete b[I][S],Object.keys(b[I]).length===0&&delete b[I],!0;return!1},this.publish=function(S){if(b.hasOwnProperty(S)){var I=Array.prototype.slice.call(arguments,1),R=[];for(var V in b[S]){var le=b[S][V];try{le[0].apply(N,I)}catch(q){v.console&&w.error("jsPDF PubSub Error",q.message,q)}le[1]&&R.push(V)}R.length&&R.forEach(this.unsubscribe)}},this.getTopics=function(){return b}}function Me(N){if(!(this instanceof Me))return new Me(N);var b="opacity,stroke-opacity".split(",");for(var S in N)N.hasOwnProperty(S)&&b.indexOf(S)>=0&&(this[S]=N[S]);this.id="",this.objectNumber=-1}function Ve(N,b){this.gState=N,this.matrix=b,this.id="",this.objectNumber=-1}function Nt(N,b,S,I,R){if(!(this instanceof Nt))return new Nt(N,b,S,I,R);this.type=N==="axial"?2:3,this.coords=b,this.colors=S,Ve.call(this,I,R)}function ut(N,b,S,I,R){if(!(this instanceof ut))return new ut(N,b,S,I,R);this.boundingBox=N,this.xStep=b,this.yStep=S,this.stream="",this.cloneIndex=0,Ve.call(this,I,R)}function et(N){var b,S=typeof arguments[0]=="string"?arguments[0]:"p",I=arguments[1],R=arguments[2],V=arguments[3],le=[],q=1,ee=16,je="S",Le=null;(0,f.default)(N=N||{})==="object"&&(S=N.orientation,I=N.unit||I,R=N.format||R,V=N.compress||N.compressPdf||V,(Le=N.encryption||null)!==null&&(Le.userPassword=Le.userPassword||"",Le.ownerPassword=Le.ownerPassword||"",Le.userPermissions=Le.userPermissions||[]),q=typeof N.userUnit=="number"?Math.abs(N.userUnit):1,N.precision!==void 0&&(b=N.precision),N.floatPrecision!==void 0&&(ee=N.floatPrecision),je=N.defaultPathOperation||"S"),le=N.filters||(V===!0?["FlateEncode"]:le),I=I||"mm",S=(""+(S||"P")).toLowerCase();var ze=N.putOnlyUsedFonts||!1,Xe={},xe={internal:{},__private__:{}};xe.__private__.PubSub=ge;var ct="1.3",ot=xe.__private__.getPdfVersion=function(){return ct};xe.__private__.setPdfVersion=function(X){ct=X};var At={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};xe.__private__.getPageFormats=function(){return At};var We=xe.__private__.getPageFormat=function(X){return At[X]};R=R||"a4";var yt="compat",Dt="advanced",pt=yt;function Ge(){this.saveGraphicsState(),tt(new an(nn,0,0,-nn,0,ed()*nn).toString()+" cm"),this.setFontSize(this.getFontSize()/nn),je="n",pt=Dt}function Ft(){this.restoreGraphicsState(),je="S",pt=yt}var is=xe.__private__.combineFontStyleAndFontWeight=function(X,Te){if(X=="bold"&&Te=="normal"||X=="bold"&&Te==400||X=="normal"&&Te=="italic"||X=="bold"&&Te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Te&&(X=Te==400||Te==="normal"?X==="italic"?"italic":"normal":Te!=700&&Te!=="bold"||X!=="normal"?(Te==700?"bold":Te)+""+X:"bold"),X};xe.advancedAPI=function(X){var Te=pt===yt;return Te&&Ge.call(this),typeof X!="function"||(X(this),Te&&Ft.call(this)),this},xe.compatAPI=function(X){var Te=pt===Dt;return Te&&Ft.call(this),typeof X!="function"||(X(this),Te&&Ge.call(this)),this},xe.isAdvancedAPI=function(){return pt===Dt};var Ht,bt=function(X){if(pt!==Dt)throw new Error(X+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},es=xe.roundToPrecision=xe.__private__.roundToPrecision=function(X,Te){var at=b||Te;if(isNaN(X)||isNaN(at))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return X.toFixed(at).replace(/0+$/,"")};Ht=xe.hpf=xe.__private__.hpf=typeof ee=="number"?function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return es(X,ee)}:ee==="smart"?function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return es(X,X>-1&&X<1?16:5)}:function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return es(X,16)};var Ye=xe.f2=xe.__private__.f2=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.f2");return es(X,2)},rt=xe.__private__.f3=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.f3");return es(X,3)},gt=xe.scale=xe.__private__.scale=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.scale");return pt===yt?X*nn:pt===Dt?X:void 0},xt=function(X){return gt((function(Te){return pt===yt?ed()-Te:pt===Dt?Te:void 0})(X))};xe.__private__.setPrecision=xe.setPrecision=function(X){typeof parseInt(X,10)=="number"&&(b=parseInt(X,10))};var ss,us="00000000000000000000000000000000",xs=xe.__private__.getFileId=function(){return us},Vt=xe.__private__.setFileId=function(X){return us=X!==void 0&&/^[a-fA-F0-9]{32}$/.test(X)?X.toUpperCase():us.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Le!==null&&($i=new ue(Le.userPermissions,Le.userPassword,Le.ownerPassword,us)),us};xe.setFileId=function(X){return Vt(X),this},xe.getFileId=function(){return xs()};var fs=xe.__private__.convertDateToPDFDate=function(X){var Te=X.getTimezoneOffset(),at=Te<0?"+":"-",ft=Math.floor(Math.abs(Te/60)),_t=Math.abs(Te%60),Cs=[at,ht(ft),"'",ht(_t),"'"].join("");return["D:",X.getFullYear(),ht(X.getMonth()+1),ht(X.getDate()),ht(X.getHours()),ht(X.getMinutes()),ht(X.getSeconds()),Cs].join("")},Js=xe.__private__.convertPDFDateToDate=function(X){var Te=parseInt(X.substr(2,4),10),at=parseInt(X.substr(6,2),10)-1,ft=parseInt(X.substr(8,2),10),_t=parseInt(X.substr(10,2),10),Cs=parseInt(X.substr(12,2),10),Os=parseInt(X.substr(14,2),10);return new Date(Te,at,ft,_t,Cs,Os,0)},_s=xe.__private__.setCreationDate=function(X){var Te;if(X===void 0&&(X=new Date),X instanceof Date)Te=fs(X);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(X))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Te=X}return ss=Te},_e=xe.__private__.getCreationDate=function(X){var Te=ss;return X==="jsDate"&&(Te=Js(ss)),Te};xe.setCreationDate=function(X){return _s(X),this},xe.getCreationDate=function(X){return _e(X)};var dt,ht=xe.__private__.padd2=function(X){return("0"+parseInt(X)).slice(-2)},Mt=xe.__private__.padd2Hex=function(X){return("00"+(X=X.toString())).substr(X.length)},Rt=0,Wt=[],ms=[],ps=0,Us=[],Zs=[],wr=!1,vr=ms;xe.__private__.setCustomOutputDestination=function(X){wr=!0,vr=X};var Xr=function(X){wr||(vr=X)};xe.__private__.resetCustomOutputDestination=function(){wr=!1,vr=ms};var tt=xe.__private__.out=function(X){return X=X.toString(),ps+=X.length+1,vr.push(X),vr},cr=xe.__private__.write=function(X){return tt(arguments.length===1?X.toString():Array.prototype.join.call(arguments," "))},dn=xe.__private__.getArrayBuffer=function(X){for(var Te=X.length,at=new ArrayBuffer(Te),ft=new Uint8Array(at);Te--;)ft[Te]=X.charCodeAt(Te);return at},ir=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];xe.__private__.getStandardFonts=function(){return ir};var Ps=N.fontSize||16;xe.__private__.setFontSize=xe.setFontSize=function(X){return Ps=pt===Dt?X/nn:X,this};var sn,jr=xe.__private__.getFontSize=xe.getFontSize=function(){return pt===yt?Ps:Ps*nn},$r=N.R2L||!1;xe.__private__.setR2L=xe.setR2L=function(X){return $r=X,this},xe.__private__.getR2L=xe.getR2L=function(){return $r};var Rr,Ca=xe.__private__.setZoomMode=function(X){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(X))sn=X;else if(isNaN(X)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(X)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+X+'" is not recognized.');sn=X}else sn=parseInt(X,10)};xe.__private__.getZoomMode=function(){return sn};var kn,Sr=xe.__private__.setPageMode=function(X){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(X)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+X+'" is not recognized.');Rr=X};xe.__private__.getPageMode=function(){return Rr};var zn=xe.__private__.setLayoutMode=function(X){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(X)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+X+'" is not recognized.');kn=X};xe.__private__.getLayoutMode=function(){return kn},xe.__private__.setDisplayMode=xe.setDisplayMode=function(X,Te,at){return Ca(X),zn(Te),Sr(at),this};var Jr={title:"",subject:"",author:"",keywords:"",creator:""};xe.__private__.getDocumentProperty=function(X){if(Object.keys(Jr).indexOf(X)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Jr[X]},xe.__private__.getDocumentProperties=function(){return Jr},xe.__private__.setDocumentProperties=xe.setProperties=xe.setDocumentProperties=function(X){for(var Te in Jr)Jr.hasOwnProperty(Te)&&X[Te]&&(Jr[Te]=X[Te]);return this},xe.__private__.setDocumentProperty=function(X,Te){if(Object.keys(Jr).indexOf(X)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Jr[X]=Te};var Er,nn,Qr,xn,Wn,Sn={},Rn={},$a=[],Gr={},Qa={},hn={},zr={},ja=null,wn=0,lr=[],Fn=new ge(xe),$c=N.hotfixes||[],Di={},oo={},Kl=[],an=function X(Te,at,ft,_t,Cs,Os){if(!(this instanceof X))return new X(Te,at,ft,_t,Cs,Os);isNaN(Te)&&(Te=1),isNaN(at)&&(at=0),isNaN(ft)&&(ft=0),isNaN(_t)&&(_t=1),isNaN(Cs)&&(Cs=0),isNaN(Os)&&(Os=0),this._matrix=[Te,at,ft,_t,Cs,Os]};Object.defineProperty(an.prototype,"sx",{get:function(){return this._matrix[0]},set:function(X){this._matrix[0]=X}}),Object.defineProperty(an.prototype,"shy",{get:function(){return this._matrix[1]},set:function(X){this._matrix[1]=X}}),Object.defineProperty(an.prototype,"shx",{get:function(){return this._matrix[2]},set:function(X){this._matrix[2]=X}}),Object.defineProperty(an.prototype,"sy",{get:function(){return this._matrix[3]},set:function(X){this._matrix[3]=X}}),Object.defineProperty(an.prototype,"tx",{get:function(){return this._matrix[4]},set:function(X){this._matrix[4]=X}}),Object.defineProperty(an.prototype,"ty",{get:function(){return this._matrix[5]},set:function(X){this._matrix[5]=X}}),Object.defineProperty(an.prototype,"a",{get:function(){return this._matrix[0]},set:function(X){this._matrix[0]=X}}),Object.defineProperty(an.prototype,"b",{get:function(){return this._matrix[1]},set:function(X){this._matrix[1]=X}}),Object.defineProperty(an.prototype,"c",{get:function(){return this._matrix[2]},set:function(X){this._matrix[2]=X}}),Object.defineProperty(an.prototype,"d",{get:function(){return this._matrix[3]},set:function(X){this._matrix[3]=X}}),Object.defineProperty(an.prototype,"e",{get:function(){return this._matrix[4]},set:function(X){this._matrix[4]=X}}),Object.defineProperty(an.prototype,"f",{get:function(){return this._matrix[5]},set:function(X){this._matrix[5]=X}}),Object.defineProperty(an.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(an.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(an.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(an.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),an.prototype.join=function(X){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Ht).join(X)},an.prototype.multiply=function(X){var Te=X.sx*this.sx+X.shy*this.shx,at=X.sx*this.shy+X.shy*this.sy,ft=X.shx*this.sx+X.sy*this.shx,_t=X.shx*this.shy+X.sy*this.sy,Cs=X.tx*this.sx+X.ty*this.shx+this.tx,Os=X.tx*this.shy+X.ty*this.sy+this.ty;return new an(Te,at,ft,_t,Cs,Os)},an.prototype.decompose=function(){var X=this.sx,Te=this.shy,at=this.shx,ft=this.sy,_t=this.tx,Cs=this.ty,Os=Math.sqrt(X*X+Te*Te),Tr=(X/=Os)*at+(Te/=Os)*ft;at-=X*Tr,ft-=Te*Tr;var Ur=Math.sqrt(at*at+ft*ft);return Tr/=Ur,X*(ft/=Ur)<Te*(at/=Ur)&&(X=-X,Te=-Te,Tr=-Tr,Os=-Os),{scale:new an(Os,0,0,Ur,0,0),translate:new an(1,0,0,1,_t,Cs),rotate:new an(X,Te,-Te,X,0,0),skew:new an(1,0,Tr,1,0,0)}},an.prototype.toString=function(X){return this.join(" ")},an.prototype.inversed=function(){var X=this.sx,Te=this.shy,at=this.shx,ft=this.sy,_t=this.tx,Cs=this.ty,Os=1/(X*ft-Te*at),Tr=ft*Os,Ur=-Te*Os,fn=-at*Os,jn=X*Os;return new an(Tr,Ur,fn,jn,-Tr*_t-fn*Cs,-Ur*_t-jn*Cs)},an.prototype.applyToPoint=function(X){var Te=X.x*this.sx+X.y*this.shx+this.tx,at=X.x*this.shy+X.y*this.sy+this.ty;return new bl(Te,at)},an.prototype.applyToRectangle=function(X){var Te=this.applyToPoint(X),at=this.applyToPoint(new bl(X.x+X.w,X.y+X.h));return new gc(Te.x,Te.y,at.x-Te.x,at.y-Te.y)},an.prototype.clone=function(){var X=this.sx,Te=this.shy,at=this.shx,ft=this.sy,_t=this.tx,Cs=this.ty;return new an(X,Te,at,ft,_t,Cs)},xe.Matrix=an;var oi=xe.matrixMult=function(X,Te){return Te.multiply(X)},mi=new an(1,0,0,1,0,0);xe.unitMatrix=xe.identityMatrix=mi;var qo=function(X,Te){if(!Qa[X]){var at=(Te instanceof Nt?"Sh":"P")+(Object.keys(Gr).length+1).toString(10);Te.id=at,Qa[X]=at,Gr[at]=Te,Fn.publish("addPattern",Te)}};xe.ShadingPattern=Nt,xe.TilingPattern=ut,xe.addShadingPattern=function(X,Te){return bt("addShadingPattern()"),qo(X,Te),this},xe.beginTilingPattern=function(X){bt("beginTilingPattern()"),nl(X.boundingBox[0],X.boundingBox[1],X.boundingBox[2]-X.boundingBox[0],X.boundingBox[3]-X.boundingBox[1],X.matrix)},xe.endTilingPattern=function(X,Te){bt("endTilingPattern()"),Te.stream=Zs[dt].join(`
`),qo(X,Te),Fn.publish("endTilingPattern",Te),Kl.pop().restore()};var Uo,Da=xe.__private__.newObject=function(){var X=pi();return li(X,!0),X},pi=xe.__private__.newObjectDeferred=function(){return Rt++,Wt[Rt]=function(){return ps},Rt},li=function(X,Te){return Te=typeof Te=="boolean"&&Te,Wt[X]=ps,Te&&tt(X+" 0 obj"),X},Tl=xe.__private__.newAdditionalObject=function(){var X={objId:pi(),content:""};return Us.push(X),X},Ri=pi(),Al=pi(),mo=xe.__private__.decodeColorString=function(X){var Te=X.split(" ");if(Te.length!==2||Te[1]!=="g"&&Te[1]!=="G")Te.length!==5||Te[4]!=="k"&&Te[4]!=="K"||(Te=[(1-Te[0])*(1-Te[3]),(1-Te[1])*(1-Te[3]),(1-Te[2])*(1-Te[3]),"r"]);else{var at=parseFloat(Te[0]);Te=[at,at,at,"r"]}for(var ft="#",_t=0;_t<3;_t++)ft+=("0"+Math.floor(255*parseFloat(Te[_t])).toString(16)).slice(-2);return ft},Ul=xe.__private__.encodeColorString=function(X){var Te;typeof X=="string"&&(X={ch1:X});var at=X.ch1,ft=X.ch2,_t=X.ch3,Cs=X.ch4,Os=X.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof at=="string"&&at.charAt(0)!=="#"){var Tr=new J(at);if(Tr.ok)at=Tr.toHex();else if(!/^\d*\.?\d*$/.test(at))throw new Error('Invalid color "'+at+'" passed to jsPDF.encodeColorString.')}if(typeof at=="string"&&/^#[0-9A-Fa-f]{3}$/.test(at)&&(at="#"+at[1]+at[1]+at[2]+at[2]+at[3]+at[3]),typeof at=="string"&&/^#[0-9A-Fa-f]{6}$/.test(at)){var Ur=parseInt(at.substr(1),16);at=Ur>>16&255,ft=Ur>>8&255,_t=255&Ur}if(ft===void 0||Cs===void 0&&at===ft&&ft===_t)Te=typeof at=="string"?at+" "+Os[0]:X.precision===2?Ye(at/255)+" "+Os[0]:rt(at/255)+" "+Os[0];else if(Cs===void 0||(0,f.default)(Cs)==="object"){if(Cs&&!isNaN(Cs.a)&&Cs.a===0)return["1.","1.","1.",Os[1]].join(" ");Te=typeof at=="string"?[at,ft,_t,Os[1]].join(" "):X.precision===2?[Ye(at/255),Ye(ft/255),Ye(_t/255),Os[1]].join(" "):[rt(at/255),rt(ft/255),rt(_t/255),Os[1]].join(" ")}else Te=typeof at=="string"?[at,ft,_t,Cs,Os[2]].join(" "):X.precision===2?[Ye(at),Ye(ft),Ye(_t),Ye(Cs),Os[2]].join(" "):[rt(at),rt(ft),rt(_t),rt(Cs),Os[2]].join(" ");return Te},Fo=xe.__private__.getFilters=function(){return le},hl=xe.__private__.putStream=function(X){var Te=(X=X||{}).data||"",at=X.filters||Fo(),ft=X.alreadyAppliedFilters||[],_t=X.addLength1||!1,Cs=Te.length,Os=X.objectId,Tr=function(Si){return Si};if(Le!==null&&Os===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Le!==null&&(Tr=$i.encryptor(Os,0));var Ur={};at===!0&&(at=["FlateEncode"]);var fn=X.additionalKeyValues||[],jn=(Ur=et.API.processDataByFilters!==void 0?et.API.processDataByFilters(Te,at):{data:Te,reverseChain:[]}).reverseChain+(Array.isArray(ft)?ft.join(" "):ft.toString());if(Ur.data.length!==0&&(fn.push({key:"Length",value:Ur.data.length}),_t===!0&&fn.push({key:"Length1",value:Cs})),jn.length!=0)if(jn.split("/").length-1==1)fn.push({key:"Filter",value:jn});else{fn.push({key:"Filter",value:"["+jn+"]"});for(var ra=0;ra<fn.length;ra+=1)if(fn[ra].key==="DecodeParms"){for(var Ua=[],xi=0;xi<Ur.reverseChain.split("/").length-1;xi+=1)Ua.push("null");Ua.push(fn[ra].value),fn[ra].value="["+Ua.join(" ")+"]"}}tt("<<");for(var Ba=0;Ba<fn.length;Ba++)tt("/"+fn[Ba].key+" "+fn[Ba].value);tt(">>"),Ur.data.length!==0&&(tt("stream"),tt(Tr(Ur.data)),tt("endstream"))},Gc=xe.__private__.putPage=function(X){var Te=X.number,at=X.data,ft=X.objId,_t=X.contentsObjId;li(ft,!0),tt("<</Type /Page"),tt("/Parent "+X.rootDictionaryObjId+" 0 R"),tt("/Resources "+X.resourceDictionaryObjId+" 0 R"),tt("/MediaBox ["+parseFloat(Ht(X.mediaBox.bottomLeftX))+" "+parseFloat(Ht(X.mediaBox.bottomLeftY))+" "+Ht(X.mediaBox.topRightX)+" "+Ht(X.mediaBox.topRightY)+"]"),X.cropBox!==null&&tt("/CropBox ["+Ht(X.cropBox.bottomLeftX)+" "+Ht(X.cropBox.bottomLeftY)+" "+Ht(X.cropBox.topRightX)+" "+Ht(X.cropBox.topRightY)+"]"),X.bleedBox!==null&&tt("/BleedBox ["+Ht(X.bleedBox.bottomLeftX)+" "+Ht(X.bleedBox.bottomLeftY)+" "+Ht(X.bleedBox.topRightX)+" "+Ht(X.bleedBox.topRightY)+"]"),X.trimBox!==null&&tt("/TrimBox ["+Ht(X.trimBox.bottomLeftX)+" "+Ht(X.trimBox.bottomLeftY)+" "+Ht(X.trimBox.topRightX)+" "+Ht(X.trimBox.topRightY)+"]"),X.artBox!==null&&tt("/ArtBox ["+Ht(X.artBox.bottomLeftX)+" "+Ht(X.artBox.bottomLeftY)+" "+Ht(X.artBox.topRightX)+" "+Ht(X.artBox.topRightY)+"]"),typeof X.userUnit=="number"&&X.userUnit!==1&&tt("/UserUnit "+X.userUnit),Fn.publish("putPage",{objId:ft,pageContext:lr[Te],pageNumber:Te,page:at}),tt("/Contents "+_t+" 0 R"),tt(">>"),tt("endobj");var Cs=at.join(`
`);return pt===Dt&&(Cs+=`
Q`),li(_t,!0),hl({data:Cs,filters:Fo(),objectId:_t}),tt("endobj"),ft},fl=xe.__private__.putPages=function(){var X,Te,at=[];for(X=1;X<=wn;X++)lr[X].objId=pi(),lr[X].contentsObjId=pi();for(X=1;X<=wn;X++)at.push(Gc({number:X,data:Zs[X],objId:lr[X].objId,contentsObjId:lr[X].contentsObjId,mediaBox:lr[X].mediaBox,cropBox:lr[X].cropBox,bleedBox:lr[X].bleedBox,trimBox:lr[X].trimBox,artBox:lr[X].artBox,userUnit:lr[X].userUnit,rootDictionaryObjId:Ri,resourceDictionaryObjId:Al}));li(Ri,!0),tt("<</Type /Pages");var ft="/Kids [";for(Te=0;Te<wn;Te++)ft+=at[Te]+" 0 R ";tt(ft+"]"),tt("/Count "+wn),tt(">>"),tt("endobj"),Fn.publish("postPutPages")},Mo=function(X){Fn.publish("putFont",{font:X,out:tt,newObject:Da,putStream:hl}),X.isAlreadyPutted!==!0&&(X.objectNumber=Da(),tt("<<"),tt("/Type /Font"),tt("/BaseFont /"+te(X.postScriptName)),tt("/Subtype /Type1"),typeof X.encoding=="string"&&tt("/Encoding /"+X.encoding),tt("/FirstChar 32"),tt("/LastChar 255"),tt(">>"),tt("endobj"))},Ec=function(X){X.objectNumber=Da();var Te=[];Te.push({key:"Type",value:"/XObject"}),Te.push({key:"Subtype",value:"/Form"}),Te.push({key:"BBox",value:"["+[Ht(X.x),Ht(X.y),Ht(X.x+X.width),Ht(X.y+X.height)].join(" ")+"]"}),Te.push({key:"Matrix",value:"["+X.matrix.toString()+"]"});var at=X.pages[1].join(`
`);hl({data:at,additionalKeyValues:Te,objectId:X.objectNumber}),tt("endobj")},Wc=function(X,Te){Te||(Te=21);var at=Da(),ft=(function(Os,Tr){var Ur,fn=[],jn=1/(Tr-1);for(Ur=0;Ur<1;Ur+=jn)fn.push(Ur);if(fn.push(1),Os[0].offset!=0){var ra={offset:0,color:Os[0].color};Os.unshift(ra)}if(Os[Os.length-1].offset!=1){var Ua={offset:1,color:Os[Os.length-1].color};Os.push(Ua)}for(var xi="",Ba=0,Si=0;Si<fn.length;Si++){for(Ur=fn[Si];Ur>Os[Ba+1].offset;)Ba++;var C=Os[Ba].offset,Ce=(Ur-C)/(Os[Ba+1].offset-C),P=Os[Ba].color,Qe=Os[Ba+1].color;xi+=Mt(Math.round((1-Ce)*P[0]+Ce*Qe[0]).toString(16))+Mt(Math.round((1-Ce)*P[1]+Ce*Qe[1]).toString(16))+Mt(Math.round((1-Ce)*P[2]+Ce*Qe[2]).toString(16))}return xi.trim()})(X.colors,Te),_t=[];_t.push({key:"FunctionType",value:"0"}),_t.push({key:"Domain",value:"[0.0 1.0]"}),_t.push({key:"Size",value:"["+Te+"]"}),_t.push({key:"BitsPerSample",value:"8"}),_t.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_t.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hl({data:ft,additionalKeyValues:_t,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:at}),tt("endobj"),X.objectNumber=Da(),tt("<< /ShadingType "+X.type),tt("/ColorSpace /DeviceRGB");var Cs="/Coords ["+Ht(parseFloat(X.coords[0]))+" "+Ht(parseFloat(X.coords[1]))+" ";X.type===2?Cs+=Ht(parseFloat(X.coords[2]))+" "+Ht(parseFloat(X.coords[3])):Cs+=Ht(parseFloat(X.coords[2]))+" "+Ht(parseFloat(X.coords[3]))+" "+Ht(parseFloat(X.coords[4]))+" "+Ht(parseFloat(X.coords[5])),tt(Cs+="]"),X.matrix&&tt("/Matrix ["+X.matrix.toString()+"]"),tt("/Function "+at+" 0 R"),tt("/Extend [true true]"),tt(">>"),tt("endobj")},fc=function(X,Te){var at=pi(),ft=Da();Te.push({resourcesOid:at,objectOid:ft}),X.objectNumber=ft;var _t=[];_t.push({key:"Type",value:"/Pattern"}),_t.push({key:"PatternType",value:"1"}),_t.push({key:"PaintType",value:"1"}),_t.push({key:"TilingType",value:"1"}),_t.push({key:"BBox",value:"["+X.boundingBox.map(Ht).join(" ")+"]"}),_t.push({key:"XStep",value:Ht(X.xStep)}),_t.push({key:"YStep",value:Ht(X.yStep)}),_t.push({key:"Resources",value:at+" 0 R"}),X.matrix&&_t.push({key:"Matrix",value:"["+X.matrix.toString()+"]"}),hl({data:X.stream,additionalKeyValues:_t,objectId:X.objectNumber}),tt("endobj")},el=function(X){for(var Te in X.objectNumber=Da(),tt("<<"),X)switch(Te){case"opacity":tt("/ca "+Ye(X[Te]));break;case"stroke-opacity":tt("/CA "+Ye(X[Te]))}tt(">>"),tt("endobj")},Tc=function(X){li(X.resourcesOid,!0),tt("<<"),tt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Te in tt("/Font <<"),Sn)Sn.hasOwnProperty(Te)&&(ze===!1||ze===!0&&Xe.hasOwnProperty(Te))&&tt("/"+Te+" "+Sn[Te].objectNumber+" 0 R");tt(">>")})(),(function(){if(Object.keys(Gr).length>0){for(var Te in tt("/Shading <<"),Gr)Gr.hasOwnProperty(Te)&&Gr[Te]instanceof Nt&&Gr[Te].objectNumber>=0&&tt("/"+Te+" "+Gr[Te].objectNumber+" 0 R");Fn.publish("putShadingPatternDict"),tt(">>")}})(),(function(Te){if(Object.keys(Gr).length>0){for(var at in tt("/Pattern <<"),Gr)Gr.hasOwnProperty(at)&&Gr[at]instanceof xe.TilingPattern&&Gr[at].objectNumber>=0&&Gr[at].objectNumber<Te&&tt("/"+at+" "+Gr[at].objectNumber+" 0 R");Fn.publish("putTilingPatternDict"),tt(">>")}})(X.objectOid),(function(){if(Object.keys(hn).length>0){var Te;for(Te in tt("/ExtGState <<"),hn)hn.hasOwnProperty(Te)&&hn[Te].objectNumber>=0&&tt("/"+Te+" "+hn[Te].objectNumber+" 0 R");Fn.publish("putGStateDict"),tt(">>")}})(),(function(){for(var Te in tt("/XObject <<"),Di)Di.hasOwnProperty(Te)&&Di[Te].objectNumber>=0&&tt("/"+Te+" "+Di[Te].objectNumber+" 0 R");Fn.publish("putXobjectDict"),tt(">>")})(),tt(">>"),tt("endobj")},Lo=function(X){Rn[X.fontName]=Rn[X.fontName]||{},Rn[X.fontName][X.fontStyle]=X.id},Fl=function(X,Te,at,ft,_t){var Cs={id:"F"+(Object.keys(Sn).length+1).toString(10),postScriptName:X,fontName:Te,fontStyle:at,encoding:ft,isStandardFont:_t||!1,metadata:{}};return Fn.publish("addFont",{font:Cs,instance:this}),Sn[Cs.id]=Cs,Lo(Cs),Cs.id},po=xe.__private__.pdfEscape=xe.pdfEscape=function(X,Te){return(function(at,ft){var _t,Cs,Os,Tr,Ur,fn,jn,ra,Ua;if(Os=(ft=ft||{}).sourceEncoding||"Unicode",Ur=ft.outputEncoding,(ft.autoencode||Ur)&&Sn[Er].metadata&&Sn[Er].metadata[Os]&&Sn[Er].metadata[Os].encoding&&(Tr=Sn[Er].metadata[Os].encoding,!Ur&&Sn[Er].encoding&&(Ur=Sn[Er].encoding),!Ur&&Tr.codePages&&(Ur=Tr.codePages[0]),typeof Ur=="string"&&(Ur=Tr[Ur]),Ur)){for(jn=!1,fn=[],_t=0,Cs=at.length;_t<Cs;_t++)(ra=Ur[at.charCodeAt(_t)])?fn.push(String.fromCharCode(ra)):fn.push(at[_t]),fn[_t].charCodeAt(0)>>8&&(jn=!0);at=fn.join("")}for(_t=at.length;jn===void 0&&_t!==0;)at.charCodeAt(_t-1)>>8&&(jn=!0),_t--;if(!jn)return at;for(fn=ft.noBOM?[]:[254,255],_t=0,Cs=at.length;_t<Cs;_t++){if((Ua=(ra=at.charCodeAt(_t))>>8)>>8)throw new Error("Character at position "+_t+" of string '"+at+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");fn.push(Ua),fn.push(ra-(Ua<<8))}return String.fromCharCode.apply(void 0,fn)})(X,Te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mc=xe.__private__.beginPage=function(X){Zs[++wn]=[],lr[wn]={objId:0,contentsObjId:0,userUnit:Number(q),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(X[0]),topRightY:Number(X[1])}},$l(wn),Xr(Zs[dt])},Uc=function(X,Te){var at,ft,_t;switch(S=Te||S,typeof X=="string"&&(at=We(X.toLowerCase()),Array.isArray(at)&&(ft=at[0],_t=at[1])),Array.isArray(X)&&(ft=X[0]*nn,_t=X[1]*nn),isNaN(ft)&&(ft=R[0],_t=R[1]),(ft>14400||_t>14400)&&(w.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ft=Math.min(14400,ft),_t=Math.min(14400,_t)),R=[ft,_t],S.substr(0,1)){case"l":_t>ft&&(R=[_t,ft]);break;case"p":ft>_t&&(R=[_t,ft])}mc(R),dr(Qi),tt(Wi),Ro!==0&&tt(Ro+" J"),rl!==0&&tt(rl+" j"),Fn.publish("addPage",{pageNumber:wn})},cd=function(X){X>0&&X<=wn&&(Zs.splice(X,1),lr.splice(X,1),wn--,dt>wn&&(dt=wn),this.setPage(dt))},$l=function(X){X>0&&X<=wn&&(dt=X)},Wd=xe.__private__.getNumberOfPages=xe.getNumberOfPages=function(){return Zs.length-1},dd=function(X,Te,at){var ft,_t=void 0;return at=at||{},X=X!==void 0?X:Sn[Er].fontName,Te=Te!==void 0?Te:Sn[Er].fontStyle,ft=X.toLowerCase(),Rn[ft]!==void 0&&Rn[ft][Te]!==void 0?_t=Rn[ft][Te]:Rn[X]!==void 0&&Rn[X][Te]!==void 0?_t=Rn[X][Te]:at.disableWarning===!1&&w.warn("Unable to look up font label for font '"+X+"', '"+Te+"'. Refer to getFontList() for available fonts."),_t||at.noFallback||(_t=Rn.times[Te])==null&&(_t=Rn.times.normal),_t},go=xe.__private__.putInfo=function(){var X=Da(),Te=function(ft){return ft};for(var at in Le!==null&&(Te=$i.encryptor(X,0)),tt("<<"),tt("/Producer ("+po(Te("jsPDF "+et.version))+")"),Jr)Jr.hasOwnProperty(at)&&Jr[at]&&tt("/"+at.substr(0,1).toUpperCase()+at.substr(1)+" ("+po(Te(Jr[at]))+")");tt("/CreationDate ("+po(Te(ss))+")"),tt(">>"),tt("endobj")},Fd=xe.__private__.putCatalog=function(X){var Te=(X=X||{}).rootDictionaryObjId||Ri;switch(Da(),tt("<<"),tt("/Type /Catalog"),tt("/Pages "+Te+" 0 R"),sn||(sn="fullwidth"),sn){case"fullwidth":tt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":tt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":tt("/OpenAction [3 0 R /Fit]");break;case"original":tt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var at=""+sn;at.substr(at.length-1)==="%"&&(sn=parseInt(sn)/100),typeof sn=="number"&&tt("/OpenAction [3 0 R /XYZ null null "+Ye(sn)+"]")}switch(kn||(kn="continuous"),kn){case"continuous":tt("/PageLayout /OneColumn");break;case"single":tt("/PageLayout /SinglePage");break;case"two":case"twoleft":tt("/PageLayout /TwoColumnLeft");break;case"tworight":tt("/PageLayout /TwoColumnRight")}Rr&&tt("/PageMode /"+Rr),Fn.publish("putCatalog"),tt(">>"),tt("endobj")},Oo=xe.__private__.putTrailer=function(){tt("trailer"),tt("<<"),tt("/Size "+(Rt+1)),tt("/Root "+Rt+" 0 R"),tt("/Info "+(Rt-1)+" 0 R"),Le!==null&&tt("/Encrypt "+$i.oid+" 0 R"),tt("/ID [ <"+us+"> <"+us+"> ]"),tt(">>")},un=xe.__private__.putHeader=function(){tt("%PDF-"+ct),tt("%")},Ml=xe.__private__.putXRef=function(){var X="0000000000";tt("xref"),tt("0 "+(Rt+1)),tt("0000000000 65535 f ");for(var Te=1;Te<=Rt;Te++)typeof Wt[Te]=="function"?tt((X+Wt[Te]()).slice(-10)+" 00000 n "):Wt[Te]!==void 0?tt((X+Wt[Te]).slice(-10)+" 00000 n "):tt("0000000000 00000 n ")},Gl=xe.__private__.buildDocument=function(){var X;Rt=0,ps=0,ms=[],Wt=[],Us=[],Ri=pi(),Al=pi(),Xr(ms),Fn.publish("buildDocument"),un(),fl(),(function(){Fn.publish("putAdditionalObjects");for(var at=0;at<Us.length;at++){var ft=Us[at];li(ft.objId,!0),tt(ft.content),tt("endobj")}Fn.publish("postPutAdditionalObjects")})(),X=[],(function(){for(var at in Sn)Sn.hasOwnProperty(at)&&(ze===!1||ze===!0&&Xe.hasOwnProperty(at))&&Mo(Sn[at])})(),(function(){var at;for(at in hn)hn.hasOwnProperty(at)&&el(hn[at])})(),(function(){for(var at in Di)Di.hasOwnProperty(at)&&Ec(Di[at])})(),(function(at){var ft;for(ft in Gr)Gr.hasOwnProperty(ft)&&(Gr[ft]instanceof Nt?Wc(Gr[ft]):Gr[ft]instanceof ut&&fc(Gr[ft],at))})(X),Fn.publish("putResources"),X.forEach(Tc),Tc({resourcesOid:Al,objectOid:Number.MAX_SAFE_INTEGER}),Fn.publish("postPutResources"),Le!==null&&($i.oid=Da(),tt("<<"),tt("/Filter /Standard"),tt("/V "+$i.v),tt("/R "+$i.r),tt("/U <"+$i.toHexString($i.U)+">"),tt("/O <"+$i.toHexString($i.O)+">"),tt("/P "+$i.P),tt(">>"),tt("endobj")),go(),Fd();var Te=ps;return Ml(),Oo(),tt("startxref"),tt(""+Te),tt("%%EOF"),Xr(Zs[dt]),ms.join(`
`)},Wl=xe.__private__.getBlob=function(X){return new Blob([dn(X)],{type:"application/pdf"})},Fc=xe.output=xe.__private__.output=(Uo=function(X,Te){switch(typeof(Te=Te||{})=="string"?Te={filename:Te}:Te.filename=Te.filename||"generated.pdf",X){case void 0:return Gl();case"save":xe.save(Te.filename);break;case"arraybuffer":return dn(Gl());case"blob":return Wl(Gl());case"bloburi":case"bloburl":if(v.URL!==void 0&&typeof v.URL.createObjectURL=="function")return v.URL&&v.URL.createObjectURL(Wl(Gl()))||void 0;w.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var at="",ft=Gl();try{at=G(ft)}catch{at=G(unescape(encodeURIComponent(ft)))}return"data:application/pdf;filename="+Te.filename+";base64,"+at;case"pdfobjectnewwindow":if(Object.prototype.toString.call(v)==="[object Window]"){var _t="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Cs=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Te.pdfObjectUrl&&(_t=Te.pdfObjectUrl,Cs="");var Os='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_t+'"'+Cs+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Te)+");<\/script></body></html>",Tr=v.open();return Tr!==null&&Tr.document.write(Os),Tr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(v)==="[object Window]"){var Ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Te.filename+'" width="500px" height="400px" /></body></html>',fn=v.open();if(fn!==null){fn.document.write(Ur);var jn=this;fn.document.documentElement.querySelector("#pdfViewer").onload=function(){fn.document.title=Te.filename,fn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jn.output("bloburl"))}}return fn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(v)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ra='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Te)+'"></iframe></body></html>',Ua=v.open();if(Ua!==null&&(Ua.document.write(ra),Ua.document.title=Te.filename),Ua||typeof safari>"u")return Ua;break;case"datauri":case"dataurl":return v.document.location.href=this.output("datauristring",Te);default:return null}},Uo.foo=function(){try{return Uo.apply(this,arguments)}catch(at){var X=at.stack||"";~X.indexOf(" at ")&&(X=X.split(" at ")[1]);var Te="Error in function "+X.split(`
`)[0].split("<")[0]+": "+at.message;if(!v.console)throw new Error(Te);v.console.error(Te,at),v.alert&&alert(Te)}},Uo.foo.bar=Uo,Uo.foo),Ll=function(X){return Array.isArray($c)===!0&&$c.indexOf(X)>-1};switch(I){case"pt":nn=1;break;case"mm":nn=2.834645669291339;break;case"cm":nn=28.346456692913385;break;case"in":nn=72;break;case"px":nn=Ll("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":nn=12;break;case"ex":nn=6;break;default:if(typeof I!="number")throw new Error("Invalid unit: "+I);nn=I}var $i=null;_s(),Vt();var Yl=xe.__private__.getPageInfo=xe.getPageInfo=function(X){if(isNaN(X)||X%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lr[X].objId,pageNumber:X,pageContext:lr[X]}},ud=xe.__private__.getPageInfoByObjId=function(X){if(isNaN(X)||X%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Te in lr)if(lr[Te].objId===X)break;return Yl(Te)},Gi=xe.__private__.getCurrentPageInfo=xe.getCurrentPageInfo=function(){return{objId:lr[dt].objId,pageNumber:dt,pageContext:lr[dt]}};xe.addPage=function(){return Uc.apply(this,arguments),this},xe.setPage=function(){return $l.apply(this,arguments),Xr.call(this,Zs[dt]),this},xe.insertPage=function(X){return this.addPage(),this.movePage(dt,X),this},xe.movePage=function(X,Te){var at,ft;if(X>Te){at=Zs[X],ft=lr[X];for(var _t=X;_t>Te;_t--)Zs[_t]=Zs[_t-1],lr[_t]=lr[_t-1];Zs[Te]=at,lr[Te]=ft,this.setPage(Te)}else if(X<Te){at=Zs[X],ft=lr[X];for(var Cs=X;Cs<Te;Cs++)Zs[Cs]=Zs[Cs+1],lr[Cs]=lr[Cs+1];Zs[Te]=at,lr[Te]=ft,this.setPage(Te)}return this},xe.deletePage=function(){return cd.apply(this,arguments),this},xe.__private__.text=xe.text=function(X,Te,at,ft,_t){var Cs,Os,Tr,Ur,fn,jn,ra,Ua,xi,Ba=(ft=ft||{}).scope||this;if(typeof X=="number"&&typeof Te=="number"&&(typeof at=="string"||Array.isArray(at))){var Si=at;at=Te,Te=X,X=Si}if(arguments[3]instanceof an==0?(Tr=arguments[4],Ur=arguments[5],(0,f.default)(ra=arguments[3])==="object"&&ra!==null||(typeof Tr=="string"&&(Ur=Tr,Tr=null),typeof ra=="string"&&(Ur=ra,ra=null),typeof ra=="number"&&(Tr=ra,ra=null),ft={flags:ra,angle:Tr,align:Ur})):(bt("The transform parameter of text() with a Matrix value"),xi=_t),isNaN(Te)||isNaN(at)||X==null)throw new Error("Invalid arguments passed to jsPDF.text");if(X.length===0)return Ba;var C,Ce="",P=typeof ft.lineHeightFactor=="number"?ft.lineHeightFactor:hd,Qe=Ba.internal.scaleFactor;function lt(aa){return aa=aa.split("	").join(Array(ft.TabLen||9).join(" ")),po(aa,ra)}function it(aa){for(var Pa,_n=aa.concat(),Xi=[],sd=_n.length;sd--;)typeof(Pa=_n.shift())=="string"?Xi.push(Pa):Array.isArray(aa)&&(Pa.length===1||Pa[1]===void 0&&Pa[2]===void 0)?Xi.push(Pa[0]):Xi.push([Pa[0],Pa[1],Pa[2]]);return Xi}function Yt(aa,Pa){var _n;if(typeof aa=="string")_n=Pa(aa)[0];else if(Array.isArray(aa)){for(var Xi,sd,xu=aa.concat(),Md=[],Fu=xu.length;Fu--;)typeof(Xi=xu.shift())=="string"?Md.push(Pa(Xi)[0]):Array.isArray(Xi)&&typeof Xi[0]=="string"&&(sd=Pa(Xi[0],Xi[1],Xi[2]),Md.push([sd[0],sd[1],sd[2]]));_n=Md}return _n}var Tt=!1,xr=!0;if(typeof X=="string")Tt=!0;else if(Array.isArray(X)){var wt=X.concat();Os=[];for(var Xt,mn=wt.length;mn--;)(typeof(Xt=wt.shift())!="string"||Array.isArray(Xt)&&typeof Xt[0]!="string")&&(xr=!1);Tt=xr}if(Tt===!1)throw new Error('Type of text must be string or Array. "'+X+'" is not recognized.');typeof X=="string"&&(X=X.match(/[\r?\n]/)?X.split(/\r\n|\r|\n/g):[X]);var or=Ps/Ba.internal.scaleFactor,Qs=or*(P-1);switch(ft.baseline){case"bottom":at-=Qs;break;case"top":at+=or-Qs;break;case"hanging":at+=or-2*Qs;break;case"middle":at+=or/2-Qs}if((jn=ft.maxWidth||0)>0&&(typeof X=="string"?X=Ba.splitTextToSize(X,jn):Object.prototype.toString.call(X)==="[object Array]"&&(X=X.reduce(function(aa,Pa){return aa.concat(Ba.splitTextToSize(Pa,jn))},[]))),Cs={text:X,x:Te,y:at,options:ft,mutex:{pdfEscape:po,activeFontKey:Er,fonts:Sn,activeFontSize:Ps}},Fn.publish("preProcessText",Cs),X=Cs.text,Tr=(ft=Cs.options).angle,xi instanceof an==0&&Tr&&typeof Tr=="number"){Tr*=Math.PI/180,ft.rotationDirection===0&&(Tr=-Tr),pt===Dt&&(Tr=-Tr);var gs=Math.cos(Tr),Fa=Math.sin(Tr);xi=new an(gs,Fa,-Fa,gs,0,0)}else Tr&&Tr instanceof an&&(xi=Tr);pt!==Dt||xi||(xi=mi),(fn=ft.charSpace||sl)!==void 0&&(Ce+=Ht(gt(fn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ua=ft.horizontalScale)!==void 0&&(Ce+=Ht(100*Ua)+` Tz
`),ft.lang;var An=-1,Wr=ft.renderingMode!==void 0?ft.renderingMode:ft.stroke,ln=Ba.internal.getCurrentPageInfo().pageContext;switch(Wr){case 0:case!1:case"fill":An=0;break;case 1:case!0:case"stroke":An=1;break;case 2:case"fillThenStroke":An=2;break;case 3:case"invisible":An=3;break;case 4:case"fillAndAddForClipping":An=4;break;case 5:case"strokeAndAddPathForClipping":An=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":An=6;break;case 7:case"addToPathForClipping":An=7}var En=ln.usedRenderingMode!==void 0?ln.usedRenderingMode:-1;An!==-1?Ce+=An+` Tr
`:En!==-1&&(Ce+=`0 Tr
`),An!==-1&&(ln.usedRenderingMode=An),Ur=ft.align||"left";var sr,Tn=Ps*P,Ma=Ba.internal.pageSize.getWidth(),Vr=Sn[Er];fn=ft.charSpace||sl,jn=ft.maxWidth||0,ra=Object.assign({autoencode:!0,noBOM:!0},ft.flags);var na=[],Qn=function(aa){return Ba.getStringUnitWidth(aa,{font:Vr,charSpace:fn,fontSize:Ps,doKerning:!1})*Ps/Qe};if(Object.prototype.toString.call(X)==="[object Array]"){var Fr;Os=it(X),Ur!=="left"&&(sr=Os.map(Qn));var on,bo=0;if(Ur==="right"){Te-=sr[0],X=[],mn=Os.length;for(var Zl=0;Zl<mn;Zl++)Zl===0?(on=Do(Te),Fr=Lc(at)):(on=gt(bo-sr[Zl]),Fr=-Tn),X.push([Os[Zl],on,Fr]),bo=sr[Zl]}else if(Ur==="center"){Te-=sr[0]/2,X=[],mn=Os.length;for(var vl=0;vl<mn;vl++)vl===0?(on=Do(Te),Fr=Lc(at)):(on=gt((bo-sr[vl])/2),Fr=-Tn),X.push([Os[vl],on,Fr]),bo=sr[vl]}else if(Ur==="left"){X=[],mn=Os.length;for(var Yi=0;Yi<mn;Yi++)X.push(Os[Yi])}else if(Ur==="justify"&&Vr.encoding==="Identity-H"){X=[],mn=Os.length,jn=jn!==0?jn:Ma;for(var vo=0,Ga=0;Ga<mn;Ga++)if(Fr=Ga===0?Lc(at):-Tn,on=Ga===0?Do(Te):vo,Ga<mn-1){var Uu=gt((jn-sr[Ga])/(Os[Ga].split(" ").length-1)),td=Os[Ga].split(" ");X.push([td[0]+" ",on,Fr]),vo=0;for(var al=1;al<td.length;al++){var il=(Qn(td[al-1]+" "+td[al])-Qn(td[al]))*Qe+Uu;al==td.length-1?X.push([td[al],il,0]):X.push([td[al]+" ",il,0]),vo-=il}}else X.push([Os[Ga],on,Fr]);X.push(["",vo,0])}else{if(Ur!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(X=[],mn=Os.length,jn=jn!==0?jn:Ma,Ga=0;Ga<mn;Ga++){Fr=Ga===0?Lc(at):-Tn,on=Ga===0?Do(Te):0;var bi=Os[Ga].split(" ").length-1,Xd=bi>0?(jn-sr[Ga])/bi:0;Ga<mn-1?na.push(Ht(gt(Xd))):na.push(0),X.push([Os[Ga],on,Fr])}}}(typeof ft.R2L=="boolean"?ft.R2L:$r)===!0&&(X=Yt(X,function(aa,Pa,_n){return[aa.split("").reverse().join(""),Pa,_n]})),Cs={text:X,x:Te,y:at,options:ft,mutex:{pdfEscape:po,activeFontKey:Er,fonts:Sn,activeFontSize:Ps}},Fn.publish("postProcessText",Cs),X=Cs.text,C=Cs.mutex.isHex||!1;var xc=Sn[Er].encoding;xc!=="WinAnsiEncoding"&&xc!=="StandardEncoding"||(X=Yt(X,function(aa,Pa,_n){return[lt(aa),Pa,_n]})),Os=it(X),X=[];for(var bn,ma,si,bd=Array.isArray(Os[0])?1:0,ql="",bc=function(aa,Pa,_n){var Xi="";return _n instanceof an?(_n=typeof ft.angle=="number"?oi(_n,new an(1,0,0,1,aa,Pa)):oi(new an(1,0,0,1,aa,Pa),_n),pt===Dt&&(_n=oi(new an(1,0,0,-1,0,0),_n)),Xi=_n.join(" ")+` Tm
`):Xi=Ht(aa)+" "+Ht(Pa)+` Td
`,Xi},Qo=0;Qo<Os.length;Qo++){switch(ql="",bd){case 1:si=(C?"<":"(")+Os[Qo][0]+(C?">":")"),bn=parseFloat(Os[Qo][1]),ma=parseFloat(Os[Qo][2]);break;case 0:si=(C?"<":"(")+Os[Qo]+(C?">":")"),bn=Do(Te),ma=Lc(at)}na!==void 0&&na[Qo]!==void 0&&(ql=na[Qo]+` Tw
`),Qo===0?X.push(ql+bc(bn,ma,xi)+si):bd===0?X.push(ql+si):bd===1&&X.push(ql+bc(bn,ma,xi)+si)}X=bd===0?X.join(` Tj
T* `):X.join(` Tj
`),X+=` Tj
`;var ec=`BT
/`;return ec+=Er+" "+Ps+` Tf
`,ec+=Ht(Ps*P)+` TL
`,ec+=xl+`
`,ec+=Ce,ec+=X,tt(ec+="ET"),Xe[Er]=!0,Ba};var Yc=xe.__private__.clip=xe.clip=function(X){return tt(X==="evenodd"?"W*":"W"),this};xe.clipEvenOdd=function(){return Yc("evenodd")},xe.__private__.discardPath=xe.discardPath=function(){return tt("n"),this};var Io=xe.__private__.isValidStyle=function(X){var Te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(X)!==-1&&(Te=!0),Te};xe.__private__.setDefaultPathOperation=xe.setDefaultPathOperation=function(X){return Io(X)&&(je=X),this};var Ad=xe.__private__.getStyle=xe.getStyle=function(X){var Te=je;switch(X){case"D":case"S":Te="S";break;case"F":Te="f";break;case"FD":case"DF":Te="B";break;case"f":case"f*":case"B":case"B*":Te=X}return Te},Xl=xe.close=function(){return tt("h"),this};xe.stroke=function(){return tt("S"),this},xe.fill=function(X){return xo("f",X),this},xe.fillEvenOdd=function(X){return xo("f*",X),this},xe.fillStroke=function(X){return xo("B",X),this},xe.fillStrokeEvenOdd=function(X){return xo("B*",X),this};var xo=function(X,Te){(0,f.default)(Te)==="object"?ml(Te,X):tt(X)},eo=function(X){X===null||pt===Dt&&X===void 0||(X=Ad(X),tt(X))};function Jl(X,Te,at,ft,_t){var Cs=new ut(Te||this.boundingBox,at||this.xStep,ft||this.yStep,this.gState,_t||this.matrix);Cs.stream=this.stream;var Os=X+"$$"+this.cloneIndex+++"$$";return qo(Os,Cs),Cs}var ml=function(X,Te){var at=Qa[X.key],ft=Gr[at];if(ft instanceof Nt)tt("q"),tt(tl(Te)),ft.gState&&xe.setGState(ft.gState),tt(X.matrix.toString()+" cm"),tt("/"+at+" sh"),tt("Q");else if(ft instanceof ut){var _t=new an(1,0,0,-1,0,ed());X.matrix&&(_t=_t.multiply(X.matrix||mi),at=Jl.call(ft,X.key,X.boundingBox,X.xStep,X.yStep,_t).id),tt("q"),tt("/Pattern cs"),tt("/"+at+" scn"),ft.gState&&xe.setGState(ft.gState),tt(Te),tt("Q")}},tl=function(X){switch(X){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},pl=xe.moveTo=function(X,Te){return tt(Ht(gt(X))+" "+Ht(xt(Te))+" m"),this},fu=xe.lineTo=function(X,Te){return tt(Ht(gt(X))+" "+Ht(xt(Te))+" l"),this},Ol=xe.curveTo=function(X,Te,at,ft,_t,Cs){return tt([Ht(gt(X)),Ht(xt(Te)),Ht(gt(at)),Ht(xt(ft)),Ht(gt(_t)),Ht(xt(Cs)),"c"].join(" ")),this};xe.__private__.line=xe.line=function(X,Te,at,ft,_t){if(isNaN(X)||isNaN(Te)||isNaN(at)||isNaN(ft)||!Io(_t))throw new Error("Invalid arguments passed to jsPDF.line");return pt===yt?this.lines([[at-X,ft-Te]],X,Te,[1,1],_t||"S"):this.lines([[at-X,ft-Te]],X,Te,[1,1]).stroke()},xe.__private__.lines=xe.lines=function(X,Te,at,ft,_t,Cs){var Os,Tr,Ur,fn,jn,ra,Ua,xi,Ba,Si,C,Ce;if(typeof X=="number"&&(Ce=at,at=Te,Te=X,X=Ce),ft=ft||[1,1],Cs=Cs||!1,isNaN(Te)||isNaN(at)||!Array.isArray(X)||!Array.isArray(ft)||!Io(_t)||typeof Cs!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(pl(Te,at),Os=ft[0],Tr=ft[1],fn=X.length,Si=Te,C=at,Ur=0;Ur<fn;Ur++)(jn=X[Ur]).length===2?(Si=jn[0]*Os+Si,C=jn[1]*Tr+C,fu(Si,C)):(ra=jn[0]*Os+Si,Ua=jn[1]*Tr+C,xi=jn[2]*Os+Si,Ba=jn[3]*Tr+C,Si=jn[4]*Os+Si,C=jn[5]*Tr+C,Ol(ra,Ua,xi,Ba,Si,C));return Cs&&Xl(),eo(_t),this},xe.path=function(X){for(var Te=0;Te<X.length;Te++){var at=X[Te],ft=at.c;switch(at.op){case"m":pl(ft[0],ft[1]);break;case"l":fu(ft[0],ft[1]);break;case"c":Ol.apply(this,ft);break;case"h":Xl()}}return this},xe.__private__.rect=xe.rect=function(X,Te,at,ft,_t){if(isNaN(X)||isNaN(Te)||isNaN(at)||isNaN(ft)||!Io(_t))throw new Error("Invalid arguments passed to jsPDF.rect");return pt===yt&&(ft=-ft),tt([Ht(gt(X)),Ht(xt(Te)),Ht(gt(at)),Ht(gt(ft)),"re"].join(" ")),eo(_t),this},xe.__private__.triangle=xe.triangle=function(X,Te,at,ft,_t,Cs,Os){if(isNaN(X)||isNaN(Te)||isNaN(at)||isNaN(ft)||isNaN(_t)||isNaN(Cs)||!Io(Os))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[at-X,ft-Te],[_t-at,Cs-ft],[X-_t,Te-Cs]],X,Te,[1,1],Os,!0),this},xe.__private__.roundedRect=xe.roundedRect=function(X,Te,at,ft,_t,Cs,Os){if(isNaN(X)||isNaN(Te)||isNaN(at)||isNaN(ft)||isNaN(_t)||isNaN(Cs)||!Io(Os))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Tr=4/3*(Math.SQRT2-1);return _t=Math.min(_t,.5*at),Cs=Math.min(Cs,.5*ft),this.lines([[at-2*_t,0],[_t*Tr,0,_t,Cs-Cs*Tr,_t,Cs],[0,ft-2*Cs],[0,Cs*Tr,-_t*Tr,Cs,-_t,Cs],[2*_t-at,0],[-_t*Tr,0,-_t,-Cs*Tr,-_t,-Cs],[0,2*Cs-ft],[0,-Cs*Tr,_t*Tr,-Cs,_t,-Cs]],X+_t,Te,[1,1],Os,!0),this},xe.__private__.ellipse=xe.ellipse=function(X,Te,at,ft,_t){if(isNaN(X)||isNaN(Te)||isNaN(at)||isNaN(ft)||!Io(_t))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Cs=4/3*(Math.SQRT2-1)*at,Os=4/3*(Math.SQRT2-1)*ft;return pl(X+at,Te),Ol(X+at,Te-Os,X+Cs,Te-ft,X,Te-ft),Ol(X-Cs,Te-ft,X-at,Te-Os,X-at,Te),Ol(X-at,Te+Os,X-Cs,Te+ft,X,Te+ft),Ol(X+Cs,Te+ft,X+at,Te+Os,X+at,Te),eo(_t),this},xe.__private__.circle=xe.circle=function(X,Te,at,ft){if(isNaN(X)||isNaN(Te)||isNaN(at)||!Io(ft))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(X,Te,at,at,ft)},xe.setFont=function(X,Te,at){return at&&(Te=is(Te,at)),Er=dd(X,Te,{disableWarning:!1}),this};var mu=xe.__private__.getFont=xe.getFont=function(){return Sn[dd.apply(xe,arguments)]};xe.__private__.getFontList=xe.getFontList=function(){var X,Te,at={};for(X in Rn)if(Rn.hasOwnProperty(X))for(Te in at[X]=[],Rn[X])Rn[X].hasOwnProperty(Te)&&at[X].push(Te);return at},xe.addFont=function(X,Te,at,ft,_t){var Cs=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Cs.indexOf(arguments[3])!==-1?_t=arguments[3]:arguments[3]&&Cs.indexOf(arguments[3])==-1&&(at=is(at,ft)),Fl.call(this,X,Te,at,_t=_t||"Identity-H")};var hd,Qi=N.lineWidth||.200025,_a=xe.__private__.getLineWidth=xe.getLineWidth=function(){return Qi},dr=xe.__private__.setLineWidth=xe.setLineWidth=function(X){return Qi=X,tt(Ht(gt(X))+" w"),this};xe.__private__.setLineDash=et.API.setLineDash=et.API.setLineDashPattern=function(X,Te){if(X=X||[],Te=Te||0,isNaN(Te)||!Array.isArray(X))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return X=X.map(function(at){return Ht(gt(at))}).join(" "),Te=Ht(gt(Te)),tt("["+X+"] "+Te+" d"),this};var Mc=xe.__private__.getLineHeight=xe.getLineHeight=function(){return Ps*hd};xe.__private__.getLineHeight=xe.getLineHeight=function(){return Ps*hd};var gl=xe.__private__.setLineHeightFactor=xe.setLineHeightFactor=function(X){return typeof(X=X||1.15)=="number"&&(hd=X),this},fd=xe.__private__.getLineHeightFactor=xe.getLineHeightFactor=function(){return hd};gl(N.lineHeight);var Do=xe.__private__.getHorizontalCoordinate=function(X){return gt(X)},Lc=xe.__private__.getVerticalCoordinate=function(X){return pt===Dt?X:lr[dt].mediaBox.topRightY-lr[dt].mediaBox.bottomLeftY-gt(X)},pu=xe.__private__.getHorizontalCoordinateString=xe.getHorizontalCoordinateString=function(X){return Ht(Do(X))},md=xe.__private__.getVerticalCoordinateString=xe.getVerticalCoordinateString=function(X){return Ht(Lc(X))},Wi=N.strokeColor||"0 G";xe.__private__.getStrokeColor=xe.getDrawColor=function(){return mo(Wi)},xe.__private__.setStrokeColor=xe.setDrawColor=function(X,Te,at,ft){return Wi=Ul({ch1:X,ch2:Te,ch3:at,ch4:ft,pdfColorType:"draw",precision:2}),tt(Wi),this};var Xc=N.fillColor||"0 g";xe.__private__.getFillColor=xe.getFillColor=function(){return mo(Xc)},xe.__private__.setFillColor=xe.setFillColor=function(X,Te,at,ft){return Xc=Ul({ch1:X,ch2:Te,ch3:at,ch4:ft,pdfColorType:"fill",precision:2}),tt(Xc),this};var xl=N.textColor||"0 g",Yd=xe.__private__.getTextColor=xe.getTextColor=function(){return mo(xl)};xe.__private__.setTextColor=xe.setTextColor=function(X,Te,at,ft){return xl=Ul({ch1:X,ch2:Te,ch3:at,ch4:ft,pdfColorType:"text",precision:3}),this};var sl=N.charSpace,pc=xe.__private__.getCharSpace=xe.getCharSpace=function(){return parseFloat(sl||0)};xe.__private__.setCharSpace=xe.setCharSpace=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return sl=X,this};var Ro=0;xe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},xe.__private__.setLineCap=xe.setLineCap=function(X){var Te=xe.CapJoinStyles[X];if(Te===void 0)throw new Error("Line cap style of '"+X+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ro=Te,tt(Te+" J"),this};var rl=0;xe.__private__.setLineJoin=xe.setLineJoin=function(X){var Te=xe.CapJoinStyles[X];if(Te===void 0)throw new Error("Line join style of '"+X+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rl=Te,tt(Te+" j"),this},xe.__private__.setLineMiterLimit=xe.__private__.setMiterLimit=xe.setLineMiterLimit=xe.setMiterLimit=function(X){if(X=X||0,isNaN(X))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return tt(Ht(gt(X))+" M"),this},xe.GState=Me,xe.setGState=function(X){(X=typeof X=="string"?hn[zr[X]]:pd(null,X)).equals(ja)||(tt("/"+X.id+" gs"),ja=X)};var pd=function(X,Te){if(!X||!zr[X]){var at=!1;for(var ft in hn)if(hn.hasOwnProperty(ft)&&hn[ft].equals(Te)){at=!0;break}if(at)Te=hn[ft];else{var _t="GS"+(Object.keys(hn).length+1).toString(10);hn[_t]=Te,Te.id=_t}return X&&(zr[X]=Te.id),Fn.publish("addGState",Te),Te}};xe.addGState=function(X,Te){return pd(X,Te),this},xe.saveGraphicsState=function(){return tt("q"),$a.push({key:Er,size:Ps,color:xl}),this},xe.restoreGraphicsState=function(){tt("Q");var X=$a.pop();return Er=X.key,Ps=X.size,xl=X.color,ja=null,this},xe.setCurrentTransformationMatrix=function(X){return tt(X.toString()+" cm"),this},xe.comment=function(X){return tt("#"+X),this};var bl=function(X,Te){var at=X||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return at},set:function(Cs){isNaN(Cs)||(at=parseFloat(Cs))}});var ft=Te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ft},set:function(Cs){isNaN(Cs)||(ft=parseFloat(Cs))}});var _t="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _t},set:function(Cs){_t=Cs.toString()}}),this},gc=function(X,Te,at,ft){bl.call(this,X,Te),this.type="rect";var _t=at||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _t},set:function(Os){isNaN(Os)||(_t=parseFloat(Os))}});var Cs=ft||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Cs},set:function(Os){isNaN(Os)||(Cs=parseFloat(Os))}}),this},Jc=function(){this.page=wn,this.currentPage=dt,this.pages=Zs.slice(0),this.pagesContext=lr.slice(0),this.x=Qr,this.y=xn,this.matrix=Wn,this.width=gd(dt),this.height=Tu(dt),this.outputDestination=vr,this.id="",this.objectNumber=-1};Jc.prototype.restore=function(){wn=this.page,dt=this.currentPage,lr=this.pagesContext,Zs=this.pages,Qr=this.x,xn=this.y,Wn=this.matrix,gu(dt,this.width),Zc(dt,this.height),vr=this.outputDestination};var nl=function(X,Te,at,ft,_t){Kl.push(new Jc),wn=dt=0,Zs=[],Qr=X,xn=Te,Wn=_t,mc([at,ft])};for(var ti in xe.beginFormObject=function(X,Te,at,ft,_t){return nl(X,Te,at,ft,_t),this},xe.endFormObject=function(X){return(function(Te){if(oo[Te])Kl.pop().restore();else{var at=new Jc,ft="Xo"+(Object.keys(Di).length+1).toString(10);at.id=ft,oo[Te]=ft,Di[ft]=at,Fn.publish("addFormObject",at),Kl.pop().restore()}})(X),this},xe.doFormObject=function(X,Te){var at=Di[oo[X]];return tt("q"),tt(Te.toString()+" cm"),tt("/"+at.id+" Do"),tt("Q"),this},xe.getFormObject=function(X){var Te=Di[oo[X]];return{x:Te.x,y:Te.y,width:Te.width,height:Te.height,matrix:Te.matrix}},xe.save=function(X,Te){return X=X||"generated.pdf",(Te=Te||{}).returnPromise=Te.returnPromise||!1,Te.returnPromise===!1?(Z(Wl(Gl()),X),typeof Z.unload=="function"&&v.setTimeout&&setTimeout(Z.unload,911),this):new Promise(function(at,ft){try{var _t=Z(Wl(Gl()),X);typeof Z.unload=="function"&&v.setTimeout&&setTimeout(Z.unload,911),at(_t)}catch(Cs){ft(Cs.message)}})},et.API)et.API.hasOwnProperty(ti)&&(ti==="events"&&et.API.events.length?(function(X,Te){var at,ft,_t;for(_t=Te.length-1;_t!==-1;_t--)at=Te[_t][0],ft=Te[_t][1],X.subscribe.apply(X,[at].concat(typeof ft=="function"?[ft]:ft))})(Fn,et.API.events):xe[ti]=et.API[ti]);function gd(X){return lr[X].mediaBox.topRightX-lr[X].mediaBox.bottomLeftX}function gu(X,Te){lr[X].mediaBox.topRightX=Te+lr[X].mediaBox.bottomLeftX}function Tu(X){return lr[X].mediaBox.topRightY-lr[X].mediaBox.bottomLeftY}function Zc(X,Te){lr[X].mediaBox.topRightY=Te+lr[X].mediaBox.bottomLeftY}var qc=xe.getPageWidth=function(X){return gd(X=X||dt)/nn},gi=xe.setPageWidth=function(X,Te){gu(X,Te*nn)},ed=xe.getPageHeight=function(X){return Tu(X=X||dt)/nn},xd=xe.setPageHeight=function(X,Te){Zc(X,Te*nn)};return xe.internal={pdfEscape:po,getStyle:Ad,getFont:mu,getFontSize:jr,getCharSpace:pc,getTextColor:Yd,getLineHeight:Mc,getLineHeightFactor:fd,getLineWidth:_a,write:cr,getHorizontalCoordinate:Do,getVerticalCoordinate:Lc,getCoordinateString:pu,getVerticalCoordinateString:md,collections:{},newObject:Da,newAdditionalObject:Tl,newObjectDeferred:pi,newObjectDeferredBegin:li,getFilters:Fo,putStream:hl,events:Fn,scaleFactor:nn,pageSize:{getWidth:function(){return qc(dt)},setWidth:function(X){gi(dt,X)},getHeight:function(){return ed(dt)},setHeight:function(X){xd(dt,X)}},encryptionOptions:Le,encryption:$i,getEncryptor:function(X){return Le!==null?$i.encryptor(X,0):function(Te){return Te}},output:Fc,getNumberOfPages:Wd,get pages(){return Zs},out:tt,f2:Ye,f3:rt,getPageInfo:Yl,getPageInfoByObjId:ud,getCurrentPageInfo:Gi,getPDFVersion:ot,Point:bl,Rectangle:gc,Matrix:an,hasHotfix:Ll},Object.defineProperty(xe.internal.pageSize,"width",{get:function(){return qc(dt)},set:function(X){gi(dt,X)},enumerable:!0,configurable:!0}),Object.defineProperty(xe.internal.pageSize,"height",{get:function(){return ed(dt)},set:function(X){xd(dt,X)},enumerable:!0,configurable:!0}),(function(X){for(var Te=0,at=ir.length;Te<at;Te++){var ft=Fl.call(this,X[Te][0],X[Te][1],X[Te][2],ir[Te][3],!0);ze===!1&&(Xe[ft]=!0);var _t=X[Te][0].split("-");Lo({id:ft,fontName:_t[0],fontStyle:_t[1]||""})}Fn.publish("addFonts",{fonts:Sn,dictionary:Rn})}).call(xe,ir),Er="F1",Uc(R,S),Fn.publish("initialized"),xe}ue.prototype.lsbFirstWord=function(N){return String.fromCharCode(255&N,N>>8&255,N>>16&255,N>>24&255)},ue.prototype.toHexString=function(N){return N.split("").map(function(b){return("0"+(255&b.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ue.prototype.hexToBytes=function(N){for(var b=[],S=0;S<N.length;S+=2)b.push(String.fromCharCode(parseInt(N.substr(S,2),16)));return b.join("")},ue.prototype.processOwnerPassword=function(N,b){return me(Ee(b).substr(0,5),N)},ue.prototype.encryptor=function(N,b){var S=Ee(this.encryptionKey+String.fromCharCode(255&N,N>>8&255,N>>16&255,255&b,b>>8&255)).substr(0,10);return function(I){return me(S,I)}},Me.prototype.equals=function(N){var b,S="id,objectNumber,equals";if(!N||(0,f.default)(N)!==(0,f.default)(this))return!1;var I=0;for(b in this)if(!(S.indexOf(b)>=0)){if(this.hasOwnProperty(b)&&!N.hasOwnProperty(b)||this[b]!==N[b])return!1;I++}for(b in N)N.hasOwnProperty(b)&&S.indexOf(b)<0&&I--;return I===0},et.API={events:[]},et.version="4.0.0";var Lt=et.API,ns=1,ls=function(N){return N.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vt=function(N){return N.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$e=function(N){return N.toFixed(2)},Bt=function(N){return N.toFixed(5)};Lt.__acroform__={};var Qt=function(N,b){N.prototype=Object.create(b.prototype),N.prototype.constructor=N},ks=function(N){return N*ns},zs=function(N){var b=new Gs,S=Ts.internal.getHeight(N)||0,I=Ts.internal.getWidth(N)||0;return b.BBox=[0,0,Number($e(I)),Number($e(S))],b},yr=Lt.__acroform__.setBit=function(N,b){if(N=N||0,b=b||0,isNaN(N)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return N|1<<b},mr=Lt.__acroform__.clearBit=function(N,b){if(N=N||0,b=b||0,isNaN(N)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return N&~(1<<b)},ar=Lt.__acroform__.getBit=function(N,b){if(isNaN(N)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return N&1<<b?1:0},$s=Lt.__acroform__.getBitForPdf=function(N,b){if(isNaN(N)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ar(N,b-1)},As=Lt.__acroform__.setBitForPdf=function(N,b){if(isNaN(N)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yr(N,b-1)},Rs=Lt.__acroform__.clearBitForPdf=function(N,b){if(isNaN(N)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return mr(N,b-1)},br=Lt.__acroform__.calculateCoordinates=function(N,b){var S=b.internal.getHorizontalCoordinate,I=b.internal.getVerticalCoordinate,R=N[0],V=N[1],le=N[2],q=N[3],ee={};return ee.lowerLeft_X=S(R)||0,ee.lowerLeft_Y=I(V+q)||0,ee.upperRight_X=S(R+le)||0,ee.upperRight_Y=I(V)||0,[Number($e(ee.lowerLeft_X)),Number($e(ee.lowerLeft_Y)),Number($e(ee.upperRight_X)),Number($e(ee.upperRight_Y))]},js=function(N){if(N.appearanceStreamContent)return N.appearanceStreamContent;if(N.V||N.DV){var b=[],S=N._V||N.DV,I=qs(N,S),R=N.scope.internal.getFont(N.fontName,N.fontStyle).id;b.push("/Tx BMC"),b.push("q"),b.push("BT"),b.push(N.scope.__private__.encodeColorString(N.color)),b.push("/"+R+" "+$e(I.fontSize)+" Tf"),b.push("1 0 0 1 0 0 Tm"),b.push(I.text),b.push("ET"),b.push("Q"),b.push("EMC");var V=zs(N);return V.scope=N.scope,V.stream=b.join(`
`),V}},qs=function(N,b){var S=N.fontSize===0?N.maxFontSize:N.fontSize,I={text:"",fontSize:""},R=(b=(b=b.substr(0,1)=="("?b.substr(1):b).substr(b.length-1)==")"?b.substr(0,b.length-1):b).split(" ");R=N.multiline?R.map(function(Ye){return Ye.split(`
`)}):R.map(function(Ye){return[Ye]});var V=S,le=Ts.internal.getHeight(N)||0;le=le<0?-le:le;var q=Ts.internal.getWidth(N)||0;q=q<0?-q:q;var ee=function(Ye,rt,gt){if(Ye+1<R.length){var xt=rt+" "+R[Ye+1][0];return hr(xt,N,gt).width<=q-4}return!1};V++;e:for(;V>0;){b="",V--;var je,Le,ze=hr("3",N,V).height,Xe=N.multiline?le-V:(le-ze)/2,xe=Xe+=2,ct=0,ot=0,At=0;if(V<=0){b=`(...) Tj
`,b+="% Width of Text: "+hr(b,N,V=12).width+", FieldWidth:"+q+`
`;break}for(var We="",yt=0,Dt=0;Dt<R.length;Dt++)if(R.hasOwnProperty(Dt)){var pt=!1;if(R[Dt].length!==1&&At!==R[Dt].length-1){if((ze+2)*(yt+2)+2>le)continue e;We+=R[Dt][At],pt=!0,ot=Dt,Dt--}else{We=(We+=R[Dt][At]+" ").substr(We.length-1)==" "?We.substr(0,We.length-1):We;var Ge=parseInt(Dt),Ft=ee(Ge,We,V),is=Dt>=R.length-1;if(Ft&&!is){We+=" ",At=0;continue}if(Ft||is){if(is)ot=Ge;else if(N.multiline&&(ze+2)*(yt+2)+2>le)continue e}else{if(!N.multiline||(ze+2)*(yt+2)+2>le)continue e;ot=Ge}}for(var Ht="",bt=ct;bt<=ot;bt++){var es=R[bt];if(N.multiline){if(bt===ot){Ht+=es[At]+" ",At=(At+1)%es.length;continue}if(bt===ct){Ht+=es[es.length-1]+" ";continue}}Ht+=es[0]+" "}switch(Ht=Ht.substr(Ht.length-1)==" "?Ht.substr(0,Ht.length-1):Ht,Le=hr(Ht,N,V).width,N.textAlign){case"right":je=q-Le-2;break;case"center":je=(q-Le)/2;break;default:je=2}b+=$e(je)+" "+$e(xe)+` Td
`,b+="("+ls(Ht)+`) Tj
`,b+=-$e(je)+` 0 Td
`,xe=-(V+2),Le=0,ct=pt?ot:ot+1,yt++,We=""}break}return I.text=b,I.fontSize=V,I},hr=function(N,b,S){var I=b.scope.internal.getFont(b.fontName,b.fontStyle),R=b.scope.getStringUnitWidth(N,{font:I,fontSize:parseFloat(S),charSpace:0})*parseFloat(S);return{height:b.scope.getStringUnitWidth("3",{font:I,fontSize:parseFloat(S),charSpace:0})*parseFloat(S)*1.5,width:R}},rr={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Xs=function(N,b){var S={type:"reference",object:N};b.internal.getPageInfo(N.page).pageContext.annotations.find(function(I){return I.type===S.type&&I.object===S.object})===void 0&&b.internal.getPageInfo(N.page).pageContext.annotations.push(S)},Es=function(N,b){if(b.scope=N,N.internal!==void 0&&(N.internal.acroformPlugin===void 0||N.internal.acroformPlugin.isInitialized===!1)){if(Ct.FieldNum=0,N.internal.acroformPlugin=JSON.parse(JSON.stringify(rr)),N.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ns=N.internal.scaleFactor,N.internal.acroformPlugin.acroFormDictionaryRoot=new fr,N.internal.acroformPlugin.acroFormDictionaryRoot.scope=N,N.internal.acroformPlugin.acroFormDictionaryRoot._eventID=N.internal.events.subscribe("postPutResources",function(){(function(S){S.internal.events.unsubscribe(S.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete S.internal.acroformPlugin.acroFormDictionaryRoot._eventID,S.internal.acroformPlugin.printedOut=!0})(N)}),N.internal.events.subscribe("buildDocument",function(){(function(S){S.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var I=S.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var R in I)if(I.hasOwnProperty(R)){var V=I[R];V.objId=void 0,V.hasAnnotation&&Xs(V,S)}})(N)}),N.internal.events.subscribe("putCatalog",function(){(function(S){if(S.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");S.internal.write("/AcroForm "+S.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(N)}),N.internal.events.subscribe("postPutPages",function(S){(function(I,R){var V=!I;for(var le in I||(R.internal.newObjectDeferredBegin(R.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),R.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),I=I||R.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(I.hasOwnProperty(le)){var q=I[le],ee=[],je=q.Rect;if(q.Rect&&(q.Rect=br(q.Rect,R)),R.internal.newObjectDeferredBegin(q.objId,!0),q.DA=Ts.createDefaultAppearanceStream(q),(0,f.default)(q)==="object"&&typeof q.getKeyValueListForStream=="function"&&(ee=q.getKeyValueListForStream()),q.Rect=je,q.hasAppearanceStream&&!q.appearanceStreamContent){var Le=js(q);ee.push({key:"AP",value:"<</N "+Le+">>"}),R.internal.acroformPlugin.xForms.push(Le)}if(q.appearanceStreamContent){var ze="";for(var Xe in q.appearanceStreamContent)if(q.appearanceStreamContent.hasOwnProperty(Xe)){var xe=q.appearanceStreamContent[Xe];if(ze+="/"+Xe+" ",ze+="<<",Object.keys(xe).length>=1||Array.isArray(xe)){for(var le in xe)if(xe.hasOwnProperty(le)){var ct=xe[le];typeof ct=="function"&&(ct=ct.call(R,q)),ze+="/"+le+" "+ct+" ",R.internal.acroformPlugin.xForms.indexOf(ct)>=0||R.internal.acroformPlugin.xForms.push(ct)}}else typeof(ct=xe)=="function"&&(ct=ct.call(R,q)),ze+="/"+le+" "+ct,R.internal.acroformPlugin.xForms.indexOf(ct)>=0||R.internal.acroformPlugin.xForms.push(ct);ze+=">>"}ee.push({key:"AP",value:`<<
`+ze+">>"})}R.internal.putStream({additionalKeyValues:ee,objectId:q.objId}),R.internal.out("endobj")}V&&(function(ot,At){for(var We in ot)if(ot.hasOwnProperty(We)){var yt=We,Dt=ot[We];At.internal.newObjectDeferredBegin(Dt.objId,!0),(0,f.default)(Dt)==="object"&&typeof Dt.putStream=="function"&&Dt.putStream(),delete ot[yt]}})(R.internal.acroformPlugin.xForms,R)})(S,N)}),N.internal.acroformPlugin.isInitialized=!0}},Gt=Lt.__acroform__.arrayToPdfArray=function(N,b,S){var I=function(le){return le};if(Array.isArray(N)){for(var R="[",V=0;V<N.length;V++)switch(V!==0&&(R+=" "),(0,f.default)(N[V])){case"boolean":case"number":case"object":R+=N[V].toString();break;case"string":N[V].substr(0,1)!=="/"?(b!==void 0&&S&&(I=S.internal.getEncryptor(b)),R+="("+ls(I(N[V].toString()))+")"):R+=N[V].toString()}return R+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vs=function(N,b,S){var I=function(R){return R};return b!==void 0&&S&&(I=S.internal.getEncryptor(b)),(N=N||"").toString(),"("+ls(I(N))+")"},Ms=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(N){this._objId=N}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ms.prototype.toString=function(){return this.objId+" 0 R"},Ms.prototype.putStream=function(){var N=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:N,objectId:this.objId}),this.scope.internal.out("endobj")},Ms.prototype.getKeyValueListForStream=function(){var N=[],b=Object.getOwnPropertyNames(this).filter(function(V){return V!="content"&&V!="appearanceStreamContent"&&V!="scope"&&V!="objId"&&V.substring(0,1)!="_"});for(var S in b)if(Object.getOwnPropertyDescriptor(this,b[S]).configurable===!1){var I=b[S],R=this[I];R&&(Array.isArray(R)?N.push({key:I,value:Gt(R,this.objId,this.scope)}):R instanceof Ms?(R.scope=this.scope,N.push({key:I,value:R.objId+" 0 R"})):typeof R!="function"&&N.push({key:I,value:R}))}return N};var Gs=function(){Ms.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var N,b=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return b},set:function(S){b=S}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(S){N=S.trim()},get:function(){return N||null}})};Qt(Gs,Ms);var fr=function(){Ms.call(this);var N,b=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return b.length>0?b:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return b}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(N){var S=function(I){return I};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+ls(S(N))+")"}},set:function(S){N=S}})};Qt(fr,Ms);var Ct=function N(){Ms.call(this);var b=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return b},set:function(We){if(isNaN(We))throw new Error('Invalid value "'+We+'" for attribute F supplied.');b=We}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$s(b,3)},set:function(We){We?this.F=As(b,3):this.F=Rs(b,3)}});var S=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return S},set:function(We){if(isNaN(We))throw new Error('Invalid value "'+We+'" for attribute Ff supplied.');S=We}});var I=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(I.length!==0)return I},set:function(We){I=We!==void 0?We:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[0])?0:I[0]},set:function(We){I[0]=We}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[1])?0:I[1]},set:function(We){I[1]=We}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[2])?0:I[2]},set:function(We){I[2]=We}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[3])?0:I[3]},set:function(We){I[3]=We}});var R="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return R},set:function(We){switch(We){case"/Btn":case"/Tx":case"/Ch":case"/Sig":R=We;break;default:throw new Error('Invalid value "'+We+'" for attribute FT supplied.')}}});var V=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!V||V.length<1){if(this instanceof Ns)return;V="FieldObject"+N.FieldNum++}var We=function(yt){return yt};return this.scope&&(We=this.scope.internal.getEncryptor(this.objId)),"("+ls(We(V))+")"},set:function(We){V=We.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return V},set:function(We){V=We}});var le="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return le},set:function(We){le=We}});var q="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return q},set:function(We){q=We}});var ee=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return ee},set:function(We){ee=We}});var je=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return je===void 0?50/ns:je},set:function(We){je=We}});var Le="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Le},set:function(We){Le=We}});var ze="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ze||this instanceof Ns||this instanceof kr))return vs(ze,this.objId,this.scope)},set:function(We){We=We.toString(),ze=We}});var Xe=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Xe)return this instanceof Vs==0?vs(Xe,this.objId,this.scope):Xe},set:function(We){We=We.toString(),Xe=this instanceof Vs==0?We.substr(0,1)==="("?vt(We.substr(1,We.length-2)):vt(We):We}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vs==1?vt(Xe.substr(1,Xe.length-1)):Xe},set:function(We){We=We.toString(),Xe=this instanceof Vs==1?"/"+We:We}});var xe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(xe)return xe},set:function(We){this.V=We}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(xe)return this instanceof Vs==0?vs(xe,this.objId,this.scope):xe},set:function(We){We=We.toString(),xe=this instanceof Vs==0?We.substr(0,1)==="("?vt(We.substr(1,We.length-2)):vt(We):We}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vs==1?vt(xe.substr(1,xe.length-1)):xe},set:function(We){We=We.toString(),xe=this instanceof Vs==1?"/"+We:We}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ct,ot=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return ot},set:function(We){We=!!We,ot=We}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ct)return ct},set:function(We){ct=We}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,1)},set:function(We){We?this.Ff=As(this.Ff,1):this.Ff=Rs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,2)},set:function(We){We?this.Ff=As(this.Ff,2):this.Ff=Rs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,3)},set:function(We){We?this.Ff=As(this.Ff,3):this.Ff=Rs(this.Ff,3)}});var At=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(At!==null)return At},set:function(We){if([0,1,2].indexOf(We)===-1)throw new Error('Invalid value "'+We+'" for attribute Q supplied.');At=We}}),Object.defineProperty(this,"textAlign",{get:function(){var We;switch(At){case 0:default:We="left";break;case 1:We="center";break;case 2:We="right"}return We},configurable:!0,enumerable:!0,set:function(We){switch(We){case"right":case 2:At=2;break;case"center":case 1:At=1;break;default:At=0}}})};Qt(Ct,Ms);var Zt=function(){Ct.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var N=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return N},set:function(S){N=S}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return N},set:function(S){N=S}});var b=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Gt(b,this.objId,this.scope)},set:function(S){var I,R;R=[],typeof(I=S)=="string"&&(R=(function(V,le,q){q||(q=1);for(var ee,je=[];ee=le.exec(V);)je.push(ee[q]);return je})(I,/\((.*?)\)/g)),b=R}}),this.getOptions=function(){return b},this.setOptions=function(S){b=S,this.sort&&b.sort()},this.addOption=function(S){S=(S=S||"").toString(),b.push(S),this.sort&&b.sort()},this.removeOption=function(S,I){for(I=I||!1,S=(S=S||"").toString();b.indexOf(S)!==-1&&(b.splice(b.indexOf(S),1),I!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,18)},set:function(S){S?this.Ff=As(this.Ff,18):this.Ff=Rs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,19)},set:function(S){this.combo===!0&&(S?this.Ff=As(this.Ff,19):this.Ff=Rs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,20)},set:function(S){S?(this.Ff=As(this.Ff,20),b.sort()):this.Ff=Rs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,22)},set:function(S){S?this.Ff=As(this.Ff,22):this.Ff=Rs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,23)},set:function(S){S?this.Ff=As(this.Ff,23):this.Ff=Rs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,27)},set:function(S){S?this.Ff=As(this.Ff,27):this.Ff=Rs(this.Ff,27)}}),this.hasAppearanceStream=!1};Qt(Zt,Ct);var ds=function(){Zt.call(this),this.fontName="helvetica",this.combo=!1};Qt(ds,Zt);var hs=function(){ds.call(this),this.combo=!0};Qt(hs,ds);var Ks=function(){hs.call(this),this.edit=!0};Qt(Ks,hs);var Vs=function(){Ct.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,15)},set:function(S){S?this.Ff=As(this.Ff,15):this.Ff=Rs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,16)},set:function(S){S?this.Ff=As(this.Ff,16):this.Ff=Rs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,17)},set:function(S){S?this.Ff=As(this.Ff,17):this.Ff=Rs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,26)},set:function(S){S?this.Ff=As(this.Ff,26):this.Ff=Rs(this.Ff,26)}});var N,b={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var S=function(V){return V};if(this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),Object.keys(b).length!==0){var I,R=[];for(I in R.push("<<"),b)R.push("/"+I+" ("+ls(S(b[I]))+")");return R.push(">>"),R.join(`
`)}},set:function(S){(0,f.default)(S)==="object"&&(b=S)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return b.CA||""},set:function(S){typeof S=="string"&&(b.CA=S)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return N},set:function(S){N=S}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return N.substr(1,N.length-1)},set:function(S){N="/"+S}})};Qt(Vs,Ct);var pr=function(){Vs.call(this),this.pushButton=!0};Qt(pr,Vs);var tn=function(){Vs.call(this),this.radio=!0,this.pushButton=!1;var N=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return N},set:function(b){N=b!==void 0?b:[]}})};Qt(tn,Vs);var Ns=function(){var N,b;Ct.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return N},set:function(R){N=R}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return b},set:function(R){b=R}});var S,I={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var R=function(q){return q};this.scope&&(R=this.scope.internal.getEncryptor(this.objId));var V,le=[];for(V in le.push("<<"),I)le.push("/"+V+" ("+ls(R(I[V]))+")");return le.push(">>"),le.join(`
`)},set:function(R){(0,f.default)(R)==="object"&&(I=R)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return I.CA||""},set:function(R){typeof R=="string"&&(I.CA=R)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return S},set:function(R){S=R}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return S.substr(1,S.length-1)},set:function(R){S="/"+R}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ts.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qt(Ns,Ct),tn.prototype.setAppearance=function(N){if(!("createAppearanceStream"in N)||!("getCA"in N))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var b in this.Kids)if(this.Kids.hasOwnProperty(b)){var S=this.Kids[b];S.appearanceStreamContent=N.createAppearanceStream(S.optionName),S.caption=N.getCA()}},tn.prototype.createOption=function(N){var b=new Ns;return b.Parent=this,b.optionName=N,this.Kids.push(b),Lr.call(this.scope,b),b};var Is=function(){Vs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ts.CheckBox.createAppearanceStream()};Qt(Is,Vs);var kr=function(){Ct.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,13)},set:function(b){b?this.Ff=As(this.Ff,13):this.Ff=Rs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,21)},set:function(b){b?this.Ff=As(this.Ff,21):this.Ff=Rs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,23)},set:function(b){b?this.Ff=As(this.Ff,23):this.Ff=Rs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,24)},set:function(b){b?this.Ff=As(this.Ff,24):this.Ff=Rs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,25)},set:function(b){b?this.Ff=As(this.Ff,25):this.Ff=Rs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,26)},set:function(b){b?this.Ff=As(this.Ff,26):this.Ff=Rs(this.Ff,26)}});var N=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return N},set:function(b){N=b}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return N},set:function(b){Number.isInteger(b)&&(N=b)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qt(kr,Ct);var nr=function(){kr.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,14)},set:function(N){N?this.Ff=As(this.Ff,14):this.Ff=Rs(this.Ff,14)}}),this.password=!0};Qt(nr,kr);var Ts={CheckBox:{createAppearanceStream:function(){return{N:{On:Ts.CheckBox.YesNormal},D:{On:Ts.CheckBox.YesPushDown,Off:Ts.CheckBox.OffPushDown}}},YesPushDown:function(N){var b=zs(N);b.scope=N.scope;var S=[],I=N.scope.internal.getFont(N.fontName,N.fontStyle).id,R=N.scope.__private__.encodeColorString(N.color),V=qs(N,N.caption);return S.push("0.749023 g"),S.push("0 0 "+$e(Ts.internal.getWidth(N))+" "+$e(Ts.internal.getHeight(N))+" re"),S.push("f"),S.push("BMC"),S.push("q"),S.push("0 0 1 rg"),S.push("/"+I+" "+$e(V.fontSize)+" Tf "+R),S.push("BT"),S.push(V.text),S.push("ET"),S.push("Q"),S.push("EMC"),b.stream=S.join(`
`),b},YesNormal:function(N){var b=zs(N);b.scope=N.scope;var S=N.scope.internal.getFont(N.fontName,N.fontStyle).id,I=N.scope.__private__.encodeColorString(N.color),R=[],V=Ts.internal.getHeight(N),le=Ts.internal.getWidth(N),q=qs(N,N.caption);return R.push("1 g"),R.push("0 0 "+$e(le)+" "+$e(V)+" re"),R.push("f"),R.push("q"),R.push("0 0 1 rg"),R.push("0 0 "+$e(le-1)+" "+$e(V-1)+" re"),R.push("W"),R.push("n"),R.push("0 g"),R.push("BT"),R.push("/"+S+" "+$e(q.fontSize)+" Tf "+I),R.push(q.text),R.push("ET"),R.push("Q"),b.stream=R.join(`
`),b},OffPushDown:function(N){var b=zs(N);b.scope=N.scope;var S=[];return S.push("0.749023 g"),S.push("0 0 "+$e(Ts.internal.getWidth(N))+" "+$e(Ts.internal.getHeight(N))+" re"),S.push("f"),b.stream=S.join(`
`),b}},RadioButton:{Circle:{createAppearanceStream:function(N){var b={D:{Off:Ts.RadioButton.Circle.OffPushDown},N:{}};return b.N[N]=Ts.RadioButton.Circle.YesNormal,b.D[N]=Ts.RadioButton.Circle.YesPushDown,b},getCA:function(){return"l"},YesNormal:function(N){var b=zs(N);b.scope=N.scope;var S=[],I=Ts.internal.getWidth(N)<=Ts.internal.getHeight(N)?Ts.internal.getWidth(N)/4:Ts.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var R=Ts.internal.Bezier_C,V=Number((I*R).toFixed(5));return S.push("q"),S.push("1 0 0 1 "+Bt(Ts.internal.getWidth(N)/2)+" "+Bt(Ts.internal.getHeight(N)/2)+" cm"),S.push(I+" 0 m"),S.push(I+" "+V+" "+V+" "+I+" 0 "+I+" c"),S.push("-"+V+" "+I+" -"+I+" "+V+" -"+I+" 0 c"),S.push("-"+I+" -"+V+" -"+V+" -"+I+" 0 -"+I+" c"),S.push(V+" -"+I+" "+I+" -"+V+" "+I+" 0 c"),S.push("f"),S.push("Q"),b.stream=S.join(`
`),b},YesPushDown:function(N){var b=zs(N);b.scope=N.scope;var S=[],I=Ts.internal.getWidth(N)<=Ts.internal.getHeight(N)?Ts.internal.getWidth(N)/4:Ts.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var R=Number((2*I).toFixed(5)),V=Number((R*Ts.internal.Bezier_C).toFixed(5)),le=Number((I*Ts.internal.Bezier_C).toFixed(5));return S.push("0.749023 g"),S.push("q"),S.push("1 0 0 1 "+Bt(Ts.internal.getWidth(N)/2)+" "+Bt(Ts.internal.getHeight(N)/2)+" cm"),S.push(R+" 0 m"),S.push(R+" "+V+" "+V+" "+R+" 0 "+R+" c"),S.push("-"+V+" "+R+" -"+R+" "+V+" -"+R+" 0 c"),S.push("-"+R+" -"+V+" -"+V+" -"+R+" 0 -"+R+" c"),S.push(V+" -"+R+" "+R+" -"+V+" "+R+" 0 c"),S.push("f"),S.push("Q"),S.push("0 g"),S.push("q"),S.push("1 0 0 1 "+Bt(Ts.internal.getWidth(N)/2)+" "+Bt(Ts.internal.getHeight(N)/2)+" cm"),S.push(I+" 0 m"),S.push(I+" "+le+" "+le+" "+I+" 0 "+I+" c"),S.push("-"+le+" "+I+" -"+I+" "+le+" -"+I+" 0 c"),S.push("-"+I+" -"+le+" -"+le+" -"+I+" 0 -"+I+" c"),S.push(le+" -"+I+" "+I+" -"+le+" "+I+" 0 c"),S.push("f"),S.push("Q"),b.stream=S.join(`
`),b},OffPushDown:function(N){var b=zs(N);b.scope=N.scope;var S=[],I=Ts.internal.getWidth(N)<=Ts.internal.getHeight(N)?Ts.internal.getWidth(N)/4:Ts.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var R=Number((2*I).toFixed(5)),V=Number((R*Ts.internal.Bezier_C).toFixed(5));return S.push("0.749023 g"),S.push("q"),S.push("1 0 0 1 "+Bt(Ts.internal.getWidth(N)/2)+" "+Bt(Ts.internal.getHeight(N)/2)+" cm"),S.push(R+" 0 m"),S.push(R+" "+V+" "+V+" "+R+" 0 "+R+" c"),S.push("-"+V+" "+R+" -"+R+" "+V+" -"+R+" 0 c"),S.push("-"+R+" -"+V+" -"+V+" -"+R+" 0 -"+R+" c"),S.push(V+" -"+R+" "+R+" -"+V+" "+R+" 0 c"),S.push("f"),S.push("Q"),b.stream=S.join(`
`),b}},Cross:{createAppearanceStream:function(N){var b={D:{Off:Ts.RadioButton.Cross.OffPushDown},N:{}};return b.N[N]=Ts.RadioButton.Cross.YesNormal,b.D[N]=Ts.RadioButton.Cross.YesPushDown,b},getCA:function(){return"8"},YesNormal:function(N){var b=zs(N);b.scope=N.scope;var S=[],I=Ts.internal.calculateCross(N);return S.push("q"),S.push("1 1 "+$e(Ts.internal.getWidth(N)-2)+" "+$e(Ts.internal.getHeight(N)-2)+" re"),S.push("W"),S.push("n"),S.push($e(I.x1.x)+" "+$e(I.x1.y)+" m"),S.push($e(I.x2.x)+" "+$e(I.x2.y)+" l"),S.push($e(I.x4.x)+" "+$e(I.x4.y)+" m"),S.push($e(I.x3.x)+" "+$e(I.x3.y)+" l"),S.push("s"),S.push("Q"),b.stream=S.join(`
`),b},YesPushDown:function(N){var b=zs(N);b.scope=N.scope;var S=Ts.internal.calculateCross(N),I=[];return I.push("0.749023 g"),I.push("0 0 "+$e(Ts.internal.getWidth(N))+" "+$e(Ts.internal.getHeight(N))+" re"),I.push("f"),I.push("q"),I.push("1 1 "+$e(Ts.internal.getWidth(N)-2)+" "+$e(Ts.internal.getHeight(N)-2)+" re"),I.push("W"),I.push("n"),I.push($e(S.x1.x)+" "+$e(S.x1.y)+" m"),I.push($e(S.x2.x)+" "+$e(S.x2.y)+" l"),I.push($e(S.x4.x)+" "+$e(S.x4.y)+" m"),I.push($e(S.x3.x)+" "+$e(S.x3.y)+" l"),I.push("s"),I.push("Q"),b.stream=I.join(`
`),b},OffPushDown:function(N){var b=zs(N);b.scope=N.scope;var S=[];return S.push("0.749023 g"),S.push("0 0 "+$e(Ts.internal.getWidth(N))+" "+$e(Ts.internal.getHeight(N))+" re"),S.push("f"),b.stream=S.join(`
`),b}}},createDefaultAppearanceStream:function(N){var b=N.scope.internal.getFont(N.fontName,N.fontStyle).id,S=N.scope.__private__.encodeColorString(N.color);return"/"+b+" "+N.fontSize+" Tf "+S}};Ts.internal={Bezier_C:.551915024494,calculateCross:function(N){var b=Ts.internal.getWidth(N),S=Ts.internal.getHeight(N),I=Math.min(b,S);return{x1:{x:(b-I)/2,y:(S-I)/2+I},x2:{x:(b-I)/2+I,y:(S-I)/2},x3:{x:(b-I)/2,y:(S-I)/2},x4:{x:(b-I)/2+I,y:(S-I)/2+I}}}},Ts.internal.getWidth=function(N){var b=0;return(0,f.default)(N)==="object"&&(b=ks(N.Rect[2])),b},Ts.internal.getHeight=function(N){var b=0;return(0,f.default)(N)==="object"&&(b=ks(N.Rect[3])),b};var Lr=Lt.addField=function(N){if(Es(this,N),!(N instanceof Ct))throw new Error("Invalid argument passed to jsPDF.addField.");var b;return(b=N).scope.internal.acroformPlugin.printedOut&&(b.scope.internal.acroformPlugin.printedOut=!1,b.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),b.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(b),N.page=N.scope.internal.getCurrentPageInfo().pageNumber,this};Lt.AcroFormChoiceField=Zt,Lt.AcroFormListBox=ds,Lt.AcroFormComboBox=hs,Lt.AcroFormEditBox=Ks,Lt.AcroFormButton=Vs,Lt.AcroFormPushButton=pr,Lt.AcroFormRadioButton=tn,Lt.AcroFormCheckBox=Is,Lt.AcroFormTextField=kr,Lt.AcroFormPasswordField=nr,Lt.AcroFormAppearance=Ts,Lt.AcroForm={ChoiceField:Zt,ListBox:ds,ComboBox:hs,EditBox:Ks,Button:Vs,PushButton:pr,RadioButton:tn,CheckBox:Is,TextField:kr,PasswordField:nr,Appearance:Ts},et.AcroForm={ChoiceField:Zt,ListBox:ds,ComboBox:hs,EditBox:Ks,Button:Vs,PushButton:pr,RadioButton:tn,CheckBox:Is,TextField:kr,PasswordField:nr,Appearance:Ts};var la=et.AcroForm;function gr(N){return N.reduce(function(b,S,I){return b[S]=I,b},{})}(function(N){var b="addImage_";N.__addimage__={};var S="UNKNOWN",I={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},R=N.__addimage__.getImageFileTypeByImageData=function(Ye,rt){var gt,xt,ss,us,xs,Vt=S;if((rt=rt||S)==="RGBA"||Ye.data!==void 0&&Ye.data instanceof Uint8ClampedArray&&"height"in Ye&&"width"in Ye)return"RGBA";if(Ft(Ye))for(xs in I)for(ss=I[xs],gt=0;gt<ss.length;gt+=1){for(us=!0,xt=0;xt<ss[gt].length;xt+=1)if(ss[gt][xt]!==void 0&&ss[gt][xt]!==Ye[xt]){us=!1;break}if(us===!0){Vt=xs;break}}else for(xs in I)for(ss=I[xs],gt=0;gt<ss.length;gt+=1){for(us=!0,xt=0;xt<ss[gt].length;xt+=1)if(ss[gt][xt]!==void 0&&ss[gt][xt]!==Ye.charCodeAt(xt)){us=!1;break}if(us===!0){Vt=xs;break}}return Vt===S&&rt!==S&&(Vt=rt),Vt},V=function Ye(rt){for(var gt=this.internal.write,xt=this.internal.putStream,ss=(0,this.internal.getFilters)();ss.indexOf("FlateEncode")!==-1;)ss.splice(ss.indexOf("FlateEncode"),1);rt.objectId=this.internal.newObject();var us=[];if(us.push({key:"Type",value:"/XObject"}),us.push({key:"Subtype",value:"/Image"}),us.push({key:"Width",value:rt.width}),us.push({key:"Height",value:rt.height}),rt.colorSpace===We.INDEXED?us.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(rt.palette.length/3-1)+" "+("sMask"in rt&&rt.sMask!==void 0?rt.objectId+2:rt.objectId+1)+" 0 R]"}):(us.push({key:"ColorSpace",value:"/"+rt.colorSpace}),rt.colorSpace===We.DEVICE_CMYK&&us.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),us.push({key:"BitsPerComponent",value:rt.bitsPerComponent}),"decodeParameters"in rt&&rt.decodeParameters!==void 0&&us.push({key:"DecodeParms",value:"<<"+rt.decodeParameters+">>"}),"transparency"in rt&&Array.isArray(rt.transparency)&&rt.transparency.length>0){for(var xs="",Vt=0,fs=rt.transparency.length;Vt<fs;Vt++)xs+=rt.transparency[Vt]+" "+rt.transparency[Vt]+" ";us.push({key:"Mask",value:"["+xs+"]"})}rt.sMask!==void 0&&us.push({key:"SMask",value:rt.objectId+1+" 0 R"});var Js=rt.filter!==void 0?["/"+rt.filter]:void 0;if(xt({data:rt.data,additionalKeyValues:us,alreadyAppliedFilters:Js,objectId:rt.objectId}),gt("endobj"),"sMask"in rt&&rt.sMask!==void 0){var _s,_e=(_s=rt.sMaskBitsPerComponent)!==null&&_s!==void 0?_s:rt.bitsPerComponent,dt={width:rt.width,height:rt.height,colorSpace:"DeviceGray",bitsPerComponent:_e,data:rt.sMask};"filter"in rt&&(dt.decodeParameters="/Predictor ".concat(rt.predictor," /Colors 1 /BitsPerComponent ").concat(_e," /Columns ").concat(rt.width),dt.filter=rt.filter),Ye.call(this,dt)}if(rt.colorSpace===We.INDEXED){var ht=this.internal.newObject();xt({data:Ht(new Uint8Array(rt.palette)),objectId:ht}),gt("endobj")}},le=function(){var Ye=this.internal.collections[b+"images"];for(var rt in Ye)V.call(this,Ye[rt])},q=function(){var Ye,rt=this.internal.collections[b+"images"],gt=this.internal.write;for(var xt in rt)gt("/I"+(Ye=rt[xt]).index,Ye.objectId,"0","R")},ee=function(){this.internal.collections[b+"images"]||(this.internal.collections[b+"images"]={},this.internal.events.subscribe("putResources",le),this.internal.events.subscribe("putXobjectDict",q))},je=function(){var Ye=this.internal.collections[b+"images"];return ee.call(this),Ye},Le=function(){return Object.keys(this.internal.collections[b+"images"]).length},ze=function(Ye){return typeof N["process"+Ye.toUpperCase()]=="function"},Xe=function(Ye){return(0,f.default)(Ye)==="object"&&Ye.nodeType===1},xe=function(Ye,rt){if(Ye.nodeName==="IMG"&&Ye.hasAttribute("src")){var gt=""+Ye.getAttribute("src");if(gt.indexOf("data:image/")===0)return H(unescape(gt).split("base64,").pop());var xt=N.loadFile(gt,!0);if(xt!==void 0)return xt}if(Ye.nodeName==="CANVAS"){if(Ye.width===0||Ye.height===0)throw new Error("Given canvas must have data. Canvas width: "+Ye.width+", height: "+Ye.height);var ss;switch(rt){case"PNG":ss="image/png";break;case"WEBP":ss="image/webp";break;default:ss="image/jpeg"}return H(Ye.toDataURL(ss,1).split("base64,").pop())}},ct=function(Ye){var rt=this.internal.collections[b+"images"];if(rt){for(var gt in rt)if(Ye===rt[gt].alias)return rt[gt]}},ot=function(Ye,rt,gt){return Ye||rt||(Ye=-96,rt=-96),Ye<0&&(Ye=-1*gt.width*72/Ye/this.internal.scaleFactor),rt<0&&(rt=-1*gt.height*72/rt/this.internal.scaleFactor),Ye===0&&(Ye=rt*gt.width/gt.height),rt===0&&(rt=Ye*gt.height/gt.width),[Ye,rt]},At=function(Ye,rt,gt,xt,ss,us){var xs=ot.call(this,gt,xt,ss),Vt=this.internal.getCoordinateString,fs=this.internal.getVerticalCoordinateString,Js=je.call(this);if(gt=xs[0],xt=xs[1],Js[ss.index]=ss,us){us*=Math.PI/180;var _s=Math.cos(us),_e=Math.sin(us),dt=function(Mt){return Mt.toFixed(4)},ht=[dt(_s),dt(_e),dt(-1*_e),dt(_s),0,0,"cm"]}this.internal.write("q"),us?(this.internal.write([1,"0","0",1,Vt(Ye),fs(rt+xt),"cm"].join(" ")),this.internal.write(ht.join(" ")),this.internal.write([Vt(gt),"0","0",Vt(xt),"0","0","cm"].join(" "))):this.internal.write([Vt(gt),"0","0",Vt(xt),Vt(Ye),fs(rt+xt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ss.index+" Do"),this.internal.write("Q")},We=N.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};N.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var yt=N.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Dt=N.__addimage__.sHashCode=function(Ye){var rt,gt,xt=0;if(typeof Ye=="string")for(gt=Ye.length,rt=0;rt<gt;rt++)xt=(xt<<5)-xt+Ye.charCodeAt(rt),xt|=0;else if(Ft(Ye))for(gt=Ye.byteLength/2,rt=0;rt<gt;rt++)xt=(xt<<5)-xt+Ye[rt],xt|=0;return xt},pt=N.__addimage__.validateStringAsBase64=function(Ye){(Ye=Ye||"").toString().trim();var rt=!0;return Ye.length===0&&(rt=!1),Ye.length%4!=0&&(rt=!1),/^[A-Za-z0-9+/]+$/.test(Ye.substr(0,Ye.length-2))===!1&&(rt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ye.substr(-2))===!1&&(rt=!1),rt},Ge=N.__addimage__.extractImageFromDataUrl=function(Ye){if(Ye==null||!(Ye=Ye.trim()).startsWith("data:"))return null;var rt=Ye.indexOf(",");return rt<0?null:Ye.substring(0,rt).trim().endsWith("base64")?Ye.substring(rt+1):null};N.__addimage__.isArrayBuffer=function(Ye){return Ye instanceof ArrayBuffer};var Ft=N.__addimage__.isArrayBufferView=function(Ye){return Ye instanceof Int8Array||Ye instanceof Uint8Array||Ye instanceof Uint8ClampedArray||Ye instanceof Int16Array||Ye instanceof Uint16Array||Ye instanceof Int32Array||Ye instanceof Uint32Array||Ye instanceof Float32Array||Ye instanceof Float64Array},is=N.__addimage__.binaryStringToUint8Array=function(Ye){for(var rt=Ye.length,gt=new Uint8Array(rt),xt=0;xt<rt;xt++)gt[xt]=Ye.charCodeAt(xt);return gt},Ht=N.__addimage__.arrayBufferToBinaryString=function(Ye){for(var rt="",gt=Ft(Ye)?Ye:new Uint8Array(Ye),xt=0;xt<gt.length;xt+=8192)rt+=String.fromCharCode.apply(null,gt.subarray(xt,xt+8192));return rt};N.addImage=function(){var Ye,rt,gt,xt,ss,us,xs,Vt,fs;if(typeof arguments[1]=="number"?(rt=S,gt=arguments[1],xt=arguments[2],ss=arguments[3],us=arguments[4],xs=arguments[5],Vt=arguments[6],fs=arguments[7]):(rt=arguments[1],gt=arguments[2],xt=arguments[3],ss=arguments[4],us=arguments[5],xs=arguments[6],Vt=arguments[7],fs=arguments[8]),(0,f.default)(Ye=arguments[0])==="object"&&!Xe(Ye)&&"imageData"in Ye){var Js=Ye;Ye=Js.imageData,rt=Js.format||rt||S,gt=Js.x||gt||0,xt=Js.y||xt||0,ss=Js.w||Js.width||ss,us=Js.h||Js.height||us,xs=Js.alias||xs,Vt=Js.compression||Vt,fs=Js.rotation||Js.angle||fs}var _s=this.internal.getFilters();if(Vt===void 0&&_s.indexOf("FlateEncode")!==-1&&(Vt="SLOW"),isNaN(gt)||isNaN(xt))throw new Error("Invalid coordinates passed to jsPDF.addImage");ee.call(this);var _e=bt.call(this,Ye,rt,xs,Vt);return At.call(this,gt,xt,ss,us,_e,fs),this};var bt=function(Ye,rt,gt,xt){var ss,us,xs;if(typeof Ye=="string"&&R(Ye)===S){Ye=unescape(Ye);var Vt=es(Ye,!1);(Vt!==""||(Vt=N.loadFile(Ye,!0))!==void 0)&&(Ye=Vt)}if(Xe(Ye)&&(Ye=xe(Ye,rt)),rt=R(Ye,rt),!ze(rt))throw new Error("addImage does not support files of type '"+rt+"', please ensure that a plugin for '"+rt+"' support is added.");if(((xs=gt)==null||xs.length===0)&&(gt=(function(fs){return typeof fs=="string"||Ft(fs)?Dt(fs):Ft(fs.data)?Dt(fs.data):null})(Ye)),(ss=ct.call(this,gt))||(Ye instanceof Uint8Array||rt==="RGBA"||(us=Ye,Ye=is(Ye)),ss=this["process"+rt.toUpperCase()](Ye,Le.call(this),gt,(function(fs){return fs&&typeof fs=="string"&&(fs=fs.toUpperCase()),fs in N.image_compression?fs:yt.NONE})(xt),us)),!ss)throw new Error("An unknown error occurred whilst processing the image.");return ss},es=N.__addimage__.convertBase64ToBinaryString=function(Ye,rt){rt=typeof rt!="boolean"||rt;var gt,xt="";if(typeof Ye=="string"){var ss;gt=(ss=Ge(Ye))!==null&&ss!==void 0?ss:Ye;try{xt=H(gt)}catch(us){if(rt)throw pt(gt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+us.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return xt};N.getImageProperties=function(Ye){var rt,gt,xt="";if(Xe(Ye)&&(Ye=xe(Ye)),typeof Ye=="string"&&R(Ye)===S&&((xt=es(Ye,!1))===""&&(xt=N.loadFile(Ye)||""),Ye=xt),gt=R(Ye),!ze(gt))throw new Error("addImage does not support files of type '"+gt+"', please ensure that a plugin for '"+gt+"' support is added.");if(Ye instanceof Uint8Array||(Ye=is(Ye)),!(rt=this["process"+gt.toUpperCase()](Ye)))throw new Error("An unknown error occurred whilst processing the image");return rt.fileType=gt,rt}})(et.API),(function(N){var b=function(S){if(S!==void 0&&S!="")return!0};et.API.events.push(["addPage",function(S){this.internal.getPageInfo(S.pageNumber).pageContext.annotations=[]}]),N.events.push(["putPage",function(S){for(var I,R,V,le=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,ee=this.internal.getPageInfoByObjId(S.objId),je=S.pageContext.annotations,Le=!1,ze=0;ze<je.length&&!Le;ze++)switch((I=je[ze]).type){case"link":(b(I.options.url)||b(I.options.pageNumber))&&(Le=!0);break;case"reference":case"text":case"freetext":Le=!0}if(Le!=0){this.internal.write("/Annots [");for(var Xe=0;Xe<je.length;Xe++){I=je[Xe];var xe=this.internal.pdfEscape,ct=this.internal.getEncryptor(S.objId);switch(I.type){case"reference":this.internal.write(" "+I.object.objId+" 0 R ");break;case"text":var ot=this.internal.newAdditionalObject(),At=this.internal.newAdditionalObject(),We=this.internal.getEncryptor(ot.objId),yt=I.title||"Note";V="<</Type /Annot /Subtype /Text "+(R="/Rect ["+le(I.bounds.x)+" "+q(I.bounds.y+I.bounds.h)+" "+le(I.bounds.x+I.bounds.w)+" "+q(I.bounds.y)+"] ")+"/Contents ("+xe(We(I.contents))+")",V+=" /Popup "+At.objId+" 0 R",V+=" /P "+ee.objId+" 0 R",V+=" /T ("+xe(We(yt))+") >>",ot.content=V;var Dt=ot.objId+" 0 R";V="<</Type /Annot /Subtype /Popup "+(R="/Rect ["+le(I.bounds.x+30)+" "+q(I.bounds.y+I.bounds.h)+" "+le(I.bounds.x+I.bounds.w+30)+" "+q(I.bounds.y)+"] ")+" /Parent "+Dt,I.open&&(V+=" /Open true"),V+=" >>",At.content=V,this.internal.write(ot.objId,"0 R",At.objId,"0 R");break;case"freetext":R="/Rect ["+le(I.bounds.x)+" "+q(I.bounds.y)+" "+le(I.bounds.x+I.bounds.w)+" "+q(I.bounds.y+I.bounds.h)+"] ";var pt=I.color||"#000000";V="<</Type /Annot /Subtype /FreeText "+R+"/Contents ("+xe(ct(I.contents))+")",V+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+pt+")",V+=" /Border [0 0 0]",V+=" >>",this.internal.write(V);break;case"link":if(I.options.name){var Ge=this.annotations._nameMap[I.options.name];I.options.pageNumber=Ge.page,I.options.top=Ge.y}else I.options.top||(I.options.top=0);if(R="/Rect ["+I.finalBounds.x+" "+I.finalBounds.y+" "+I.finalBounds.w+" "+I.finalBounds.h+"] ",V="",I.options.url)V="<</Type /Annot /Subtype /Link "+R+"/Border [0 0 0] /A <</S /URI /URI ("+xe(ct(I.options.url))+") >>";else if(I.options.pageNumber)switch(V="<</Type /Annot /Subtype /Link "+R+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(I.options.pageNumber).objId+" 0 R",I.options.magFactor=I.options.magFactor||"XYZ",I.options.magFactor){case"Fit":V+=" /Fit]";break;case"FitH":V+=" /FitH "+I.options.top+"]";break;case"FitV":I.options.left=I.options.left||0,V+=" /FitV "+I.options.left+"]";break;default:var Ft=q(I.options.top);I.options.left=I.options.left||0,I.options.zoom===void 0&&(I.options.zoom=0),V+=" /XYZ "+I.options.left+" "+Ft+" "+I.options.zoom+"]"}V!=""&&(V+=" >>",this.internal.write(V))}}this.internal.write("]")}}]),N.createAnnotation=function(S){var I=this.internal.getCurrentPageInfo();switch(S.type){case"link":this.link(S.bounds.x,S.bounds.y,S.bounds.w,S.bounds.h,S);break;case"text":case"freetext":I.pageContext.annotations.push(S)}},N.link=function(S,I,R,V,le){var q=this.internal.getCurrentPageInfo(),ee=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString;q.pageContext.annotations.push({finalBounds:{x:ee(S),y:je(I),w:ee(S+R),h:je(I+V)},options:le,type:"link"})},N.textWithLink=function(S,I,R,V){var le,q,ee=this.getTextWidth(S),je=this.internal.getLineHeight()/this.internal.scaleFactor;if(V.maxWidth!==void 0){q=V.maxWidth;var Le=this.splitTextToSize(S,q).length;le=Math.ceil(je*Le)}else q=ee,le=je;return this.text(S,I,R,V),R+=.2*je,V.align==="center"&&(I-=ee/2),V.align==="right"&&(I-=ee),this.link(I,R-je,q,le,V),ee},N.getTextWidth=function(S){var I=this.internal.getFontSize();return this.getStringUnitWidth(S)*I/this.internal.scaleFactor}})(et.API),(function(N){var b={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},S={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},I={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},R=[1570,1571,1573,1575];N.__arabicParser__={};var V=N.__arabicParser__.isInArabicSubstitutionA=function(ot){return b[ot.charCodeAt(0)]!==void 0},le=N.__arabicParser__.isArabicLetter=function(ot){return typeof ot=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(ot)},q=N.__arabicParser__.isArabicEndLetter=function(ot){return le(ot)&&V(ot)&&b[ot.charCodeAt(0)].length<=2},ee=N.__arabicParser__.isArabicAlfLetter=function(ot){return le(ot)&&R.indexOf(ot.charCodeAt(0))>=0};N.__arabicParser__.arabicLetterHasIsolatedForm=function(ot){return le(ot)&&V(ot)&&b[ot.charCodeAt(0)].length>=1};var je=N.__arabicParser__.arabicLetterHasFinalForm=function(ot){return le(ot)&&V(ot)&&b[ot.charCodeAt(0)].length>=2};N.__arabicParser__.arabicLetterHasInitialForm=function(ot){return le(ot)&&V(ot)&&b[ot.charCodeAt(0)].length>=3};var Le=N.__arabicParser__.arabicLetterHasMedialForm=function(ot){return le(ot)&&V(ot)&&b[ot.charCodeAt(0)].length==4},ze=N.__arabicParser__.resolveLigatures=function(ot){var At=0,We=S,yt="",Dt=0;for(At=0;At<ot.length;At+=1)We[ot.charCodeAt(At)]!==void 0?(Dt++,typeof(We=We[ot.charCodeAt(At)])=="number"&&(yt+=String.fromCharCode(We),We=S,Dt=0),At===ot.length-1&&(We=S,yt+=ot.charAt(At-(Dt-1)),At-=Dt-1,Dt=0)):(We=S,yt+=ot.charAt(At-Dt),At-=Dt,Dt=0);return yt};N.__arabicParser__.isArabicDiacritic=function(ot){return ot!==void 0&&I[ot.charCodeAt(0)]!==void 0};var Xe=N.__arabicParser__.getCorrectForm=function(ot,At,We){return le(ot)?V(ot)===!1?-1:!je(ot)||!le(At)&&!le(We)||!le(We)&&q(At)||q(ot)&&!le(At)||q(ot)&&ee(At)||q(ot)&&q(At)?0:Le(ot)&&le(At)&&!q(At)&&le(We)&&je(We)?3:q(ot)||!le(We)?1:2:-1},xe=function(ot){var At=0,We=0,yt=0,Dt="",pt="",Ge="",Ft=(ot=ot||"").split("\\s+"),is=[];for(At=0;At<Ft.length;At+=1){for(is.push(""),We=0;We<Ft[At].length;We+=1)Dt=Ft[At][We],pt=Ft[At][We-1],Ge=Ft[At][We+1],le(Dt)?(yt=Xe(Dt,pt,Ge),is[At]+=yt!==-1?String.fromCharCode(b[Dt.charCodeAt(0)][yt]):Dt):is[At]+=Dt;is[At]=ze(is[At])}return is.join(" ")},ct=N.__arabicParser__.processArabic=N.processArabic=function(){var ot,At=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,We=[];if(Array.isArray(At)){var yt=0;for(We=[],yt=0;yt<At.length;yt+=1)Array.isArray(At[yt])?We.push([xe(At[yt][0]),At[yt][1],At[yt][2]]):We.push([xe(At[yt])]);ot=We}else ot=xe(At);return typeof arguments[0]=="string"?ot:(arguments[0].text=ot,arguments[0])};N.events.push(["preProcessText",ct])})(et.API),et.API.autoPrint=function(N){var b;return(N=N||{}).variant=N.variant||"non-conform",N.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){b=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+b+" 0 R")})),this},(function(N){var b=function(){var S=void 0;Object.defineProperty(this,"pdf",{get:function(){return S},set:function(q){S=q}});var I=150;Object.defineProperty(this,"width",{get:function(){return I},set:function(q){I=isNaN(q)||Number.isInteger(q)===!1||q<0?150:q,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=I+1)}});var R=300;Object.defineProperty(this,"height",{get:function(){return R},set:function(q){R=isNaN(q)||Number.isInteger(q)===!1||q<0?300:q,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=R+1)}});var V=[];Object.defineProperty(this,"childNodes",{get:function(){return V},set:function(q){V=q}});var le={};Object.defineProperty(this,"style",{get:function(){return le},set:function(q){le=q}}),Object.defineProperty(this,"parentNode",{})};b.prototype.getContext=function(S,I){var R;if((S=S||"2d")!=="2d")return null;for(R in I)this.pdf.context2d.hasOwnProperty(R)&&(this.pdf.context2d[R]=I[R]);return this.pdf.context2d._canvas=this,this.pdf.context2d},b.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},N.events.push(["initialized",function(){this.canvas=new b,this.canvas.pdf=this}])})(et.API),(function(N){var b={left:0,top:0,bottom:0,right:0},S=!1,I=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},b),this.internal.__cell__.margins.width=this.getPageWidth(),R.call(this))},R=function(){this.internal.__cell__.lastCell=new V,this.internal.__cell__.pages=1},V=function(){var ee=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(ot){ee=ot}});var je=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(ot){je=ot}});var Le=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Le},set:function(ot){Le=ot}});var ze=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ze},set:function(ot){ze=ot}});var Xe=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Xe},set:function(ot){Xe=ot}});var xe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return xe},set:function(ot){xe=ot}});var ct=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ct},set:function(ot){ct=ot}}),this};V.prototype.clone=function(){return new V(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},V.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},N.setHeaderFunction=function(ee){return I.call(this),this.internal.__cell__.headerFunction=typeof ee=="function"?ee:void 0,this},N.getTextDimensions=function(ee,je){I.call(this);var Le=(je=je||{}).fontSize||this.getFontSize(),ze=je.font||this.getFont(),Xe=je.scaleFactor||this.internal.scaleFactor,xe=0,ct=0,ot=0,At=this;if(!Array.isArray(ee)&&typeof ee!="string"){if(typeof ee!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");ee=String(ee)}var We=je.maxWidth;We>0?typeof ee=="string"?ee=this.splitTextToSize(ee,We):Object.prototype.toString.call(ee)==="[object Array]"&&(ee=ee.reduce(function(Dt,pt){return Dt.concat(At.splitTextToSize(pt,We))},[])):ee=Array.isArray(ee)?ee:[ee];for(var yt=0;yt<ee.length;yt++)xe<(ot=this.getStringUnitWidth(ee[yt],{font:ze})*Le)&&(xe=ot);return xe!==0&&(ct=ee.length),{w:xe/=Xe,h:Math.max((ct*Le*this.getLineHeightFactor()-Le*(this.getLineHeightFactor()-1))/Xe,0)}},N.cellAddPage=function(){I.call(this),this.addPage();var ee=this.internal.__cell__.margins||b;return this.internal.__cell__.lastCell=new V(ee.left,ee.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var le=N.cell=function(){var ee;ee=arguments[0]instanceof V?arguments[0]:new V(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),I.call(this);var je=this.internal.__cell__.lastCell,Le=this.internal.__cell__.padding,ze=this.internal.__cell__.margins||b,Xe=this.internal.__cell__.tableHeaderRow,xe=this.internal.__cell__.printHeaders;return je.lineNumber!==void 0&&(je.lineNumber===ee.lineNumber?(ee.x=(je.x||0)+(je.width||0),ee.y=je.y||0):je.y+je.height+ee.height+ze.bottom>this.getPageHeight()?(this.cellAddPage(),ee.y=ze.top,xe&&Xe&&(this.printHeaderRow(ee.lineNumber,!0),ee.y+=Xe[0].height)):ee.y=je.y+je.height||ee.y),ee.text[0]!==void 0&&(this.rect(ee.x,ee.y,ee.width,ee.height,S===!0?"FD":void 0),ee.align==="right"?this.text(ee.text,ee.x+ee.width-Le,ee.y+Le,{align:"right",baseline:"top"}):ee.align==="center"?this.text(ee.text,ee.x+ee.width/2,ee.y+Le,{align:"center",baseline:"top",maxWidth:ee.width-Le-Le}):this.text(ee.text,ee.x+Le,ee.y+Le,{align:"left",baseline:"top",maxWidth:ee.width-Le-Le})),this.internal.__cell__.lastCell=ee,this};N.table=function(ee,je,Le,ze,Xe){if(I.call(this),!Le)throw new Error("No data for PDF table.");var xe,ct,ot,At,We=[],yt=[],Dt=[],pt={},Ge={},Ft=[],is=[],Ht=(Xe=Xe||{}).autoSize||!1,bt=Xe.printHeaders!==!1,es=Xe.css&&Xe.css["font-size"]!==void 0?16*Xe.css["font-size"]:Xe.fontSize||12,Ye=Xe.margins||Object.assign({width:this.getPageWidth()},b),rt=typeof Xe.padding=="number"?Xe.padding:3,gt=Xe.headerBackgroundColor||"#c8c8c8",xt=Xe.headerTextColor||"#000";if(R.call(this),this.internal.__cell__.printHeaders=bt,this.internal.__cell__.margins=Ye,this.internal.__cell__.table_font_size=es,this.internal.__cell__.padding=rt,this.internal.__cell__.headerBackgroundColor=gt,this.internal.__cell__.headerTextColor=xt,this.setFontSize(es),ze==null)yt=We=Object.keys(Le[0]),Dt=We.map(function(){return"left"});else if(Array.isArray(ze)&&(0,f.default)(ze[0])==="object")for(We=ze.map(function(Js){return Js.name}),yt=ze.map(function(Js){return Js.prompt||Js.name||""}),Dt=ze.map(function(Js){return Js.align||"left"}),xe=0;xe<ze.length;xe+=1)Ge[ze[xe].name]=.7499990551181103*ze[xe].width;else Array.isArray(ze)&&typeof ze[0]=="string"&&(yt=We=ze,Dt=We.map(function(){return"left"}));if(Ht||Array.isArray(ze)&&typeof ze[0]=="string")for(xe=0;xe<We.length;xe+=1){for(pt[At=We[xe]]=Le.map(function(Js){return Js[At]}),this.setFont(void 0,"bold"),Ft.push(this.getTextDimensions(yt[xe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ct=pt[At],this.setFont(void 0,"normal"),ot=0;ot<ct.length;ot+=1)Ft.push(this.getTextDimensions(ct[ot],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ge[At]=Math.max.apply(null,Ft)+rt+rt,Ft=[]}if(bt){var ss={};for(xe=0;xe<We.length;xe+=1)ss[We[xe]]={},ss[We[xe]].text=yt[xe],ss[We[xe]].align=Dt[xe];var us=q.call(this,ss,Ge);is=We.map(function(Js){return new V(ee,je,Ge[Js],us,ss[Js].text,void 0,ss[Js].align)}),this.setTableHeaderRow(is),this.printHeaderRow(1,!1)}var xs=ze.reduce(function(Js,_s){return Js[_s.name]=_s.align,Js},{});for(xe=0;xe<Le.length;xe+=1){"rowStart"in Xe&&Xe.rowStart instanceof Function&&Xe.rowStart({row:xe,data:Le[xe]},this);var Vt=q.call(this,Le[xe],Ge);for(ot=0;ot<We.length;ot+=1){var fs=Le[xe][We[ot]];"cellStart"in Xe&&Xe.cellStart instanceof Function&&Xe.cellStart({row:xe,col:ot,data:fs},this),le.call(this,new V(ee,je,Ge[We[ot]],Vt,fs,xe+2,xs[We[ot]]))}}return this.internal.__cell__.table_x=ee,this.internal.__cell__.table_y=je,this};var q=function(ee,je){var Le=this.internal.__cell__.padding,ze=this.internal.__cell__.table_font_size,Xe=this.internal.scaleFactor;return Object.keys(ee).map(function(xe){var ct=ee[xe];return this.splitTextToSize(ct.hasOwnProperty("text")?ct.text:ct,je[xe]-Le-Le)},this).map(function(xe){return this.getLineHeightFactor()*xe.length*ze/Xe+Le+Le},this).reduce(function(xe,ct){return Math.max(xe,ct)},0)};N.setTableHeaderRow=function(ee){I.call(this),this.internal.__cell__.tableHeaderRow=ee},N.printHeaderRow=function(ee,je){if(I.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Le;if(S=!0,typeof this.internal.__cell__.headerFunction=="function"){var ze=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new V(ze[0],ze[1],ze[2],ze[3],void 0,-1)}this.setFont(void 0,"bold");for(var Xe=[],xe=0;xe<this.internal.__cell__.tableHeaderRow.length;xe+=1){Le=this.internal.__cell__.tableHeaderRow[xe].clone(),je&&(Le.y=this.internal.__cell__.margins.top||0,Xe.push(Le)),Le.lineNumber=ee;var ct=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),le.call(this,Le),this.setTextColor(ct)}Xe.length>0&&this.setTableHeaderRow(Xe),this.setFont(void 0,"normal"),S=!1}})(et.API);var qa={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yn=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],In=gr(yn),$n=[100,200,300,400,500,600,700,800,900],Nn=gr($n);function ga(N){var b=N.family.replace(/"|'/g,"").toLowerCase(),S=(function(V){return qa[V=V||"normal"]?V:"normal"})(N.style),I=(function(V){return V?typeof V=="number"?V>=100&&V<=900&&V%100==0?V:400:/^\d00$/.test(V)?parseInt(V):V==="bold"?700:400:400})(N.weight),R=(function(V){return typeof In[V=V||"normal"]=="number"?V:"normal"})(N.stretch);return{family:b,style:S,weight:I,stretch:R,src:N.src||[],ref:N.ref||{name:b,style:[R,S,I].join(" ")}}}function Zn(N,b,S,I){var R;for(R=S;R>=0&&R<b.length;R+=I)if(N[b[R]])return N[b[R]];for(R=S;R>=0&&R<b.length;R-=I)if(N[b[R]])return N[b[R]]}var Oi={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Dn={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hc(N){return[N.stretch,N.style,N.weight,N.family].join(" ")}function ii(N){return N.trimLeft()}function Eo(N,b){for(var S=0;S<N.length;){if(N.charAt(S)===b)return[N.substring(0,S),N.substring(S+1)];S+=1}return null}function Vl(N){var b=N.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return b===null?null:[b[0],N.substring(b[0].length)]}var uo,fa,ji,sa,Ta,qn,Ao,ui,Ni=["times"];function ul(N,b,S,I,R){var V=4,le=xa;switch(R){case et.API.image_compression.FAST:V=1,le=El;break;case et.API.image_compression.MEDIUM:V=6,le=wa;break;case et.API.image_compression.SLOW:V=9,le=ho}N=(function(ee,je,Le,ze){for(var Xe,xe=ee.length/je,ct=new Uint8Array(ee.length+xe),ot=[Zo,El,xa,wa,ho],At=0;At<xe;At+=1){var We=At*je,yt=ee.subarray(We,We+je);if(ze)ct.set(ze(yt,Le,Xe),We+At);else{for(var Dt=ot.length,pt=[],Ge=0;Ge<Dt;Ge+=1)pt[Ge]=ot[Ge](yt,Le,Xe);var Ft=Ii(pt.concat());ct.set(pt[Ft],We+At)}Xe=yt}return ct})(N,b,Math.ceil(S*I/8),le);var q=(0,m.zlibSync)(N,{level:V});return et.API.__addimage__.arrayBufferToBinaryString(q)}function Zo(N){var b=Array.apply([],N);return b.unshift(0),b}function El(N,b){var S=N.length,I=[];I[0]=1;for(var R=0;R<S;R+=1){var V=N[R-b]||0;I[R+1]=N[R]-V+256&255}return I}function xa(N,b,S){var I=N.length,R=[];R[0]=2;for(var V=0;V<I;V+=1){var le=S&&S[V]||0;R[V+1]=N[V]-le+256&255}return R}function wa(N,b,S){var I=N.length,R=[];R[0]=3;for(var V=0;V<I;V+=1){var le=N[V-b]||0,q=S&&S[V]||0;R[V+1]=N[V]+256-(le+q>>>1)&255}return R}function ho(N,b,S){var I=N.length,R=[];R[0]=4;for(var V=0;V<I;V+=1){var le=ei(N[V-b]||0,S&&S[V]||0,S&&S[V-b]||0);R[V+1]=N[V]-le+256&255}return R}function ei(N,b,S){if(N===b&&b===S)return N;var I=Math.abs(b-S),R=Math.abs(N-S),V=Math.abs(N+b-S-S);return I<=R&&I<=V?N:R<=V?b:S}function Ii(N){var b=N.map(function(S){return S.reduce(function(I,R){return I+Math.abs(R)},0)});return b.indexOf(Math.min.apply(null,b))}function Ai(N,b,S){var I=b*S,R=Math.floor(I/8),V=16-(I-8*R+S),le=(1<<S)-1;return Va(N,R)>>V&le}function Yr(N,b,S,I){var R=S*I,V=Math.floor(R/8),le=16-(R-8*V+I),q=(1<<I)-1,ee=(b&q)<<le;(function(je,Le,ze){if(Le+1<je.byteLength)je.setUint16(Le,ze,!1);else{var Xe=ze>>8&255;je.setUint8(Le,Xe)}})(N,V,Va(N,V)&~(q<<le)&65535|ee)}function Va(N,b){return b+1<N.byteLength?N.getUint16(b,!1):N.getUint8(b)<<8}function Ci(N){var b=0;if(N[b++]!==71||N[b++]!==73||N[b++]!==70||N[b++]!==56||(N[b++]+1&253)!=56||N[b++]!==97)throw new Error("Invalid GIF 87a/89a header.");var S=N[b++]|N[b++]<<8,I=N[b++]|N[b++]<<8,R=N[b++],V=R>>7,le=1<<1+(7&R);N[b++],N[b++];var q=null,ee=null;V&&(q=b,ee=le,b+=3*le);var je=!0,Le=[],ze=0,Xe=null,xe=0,ct=null;for(this.width=S,this.height=I;je&&b<N.length;)switch(N[b++]){case 33:switch(N[b++]){case 255:if(N[b]!==11||N[b+1]==78&&N[b+2]==69&&N[b+3]==84&&N[b+4]==83&&N[b+5]==67&&N[b+6]==65&&N[b+7]==80&&N[b+8]==69&&N[b+9]==50&&N[b+10]==46&&N[b+11]==48&&N[b+12]==3&&N[b+13]==1&&N[b+16]==0)b+=14,ct=N[b++]|N[b++]<<8,b++;else for(b+=12;;){if(!((Ye=N[b++])>=0))throw Error("Invalid block size");if(Ye===0)break;b+=Ye}break;case 249:if(N[b++]!==4||N[b+4]!==0)throw new Error("Invalid graphics extension block.");var ot=N[b++];ze=N[b++]|N[b++]<<8,Xe=N[b++],1&ot||(Xe=null),xe=ot>>2&7,b++;break;case 254:for(;;){if(!((Ye=N[b++])>=0))throw Error("Invalid block size");if(Ye===0)break;b+=Ye}break;default:throw new Error("Unknown graphic control label: 0x"+N[b-1].toString(16))}break;case 44:var At=N[b++]|N[b++]<<8,We=N[b++]|N[b++]<<8,yt=N[b++]|N[b++]<<8,Dt=N[b++]|N[b++]<<8,pt=N[b++],Ge=pt>>6&1,Ft=1<<1+(7&pt),is=q,Ht=ee,bt=!1;pt>>7&&(bt=!0,is=b,Ht=Ft,b+=3*Ft);var es=b;for(b++;;){var Ye;if(!((Ye=N[b++])>=0))throw Error("Invalid block size");if(Ye===0)break;b+=Ye}Le.push({x:At,y:We,width:yt,height:Dt,has_local_palette:bt,palette_offset:is,palette_size:Ht,data_offset:es,data_length:b-es,transparent_index:Xe,interlaced:!!Ge,delay:ze,disposal:xe});break;case 59:je=!1;break;default:throw new Error("Unknown gif block: 0x"+N[b-1].toString(16))}this.numFrames=function(){return Le.length},this.loopCount=function(){return ct},this.frameInfo=function(rt){if(rt<0||rt>=Le.length)throw new Error("Frame index out of range.");return Le[rt]},this.decodeAndBlitFrameBGRA=function(rt,gt){var xt=this.frameInfo(rt),ss=xt.width*xt.height,us=new Uint8Array(ss);Ra(N,xt.data_offset,us,ss);var xs=xt.palette_offset,Vt=xt.transparent_index;Vt===null&&(Vt=256);var fs=xt.width,Js=S-fs,_s=fs,_e=4*(xt.y*S+xt.x),dt=4*((xt.y+xt.height)*S+xt.x),ht=_e,Mt=4*Js;xt.interlaced===!0&&(Mt+=4*S*7);for(var Rt=8,Wt=0,ms=us.length;Wt<ms;++Wt){var ps=us[Wt];if(_s===0&&(_s=fs,(ht+=Mt)>=dt&&(Mt=4*Js+4*S*(Rt-1),ht=_e+(fs+Js)*(Rt<<1),Rt>>=1)),ps===Vt)ht+=4;else{var Us=N[xs+3*ps],Zs=N[xs+3*ps+1],wr=N[xs+3*ps+2];gt[ht++]=wr,gt[ht++]=Zs,gt[ht++]=Us,gt[ht++]=255}--_s}},this.decodeAndBlitFrameRGBA=function(rt,gt){var xt=this.frameInfo(rt),ss=xt.width*xt.height,us=new Uint8Array(ss);Ra(N,xt.data_offset,us,ss);var xs=xt.palette_offset,Vt=xt.transparent_index;Vt===null&&(Vt=256);var fs=xt.width,Js=S-fs,_s=fs,_e=4*(xt.y*S+xt.x),dt=4*((xt.y+xt.height)*S+xt.x),ht=_e,Mt=4*Js;xt.interlaced===!0&&(Mt+=4*S*7);for(var Rt=8,Wt=0,ms=us.length;Wt<ms;++Wt){var ps=us[Wt];if(_s===0&&(_s=fs,(ht+=Mt)>=dt&&(Mt=4*Js+4*S*(Rt-1),ht=_e+(fs+Js)*(Rt<<1),Rt>>=1)),ps===Vt)ht+=4;else{var Us=N[xs+3*ps],Zs=N[xs+3*ps+1],wr=N[xs+3*ps+2];gt[ht++]=Us,gt[ht++]=Zs,gt[ht++]=wr,gt[ht++]=255}--_s}}}function Ra(N,b,S,I){for(var R=N[b++],V=1<<R,le=V+1,q=le+1,ee=R+1,je=(1<<ee)-1,Le=0,ze=0,Xe=0,xe=N[b++],ct=new Int32Array(4096),ot=null;;){for(;Le<16&&xe!==0;)ze|=N[b++]<<Le,Le+=8,xe===1?xe=N[b++]:--xe;if(Le<ee)break;var At=ze&je;if(ze>>=ee,Le-=ee,At!==V){if(At===le)break;for(var We=At<q?At:ot,yt=0,Dt=We;Dt>V;)Dt=ct[Dt]>>8,++yt;var pt=Dt;if(Xe+yt+(We!==At?1:0)>I)return void w.log("Warning, gif stream longer than expected.");S[Xe++]=pt;var Ge=Xe+=yt;for(We!==At&&(S[Xe++]=pt),Dt=We;yt--;)Dt=ct[Dt],S[--Ge]=255&Dt,Dt>>=8;ot!==null&&q<4096&&(ct[q++]=ot<<8|pt,q>=je+1&&ee<12&&(++ee,je=je<<1|1)),ot=At}else q=le+1,je=(1<<(ee=R+1))-1,ot=null}return Xe!==I&&w.log("Warning, gif stream shorter than expected."),S}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function fo(N){var b,S,I,R,V,le=Math.floor,q=new Array(64),ee=new Array(64),je=new Array(64),Le=new Array(64),ze=new Array(65535),Xe=new Array(65535),xe=new Array(64),ct=new Array(64),ot=[],At=0,We=7,yt=new Array(64),Dt=new Array(64),pt=new Array(64),Ge=new Array(256),Ft=new Array(2048),is=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ht=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],bt=[0,1,2,3,4,5,6,7,8,9,10,11],es=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ye=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],rt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],gt=[0,1,2,3,4,5,6,7,8,9,10,11],xt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ss=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function us(_e,dt){for(var ht=0,Mt=0,Rt=new Array,Wt=1;Wt<=16;Wt++){for(var ms=1;ms<=_e[Wt];ms++)Rt[dt[Mt]]=[],Rt[dt[Mt]][0]=ht,Rt[dt[Mt]][1]=Wt,Mt++,ht++;ht*=2}return Rt}function xs(_e){for(var dt=_e[0],ht=_e[1]-1;ht>=0;)dt&1<<ht&&(At|=1<<We),ht--,--We<0&&(At==255?(Vt(255),Vt(0)):Vt(At),We=7,At=0)}function Vt(_e){ot.push(_e)}function fs(_e){Vt(_e>>8&255),Vt(255&_e)}function Js(_e,dt,ht,Mt,Rt){for(var Wt,ms=Rt[0],ps=Rt[240],Us=(function(Ps,sn){var jr,$r,Rr,Ca,kn,Sr,zn,Jr,Er,nn,Qr=0;for(Er=0;Er<8;++Er){jr=Ps[Qr],$r=Ps[Qr+1],Rr=Ps[Qr+2],Ca=Ps[Qr+3],kn=Ps[Qr+4],Sr=Ps[Qr+5],zn=Ps[Qr+6];var xn=jr+(Jr=Ps[Qr+7]),Wn=jr-Jr,Sn=$r+zn,Rn=$r-zn,$a=Rr+Sr,Gr=Rr-Sr,Qa=Ca+kn,hn=Ca-kn,zr=xn+Qa,ja=xn-Qa,wn=Sn+$a,lr=Sn-$a;Ps[Qr]=zr+wn,Ps[Qr+4]=zr-wn;var Fn=.707106781*(lr+ja);Ps[Qr+2]=ja+Fn,Ps[Qr+6]=ja-Fn;var $c=.382683433*((zr=hn+Gr)-(lr=Rn+Wn)),Di=.5411961*zr+$c,oo=1.306562965*lr+$c,Kl=.707106781*(wn=Gr+Rn),an=Wn+Kl,oi=Wn-Kl;Ps[Qr+5]=oi+Di,Ps[Qr+3]=oi-Di,Ps[Qr+1]=an+oo,Ps[Qr+7]=an-oo,Qr+=8}for(Qr=0,Er=0;Er<8;++Er){jr=Ps[Qr],$r=Ps[Qr+8],Rr=Ps[Qr+16],Ca=Ps[Qr+24],kn=Ps[Qr+32],Sr=Ps[Qr+40],zn=Ps[Qr+48];var mi=jr+(Jr=Ps[Qr+56]),qo=jr-Jr,Uo=$r+zn,Da=$r-zn,pi=Rr+Sr,li=Rr-Sr,Tl=Ca+kn,Ri=Ca-kn,Al=mi+Tl,mo=mi-Tl,Ul=Uo+pi,Fo=Uo-pi;Ps[Qr]=Al+Ul,Ps[Qr+32]=Al-Ul;var hl=.707106781*(Fo+mo);Ps[Qr+16]=mo+hl,Ps[Qr+48]=mo-hl;var Gc=.382683433*((Al=Ri+li)-(Fo=Da+qo)),fl=.5411961*Al+Gc,Mo=1.306562965*Fo+Gc,Ec=.707106781*(Ul=li+Da),Wc=qo+Ec,fc=qo-Ec;Ps[Qr+40]=fc+fl,Ps[Qr+24]=fc-fl,Ps[Qr+8]=Wc+Mo,Ps[Qr+56]=Wc-Mo,Qr++}for(Er=0;Er<64;++Er)nn=Ps[Er]*sn[Er],xe[Er]=nn>0?nn+.5|0:nn-.5|0;return xe})(_e,dt),Zs=0;Zs<64;++Zs)ct[is[Zs]]=Us[Zs];var wr=ct[0]-ht;ht=ct[0],wr==0?xs(Mt[0]):(xs(Mt[Xe[Wt=32767+wr]]),xs(ze[Wt]));for(var vr=63;vr>0&&ct[vr]==0;)vr--;if(vr==0)return xs(ms),ht;for(var Xr,tt=1;tt<=vr;){for(var cr=tt;ct[tt]==0&&tt<=vr;)++tt;var dn=tt-cr;if(dn>=16){Xr=dn>>4;for(var ir=1;ir<=Xr;++ir)xs(ps);dn&=15}Wt=32767+ct[tt],xs(Rt[(dn<<4)+Xe[Wt]]),xs(ze[Wt]),tt++}return vr!=63&&xs(ms),ht}function _s(_e){_e=Math.min(Math.max(_e,1),100),V!=_e&&((function(dt){for(var ht=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Mt=0;Mt<64;Mt++){var Rt=le((ht[Mt]*dt+50)/100);Rt=Math.min(Math.max(Rt,1),255),q[is[Mt]]=Rt}for(var Wt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ms=0;ms<64;ms++){var ps=le((Wt[ms]*dt+50)/100);ps=Math.min(Math.max(ps,1),255),ee[is[ms]]=ps}for(var Us=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Zs=0,wr=0;wr<8;wr++)for(var vr=0;vr<8;vr++)je[Zs]=1/(q[is[Zs]]*Us[wr]*Us[vr]*8),Le[Zs]=1/(ee[is[Zs]]*Us[wr]*Us[vr]*8),Zs++})(_e<50?Math.floor(5e3/_e):Math.floor(200-2*_e)),V=_e)}this.encode=function(_e,dt){dt&&_s(dt),ot=new Array,At=0,We=7,fs(65496),fs(65504),fs(16),Vt(74),Vt(70),Vt(73),Vt(70),Vt(0),Vt(1),Vt(1),Vt(0),fs(1),fs(1),Vt(0),Vt(0),(function(){fs(65499),fs(132),Vt(0);for(var $r=0;$r<64;$r++)Vt(q[$r]);Vt(1);for(var Rr=0;Rr<64;Rr++)Vt(ee[Rr])})(),(function($r,Rr){fs(65472),fs(17),Vt(8),fs(Rr),fs($r),Vt(3),Vt(1),Vt(17),Vt(0),Vt(2),Vt(17),Vt(1),Vt(3),Vt(17),Vt(1)})(_e.width,_e.height),(function(){fs(65476),fs(418),Vt(0);for(var $r=0;$r<16;$r++)Vt(Ht[$r+1]);for(var Rr=0;Rr<=11;Rr++)Vt(bt[Rr]);Vt(16);for(var Ca=0;Ca<16;Ca++)Vt(es[Ca+1]);for(var kn=0;kn<=161;kn++)Vt(Ye[kn]);Vt(1);for(var Sr=0;Sr<16;Sr++)Vt(rt[Sr+1]);for(var zn=0;zn<=11;zn++)Vt(gt[zn]);Vt(17);for(var Jr=0;Jr<16;Jr++)Vt(xt[Jr+1]);for(var Er=0;Er<=161;Er++)Vt(ss[Er])})(),fs(65498),fs(12),Vt(3),Vt(1),Vt(0),Vt(2),Vt(17),Vt(3),Vt(17),Vt(0),Vt(63),Vt(0);var ht=0,Mt=0,Rt=0;At=0,We=7,this.encode.displayName="_encode_";for(var Wt,ms,ps,Us,Zs,wr,vr,Xr,tt,cr=_e.data,dn=_e.width,ir=_e.height,Ps=4*dn,sn=0;sn<ir;){for(Wt=0;Wt<Ps;){for(Zs=Ps*sn+Wt,vr=-1,Xr=0,tt=0;tt<64;tt++)wr=Zs+(Xr=tt>>3)*Ps+(vr=4*(7&tt)),sn+Xr>=ir&&(wr-=Ps*(sn+1+Xr-ir)),Wt+vr>=Ps&&(wr-=Wt+vr-Ps+4),ms=cr[wr++],ps=cr[wr++],Us=cr[wr++],yt[tt]=(Ft[ms]+Ft[ps+256|0]+Ft[Us+512|0]>>16)-128,Dt[tt]=(Ft[ms+768|0]+Ft[ps+1024|0]+Ft[Us+1280|0]>>16)-128,pt[tt]=(Ft[ms+1280|0]+Ft[ps+1536|0]+Ft[Us+1792|0]>>16)-128;ht=Js(yt,je,ht,b,I),Mt=Js(Dt,Le,Mt,S,R),Rt=Js(pt,Le,Rt,S,R),Wt+=32}sn+=8}if(We>=0){var jr=[];jr[1]=We+1,jr[0]=(1<<We+1)-1,xs(jr)}return fs(65497),new Uint8Array(ot)},N=N||50,(function(){for(var _e=String.fromCharCode,dt=0;dt<256;dt++)Ge[dt]=_e(dt)})(),b=us(Ht,bt),S=us(rt,gt),I=us(es,Ye),R=us(xt,ss),(function(){for(var _e=1,dt=2,ht=1;ht<=15;ht++){for(var Mt=_e;Mt<dt;Mt++)Xe[32767+Mt]=ht,ze[32767+Mt]=[],ze[32767+Mt][1]=ht,ze[32767+Mt][0]=Mt;for(var Rt=-(dt-1);Rt<=-_e;Rt++)Xe[32767+Rt]=ht,ze[32767+Rt]=[],ze[32767+Rt][1]=ht,ze[32767+Rt][0]=dt-1+Rt;_e<<=1,dt<<=1}})(),(function(){for(var _e=0;_e<256;_e++)Ft[_e]=19595*_e,Ft[_e+256|0]=38470*_e,Ft[_e+512|0]=7471*_e+32768,Ft[_e+768|0]=-11059*_e,Ft[_e+1024|0]=-21709*_e,Ft[_e+1280|0]=32768*_e+8421375,Ft[_e+1536|0]=-27439*_e,Ft[_e+1792|0]=-5329*_e})(),_s(N)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Gn(N,b){if(this.pos=0,this.buffer=N,this.datav=new DataView(N.buffer),this.is_with_alpha=!!b,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ki(N){function b(bt){if(!bt)throw Error("assert :P")}function S(bt,es,Ye){for(var rt=0;4>rt;rt++)if(bt[es+rt]!=Ye.charCodeAt(rt))return!0;return!1}function I(bt,es,Ye,rt,gt){for(var xt=0;xt<gt;xt++)bt[es+xt]=Ye[rt+xt]}function R(bt,es,Ye,rt){for(var gt=0;gt<rt;gt++)bt[es+gt]=Ye}function V(bt){return new Int32Array(bt)}function le(bt,es){for(var Ye=[],rt=0;rt<bt;rt++)Ye.push(new es);return Ye}function q(bt,es){var Ye=[];return(function rt(gt,xt,ss){for(var us=ss[xt],xs=0;xs<us&&(gt.push(ss.length>xt+1?[]:new es),!(ss.length<xt+1));xs++)rt(gt[xs],xt+1,ss)})(Ye,0,bt),Ye}var ee=function(){var bt=this;function es(B,D){for(var se=1<<D-1>>>0;B&se;)se>>>=1;return se?(B&se-1)+se:B}function Ye(B,D,se,he,Ue){b(!(he%se));do B[D+(he-=se)]=Ue;while(0<he)}function rt(B,D,se,he,Ue){if(b(2328>=Ue),512>=Ue)var Ie=V(512);else if((Ie=V(Ue))==null)return 0;return(function(Oe,Pe,Ke,nt,kt,$t){var st,Ut,Pt=Pe,bs=1<<Ke,Jt=V(16),ys=V(16);for(b(kt!=0),b(nt!=null),b(Oe!=null),b(0<Ke),Ut=0;Ut<kt;++Ut){if(15<nt[Ut])return 0;++Jt[nt[Ut]]}if(Jt[0]==kt)return 0;for(ys[1]=0,st=1;15>st;++st){if(Jt[st]>1<<st)return 0;ys[st+1]=ys[st]+Jt[st]}for(Ut=0;Ut<kt;++Ut)st=nt[Ut],0<nt[Ut]&&($t[ys[st]++]=Ut);if(ys[15]==1)return(nt=new gt).g=0,nt.value=$t[0],Ye(Oe,Pt,1,bs,nt),bs;var Bs,Hs=-1,Ds=bs-1,Kr=0,Nr=1,Pn=1,Pr=1<<Ke;for(Ut=0,st=1,kt=2;st<=Ke;++st,kt<<=1){if(Nr+=Pn<<=1,0>(Pn-=Jt[st]))return 0;for(;0<Jt[st];--Jt[st])(nt=new gt).g=st,nt.value=$t[Ut++],Ye(Oe,Pt+Kr,kt,Pr,nt),Kr=es(Kr,st)}for(st=Ke+1,kt=2;15>=st;++st,kt<<=1){if(Nr+=Pn<<=1,0>(Pn-=Jt[st]))return 0;for(;0<Jt[st];--Jt[st]){if(nt=new gt,(Kr&Ds)!=Hs){for(Pt+=Pr,Bs=1<<(Hs=st)-Ke;15>Hs&&!(0>=(Bs-=Jt[Hs]));)++Hs,Bs<<=1;bs+=Pr=1<<(Bs=Hs-Ke),Oe[Pe+(Hs=Kr&Ds)].g=Bs+Ke,Oe[Pe+Hs].value=Pt-Pe-Hs}nt.g=st-Ke,nt.value=$t[Ut++],Ye(Oe,Pt+(Kr>>Ke),kt,Pr,nt),Kr=es(Kr,st)}}return Nr!=2*ys[15]-1?0:bs})(B,D,se,he,Ue,Ie)}function gt(){this.value=this.g=0}function xt(){this.value=this.g=0}function ss(){this.G=le(5,gt),this.H=V(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=le(Qn,xt)}function us(B,D,se,he){b(B!=null),b(D!=null),b(2147483648>he),B.Ca=254,B.I=0,B.b=-8,B.Ka=0,B.oa=D,B.pa=se,B.Jd=D,B.Yc=se+he,B.Zc=4<=he?se+he-4+1:se,ms(B)}function xs(B,D){for(var se=0;0<D--;)se|=Us(B,128)<<D;return se}function Vt(B,D){var se=xs(B,D);return ps(B)?-se:se}function fs(B,D,se,he){var Ue,Ie=0;for(b(B!=null),b(D!=null),b(4294967288>he),B.Sb=he,B.Ra=0,B.u=0,B.h=0,4<he&&(he=4),Ue=0;Ue<he;++Ue)Ie+=D[se+Ue]<<8*Ue;B.Ra=Ie,B.bb=he,B.oa=D,B.pa=se}function Js(B){for(;8<=B.u&&B.bb<B.Sb;)B.Ra>>>=8,B.Ra+=B.oa[B.pa+B.bb]<<bo-8>>>0,++B.bb,B.u-=8;Mt(B)&&(B.h=1,B.u=0)}function _s(B,D){if(b(0<=D),!B.h&&D<=on){var se=ht(B)&Fr[D];return B.u+=D,Js(B),se}return B.h=1,B.u=0}function _e(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function dt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ht(B){return B.Ra>>>(B.u&bo-1)>>>0}function Mt(B){return b(B.bb<=B.Sb),B.h||B.bb==B.Sb&&B.u>bo}function Rt(B,D){B.u=D,B.h=Mt(B)}function Wt(B){B.u>=Zl&&(b(B.u>=Zl),Js(B))}function ms(B){b(B!=null&&B.oa!=null),B.pa<B.Zc?(B.I=(B.oa[B.pa++]|B.I<<8)>>>0,B.b+=8):(b(B!=null&&B.oa!=null),B.pa<B.Yc?(B.b+=8,B.I=B.oa[B.pa++]|B.I<<8):B.Ka?B.b=0:(B.I<<=8,B.b+=8,B.Ka=1))}function ps(B){return xs(B,1)}function Us(B,D){var se=B.Ca;0>B.b&&ms(B);var he=B.b,Ue=se*D>>>8,Ie=(B.I>>>he>Ue)+0;for(Ie?(se-=Ue,B.I-=Ue+1<<he>>>0):se=Ue+1,he=se,Ue=0;256<=he;)Ue+=8,he>>=8;return he=7^Ue+vl[he],B.b-=he,B.Ca=(se<<he)-1,Ie}function Zs(B,D,se){B[D+0]=se>>24&255,B[D+1]=se>>16&255,B[D+2]=se>>8&255,B[D+3]=255&se}function wr(B,D){return B[D+0]|B[D+1]<<8}function vr(B,D){return wr(B,D)|B[D+2]<<16}function Xr(B,D){return wr(B,D)|wr(B,D+2)<<16}function tt(B,D){var se=1<<D;return b(B!=null),b(0<D),B.X=V(se),B.X==null?0:(B.Mb=32-D,B.Xa=D,1)}function cr(B,D){b(B!=null),b(D!=null),b(B.Xa==D.Xa),I(D.X,0,B.X,0,1<<D.Xa)}function dn(){this.X=[],this.Xa=this.Mb=0}function ir(B,D,se,he){b(se!=null),b(he!=null);var Ue=se[0],Ie=he[0];return Ue==0&&(Ue=(B*Ie+D/2)/D),Ie==0&&(Ie=(D*Ue+B/2)/B),0>=Ue||0>=Ie?0:(se[0]=Ue,he[0]=Ie,1)}function Ps(B,D){return B+(1<<D)-1>>>D}function sn(B,D){return((4278255360&B)+(4278255360&D)>>>0&4278255360)+((16711935&B)+(16711935&D)>>>0&16711935)>>>0}function jr(B,D){bt[D]=function(se,he,Ue,Ie,Oe,Pe,Ke){var nt;for(nt=0;nt<Oe;++nt){var kt=bt[B](Pe[Ke+nt-1],Ue,Ie+nt);Pe[Ke+nt]=sn(se[he+nt],kt)}}}function $r(){this.ud=this.hd=this.jd=0}function Rr(B,D){return((4278124286&(B^D))>>>1)+(B&D)>>>0}function Ca(B){return 0<=B&&256>B?B:0>B?0:255<B?255:void 0}function kn(B,D){return Ca(B+(B-D+.5>>1))}function Sr(B,D,se){return Math.abs(D-se)-Math.abs(B-se)}function zn(B,D,se,he,Ue,Ie,Oe){for(he=Ie[Oe-1],se=0;se<Ue;++se)Ie[Oe+se]=he=sn(B[D+se],he)}function Jr(B,D,se,he,Ue){var Ie;for(Ie=0;Ie<se;++Ie){var Oe=B[D+Ie],Pe=Oe>>8&255,Ke=16711935&(Ke=(Ke=16711935&Oe)+((Pe<<16)+Pe));he[Ue+Ie]=(4278255360&Oe)+Ke>>>0}}function Er(B,D){D.jd=255&B,D.hd=B>>8&255,D.ud=B>>16&255}function nn(B,D,se,he,Ue,Ie){var Oe;for(Oe=0;Oe<he;++Oe){var Pe=D[se+Oe],Ke=Pe>>>8,nt=Pe,kt=255&(kt=(kt=Pe>>>16)+((B.jd<<24>>24)*(Ke<<24>>24)>>>5));nt=255&(nt=(nt+=(B.hd<<24>>24)*(Ke<<24>>24)>>>5)+((B.ud<<24>>24)*(kt<<24>>24)>>>5)),Ue[Ie+Oe]=(4278255360&Pe)+(kt<<16)+nt}}function Qr(B,D,se,he,Ue){bt[D]=function(Ie,Oe,Pe,Ke,nt,kt,$t,st,Ut){for(Ke=$t;Ke<st;++Ke)for($t=0;$t<Ut;++$t)nt[kt++]=Ue(Pe[he(Ie[Oe++])])},bt[B]=function(Ie,Oe,Pe,Ke,nt,kt,$t){var st=8>>Ie.b,Ut=Ie.Ea,Pt=Ie.K[0],bs=Ie.w;if(8>st)for(Ie=(1<<Ie.b)-1,bs=(1<<st)-1;Oe<Pe;++Oe){var Jt,ys=0;for(Jt=0;Jt<Ut;++Jt)Jt&Ie||(ys=he(Ke[nt++])),kt[$t++]=Ue(Pt[ys&bs]),ys>>=st}else bt["VP8LMapColor"+se](Ke,nt,Pt,bs,kt,$t,Oe,Pe,Ut)}}function xn(B,D,se,he,Ue){for(se=D+se;D<se;){var Ie=B[D++];he[Ue++]=Ie>>16&255,he[Ue++]=Ie>>8&255,he[Ue++]=255&Ie}}function Wn(B,D,se,he,Ue){for(se=D+se;D<se;){var Ie=B[D++];he[Ue++]=Ie>>16&255,he[Ue++]=Ie>>8&255,he[Ue++]=255&Ie,he[Ue++]=Ie>>24&255}}function Sn(B,D,se,he,Ue){for(se=D+se;D<se;){var Ie=(Oe=B[D++])>>16&240|Oe>>12&15,Oe=240&Oe|Oe>>28&15;he[Ue++]=Ie,he[Ue++]=Oe}}function Rn(B,D,se,he,Ue){for(se=D+se;D<se;){var Ie=(Oe=B[D++])>>16&248|Oe>>13&7,Oe=Oe>>5&224|Oe>>3&31;he[Ue++]=Ie,he[Ue++]=Oe}}function $a(B,D,se,he,Ue){for(se=D+se;D<se;){var Ie=B[D++];he[Ue++]=255&Ie,he[Ue++]=Ie>>8&255,he[Ue++]=Ie>>16&255}}function Gr(B,D,se,he,Ue,Ie){if(Ie==0)for(se=D+se;D<se;)Zs(he,((Ie=B[D++])[0]>>24|Ie[1]>>8&65280|Ie[2]<<8&16711680|Ie[3]<<24)>>>0),Ue+=32;else I(he,Ue,B,D,se)}function Qa(B,D){bt[D][0]=bt[B+"0"],bt[D][1]=bt[B+"1"],bt[D][2]=bt[B+"2"],bt[D][3]=bt[B+"3"],bt[D][4]=bt[B+"4"],bt[D][5]=bt[B+"5"],bt[D][6]=bt[B+"6"],bt[D][7]=bt[B+"7"],bt[D][8]=bt[B+"8"],bt[D][9]=bt[B+"9"],bt[D][10]=bt[B+"10"],bt[D][11]=bt[B+"11"],bt[D][12]=bt[B+"12"],bt[D][13]=bt[B+"13"],bt[D][14]=bt[B+"0"],bt[D][15]=bt[B+"0"]}function hn(B){return B==VA||B==AA||B==vu||B==KA}function zr(){this.eb=[],this.size=this.A=this.fb=0}function ja(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zr,this.f.kb=new ja,this.sd=null}function lr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $c(B){return alert("todo:WebPSamplerProcessPlane"),B.T}function Di(B,D){var se=B.T,he=D.ba.f.RGBA,Ue=he.eb,Ie=he.fb+B.ka*he.A,Oe=wc[D.ba.S],Pe=B.y,Ke=B.O,nt=B.f,kt=B.N,$t=B.ea,st=B.W,Ut=D.cc,Pt=D.dc,bs=D.Mc,Jt=D.Nc,ys=B.ka,Bs=B.ka+B.T,Hs=B.U,Ds=Hs+1>>1;for(ys==0?Oe(Pe,Ke,null,null,nt,kt,$t,st,nt,kt,$t,st,Ue,Ie,null,null,Hs):(Oe(D.ec,D.fc,Pe,Ke,Ut,Pt,bs,Jt,nt,kt,$t,st,Ue,Ie-he.A,Ue,Ie,Hs),++se);ys+2<Bs;ys+=2)Ut=nt,Pt=kt,bs=$t,Jt=st,kt+=B.Rc,st+=B.Rc,Ie+=2*he.A,Oe(Pe,(Ke+=2*B.fa)-B.fa,Pe,Ke,Ut,Pt,bs,Jt,nt,kt,$t,st,Ue,Ie-he.A,Ue,Ie,Hs);return Ke+=B.fa,B.j+Bs<B.o?(I(D.ec,D.fc,Pe,Ke,Hs),I(D.cc,D.dc,nt,kt,Ds),I(D.Mc,D.Nc,$t,st,Ds),se--):1&Bs||Oe(Pe,Ke,null,null,nt,kt,$t,st,nt,kt,$t,st,Ue,Ie+he.A,null,null,Hs),se}function oo(B,D,se){var he=B.F,Ue=[B.J];if(he!=null){var Ie=B.U,Oe=D.ba.S,Pe=Oe==to||Oe==vu;D=D.ba.f.RGBA;var Ke=[0],nt=B.ka;Ke[0]=B.T,B.Kb&&(nt==0?--Ke[0]:(--nt,Ue[0]-=B.width),B.j+B.ka+B.T==B.o&&(Ke[0]=B.o-B.j-nt));var kt=D.eb;nt=D.fb+nt*D.A,B=Il(he,Ue[0],B.width,Ie,Ke,kt,nt+(Pe?0:3),D.A),b(se==Ke),B&&hn(Oe)&&Ld(kt,nt,Pe,Ie,Ke,D.A)}return 0}function Kl(B){var D=B.ma,se=D.ba.S,he=11>se,Ue=se==uA||se==Mu||se==to||se==Jd||se==12||hn(se);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!Ma(D.Oa,B,Ue?11:12))return 0;if(Ue&&hn(se)&&it(),B.da)alert("todo:use_scaling");else{if(he){if(D.Ib=$c,B.Kb){if(se=B.U+1>>1,D.memory=V(B.U+2*se),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+B.U,D.Mc=D.cc,D.Nc=D.dc+se,D.Ib=Di,it()}}else alert("todo:EmitYUV");Ue&&(D.Jb=oo,he&&Qe())}if(he&&!$h){for(B=0;256>B;++B)qA[B]=89858*(B-128)+jd>>Zd,sh[B]=-22014*(B-128)+jd,th[B]=-45773*(B-128),eh[B]=113618*(B-128)+jd>>Zd;for(B=Du;B<ZA;++B)D=76283*(B-16)+jd>>Zd,rh[B-Du]=go(D,255),Gh[B-Du]=go(D+8>>4,15);$h=1}return 1}function an(B){var D=B.ma,se=B.U,he=B.T;return b(!(1&B.ka)),0>=se||0>=he?0:(se=D.Ib(B,D),D.Jb!=null&&D.Jb(B,D,se),D.Dc+=se,1)}function oi(B){B.ma.memory=null}function mi(B,D,se,he){return _s(B,8)!=47?0:(D[0]=_s(B,14)+1,se[0]=_s(B,14)+1,he[0]=_s(B,1),_s(B,3)!=0?0:!B.h)}function qo(B,D){if(4>B)return B+1;var se=B-2>>1;return(2+(1&B)<<se)+_s(D,se)+1}function Uo(B,D){return 120<D?D-120:1<=(se=((se=$A[D-1])>>4)*B+(8-(15&se)))?se:1;var se}function Da(B,D,se){var he=ht(se),Ue=B[D+=255&he].g-8;return 0<Ue&&(Rt(se,se.u+8),he=ht(se),D+=B[D].value,D+=he&(1<<Ue)-1),Rt(se,se.u+B[D].g),B[D].value}function pi(B,D,se){return se.g+=B.g,se.value+=B.value<<D>>>0,b(8>=se.g),B.g}function li(B,D,se){var he=B.xc;return b((D=he==0?0:B.vc[B.md*(se>>he)+(D>>he)])<B.Wb),B.Ya[D]}function Tl(B,D,se,he){var Ue=B.ab,Ie=B.c*D,Oe=B.C;D=Oe+D;var Pe=se,Ke=he;for(he=B.Ta,se=B.Ua;0<Ue--;){var nt=B.gc[Ue],kt=Oe,$t=D,st=Pe,Ut=Ke,Pt=(Ke=he,Pe=se,nt.Ea);switch(b(kt<$t),b($t<=nt.nc),nt.hc){case 2:Ga(st,Ut,($t-kt)*Pt,Ke,Pe);break;case 0:var bs=kt,Jt=$t,ys=Ke,Bs=Pe,Hs=(Pr=nt).Ea;bs==0&&(Yi(st,Ut,null,null,1,ys,Bs),zn(st,Ut+1,0,0,Hs-1,ys,Bs+1),Ut+=Hs,Bs+=Hs,++bs);for(var Ds=1<<Pr.b,Kr=Ds-1,Nr=Ps(Hs,Pr.b),Pn=Pr.K,Pr=Pr.w+(bs>>Pr.b)*Nr;bs<Jt;){var ca=Pn,so=Pr,Mn=1;for(vo(st,Ut,ys,Bs-Hs,1,ys,Bs);Mn<Hs;){var _r=(Mn&~Kr)+Ds;_r>Hs&&(_r=Hs),(0,bi[ca[so++]>>8&15])(st,Ut+ +Mn,ys,Bs+Mn-Hs,_r-Mn,ys,Bs+Mn),Mn=_r}Ut+=Hs,Bs+=Hs,++bs&Kr||(Pr+=Nr)}$t!=nt.nc&&I(Ke,Pe-Pt,Ke,Pe+($t-kt-1)*Pt,Pt);break;case 1:for(Pt=st,Jt=Ut,Hs=(st=nt.Ea)-(Bs=st&~(ys=(Ut=1<<nt.b)-1)),bs=Ps(st,nt.b),Ds=nt.K,nt=nt.w+(kt>>nt.b)*bs;kt<$t;){for(Kr=Ds,Nr=nt,Pn=new $r,Pr=Jt+Bs,ca=Jt+st;Jt<Pr;)Er(Kr[Nr++],Pn),Xd(Pn,Pt,Jt,Ut,Ke,Pe),Jt+=Ut,Pe+=Ut;Jt<ca&&(Er(Kr[Nr++],Pn),Xd(Pn,Pt,Jt,Hs,Ke,Pe),Jt+=Hs,Pe+=Hs),++kt&ys||(nt+=bs)}break;case 3:if(st==Ke&&Ut==Pe&&0<nt.b){for(Jt=Ke,st=Pt=Pe+($t-kt)*Pt-(Bs=($t-kt)*Ps(nt.Ea,nt.b)),Ut=Ke,ys=Pe,bs=[],Bs=(Hs=Bs)-1;0<=Bs;--Bs)bs[Bs]=Ut[ys+Bs];for(Bs=Hs-1;0<=Bs;--Bs)Jt[st+Bs]=bs[Bs];Uu(nt,kt,$t,Ke,Pt,Ke,Pe)}else Uu(nt,kt,$t,st,Ut,Ke,Pe)}Pe=he,Ke=se}Ke!=se&&I(he,se,Pe,Ke,Ie)}function Ri(B,D){var se=B.V,he=B.Ba+B.c*B.C,Ue=D-B.C;if(b(D<=B.l.o),b(16>=Ue),0<Ue){var Ie=B.l,Oe=B.Ta,Pe=B.Ua,Ke=Ie.width;if(Tl(B,Ue,se,he),Ue=Pe=[Pe],b((se=B.C)<(he=D)),b(Ie.v<Ie.va),he>Ie.o&&(he=Ie.o),se<Ie.j){var nt=Ie.j-se;se=Ie.j,Ue[0]+=nt*Ke}if(se>=he?se=0:(Ue[0]+=4*Ie.v,Ie.ka=se-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=he-se,se=1),se){if(Pe=Pe[0],11>(se=B.ca).S){var kt=se.f.RGBA,$t=(he=se.S,Ue=Ie.U,Ie=Ie.T,nt=kt.eb,kt.A),st=Ie;for(kt=kt.fb+B.Ma*kt.A;0<st--;){var Ut=Oe,Pt=Pe,bs=Ue,Jt=nt,ys=kt;switch(he){case bu:xc(Ut,Pt,bs,Jt,ys);break;case uA:bn(Ut,Pt,bs,Jt,ys);break;case VA:bn(Ut,Pt,bs,Jt,ys),Ld(Jt,ys,0,bs,1,0);break;case HA:bd(Ut,Pt,bs,Jt,ys);break;case Mu:Gr(Ut,Pt,bs,Jt,ys,1);break;case AA:Gr(Ut,Pt,bs,Jt,ys,1),Ld(Jt,ys,0,bs,1,0);break;case to:Gr(Ut,Pt,bs,Jt,ys,0);break;case vu:Gr(Ut,Pt,bs,Jt,ys,0),Ld(Jt,ys,1,bs,1,0);break;case Jd:ma(Ut,Pt,bs,Jt,ys);break;case KA:ma(Ut,Pt,bs,Jt,ys),lA(Jt,ys,bs,1,0);break;case zA:si(Ut,Pt,bs,Jt,ys);break;default:b(0)}Pe+=Ke,kt+=$t}B.Ma+=Ie}else alert("todo:EmitRescaledRowsYUVA");b(B.Ma<=se.height)}}B.C=D,b(B.C<=B.i)}function Al(B){var D;if(0<B.ua)return 0;for(D=0;D<B.Wb;++D){var se=B.Ya[D].G,he=B.Ya[D].H;if(0<se[1][he[1]+0].g||0<se[2][he[2]+0].g||0<se[3][he[3]+0].g)return 0}return 1}function mo(B,D,se,he,Ue,Ie){if(B.Z!=0){var Oe=B.qd,Pe=B.rd;for(b(yd[B.Z]!=null);D<se;++D)yd[B.Z](Oe,Pe,he,Ue,he,Ue,Ie),Oe=he,Pe=Ue,Ue+=Ie;B.qd=Oe,B.rd=Pe}}function Ul(B,D){var se=B.l.ma,he=se.Z==0||se.Z==1?B.l.j:B.C;if(he=B.C<he?he:B.C,b(D<=B.l.o),D>he){var Ue=B.l.width,Ie=se.ca,Oe=se.tb+Ue*he,Pe=B.V,Ke=B.Ba+B.c*he,nt=B.gc;b(B.ab==1),b(nt[0].hc==3),al(nt[0],he,D,Pe,Ke,Ie,Oe),mo(se,he,D,Ie,Oe,Ue)}B.C=B.Ma=D}function Fo(B,D,se,he,Ue,Ie,Oe){var Pe=B.$/he,Ke=B.$%he,nt=B.m,kt=B.s,$t=se+B.$,st=$t;Ue=se+he*Ue;var Ut=se+he*Ie,Pt=280+kt.ua,bs=B.Pb?Pe:16777216,Jt=0<kt.ua?kt.Wa:null,ys=kt.wc,Bs=$t<Ut?li(kt,Ke,Pe):null;b(B.C<Ie),b(Ut<=Ue);var Hs=!1;e:for(;;){for(;Hs||$t<Ut;){var Ds=0;if(Pe>=bs){var Kr=$t-se;b((bs=B).Pb),bs.wd=bs.m,bs.xd=Kr,0<bs.s.ua&&cr(bs.s.Wa,bs.s.vb),bs=Pe+Hh}if(Ke&ys||(Bs=li(kt,Ke,Pe)),b(Bs!=null),Bs.Qb&&(D[$t]=Bs.qb,Hs=!0),!Hs)if(Wt(nt),Bs.jc){Ds=nt,Kr=D;var Nr=$t,Pn=Bs.pd[ht(Ds)&Qn-1];b(Bs.jc),256>Pn.g?(Rt(Ds,Ds.u+Pn.g),Kr[Nr]=Pn.value,Ds=0):(Rt(Ds,Ds.u+Pn.g-256),b(256<=Pn.value),Ds=Pn.value),Ds==0&&(Hs=!0)}else Ds=Da(Bs.G[0],Bs.H[0],nt);if(nt.h)break;if(Hs||256>Ds){if(!Hs)if(Bs.nd)D[$t]=(Bs.qb|Ds<<8)>>>0;else{if(Wt(nt),Hs=Da(Bs.G[1],Bs.H[1],nt),Wt(nt),Kr=Da(Bs.G[2],Bs.H[2],nt),Nr=Da(Bs.G[3],Bs.H[3],nt),nt.h)break;D[$t]=(Nr<<24|Hs<<16|Ds<<8|Kr)>>>0}if(Hs=!1,++$t,++Ke>=he&&(Ke=0,++Pe,Oe!=null&&Pe<=Ie&&!(Pe%16)&&Oe(B,Pe),Jt!=null))for(;st<$t;)Ds=D[st++],Jt.X[(506832829*Ds&4294967295)>>>Jt.Mb]=Ds}else if(280>Ds){if(Ds=qo(Ds-256,nt),Kr=Da(Bs.G[4],Bs.H[4],nt),Wt(nt),Kr=Uo(he,Kr=qo(Kr,nt)),nt.h)break;if($t-se<Kr||Ue-$t<Ds)break e;for(Nr=0;Nr<Ds;++Nr)D[$t+Nr]=D[$t+Nr-Kr];for($t+=Ds,Ke+=Ds;Ke>=he;)Ke-=he,++Pe,Oe!=null&&Pe<=Ie&&!(Pe%16)&&Oe(B,Pe);if(b($t<=Ue),Ke&ys&&(Bs=li(kt,Ke,Pe)),Jt!=null)for(;st<$t;)Ds=D[st++],Jt.X[(506832829*Ds&4294967295)>>>Jt.Mb]=Ds}else{if(!(Ds<Pt))break e;for(Hs=Ds-280,b(Jt!=null);st<$t;)Ds=D[st++],Jt.X[(506832829*Ds&4294967295)>>>Jt.Mb]=Ds;Ds=$t,b(!(Hs>>>(Kr=Jt).Xa)),D[Ds]=Kr.X[Hs],Hs=!0}Hs||b(nt.h==Mt(nt))}if(B.Pb&&nt.h&&$t<Ue)b(B.m.h),B.a=5,B.m=B.wd,B.$=B.xd,0<B.s.ua&&cr(B.s.vb,B.s.Wa);else{if(nt.h)break e;Oe!=null&&Oe(B,Pe>Ie?Ie:Pe),B.a=0,B.$=$t-se}return 1}return B.a=3,0}function hl(B){b(B!=null),B.vc=null,B.yc=null,B.Ya=null;var D=B.Wa;D!=null&&(D.X=null),B.vb=null,b(B!=null)}function Gc(){var B=new fn;return B==null?null:(B.a=0,B.xb=mA,Qa("Predictor","VP8LPredictors"),Qa("Predictor","VP8LPredictors_C"),Qa("PredictorAdd","VP8LPredictorsAdd"),Qa("PredictorAdd","VP8LPredictorsAdd_C"),Ga=Jr,Xd=nn,xc=xn,bn=Wn,ma=Sn,si=Rn,bd=$a,bt.VP8LMapColor32b=td,bt.VP8LMapColor8b=il,B)}function fl(B,D,se,he,Ue){var Ie=1,Oe=[B],Pe=[D],Ke=he.m,nt=he.s,kt=null,$t=0;e:for(;;){if(se)for(;Ie&&_s(Ke,1);){var st=Oe,Ut=Pe,Pt=he,bs=1,Jt=Pt.m,ys=Pt.gc[Pt.ab],Bs=_s(Jt,2);if(Pt.Oc&1<<Bs)Ie=0;else{switch(Pt.Oc|=1<<Bs,ys.hc=Bs,ys.Ea=st[0],ys.nc=Ut[0],ys.K=[null],++Pt.ab,b(4>=Pt.ab),Bs){case 0:case 1:ys.b=_s(Jt,3)+2,bs=fl(Ps(ys.Ea,ys.b),Ps(ys.nc,ys.b),0,Pt,ys.K),ys.K=ys.K[0];break;case 3:var Hs,Ds=_s(Jt,8)+1,Kr=16<Ds?0:4<Ds?1:2<Ds?2:3;if(st[0]=Ps(ys.Ea,Kr),ys.b=Kr,Hs=bs=fl(Ds,1,0,Pt,ys.K)){var Nr,Pn=Ds,Pr=ys,ca=1<<(8>>Pr.b),so=V(ca);if(so==null)Hs=0;else{var Mn=Pr.K[0],_r=Pr.w;for(so[0]=Pr.K[0][0],Nr=1;Nr<1*Pn;++Nr)so[Nr]=sn(Mn[_r+Nr],so[Nr-1]);for(;Nr<4*ca;++Nr)so[Nr]=0;Pr.K[0]=null,Pr.K[0]=so,Hs=1}}bs=Hs;break;case 2:break;default:b(0)}Ie=bs}}if(Oe=Oe[0],Pe=Pe[0],Ie&&_s(Ke,1)&&!(Ie=1<=($t=_s(Ke,4))&&11>=$t)){he.a=3;break e}var ur;if(ur=Ie)t:{var _i,Ln,Vn,ri=he,yo=Oe,_o=Pe,La=$t,Po=se,yl=ri.m,Pi=ri.s,ia=[null],cn=1,Ji=0,Ha=GA[La];s:for(;;){if(Po&&_s(yl,1)){var Ho=_s(yl,3)+2,ll=Ps(yo,Ho),Wa=Ps(_o,Ho),cl=ll*Wa;if(!fl(ll,Wa,0,ri,ia))break s;for(ia=ia[0],Pi.xc=Ho,_i=0;_i<cl;++_i){var Ya=ia[_i]>>8&65535;ia[_i]=Ya,Ya>=cn&&(cn=Ya+1)}}if(yl.h)break s;for(Ln=0;5>Ln;++Ln){var Ys=Ph[Ln];!Ln&&0<La&&(Ys+=1<<La),Ji<Ys&&(Ji=Ys)}var ni=le(cn*Ha,gt),wo=cn,ci=le(wo,ss);if(ci==null)var sc=null;else b(65536>=wo),sc=ci;var Un=V(Ji);if(sc==null||Un==null||ni==null){ri.a=1;break s}var ea=ni;for(_i=Vn=0;_i<cn;++_i){var ka=sc[_i],rc=ka.G,Zi=ka.H,di=0,nc=1,zo=0;for(Ln=0;5>Ln;++Ln){Ys=Ph[Ln],rc[Ln]=ea,Zi[Ln]=Vn,!Ln&&0<La&&(Ys+=1<<La);n:{var ro,nh=Ys,vA=ri,wu=Un,Ti=ea,Dl=Vn,Dc=0,rd=vA.m,Wh=_s(rd,1);if(R(wu,0,0,nh),Wh){var Uf=_s(rd,1)+1,Ff=_s(rd,1),yA=_s(rd,Ff==0?1:8);wu[yA]=1,Uf==2&&(wu[yA=_s(rd,8)]=1);var dl=1}else{var Rc=V(19),Qu=_s(rd,4)+4;if(19<Qu){vA.a=3;var Xa=0;break n}for(ro=0;ro<Qu;++ro)Rc[Cf[ro]]=_s(rd,3);var wA=void 0,wl=void 0,qd=vA,Id=Rc,eu=nh,Dd=wu,jl=0,Rd=qd.m,Qc=8,_u=le(128,gt);r:for(;rt(_u,0,7,Id,19);){if(_s(Rd,1)){var jA=2+2*_s(Rd,3);if((wA=2+_s(Rd,jA))>eu)break r}else wA=eu;for(wl=0;wl<eu&&wA--;){Wt(Rd);var tu=_u[0+(127&ht(Rd))];Rt(Rd,Rd.u+tu.g);var ju=tu.value;if(16>ju)Dd[wl++]=ju,ju!=0&&(Qc=ju);else{var Yh=ju==16,Pu=ju-16,Mf=p0[Pu],NA=_s(Rd,Nf[Pu])+Mf;if(wl+NA>eu)break r;for(var Lf=Yh?Qc:0;0<NA--;)Dd[wl++]=Lf}}jl=1;break r}jl||(qd.a=3),dl=jl}(dl=dl&&!rd.h)&&(Dc=rt(Ti,Dl,8,wu,nh)),dl&&Dc!=0?Xa=Dc:(vA.a=3,Xa=0)}if(Xa==0)break s;if(nc&&Lu[Ln]==1&&(nc=ea[Vn].g==0),di+=ea[Vn].g,Vn+=Xa,3>=Ln){var CA,Xh=Un[0];for(CA=1;CA<Ys;++CA)Un[CA]>Xh&&(Xh=Un[CA]);zo+=Xh}}if(ka.nd=nc,ka.Qb=0,nc&&(ka.qb=(rc[3][Zi[3]+0].value<<24|rc[1][Zi[1]+0].value<<16|rc[2][Zi[2]+0].value)>>>0,di==0&&256>rc[0][Zi[0]+0].value&&(ka.Qb=1,ka.qb+=rc[0][Zi[0]+0].value<<8)),ka.jc=!ka.Qb&&6>zo,ka.jc){var va,pa=ka;for(va=0;va<Qn;++va){var On=va,Hn=pa.pd[On],Sa=pa.G[0][pa.H[0]+On];256<=Sa.value?(Hn.g=Sa.g+256,Hn.value=Sa.value):(Hn.g=0,Hn.value=0,On>>=pi(Sa,8,Hn),On>>=pi(pa.G[1][pa.H[1]+On],16,Hn),On>>=pi(pa.G[2][pa.H[2]+On],0,Hn),pi(pa.G[3][pa.H[3]+On],24,Hn))}}}Pi.vc=ia,Pi.Wb=cn,Pi.Ya=sc,Pi.yc=ni,ur=1;break t}ur=0}if(!(Ie=ur)){he.a=3;break e}if(0<$t){if(nt.ua=1<<$t,!tt(nt.Wa,$t)){he.a=1,Ie=0;break e}}else nt.ua=0;var Rl=he,Qd=Oe,Hu=Pe,k=Rl.s,j=k.xc;if(Rl.c=Qd,Rl.i=Hu,k.md=Ps(Qd,j),k.wc=j==0?-1:(1<<j)-1,se){he.xb=Sf;break e}if((kt=V(Oe*Pe))==null){he.a=1,Ie=0;break e}Ie=(Ie=Fo(he,kt,0,Oe,Pe,Pe,null))&&!Ke.h;break e}return Ie?(Ue!=null?Ue[0]=kt:(b(kt==null),b(se)),he.$=0,se||hl(nt)):hl(nt),Ie}function Mo(B,D){var se=B.c*B.i,he=se+D+16*D;return b(B.c<=D),B.V=V(he),B.V==null?(B.Ta=null,B.Ua=0,B.a=1,0):(B.Ta=B.V,B.Ua=B.Ba+se+D,1)}function Ec(B,D){var se=B.C,he=D-se,Ue=B.V,Ie=B.Ba+B.c*se;for(b(D<=B.l.o);0<he;){var Oe=16<he?16:he,Pe=B.l.ma,Ke=B.l.width,nt=Ke*Oe,kt=Pe.ca,$t=Pe.tb+Ke*se,st=B.Ta,Ut=B.Ua;Tl(B,Oe,Ue,Ie),Oc(st,Ut,kt,$t,nt),mo(Pe,se,se+Oe,kt,$t,Ke),he-=Oe,Ue+=Oe*B.c,se+=Oe}b(se==D),B.C=B.Ma=D}function Wc(){this.ub=this.yd=this.td=this.Rb=0}function fc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function el(){this.Fb=this.Bb=this.Cb=0,this.Zb=V(4),this.Lb=V(4)}function Tc(){this.Yb=(function(){var B=[];return(function D(se,he,Ue){for(var Ie=Ue[he],Oe=0;Oe<Ie&&(se.push(Ue.length>he+1?[]:0),!(Ue.length<he+1));Oe++)D(se[Oe],he+1,Ue)})(B,0,[3,11]),B})()}function Lo(){this.jb=V(3),this.Wc=q([4,8],Tc),this.Xc=q([4,17],Tc)}function Fl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new V(4),this.od=new V(4)}function po(){this.ld=this.La=this.dd=this.tc=0}function mc(){this.Na=this.la=0}function Uc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cd(){this.ad=V(384),this.Za=0,this.Ob=V(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $l(){this.uc=this.M=this.Nb=0,this.wa=Array(new po),this.Y=0,this.ya=Array(new cd),this.aa=0,this.l=new Fd}function Wd(){this.y=V(16),this.f=V(8),this.ea=V(8)}function dd(){this.cb=this.a=0,this.sc="",this.m=new _e,this.Od=new Wc,this.Kc=new fc,this.ed=new Fl,this.Qa=new el,this.Ic=this.$c=this.Aa=0,this.D=new $l,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=le(8,_e),this.ia=0,this.pb=le(4,Uc),this.Pa=new Lo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wd),this.Hd=0,this.rb=Array(new mc),this.sb=0,this.wa=Array(new po),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cd),this.L=this.aa=0,this.gd=q([4,2],po),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function go(B,D){return 0>B?0:B>D?D:B}function Fd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Oo(){var B=new dd;return B!=null&&(B.a=0,B.sc="OK",B.cb=0,B.Xb=0,yu||(yu=Wl)),B}function un(B,D,se){return B.a==0&&(B.a=D,B.sc=se,B.cb=0),0}function Ml(B,D,se){return 3<=se&&B[D+0]==157&&B[D+1]==1&&B[D+2]==42}function Gl(B,D){if(B==null)return 0;if(B.a=0,B.sc="OK",D==null)return un(B,2,"null VP8Io passed to VP8GetHeaders()");var se=D.data,he=D.w,Ue=D.ha;if(4>Ue)return un(B,7,"Truncated header.");var Ie=se[he+0]|se[he+1]<<8|se[he+2]<<16,Oe=B.Od;if(Oe.Rb=!(1&Ie),Oe.td=Ie>>1&7,Oe.yd=Ie>>4&1,Oe.ub=Ie>>5,3<Oe.td)return un(B,3,"Incorrect keyframe parameters.");if(!Oe.yd)return un(B,4,"Frame not displayable.");he+=3,Ue-=3;var Pe=B.Kc;if(Oe.Rb){if(7>Ue)return un(B,7,"cannot parse picture header");if(!Ml(se,he,Ue))return un(B,3,"Bad code word");Pe.c=16383&(se[he+4]<<8|se[he+3]),Pe.Td=se[he+4]>>6,Pe.i=16383&(se[he+6]<<8|se[he+5]),Pe.Ud=se[he+6]>>6,he+=7,Ue-=7,B.za=Pe.c+15>>4,B.Ub=Pe.i+15>>4,D.width=Pe.c,D.height=Pe.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,R((Ie=B.Pa).jb,0,255,Ie.jb.length),b((Ie=B.Qa)!=null),Ie.Cb=0,Ie.Bb=0,Ie.Fb=1,R(Ie.Zb,0,0,Ie.Zb.length),R(Ie.Lb,0,0,Ie.Lb)}if(Oe.ub>Ue)return un(B,7,"bad partition length");us(Ie=B.m,se,he,Oe.ub),he+=Oe.ub,Ue-=Oe.ub,Oe.Rb&&(Pe.Ld=ps(Ie),Pe.Kd=ps(Ie)),Pe=B.Qa;var Ke,nt=B.Pa;if(b(Ie!=null),b(Pe!=null),Pe.Cb=ps(Ie),Pe.Cb){if(Pe.Bb=ps(Ie),ps(Ie)){for(Pe.Fb=ps(Ie),Ke=0;4>Ke;++Ke)Pe.Zb[Ke]=ps(Ie)?Vt(Ie,7):0;for(Ke=0;4>Ke;++Ke)Pe.Lb[Ke]=ps(Ie)?Vt(Ie,6):0}if(Pe.Bb)for(Ke=0;3>Ke;++Ke)nt.jb[Ke]=ps(Ie)?xs(Ie,8):255}else Pe.Bb=0;if(Ie.Ka)return un(B,3,"cannot parse segment header");if((Pe=B.ed).zd=ps(Ie),Pe.Tb=xs(Ie,6),Pe.wb=xs(Ie,3),Pe.Pc=ps(Ie),Pe.Pc&&ps(Ie)){for(nt=0;4>nt;++nt)ps(Ie)&&(Pe.vd[nt]=Vt(Ie,6));for(nt=0;4>nt;++nt)ps(Ie)&&(Pe.od[nt]=Vt(Ie,6))}if(B.L=Pe.Tb==0?0:Pe.zd?1:2,Ie.Ka)return un(B,3,"cannot parse filter header");var kt=Ue;if(Ue=Ke=he,he=Ke+kt,Pe=kt,B.Xb=(1<<xs(B.m,2))-1,kt<3*(nt=B.Xb))se=7;else{for(Ke+=3*nt,Pe-=3*nt,kt=0;kt<nt;++kt){var $t=se[Ue+0]|se[Ue+1]<<8|se[Ue+2]<<16;$t>Pe&&($t=Pe),us(B.Jc[+kt],se,Ke,$t),Ke+=$t,Pe-=$t,Ue+=3}us(B.Jc[+nt],se,Ke,Pe),se=Ke<he?0:5}if(se!=0)return un(B,se,"cannot parse partitions");for(se=xs(Ke=B.m,7),Ue=ps(Ke)?Vt(Ke,4):0,he=ps(Ke)?Vt(Ke,4):0,Pe=ps(Ke)?Vt(Ke,4):0,nt=ps(Ke)?Vt(Ke,4):0,Ke=ps(Ke)?Vt(Ke,4):0,kt=B.Qa,$t=0;4>$t;++$t){if(kt.Cb){var st=kt.Zb[$t];kt.Fb||(st+=se)}else{if(0<$t){B.pb[$t]=B.pb[0];continue}st=se}var Ut=B.pb[$t];Ut.Sc[0]=Ou[go(st+Ue,127)],Ut.Sc[1]=WA[go(st+0,127)],Ut.Eb[0]=2*Ou[go(st+he,127)],Ut.Eb[1]=101581*WA[go(st+Pe,127)]>>16,8>Ut.Eb[1]&&(Ut.Eb[1]=8),Ut.Qc[0]=Ou[go(st+nt,117)],Ut.Qc[1]=WA[go(st+Ke,127)],Ut.lc=st+Ke}if(!Oe.Rb)return un(B,4,"Not a key frame.");for(ps(Ie),Oe=B.Pa,se=0;4>se;++se){for(Ue=0;8>Ue;++Ue)for(he=0;3>he;++he)for(Pe=0;11>Pe;++Pe)nt=Us(Ie,hA[se][Ue][he][Pe])?xs(Ie,8):kf[se][Ue][he][Pe],Oe.Wc[se][Ue].Yb[he][Pe]=nt;for(Ue=0;17>Ue;++Ue)Oe.Xc[se][Ue]=Oe.Wc[se][fA[Ue]]}return B.kc=ps(Ie),B.kc&&(B.Bd=xs(Ie,8)),B.cb=1}function Wl(B,D,se,he,Ue,Ie,Oe){var Pe=D[Ue].Yb[se];for(se=0;16>Ue;++Ue){if(!Us(B,Pe[se+0]))return Ue;for(;!Us(B,Pe[se+1]);)if(Pe=D[++Ue].Yb[0],se=0,Ue==16)return 16;var Ke=D[Ue+1].Yb;if(Us(B,Pe[se+2])){var nt=B,kt=0;if(Us(nt,(st=Pe)[($t=se)+3]))if(Us(nt,st[$t+6])){for(Pe=0,$t=2*(kt=Us(nt,st[$t+8]))+(st=Us(nt,st[$t+9+kt])),kt=0,st=YA[$t];st[Pe];++Pe)kt+=kt+Us(nt,st[Pe]);kt+=3+(8<<$t)}else Us(nt,st[$t+7])?(kt=7+2*Us(nt,165),kt+=Us(nt,145)):kt=5+Us(nt,159);else kt=Us(nt,st[$t+4])?3+Us(nt,st[$t+5]):2;Pe=Ke[2]}else kt=1,Pe=Ke[1];Ke=Oe+Bf[Ue],0>(nt=B).b&&ms(nt);var $t,st=nt.b,Ut=($t=nt.Ca>>1)-(nt.I>>st)>>31;--nt.b,nt.Ca+=Ut,nt.Ca|=1,nt.I-=($t+1&Ut)<<st,Ie[Ke]=((kt^Ut)-Ut)*he[(0<Ue)+0]}return 16}function Fc(B){var D=B.rb[B.sb-1];D.la=0,D.Na=0,R(B.zc,0,0,B.zc.length),B.ja=0}function Ll(B,D,se,he,Ue){Ue=B[D+se+32*he]+(Ue>>3),B[D+se+32*he]=-256&Ue?0>Ue?0:255:Ue}function $i(B,D,se,he,Ue,Ie){Ll(B,D,0,se,he+Ue),Ll(B,D,1,se,he+Ie),Ll(B,D,2,se,he-Ie),Ll(B,D,3,se,he-Ue)}function Yl(B){return(20091*B>>16)+B}function ud(B,D,se,he){var Ue,Ie=0,Oe=V(16);for(Ue=0;4>Ue;++Ue){var Pe=B[D+0]+B[D+8],Ke=B[D+0]-B[D+8],nt=(35468*B[D+4]>>16)-Yl(B[D+12]),kt=Yl(B[D+4])+(35468*B[D+12]>>16);Oe[Ie+0]=Pe+kt,Oe[Ie+1]=Ke+nt,Oe[Ie+2]=Ke-nt,Oe[Ie+3]=Pe-kt,Ie+=4,D++}for(Ue=Ie=0;4>Ue;++Ue)Pe=(B=Oe[Ie+0]+4)+Oe[Ie+8],Ke=B-Oe[Ie+8],nt=(35468*Oe[Ie+4]>>16)-Yl(Oe[Ie+12]),Ll(se,he,0,0,Pe+(kt=Yl(Oe[Ie+4])+(35468*Oe[Ie+12]>>16))),Ll(se,he,1,0,Ke+nt),Ll(se,he,2,0,Ke-nt),Ll(se,he,3,0,Pe-kt),Ie++,he+=32}function Gi(B,D,se,he){var Ue=B[D+0]+4,Ie=35468*B[D+4]>>16,Oe=Yl(B[D+4]),Pe=35468*B[D+1]>>16;$i(se,he,0,Ue+Oe,B=Yl(B[D+1]),Pe),$i(se,he,1,Ue+Ie,B,Pe),$i(se,he,2,Ue-Ie,B,Pe),$i(se,he,3,Ue-Oe,B,Pe)}function Yc(B,D,se,he,Ue){ud(B,D,se,he),Ue&&ud(B,D+16,se,he+4)}function Io(B,D,se,he){bc(B,D+0,se,he,1),bc(B,D+32,se,he+128,1)}function Ad(B,D,se,he){var Ue;for(B=B[D+0]+4,Ue=0;4>Ue;++Ue)for(D=0;4>D;++D)Ll(se,he,D,Ue,B)}function Xl(B,D,se,he){B[D+0]&&aa(B,D+0,se,he),B[D+16]&&aa(B,D+16,se,he+4),B[D+32]&&aa(B,D+32,se,he+128),B[D+48]&&aa(B,D+48,se,he+128+4)}function xo(B,D,se,he){var Ue,Ie=V(16);for(Ue=0;4>Ue;++Ue){var Oe=B[D+0+Ue]+B[D+12+Ue],Pe=B[D+4+Ue]+B[D+8+Ue],Ke=B[D+4+Ue]-B[D+8+Ue],nt=B[D+0+Ue]-B[D+12+Ue];Ie[0+Ue]=Oe+Pe,Ie[8+Ue]=Oe-Pe,Ie[4+Ue]=nt+Ke,Ie[12+Ue]=nt-Ke}for(Ue=0;4>Ue;++Ue)Oe=(B=Ie[0+4*Ue]+3)+Ie[3+4*Ue],Pe=Ie[1+4*Ue]+Ie[2+4*Ue],Ke=Ie[1+4*Ue]-Ie[2+4*Ue],nt=B-Ie[3+4*Ue],se[he+0]=Oe+Pe>>3,se[he+16]=nt+Ke>>3,se[he+32]=Oe-Pe>>3,se[he+48]=nt-Ke>>3,he+=64}function eo(B,D,se){var he,Ue=D-32,Ie=tc,Oe=255-B[Ue-1];for(he=0;he<se;++he){var Pe,Ke=Ie,nt=Oe+B[D-1];for(Pe=0;Pe<se;++Pe)B[D+Pe]=Ke[nt+B[Ue+Pe]];D+=32}}function Jl(B,D){eo(B,D,4)}function ml(B,D){eo(B,D,8)}function tl(B,D){eo(B,D,16)}function pl(B,D){var se;for(se=0;16>se;++se)I(B,D+32*se,B,D-32,16)}function fu(B,D){var se;for(se=16;0<se;--se)R(B,D,B[D-1],16),D+=32}function Ol(B,D,se){var he;for(he=0;16>he;++he)R(D,se+32*he,B,16)}function mu(B,D){var se,he=16;for(se=0;16>se;++se)he+=B[D-1+32*se]+B[D+se-32];Ol(he>>5,B,D)}function hd(B,D){var se,he=8;for(se=0;16>se;++se)he+=B[D-1+32*se];Ol(he>>4,B,D)}function Qi(B,D){var se,he=8;for(se=0;16>se;++se)he+=B[D+se-32];Ol(he>>4,B,D)}function _a(B,D){Ol(128,B,D)}function dr(B,D,se){return B+2*D+se+2>>2}function Mc(B,D){var se,he=D-32;for(he=new Uint8Array([dr(B[he-1],B[he+0],B[he+1]),dr(B[he+0],B[he+1],B[he+2]),dr(B[he+1],B[he+2],B[he+3]),dr(B[he+2],B[he+3],B[he+4])]),se=0;4>se;++se)I(B,D+32*se,he,0,he.length)}function gl(B,D){var se=B[D-1],he=B[D-1+32],Ue=B[D-1+64],Ie=B[D-1+96];Zs(B,D+0,16843009*dr(B[D-1-32],se,he)),Zs(B,D+32,16843009*dr(se,he,Ue)),Zs(B,D+64,16843009*dr(he,Ue,Ie)),Zs(B,D+96,16843009*dr(Ue,Ie,Ie))}function fd(B,D){var se,he=4;for(se=0;4>se;++se)he+=B[D+se-32]+B[D-1+32*se];for(he>>=3,se=0;4>se;++se)R(B,D+32*se,he,4)}function Do(B,D){var se=B[D-1+0],he=B[D-1+32],Ue=B[D-1+64],Ie=B[D-1-32],Oe=B[D+0-32],Pe=B[D+1-32],Ke=B[D+2-32],nt=B[D+3-32];B[D+0+96]=dr(he,Ue,B[D-1+96]),B[D+1+96]=B[D+0+64]=dr(se,he,Ue),B[D+2+96]=B[D+1+64]=B[D+0+32]=dr(Ie,se,he),B[D+3+96]=B[D+2+64]=B[D+1+32]=B[D+0+0]=dr(Oe,Ie,se),B[D+3+64]=B[D+2+32]=B[D+1+0]=dr(Pe,Oe,Ie),B[D+3+32]=B[D+2+0]=dr(Ke,Pe,Oe),B[D+3+0]=dr(nt,Ke,Pe)}function Lc(B,D){var se=B[D+1-32],he=B[D+2-32],Ue=B[D+3-32],Ie=B[D+4-32],Oe=B[D+5-32],Pe=B[D+6-32],Ke=B[D+7-32];B[D+0+0]=dr(B[D+0-32],se,he),B[D+1+0]=B[D+0+32]=dr(se,he,Ue),B[D+2+0]=B[D+1+32]=B[D+0+64]=dr(he,Ue,Ie),B[D+3+0]=B[D+2+32]=B[D+1+64]=B[D+0+96]=dr(Ue,Ie,Oe),B[D+3+32]=B[D+2+64]=B[D+1+96]=dr(Ie,Oe,Pe),B[D+3+64]=B[D+2+96]=dr(Oe,Pe,Ke),B[D+3+96]=dr(Pe,Ke,Ke)}function pu(B,D){var se=B[D-1+0],he=B[D-1+32],Ue=B[D-1+64],Ie=B[D-1-32],Oe=B[D+0-32],Pe=B[D+1-32],Ke=B[D+2-32],nt=B[D+3-32];B[D+0+0]=B[D+1+64]=Ie+Oe+1>>1,B[D+1+0]=B[D+2+64]=Oe+Pe+1>>1,B[D+2+0]=B[D+3+64]=Pe+Ke+1>>1,B[D+3+0]=Ke+nt+1>>1,B[D+0+96]=dr(Ue,he,se),B[D+0+64]=dr(he,se,Ie),B[D+0+32]=B[D+1+96]=dr(se,Ie,Oe),B[D+1+32]=B[D+2+96]=dr(Ie,Oe,Pe),B[D+2+32]=B[D+3+96]=dr(Oe,Pe,Ke),B[D+3+32]=dr(Pe,Ke,nt)}function md(B,D){var se=B[D+0-32],he=B[D+1-32],Ue=B[D+2-32],Ie=B[D+3-32],Oe=B[D+4-32],Pe=B[D+5-32],Ke=B[D+6-32],nt=B[D+7-32];B[D+0+0]=se+he+1>>1,B[D+1+0]=B[D+0+64]=he+Ue+1>>1,B[D+2+0]=B[D+1+64]=Ue+Ie+1>>1,B[D+3+0]=B[D+2+64]=Ie+Oe+1>>1,B[D+0+32]=dr(se,he,Ue),B[D+1+32]=B[D+0+96]=dr(he,Ue,Ie),B[D+2+32]=B[D+1+96]=dr(Ue,Ie,Oe),B[D+3+32]=B[D+2+96]=dr(Ie,Oe,Pe),B[D+3+64]=dr(Oe,Pe,Ke),B[D+3+96]=dr(Pe,Ke,nt)}function Wi(B,D){var se=B[D-1+0],he=B[D-1+32],Ue=B[D-1+64],Ie=B[D-1+96];B[D+0+0]=se+he+1>>1,B[D+2+0]=B[D+0+32]=he+Ue+1>>1,B[D+2+32]=B[D+0+64]=Ue+Ie+1>>1,B[D+1+0]=dr(se,he,Ue),B[D+3+0]=B[D+1+32]=dr(he,Ue,Ie),B[D+3+32]=B[D+1+64]=dr(Ue,Ie,Ie),B[D+3+64]=B[D+2+64]=B[D+0+96]=B[D+1+96]=B[D+2+96]=B[D+3+96]=Ie}function Xc(B,D){var se=B[D-1+0],he=B[D-1+32],Ue=B[D-1+64],Ie=B[D-1+96],Oe=B[D-1-32],Pe=B[D+0-32],Ke=B[D+1-32],nt=B[D+2-32];B[D+0+0]=B[D+2+32]=se+Oe+1>>1,B[D+0+32]=B[D+2+64]=he+se+1>>1,B[D+0+64]=B[D+2+96]=Ue+he+1>>1,B[D+0+96]=Ie+Ue+1>>1,B[D+3+0]=dr(Pe,Ke,nt),B[D+2+0]=dr(Oe,Pe,Ke),B[D+1+0]=B[D+3+32]=dr(se,Oe,Pe),B[D+1+32]=B[D+3+64]=dr(he,se,Oe),B[D+1+64]=B[D+3+96]=dr(Ue,he,se),B[D+1+96]=dr(Ie,Ue,he)}function xl(B,D){var se;for(se=0;8>se;++se)I(B,D+32*se,B,D-32,8)}function Yd(B,D){var se;for(se=0;8>se;++se)R(B,D,B[D-1],8),D+=32}function sl(B,D,se){var he;for(he=0;8>he;++he)R(D,se+32*he,B,8)}function pc(B,D){var se,he=8;for(se=0;8>se;++se)he+=B[D+se-32]+B[D-1+32*se];sl(he>>4,B,D)}function Ro(B,D){var se,he=4;for(se=0;8>se;++se)he+=B[D+se-32];sl(he>>3,B,D)}function rl(B,D){var se,he=4;for(se=0;8>se;++se)he+=B[D-1+32*se];sl(he>>3,B,D)}function pd(B,D){sl(128,B,D)}function bl(B,D,se){var he=B[D-se],Ue=B[D+0],Ie=3*(Ue-he)+PA[1020+B[D-2*se]-B[D+se]],Oe=dA[112+(Ie+4>>3)];B[D-se]=tc[255+he+dA[112+(Ie+3>>3)]],B[D+0]=tc[255+Ue-Oe]}function gc(B,D,se,he){var Ue=B[D+0],Ie=B[D+se];return vc[255+B[D-2*se]-B[D-se]]>he||vc[255+Ie-Ue]>he}function Jc(B,D,se,he){return 4*vc[255+B[D-se]-B[D+0]]+vc[255+B[D-2*se]-B[D+se]]<=he}function nl(B,D,se,he,Ue){var Ie=B[D-3*se],Oe=B[D-2*se],Pe=B[D-se],Ke=B[D+0],nt=B[D+se],kt=B[D+2*se],$t=B[D+3*se];return 4*vc[255+Pe-Ke]+vc[255+Oe-nt]>he?0:vc[255+B[D-4*se]-Ie]<=Ue&&vc[255+Ie-Oe]<=Ue&&vc[255+Oe-Pe]<=Ue&&vc[255+$t-kt]<=Ue&&vc[255+kt-nt]<=Ue&&vc[255+nt-Ke]<=Ue}function ti(B,D,se,he){var Ue=2*he+1;for(he=0;16>he;++he)Jc(B,D+he,se,Ue)&&bl(B,D+he,se)}function gd(B,D,se,he){var Ue=2*he+1;for(he=0;16>he;++he)Jc(B,D+he*se,1,Ue)&&bl(B,D+he*se,1)}function gu(B,D,se,he){var Ue;for(Ue=3;0<Ue;--Ue)ti(B,D+=4*se,se,he)}function Tu(B,D,se,he){var Ue;for(Ue=3;0<Ue;--Ue)gd(B,D+=4,se,he)}function Zc(B,D,se,he,Ue,Ie,Oe,Pe){for(Ie=2*Ie+1;0<Ue--;){if(nl(B,D,se,Ie,Oe))if(gc(B,D,se,Pe))bl(B,D,se);else{var Ke=B,nt=D,kt=se,$t=Ke[nt-2*kt],st=Ke[nt-kt],Ut=Ke[nt+0],Pt=Ke[nt+kt],bs=Ke[nt+2*kt],Jt=27*(Bs=PA[1020+3*(Ut-st)+PA[1020+$t-Pt]])+63>>7,ys=18*Bs+63>>7,Bs=9*Bs+63>>7;Ke[nt-3*kt]=tc[255+Ke[nt-3*kt]+Bs],Ke[nt-2*kt]=tc[255+$t+ys],Ke[nt-kt]=tc[255+st+Jt],Ke[nt+0]=tc[255+Ut-Jt],Ke[nt+kt]=tc[255+Pt-ys],Ke[nt+2*kt]=tc[255+bs-Bs]}D+=he}}function qc(B,D,se,he,Ue,Ie,Oe,Pe){for(Ie=2*Ie+1;0<Ue--;){if(nl(B,D,se,Ie,Oe))if(gc(B,D,se,Pe))bl(B,D,se);else{var Ke=B,nt=D,kt=se,$t=Ke[nt-kt],st=Ke[nt+0],Ut=Ke[nt+kt],Pt=dA[112+(4+(bs=3*(st-$t))>>3)],bs=dA[112+(bs+3>>3)],Jt=Pt+1>>1;Ke[nt-2*kt]=tc[255+Ke[nt-2*kt]+Jt],Ke[nt-kt]=tc[255+$t+bs],Ke[nt+0]=tc[255+st-Pt],Ke[nt+kt]=tc[255+Ut-Jt]}D+=he}}function gi(B,D,se,he,Ue,Ie){Zc(B,D,se,1,16,he,Ue,Ie)}function ed(B,D,se,he,Ue,Ie){Zc(B,D,1,se,16,he,Ue,Ie)}function xd(B,D,se,he,Ue,Ie){var Oe;for(Oe=3;0<Oe;--Oe)qc(B,D+=4*se,se,1,16,he,Ue,Ie)}function X(B,D,se,he,Ue,Ie){var Oe;for(Oe=3;0<Oe;--Oe)qc(B,D+=4,1,se,16,he,Ue,Ie)}function Te(B,D,se,he,Ue,Ie,Oe,Pe){Zc(B,D,Ue,1,8,Ie,Oe,Pe),Zc(se,he,Ue,1,8,Ie,Oe,Pe)}function at(B,D,se,he,Ue,Ie,Oe,Pe){Zc(B,D,1,Ue,8,Ie,Oe,Pe),Zc(se,he,1,Ue,8,Ie,Oe,Pe)}function ft(B,D,se,he,Ue,Ie,Oe,Pe){qc(B,D+4*Ue,Ue,1,8,Ie,Oe,Pe),qc(se,he+4*Ue,Ue,1,8,Ie,Oe,Pe)}function _t(B,D,se,he,Ue,Ie,Oe,Pe){qc(B,D+4,1,Ue,8,Ie,Oe,Pe),qc(se,he+4,1,Ue,8,Ie,Oe,Pe)}function Cs(){this.ba=new wn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Os(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ur(){this.ua=0,this.Wa=new dn,this.vb=new dn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ss,this.yc=new gt}function fn(){this.xb=this.a=0,this.l=new Fd,this.ca=new wn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new dt,this.Pb=0,this.wd=new dt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ur,this.ab=0,this.gc=le(4,Tr),this.Oc=0}function jn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Fd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ra(B,D,se,he,Ue,Ie,Oe){for(B=B==null?0:B[D+0],D=0;D<Oe;++D)Ue[Ie+D]=B+se[he+D]&255,B=Ue[Ie+D]}function Ua(B,D,se,he,Ue,Ie,Oe){var Pe;if(B==null)ra(null,null,se,he,Ue,Ie,Oe);else for(Pe=0;Pe<Oe;++Pe)Ue[Ie+Pe]=B[D+Pe]+se[he+Pe]&255}function xi(B,D,se,he,Ue,Ie,Oe){if(B==null)ra(null,null,se,he,Ue,Ie,Oe);else{var Pe,Ke=B[D+0],nt=Ke,kt=Ke;for(Pe=0;Pe<Oe;++Pe)nt=kt+(Ke=B[D+Pe])-nt,kt=se[he+Pe]+(-256&nt?0>nt?0:255:nt)&255,nt=Ke,Ue[Ie+Pe]=kt}}function Ba(B,D,se,he){var Ue=D.width,Ie=D.o;if(b(B!=null&&D!=null),0>se||0>=he||se+he>Ie)return null;if(!B.Cc){if(B.ga==null){var Oe;if(B.ga=new jn,(Oe=B.ga==null)||(Oe=D.width*D.o,b(B.Gb.length==0),B.Gb=V(Oe),B.Uc=0,B.Gb==null?Oe=0:(B.mb=B.Gb,B.nb=B.Uc,B.rc=null,Oe=1),Oe=!Oe),!Oe){Oe=B.ga;var Pe=B.Fa,Ke=B.P,nt=B.qc,kt=B.mb,$t=B.nb,st=Ke+1,Ut=nt-1,Pt=Oe.l;if(b(Pe!=null&&kt!=null&&D!=null),yd[0]=null,yd[1]=ra,yd[2]=Ua,yd[3]=xi,Oe.ca=kt,Oe.tb=$t,Oe.c=D.width,Oe.i=D.height,b(0<Oe.c&&0<Oe.i),1>=nt)D=0;else if(Oe.$a=3&Pe[Ke+0],Oe.Z=Pe[Ke+0]>>2&3,Oe.Lc=Pe[Ke+0]>>4&3,Ke=Pe[Ke+0]>>6&3,0>Oe.$a||1<Oe.$a||4<=Oe.Z||1<Oe.Lc||Ke)D=0;else if(Pt.put=an,Pt.ac=Kl,Pt.bc=oi,Pt.ma=Oe,Pt.width=D.width,Pt.height=D.height,Pt.Da=D.Da,Pt.v=D.v,Pt.va=D.va,Pt.j=D.j,Pt.o=D.o,Oe.$a)e:{b(Oe.$a==1),D=Gc();t:for(;;){if(D==null){D=0;break e}if(b(Oe!=null),Oe.mc=D,D.c=Oe.c,D.i=Oe.i,D.l=Oe.l,D.l.ma=Oe,D.l.width=Oe.c,D.l.height=Oe.i,D.a=0,fs(D.m,Pe,st,Ut),!fl(Oe.c,Oe.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&Al(D.s)?(Oe.ic=1,Pe=D.c*D.i,D.Ta=null,D.Ua=0,D.V=V(Pe),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(Oe.ic=0,D=Mo(D,Oe.c)),!D))break t;D=1;break e}Oe.mc=null,D=0}else D=Ut>=Oe.c*Oe.i;Oe=!D}if(Oe)return null;B.ga.Lc!=1?B.Ga=0:he=Ie-se}b(B.ga!=null),b(se+he<=Ie);e:{if(D=(Pe=B.ga).c,Ie=Pe.l.o,Pe.$a==0){if(st=B.rc,Ut=B.Vc,Pt=B.Fa,Ke=B.P+1+se*D,nt=B.mb,kt=B.nb+se*D,b(Ke<=B.P+B.qc),Pe.Z!=0)for(b(yd[Pe.Z]!=null),Oe=0;Oe<he;++Oe)yd[Pe.Z](st,Ut,Pt,Ke,nt,kt,D),st=nt,Ut=kt,kt+=D,Ke+=D;else for(Oe=0;Oe<he;++Oe)I(nt,kt,Pt,Ke,D),st=nt,Ut=kt,kt+=D,Ke+=D;B.rc=st,B.Vc=Ut}else{if(b(Pe.mc!=null),D=se+he,b((Oe=Pe.mc)!=null),b(D<=Oe.i),Oe.C>=D)D=1;else if(Pe.ic||Qe(),Pe.ic){Pe=Oe.V,st=Oe.Ba,Ut=Oe.c;var bs=Oe.i,Jt=(Pt=1,Ke=Oe.$/Ut,nt=Oe.$%Ut,kt=Oe.m,$t=Oe.s,Oe.$),ys=Ut*bs,Bs=Ut*D,Hs=$t.wc,Ds=Jt<Bs?li($t,nt,Ke):null;b(Jt<=ys),b(D<=bs),b(Al($t));t:for(;;){for(;!kt.h&&Jt<Bs;){if(nt&Hs||(Ds=li($t,nt,Ke)),b(Ds!=null),Wt(kt),256>(bs=Da(Ds.G[0],Ds.H[0],kt)))Pe[st+Jt]=bs,++Jt,++nt>=Ut&&(nt=0,++Ke<=D&&!(Ke%16)&&Ul(Oe,Ke));else{if(!(280>bs)){Pt=0;break t}bs=qo(bs-256,kt);var Kr,Nr=Da(Ds.G[4],Ds.H[4],kt);if(Wt(kt),!(Jt>=(Nr=Uo(Ut,Nr=qo(Nr,kt)))&&ys-Jt>=bs)){Pt=0;break t}for(Kr=0;Kr<bs;++Kr)Pe[st+Jt+Kr]=Pe[st+Jt+Kr-Nr];for(Jt+=bs,nt+=bs;nt>=Ut;)nt-=Ut,++Ke<=D&&!(Ke%16)&&Ul(Oe,Ke);Jt<Bs&&nt&Hs&&(Ds=li($t,nt,Ke))}b(kt.h==Mt(kt))}Ul(Oe,Ke>D?D:Ke);break t}!Pt||kt.h&&Jt<ys?(Pt=0,Oe.a=kt.h?5:3):Oe.$=Jt,D=Pt}else D=Fo(Oe,Oe.V,Oe.Ba,Oe.c,Oe.i,D,Ec);if(!D){he=0;break e}}se+he>=Ie&&(B.Cc=1),he=1}if(!he)return null;if(B.Cc&&((he=B.ga)!=null&&(he.mc=null),B.ga=null,0<B.Ga))return alert("todo:WebPDequantizeLevels"),null}return B.nb+se*Ue}function Si(B,D,se,he,Ue,Ie){for(;0<Ue--;){var Oe,Pe=B,Ke=D+(se?1:0),nt=B,kt=D+(se?0:3);for(Oe=0;Oe<he;++Oe){var $t=nt[kt+4*Oe];$t!=255&&($t*=32897,Pe[Ke+4*Oe+0]=Pe[Ke+4*Oe+0]*$t>>23,Pe[Ke+4*Oe+1]=Pe[Ke+4*Oe+1]*$t>>23,Pe[Ke+4*Oe+2]=Pe[Ke+4*Oe+2]*$t>>23)}D+=Ie}}function C(B,D,se,he,Ue){for(;0<he--;){var Ie;for(Ie=0;Ie<se;++Ie){var Oe=B[D+2*Ie+0],Pe=15&(nt=B[D+2*Ie+1]),Ke=4369*Pe,nt=(240&nt|nt>>4)*Ke>>16;B[D+2*Ie+0]=(240&Oe|Oe>>4)*Ke>>16&240|(15&Oe|Oe<<4)*Ke>>16>>4&15,B[D+2*Ie+1]=240&nt|Pe}D+=Ue}}function Ce(B,D,se,he,Ue,Ie,Oe,Pe){var Ke,nt,kt=255;for(nt=0;nt<Ue;++nt){for(Ke=0;Ke<he;++Ke){var $t=B[D+Ke];Ie[Oe+4*Ke]=$t,kt&=$t}D+=se,Oe+=Pe}return kt!=255}function P(B,D,se,he,Ue){var Ie;for(Ie=0;Ie<Ue;++Ie)se[he+Ie]=B[D+Ie]>>8}function Qe(){Ld=Si,lA=C,Il=Ce,Oc=P}function lt(B,D,se){bt[B]=function(he,Ue,Ie,Oe,Pe,Ke,nt,kt,$t,st,Ut,Pt,bs,Jt,ys,Bs,Hs){var Ds,Kr=Hs-1>>1,Nr=Pe[Ke+0]|nt[kt+0]<<16,Pn=$t[st+0]|Ut[Pt+0]<<16;b(he!=null);var Pr=3*Nr+Pn+131074>>2;for(D(he[Ue+0],255&Pr,Pr>>16,bs,Jt),Ie!=null&&(Pr=3*Pn+Nr+131074>>2,D(Ie[Oe+0],255&Pr,Pr>>16,ys,Bs)),Ds=1;Ds<=Kr;++Ds){var ca=Pe[Ke+Ds]|nt[kt+Ds]<<16,so=$t[st+Ds]|Ut[Pt+Ds]<<16,Mn=Nr+ca+Pn+so+524296,_r=Mn+2*(ca+Pn)>>3;Pr=_r+Nr>>1,Nr=(Mn=Mn+2*(Nr+so)>>3)+ca>>1,D(he[Ue+2*Ds-1],255&Pr,Pr>>16,bs,Jt+(2*Ds-1)*se),D(he[Ue+2*Ds-0],255&Nr,Nr>>16,bs,Jt+(2*Ds-0)*se),Ie!=null&&(Pr=Mn+Pn>>1,Nr=_r+so>>1,D(Ie[Oe+2*Ds-1],255&Pr,Pr>>16,ys,Bs+(2*Ds-1)*se),D(Ie[Oe+2*Ds+0],255&Nr,Nr>>16,ys,Bs+(2*Ds+0)*se)),Nr=ca,Pn=so}1&Hs||(Pr=3*Nr+Pn+131074>>2,D(he[Ue+Hs-1],255&Pr,Pr>>16,bs,Jt+(Hs-1)*se),Ie!=null&&(Pr=3*Pn+Nr+131074>>2,D(Ie[Oe+Hs-1],255&Pr,Pr>>16,ys,Bs+(Hs-1)*se)))}}function it(){wc[bu]=Iu,wc[uA]=XA,wc[HA]=Kh,wc[Mu]=Ef,wc[to]=Tf,wc[Jd]=JA,wc[zA]=wd,wc[VA]=XA,wc[AA]=Ef,wc[vu]=Tf,wc[KA]=JA}function Yt(B){return B&-16384?0>B?0:255:B>>pA}function Tt(B,D){return Yt((19077*B>>8)+(26149*D>>8)-14234)}function xr(B,D,se){return Yt((19077*B>>8)-(6419*D>>8)-(13320*se>>8)+8708)}function wt(B,D){return Yt((19077*B>>8)+(33050*D>>8)-17685)}function Xt(B,D,se,he,Ue){he[Ue+0]=Tt(B,se),he[Ue+1]=xr(B,D,se),he[Ue+2]=wt(B,D)}function mn(B,D,se,he,Ue){he[Ue+0]=wt(B,D),he[Ue+1]=xr(B,D,se),he[Ue+2]=Tt(B,se)}function or(B,D,se,he,Ue){var Ie=xr(B,D,se);D=Ie<<3&224|wt(B,D)>>3,he[Ue+0]=248&Tt(B,se)|Ie>>5,he[Ue+1]=D}function Qs(B,D,se,he,Ue){var Ie=240&wt(B,D)|15;he[Ue+0]=240&Tt(B,se)|xr(B,D,se)>>4,he[Ue+1]=Ie}function gs(B,D,se,he,Ue){he[Ue+0]=255,Xt(B,D,se,he,Ue+1)}function Fa(B,D,se,he,Ue){mn(B,D,se,he,Ue),he[Ue+3]=255}function An(B,D,se,he,Ue){Xt(B,D,se,he,Ue),he[Ue+3]=255}function Wr(B,D,se){bt[B]=function(he,Ue,Ie,Oe,Pe,Ke,nt,kt,$t){for(var st=kt+(-2&$t)*se;kt!=st;)D(he[Ue+0],Ie[Oe+0],Pe[Ke+0],nt,kt),D(he[Ue+1],Ie[Oe+0],Pe[Ke+0],nt,kt+se),Ue+=2,++Oe,++Ke,kt+=2*se;1&$t&&D(he[Ue+0],Ie[Oe+0],Pe[Ke+0],nt,kt)}}function ln(B,D,se){return se==0?B==0?D==0?6:5:D==0?4:0:se}function En(B,D,se,he,Ue){switch(B>>>30){case 3:bc(D,se,he,Ue,0);break;case 2:Qo(D,se,he,Ue);break;case 1:aa(D,se,he,Ue)}}function sr(B,D){var se,he,Ue=D.M,Ie=D.Nb,Oe=B.oc,Pe=B.pc+40,Ke=B.oc,nt=B.pc+584,kt=B.oc,$t=B.pc+600;for(se=0;16>se;++se)Oe[Pe+32*se-1]=129;for(se=0;8>se;++se)Ke[nt+32*se-1]=129,kt[$t+32*se-1]=129;for(0<Ue?Oe[Pe-1-32]=Ke[nt-1-32]=kt[$t-1-32]=129:(R(Oe,Pe-32-1,127,21),R(Ke,nt-32-1,127,9),R(kt,$t-32-1,127,9)),he=0;he<B.za;++he){var st=D.ya[D.aa+he];if(0<he){for(se=-1;16>se;++se)I(Oe,Pe+32*se-4,Oe,Pe+32*se+12,4);for(se=-1;8>se;++se)I(Ke,nt+32*se-4,Ke,nt+32*se+4,4),I(kt,$t+32*se-4,kt,$t+32*se+4,4)}var Ut=B.Gd,Pt=B.Hd+he,bs=st.ad,Jt=st.Hc;if(0<Ue&&(I(Oe,Pe-32,Ut[Pt].y,0,16),I(Ke,nt-32,Ut[Pt].f,0,8),I(kt,$t-32,Ut[Pt].ea,0,8)),st.Za){var ys=Oe,Bs=Pe-32+16;for(0<Ue&&(he>=B.za-1?R(ys,Bs,Ut[Pt].y[15],4):I(ys,Bs,Ut[Pt+1].y,0,4)),se=0;4>se;se++)ys[Bs+128+se]=ys[Bs+256+se]=ys[Bs+384+se]=ys[Bs+0+se];for(se=0;16>se;++se,Jt<<=2)ys=Oe,Bs=Pe+Od[se],yc[st.Ob[se]](ys,Bs),En(Jt,bs,16*+se,ys,Bs)}else if(ys=ln(he,Ue,st.Ob[0]),vd[ys](Oe,Pe),Jt!=0)for(se=0;16>se;++se,Jt<<=2)En(Jt,bs,16*+se,Oe,Pe+Od[se]);for(se=st.Gc,ys=ln(he,Ue,st.Dd),Ic[ys](Ke,nt),Ic[ys](kt,$t),Jt=bs,ys=Ke,Bs=nt,255&(st=0|se)&&(170&st?ec(Jt,256,ys,Bs):Pa(Jt,256,ys,Bs)),st=kt,Jt=$t,255&(se>>=8)&&(170&se?ec(bs,320,st,Jt):Pa(bs,320,st,Jt)),Ue<B.Ub-1&&(I(Ut[Pt].y,0,Oe,Pe+480,16),I(Ut[Pt].f,0,Ke,nt+224,8),I(Ut[Pt].ea,0,kt,$t+224,8)),se=8*Ie*B.B,Ut=B.sa,Pt=B.ta+16*he+16*Ie*B.R,bs=B.qa,st=B.ra+8*he+se,Jt=B.Ha,ys=B.Ia+8*he+se,se=0;16>se;++se)I(Ut,Pt+se*B.R,Oe,Pe+32*se,16);for(se=0;8>se;++se)I(bs,st+se*B.B,Ke,nt+32*se,8),I(Jt,ys+se*B.B,kt,$t+32*se,8)}}function Tn(B,D,se,he,Ue,Ie,Oe,Pe,Ke){var nt=[0],kt=[0],$t=0,st=Ke!=null?Ke.kd:0,Ut=Ke??new Os;if(B==null||12>se)return 7;Ut.data=B,Ut.w=D,Ut.ha=se,D=[D],se=[se],Ut.gb=[Ut.gb];e:{var Pt=D,bs=se,Jt=Ut.gb;if(b(B!=null),b(bs!=null),b(Jt!=null),Jt[0]=0,12<=bs[0]&&!S(B,Pt[0],"RIFF")){if(S(B,Pt[0]+8,"WEBP")){Jt=3;break e}var ys=Xr(B,Pt[0]+4);if(12>ys||4294967286<ys){Jt=3;break e}if(st&&ys>bs[0]-8){Jt=7;break e}Jt[0]=ys,Pt[0]+=12,bs[0]-=12}Jt=0}if(Jt!=0)return Jt;for(ys=0<Ut.gb[0],se=se[0];;){e:{var Bs=B;bs=D,Jt=se;var Hs=nt,Ds=kt,Kr=Pt=[0];if((Pr=$t=[$t])[0]=0,8>Jt[0])Jt=7;else{if(!S(Bs,bs[0],"VP8X")){if(Xr(Bs,bs[0]+4)!=10){Jt=3;break e}if(18>Jt[0]){Jt=7;break e}var Nr=Xr(Bs,bs[0]+8),Pn=1+vr(Bs,bs[0]+12);if(2147483648<=Pn*(Bs=1+vr(Bs,bs[0]+15))){Jt=3;break e}Kr!=null&&(Kr[0]=Nr),Hs!=null&&(Hs[0]=Pn),Ds!=null&&(Ds[0]=Bs),bs[0]+=18,Jt[0]-=18,Pr[0]=1}Jt=0}}if($t=$t[0],Pt=Pt[0],Jt!=0)return Jt;if(bs=!!(2&Pt),!ys&&$t)return 3;if(Ie!=null&&(Ie[0]=!!(16&Pt)),Oe!=null&&(Oe[0]=bs),Pe!=null&&(Pe[0]=0),Oe=nt[0],Pt=kt[0],$t&&bs&&Ke==null){Jt=0;break}if(4>se){Jt=7;break}if(ys&&$t||!ys&&!$t&&!S(B,D[0],"ALPH")){se=[se],Ut.na=[Ut.na],Ut.P=[Ut.P],Ut.Sa=[Ut.Sa];e:{Nr=B,Jt=D,ys=se;var Pr=Ut.gb;Hs=Ut.na,Ds=Ut.P,Kr=Ut.Sa,Pn=22,b(Nr!=null),b(ys!=null),Bs=Jt[0];var ca=ys[0];for(b(Hs!=null),b(Kr!=null),Hs[0]=null,Ds[0]=null,Kr[0]=0;;){if(Jt[0]=Bs,ys[0]=ca,8>ca){Jt=7;break e}var so=Xr(Nr,Bs+4);if(4294967286<so){Jt=3;break e}var Mn=8+so+1&-2;if(Pn+=Mn,0<Pr&&Pn>Pr){Jt=3;break e}if(!S(Nr,Bs,"VP8 ")||!S(Nr,Bs,"VP8L")){Jt=0;break e}if(ca[0]<Mn){Jt=7;break e}S(Nr,Bs,"ALPH")||(Hs[0]=Nr,Ds[0]=Bs+8,Kr[0]=so),Bs+=Mn,ca-=Mn}}if(se=se[0],Ut.na=Ut.na[0],Ut.P=Ut.P[0],Ut.Sa=Ut.Sa[0],Jt!=0)break}se=[se],Ut.Ja=[Ut.Ja],Ut.xa=[Ut.xa];e:if(Pr=B,Jt=D,ys=se,Hs=Ut.gb[0],Ds=Ut.Ja,Kr=Ut.xa,Nr=Jt[0],Bs=!S(Pr,Nr,"VP8 "),Pn=!S(Pr,Nr,"VP8L"),b(Pr!=null),b(ys!=null),b(Ds!=null),b(Kr!=null),8>ys[0])Jt=7;else{if(Bs||Pn){if(Pr=Xr(Pr,Nr+4),12<=Hs&&Pr>Hs-12){Jt=3;break e}if(st&&Pr>ys[0]-8){Jt=7;break e}Ds[0]=Pr,Jt[0]+=8,ys[0]-=8,Kr[0]=Pn}else Kr[0]=5<=ys[0]&&Pr[Nr+0]==47&&!(Pr[Nr+4]>>5),Ds[0]=ys[0];Jt=0}if(se=se[0],Ut.Ja=Ut.Ja[0],Ut.xa=Ut.xa[0],D=D[0],Jt!=0)break;if(4294967286<Ut.Ja)return 3;if(Pe==null||bs||(Pe[0]=Ut.xa?2:1),Oe=[Oe],Pt=[Pt],Ut.xa){if(5>se){Jt=7;break}Pe=Oe,st=Pt,bs=Ie,B==null||5>se?B=0:5<=se&&B[D+0]==47&&!(B[D+4]>>5)?(ys=[0],Pr=[0],Hs=[0],fs(Ds=new dt,B,D,se),mi(Ds,ys,Pr,Hs)?(Pe!=null&&(Pe[0]=ys[0]),st!=null&&(st[0]=Pr[0]),bs!=null&&(bs[0]=Hs[0]),B=1):B=0):B=0}else{if(10>se){Jt=7;break}Pe=Pt,B==null||10>se||!Ml(B,D+3,se-3)?B=0:(st=B[D+0]|B[D+1]<<8|B[D+2]<<16,bs=16383&(B[D+7]<<8|B[D+6]),B=16383&(B[D+9]<<8|B[D+8]),1&st||3<(st>>1&7)||!(st>>4&1)||st>>5>=Ut.Ja||!bs||!B?B=0:(Oe&&(Oe[0]=bs),Pe&&(Pe[0]=B),B=1))}if(!B||(Oe=Oe[0],Pt=Pt[0],$t&&(nt[0]!=Oe||kt[0]!=Pt)))return 3;Ke!=null&&(Ke[0]=Ut,Ke.offset=D-Ke.w,b(4294967286>D-Ke.w),b(Ke.offset==Ke.ha-se));break}return Jt==0||Jt==7&&$t&&Ke==null?(Ie!=null&&(Ie[0]|=Ut.na!=null&&0<Ut.na.length),he!=null&&(he[0]=Oe),Ue!=null&&(Ue[0]=Pt),0):Jt}function Ma(B,D,se){var he=D.width,Ue=D.height,Ie=0,Oe=0,Pe=he,Ke=Ue;if(D.Da=B!=null&&0<B.Da,D.Da&&(Pe=B.cd,Ke=B.bd,Ie=B.v,Oe=B.j,11>se||(Ie&=-2,Oe&=-2),0>Ie||0>Oe||0>=Pe||0>=Ke||Ie+Pe>he||Oe+Ke>Ue))return 0;if(D.v=Ie,D.j=Oe,D.va=Ie+Pe,D.o=Oe+Ke,D.U=Pe,D.T=Ke,D.da=B!=null&&0<B.da,D.da){if(!ir(Pe,Ke,se=[B.ib],Ie=[B.hb]))return 0;D.ib=se[0],D.hb=Ie[0]}return D.ob=B!=null&&B.ob,D.Kb=B==null||!B.Sd,D.da&&(D.ob=D.ib<3*he/4&&D.hb<3*Ue/4,D.Kb=0),1}function Vr(B){if(B==null)return 2;if(11>B.S){var D=B.f.RGBA;D.fb+=(B.height-1)*D.A,D.A=-D.A}else D=B.f.kb,B=B.height,D.O+=(B-1)*D.fa,D.fa=-D.fa,D.N+=(B-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(B-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(B-1)*D.lb,D.lb=-D.lb);return 0}function na(B,D,se,he){if(he==null||0>=B||0>=D)return 2;if(se!=null){if(se.Da){var Ue=se.cd,Ie=se.bd,Oe=-2&se.v,Pe=-2&se.j;if(0>Oe||0>Pe||0>=Ue||0>=Ie||Oe+Ue>B||Pe+Ie>D)return 2;B=Ue,D=Ie}if(se.da){if(!ir(B,D,Ue=[se.ib],Ie=[se.hb]))return 2;B=Ue[0],D=Ie[0]}}he.width=B,he.height=D;e:{var Ke=he.width,nt=he.height;if(B=he.S,0>=Ke||0>=nt||!(B>=bu&&13>B))B=2;else{if(0>=he.Rd&&he.sd==null){Oe=Ie=Ue=D=0;var kt=(Pe=Ke*Ru[B])*nt;if(11>B||(Ie=(nt+1)/2*(D=(Ke+1)/2),B==12&&(Oe=(Ue=Ke)*nt)),(nt=V(kt+2*Ie+Oe))==null){B=1;break e}he.sd=nt,11>B?((Ke=he.f.RGBA).eb=nt,Ke.fb=0,Ke.A=Pe,Ke.size=kt):((Ke=he.f.kb).y=nt,Ke.O=0,Ke.fa=Pe,Ke.Fd=kt,Ke.f=nt,Ke.N=0+kt,Ke.Ab=D,Ke.Cd=Ie,Ke.ea=nt,Ke.W=0+kt+Ie,Ke.Db=D,Ke.Ed=Ie,B==12&&(Ke.F=nt,Ke.J=0+kt+2*Ie),Ke.Tc=Oe,Ke.lb=Ue)}if(D=1,Ue=he.S,Ie=he.width,Oe=he.height,Ue>=bu&&13>Ue)if(11>Ue)B=he.f.RGBA,D&=(Pe=Math.abs(B.A))*(Oe-1)+Ie<=B.size,D&=Pe>=Ie*Ru[Ue],D&=B.eb!=null;else{B=he.f.kb,Pe=(Ie+1)/2,kt=(Oe+1)/2,Ke=Math.abs(B.fa),nt=Math.abs(B.Ab);var $t=Math.abs(B.Db),st=Math.abs(B.lb),Ut=st*(Oe-1)+Ie;D&=Ke*(Oe-1)+Ie<=B.Fd,D&=nt*(kt-1)+Pe<=B.Cd,D=(D&=$t*(kt-1)+Pe<=B.Ed)&Ke>=Ie&nt>=Pe&$t>=Pe,D&=B.y!=null,D&=B.f!=null,D&=B.ea!=null,Ue==12&&(D&=st>=Ie,D&=Ut<=B.Tc,D&=B.F!=null)}else D=0;B=D?0:2}}return B!=0||se!=null&&se.fd&&(B=Vr(he)),B}var Qn=64,Fr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],on=24,bo=32,Zl=8,vl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];jr("Predictor0","PredictorAdd0"),bt.Predictor0=function(){return 4278190080},bt.Predictor1=function(B){return B},bt.Predictor2=function(B,D,se){return D[se+0]},bt.Predictor3=function(B,D,se){return D[se+1]},bt.Predictor4=function(B,D,se){return D[se-1]},bt.Predictor5=function(B,D,se){return Rr(Rr(B,D[se+1]),D[se+0])},bt.Predictor6=function(B,D,se){return Rr(B,D[se-1])},bt.Predictor7=function(B,D,se){return Rr(B,D[se+0])},bt.Predictor8=function(B,D,se){return Rr(D[se-1],D[se+0])},bt.Predictor9=function(B,D,se){return Rr(D[se+0],D[se+1])},bt.Predictor10=function(B,D,se){return Rr(Rr(B,D[se-1]),Rr(D[se+0],D[se+1]))},bt.Predictor11=function(B,D,se){var he=D[se+0];return 0>=Sr(he>>24&255,B>>24&255,(D=D[se-1])>>24&255)+Sr(he>>16&255,B>>16&255,D>>16&255)+Sr(he>>8&255,B>>8&255,D>>8&255)+Sr(255&he,255&B,255&D)?he:B},bt.Predictor12=function(B,D,se){var he=D[se+0];return(Ca((B>>24&255)+(he>>24&255)-((D=D[se-1])>>24&255))<<24|Ca((B>>16&255)+(he>>16&255)-(D>>16&255))<<16|Ca((B>>8&255)+(he>>8&255)-(D>>8&255))<<8|Ca((255&B)+(255&he)-(255&D)))>>>0},bt.Predictor13=function(B,D,se){var he=D[se-1];return(kn((B=Rr(B,D[se+0]))>>24&255,he>>24&255)<<24|kn(B>>16&255,he>>16&255)<<16|kn(B>>8&255,he>>8&255)<<8|kn(255&B,255&he))>>>0};var Yi=bt.PredictorAdd0;bt.PredictorAdd1=zn,jr("Predictor2","PredictorAdd2"),jr("Predictor3","PredictorAdd3"),jr("Predictor4","PredictorAdd4"),jr("Predictor5","PredictorAdd5"),jr("Predictor6","PredictorAdd6"),jr("Predictor7","PredictorAdd7"),jr("Predictor8","PredictorAdd8"),jr("Predictor9","PredictorAdd9"),jr("Predictor10","PredictorAdd10"),jr("Predictor11","PredictorAdd11"),jr("Predictor12","PredictorAdd12"),jr("Predictor13","PredictorAdd13");var vo=bt.PredictorAdd2;Qr("ColorIndexInverseTransform","MapARGB","32b",function(B){return B>>8&255},function(B){return B}),Qr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(B){return B},function(B){return B>>8&255});var Ga,Uu=bt.ColorIndexInverseTransform,td=bt.MapARGB,al=bt.VP8LColorIndexInverseTransformAlpha,il=bt.MapAlpha,bi=bt.VP8LPredictorsAdd=[];bi.length=16,(bt.VP8LPredictors=[]).length=16,(bt.VP8LPredictorsAdd_C=[]).length=16,(bt.VP8LPredictors_C=[]).length=16;var Xd,xc,bn,ma,si,bd,ql,bc,Qo,ec,aa,Pa,_n,Xi,sd,xu,Md,Fu,nA,aA,iA,ol,Ei,oA,Ld,lA,Il,Oc,cA=V(511),QA=V(2041),_A=V(225),Qh=V(767),_h=0,PA=QA,dA=_A,tc=Qh,vc=cA,bu=0,uA=1,HA=2,Mu=3,to=4,Jd=5,zA=6,VA=7,AA=8,vu=9,KA=10,Nf=[2,3,7],p0=[3,3,11],Ph=[280,256,256,256,40],Lu=[0,1,1,1,0],Cf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$A=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],GA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Hh=8,Ou=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],WA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yu=null,YA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Bf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],kf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Vh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],hA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vd=[],yc=[],Ic=[],Sf=1,mA=2,yd=[],wc=[];lt("UpsampleRgbLinePair",Xt,3),lt("UpsampleBgrLinePair",mn,3),lt("UpsampleRgbaLinePair",An,4),lt("UpsampleBgraLinePair",Fa,4),lt("UpsampleArgbLinePair",gs,4),lt("UpsampleRgba4444LinePair",Qs,2),lt("UpsampleRgb565LinePair",or,2);var Iu=bt.UpsampleRgbLinePair,Kh=bt.UpsampleBgrLinePair,XA=bt.UpsampleRgbaLinePair,Ef=bt.UpsampleBgraLinePair,Tf=bt.UpsampleArgbLinePair,JA=bt.UpsampleRgba4444LinePair,wd=bt.UpsampleRgb565LinePair,Zd=16,jd=1<<Zd-1,Du=-227,ZA=482,pA=6,$h=0,qA=V(256),eh=V(256),th=V(256),sh=V(256),rh=V(ZA-Du),Gh=V(ZA-Du);Wr("YuvToRgbRow",Xt,3),Wr("YuvToBgrRow",mn,3),Wr("YuvToRgbaRow",An,4),Wr("YuvToBgraRow",Fa,4),Wr("YuvToArgbRow",gs,4),Wr("YuvToRgba4444Row",Qs,2),Wr("YuvToRgb565Row",or,2);var Od=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gA=[0,2,8],xA=[8,7,6,4,4,2,2,2,1,1,1,1],bA=1;this.WebPDecodeRGBA=function(B,D,se,he,Ue){var Ie=uA,Oe=new Cs,Pe=new wn;Oe.ba=Pe,Pe.S=Ie,Pe.width=[Pe.width],Pe.height=[Pe.height];var Ke=Pe.width,nt=Pe.height,kt=new lr;if(kt==null||B==null)var $t=2;else b(kt!=null),$t=Tn(B,D,se,kt.width,kt.height,kt.Pd,kt.Qd,kt.format,null);if($t!=0?Ke=0:(Ke!=null&&(Ke[0]=kt.width[0]),nt!=null&&(nt[0]=kt.height[0]),Ke=1),Ke){Pe.width=Pe.width[0],Pe.height=Pe.height[0],he!=null&&(he[0]=Pe.width),Ue!=null&&(Ue[0]=Pe.height);e:{if(he=new Fd,(Ue=new Os).data=B,Ue.w=D,Ue.ha=se,Ue.kd=1,D=[0],b(Ue!=null),((B=Tn(Ue.data,Ue.w,Ue.ha,null,null,null,D,null,Ue))==0||B==7)&&D[0]&&(B=4),(D=B)==0){if(b(Oe!=null),he.data=Ue.data,he.w=Ue.w+Ue.offset,he.ha=Ue.ha-Ue.offset,he.put=an,he.ac=Kl,he.bc=oi,he.ma=Oe,Ue.xa){if((B=Gc())==null){Oe=1;break e}if((function(st,Ut){var Pt=[0],bs=[0],Jt=[0];t:for(;;){if(st==null)return 0;if(Ut==null)return st.a=2,0;if(st.l=Ut,st.a=0,fs(st.m,Ut.data,Ut.w,Ut.ha),!mi(st.m,Pt,bs,Jt)){st.a=3;break t}if(st.xb=mA,Ut.width=Pt[0],Ut.height=bs[0],!fl(Pt[0],bs[0],1,st,null))break t;return 1}return b(st.a!=0),0})(B,he)){if(he=(D=na(he.width,he.height,Oe.Oa,Oe.ba))==0){t:{he=B;s:for(;;){if(he==null){he=0;break t}if(b(he.s.yc!=null),b(he.s.Ya!=null),b(0<he.s.Wb),b((se=he.l)!=null),b((Ue=se.ma)!=null),he.xb!=0){if(he.ca=Ue.ba,he.tb=Ue.tb,b(he.ca!=null),!Ma(Ue.Oa,se,Mu)){he.a=2;break s}if(!Mo(he,se.width)||se.da)break s;if((se.da||hn(he.ca.S))&&Qe(),11>he.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),he.ca.f.kb.F!=null&&Qe()),he.Pb&&0<he.s.ua&&he.s.vb.X==null&&!tt(he.s.vb,he.s.Wa.Xa)){he.a=1;break s}he.xb=0}if(!Fo(he,he.V,he.Ba,he.c,he.i,se.o,Ri))break s;Ue.Dc=he.Ma,he=1;break t}b(he.a!=0),he=0}he=!he}he&&(D=B.a)}else D=B.a}else{if((B=new Oo)==null){Oe=1;break e}if(B.Fa=Ue.na,B.P=Ue.P,B.qc=Ue.Sa,Gl(B,he)){if((D=na(he.width,he.height,Oe.Oa,Oe.ba))==0){if(B.Aa=0,se=Oe.Oa,b((Ue=B)!=null),se!=null){if(0<(Ke=0>(Ke=se.Md)?0:100<Ke?255:255*Ke/100)){for(nt=kt=0;4>nt;++nt)12>($t=Ue.pb[nt]).lc&&($t.ia=Ke*xA[0>$t.lc?0:$t.lc]>>3),kt|=$t.ia;kt&&(alert("todo:VP8InitRandom"),Ue.ia=1)}Ue.Ga=se.Id,100<Ue.Ga?Ue.Ga=100:0>Ue.Ga&&(Ue.Ga=0)}(function(st,Ut){if(st==null)return 0;if(Ut==null)return un(st,2,"NULL VP8Io parameter in VP8Decode().");if(!st.cb&&!Gl(st,Ut))return 0;if(b(st.cb),Ut.ac==null||Ut.ac(Ut)){Ut.ob&&(st.L=0);var Pt=gA[st.L];if(st.L==2?(st.yb=0,st.zb=0):(st.yb=Ut.v-Pt>>4,st.zb=Ut.j-Pt>>4,0>st.yb&&(st.yb=0),0>st.zb&&(st.zb=0)),st.Va=Ut.o+15+Pt>>4,st.Hb=Ut.va+15+Pt>>4,st.Hb>st.za&&(st.Hb=st.za),st.Va>st.Ub&&(st.Va=st.Ub),0<st.L){var bs=st.ed;for(Pt=0;4>Pt;++Pt){var Jt;if(st.Qa.Cb){var ys=st.Qa.Lb[Pt];st.Qa.Fb||(ys+=bs.Tb)}else ys=bs.Tb;for(Jt=0;1>=Jt;++Jt){var Bs=st.gd[Pt][Jt],Hs=ys;if(bs.Pc&&(Hs+=bs.vd[0],Jt&&(Hs+=bs.od[0])),0<(Hs=0>Hs?0:63<Hs?63:Hs)){var Ds=Hs;0<bs.wb&&(Ds=4<bs.wb?Ds>>2:Ds>>1)>9-bs.wb&&(Ds=9-bs.wb),1>Ds&&(Ds=1),Bs.dd=Ds,Bs.tc=2*Hs+Ds,Bs.ld=40<=Hs?2:15<=Hs?1:0}else Bs.tc=0;Bs.La=Jt}}}Pt=0}else un(st,6,"Frame setup failed"),Pt=st.a;if(Pt=Pt==0){if(Pt){st.$c=0,0<st.Aa||(st.Ic=bA);t:{Pt=st.Ic,bs=4*(Ds=st.za);var Kr=32*Ds,Nr=Ds+1,Pn=0<st.L?Ds*(0<st.Aa?2:1):0,Pr=(st.Aa==2?2:1)*Ds;if((Bs=bs+832+(Jt=3*(16*Pt+gA[st.L])/2*Kr)+(ys=st.Fa!=null&&0<st.Fa.length?st.Kc.c*st.Kc.i:0))!=Bs)Pt=0;else{if(Bs>st.Vb){if(st.Vb=0,st.Ec=V(Bs),st.Fc=0,st.Ec==null){Pt=un(st,1,"no memory during frame initialization.");break t}st.Vb=Bs}Bs=st.Ec,Hs=st.Fc,st.Ac=Bs,st.Bc=Hs,Hs+=bs,st.Gd=le(Kr,Wd),st.Hd=0,st.rb=le(Nr+1,mc),st.sb=1,st.wa=Pn?le(Pn,po):null,st.Y=0,st.D.Nb=0,st.D.wa=st.wa,st.D.Y=st.Y,0<st.Aa&&(st.D.Y+=Ds),b(!0),st.oc=Bs,st.pc=Hs,Hs+=832,st.ya=le(Pr,cd),st.aa=0,st.D.ya=st.ya,st.D.aa=st.aa,st.Aa==2&&(st.D.aa+=Ds),st.R=16*Ds,st.B=8*Ds,Ds=(Kr=gA[st.L])*st.R,Kr=Kr/2*st.B,st.sa=Bs,st.ta=Hs+Ds,st.qa=st.sa,st.ra=st.ta+16*Pt*st.R+Kr,st.Ha=st.qa,st.Ia=st.ra+8*Pt*st.B+Kr,st.$c=0,Hs+=Jt,st.mb=ys?Bs:null,st.nb=ys?Hs:null,b(Hs+ys<=st.Fc+st.Vb),Fc(st),R(st.Ac,st.Bc,0,bs),Pt=1}}if(Pt){if(Ut.ka=0,Ut.y=st.sa,Ut.O=st.ta,Ut.f=st.qa,Ut.N=st.ra,Ut.ea=st.Ha,Ut.Vd=st.Ia,Ut.fa=st.R,Ut.Rc=st.B,Ut.F=null,Ut.J=0,!_h){for(Pt=-255;255>=Pt;++Pt)cA[255+Pt]=0>Pt?-Pt:Pt;for(Pt=-1020;1020>=Pt;++Pt)QA[1020+Pt]=-128>Pt?-128:127<Pt?127:Pt;for(Pt=-112;112>=Pt;++Pt)_A[112+Pt]=-16>Pt?-16:15<Pt?15:Pt;for(Pt=-255;510>=Pt;++Pt)Qh[255+Pt]=0>Pt?0:255<Pt?255:Pt;_h=1}ql=xo,bc=Yc,ec=Io,aa=Ad,Pa=Xl,Qo=Gi,_n=gi,Xi=ed,sd=Te,xu=at,Md=xd,Fu=X,nA=ft,aA=_t,iA=ti,ol=gd,Ei=gu,oA=Tu,yc[0]=fd,yc[1]=Jl,yc[2]=Mc,yc[3]=gl,yc[4]=Do,yc[5]=pu,yc[6]=Lc,yc[7]=md,yc[8]=Xc,yc[9]=Wi,vd[0]=mu,vd[1]=tl,vd[2]=pl,vd[3]=fu,vd[4]=hd,vd[5]=Qi,vd[6]=_a,Ic[0]=pc,Ic[1]=ml,Ic[2]=xl,Ic[3]=Yd,Ic[4]=rl,Ic[5]=Ro,Ic[6]=pd,Pt=1}else Pt=0}Pt&&(Pt=(function(ca,so){for(ca.M=0;ca.M<ca.Va;++ca.M){var Mn,_r=ca.Jc[ca.M&ca.Xb],ur=ca.m,_i=ca;for(Mn=0;Mn<_i.za;++Mn){var Ln=ur,Vn=_i,ri=Vn.Ac,yo=Vn.Bc+4*Mn,_o=Vn.zc,La=Vn.ya[Vn.aa+Mn];if(Vn.Qa.Bb?La.$b=Us(Ln,Vn.Pa.jb[0])?2+Us(Ln,Vn.Pa.jb[2]):Us(Ln,Vn.Pa.jb[1]):La.$b=0,Vn.kc&&(La.Ad=Us(Ln,Vn.Bd)),La.Za=!Us(Ln,145)+0,La.Za){var Po=La.Ob,yl=0;for(Vn=0;4>Vn;++Vn){var Pi,ia=_o[0+Vn];for(Pi=0;4>Pi;++Pi){ia=Vh[ri[yo+Pi]][ia];for(var cn=zh[Us(Ln,ia[0])];0<cn;)cn=zh[2*cn+Us(Ln,ia[cn])];ia=-cn,ri[yo+Pi]=ia}I(Po,yl,ri,yo,4),yl+=4,_o[0+Vn]=ia}}else ia=Us(Ln,156)?Us(Ln,128)?1:3:Us(Ln,163)?2:0,La.Ob[0]=ia,R(ri,yo,ia,4),R(_o,0,ia,4);La.Dd=Us(Ln,142)?Us(Ln,114)?Us(Ln,183)?1:3:2:0}if(_i.m.Ka)return un(ca,7,"Premature end-of-partition0 encountered.");for(;ca.ja<ca.za;++ca.ja){if(_i=_r,Ln=(ur=ca).rb[ur.sb-1],ri=ur.rb[ur.sb+ur.ja],Mn=ur.ya[ur.aa+ur.ja],yo=ur.kc?Mn.Ad:0)Ln.la=ri.la=0,Mn.Za||(Ln.Na=ri.Na=0),Mn.Hc=0,Mn.Gc=0,Mn.ia=0;else{var Ji,Ha;if(Ln=ri,ri=_i,yo=ur.Pa.Xc,_o=ur.ya[ur.aa+ur.ja],La=ur.pb[_o.$b],Vn=_o.ad,Po=0,yl=ur.rb[ur.sb-1],ia=Pi=0,R(Vn,Po,0,384),_o.Za)var Ho=0,ll=yo[3];else{cn=V(16);var Wa=Ln.Na+yl.Na;if(Wa=yu(ri,yo[1],Wa,La.Eb,0,cn,0),Ln.Na=yl.Na=(0<Wa)+0,1<Wa)ql(cn,0,Vn,Po);else{var cl=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Vn[Po+cn]=cl}Ho=1,ll=yo[0]}var Ya=15&Ln.la,Ys=15&yl.la;for(cn=0;4>cn;++cn){var ni=1&Ys;for(cl=Ha=0;4>cl;++cl)Ya=Ya>>1|(ni=(Wa=yu(ri,ll,Wa=ni+(1&Ya),La.Sc,Ho,Vn,Po))>Ho)<<7,Ha=Ha<<2|(3<Wa?3:1<Wa?2:Vn[Po+0]!=0),Po+=16;Ya>>=4,Ys=Ys>>1|ni<<7,Pi=(Pi<<8|Ha)>>>0}for(ll=Ya,Ho=Ys>>4,Ji=0;4>Ji;Ji+=2){for(Ha=0,Ya=Ln.la>>4+Ji,Ys=yl.la>>4+Ji,cn=0;2>cn;++cn){for(ni=1&Ys,cl=0;2>cl;++cl)Wa=ni+(1&Ya),Ya=Ya>>1|(ni=0<(Wa=yu(ri,yo[2],Wa,La.Qc,0,Vn,Po)))<<3,Ha=Ha<<2|(3<Wa?3:1<Wa?2:Vn[Po+0]!=0),Po+=16;Ya>>=2,Ys=Ys>>1|ni<<5}ia|=Ha<<4*Ji,ll|=Ya<<4<<Ji,Ho|=(240&Ys)<<Ji}Ln.la=ll,yl.la=Ho,_o.Hc=Pi,_o.Gc=ia,_o.ia=43690&ia?0:La.ia,yo=!(Pi|ia)}if(0<ur.L&&(ur.wa[ur.Y+ur.ja]=ur.gd[Mn.$b][Mn.Za],ur.wa[ur.Y+ur.ja].La|=!yo),_i.Ka)return un(ca,7,"Premature end-of-file encountered.")}if(Fc(ca),ur=so,_i=1,Mn=(_r=ca).D,Ln=0<_r.L&&_r.M>=_r.zb&&_r.M<=_r.Va,_r.Aa==0)t:{if(Mn.M=_r.M,Mn.uc=Ln,sr(_r,Mn),_i=1,Mn=(Ha=_r.D).Nb,Ln=(ia=gA[_r.L])*_r.R,ri=ia/2*_r.B,cn=16*Mn*_r.R,cl=8*Mn*_r.B,yo=_r.sa,_o=_r.ta-Ln+cn,La=_r.qa,Vn=_r.ra-ri+cl,Po=_r.Ha,yl=_r.Ia-ri+cl,Ys=(Ya=Ha.M)==0,Pi=Ya>=_r.Va-1,_r.Aa==2&&sr(_r,Ha),Ha.uc)for(ni=(Wa=_r).D.M,b(Wa.D.uc),Ha=Wa.yb;Ha<Wa.Hb;++Ha){Ho=Ha,ll=ni;var wo=(ci=(zo=Wa).D).Nb;Ji=zo.R;var ci=ci.wa[ci.Y+Ho],sc=zo.sa,Un=zo.ta+16*wo*Ji+16*Ho,ea=ci.dd,ka=ci.tc;if(ka!=0)if(b(3<=ka),zo.L==1)0<Ho&&ol(sc,Un,Ji,ka+4),ci.La&&oA(sc,Un,Ji,ka),0<ll&&iA(sc,Un,Ji,ka+4),ci.La&&Ei(sc,Un,Ji,ka);else{var rc=zo.B,Zi=zo.qa,di=zo.ra+8*wo*rc+8*Ho,nc=zo.Ha,zo=zo.Ia+8*wo*rc+8*Ho;wo=ci.ld,0<Ho&&(Xi(sc,Un,Ji,ka+4,ea,wo),xu(Zi,di,nc,zo,rc,ka+4,ea,wo)),ci.La&&(Fu(sc,Un,Ji,ka,ea,wo),aA(Zi,di,nc,zo,rc,ka,ea,wo)),0<ll&&(_n(sc,Un,Ji,ka+4,ea,wo),sd(Zi,di,nc,zo,rc,ka+4,ea,wo)),ci.La&&(Md(sc,Un,Ji,ka,ea,wo),nA(Zi,di,nc,zo,rc,ka,ea,wo))}}if(_r.ia&&alert("todo:DitherRow"),ur.put!=null){if(Ha=16*Ya,Ya=16*(Ya+1),Ys?(ur.y=_r.sa,ur.O=_r.ta+cn,ur.f=_r.qa,ur.N=_r.ra+cl,ur.ea=_r.Ha,ur.W=_r.Ia+cl):(Ha-=ia,ur.y=yo,ur.O=_o,ur.f=La,ur.N=Vn,ur.ea=Po,ur.W=yl),Pi||(Ya-=ia),Ya>ur.o&&(Ya=ur.o),ur.F=null,ur.J=null,_r.Fa!=null&&0<_r.Fa.length&&Ha<Ya&&(ur.J=Ba(_r,ur,Ha,Ya-Ha),ur.F=_r.mb,ur.F==null&&ur.F.length==0)){_i=un(_r,3,"Could not decode alpha data.");break t}Ha<ur.j&&(ia=ur.j-Ha,Ha=ur.j,b(!(1&ia)),ur.O+=_r.R*ia,ur.N+=_r.B*(ia>>1),ur.W+=_r.B*(ia>>1),ur.F!=null&&(ur.J+=ur.width*ia)),Ha<Ya&&(ur.O+=ur.v,ur.N+=ur.v>>1,ur.W+=ur.v>>1,ur.F!=null&&(ur.J+=ur.v),ur.ka=Ha-ur.j,ur.U=ur.va-ur.v,ur.T=Ya-Ha,_i=ur.put(ur))}Mn+1!=_r.Ic||Pi||(I(_r.sa,_r.ta-Ln,yo,_o+16*_r.R,Ln),I(_r.qa,_r.ra-ri,La,Vn+8*_r.B,ri),I(_r.Ha,_r.Ia-ri,Po,yl+8*_r.B,ri))}if(!_i)return un(ca,6,"Output aborted.")}return 1})(st,Ut)),Ut.bc!=null&&Ut.bc(Ut),Pt&=1}return Pt?(st.cb=0,Pt):0})(B,he)||(D=B.a)}}else D=B.a}D==0&&Oe.Oa!=null&&Oe.Oa.fd&&(D=Vr(Oe.ba))}Oe=D}Ie=Oe!=0?null:11>Ie?Pe.f.RGBA.eb:Pe.f.kb.y}else Ie=null;return Ie};var Ru=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function je(bt,es){for(var Ye="",rt=0;rt<4;rt++)Ye+=String.fromCharCode(bt[es++]);return Ye}function Le(bt,es){return bt[es+0]|bt[es+1]<<8}function ze(bt,es){return(bt[es+0]|bt[es+1]<<8|bt[es+2]<<16)>>>0}function Xe(bt,es){return(bt[es+0]|bt[es+1]<<8|bt[es+2]<<16|bt[es+3]<<24)>>>0}new ee;var xe=[0],ct=[0],ot=[],At=new ee,We=N,yt=(function(bt,es){var Ye={},rt=0,gt=!1,xt=0,ss=0;if(Ye.frames=[],!(function(_e,dt){for(var ht=0;ht<4;ht++)if(_e[dt+ht]!="RIFF".charCodeAt(ht))return!0;return!1})(bt,es)){for(Xe(bt,es+=4),es+=8;es<bt.length;){var us=je(bt,es),xs=Xe(bt,es+=4);es+=4;var Vt=xs+(1&xs);switch(us){case"VP8 ":case"VP8L":Ye.frames[rt]===void 0&&(Ye.frames[rt]={}),(_s=Ye.frames[rt]).src_off=gt?ss:es-8,_s.src_size=xt+xs+8,rt++,gt&&(gt=!1,xt=0,ss=0);break;case"VP8X":(_s=Ye.header={}).feature_flags=bt[es];var fs=es+4;_s.canvas_width=1+ze(bt,fs),fs+=3,_s.canvas_height=1+ze(bt,fs),fs+=3;break;case"ALPH":gt=!0,xt=Vt+8,ss=es-8;break;case"ANIM":(_s=Ye.header).bgcolor=Xe(bt,es),fs=es+4,_s.loop_count=Le(bt,fs),fs+=2;break;case"ANMF":var Js,_s;(_s=Ye.frames[rt]={}).offset_x=2*ze(bt,es),es+=3,_s.offset_y=2*ze(bt,es),es+=3,_s.width=1+ze(bt,es),es+=3,_s.height=1+ze(bt,es),es+=3,_s.duration=ze(bt,es),es+=3,Js=bt[es++],_s.dispose=1&Js,_s.blend=Js>>1&1}us!="ANMF"&&(es+=Vt)}return Ye}})(We,0);yt.response=We,yt.rgbaoutput=!0,yt.dataurl=!1;var Dt=yt.header?yt.header:null,pt=yt.frames?yt.frames:null;if(Dt){Dt.loop_counter=Dt.loop_count,xe=[Dt.canvas_height],ct=[Dt.canvas_width];for(var Ge=0;Ge<pt.length&&pt[Ge].blend!=0;Ge++);}var Ft=pt[0],is=At.WebPDecodeRGBA(We,Ft.src_off,Ft.src_size,ct,xe);Ft.rgba=is,Ft.imgwidth=ct[0],Ft.imgheight=xe[0];for(var Ht=0;Ht<ct[0]*xe[0]*4;Ht++)ot[Ht]=is[Ht];return this.width=ct,this.height=xe,this.data=ot,this}(function(N){var b,S,I,R,V,le,q,ee,je,Le=function(_e){return _e=_e||{},this.isStrokeTransparent=_e.isStrokeTransparent||!1,this.strokeOpacity=_e.strokeOpacity||1,this.strokeStyle=_e.strokeStyle||"#000000",this.fillStyle=_e.fillStyle||"#000000",this.isFillTransparent=_e.isFillTransparent||!1,this.fillOpacity=_e.fillOpacity||1,this.font=_e.font||"10px sans-serif",this.textBaseline=_e.textBaseline||"alphabetic",this.textAlign=_e.textAlign||"left",this.lineWidth=_e.lineWidth||1,this.lineJoin=_e.lineJoin||"miter",this.lineCap=_e.lineCap||"butt",this.path=_e.path||[],this.transform=_e.transform!==void 0?_e.transform.clone():new ee,this.globalCompositeOperation=_e.globalCompositeOperation||"normal",this.globalAlpha=_e.globalAlpha||1,this.clip_path=_e.clip_path||[],this.currentPoint=_e.currentPoint||new le,this.miterLimit=_e.miterLimit||10,this.lastPoint=_e.lastPoint||new le,this.lineDashOffset=_e.lineDashOffset||0,this.lineDash=_e.lineDash||[],this.margin=_e.margin||[0,0,0,0],this.prevPageLastElemOffset=_e.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _e.ignoreClearRect!="boolean"||_e.ignoreClearRect,this};N.events.push(["initialized",function(){this.context2d=new ze(this),b=this.internal.f2,S=this.internal.getCoordinateString,I=this.internal.getVerticalCoordinateString,R=this.internal.getHorizontalCoordinate,V=this.internal.getVerticalCoordinate,le=this.internal.Point,q=this.internal.Rectangle,ee=this.internal.Matrix,je=new Le}]);var ze=function(_e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var dt=_e;Object.defineProperty(this,"pdf",{get:function(){return dt}});var ht=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ht},set:function(tt){ht=!!tt}});var Mt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Mt},set:function(tt){Mt=!!tt}});var Rt=0;Object.defineProperty(this,"posX",{get:function(){return Rt},set:function(tt){isNaN(tt)||(Rt=tt)}});var Wt=0;Object.defineProperty(this,"posY",{get:function(){return Wt},set:function(tt){isNaN(tt)||(Wt=tt)}}),Object.defineProperty(this,"margin",{get:function(){return je.margin},set:function(tt){var cr;typeof tt=="number"?cr=[tt,tt,tt,tt]:((cr=new Array(4))[0]=tt[0],cr[1]=tt.length>=2?tt[1]:cr[0],cr[2]=tt.length>=3?tt[2]:cr[0],cr[3]=tt.length>=4?tt[3]:cr[1]),je.margin=cr}});var ms=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ms},set:function(tt){ms=tt}});var ps=0;Object.defineProperty(this,"lastBreak",{get:function(){return ps},set:function(tt){ps=tt}});var Us=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Us},set:function(tt){Us=tt}}),Object.defineProperty(this,"ctx",{get:function(){return je},set:function(tt){tt instanceof Le&&(je=tt)}}),Object.defineProperty(this,"path",{get:function(){return je.path},set:function(tt){je.path=tt}});var Zs=[];Object.defineProperty(this,"ctxStack",{get:function(){return Zs},set:function(tt){Zs=tt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(tt){var cr;cr=Xe(tt),this.ctx.fillStyle=cr.style,this.ctx.isFillTransparent=cr.a===0,this.ctx.fillOpacity=cr.a,this.pdf.setFillColor(cr.r,cr.g,cr.b,{a:cr.a}),this.pdf.setTextColor(cr.r,cr.g,cr.b,{a:cr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(tt){var cr=Xe(tt);this.ctx.strokeStyle=cr.style,this.ctx.isStrokeTransparent=cr.a===0,this.ctx.strokeOpacity=cr.a,cr.a===0?this.pdf.setDrawColor(255,255,255):(cr.a,this.pdf.setDrawColor(cr.r,cr.g,cr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(tt){["butt","round","square"].indexOf(tt)!==-1&&(this.ctx.lineCap=tt,this.pdf.setLineCap(tt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(tt){isNaN(tt)||(this.ctx.lineWidth=tt,this.pdf.setLineWidth(tt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(tt){["bevel","round","miter"].indexOf(tt)!==-1&&(this.ctx.lineJoin=tt,this.pdf.setLineJoin(tt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(tt){isNaN(tt)||(this.ctx.miterLimit=tt,this.pdf.setMiterLimit(tt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(tt){this.ctx.textBaseline=tt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(tt){["right","end","center","left","start"].indexOf(tt)!==-1&&(this.ctx.textAlign=tt)}});var wr=null,vr=null,Xr=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xr},set:function(tt){wr=null,vr=null,Xr=tt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(tt){var cr;if(this.ctx.font=tt,(cr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(tt))!==null){var dn=cr[1];cr[2];var ir=cr[3],Ps=cr[4];cr[5];var sn=cr[6],jr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ps)[2];Ps=Math.floor(jr==="px"?parseFloat(Ps)*this.pdf.internal.scaleFactor:jr==="em"?parseFloat(Ps)*this.pdf.getFontSize():parseFloat(Ps)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ps);var $r=(function(Qr){var xn,Wn,Sn=[],Rn=Qr.trim();if(Rn==="")return Ni;if(Rn in Dn)return[Dn[Rn]];for(;Rn!=="";){switch(Wn=null,xn=(Rn=ii(Rn)).charAt(0)){case'"':case"'":Wn=Eo(Rn.substring(1),xn);break;default:Wn=Vl(Rn)}if(Wn===null||(Sn.push(Wn[0]),(Rn=ii(Wn[1]))!==""&&Rn.charAt(0)!==","))return Ni;Rn=Rn.replace(/^,/,"")}return Sn})(sn);if(this.fontFaces){var Rr=(function(Qr,xn){var Wn=Qr.getFontList(),Sn=JSON.stringify(Wn);if(wr===null||vr!==Sn){var Rn=(function($a){var Gr=[];return Object.keys($a).forEach(function(Qa){$a[Qa].forEach(function(hn){var zr=null;switch(hn){case"bold":zr={family:Qa,weight:"bold"};break;case"italic":zr={family:Qa,style:"italic"};break;case"bolditalic":zr={family:Qa,weight:"bold",style:"italic"};break;case"":case"normal":zr={family:Qa}}zr!==null&&(zr.ref={name:Qa,style:hn},Gr.push(zr))})}),Gr})(Wn);wr=(function($a){for(var Gr={},Qa=0;Qa<$a.length;++Qa){var hn=ga($a[Qa]),zr=hn.family,ja=hn.stretch,wn=hn.style,lr=hn.weight;Gr[zr]=Gr[zr]||{},Gr[zr][ja]=Gr[zr][ja]||{},Gr[zr][ja][wn]=Gr[zr][ja][wn]||{},Gr[zr][ja][wn][lr]=hn}return Gr})(Rn.concat(xn)),vr=Sn}return wr})(this.pdf,this.fontFaces),Ca=$r.map(function(Qr){return{family:Qr,stretch:"normal",weight:ir,style:dn}}),kn=(function(Qr,xn,Wn){for(var Sn=(Wn=Wn||{}).defaultFontFamily||"times",Rn=Object.assign({},Oi,Wn.genericFontFamilies||{}),$a=null,Gr=null,Qa=0;Qa<xn.length;++Qa)if(Rn[($a=ga(xn[Qa])).family]&&($a.family=Rn[$a.family]),Qr.hasOwnProperty($a.family)){Gr=Qr[$a.family];break}if(!(Gr=Gr||Qr[Sn]))throw new Error("Could not find a font-family for the rule '"+hc($a)+"' and default family '"+Sn+"'.");if(Gr=(function(hn,zr){if(zr[hn])return zr[hn];var ja=In[hn],wn=ja<=In.normal?-1:1,lr=Zn(zr,yn,ja,wn);if(!lr)throw new Error("Could not find a matching font-stretch value for "+hn);return lr})($a.stretch,Gr),Gr=(function(hn,zr){if(zr[hn])return zr[hn];for(var ja=qa[hn],wn=0;wn<ja.length;++wn)if(zr[ja[wn]])return zr[ja[wn]];throw new Error("Could not find a matching font-style for "+hn)})($a.style,Gr),!(Gr=(function(hn,zr){if(zr[hn])return zr[hn];if(hn===400&&zr[500])return zr[500];if(hn===500&&zr[400])return zr[400];var ja=Nn[hn],wn=Zn(zr,$n,ja,hn<400?-1:1);if(!wn)throw new Error("Could not find a matching font-weight for value "+hn);return wn})($a.weight,Gr)))throw new Error("Failed to resolve a font for the rule '"+hc($a)+"'.");return Gr})(Rr,Ca);this.pdf.setFont(kn.ref.name,kn.ref.style)}else{var Sr="";(ir==="bold"||parseInt(ir,10)>=700||dn==="bold")&&(Sr="bold"),dn==="italic"&&(Sr+="italic"),Sr.length===0&&(Sr="normal");for(var zn="",Jr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Er=0;Er<$r.length;Er++){if(this.pdf.internal.getFont($r[Er],Sr,{noFallback:!0,disableWarning:!0})!==void 0){zn=$r[Er];break}if(Sr==="bolditalic"&&this.pdf.internal.getFont($r[Er],"bold",{noFallback:!0,disableWarning:!0})!==void 0)zn=$r[Er],Sr="bold";else if(this.pdf.internal.getFont($r[Er],"normal",{noFallback:!0,disableWarning:!0})!==void 0){zn=$r[Er],Sr="normal";break}}if(zn===""){for(var nn=0;nn<$r.length;nn++)if(Jr[$r[nn]]){zn=Jr[$r[nn]];break}}zn=zn===""?"Times":zn,this.pdf.setFont(zn,Sr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(tt){this.ctx.globalCompositeOperation=tt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(tt){this.ctx.globalAlpha=tt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(tt){this.ctx.lineDashOffset=tt,_s.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(tt){this.ctx.lineDash=tt,_s.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(tt){this.ctx.ignoreClearRect=!!tt}})};ze.prototype.setLineDash=function(_e){this.lineDash=_e},ze.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ze.prototype.fill=function(){pt.call(this,"fill",!1)},ze.prototype.stroke=function(){pt.call(this,"stroke",!1)},ze.prototype.beginPath=function(){this.path=[{type:"begin"}]},ze.prototype.moveTo=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw w.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ht=this.ctx.transform.applyToPoint(new le(_e,dt));this.path.push({type:"mt",x:ht.x,y:ht.y}),this.ctx.lastPoint=new le(_e,dt)},ze.prototype.closePath=function(){var _e=new le(0,0),dt=0;for(dt=this.path.length-1;dt!==-1;dt--)if(this.path[dt].type==="begin"&&(0,f.default)(this.path[dt+1])==="object"&&typeof this.path[dt+1].x=="number"){_e=new le(this.path[dt+1].x,this.path[dt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new le(_e.x,_e.y)},ze.prototype.lineTo=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw w.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ht=this.ctx.transform.applyToPoint(new le(_e,dt));this.path.push({type:"lt",x:ht.x,y:ht.y}),this.ctx.lastPoint=new le(ht.x,ht.y)},ze.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),pt.call(this,null,!0)},ze.prototype.quadraticCurveTo=function(_e,dt,ht,Mt){if(isNaN(ht)||isNaN(Mt)||isNaN(_e)||isNaN(dt))throw w.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Rt=this.ctx.transform.applyToPoint(new le(ht,Mt)),Wt=this.ctx.transform.applyToPoint(new le(_e,dt));this.path.push({type:"qct",x1:Wt.x,y1:Wt.y,x:Rt.x,y:Rt.y}),this.ctx.lastPoint=new le(Rt.x,Rt.y)},ze.prototype.bezierCurveTo=function(_e,dt,ht,Mt,Rt,Wt){if(isNaN(Rt)||isNaN(Wt)||isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Mt))throw w.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ms=this.ctx.transform.applyToPoint(new le(Rt,Wt)),ps=this.ctx.transform.applyToPoint(new le(_e,dt)),Us=this.ctx.transform.applyToPoint(new le(ht,Mt));this.path.push({type:"bct",x1:ps.x,y1:ps.y,x2:Us.x,y2:Us.y,x:ms.x,y:ms.y}),this.ctx.lastPoint=new le(ms.x,ms.y)},ze.prototype.arc=function(_e,dt,ht,Mt,Rt,Wt){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Mt)||isNaN(Rt))throw w.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Wt=!!Wt,!this.ctx.transform.isIdentity){var ms=this.ctx.transform.applyToPoint(new le(_e,dt));_e=ms.x,dt=ms.y;var ps=this.ctx.transform.applyToPoint(new le(0,ht)),Us=this.ctx.transform.applyToPoint(new le(0,0));ht=Math.sqrt(Math.pow(ps.x-Us.x,2)+Math.pow(ps.y-Us.y,2))}Math.abs(Rt-Mt)>=2*Math.PI&&(Mt=0,Rt=2*Math.PI),this.path.push({type:"arc",x:_e,y:dt,radius:ht,startAngle:Mt,endAngle:Rt,counterclockwise:Wt})},ze.prototype.arcTo=function(_e,dt,ht,Mt,Rt){throw new Error("arcTo not implemented.")},ze.prototype.rect=function(_e,dt,ht,Mt){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Mt))throw w.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_e,dt),this.lineTo(_e+ht,dt),this.lineTo(_e+ht,dt+Mt),this.lineTo(_e,dt+Mt),this.lineTo(_e,dt),this.lineTo(_e+ht,dt),this.lineTo(_e,dt)},ze.prototype.fillRect=function(_e,dt,ht,Mt){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Mt))throw w.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!xe.call(this)){var Rt={};this.lineCap!=="butt"&&(Rt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Rt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_e,dt,ht,Mt),this.fill(),Rt.hasOwnProperty("lineCap")&&(this.lineCap=Rt.lineCap),Rt.hasOwnProperty("lineJoin")&&(this.lineJoin=Rt.lineJoin)}},ze.prototype.strokeRect=function(_e,dt,ht,Mt){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Mt))throw w.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ct.call(this)||(this.beginPath(),this.rect(_e,dt,ht,Mt),this.stroke())},ze.prototype.clearRect=function(_e,dt,ht,Mt){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Mt))throw w.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_e,dt,ht,Mt))},ze.prototype.save=function(_e){_e=typeof _e!="boolean"||_e;for(var dt=this.pdf.internal.getCurrentPageInfo().pageNumber,ht=0;ht<this.pdf.internal.getNumberOfPages();ht++)this.pdf.setPage(ht+1),this.pdf.internal.out("q");if(this.pdf.setPage(dt),_e){this.ctx.fontSize=this.pdf.internal.getFontSize();var Mt=new Le(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Mt}},ze.prototype.restore=function(_e){_e=typeof _e!="boolean"||_e;for(var dt=this.pdf.internal.getCurrentPageInfo().pageNumber,ht=0;ht<this.pdf.internal.getNumberOfPages();ht++)this.pdf.setPage(ht+1),this.pdf.internal.out("Q");this.pdf.setPage(dt),_e&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ze.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Xe=function(_e){var dt,ht,Mt,Rt;if(_e.isCanvasGradient===!0&&(_e=_e.getColor()),!_e)return{r:0,g:0,b:0,a:0,style:_e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_e))dt=0,ht=0,Mt=0,Rt=0;else{var Wt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_e);if(Wt!==null)dt=parseInt(Wt[1]),ht=parseInt(Wt[2]),Mt=parseInt(Wt[3]),Rt=1;else if((Wt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_e))!==null)dt=parseInt(Wt[1]),ht=parseInt(Wt[2]),Mt=parseInt(Wt[3]),Rt=parseFloat(Wt[4]);else{if(Rt=1,typeof _e=="string"&&_e.charAt(0)!=="#"){var ms=new J(_e);_e=ms.ok?ms.toHex():"#000000"}_e.length===4?(dt=_e.substring(1,2),dt+=dt,ht=_e.substring(2,3),ht+=ht,Mt=_e.substring(3,4),Mt+=Mt):(dt=_e.substring(1,3),ht=_e.substring(3,5),Mt=_e.substring(5,7)),dt=parseInt(dt,16),ht=parseInt(ht,16),Mt=parseInt(Mt,16)}}return{r:dt,g:ht,b:Mt,a:Rt,style:_e}},xe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},ct=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};ze.prototype.fillText=function(_e,dt,ht,Mt){if(isNaN(dt)||isNaN(ht)||typeof _e!="string")throw w.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Mt=isNaN(Mt)?void 0:Mt,!xe.call(this)){var Rt=Vt(this.ctx.transform.rotation),Wt=this.ctx.transform.scaleX;rt.call(this,{text:_e,x:dt,y:ht,scale:Wt,angle:Rt,align:this.textAlign,maxWidth:Mt})}},ze.prototype.strokeText=function(_e,dt,ht,Mt){if(isNaN(dt)||isNaN(ht)||typeof _e!="string")throw w.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ct.call(this)){Mt=isNaN(Mt)?void 0:Mt;var Rt=Vt(this.ctx.transform.rotation),Wt=this.ctx.transform.scaleX;rt.call(this,{text:_e,x:dt,y:ht,scale:Wt,renderingMode:"stroke",angle:Rt,align:this.textAlign,maxWidth:Mt})}},ze.prototype.measureText=function(_e){if(typeof _e!="string")throw w.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var dt=this.pdf,ht=this.pdf.internal.scaleFactor,Mt=dt.internal.getFontSize(),Rt=dt.getStringUnitWidth(_e)*Mt/dt.internal.scaleFactor;return new function(Wt){var ms=(Wt=Wt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ms}}),this}({width:Rt*=Math.round(96*ht/72*1e4)/1e4})},ze.prototype.scale=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw w.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ht=new ee(_e,0,0,dt,0,0);this.ctx.transform=this.ctx.transform.multiply(ht)},ze.prototype.rotate=function(_e){if(isNaN(_e))throw w.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var dt=new ee(Math.cos(_e),Math.sin(_e),-Math.sin(_e),Math.cos(_e),0,0);this.ctx.transform=this.ctx.transform.multiply(dt)},ze.prototype.translate=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw w.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ht=new ee(1,0,0,1,_e,dt);this.ctx.transform=this.ctx.transform.multiply(ht)},ze.prototype.transform=function(_e,dt,ht,Mt,Rt,Wt){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Mt)||isNaN(Rt)||isNaN(Wt))throw w.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ms=new ee(_e,dt,ht,Mt,Rt,Wt);this.ctx.transform=this.ctx.transform.multiply(ms)},ze.prototype.setTransform=function(_e,dt,ht,Mt,Rt,Wt){_e=isNaN(_e)?1:_e,dt=isNaN(dt)?0:dt,ht=isNaN(ht)?0:ht,Mt=isNaN(Mt)?1:Mt,Rt=isNaN(Rt)?0:Rt,Wt=isNaN(Wt)?0:Wt,this.ctx.transform=new ee(_e,dt,ht,Mt,Rt,Wt)};var ot=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ze.prototype.drawImage=function(_e,dt,ht,Mt,Rt,Wt,ms,ps,Us){var Zs=this.pdf.getImageProperties(_e),wr=1,vr=1,Xr=1,tt=1;Mt!==void 0&&ps!==void 0&&(Xr=ps/Mt,tt=Us/Rt,wr=Zs.width/Mt*ps/Mt,vr=Zs.height/Rt*Us/Rt),Wt===void 0&&(Wt=dt,ms=ht,dt=0,ht=0),Mt!==void 0&&ps===void 0&&(ps=Mt,Us=Rt),Mt===void 0&&ps===void 0&&(ps=Zs.width,Us=Zs.height);var cr=this.ctx.transform.decompose(),dn=Vt(cr.rotate.shx),ir=new ee,Ps=(ir=(ir=(ir=ir.multiply(cr.translate)).multiply(cr.skew)).multiply(cr.scale)).applyToRectangle(new q(Wt-dt*Xr,ms-ht*tt,Mt*wr,Rt*vr));if(this.autoPaging){for(var sn,jr=At.call(this,Ps),$r=[],Rr=0;Rr<jr.length;Rr+=1)$r.indexOf(jr[Rr])===-1&&$r.push(jr[Rr]);Dt($r);for(var Ca=$r[0],kn=$r[$r.length-1],Sr=Ca;Sr<kn+1;Sr++){this.pdf.setPage(Sr);var zn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Jr=Sr===1?this.posY+this.margin[0]:this.margin[0],Er=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qr=Sr===1?0:Er+(Sr-2)*nn;if(this.ctx.clip_path.length!==0){var xn=this.path;sn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yt(sn,this.posX+this.margin[3],-Qr+Jr+this.ctx.prevPageLastElemOffset),Ge.call(this,"fill",!0),this.path=xn}var Wn=JSON.parse(JSON.stringify(Ps));Wn=yt([Wn],this.posX+this.margin[3],-Qr+Jr+this.ctx.prevPageLastElemOffset)[0];var Sn=(Sr>Ca||Sr<kn)&&ot.call(this);Sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zn,nn,null).clip().discardPath()),this.pdf.addImage(_e,"JPEG",Wn.x,Wn.y,Wn.w,Wn.h,null,null,dn),Sn&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(_e,"JPEG",Ps.x,Ps.y,Ps.w,Ps.h,null,null,dn)};var At=function(_e,dt,ht){var Mt=[];dt=dt||this.pdf.internal.pageSize.width,ht=ht||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Rt=this.posY+this.ctx.prevPageLastElemOffset;switch(_e.type){default:case"mt":case"lt":Mt.push(Math.floor((_e.y+Rt)/ht)+1);break;case"arc":Mt.push(Math.floor((_e.y+Rt-_e.radius)/ht)+1),Mt.push(Math.floor((_e.y+Rt+_e.radius)/ht)+1);break;case"qct":var Wt=fs(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_e.x1,_e.y1,_e.x,_e.y);Mt.push(Math.floor((Wt.y+Rt)/ht)+1),Mt.push(Math.floor((Wt.y+Wt.h+Rt)/ht)+1);break;case"bct":var ms=Js(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_e.x1,_e.y1,_e.x2,_e.y2,_e.x,_e.y);Mt.push(Math.floor((ms.y+Rt)/ht)+1),Mt.push(Math.floor((ms.y+ms.h+Rt)/ht)+1);break;case"rect":Mt.push(Math.floor((_e.y+Rt)/ht)+1),Mt.push(Math.floor((_e.y+_e.h+Rt)/ht)+1)}for(var ps=0;ps<Mt.length;ps+=1)for(;this.pdf.internal.getNumberOfPages()<Mt[ps];)We.call(this);return Mt},We=function(){var _e=this.fillStyle,dt=this.strokeStyle,ht=this.font,Mt=this.lineCap,Rt=this.lineWidth,Wt=this.lineJoin;this.pdf.addPage(),this.fillStyle=_e,this.strokeStyle=dt,this.font=ht,this.lineCap=Mt,this.lineWidth=Rt,this.lineJoin=Wt},yt=function(_e,dt,ht){for(var Mt=0;Mt<_e.length;Mt++)switch(_e[Mt].type){case"bct":_e[Mt].x2+=dt,_e[Mt].y2+=ht;case"qct":_e[Mt].x1+=dt,_e[Mt].y1+=ht;default:_e[Mt].x+=dt,_e[Mt].y+=ht}return _e},Dt=function(_e){return _e.sort(function(dt,ht){return dt-ht})},pt=function(_e,dt){var ht=this.fillStyle,Mt=this.strokeStyle,Rt=this.lineCap,Wt=this.lineWidth,ms=Math.abs(Wt*this.ctx.transform.scaleX),ps=this.lineJoin;if(this.autoPaging){for(var Us,Zs,wr=JSON.parse(JSON.stringify(this.path)),vr=JSON.parse(JSON.stringify(this.path)),Xr=[],tt=0;tt<vr.length;tt++)if(vr[tt].x!==void 0)for(var cr=At.call(this,vr[tt]),dn=0;dn<cr.length;dn+=1)Xr.indexOf(cr[dn])===-1&&Xr.push(cr[dn]);for(var ir=0;ir<Xr.length;ir++)for(;this.pdf.internal.getNumberOfPages()<Xr[ir];)We.call(this);Dt(Xr);for(var Ps=Xr[0],sn=Xr[Xr.length-1],jr=Ps;jr<sn+1;jr++){this.pdf.setPage(jr),this.fillStyle=ht,this.strokeStyle=Mt,this.lineCap=Rt,this.lineWidth=ms,this.lineJoin=ps;var $r=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rr=jr===1?this.posY+this.margin[0]:this.margin[0],Ca=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Sr=jr===1?0:Ca+(jr-2)*kn;if(this.ctx.clip_path.length!==0){var zn=this.path;Us=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yt(Us,this.posX+this.margin[3],-Sr+Rr+this.ctx.prevPageLastElemOffset),Ge.call(this,_e,!0),this.path=zn}if(Zs=JSON.parse(JSON.stringify(wr)),this.path=yt(Zs,this.posX+this.margin[3],-Sr+Rr+this.ctx.prevPageLastElemOffset),dt===!1||jr===0){var Jr=(jr>Ps||jr<sn)&&ot.call(this);Jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$r,kn,null).clip().discardPath()),Ge.call(this,_e,dt),Jr&&this.pdf.restoreGraphicsState()}this.lineWidth=Wt}this.path=wr}else this.lineWidth=ms,Ge.call(this,_e,dt),this.lineWidth=Wt},Ge=function(_e,dt){if((_e!=="stroke"||dt||!ct.call(this))&&(_e==="stroke"||dt||!xe.call(this))){for(var ht,Mt,Rt=[],Wt=this.path,ms=0;ms<Wt.length;ms++){var ps=Wt[ms];switch(ps.type){case"begin":Rt.push({begin:!0});break;case"close":Rt.push({close:!0});break;case"mt":Rt.push({start:ps,deltas:[],abs:[]});break;case"lt":var Us=Rt.length;if(Wt[ms-1]&&!isNaN(Wt[ms-1].x)&&(ht=[ps.x-Wt[ms-1].x,ps.y-Wt[ms-1].y],Us>0)){for(;Us>=0;Us--)if(Rt[Us-1].close!==!0&&Rt[Us-1].begin!==!0){Rt[Us-1].deltas.push(ht),Rt[Us-1].abs.push(ps);break}}break;case"bct":ht=[ps.x1-Wt[ms-1].x,ps.y1-Wt[ms-1].y,ps.x2-Wt[ms-1].x,ps.y2-Wt[ms-1].y,ps.x-Wt[ms-1].x,ps.y-Wt[ms-1].y],Rt[Rt.length-1].deltas.push(ht);break;case"qct":var Zs=Wt[ms-1].x+2/3*(ps.x1-Wt[ms-1].x),wr=Wt[ms-1].y+2/3*(ps.y1-Wt[ms-1].y),vr=ps.x+2/3*(ps.x1-ps.x),Xr=ps.y+2/3*(ps.y1-ps.y),tt=ps.x,cr=ps.y;ht=[Zs-Wt[ms-1].x,wr-Wt[ms-1].y,vr-Wt[ms-1].x,Xr-Wt[ms-1].y,tt-Wt[ms-1].x,cr-Wt[ms-1].y],Rt[Rt.length-1].deltas.push(ht);break;case"arc":Rt.push({deltas:[],abs:[],arc:!0}),Array.isArray(Rt[Rt.length-1].abs)&&Rt[Rt.length-1].abs.push(ps)}}Mt=dt?null:_e==="stroke"?"stroke":"fill";for(var dn=!1,ir=0;ir<Rt.length;ir++)if(Rt[ir].arc)for(var Ps=Rt[ir].abs,sn=0;sn<Ps.length;sn++){var jr=Ps[sn];jr.type==="arc"?Ht.call(this,jr.x,jr.y,jr.radius,jr.startAngle,jr.endAngle,jr.counterclockwise,void 0,dt,!dn):gt.call(this,jr.x,jr.y),dn=!0}else if(Rt[ir].close===!0)this.pdf.internal.out("h"),dn=!1;else if(Rt[ir].begin!==!0){var $r=Rt[ir].start.x,Rr=Rt[ir].start.y;xt.call(this,Rt[ir].deltas,$r,Rr),dn=!0}Mt&&bt.call(this,Mt),dt&&es.call(this)}},Ft=function(_e){var dt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ht=dt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _e-ht;case"top":return _e+dt-ht;case"hanging":return _e+dt-2*ht;case"middle":return _e+dt/2-ht;default:return _e}},is=function(_e){return _e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ze.prototype.createLinearGradient=function(){var _e=function(){};return _e.colorStops=[],_e.addColorStop=function(dt,ht){this.colorStops.push([dt,ht])},_e.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_e.isCanvasGradient=!0,_e},ze.prototype.createPattern=function(){return this.createLinearGradient()},ze.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ht=function(_e,dt,ht,Mt,Rt,Wt,ms,ps,Us){for(var Zs=us.call(this,ht,Mt,Rt,Wt),wr=0;wr<Zs.length;wr++){var vr=Zs[wr];wr===0&&(Us?Ye.call(this,vr.x1+_e,vr.y1+dt):gt.call(this,vr.x1+_e,vr.y1+dt)),ss.call(this,_e,dt,vr.x2,vr.y2,vr.x3,vr.y3,vr.x4,vr.y4)}ps?es.call(this):bt.call(this,ms)},bt=function(_e){switch(_e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},es=function(){this.pdf.clip(),this.pdf.discardPath()},Ye=function(_e,dt){this.pdf.internal.out(S(_e)+" "+I(dt)+" m")},rt=function(_e){var dt;switch(_e.align){case"right":case"end":dt="right";break;case"center":dt="center";break;default:dt="left"}var ht,Mt,Rt,Wt=this.pdf.getTextDimensions(_e.text),ms=Ft.call(this,_e.y),ps=is.call(this,ms)-Wt.h,Us=this.ctx.transform.applyToPoint(new le(_e.x,ms));if(this.autoPaging){var Zs=this.ctx.transform.decompose(),wr=new ee;wr=(wr=(wr=wr.multiply(Zs.translate)).multiply(Zs.skew)).multiply(Zs.scale);for(var vr=this.ctx.transform.applyToRectangle(new q(_e.x,ms,Wt.w,Wt.h)),Xr=wr.applyToRectangle(new q(_e.x,ps,Wt.w,Wt.h)),tt=At.call(this,Xr),cr=[],dn=0;dn<tt.length;dn+=1)cr.indexOf(tt[dn])===-1&&cr.push(tt[dn]);Dt(cr);for(var ir=cr[0],Ps=cr[cr.length-1],sn=ir;sn<Ps+1;sn++){this.pdf.setPage(sn);var jr=sn===1?this.posY+this.margin[0]:this.margin[0],$r=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rr=this.pdf.internal.pageSize.height-this.margin[2],Ca=Rr-this.margin[0],kn=this.pdf.internal.pageSize.width-this.margin[1],Sr=kn-this.margin[3],zn=sn===1?0:$r+(sn-2)*Ca;if(this.ctx.clip_path.length!==0){var Jr=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yt(ht,this.posX+this.margin[3],-1*zn+jr),Ge.call(this,"fill",!0),this.path=Jr}var Er=yt([JSON.parse(JSON.stringify(Xr))],this.posX+this.margin[3],-zn+jr+this.ctx.prevPageLastElemOffset)[0];_e.scale>=.01&&(Mt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Mt*_e.scale),Rt=this.lineWidth,this.lineWidth=Rt*_e.scale);var nn=this.autoPaging!=="text";if(nn||Er.y+Er.h<=Rr){if(nn||Er.y>=jr&&Er.x<=kn){var Qr=nn?_e.text:this.pdf.splitTextToSize(_e.text,_e.maxWidth||kn-Er.x)[0],xn=yt([JSON.parse(JSON.stringify(vr))],this.posX+this.margin[3],-zn+jr+this.ctx.prevPageLastElemOffset)[0],Wn=nn&&(sn>ir||sn<Ps)&&ot.call(this);Wn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Sr,Ca,null).clip().discardPath()),this.pdf.text(Qr,xn.x,xn.y,{angle:_e.angle,align:dt,renderingMode:_e.renderingMode}),Wn&&this.pdf.restoreGraphicsState()}}else Er.y<Rr&&(this.ctx.prevPageLastElemOffset+=Rr-Er.y);_e.scale>=.01&&(this.pdf.setFontSize(Mt),this.lineWidth=Rt)}}else _e.scale>=.01&&(Mt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Mt*_e.scale),Rt=this.lineWidth,this.lineWidth=Rt*_e.scale),this.pdf.text(_e.text,Us.x+this.posX,Us.y+this.posY,{angle:_e.angle,align:dt,renderingMode:_e.renderingMode,maxWidth:_e.maxWidth}),_e.scale>=.01&&(this.pdf.setFontSize(Mt),this.lineWidth=Rt)},gt=function(_e,dt,ht,Mt){ht=ht||0,Mt=Mt||0,this.pdf.internal.out(S(_e+ht)+" "+I(dt+Mt)+" l")},xt=function(_e,dt,ht){return this.pdf.lines(_e,dt,ht,null,null)},ss=function(_e,dt,ht,Mt,Rt,Wt,ms,ps){this.pdf.internal.out([b(R(ht+_e)),b(V(Mt+dt)),b(R(Rt+_e)),b(V(Wt+dt)),b(R(ms+_e)),b(V(ps+dt)),"c"].join(" "))},us=function(_e,dt,ht,Mt){for(var Rt=2*Math.PI,Wt=Math.PI/2;dt>ht;)dt-=Rt;var ms=Math.abs(ht-dt);ms<Rt&&Mt&&(ms=Rt-ms);for(var ps=[],Us=Mt?-1:1,Zs=dt;ms>1e-5;){var wr=Zs+Us*Math.min(ms,Wt);ps.push(xs.call(this,_e,Zs,wr)),ms-=Math.abs(wr-Zs),Zs=wr}return ps},xs=function(_e,dt,ht){var Mt=(ht-dt)/2,Rt=_e*Math.cos(Mt),Wt=_e*Math.sin(Mt),ms=Rt,ps=-Wt,Us=ms*ms+ps*ps,Zs=Us+ms*Rt+ps*Wt,wr=4/3*(Math.sqrt(2*Us*Zs)-Zs)/(ms*Wt-ps*Rt),vr=ms-wr*ps,Xr=ps+wr*ms,tt=vr,cr=-Xr,dn=Mt+dt,ir=Math.cos(dn),Ps=Math.sin(dn);return{x1:_e*Math.cos(dt),y1:_e*Math.sin(dt),x2:vr*ir-Xr*Ps,y2:vr*Ps+Xr*ir,x3:tt*ir-cr*Ps,y3:tt*Ps+cr*ir,x4:_e*Math.cos(ht),y4:_e*Math.sin(ht)}},Vt=function(_e){return 180*_e/Math.PI},fs=function(_e,dt,ht,Mt,Rt,Wt){var ms=_e+.5*(ht-_e),ps=dt+.5*(Mt-dt),Us=Rt+.5*(ht-Rt),Zs=Wt+.5*(Mt-Wt),wr=Math.min(_e,Rt,ms,Us),vr=Math.max(_e,Rt,ms,Us),Xr=Math.min(dt,Wt,ps,Zs),tt=Math.max(dt,Wt,ps,Zs);return new q(wr,Xr,vr-wr,tt-Xr)},Js=function(_e,dt,ht,Mt,Rt,Wt,ms,ps){var Us,Zs,wr,vr,Xr,tt,cr,dn,ir,Ps,sn,jr,$r,Rr,Ca=ht-_e,kn=Mt-dt,Sr=Rt-ht,zn=Wt-Mt,Jr=ms-Rt,Er=ps-Wt;for(Zs=0;Zs<41;Zs++)ir=(cr=(wr=_e+(Us=Zs/40)*Ca)+Us*((Xr=ht+Us*Sr)-wr))+Us*(Xr+Us*(Rt+Us*Jr-Xr)-cr),Ps=(dn=(vr=dt+Us*kn)+Us*((tt=Mt+Us*zn)-vr))+Us*(tt+Us*(Wt+Us*Er-tt)-dn),Zs==0?(sn=ir,jr=Ps,$r=ir,Rr=Ps):(sn=Math.min(sn,ir),jr=Math.min(jr,Ps),$r=Math.max($r,ir),Rr=Math.max(Rr,Ps));return new q(Math.round(sn),Math.round(jr),Math.round($r-sn),Math.round(Rr-jr))},_s=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _e,dt,ht=(_e=this.ctx.lineDash,dt=this.ctx.lineDashOffset,JSON.stringify({lineDash:_e,lineDashOffset:dt}));this.prevLineDash!==ht&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ht)}}})(et.API),(function(N){var b=function(le){var q,ee,je,Le,ze,Xe,xe,ct,ot,At;for(ee=[],je=0,Le=(le+=q="\0\0\0\0".slice(le.length%4||4)).length;Le>je;je+=4)(ze=(le.charCodeAt(je)<<24)+(le.charCodeAt(je+1)<<16)+(le.charCodeAt(je+2)<<8)+le.charCodeAt(je+3))!==0?(Xe=(ze=((ze=((ze=((ze=(ze-(At=ze%85))/85)-(ot=ze%85))/85)-(ct=ze%85))/85)-(xe=ze%85))/85)%85,ee.push(Xe+33,xe+33,ct+33,ot+33,At+33)):ee.push(122);return(function(We,yt){for(var Dt=yt;Dt>0;Dt--)We.pop()})(ee,q.length),String.fromCharCode.apply(String,ee)+"~>"},S=function(le){var q,ee,je,Le,ze,Xe=String,xe="length",ct=255,ot="charCodeAt",At="slice",We="replace";for(le[At](-2),le=le[At](0,-2)[We](/\s/g,"")[We]("z","!!!!!"),je=[],Le=0,ze=(le+=q="uuuuu"[At](le[xe]%5||5))[xe];ze>Le;Le+=5)ee=52200625*(le[ot](Le)-33)+614125*(le[ot](Le+1)-33)+7225*(le[ot](Le+2)-33)+85*(le[ot](Le+3)-33)+(le[ot](Le+4)-33),je.push(ct&ee>>24,ct&ee>>16,ct&ee>>8,ct&ee);return(function(yt,Dt){for(var pt=Dt;pt>0;pt--)yt.pop()})(je,q[xe]),Xe.fromCharCode.apply(Xe,je)},I=function(le){return le.split("").map(function(q){return("0"+q.charCodeAt().toString(16)).slice(-2)}).join("")+">"},R=function(le){var q=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((le=le.replace(/\s/g,"")).indexOf(">")!==-1&&(le=le.substr(0,le.indexOf(">"))),le.length%2&&(le+="0"),q.test(le)===!1)return"";for(var ee="",je=0;je<le.length;je+=2)ee+=String.fromCharCode("0x"+(le[je]+le[je+1]));return ee},V=function(le){for(var q=new Uint8Array(le.length),ee=le.length;ee--;)q[ee]=le.charCodeAt(ee);return(q=(0,m.zlibSync)(q)).reduce(function(je,Le){return je+String.fromCharCode(Le)},"")};N.processDataByFilters=function(le,q){var ee=0,je=le||"",Le=[];for(typeof(q=q||[])=="string"&&(q=[q]),ee=0;ee<q.length;ee+=1)switch(q[ee]){case"ASCII85Decode":case"/ASCII85Decode":je=S(je),Le.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":je=b(je),Le.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":je=R(je),Le.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":je=I(je),Le.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":je=V(je),Le.push("/FlateDecode");break;default:throw new Error('The filter: "'+q[ee]+'" is not implemented')}return{data:je,reverseChain:Le.reverse().join(" ")}}})(et.API),(function(N){N.loadFile=function(b,S,I){return(function(R,V,le){V=V!==!1,le=typeof le=="function"?le:function(){};var q=void 0;try{q=(function(ee,je,Le){var ze=new XMLHttpRequest,Xe=0,xe=function(ct){var ot=ct.length,At=[],We=String.fromCharCode;for(Xe=0;Xe<ot;Xe+=1)At.push(We(255&ct.charCodeAt(Xe)));return At.join("")};if(ze.open("GET",ee,!je),ze.overrideMimeType("text/plain; charset=x-user-defined"),je===!1&&(ze.onload=function(){ze.status===200?Le(xe(this.responseText)):Le(void 0)}),ze.send(null),je&&ze.status===200)return xe(ze.responseText)})(R,V,le)}catch{}return q})(b,S,I)},N.allowFsRead=void 0,N.loadImageFile=N.loadFile})(et.API),(function(N){function b(){return(v.html2canvas?Promise.resolve(v.html2canvas):Promise.resolve().then(o.t.bind(o,"html2canvas",23))).catch(function(q){return Promise.reject(new Error("Could not load html2canvas: "+q))}).then(function(q){return q.default?q.default:q})}function S(){return(v.DOMPurify?Promise.resolve(v.DOMPurify):Promise.resolve().then(o.bind(o,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(q){return Promise.reject(new Error("Could not load dompurify: "+q))}).then(function(q){return q.default?q.default:q})}var I=function(q){var ee=(0,f.default)(q);return ee==="undefined"?"undefined":ee==="string"||q instanceof String?"string":ee==="number"||q instanceof Number?"number":ee==="function"||q instanceof Function?"function":q&&q.constructor===Array?"array":q&&q.nodeType===1?"element":ee==="object"?"object":"unknown"},R=function(q,ee){var je=document.createElement(q);for(var Le in ee.className&&(je.className=ee.className),ee.innerHTML&&ee.dompurify&&(je.innerHTML=ee.dompurify.sanitize(ee.innerHTML)),ee.style)je.style[Le]=ee.style[Le];return je},V=function q(ee,je){for(var Le=ee.nodeType===3?document.createTextNode(ee.nodeValue):ee.cloneNode(!1),ze=ee.firstChild;ze;ze=ze.nextSibling)je!==!0&&ze.nodeType===1&&ze.nodeName==="SCRIPT"||Le.appendChild(q(ze,je));return ee.nodeType===1&&(ee.nodeName==="CANVAS"?(Le.width=ee.width,Le.height=ee.height,Le.getContext("2d").drawImage(ee,0,0)):ee.nodeName!=="TEXTAREA"&&ee.nodeName!=="SELECT"||(Le.value=ee.value),Le.addEventListener("load",function(){Le.scrollTop=ee.scrollTop,Le.scrollLeft=ee.scrollLeft},!0)),Le},le=function q(ee){var je=Object.assign(q.convert(Promise.resolve()),JSON.parse(JSON.stringify(q.template))),Le=q.convert(Promise.resolve(),je);return(Le=Le.setProgress(1,q,1,[q])).set(ee)};(le.prototype=Object.create(Promise.prototype)).constructor=le,le.convert=function(q,ee){return q.__proto__=ee||le.prototype,q},le.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},le.prototype.from=function(q,ee){return this.then(function(){switch(ee=ee||(function(je){switch(I(je)){case"string":return"string";case"element":return je.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(q),ee){case"string":return this.then(S).then(function(je){return this.set({src:R("div",{innerHTML:q,dompurify:je})})});case"element":return this.set({src:q});case"canvas":return this.set({canvas:q});case"img":return this.set({img:q});default:return this.error("Unknown source type.")}})},le.prototype.to=function(q){switch(q){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},le.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var q={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ee=V(this.prop.src,this.opt.html2canvas.javascriptEnabled);ee.tagName==="BODY"&&(q.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=R("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=R("div",{className:"html2pdf__container",style:q}),this.prop.container.appendChild(ee),this.prop.container.firstChild.appendChild(R("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},le.prototype.toCanvas=function(){var q=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(q).then(b).then(function(ee){var je=Object.assign({},this.opt.html2canvas);return delete je.onrendered,ee(this.prop.container,je)}).then(function(ee){(this.opt.html2canvas.onrendered||function(){})(ee),this.prop.canvas=ee,document.body.removeChild(this.prop.overlay)})},le.prototype.toContext2d=function(){var q=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(q).then(b).then(function(ee){var je=this.opt.jsPDF,Le=this.opt.fontFaces,ze=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Xe=Object.assign({async:!0,allowTaint:!0,scale:ze,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Xe.onrendered,je.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,je.context2d.posX=this.opt.x,je.context2d.posY=this.opt.y,je.context2d.margin=this.opt.margin,je.context2d.fontFaces=Le,Le)for(var xe=0;xe<Le.length;++xe){var ct=Le[xe],ot=ct.src.find(function(At){return At.format==="truetype"});ot&&je.addFont(ot.url,ct.ref.name,ct.ref.style)}return Xe.windowHeight=Xe.windowHeight||0,Xe.windowHeight=Xe.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Xe.windowHeight,je.context2d.save(!0),ee(this.prop.container,Xe)}).then(function(ee){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ee),this.prop.canvas=ee,document.body.removeChild(this.prop.overlay)})},le.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var q=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=q})},le.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},le.prototype.output=function(q,ee,je){return(je=je||"pdf").toLowerCase()==="img"||je.toLowerCase()==="image"?this.outputImg(q,ee):this.outputPdf(q,ee)},le.prototype.outputPdf=function(q,ee){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(q,ee)})},le.prototype.outputImg=function(q){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(q){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+q+'" is not supported.'}})},le.prototype.save=function(q){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(q?{filename:q}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},le.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},le.prototype.set=function(q){if(I(q)!=="object")return this;var ee=Object.keys(q||{}).map(function(je){if(je in le.template.prop)return function(){this.prop[je]=q[je]};switch(je){case"margin":return this.setMargin.bind(this,q.margin);case"jsPDF":return function(){return this.opt.jsPDF=q.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,q.pageSize);default:return function(){this.opt[je]=q[je]}}},this);return this.then(function(){return this.thenList(ee)})},le.prototype.get=function(q,ee){return this.then(function(){var je=q in le.template.prop?this.prop[q]:this.opt[q];return ee?ee(je):je})},le.prototype.setMargin=function(q){return this.then(function(){switch(I(q)){case"number":q=[q,q,q,q];case"array":if(q.length===2&&(q=[q[0],q[1],q[0],q[1]]),q.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=q}).then(this.setPageSize)},le.prototype.setPageSize=function(q){function ee(je,Le){return Math.floor(je*Le/72*96)}return this.then(function(){(q=q||et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(q.inner={width:q.width-this.opt.margin[1]-this.opt.margin[3],height:q.height-this.opt.margin[0]-this.opt.margin[2]},q.inner.px={width:ee(q.inner.width,q.k),height:ee(q.inner.height,q.k)},q.inner.ratio=q.inner.height/q.inner.width),this.prop.pageSize=q})},le.prototype.setProgress=function(q,ee,je,Le){return q!=null&&(this.progress.val=q),ee!=null&&(this.progress.state=ee),je!=null&&(this.progress.n=je),Le!=null&&(this.progress.stack=Le),this.progress.ratio=this.progress.val/this.progress.state,this},le.prototype.updateProgress=function(q,ee,je,Le){return this.setProgress(q?this.progress.val+q:null,ee||null,je?this.progress.n+je:null,Le?this.progress.stack.concat(Le):null)},le.prototype.then=function(q,ee){var je=this;return this.thenCore(q,ee,function(Le,ze){return je.updateProgress(null,null,1,[Le]),Promise.prototype.then.call(this,function(Xe){return je.updateProgress(null,Le),Xe}).then(Le,ze).then(function(Xe){return je.updateProgress(1),Xe})})},le.prototype.thenCore=function(q,ee,je){je=je||Promise.prototype.then;var Le=this;q&&(q=q.bind(Le)),ee&&(ee=ee.bind(Le));var ze=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Le:le.convert(Object.assign({},Le),Promise.prototype),Xe=je.call(ze,q,ee);return le.convert(Xe,Le.__proto__)},le.prototype.thenExternal=function(q,ee){return Promise.prototype.then.call(this,q,ee)},le.prototype.thenList=function(q){var ee=this;return q.forEach(function(je){ee=ee.thenCore(je)}),ee},le.prototype.catch=function(q){q&&(q=q.bind(this));var ee=Promise.prototype.catch.call(this,q);return le.convert(ee,this)},le.prototype.catchExternal=function(q){return Promise.prototype.catch.call(this,q)},le.prototype.error=function(q){return this.then(function(){throw new Error(q)})},le.prototype.using=le.prototype.set,le.prototype.saveAs=le.prototype.save,le.prototype.export=le.prototype.output,le.prototype.run=le.prototype.then,et.getPageSize=function(q,ee,je){if((0,f.default)(q)==="object"){var Le=q;q=Le.orientation,ee=Le.unit||ee,je=Le.format||je}ee=ee||"mm",je=je||"a4",q=(""+(q||"P")).toLowerCase();var ze,Xe=(""+je).toLowerCase(),xe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ee){case"pt":ze=1;break;case"mm":ze=2.834645669291339;break;case"cm":ze=28.346456692913385;break;case"in":ze=72;break;case"px":ze=.75;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:throw"Invalid unit: "+ee}var ct,ot=0,At=0;if(xe.hasOwnProperty(Xe))ot=xe[Xe][1]/ze,At=xe[Xe][0]/ze;else try{ot=je[1],At=je[0]}catch{throw new Error("Invalid format: "+je)}if(q==="p"||q==="portrait")q="p",At>ot&&(ct=At,At=ot,ot=ct);else{if(q!=="l"&&q!=="landscape")throw"Invalid orientation: "+q;q="l",ot>At&&(ct=At,At=ot,ot=ct)}return{width:At,height:ot,unit:ee,k:ze,orientation:q}},N.html=function(q,ee){(ee=ee||{}).callback=ee.callback||function(){},ee.html2canvas=ee.html2canvas||{},ee.html2canvas.canvas=ee.html2canvas.canvas||this.canvas,ee.jsPDF=ee.jsPDF||this,ee.fontFaces=ee.fontFaces?ee.fontFaces.map(ga):null;var je=new le(ee);return ee.worker?je:je.from(q).doCallback()}})(et.API),et.API.addJS=function(N){return ji=N,this.internal.events.subscribe("postPutResources",function(){uo=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(uo+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),fa=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ji+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){uo!==void 0&&fa!==void 0&&this.internal.out("/Names <</JavaScript "+uo+" 0 R>>")}),this},(function(N){var b;N.events.push(["postPutResources",function(){var S=this,I=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var R=S.outline.render().split(/\r\n/),V=0;V<R.length;V++){var le=R[V],q=I.exec(le);if(q!=null){var ee=q[1];S.internal.newObjectDeferredBegin(ee,!1)}S.internal.write(le)}if(this.outline.createNamedDestinations){var je=this.internal.pages.length,Le=[];for(V=0;V<je;V++){var ze=S.internal.newObject();Le.push(ze);var Xe=S.internal.getPageInfo(V+1);S.internal.write("<< /D["+Xe.objId+" 0 R /XYZ null null null]>> endobj")}var xe=S.internal.newObject();for(S.internal.write("<< /Names [ "),V=0;V<Le.length;V++)S.internal.write("(page_"+(V+1)+")"+Le[V]+" 0 R");S.internal.write(" ] >>","endobj"),b=S.internal.newObject(),S.internal.write("<< /Dests "+xe+" 0 R"),S.internal.write(">>","endobj")}}]),N.events.push(["putCatalog",function(){var S=this;S.outline.root.children.length>0&&(S.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&S.internal.write("/Names "+b+" 0 R"))}]),N.events.push(["initialized",function(){var S=this;S.outline={createNamedDestinations:!1,root:{children:[]}},S.outline.add=function(I,R,V){var le={title:R,options:V,children:[]};return I==null&&(I=this.root),I.children.push(le),le},S.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=S,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},S.outline.genIds_r=function(I){I.id=S.internal.newObjectDeferred();for(var R=0;R<I.children.length;R++)this.genIds_r(I.children[R])},S.outline.renderRoot=function(I){this.objStart(I),this.line("/Type /Outlines"),I.children.length>0&&(this.line("/First "+this.makeRef(I.children[0])),this.line("/Last "+this.makeRef(I.children[I.children.length-1]))),this.line("/Count "+this.count_r({count:0},I)),this.objEnd()},S.outline.renderItems=function(I){for(var R=this.ctx.pdf.internal.getVerticalCoordinateString,V=0;V<I.children.length;V++){var le=I.children[V];this.objStart(le),this.line("/Title "+this.makeString(le.title)),this.line("/Parent "+this.makeRef(I)),V>0&&this.line("/Prev "+this.makeRef(I.children[V-1])),V<I.children.length-1&&this.line("/Next "+this.makeRef(I.children[V+1])),le.children.length>0&&(this.line("/First "+this.makeRef(le.children[0])),this.line("/Last "+this.makeRef(le.children[le.children.length-1])));var q=this.count=this.count_r({count:0},le);if(q>0&&this.line("/Count "+q),le.options&&le.options.pageNumber){var ee=S.internal.getPageInfo(le.options.pageNumber);this.line("/Dest ["+ee.objId+" 0 R /XYZ 0 "+R(0)+" 0]")}this.objEnd()}for(var je=0;je<I.children.length;je++)this.renderItems(I.children[je])},S.outline.line=function(I){this.ctx.val+=I+`\r
`},S.outline.makeRef=function(I){return I.id+" 0 R"},S.outline.makeString=function(I){return"("+S.internal.pdfEscape(I)+")"},S.outline.objStart=function(I){this.ctx.val+=`\r
`+I.id+` 0 obj\r
<<\r
`},S.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},S.outline.count_r=function(I,R){for(var V=0;V<R.children.length;V++)I.count++,this.count_r(I,R.children[V]);return I.count}}])})(et.API),(function(N){var b=[192,193,194,195,196,197,198,199];N.processJPEG=function(S,I,R,V,le,q){var ee,je=this.decode.DCT_DECODE,Le=null;if(typeof S=="string"||this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S)){switch(S=le||S,S=this.__addimage__.isArrayBuffer(S)?new Uint8Array(S):S,ee=(function(ze){for(var Xe,xe=256*ze.charCodeAt(4)+ze.charCodeAt(5),ct=ze.length,ot={width:0,height:0,numcomponents:1},At=4;At<ct;At+=2){if(At+=xe,b.indexOf(ze.charCodeAt(At+1))!==-1){Xe=256*ze.charCodeAt(At+5)+ze.charCodeAt(At+6),ot={width:256*ze.charCodeAt(At+7)+ze.charCodeAt(At+8),height:Xe,numcomponents:ze.charCodeAt(At+9)};break}xe=256*ze.charCodeAt(At+2)+ze.charCodeAt(At+3)}return ot})(S=this.__addimage__.isArrayBufferView(S)?this.__addimage__.arrayBufferToBinaryString(S):S),ee.numcomponents){case 1:q=this.color_spaces.DEVICE_GRAY;break;case 4:q=this.color_spaces.DEVICE_CMYK;break;case 3:q=this.color_spaces.DEVICE_RGB}Le={data:S,width:ee.width,height:ee.height,colorSpace:q,bitsPerComponent:8,filter:je,index:I,alias:R}}return Le}})(et.API),et.API.processPNG=function(N,b,S,I){if(this.__addimage__.isArrayBuffer(N)&&(N=new Uint8Array(N)),this.__addimage__.isArrayBufferView(N)){var R,V=(0,x.decode)(N,{checkCrc:!0}),le=V.width,q=V.height,ee=V.channels,je=V.palette,Le=V.depth;R=je&&ee===1?(function(Ht){for(var bt=Ht.width,es=Ht.height,Ye=Ht.data,rt=Ht.palette,gt=Ht.depth,xt=!1,ss=[],us=[],xs=void 0,Vt=!1,fs=0,Js=0;Js<rt.length;Js++){var _s=(0,p.default)(rt[Js],4),_e=_s[0],dt=_s[1],ht=_s[2],Mt=_s[3];ss.push(_e,dt,ht),Mt!=null&&(Mt===0?(fs++,us.length<1&&us.push(Js)):Mt<255&&(Vt=!0))}if(Vt||fs>1){xt=!0,us=void 0;var Rt=bt*es;xs=new Uint8Array(Rt);for(var Wt=new DataView(Ye.buffer),ms=0;ms<Rt;ms++){var ps=Ai(Wt,ms,gt),Us=(0,p.default)(rt[ps],4)[3];xs[ms]=Us}}else fs===0&&(us=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:xt?8:void 0,colorBytes:Ye,alphaBytes:xs,needSMask:xt,palette:ss,mask:us}})(V):ee===2||ee===4?(function(Ht){for(var bt=Ht.data,es=Ht.width,Ye=Ht.height,rt=Ht.channels,gt=Ht.depth,xt=rt===2?"DeviceGray":"DeviceRGB",ss=rt-1,us=es*Ye,xs=ss,Vt=us*xs,fs=1*us,Js=Math.ceil(Vt*gt/8),_s=Math.ceil(fs*gt/8),_e=new Uint8Array(Js),dt=new Uint8Array(_s),ht=new DataView(bt.buffer),Mt=new DataView(_e.buffer),Rt=new DataView(dt.buffer),Wt=!1,ms=0;ms<us;ms++){for(var ps=ms*rt,Us=0;Us<xs;Us++)Yr(Mt,Ai(ht,ps+Us,gt),ms*xs+Us,gt);var Zs=Ai(ht,ps+xs,gt);Zs<(1<<gt)-1&&(Wt=!0),Yr(Rt,Zs,1*ms,gt)}return{colorSpace:xt,colorsPerPixel:ss,sMaskBitsPerComponent:Wt?gt:void 0,colorBytes:_e,alphaBytes:dt,needSMask:Wt}})(V):(function(Ht){var bt=Ht.data,es=Ht.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:es,colorsPerPixel:es==="DeviceGray"?1:3,colorBytes:bt instanceof Uint16Array?(function(Ye){for(var rt=Ye.length,gt=new Uint8Array(2*rt),xt=new DataView(gt.buffer,gt.byteOffset,gt.byteLength),ss=0;ss<rt;ss++)xt.setUint16(2*ss,Ye[ss],!1);return gt})(bt):bt,needSMask:!1}})(V);var ze,Xe,xe,ct=R,ot=ct.colorSpace,At=ct.colorsPerPixel,We=ct.sMaskBitsPerComponent,yt=ct.colorBytes,Dt=ct.alphaBytes,pt=ct.needSMask,Ge=ct.palette,Ft=ct.mask,is=null;return I!==et.API.image_compression.NONE&&typeof m.zlibSync=="function"?(is=(function(Ht){var bt;switch(Ht){case et.API.image_compression.FAST:bt=11;break;case et.API.image_compression.MEDIUM:bt=13;break;case et.API.image_compression.SLOW:bt=14;break;default:bt=12}return bt})(I),ze=this.decode.FLATE_DECODE,Xe="/Predictor ".concat(is," /Colors ").concat(At," /BitsPerComponent ").concat(Le," /Columns ").concat(le),N=ul(yt,Math.ceil(le*At*Le/8),At,Le,I),pt&&(xe=ul(Dt,Math.ceil(le*We/8),1,We,I))):(ze=void 0,Xe=void 0,N=yt,pt&&(xe=Dt)),(this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),(xe&&this.__addimage__.isArrayBuffer(xe)||this.__addimage__.isArrayBufferView(xe))&&(xe=this.__addimage__.arrayBufferToBinaryString(xe)),{alias:S,data:N,index:b,filter:ze,decodeParameters:Xe,transparency:Ft,palette:Ge,sMask:xe,predictor:is,width:le,height:q,bitsPerComponent:Le,sMaskBitsPerComponent:We,colorSpace:ot}}},(function(N){N.processGIF89A=function(b,S,I,R){var V=new Ci(b),le=V.width,q=V.height,ee=[];V.decodeAndBlitFrameRGBA(0,ee);var je={data:ee,width:le,height:q},Le=new fo(100).encode(je,100);return N.processJPEG.call(this,Le,S,I,R)},N.processGIF87A=N.processGIF89A})(et.API),Gn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var N=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(N);for(var b=0;b<N;b++){var S=this.datav.getUint8(this.pos++,!0),I=this.datav.getUint8(this.pos++,!0),R=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0);this.palette[b]={red:R,green:I,blue:S,quad:V}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Gn.prototype.parseBGR=function(){this.pos=this.offset;try{var N="bit"+this.bitPP,b=this.width*this.height*4;this.data=new Uint8Array(b),this[N]()}catch(S){w.log("bit decode error:"+S)}},Gn.prototype.bit1=function(){var N,b=Math.ceil(this.width/8),S=b%4;for(N=this.height-1;N>=0;N--){for(var I=this.bottom_up?N:this.height-1-N,R=0;R<b;R++)for(var V=this.datav.getUint8(this.pos++,!0),le=I*this.width*4+8*R*4,q=0;q<8&&8*R+q<this.width;q++){var ee=this.palette[V>>7-q&1];this.data[le+4*q]=ee.blue,this.data[le+4*q+1]=ee.green,this.data[le+4*q+2]=ee.red,this.data[le+4*q+3]=255}S!==0&&(this.pos+=4-S)}},Gn.prototype.bit4=function(){for(var N=Math.ceil(this.width/2),b=N%4,S=this.height-1;S>=0;S--){for(var I=this.bottom_up?S:this.height-1-S,R=0;R<N;R++){var V=this.datav.getUint8(this.pos++,!0),le=I*this.width*4+2*R*4,q=V>>4,ee=15&V,je=this.palette[q];if(this.data[le]=je.blue,this.data[le+1]=je.green,this.data[le+2]=je.red,this.data[le+3]=255,2*R+1>=this.width)break;je=this.palette[ee],this.data[le+4]=je.blue,this.data[le+4+1]=je.green,this.data[le+4+2]=je.red,this.data[le+4+3]=255}b!==0&&(this.pos+=4-b)}},Gn.prototype.bit8=function(){for(var N=this.width%4,b=this.height-1;b>=0;b--){for(var S=this.bottom_up?b:this.height-1-b,I=0;I<this.width;I++){var R=this.datav.getUint8(this.pos++,!0),V=S*this.width*4+4*I;if(R<this.palette.length){var le=this.palette[R];this.data[V]=le.red,this.data[V+1]=le.green,this.data[V+2]=le.blue,this.data[V+3]=255}else this.data[V]=255,this.data[V+1]=255,this.data[V+2]=255,this.data[V+3]=255}N!==0&&(this.pos+=4-N)}},Gn.prototype.bit15=function(){for(var N=this.width%3,b=parseInt("11111",2),S=this.height-1;S>=0;S--){for(var I=this.bottom_up?S:this.height-1-S,R=0;R<this.width;R++){var V=this.datav.getUint16(this.pos,!0);this.pos+=2;var le=(V&b)/b*255|0,q=(V>>5&b)/b*255|0,ee=(V>>10&b)/b*255|0,je=V>>15?255:0,Le=I*this.width*4+4*R;this.data[Le]=ee,this.data[Le+1]=q,this.data[Le+2]=le,this.data[Le+3]=je}this.pos+=N}},Gn.prototype.bit16=function(){for(var N=this.width%3,b=parseInt("11111",2),S=parseInt("111111",2),I=this.height-1;I>=0;I--){for(var R=this.bottom_up?I:this.height-1-I,V=0;V<this.width;V++){var le=this.datav.getUint16(this.pos,!0);this.pos+=2;var q=(le&b)/b*255|0,ee=(le>>5&S)/S*255|0,je=(le>>11)/b*255|0,Le=R*this.width*4+4*V;this.data[Le]=je,this.data[Le+1]=ee,this.data[Le+2]=q,this.data[Le+3]=255}this.pos+=N}},Gn.prototype.bit24=function(){for(var N=this.height-1;N>=0;N--){for(var b=this.bottom_up?N:this.height-1-N,S=0;S<this.width;S++){var I=this.datav.getUint8(this.pos++,!0),R=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0),le=b*this.width*4+4*S;this.data[le]=V,this.data[le+1]=R,this.data[le+2]=I,this.data[le+3]=255}this.pos+=this.width%4}},Gn.prototype.bit32=function(){for(var N=this.height-1;N>=0;N--)for(var b=this.bottom_up?N:this.height-1-N,S=0;S<this.width;S++){var I=this.datav.getUint8(this.pos++,!0),R=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0),le=this.datav.getUint8(this.pos++,!0),q=b*this.width*4+4*S;this.data[q]=V,this.data[q+1]=R,this.data[q+2]=I,this.data[q+3]=le}},Gn.prototype.getData=function(){return this.data},(function(N){N.processBMP=function(b,S,I,R){var V=new Gn(b,!1),le=V.width,q=V.height,ee={data:V.getData(),width:le,height:q},je=new fo(100).encode(ee,100);return N.processJPEG.call(this,je,S,I,R)}})(et.API),Ki.prototype.getData=function(){return this.data},(function(N){N.processWEBP=function(b,S,I,R){var V=new Ki(b),le=V.width,q=V.height,ee={data:V.getData(),width:le,height:q},je=new fo(100).encode(ee,100);return N.processJPEG.call(this,je,S,I,R)}})(et.API),et.API.processRGBA=function(N,b,S){for(var I=N.data,R=I.length,V=new Uint8Array(R/4*3),le=new Uint8Array(R/4),q=0,ee=0,je=0;je<R;je+=4){var Le=I[je],ze=I[je+1],Xe=I[je+2],xe=I[je+3];V[q++]=Le,V[q++]=ze,V[q++]=Xe,le[ee++]=xe}var ct=this.__addimage__.arrayBufferToBinaryString(V);return{alpha:this.__addimage__.arrayBufferToBinaryString(le),data:ct,index:b,alias:S,colorSpace:"DeviceRGB",bitsPerComponent:8,width:N.width,height:N.height}},et.API.setLanguage=function(N){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[N]!==void 0&&(this.internal.languageSettings.languageCode=N,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sa=et.API,Ta=sa.getCharWidthsArray=function(N,b){var S,I,R=(b=b||{}).font||this.internal.getFont(),V=b.fontSize||this.internal.getFontSize(),le=b.charSpace||this.internal.getCharSpace(),q=b.widths?b.widths:R.metadata.Unicode.widths,ee=q.fof?q.fof:1,je=b.kerning?b.kerning:R.metadata.Unicode.kerning,Le=je.fof?je.fof:1,ze=b.doKerning!==!1,Xe=0,xe=N.length,ct=0,ot=q[0]||ee,At=[];for(S=0;S<xe;S++)I=N.charCodeAt(S),typeof R.metadata.widthOfString=="function"?At.push((R.metadata.widthOfGlyph(R.metadata.characterToGlyph(I))+le*(1e3/V)||0)/1e3):(Xe=ze&&(0,f.default)(je[I])==="object"&&!isNaN(parseInt(je[I][ct],10))?je[I][ct]/Le:0,At.push((q[I]||ot)/ee+Xe)),ct=I;return At},qn=sa.getStringUnitWidth=function(N,b){var S=(b=b||{}).fontSize||this.internal.getFontSize(),I=b.font||this.internal.getFont(),R=b.charSpace||this.internal.getCharSpace();return sa.processArabic&&(N=sa.processArabic(N)),typeof I.metadata.widthOfString=="function"?I.metadata.widthOfString(N,S,R)/S:Ta.apply(this,arguments).reduce(function(V,le){return V+le},0)},Ao=function(N,b,S,I){for(var R=[],V=0,le=N.length,q=0;V!==le&&q+b[V]<S;)q+=b[V],V++;R.push(N.slice(0,V));var ee=V;for(q=0;V!==le;)q+b[V]>I&&(R.push(N.slice(ee,V)),q=0,ee=V),q+=b[V],V++;return ee!==V&&R.push(N.slice(ee,V)),R},ui=function(N,b,S){S||(S={});var I,R,V,le,q,ee,je,Le=[],ze=[Le],Xe=S.textIndent||0,xe=0,ct=0,ot=N.split(" "),At=Ta.apply(this,[" ",S])[0];if(ee=S.lineIndent===-1?ot[0].length+2:S.lineIndent||0){var We=Array(ee).join(" "),yt=[];ot.map(function(pt){(pt=pt.split(/\s*\n/)).length>1?yt=yt.concat(pt.map(function(Ge,Ft){return(Ft&&Ge.length?`
`:"")+Ge})):yt.push(pt[0])}),ot=yt,ee=qn.apply(this,[We,S])}for(V=0,le=ot.length;V<le;V++){var Dt=0;if(I=ot[V],ee&&I[0]==`
`&&(I=I.substr(1),Dt=1),Xe+xe+(ct=(R=Ta.apply(this,[I,S])).reduce(function(pt,Ge){return pt+Ge},0))>b||Dt){if(ct>b){for(q=Ao.apply(this,[I,R,b-(Xe+xe),b]),Le.push(q.shift()),Le=[q.pop()];q.length;)ze.push([q.shift()]);ct=R.slice(I.length-(Le[0]?Le[0].length:0)).reduce(function(pt,Ge){return pt+Ge},0)}else Le=[I];ze.push(Le),Xe=ct+ee,xe=At}else Le.push(I),Xe+=xe+ct,xe=At}return je=ee?function(pt,Ge){return(Ge?We:"")+pt.join(" ")}:function(pt){return pt.join(" ")},ze.map(je)},sa.splitTextToSize=function(N,b,S){var I,R=(S=S||{}).fontSize||this.internal.getFontSize(),V=(function(Le){if(Le.widths&&Le.kerning)return{widths:Le.widths,kerning:Le.kerning};var ze=this.internal.getFont(Le.fontName,Le.fontStyle),Xe="Unicode";return ze.metadata[Xe]?{widths:ze.metadata[Xe].widths||{0:1},kerning:ze.metadata[Xe].kerning||{}}:{font:ze.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,S);I=Array.isArray(N)?N:String(N).split(/\r?\n/);var le=1*this.internal.scaleFactor*b/R;V.textIndent=S.textIndent?1*S.textIndent*this.internal.scaleFactor/R:0,V.lineIndent=S.lineIndent;var q,ee,je=[];for(q=0,ee=I.length;q<ee;q++)je=je.concat(ui.apply(this,[I[q],le,V]));return je},(function(N){N.__fontmetrics__=N.__fontmetrics__||{};for(var b="0123456789abcdef",S="klmnopqrstuvwxyz",I={},R={},V=0;V<16;V++)I[S[V]]=b[V],R[b[V]]=S[V];var le=function(Xe){return"0x"+parseInt(Xe,10).toString(16)},q=N.__fontmetrics__.compress=function(Xe){var xe,ct,ot,At,We=["{"];for(var yt in Xe){if(xe=Xe[yt],isNaN(parseInt(yt,10))?ct="'"+yt+"'":(yt=parseInt(yt,10),ct=(ct=le(yt).slice(2)).slice(0,-1)+R[ct.slice(-1)]),typeof xe=="number")xe<0?(ot=le(xe).slice(3),At="-"):(ot=le(xe).slice(2),At=""),ot=At+ot.slice(0,-1)+R[ot.slice(-1)];else{if((0,f.default)(xe)!=="object")throw new Error("Don't know what to do with value type "+(0,f.default)(xe)+".");ot=q(xe)}We.push(ct+ot)}return We.push("}"),We.join("")},ee=N.__fontmetrics__.uncompress=function(Xe){if(typeof Xe!="string")throw new Error("Invalid argument passed to uncompress.");for(var xe,ct,ot,At,We={},yt=1,Dt=We,pt=[],Ge="",Ft="",is=Xe.length-1,Ht=1;Ht<is;Ht+=1)(At=Xe[Ht])=="'"?xe?(ot=xe.join(""),xe=void 0):xe=[]:xe?xe.push(At):At=="{"?(pt.push([Dt,ot]),Dt={},ot=void 0):At=="}"?((ct=pt.pop())[0][ct[1]]=Dt,ot=void 0,Dt=ct[0]):At=="-"?yt=-1:ot===void 0?I.hasOwnProperty(At)?(Ge+=I[At],ot=parseInt(Ge,16)*yt,yt=1,Ge=""):Ge+=At:I.hasOwnProperty(At)?(Ft+=I[At],Dt[ot]=parseInt(Ft,16)*yt,yt=1,ot=void 0,Ft=""):Ft+=At;return We},je={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ee("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Le={Unicode:{Courier:je,"Courier-Bold":je,"Courier-BoldOblique":je,"Courier-Oblique":je,Helvetica:je,"Helvetica-Bold":je,"Helvetica-BoldOblique":je,"Helvetica-Oblique":je,"Times-Roman":je,"Times-Bold":je,"Times-BoldItalic":je,"Times-Italic":je}},ze={Unicode:{"Courier-Oblique":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ee("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ee("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ee("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ee("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ee("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ee("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};N.events.push(["addFont",function(Xe){var xe=Xe.font,ct=ze.Unicode[xe.postScriptName];ct&&(xe.metadata.Unicode={},xe.metadata.Unicode.widths=ct.widths,xe.metadata.Unicode.kerning=ct.kerning);var ot=Le.Unicode[xe.postScriptName];ot&&(xe.metadata.Unicode.encoding=ot,xe.encoding=ot.codePages[0])}])})(et.API),(function(N){var b=function(S){for(var I=S.length,R=new Uint8Array(I),V=0;V<I;V++)R[V]=S.charCodeAt(V);return R};N.API.events.push(["addFont",function(S){var I=void 0,R=S.font,V=S.instance;if(!R.isStandardFont){if(V===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+R.postScriptName+"').");if(typeof(I=V.existsFileInVFS(R.postScriptName)===!1?V.loadFile(R.postScriptName):V.getFileFromVFS(R.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+R.postScriptName+"').");(function(le,q){q=/^\x00\x01\x00\x00/.test(q)?b(q):b(H(q)),le.metadata=N.API.TTFFont.open(q),le.metadata.Unicode=le.metadata.Unicode||{encoding:{},kerning:{},widths:[]},le.metadata.glyIdsUsed=[0]})(R,I)}}])})(et),et.API.addSvgAsImage=function(N,b,S,I,R,V,le,q){if(isNaN(b)||isNaN(S))throw w.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(I)||isNaN(R))throw w.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ee=document.createElement("canvas");ee.width=I,ee.height=R;var je=ee.getContext("2d");je.fillStyle="#fff",je.fillRect(0,0,ee.width,ee.height);var Le={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},ze=this;return(v.canvg?Promise.resolve(v.canvg):Promise.resolve().then(o.bind(o,"./node_modules/canvg/lib/index.es.js"))).catch(function(Xe){return Promise.reject(new Error("Could not load canvg: "+Xe))}).then(function(Xe){return Xe.default?Xe.default:Xe}).then(function(Xe){return Xe.fromString(je,N,Le)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Xe){return Xe.render(Le)}).then(function(){ze.addImage(ee.toDataURL("image/jpeg",1),b,S,I,R,le,q)})},et.API.putTotalPages=function(N){var b,S=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(b=new RegExp(N,"g"),S=this.internal.getNumberOfPages()):(b=new RegExp(this.pdfEscape16(N,this.internal.getFont()),"g"),S=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var I=1;I<=this.internal.getNumberOfPages();I++)for(var R=0;R<this.internal.pages[I].length;R++)this.internal.pages[I][R]=this.internal.pages[I][R].replace(b,S);return this},et.API.viewerPreferences=function(N,b){var S;N=N||{},b=b||!1;var I,R,V,le={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},q=Object.keys(le),ee=[],je=0,Le=0,ze=0;function Xe(ct,ot){var At,We=!1;for(At=0;At<ct.length;At+=1)ct[At]===ot&&(We=!0);return We}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(le)),this.internal.viewerpreferences.isSubscribed=!1),S=this.internal.viewerpreferences.configuration,N==="reset"||b===!0){var xe=q.length;for(ze=0;ze<xe;ze+=1)S[q[ze]].value=S[q[ze]].defaultValue,S[q[ze]].explicitSet=!1}if((0,f.default)(N)==="object"){for(R in N)if(V=N[R],Xe(q,R)&&V!==void 0){if(S[R].type==="boolean"&&typeof V=="boolean")S[R].value=V;else if(S[R].type==="name"&&Xe(S[R].valueSet,V))S[R].value=V;else if(S[R].type==="integer"&&Number.isInteger(V))S[R].value=V;else if(S[R].type==="array"){for(je=0;je<V.length;je+=1)if(I=!0,V[je].length===1&&typeof V[je][0]=="number")ee.push(String(V[je]-1));else if(V[je].length>1){for(Le=0;Le<V[je].length;Le+=1)typeof V[je][Le]!="number"&&(I=!1);I===!0&&ee.push([V[je][0]-1,V[je][1]-1].join(" "))}S[R].value="["+ee.join(" ")+"]"}else S[R].value=S[R].defaultValue;S[R].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var ct,ot=[];for(ct in S)S[ct].explicitSet===!0&&(S[ct].type==="name"?ot.push("/"+ct+" /"+S[ct].value):ot.push("/"+ct+" "+S[ct].value));ot.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+ot.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=S,this},(function(N){var b=function(){var I='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',R=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),V=unescape(encodeURIComponent(I)),le=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),q=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),ee=unescape(encodeURIComponent("</x:xmpmeta>")),je=V.length+le.length+q.length+R.length+ee.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+je+" >>"),this.internal.write("stream"),this.internal.write(R+V+le+q+ee),this.internal.write("endstream"),this.internal.write("endobj")},S=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};N.addMetadata=function(I,R){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:I,namespaceuri:R||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",S),this.internal.events.subscribe("postPutResources",b)),this}})(et.API),(function(N){var b=N.API,S=b.pdfEscape16=function(V,le){for(var q,ee=le.metadata.Unicode.widths,je=["","0","00","000","0000"],Le=[""],ze=0,Xe=V.length;ze<Xe;++ze){if(q=le.metadata.characterToGlyph(V.charCodeAt(ze)),le.metadata.glyIdsUsed.push(q),le.metadata.toUnicode[q]=V.charCodeAt(ze),ee.indexOf(q)==-1&&(ee.push(q),ee.push([parseInt(le.metadata.widthOfGlyph(q),10)])),q=="0")return Le.join("");q=q.toString(16),Le.push(je[4-q.length],q)}return Le.join("")},I=function(V){var le,q,ee,je,Le,ze,Xe;for(Le=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,ee=[],ze=0,Xe=(q=Object.keys(V).sort(function(xe,ct){return xe-ct})).length;ze<Xe;ze++)le=q[ze],ee.length>=100&&(Le+=`
`+ee.length+` beginbfchar
`+ee.join(`
`)+`
endbfchar`,ee=[]),V[le]!==void 0&&V[le]!==null&&typeof V[le].toString=="function"&&(je=("0000"+V[le].toString(16)).slice(-4),le=("0000"+(+le).toString(16)).slice(-4),ee.push("<"+le+"><"+je+">"));return ee.length&&(Le+=`
`+ee.length+` beginbfchar
`+ee.join(`
`)+`
endbfchar
`),Le+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};b.events.push(["putFont",function(V){(function(le){var q=le.font,ee=le.out,je=le.newObject,Le=le.putStream;if(q.metadata instanceof N.API.TTFFont&&q.encoding==="Identity-H"){for(var ze=q.metadata.Unicode.widths,Xe=q.metadata.subset.encode(q.metadata.glyIdsUsed,1),xe="",ct=0;ct<Xe.length;ct++)xe+=String.fromCharCode(Xe[ct]);var ot=je();Le({data:xe,addLength1:!0,objectId:ot}),ee("endobj");var At=je();Le({data:I(q.metadata.toUnicode),addLength1:!0,objectId:At}),ee("endobj");var We=je();ee("<<"),ee("/Type /FontDescriptor"),ee("/FontName /"+te(q.fontName)),ee("/FontFile2 "+ot+" 0 R"),ee("/FontBBox "+N.API.PDFObject.convert(q.metadata.bbox)),ee("/Flags "+q.metadata.flags),ee("/StemV "+q.metadata.stemV),ee("/ItalicAngle "+q.metadata.italicAngle),ee("/Ascent "+q.metadata.ascender),ee("/Descent "+q.metadata.decender),ee("/CapHeight "+q.metadata.capHeight),ee(">>"),ee("endobj");var yt=je();ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+te(q.fontName)),ee("/FontDescriptor "+We+" 0 R"),ee("/W "+N.API.PDFObject.convert(ze)),ee("/CIDToGIDMap /Identity"),ee("/DW 1000"),ee("/Subtype /CIDFontType2"),ee("/CIDSystemInfo"),ee("<<"),ee("/Supplement 0"),ee("/Registry (Adobe)"),ee("/Ordering ("+q.encoding+")"),ee(">>"),ee(">>"),ee("endobj"),q.objectNumber=je(),ee("<<"),ee("/Type /Font"),ee("/Subtype /Type0"),ee("/ToUnicode "+At+" 0 R"),ee("/BaseFont /"+te(q.fontName)),ee("/Encoding /"+q.encoding),ee("/DescendantFonts ["+yt+" 0 R]"),ee(">>"),ee("endobj"),q.isAlreadyPutted=!0}})(V)}]),b.events.push(["putFont",function(V){(function(le){var q=le.font,ee=le.out,je=le.newObject,Le=le.putStream;if(q.metadata instanceof N.API.TTFFont&&q.encoding==="WinAnsiEncoding"){for(var ze=q.metadata.rawData,Xe="",xe=0;xe<ze.length;xe++)Xe+=String.fromCharCode(ze[xe]);var ct=je();Le({data:Xe,addLength1:!0,objectId:ct}),ee("endobj");var ot=je();Le({data:I(q.metadata.toUnicode),addLength1:!0,objectId:ot}),ee("endobj");var At=je();ee("<<"),ee("/Descent "+q.metadata.decender),ee("/CapHeight "+q.metadata.capHeight),ee("/StemV "+q.metadata.stemV),ee("/Type /FontDescriptor"),ee("/FontFile2 "+ct+" 0 R"),ee("/Flags 96"),ee("/FontBBox "+N.API.PDFObject.convert(q.metadata.bbox)),ee("/FontName /"+te(q.fontName)),ee("/ItalicAngle "+q.metadata.italicAngle),ee("/Ascent "+q.metadata.ascender),ee(">>"),ee("endobj"),q.objectNumber=je();for(var We=0;We<q.metadata.hmtx.widths.length;We++)q.metadata.hmtx.widths[We]=parseInt(q.metadata.hmtx.widths[We]*(1e3/q.metadata.head.unitsPerEm));ee("<</Subtype/TrueType/Type/Font/ToUnicode "+ot+" 0 R/BaseFont/"+te(q.fontName)+"/FontDescriptor "+At+" 0 R/Encoding/"+q.encoding+" /FirstChar 29 /LastChar 255 /Widths "+N.API.PDFObject.convert(q.metadata.hmtx.widths)+">>"),ee("endobj"),q.isAlreadyPutted=!0}})(V)}]);var R=function(V){var le,q=V.text||"",ee=V.x,je=V.y,Le=V.options||{},ze=V.mutex||{},Xe=ze.pdfEscape,xe=ze.activeFontKey,ct=ze.fonts,ot=xe,At="",We=0,yt="",Dt=ct[ot].encoding;if(ct[ot].encoding!=="Identity-H")return{text:q,x:ee,y:je,options:Le,mutex:ze};for(yt=q,ot=xe,Array.isArray(q)&&(yt=q[0]),We=0;We<yt.length;We+=1)ct[ot].metadata.hasOwnProperty("cmap")&&(le=ct[ot].metadata.cmap.unicode.codeMap[yt[We].charCodeAt(0)]),le||yt[We].charCodeAt(0)<256&&ct[ot].metadata.hasOwnProperty("Unicode")?At+=yt[We]:At+="";var pt="";return parseInt(ot.slice(1))<14||Dt==="WinAnsiEncoding"?pt=Xe(At,ot).split("").map(function(Ge){return Ge.charCodeAt(0).toString(16)}).join(""):Dt==="Identity-H"&&(pt=S(At,ct[ot])),ze.isHex=!0,{text:pt,x:ee,y:je,options:Le,mutex:ze}};b.events.push(["postProcessText",function(V){var le=V.text||"",q=[],ee={text:le,x:V.x,y:V.y,options:V.options,mutex:V.mutex};if(Array.isArray(le)){var je=0;for(je=0;je<le.length;je+=1)Array.isArray(le[je])&&le[je].length===3?q.push([R(Object.assign({},ee,{text:le[je][0]})).text,le[je][1],le[je][2]]):q.push(R(Object.assign({},ee,{text:le[je]})).text);V.text=q}else V.text=R(Object.assign({},ee,{text:le})).text}])})(et),(function(N){var b=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};N.existsFileInVFS=function(S){return b.call(this),this.internal.vFS[S]!==void 0},N.addFileToVFS=function(S,I){return b.call(this),this.internal.vFS[S]=I,this},N.getFileFromVFS=function(S){return b.call(this),this.internal.vFS[S]!==void 0?this.internal.vFS[S]:null}})(et.API),(function(N){N.__bidiEngine__=N.prototype.__bidiEngine__=function(I){var R,V,le,q,ee,je,Le,ze=b,Xe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],xe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ct={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},ot={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},At=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],We=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),yt=!1,Dt=0;this.__bidiEngine__={};var pt=function(Ye){var rt=Ye.charCodeAt(),gt=rt>>8,xt=ot[gt];return xt!==void 0?ze[256*xt+(255&rt)]:gt===252||gt===253?"AL":We.test(gt)?"L":gt===8?"R":"N"},Ge=function(Ye){for(var rt,gt=0;gt<Ye.length;gt++){if((rt=pt(Ye.charAt(gt)))==="L")return!1;if(rt==="R")return!0}return!1},Ft=function(Ye,rt,gt,xt){var ss,us,xs,Vt,fs=rt[xt];switch(fs){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":yt=!1;break;case"N":case"AN":break;case"EN":yt&&(fs="AN");break;case"AL":yt=!0,fs="R";break;case"WS":case"BN":fs="N";break;case"CS":xt<1||xt+1>=rt.length||(ss=gt[xt-1])!=="EN"&&ss!=="AN"||(us=rt[xt+1])!=="EN"&&us!=="AN"?fs="N":yt&&(us="AN"),fs=us===ss?us:"N";break;case"ES":fs=(ss=xt>0?gt[xt-1]:"B")==="EN"&&xt+1<rt.length&&rt[xt+1]==="EN"?"EN":"N";break;case"ET":if(xt>0&&gt[xt-1]==="EN"){fs="EN";break}if(yt){fs="N";break}for(xs=xt+1,Vt=rt.length;xs<Vt&&rt[xs]==="ET";)xs++;fs=xs<Vt&&rt[xs]==="EN"?"EN":"N";break;case"NSM":if(le&&!q){for(Vt=rt.length,xs=xt+1;xs<Vt&&rt[xs]==="NSM";)xs++;if(xs<Vt){var Js=Ye[xt],_s=Js>=1425&&Js<=2303||Js===64286;if(ss=rt[xs],_s&&(ss==="R"||ss==="AL")){fs="R";break}}}fs=xt<1||(ss=rt[xt-1])==="B"?"N":gt[xt-1];break;case"B":yt=!1,R=!0,fs=Dt;break;case"S":V=!0,fs="N"}return fs},is=function(Ye,rt,gt){var xt=Ye.split("");return gt&&Ht(xt,gt,{hiLevel:Dt}),xt.reverse(),rt&&rt.reverse(),xt.join("")},Ht=function(Ye,rt,gt){var xt,ss,us,xs,Vt,fs=-1,Js=Ye.length,_s=0,_e=[],dt=Dt?xe:Xe,ht=[];for(yt=!1,R=!1,V=!1,ss=0;ss<Js;ss++)ht[ss]=pt(Ye[ss]);for(us=0;us<Js;us++){if(Vt=_s,_e[us]=Ft(Ye,ht,_e,us),xt=240&(_s=dt[Vt][ct[_e[us]]]),_s&=15,rt[us]=xs=dt[_s][5],xt>0)if(xt===16){for(ss=fs;ss<us;ss++)rt[ss]=1;fs=-1}else fs=-1;if(dt[_s][6])fs===-1&&(fs=us);else if(fs>-1){for(ss=fs;ss<us;ss++)rt[ss]=xs;fs=-1}ht[us]==="B"&&(rt[us]=0),gt.hiLevel|=xs}V&&(function(Mt,Rt,Wt){for(var ms=0;ms<Wt;ms++)if(Mt[ms]==="S"){Rt[ms]=Dt;for(var ps=ms-1;ps>=0&&Mt[ps]==="WS";ps--)Rt[ps]=Dt}})(ht,rt,Js)},bt=function(Ye,rt,gt,xt,ss){if(!(ss.hiLevel<Ye)){if(Ye===1&&Dt===1&&!R)return rt.reverse(),void(gt&&gt.reverse());for(var us,xs,Vt,fs,Js=rt.length,_s=0;_s<Js;){if(xt[_s]>=Ye){for(Vt=_s+1;Vt<Js&&xt[Vt]>=Ye;)Vt++;for(fs=_s,xs=Vt-1;fs<xs;fs++,xs--)us=rt[fs],rt[fs]=rt[xs],rt[xs]=us,gt&&(us=gt[fs],gt[fs]=gt[xs],gt[xs]=us);_s=Vt}_s++}}},es=function(Ye,rt,gt){var xt=Ye.split(""),ss={hiLevel:Dt};return gt||(gt=[]),Ht(xt,gt,ss),(function(us,xs,Vt){if(Vt.hiLevel!==0&&Le)for(var fs,Js=0;Js<us.length;Js++)xs[Js]===1&&(fs=At.indexOf(us[Js]))>=0&&(us[Js]=At[fs+1])})(xt,gt,ss),bt(2,xt,rt,gt,ss),bt(1,xt,rt,gt,ss),xt.join("")};return this.__bidiEngine__.doBidiReorder=function(Ye,rt,gt){if((function(ss,us){if(us)for(var xs=0;xs<ss.length;xs++)us[xs]=xs;q===void 0&&(q=Ge(ss)),je===void 0&&(je=Ge(ss))})(Ye,rt),le||!ee||je)if(le&&ee&&q^je)Dt=q?1:0,Ye=is(Ye,rt,gt);else if(!le&&ee&&je)Dt=q?1:0,Ye=es(Ye,rt,gt),Ye=is(Ye,rt);else if(!le||q||ee||je){if(le&&!ee&&q^je)Ye=is(Ye,rt),q?(Dt=0,Ye=es(Ye,rt,gt)):(Dt=1,Ye=es(Ye,rt,gt),Ye=is(Ye,rt));else if(le&&q&&!ee&&je)Dt=1,Ye=es(Ye,rt,gt),Ye=is(Ye,rt);else if(!le&&!ee&&q^je){var xt=Le;q?(Dt=1,Ye=es(Ye,rt,gt),Dt=0,Le=!1,Ye=es(Ye,rt,gt),Le=xt):(Dt=0,Ye=es(Ye,rt,gt),Ye=is(Ye,rt),Dt=1,Le=!1,Ye=es(Ye,rt,gt),Le=xt,Ye=is(Ye,rt))}}else Dt=0,Ye=es(Ye,rt,gt);else Dt=q?1:0,Ye=es(Ye,rt,gt);return Ye},this.__bidiEngine__.setOptions=function(Ye){Ye&&(le=Ye.isInputVisual,ee=Ye.isOutputVisual,q=Ye.isInputRtl,je=Ye.isOutputRtl,Le=Ye.isSymmetricSwapping)},this.__bidiEngine__.setOptions(I),this.__bidiEngine__};var b=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],S=new N.__bidiEngine__({isInputVisual:!0});N.API.events.push(["postProcessText",function(I){var R=I.text;I.x,I.y;var V=I.options||{};I.mutex,V.lang;var le=[];if(V.isInputVisual=typeof V.isInputVisual!="boolean"||V.isInputVisual,S.setOptions(V),Object.prototype.toString.call(R)==="[object Array]"){var q=0;for(le=[],q=0;q<R.length;q+=1)Object.prototype.toString.call(R[q])==="[object Array]"?le.push([S.doBidiReorder(R[q][0]),R[q][1],R[q][2]]):le.push([S.doBidiReorder(R[q])]);I.text=le}else I.text=S.doBidiReorder(R);S.setOptions({isInputVisual:!0})}])})(et),et.API.TTFFont=(function(){function N(b){var S;if(this.rawData=b,S=this.contents=new Ia(b),this.contents.pos=4,S.readString(4)==="ttcf")throw new Error("TTCF not supported.");S.pos=0,this.parse(),this.subset=new Je(this),this.registerTTF()}return N.open=function(b){return new N(b)},N.prototype.parse=function(){return this.directory=new hi(this.contents),this.head=new ba(this),this.name=new $(this),this.cmap=new qi(this),this.toUnicode={},this.hhea=new ki(this),this.maxp=new Y(this),this.hmtx=new T(this),this.post=new Et(this),this.os2=new io(this),this.loca=new De(this),this.glyf=new z(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},N.prototype.registerTTF=function(){var b,S,I,R,V;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var le,q,ee,je;for(je=[],le=0,q=(ee=this.bbox).length;le<q;le++)b=ee[le],je.push(Math.round(b*this.scaleFactor));return je}).call(this),this.stemV=0,this.post.exists?(I=255&(R=this.post.italic_angle),32768&(S=R>>16)&&(S=-(1+(65535^S))),this.italicAngle=+(S+"."+I)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(V=this.familyClass)===1||V===2||V===3||V===4||V===5||V===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},N.prototype.characterToGlyph=function(b){var S;return((S=this.cmap.unicode)!=null?S.codeMap[b]:void 0)||0},N.prototype.widthOfGlyph=function(b){var S;return S=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(b).advance*S},N.prototype.widthOfString=function(b,S,I){var R,V,le,q;for(le=0,V=0,q=(b=""+b).length;0<=q?V<q:V>q;V=0<=q?++V:--V)R=b.charCodeAt(V),le+=this.widthOfGlyph(this.characterToGlyph(R))+I*(1e3/S)||0;return le*(S/1e3)},N.prototype.lineHeight=function(b,S){var I;return S==null&&(S=!1),I=S?this.lineGap:0,(this.ascender+I-this.decender)/1e3*b},N})();var Ka,Ia=(function(){function N(b){this.data=b??[],this.pos=0,this.length=this.data.length}return N.prototype.readByte=function(){return this.data[this.pos++]},N.prototype.writeByte=function(b){return this.data[this.pos++]=b},N.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},N.prototype.writeUInt32=function(b){return this.writeByte(b>>>24&255),this.writeByte(b>>16&255),this.writeByte(b>>8&255),this.writeByte(255&b)},N.prototype.readInt32=function(){var b;return(b=this.readUInt32())>=2147483648?b-4294967296:b},N.prototype.writeInt32=function(b){return b<0&&(b+=4294967296),this.writeUInt32(b)},N.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},N.prototype.writeUInt16=function(b){return this.writeByte(b>>8&255),this.writeByte(255&b)},N.prototype.readInt16=function(){var b;return(b=this.readUInt16())>=32768?b-65536:b},N.prototype.writeInt16=function(b){return b<0&&(b+=65536),this.writeUInt16(b)},N.prototype.readString=function(b){var S,I;for(I=[],S=0;0<=b?S<b:S>b;S=0<=b?++S:--S)I[S]=String.fromCharCode(this.readByte());return I.join("")},N.prototype.writeString=function(b){var S,I,R;for(R=[],S=0,I=b.length;0<=I?S<I:S>I;S=0<=I?++S:--S)R.push(this.writeByte(b.charCodeAt(S)));return R},N.prototype.readShort=function(){return this.readInt16()},N.prototype.writeShort=function(b){return this.writeInt16(b)},N.prototype.readLongLong=function(){var b,S,I,R,V,le,q,ee;return b=this.readByte(),S=this.readByte(),I=this.readByte(),R=this.readByte(),V=this.readByte(),le=this.readByte(),q=this.readByte(),ee=this.readByte(),128&b?-1*(72057594037927940*(255^b)+281474976710656*(255^S)+1099511627776*(255^I)+4294967296*(255^R)+16777216*(255^V)+65536*(255^le)+256*(255^q)+(255^ee)+1):72057594037927940*b+281474976710656*S+1099511627776*I+4294967296*R+16777216*V+65536*le+256*q+ee},N.prototype.writeLongLong=function(b){var S,I;return S=Math.floor(b/4294967296),I=4294967295&b,this.writeByte(S>>24&255),this.writeByte(S>>16&255),this.writeByte(S>>8&255),this.writeByte(255&S),this.writeByte(I>>24&255),this.writeByte(I>>16&255),this.writeByte(I>>8&255),this.writeByte(255&I)},N.prototype.readInt=function(){return this.readInt32()},N.prototype.writeInt=function(b){return this.writeInt32(b)},N.prototype.read=function(b){var S,I;for(S=[],I=0;0<=b?I<b:I>b;I=0<=b?++I:--I)S.push(this.readByte());return S},N.prototype.write=function(b){var S,I,R,V;for(V=[],I=0,R=b.length;I<R;I++)S=b[I],V.push(this.writeByte(S));return V},N})(),hi=(function(){var N;function b(S){var I,R,V;for(this.scalarType=S.readInt(),this.tableCount=S.readShort(),this.searchRange=S.readShort(),this.entrySelector=S.readShort(),this.rangeShift=S.readShort(),this.tables={},R=0,V=this.tableCount;0<=V?R<V:R>V;R=0<=V?++R:--R)I={tag:S.readString(4),checksum:S.readInt(),offset:S.readInt(),length:S.readInt()},this.tables[I.tag]=I}return b.prototype.encode=function(S){var I,R,V,le,q,ee,je,Le,ze,Xe,xe,ct,ot;for(ot in xe=Object.keys(S).length,ee=Math.log(2),ze=16*Math.floor(Math.log(xe)/ee),le=Math.floor(ze/ee),Le=16*xe-ze,(R=new Ia).writeInt(this.scalarType),R.writeShort(xe),R.writeShort(ze),R.writeShort(le),R.writeShort(Le),V=16*xe,je=R.pos+V,q=null,ct=[],S)for(Xe=S[ot],R.writeString(ot),R.writeInt(N(Xe)),R.writeInt(je),R.writeInt(Xe.length),ct=ct.concat(Xe),ot==="head"&&(q=je),je+=Xe.length;je%4;)ct.push(0),je++;return R.write(ct),I=2981146554-N(R.data),R.pos=q+8,R.writeUInt32(I),R.data},N=function(S){var I,R,V,le;for(S=L.call(S);S.length%4;)S.push(0);for(V=new Ia(S),R=0,I=0,le=S.length;I<le;I=I+=4)R+=V.readUInt32();return 4294967295&R},b})(),To={}.hasOwnProperty,Bi=function(N,b){for(var S in b)To.call(b,S)&&(N[S]=b[S]);function I(){this.constructor=N}return I.prototype=b.prototype,N.prototype=new I,N.__super__=b.prototype,N};Ka=(function(){function N(b){var S;this.file=b,S=this.file.directory.tables[this.tag],this.exists=!!S,S&&(this.offset=S.offset,this.length=S.length,this.parse(this.file.contents))}return N.prototype.parse=function(){},N.prototype.encode=function(){},N.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},N})();var ba=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ka),N.prototype.tag="head",N.prototype.parse=function(b){return b.pos=this.offset,this.version=b.readInt(),this.revision=b.readInt(),this.checkSumAdjustment=b.readInt(),this.magicNumber=b.readInt(),this.flags=b.readShort(),this.unitsPerEm=b.readShort(),this.created=b.readLongLong(),this.modified=b.readLongLong(),this.xMin=b.readShort(),this.yMin=b.readShort(),this.xMax=b.readShort(),this.yMax=b.readShort(),this.macStyle=b.readShort(),this.lowestRecPPEM=b.readShort(),this.fontDirectionHint=b.readShort(),this.indexToLocFormat=b.readShort(),this.glyphDataFormat=b.readShort()},N.prototype.encode=function(b){var S;return(S=new Ia).writeInt(this.version),S.writeInt(this.revision),S.writeInt(this.checkSumAdjustment),S.writeInt(this.magicNumber),S.writeShort(this.flags),S.writeShort(this.unitsPerEm),S.writeLongLong(this.created),S.writeLongLong(this.modified),S.writeShort(this.xMin),S.writeShort(this.yMin),S.writeShort(this.xMax),S.writeShort(this.yMax),S.writeShort(this.macStyle),S.writeShort(this.lowestRecPPEM),S.writeShort(this.fontDirectionHint),S.writeShort(b),S.writeShort(this.glyphDataFormat),S.data},N})(),fi=(function(){function N(b,S){var I,R,V,le,q,ee,je,Le,ze,Xe,xe,ct,ot,At,We,yt,Dt;switch(this.platformID=b.readUInt16(),this.encodingID=b.readShort(),this.offset=S+b.readInt(),ze=b.pos,b.pos=this.offset,this.format=b.readUInt16(),this.length=b.readUInt16(),this.language=b.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(ee=0;ee<256;++ee)this.codeMap[ee]=b.readByte();break;case 4:for(xe=b.readUInt16(),Xe=xe/2,b.pos+=6,V=(function(){var pt,Ge;for(Ge=[],ee=pt=0;0<=Xe?pt<Xe:pt>Xe;ee=0<=Xe?++pt:--pt)Ge.push(b.readUInt16());return Ge})(),b.pos+=2,ot=(function(){var pt,Ge;for(Ge=[],ee=pt=0;0<=Xe?pt<Xe:pt>Xe;ee=0<=Xe?++pt:--pt)Ge.push(b.readUInt16());return Ge})(),je=(function(){var pt,Ge;for(Ge=[],ee=pt=0;0<=Xe?pt<Xe:pt>Xe;ee=0<=Xe?++pt:--pt)Ge.push(b.readUInt16());return Ge})(),Le=(function(){var pt,Ge;for(Ge=[],ee=pt=0;0<=Xe?pt<Xe:pt>Xe;ee=0<=Xe?++pt:--pt)Ge.push(b.readUInt16());return Ge})(),R=(this.length-b.pos+this.offset)/2,q=(function(){var pt,Ge;for(Ge=[],ee=pt=0;0<=R?pt<R:pt>R;ee=0<=R?++pt:--pt)Ge.push(b.readUInt16());return Ge})(),ee=We=0,Dt=V.length;We<Dt;ee=++We)for(At=V[ee],I=yt=ct=ot[ee];ct<=At?yt<=At:yt>=At;I=ct<=At?++yt:--yt)Le[ee]===0?le=I+je[ee]:(le=q[Le[ee]/2+(I-ct)-(Xe-ee)]||0)!==0&&(le+=je[ee]),this.codeMap[I]=65535&le}b.pos=ze}return N.encode=function(b,S){var I,R,V,le,q,ee,je,Le,ze,Xe,xe,ct,ot,At,We,yt,Dt,pt,Ge,Ft,is,Ht,bt,es,Ye,rt,gt,xt,ss,us,xs,Vt,fs,Js,_s,_e,dt,ht,Mt,Rt,Wt,ms,ps,Us,Zs,wr;switch(xt=new Ia,le=Object.keys(b).sort(function(vr,Xr){return vr-Xr}),S){case"macroman":for(ot=0,At=(function(){var vr=[];for(ct=0;ct<256;++ct)vr.push(0);return vr})(),yt={0:0},V={},ss=0,fs=le.length;ss<fs;ss++)yt[ps=b[R=le[ss]]]==null&&(yt[ps]=++ot),V[R]={old:b[R],new:yt[b[R]]},At[R]=yt[b[R]];return xt.writeUInt16(1),xt.writeUInt16(0),xt.writeUInt32(12),xt.writeUInt16(0),xt.writeUInt16(262),xt.writeUInt16(0),xt.write(At),{charMap:V,subtable:xt.data,maxGlyphID:ot+1};case"unicode":for(rt=[],ze=[],Dt=0,yt={},I={},We=je=null,us=0,Js=le.length;us<Js;us++)yt[Ge=b[R=le[us]]]==null&&(yt[Ge]=++Dt),I[R]={old:Ge,new:yt[Ge]},q=yt[Ge]-R,We!=null&&q===je||(We&&ze.push(We),rt.push(R),je=q),We=R;for(We&&ze.push(We),ze.push(65535),rt.push(65535),es=2*(bt=rt.length),Ht=2*Math.pow(Math.log(bt)/Math.LN2,2),Xe=Math.log(Ht/2)/Math.LN2,is=2*bt-Ht,ee=[],Ft=[],xe=[],ct=xs=0,_s=rt.length;xs<_s;ct=++xs){if(Ye=rt[ct],Le=ze[ct],Ye===65535){ee.push(0),Ft.push(0);break}if(Ye-(gt=I[Ye].new)>=32768)for(ee.push(0),Ft.push(2*(xe.length+bt-ct)),R=Vt=Ye;Ye<=Le?Vt<=Le:Vt>=Le;R=Ye<=Le?++Vt:--Vt)xe.push(I[R].new);else ee.push(gt-Ye),Ft.push(0)}for(xt.writeUInt16(3),xt.writeUInt16(1),xt.writeUInt32(12),xt.writeUInt16(4),xt.writeUInt16(16+8*bt+2*xe.length),xt.writeUInt16(0),xt.writeUInt16(es),xt.writeUInt16(Ht),xt.writeUInt16(Xe),xt.writeUInt16(is),Wt=0,_e=ze.length;Wt<_e;Wt++)R=ze[Wt],xt.writeUInt16(R);for(xt.writeUInt16(0),ms=0,dt=rt.length;ms<dt;ms++)R=rt[ms],xt.writeUInt16(R);for(Us=0,ht=ee.length;Us<ht;Us++)q=ee[Us],xt.writeUInt16(q);for(Zs=0,Mt=Ft.length;Zs<Mt;Zs++)pt=Ft[Zs],xt.writeUInt16(pt);for(wr=0,Rt=xe.length;wr<Rt;wr++)ot=xe[wr],xt.writeUInt16(ot);return{charMap:I,subtable:xt.data,maxGlyphID:Dt+1}}},N})(),qi=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ka),N.prototype.tag="cmap",N.prototype.parse=function(b){var S,I,R;for(b.pos=this.offset,this.version=b.readUInt16(),R=b.readUInt16(),this.tables=[],this.unicode=null,I=0;0<=R?I<R:I>R;I=0<=R?++I:--I)S=new fi(b,this.offset),this.tables.push(S),S.isUnicode&&this.unicode==null&&(this.unicode=S);return!0},N.encode=function(b,S){var I,R;return S==null&&(S="macroman"),I=fi.encode(b,S),(R=new Ia).writeUInt16(0),R.writeUInt16(1),I.table=R.data.concat(I.subtable),I},N})(),ki=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ka),N.prototype.tag="hhea",N.prototype.parse=function(b){return b.pos=this.offset,this.version=b.readInt(),this.ascender=b.readShort(),this.decender=b.readShort(),this.lineGap=b.readShort(),this.advanceWidthMax=b.readShort(),this.minLeftSideBearing=b.readShort(),this.minRightSideBearing=b.readShort(),this.xMaxExtent=b.readShort(),this.caretSlopeRise=b.readShort(),this.caretSlopeRun=b.readShort(),this.caretOffset=b.readShort(),b.pos+=8,this.metricDataFormat=b.readShort(),this.numberOfMetrics=b.readUInt16()},N})(),io=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ka),N.prototype.tag="OS/2",N.prototype.parse=function(b){if(b.pos=this.offset,this.version=b.readUInt16(),this.averageCharWidth=b.readShort(),this.weightClass=b.readUInt16(),this.widthClass=b.readUInt16(),this.type=b.readShort(),this.ySubscriptXSize=b.readShort(),this.ySubscriptYSize=b.readShort(),this.ySubscriptXOffset=b.readShort(),this.ySubscriptYOffset=b.readShort(),this.ySuperscriptXSize=b.readShort(),this.ySuperscriptYSize=b.readShort(),this.ySuperscriptXOffset=b.readShort(),this.ySuperscriptYOffset=b.readShort(),this.yStrikeoutSize=b.readShort(),this.yStrikeoutPosition=b.readShort(),this.familyClass=b.readShort(),this.panose=(function(){var S,I;for(I=[],S=0;S<10;++S)I.push(b.readByte());return I})(),this.charRange=(function(){var S,I;for(I=[],S=0;S<4;++S)I.push(b.readInt());return I})(),this.vendorID=b.readString(4),this.selection=b.readShort(),this.firstCharIndex=b.readShort(),this.lastCharIndex=b.readShort(),this.version>0&&(this.ascent=b.readShort(),this.descent=b.readShort(),this.lineGap=b.readShort(),this.winAscent=b.readShort(),this.winDescent=b.readShort(),this.codePageRange=(function(){var S,I;for(I=[],S=0;S<2;S=++S)I.push(b.readInt());return I})(),this.version>1))return this.xHeight=b.readShort(),this.capHeight=b.readShort(),this.defaultChar=b.readShort(),this.breakChar=b.readShort(),this.maxContext=b.readShort()},N})(),Et=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ka),N.prototype.tag="post",N.prototype.parse=function(b){var S,I,R;switch(b.pos=this.offset,this.format=b.readInt(),this.italicAngle=b.readInt(),this.underlinePosition=b.readShort(),this.underlineThickness=b.readShort(),this.isFixedPitch=b.readInt(),this.minMemType42=b.readInt(),this.maxMemType42=b.readInt(),this.minMemType1=b.readInt(),this.maxMemType1=b.readInt(),this.format){case 65536:case 196608:break;case 131072:var V;for(I=b.readUInt16(),this.glyphNameIndex=[],V=0;0<=I?V<I:V>I;V=0<=I?++V:--V)this.glyphNameIndex.push(b.readUInt16());for(this.names=[],R=[];b.pos<this.offset+this.length;)S=b.readByte(),R.push(this.names.push(b.readString(S)));return R;case 151552:return I=b.readUInt16(),this.offsets=b.read(I);case 262144:return this.map=(function(){var le,q,ee;for(ee=[],V=le=0,q=this.file.maxp.numGlyphs;0<=q?le<q:le>q;V=0<=q?++le:--le)ee.push(b.readUInt32());return ee}).call(this)}},N})(),M=function(N,b){this.raw=N,this.length=N.length,this.platformID=b.platformID,this.encodingID=b.encodingID,this.languageID=b.languageID},$=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ka),N.prototype.tag="name",N.prototype.parse=function(b){var S,I,R,V,le,q,ee,je,Le,ze,Xe;for(b.pos=this.offset,b.readShort(),S=b.readShort(),q=b.readShort(),I=[],V=0;0<=S?V<S:V>S;V=0<=S?++V:--V)I.push({platformID:b.readShort(),encodingID:b.readShort(),languageID:b.readShort(),nameID:b.readShort(),length:b.readShort(),offset:this.offset+q+b.readShort()});for(ee={},V=Le=0,ze=I.length;Le<ze;V=++Le)R=I[V],b.pos=R.offset,je=b.readString(R.length),le=new M(je,R),ee[Xe=R.nameID]==null&&(ee[Xe]=[]),ee[R.nameID].push(le);this.strings=ee,this.copyright=ee[0],this.fontFamily=ee[1],this.fontSubfamily=ee[2],this.uniqueSubfamily=ee[3],this.fontName=ee[4],this.version=ee[5];try{this.postscriptName=ee[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=ee[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=ee[7],this.manufacturer=ee[8],this.designer=ee[9],this.description=ee[10],this.vendorUrl=ee[11],this.designerUrl=ee[12],this.license=ee[13],this.licenseUrl=ee[14],this.preferredFamily=ee[15],this.preferredSubfamily=ee[17],this.compatibleFull=ee[18],this.sampleText=ee[19]},N})(),Y=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ka),N.prototype.tag="maxp",N.prototype.parse=function(b){return b.pos=this.offset,this.version=b.readInt(),this.numGlyphs=b.readUInt16(),this.maxPoints=b.readUInt16(),this.maxContours=b.readUInt16(),this.maxCompositePoints=b.readUInt16(),this.maxComponentContours=b.readUInt16(),this.maxZones=b.readUInt16(),this.maxTwilightPoints=b.readUInt16(),this.maxStorage=b.readUInt16(),this.maxFunctionDefs=b.readUInt16(),this.maxInstructionDefs=b.readUInt16(),this.maxStackElements=b.readUInt16(),this.maxSizeOfInstructions=b.readUInt16(),this.maxComponentElements=b.readUInt16(),this.maxComponentDepth=b.readUInt16()},N})(),T=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ka),N.prototype.tag="hmtx",N.prototype.parse=function(b){var S,I,R,V,le,q,ee;for(b.pos=this.offset,this.metrics=[],S=0,q=this.file.hhea.numberOfMetrics;0<=q?S<q:S>q;S=0<=q?++S:--S)this.metrics.push({advance:b.readUInt16(),lsb:b.readInt16()});for(R=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var je,Le;for(Le=[],S=je=0;0<=R?je<R:je>R;S=0<=R?++je:--je)Le.push(b.readInt16());return Le})(),this.widths=(function(){var je,Le,ze,Xe;for(Xe=[],je=0,Le=(ze=this.metrics).length;je<Le;je++)V=ze[je],Xe.push(V.advance);return Xe}).call(this),I=this.widths[this.widths.length-1],ee=[],S=le=0;0<=R?le<R:le>R;S=0<=R?++le:--le)ee.push(this.widths.push(I));return ee},N.prototype.forGlyph=function(b){return b in this.metrics?this.metrics[b]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[b-this.metrics.length]}},N})(),L=[].slice,z=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ka),N.prototype.tag="glyf",N.prototype.parse=function(){return this.cache={}},N.prototype.glyphFor=function(b){var S,I,R,V,le,q,ee,je,Le,ze;return b in this.cache?this.cache[b]:(V=this.file.loca,S=this.file.contents,I=V.indexOf(b),(R=V.lengthOf(b))===0?this.cache[b]=null:(S.pos=this.offset+I,le=(q=new Ia(S.read(R))).readShort(),je=q.readShort(),ze=q.readShort(),ee=q.readShort(),Le=q.readShort(),this.cache[b]=le===-1?new ve(q,je,ze,ee,Le):new ie(q,le,je,ze,ee,Le),this.cache[b]))},N.prototype.encode=function(b,S,I){var R,V,le,q,ee;for(le=[],V=[],q=0,ee=S.length;q<ee;q++)R=b[S[q]],V.push(le.length),R&&(le=le.concat(R.encode(I)));return V.push(le.length),{table:le,offsets:V}},N})(),ie=(function(){function N(b,S,I,R,V,le){this.raw=b,this.numberOfContours=S,this.xMin=I,this.yMin=R,this.xMax=V,this.yMax=le,this.compound=!1}return N.prototype.encode=function(){return this.raw.data},N})(),ve=(function(){function N(b,S,I,R,V){var le,q;for(this.raw=b,this.xMin=S,this.yMin=I,this.xMax=R,this.yMax=V,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],le=this.raw;q=le.readShort(),this.glyphOffsets.push(le.pos),this.glyphIDs.push(le.readUInt16()),32&q;)le.pos+=1&q?4:2,128&q?le.pos+=8:64&q?le.pos+=4:8&q&&(le.pos+=2)}return N.prototype.encode=function(){var b,S,I;for(S=new Ia(L.call(this.raw.data)),b=0,I=this.glyphIDs.length;b<I;++b)S.pos=this.glyphOffsets[b];return S.data},N})(),De=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ka),N.prototype.tag="loca",N.prototype.parse=function(b){var S,I;return b.pos=this.offset,S=this.file.head.indexToLocFormat,this.offsets=S===0?(function(){var R,V;for(V=[],I=0,R=this.length;I<R;I+=2)V.push(2*b.readUInt16());return V}).call(this):(function(){var R,V;for(V=[],I=0,R=this.length;I<R;I+=4)V.push(b.readUInt32());return V}).call(this)},N.prototype.indexOf=function(b){return this.offsets[b]},N.prototype.lengthOf=function(b){return this.offsets[b+1]-this.offsets[b]},N.prototype.encode=function(b,S){for(var I=new Uint32Array(this.offsets.length),R=0,V=0,le=0;le<I.length;++le)if(I[le]=R,V<S.length&&S[V]==le){++V,I[le]=R;var q=this.offsets[le],ee=this.offsets[le+1]-q;ee>0&&(R+=ee)}for(var je=new Array(4*I.length),Le=0;Le<I.length;++Le)je[4*Le+3]=255&I[Le],je[4*Le+2]=(65280&I[Le])>>8,je[4*Le+1]=(16711680&I[Le])>>16,je[4*Le]=(4278190080&I[Le])>>24;return je},N})(),Je=(function(){function N(b){this.font=b,this.subset={},this.unicodes={},this.next=33}return N.prototype.generateCmap=function(){var b,S,I,R,V;for(S in R=this.font.cmap.tables[0].codeMap,b={},V=this.subset)I=V[S],b[S]=R[I];return b},N.prototype.glyphsFor=function(b){var S,I,R,V,le,q,ee;for(R={},le=0,q=b.length;le<q;le++)R[V=b[le]]=this.font.glyf.glyphFor(V);for(V in S=[],R)(I=R[V])!=null&&I.compound&&S.push.apply(S,I.glyphIDs);if(S.length>0)for(V in ee=this.glyphsFor(S))I=ee[V],R[V]=I;return R},N.prototype.encode=function(b,S){var I,R,V,le,q,ee,je,Le,ze,Xe,xe,ct,ot,At,We;for(R in I=qi.encode(this.generateCmap(),"unicode"),le=this.glyphsFor(b),xe={0:0},We=I.charMap)xe[(ee=We[R]).old]=ee.new;for(ct in Xe=I.maxGlyphID,le)ct in xe||(xe[ct]=Xe++);return Le=(function(yt){var Dt,pt;for(Dt in pt={},yt)pt[yt[Dt]]=Dt;return pt})(xe),ze=Object.keys(Le).sort(function(yt,Dt){return yt-Dt}),ot=(function(){var yt,Dt,pt;for(pt=[],yt=0,Dt=ze.length;yt<Dt;yt++)q=ze[yt],pt.push(Le[q]);return pt})(),V=this.font.glyf.encode(le,ot,xe),je=this.font.loca.encode(V.offsets,ot),At={cmap:this.font.cmap.raw(),glyf:V.table,loca:je,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(S)},this.font.os2.exists&&(At["OS/2"]=this.font.os2.raw()),this.font.directory.encode(At)},N})();et.API.PDFObject=(function(){var N;function b(){}return N=function(S,I){return(Array(I+1).join("0")+S).slice(-I)},b.convert=function(S){var I,R,V,le;if(Array.isArray(S))return"["+(function(){var q,ee,je;for(je=[],q=0,ee=S.length;q<ee;q++)I=S[q],je.push(b.convert(I));return je})().join(" ")+"]";if(typeof S=="string")return"/"+S;if(S!=null&&S.isString)return"("+S+")";if(S instanceof Date)return"(D:"+N(S.getUTCFullYear(),4)+N(S.getUTCMonth(),2)+N(S.getUTCDate(),2)+N(S.getUTCHours(),2)+N(S.getUTCMinutes(),2)+N(S.getUTCSeconds(),2)+"Z)";if({}.toString.call(S)==="[object Object]"){for(R in V=["<<"],S)le=S[R],V.push("/"+R+" "+b.convert(le));return V.push(">>"),V.join(`
`)}return""+S},b})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(d,A,o){o.r(A),o.d(A,{Deflate:function(){return Os},Inflate:function(){return jn},constants:function(){return Ba},default:function(){return Si},deflate:function(){return Tr},deflateRaw:function(){return Ur},gzip:function(){return fn},inflate:function(){return ra},inflateRaw:function(){return Ua},ungzip:function(){return xi}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const f=4,m=0,p=1,x=2;function v(C){let Ce=C.length;for(;--Ce>=0;)C[Ce]=0}const y=0,w=1,E=2,Q=3,K=258,Z=29,J=256,H=J+1+Z,G=30,ce=19,Ae=2*H+1,Ne=15,re=16,Be=7,fe=256,Se=16,pe=17,ae=18,de=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),oe=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ee=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Re=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ke=512,me=new Array((H+2)*2);v(me);const we=new Array(G*2);v(we);const ue=new Array(ke);v(ue);const te=new Array(K-Q+1);v(te);const ge=new Array(Z);v(ge);const Me=new Array(G);v(Me);function Ve(C,Ce,P,Qe,lt){this.static_tree=C,this.extra_bits=Ce,this.extra_base=P,this.elems=Qe,this.max_length=lt,this.has_stree=C&&C.length}let Nt,ut,et;function Lt(C,Ce){this.dyn_tree=C,this.max_code=0,this.stat_desc=Ce}const ns=C=>C<256?ue[C]:ue[256+(C>>>7)],ls=(C,Ce)=>{C.pending_buf[C.pending++]=Ce&255,C.pending_buf[C.pending++]=Ce>>>8&255},vt=(C,Ce,P)=>{C.bi_valid>re-P?(C.bi_buf|=Ce<<C.bi_valid&65535,ls(C,C.bi_buf),C.bi_buf=Ce>>re-C.bi_valid,C.bi_valid+=P-re):(C.bi_buf|=Ce<<C.bi_valid&65535,C.bi_valid+=P)},$e=(C,Ce,P)=>{vt(C,P[Ce*2],P[Ce*2+1])},Bt=(C,Ce)=>{let P=0;do P|=C&1,C>>>=1,P<<=1;while(--Ce>0);return P>>>1},Qt=C=>{C.bi_valid===16?(ls(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):C.bi_valid>=8&&(C.pending_buf[C.pending++]=C.bi_buf&255,C.bi_buf>>=8,C.bi_valid-=8)},ks=(C,Ce)=>{const P=Ce.dyn_tree,Qe=Ce.max_code,lt=Ce.stat_desc.static_tree,it=Ce.stat_desc.has_stree,Yt=Ce.stat_desc.extra_bits,Tt=Ce.stat_desc.extra_base,xr=Ce.stat_desc.max_length;let wt,Xt,mn,or,Qs,gs,Fa=0;for(or=0;or<=Ne;or++)C.bl_count[or]=0;for(P[C.heap[C.heap_max]*2+1]=0,wt=C.heap_max+1;wt<Ae;wt++)Xt=C.heap[wt],or=P[P[Xt*2+1]*2+1]+1,or>xr&&(or=xr,Fa++),P[Xt*2+1]=or,!(Xt>Qe)&&(C.bl_count[or]++,Qs=0,Xt>=Tt&&(Qs=Yt[Xt-Tt]),gs=P[Xt*2],C.opt_len+=gs*(or+Qs),it&&(C.static_len+=gs*(lt[Xt*2+1]+Qs)));if(Fa!==0){do{for(or=xr-1;C.bl_count[or]===0;)or--;C.bl_count[or]--,C.bl_count[or+1]+=2,C.bl_count[xr]--,Fa-=2}while(Fa>0);for(or=xr;or!==0;or--)for(Xt=C.bl_count[or];Xt!==0;)mn=C.heap[--wt],!(mn>Qe)&&(P[mn*2+1]!==or&&(C.opt_len+=(or-P[mn*2+1])*P[mn*2],P[mn*2+1]=or),Xt--)}},zs=(C,Ce,P)=>{const Qe=new Array(Ne+1);let lt=0,it,Yt;for(it=1;it<=Ne;it++)lt=lt+P[it-1]<<1,Qe[it]=lt;for(Yt=0;Yt<=Ce;Yt++){let Tt=C[Yt*2+1];Tt!==0&&(C[Yt*2]=Bt(Qe[Tt]++,Tt))}},yr=()=>{let C,Ce,P,Qe,lt;const it=new Array(Ne+1);for(P=0,Qe=0;Qe<Z-1;Qe++)for(ge[Qe]=P,C=0;C<1<<de[Qe];C++)te[P++]=Qe;for(te[P-1]=Qe,lt=0,Qe=0;Qe<16;Qe++)for(Me[Qe]=lt,C=0;C<1<<oe[Qe];C++)ue[lt++]=Qe;for(lt>>=7;Qe<G;Qe++)for(Me[Qe]=lt<<7,C=0;C<1<<oe[Qe]-7;C++)ue[256+lt++]=Qe;for(Ce=0;Ce<=Ne;Ce++)it[Ce]=0;for(C=0;C<=143;)me[C*2+1]=8,C++,it[8]++;for(;C<=255;)me[C*2+1]=9,C++,it[9]++;for(;C<=279;)me[C*2+1]=7,C++,it[7]++;for(;C<=287;)me[C*2+1]=8,C++,it[8]++;for(zs(me,H+1,it),C=0;C<G;C++)we[C*2+1]=5,we[C*2]=Bt(C,5);Nt=new Ve(me,de,J+1,H,Ne),ut=new Ve(we,oe,0,G,Ne),et=new Ve(new Array(0),Ee,0,ce,Be)},mr=C=>{let Ce;for(Ce=0;Ce<H;Ce++)C.dyn_ltree[Ce*2]=0;for(Ce=0;Ce<G;Ce++)C.dyn_dtree[Ce*2]=0;for(Ce=0;Ce<ce;Ce++)C.bl_tree[Ce*2]=0;C.dyn_ltree[fe*2]=1,C.opt_len=C.static_len=0,C.sym_next=C.matches=0},ar=C=>{C.bi_valid>8?ls(C,C.bi_buf):C.bi_valid>0&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0},$s=(C,Ce,P,Qe)=>{const lt=Ce*2,it=P*2;return C[lt]<C[it]||C[lt]===C[it]&&Qe[Ce]<=Qe[P]},As=(C,Ce,P)=>{const Qe=C.heap[P];let lt=P<<1;for(;lt<=C.heap_len&&(lt<C.heap_len&&$s(Ce,C.heap[lt+1],C.heap[lt],C.depth)&&lt++,!$s(Ce,Qe,C.heap[lt],C.depth));)C.heap[P]=C.heap[lt],P=lt,lt<<=1;C.heap[P]=Qe},Rs=(C,Ce,P)=>{let Qe,lt,it=0,Yt,Tt;if(C.sym_next!==0)do Qe=C.pending_buf[C.sym_buf+it++]&255,Qe+=(C.pending_buf[C.sym_buf+it++]&255)<<8,lt=C.pending_buf[C.sym_buf+it++],Qe===0?$e(C,lt,Ce):(Yt=te[lt],$e(C,Yt+J+1,Ce),Tt=de[Yt],Tt!==0&&(lt-=ge[Yt],vt(C,lt,Tt)),Qe--,Yt=ns(Qe),$e(C,Yt,P),Tt=oe[Yt],Tt!==0&&(Qe-=Me[Yt],vt(C,Qe,Tt)));while(it<C.sym_next);$e(C,fe,Ce)},br=(C,Ce)=>{const P=Ce.dyn_tree,Qe=Ce.stat_desc.static_tree,lt=Ce.stat_desc.has_stree,it=Ce.stat_desc.elems;let Yt,Tt,xr=-1,wt;for(C.heap_len=0,C.heap_max=Ae,Yt=0;Yt<it;Yt++)P[Yt*2]!==0?(C.heap[++C.heap_len]=xr=Yt,C.depth[Yt]=0):P[Yt*2+1]=0;for(;C.heap_len<2;)wt=C.heap[++C.heap_len]=xr<2?++xr:0,P[wt*2]=1,C.depth[wt]=0,C.opt_len--,lt&&(C.static_len-=Qe[wt*2+1]);for(Ce.max_code=xr,Yt=C.heap_len>>1;Yt>=1;Yt--)As(C,P,Yt);wt=it;do Yt=C.heap[1],C.heap[1]=C.heap[C.heap_len--],As(C,P,1),Tt=C.heap[1],C.heap[--C.heap_max]=Yt,C.heap[--C.heap_max]=Tt,P[wt*2]=P[Yt*2]+P[Tt*2],C.depth[wt]=(C.depth[Yt]>=C.depth[Tt]?C.depth[Yt]:C.depth[Tt])+1,P[Yt*2+1]=P[Tt*2+1]=wt,C.heap[1]=wt++,As(C,P,1);while(C.heap_len>=2);C.heap[--C.heap_max]=C.heap[1],ks(C,Ce),zs(P,xr,C.bl_count)},js=(C,Ce,P)=>{let Qe,lt=-1,it,Yt=Ce[1],Tt=0,xr=7,wt=4;for(Yt===0&&(xr=138,wt=3),Ce[(P+1)*2+1]=65535,Qe=0;Qe<=P;Qe++)it=Yt,Yt=Ce[(Qe+1)*2+1],!(++Tt<xr&&it===Yt)&&(Tt<wt?C.bl_tree[it*2]+=Tt:it!==0?(it!==lt&&C.bl_tree[it*2]++,C.bl_tree[Se*2]++):Tt<=10?C.bl_tree[pe*2]++:C.bl_tree[ae*2]++,Tt=0,lt=it,Yt===0?(xr=138,wt=3):it===Yt?(xr=6,wt=3):(xr=7,wt=4))},qs=(C,Ce,P)=>{let Qe,lt=-1,it,Yt=Ce[1],Tt=0,xr=7,wt=4;for(Yt===0&&(xr=138,wt=3),Qe=0;Qe<=P;Qe++)if(it=Yt,Yt=Ce[(Qe+1)*2+1],!(++Tt<xr&&it===Yt)){if(Tt<wt)do $e(C,it,C.bl_tree);while(--Tt!==0);else it!==0?(it!==lt&&($e(C,it,C.bl_tree),Tt--),$e(C,Se,C.bl_tree),vt(C,Tt-3,2)):Tt<=10?($e(C,pe,C.bl_tree),vt(C,Tt-3,3)):($e(C,ae,C.bl_tree),vt(C,Tt-11,7));Tt=0,lt=it,Yt===0?(xr=138,wt=3):it===Yt?(xr=6,wt=3):(xr=7,wt=4)}},hr=C=>{let Ce;for(js(C,C.dyn_ltree,C.l_desc.max_code),js(C,C.dyn_dtree,C.d_desc.max_code),br(C,C.bl_desc),Ce=ce-1;Ce>=3&&C.bl_tree[Re[Ce]*2+1]===0;Ce--);return C.opt_len+=3*(Ce+1)+5+5+4,Ce},rr=(C,Ce,P,Qe)=>{let lt;for(vt(C,Ce-257,5),vt(C,P-1,5),vt(C,Qe-4,4),lt=0;lt<Qe;lt++)vt(C,C.bl_tree[Re[lt]*2+1],3);qs(C,C.dyn_ltree,Ce-1),qs(C,C.dyn_dtree,P-1)},Xs=C=>{let Ce=4093624447,P;for(P=0;P<=31;P++,Ce>>>=1)if(Ce&1&&C.dyn_ltree[P*2]!==0)return m;if(C.dyn_ltree[18]!==0||C.dyn_ltree[20]!==0||C.dyn_ltree[26]!==0)return p;for(P=32;P<J;P++)if(C.dyn_ltree[P*2]!==0)return p;return m};let Es=!1;const Gt=C=>{Es||(yr(),Es=!0),C.l_desc=new Lt(C.dyn_ltree,Nt),C.d_desc=new Lt(C.dyn_dtree,ut),C.bl_desc=new Lt(C.bl_tree,et),C.bi_buf=0,C.bi_valid=0,mr(C)},vs=(C,Ce,P,Qe)=>{vt(C,(y<<1)+(Qe?1:0),3),ar(C),ls(C,P),ls(C,~P),P&&C.pending_buf.set(C.window.subarray(Ce,Ce+P),C.pending),C.pending+=P},Ms=C=>{vt(C,w<<1,3),$e(C,fe,me),Qt(C)},Gs=(C,Ce,P,Qe)=>{let lt,it,Yt=0;C.level>0?(C.strm.data_type===x&&(C.strm.data_type=Xs(C)),br(C,C.l_desc),br(C,C.d_desc),Yt=hr(C),lt=C.opt_len+3+7>>>3,it=C.static_len+3+7>>>3,it<=lt&&(lt=it)):lt=it=P+5,P+4<=lt&&Ce!==-1?vs(C,Ce,P,Qe):C.strategy===f||it===lt?(vt(C,(w<<1)+(Qe?1:0),3),Rs(C,me,we)):(vt(C,(E<<1)+(Qe?1:0),3),rr(C,C.l_desc.max_code+1,C.d_desc.max_code+1,Yt+1),Rs(C,C.dyn_ltree,C.dyn_dtree)),mr(C),Qe&&ar(C)},fr=(C,Ce,P)=>(C.pending_buf[C.sym_buf+C.sym_next++]=Ce,C.pending_buf[C.sym_buf+C.sym_next++]=Ce>>8,C.pending_buf[C.sym_buf+C.sym_next++]=P,Ce===0?C.dyn_ltree[P*2]++:(C.matches++,Ce--,C.dyn_ltree[(te[P]+J+1)*2]++,C.dyn_dtree[ns(Ce)*2]++),C.sym_next===C.sym_end);var Ct=Gt,Zt=vs,ds=Gs,hs=fr,Ks=Ms,Vs={_tr_init:Ct,_tr_stored_block:Zt,_tr_flush_block:ds,_tr_tally:hs,_tr_align:Ks},tn=(C,Ce,P,Qe)=>{let lt=C&65535|0,it=C>>>16&65535|0,Yt=0;for(;P!==0;){Yt=P>2e3?2e3:P,P-=Yt;do lt=lt+Ce[Qe++]|0,it=it+lt|0;while(--Yt);lt%=65521,it%=65521}return lt|it<<16|0};const Ns=()=>{let C,Ce=[];for(var P=0;P<256;P++){C=P;for(var Qe=0;Qe<8;Qe++)C=C&1?3988292384^C>>>1:C>>>1;Ce[P]=C}return Ce},Is=new Uint32Array(Ns());var nr=(C,Ce,P,Qe)=>{const lt=Is,it=Qe+P;C^=-1;for(let Yt=Qe;Yt<it;Yt++)C=C>>>8^lt[(C^Ce[Yt])&255];return C^-1},Ts={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Lr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:la,_tr_stored_block:gr,_tr_flush_block:qa,_tr_tally:yn,_tr_align:In}=Vs,{Z_NO_FLUSH:$n,Z_PARTIAL_FLUSH:Nn,Z_FULL_FLUSH:ga,Z_FINISH:Zn,Z_BLOCK:Oi,Z_OK:Dn,Z_STREAM_END:hc,Z_STREAM_ERROR:ii,Z_DATA_ERROR:Eo,Z_BUF_ERROR:Vl,Z_DEFAULT_COMPRESSION:uo,Z_FILTERED:fa,Z_HUFFMAN_ONLY:ji,Z_RLE:sa,Z_FIXED:Ta,Z_DEFAULT_STRATEGY:qn,Z_UNKNOWN:Ao,Z_DEFLATED:ui}=Lr,Ni=9,ul=15,Zo=8,wa=256+1+29,ho=30,ei=19,Ii=2*wa+1,Ai=15,Yr=3,Va=258,Ci=Va+Yr+1,Ra=32,fo=42,Gn=57,Ki=69,Ka=73,Ia=91,hi=103,To=113,Bi=666,ba=1,fi=2,qi=3,ki=4,io=3,Et=(C,Ce)=>(C.msg=Ts[Ce],Ce),M=C=>C*2-(C>4?9:0),$=C=>{let Ce=C.length;for(;--Ce>=0;)C[Ce]=0},Y=C=>{let Ce,P,Qe,lt=C.w_size;Ce=C.hash_size,Qe=Ce;do P=C.head[--Qe],C.head[Qe]=P>=lt?P-lt:0;while(--Ce);Ce=lt,Qe=Ce;do P=C.prev[--Qe],C.prev[Qe]=P>=lt?P-lt:0;while(--Ce)};let L=(C,Ce,P)=>(Ce<<C.hash_shift^P)&C.hash_mask;const z=C=>{const Ce=C.state;let P=Ce.pending;P>C.avail_out&&(P=C.avail_out),P!==0&&(C.output.set(Ce.pending_buf.subarray(Ce.pending_out,Ce.pending_out+P),C.next_out),C.next_out+=P,Ce.pending_out+=P,C.total_out+=P,C.avail_out-=P,Ce.pending-=P,Ce.pending===0&&(Ce.pending_out=0))},ie=(C,Ce)=>{qa(C,C.block_start>=0?C.block_start:-1,C.strstart-C.block_start,Ce),C.block_start=C.strstart,z(C.strm)},ve=(C,Ce)=>{C.pending_buf[C.pending++]=Ce},De=(C,Ce)=>{C.pending_buf[C.pending++]=Ce>>>8&255,C.pending_buf[C.pending++]=Ce&255},Je=(C,Ce,P,Qe)=>{let lt=C.avail_in;return lt>Qe&&(lt=Qe),lt===0?0:(C.avail_in-=lt,Ce.set(C.input.subarray(C.next_in,C.next_in+lt),P),C.state.wrap===1?C.adler=tn(C.adler,Ce,lt,P):C.state.wrap===2&&(C.adler=nr(C.adler,Ce,lt,P)),C.next_in+=lt,C.total_in+=lt,lt)},N=(C,Ce)=>{let P=C.max_chain_length,Qe=C.strstart,lt,it,Yt=C.prev_length,Tt=C.nice_match;const xr=C.strstart>C.w_size-Ci?C.strstart-(C.w_size-Ci):0,wt=C.window,Xt=C.w_mask,mn=C.prev,or=C.strstart+Va;let Qs=wt[Qe+Yt-1],gs=wt[Qe+Yt];C.prev_length>=C.good_match&&(P>>=2),Tt>C.lookahead&&(Tt=C.lookahead);do if(lt=Ce,!(wt[lt+Yt]!==gs||wt[lt+Yt-1]!==Qs||wt[lt]!==wt[Qe]||wt[++lt]!==wt[Qe+1])){Qe+=2,lt++;do;while(wt[++Qe]===wt[++lt]&&wt[++Qe]===wt[++lt]&&wt[++Qe]===wt[++lt]&&wt[++Qe]===wt[++lt]&&wt[++Qe]===wt[++lt]&&wt[++Qe]===wt[++lt]&&wt[++Qe]===wt[++lt]&&wt[++Qe]===wt[++lt]&&Qe<or);if(it=Va-(or-Qe),Qe=or-Va,it>Yt){if(C.match_start=Ce,Yt=it,it>=Tt)break;Qs=wt[Qe+Yt-1],gs=wt[Qe+Yt]}}while((Ce=mn[Ce&Xt])>xr&&--P!==0);return Yt<=C.lookahead?Yt:C.lookahead},b=C=>{const Ce=C.w_size;let P,Qe,lt;do{if(Qe=C.window_size-C.lookahead-C.strstart,C.strstart>=Ce+(Ce-Ci)&&(C.window.set(C.window.subarray(Ce,Ce+Ce-Qe),0),C.match_start-=Ce,C.strstart-=Ce,C.block_start-=Ce,C.insert>C.strstart&&(C.insert=C.strstart),Y(C),Qe+=Ce),C.strm.avail_in===0)break;if(P=Je(C.strm,C.window,C.strstart+C.lookahead,Qe),C.lookahead+=P,C.lookahead+C.insert>=Yr)for(lt=C.strstart-C.insert,C.ins_h=C.window[lt],C.ins_h=L(C,C.ins_h,C.window[lt+1]);C.insert&&(C.ins_h=L(C,C.ins_h,C.window[lt+Yr-1]),C.prev[lt&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=lt,lt++,C.insert--,!(C.lookahead+C.insert<Yr)););}while(C.lookahead<Ci&&C.strm.avail_in!==0)},S=(C,Ce)=>{let P=C.pending_buf_size-5>C.w_size?C.w_size:C.pending_buf_size-5,Qe,lt,it,Yt=0,Tt=C.strm.avail_in;do{if(Qe=65535,it=C.bi_valid+42>>3,C.strm.avail_out<it||(it=C.strm.avail_out-it,lt=C.strstart-C.block_start,Qe>lt+C.strm.avail_in&&(Qe=lt+C.strm.avail_in),Qe>it&&(Qe=it),Qe<P&&(Qe===0&&Ce!==Zn||Ce===$n||Qe!==lt+C.strm.avail_in)))break;Yt=Ce===Zn&&Qe===lt+C.strm.avail_in?1:0,gr(C,0,0,Yt),C.pending_buf[C.pending-4]=Qe,C.pending_buf[C.pending-3]=Qe>>8,C.pending_buf[C.pending-2]=~Qe,C.pending_buf[C.pending-1]=~Qe>>8,z(C.strm),lt&&(lt>Qe&&(lt=Qe),C.strm.output.set(C.window.subarray(C.block_start,C.block_start+lt),C.strm.next_out),C.strm.next_out+=lt,C.strm.avail_out-=lt,C.strm.total_out+=lt,C.block_start+=lt,Qe-=lt),Qe&&(Je(C.strm,C.strm.output,C.strm.next_out,Qe),C.strm.next_out+=Qe,C.strm.avail_out-=Qe,C.strm.total_out+=Qe)}while(Yt===0);return Tt-=C.strm.avail_in,Tt&&(Tt>=C.w_size?(C.matches=2,C.window.set(C.strm.input.subarray(C.strm.next_in-C.w_size,C.strm.next_in),0),C.strstart=C.w_size,C.insert=C.strstart):(C.window_size-C.strstart<=Tt&&(C.strstart-=C.w_size,C.window.set(C.window.subarray(C.w_size,C.w_size+C.strstart),0),C.matches<2&&C.matches++,C.insert>C.strstart&&(C.insert=C.strstart)),C.window.set(C.strm.input.subarray(C.strm.next_in-Tt,C.strm.next_in),C.strstart),C.strstart+=Tt,C.insert+=Tt>C.w_size-C.insert?C.w_size-C.insert:Tt),C.block_start=C.strstart),C.high_water<C.strstart&&(C.high_water=C.strstart),Yt?ki:Ce!==$n&&Ce!==Zn&&C.strm.avail_in===0&&C.strstart===C.block_start?fi:(it=C.window_size-C.strstart,C.strm.avail_in>it&&C.block_start>=C.w_size&&(C.block_start-=C.w_size,C.strstart-=C.w_size,C.window.set(C.window.subarray(C.w_size,C.w_size+C.strstart),0),C.matches<2&&C.matches++,it+=C.w_size,C.insert>C.strstart&&(C.insert=C.strstart)),it>C.strm.avail_in&&(it=C.strm.avail_in),it&&(Je(C.strm,C.window,C.strstart,it),C.strstart+=it,C.insert+=it>C.w_size-C.insert?C.w_size-C.insert:it),C.high_water<C.strstart&&(C.high_water=C.strstart),it=C.bi_valid+42>>3,it=C.pending_buf_size-it>65535?65535:C.pending_buf_size-it,P=it>C.w_size?C.w_size:it,lt=C.strstart-C.block_start,(lt>=P||(lt||Ce===Zn)&&Ce!==$n&&C.strm.avail_in===0&&lt<=it)&&(Qe=lt>it?it:lt,Yt=Ce===Zn&&C.strm.avail_in===0&&Qe===lt?1:0,gr(C,C.block_start,Qe,Yt),C.block_start+=Qe,z(C.strm)),Yt?qi:ba)},I=(C,Ce)=>{let P,Qe;for(;;){if(C.lookahead<Ci){if(b(C),C.lookahead<Ci&&Ce===$n)return ba;if(C.lookahead===0)break}if(P=0,C.lookahead>=Yr&&(C.ins_h=L(C,C.ins_h,C.window[C.strstart+Yr-1]),P=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),P!==0&&C.strstart-P<=C.w_size-Ci&&(C.match_length=N(C,P)),C.match_length>=Yr)if(Qe=yn(C,C.strstart-C.match_start,C.match_length-Yr),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=Yr){C.match_length--;do C.strstart++,C.ins_h=L(C,C.ins_h,C.window[C.strstart+Yr-1]),P=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart;while(--C.match_length!==0);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=L(C,C.ins_h,C.window[C.strstart+1]);else Qe=yn(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(Qe&&(ie(C,!1),C.strm.avail_out===0))return ba}return C.insert=C.strstart<Yr-1?C.strstart:Yr-1,Ce===Zn?(ie(C,!0),C.strm.avail_out===0?qi:ki):C.sym_next&&(ie(C,!1),C.strm.avail_out===0)?ba:fi},R=(C,Ce)=>{let P,Qe,lt;for(;;){if(C.lookahead<Ci){if(b(C),C.lookahead<Ci&&Ce===$n)return ba;if(C.lookahead===0)break}if(P=0,C.lookahead>=Yr&&(C.ins_h=L(C,C.ins_h,C.window[C.strstart+Yr-1]),P=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=Yr-1,P!==0&&C.prev_length<C.max_lazy_match&&C.strstart-P<=C.w_size-Ci&&(C.match_length=N(C,P),C.match_length<=5&&(C.strategy===fa||C.match_length===Yr&&C.strstart-C.match_start>4096)&&(C.match_length=Yr-1)),C.prev_length>=Yr&&C.match_length<=C.prev_length){lt=C.strstart+C.lookahead-Yr,Qe=yn(C,C.strstart-1-C.prev_match,C.prev_length-Yr),C.lookahead-=C.prev_length-1,C.prev_length-=2;do++C.strstart<=lt&&(C.ins_h=L(C,C.ins_h,C.window[C.strstart+Yr-1]),P=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart);while(--C.prev_length!==0);if(C.match_available=0,C.match_length=Yr-1,C.strstart++,Qe&&(ie(C,!1),C.strm.avail_out===0))return ba}else if(C.match_available){if(Qe=yn(C,0,C.window[C.strstart-1]),Qe&&ie(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return ba}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(Qe=yn(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<Yr-1?C.strstart:Yr-1,Ce===Zn?(ie(C,!0),C.strm.avail_out===0?qi:ki):C.sym_next&&(ie(C,!1),C.strm.avail_out===0)?ba:fi},V=(C,Ce)=>{let P,Qe,lt,it;const Yt=C.window;for(;;){if(C.lookahead<=Va){if(b(C),C.lookahead<=Va&&Ce===$n)return ba;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=Yr&&C.strstart>0&&(lt=C.strstart-1,Qe=Yt[lt],Qe===Yt[++lt]&&Qe===Yt[++lt]&&Qe===Yt[++lt])){it=C.strstart+Va;do;while(Qe===Yt[++lt]&&Qe===Yt[++lt]&&Qe===Yt[++lt]&&Qe===Yt[++lt]&&Qe===Yt[++lt]&&Qe===Yt[++lt]&&Qe===Yt[++lt]&&Qe===Yt[++lt]&&lt<it);C.match_length=Va-(it-lt),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=Yr?(P=yn(C,1,C.match_length-Yr),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(P=yn(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),P&&(ie(C,!1),C.strm.avail_out===0))return ba}return C.insert=0,Ce===Zn?(ie(C,!0),C.strm.avail_out===0?qi:ki):C.sym_next&&(ie(C,!1),C.strm.avail_out===0)?ba:fi},le=(C,Ce)=>{let P;for(;;){if(C.lookahead===0&&(b(C),C.lookahead===0)){if(Ce===$n)return ba;break}if(C.match_length=0,P=yn(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,P&&(ie(C,!1),C.strm.avail_out===0))return ba}return C.insert=0,Ce===Zn?(ie(C,!0),C.strm.avail_out===0?qi:ki):C.sym_next&&(ie(C,!1),C.strm.avail_out===0)?ba:fi};function q(C,Ce,P,Qe,lt){this.good_length=C,this.max_lazy=Ce,this.nice_length=P,this.max_chain=Qe,this.func=lt}const ee=[new q(0,0,0,0,S),new q(4,4,8,4,I),new q(4,5,16,8,I),new q(4,6,32,32,I),new q(4,4,16,16,R),new q(8,16,32,32,R),new q(8,16,128,128,R),new q(8,32,128,256,R),new q(32,128,258,1024,R),new q(32,258,258,4096,R)],je=C=>{C.window_size=2*C.w_size,$(C.head),C.max_lazy_match=ee[C.level].max_lazy,C.good_match=ee[C.level].good_length,C.nice_match=ee[C.level].nice_length,C.max_chain_length=ee[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=Yr-1,C.match_available=0,C.ins_h=0};function Le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ui,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Ii*2),this.dyn_dtree=new Uint16Array((2*ho+1)*2),this.bl_tree=new Uint16Array((2*ei+1)*2),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ai+1),this.heap=new Uint16Array(2*wa+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*wa+1),$(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ze=C=>{if(!C)return 1;const Ce=C.state;return!Ce||Ce.strm!==C||Ce.status!==fo&&Ce.status!==Gn&&Ce.status!==Ki&&Ce.status!==Ka&&Ce.status!==Ia&&Ce.status!==hi&&Ce.status!==To&&Ce.status!==Bi?1:0},Xe=C=>{if(ze(C))return Et(C,ii);C.total_in=C.total_out=0,C.data_type=Ao;const Ce=C.state;return Ce.pending=0,Ce.pending_out=0,Ce.wrap<0&&(Ce.wrap=-Ce.wrap),Ce.status=Ce.wrap===2?Gn:Ce.wrap?fo:To,C.adler=Ce.wrap===2?0:1,Ce.last_flush=-2,la(Ce),Dn},xe=C=>{const Ce=Xe(C);return Ce===Dn&&je(C.state),Ce},ct=(C,Ce)=>ze(C)||C.state.wrap!==2?ii:(C.state.gzhead=Ce,Dn),ot=(C,Ce,P,Qe,lt,it)=>{if(!C)return ii;let Yt=1;if(Ce===uo&&(Ce=6),Qe<0?(Yt=0,Qe=-Qe):Qe>15&&(Yt=2,Qe-=16),lt<1||lt>Ni||P!==ui||Qe<8||Qe>15||Ce<0||Ce>9||it<0||it>Ta||Qe===8&&Yt!==1)return Et(C,ii);Qe===8&&(Qe=9);const Tt=new Le;return C.state=Tt,Tt.strm=C,Tt.status=fo,Tt.wrap=Yt,Tt.gzhead=null,Tt.w_bits=Qe,Tt.w_size=1<<Tt.w_bits,Tt.w_mask=Tt.w_size-1,Tt.hash_bits=lt+7,Tt.hash_size=1<<Tt.hash_bits,Tt.hash_mask=Tt.hash_size-1,Tt.hash_shift=~~((Tt.hash_bits+Yr-1)/Yr),Tt.window=new Uint8Array(Tt.w_size*2),Tt.head=new Uint16Array(Tt.hash_size),Tt.prev=new Uint16Array(Tt.w_size),Tt.lit_bufsize=1<<lt+6,Tt.pending_buf_size=Tt.lit_bufsize*4,Tt.pending_buf=new Uint8Array(Tt.pending_buf_size),Tt.sym_buf=Tt.lit_bufsize,Tt.sym_end=(Tt.lit_bufsize-1)*3,Tt.level=Ce,Tt.strategy=it,Tt.method=P,xe(C)},At=(C,Ce)=>ot(C,Ce,ui,ul,Zo,qn),We=(C,Ce)=>{if(ze(C)||Ce>Oi||Ce<0)return C?Et(C,ii):ii;const P=C.state;if(!C.output||C.avail_in!==0&&!C.input||P.status===Bi&&Ce!==Zn)return Et(C,C.avail_out===0?Vl:ii);const Qe=P.last_flush;if(P.last_flush=Ce,P.pending!==0){if(z(C),C.avail_out===0)return P.last_flush=-1,Dn}else if(C.avail_in===0&&M(Ce)<=M(Qe)&&Ce!==Zn)return Et(C,Vl);if(P.status===Bi&&C.avail_in!==0)return Et(C,Vl);if(P.status===fo&&P.wrap===0&&(P.status=To),P.status===fo){let lt=ui+(P.w_bits-8<<4)<<8,it=-1;if(P.strategy>=ji||P.level<2?it=0:P.level<6?it=1:P.level===6?it=2:it=3,lt|=it<<6,P.strstart!==0&&(lt|=Ra),lt+=31-lt%31,De(P,lt),P.strstart!==0&&(De(P,C.adler>>>16),De(P,C.adler&65535)),C.adler=1,P.status=To,z(C),P.pending!==0)return P.last_flush=-1,Dn}if(P.status===Gn){if(C.adler=0,ve(P,31),ve(P,139),ve(P,8),P.gzhead)ve(P,(P.gzhead.text?1:0)+(P.gzhead.hcrc?2:0)+(P.gzhead.extra?4:0)+(P.gzhead.name?8:0)+(P.gzhead.comment?16:0)),ve(P,P.gzhead.time&255),ve(P,P.gzhead.time>>8&255),ve(P,P.gzhead.time>>16&255),ve(P,P.gzhead.time>>24&255),ve(P,P.level===9?2:P.strategy>=ji||P.level<2?4:0),ve(P,P.gzhead.os&255),P.gzhead.extra&&P.gzhead.extra.length&&(ve(P,P.gzhead.extra.length&255),ve(P,P.gzhead.extra.length>>8&255)),P.gzhead.hcrc&&(C.adler=nr(C.adler,P.pending_buf,P.pending,0)),P.gzindex=0,P.status=Ki;else if(ve(P,0),ve(P,0),ve(P,0),ve(P,0),ve(P,0),ve(P,P.level===9?2:P.strategy>=ji||P.level<2?4:0),ve(P,io),P.status=To,z(C),P.pending!==0)return P.last_flush=-1,Dn}if(P.status===Ki){if(P.gzhead.extra){let lt=P.pending,it=(P.gzhead.extra.length&65535)-P.gzindex;for(;P.pending+it>P.pending_buf_size;){let Tt=P.pending_buf_size-P.pending;if(P.pending_buf.set(P.gzhead.extra.subarray(P.gzindex,P.gzindex+Tt),P.pending),P.pending=P.pending_buf_size,P.gzhead.hcrc&&P.pending>lt&&(C.adler=nr(C.adler,P.pending_buf,P.pending-lt,lt)),P.gzindex+=Tt,z(C),P.pending!==0)return P.last_flush=-1,Dn;lt=0,it-=Tt}let Yt=new Uint8Array(P.gzhead.extra);P.pending_buf.set(Yt.subarray(P.gzindex,P.gzindex+it),P.pending),P.pending+=it,P.gzhead.hcrc&&P.pending>lt&&(C.adler=nr(C.adler,P.pending_buf,P.pending-lt,lt)),P.gzindex=0}P.status=Ka}if(P.status===Ka){if(P.gzhead.name){let lt=P.pending,it;do{if(P.pending===P.pending_buf_size){if(P.gzhead.hcrc&&P.pending>lt&&(C.adler=nr(C.adler,P.pending_buf,P.pending-lt,lt)),z(C),P.pending!==0)return P.last_flush=-1,Dn;lt=0}P.gzindex<P.gzhead.name.length?it=P.gzhead.name.charCodeAt(P.gzindex++)&255:it=0,ve(P,it)}while(it!==0);P.gzhead.hcrc&&P.pending>lt&&(C.adler=nr(C.adler,P.pending_buf,P.pending-lt,lt)),P.gzindex=0}P.status=Ia}if(P.status===Ia){if(P.gzhead.comment){let lt=P.pending,it;do{if(P.pending===P.pending_buf_size){if(P.gzhead.hcrc&&P.pending>lt&&(C.adler=nr(C.adler,P.pending_buf,P.pending-lt,lt)),z(C),P.pending!==0)return P.last_flush=-1,Dn;lt=0}P.gzindex<P.gzhead.comment.length?it=P.gzhead.comment.charCodeAt(P.gzindex++)&255:it=0,ve(P,it)}while(it!==0);P.gzhead.hcrc&&P.pending>lt&&(C.adler=nr(C.adler,P.pending_buf,P.pending-lt,lt))}P.status=hi}if(P.status===hi){if(P.gzhead.hcrc){if(P.pending+2>P.pending_buf_size&&(z(C),P.pending!==0))return P.last_flush=-1,Dn;ve(P,C.adler&255),ve(P,C.adler>>8&255),C.adler=0}if(P.status=To,z(C),P.pending!==0)return P.last_flush=-1,Dn}if(C.avail_in!==0||P.lookahead!==0||Ce!==$n&&P.status!==Bi){let lt=P.level===0?S(P,Ce):P.strategy===ji?le(P,Ce):P.strategy===sa?V(P,Ce):ee[P.level].func(P,Ce);if((lt===qi||lt===ki)&&(P.status=Bi),lt===ba||lt===qi)return C.avail_out===0&&(P.last_flush=-1),Dn;if(lt===fi&&(Ce===Nn?In(P):Ce!==Oi&&(gr(P,0,0,!1),Ce===ga&&($(P.head),P.lookahead===0&&(P.strstart=0,P.block_start=0,P.insert=0))),z(C),C.avail_out===0))return P.last_flush=-1,Dn}return Ce!==Zn?Dn:P.wrap<=0?hc:(P.wrap===2?(ve(P,C.adler&255),ve(P,C.adler>>8&255),ve(P,C.adler>>16&255),ve(P,C.adler>>24&255),ve(P,C.total_in&255),ve(P,C.total_in>>8&255),ve(P,C.total_in>>16&255),ve(P,C.total_in>>24&255)):(De(P,C.adler>>>16),De(P,C.adler&65535)),z(C),P.wrap>0&&(P.wrap=-P.wrap),P.pending!==0?Dn:hc)},yt=C=>{if(ze(C))return ii;const Ce=C.state.status;return C.state=null,Ce===To?Et(C,Eo):Dn},Dt=(C,Ce)=>{let P=Ce.length;if(ze(C))return ii;const Qe=C.state,lt=Qe.wrap;if(lt===2||lt===1&&Qe.status!==fo||Qe.lookahead)return ii;if(lt===1&&(C.adler=tn(C.adler,Ce,P,0)),Qe.wrap=0,P>=Qe.w_size){lt===0&&($(Qe.head),Qe.strstart=0,Qe.block_start=0,Qe.insert=0);let xr=new Uint8Array(Qe.w_size);xr.set(Ce.subarray(P-Qe.w_size,P),0),Ce=xr,P=Qe.w_size}const it=C.avail_in,Yt=C.next_in,Tt=C.input;for(C.avail_in=P,C.next_in=0,C.input=Ce,b(Qe);Qe.lookahead>=Yr;){let xr=Qe.strstart,wt=Qe.lookahead-(Yr-1);do Qe.ins_h=L(Qe,Qe.ins_h,Qe.window[xr+Yr-1]),Qe.prev[xr&Qe.w_mask]=Qe.head[Qe.ins_h],Qe.head[Qe.ins_h]=xr,xr++;while(--wt);Qe.strstart=xr,Qe.lookahead=Yr-1,b(Qe)}return Qe.strstart+=Qe.lookahead,Qe.block_start=Qe.strstart,Qe.insert=Qe.lookahead,Qe.lookahead=0,Qe.match_length=Qe.prev_length=Yr-1,Qe.match_available=0,C.next_in=Yt,C.input=Tt,C.avail_in=it,Qe.wrap=lt,Dn};var pt=At,Ge=ot,Ft=xe,is=Xe,Ht=ct,bt=We,es=yt,Ye=Dt,rt="pako deflate (from Nodeca project)",gt={deflateInit:pt,deflateInit2:Ge,deflateReset:Ft,deflateResetKeep:is,deflateSetHeader:Ht,deflate:bt,deflateEnd:es,deflateSetDictionary:Ye,deflateInfo:rt};const xt=(C,Ce)=>Object.prototype.hasOwnProperty.call(C,Ce);var ss=function(C){const Ce=Array.prototype.slice.call(arguments,1);for(;Ce.length;){const P=Ce.shift();if(P){if(typeof P!="object")throw new TypeError(P+"must be non-object");for(const Qe in P)xt(P,Qe)&&(C[Qe]=P[Qe])}}return C},us=C=>{let Ce=0;for(let Qe=0,lt=C.length;Qe<lt;Qe++)Ce+=C[Qe].length;const P=new Uint8Array(Ce);for(let Qe=0,lt=0,it=C.length;Qe<it;Qe++){let Yt=C[Qe];P.set(Yt,lt),lt+=Yt.length}return P},xs={assign:ss,flattenChunks:us};let Vt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Vt=!1}const fs=new Uint8Array(256);for(let C=0;C<256;C++)fs[C]=C>=252?6:C>=248?5:C>=240?4:C>=224?3:C>=192?2:1;fs[254]=fs[254]=1;var Js=C=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(C);let Ce,P,Qe,lt,it,Yt=C.length,Tt=0;for(lt=0;lt<Yt;lt++)P=C.charCodeAt(lt),(P&64512)===55296&&lt+1<Yt&&(Qe=C.charCodeAt(lt+1),(Qe&64512)===56320&&(P=65536+(P-55296<<10)+(Qe-56320),lt++)),Tt+=P<128?1:P<2048?2:P<65536?3:4;for(Ce=new Uint8Array(Tt),it=0,lt=0;it<Tt;lt++)P=C.charCodeAt(lt),(P&64512)===55296&&lt+1<Yt&&(Qe=C.charCodeAt(lt+1),(Qe&64512)===56320&&(P=65536+(P-55296<<10)+(Qe-56320),lt++)),P<128?Ce[it++]=P:P<2048?(Ce[it++]=192|P>>>6,Ce[it++]=128|P&63):P<65536?(Ce[it++]=224|P>>>12,Ce[it++]=128|P>>>6&63,Ce[it++]=128|P&63):(Ce[it++]=240|P>>>18,Ce[it++]=128|P>>>12&63,Ce[it++]=128|P>>>6&63,Ce[it++]=128|P&63);return Ce};const _s=(C,Ce)=>{if(Ce<65534&&C.subarray&&Vt)return String.fromCharCode.apply(null,C.length===Ce?C:C.subarray(0,Ce));let P="";for(let Qe=0;Qe<Ce;Qe++)P+=String.fromCharCode(C[Qe]);return P};var _e=(C,Ce)=>{const P=Ce||C.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(C.subarray(0,Ce));let Qe,lt;const it=new Array(P*2);for(lt=0,Qe=0;Qe<P;){let Yt=C[Qe++];if(Yt<128){it[lt++]=Yt;continue}let Tt=fs[Yt];if(Tt>4){it[lt++]=65533,Qe+=Tt-1;continue}for(Yt&=Tt===2?31:Tt===3?15:7;Tt>1&&Qe<P;)Yt=Yt<<6|C[Qe++]&63,Tt--;if(Tt>1){it[lt++]=65533;continue}Yt<65536?it[lt++]=Yt:(Yt-=65536,it[lt++]=55296|Yt>>10&1023,it[lt++]=56320|Yt&1023)}return _s(it,lt)},dt=(C,Ce)=>{Ce=Ce||C.length,Ce>C.length&&(Ce=C.length);let P=Ce-1;for(;P>=0&&(C[P]&192)===128;)P--;return P<0||P===0?Ce:P+fs[C[P]]>Ce?P:Ce},ht={string2buf:Js,buf2string:_e,utf8border:dt};function Mt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Rt=Mt;const Wt=Object.prototype.toString,{Z_NO_FLUSH:ms,Z_SYNC_FLUSH:ps,Z_FULL_FLUSH:Us,Z_FINISH:Zs,Z_OK:wr,Z_STREAM_END:vr,Z_DEFAULT_COMPRESSION:Xr,Z_DEFAULT_STRATEGY:tt,Z_DEFLATED:cr}=Lr;function dn(C){this.options=xs.assign({level:Xr,method:cr,chunkSize:16384,windowBits:15,memLevel:8,strategy:tt},C||{});let Ce=this.options;Ce.raw&&Ce.windowBits>0?Ce.windowBits=-Ce.windowBits:Ce.gzip&&Ce.windowBits>0&&Ce.windowBits<16&&(Ce.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Rt,this.strm.avail_out=0;let P=gt.deflateInit2(this.strm,Ce.level,Ce.method,Ce.windowBits,Ce.memLevel,Ce.strategy);if(P!==wr)throw new Error(Ts[P]);if(Ce.header&&gt.deflateSetHeader(this.strm,Ce.header),Ce.dictionary){let Qe;if(typeof Ce.dictionary=="string"?Qe=ht.string2buf(Ce.dictionary):Wt.call(Ce.dictionary)==="[object ArrayBuffer]"?Qe=new Uint8Array(Ce.dictionary):Qe=Ce.dictionary,P=gt.deflateSetDictionary(this.strm,Qe),P!==wr)throw new Error(Ts[P]);this._dict_set=!0}}dn.prototype.push=function(C,Ce){const P=this.strm,Qe=this.options.chunkSize;let lt,it;if(this.ended)return!1;for(Ce===~~Ce?it=Ce:it=Ce===!0?Zs:ms,typeof C=="string"?P.input=ht.string2buf(C):Wt.call(C)==="[object ArrayBuffer]"?P.input=new Uint8Array(C):P.input=C,P.next_in=0,P.avail_in=P.input.length;;){if(P.avail_out===0&&(P.output=new Uint8Array(Qe),P.next_out=0,P.avail_out=Qe),(it===ps||it===Us)&&P.avail_out<=6){this.onData(P.output.subarray(0,P.next_out)),P.avail_out=0;continue}if(lt=gt.deflate(P,it),lt===vr)return P.next_out>0&&this.onData(P.output.subarray(0,P.next_out)),lt=gt.deflateEnd(this.strm),this.onEnd(lt),this.ended=!0,lt===wr;if(P.avail_out===0){this.onData(P.output);continue}if(it>0&&P.next_out>0){this.onData(P.output.subarray(0,P.next_out)),P.avail_out=0;continue}if(P.avail_in===0)break}return!0},dn.prototype.onData=function(C){this.chunks.push(C)},dn.prototype.onEnd=function(C){C===wr&&(this.result=xs.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function ir(C,Ce){const P=new dn(Ce);if(P.push(C,!0),P.err)throw P.msg||Ts[P.err];return P.result}function Ps(C,Ce){return Ce=Ce||{},Ce.raw=!0,ir(C,Ce)}function sn(C,Ce){return Ce=Ce||{},Ce.gzip=!0,ir(C,Ce)}var jr=dn,$r=ir,Rr=Ps,Ca=sn,kn={Deflate:jr,deflate:$r,deflateRaw:Rr,gzip:Ca};const Sr=16209,zn=16191;var Jr=function(Ce,P){let Qe,lt,it,Yt,Tt,xr,wt,Xt,mn,or,Qs,gs,Fa,An,Wr,ln,En,sr,Tn,Ma,Vr,na,Qn,Fr;const on=Ce.state;Qe=Ce.next_in,Qn=Ce.input,lt=Qe+(Ce.avail_in-5),it=Ce.next_out,Fr=Ce.output,Yt=it-(P-Ce.avail_out),Tt=it+(Ce.avail_out-257),xr=on.dmax,wt=on.wsize,Xt=on.whave,mn=on.wnext,or=on.window,Qs=on.hold,gs=on.bits,Fa=on.lencode,An=on.distcode,Wr=(1<<on.lenbits)-1,ln=(1<<on.distbits)-1;e:do{gs<15&&(Qs+=Qn[Qe++]<<gs,gs+=8,Qs+=Qn[Qe++]<<gs,gs+=8),En=Fa[Qs&Wr];t:for(;;){if(sr=En>>>24,Qs>>>=sr,gs-=sr,sr=En>>>16&255,sr===0)Fr[it++]=En&65535;else if(sr&16){Tn=En&65535,sr&=15,sr&&(gs<sr&&(Qs+=Qn[Qe++]<<gs,gs+=8),Tn+=Qs&(1<<sr)-1,Qs>>>=sr,gs-=sr),gs<15&&(Qs+=Qn[Qe++]<<gs,gs+=8,Qs+=Qn[Qe++]<<gs,gs+=8),En=An[Qs&ln];s:for(;;){if(sr=En>>>24,Qs>>>=sr,gs-=sr,sr=En>>>16&255,sr&16){if(Ma=En&65535,sr&=15,gs<sr&&(Qs+=Qn[Qe++]<<gs,gs+=8,gs<sr&&(Qs+=Qn[Qe++]<<gs,gs+=8)),Ma+=Qs&(1<<sr)-1,Ma>xr){Ce.msg="invalid distance too far back",on.mode=Sr;break e}if(Qs>>>=sr,gs-=sr,sr=it-Yt,Ma>sr){if(sr=Ma-sr,sr>Xt&&on.sane){Ce.msg="invalid distance too far back",on.mode=Sr;break e}if(Vr=0,na=or,mn===0){if(Vr+=wt-sr,sr<Tn){Tn-=sr;do Fr[it++]=or[Vr++];while(--sr);Vr=it-Ma,na=Fr}}else if(mn<sr){if(Vr+=wt+mn-sr,sr-=mn,sr<Tn){Tn-=sr;do Fr[it++]=or[Vr++];while(--sr);if(Vr=0,mn<Tn){sr=mn,Tn-=sr;do Fr[it++]=or[Vr++];while(--sr);Vr=it-Ma,na=Fr}}}else if(Vr+=mn-sr,sr<Tn){Tn-=sr;do Fr[it++]=or[Vr++];while(--sr);Vr=it-Ma,na=Fr}for(;Tn>2;)Fr[it++]=na[Vr++],Fr[it++]=na[Vr++],Fr[it++]=na[Vr++],Tn-=3;Tn&&(Fr[it++]=na[Vr++],Tn>1&&(Fr[it++]=na[Vr++]))}else{Vr=it-Ma;do Fr[it++]=Fr[Vr++],Fr[it++]=Fr[Vr++],Fr[it++]=Fr[Vr++],Tn-=3;while(Tn>2);Tn&&(Fr[it++]=Fr[Vr++],Tn>1&&(Fr[it++]=Fr[Vr++]))}}else if((sr&64)===0){En=An[(En&65535)+(Qs&(1<<sr)-1)];continue s}else{Ce.msg="invalid distance code",on.mode=Sr;break e}break}}else if((sr&64)===0){En=Fa[(En&65535)+(Qs&(1<<sr)-1)];continue t}else if(sr&32){on.mode=zn;break e}else{Ce.msg="invalid literal/length code",on.mode=Sr;break e}break}}while(Qe<lt&&it<Tt);Tn=gs>>3,Qe-=Tn,gs-=Tn<<3,Qs&=(1<<gs)-1,Ce.next_in=Qe,Ce.next_out=it,Ce.avail_in=Qe<lt?5+(lt-Qe):5-(Qe-lt),Ce.avail_out=it<Tt?257+(Tt-it):257-(it-Tt),on.hold=Qs,on.bits=gs};const Er=15,nn=852,Qr=592,xn=0,Wn=1,Sn=2,Rn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$a=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Gr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Qa=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var zr=(C,Ce,P,Qe,lt,it,Yt,Tt)=>{const xr=Tt.bits;let wt=0,Xt=0,mn=0,or=0,Qs=0,gs=0,Fa=0,An=0,Wr=0,ln=0,En,sr,Tn,Ma,Vr,na=null,Qn;const Fr=new Uint16Array(Er+1),on=new Uint16Array(Er+1);let bo=null,Zl,vl,Yi;for(wt=0;wt<=Er;wt++)Fr[wt]=0;for(Xt=0;Xt<Qe;Xt++)Fr[Ce[P+Xt]]++;for(Qs=xr,or=Er;or>=1&&Fr[or]===0;or--);if(Qs>or&&(Qs=or),or===0)return lt[it++]=1<<24|64<<16|0,lt[it++]=1<<24|64<<16|0,Tt.bits=1,0;for(mn=1;mn<or&&Fr[mn]===0;mn++);for(Qs<mn&&(Qs=mn),An=1,wt=1;wt<=Er;wt++)if(An<<=1,An-=Fr[wt],An<0)return-1;if(An>0&&(C===xn||or!==1))return-1;for(on[1]=0,wt=1;wt<Er;wt++)on[wt+1]=on[wt]+Fr[wt];for(Xt=0;Xt<Qe;Xt++)Ce[P+Xt]!==0&&(Yt[on[Ce[P+Xt]]++]=Xt);if(C===xn?(na=bo=Yt,Qn=20):C===Wn?(na=Rn,bo=$a,Qn=257):(na=Gr,bo=Qa,Qn=0),ln=0,Xt=0,wt=mn,Vr=it,gs=Qs,Fa=0,Tn=-1,Wr=1<<Qs,Ma=Wr-1,C===Wn&&Wr>nn||C===Sn&&Wr>Qr)return 1;for(;;){Zl=wt-Fa,Yt[Xt]+1<Qn?(vl=0,Yi=Yt[Xt]):Yt[Xt]>=Qn?(vl=bo[Yt[Xt]-Qn],Yi=na[Yt[Xt]-Qn]):(vl=96,Yi=0),En=1<<wt-Fa,sr=1<<gs,mn=sr;do sr-=En,lt[Vr+(ln>>Fa)+sr]=Zl<<24|vl<<16|Yi|0;while(sr!==0);for(En=1<<wt-1;ln&En;)En>>=1;if(En!==0?(ln&=En-1,ln+=En):ln=0,Xt++,--Fr[wt]===0){if(wt===or)break;wt=Ce[P+Yt[Xt]]}if(wt>Qs&&(ln&Ma)!==Tn){for(Fa===0&&(Fa=Qs),Vr+=mn,gs=wt-Fa,An=1<<gs;gs+Fa<or&&(An-=Fr[gs+Fa],!(An<=0));)gs++,An<<=1;if(Wr+=1<<gs,C===Wn&&Wr>nn||C===Sn&&Wr>Qr)return 1;Tn=ln&Ma,lt[Tn]=Qs<<24|gs<<16|Vr-it|0}}return ln!==0&&(lt[Vr+ln]=wt-Fa<<24|64<<16|0),Tt.bits=Qs,0};const ja=0,wn=1,lr=2,{Z_FINISH:Fn,Z_BLOCK:$c,Z_TREES:Di,Z_OK:oo,Z_STREAM_END:Kl,Z_NEED_DICT:an,Z_STREAM_ERROR:oi,Z_DATA_ERROR:mi,Z_MEM_ERROR:qo,Z_BUF_ERROR:Uo,Z_DEFLATED:Da}=Lr,pi=16180,li=16181,Tl=16182,Ri=16183,Al=16184,mo=16185,Ul=16186,Fo=16187,hl=16188,Gc=16189,fl=16190,Mo=16191,Ec=16192,Wc=16193,fc=16194,el=16195,Tc=16196,Lo=16197,Fl=16198,po=16199,mc=16200,Uc=16201,cd=16202,$l=16203,Wd=16204,dd=16205,go=16206,Fd=16207,Oo=16208,un=16209,Ml=16210,Gl=16211,Wl=852,Fc=592,$i=15,Yl=C=>(C>>>24&255)+(C>>>8&65280)+((C&65280)<<8)+((C&255)<<24);function ud(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Gi=C=>{if(!C)return 1;const Ce=C.state;return!Ce||Ce.strm!==C||Ce.mode<pi||Ce.mode>Gl?1:0},Yc=C=>{if(Gi(C))return oi;const Ce=C.state;return C.total_in=C.total_out=Ce.total=0,C.msg="",Ce.wrap&&(C.adler=Ce.wrap&1),Ce.mode=pi,Ce.last=0,Ce.havedict=0,Ce.flags=-1,Ce.dmax=32768,Ce.head=null,Ce.hold=0,Ce.bits=0,Ce.lencode=Ce.lendyn=new Int32Array(Wl),Ce.distcode=Ce.distdyn=new Int32Array(Fc),Ce.sane=1,Ce.back=-1,oo},Io=C=>{if(Gi(C))return oi;const Ce=C.state;return Ce.wsize=0,Ce.whave=0,Ce.wnext=0,Yc(C)},Ad=(C,Ce)=>{let P;if(Gi(C))return oi;const Qe=C.state;return Ce<0?(P=0,Ce=-Ce):(P=(Ce>>4)+5,Ce<48&&(Ce&=15)),Ce&&(Ce<8||Ce>15)?oi:(Qe.window!==null&&Qe.wbits!==Ce&&(Qe.window=null),Qe.wrap=P,Qe.wbits=Ce,Io(C))},Xl=(C,Ce)=>{if(!C)return oi;const P=new ud;C.state=P,P.strm=C,P.window=null,P.mode=pi;const Qe=Ad(C,Ce);return Qe!==oo&&(C.state=null),Qe},xo=C=>Xl(C,$i);let eo=!0,Jl,ml;const tl=C=>{if(eo){Jl=new Int32Array(512),ml=new Int32Array(32);let Ce=0;for(;Ce<144;)C.lens[Ce++]=8;for(;Ce<256;)C.lens[Ce++]=9;for(;Ce<280;)C.lens[Ce++]=7;for(;Ce<288;)C.lens[Ce++]=8;for(zr(wn,C.lens,0,288,Jl,0,C.work,{bits:9}),Ce=0;Ce<32;)C.lens[Ce++]=5;zr(lr,C.lens,0,32,ml,0,C.work,{bits:5}),eo=!1}C.lencode=Jl,C.lenbits=9,C.distcode=ml,C.distbits=5},pl=(C,Ce,P,Qe)=>{let lt;const it=C.state;return it.window===null&&(it.wsize=1<<it.wbits,it.wnext=0,it.whave=0,it.window=new Uint8Array(it.wsize)),Qe>=it.wsize?(it.window.set(Ce.subarray(P-it.wsize,P),0),it.wnext=0,it.whave=it.wsize):(lt=it.wsize-it.wnext,lt>Qe&&(lt=Qe),it.window.set(Ce.subarray(P-Qe,P-Qe+lt),it.wnext),Qe-=lt,Qe?(it.window.set(Ce.subarray(P-Qe,P),0),it.wnext=Qe,it.whave=it.wsize):(it.wnext+=lt,it.wnext===it.wsize&&(it.wnext=0),it.whave<it.wsize&&(it.whave+=lt))),0},fu=(C,Ce)=>{let P,Qe,lt,it,Yt,Tt,xr,wt,Xt,mn,or,Qs,gs,Fa,An=0,Wr,ln,En,sr,Tn,Ma,Vr,na;const Qn=new Uint8Array(4);let Fr,on;const bo=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Gi(C)||!C.output||!C.input&&C.avail_in!==0)return oi;P=C.state,P.mode===Mo&&(P.mode=Ec),Yt=C.next_out,lt=C.output,xr=C.avail_out,it=C.next_in,Qe=C.input,Tt=C.avail_in,wt=P.hold,Xt=P.bits,mn=Tt,or=xr,na=oo;e:for(;;)switch(P.mode){case pi:if(P.wrap===0){P.mode=Ec;break}for(;Xt<16;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}if(P.wrap&2&&wt===35615){P.wbits===0&&(P.wbits=15),P.check=0,Qn[0]=wt&255,Qn[1]=wt>>>8&255,P.check=nr(P.check,Qn,2,0),wt=0,Xt=0,P.mode=li;break}if(P.head&&(P.head.done=!1),!(P.wrap&1)||(((wt&255)<<8)+(wt>>8))%31){C.msg="incorrect header check",P.mode=un;break}if((wt&15)!==Da){C.msg="unknown compression method",P.mode=un;break}if(wt>>>=4,Xt-=4,Vr=(wt&15)+8,P.wbits===0&&(P.wbits=Vr),Vr>15||Vr>P.wbits){C.msg="invalid window size",P.mode=un;break}P.dmax=1<<P.wbits,P.flags=0,C.adler=P.check=1,P.mode=wt&512?Gc:Mo,wt=0,Xt=0;break;case li:for(;Xt<16;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}if(P.flags=wt,(P.flags&255)!==Da){C.msg="unknown compression method",P.mode=un;break}if(P.flags&57344){C.msg="unknown header flags set",P.mode=un;break}P.head&&(P.head.text=wt>>8&1),P.flags&512&&P.wrap&4&&(Qn[0]=wt&255,Qn[1]=wt>>>8&255,P.check=nr(P.check,Qn,2,0)),wt=0,Xt=0,P.mode=Tl;case Tl:for(;Xt<32;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}P.head&&(P.head.time=wt),P.flags&512&&P.wrap&4&&(Qn[0]=wt&255,Qn[1]=wt>>>8&255,Qn[2]=wt>>>16&255,Qn[3]=wt>>>24&255,P.check=nr(P.check,Qn,4,0)),wt=0,Xt=0,P.mode=Ri;case Ri:for(;Xt<16;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}P.head&&(P.head.xflags=wt&255,P.head.os=wt>>8),P.flags&512&&P.wrap&4&&(Qn[0]=wt&255,Qn[1]=wt>>>8&255,P.check=nr(P.check,Qn,2,0)),wt=0,Xt=0,P.mode=Al;case Al:if(P.flags&1024){for(;Xt<16;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}P.length=wt,P.head&&(P.head.extra_len=wt),P.flags&512&&P.wrap&4&&(Qn[0]=wt&255,Qn[1]=wt>>>8&255,P.check=nr(P.check,Qn,2,0)),wt=0,Xt=0}else P.head&&(P.head.extra=null);P.mode=mo;case mo:if(P.flags&1024&&(Qs=P.length,Qs>Tt&&(Qs=Tt),Qs&&(P.head&&(Vr=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Uint8Array(P.head.extra_len)),P.head.extra.set(Qe.subarray(it,it+Qs),Vr)),P.flags&512&&P.wrap&4&&(P.check=nr(P.check,Qe,Qs,it)),Tt-=Qs,it+=Qs,P.length-=Qs),P.length))break e;P.length=0,P.mode=Ul;case Ul:if(P.flags&2048){if(Tt===0)break e;Qs=0;do Vr=Qe[it+Qs++],P.head&&Vr&&P.length<65536&&(P.head.name+=String.fromCharCode(Vr));while(Vr&&Qs<Tt);if(P.flags&512&&P.wrap&4&&(P.check=nr(P.check,Qe,Qs,it)),Tt-=Qs,it+=Qs,Vr)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=Fo;case Fo:if(P.flags&4096){if(Tt===0)break e;Qs=0;do Vr=Qe[it+Qs++],P.head&&Vr&&P.length<65536&&(P.head.comment+=String.fromCharCode(Vr));while(Vr&&Qs<Tt);if(P.flags&512&&P.wrap&4&&(P.check=nr(P.check,Qe,Qs,it)),Tt-=Qs,it+=Qs,Vr)break e}else P.head&&(P.head.comment=null);P.mode=hl;case hl:if(P.flags&512){for(;Xt<16;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}if(P.wrap&4&&wt!==(P.check&65535)){C.msg="header crc mismatch",P.mode=un;break}wt=0,Xt=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),C.adler=P.check=0,P.mode=Mo;break;case Gc:for(;Xt<32;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}C.adler=P.check=Yl(wt),wt=0,Xt=0,P.mode=fl;case fl:if(P.havedict===0)return C.next_out=Yt,C.avail_out=xr,C.next_in=it,C.avail_in=Tt,P.hold=wt,P.bits=Xt,an;C.adler=P.check=1,P.mode=Mo;case Mo:if(Ce===$c||Ce===Di)break e;case Ec:if(P.last){wt>>>=Xt&7,Xt-=Xt&7,P.mode=go;break}for(;Xt<3;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}switch(P.last=wt&1,wt>>>=1,Xt-=1,wt&3){case 0:P.mode=Wc;break;case 1:if(tl(P),P.mode=po,Ce===Di){wt>>>=2,Xt-=2;break e}break;case 2:P.mode=Tc;break;case 3:C.msg="invalid block type",P.mode=un}wt>>>=2,Xt-=2;break;case Wc:for(wt>>>=Xt&7,Xt-=Xt&7;Xt<32;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}if((wt&65535)!==(wt>>>16^65535)){C.msg="invalid stored block lengths",P.mode=un;break}if(P.length=wt&65535,wt=0,Xt=0,P.mode=fc,Ce===Di)break e;case fc:P.mode=el;case el:if(Qs=P.length,Qs){if(Qs>Tt&&(Qs=Tt),Qs>xr&&(Qs=xr),Qs===0)break e;lt.set(Qe.subarray(it,it+Qs),Yt),Tt-=Qs,it+=Qs,xr-=Qs,Yt+=Qs,P.length-=Qs;break}P.mode=Mo;break;case Tc:for(;Xt<14;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}if(P.nlen=(wt&31)+257,wt>>>=5,Xt-=5,P.ndist=(wt&31)+1,wt>>>=5,Xt-=5,P.ncode=(wt&15)+4,wt>>>=4,Xt-=4,P.nlen>286||P.ndist>30){C.msg="too many length or distance symbols",P.mode=un;break}P.have=0,P.mode=Lo;case Lo:for(;P.have<P.ncode;){for(;Xt<3;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}P.lens[bo[P.have++]]=wt&7,wt>>>=3,Xt-=3}for(;P.have<19;)P.lens[bo[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,Fr={bits:P.lenbits},na=zr(ja,P.lens,0,19,P.lencode,0,P.work,Fr),P.lenbits=Fr.bits,na){C.msg="invalid code lengths set",P.mode=un;break}P.have=0,P.mode=Fl;case Fl:for(;P.have<P.nlen+P.ndist;){for(;An=P.lencode[wt&(1<<P.lenbits)-1],Wr=An>>>24,ln=An>>>16&255,En=An&65535,!(Wr<=Xt);){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}if(En<16)wt>>>=Wr,Xt-=Wr,P.lens[P.have++]=En;else{if(En===16){for(on=Wr+2;Xt<on;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}if(wt>>>=Wr,Xt-=Wr,P.have===0){C.msg="invalid bit length repeat",P.mode=un;break}Vr=P.lens[P.have-1],Qs=3+(wt&3),wt>>>=2,Xt-=2}else if(En===17){for(on=Wr+3;Xt<on;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}wt>>>=Wr,Xt-=Wr,Vr=0,Qs=3+(wt&7),wt>>>=3,Xt-=3}else{for(on=Wr+7;Xt<on;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}wt>>>=Wr,Xt-=Wr,Vr=0,Qs=11+(wt&127),wt>>>=7,Xt-=7}if(P.have+Qs>P.nlen+P.ndist){C.msg="invalid bit length repeat",P.mode=un;break}for(;Qs--;)P.lens[P.have++]=Vr}}if(P.mode===un)break;if(P.lens[256]===0){C.msg="invalid code -- missing end-of-block",P.mode=un;break}if(P.lenbits=9,Fr={bits:P.lenbits},na=zr(wn,P.lens,0,P.nlen,P.lencode,0,P.work,Fr),P.lenbits=Fr.bits,na){C.msg="invalid literal/lengths set",P.mode=un;break}if(P.distbits=6,P.distcode=P.distdyn,Fr={bits:P.distbits},na=zr(lr,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,Fr),P.distbits=Fr.bits,na){C.msg="invalid distances set",P.mode=un;break}if(P.mode=po,Ce===Di)break e;case po:P.mode=mc;case mc:if(Tt>=6&&xr>=258){C.next_out=Yt,C.avail_out=xr,C.next_in=it,C.avail_in=Tt,P.hold=wt,P.bits=Xt,Jr(C,or),Yt=C.next_out,lt=C.output,xr=C.avail_out,it=C.next_in,Qe=C.input,Tt=C.avail_in,wt=P.hold,Xt=P.bits,P.mode===Mo&&(P.back=-1);break}for(P.back=0;An=P.lencode[wt&(1<<P.lenbits)-1],Wr=An>>>24,ln=An>>>16&255,En=An&65535,!(Wr<=Xt);){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}if(ln&&(ln&240)===0){for(sr=Wr,Tn=ln,Ma=En;An=P.lencode[Ma+((wt&(1<<sr+Tn)-1)>>sr)],Wr=An>>>24,ln=An>>>16&255,En=An&65535,!(sr+Wr<=Xt);){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}wt>>>=sr,Xt-=sr,P.back+=sr}if(wt>>>=Wr,Xt-=Wr,P.back+=Wr,P.length=En,ln===0){P.mode=dd;break}if(ln&32){P.back=-1,P.mode=Mo;break}if(ln&64){C.msg="invalid literal/length code",P.mode=un;break}P.extra=ln&15,P.mode=Uc;case Uc:if(P.extra){for(on=P.extra;Xt<on;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}P.length+=wt&(1<<P.extra)-1,wt>>>=P.extra,Xt-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=cd;case cd:for(;An=P.distcode[wt&(1<<P.distbits)-1],Wr=An>>>24,ln=An>>>16&255,En=An&65535,!(Wr<=Xt);){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}if((ln&240)===0){for(sr=Wr,Tn=ln,Ma=En;An=P.distcode[Ma+((wt&(1<<sr+Tn)-1)>>sr)],Wr=An>>>24,ln=An>>>16&255,En=An&65535,!(sr+Wr<=Xt);){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}wt>>>=sr,Xt-=sr,P.back+=sr}if(wt>>>=Wr,Xt-=Wr,P.back+=Wr,ln&64){C.msg="invalid distance code",P.mode=un;break}P.offset=En,P.extra=ln&15,P.mode=$l;case $l:if(P.extra){for(on=P.extra;Xt<on;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}P.offset+=wt&(1<<P.extra)-1,wt>>>=P.extra,Xt-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){C.msg="invalid distance too far back",P.mode=un;break}P.mode=Wd;case Wd:if(xr===0)break e;if(Qs=or-xr,P.offset>Qs){if(Qs=P.offset-Qs,Qs>P.whave&&P.sane){C.msg="invalid distance too far back",P.mode=un;break}Qs>P.wnext?(Qs-=P.wnext,gs=P.wsize-Qs):gs=P.wnext-Qs,Qs>P.length&&(Qs=P.length),Fa=P.window}else Fa=lt,gs=Yt-P.offset,Qs=P.length;Qs>xr&&(Qs=xr),xr-=Qs,P.length-=Qs;do lt[Yt++]=Fa[gs++];while(--Qs);P.length===0&&(P.mode=mc);break;case dd:if(xr===0)break e;lt[Yt++]=P.length,xr--,P.mode=mc;break;case go:if(P.wrap){for(;Xt<32;){if(Tt===0)break e;Tt--,wt|=Qe[it++]<<Xt,Xt+=8}if(or-=xr,C.total_out+=or,P.total+=or,P.wrap&4&&or&&(C.adler=P.check=P.flags?nr(P.check,lt,or,Yt-or):tn(P.check,lt,or,Yt-or)),or=xr,P.wrap&4&&(P.flags?wt:Yl(wt))!==P.check){C.msg="incorrect data check",P.mode=un;break}wt=0,Xt=0}P.mode=Fd;case Fd:if(P.wrap&&P.flags){for(;Xt<32;){if(Tt===0)break e;Tt--,wt+=Qe[it++]<<Xt,Xt+=8}if(P.wrap&4&&wt!==(P.total&4294967295)){C.msg="incorrect length check",P.mode=un;break}wt=0,Xt=0}P.mode=Oo;case Oo:na=Kl;break e;case un:na=mi;break e;case Ml:return qo;case Gl:default:return oi}return C.next_out=Yt,C.avail_out=xr,C.next_in=it,C.avail_in=Tt,P.hold=wt,P.bits=Xt,(P.wsize||or!==C.avail_out&&P.mode<un&&(P.mode<go||Ce!==Fn))&&pl(C,C.output,C.next_out,or-C.avail_out),mn-=C.avail_in,or-=C.avail_out,C.total_in+=mn,C.total_out+=or,P.total+=or,P.wrap&4&&or&&(C.adler=P.check=P.flags?nr(P.check,lt,or,C.next_out-or):tn(P.check,lt,or,C.next_out-or)),C.data_type=P.bits+(P.last?64:0)+(P.mode===Mo?128:0)+(P.mode===po||P.mode===fc?256:0),(mn===0&&or===0||Ce===Fn)&&na===oo&&(na=Uo),na},Ol=C=>{if(Gi(C))return oi;let Ce=C.state;return Ce.window&&(Ce.window=null),C.state=null,oo},mu=(C,Ce)=>{if(Gi(C))return oi;const P=C.state;return(P.wrap&2)===0?oi:(P.head=Ce,Ce.done=!1,oo)},hd=(C,Ce)=>{const P=Ce.length;let Qe,lt,it;return Gi(C)||(Qe=C.state,Qe.wrap!==0&&Qe.mode!==fl)?oi:Qe.mode===fl&&(lt=1,lt=tn(lt,Ce,P,0),lt!==Qe.check)?mi:(it=pl(C,Ce,P,P),it?(Qe.mode=Ml,qo):(Qe.havedict=1,oo))};var Qi=Io,_a=Ad,dr=Yc,Mc=xo,gl=Xl,fd=fu,Do=Ol,Lc=mu,pu=hd,md="pako inflate (from Nodeca project)",Wi={inflateReset:Qi,inflateReset2:_a,inflateResetKeep:dr,inflateInit:Mc,inflateInit2:gl,inflate:fd,inflateEnd:Do,inflateGetHeader:Lc,inflateSetDictionary:pu,inflateInfo:md};function Xc(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xl=Xc;const Yd=Object.prototype.toString,{Z_NO_FLUSH:sl,Z_FINISH:pc,Z_OK:Ro,Z_STREAM_END:rl,Z_NEED_DICT:pd,Z_STREAM_ERROR:bl,Z_DATA_ERROR:gc,Z_MEM_ERROR:Jc}=Lr;function nl(C){this.options=xs.assign({chunkSize:65536,windowBits:15,to:""},C||{});const Ce=this.options;Ce.raw&&Ce.windowBits>=0&&Ce.windowBits<16&&(Ce.windowBits=-Ce.windowBits,Ce.windowBits===0&&(Ce.windowBits=-15)),Ce.windowBits>=0&&Ce.windowBits<16&&!(C&&C.windowBits)&&(Ce.windowBits+=32),Ce.windowBits>15&&Ce.windowBits<48&&(Ce.windowBits&15)===0&&(Ce.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Rt,this.strm.avail_out=0;let P=Wi.inflateInit2(this.strm,Ce.windowBits);if(P!==Ro)throw new Error(Ts[P]);if(this.header=new xl,Wi.inflateGetHeader(this.strm,this.header),Ce.dictionary&&(typeof Ce.dictionary=="string"?Ce.dictionary=ht.string2buf(Ce.dictionary):Yd.call(Ce.dictionary)==="[object ArrayBuffer]"&&(Ce.dictionary=new Uint8Array(Ce.dictionary)),Ce.raw&&(P=Wi.inflateSetDictionary(this.strm,Ce.dictionary),P!==Ro)))throw new Error(Ts[P])}nl.prototype.push=function(C,Ce){const P=this.strm,Qe=this.options.chunkSize,lt=this.options.dictionary;let it,Yt,Tt;if(this.ended)return!1;for(Ce===~~Ce?Yt=Ce:Yt=Ce===!0?pc:sl,Yd.call(C)==="[object ArrayBuffer]"?P.input=new Uint8Array(C):P.input=C,P.next_in=0,P.avail_in=P.input.length;;){for(P.avail_out===0&&(P.output=new Uint8Array(Qe),P.next_out=0,P.avail_out=Qe),it=Wi.inflate(P,Yt),it===pd&&lt&&(it=Wi.inflateSetDictionary(P,lt),it===Ro?it=Wi.inflate(P,Yt):it===gc&&(it=pd));P.avail_in>0&&it===rl&&P.state.wrap>0&&C[P.next_in]!==0;)Wi.inflateReset(P),it=Wi.inflate(P,Yt);switch(it){case bl:case gc:case pd:case Jc:return this.onEnd(it),this.ended=!0,!1}if(Tt=P.avail_out,P.next_out&&(P.avail_out===0||it===rl))if(this.options.to==="string"){let xr=ht.utf8border(P.output,P.next_out),wt=P.next_out-xr,Xt=ht.buf2string(P.output,xr);P.next_out=wt,P.avail_out=Qe-wt,wt&&P.output.set(P.output.subarray(xr,xr+wt),0),this.onData(Xt)}else this.onData(P.output.length===P.next_out?P.output:P.output.subarray(0,P.next_out));if(!(it===Ro&&Tt===0)){if(it===rl)return it=Wi.inflateEnd(this.strm),this.onEnd(it),this.ended=!0,!0;if(P.avail_in===0)break}}return!0},nl.prototype.onData=function(C){this.chunks.push(C)},nl.prototype.onEnd=function(C){C===Ro&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xs.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function ti(C,Ce){const P=new nl(Ce);if(P.push(C),P.err)throw P.msg||Ts[P.err];return P.result}function gd(C,Ce){return Ce=Ce||{},Ce.raw=!0,ti(C,Ce)}var gu=nl,Tu=ti,Zc=gd,qc=ti,gi={Inflate:gu,inflate:Tu,inflateRaw:Zc,ungzip:qc};const{Deflate:ed,deflate:xd,deflateRaw:X,gzip:Te}=kn,{Inflate:at,inflate:ft,inflateRaw:_t,ungzip:Cs}=gi;var Os=ed,Tr=xd,Ur=X,fn=Te,jn=at,ra=ft,Ua=_t,xi=Cs,Ba=Lr,Si={Deflate:Os,deflate:Tr,deflateRaw:Ur,gzip:fn,Inflate:jn,inflate:ra,inflateRaw:Ua,ungzip:xi,constants:Ba}}),"./node_modules/performance-now/lib/performance-now.js":(function(d){(function(){var A,o,f,m,p,x;typeof performance<"u"&&performance!==null&&performance.now?d.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(d.exports=function(){return(A()-p)/1e6},o=process.hrtime,A=function(){var v;return v=o(),v[0]*1e9+v[1]},m=A(),x=process.uptime()*1e9,p=m-x):Date.now?(d.exports=function(){return Date.now()-f},f=Date.now()):(d.exports=function(){return new Date().getTime()-f},f=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(d,A,o){for(var f=o("./node_modules/performance-now/lib/performance-now.js"),m=typeof window>"u"?k0:window,p=["moz","webkit"],x="AnimationFrame",v=m["request"+x],y=m["cancel"+x]||m["cancelRequest"+x],w=0;!v&&w<p.length;w++)v=m[p[w]+"Request"+x],y=m[p[w]+"Cancel"+x]||m[p[w]+"CancelRequest"+x];if(!v||!y){var E=0,Q=0,K=[],Z=1e3/60;v=function(J){if(K.length===0){var H=f(),G=Math.max(0,Z-(H-E));E=G+H,setTimeout(function(){var ce=K.slice(0);K.length=0;for(var Ae=0;Ae<ce.length;Ae++)if(!ce[Ae].cancelled)try{ce[Ae].callback(E)}catch(Ne){setTimeout(function(){throw Ne},0)}},Math.round(G))}return K.push({handle:++Q,callback:J,cancelled:!1}),Q},y=function(J){for(var H=0;H<K.length;H++)K[H].handle===J&&(K[H].cancelled=!0)}}d.exports=function(J){return v.call(m,J)},d.exports.cancel=function(){y.apply(m,arguments)},d.exports.polyfill=function(J){J||(J=m),J.requestAnimationFrame=v,J.cancelAnimationFrame=y}}),"./node_modules/rgbcolor/index.js":(function(d){d.exports=function(A){this.ok=!1,this.alpha=1,A.charAt(0)=="#"&&(A=A.substr(1,6)),A=A.replace(/ /g,""),A=A.toLowerCase();var o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};A=o[A]||A;for(var f=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(w){return[parseInt(w[1]),parseInt(w[2]),parseInt(w[3]),parseFloat(w[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(w){return[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(w){return[parseInt(w[1],16),parseInt(w[2],16),parseInt(w[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(w){return[parseInt(w[1]+w[1],16),parseInt(w[2]+w[2],16),parseInt(w[3]+w[3],16)]}}],m=0;m<f.length;m++){var p=f[m].re,x=f[m].process,v=p.exec(A);if(v){var y=x(v);this.r=y[0],this.g=y[1],this.b=y[2],y.length>3&&(this.alpha=y[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var w=this.r.toString(16),E=this.g.toString(16),Q=this.b.toString(16);return w.length==1&&(w="0"+w),E.length==1&&(E="0"+E),Q.length==1&&(Q="0"+Q),"#"+w+E+Q},this.getHelpXML=function(){for(var w=new Array,E=0;E<f.length;E++)for(var Q=f[E].example,K=0;K<Q.length;K++)w[w.length]=Q[K];for(var Z in o)w[w.length]=Z;var J=document.createElement("ul");J.setAttribute("id","rgbcolor-examples");for(var E=0;E<w.length;E++)try{var H=document.createElement("li"),G=new RGBColor(w[E]),ce=document.createElement("div");ce.style.cssText="margin: 3px; border: 1px solid black; background:"+G.toHex()+"; color:"+G.toHex(),ce.appendChild(document.createTextNode("test"));var Ae=document.createTextNode(" "+w[E]+" -> "+G.toRGB()+" -> "+G.toHex());H.appendChild(ce),H.appendChild(Ae),J.appendChild(H)}catch{}return J}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(d,A,o){o.r(A),o.d(A,{BlurStack:function(){return Z},canvasRGB:function(){return Q},canvasRGBA:function(){return w},image:function(){return v},imageDataRGB:function(){return K},imageDataRGBA:function(){return E}});function f(J){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(H){return typeof H}:f=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},f(J)}function m(J,H){if(!(J instanceof H))throw new TypeError("Cannot call a class as a function")}var p=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],x=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function v(J,H,G,ce,Ae,Ne){if(typeof J=="string"&&(J=document.getElementById(J)),!(!J||Object.prototype.toString.call(J).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in J))){var re=Ae?"offset":"natural",Be=J[re+"Width"],fe=J[re+"Height"];if(Object.prototype.toString.call(J).slice(8,-1)==="ImageBitmap"&&(Be=J.width,fe=J.height),typeof H=="string"&&(H=document.getElementById(H)),!(!H||!("getContext"in H))){Ne||(H.style.width=Be+"px",H.style.height=fe+"px"),H.width=Be,H.height=fe;var Se=H.getContext("2d");Se.clearRect(0,0,Be,fe),Se.drawImage(J,0,0,J.naturalWidth,J.naturalHeight,0,0,Be,fe),!(isNaN(G)||G<1)&&(ce?w(H,0,0,Be,fe,G):Q(H,0,0,Be,fe,G))}}}function y(J,H,G,ce,Ae){if(typeof J=="string"&&(J=document.getElementById(J)),!J||f(J)!=="object"||!("getContext"in J))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var Ne=J.getContext("2d");try{return Ne.getImageData(H,G,ce,Ae)}catch(re){throw new Error("unable to access image data: "+re)}}function w(J,H,G,ce,Ae,Ne){if(!(isNaN(Ne)||Ne<1)){Ne|=0;var re=y(J,H,G,ce,Ae);re=E(re,H,G,ce,Ae,Ne),J.getContext("2d").putImageData(re,H,G)}}function E(J,H,G,ce,Ae,Ne){for(var re=J.data,Be=2*Ne+1,fe=ce-1,Se=Ae-1,pe=Ne+1,ae=pe*(pe+1)/2,de=new Z,oe=de,Ee,Re=1;Re<Be;Re++)oe=oe.next=new Z,Re===pe&&(Ee=oe);oe.next=de;for(var ke=null,me=null,we=0,ue=0,te=p[Ne],ge=x[Ne],Me=0;Me<Ae;Me++){oe=de;for(var Ve=re[ue],Nt=re[ue+1],ut=re[ue+2],et=re[ue+3],Lt=0;Lt<pe;Lt++)oe.r=Ve,oe.g=Nt,oe.b=ut,oe.a=et,oe=oe.next;for(var ns=0,ls=0,vt=0,$e=0,Bt=pe*Ve,Qt=pe*Nt,ks=pe*ut,zs=pe*et,yr=ae*Ve,mr=ae*Nt,ar=ae*ut,$s=ae*et,As=1;As<pe;As++){var Rs=ue+((fe<As?fe:As)<<2),br=re[Rs],js=re[Rs+1],qs=re[Rs+2],hr=re[Rs+3],rr=pe-As;yr+=(oe.r=br)*rr,mr+=(oe.g=js)*rr,ar+=(oe.b=qs)*rr,$s+=(oe.a=hr)*rr,ns+=br,ls+=js,vt+=qs,$e+=hr,oe=oe.next}ke=de,me=Ee;for(var Xs=0;Xs<ce;Xs++){var Es=$s*te>>>ge;if(re[ue+3]=Es,Es!==0){var Gt=255/Es;re[ue]=(yr*te>>>ge)*Gt,re[ue+1]=(mr*te>>>ge)*Gt,re[ue+2]=(ar*te>>>ge)*Gt}else re[ue]=re[ue+1]=re[ue+2]=0;yr-=Bt,mr-=Qt,ar-=ks,$s-=zs,Bt-=ke.r,Qt-=ke.g,ks-=ke.b,zs-=ke.a;var vs=Xs+Ne+1;vs=we+(vs<fe?vs:fe)<<2,ns+=ke.r=re[vs],ls+=ke.g=re[vs+1],vt+=ke.b=re[vs+2],$e+=ke.a=re[vs+3],yr+=ns,mr+=ls,ar+=vt,$s+=$e,ke=ke.next;var Ms=me,Gs=Ms.r,fr=Ms.g,Ct=Ms.b,Zt=Ms.a;Bt+=Gs,Qt+=fr,ks+=Ct,zs+=Zt,ns-=Gs,ls-=fr,vt-=Ct,$e-=Zt,me=me.next,ue+=4}we+=ce}for(var ds=0;ds<ce;ds++){ue=ds<<2;var hs=re[ue],Ks=re[ue+1],Vs=re[ue+2],pr=re[ue+3],tn=pe*hs,Ns=pe*Ks,Is=pe*Vs,kr=pe*pr,nr=ae*hs,Ts=ae*Ks,Lr=ae*Vs,la=ae*pr;oe=de;for(var gr=0;gr<pe;gr++)oe.r=hs,oe.g=Ks,oe.b=Vs,oe.a=pr,oe=oe.next;for(var qa=ce,yn=0,In=0,$n=0,Nn=0,ga=1;ga<=Ne;ga++){ue=qa+ds<<2;var Zn=pe-ga;nr+=(oe.r=hs=re[ue])*Zn,Ts+=(oe.g=Ks=re[ue+1])*Zn,Lr+=(oe.b=Vs=re[ue+2])*Zn,la+=(oe.a=pr=re[ue+3])*Zn,Nn+=hs,yn+=Ks,In+=Vs,$n+=pr,oe=oe.next,ga<Se&&(qa+=ce)}ue=ds,ke=de,me=Ee;for(var Oi=0;Oi<Ae;Oi++){var Dn=ue<<2;re[Dn+3]=pr=la*te>>>ge,pr>0?(pr=255/pr,re[Dn]=(nr*te>>>ge)*pr,re[Dn+1]=(Ts*te>>>ge)*pr,re[Dn+2]=(Lr*te>>>ge)*pr):re[Dn]=re[Dn+1]=re[Dn+2]=0,nr-=tn,Ts-=Ns,Lr-=Is,la-=kr,tn-=ke.r,Ns-=ke.g,Is-=ke.b,kr-=ke.a,Dn=ds+((Dn=Oi+pe)<Se?Dn:Se)*ce<<2,nr+=Nn+=ke.r=re[Dn],Ts+=yn+=ke.g=re[Dn+1],Lr+=In+=ke.b=re[Dn+2],la+=$n+=ke.a=re[Dn+3],ke=ke.next,tn+=hs=me.r,Ns+=Ks=me.g,Is+=Vs=me.b,kr+=pr=me.a,Nn-=hs,yn-=Ks,In-=Vs,$n-=pr,me=me.next,ue+=ce}}return J}function Q(J,H,G,ce,Ae,Ne){if(!(isNaN(Ne)||Ne<1)){Ne|=0;var re=y(J,H,G,ce,Ae);re=K(re,H,G,ce,Ae,Ne),J.getContext("2d").putImageData(re,H,G)}}function K(J,H,G,ce,Ae,Ne){for(var re=J.data,Be=2*Ne+1,fe=ce-1,Se=Ae-1,pe=Ne+1,ae=pe*(pe+1)/2,de=new Z,oe=de,Ee,Re=1;Re<Be;Re++)oe=oe.next=new Z,Re===pe&&(Ee=oe);oe.next=de;for(var ke=null,me=null,we=p[Ne],ue=x[Ne],te,ge,Me=0,Ve=0,Nt=0;Nt<Ae;Nt++){var ut=re[Ve],et=re[Ve+1],Lt=re[Ve+2],ns=pe*ut,ls=pe*et,vt=pe*Lt,$e=ae*ut,Bt=ae*et,Qt=ae*Lt;oe=de;for(var ks=0;ks<pe;ks++)oe.r=ut,oe.g=et,oe.b=Lt,oe=oe.next;for(var zs=0,yr=0,mr=0,ar=1;ar<pe;ar++)te=Ve+((fe<ar?fe:ar)<<2),$e+=(oe.r=ut=re[te])*(ge=pe-ar),Bt+=(oe.g=et=re[te+1])*ge,Qt+=(oe.b=Lt=re[te+2])*ge,zs+=ut,yr+=et,mr+=Lt,oe=oe.next;ke=de,me=Ee;for(var $s=0;$s<ce;$s++)re[Ve]=$e*we>>>ue,re[Ve+1]=Bt*we>>>ue,re[Ve+2]=Qt*we>>>ue,$e-=ns,Bt-=ls,Qt-=vt,ns-=ke.r,ls-=ke.g,vt-=ke.b,te=Me+((te=$s+Ne+1)<fe?te:fe)<<2,zs+=ke.r=re[te],yr+=ke.g=re[te+1],mr+=ke.b=re[te+2],$e+=zs,Bt+=yr,Qt+=mr,ke=ke.next,ns+=ut=me.r,ls+=et=me.g,vt+=Lt=me.b,zs-=ut,yr-=et,mr-=Lt,me=me.next,Ve+=4;Me+=ce}for(var As=0;As<ce;As++){Ve=As<<2;var Rs=re[Ve],br=re[Ve+1],js=re[Ve+2],qs=pe*Rs,hr=pe*br,rr=pe*js,Xs=ae*Rs,Es=ae*br,Gt=ae*js;oe=de;for(var vs=0;vs<pe;vs++)oe.r=Rs,oe.g=br,oe.b=js,oe=oe.next;for(var Ms=0,Gs=0,fr=0,Ct=1,Zt=ce;Ct<=Ne;Ct++)Ve=Zt+As<<2,Xs+=(oe.r=Rs=re[Ve])*(ge=pe-Ct),Es+=(oe.g=br=re[Ve+1])*ge,Gt+=(oe.b=js=re[Ve+2])*ge,Ms+=Rs,Gs+=br,fr+=js,oe=oe.next,Ct<Se&&(Zt+=ce);Ve=As,ke=de,me=Ee;for(var ds=0;ds<Ae;ds++)te=Ve<<2,re[te]=Xs*we>>>ue,re[te+1]=Es*we>>>ue,re[te+2]=Gt*we>>>ue,Xs-=qs,Es-=hr,Gt-=rr,qs-=ke.r,hr-=ke.g,rr-=ke.b,te=As+((te=ds+pe)<Se?te:Se)*ce<<2,Xs+=Ms+=ke.r=re[te],Es+=Gs+=ke.g=re[te+1],Gt+=fr+=ke.b=re[te+2],ke=ke.next,qs+=Rs=me.r,hr+=br=me.g,rr+=js=me.b,Ms-=Rs,Gs-=br,fr-=js,me=me.next,Ve+=ce}return J}var Z=function J(){m(this,J),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(d,A,o){o.r(A),o.d(A,{COMMAND_ARG_COUNTS:function(){return Se},SVGPathData:function(){return fe},SVGPathDataParser:function(){return Be},SVGPathDataTransformer:function(){return Q},encodeSVGPath:function(){return p}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var f=function(pe,ae){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(de,oe){de.__proto__=oe}||function(de,oe){for(var Ee in oe)Object.prototype.hasOwnProperty.call(oe,Ee)&&(de[Ee]=oe[Ee])})(pe,ae)};function m(pe,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function de(){this.constructor=pe}f(pe,ae),pe.prototype=ae===null?Object.create(ae):(de.prototype=ae.prototype,new de)}function p(pe){var ae="";Array.isArray(pe)||(pe=[pe]);for(var de=0;de<pe.length;de++){var oe=pe[de];if(oe.type===fe.CLOSE_PATH)ae+="z";else if(oe.type===fe.HORIZ_LINE_TO)ae+=(oe.relative?"h":"H")+oe.x;else if(oe.type===fe.VERT_LINE_TO)ae+=(oe.relative?"v":"V")+oe.y;else if(oe.type===fe.MOVE_TO)ae+=(oe.relative?"m":"M")+oe.x+" "+oe.y;else if(oe.type===fe.LINE_TO)ae+=(oe.relative?"l":"L")+oe.x+" "+oe.y;else if(oe.type===fe.CURVE_TO)ae+=(oe.relative?"c":"C")+oe.x1+" "+oe.y1+" "+oe.x2+" "+oe.y2+" "+oe.x+" "+oe.y;else if(oe.type===fe.SMOOTH_CURVE_TO)ae+=(oe.relative?"s":"S")+oe.x2+" "+oe.y2+" "+oe.x+" "+oe.y;else if(oe.type===fe.QUAD_TO)ae+=(oe.relative?"q":"Q")+oe.x1+" "+oe.y1+" "+oe.x+" "+oe.y;else if(oe.type===fe.SMOOTH_QUAD_TO)ae+=(oe.relative?"t":"T")+oe.x+" "+oe.y;else{if(oe.type!==fe.ARC)throw new Error('Unexpected command type "'+oe.type+'" at index '+de+".");ae+=(oe.relative?"a":"A")+oe.rX+" "+oe.rY+" "+oe.xRot+" "+ +oe.lArcFlag+" "+ +oe.sweepFlag+" "+oe.x+" "+oe.y}}return ae}function x(pe,ae){var de=pe[0],oe=pe[1];return[de*Math.cos(ae)-oe*Math.sin(ae),de*Math.sin(ae)+oe*Math.cos(ae)]}function v(){for(var pe=[],ae=0;ae<arguments.length;ae++)pe[ae]=arguments[ae];for(var de=0;de<pe.length;de++)if(typeof pe[de]!="number")throw new Error("assertNumbers arguments["+de+"] is not a number. "+typeof pe[de]+" == typeof "+pe[de]);return!0}var y=Math.PI;function w(pe,ae,de){pe.lArcFlag=pe.lArcFlag===0?0:1,pe.sweepFlag=pe.sweepFlag===0?0:1;var oe=pe.rX,Ee=pe.rY,Re=pe.x,ke=pe.y;oe=Math.abs(pe.rX),Ee=Math.abs(pe.rY);var me=x([(ae-Re)/2,(de-ke)/2],-pe.xRot/180*y),we=me[0],ue=me[1],te=Math.pow(we,2)/Math.pow(oe,2)+Math.pow(ue,2)/Math.pow(Ee,2);1<te&&(oe*=Math.sqrt(te),Ee*=Math.sqrt(te)),pe.rX=oe,pe.rY=Ee;var ge=Math.pow(oe,2)*Math.pow(ue,2)+Math.pow(Ee,2)*Math.pow(we,2),Me=(pe.lArcFlag!==pe.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(oe,2)*Math.pow(Ee,2)-ge)/ge)),Ve=oe*ue/Ee*Me,Nt=-Ee*we/oe*Me,ut=x([Ve,Nt],pe.xRot/180*y);pe.cX=ut[0]+(ae+Re)/2,pe.cY=ut[1]+(de+ke)/2,pe.phi1=Math.atan2((ue-Nt)/Ee,(we-Ve)/oe),pe.phi2=Math.atan2((-ue-Nt)/Ee,(-we-Ve)/oe),pe.sweepFlag===0&&pe.phi2>pe.phi1&&(pe.phi2-=2*y),pe.sweepFlag===1&&pe.phi2<pe.phi1&&(pe.phi2+=2*y),pe.phi1*=180/y,pe.phi2*=180/y}function E(pe,ae,de){v(pe,ae,de);var oe=pe*pe+ae*ae-de*de;if(0>oe)return[];if(oe===0)return[[pe*de/(pe*pe+ae*ae),ae*de/(pe*pe+ae*ae)]];var Ee=Math.sqrt(oe);return[[(pe*de+ae*Ee)/(pe*pe+ae*ae),(ae*de-pe*Ee)/(pe*pe+ae*ae)],[(pe*de-ae*Ee)/(pe*pe+ae*ae),(ae*de+pe*Ee)/(pe*pe+ae*ae)]]}var Q,K=Math.PI/180;function Z(pe,ae,de){return(1-de)*pe+de*ae}function J(pe,ae,de,oe){return pe+Math.cos(oe/180*y)*ae+Math.sin(oe/180*y)*de}function H(pe,ae,de,oe){var Ee=1e-6,Re=ae-pe,ke=de-ae,me=3*Re+3*(oe-de)-6*ke,we=6*(ke-Re),ue=3*Re;return Math.abs(me)<Ee?[-ue/we]:(function(te,ge,Me){var Ve=te*te/4-ge;if(Ve<-Me)return[];if(Ve<=Me)return[-te/2];var Nt=Math.sqrt(Ve);return[-te/2-Nt,-te/2+Nt]})(we/me,ue/me,Ee)}function G(pe,ae,de,oe,Ee){var Re=1-Ee;return pe*(Re*Re*Re)+ae*(3*Re*Re*Ee)+de*(3*Re*Ee*Ee)+oe*(Ee*Ee*Ee)}(function(pe){function ae(){return Ee((function(me,we,ue){return me.relative&&(me.x1!==void 0&&(me.x1+=we),me.y1!==void 0&&(me.y1+=ue),me.x2!==void 0&&(me.x2+=we),me.y2!==void 0&&(me.y2+=ue),me.x!==void 0&&(me.x+=we),me.y!==void 0&&(me.y+=ue),me.relative=!1),me}))}function de(){var me=NaN,we=NaN,ue=NaN,te=NaN;return Ee((function(ge,Me,Ve){return ge.type&fe.SMOOTH_CURVE_TO&&(ge.type=fe.CURVE_TO,me=isNaN(me)?Me:me,we=isNaN(we)?Ve:we,ge.x1=ge.relative?Me-me:2*Me-me,ge.y1=ge.relative?Ve-we:2*Ve-we),ge.type&fe.CURVE_TO?(me=ge.relative?Me+ge.x2:ge.x2,we=ge.relative?Ve+ge.y2:ge.y2):(me=NaN,we=NaN),ge.type&fe.SMOOTH_QUAD_TO&&(ge.type=fe.QUAD_TO,ue=isNaN(ue)?Me:ue,te=isNaN(te)?Ve:te,ge.x1=ge.relative?Me-ue:2*Me-ue,ge.y1=ge.relative?Ve-te:2*Ve-te),ge.type&fe.QUAD_TO?(ue=ge.relative?Me+ge.x1:ge.x1,te=ge.relative?Ve+ge.y1:ge.y1):(ue=NaN,te=NaN),ge}))}function oe(){var me=NaN,we=NaN;return Ee((function(ue,te,ge){if(ue.type&fe.SMOOTH_QUAD_TO&&(ue.type=fe.QUAD_TO,me=isNaN(me)?te:me,we=isNaN(we)?ge:we,ue.x1=ue.relative?te-me:2*te-me,ue.y1=ue.relative?ge-we:2*ge-we),ue.type&fe.QUAD_TO){me=ue.relative?te+ue.x1:ue.x1,we=ue.relative?ge+ue.y1:ue.y1;var Me=ue.x1,Ve=ue.y1;ue.type=fe.CURVE_TO,ue.x1=((ue.relative?0:te)+2*Me)/3,ue.y1=((ue.relative?0:ge)+2*Ve)/3,ue.x2=(ue.x+2*Me)/3,ue.y2=(ue.y+2*Ve)/3}else me=NaN,we=NaN;return ue}))}function Ee(me){var we=0,ue=0,te=NaN,ge=NaN;return function(Me){if(isNaN(te)&&!(Me.type&fe.MOVE_TO))throw new Error("path must start with moveto");var Ve=me(Me,we,ue,te,ge);return Me.type&fe.CLOSE_PATH&&(we=te,ue=ge),Me.x!==void 0&&(we=Me.relative?we+Me.x:Me.x),Me.y!==void 0&&(ue=Me.relative?ue+Me.y:Me.y),Me.type&fe.MOVE_TO&&(te=we,ge=ue),Ve}}function Re(me,we,ue,te,ge,Me){return v(me,we,ue,te,ge,Me),Ee((function(Ve,Nt,ut,et){var Lt=Ve.x1,ns=Ve.x2,ls=Ve.relative&&!isNaN(et),vt=Ve.x!==void 0?Ve.x:ls?0:Nt,$e=Ve.y!==void 0?Ve.y:ls?0:ut;function Bt(Es){return Es*Es}Ve.type&fe.HORIZ_LINE_TO&&we!==0&&(Ve.type=fe.LINE_TO,Ve.y=Ve.relative?0:ut),Ve.type&fe.VERT_LINE_TO&&ue!==0&&(Ve.type=fe.LINE_TO,Ve.x=Ve.relative?0:Nt),Ve.x!==void 0&&(Ve.x=Ve.x*me+$e*ue+(ls?0:ge)),Ve.y!==void 0&&(Ve.y=vt*we+Ve.y*te+(ls?0:Me)),Ve.x1!==void 0&&(Ve.x1=Ve.x1*me+Ve.y1*ue+(ls?0:ge)),Ve.y1!==void 0&&(Ve.y1=Lt*we+Ve.y1*te+(ls?0:Me)),Ve.x2!==void 0&&(Ve.x2=Ve.x2*me+Ve.y2*ue+(ls?0:ge)),Ve.y2!==void 0&&(Ve.y2=ns*we+Ve.y2*te+(ls?0:Me));var Qt=me*te-we*ue;if(Ve.xRot!==void 0&&(me!==1||we!==0||ue!==0||te!==1))if(Qt===0)delete Ve.rX,delete Ve.rY,delete Ve.xRot,delete Ve.lArcFlag,delete Ve.sweepFlag,Ve.type=fe.LINE_TO;else{var ks=Ve.xRot*Math.PI/180,zs=Math.sin(ks),yr=Math.cos(ks),mr=1/Bt(Ve.rX),ar=1/Bt(Ve.rY),$s=Bt(yr)*mr+Bt(zs)*ar,As=2*zs*yr*(mr-ar),Rs=Bt(zs)*mr+Bt(yr)*ar,br=$s*te*te-As*we*te+Rs*we*we,js=As*(me*te+we*ue)-2*($s*ue*te+Rs*me*we),qs=$s*ue*ue-As*me*ue+Rs*me*me,hr=(Math.atan2(js,br-qs)+Math.PI)%Math.PI/2,rr=Math.sin(hr),Xs=Math.cos(hr);Ve.rX=Math.abs(Qt)/Math.sqrt(br*Bt(Xs)+js*rr*Xs+qs*Bt(rr)),Ve.rY=Math.abs(Qt)/Math.sqrt(br*Bt(rr)-js*rr*Xs+qs*Bt(Xs)),Ve.xRot=180*hr/Math.PI}return Ve.sweepFlag!==void 0&&0>Qt&&(Ve.sweepFlag=+!Ve.sweepFlag),Ve}))}function ke(){return function(me){var we={};for(var ue in me)we[ue]=me[ue];return we}}pe.ROUND=function(me){function we(ue){return Math.round(ue*me)/me}return me===void 0&&(me=1e13),v(me),function(ue){return ue.x1!==void 0&&(ue.x1=we(ue.x1)),ue.y1!==void 0&&(ue.y1=we(ue.y1)),ue.x2!==void 0&&(ue.x2=we(ue.x2)),ue.y2!==void 0&&(ue.y2=we(ue.y2)),ue.x!==void 0&&(ue.x=we(ue.x)),ue.y!==void 0&&(ue.y=we(ue.y)),ue.rX!==void 0&&(ue.rX=we(ue.rX)),ue.rY!==void 0&&(ue.rY=we(ue.rY)),ue}},pe.TO_ABS=ae,pe.TO_REL=function(){return Ee((function(me,we,ue){return me.relative||(me.x1!==void 0&&(me.x1-=we),me.y1!==void 0&&(me.y1-=ue),me.x2!==void 0&&(me.x2-=we),me.y2!==void 0&&(me.y2-=ue),me.x!==void 0&&(me.x-=we),me.y!==void 0&&(me.y-=ue),me.relative=!0),me}))},pe.NORMALIZE_HVZ=function(me,we,ue){return me===void 0&&(me=!0),we===void 0&&(we=!0),ue===void 0&&(ue=!0),Ee((function(te,ge,Me,Ve,Nt){if(isNaN(Ve)&&!(te.type&fe.MOVE_TO))throw new Error("path must start with moveto");return we&&te.type&fe.HORIZ_LINE_TO&&(te.type=fe.LINE_TO,te.y=te.relative?0:Me),ue&&te.type&fe.VERT_LINE_TO&&(te.type=fe.LINE_TO,te.x=te.relative?0:ge),me&&te.type&fe.CLOSE_PATH&&(te.type=fe.LINE_TO,te.x=te.relative?Ve-ge:Ve,te.y=te.relative?Nt-Me:Nt),te.type&fe.ARC&&(te.rX===0||te.rY===0)&&(te.type=fe.LINE_TO,delete te.rX,delete te.rY,delete te.xRot,delete te.lArcFlag,delete te.sweepFlag),te}))},pe.NORMALIZE_ST=de,pe.QT_TO_C=oe,pe.INFO=Ee,pe.SANITIZE=function(me){me===void 0&&(me=0),v(me);var we=NaN,ue=NaN,te=NaN,ge=NaN;return Ee((function(Me,Ve,Nt,ut,et){var Lt=Math.abs,ns=!1,ls=0,vt=0;if(Me.type&fe.SMOOTH_CURVE_TO&&(ls=isNaN(we)?0:Ve-we,vt=isNaN(ue)?0:Nt-ue),Me.type&(fe.CURVE_TO|fe.SMOOTH_CURVE_TO)?(we=Me.relative?Ve+Me.x2:Me.x2,ue=Me.relative?Nt+Me.y2:Me.y2):(we=NaN,ue=NaN),Me.type&fe.SMOOTH_QUAD_TO?(te=isNaN(te)?Ve:2*Ve-te,ge=isNaN(ge)?Nt:2*Nt-ge):Me.type&fe.QUAD_TO?(te=Me.relative?Ve+Me.x1:Me.x1,ge=Me.relative?Nt+Me.y1:Me.y2):(te=NaN,ge=NaN),Me.type&fe.LINE_COMMANDS||Me.type&fe.ARC&&(Me.rX===0||Me.rY===0||!Me.lArcFlag)||Me.type&fe.CURVE_TO||Me.type&fe.SMOOTH_CURVE_TO||Me.type&fe.QUAD_TO||Me.type&fe.SMOOTH_QUAD_TO){var $e=Me.x===void 0?0:Me.relative?Me.x:Me.x-Ve,Bt=Me.y===void 0?0:Me.relative?Me.y:Me.y-Nt;ls=isNaN(te)?Me.x1===void 0?ls:Me.relative?Me.x:Me.x1-Ve:te-Ve,vt=isNaN(ge)?Me.y1===void 0?vt:Me.relative?Me.y:Me.y1-Nt:ge-Nt;var Qt=Me.x2===void 0?0:Me.relative?Me.x:Me.x2-Ve,ks=Me.y2===void 0?0:Me.relative?Me.y:Me.y2-Nt;Lt($e)<=me&&Lt(Bt)<=me&&Lt(ls)<=me&&Lt(vt)<=me&&Lt(Qt)<=me&&Lt(ks)<=me&&(ns=!0)}return Me.type&fe.CLOSE_PATH&&Lt(Ve-ut)<=me&&Lt(Nt-et)<=me&&(ns=!0),ns?[]:Me}))},pe.MATRIX=Re,pe.ROTATE=function(me,we,ue){we===void 0&&(we=0),ue===void 0&&(ue=0),v(me,we,ue);var te=Math.sin(me),ge=Math.cos(me);return Re(ge,te,-te,ge,we-we*ge+ue*te,ue-we*te-ue*ge)},pe.TRANSLATE=function(me,we){return we===void 0&&(we=0),v(me,we),Re(1,0,0,1,me,we)},pe.SCALE=function(me,we){return we===void 0&&(we=me),v(me,we),Re(me,0,0,we,0,0)},pe.SKEW_X=function(me){return v(me),Re(1,0,Math.atan(me),1,0,0)},pe.SKEW_Y=function(me){return v(me),Re(1,Math.atan(me),0,1,0,0)},pe.X_AXIS_SYMMETRY=function(me){return me===void 0&&(me=0),v(me),Re(-1,0,0,1,me,0)},pe.Y_AXIS_SYMMETRY=function(me){return me===void 0&&(me=0),v(me),Re(1,0,0,-1,0,me)},pe.A_TO_C=function(){return Ee((function(me,we,ue){return fe.ARC===me.type?(function(te,ge,Me){var Ve,Nt,ut,et;te.cX||w(te,ge,Me);for(var Lt=Math.min(te.phi1,te.phi2),ns=Math.max(te.phi1,te.phi2)-Lt,ls=Math.ceil(ns/90),vt=new Array(ls),$e=ge,Bt=Me,Qt=0;Qt<ls;Qt++){var ks=Z(te.phi1,te.phi2,Qt/ls),zs=Z(te.phi1,te.phi2,(Qt+1)/ls),yr=zs-ks,mr=4/3*Math.tan(yr*K/4),ar=[Math.cos(ks*K)-mr*Math.sin(ks*K),Math.sin(ks*K)+mr*Math.cos(ks*K)],$s=ar[0],As=ar[1],Rs=[Math.cos(zs*K),Math.sin(zs*K)],br=Rs[0],js=Rs[1],qs=[br+mr*Math.sin(zs*K),js-mr*Math.cos(zs*K)],hr=qs[0],rr=qs[1];vt[Qt]={relative:te.relative,type:fe.CURVE_TO};var Xs=function(Es,Gt){var vs=x([Es*te.rX,Gt*te.rY],te.xRot),Ms=vs[0],Gs=vs[1];return[te.cX+Ms,te.cY+Gs]};Ve=Xs($s,As),vt[Qt].x1=Ve[0],vt[Qt].y1=Ve[1],Nt=Xs(hr,rr),vt[Qt].x2=Nt[0],vt[Qt].y2=Nt[1],ut=Xs(br,js),vt[Qt].x=ut[0],vt[Qt].y=ut[1],te.relative&&(vt[Qt].x1-=$e,vt[Qt].y1-=Bt,vt[Qt].x2-=$e,vt[Qt].y2-=Bt,vt[Qt].x-=$e,vt[Qt].y-=Bt),$e=(et=[vt[Qt].x,vt[Qt].y])[0],Bt=et[1]}return vt})(me,me.relative?0:we,me.relative?0:ue):me}))},pe.ANNOTATE_ARCS=function(){return Ee((function(me,we,ue){return me.relative&&(we=0,ue=0),fe.ARC===me.type&&w(me,we,ue),me}))},pe.CLONE=ke,pe.CALCULATE_BOUNDS=function(){var me=function(Me){var Ve={};for(var Nt in Me)Ve[Nt]=Me[Nt];return Ve},we=ae(),ue=oe(),te=de(),ge=Ee((function(Me,Ve,Nt){var ut=te(ue(we(me(Me))));function et(rr){rr>ge.maxX&&(ge.maxX=rr),rr<ge.minX&&(ge.minX=rr)}function Lt(rr){rr>ge.maxY&&(ge.maxY=rr),rr<ge.minY&&(ge.minY=rr)}if(ut.type&fe.DRAWING_COMMANDS&&(et(Ve),Lt(Nt)),ut.type&fe.HORIZ_LINE_TO&&et(ut.x),ut.type&fe.VERT_LINE_TO&&Lt(ut.y),ut.type&fe.LINE_TO&&(et(ut.x),Lt(ut.y)),ut.type&fe.CURVE_TO){et(ut.x),Lt(ut.y);for(var ns=0,ls=H(Ve,ut.x1,ut.x2,ut.x);ns<ls.length;ns++)0<(hr=ls[ns])&&1>hr&&et(G(Ve,ut.x1,ut.x2,ut.x,hr));for(var vt=0,$e=H(Nt,ut.y1,ut.y2,ut.y);vt<$e.length;vt++)0<(hr=$e[vt])&&1>hr&&Lt(G(Nt,ut.y1,ut.y2,ut.y,hr))}if(ut.type&fe.ARC){et(ut.x),Lt(ut.y),w(ut,Ve,Nt);for(var Bt=ut.xRot/180*Math.PI,Qt=Math.cos(Bt)*ut.rX,ks=Math.sin(Bt)*ut.rX,zs=-Math.sin(Bt)*ut.rY,yr=Math.cos(Bt)*ut.rY,mr=ut.phi1<ut.phi2?[ut.phi1,ut.phi2]:-180>ut.phi2?[ut.phi2+360,ut.phi1+360]:[ut.phi2,ut.phi1],ar=mr[0],$s=mr[1],As=function(rr){var Xs=rr[0],Es=rr[1],Gt=180*Math.atan2(Es,Xs)/Math.PI;return Gt<ar?Gt+360:Gt},Rs=0,br=E(zs,-Qt,0).map(As);Rs<br.length;Rs++)(hr=br[Rs])>ar&&hr<$s&&et(J(ut.cX,Qt,zs,hr));for(var js=0,qs=E(yr,-ks,0).map(As);js<qs.length;js++){var hr;(hr=qs[js])>ar&&hr<$s&&Lt(J(ut.cY,ks,yr,hr))}}return Me}));return ge.minX=1/0,ge.maxX=-1/0,ge.minY=1/0,ge.maxY=-1/0,ge}})(Q||(Q={}));var ce,Ae=(function(){function pe(){}return pe.prototype.round=function(ae){return this.transform(Q.ROUND(ae))},pe.prototype.toAbs=function(){return this.transform(Q.TO_ABS())},pe.prototype.toRel=function(){return this.transform(Q.TO_REL())},pe.prototype.normalizeHVZ=function(ae,de,oe){return this.transform(Q.NORMALIZE_HVZ(ae,de,oe))},pe.prototype.normalizeST=function(){return this.transform(Q.NORMALIZE_ST())},pe.prototype.qtToC=function(){return this.transform(Q.QT_TO_C())},pe.prototype.aToC=function(){return this.transform(Q.A_TO_C())},pe.prototype.sanitize=function(ae){return this.transform(Q.SANITIZE(ae))},pe.prototype.translate=function(ae,de){return this.transform(Q.TRANSLATE(ae,de))},pe.prototype.scale=function(ae,de){return this.transform(Q.SCALE(ae,de))},pe.prototype.rotate=function(ae,de,oe){return this.transform(Q.ROTATE(ae,de,oe))},pe.prototype.matrix=function(ae,de,oe,Ee,Re,ke){return this.transform(Q.MATRIX(ae,de,oe,Ee,Re,ke))},pe.prototype.skewX=function(ae){return this.transform(Q.SKEW_X(ae))},pe.prototype.skewY=function(ae){return this.transform(Q.SKEW_Y(ae))},pe.prototype.xSymmetry=function(ae){return this.transform(Q.X_AXIS_SYMMETRY(ae))},pe.prototype.ySymmetry=function(ae){return this.transform(Q.Y_AXIS_SYMMETRY(ae))},pe.prototype.annotateArcs=function(){return this.transform(Q.ANNOTATE_ARCS())},pe})(),Ne=function(pe){return pe===" "||pe==="	"||pe==="\r"||pe===`
`},re=function(pe){return 48<=pe.charCodeAt(0)&&pe.charCodeAt(0)<=57},Be=(function(pe){function ae(){var de=pe.call(this)||this;return de.curNumber="",de.curCommandType=-1,de.curCommandRelative=!1,de.canParseCommandOrComma=!0,de.curNumberHasExp=!1,de.curNumberHasExpDigits=!1,de.curNumberHasDecimal=!1,de.curArgs=[],de}return m(ae,pe),ae.prototype.finish=function(de){if(de===void 0&&(de=[]),this.parse(" ",de),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return de},ae.prototype.parse=function(de,oe){var Ee=this;oe===void 0&&(oe=[]);for(var Re=function(ge){oe.push(ge),Ee.curArgs.length=0,Ee.canParseCommandOrComma=!0},ke=0;ke<de.length;ke++){var me=de[ke],we=!(this.curCommandType!==fe.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),ue=re(me)&&(this.curNumber==="0"&&me==="0"||we);if(!re(me)||ue)if(me!=="e"&&me!=="E")if(me!=="-"&&me!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(me!=="."||this.curNumberHasExp||this.curNumberHasDecimal||we){if(this.curNumber&&this.curCommandType!==-1){var te=Number(this.curNumber);if(isNaN(te))throw new SyntaxError("Invalid number ending at "+ke);if(this.curCommandType===fe.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>te)throw new SyntaxError('Expected positive number, got "'+te+'" at index "'+ke+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+ke+'"')}this.curArgs.push(te),this.curArgs.length===Se[this.curCommandType]&&(fe.HORIZ_LINE_TO===this.curCommandType?Re({type:fe.HORIZ_LINE_TO,relative:this.curCommandRelative,x:te}):fe.VERT_LINE_TO===this.curCommandType?Re({type:fe.VERT_LINE_TO,relative:this.curCommandRelative,y:te}):this.curCommandType===fe.MOVE_TO||this.curCommandType===fe.LINE_TO||this.curCommandType===fe.SMOOTH_QUAD_TO?(Re({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),fe.MOVE_TO===this.curCommandType&&(this.curCommandType=fe.LINE_TO)):this.curCommandType===fe.CURVE_TO?Re({type:fe.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===fe.SMOOTH_CURVE_TO?Re({type:fe.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===fe.QUAD_TO?Re({type:fe.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===fe.ARC&&Re({type:fe.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!Ne(me))if(me===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(me!=="+"&&me!=="-"&&me!==".")if(ue)this.curNumber=me,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+ke+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+me+'" at index '+ke+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,me!=="z"&&me!=="Z")if(me==="h"||me==="H")this.curCommandType=fe.HORIZ_LINE_TO,this.curCommandRelative=me==="h";else if(me==="v"||me==="V")this.curCommandType=fe.VERT_LINE_TO,this.curCommandRelative=me==="v";else if(me==="m"||me==="M")this.curCommandType=fe.MOVE_TO,this.curCommandRelative=me==="m";else if(me==="l"||me==="L")this.curCommandType=fe.LINE_TO,this.curCommandRelative=me==="l";else if(me==="c"||me==="C")this.curCommandType=fe.CURVE_TO,this.curCommandRelative=me==="c";else if(me==="s"||me==="S")this.curCommandType=fe.SMOOTH_CURVE_TO,this.curCommandRelative=me==="s";else if(me==="q"||me==="Q")this.curCommandType=fe.QUAD_TO,this.curCommandRelative=me==="q";else if(me==="t"||me==="T")this.curCommandType=fe.SMOOTH_QUAD_TO,this.curCommandRelative=me==="t";else{if(me!=="a"&&me!=="A")throw new SyntaxError('Unexpected character "'+me+'" at index '+ke+".");this.curCommandType=fe.ARC,this.curCommandRelative=me==="a"}else oe.push({type:fe.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=me,this.curNumberHasDecimal=me==="."}else this.curNumber+=me,this.curNumberHasDecimal=!0;else this.curNumber+=me;else this.curNumber+=me,this.curNumberHasExp=!0;else this.curNumber+=me,this.curNumberHasExpDigits=this.curNumberHasExp}return oe},ae.prototype.transform=function(de){return Object.create(this,{parse:{value:function(oe,Ee){Ee===void 0&&(Ee=[]);for(var Re=0,ke=Object.getPrototypeOf(this).parse.call(this,oe);Re<ke.length;Re++){var me=ke[Re],we=de(me);Array.isArray(we)?Ee.push.apply(Ee,we):Ee.push(we)}return Ee}}})},ae})(Ae),fe=(function(pe){function ae(de){var oe=pe.call(this)||this;return oe.commands=typeof de=="string"?ae.parse(de):de,oe}return m(ae,pe),ae.prototype.encode=function(){return ae.encode(this.commands)},ae.prototype.getBounds=function(){var de=Q.CALCULATE_BOUNDS();return this.transform(de),de},ae.prototype.transform=function(de){for(var oe=[],Ee=0,Re=this.commands;Ee<Re.length;Ee++){var ke=de(Re[Ee]);Array.isArray(ke)?oe.push.apply(oe,ke):oe.push(ke)}return this.commands=oe,this},ae.encode=function(de){return p(de)},ae.parse=function(de){var oe=new Be,Ee=[];return oe.parse(de,Ee),oe.finish(Ee),Ee},ae.CLOSE_PATH=1,ae.MOVE_TO=2,ae.HORIZ_LINE_TO=4,ae.VERT_LINE_TO=8,ae.LINE_TO=16,ae.CURVE_TO=32,ae.SMOOTH_CURVE_TO=64,ae.QUAD_TO=128,ae.SMOOTH_QUAD_TO=256,ae.ARC=512,ae.LINE_COMMANDS=ae.LINE_TO|ae.HORIZ_LINE_TO|ae.VERT_LINE_TO,ae.DRAWING_COMMANDS=ae.HORIZ_LINE_TO|ae.VERT_LINE_TO|ae.LINE_TO|ae.CURVE_TO|ae.SMOOTH_CURVE_TO|ae.QUAD_TO|ae.SMOOTH_QUAD_TO|ae.ARC,ae})(Ae),Se=((ce={})[fe.MOVE_TO]=2,ce[fe.LINE_TO]=2,ce[fe.HORIZ_LINE_TO]=1,ce[fe.VERT_LINE_TO]=1,ce[fe.CLOSE_PATH]=0,ce[fe.QUAD_TO]=4,ce[fe.SMOOTH_QUAD_TO]=2,ce[fe.CURVE_TO]=6,ce[fe.SMOOTH_CURVE_TO]=4,ce[fe.ARC]=7,ce)}),"./src/plugin/hyperlinks.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.link.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var f=o("./src/worker.js"),m=o("./src/utils.js"),p=[],x={toContainer:f.default.prototype.toContainer,toPdf:f.default.prototype.toPdf};f.default.prototype.toContainer=function(){return x.toContainer.call(this).then(function(){if(this.opt.enableLinks){var w=this.prop.container,E=w.querySelectorAll("a"),Q=(0,m.unitConvert)(w.getBoundingClientRect(),this.prop.pageSize.k);p=[],Array.prototype.forEach.call(E,function(K){for(var Z=K.getClientRects(),J=0;J<Z.length;J++){var H=(0,m.unitConvert)(Z[J],this.prop.pageSize.k);H.left-=Q.left,H.top-=Q.top;var G=Math.floor(H.top/this.prop.pageSize.inner.height)+1,ce=this.opt.margin[0]+H.top%this.prop.pageSize.inner.height,Ae=this.opt.margin[1]+H.left;p.push({page:G,top:ce,left:Ae,clientRect:H,link:K})}},this)}})},f.default.prototype.toPdf=function(){return x.toPdf.call(this).then(function(){if(this.opt.enableLinks){p.forEach(function(E){this.prop.pdf.setPage(E.page),this.prop.pdf.link(E.left,E.top,E.clientRect.width,E.clientRect.height,{url:E.link.href})},this);var w=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(w)}})}}),"./src/plugin/jspdf-plugin.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var f=o("./node_modules/jspdf/dist/jspdf.es.min.js");function m(p){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},m(p)}f.jsPDF.getPageSize=function(p,x,v){if(m(p)==="object"){var y=p;p=y.orientation,x=y.unit||x,v=y.format||v}x=x||"mm",v=v||"a4",p=(""+(p||"P")).toLowerCase();var w=(""+v).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(x){case"pt":var Q=1;break;case"mm":var Q=72/25.4;break;case"cm":var Q=72/2.54;break;case"in":var Q=72;break;case"px":var Q=72/96;break;case"pc":var Q=12;break;case"em":var Q=12;break;case"ex":var Q=6;break;default:throw"Invalid unit: "+x}if(E.hasOwnProperty(w))var K=E[w][1]/Q,Z=E[w][0]/Q;else try{var K=v[1],Z=v[0]}catch{throw new Error("Invalid format: "+v)}if(p==="p"||p==="portrait"){if(p="p",Z>K){var J=Z;Z=K,K=J}}else if(p==="l"||p==="landscape"){if(p="l",K>Z){var J=Z;Z=K,K=J}}else throw"Invalid orientation: "+p;var H={width:Z,height:K,unit:x,k:Q};return H},A.default=f.jsPDF}),"./src/plugin/pagebreaks.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var f=o("./src/worker.js"),m=o("./src/utils.js"),p={toContainer:f.default.prototype.toContainer};f.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},f.default.prototype.toContainer=function(){return p.toContainer.call(this).then(function(){var y=this.prop.container,w=this.prop.pageSize.inner.px.height,E=[].concat(this.opt.pagebreak.mode),Q={avoidAll:E.indexOf("avoid-all")!==-1,css:E.indexOf("css")!==-1,legacy:E.indexOf("legacy")!==-1},K={},Z=this;["before","after","avoid"].forEach(function(G){var ce=Q.avoidAll&&G==="avoid";K[G]=ce?[]:[].concat(Z.opt.pagebreak[G]||[]),K[G].length>0&&(K[G]=Array.prototype.slice.call(y.querySelectorAll(K[G].join(", "))))});var J=y.querySelectorAll(".html2pdf__page-break");J=Array.prototype.slice.call(J);var H=y.querySelectorAll("*");Array.prototype.forEach.call(H,function(ce){var Ae={before:!1,after:Q.legacy&&J.indexOf(ce)!==-1,avoid:Q.avoidAll};if(Q.css){var Ne=window.getComputedStyle(ce),re=["always","page","left","right"],Be=["avoid","avoid-page"];Ae={before:Ae.before||re.indexOf(Ne.breakBefore||Ne.pageBreakBefore)!==-1,after:Ae.after||re.indexOf(Ne.breakAfter||Ne.pageBreakAfter)!==-1,avoid:Ae.avoid||Be.indexOf(Ne.breakInside||Ne.pageBreakInside)!==-1}}Object.keys(Ae).forEach(function(oe){Ae[oe]=Ae[oe]||K[oe].indexOf(ce)!==-1});var fe=ce.getBoundingClientRect();if(Ae.avoid&&!Ae.before){var Se=Math.floor(fe.top/w),pe=Math.floor(fe.bottom/w),ae=Math.abs(fe.bottom-fe.top)/w;pe!==Se&&ae<=1&&(Ae.before=!0)}if(Ae.before){var de=(0,m.createElement)("div",{style:{display:"block",height:w-fe.top%w+"px"}});ce.parentNode.insertBefore(de,ce)}if(Ae.after){var de=(0,m.createElement)("div",{style:{display:"block",height:w-fe.bottom%w+"px"}});ce.parentNode.insertBefore(de,ce.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(d,A,o){o.r(A),o.d(A,{deepCloneBasic:function(){return v}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.regexp.test.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.set.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/esnext.set.add-all.js"),o("./node_modules/core-js/modules/esnext.set.delete-all.js"),o("./node_modules/core-js/modules/esnext.set.difference.js"),o("./node_modules/core-js/modules/esnext.set.every.js"),o("./node_modules/core-js/modules/esnext.set.filter.js"),o("./node_modules/core-js/modules/esnext.set.find.js"),o("./node_modules/core-js/modules/esnext.set.intersection.js"),o("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),o("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),o("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),o("./node_modules/core-js/modules/esnext.set.join.js"),o("./node_modules/core-js/modules/esnext.set.map.js"),o("./node_modules/core-js/modules/esnext.set.reduce.js"),o("./node_modules/core-js/modules/esnext.set.some.js"),o("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),o("./node_modules/core-js/modules/esnext.set.union.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function f(y,w){var E=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!E){if(Array.isArray(y)||(E=m(y))||w){E&&(y=E);var Q=0,K=function(){};return{s:K,n:function(){return Q>=y.length?{done:!0}:{done:!1,value:y[Q++]}},e:function(ce){throw ce},f:K}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z,J=!0,H=!1;return{s:function(){E=E.call(y)},n:function(){var ce=E.next();return J=ce.done,ce},e:function(ce){H=!0,Z=ce},f:function(){try{J||E.return==null||E.return()}finally{if(H)throw Z}}}}function m(y,w){if(y){if(typeof y=="string")return p(y,w);var E={}.toString.call(y).slice(8,-1);return E==="Object"&&y.constructor&&(E=y.constructor.name),E==="Map"||E==="Set"?Array.from(y):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?p(y,w):void 0}}function p(y,w){(w==null||w>y.length)&&(w=y.length);for(var E=0,Q=Array(w);E<w;E++)Q[E]=y[E];return Q}function x(y,w){try{var E=y.currentSrc||y.src||"";if(!E)return;w.setAttribute("src",E),w.removeAttribute("srcset"),w.removeAttribute("sizes"),w.loading="eager",w.decoding="sync"}catch{}}function v(y){if(!y)throw new Error("Invalid node");var w=new Set,E=null;if(y.nodeType===Node.TEXT_NODE||y.nodeType!==Node.ELEMENT_NODE)return y.cloneNode(!0);if(y.tagName==="IFRAME"){var Q=document.createElement("div");return Q.style.cssText="width:".concat(y.offsetWidth,"px;height:").concat(y.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),Q}if(y.tagName==="CANVAS"){var K=y.toDataURL(),Z=document.createElement("img");return Z.src=K,Z.width=y.width,Z.height=y.height,Z}var J;try{J=y.cloneNode(!1),y.tagName==="IMG"&&x(y,J)}catch(Lt){throw console.error("[Snapdom] Failed to clone node:",y,Lt),Lt}if(y instanceof HTMLTextAreaElement){J.textContent=y.value,J.value=y.value;var H=y.getBoundingClientRect();return J.style.boxSizing="border-box",J.style.width="".concat(H.width,"px"),J.style.height="".concat(H.height,"px"),J}if(y instanceof HTMLInputElement&&(y.hasAttribute("value")&&(J.value=y.value,J.setAttribute("value",y.value)),y.checked!==void 0&&(J.checked=y.checked,y.checked&&J.setAttribute("checked",""),y.indeterminate&&(J.indeterminate=y.indeterminate))),y instanceof HTMLSelectElement&&(E=y.value),y.shadowRoot){var G=Array.from(y.shadowRoot.querySelectorAll("slot")).length>0;if(!G){var ce=document.createDocumentFragment(),Ae=f(y.shadowRoot.childNodes),Ne;try{for(Ae.s();!(Ne=Ae.n()).done;){var re=Ne.value;if(!(re.nodeType===Node.ELEMENT_NODE&&re.tagName==="STYLE")){var Be=v(re);Be&&ce.appendChild(Be)}}}catch(Lt){Ae.e(Lt)}finally{Ae.f()}J.appendChild(ce)}}if(y.tagName==="SLOT"){var fe,Se=((fe=y.assignedNodes)===null||fe===void 0?void 0:fe.call(y,{flatten:!0}))||[],pe=Se.length>0?Se:Array.from(y.childNodes),ae=document.createDocumentFragment(),de=f(pe),oe;try{for(de.s();!(oe=de.n()).done;){var Ee=oe.value,Re=v(Ee);Re&&ae.appendChild(Re)}}catch(Lt){de.e(Lt)}finally{de.f()}return ae}var ke=f(y.childNodes),me;try{for(ke.s();!(me=ke.n()).done;){var we=me.value;if(!w.has(we)){var ue=v(we);ue&&J.appendChild(ue)}}}catch(Lt){ke.e(Lt)}finally{ke.f()}if(E!==null&&J instanceof HTMLSelectElement){J.value=E;var te=f(J.options),ge;try{for(te.s();!(ge=te.n()).done;){var Me=ge.value;Me.value===E?Me.setAttribute("selected",""):Me.removeAttribute("selected")}}catch(Lt){te.e(Lt)}finally{te.f()}}var Ve=y.scrollLeft,Nt=y.scrollTop,ut=Ve||Nt;if(ut&&J instanceof HTMLElement){J.style.overflow="hidden",J.style.scrollbarWidth="none",J.style.msOverflowStyle="none";var et=document.createElement("div");for(et.style.transform="translate(".concat(-Ve,"px, ").concat(-Nt,"px)"),et.style.willChange="transform",et.style.display="inline-block",et.style.width="100%";J.firstChild;)et.appendChild(J.firstChild);J.appendChild(et)}return J}}),"./src/utils.js":(function(d,A,o){o.r(A),o.d(A,{createElement:function(){return x},objType:function(){return p},toPx:function(){return y},unitConvert:function(){return v}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var f=o("./node_modules/dompurify/dist/purify.es.mjs");function m(w){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},m(w)}var p=function(E){var Q=m(E);return Q==="undefined"?"undefined":Q==="string"||E instanceof String?"string":Q==="number"||E instanceof Number?"number":Q==="function"||E instanceof Function?"function":E&&E.constructor===Array?"array":E&&E.nodeType===1?"element":Q==="object"?"object":"unknown"},x=function(E,Q){var K=document.createElement(E);Q.className&&(K.className=Q.className),Q.innerHTML&&(K.innerHTML=f.default.sanitize(Q.innerHTML));for(var Z in Q.style)K.style[Z]=Q.style[Z];return K},v=function(E,Q){if(p(E)==="number")return E*72/96/Q;var K={};for(var Z in E)K[Z]=E[Z]*72/96/Q;return K},y=function(E,Q){return Math.floor(E*Q/72*96)}}),"./src/worker.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/esnext.iterator.map.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/web.timers.js");var f=o("./node_modules/jspdf/dist/jspdf.es.min.js"),m=o("html2canvas"),p=o.n(m),x=o("./src/snapdom/clone.js"),v=o("./src/utils.js"),y=function w(E){var Q=Object.assign(w.convert(Promise.resolve()),JSON.parse(JSON.stringify(w.template))),K=w.convert(Promise.resolve(),Q);return K=K.setProgress(1,w,1,[w]),K=K.set(E),K};y.prototype=Object.create(Promise.prototype),y.prototype.constructor=y,y.convert=function(E,Q){return E.__proto__=Q||y.prototype,E},y.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},y.prototype.from=function(E,Q){function K(Z){switch((0,v.objType)(Z)){case"string":return"string";case"element":return Z.nodeName.toLowerCase&&Z.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(Q=Q||K(E),Q){case"string":return this.set({src:(0,v.createElement)("div",{innerHTML:E})});case"element":return this.set({src:E});case"canvas":return this.set({canvas:E});case"img":return this.set({img:E});default:return this.error("Unknown source type.")}})},y.prototype.to=function(E){switch(E){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},y.prototype.toContainer=function(){var E=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var K={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},Z={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};K.opacity=0;var J=(0,x.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,v.createElement)("div",{className:"html2pdf__overlay",style:K}),this.prop.container=(0,v.createElement)("div",{className:"html2pdf__container",style:Z}),this.prop.container.appendChild(J),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(H){return setTimeout(H,10)})})},y.prototype.toCanvas=function(){var E=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(E).then(function(){var K=Object.assign({},this.opt.html2canvas);return delete K.onrendered,p()(this.prop.container,K)}).then(function(K){var Z=this.opt.html2canvas.onrendered||function(){};Z(K),this.prop.canvas=K,document.body.removeChild(this.prop.overlay)})},y.prototype.toImg=function(){var E=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(E).then(function(){var K=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=K})},y.prototype.toPdf=function(){var E=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var K=this.prop.canvas,Z=this.opt,J=K.height,H=Math.floor(K.width*this.prop.pageSize.inner.ratio),G=Math.ceil(J/H),ce=this.prop.pageSize.inner.height,Ae=document.createElement("canvas"),Ne=Ae.getContext("2d");Ae.width=K.width,Ae.height=H,this.prop.pdf=this.prop.pdf||new f.jsPDF(Z.jsPDF);for(var re=0;re<G;re++){re===G-1&&J%H!==0&&(Ae.height=J%H,ce=Ae.height*this.prop.pageSize.inner.width/Ae.width);var Be=Ae.width,fe=Ae.height;Ne.fillStyle="white",Ne.fillRect(0,0,Be,fe),Ne.drawImage(K,0,re*H,Be,fe,0,0,Be,fe),re&&this.prop.pdf.addPage();var Se=Ae.toDataURL("image/"+Z.image.type,Z.image.quality);this.prop.pdf.addImage(Se,Z.image.type,Z.margin[1],Z.margin[0],this.prop.pageSize.inner.width,ce)}})},y.prototype.output=function(E,Q,K){return K=K||"pdf",K.toLowerCase()==="img"||K.toLowerCase()==="image"?this.outputImg(E,Q):this.outputPdf(E,Q)},y.prototype.outputPdf=function(E,Q){var K=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(K).then(function(){return this.prop.pdf.output(E,Q)})},y.prototype.outputImg=function(E,Q){var K=[function(){return this.prop.img||this.toImg()}];return this.thenList(K).then(function(){switch(E){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+E+'" is not supported.'}})},y.prototype.save=function(E){var Q=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(Q).set(E?{filename:E}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},y.prototype.set=function(E){if((0,v.objType)(E)!=="object")return this;var Q=Object.keys(E||{}).map(function(K){switch(K){case"margin":return this.setMargin.bind(this,E.margin);case"jsPDF":return function(){return this.opt.jsPDF=E.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,E.pageSize);default:return K in y.template.prop?function(){this.prop[K]=E[K]}:function(){this.opt[K]=E[K]}}},this);return this.then(function(){return this.thenList(Q)})},y.prototype.get=function(E,Q){return this.then(function(){var Z=E in y.template.prop?this.prop[E]:this.opt[E];return Q?Q(Z):Z})},y.prototype.setMargin=function(E){return this.then(function(){switch((0,v.objType)(E)){case"number":E=[E,E,E,E];case"array":if(E.length===2&&(E=[E[0],E[1],E[0],E[1]]),E.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=E}).then(this.setPageSize)},y.prototype.setPageSize=function(E){return this.then(function(){E=E||f.jsPDF.getPageSize(this.opt.jsPDF),E.hasOwnProperty("inner")||(E.inner={width:E.width-this.opt.margin[1]-this.opt.margin[3],height:E.height-this.opt.margin[0]-this.opt.margin[2]},E.inner.px={width:(0,v.toPx)(E.inner.width,E.k),height:(0,v.toPx)(E.inner.height,E.k)},E.inner.ratio=E.inner.height/E.inner.width),this.prop.pageSize=E})},y.prototype.setProgress=function(E,Q,K,Z){return E!=null&&(this.progress.val=E),Q!=null&&(this.progress.state=Q),K!=null&&(this.progress.n=K),Z!=null&&(this.progress.stack=Z),this.progress.ratio=this.progress.val/this.progress.state,this},y.prototype.updateProgress=function(E,Q,K,Z){return this.setProgress(E?this.progress.val+E:null,Q||null,K?this.progress.n+K:null,Z?this.progress.stack.concat(Z):null)},y.prototype.then=function(E,Q){var K=this;return this.thenCore(E,Q,function(J,H){return K.updateProgress(null,null,1,[J]),Promise.prototype.then.call(this,function(ce){return K.updateProgress(null,J),ce}).then(J,H).then(function(ce){return K.updateProgress(1),ce})})},y.prototype.thenCore=function(E,Q,K){K=K||Promise.prototype.then;var Z=this;E&&(E=E.bind(Z)),Q&&(Q=Q.bind(Z));var J=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",H=J?Z:y.convert(Object.assign({},Z),Promise.prototype),G=K.call(H,E,Q);return y.convert(G,Z.__proto__)},y.prototype.thenExternal=function(E,Q){return Promise.prototype.then.call(this,E,Q)},y.prototype.thenList=function(E){var Q=this;return E.forEach(function(Z){Q=Q.thenCore(Z)}),Q},y.prototype.catch=function(w){w&&(w=w.bind(this));var E=Promise.prototype.catch.call(this,w);return y.convert(E,this)},y.prototype.catchExternal=function(E){return Promise.prototype.catch.call(this,E)},y.prototype.error=function(E){return this.then(function(){throw new Error(E)})},y.prototype.using=y.prototype.set,y.prototype.saveAs=y.prototype.save,y.prototype.export=y.prototype.output,y.prototype.run=y.prototype.then,A.default=y}),html2canvas:(function(d){d.exports=r})},i={};function c(d){var A=i[d];if(A!==void 0)return A.exports;if(n[d]===void 0){var o=new Error("Cannot find module '"+d+"'");throw o.code="MODULE_NOT_FOUND",o}var f=i[d]={exports:{}};return n[d].call(f.exports,f,f.exports,c),f.exports}(function(){c.n=function(d){var A=d&&d.__esModule?function(){return d.default}:function(){return d};return c.d(A,{a:A}),A}})(),(function(){var d=Object.getPrototypeOf?function(o){return Object.getPrototypeOf(o)}:function(o){return o.__proto__},A;c.t=function(o,f){if(f&1&&(o=this(o)),f&8||typeof o=="object"&&o&&(f&4&&o.__esModule||f&16&&typeof o.then=="function"))return o;var m=Object.create(null);c.r(m);var p={};A=A||[null,d({}),d([]),d(d)];for(var x=f&2&&o;(typeof x=="object"||typeof x=="function")&&!~A.indexOf(x);x=d(x))Object.getOwnPropertyNames(x).forEach(function(v){p[v]=function(){return o[v]}});return p.default=function(){return o},c.d(m,p),m}})(),(function(){c.d=function(d,A){for(var o in A)c.o(A,o)&&!c.o(d,o)&&Object.defineProperty(d,o,{enumerable:!0,get:A[o]})}})(),(function(){c.o=function(d,A){return Object.prototype.hasOwnProperty.call(d,A)}})(),(function(){c.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})}})();var u={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/c.r(u);var d=c("./src/worker.js");c("./src/plugin/jspdf-plugin.js"),c("./src/plugin/pagebreaks.js"),c("./src/plugin/hyperlinks.js");var A=function o(f,m){var p=new o.Worker(m);return f?p.from(f).save():p};A.Worker=d.default,u.default=A})(),u=u.default,u})()})})(Wx)),Wx.exports}var eU=q6();const tU=Tg(eU),sU=()=>{const s=Hl(),e=W.useRef(null),[r]=W.useState(()=>new URLSearchParams(window.location.search).get("order_id")),[n,i]=W.useState(null),[c,u]=W.useState(!0),[d,A]=W.useState(!1),[o,f]=W.useState(null),[m,p]=W.useState(!1),[x,v]=W.useState(null),y=(Ae,Ne="success")=>{v({message:Ae,type:Ne}),setTimeout(()=>v(null),3e3)};W.useEffect(()=>{if(!r){f("Order ID not found"),u(!1);return}w(),setTimeout(()=>E(),2e3)},[r]);const w=async()=>{try{const Ae=await fetch(`${Ot}/api/payment/order/${r}`,{credentials:"include"});if(Ae.ok)i(await Ae.json());else{const Ne=await Ae.json();f(Ne.error||"Failed to load order")}}catch{f("Network error occurred")}finally{u(!1)}},E=async()=>{var Ae;if(r){A(!0);try{const re=await(await fetch(`${Ot}/api/payment/verify-order/${r}`,{method:"POST",credentials:"include"})).json();re.success&&["paid","active"].includes((Ae=re.order)==null?void 0:Ae.status)&&await w()}catch{console.error("Verification failed")}finally{A(!1)}}},Q=()=>{s("/billing")},K=()=>{window.print()},Z=()=>{const Ae=document.getElementById("receipt-container");if(!Ae)return;p(!0),Ae.classList.add("download-mode");const Ne={margin:.3,filename:`GogoTrip_Receipt_${(n==null?void 0:n.order.orderReference)||"download"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,scrollY:0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"},pagebreak:{mode:"avoid-all"}};tU().set(Ne).from(Ae).save().then(()=>{Ae.classList.remove("download-mode"),p(!1),y("Receipt downloaded successfully!")}).catch(re=>{console.error("PDF generation failed:",re),Ae.classList.remove("download-mode"),p(!1),y("Failed to download PDF","error")})},J=({status:Ae})=>{const Ne={paid:{icon:t.jsx(Co,{className:"w-5 h-5"}),text:"Payment Successful",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",textColor:"text-emerald-700 dark:text-emerald-400"},active:{icon:t.jsx(Co,{className:"w-5 h-5"}),text:"Payment Successful",bgColor:"bg-emerald-50",textColor:"text-emerald-700"},pending:{icon:t.jsx(Vi,{className:"w-5 h-5"}),text:"Payment Pending",bgColor:"bg-amber-50 dark:bg-amber-900/20",textColor:"text-amber-700 dark:text-amber-400"},failed:{icon:t.jsx(du,{className:"w-5 h-5"}),text:"Payment Failed",bgColor:"bg-red-50 dark:bg-red-900/20",textColor:"text-red-700 dark:text-red-400"},cancelled:{icon:t.jsx(du,{className:"w-5 h-5"}),text:"Payment Cancelled",bgColor:"bg-slate-50 dark:bg-slate-900/20",textColor:"text-slate-700 dark:text-slate-400"}},re=Ne[Ae]||Ne.pending;return t.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${re.bgColor} ${re.textColor} font-medium`,children:[re.icon,t.jsx("span",{children:re.text})]})};if(c)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950",children:t.jsx(Ir,{className:"w-12 h-12 text-blue-600 animate-spin"})});if(o||!n)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950 p-6",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-8 max-w-md w-full border border-slate-200 dark:border-slate-800 text-center",children:[t.jsx(Oa,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Error"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:o||"Order not found"}),t.jsxs("button",{onClick:Q,className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 flex items-center gap-2 mx-auto",children:[t.jsx(qu,{className:"w-5 h-5"})," Back to Billing"]})]})});const{order:H,plan:G,user:ce}=n;return t.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 py-8 px-4 relative animate-fade-in-up",children:[x&&t.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[100] flex items-center gap-3 px-5 py-3 rounded-full shadow-2xl animate-fade-in-down transition-all ${x.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/80 dark:text-red-100 dark:border-red-800 backdrop-blur-md":x.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/80 dark:text-emerald-100 dark:border-emerald-800 backdrop-blur-md":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800/80 dark:text-white dark:border-slate-700 backdrop-blur-md"}`,children:[x.type==="error"?t.jsx(Oa,{className:"w-5 h-5"}):x.type==="success"?t.jsx(Bo,{className:"w-5 h-5"}):t.jsx(kl,{className:"w-5 h-5 text-sky-500"}),t.jsx("span",{className:"font-bold text-sm",children:x.message}),t.jsx("button",{onClick:()=>v(null),className:"ml-2 hover:opacity-70 p-1 bg-black/5 rounded-full",children:t.jsx(en,{className:"w-3 h-3"})})]}),d&&t.jsxs("div",{className:"fixed top-4 right-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4 shadow-lg z-50 flex items-center gap-3",children:[t.jsx(Ir,{className:"w-5 h-5 text-blue-600 animate-spin"}),t.jsx("p",{className:"text-blue-700 dark:text-blue-400 font-medium",children:"Verifying..."})]}),t.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex flex-wrap gap-4 print:hidden",children:[t.jsxs("button",{onClick:Q,className:"px-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-50 transition-colors flex items-center gap-2",children:[t.jsx(qu,{className:"w-5 h-5"})," Back to Billing"]}),H.status==="pending"&&t.jsxs("button",{onClick:E,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[t.jsx(id,{className:`w-5 h-5 ${d?"animate-spin":""}`})," Refresh Status"]}),t.jsx("div",{className:"flex-1"}),t.jsxs("button",{onClick:K,className:"px-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-50 transition-colors flex items-center gap-2",children:[t.jsx(k3,{className:"w-5 h-5"})," Print"]}),t.jsxs("button",{onClick:Z,disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-70",children:[m?t.jsx(Ir,{className:"w-5 h-5 animate-spin"}):t.jsx(P0,{className:"w-5 h-5"})," Download PDF"]})]}),t.jsxs("div",{id:"receipt-container",ref:e,className:"max-w-4xl mx-auto bg-white dark:bg-slate-900 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-800 overflow-hidden print:shadow-none print:border-slate-400",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-8 header-section",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"GogoTrip"}),t.jsx("p",{className:"text-blue-100",children:"Premium Subscription"})]})}),t.jsx("div",{className:"flex justify-center",children:t.jsx(J,{status:H.status})})]}),t.jsxs("div",{className:"p-8 content-section",children:[t.jsxs("div",{className:"mb-8 info-group",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(Bj,{className:"w-5 h-5"})," Order Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 grid-section",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Customer Name"}),t.jsx("div",{className:"font-medium dark:text-white",children:ce.name})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Email"}),t.jsx("div",{className:"font-medium dark:text-white",children:ce.email})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Order Reference"}),t.jsx("div",{className:"font-mono text-sm font-medium dark:text-white",children:H.orderReference})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Order Date"}),t.jsx("div",{className:"font-medium dark:text-white",children:new Date(H.createdAt).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-8 mb-8 info-group",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Subscription Details"}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-6 sub-card",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:G.name}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:G.description})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["RM ",H.amount.toFixed(2)]})})]}),H.status==="active"&&H.startDate&&t.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-4",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Valid From"}),t.jsx("div",{className:"font-medium dark:text-white",children:new Date(H.startDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Valid Until"}),t.jsx("div",{className:"font-medium dark:text-white",children:H.endDate?new Date(H.endDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"}):t.jsx("span",{className:"text-amber-600 font-bold",children:"Lifetime"})})]})]})})]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-8 info-group",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Subtotal"}),t.jsxs("span",{className:"font-medium dark:text-white",children:["RM ",H.amount.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Tax (0%)"}),t.jsx("span",{className:"font-medium dark:text-white",children:"RM 0.00"})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-4 flex justify-between items-center",children:[t.jsx("span",{className:"text-xl font-bold dark:text-white",children:"Total"}),t.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["RM ",H.amount.toFixed(2)]})]})]}),t.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-200 dark:border-slate-800 text-center footer-section",children:[t.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Thank you for choosing GogoTrip Premium!"}),t.jsx("p",{className:"text-xs text-slate-400",children:"For questions or support, please contact us at support@gogotrip.com"})]})]})]}),t.jsx("style",{children:`
        /* DOWNLOAD MODE */
        .download-mode .header-section { padding: 1.5rem !important; }
        .download-mode .content-section { padding: 1.5rem !important; }
        .download-mode .info-group { margin-bottom: 1rem !important; padding-top: 1rem !important; }
        .download-mode .sub-card { padding: 1rem !important; }
        .download-mode .grid-section { gap: 0.5rem !important; }
        .download-mode h1 { font-size: 1.5rem !important; margin-bottom: 0.25rem !important; }
        .download-mode h2 { font-size: 1.1rem !important; margin-bottom: 0.5rem !important; }
        .download-mode .text-3xl { font-size: 1.5rem !important; }
        .download-mode .text-2xl { font-size: 1.25rem !important; }
        .download-mode .text-xl { font-size: 1.125rem !important; }
        .download-mode .text-lg { font-size: 1rem !important; }
        .download-mode .text-base { font-size: 0.875rem !important; }
        .download-mode .footer-section { margin-top: 1.5rem !important; padding-top: 1rem !important; }

        /* PRINT MODE */
        @media print {
          body { 
            -webkit-print-color-adjust: exact !important; 
            print-color-adjust: exact !important; 
            background-color: white !important; 
            height: 100vh;
            overflow: hidden;
          }
          
          body * { visibility: hidden; }
          #receipt-container, #receipt-container * { visibility: visible; }
          
          #receipt-container {
            position: absolute !important;
            left: 50% !important;
            top: 20px !important; 
            transform: translateX(-50%) scale(0.85) !important;
            transform-origin: top center !important;
            
            width: 800px !important;
            max-width: 100% !important;
            
            margin: 0 !important;
            padding: 0 !important;
            border: 1px solid #e2e8f0 !important;
            box-shadow: none !important;
          }

          #receipt-container .header-section { padding: 1.5rem !important; }
          #receipt-container .content-section { padding: 1.5rem !important; }
          #receipt-container .info-group { margin-bottom: 0.5rem !important; padding-top: 0.5rem !important; }
          #receipt-container .sub-card { padding: 0.8rem !important; }
          #receipt-container h1 { font-size: 1.8rem !important; margin-bottom: 5px !important; }
          #receipt-container h2 { font-size: 1.2rem !important; margin-bottom: 5px !important; }
          
          @page { size: auto; margin: 0mm; } 
        }
      `})]})},Wj=({category:s="announcement"})=>{const e={announcement:{icon:t.jsx(Xu,{className:"w-3 h-3"}),color:"blue",label:"Announcement"},promotion:{icon:t.jsx(ff,{className:"w-3 h-3"}),color:"purple",label:"Promotion"},update:{icon:t.jsx(co,{className:"w-3 h-3"}),color:"green",label:"Update"},alert:{icon:t.jsx(Jo,{className:"w-3 h-3"}),color:"red",label:"Alert"}},{icon:r,color:n,label:i}=e[s]||e.announcement,c={blue:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",purple:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",green:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",red:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"};return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${c[n]}`,children:[r,i]})},rU=({audience:s="all"})=>{const e={all:{icon:t.jsx(Td,{className:"w-3 h-3"}),label:"All Users"},premium:{icon:t.jsx(zd,{className:"w-3 h-3"}),label:"Premium"},free:{icon:t.jsx(Td,{className:"w-3 h-3"}),label:"Free Users"},new_users:{icon:t.jsx(co,{className:"w-3 h-3"}),label:"New Users"}},{icon:r,label:n}=e[s]||e.all;return t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800",children:[r,n]})},nU=({content:s})=>{const e=(r,n)=>{if(r.startsWith("### "))return t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mt-6 mb-2",children:r.slice(4)},n);if(r.startsWith("## "))return t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mt-8 mb-3",children:r.slice(3)},n);if(r.startsWith("# "))return t.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-8 mb-4",children:r.slice(2)},n);if(r.startsWith("- ")||r.startsWith("* "))return t.jsx("li",{className:"ml-4 text-slate-700 dark:text-slate-300 mb-1 list-disc",children:r.slice(2)},n);if(r.trim()==="")return t.jsx("div",{className:"h-4"},n);let i=r.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/__(.*?)__/g,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 dark:text-blue-400 hover:underline" target="_blank" rel="noopener noreferrer">$1</a>');return t.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-3 leading-relaxed",dangerouslySetInnerHTML:{__html:i}},n)};return t.jsx("div",{className:"prose-custom",children:s.split(`
`).map((r,n)=>e(r,n))})},aU=()=>{const s=Hl(),[e,r]=W.useState([]),[n,i]=W.useState(!0),[c,u]=W.useState(null);W.useEffect(()=>{d()},[]);const d=async()=>{try{const A=await fetch(`${Ot}/api/announcements`,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch announcements");const o=await A.json();r(o.announcements||[])}catch{u("Unable to load announcements")}finally{i(!1)}};return n?t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Ir,{className:"w-8 h-8 animate-spin text-sky-600"})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto space-y-6 animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("button",{onClick:()=>s(-1),className:"md:hidden",children:t.jsx(qu,{className:"w-5 h-5 text-slate-500"})}),t.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-3",children:[t.jsx(Xu,{className:"w-6 h-6 md:w-8 md:h-8 text-sky-600"}),"Announcements"]})]}),c?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-red-500 gap-2",children:[t.jsx(Oa,{className:"w-8 h-8"}),t.jsx("p",{children:c})]}):e.length===0?t.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800",children:[t.jsx(cu,{className:"w-16 h-16 text-slate-200 dark:text-slate-700 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500",children:"No announcements available at the moment."})]}):t.jsx("div",{className:"space-y-4",children:e.map(A=>t.jsx("div",{onClick:()=>s(`/announcements/${A.id}`),className:"bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-200 dark:border-slate-800 hover:shadow-lg hover:border-sky-300 dark:hover:border-sky-700 hover:-translate-y-0.5 transition-all cursor-pointer group",children:t.jsxs("div",{className:"flex gap-4",children:[A.coverImage?t.jsx("img",{src:A.coverImage,alt:"",className:"w-24 h-24 rounded-xl object-cover shrink-0"}):t.jsx("div",{className:"w-24 h-24 rounded-xl bg-gradient-to-br from-sky-100 to-sky-50 dark:from-sky-900/30 dark:to-slate-800 flex items-center justify-center shrink-0",children:t.jsx(Xu,{className:"w-8 h-8 text-sky-500"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"flex items-center gap-2 mb-2",children:t.jsx(Wj,{category:A.category})}),t.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-white group-hover:text-sky-600 dark:group-hover:text-sky-400 transition-colors truncate",children:A.title}),A.subtitle&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate mt-1",children:A.subtitle}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 text-xs text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(lo,{className:"w-3 h-3"}),new Date(A.createdAt).toLocaleDateString()]}),A.views!==void 0&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ao,{className:"w-3 h-3"}),A.views," views"]})]})]}),t.jsx(uc,{className:"w-5 h-5 text-slate-300 dark:text-slate-600 group-hover:text-sky-500 group-hover:translate-x-1 transition-all self-center"})]})},A.id))})]})},iU=()=>{var p;const{id:s}=Fg(),e=Hl(),[r,n]=W.useState(null),[i,c]=W.useState(!0),[u,d]=W.useState(null);W.useEffect(()=>{A()},[s]);const A=async()=>{try{const x=await fetch(`${Ot}/api/announcements/${s}`,{credentials:"include"});if(!x.ok)throw new Error("Not found");const v=await x.json();n(v.announcement)}catch{d("Announcement not found or has expired.")}finally{c(!1)}},o=async()=>{if(!r)return;const x=window.location.href;if(navigator.share)try{await navigator.share({title:r.title,url:x})}catch{}else await navigator.clipboard.writeText(x),alert("Link copied to clipboard!")},f=()=>{r!=null&&r.ctaLink&&(r.ctaLink.startsWith("http")?window.open(r.ctaLink,"_blank"):e(r.ctaLink))};if(i)return t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Ir,{className:"w-8 h-8 animate-spin text-sky-600"})});if(u||!r)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] gap-4",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:t.jsx(cu,{className:"w-8 h-8 text-slate-400"})}),t.jsx("p",{className:"text-slate-500",children:u||"Announcement not found"}),t.jsx("button",{onClick:()=>e("/announcements"),className:"text-sky-600 font-medium hover:underline",children:"Back to list"})]});const m=()=>{switch(r.ctaStyle){case"secondary":return"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return"bg-gradient-to-r from-sky-500 to-sky-600 text-white hover:from-sky-600 hover:to-sky-700"}};return t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto space-y-6 animate-fade-in-up",children:[t.jsxs("button",{onClick:()=>e("/announcements"),className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-sky-600 dark:hover:text-white transition-colors",children:[t.jsx(qu,{className:"w-4 h-4"}),"Back to announcements"]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[(r.bannerImage||r.coverImage)&&t.jsx("div",{className:"h-48 md:h-64 overflow-hidden",children:t.jsx("img",{src:r.bannerImage||r.coverImage,alt:r.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[t.jsx(Wj,{category:r.category}),t.jsx(rU,{audience:r.targetAudience}),r.priority===2&&t.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs font-medium rounded",children:" Urgent"})]}),t.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white mb-2",children:r.title}),r.subtitle&&t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-4",children:r.subtitle}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx(lo,{className:"w-4 h-4"}),new Date(r.createdAt).toLocaleDateString()]}),r.views!==void 0&&t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx(ao,{className:"w-4 h-4"}),r.views.toLocaleString()," views"]}),r.endAt&&t.jsxs("span",{className:"flex items-center gap-1.5 text-orange-500",children:[t.jsx(Vi,{className:"w-4 h-4"}),"Expires: ",new Date(r.endAt).toLocaleDateString()]})]})]})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 md:p-8",children:r.contentType==="html"?t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:r.content}}):r.contentType==="markdown"?t.jsx(nU,{content:r.content}):t.jsx("div",{className:"whitespace-pre-wrap text-slate-700 dark:text-slate-300 leading-relaxed",children:r.content})}),(r.ctaText||r.ctaLink)&&t.jsx("div",{className:"bg-gradient-to-r from-slate-100 to-slate-50 dark:from-slate-800/50 dark:to-slate-900/50 rounded-3xl p-6 md:p-8 border border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Ready to take action?"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:r.category==="promotion"?"Don't miss this opportunity!":"Click the button to proceed"})]}),t.jsxs("button",{onClick:f,className:`px-8 py-4 rounded-2xl font-semibold transition-all flex items-center gap-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 ${m()}`,children:[r.ctaText||"Learn More",(p=r.ctaLink)!=null&&p.startsWith("http")?t.jsx(qf,{className:"w-4 h-4"}):t.jsx(uc,{className:"w-4 h-4"})]})]})}),t.jsx("div",{className:"flex items-center justify-center pb-8",children:t.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-6 py-3 text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:[t.jsx(Lp,{className:"w-4 h-4"})," Share this announcement"]})})]})},oU=({blog:s,onClick:e})=>t.jsxs("div",{onClick:e,className:"group cursor-pointer bg-white dark:bg-slate-800 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-slate-100 dark:border-slate-700",children:[t.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.coverImage?t.jsx("img",{src:s.coverImage,alt:s.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500"}),t.jsx("div",{className:"absolute top-4 left-4",children:t.jsx("span",{className:"px-3 py-1 bg-black/50 backdrop-blur-md text-white text-xs font-bold rounded-full uppercase tracking-wider",children:s.category})})]}),t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden flex items-center justify-center",children:s.authorAvatar?t.jsx("img",{src:s.authorAvatar,alt:s.authorName,className:"w-full h-full object-cover"}):t.jsx(Wo,{className:"w-4 h-4 text-slate-500"})}),t.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:s.authorName}),t.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:""}),t.jsx("span",{className:"text-xs text-slate-400",children:s.publishedAt?new Date(s.publishedAt).toLocaleDateString():"Draft"})]}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 line-clamp-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:s.title}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm line-clamp-2 mb-4",children:s.excerpt}),t.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-4 text-slate-400 text-xs font-medium",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(ao,{className:"w-4 h-4"}),s.views]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(mf,{className:`w-4 h-4 ${s.isLiked?"fill-rose-500 text-rose-500":""}`}),s.likesCount]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(hu,{className:"w-4 h-4"}),s.commentsCount]})]})})]})]}),Jn=({className:s="",variant:e="text",width:r,height:n,animation:i="pulse"})=>{const c={text:"rounded",circular:"rounded-full",rectangular:"rounded-none",rounded:"rounded-xl"},u={pulse:"animate-pulse",wave:"animate-shimmer bg-gradient-to-r from-slate-200 via-slate-100 to-slate-200 dark:from-slate-700 dark:via-slate-600 dark:to-slate-700 bg-[length:200%_100%]",none:""},d={};return r&&(d.width=typeof r=="number"?`${r}px`:r),n&&(d.height=typeof n=="number"?`${n}px`:n),t.jsx("div",{className:`
        bg-slate-200 dark:bg-slate-700
        ${c[e]}
        ${u[i]}
        ${s}
      `,style:d})},lU=({className:s=""})=>t.jsxs("div",{className:`max-w-4xl mx-auto p-6 md:p-8 space-y-8 ${s}`,children:[t.jsx(Jn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Jn,{variant:"rounded",className:"w-full h-64 md:h-96"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Jn,{variant:"rounded",className:"w-20 h-6"}),t.jsx(Jn,{variant:"text",className:"w-32 h-4"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Jn,{variant:"text",className:"w-full h-10"}),t.jsx(Jn,{variant:"text",className:"w-3/4 h-10"})]}),t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(Jn,{variant:"circular",className:"w-14 h-14"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(Jn,{variant:"text",className:"w-32 h-5"}),t.jsx(Jn,{variant:"text",className:"w-48 h-4"})]}),t.jsx(Jn,{variant:"rounded",className:"w-24 h-10"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-11/12 h-5"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-4/5 h-5"}),t.jsx("div",{className:"py-4"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-3/4 h-5"}),t.jsx("div",{className:"py-4"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-5/6 h-5"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-2/3 h-5"})]}),t.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[t.jsx(Jn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Jn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Jn,{variant:"rounded",className:"w-24 h-10"})]}),t.jsxs("div",{className:"space-y-6 pt-8",children:[t.jsx(Jn,{variant:"text",className:"w-40 h-8"}),t.jsx(Jn,{variant:"rounded",className:"w-full h-24"}),[1,2,3].map(e=>t.jsxs("div",{className:"flex gap-4 p-4 bg-slate-50 dark:bg-slate-800/30 rounded-xl",children:[t.jsx(Jn,{variant:"circular",className:"w-10 h-10 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Jn,{variant:"text",className:"w-24 h-4"}),t.jsx(Jn,{variant:"text",className:"w-20 h-3"})]}),t.jsx(Jn,{variant:"text",className:"w-full h-4"}),t.jsx(Jn,{variant:"text",className:"w-4/5 h-4"})]})]},e))]})]});var Yx={exports:{}},Xx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function cU(){if(A2)return Xx;A2=1;var s=hm();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=s.useState,i=s.useEffect,c=s.useLayoutEffect,u=s.useDebugValue;function d(m,p){var x=p(),v=n({inst:{value:x,getSnapshot:p}}),y=v[0].inst,w=v[1];return c(function(){y.value=x,y.getSnapshot=p,A(y)&&w({inst:y})},[m,x,p]),i(function(){return A(y)&&w({inst:y}),m(function(){A(y)&&w({inst:y})})},[m]),u(x),x}function A(m){var p=m.getSnapshot;m=m.value;try{var x=p();return!r(m,x)}catch{return!0}}function o(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o:d;return Xx.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:f,Xx}var h2;function Yj(){return h2||(h2=1,Yx.exports=cU()),Yx.exports}var Xj=Yj();function Cc(s){this.content=s}Cc.prototype={constructor:Cc,find:function(s){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===s)return e;return-1},get:function(s){var e=this.find(s);return e==-1?void 0:this.content[e+1]},update:function(s,e,r){var n=r&&r!=s?this.remove(r):this,i=n.find(s),c=n.content.slice();return i==-1?c.push(r||s,e):(c[i+1]=e,r&&(c[i]=r)),new Cc(c)},remove:function(s){var e=this.find(s);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Cc(r)},addToStart:function(s,e){return new Cc([s,e].concat(this.remove(s).content))},addToEnd:function(s,e){var r=this.remove(s).content.slice();return r.push(s,e),new Cc(r)},addBefore:function(s,e,r){var n=this.remove(e),i=n.content.slice(),c=n.find(s);return i.splice(c==-1?i.length:c,0,e,r),new Cc(i)},forEach:function(s){for(var e=0;e<this.content.length;e+=2)s(this.content[e],this.content[e+1])},prepend:function(s){return s=Cc.from(s),s.size?new Cc(s.content.concat(this.subtract(s).content)):this},append:function(s){return s=Cc.from(s),s.size?new Cc(this.subtract(s).content.concat(s.content)):this},subtract:function(s){var e=this;s=Cc.from(s);for(var r=0;r<s.content.length;r+=2)e=e.remove(s.content[r]);return e},toObject:function(){var s={};return this.forEach(function(e,r){s[e]=r}),s},get size(){return this.content.length>>1}};Cc.from=function(s){if(s instanceof Cc)return s;var e=[];if(s)for(var r in s)e.push(r,s[r]);return new Cc(e)};function Jj(s,e,r){for(let n=0;;n++){if(n==s.childCount||n==e.childCount)return s.childCount==e.childCount?null:r;let i=s.child(n),c=e.child(n);if(i==c){r+=i.nodeSize;continue}if(!i.sameMarkup(c))return r;if(i.isText&&i.text!=c.text){for(let u=0;i.text[u]==c.text[u];u++)r++;return r}if(i.content.size||c.content.size){let u=Jj(i.content,c.content,r+1);if(u!=null)return u}r+=i.nodeSize}}function Zj(s,e,r,n){for(let i=s.childCount,c=e.childCount;;){if(i==0||c==0)return i==c?null:{a:r,b:n};let u=s.child(--i),d=e.child(--c),A=u.nodeSize;if(u==d){r-=A,n-=A;continue}if(!u.sameMarkup(d))return{a:r,b:n};if(u.isText&&u.text!=d.text){let o=0,f=Math.min(u.text.length,d.text.length);for(;o<f&&u.text[u.text.length-o-1]==d.text[d.text.length-o-1];)o++,r--,n--;return{a:r,b:n}}if(u.content.size||d.content.size){let o=Zj(u.content,d.content,r-1,n-1);if(o)return o}r-=A,n-=A}}class Ws{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,c){for(let u=0,d=0;d<r;u++){let A=this.content[u],o=d+A.nodeSize;if(o>e&&n(A,i+d,c||null,u)!==!1&&A.content.size){let f=d+1;A.nodesBetween(Math.max(0,e-f),Math.min(A.content.size,r-f),n,i+f)}d=o}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let c="",u=!0;return this.nodesBetween(e,r,(d,A)=>{let o=d.isText?d.text.slice(Math.max(e,A)-A,r-A):d.isLeaf?i?typeof i=="function"?i(d):i:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&o||d.isTextblock)&&n&&(u?u=!1:c+=n),c+=o},0),c}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),c=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),c=1);c<e.content.length;c++)i.push(e.content[c]);return new Ws(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let c=0,u=0;u<r;c++){let d=this.content[c],A=u+d.nodeSize;A>e&&((u<e||A>r)&&(d.isText?d=d.cut(Math.max(0,e-u),Math.min(d.text.length,r-u)):d=d.cut(Math.max(0,e-u-1),Math.min(d.content.size,r-u-1))),n.push(d),i+=d.nodeSize),u=A}return new Ws(n,i)}cutByIndex(e,r){return e==r?Ws.empty:e==0&&r==this.content.length?this:new Ws(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),c=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new Ws(i,c)}addToStart(e){return new Ws([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ws(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return Jj(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return Zj(this,e,r,n)}findIndex(e){if(e==0)return Wm(0,e);if(e==this.size)return Wm(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=this.child(r),c=n+i.nodeSize;if(c>=e)return c==e?Wm(r+1,c):Wm(r,n);n=c}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Ws.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ws(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ws.empty;let r,n=0;for(let i=0;i<e.length;i++){let c=e[i];n+=c.nodeSize,i&&c.isText&&e[i-1].sameMarkup(c)?(r||(r=e.slice(0,i)),r[r.length-1]=c.withText(r[r.length-1].text+c.text)):r&&r.push(c)}return new Ws(r||e,n)}static from(e){if(!e)return Ws.empty;if(e instanceof Ws)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ws([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ws.empty=new Ws([],0);const Jx={index:0,offset:0};function Wm(s,e){return Jx.index=s,Jx.offset=e,Jx}function Qp(s,e){if(s===e)return!0;if(!(s&&typeof s=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(s);if(Array.isArray(e)!=r)return!1;if(r){if(s.length!=e.length)return!1;for(let n=0;n<s.length;n++)if(!Qp(s[n],e[n]))return!1}else{for(let n in s)if(!(n in e)||!Qp(s[n],e[n]))return!1;for(let n in e)if(!(n in s))return!1}return!0}let Hi=class zb{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let c=e[i];if(this.eq(c))return e;if(this.type.excludes(c.type))r||(r=e.slice(0,i));else{if(c.type.excludes(this.type))return e;!n&&c.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(c)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Qp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return zb.none;if(e instanceof zb)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};Hi.none=[];class _p extends Error{}class Dr{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=e5(this.content,e+this.openStart,r);return n&&new Dr(n,this.openStart,this.openEnd)}removeBetween(e,r){return new Dr(qj(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return Dr.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Dr(Ws.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let c=e.firstChild;c&&!c.isLeaf&&(r||!c.type.spec.isolating);c=c.firstChild)n++;for(let c=e.lastChild;c&&!c.isLeaf&&(r||!c.type.spec.isolating);c=c.lastChild)i++;return new Dr(e,n,i)}}Dr.empty=new Dr(Ws.empty,0,0);function qj(s,e,r){let{index:n,offset:i}=s.findIndex(e),c=s.maybeChild(n),{index:u,offset:d}=s.findIndex(r);if(i==e||c.isText){if(d!=r&&!s.child(u).isText)throw new RangeError("Removing non-flat range");return s.cut(0,e).append(s.cut(r))}if(n!=u)throw new RangeError("Removing non-flat range");return s.replaceChild(n,c.copy(qj(c.content,e-i-1,r-i-1)))}function e5(s,e,r,n){let{index:i,offset:c}=s.findIndex(e),u=s.maybeChild(i);if(c==e||u.isText)return n&&!n.canReplace(i,i,r)?null:s.cut(0,e).append(r).append(s.cut(e));let d=e5(u.content,e-c-1,r,u);return d&&s.replaceChild(i,u.copy(d))}function dU(s,e,r){if(r.openStart>s.depth)throw new _p("Inserted content deeper than insertion position");if(s.depth-r.openStart!=e.depth-r.openEnd)throw new _p("Inconsistent open depths");return t5(s,e,r,0)}function t5(s,e,r,n){let i=s.index(n),c=s.node(n);if(i==e.index(n)&&n<s.depth-r.openStart){let u=t5(s,e,r,n+1);return c.copy(c.content.replaceChild(i,u))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&s.depth==n&&e.depth==n){let u=s.parent,d=u.content;return df(u,d.cut(0,s.parentOffset).append(r.content).append(d.cut(e.parentOffset)))}else{let{start:u,end:d}=uU(r,s);return df(c,r5(s,u,d,e,n))}else return df(c,Pp(s,e,n))}function s5(s,e){if(!e.type.compatibleContent(s.type))throw new _p("Cannot join "+e.type.name+" onto "+s.type.name)}function Vb(s,e,r){let n=s.node(r);return s5(n,e.node(r)),n}function cf(s,e){let r=e.length-1;r>=0&&s.isText&&s.sameMarkup(e[r])?e[r]=s.withText(e[r].text+s.text):e.push(s)}function z0(s,e,r,n){let i=(e||s).node(r),c=0,u=e?e.index(r):i.childCount;s&&(c=s.index(r),s.depth>r?c++:s.textOffset&&(cf(s.nodeAfter,n),c++));for(let d=c;d<u;d++)cf(i.child(d),n);e&&e.depth==r&&e.textOffset&&cf(e.nodeBefore,n)}function df(s,e){return s.type.checkContent(e),s.copy(e)}function r5(s,e,r,n,i){let c=s.depth>i&&Vb(s,e,i+1),u=n.depth>i&&Vb(r,n,i+1),d=[];return z0(null,s,i,d),c&&u&&e.index(i)==r.index(i)?(s5(c,u),cf(df(c,r5(s,e,r,n,i+1)),d)):(c&&cf(df(c,Pp(s,e,i+1)),d),z0(e,r,i,d),u&&cf(df(u,Pp(r,n,i+1)),d)),z0(n,null,i,d),new Ws(d)}function Pp(s,e,r){let n=[];if(z0(null,s,r,n),s.depth>r){let i=Vb(s,e,r+1);cf(df(i,Pp(s,e,r+1)),n)}return z0(e,null,r,n),new Ws(n)}function uU(s,e){let r=e.depth-s.openStart,i=e.node(r).copy(s.content);for(let c=r-1;c>=0;c--)i=e.node(c).copy(Ws.from(i));return{start:i.resolveNoCache(s.openStart+r),end:i.resolveNoCache(i.content.size-s.openEnd-r)}}class rm{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let c=0;c<e;c++)i+=n.child(c).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Hi.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let d=n;n=i,i=d}let c=n.marks;for(var u=0;u<c.length;u++)c[u].type.spec.inclusive===!1&&(!i||!c[u].isInSet(i.marks))&&(c=c[u--].removeFromSet(c));return c}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var c=0;c<n.length;c++)n[c].type.spec.inclusive===!1&&(!i||!n[c].isInSet(i.marks))&&(n=n[c--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Hp(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,c=r;for(let u=e;;){let{index:d,offset:A}=u.content.findIndex(c),o=c-A;if(n.push(u,d,i+A),!o||(u=u.child(d),u.isText))break;c=o-1,i+=A+1}return new rm(r,n,c)}static resolveCached(e,r){let n=f2.get(e);if(n)for(let c=0;c<n.elts.length;c++){let u=n.elts[c];if(u.pos==r)return u}else f2.set(e,n=new AU);let i=n.elts[n.i]=rm.resolve(e,r);return n.i=(n.i+1)%hU,i}}class AU{constructor(){this.elts=[],this.i=0}}const hU=12,f2=new WeakMap;class Hp{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const fU=Object.create(null);let Bh=class Kb{constructor(e,r,n,i=Hi.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||Ws.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Qp(this.attrs,r||e.defaultAttrs||fU)&&Hi.sameSet(this.marks,n||Hi.none)}copy(e=null){return e==this.content?this:new Kb(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Kb(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return Dr.empty;let i=this.resolve(e),c=this.resolve(r),u=n?0:i.sharedDepth(r),d=i.start(u),o=i.node(u).content.cut(i.pos-d,c.pos-d);return new Dr(o,i.depth-u,c.depth-u)}replace(e,r,n){return dU(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return rm.resolveCached(this,e)}resolveNoCache(e){return rm.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,c=>(n.isInSet(c.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),n5(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Ws.empty,i=0,c=n.childCount){let u=this.contentMatchAt(e).matchFragment(n,i,c),d=u&&u.matchFragment(this.content,r);if(!d||!d.validEnd)return!1;for(let A=i;A<c;A++)if(!this.type.allowsMarks(n.child(A).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let c=this.contentMatchAt(e).matchType(n),u=c&&c.matchFragment(this.content,r);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Hi.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Hi.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=Ws.fromJSON(e,r.content),c=e.nodeType(r.type).create(r.attrs,i,n);return c.type.checkAttrs(c.attrs),c}};Bh.prototype.text=void 0;class zp extends Bh{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):n5(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new zp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new zp(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function n5(s,e){for(let r=s.length-1;r>=0;r--)e=s[r].type.name+"("+e+")";return e}class pf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new mU(e,r);if(n.next==null)return pf.empty;let i=a5(n);n.next&&n.err("Unexpected trailing text");let c=wU(yU(i));return jU(c,n),c}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let c=r;i&&c<n;c++)i=i.matchType(e.child(c).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function c(u,d){let A=u.matchFragment(e,n);if(A&&(!r||A.validEnd))return Ws.from(d.map(o=>o.createAndFill()));for(let o=0;o<u.next.length;o++){let{type:f,next:m}=u.next[o];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let p=c(m,d.concat(f));if(p)return p}}return null}return c(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),c=i.match;if(c.matchType(e)){let u=[];for(let d=i;d.type;d=d.via)u.push(d.type);return u.reverse()}for(let u=0;u<c.next.length;u++){let{type:d,next:A}=c.next[u];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in r)&&(!i.type||A.validEnd)&&(n.push({match:d.contentMatch,type:d,via:i}),r[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let c=i+(n.validEnd?"*":" ")+" ";for(let u=0;u<n.next.length;u++)c+=(u?", ":"")+n.next[u].type.name+"->"+e.indexOf(n.next[u].next);return c}).join(`
`)}}pf.empty=new pf(!0);class mU{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function a5(s){let e=[];do e.push(pU(s));while(s.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function pU(s){let e=[];do e.push(gU(s));while(s.next&&s.next!=")"&&s.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function gU(s){let e=vU(s);for(;;)if(s.eat("+"))e={type:"plus",expr:e};else if(s.eat("*"))e={type:"star",expr:e};else if(s.eat("?"))e={type:"opt",expr:e};else if(s.eat("{"))e=xU(s,e);else break;return e}function m2(s){/\D/.test(s.next)&&s.err("Expected number, got '"+s.next+"'");let e=Number(s.next);return s.pos++,e}function xU(s,e){let r=m2(s),n=r;return s.eat(",")&&(s.next!="}"?n=m2(s):n=-1),s.eat("}")||s.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function bU(s,e){let r=s.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let c in r){let u=r[c];u.isInGroup(e)&&i.push(u)}return i.length==0&&s.err("No node type or group '"+e+"' found"),i}function vU(s){if(s.eat("(")){let e=a5(s);return s.eat(")")||s.err("Missing closing paren"),e}else if(/\W/.test(s.next))s.err("Unexpected token '"+s.next+"'");else{let e=bU(s,s.next).map(r=>(s.inline==null?s.inline=r.isInline:s.inline!=r.isInline&&s.err("Mixing inline and block content"),{type:"name",value:r}));return s.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function yU(s){let e=[[]];return i(c(s,0),r()),e;function r(){return e.push([])-1}function n(u,d,A){let o={term:A,to:d};return e[u].push(o),o}function i(u,d){u.forEach(A=>A.to=d)}function c(u,d){if(u.type=="choice")return u.exprs.reduce((A,o)=>A.concat(c(o,d)),[]);if(u.type=="seq")for(let A=0;;A++){let o=c(u.exprs[A],d);if(A==u.exprs.length-1)return o;i(o,d=r())}else if(u.type=="star"){let A=r();return n(d,A),i(c(u.expr,A),A),[n(A)]}else if(u.type=="plus"){let A=r();return i(c(u.expr,d),A),i(c(u.expr,A),A),[n(A)]}else{if(u.type=="opt")return[n(d)].concat(c(u.expr,d));if(u.type=="range"){let A=d;for(let o=0;o<u.min;o++){let f=r();i(c(u.expr,A),f),A=f}if(u.max==-1)i(c(u.expr,A),A);else for(let o=u.min;o<u.max;o++){let f=r();n(A,f),i(c(u.expr,A),f),A=f}return[n(A)]}else{if(u.type=="name")return[n(d,void 0,u.value)];throw new Error("Unknown expr type")}}}}function i5(s,e){return e-s}function p2(s,e){let r=[];return n(e),r.sort(i5);function n(i){let c=s[i];if(c.length==1&&!c[0].term)return n(c[0].to);r.push(i);for(let u=0;u<c.length;u++){let{term:d,to:A}=c[u];!d&&r.indexOf(A)==-1&&n(A)}}}function wU(s){let e=Object.create(null);return r(p2(s,0));function r(n){let i=[];n.forEach(u=>{s[u].forEach(({term:d,to:A})=>{if(!d)return;let o;for(let f=0;f<i.length;f++)i[f][0]==d&&(o=i[f][1]);p2(s,A).forEach(f=>{o||i.push([d,o=[]]),o.indexOf(f)==-1&&o.push(f)})})});let c=e[n.join(",")]=new pf(n.indexOf(s.length-1)>-1);for(let u=0;u<i.length;u++){let d=i[u][1].sort(i5);c.next.push({type:i[u][0],next:e[d.join(",")]||r(d)})}return c}}function jU(s,e){for(let r=0,n=[s];r<n.length;r++){let i=n[r],c=!i.validEnd,u=[];for(let d=0;d<i.next.length;d++){let{type:A,next:o}=i.next[d];u.push(A.name),c&&!(A.isText||A.hasRequiredAttrs())&&(c=!1),n.indexOf(o)==-1&&n.push(o)}c&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function o5(s){let e=Object.create(null);for(let r in s){let n=s[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function l5(s,e){let r=Object.create(null);for(let n in s){let i=e&&e[n];if(i===void 0){let c=s[n];if(c.hasDefault)i=c.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function c5(s,e,r,n){for(let i in e)if(!(i in s))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in s){let c=s[i];c.validate&&c.validate(e[i])}}function d5(s,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new CU(s,n,e[n]);return r}let g2=class u5{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=d5(e,n.attrs),this.defaultAttrs=o5(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==pf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:l5(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Bh(this,this.computeAttrs(e),Ws.from(r),Hi.setFrom(n))}createChecked(e=null,r,n){return r=Ws.from(r),this.checkContent(r),new Bh(this,this.computeAttrs(e),r,Hi.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Ws.from(r),r.size){let u=this.contentMatch.fillBefore(r);if(!u)return null;r=u.append(r)}let i=this.contentMatch.matchFragment(r),c=i&&i.fillBefore(Ws.empty,!0);return c?new Bh(this,e,r.append(c),Hi.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){c5(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Hi.none:e}static compile(e,r){let n=Object.create(null);e.forEach((c,u)=>n[c]=new u5(c,r,u));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let c in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function NU(s,e,r){let n=r.split("|");return i=>{let c=i===null?"null":typeof i;if(n.indexOf(c)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${s}, got ${c}`)}}class CU{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?NU(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Kg{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=d5(e,i.attrs),this.excluded=null;let c=o5(this.attrs);this.instance=c?new Hi(this,c):null}create(e=null){return!e&&this.instance?this.instance:new Hi(this,l5(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((c,u)=>n[c]=new Kg(c,i++,r,u)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){c5(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class A5{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=Cc.from(e.nodes),r.marks=Cc.from(e.marks||{}),this.nodes=g2.compile(this.spec.nodes,this),this.marks=Kg.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let c=this.nodes[i],u=c.spec.content||"",d=c.spec.marks;if(c.contentMatch=n[u]||(n[u]=pf.parse(u,this.nodes)),c.inlineContent=c.contentMatch.inlineContent,c.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!c.isInline||!c.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=c}c.markSet=d=="_"?null:d?x2(this,d.split(" ")):d==""||!c.inlineContent?[]:null}for(let i in this.marks){let c=this.marks[i],u=c.spec.excludes;c.excluded=u==null?[c]:u==""?[]:x2(this,u.split(" "))}this.nodeFromJSON=i=>Bh.fromJSON(this,i),this.markFromJSON=i=>Hi.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof g2){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new zp(n,n.defaultAttrs,e,Hi.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function x2(s,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],c=s.marks[i],u=c;if(c)r.push(c);else for(let d in s.marks){let A=s.marks[d];(i=="_"||A.spec.group&&A.spec.group.split(" ").indexOf(i)>-1)&&r.push(u=A)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function BU(s){return s.tag!=null}function kU(s){return s.style!=null}let V0=class $b{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(BU(i))this.tags.push(i);else if(kU(i)){let c=/[^=]*/.exec(i.style)[0];n.indexOf(c)<0&&n.push(c),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let c=e.nodes[i.node];return c.contentMatch.matchType(c)})}parse(e,r={}){let n=new v2(this,r,!1);return n.addAll(e,Hi.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new v2(this,r,!0);return n.addAll(e,Hi.none,r.from,r.to),Dr.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let c=this.tags[i];if(TU(e,c.tag)&&(c.namespace===void 0||e.namespaceURI==c.namespace)&&(!c.context||r.matchesContext(c.context))){if(c.getAttrs){let u=c.getAttrs(e);if(u===!1)continue;c.attrs=u||void 0}return c}}}matchStyle(e,r,n,i){for(let c=i?this.styles.indexOf(i)+1:0;c<this.styles.length;c++){let u=this.styles[c],d=u.style;if(!(d.indexOf(e)!=0||u.context&&!n.matchesContext(u.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=r))){if(u.getAttrs){let A=u.getAttrs(r);if(A===!1)continue;u.attrs=A||void 0}return u}}}static schemaRules(e){let r=[];function n(i){let c=i.priority==null?50:i.priority,u=0;for(;u<r.length;u++){let d=r[u];if((d.priority==null?50:d.priority)<c)break}r.splice(u,0,i)}for(let i in e.marks){let c=e.marks[i].spec.parseDOM;c&&c.forEach(u=>{n(u=y2(u)),u.mark||u.ignore||u.clearMark||(u.mark=i)})}for(let i in e.nodes){let c=e.nodes[i].spec.parseDOM;c&&c.forEach(u=>{n(u=y2(u)),u.node||u.ignore||u.mark||(u.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new $b(e,$b.schemaRules(e)))}};const h5={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},SU={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},f5={ol:!0,ul:!0},nm=1,Gb=2,K0=4;function b2(s,e,r){return e!=null?(e?nm:0)|(e==="full"?Gb:0):s&&s.whitespace=="pre"?nm|Gb:r&~K0}class Ym{constructor(e,r,n,i,c,u){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=u,this.content=[],this.activeMarks=Hi.none,this.match=c||(u&K0?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Ws.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&nm)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let c=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=c.withText(c.text.slice(0,c.text.length-i[0].length))}}let r=Ws.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Ws.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!h5.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class v2{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,c,u=b2(null,r.preserveWhitespace,0)|(n?K0:0);i?c=new Ym(i.type,i.attrs,Hi.none,!0,r.topMatch||i.type.contentMatch,u):n?c=new Ym(null,null,Hi.none,!0,null,u):c=new Ym(e.schema.topNodeType,null,Hi.none,!0,null,u),this.nodes=[c],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,c=i.options&Gb?"full":this.localPreserveWS||(i.options&nm)>0,{schema:u}=this.parser;if(c==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(c)if(c==="full")n=n.replace(/\r\n?/g,`
`);else if(u.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(u.linebreakReplacement.create())){let d=n.split(/\r?\n|\r/);for(let A=0;A<d.length;A++)A&&this.insertNode(u.linebreakReplacement.create(),r,!0),d[A]&&this.insertNode(u.text(d[A]),r,!/\S/.test(d[A]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let d=i.content[i.content.length-1],A=e.previousSibling;(!d||A&&A.nodeName=="BR"||d.isText&&/[ \t\r\n\u000c]$/.test(d.text))&&(n=n.slice(1))}n&&this.insertNode(u.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,c=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),d;f5.hasOwnProperty(u)&&this.parser.normalizeLists&&EU(e);let A=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,n));e:if(A?A.ignore:SU.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,r);else if(!A||A.skip||A.closeParent){A&&A.closeParent?this.open=Math.max(0,this.open-1):A&&A.skip.nodeType&&(e=A.skip);let o,f=this.needsBlock;if(h5.hasOwnProperty(u))c.content.length&&c.content[0].isInline&&this.open&&(this.open--,c=this.top),o=!0,c.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let m=A&&A.skip?r:this.readStyles(e,r);m&&this.addAll(e,m),o&&this.sync(c),this.needsBlock=f}else{let o=this.readStyles(e,r);o&&this.addElementByRule(e,A,o,A.consuming===!1?d:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let c=this.parser.matchedStyles[i],u=n.getPropertyValue(c);if(u)for(let d=void 0;;){let A=this.parser.matchStyle(c,u,this,d);if(!A)break;if(A.ignore)return null;if(A.clearMark?r=r.filter(o=>!A.clearMark(o)):r=r.concat(this.parser.schema.marks[A.mark].create(A.attrs)),A.consuming===!1)d=A;else break}}return r}addElementByRule(e,r,n,i){let c,u;if(r.node)if(u=this.parser.schema.nodes[r.node],u.isLeaf)this.insertNode(u.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let A=this.enter(u,r.attrs||null,n,r.preserveWhitespace);A&&(c=!0,n=A)}else{let A=this.parser.schema.marks[r.mark];n=n.concat(A.create(r.attrs))}let d=this.top;if(u&&u.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(A=>this.insertNode(A,n,!1));else{let A=e;typeof r.contentElement=="string"?A=e.querySelector(r.contentElement):typeof r.contentElement=="function"?A=r.contentElement(e):r.contentElement&&(A=r.contentElement),this.findAround(e,A,!0),this.addAll(A,n),this.findAround(e,A,!1)}c&&this.sync(d)&&this.open--}addAll(e,r,n,i){let c=n||0;for(let u=n?e.childNodes[n]:e.firstChild,d=i==null?null:e.childNodes[i];u!=d;u=u.nextSibling,++c)this.findAtPoint(e,c),this.addDOM(u,r);this.findAtPoint(e,c)}findPlace(e,r,n){let i,c;for(let u=this.open,d=0;u>=0;u--){let A=this.nodes[u],o=A.findWrapping(e);if(o&&(!i||i.length>o.length+d)&&(i=o,c=A,!o.length))break;if(A.solid){if(n)break;d+=2}}if(!i)return null;this.sync(c);for(let u=0;u<i.length;u++)r=this.enterInner(i[u],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let c=this.textblockFromContext();c&&(r=this.enterInner(c,null,r))}let i=this.findPlace(e,r,n);if(i){this.closeExtra();let c=this.top;c.match&&(c.match=c.match.matchType(e.type));let u=Hi.none;for(let d of i.concat(e.marks))(c.type?c.type.allowsMarkType(d.type):w2(d.type,e.type))&&(u=d.addToSet(u));return c.content.push(e.mark(u)),!0}return!1}enter(e,r,n,i){let c=this.findPlace(e.create(r),n,!1);return c&&(c=this.enterInner(e,r,n,!0,i)),c}enterInner(e,r,n,i=!1,c){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let d=b2(e,c,u.options);u.options&K0&&u.content.length==0&&(d|=K0);let A=Hi.none;return n=n.filter(o=>(u.type?u.type.allowsMarkType(o.type):w2(o.type,e))?(A=o.addToSet(A),!1):!0),this.nodes.push(new Ym(e,r,A,i,null,d)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=nm)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),c=-(n?n.depth+1:0)+(i?0:1),u=(d,A)=>{for(;d>=0;d--){let o=r[d];if(o==""){if(d==r.length-1||d==0)continue;for(;A>=c;A--)if(u(d-1,A))return!0;return!1}else{let f=A>0||A==0&&i?this.nodes[A].type:n&&A>=c?n.node(A-c).type:null;if(!f||f.name!=o&&!f.isInGroup(o))return!1;A--}}return!0};return u(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function EU(s){for(let e=s.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&f5.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function TU(s,e){return(s.matches||s.msMatchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector).call(s,e)}function y2(s){let e={};for(let r in s)e[r]=s[r];return e}function w2(s,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(s))continue;let c=[],u=d=>{c.push(d);for(let A=0;A<d.edgeCount;A++){let{type:o,next:f}=d.edge(A);if(o==e||c.indexOf(f)<0&&u(f))return!0}};if(u(i.contentMatch))return!0}}class wf{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Zx(r).createDocumentFragment());let i=n,c=[];return e.forEach(u=>{if(c.length||u.marks.length){let d=0,A=0;for(;d<c.length&&A<u.marks.length;){let o=u.marks[A];if(!this.marks[o.type.name]){A++;continue}if(!o.eq(c[d][0])||o.type.spec.spanning===!1)break;d++,A++}for(;d<c.length;)i=c.pop()[1];for(;A<u.marks.length;){let o=u.marks[A++],f=this.serializeMark(o,u.isInline,r);f&&(c.push([o,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(u,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=mp(Zx(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let c=this.serializeMark(e.marks[i],e.isInline,r);c&&((c.contentDOM||c.dom).appendChild(n),n=c.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&mp(Zx(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return mp(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new wf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=j2(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return j2(e.marks)}}function j2(s){let e={};for(let r in s){let n=s[r].spec.toDOM;n&&(e[r]=n)}return e}function Zx(s){return s.document||window.document}const N2=new WeakMap;function UU(s){let e=N2.get(s);return e===void 0&&N2.set(s,e=FU(s)),e}function FU(s){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(s),e}function mp(s,e,r,n){if(typeof e=="string")return{dom:s.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],c;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(c=UU(n))&&c.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=i.indexOf(" ");u>0&&(r=i.slice(0,u),i=i.slice(u+1));let d,A=r?s.createElementNS(r,i):s.createElement(i),o=e[1],f=1;if(o&&typeof o=="object"&&o.nodeType==null&&!Array.isArray(o)){f=2;for(let m in o)if(o[m]!=null){let p=m.indexOf(" ");p>0?A.setAttributeNS(m.slice(0,p),m.slice(p+1),o[m]):m=="style"&&A.style?A.style.cssText=o[m]:A.setAttribute(m,o[m])}}for(let m=f;m<e.length;m++){let p=e[m];if(p===0){if(m<e.length-1||m>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:A,contentDOM:A}}else{let{dom:x,contentDOM:v}=mp(s,p,r,n);if(A.appendChild(x),v){if(d)throw new RangeError("Multiple content holes");d=v}}}return{dom:A,contentDOM:d}}const m5=65535,p5=Math.pow(2,16);function MU(s,e){return s+e*p5}function C2(s){return s&m5}function LU(s){return(s-(s&m5))/p5}const g5=1,x5=2,pp=4,b5=8;class Wb{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&b5)>0}get deletedBefore(){return(this.delInfo&(g5|pp))>0}get deletedAfter(){return(this.delInfo&(x5|pp))>0}get deletedAcross(){return(this.delInfo&pp)>0}}class Hd{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Hd.empty)return Hd.empty}recover(e){let r=0,n=C2(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+LU(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,c=this.inverted?2:1,u=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let A=this.ranges[d]-(this.inverted?i:0);if(A>e)break;let o=this.ranges[d+c],f=this.ranges[d+u],m=A+o;if(e<=m){let p=o?e==A?-1:e==m?1:r:r,x=A+i+(p<0?0:f);if(n)return x;let v=e==(r<0?A:m)?null:MU(d/3,e-A),y=e==A?x5:e==m?g5:pp;return(r<0?e!=A:e!=m)&&(y|=b5),new Wb(x,y,v)}i+=f-o}return n?e+i:new Wb(e+i,0,null)}touches(e,r){let n=0,i=C2(r),c=this.inverted?2:1,u=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let A=this.ranges[d]-(this.inverted?n:0);if(A>e)break;let o=this.ranges[d+c],f=A+o;if(e<=f&&d==i*3)return!0;n+=this.ranges[d+u]-o}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,c=0;i<this.ranges.length;i+=3){let u=this.ranges[i],d=u-(this.inverted?c:0),A=u+(this.inverted?0:c),o=this.ranges[i+r],f=this.ranges[i+n];e(d,d+o,A,A+f),c+=f-o}}invert(){return new Hd(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Hd.empty:new Hd(e<0?[0,-e,0]:[0,0,e])}}Hd.empty=new Hd([]);class am{constructor(e,r,n=0,i=e?e.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new am(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let i=e.getMirror(r);this.appendMap(e._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new am;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let c=this.from;c<this.to;c++){let u=this._maps[c],d=u.mapResult(e,r);if(d.recover!=null){let A=this.getMirror(c);if(A!=null&&A>c&&A<this.to){c=A,e=this._maps[A].recover(d.recover);continue}}i|=d.delInfo,e=d.pos}return n?e:new Wb(e,i,null)}}const qx=Object.create(null);class Kc{getMap(){return Hd.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=qx[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in qx)throw new RangeError("Duplicate use of step JSON ID "+e);return qx[e]=r,r.prototype.jsonID=e,r}}class Cl{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Cl(e,null)}static fail(e){return new Cl(null,e)}static fromReplace(e,r,n,i){try{return Cl.ok(e.replace(r,n,i))}catch(c){if(c instanceof _p)return Cl.fail(c.message);throw c}}}function Rv(s,e,r){let n=[];for(let i=0;i<s.childCount;i++){let c=s.child(i);c.content.size&&(c=c.copy(Rv(c.content,e,c))),c.isInline&&(c=e(c,r,i)),n.push(c)}return Ws.fromArray(n)}class yh extends Kc{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),c=new Dr(Rv(r.content,(u,d)=>!u.isAtom||!d.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),i),r.openStart,r.openEnd);return Cl.fromReplace(e,this.from,this.to,c)}invert(){return new Eu(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new yh(r.pos,n.pos,this.mark)}merge(e){return e instanceof yh&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new yh(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new yh(r.from,r.to,e.markFromJSON(r.mark))}}Kc.jsonID("addMark",yh);class Eu extends Kc{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new Dr(Rv(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return Cl.fromReplace(e,this.from,this.to,n)}invert(){return new yh(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Eu(r.pos,n.pos,this.mark)}merge(e){return e instanceof Eu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Eu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Eu(r.from,r.to,e.markFromJSON(r.mark))}}Kc.jsonID("removeMark",Eu);class wh extends Kc{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Cl.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Cl.fromReplace(e,this.pos,this.pos+1,new Dr(Ws.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new wh(this.pos,r.marks[i]);return new wh(this.pos,this.mark)}}return new gf(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new wh(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new wh(r.pos,e.markFromJSON(r.mark))}}Kc.jsonID("addNodeMark",wh);class gf extends Kc{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Cl.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Cl.fromReplace(e,this.pos,this.pos+1,new Dr(Ws.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new wh(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new gf(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new gf(r.pos,e.markFromJSON(r.mark))}}Kc.jsonID("removeNodeMark",gf);class oc extends Kc{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&Yb(e,this.from,this.to)?Cl.fail("Structure replace would overwrite content"):Cl.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Hd([this.from,this.to-this.from,this.slice.size])}invert(e){return new oc(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new oc(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof oc)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?Dr.empty:new Dr(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new oc(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?Dr.empty:new Dr(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new oc(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new oc(r.from,r.to,Dr.fromJSON(e,r.slice),!!r.structure)}}Kc.jsonID("replace",oc);class cc extends Kc{constructor(e,r,n,i,c,u,d=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=c,this.insert=u,this.structure=d}apply(e){if(this.structure&&(Yb(e,this.from,this.gapFrom)||Yb(e,this.gapTo,this.to)))return Cl.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Cl.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Cl.fromReplace(e,this.from,this.to,n):Cl.fail("Content does not fit in gap")}getMap(){return new Hd([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new cc(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),c=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||c>n.pos?null:new cc(r.pos,n.pos,i,c,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new cc(r.from,r.to,r.gapFrom,r.gapTo,Dr.fromJSON(e,r.slice),r.insert,!!r.structure)}}Kc.jsonID("replaceAround",cc);function Yb(s,e,r){let n=s.resolve(e),i=r-e,c=n.depth;for(;i>0&&c>0&&n.indexAfter(c)==n.node(c).childCount;)c--,i--;if(i>0){let u=n.node(c).maybeChild(n.indexAfter(c));for(;i>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,i--}}return!1}function OU(s,e,r,n){let i=[],c=[],u,d;s.doc.nodesBetween(e,r,(A,o,f)=>{if(!A.isInline)return;let m=A.marks;if(!n.isInSet(m)&&f.type.allowsMarkType(n.type)){let p=Math.max(o,e),x=Math.min(o+A.nodeSize,r),v=n.addToSet(m);for(let y=0;y<m.length;y++)m[y].isInSet(v)||(u&&u.to==p&&u.mark.eq(m[y])?u.to=x:i.push(u=new Eu(p,x,m[y])));d&&d.to==p?d.to=x:c.push(d=new yh(p,x,n))}}),i.forEach(A=>s.step(A)),c.forEach(A=>s.step(A))}function IU(s,e,r,n){let i=[],c=0;s.doc.nodesBetween(e,r,(u,d)=>{if(!u.isInline)return;c++;let A=null;if(n instanceof Kg){let o=u.marks,f;for(;f=n.isInSet(o);)(A||(A=[])).push(f),o=f.removeFromSet(o)}else n?n.isInSet(u.marks)&&(A=[n]):A=u.marks;if(A&&A.length){let o=Math.min(d+u.nodeSize,r);for(let f=0;f<A.length;f++){let m=A[f],p;for(let x=0;x<i.length;x++){let v=i[x];v.step==c-1&&m.eq(i[x].style)&&(p=v)}p?(p.to=o,p.step=c):i.push({style:m,from:Math.max(d,e),to:o,step:c})}}}),i.forEach(u=>s.step(new Eu(u.from,u.to,u.style)))}function Qv(s,e,r,n=r.contentMatch,i=!0){let c=s.doc.nodeAt(e),u=[],d=e+1;for(let A=0;A<c.childCount;A++){let o=c.child(A),f=d+o.nodeSize,m=n.matchType(o.type);if(!m)u.push(new oc(d,f,Dr.empty));else{n=m;for(let p=0;p<o.marks.length;p++)r.allowsMarkType(o.marks[p].type)||s.step(new Eu(d,f,o.marks[p]));if(i&&o.isText&&r.whitespace!="pre"){let p,x=/\r?\n|\r/g,v;for(;p=x.exec(o.text);)v||(v=new Dr(Ws.from(r.schema.text(" ",r.allowedMarks(o.marks))),0,0)),u.push(new oc(d+p.index,d+p.index+p[0].length,v))}}d=f}if(!n.validEnd){let A=n.fillBefore(Ws.empty,!0);s.replace(d,d,new Dr(A,0,0))}for(let A=u.length-1;A>=0;A--)s.step(u[A])}function DU(s,e,r){return(e==0||s.canReplace(e,s.childCount))&&(r==s.childCount||s.canReplace(0,r))}function m0(s){let r=s.parent.content.cutByIndex(s.startIndex,s.endIndex);for(let n=s.depth,i=0,c=0;;--n){let u=s.$from.node(n),d=s.$from.index(n)+i,A=s.$to.indexAfter(n)-c;if(n<s.depth&&u.canReplace(d,A,r))return n;if(n==0||u.type.spec.isolating||!DU(u,d,A))break;d&&(i=1),A<u.childCount&&(c=1)}return null}function RU(s,e,r){let{$from:n,$to:i,depth:c}=e,u=n.before(c+1),d=i.after(c+1),A=u,o=d,f=Ws.empty,m=0;for(let v=c,y=!1;v>r;v--)y||n.index(v)>0?(y=!0,f=Ws.from(n.node(v).copy(f)),m++):A--;let p=Ws.empty,x=0;for(let v=c,y=!1;v>r;v--)y||i.after(v+1)<i.end(v)?(y=!0,p=Ws.from(i.node(v).copy(p)),x++):o++;s.step(new cc(A,o,u,d,new Dr(f.append(p),m,x),f.size-m,!0))}function _v(s,e,r=null,n=s){let i=QU(s,e),c=i&&_U(n,e);return c?i.map(B2).concat({type:e,attrs:r}).concat(c.map(B2)):null}function B2(s){return{type:s,attrs:null}}function QU(s,e){let{parent:r,startIndex:n,endIndex:i}=s,c=r.contentMatchAt(n).findWrapping(e);if(!c)return null;let u=c.length?c[0]:e;return r.canReplaceWith(n,i,u)?c:null}function _U(s,e){let{parent:r,startIndex:n,endIndex:i}=s,c=r.child(n),u=e.contentMatch.findWrapping(c.type);if(!u)return null;let A=(u.length?u[u.length-1]:e).contentMatch;for(let o=n;A&&o<i;o++)A=A.matchType(r.child(o).type);return!A||!A.validEnd?null:u}function PU(s,e,r){let n=Ws.empty;for(let u=r.length-1;u>=0;u--){if(n.size){let d=r[u].type.contentMatch.matchFragment(n);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Ws.from(r[u].type.create(r[u].attrs,n))}let i=e.start,c=e.end;s.step(new cc(i,c,i,c,new Dr(n,0,0),r.length,!0))}function HU(s,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let c=s.steps.length;s.doc.nodesBetween(e,r,(u,d)=>{let A=typeof i=="function"?i(u):i;if(u.isTextblock&&!u.hasMarkup(n,A)&&zU(s.doc,s.mapping.slice(c).map(d),n)){let o=null;if(n.schema.linebreakReplacement){let x=n.whitespace=="pre",v=!!n.contentMatch.matchType(n.schema.linebreakReplacement);x&&!v?o=!1:!x&&v&&(o=!0)}o===!1&&y5(s,u,d,c),Qv(s,s.mapping.slice(c).map(d,1),n,void 0,o===null);let f=s.mapping.slice(c),m=f.map(d,1),p=f.map(d+u.nodeSize,1);return s.step(new cc(m,p,m+1,p-1,new Dr(Ws.from(n.create(A,null,u.marks)),0,0),1,!0)),o===!0&&v5(s,u,d,c),!1}})}function v5(s,e,r,n){e.forEach((i,c)=>{if(i.isText){let u,d=/\r?\n|\r/g;for(;u=d.exec(i.text);){let A=s.mapping.slice(n).map(r+1+c+u.index);s.replaceWith(A,A+1,e.type.schema.linebreakReplacement.create())}}})}function y5(s,e,r,n){e.forEach((i,c)=>{if(i.type==i.type.schema.linebreakReplacement){let u=s.mapping.slice(n).map(r+1+c);s.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function zU(s,e,r){let n=s.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function VU(s,e,r,n,i){let c=s.doc.nodeAt(e);if(!c)throw new RangeError("No node at given position");r||(r=c.type);let u=r.create(n,null,i||c.marks);if(c.isLeaf)return s.replaceWith(e,e+c.nodeSize,u);if(!r.validContent(c.content))throw new RangeError("Invalid content for node type "+r.name);s.step(new cc(e,e+c.nodeSize,e+1,e+c.nodeSize-1,new Dr(Ws.from(u),0,0),1,!0))}function LA(s,e,r=1,n){let i=s.resolve(e),c=i.depth-r,u=n&&n[n.length-1]||i.parent;if(c<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!u.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let o=i.depth-1,f=r-2;o>c;o--,f--){let m=i.node(o),p=i.index(o);if(m.type.spec.isolating)return!1;let x=m.content.cutByIndex(p,m.childCount),v=n&&n[f+1];v&&(x=x.replaceChild(0,v.type.create(v.attrs)));let y=n&&n[f]||m;if(!m.canReplace(p+1,m.childCount)||!y.type.validContent(x))return!1}let d=i.indexAfter(c),A=n&&n[0];return i.node(c).canReplaceWith(d,d,A?A.type:i.node(c+1).type)}function KU(s,e,r=1,n){let i=s.doc.resolve(e),c=Ws.empty,u=Ws.empty;for(let d=i.depth,A=i.depth-r,o=r-1;d>A;d--,o--){c=Ws.from(i.node(d).copy(c));let f=n&&n[o];u=Ws.from(f?f.type.create(f.attrs,u):i.node(d).copy(u))}s.step(new oc(e,e,new Dr(c.append(u),r,r),!0))}function Ih(s,e){let r=s.resolve(e),n=r.index();return w5(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function $U(s,e){e.content.size||s.type.compatibleContent(e.type);let r=s.contentMatchAt(s.childCount),{linebreakReplacement:n}=s.type.schema;for(let i=0;i<e.childCount;i++){let c=e.child(i),u=c.type==n?s.type.schema.nodes.text:c.type;if(r=r.matchType(u),!r||!s.type.allowsMarks(c.marks))return!1}return r.validEnd}function w5(s,e){return!!(s&&e&&!s.isLeaf&&$U(s,e))}function $g(s,e,r=-1){let n=s.resolve(e);for(let i=n.depth;;i--){let c,u,d=n.index(i);if(i==n.depth?(c=n.nodeBefore,u=n.nodeAfter):r>0?(c=n.node(i+1),d++,u=n.node(i).maybeChild(d)):(c=n.node(i).maybeChild(d-1),u=n.node(i+1)),c&&!c.isTextblock&&w5(c,u)&&n.node(i).canReplace(d,d+1))return e;if(i==0)break;e=r<0?n.before(i):n.after(i)}}function GU(s,e,r){let n=null,{linebreakReplacement:i}=s.doc.type.schema,c=s.doc.resolve(e-r),u=c.node().type;if(i&&u.inlineContent){let f=u.whitespace=="pre",m=!!u.contentMatch.matchType(i);f&&!m?n=!1:!f&&m&&(n=!0)}let d=s.steps.length;if(n===!1){let f=s.doc.resolve(e+r);y5(s,f.node(),f.before(),d)}u.inlineContent&&Qv(s,e+r-1,u,c.node().contentMatchAt(c.index()),n==null);let A=s.mapping.slice(d),o=A.map(e-r);if(s.step(new oc(o,A.map(e+r,-1),Dr.empty,!0)),n===!0){let f=s.doc.resolve(o);v5(s,f.node(),f.before(),s.steps.length)}return s}function WU(s,e,r){let n=s.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let c=n.index(i);if(n.node(i).canReplaceWith(c,c,r))return n.before(i+1);if(c>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let c=n.indexAfter(i);if(n.node(i).canReplaceWith(c,c,r))return n.after(i+1);if(c<n.node(i).childCount)return null}return null}function j5(s,e,r){let n=s.resolve(e);if(!r.content.size)return e;let i=r.content;for(let c=0;c<r.openStart;c++)i=i.firstChild.content;for(let c=1;c<=(r.openStart==0&&r.size?2:1);c++)for(let u=n.depth;u>=0;u--){let d=u==n.depth?0:n.pos<=(n.start(u+1)+n.end(u+1))/2?-1:1,A=n.index(u)+(d>0?1:0),o=n.node(u),f=!1;if(c==1)f=o.canReplace(A,A,i);else{let m=o.contentMatchAt(A).findWrapping(i.firstChild.type);f=m&&o.canReplaceWith(A,A,m[0])}if(f)return d==0?n.pos:d<0?n.before(u+1):n.after(u+1)}return null}function Gg(s,e,r=e,n=Dr.empty){if(e==r&&!n.size)return null;let i=s.resolve(e),c=s.resolve(r);return N5(i,c,n)?new oc(e,r,n):new YU(i,c,n).fit()}function N5(s,e,r){return!r.openStart&&!r.openEnd&&s.start()==e.start()&&s.parent.canReplace(s.index(),e.index(),r.content)}class YU{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Ws.empty;for(let i=0;i<=e.depth;i++){let c=e.node(i);this.frontier.push({type:c.type,match:c.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Ws.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let o=this.findFittable();o?this.placeNodes(o):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let c=this.placed,u=n.depth,d=i.depth;for(;u&&d&&c.childCount==1;)c=c.firstChild.content,u--,d--;let A=new Dr(c,u,d);return e>-1?new cc(n.pos,e,this.$to.pos,this.$to.end(),A,r):A.size||n.pos!=this.$to.pos?new oc(n.pos,i.pos,A):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let c=r.firstChild;if(r.childCount>1&&(i=0),c.type.spec.isolating&&i<=n){e=n;break}r=c.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,c=null;n?(c=eb(this.unplaced.content,n-1).firstChild,i=c.content):i=this.unplaced.content;let u=i.firstChild;for(let d=this.depth;d>=0;d--){let{type:A,match:o}=this.frontier[d],f,m=null;if(r==1&&(u?o.matchType(u.type)||(m=o.fillBefore(Ws.from(u),!1)):c&&A.compatibleContent(c.type)))return{sliceDepth:n,frontierDepth:d,parent:c,inject:m};if(r==2&&u&&(f=o.findWrapping(u.type)))return{sliceDepth:n,frontierDepth:d,parent:c,wrap:f};if(c&&o.matchType(c.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=eb(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Dr(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=eb(e,r);if(i.childCount<=1&&r>0){let c=e.size-r<=r+i.size;this.unplaced=new Dr(D0(e,r-1,1),r-1,c?r-1:n)}else this.unplaced=new Dr(D0(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:c}){for(;this.depth>r;)this.closeFrontierNode();if(c)for(let y=0;y<c.length;y++)this.openFrontierNode(c[y]);let u=this.unplaced,d=n?n.content:u.content,A=u.openStart-e,o=0,f=[],{match:m,type:p}=this.frontier[r];if(i){for(let y=0;y<i.childCount;y++)f.push(i.child(y));m=m.matchFragment(i)}let x=d.size+e-(u.content.size-u.openEnd);for(;o<d.childCount;){let y=d.child(o),w=m.matchType(y.type);if(!w)break;o++,(o>1||A==0||y.content.size)&&(m=w,f.push(C5(y.mark(p.allowedMarks(y.marks)),o==1?A:0,o==d.childCount?x:-1)))}let v=o==d.childCount;v||(x=-1),this.placed=R0(this.placed,r,Ws.from(f)),this.frontier[r].match=m,v&&x<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,w=d;y<x;y++){let E=w.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),w=E.content}this.unplaced=v?e==0?Dr.empty:new Dr(D0(u.content,e-1,1),e-1,x<0?u.openEnd:e-1):new Dr(D0(u.content,e,o),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!tb(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],c=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),u=tb(e,r,i,n,c);if(u){for(let d=r-1;d>=0;d--){let{match:A,type:o}=this.frontier[d],f=tb(e,d,o,A,!0);if(!f||f.childCount)continue e}return{depth:r,fit:u,move:c?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=R0(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),c=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,c)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=R0(this.placed,this.depth,Ws.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Ws.empty,!0);r.childCount&&(this.placed=R0(this.placed,this.frontier.length,r))}}function D0(s,e,r){return e==0?s.cutByIndex(r,s.childCount):s.replaceChild(0,s.firstChild.copy(D0(s.firstChild.content,e-1,r)))}function R0(s,e,r){return e==0?s.append(r):s.replaceChild(s.childCount-1,s.lastChild.copy(R0(s.lastChild.content,e-1,r)))}function eb(s,e){for(let r=0;r<e;r++)s=s.firstChild.content;return s}function C5(s,e,r){if(e<=0)return s;let n=s.content;return e>1&&(n=n.replaceChild(0,C5(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=s.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(s.type.contentMatch.matchFragment(n).fillBefore(Ws.empty,!0)))),s.copy(n)}function tb(s,e,r,n,i){let c=s.node(e),u=i?s.indexAfter(e):s.index(e);if(u==c.childCount&&!r.compatibleContent(c.type))return null;let d=n.fillBefore(c.content,!0,u);return d&&!XU(r,c.content,u)?d:null}function XU(s,e,r){for(let n=r;n<e.childCount;n++)if(!s.allowsMarks(e.child(n).marks))return!0;return!1}function JU(s){return s.spec.defining||s.spec.definingForContent}function ZU(s,e,r,n){if(!n.size)return s.deleteRange(e,r);let i=s.doc.resolve(e),c=s.doc.resolve(r);if(N5(i,c,n))return s.step(new oc(e,r,n));let u=k5(i,c);u[u.length-1]==0&&u.pop();let d=-(i.depth+1);u.unshift(d);for(let p=i.depth,x=i.pos-1;p>0;p--,x--){let v=i.node(p).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;u.indexOf(p)>-1?d=p:i.before(p)==x&&u.splice(1,0,-p)}let A=u.indexOf(d),o=[],f=n.openStart;for(let p=n.content,x=0;;x++){let v=p.firstChild;if(o.push(v),x==n.openStart)break;p=v.content}for(let p=f-1;p>=0;p--){let x=o[p],v=JU(x.type);if(v&&!x.sameMarkup(i.node(Math.abs(d)-1)))f=p;else if(v||!x.type.isTextblock)break}for(let p=n.openStart;p>=0;p--){let x=(p+f+1)%(n.openStart+1),v=o[x];if(v)for(let y=0;y<u.length;y++){let w=u[(y+A)%u.length],E=!0;w<0&&(E=!1,w=-w);let Q=i.node(w-1),K=i.index(w-1);if(Q.canReplaceWith(K,K,v.type,v.marks))return s.replace(i.before(w),E?c.after(w):r,new Dr(B5(n.content,0,n.openStart,x),x,n.openEnd))}}let m=s.steps.length;for(let p=u.length-1;p>=0&&(s.replace(e,r,n),!(s.steps.length>m));p--){let x=u[p];x<0||(e=i.before(x),r=c.after(x))}}function B5(s,e,r,n,i){if(e<r){let c=s.firstChild;s=s.replaceChild(0,c.copy(B5(c.content,e+1,r,n,c)))}if(e>n){let c=i.contentMatchAt(0),u=c.fillBefore(s).append(s);s=u.append(c.matchFragment(u).fillBefore(Ws.empty,!0))}return s}function qU(s,e,r,n){if(!n.isInline&&e==r&&s.doc.resolve(e).parent.content.size){let i=WU(s.doc,e,n.type);i!=null&&(e=r=i)}s.replaceRange(e,r,new Dr(Ws.from(n),0,0))}function e8(s,e,r){let n=s.doc.resolve(e),i=s.doc.resolve(r),c=k5(n,i);for(let u=0;u<c.length;u++){let d=c[u],A=u==c.length-1;if(A&&d==0||n.node(d).type.contentMatch.validEnd)return s.delete(n.start(d),i.end(d));if(d>0&&(A||n.node(d-1).canReplace(n.index(d-1),i.indexAfter(d-1))))return s.delete(n.before(d),i.after(d))}for(let u=1;u<=n.depth&&u<=i.depth;u++)if(e-n.start(u)==n.depth-u&&r>n.end(u)&&i.end(u)-r!=i.depth-u&&n.start(u-1)==i.start(u-1)&&n.node(u-1).canReplace(n.index(u-1),i.index(u-1)))return s.delete(n.before(u),r);s.delete(e,r)}function k5(s,e){let r=[],n=Math.min(s.depth,e.depth);for(let i=n;i>=0;i--){let c=s.start(i);if(c<s.pos-(s.depth-i)||e.end(i)>e.pos+(e.depth-i)||s.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(c==e.start(i)||i==s.depth&&i==e.depth&&s.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==c-1)&&r.push(i)}return r}class Wf extends Kc{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Cl.fail("No node at attribute step's position");let n=Object.create(null);for(let c in r.attrs)n[c]=r.attrs[c];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return Cl.fromReplace(e,this.pos,this.pos+1,new Dr(Ws.from(i),0,r.isLeaf?0:1))}getMap(){return Hd.empty}invert(e){return new Wf(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Wf(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Wf(r.pos,r.attr,r.value)}}Kc.jsonID("attr",Wf);class im extends Kc{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Cl.ok(n)}getMap(){return Hd.empty}invert(e){return new im(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new im(r.attr,r.value)}}Kc.jsonID("docAttr",im);let r0=class extends Error{};r0=function s(e){let r=Error.call(this,e);return r.__proto__=s.prototype,r};r0.prototype=Object.create(Error.prototype);r0.prototype.constructor=r0;r0.prototype.name="TransformError";class S5{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new am}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new r0(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=Dr.empty){let i=Gg(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new Dr(Ws.from(n),0,0))}delete(e,r){return this.replace(e,r,Dr.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return ZU(this,e,r,n),this}replaceRangeWith(e,r,n){return qU(this,e,r,n),this}deleteRange(e,r){return e8(this,e,r),this}lift(e,r){return RU(this,e,r),this}join(e,r=1){return GU(this,e,r),this}wrap(e,r){return PU(this,e,r),this}setBlockType(e,r=e,n,i=null){return HU(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return VU(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new Wf(e,r,n)),this}setDocAttribute(e,r){return this.step(new im(e,r)),this}addNodeMark(e,r){return this.step(new wh(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof Hi)r.isInSet(n.marks)&&this.step(new gf(e,r));else{let i=n.marks,c,u=[];for(;c=r.isInSet(i);)u.push(new gf(e,c)),i=c.removeFromSet(i);for(let d=u.length-1;d>=0;d--)this.step(u[d])}return this}split(e,r=1,n){return KU(this,e,r,n),this}addMark(e,r,n){return OU(this,e,r,n),this}removeMark(e,r,n){return IU(this,e,r,n),this}clearIncompatible(e,r,n){return Qv(this,e,r,n),this}}const sb=Object.create(null);class ha{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new t8(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=Dr.empty){let n=r.content.lastChild,i=null;for(let d=0;d<r.openEnd;d++)i=n,n=n.lastChild;let c=e.steps.length,u=this.ranges;for(let d=0;d<u.length;d++){let{$from:A,$to:o}=u[d],f=e.mapping.slice(c);e.replaceRange(f.map(A.pos),f.map(o.pos),d?Dr.empty:r),d==0&&E2(e,c,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let c=0;c<i.length;c++){let{$from:u,$to:d}=i[c],A=e.mapping.slice(n),o=A.map(u.pos),f=A.map(d.pos);c?e.deleteRange(o,f):(e.replaceRangeWith(o,f,r),E2(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new Kn(e):zf(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let c=e.depth-1;c>=0;c--){let u=r<0?zf(e.node(0),e.node(c),e.before(c+1),e.index(c),r,n):zf(e.node(0),e.node(c),e.after(c+1),e.index(c)+1,r,n);if(u)return u}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new $d(e.node(0))}static atStart(e){return zf(e,e,0,0,1)||new $d(e)}static atEnd(e){return zf(e,e,e.content.size,e.childCount,-1)||new $d(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=sb[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in sb)throw new RangeError("Duplicate use of selection JSON ID "+e);return sb[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Kn.between(this.$anchor,this.$head).getBookmark()}}ha.prototype.visible=!0;class t8{constructor(e,r){this.$from=e,this.$to=r}}let k2=!1;function S2(s){!k2&&!s.parent.inlineContent&&(k2=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+s.parent.type.name+")"))}class Kn extends ha{constructor(e,r=e){S2(e),S2(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return ha.near(n);let i=e.resolve(r.map(this.anchor));return new Kn(i.parent.inlineContent?i:n,n)}replace(e,r=Dr.empty){if(super.replace(e,r),r==Dr.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Kn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Wg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Kn(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let c=ha.findFrom(r,n,!0)||ha.findFrom(r,-n,!0);if(c)r=c.$head;else return ha.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(ha.findFrom(e,-n,!0)||ha.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new Kn(e,r)}}ha.jsonID("text",Kn);class Wg{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Wg(e.map(this.anchor),e.map(this.head))}resolve(e){return Kn.between(e.resolve(this.anchor),e.resolve(this.head))}}class vn extends ha{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),c=e.resolve(i);return n?ha.near(c):new vn(c)}content(){return new Dr(Ws.from(this.node),0,0)}eq(e){return e instanceof vn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Pv(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new vn(e.resolve(r.anchor))}static create(e,r){return new vn(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}vn.prototype.visible=!1;ha.jsonID("node",vn);class Pv{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Wg(n,n):new Pv(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&vn.isSelectable(n)?new vn(r):ha.near(r)}}class $d extends ha{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=Dr.empty){if(r==Dr.empty){e.delete(0,e.doc.content.size);let n=ha.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new $d(e)}map(e){return new $d(e)}eq(e){return e instanceof $d}getBookmark(){return s8}}ha.jsonID("all",$d);const s8={map(){return this},resolve(s){return new $d(s)}};function zf(s,e,r,n,i,c=!1){if(e.inlineContent)return Kn.create(s,r);for(let u=n-(i>0?0:1);i>0?u<e.childCount:u>=0;u+=i){let d=e.child(u);if(d.isAtom){if(!c&&vn.isSelectable(d))return vn.create(s,r-(i<0?d.nodeSize:0))}else{let A=zf(s,d,r+i,i<0?d.childCount:0,i,c);if(A)return A}r+=d.nodeSize*i}return null}function E2(s,e,r){let n=s.steps.length-1;if(n<e)return;let i=s.steps[n];if(!(i instanceof oc||i instanceof cc))return;let c=s.mapping.maps[n],u;c.forEach((d,A,o,f)=>{u==null&&(u=f)}),s.setSelection(ha.near(s.doc.resolve(u),r))}const T2=1,Xm=2,U2=4;class r8 extends S5{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|T2)&~Xm,this.storedMarks=null,this}get selectionSet(){return(this.updated&T2)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Xm,this}ensureMarks(e){return Hi.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Xm)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Xm,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Hi.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let c=this.storedMarks;if(!c){let u=this.doc.resolve(r);c=n==r?u.marks():u.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,c)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(ha.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=U2,this}get scrolledIntoView(){return(this.updated&U2)>0}}function F2(s,e){return!e||!s?s:s.bind(e)}class Q0{constructor(e,r,n){this.name=e,this.init=F2(r.init,n),this.apply=F2(r.apply,n)}}const n8=[new Q0("doc",{init(s){return s.doc||s.schema.topNodeType.createAndFill()},apply(s){return s.doc}}),new Q0("selection",{init(s,e){return s.selection||ha.atStart(e.doc)},apply(s){return s.selection}}),new Q0("storedMarks",{init(s){return s.storedMarks||null},apply(s,e,r,n){return n.selection.$cursor?s.storedMarks:null}}),new Q0("scrollToSelection",{init(){return 0},apply(s,e){return s.scrolledIntoView?e+1:e}})];class rb{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=n8.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Q0(n.key,n.spec.state,n))})}}class Gf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let c=!1;for(let u=0;u<this.config.plugins.length;u++){let d=this.config.plugins[u];if(d.spec.appendTransaction){let A=i?i[u].n:0,o=i?i[u].state:this,f=A<r.length&&d.spec.appendTransaction.call(d,A?r.slice(A):r,o,n);if(f&&n.filterTransaction(f,u)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<u?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),c=!0}i&&(i[u]={state:n,n:r.length})}}if(!c)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Gf(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let c=n[i];r[c.name]=c.apply(e,this[c.name],this,r)}return r}get tr(){return new r8(this)}static create(e){let r=new rb(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Gf(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new rb(this.schema,e.plugins),n=r.fields,i=new Gf(r);for(let c=0;c<n.length;c++){let u=n[c].name;i[u]=this.hasOwnProperty(u)?this[u]:n[c].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],c=i.spec.state;c&&c.toJSON&&(r[n]=c.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new rb(e.schema,e.plugins),c=new Gf(i);return i.fields.forEach(u=>{if(u.name=="doc")c.doc=Bh.fromJSON(e.schema,r.doc);else if(u.name=="selection")c.selection=ha.fromJSON(c.doc,r.selection);else if(u.name=="storedMarks")r.storedMarks&&(c.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let d in n){let A=n[d],o=A.spec.state;if(A.key==u.name&&o&&o.fromJSON&&Object.prototype.hasOwnProperty.call(r,d)){c[u.name]=o.fromJSON.call(A,e,r[d],c);return}}c[u.name]=u.init(e,c)}}),c}}function E5(s,e,r){for(let n in s){let i=s[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=E5(i,e,{})),r[n]=i}return r}class So{constructor(e){this.spec=e,this.props={},e.props&&E5(e.props,this,this.props),this.key=e.key?e.key.key:T5("plugin")}getState(e){return e[this.key]}}const nb=Object.create(null);function T5(s){return s in nb?s+"$"+ ++nb[s]:(nb[s]=0,s+"$")}class zl{constructor(e="key"){this.key=T5(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Hv=(s,e)=>s.selection.empty?!1:(e&&e(s.tr.deleteSelection().scrollIntoView()),!0);function U5(s,e){let{$cursor:r}=s.selection;return!r||(e?!e.endOfTextblock("backward",s):r.parentOffset>0)?null:r}const F5=(s,e,r)=>{let n=U5(s,r);if(!n)return!1;let i=zv(n);if(!i){let u=n.blockRange(),d=u&&m0(u);return d==null?!1:(e&&e(s.tr.lift(u,d).scrollIntoView()),!0)}let c=i.nodeBefore;if(P5(s,i,e,-1))return!0;if(n.parent.content.size==0&&(n0(c,"end")||vn.isSelectable(c)))for(let u=n.depth;;u--){let d=Gg(s.doc,n.before(u),n.after(u),Dr.empty);if(d&&d.slice.size<d.to-d.from){if(e){let A=s.tr.step(d);A.setSelection(n0(c,"end")?ha.findFrom(A.doc.resolve(A.mapping.map(i.pos,-1)),-1):vn.create(A.doc,i.pos-c.nodeSize)),e(A.scrollIntoView())}return!0}if(u==1||n.node(u-1).childCount>1)break}return c.isAtom&&i.depth==n.depth-1?(e&&e(s.tr.delete(i.pos-c.nodeSize,i.pos).scrollIntoView()),!0):!1},a8=(s,e,r)=>{let n=U5(s,r);if(!n)return!1;let i=zv(n);return i?M5(s,i,e):!1},i8=(s,e,r)=>{let n=O5(s,r);if(!n)return!1;let i=Vv(n);return i?M5(s,i,e):!1};function M5(s,e,r){let n=e.nodeBefore,i=n,c=e.pos-1;for(;!i.isTextblock;c--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let u=e.nodeAfter,d=u,A=e.pos+1;for(;!d.isTextblock;A++){if(d.type.spec.isolating)return!1;let f=d.firstChild;if(!f)return!1;d=f}let o=Gg(s.doc,c,A,Dr.empty);if(!o||o.from!=c||o instanceof oc&&o.slice.size>=A-c)return!1;if(r){let f=s.tr.step(o);f.setSelection(Kn.create(f.doc,c)),r(f.scrollIntoView())}return!0}function n0(s,e,r=!1){for(let n=s;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const L5=(s,e,r)=>{let{$head:n,empty:i}=s.selection,c=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",s):n.parentOffset>0)return!1;c=zv(n)}let u=c&&c.nodeBefore;return!u||!vn.isSelectable(u)?!1:(e&&e(s.tr.setSelection(vn.create(s.doc,c.pos-u.nodeSize)).scrollIntoView()),!0)};function zv(s){if(!s.parent.type.spec.isolating)for(let e=s.depth-1;e>=0;e--){if(s.index(e)>0)return s.doc.resolve(s.before(e+1));if(s.node(e).type.spec.isolating)break}return null}function O5(s,e){let{$cursor:r}=s.selection;return!r||(e?!e.endOfTextblock("forward",s):r.parentOffset<r.parent.content.size)?null:r}const I5=(s,e,r)=>{let n=O5(s,r);if(!n)return!1;let i=Vv(n);if(!i)return!1;let c=i.nodeAfter;if(P5(s,i,e,1))return!0;if(n.parent.content.size==0&&(n0(c,"start")||vn.isSelectable(c))){let u=Gg(s.doc,n.before(),n.after(),Dr.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=s.tr.step(u);d.setSelection(n0(c,"start")?ha.findFrom(d.doc.resolve(d.mapping.map(i.pos)),1):vn.create(d.doc,d.mapping.map(i.pos))),e(d.scrollIntoView())}return!0}}return c.isAtom&&i.depth==n.depth-1?(e&&e(s.tr.delete(i.pos,i.pos+c.nodeSize).scrollIntoView()),!0):!1},D5=(s,e,r)=>{let{$head:n,empty:i}=s.selection,c=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",s):n.parentOffset<n.parent.content.size)return!1;c=Vv(n)}let u=c&&c.nodeAfter;return!u||!vn.isSelectable(u)?!1:(e&&e(s.tr.setSelection(vn.create(s.doc,c.pos)).scrollIntoView()),!0)};function Vv(s){if(!s.parent.type.spec.isolating)for(let e=s.depth-1;e>=0;e--){let r=s.node(e);if(s.index(e)+1<r.childCount)return s.doc.resolve(s.after(e+1));if(r.type.spec.isolating)break}return null}const o8=(s,e)=>{let r=s.selection,n=r instanceof vn,i;if(n){if(r.node.isTextblock||!Ih(s.doc,r.from))return!1;i=r.from}else if(i=$g(s.doc,r.from,-1),i==null)return!1;if(e){let c=s.tr.join(i);n&&c.setSelection(vn.create(c.doc,i-s.doc.resolve(i).nodeBefore.nodeSize)),e(c.scrollIntoView())}return!0},l8=(s,e)=>{let r=s.selection,n;if(r instanceof vn){if(r.node.isTextblock||!Ih(s.doc,r.to))return!1;n=r.to}else if(n=$g(s.doc,r.to,1),n==null)return!1;return e&&e(s.tr.join(n).scrollIntoView()),!0},c8=(s,e)=>{let{$from:r,$to:n}=s.selection,i=r.blockRange(n),c=i&&m0(i);return c==null?!1:(e&&e(s.tr.lift(i,c).scrollIntoView()),!0)},R5=(s,e)=>{let{$head:r,$anchor:n}=s.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(s.tr.insertText(`
`).scrollIntoView()),!0)};function Kv(s){for(let e=0;e<s.edgeCount;e++){let{type:r}=s.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const d8=(s,e)=>{let{$head:r,$anchor:n}=s.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),c=r.indexAfter(-1),u=Kv(i.contentMatchAt(c));if(!u||!i.canReplaceWith(c,c,u))return!1;if(e){let d=r.after(),A=s.tr.replaceWith(d,d,u.createAndFill());A.setSelection(ha.near(A.doc.resolve(d),1)),e(A.scrollIntoView())}return!0},Q5=(s,e)=>{let r=s.selection,{$from:n,$to:i}=r;if(r instanceof $d||n.parent.inlineContent||i.parent.inlineContent)return!1;let c=Kv(i.parent.contentMatchAt(i.indexAfter()));if(!c||!c.isTextblock)return!1;if(e){let u=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,d=s.tr.insert(u,c.createAndFill());d.setSelection(Kn.create(d.doc,u+1)),e(d.scrollIntoView())}return!0},_5=(s,e)=>{let{$cursor:r}=s.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let c=r.before();if(LA(s.doc,c))return e&&e(s.tr.split(c).scrollIntoView()),!0}let n=r.blockRange(),i=n&&m0(n);return i==null?!1:(e&&e(s.tr.lift(n,i).scrollIntoView()),!0)};function u8(s){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof vn&&e.selection.node.isBlock)return!n.parentOffset||!LA(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let c=[],u,d,A=!1,o=!1;for(let x=n.depth;;x--)if(n.node(x).isBlock){A=n.end(x)==n.pos+(n.depth-x),o=n.start(x)==n.pos-(n.depth-x),d=Kv(n.node(x-1).contentMatchAt(n.indexAfter(x-1))),c.unshift(A&&d?{type:d}:null),u=x;break}else{if(x==1)return!1;c.unshift(null)}let f=e.tr;(e.selection instanceof Kn||e.selection instanceof $d)&&f.deleteSelection();let m=f.mapping.map(n.pos),p=LA(f.doc,m,c.length,c);if(p||(c[0]=d?{type:d}:null,p=LA(f.doc,m,c.length,c)),!p)return!1;if(f.split(m,c.length,c),!A&&o&&n.node(u).type!=d){let x=f.mapping.map(n.before(u)),v=f.doc.resolve(x);d&&n.node(u-1).canReplaceWith(v.index(),v.index()+1,d)&&f.setNodeMarkup(f.mapping.map(n.before(u)),d)}return r&&r(f.scrollIntoView()),!0}}const A8=u8(),h8=(s,e)=>{let{$from:r,to:n}=s.selection,i,c=r.sharedDepth(n);return c==0?!1:(i=r.before(c),e&&e(s.tr.setSelection(vn.create(s.doc,i))),!0)};function f8(s,e,r){let n=e.nodeBefore,i=e.nodeAfter,c=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(c-1,c)?(r&&r(s.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(c,c+1)||!(i.isTextblock||Ih(s.doc,e.pos))?!1:(r&&r(s.tr.join(e.pos).scrollIntoView()),!0)}function P5(s,e,r,n){let i=e.nodeBefore,c=e.nodeAfter,u,d,A=i.type.spec.isolating||c.type.spec.isolating;if(!A&&f8(s,e,r))return!0;let o=!A&&e.parent.canReplace(e.index(),e.index()+1);if(o&&(u=(d=i.contentMatchAt(i.childCount)).findWrapping(c.type))&&d.matchType(u[0]||c.type).validEnd){if(r){let x=e.pos+c.nodeSize,v=Ws.empty;for(let E=u.length-1;E>=0;E--)v=Ws.from(u[E].create(null,v));v=Ws.from(i.copy(v));let y=s.tr.step(new cc(e.pos-1,x,e.pos,x,new Dr(v,1,0),u.length,!0)),w=y.doc.resolve(x+2*u.length);w.nodeAfter&&w.nodeAfter.type==i.type&&Ih(y.doc,w.pos)&&y.join(w.pos),r(y.scrollIntoView())}return!0}let f=c.type.spec.isolating||n>0&&A?null:ha.findFrom(e,1),m=f&&f.$from.blockRange(f.$to),p=m&&m0(m);if(p!=null&&p>=e.depth)return r&&r(s.tr.lift(m,p).scrollIntoView()),!0;if(o&&n0(c,"start",!0)&&n0(i,"end")){let x=i,v=[];for(;v.push(x),!x.isTextblock;)x=x.lastChild;let y=c,w=1;for(;!y.isTextblock;y=y.firstChild)w++;if(x.canReplace(x.childCount,x.childCount,y.content)){if(r){let E=Ws.empty;for(let K=v.length-1;K>=0;K--)E=Ws.from(v[K].copy(E));let Q=s.tr.step(new cc(e.pos-v.length,e.pos+c.nodeSize,e.pos+w,e.pos+c.nodeSize-w,new Dr(E,v.length,0),0,!0));r(Q.scrollIntoView())}return!0}}return!1}function H5(s){return function(e,r){let n=e.selection,i=s<0?n.$from:n.$to,c=i.depth;for(;i.node(c).isInline;){if(!c)return!1;c--}return i.node(c).isTextblock?(r&&r(e.tr.setSelection(Kn.create(e.doc,s<0?i.start(c):i.end(c)))),!0):!1}}const m8=H5(-1),p8=H5(1);function g8(s,e=null){return function(r,n){let{$from:i,$to:c}=r.selection,u=i.blockRange(c),d=u&&_v(u,s,e);return d?(n&&n(r.tr.wrap(u,d).scrollIntoView()),!0):!1}}function M2(s,e=null){return function(r,n){let i=!1;for(let c=0;c<r.selection.ranges.length&&!i;c++){let{$from:{pos:u},$to:{pos:d}}=r.selection.ranges[c];r.doc.nodesBetween(u,d,(A,o)=>{if(i)return!1;if(!(!A.isTextblock||A.hasMarkup(s,e)))if(A.type==s)i=!0;else{let f=r.doc.resolve(o),m=f.index();i=f.parent.canReplaceWith(m,m+1,s)}})}if(!i)return!1;if(n){let c=r.tr;for(let u=0;u<r.selection.ranges.length;u++){let{$from:{pos:d},$to:{pos:A}}=r.selection.ranges[u];c.setBlockType(d,A,s,e)}n(c.scrollIntoView())}return!0}}function $v(...s){return function(e,r,n){for(let i=0;i<s.length;i++)if(s[i](e,r,n))return!0;return!1}}$v(Hv,F5,L5);$v(Hv,I5,D5);$v(R5,Q5,_5,A8);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function x8(s,e=null){return function(r,n){let{$from:i,$to:c}=r.selection,u=i.blockRange(c);if(!u)return!1;let d=n?r.tr:null;return b8(d,u,s,e)?(n&&n(d.scrollIntoView()),!0):!1}}function b8(s,e,r,n=null){let i=!1,c=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let A=u.resolve(e.start-2);c=new Hp(A,A,e.depth),e.endIndex<e.parent.childCount&&(e=new Hp(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let d=_v(c,r,n,e);return d?(s&&v8(s,e,d,i,r),!0):!1}function v8(s,e,r,n,i){let c=Ws.empty;for(let f=r.length-1;f>=0;f--)c=Ws.from(r[f].type.create(r[f].attrs,c));s.step(new cc(e.start-(n?2:0),e.end,e.start,e.end,new Dr(c,0,0),r.length,!0));let u=0;for(let f=0;f<r.length;f++)r[f].type==i&&(u=f+1);let d=r.length-u,A=e.start+r.length-(n?2:0),o=e.parent;for(let f=e.startIndex,m=e.endIndex,p=!0;f<m;f++,p=!1)!p&&LA(s.doc,A,d)&&(s.split(A,d),A+=2*d),A+=o.child(f).nodeSize;return s}function y8(s){return function(e,r){let{$from:n,$to:i}=e.selection,c=n.blockRange(i,u=>u.childCount>0&&u.firstChild.type==s);return c?r?n.node(c.depth-1).type==s?w8(e,r,s,c):j8(e,r,c):!0:!1}}function w8(s,e,r,n){let i=s.tr,c=n.end,u=n.$to.end(n.depth);c<u&&(i.step(new cc(c-1,u,c,u,new Dr(Ws.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Hp(i.doc.resolve(n.$from.pos),i.doc.resolve(u),n.depth));const d=m0(n);if(d==null)return!1;i.lift(n,d);let A=i.doc.resolve(i.mapping.map(c,-1)-1);return Ih(i.doc,A.pos)&&A.nodeBefore.type==A.nodeAfter.type&&i.join(A.pos),e(i.scrollIntoView()),!0}function j8(s,e,r){let n=s.tr,i=r.parent;for(let x=r.end,v=r.endIndex-1,y=r.startIndex;v>y;v--)x-=i.child(v).nodeSize,n.delete(x-1,x+1);let c=n.doc.resolve(r.start),u=c.nodeAfter;if(n.mapping.map(r.end)!=r.start+c.nodeAfter.nodeSize)return!1;let d=r.startIndex==0,A=r.endIndex==i.childCount,o=c.node(-1),f=c.index(-1);if(!o.canReplace(f+(d?0:1),f+1,u.content.append(A?Ws.empty:Ws.from(i))))return!1;let m=c.pos,p=m+u.nodeSize;return n.step(new cc(m-(d?1:0),p+(A?1:0),m+1,p-1,new Dr((d?Ws.empty:Ws.from(i.copy(Ws.empty))).append(A?Ws.empty:Ws.from(i.copy(Ws.empty))),d?0:1,A?0:1),d?0:1)),e(n.scrollIntoView()),!0}function N8(s){return function(e,r){let{$from:n,$to:i}=e.selection,c=n.blockRange(i,o=>o.childCount>0&&o.firstChild.type==s);if(!c)return!1;let u=c.startIndex;if(u==0)return!1;let d=c.parent,A=d.child(u-1);if(A.type!=s)return!1;if(r){let o=A.lastChild&&A.lastChild.type==d.type,f=Ws.from(o?s.create():null),m=new Dr(Ws.from(s.create(null,Ws.from(d.type.create(null,f)))),o?3:1,0),p=c.start,x=c.end;r(e.tr.step(new cc(p-(o?3:1),x,p,x,m,1,!0)).scrollIntoView())}return!0}}const Bc=function(s){for(var e=0;;e++)if(s=s.previousSibling,!s)return e},a0=function(s){let e=s.assignedSlot||s.parentNode;return e&&e.nodeType==11?e.host:e};let Xb=null;const UA=function(s,e,r){let n=Xb||(Xb=document.createRange());return n.setEnd(s,r??s.nodeValue.length),n.setStart(s,e||0),n},C8=function(){Xb=null},xf=function(s,e,r,n){return r&&(L2(s,e,r,n,-1)||L2(s,e,r,n,1))},B8=/^(img|br|input|textarea|hr)$/i;function L2(s,e,r,n,i){for(var c;;){if(s==r&&e==n)return!0;if(e==(i<0?0:lu(s))){let u=s.parentNode;if(!u||u.nodeType!=1||bm(s)||B8.test(s.nodeName)||s.contentEditable=="false")return!1;e=Bc(s)+(i<0?0:1),s=u}else if(s.nodeType==1){let u=s.childNodes[e+(i<0?-1:0)];if(u.nodeType==1&&u.contentEditable=="false")if(!((c=u.pmViewDesc)===null||c===void 0)&&c.ignoreForSelection)e+=i;else return!1;else s=u,e=i<0?lu(s):0}else return!1}}function lu(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function k8(s,e){for(;;){if(s.nodeType==3&&e)return s;if(s.nodeType==1&&e>0){if(s.contentEditable=="false")return null;s=s.childNodes[e-1],e=lu(s)}else if(s.parentNode&&!bm(s))e=Bc(s),s=s.parentNode;else return null}}function S8(s,e){for(;;){if(s.nodeType==3&&e<s.nodeValue.length)return s;if(s.nodeType==1&&e<s.childNodes.length){if(s.contentEditable=="false")return null;s=s.childNodes[e],e=0}else if(s.parentNode&&!bm(s))e=Bc(s)+1,s=s.parentNode;else return null}}function E8(s,e,r){for(let n=e==0,i=e==lu(s);n||i;){if(s==r)return!0;let c=Bc(s);if(s=s.parentNode,!s)return!1;n=n&&c==0,i=i&&c==lu(s)}}function bm(s){let e;for(let r=s;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==s||e.contentDOM==s)}const Yg=function(s){return s.focusNode&&xf(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)};function sf(s,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=s,r.key=r.code=e,r}function T8(s){let e=s.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function U8(s,e,r){if(s.caretPositionFromPoint)try{let n=s.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(lu(n.offsetNode),n.offset)}}catch{}if(s.caretRangeFromPoint){let n=s.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(lu(n.startContainer),n.startOffset)}}}const sA=typeof navigator<"u"?navigator:null,O2=typeof document<"u"?document:null,Dh=sA&&sA.userAgent||"",Jb=/Edge\/(\d+)/.exec(Dh),z5=/MSIE \d/.exec(Dh),Zb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Dh),Ed=!!(z5||Zb||Jb),kh=z5?document.documentMode:Zb?+Zb[1]:Jb?+Jb[1]:0,uu=!Ed&&/gecko\/(\d+)/i.test(Dh);uu&&+(/Firefox\/(\d+)/.exec(Dh)||[0,0])[1];const qb=!Ed&&/Chrome\/(\d+)/.exec(Dh),lc=!!qb,V5=qb?+qb[1]:0,Vc=!Ed&&!!sA&&/Apple Computer/.test(sA.vendor),i0=Vc&&(/Mobile\/\w+/.test(Dh)||!!sA&&sA.maxTouchPoints>2),iu=i0||(sA?/Mac/.test(sA.platform):!1),K5=sA?/Win/.test(sA.platform):!1,FA=/Android \d/.test(Dh),vm=!!O2&&"webkitFontSmoothing"in O2.documentElement.style,F8=vm?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function M8(s){let e=s.defaultView&&s.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:s.documentElement.clientWidth,top:0,bottom:s.documentElement.clientHeight}}function kA(s,e){return typeof s=="number"?s:s[e]}function L8(s){let e=s.getBoundingClientRect(),r=e.width/s.offsetWidth||1,n=e.height/s.offsetHeight||1;return{left:e.left,right:e.left+s.clientWidth*r,top:e.top,bottom:e.top+s.clientHeight*n}}function I2(s,e,r){let n=s.someProp("scrollThreshold")||0,i=s.someProp("scrollMargin")||5,c=s.dom.ownerDocument;for(let u=r||s.dom;u;){if(u.nodeType!=1){u=a0(u);continue}let d=u,A=d==c.body,o=A?M8(c):L8(d),f=0,m=0;if(e.top<o.top+kA(n,"top")?m=-(o.top-e.top+kA(i,"top")):e.bottom>o.bottom-kA(n,"bottom")&&(m=e.bottom-e.top>o.bottom-o.top?e.top+kA(i,"top")-o.top:e.bottom-o.bottom+kA(i,"bottom")),e.left<o.left+kA(n,"left")?f=-(o.left-e.left+kA(i,"left")):e.right>o.right-kA(n,"right")&&(f=e.right-o.right+kA(i,"right")),f||m)if(A)c.defaultView.scrollBy(f,m);else{let x=d.scrollLeft,v=d.scrollTop;m&&(d.scrollTop+=m),f&&(d.scrollLeft+=f);let y=d.scrollLeft-x,w=d.scrollTop-v;e={left:e.left-y,top:e.top-w,right:e.right-y,bottom:e.bottom-w}}let p=A?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(p))break;u=p=="absolute"?u.offsetParent:a0(u)}}function O8(s){let e=s.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let c=(e.left+e.right)/2,u=r+1;u<Math.min(innerHeight,e.bottom);u+=5){let d=s.root.elementFromPoint(c,u);if(!d||d==s.dom||!s.dom.contains(d))continue;let A=d.getBoundingClientRect();if(A.top>=r-20){n=d,i=A.top;break}}return{refDOM:n,refTop:i,stack:$5(s.dom)}}function $5(s){let e=[],r=s.ownerDocument;for(let n=s;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),s!=r);n=a0(n));return e}function I8({refDOM:s,refTop:e,stack:r}){let n=s?s.getBoundingClientRect().top:0;G5(r,n==0?0:n-e)}function G5(s,e){for(let r=0;r<s.length;r++){let{dom:n,top:i,left:c}=s[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=c&&(n.scrollLeft=c)}}let Pf=null;function D8(s){if(s.setActive)return s.setActive();if(Pf)return s.focus(Pf);let e=$5(s);s.focus(Pf==null?{get preventScroll(){return Pf={preventScroll:!0},!0}}:void 0),Pf||(Pf=!1,G5(e,0))}function W5(s,e){let r,n=2e8,i,c=0,u=e.top,d=e.top,A,o;for(let f=s.firstChild,m=0;f;f=f.nextSibling,m++){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=UA(f).getClientRects();else continue;for(let x=0;x<p.length;x++){let v=p[x];if(v.top<=u&&v.bottom>=d){u=Math.max(v.bottom,u),d=Math.min(v.top,d);let y=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(y<n){r=f,n=y,i=y&&r.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,f.nodeType==1&&y&&(c=m+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!A&&v.left<=e.left&&v.right>=e.left&&(A=f,o={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!r&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(c=m+1)}}return!r&&A&&(r=A,i=o,n=0),r&&r.nodeType==3?R8(r,i):!r||n&&r.nodeType==1?{node:s,offset:c}:W5(r,i)}function R8(s,e){let r=s.nodeValue.length,n=document.createRange(),i;for(let c=0;c<r;c++){n.setEnd(s,c+1),n.setStart(s,c);let u=fh(n,1);if(u.top!=u.bottom&&Gv(e,u)){i={node:s,offset:c+(e.left>=(u.left+u.right)/2?1:0)};break}}return n.detach(),i||{node:s,offset:0}}function Gv(s,e){return s.left>=e.left-1&&s.left<=e.right+1&&s.top>=e.top-1&&s.top<=e.bottom+1}function Q8(s,e){let r=s.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<s.getBoundingClientRect().left?r:s}function _8(s,e,r){let{node:n,offset:i}=W5(e,r),c=-1;if(n.nodeType==1&&!n.firstChild){let u=n.getBoundingClientRect();c=u.left!=u.right&&r.left>(u.left+u.right)/2?1:-1}return s.docView.posFromDOM(n,i,c)}function P8(s,e,r,n){let i=-1;for(let c=e,u=!1;c!=s.dom;){let d=s.docView.nearestDesc(c,!0),A;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((A=d.dom.getBoundingClientRect()).width||A.height)&&(d.node.isBlock&&d.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(d.dom.nodeName)&&(!u&&A.left>n.left||A.top>n.top?i=d.posBefore:(!u&&A.right<n.left||A.bottom<n.top)&&(i=d.posAfter),u=!0),!d.contentDOM&&i<0&&!d.node.isText))return(d.node.isBlock?n.top<(A.top+A.bottom)/2:n.left<(A.left+A.right)/2)?d.posBefore:d.posAfter;c=d.dom.parentNode}return i>-1?i:s.docView.posFromDOM(e,r,-1)}function Y5(s,e,r){let n=s.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),c=i;;){let u=s.childNodes[c];if(u.nodeType==1){let d=u.getClientRects();for(let A=0;A<d.length;A++){let o=d[A];if(Gv(e,o))return Y5(u,e,o)}}if((c=(c+1)%n)==i)break}return s}function H8(s,e){let r=s.dom.ownerDocument,n,i=0,c=U8(r,e.left,e.top);c&&({node:n,offset:i}=c);let u=(s.root.elementFromPoint?s.root:r).elementFromPoint(e.left,e.top),d;if(!u||!s.dom.contains(u.nodeType!=1?u.parentNode:u)){let o=s.dom.getBoundingClientRect();if(!Gv(e,o)||(u=Y5(s.dom,e,o),!u))return null}if(Vc)for(let o=u;n&&o;o=a0(o))o.draggable&&(n=void 0);if(u=Q8(u,e),n){if(uu&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let f=n.childNodes[i],m;f.nodeName=="IMG"&&(m=f.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let o;vm&&i&&n.nodeType==1&&(o=n.childNodes[i-1]).nodeType==1&&o.contentEditable=="false"&&o.getBoundingClientRect().top>=e.top&&i--,n==s.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?d=s.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(d=P8(s,n,i,e))}d==null&&(d=_8(s,u,e));let A=s.docView.nearestDesc(u,!0);return{pos:d,inside:A?A.posAtStart-A.border:-1}}function D2(s){return s.top<s.bottom||s.left<s.right}function fh(s,e){let r=s.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(D2(n))return n}return Array.prototype.find.call(r,D2)||s.getBoundingClientRect()}const z8=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function X5(s,e,r){let{node:n,offset:i,atom:c}=s.docView.domFromPos(e,r<0?-1:1),u=vm||uu;if(n.nodeType==3)if(u&&(z8.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let A=fh(UA(n,i,i),r);if(uu&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let o=fh(UA(n,i-1,i-1),-1);if(o.top==A.top){let f=fh(UA(n,i,i+1),-1);if(f.top!=A.top)return F0(f,f.left<o.left)}}return A}else{let A=i,o=i,f=r<0?1:-1;return r<0&&!i?(o++,f=-1):r>=0&&i==n.nodeValue.length?(A--,f=1):r<0?A--:o++,F0(fh(UA(n,A,o),f),f<0)}if(!s.state.doc.resolve(e-(c||0)).parent.inlineContent){if(c==null&&i&&(r<0||i==lu(n))){let A=n.childNodes[i-1];if(A.nodeType==1)return ab(A.getBoundingClientRect(),!1)}if(c==null&&i<lu(n)){let A=n.childNodes[i];if(A.nodeType==1)return ab(A.getBoundingClientRect(),!0)}return ab(n.getBoundingClientRect(),r>=0)}if(c==null&&i&&(r<0||i==lu(n))){let A=n.childNodes[i-1],o=A.nodeType==3?UA(A,lu(A)-(u?0:1)):A.nodeType==1&&(A.nodeName!="BR"||!A.nextSibling)?A:null;if(o)return F0(fh(o,1),!1)}if(c==null&&i<lu(n)){let A=n.childNodes[i];for(;A.pmViewDesc&&A.pmViewDesc.ignoreForCoords;)A=A.nextSibling;let o=A?A.nodeType==3?UA(A,0,u?0:1):A.nodeType==1?A:null:null;if(o)return F0(fh(o,-1),!0)}return F0(fh(n.nodeType==3?UA(n):n,-r),r>=0)}function F0(s,e){if(s.width==0)return s;let r=e?s.left:s.right;return{top:s.top,bottom:s.bottom,left:r,right:r}}function ab(s,e){if(s.height==0)return s;let r=e?s.top:s.bottom;return{top:r,bottom:r,left:s.left,right:s.right}}function J5(s,e,r){let n=s.state,i=s.root.activeElement;n!=e&&s.updateState(e),i!=s.dom&&s.focus();try{return r()}finally{n!=e&&s.updateState(n),i!=s.dom&&i&&i.focus()}}function V8(s,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return J5(s,e,()=>{let{node:c}=s.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let d=s.docView.nearestDesc(c,!0);if(!d)break;if(d.node.isBlock){c=d.contentDOM||d.dom;break}c=d.dom.parentNode}let u=X5(s,i.pos,1);for(let d=c.firstChild;d;d=d.nextSibling){let A;if(d.nodeType==1)A=d.getClientRects();else if(d.nodeType==3)A=UA(d,0,d.nodeValue.length).getClientRects();else continue;for(let o=0;o<A.length;o++){let f=A[o];if(f.bottom>f.top+1&&(r=="up"?u.top-f.top>(f.bottom-u.top)*2:f.bottom-u.bottom>(u.bottom-f.top)*2))return!1}}return!0})}const K8=/[\u0590-\u08ac]/;function $8(s,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,c=!i,u=i==n.parent.content.size,d=s.domSelection();return d?!K8.test(n.parent.textContent)||!d.modify?r=="left"||r=="backward"?c:u:J5(s,e,()=>{let{focusNode:A,focusOffset:o,anchorNode:f,anchorOffset:m}=s.domSelectionRange(),p=d.caretBidiLevel;d.modify("move",r,"character");let x=n.depth?s.docView.domAfterPos(n.before()):s.dom,{focusNode:v,focusOffset:y}=s.domSelectionRange(),w=v&&!x.contains(v.nodeType==1?v:v.parentNode)||A==v&&o==y;try{d.collapse(f,m),A&&(A!=f||o!=m)&&d.extend&&d.extend(A,o)}catch{}return p!=null&&(d.caretBidiLevel=p),w}):n.pos==n.start()||n.pos==n.end()}let R2=null,Q2=null,_2=!1;function G8(s,e,r){return R2==e&&Q2==r?_2:(R2=e,Q2=r,_2=r=="up"||r=="down"?V8(s,e,r):$8(s,e,r))}const Au=0,P2=1,rf=2,rA=3;class ym{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Au,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let c,u;if(e==this.contentDOM)c=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;c=e.previousSibling}for(;c&&!((u=c.pmViewDesc)&&u.parent==this);)c=c.previousSibling;return c?this.posBeforeChild(u)+u.size:this.posAtStart}else{let c,u;if(e==this.contentDOM)c=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;c=e.nextSibling}for(;c&&!((u=c.pmViewDesc)&&u.parent==this);)c=c.nextSibling;return c?this.posBeforeChild(u):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>Bc(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let c=e;;c=c.parentNode){if(c==this.dom){i=!1;break}if(c.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let c=e;;c=c.parentNode){if(c==this.dom){i=!0;break}if(c.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let c=this.getDesc(i),u;if(c&&(!r||c.node))if(n&&(u=c.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))n=!1;else return c}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let c=this.getDesc(i);if(c)return c.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],c=n+i.size;if(n==e&&c!=n){for(;!i.border&&i.children.length;)for(let u=0;u<i.children.length;u++){let d=i.children[u];if(d.size){i=d;break}}return i}if(e<c)return i.descAt(e-n-i.border);n=c}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let c=0;n<this.children.length;n++){let u=this.children[n],d=c+u.size;if(d>e||u instanceof q5){i=e-c;break}c=d}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let c;n&&!(c=this.children[n-1]).size&&c instanceof Z5&&c.side>=0;n--);if(r<=0){let c,u=!0;for(;c=n?this.children[n-1]:null,!(!c||c.dom.parentNode==this.contentDOM);n--,u=!1);return c&&r&&u&&!c.border&&!c.domAtom?c.domFromPos(c.size,r):{node:this.contentDOM,offset:c?Bc(c.dom)+1:0}}else{let c,u=!0;for(;c=n<this.children.length?this.children[n]:null,!(!c||c.dom.parentNode==this.contentDOM);n++,u=!1);return c&&u&&!c.border&&!c.domAtom?c.domFromPos(0,r):{node:this.contentDOM,offset:c?Bc(c.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,c=-1;for(let u=n,d=0;;d++){let A=this.children[d],o=u+A.size;if(i==-1&&e<=o){let f=u+A.border;if(e>=f&&r<=o-A.border&&A.node&&A.contentDOM&&this.contentDOM.contains(A.contentDOM))return A.parseRange(e,r,f);e=u;for(let m=d;m>0;m--){let p=this.children[m-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=Bc(p.dom)+1;break}e-=p.size}i==-1&&(i=0)}if(i>-1&&(o>r||d==this.children.length-1)){r=o;for(let f=d+1;f<this.children.length;f++){let m=this.children[f];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){c=Bc(m.dom);break}r+=m.size}c==-1&&(c=this.contentDOM.childNodes.length);break}u=o}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:c}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let c=Math.min(e,r),u=Math.max(e,r);for(let x=0,v=0;x<this.children.length;x++){let y=this.children[x],w=v+y.size;if(c>v&&u<w)return y.setSelection(e-v-y.border,r-v-y.border,n,i);v=w}let d=this.domFromPos(e,e?-1:1),A=r==e?d:this.domFromPos(r,r?-1:1),o=n.root.getSelection(),f=n.domSelectionRange(),m=!1;if((uu||Vc)&&e==r){let{node:x,offset:v}=d;if(x.nodeType==3){if(m=!!(v&&x.nodeValue[v-1]==`
`),m&&v==x.nodeValue.length)for(let y=x,w;y;y=y.parentNode){if(w=y.nextSibling){w.nodeName=="BR"&&(d=A={node:w.parentNode,offset:Bc(w)+1});break}let E=y.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let y=x.childNodes[v-1];m=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(uu&&f.focusNode&&f.focusNode!=A.node&&f.focusNode.nodeType==1){let x=f.focusNode.childNodes[f.focusOffset];x&&x.contentEditable=="false"&&(i=!0)}if(!(i||m&&Vc)&&xf(d.node,d.offset,f.anchorNode,f.anchorOffset)&&xf(A.node,A.offset,f.focusNode,f.focusOffset))return;let p=!1;if((o.extend||e==r)&&!(m&&uu)){o.collapse(d.node,d.offset);try{e!=r&&o.extend(A.node,A.offset),p=!0}catch{}}if(!p){if(e>r){let v=d;d=A,A=v}let x=document.createRange();x.setEnd(A.node,A.offset),x.setStart(d.node,d.offset),o.removeAllRanges(),o.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let c=this.children[i],u=n+c.size;if(n==u?e<=u&&r>=n:e<u&&r>n){let d=n+c.border,A=u-c.border;if(e>=d&&r<=A){this.dirty=e==n||r==u?rf:P2,e==d&&r==A&&(c.contentLost||c.dom.parentNode!=this.contentDOM)?c.dirty=rA:c.markDirty(e-d,r-d);return}else c.dirty=c.dom==c.contentDOM&&c.dom.parentNode==this.contentDOM&&!c.children.length?rf:rA}n=u}this.dirty=rf}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?rf:P2;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Z5 extends ym{constructor(e,r,n,i){let c,u=r.type.toDOM;if(typeof u=="function"&&(u=u(n,()=>{if(!c)return i;if(c.parent)return c.parent.posBeforeChild(c)})),!r.type.spec.raw){if(u.nodeType!=1){let d=document.createElement("span");d.appendChild(u),u=d}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=r,this.widget=r,c=this}matchesWidget(e){return this.dirty==Au&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class W8 extends ym{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class bf extends ym{constructor(e,r,n,i,c){super(e,[],n,i),this.mark=r,this.spec=c}static create(e,r,n,i){let c=i.nodeViews[r.type.name],u=c&&c(r,i,n);return(!u||!u.dom)&&(u=wf.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new bf(e,r,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&rA||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=rA&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Au){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Au}}slice(e,r,n){let i=bf.create(this.parent,this.mark,!0,n),c=this.children,u=this.size;r<u&&(c=tv(c,r,u,n)),e>0&&(c=tv(c,0,e,n));for(let d=0;d<c.length;d++)c[d].parent=i;return i.children=c,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Sh extends ym{constructor(e,r,n,i,c,u,d,A,o){super(e,[],c,u),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=d}static create(e,r,n,i,c,u){let d=c.nodeViews[r.type.name],A,o=d&&d(r,c,()=>{if(!A)return u;if(A.parent)return A.parent.posBeforeChild(A)},n,i),f=o&&o.dom,m=o&&o.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:m}=wf.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!m&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let p=f;return f=sN(f,n,r),o?A=new Y8(e,r,n,i,f,m||null,p,o,c,u+1):r.isText?new Xg(e,r,n,i,f,p,c):new Sh(e,r,n,i,f,m||null,p,c,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ws.empty)}return e}matchesNode(e,r,n){return this.dirty==Au&&e.eq(this.node)&&Vp(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,c=e.composing?this.localCompositionInfo(e,r):null,u=c&&c.pos>-1?c:null,d=c&&c.pos<0,A=new J8(this,u&&u.node,e);eF(this.node,this.innerDeco,(o,f,m)=>{o.spec.marks?A.syncToMarks(o.spec.marks,n,e):o.type.side>=0&&!m&&A.syncToMarks(f==this.node.childCount?Hi.none:this.node.child(f).marks,n,e),A.placeWidget(o,e,i)},(o,f,m,p)=>{A.syncToMarks(o.marks,n,e);let x;A.findNodeMatch(o,f,m,p)||d&&e.state.selection.from>i&&e.state.selection.to<i+o.nodeSize&&(x=A.findIndexWithChild(c.node))>-1&&A.updateNodeAt(o,f,m,x,e)||A.updateNextNode(o,f,m,e,p,i)||A.addNode(o,f,m,e,i),i+=o.nodeSize}),A.syncToMarks([],n,e),this.node.isTextblock&&A.addTextblockHacks(),A.destroyRest(),(A.changed||this.dirty==rf)&&(u&&this.protectLocalComposition(e,u),eN(this.contentDOM,this.children,e),i0&&tF(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof Kn)||n<r||i>r+this.node.content.size)return null;let c=e.input.compositionNode;if(!c||!this.dom.contains(c.parentNode))return null;if(this.node.inlineContent){let u=c.nodeValue,d=sF(this.node.content,u,n-r,i-r);return d<0?null:{node:c,pos:d,text:u}}else return{node:c,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let c=r;for(;c.parentNode!=this.contentDOM;c=c.parentNode){for(;c.previousSibling;)c.parentNode.removeChild(c.previousSibling);for(;c.nextSibling;)c.parentNode.removeChild(c.nextSibling);c.pmViewDesc&&(c.pmViewDesc=void 0)}let u=new W8(this,c,r,i);e.input.compositionNodes.push(u),this.children=tv(this.children,n,n+i.length,e,u)}update(e,r,n,i){return this.dirty==rA||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Au}updateOuterDeco(e){if(Vp(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=tN(this.dom,this.nodeDOM,ev(this.outerDeco,this.node,r),ev(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function H2(s,e,r,n,i){sN(n,e,s);let c=new Sh(void 0,s,e,r,n,n,n,i,0);return c.contentDOM&&c.updateChildren(i,0),c}class Xg extends Sh{constructor(e,r,n,i,c,u,d){super(e,r,n,i,c,null,u,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==rA||this.dirty!=Au&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Au||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Au,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),c=document.createTextNode(i.text);return new Xg(this.parent,i,this.outerDeco,this.innerDeco,c,c,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=rA)}get domAtom(){return!1}isText(e){return this.node.text==e}}class q5 extends ym{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Au&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Y8 extends Sh{constructor(e,r,n,i,c,u,d,A,o,f){super(e,r,n,i,c,u,d,o,f),this.spec=A}update(e,r,n,i){if(this.dirty==rA)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let c=this.spec.update(e,r,n);return c&&this.updateInner(e,r,n,i),c}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function eN(s,e,r){let n=s.firstChild,i=!1;for(let c=0;c<e.length;c++){let u=e[c],d=u.dom;if(d.parentNode==s){for(;d!=n;)n=z2(n),i=!0;n=n.nextSibling}else i=!0,s.insertBefore(d,n);if(u instanceof bf){let A=n?n.previousSibling:s.lastChild;eN(u.contentDOM,u.children,r),n=A?A.nextSibling:s.firstChild}}for(;n;)n=z2(n),i=!0;i&&r.trackWrites==s&&(r.trackWrites=null)}const $0=function(s){s&&(this.nodeName=s)};$0.prototype=Object.create(null);const nf=[new $0];function ev(s,e,r){if(s.length==0)return nf;let n=r?nf[0]:new $0,i=[n];for(let c=0;c<s.length;c++){let u=s[c].type.attrs;if(u){u.nodeName&&i.push(n=new $0(u.nodeName));for(let d in u){let A=u[d];A!=null&&(r&&i.length==1&&i.push(n=new $0(e.isInline?"span":"div")),d=="class"?n.class=(n.class?n.class+" ":"")+A:d=="style"?n.style=(n.style?n.style+";":"")+A:d!="nodeName"&&(n[d]=A))}}}return i}function tN(s,e,r,n){if(r==nf&&n==nf)return e;let i=e;for(let c=0;c<n.length;c++){let u=n[c],d=r[c];if(c){let A;d&&d.nodeName==u.nodeName&&i!=s&&(A=i.parentNode)&&A.nodeName.toLowerCase()==u.nodeName||(A=document.createElement(u.nodeName),A.pmIsDeco=!0,A.appendChild(i),d=nf[0]),i=A}X8(i,d||nf[0],u)}return i}function X8(s,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&s.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&s.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let c=0;c<n.length;c++)i.indexOf(n[c])==-1&&s.classList.remove(n[c]);for(let c=0;c<i.length;c++)n.indexOf(i[c])==-1&&s.classList.add(i[c]);s.classList.length==0&&s.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)s.style.removeProperty(i[1])}r.style&&(s.style.cssText+=r.style)}}function sN(s,e,r){return tN(s,s,nf,ev(e,r,s.nodeType!=1))}function Vp(s,e){if(s.length!=e.length)return!1;for(let r=0;r<s.length;r++)if(!s[r].type.eq(e[r].type))return!1;return!0}function z2(s){let e=s.nextSibling;return s.parentNode.removeChild(s),e}class J8{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Z8(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,c=this.stack.length>>1,u=Math.min(c,e.length);for(;i<u&&(i==c-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<c;)this.destroyRest(),this.top.dirty=Au,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let A=this.index;A<Math.min(this.index+3,this.top.children.length);A++){let o=this.top.children[A];if(o.matchesMark(e[c])&&!this.isLocked(o.dom)){d=A;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let A=bf.create(this.top,e[c],r,n);this.top.children.splice(this.index,0,A),this.top=A,this.changed=!0}this.index=0,c++}}findNodeMatch(e,r,n,i){let c=-1,u;if(i>=this.preMatch.index&&(u=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&u.matchesNode(e,r,n))c=this.top.children.indexOf(u,this.index);else for(let d=this.index,A=Math.min(this.top.children.length,d+5);d<A;d++){let o=this.top.children[d];if(o.matchesNode(e,r,n)&&!this.preMatch.matched.has(o)){c=d;break}}return c<0?!1:(this.destroyBetween(this.index,c),this.index++,!0)}updateNodeAt(e,r,n,i,c){let u=this.top.children[i];return u.dirty==rA&&u.dom==u.contentDOM&&(u.dirty=rf),u.update(e,r,n,c)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,c,u){for(let d=this.index;d<this.top.children.length;d++){let A=this.top.children[d];if(A instanceof Sh){let o=this.preMatch.matched.get(A);if(o!=null&&o!=c)return!1;let f=A.dom,m,p=this.isLocked(f)&&!(e.isText&&A.node&&A.node.isText&&A.nodeDOM.nodeValue==e.text&&A.dirty!=rA&&Vp(r,A.outerDeco));if(!p&&A.update(e,r,n,i))return this.destroyBetween(this.index,d),A.dom!=f&&(this.changed=!0),this.index++,!0;if(!p&&(m=this.recreateWrapper(A,e,r,n,i,u)))return this.destroyBetween(this.index,d),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=rf,m.updateChildren(i,u+1),m.dirty=Au),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,c,u){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Vp(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let d=Sh.create(this.top,r,n,i,c,u);if(d.contentDOM){d.children=e.children,e.children=[];for(let A of d.children)A.parent=d}return e.destroy(),d}addNode(e,r,n,i,c){let u=Sh.create(this.top,e,r,n,i,c);u.contentDOM&&u.updateChildren(i,c+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let c=new Z5(this.top,e,r,n);this.top.children.splice(this.index++,0,c),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof bf;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Xg)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Vc||lc)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new q5(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Z8(s,e){let r=e,n=r.children.length,i=s.childCount,c=new Map,u=[];e:for(;i>0;){let d;for(;;)if(n){let o=r.children[n-1];if(o instanceof bf)r=o,n=o.children.length;else{d=o,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let A=d.node;if(A){if(A!=s.child(i-1))break;--i,c.set(d,i),u.push(d)}}return{index:i,matched:c,matches:u.reverse()}}function q8(s,e){return s.type.side-e.type.side}function eF(s,e,r,n){let i=e.locals(s),c=0;if(i.length==0){for(let o=0;o<s.childCount;o++){let f=s.child(o);n(f,i,e.forChild(c,f),o),c+=f.nodeSize}return}let u=0,d=[],A=null;for(let o=0;;){let f,m;for(;u<i.length&&i[u].to==c;){let w=i[u++];w.widget&&(f?(m||(m=[f])).push(w):f=w)}if(f)if(m){m.sort(q8);for(let w=0;w<m.length;w++)r(m[w],o,!!A)}else r(f,o,!!A);let p,x;if(A)x=-1,p=A,A=null;else if(o<s.childCount)x=o,p=s.child(o++);else break;for(let w=0;w<d.length;w++)d[w].to<=c&&d.splice(w--,1);for(;u<i.length&&i[u].from<=c&&i[u].to>c;)d.push(i[u++]);let v=c+p.nodeSize;if(p.isText){let w=v;u<i.length&&i[u].from<w&&(w=i[u].from);for(let E=0;E<d.length;E++)d[E].to<w&&(w=d[E].to);w<v&&(A=p.cut(w-c),p=p.cut(0,w-c),v=w,x=-1)}else for(;u<i.length&&i[u].to<v;)u++;let y=p.isInline&&!p.isLeaf?d.filter(w=>!w.inline):d.slice();n(p,y,e.forChild(c,p),x),c=v}}function tF(s){if(s.nodeName=="UL"||s.nodeName=="OL"){let e=s.style.cssText;s.style.cssText=e+"; list-style: square !important",window.getComputedStyle(s).listStyle,s.style.cssText=e}}function sF(s,e,r,n){for(let i=0,c=0;i<s.childCount&&c<=n;){let u=s.child(i++),d=c;if(c+=u.nodeSize,!u.isText)continue;let A=u.text;for(;i<s.childCount;){let o=s.child(i++);if(c+=o.nodeSize,!o.isText)break;A+=o.text}if(c>=r){if(c>=n&&A.slice(n-e.length-d,n-d)==e)return n-e.length;let o=d<n?A.lastIndexOf(e,n-d-1):-1;if(o>=0&&o+e.length+d>=r)return d+o;if(r==n&&A.length>=n+e.length-d&&A.slice(n-d,n-d+e.length)==e)return n}}return-1}function tv(s,e,r,n,i){let c=[];for(let u=0,d=0;u<s.length;u++){let A=s[u],o=d,f=d+=A.size;o>=r||f<=e?c.push(A):(o<e&&c.push(A.slice(0,e-o,n)),i&&(c.push(i),i=void 0),f>r&&c.push(A.slice(r-o,A.size,n)))}return c}function Wv(s,e=null){let r=s.domSelectionRange(),n=s.state.doc;if(!r.focusNode)return null;let i=s.docView.nearestDesc(r.focusNode),c=i&&i.size==0,u=s.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(u<0)return null;let d=n.resolve(u),A,o;if(Yg(r)){for(A=u;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&vn.isSelectable(m)&&i.parent&&!(m.isInline&&E8(r.focusNode,r.focusOffset,i.dom))){let p=i.posBefore;o=new vn(u==p?d:n.resolve(p))}}else{if(r instanceof s.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let m=u,p=u;for(let x=0;x<r.rangeCount;x++){let v=r.getRangeAt(x);m=Math.min(m,s.docView.posFromDOM(v.startContainer,v.startOffset,1)),p=Math.max(p,s.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(m<0)return null;[A,u]=p==s.state.selection.anchor?[p,m]:[m,p],d=n.resolve(u)}else A=s.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(A<0)return null}let f=n.resolve(A);if(!o){let m=e=="pointer"||s.state.selection.head<d.pos&&!c?1:-1;o=Yv(s,f,d,m)}return o}function rN(s){return s.editable?s.hasFocus():aN(s)&&document.activeElement&&document.activeElement.contains(s.dom)}function OA(s,e=!1){let r=s.state.selection;if(nN(s,r),!!rN(s)){if(!e&&s.input.mouseDown&&s.input.mouseDown.allowDefault&&lc){let n=s.domSelectionRange(),i=s.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&xf(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){s.input.mouseDown.delayedSelectionSync=!0,s.domObserver.setCurSelection();return}}if(s.domObserver.disconnectSelection(),s.cursorWrapper)nF(s);else{let{anchor:n,head:i}=r,c,u;V2&&!(r instanceof Kn)&&(r.$from.parent.inlineContent||(c=K2(s,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(u=K2(s,r.to))),s.docView.setSelection(n,i,s,e),V2&&(c&&$2(c),u&&$2(u)),r.visible?s.dom.classList.remove("ProseMirror-hideselection"):(s.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&rF(s))}s.domObserver.setCurSelection(),s.domObserver.connectSelection()}}const V2=Vc||lc&&V5<63;function K2(s,e){let{node:r,offset:n}=s.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,c=n?r.childNodes[n-1]:null;if(Vc&&i&&i.contentEditable=="false")return ib(i);if((!i||i.contentEditable=="false")&&(!c||c.contentEditable=="false")){if(i)return ib(i);if(c)return ib(c)}}function ib(s){return s.contentEditable="true",Vc&&s.draggable&&(s.draggable=!1,s.wasDraggable=!0),s}function $2(s){s.contentEditable="false",s.wasDraggable&&(s.draggable=!0,s.wasDraggable=null)}function rF(s){let e=s.dom.ownerDocument;e.removeEventListener("selectionchange",s.input.hideSelectionGuard);let r=s.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",s.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",s.input.hideSelectionGuard),setTimeout(()=>{(!rN(s)||s.state.selection.visible)&&s.dom.classList.remove("ProseMirror-hideselection")},20))})}function nF(s){let e=s.domSelection();if(!e)return;let r=s.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Bc(r)+1):e.collapse(r,0),!n&&!s.state.selection.visible&&Ed&&kh<=11&&(r.disabled=!0,r.disabled=!1)}function nN(s,e){if(e instanceof vn){let r=s.docView.descAt(e.from);r!=s.lastSelectedViewDesc&&(G2(s),r&&r.selectNode(),s.lastSelectedViewDesc=r)}else G2(s)}function G2(s){s.lastSelectedViewDesc&&(s.lastSelectedViewDesc.parent&&s.lastSelectedViewDesc.deselectNode(),s.lastSelectedViewDesc=void 0)}function Yv(s,e,r,n){return s.someProp("createSelectionBetween",i=>i(s,e,r))||Kn.between(e,r,n)}function W2(s){return s.editable&&!s.hasFocus()?!1:aN(s)}function aN(s){let e=s.domSelectionRange();if(!e.anchorNode)return!1;try{return s.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(s.editable||s.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function aF(s){let e=s.docView.domFromPos(s.state.selection.anchor,0),r=s.domSelectionRange();return xf(e.node,e.offset,r.anchorNode,r.anchorOffset)}function sv(s,e){let{$anchor:r,$head:n}=s.selection,i=e>0?r.max(n):r.min(n),c=i.parent.inlineContent?i.depth?s.doc.resolve(e>0?i.after():i.before()):null:i;return c&&ha.findFrom(c,e)}function mh(s,e){return s.dispatch(s.state.tr.setSelection(e).scrollIntoView()),!0}function Y2(s,e,r){let n=s.state.selection;if(n instanceof Kn)if(r.indexOf("s")>-1){let{$head:i}=n,c=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!c||c.isText||!c.isLeaf)return!1;let u=s.state.doc.resolve(i.pos+c.nodeSize*(e<0?-1:1));return mh(s,new Kn(n.$anchor,u))}else if(n.empty){if(s.endOfTextblock(e>0?"forward":"backward")){let i=sv(s.state,e);return i&&i instanceof vn?mh(s,i):!1}else if(!(iu&&r.indexOf("m")>-1)){let i=n.$head,c=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,u;if(!c||c.isText)return!1;let d=e<0?i.pos-c.nodeSize:i.pos;return c.isAtom||(u=s.docView.descAt(d))&&!u.contentDOM?vn.isSelectable(c)?mh(s,new vn(e<0?s.state.doc.resolve(i.pos-c.nodeSize):i)):vm?mh(s,new Kn(s.state.doc.resolve(e<0?d:d+c.nodeSize))):!1:!1}}else return!1;else{if(n instanceof vn&&n.node.isInline)return mh(s,new Kn(e>0?n.$to:n.$from));{let i=sv(s.state,e);return i?mh(s,i):!1}}}function Kp(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function G0(s,e){let r=s.pmViewDesc;return r&&r.size==0&&(e<0||s.nextSibling||s.nodeName!="BR")}function Hf(s,e){return e<0?iF(s):oF(s)}function iF(s){let e=s.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,c,u=!1;for(uu&&r.nodeType==1&&n<Kp(r)&&G0(r.childNodes[n],-1)&&(u=!0);;)if(n>0){if(r.nodeType!=1)break;{let d=r.childNodes[n-1];if(G0(d,-1))i=r,c=--n;else if(d.nodeType==3)r=d,n=r.nodeValue.length;else break}}else{if(iN(r))break;{let d=r.previousSibling;for(;d&&G0(d,-1);)i=r.parentNode,c=Bc(d),d=d.previousSibling;if(d)r=d,n=Kp(r);else{if(r=r.parentNode,r==s.dom)break;n=0}}}u?rv(s,r,n):i&&rv(s,i,c)}function oF(s){let e=s.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=Kp(r),c,u;for(;;)if(n<i){if(r.nodeType!=1)break;let d=r.childNodes[n];if(G0(d,1))c=r,u=++n;else break}else{if(iN(r))break;{let d=r.nextSibling;for(;d&&G0(d,1);)c=d.parentNode,u=Bc(d)+1,d=d.nextSibling;if(d)r=d,n=0,i=Kp(r);else{if(r=r.parentNode,r==s.dom)break;n=i=0}}}c&&rv(s,c,u)}function iN(s){let e=s.pmViewDesc;return e&&e.node&&e.node.isBlock}function lF(s,e){for(;s&&e==s.childNodes.length&&!bm(s);)e=Bc(s)+1,s=s.parentNode;for(;s&&e<s.childNodes.length;){let r=s.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;s=r,e=0}}function cF(s,e){for(;s&&!e&&!bm(s);)e=Bc(s),s=s.parentNode;for(;s&&e;){let r=s.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;s=r,e=s.childNodes.length}}function rv(s,e,r){if(e.nodeType!=3){let c,u;(u=lF(e,r))?(e=u,r=0):(c=cF(e,r))&&(e=c,r=c.nodeValue.length)}let n=s.domSelection();if(!n)return;if(Yg(n)){let c=document.createRange();c.setEnd(e,r),c.setStart(e,r),n.removeAllRanges(),n.addRange(c)}else n.extend&&n.extend(e,r);s.domObserver.setCurSelection();let{state:i}=s;setTimeout(()=>{s.state==i&&OA(s)},50)}function X2(s,e){let r=s.state.doc.resolve(e);if(!(lc||K5)&&r.parent.inlineContent){let i=s.coordsAtPos(e);if(e>r.start()){let c=s.coordsAtPos(e-1),u=(c.top+c.bottom)/2;if(u>i.top&&u<i.bottom&&Math.abs(c.left-i.left)>1)return c.left<i.left?"ltr":"rtl"}if(e<r.end()){let c=s.coordsAtPos(e+1),u=(c.top+c.bottom)/2;if(u>i.top&&u<i.bottom&&Math.abs(c.left-i.left)>1)return c.left>i.left?"ltr":"rtl"}}return getComputedStyle(s.dom).direction=="rtl"?"rtl":"ltr"}function J2(s,e,r){let n=s.state.selection;if(n instanceof Kn&&!n.empty||r.indexOf("s")>-1||iu&&r.indexOf("m")>-1)return!1;let{$from:i,$to:c}=n;if(!i.parent.inlineContent||s.endOfTextblock(e<0?"up":"down")){let u=sv(s.state,e);if(u&&u instanceof vn)return mh(s,u)}if(!i.parent.inlineContent){let u=e<0?i:c,d=n instanceof $d?ha.near(u,e):ha.findFrom(u,e);return d?mh(s,d):!1}return!1}function Z2(s,e){if(!(s.state.selection instanceof Kn))return!0;let{$head:r,$anchor:n,empty:i}=s.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(s.endOfTextblock(e>0?"forward":"backward"))return!0;let c=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(c&&!c.isText){let u=s.state.tr;return e<0?u.delete(r.pos-c.nodeSize,r.pos):u.delete(r.pos,r.pos+c.nodeSize),s.dispatch(u),!0}return!1}function q2(s,e,r){s.domObserver.stop(),e.contentEditable=r,s.domObserver.start()}function dF(s){if(!Vc||s.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=s.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;q2(s,n,"true"),setTimeout(()=>q2(s,n,"false"),20)}return!1}function uF(s){let e="";return s.ctrlKey&&(e+="c"),s.metaKey&&(e+="m"),s.altKey&&(e+="a"),s.shiftKey&&(e+="s"),e}function AF(s,e){let r=e.keyCode,n=uF(e);if(r==8||iu&&r==72&&n=="c")return Z2(s,-1)||Hf(s,-1);if(r==46&&!e.shiftKey||iu&&r==68&&n=="c")return Z2(s,1)||Hf(s,1);if(r==13||r==27)return!0;if(r==37||iu&&r==66&&n=="c"){let i=r==37?X2(s,s.state.selection.from)=="ltr"?-1:1:-1;return Y2(s,i,n)||Hf(s,i)}else if(r==39||iu&&r==70&&n=="c"){let i=r==39?X2(s,s.state.selection.from)=="ltr"?1:-1:1;return Y2(s,i,n)||Hf(s,i)}else{if(r==38||iu&&r==80&&n=="c")return J2(s,-1,n)||Hf(s,-1);if(r==40||iu&&r==78&&n=="c")return dF(s)||J2(s,1,n)||Hf(s,1);if(n==(iu?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function Xv(s,e){s.someProp("transformCopied",x=>{e=x(e,s)});let r=[],{content:n,openStart:i,openEnd:c}=e;for(;i>1&&c>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,c--;let x=n.firstChild;r.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),n=x.content}let u=s.someProp("clipboardSerializer")||wf.fromSchema(s.state.schema),d=AN(),A=d.createElement("div");A.appendChild(u.serializeFragment(n,{document:d}));let o=A.firstChild,f,m=0;for(;o&&o.nodeType==1&&(f=uN[o.nodeName.toLowerCase()]);){for(let x=f.length-1;x>=0;x--){let v=d.createElement(f[x]);for(;A.firstChild;)v.appendChild(A.firstChild);A.appendChild(v),m++}o=A.firstChild}o&&o.nodeType==1&&o.setAttribute("data-pm-slice",`${i} ${c}${m?` -${m}`:""} ${JSON.stringify(r)}`);let p=s.someProp("clipboardTextSerializer",x=>x(e,s))||e.content.textBetween(0,e.content.size,`

`);return{dom:A,text:p,slice:e}}function oN(s,e,r,n,i){let c=i.parent.type.spec.code,u,d;if(!r&&!e)return null;let A=!!e&&(n||c||!r);if(A){if(s.someProp("transformPastedText",p=>{e=p(e,c||n,s)}),c)return d=new Dr(Ws.from(s.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),s.someProp("transformPasted",p=>{d=p(d,s,!0)}),d;let m=s.someProp("clipboardTextParser",p=>p(e,i,n,s));if(m)d=m;else{let p=i.marks(),{schema:x}=s.state,v=wf.fromSchema(x);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let w=u.appendChild(document.createElement("p"));y&&w.appendChild(v.serializeNode(x.text(y,p)))})}}else s.someProp("transformPastedHTML",m=>{r=m(r,s)}),u=pF(r),vm&&gF(u);let o=u&&u.querySelector("[data-pm-slice]"),f=o&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(o.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let m=+f[3];m>0;m--){let p=u.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;u=p}if(d||(d=(s.someProp("clipboardParser")||s.someProp("domParser")||V0.fromSchema(s.state.schema)).parseSlice(u,{preserveWhitespace:!!(A||f),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!hF.test(p.parentNode.nodeName)?{ignore:!0}:null}})),f)d=xF(ew(d,+f[1],+f[2]),f[4]);else if(d=Dr.maxOpen(fF(d.content,i),!0),d.openStart||d.openEnd){let m=0,p=0;for(let x=d.content.firstChild;m<d.openStart&&!x.type.spec.isolating;m++,x=x.firstChild);for(let x=d.content.lastChild;p<d.openEnd&&!x.type.spec.isolating;p++,x=x.lastChild);d=ew(d,m,p)}return s.someProp("transformPasted",m=>{d=m(d,s,A)}),d}const hF=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function fF(s,e){if(s.childCount<2)return s;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),c,u=[];if(s.forEach(d=>{if(!u)return;let A=i.findWrapping(d.type),o;if(!A)return u=null;if(o=u.length&&c.length&&cN(A,c,d,u[u.length-1],0))u[u.length-1]=o;else{u.length&&(u[u.length-1]=dN(u[u.length-1],c.length));let f=lN(d,A);u.push(f),i=i.matchType(f.type),c=A}}),u)return Ws.from(u)}return s}function lN(s,e,r=0){for(let n=e.length-1;n>=r;n--)s=e[n].create(null,Ws.from(s));return s}function cN(s,e,r,n,i){if(i<s.length&&i<e.length&&s[i]==e[i]){let c=cN(s,e,r,n.lastChild,i+1);if(c)return n.copy(n.content.replaceChild(n.childCount-1,c));if(n.contentMatchAt(n.childCount).matchType(i==s.length-1?r.type:s[i+1]))return n.copy(n.content.append(Ws.from(lN(r,s,i+1))))}}function dN(s,e){if(e==0)return s;let r=s.content.replaceChild(s.childCount-1,dN(s.lastChild,e-1)),n=s.contentMatchAt(s.childCount).fillBefore(Ws.empty,!0);return s.copy(r.append(n))}function nv(s,e,r,n,i,c){let u=e<0?s.firstChild:s.lastChild,d=u.content;return s.childCount>1&&(c=0),i<n-1&&(d=nv(d,e,r,n,i+1,c)),i>=r&&(d=e<0?u.contentMatchAt(0).fillBefore(d,c<=i).append(d):d.append(u.contentMatchAt(u.childCount).fillBefore(Ws.empty,!0))),s.replaceChild(e<0?0:s.childCount-1,u.copy(d))}function ew(s,e,r){return e<s.openStart&&(s=new Dr(nv(s.content,-1,e,s.openStart,0,s.openEnd),e,s.openEnd)),r<s.openEnd&&(s=new Dr(nv(s.content,1,r,s.openEnd,0,0),s.openStart,r)),s}const uN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let tw=null;function AN(){return tw||(tw=document.implementation.createHTMLDocument("title"))}let ob=null;function mF(s){let e=window.trustedTypes;return e?(ob||(ob=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),ob.createHTML(s)):s}function pF(s){let e=/^(\s*<meta [^>]*>)*/.exec(s);e&&(s=s.slice(e[0].length));let r=AN().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(s),i;if((i=n&&uN[n[1].toLowerCase()])&&(s=i.map(c=>"<"+c+">").join("")+s+i.map(c=>"</"+c+">").reverse().join("")),r.innerHTML=mF(s),i)for(let c=0;c<i.length;c++)r=r.querySelector(i[c])||r;return r}function gF(s){let e=s.querySelectorAll(lc?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(s.ownerDocument.createTextNode(" "),n)}}function xF(s,e){if(!s.size)return s;let r=s.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return s}let{content:i,openStart:c,openEnd:u}=s;for(let d=n.length-2;d>=0;d-=2){let A=r.nodes[n[d]];if(!A||A.hasRequiredAttrs())break;i=Ws.from(A.create(n[d+1],i)),c++,u++}return new Dr(i,c,u)}const od={},ld={},bF={touchstart:!0,touchmove:!0};class vF{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function yF(s){for(let e in od){let r=od[e];s.dom.addEventListener(e,s.input.eventHandlers[e]=n=>{jF(s,n)&&!Jv(s,n)&&(s.editable||!(n.type in ld))&&r(s,n)},bF[e]?{passive:!0}:void 0)}Vc&&s.dom.addEventListener("input",()=>null),av(s)}function jh(s,e){s.input.lastSelectionOrigin=e,s.input.lastSelectionTime=Date.now()}function wF(s){s.domObserver.stop();for(let e in s.input.eventHandlers)s.dom.removeEventListener(e,s.input.eventHandlers[e]);clearTimeout(s.input.composingTimeout),clearTimeout(s.input.lastIOSEnterFallbackTimeout)}function av(s){s.someProp("handleDOMEvents",e=>{for(let r in e)s.input.eventHandlers[r]||s.dom.addEventListener(r,s.input.eventHandlers[r]=n=>Jv(s,n))})}function Jv(s,e){return s.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(s,e)||e.defaultPrevented:!1})}function jF(s,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=s.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function NF(s,e){!Jv(s,e)&&od[e.type]&&(s.editable||!(e.type in ld))&&od[e.type](s,e)}ld.keydown=(s,e)=>{let r=e;if(s.input.shiftKey=r.keyCode==16||r.shiftKey,!fN(s,r)&&(s.input.lastKeyCode=r.keyCode,s.input.lastKeyCodeTime=Date.now(),!(FA&&lc&&r.keyCode==13)))if(r.keyCode!=229&&s.domObserver.forceFlush(),i0&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();s.input.lastIOSEnter=n,s.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{s.input.lastIOSEnter==n&&(s.someProp("handleKeyDown",i=>i(s,sf(13,"Enter"))),s.input.lastIOSEnter=0)},200)}else s.someProp("handleKeyDown",n=>n(s,r))||AF(s,r)?r.preventDefault():jh(s,"key")};ld.keyup=(s,e)=>{e.keyCode==16&&(s.input.shiftKey=!1)};ld.keypress=(s,e)=>{let r=e;if(fN(s,r)||!r.charCode||r.ctrlKey&&!r.altKey||iu&&r.metaKey)return;if(s.someProp("handleKeyPress",i=>i(s,r))){r.preventDefault();return}let n=s.state.selection;if(!(n instanceof Kn)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode),c=()=>s.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!s.someProp("handleTextInput",u=>u(s,n.$from.pos,n.$to.pos,i,c))&&s.dispatch(c()),r.preventDefault()}};function Jg(s){return{left:s.clientX,top:s.clientY}}function CF(s,e){let r=e.x-s.clientX,n=e.y-s.clientY;return r*r+n*n<100}function Zv(s,e,r,n,i){if(n==-1)return!1;let c=s.state.doc.resolve(n);for(let u=c.depth+1;u>0;u--)if(s.someProp(e,d=>u>c.depth?d(s,r,c.nodeAfter,c.before(u),i,!0):d(s,r,c.node(u),c.before(u),i,!1)))return!0;return!1}function Yf(s,e,r){if(s.focused||s.focus(),s.state.selection.eq(e))return;let n=s.state.tr.setSelection(e);n.setMeta("pointer",!0),s.dispatch(n)}function BF(s,e){if(e==-1)return!1;let r=s.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&vn.isSelectable(n)?(Yf(s,new vn(r)),!0):!1}function kF(s,e){if(e==-1)return!1;let r=s.state.selection,n,i;r instanceof vn&&(n=r.node);let c=s.state.doc.resolve(e);for(let u=c.depth+1;u>0;u--){let d=u>c.depth?c.nodeAfter:c.node(u);if(vn.isSelectable(d)){n&&r.$from.depth>0&&u>=r.$from.depth&&c.before(r.$from.depth+1)==r.$from.pos?i=c.before(r.$from.depth):i=c.before(u);break}}return i!=null?(Yf(s,vn.create(s.state.doc,i)),!0):!1}function SF(s,e,r,n,i){return Zv(s,"handleClickOn",e,r,n)||s.someProp("handleClick",c=>c(s,e,n))||(i?kF(s,r):BF(s,r))}function EF(s,e,r,n){return Zv(s,"handleDoubleClickOn",e,r,n)||s.someProp("handleDoubleClick",i=>i(s,e,n))}function TF(s,e,r,n){return Zv(s,"handleTripleClickOn",e,r,n)||s.someProp("handleTripleClick",i=>i(s,e,n))||UF(s,r,n)}function UF(s,e,r){if(r.button!=0)return!1;let n=s.state.doc;if(e==-1)return n.inlineContent?(Yf(s,Kn.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let c=i.depth+1;c>0;c--){let u=c>i.depth?i.nodeAfter:i.node(c),d=i.before(c);if(u.inlineContent)Yf(s,Kn.create(n,d+1,d+1+u.content.size));else if(vn.isSelectable(u))Yf(s,vn.create(n,d));else continue;return!0}}function qv(s){return $p(s)}const hN=iu?"metaKey":"ctrlKey";od.mousedown=(s,e)=>{let r=e;s.input.shiftKey=r.shiftKey;let n=qv(s),i=Date.now(),c="singleClick";i-s.input.lastClick.time<500&&CF(r,s.input.lastClick)&&!r[hN]&&s.input.lastClick.button==r.button&&(s.input.lastClick.type=="singleClick"?c="doubleClick":s.input.lastClick.type=="doubleClick"&&(c="tripleClick")),s.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:c,button:r.button};let u=s.posAtCoords(Jg(r));u&&(c=="singleClick"?(s.input.mouseDown&&s.input.mouseDown.done(),s.input.mouseDown=new FF(s,u,r,!!n)):(c=="doubleClick"?EF:TF)(s,u.pos,u.inside,r)?r.preventDefault():jh(s,"pointer"))};class FF{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[hN],this.allowDefault=n.shiftKey;let c,u;if(r.inside>-1)c=e.state.doc.nodeAt(r.inside),u=r.inside;else{let f=e.state.doc.resolve(r.pos);c=f.parent,u=f.depth?f.before():0}const d=i?null:n.target,A=d?e.docView.nearestDesc(d,!0):null;this.target=A&&A.nodeDOM.nodeType==1?A.nodeDOM:null;let{selection:o}=e.state;(n.button==0&&c.type.spec.draggable&&c.type.spec.selectable!==!1||o instanceof vn&&o.from<=u&&o.to>u)&&(this.mightDrag={node:c,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&uu&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),jh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>OA(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Jg(e))),this.updateAllowDefault(e),this.allowDefault||!r?jh(this.view,"pointer"):SF(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Vc&&this.mightDrag&&!this.mightDrag.node.isAtom||lc&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Yf(this.view,ha.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):jh(this.view,"pointer")}move(e){this.updateAllowDefault(e),jh(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}od.touchstart=s=>{s.input.lastTouch=Date.now(),qv(s),jh(s,"pointer")};od.touchmove=s=>{s.input.lastTouch=Date.now(),jh(s,"pointer")};od.contextmenu=s=>qv(s);function fN(s,e){return s.composing?!0:Vc&&Math.abs(e.timeStamp-s.input.compositionEndedAt)<500?(s.input.compositionEndedAt=-2e8,!0):!1}const MF=FA?5e3:-1;ld.compositionstart=ld.compositionupdate=s=>{if(!s.composing){s.domObserver.flush();let{state:e}=s,r=e.selection.$to;if(e.selection instanceof Kn&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||lc&&K5&&LF(s)))s.markCursor=s.state.storedMarks||r.marks(),$p(s,!0),s.markCursor=null;else if($p(s,!e.selection.empty),uu&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=s.domSelectionRange();for(let i=n.focusNode,c=n.focusOffset;i&&i.nodeType==1&&c!=0;){let u=c<0?i.lastChild:i.childNodes[c-1];if(!u)break;if(u.nodeType==3){let d=s.domSelection();d&&d.collapse(u,u.nodeValue.length);break}else i=u,c=-1}}s.input.composing=!0}mN(s,MF)};function LF(s){let{focusNode:e,focusOffset:r}=s.domSelectionRange();if(!e||e.nodeType!=1||r>=e.childNodes.length)return!1;let n=e.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}ld.compositionend=(s,e)=>{s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=e.timeStamp,s.input.compositionPendingChanges=s.domObserver.pendingRecords().length?s.input.compositionID:0,s.input.compositionNode=null,s.input.compositionPendingChanges&&Promise.resolve().then(()=>s.domObserver.flush()),s.input.compositionID++,mN(s,20))};function mN(s,e){clearTimeout(s.input.composingTimeout),e>-1&&(s.input.composingTimeout=setTimeout(()=>$p(s),e))}function pN(s){for(s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=IF());s.input.compositionNodes.length>0;)s.input.compositionNodes.pop().markParentsDirty()}function OF(s){let e=s.domSelectionRange();if(!e.focusNode)return null;let r=k8(e.focusNode,e.focusOffset),n=S8(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,c=s.domObserver.lastChangedTextNode;if(r==c||n==c)return c;if(!i||!i.isText(n.nodeValue))return n;if(s.input.compositionNode==n){let u=r.pmViewDesc;if(!(!u||!u.isText(r.nodeValue)))return n}}return r||n}function IF(){let s=document.createEvent("Event");return s.initEvent("event",!0,!0),s.timeStamp}function $p(s,e=!1){if(!(FA&&s.domObserver.flushingSoon>=0)){if(s.domObserver.forceFlush(),pN(s),e||s.docView&&s.docView.dirty){let r=Wv(s),n=s.state.selection;return r&&!r.eq(n)?s.dispatch(s.state.tr.setSelection(r)):(s.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?s.dispatch(s.state.tr.deleteSelection()):s.updateState(s.state),!0}return!1}}function DF(s,e){if(!s.dom.parentNode)return;let r=s.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),s.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),s.focus()},50)}const om=Ed&&kh<15||i0&&F8<604;od.copy=ld.cut=(s,e)=>{let r=e,n=s.state.selection,i=r.type=="cut";if(n.empty)return;let c=om?null:r.clipboardData,u=n.content(),{dom:d,text:A}=Xv(s,u);c?(r.preventDefault(),c.clearData(),c.setData("text/html",d.innerHTML),c.setData("text/plain",A)):DF(s,d),i&&s.dispatch(s.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function RF(s){return s.openStart==0&&s.openEnd==0&&s.content.childCount==1?s.content.firstChild:null}function QF(s,e){if(!s.dom.parentNode)return;let r=s.input.shiftKey||s.state.selection.$from.parent.type.spec.code,n=s.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=s.input.shiftKey&&s.input.lastKeyCode!=45;setTimeout(()=>{s.focus(),n.parentNode&&n.parentNode.removeChild(n),r?lm(s,n.value,null,i,e):lm(s,n.textContent,n.innerHTML,i,e)},50)}function lm(s,e,r,n,i){let c=oN(s,e,r,n,s.state.selection.$from);if(s.someProp("handlePaste",A=>A(s,i,c||Dr.empty)))return!0;if(!c)return!1;let u=RF(c),d=u?s.state.tr.replaceSelectionWith(u,n):s.state.tr.replaceSelection(c);return s.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function gN(s){let e=s.getData("text/plain")||s.getData("Text");if(e)return e;let r=s.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}ld.paste=(s,e)=>{let r=e;if(s.composing&&!FA)return;let n=om?null:r.clipboardData,i=s.input.shiftKey&&s.input.lastKeyCode!=45;n&&lm(s,gN(n),n.getData("text/html"),i,r)?r.preventDefault():QF(s,r)};class xN{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const _F=iu?"altKey":"ctrlKey";function bN(s,e){let r=s.someProp("dragCopies",n=>!n(e));return r??!e[_F]}od.dragstart=(s,e)=>{let r=e,n=s.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=s.state.selection,c=i.empty?null:s.posAtCoords(Jg(r)),u;if(!(c&&c.pos>=i.from&&c.pos<=(i instanceof vn?i.to-1:i.to))){if(n&&n.mightDrag)u=vn.create(s.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let m=s.docView.nearestDesc(r.target,!0);m&&m.node.type.spec.draggable&&m!=s.docView&&(u=vn.create(s.state.doc,m.posBefore))}}let d=(u||s.state.selection).content(),{dom:A,text:o,slice:f}=Xv(s,d);(!r.dataTransfer.files.length||!lc||V5>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(om?"Text":"text/html",A.innerHTML),r.dataTransfer.effectAllowed="copyMove",om||r.dataTransfer.setData("text/plain",o),s.dragging=new xN(f,bN(s,r),u)};od.dragend=s=>{let e=s.dragging;window.setTimeout(()=>{s.dragging==e&&(s.dragging=null)},50)};ld.dragover=ld.dragenter=(s,e)=>e.preventDefault();ld.drop=(s,e)=>{try{PF(s,e,s.dragging)}finally{s.dragging=null}};function PF(s,e,r){if(!e.dataTransfer)return;let n=s.posAtCoords(Jg(e));if(!n)return;let i=s.state.doc.resolve(n.pos),c=r&&r.slice;c?s.someProp("transformPasted",x=>{c=x(c,s,!1)}):c=oN(s,gN(e.dataTransfer),om?null:e.dataTransfer.getData("text/html"),!1,i);let u=!!(r&&bN(s,e));if(s.someProp("handleDrop",x=>x(s,e,c||Dr.empty,u))){e.preventDefault();return}if(!c)return;e.preventDefault();let d=c?j5(s.state.doc,i.pos,c):i.pos;d==null&&(d=i.pos);let A=s.state.tr;if(u){let{node:x}=r;x?x.replace(A):A.deleteSelection()}let o=A.mapping.map(d),f=c.openStart==0&&c.openEnd==0&&c.content.childCount==1,m=A.doc;if(f?A.replaceRangeWith(o,o,c.content.firstChild):A.replaceRange(o,o,c),A.doc.eq(m))return;let p=A.doc.resolve(o);if(f&&vn.isSelectable(c.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(c.content.firstChild))A.setSelection(new vn(p));else{let x=A.mapping.map(d);A.mapping.maps[A.mapping.maps.length-1].forEach((v,y,w,E)=>x=E),A.setSelection(Yv(s,p,A.doc.resolve(x)))}s.focus(),s.dispatch(A.setMeta("uiEvent","drop"))}od.focus=s=>{s.input.lastFocus=Date.now(),s.focused||(s.domObserver.stop(),s.dom.classList.add("ProseMirror-focused"),s.domObserver.start(),s.focused=!0,setTimeout(()=>{s.docView&&s.hasFocus()&&!s.domObserver.currentSelection.eq(s.domSelectionRange())&&OA(s)},20))};od.blur=(s,e)=>{let r=e;s.focused&&(s.domObserver.stop(),s.dom.classList.remove("ProseMirror-focused"),s.domObserver.start(),r.relatedTarget&&s.dom.contains(r.relatedTarget)&&s.domObserver.currentSelection.clear(),s.focused=!1)};od.beforeinput=(s,e)=>{if(lc&&FA&&e.inputType=="deleteContentBackward"){s.domObserver.flushSoon();let{domChangeCount:n}=s.input;setTimeout(()=>{if(s.input.domChangeCount!=n||(s.dom.blur(),s.focus(),s.someProp("handleKeyDown",c=>c(s,sf(8,"Backspace")))))return;let{$cursor:i}=s.state.selection;i&&i.pos>0&&s.dispatch(s.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let s in ld)od[s]=ld[s];function cm(s,e){if(s==e)return!0;for(let r in s)if(s[r]!==e[r])return!1;for(let r in e)if(!(r in s))return!1;return!0}class Gp{constructor(e,r){this.toDOM=e,this.spec=r||uf,this.side=this.spec.side||0}map(e,r,n,i){let{pos:c,deleted:u}=e.mapResult(r.from+i,this.side<0?-1:1);return u?null:new ad(c-n,c-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Gp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&cm(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Eh{constructor(e,r){this.attrs=e,this.spec=r||uf}map(e,r,n,i){let c=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,u=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return c>=u?null:new ad(c,u,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Eh&&cm(this.attrs,e.attrs)&&cm(this.spec,e.spec)}static is(e){return e.type instanceof Eh}destroy(){}}class e1{constructor(e,r){this.attrs=e,this.spec=r||uf}map(e,r,n,i){let c=e.mapResult(r.from+i,1);if(c.deleted)return null;let u=e.mapResult(r.to+i,-1);return u.deleted||u.pos<=c.pos?null:new ad(c.pos-n,u.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),c;return i==r.from&&!(c=e.child(n)).isText&&i+c.nodeSize==r.to}eq(e){return this==e||e instanceof e1&&cm(this.attrs,e.attrs)&&cm(this.spec,e.spec)}destroy(){}}class ad{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new ad(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new ad(e,e,new Gp(r,n))}static inline(e,r,n,i){return new ad(e,r,new Eh(n,i))}static node(e,r,n,i){return new ad(e,r,new e1(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Eh}get widget(){return this.type instanceof Gp}}const Vf=[],uf={};class No{constructor(e,r){this.local=e.length?e:Vf,this.children=r.length?r:Vf}static create(e,r){return r.length?Wp(r,e,0,uf):Hc}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,c){for(let u=0;u<this.local.length;u++){let d=this.local[u];d.from<=r&&d.to>=e&&(!c||c(d.spec))&&n.push(d.copy(d.from+i,d.to+i))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<r&&this.children[u+1]>e){let d=this.children[u]+1;this.children[u+2].findInner(e-d,r-d,n,i+d,c)}}map(e,r,n){return this==Hc||e.maps.length==0?this:this.mapInner(e,r,0,0,n||uf)}mapInner(e,r,n,i,c){let u;for(let d=0;d<this.local.length;d++){let A=this.local[d].map(e,n,i);A&&A.type.valid(r,A)?(u||(u=[])).push(A):c.onRemove&&c.onRemove(this.local[d].spec)}return this.children.length?HF(this.children,u||[],e,r,n,i,c):u?new No(u.sort(Af),Vf):Hc}add(e,r){return r.length?this==Hc?No.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,c=0;e.forEach((d,A)=>{let o=A+n,f;if(f=yN(r,d,o)){for(i||(i=this.children.slice());c<i.length&&i[c]<A;)c+=3;i[c]==A?i[c+2]=i[c+2].addInner(d,f,o+1):i.splice(c,0,A,A+d.nodeSize,Wp(f,d,o+1,uf)),c+=3}});let u=vN(c?wN(r):r,-n);for(let d=0;d<u.length;d++)u[d].type.valid(e,u[d])||u.splice(d--,1);return new No(u.length?this.local.concat(u).sort(Af):this.local,i||this.children)}remove(e){return e.length==0||this==Hc?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let c=0;c<n.length;c+=3){let u,d=n[c]+r,A=n[c+1]+r;for(let f=0,m;f<e.length;f++)(m=e[f])&&m.from>d&&m.to<A&&(e[f]=null,(u||(u=[])).push(m));if(!u)continue;n==this.children&&(n=this.children.slice());let o=n[c+2].removeInner(u,d+1);o!=Hc?n[c+2]=o:(n.splice(c,3),c-=3)}if(i.length){for(let c=0,u;c<e.length;c++)if(u=e[c])for(let d=0;d<i.length;d++)i[d].eq(u,r)&&(i==this.local&&(i=this.local.slice()),i.splice(d--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new No(i,n):Hc}forChild(e,r){if(this==Hc)return this;if(r.isLeaf)return No.empty;let n,i;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(n=this.children[d+2]);break}let c=e+1,u=c+r.content.size;for(let d=0;d<this.local.length;d++){let A=this.local[d];if(A.from<u&&A.to>c&&A.type instanceof Eh){let o=Math.max(c,A.from)-c,f=Math.min(u,A.to)-c;o<f&&(i||(i=[])).push(A.copy(o,f))}}if(i){let d=new No(i.sort(Af),Vf);return n?new xh([d,n]):d}return n||Hc}eq(e){if(this==e)return!0;if(!(e instanceof No)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return t1(this.localsInner(e))}localsInner(e){if(this==Hc)return Vf;if(e.inlineContent||!this.local.some(Eh.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Eh||r.push(this.local[n]);return r}forEachSet(e){e(this)}}No.empty=new No([],[]);No.removeOverlap=t1;const Hc=No.empty;class xh{constructor(e){this.members=e}map(e,r){const n=this.members.map(i=>i.map(e,r,uf));return xh.from(n)}forChild(e,r){if(r.isLeaf)return No.empty;let n=[];for(let i=0;i<this.members.length;i++){let c=this.members[i].forChild(e,r);c!=Hc&&(c instanceof xh?n=n.concat(c.members):n.push(c))}return xh.from(n)}eq(e){if(!(e instanceof xh)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let c=this.members[i].localsInner(e);if(c.length)if(!r)r=c;else{n&&(r=r.slice(),n=!1);for(let u=0;u<c.length;u++)r.push(c[u])}}return r?t1(n?r:r.sort(Af)):Vf}static from(e){switch(e.length){case 0:return Hc;case 1:return e[0];default:return new xh(e.every(r=>r instanceof No)?e:e.reduce((r,n)=>r.concat(n instanceof No?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function HF(s,e,r,n,i,c,u){let d=s.slice();for(let o=0,f=c;o<r.maps.length;o++){let m=0;r.maps[o].forEach((p,x,v,y)=>{let w=y-v-(x-p);for(let E=0;E<d.length;E+=3){let Q=d[E+1];if(Q<0||p>Q+f-m)continue;let K=d[E]+f-m;x>=K?d[E+1]=p<=K?-2:-1:p>=f&&w&&(d[E]+=w,d[E+1]+=w)}m+=w}),f=r.maps[o].map(f,-1)}let A=!1;for(let o=0;o<d.length;o+=3)if(d[o+1]<0){if(d[o+1]==-2){A=!0,d[o+1]=-1;continue}let f=r.map(s[o]+c),m=f-i;if(m<0||m>=n.content.size){A=!0;continue}let p=r.map(s[o+1]+c,-1),x=p-i,{index:v,offset:y}=n.content.findIndex(m),w=n.maybeChild(v);if(w&&y==m&&y+w.nodeSize==x){let E=d[o+2].mapInner(r,w,f+1,s[o]+c+1,u);E!=Hc?(d[o]=m,d[o+1]=x,d[o+2]=E):(d[o+1]=-2,A=!0)}else A=!0}if(A){let o=zF(d,s,e,r,i,c,u),f=Wp(o,n,0,u);e=f.local;for(let m=0;m<d.length;m+=3)d[m+1]<0&&(d.splice(m,3),m-=3);for(let m=0,p=0;m<f.children.length;m+=3){let x=f.children[m];for(;p<d.length&&d[p]<x;)p+=3;d.splice(p,0,f.children[m],f.children[m+1],f.children[m+2])}}return new No(e.sort(Af),d)}function vN(s,e){if(!e||!s.length)return s;let r=[];for(let n=0;n<s.length;n++){let i=s[n];r.push(new ad(i.from+e,i.to+e,i.type))}return r}function zF(s,e,r,n,i,c,u){function d(A,o){for(let f=0;f<A.local.length;f++){let m=A.local[f].map(n,i,o);m?r.push(m):u.onRemove&&u.onRemove(A.local[f].spec)}for(let f=0;f<A.children.length;f+=3)d(A.children[f+2],A.children[f]+o+1)}for(let A=0;A<s.length;A+=3)s[A+1]==-1&&d(s[A+2],e[A]+c+1);return r}function yN(s,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let c=0,u;c<s.length;c++)(u=s[c])&&u.from>r&&u.to<n&&((i||(i=[])).push(u),s[c]=null);return i}function wN(s){let e=[];for(let r=0;r<s.length;r++)s[r]!=null&&e.push(s[r]);return e}function Wp(s,e,r,n){let i=[],c=!1;e.forEach((d,A)=>{let o=yN(s,d,A+r);if(o){c=!0;let f=Wp(o,d,r+A+1,n);f!=Hc&&i.push(A,A+d.nodeSize,f)}});let u=vN(c?wN(s):s,-r).sort(Af);for(let d=0;d<u.length;d++)u[d].type.valid(e,u[d])||(n.onRemove&&n.onRemove(u[d].spec),u.splice(d--,1));return u.length||i.length?new No(u,i):Hc}function Af(s,e){return s.from-e.from||s.to-e.to}function t1(s){let e=s;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let c=e[i];if(c.from==n.from){c.to!=n.to&&(e==s&&(e=s.slice()),e[i]=c.copy(c.from,n.to),sw(e,i+1,c.copy(n.to,c.to)));continue}else{c.from<n.to&&(e==s&&(e=s.slice()),e[r]=n.copy(n.from,c.from),sw(e,i,n.copy(c.from,n.to)));break}}}return e}function sw(s,e,r){for(;e<s.length&&Af(r,s[e])>0;)e++;s.splice(e,0,r)}function lb(s){let e=[];return s.someProp("decorations",r=>{let n=r(s.state);n&&n!=Hc&&e.push(n)}),s.cursorWrapper&&e.push(No.create(s.state.doc,[s.cursorWrapper.deco])),xh.from(e)}const VF={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},KF=Ed&&kh<=11;class $F{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class GF{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new $F,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Ed&&kh<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),KF&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,VF)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(W2(this.view)){if(this.suppressingSelectionUpdates)return OA(this.view);if(Ed&&kh<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&xf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let c=e.focusNode;c;c=a0(c))r.add(c);for(let c=e.anchorNode;c;c=a0(c))if(r.has(c)){n=c;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&W2(e)&&!this.ignoreSelectionChange(n),c=-1,u=-1,d=!1,A=[];if(e.editable)for(let f=0;f<r.length;f++){let m=this.registerMutation(r[f],A);m&&(c=c<0?m.from:Math.min(m.from,c),u=u<0?m.to:Math.max(m.to,u),m.typeOver&&(d=!0))}if(uu&&A.length){let f=A.filter(m=>m.nodeName=="BR");if(f.length==2){let[m,p]=f;m.parentNode&&m.parentNode.parentNode==p.parentNode?p.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let p of f){let x=p.parentNode;x&&x.nodeName=="LI"&&(!m||XF(e,m)!=x)&&p.remove()}}}else if((lc||Vc)&&A.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of A)if(f.nodeName=="BR"&&f.parentNode){let m=f.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&f.parentNode.removeChild(f)}}let o=null;c<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Yg(n)&&(o=Wv(e))&&o.eq(ha.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,OA(e),this.currentSelection.set(n),e.scrollToSelection()):(c>-1||i)&&(c>-1&&(e.docView.markDirty(c,u),WF(e)),this.handleDOMChange(c,u,d,A),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||OA(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let m=e.addedNodes[f];r.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,c=e.nextSibling;if(Ed&&kh<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:m,nextSibling:p}=e.addedNodes[f];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(c=p)}let u=i&&i.parentNode==e.target?Bc(i)+1:0,d=n.localPosFromDOM(e.target,u,-1),A=c&&c.parentNode==e.target?Bc(c):e.target.childNodes.length,o=n.localPosFromDOM(e.target,A,1);return{from:d,to:o}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let rw=new WeakMap,nw=!1;function WF(s){if(!rw.has(s)&&(rw.set(s,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(s.dom).whiteSpace)!==-1)){if(s.requiresGeckoHackNode=uu,nw)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),nw=!0}}function aw(s,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,c=e.endOffset,u=s.domAtPos(s.state.selection.anchor);return xf(u.node,u.offset,i,c)&&([r,n,i,c]=[i,c,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:c}}function YF(s,e){if(e.getComposedRanges){let i=e.getComposedRanges(s.root)[0];if(i)return aw(s,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return s.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),s.dom.removeEventListener("beforeinput",n,!0),r?aw(s,r):null}function XF(s,e){for(let r=e.parentNode;r&&r!=s.dom;r=r.parentNode){let n=s.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function JF(s,e,r){let{node:n,fromOffset:i,toOffset:c,from:u,to:d}=s.docView.parseRange(e,r),A=s.domSelectionRange(),o,f=A.anchorNode;if(f&&s.dom.contains(f.nodeType==1?f:f.parentNode)&&(o=[{node:f,offset:A.anchorOffset}],Yg(A)||o.push({node:A.focusNode,offset:A.focusOffset})),lc&&s.input.lastKeyCode===8)for(let w=c;w>i;w--){let E=n.childNodes[w-1],Q=E.pmViewDesc;if(E.nodeName=="BR"&&!Q){c=w;break}if(!Q||Q.size)break}let m=s.state.doc,p=s.someProp("domParser")||V0.fromSchema(s.state.schema),x=m.resolve(u),v=null,y=p.parse(n,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:i,to:c,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:o,ruleFromNode:ZF,context:x});if(o&&o[0].pos!=null){let w=o[0].pos,E=o[1]&&o[1].pos;E==null&&(E=w),v={anchor:w+u,head:E+u}}return{doc:y,sel:v,from:u,to:d}}function ZF(s){let e=s.pmViewDesc;if(e)return e.parseRule();if(s.nodeName=="BR"&&s.parentNode){if(Vc&&/^(ul|ol)$/i.test(s.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(s.parentNode.lastChild==s||Vc&&/^(tr|table)$/i.test(s.parentNode.nodeName))return{ignore:!0}}else if(s.nodeName=="IMG"&&s.getAttribute("mark-placeholder"))return{ignore:!0};return null}const qF=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function eM(s,e,r,n,i){let c=s.input.compositionPendingChanges||(s.composing?s.input.compositionID:0);if(s.input.compositionPendingChanges=0,e<0){let G=s.input.lastSelectionTime>Date.now()-50?s.input.lastSelectionOrigin:null,ce=Wv(s,G);if(ce&&!s.state.selection.eq(ce)){if(lc&&FA&&s.input.lastKeyCode===13&&Date.now()-100<s.input.lastKeyCodeTime&&s.someProp("handleKeyDown",Ne=>Ne(s,sf(13,"Enter"))))return;let Ae=s.state.tr.setSelection(ce);G=="pointer"?Ae.setMeta("pointer",!0):G=="key"&&Ae.scrollIntoView(),c&&Ae.setMeta("composition",c),s.dispatch(Ae)}return}let u=s.state.doc.resolve(e),d=u.sharedDepth(r);e=u.before(d+1),r=s.state.doc.resolve(r).after(d+1);let A=s.state.selection,o=JF(s,e,r),f=s.state.doc,m=f.slice(o.from,o.to),p,x;s.input.lastKeyCode===8&&Date.now()-100<s.input.lastKeyCodeTime?(p=s.state.selection.to,x="end"):(p=s.state.selection.from,x="start"),s.input.lastKeyCode=null;let v=rM(m.content,o.doc.content,o.from,p,x);if(v&&s.input.domChangeCount++,(i0&&s.input.lastIOSEnter>Date.now()-225||FA)&&i.some(G=>G.nodeType==1&&!qF.test(G.nodeName))&&(!v||v.endA>=v.endB)&&s.someProp("handleKeyDown",G=>G(s,sf(13,"Enter")))){s.input.lastIOSEnter=0;return}if(!v)if(n&&A instanceof Kn&&!A.empty&&A.$head.sameParent(A.$anchor)&&!s.composing&&!(o.sel&&o.sel.anchor!=o.sel.head))v={start:A.from,endA:A.to,endB:A.to};else{if(o.sel){let G=iw(s,s.state.doc,o.sel);if(G&&!G.eq(s.state.selection)){let ce=s.state.tr.setSelection(G);c&&ce.setMeta("composition",c),s.dispatch(ce)}}return}s.state.selection.from<s.state.selection.to&&v.start==v.endB&&s.state.selection instanceof Kn&&(v.start>s.state.selection.from&&v.start<=s.state.selection.from+2&&s.state.selection.from>=o.from?v.start=s.state.selection.from:v.endA<s.state.selection.to&&v.endA>=s.state.selection.to-2&&s.state.selection.to<=o.to&&(v.endB+=s.state.selection.to-v.endA,v.endA=s.state.selection.to)),Ed&&kh<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>o.from&&o.doc.textBetween(v.start-o.from-1,v.start-o.from+1)==" "&&(v.start--,v.endA--,v.endB--);let y=o.doc.resolveNoCache(v.start-o.from),w=o.doc.resolveNoCache(v.endB-o.from),E=f.resolve(v.start),Q=y.sameParent(w)&&y.parent.inlineContent&&E.end()>=v.endA;if((i0&&s.input.lastIOSEnter>Date.now()-225&&(!Q||i.some(G=>G.nodeName=="DIV"||G.nodeName=="P"))||!Q&&y.pos<o.doc.content.size&&(!y.sameParent(w)||!y.parent.inlineContent)&&y.pos<w.pos&&!/\S/.test(o.doc.textBetween(y.pos,w.pos,"","")))&&s.someProp("handleKeyDown",G=>G(s,sf(13,"Enter")))){s.input.lastIOSEnter=0;return}if(s.state.selection.anchor>v.start&&sM(f,v.start,v.endA,y,w)&&s.someProp("handleKeyDown",G=>G(s,sf(8,"Backspace")))){FA&&lc&&s.domObserver.suppressSelectionUpdates();return}lc&&v.endB==v.start&&(s.input.lastChromeDelete=Date.now()),FA&&!Q&&y.start()!=w.start()&&w.parentOffset==0&&y.depth==w.depth&&o.sel&&o.sel.anchor==o.sel.head&&o.sel.head==v.endA&&(v.endB-=2,w=o.doc.resolveNoCache(v.endB-o.from),setTimeout(()=>{s.someProp("handleKeyDown",function(G){return G(s,sf(13,"Enter"))})},20));let K=v.start,Z=v.endA,J=G=>{let ce=G||s.state.tr.replace(K,Z,o.doc.slice(v.start-o.from,v.endB-o.from));if(o.sel){let Ae=iw(s,ce.doc,o.sel);Ae&&!(lc&&s.composing&&Ae.empty&&(v.start!=v.endB||s.input.lastChromeDelete<Date.now()-100)&&(Ae.head==K||Ae.head==ce.mapping.map(Z)-1)||Ed&&Ae.empty&&Ae.head==K)&&ce.setSelection(Ae)}return c&&ce.setMeta("composition",c),ce.scrollIntoView()},H;if(Q)if(y.pos==w.pos){Ed&&kh<=11&&y.parentOffset==0&&(s.domObserver.suppressSelectionUpdates(),setTimeout(()=>OA(s),20));let G=J(s.state.tr.delete(K,Z)),ce=f.resolve(v.start).marksAcross(f.resolve(v.endA));ce&&G.ensureMarks(ce),s.dispatch(G)}else if(v.endA==v.endB&&(H=tM(y.parent.content.cut(y.parentOffset,w.parentOffset),E.parent.content.cut(E.parentOffset,v.endA-E.start())))){let G=J(s.state.tr);H.type=="add"?G.addMark(K,Z,H.mark):G.removeMark(K,Z,H.mark),s.dispatch(G)}else if(y.parent.child(y.index()).isText&&y.index()==w.index()-(w.textOffset?0:1)){let G=y.parent.textBetween(y.parentOffset,w.parentOffset),ce=()=>J(s.state.tr.insertText(G,K,Z));s.someProp("handleTextInput",Ae=>Ae(s,K,Z,G,ce))||s.dispatch(ce())}else s.dispatch(J());else s.dispatch(J())}function iw(s,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Yv(s,e.resolve(r.anchor),e.resolve(r.head))}function tM(s,e){let r=s.firstChild.marks,n=e.firstChild.marks,i=r,c=n,u,d,A;for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);for(let f=0;f<r.length;f++)c=r[f].removeFromSet(c);if(i.length==1&&c.length==0)d=i[0],u="add",A=f=>f.mark(d.addToSet(f.marks));else if(i.length==0&&c.length==1)d=c[0],u="remove",A=f=>f.mark(d.removeFromSet(f.marks));else return null;let o=[];for(let f=0;f<e.childCount;f++)o.push(A(e.child(f)));if(Ws.from(o).eq(s))return{mark:d,type:u}}function sM(s,e,r,n,i){if(r-e<=i.pos-n.pos||cb(n,!0,!1)<i.pos)return!1;let c=s.resolve(e);if(!n.parent.isTextblock){let d=c.nodeAfter;return d!=null&&r==e+d.nodeSize}if(c.parentOffset<c.parent.content.size||!c.parent.isTextblock)return!1;let u=s.resolve(cb(c,!0,!0));return!u.parent.isTextblock||u.pos>r||cb(u,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(u.parent.content)}function cb(s,e,r){let n=s.depth,i=e?s.end():s.pos;for(;n>0&&(e||s.indexAfter(n)==s.node(n).childCount);)n--,i++,e=!1;if(r){let c=s.node(n).maybeChild(s.indexAfter(n));for(;c&&!c.isLeaf;)c=c.firstChild,i++}return i}function rM(s,e,r,n,i){let c=s.findDiffStart(e,r);if(c==null)return null;let{a:u,b:d}=s.findDiffEnd(e,r+s.size,r+e.size);if(i=="end"){let A=Math.max(0,c-Math.min(u,d));n-=u+A-c}if(u<c&&s.size<e.size){let A=n<=c&&n>=u?c-n:0;c-=A,c&&c<e.size&&ow(e.textBetween(c-1,c+1))&&(c+=A?1:-1),d=c+(d-u),u=c}else if(d<c){let A=n<=c&&n>=d?c-n:0;c-=A,c&&c<s.size&&ow(s.textBetween(c-1,c+1))&&(c+=A?1:-1),u=c+(u-d),d=c}return{start:c,endA:u,endB:d}}function ow(s){if(s.length!=2)return!1;let e=s.charCodeAt(0),r=s.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class jN{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new vF,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(Aw),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=dw(this),cw(this),this.nodeViews=uw(this),this.docView=H2(this.state.doc,lw(this),lb(this),this.dom,this),this.domObserver=new GF(this,(n,i,c,u)=>eM(this,n,i,c,u)),this.domObserver.start(),yF(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&av(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Aw),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,c=!1,u=!1;e.storedMarks&&this.composing&&(pN(this),u=!0),this.state=e;let d=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(d||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let x=uw(this);aM(x,this.nodeViews)&&(this.nodeViews=x,c=!0)}(d||r.handleDOMEvents!=this._props.handleDOMEvents)&&av(this),this.editable=dw(this),cw(this);let A=lb(this),o=lw(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=c||!this.docView.matchesNode(e.doc,o,A);(m||!e.selection.eq(i.selection))&&(u=!0);let p=f=="preserve"&&u&&this.dom.style.overflowAnchor==null&&O8(this);if(u){this.domObserver.stop();let x=m&&(Ed||lc)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&nM(i.selection,e.selection);if(m){let v=lc?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=OF(this)),(c||!this.docView.update(e.doc,o,A,this))&&(this.docView.updateOuterDeco(o),this.docView.destroy(),this.docView=H2(e.doc,o,A,this.dom,this)),v&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&aF(this))?OA(this,x):(nN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&I8(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof vn){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&I2(this,r.getBoundingClientRect(),e)}else I2(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let c=n.from+(this.state.doc.content.size-r.doc.content.size);(c>0&&this.state.doc.nodeAt(c))==n.node&&(i=c)}this.dragging=new xN(e.slice,e.move,i<0?void 0:vn.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let u=0;u<this.directPlugins.length;u++){let d=this.directPlugins[u].props[e];if(d!=null&&(i=r?r(d):d))return i}let c=this.state.plugins;if(c)for(let u=0;u<c.length;u++){let d=c[u].props[e];if(d!=null&&(i=r?r(d):d))return i}}hasFocus(){if(Ed){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&D8(this.dom),OA(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return H8(this,e)}coordsAtPos(e,r=1){return X5(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return G8(this,r||this.state,e)}pasteHTML(e,r){return lm(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return lm(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return Xv(this,e)}destroy(){this.docView&&(wF(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],lb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,C8())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return NF(this,e)}domSelectionRange(){let e=this.domSelection();return e?Vc&&this.root.nodeType===11&&T8(this.dom.ownerDocument)==this.dom&&YF(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}jN.prototype.dispatch=function(s){let e=this._props.dispatchTransaction;e?e.call(this,s):this.updateState(this.state.apply(s))};function lw(s){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(s.editable),s.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(s.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[ad.node(0,s.state.doc.content.size,e)]}function cw(s){if(s.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),s.cursorWrapper={dom:e,deco:ad.widget(s.state.selection.from,e,{raw:!0,marks:s.markCursor})}}else s.cursorWrapper=null}function dw(s){return!s.someProp("editable",e=>e(s.state)===!1)}function nM(s,e){let r=Math.min(s.$anchor.sharedDepth(s.head),e.$anchor.sharedDepth(e.head));return s.$anchor.start(r)!=e.$anchor.start(r)}function uw(s){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return s.someProp("nodeViews",r),s.someProp("markViews",r),e}function aM(s,e){let r=0,n=0;for(let i in s){if(s[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function Aw(s){if(s.spec.state||s.spec.filterTransaction||s.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Uh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Yp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},iM=typeof navigator<"u"&&/Mac/.test(navigator.platform),oM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var kc=0;kc<10;kc++)Uh[48+kc]=Uh[96+kc]=String(kc);for(var kc=1;kc<=24;kc++)Uh[kc+111]="F"+kc;for(var kc=65;kc<=90;kc++)Uh[kc]=String.fromCharCode(kc+32),Yp[kc]=String.fromCharCode(kc);for(var db in Uh)Yp.hasOwnProperty(db)||(Yp[db]=Uh[db]);function lM(s){var e=iM&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||oM&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",r=!e&&s.key||(s.shiftKey?Yp:Uh)[s.keyCode]||s.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const cM=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),dM=typeof navigator<"u"&&/Win/.test(navigator.platform);function uM(s){let e=s.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,c,u;for(let d=0;d<e.length-1;d++){let A=e[d];if(/^(cmd|meta|m)$/i.test(A))u=!0;else if(/^a(lt)?$/i.test(A))n=!0;else if(/^(c|ctrl|control)$/i.test(A))i=!0;else if(/^s(hift)?$/i.test(A))c=!0;else if(/^mod$/i.test(A))cM?u=!0:i=!0;else throw new Error("Unrecognized modifier name: "+A)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),u&&(r="Meta-"+r),c&&(r="Shift-"+r),r}function AM(s){let e=Object.create(null);for(let r in s)e[uM(r)]=s[r];return e}function ub(s,e,r=!0){return e.altKey&&(s="Alt-"+s),e.ctrlKey&&(s="Ctrl-"+s),e.metaKey&&(s="Meta-"+s),r&&e.shiftKey&&(s="Shift-"+s),s}function hM(s){return new So({props:{handleKeyDown:NN(s)}})}function NN(s){let e=AM(s);return function(r,n){let i=lM(n),c,u=e[ub(i,n)];if(u&&u(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let d=e[ub(i,n,!1)];if(d&&d(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(dM&&n.ctrlKey&&n.altKey)&&(c=Uh[n.keyCode])&&c!=i){let d=e[ub(c,n)];if(d&&d(r.state,r.dispatch,r))return!0}}return!1}}var fM=Object.defineProperty,s1=(s,e)=>{for(var r in e)fM(s,r,{get:e[r],enumerable:!0})};function Zg(s){const{state:e,transaction:r}=s;let{selection:n}=r,{doc:i}=r,{storedMarks:c}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return c},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,c=r.storedMarks,r}}}var qg=class{constructor(s){this.editor=s.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=s.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:s,editor:e,state:r}=this,{view:n}=e,{tr:i}=r,c=this.buildProps(i);return Object.fromEntries(Object.entries(s).map(([u,d])=>[u,(...o)=>{const f=d(...o)(c);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(s,e=!0){const{rawCommands:r,editor:n,state:i}=this,{view:c}=n,u=[],d=!!s,A=s||i.tr,o=()=>(!d&&e&&!A.getMeta("preventDispatch")&&!this.hasCustomState&&c.dispatch(A),u.every(m=>m===!0)),f={...Object.fromEntries(Object.entries(r).map(([m,p])=>[m,(...v)=>{const y=this.buildProps(A,e),w=p(...v)(y);return u.push(w),f}])),run:o};return f}createCan(s){const{rawCommands:e,state:r}=this,n=!1,i=s||r.tr,c=this.buildProps(i,n);return{...Object.fromEntries(Object.entries(e).map(([d,A])=>[d,(...o)=>A(...o)({...c,dispatch:void 0})])),chain:()=>this.createChain(i,n)}}buildProps(s,e=!0){const{rawCommands:r,editor:n,state:i}=this,{view:c}=n,u={tr:s,editor:n,view:c,state:Zg({state:i,transaction:s}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(s,e),can:()=>this.createCan(s),get commands(){return Object.fromEntries(Object.entries(r).map(([d,A])=>[d,(...o)=>A(...o)(u)]))}};return u}},CN={};s1(CN,{blur:()=>mM,clearContent:()=>pM,clearNodes:()=>gM,command:()=>xM,createParagraphNear:()=>bM,cut:()=>vM,deleteCurrentNode:()=>yM,deleteNode:()=>wM,deleteRange:()=>jM,deleteSelection:()=>NM,enter:()=>CM,exitCode:()=>BM,extendMarkRange:()=>kM,first:()=>SM,focus:()=>TM,forEach:()=>UM,insertContent:()=>FM,insertContentAt:()=>OM,joinBackward:()=>RM,joinDown:()=>DM,joinForward:()=>QM,joinItemBackward:()=>_M,joinItemForward:()=>PM,joinTextblockBackward:()=>HM,joinTextblockForward:()=>zM,joinUp:()=>IM,keyboardShortcut:()=>KM,lift:()=>$M,liftEmptyBlock:()=>GM,liftListItem:()=>WM,newlineInCode:()=>YM,resetAttributes:()=>XM,scrollIntoView:()=>JM,selectAll:()=>ZM,selectNodeBackward:()=>qM,selectNodeForward:()=>eL,selectParentNode:()=>tL,selectTextblockEnd:()=>sL,selectTextblockStart:()=>rL,setContent:()=>nL,setMark:()=>NL,setMeta:()=>CL,setNode:()=>BL,setNodeSelection:()=>kL,setTextDirection:()=>SL,setTextSelection:()=>EL,sinkListItem:()=>TL,splitBlock:()=>UL,splitListItem:()=>FL,toggleList:()=>ML,toggleMark:()=>LL,toggleNode:()=>OL,toggleWrap:()=>IL,undoInputRule:()=>DL,unsetAllMarks:()=>RL,unsetMark:()=>QL,unsetTextDirection:()=>_L,updateAttributes:()=>PL,wrapIn:()=>HL,wrapInList:()=>zL});var mM=()=>({editor:s,view:e})=>(requestAnimationFrame(()=>{var r;s.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),pM=(s=!0)=>({commands:e})=>e.setContent("",{emitUpdate:s}),gM=()=>({state:s,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:i}=n;return r&&i.forEach(({$from:c,$to:u})=>{s.doc.nodesBetween(c.pos,u.pos,(d,A)=>{if(d.type.isText)return;const{doc:o,mapping:f}=e,m=o.resolve(f.map(A)),p=o.resolve(f.map(A+d.nodeSize)),x=m.blockRange(p);if(!x)return;const v=m0(x);if(d.type.isTextblock){const{defaultType:y}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(x.start,y)}(v||v===0)&&e.lift(x,v)})}),!0},xM=s=>e=>s(e),bM=()=>({state:s,dispatch:e})=>Q5(s,e),vM=(s,e)=>({editor:r,tr:n})=>{const{state:i}=r,c=i.doc.slice(s.from,s.to);n.deleteRange(s.from,s.to);const u=n.mapping.map(e);return n.insert(u,c.content),n.setSelection(new Kn(n.doc.resolve(Math.max(u-1,0)))),!0},yM=()=>({tr:s,dispatch:e})=>{const{selection:r}=s,n=r.$anchor.node();if(n.content.size>0)return!1;const i=s.selection.$anchor;for(let c=i.depth;c>0;c-=1)if(i.node(c).type===n.type){if(e){const d=i.before(c),A=i.after(c);s.delete(d,A).scrollIntoView()}return!0}return!1};function Sl(s,e){if(typeof s=="string"){if(!e.nodes[s])throw Error(`There is no node type named '${s}'. Maybe you forgot to add the extension?`);return e.nodes[s]}return s}var wM=s=>({tr:e,state:r,dispatch:n})=>{const i=Sl(s,r.schema),c=e.selection.$anchor;for(let u=c.depth;u>0;u-=1)if(c.node(u).type===i){if(n){const A=c.before(u),o=c.after(u);e.delete(A,o).scrollIntoView()}return!0}return!1},jM=s=>({tr:e,dispatch:r})=>{const{from:n,to:i}=s;return r&&e.delete(n,i),!0},NM=()=>({state:s,dispatch:e})=>Hv(s,e),CM=()=>({commands:s})=>s.keyboardShortcut("Enter"),BM=()=>({state:s,dispatch:e})=>d8(s,e);function r1(s){return Object.prototype.toString.call(s)==="[object RegExp]"}function Xp(s,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(i=>r.strict?e[i]===s[i]:r1(e[i])?e[i].test(s[i]):e[i]===s[i]):!0}function BN(s,e,r={}){return s.find(n=>n.type===e&&Xp(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}function hw(s,e,r={}){return!!BN(s,e,r)}function n1(s,e,r){var n;if(!s||!e)return;let i=s.parent.childAfter(s.parentOffset);if((!i.node||!i.node.marks.some(f=>f.type===e))&&(i=s.parent.childBefore(s.parentOffset)),!i.node||!i.node.marks.some(f=>f.type===e)||(r=r||((n=i.node.marks[0])==null?void 0:n.attrs),!BN([...i.node.marks],e,r)))return;let u=i.index,d=s.start()+i.offset,A=u+1,o=d+i.node.nodeSize;for(;u>0&&hw([...s.parent.child(u-1).marks],e,r);)u-=1,d-=s.parent.child(u).nodeSize;for(;A<s.parent.childCount&&hw([...s.parent.child(A).marks],e,r);)o+=s.parent.child(A).nodeSize,A+=1;return{from:d,to:o}}function DA(s,e){if(typeof s=="string"){if(!e.marks[s])throw Error(`There is no mark type named '${s}'. Maybe you forgot to add the extension?`);return e.marks[s]}return s}var kM=(s,e={})=>({tr:r,state:n,dispatch:i})=>{const c=DA(s,n.schema),{doc:u,selection:d}=r,{$from:A,from:o,to:f}=d;if(i){const m=n1(A,c,e);if(m&&m.from<=o&&m.to>=f){const p=Kn.create(u,m.from,m.to);r.setSelection(p)}}return!0},SM=s=>e=>{const r=typeof s=="function"?s(e):s;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function kN(s){return s instanceof Kn}function af(s=0,e=0,r=0){return Math.min(Math.max(s,e),r)}function SN(s,e=null){if(!e)return null;const r=ha.atStart(s),n=ha.atEnd(s);if(e==="start"||e===!0)return r;if(e==="end")return n;const i=r.from,c=n.to;return e==="all"?Kn.create(s,af(0,i,c),af(s.content.size,i,c)):Kn.create(s,af(e,i,c),af(e,i,c))}function EM(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function a1(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var TM=(s=null,e={})=>({editor:r,view:n,tr:i,dispatch:c})=>{e={scrollIntoView:!0,...e};const u=()=>{(a1()||EM())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&s===null||s===!1)return!0;if(c&&s===null&&!kN(r.state.selection))return u(),!0;const d=SN(i.doc,s)||r.state.selection,A=r.state.selection.eq(d);return c&&(A||i.setSelection(d),A&&i.storedMarks&&i.setStoredMarks(i.storedMarks),u()),!0},UM=(s,e)=>r=>s.every((n,i)=>e(n,{...r,index:i})),FM=(s,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},s,e),EN=s=>{const e=s.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?s.removeChild(n):n.nodeType===1&&EN(n)}return s};function Jm(s){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${s}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return EN(r)}function dm(s,e,r){if(s instanceof Bh||s instanceof Ws)return s;r={slice:!0,parseOptions:{},...r};const n=typeof s=="object"&&s!==null,i=typeof s=="string";if(n)try{if(Array.isArray(s)&&s.length>0)return Ws.fromArray(s.map(d=>e.nodeFromJSON(d)));const u=e.nodeFromJSON(s);return r.errorOnInvalidContent&&u.check(),u}catch(c){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:c});return console.warn("[tiptap warn]: Invalid content.","Passed value:",s,"Error:",c),dm("",e,r)}if(i){if(r.errorOnInvalidContent){let u=!1,d="";const A=new A5({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:o=>(u=!0,d=typeof o=="string"?o:o.outerHTML,null)}]}})});if(r.slice?V0.fromSchema(A).parseSlice(Jm(s),r.parseOptions):V0.fromSchema(A).parse(Jm(s),r.parseOptions),r.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const c=V0.fromSchema(e);return r.slice?c.parseSlice(Jm(s),r.parseOptions).content:c.parse(Jm(s),r.parseOptions)}return dm("",e,r)}function MM(s,e,r){const n=s.steps.length-1;if(n<e)return;const i=s.steps[n];if(!(i instanceof oc||i instanceof cc))return;const c=s.mapping.maps[n];let u=0;c.forEach((d,A,o,f)=>{u===0&&(u=f)}),s.setSelection(ha.near(s.doc.resolve(u),r))}var LM=s=>!("type"in s),OM=(s,e,r)=>({tr:n,dispatch:i,editor:c})=>{var u;if(i){r={parseOptions:c.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let d;const A=w=>{c.emit("contentError",{editor:c,error:w,disableCollaboration:()=>{"collaboration"in c.storage&&typeof c.storage.collaboration=="object"&&c.storage.collaboration&&(c.storage.collaboration.isDisabled=!0)}})},o={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!c.options.enableContentCheck&&c.options.emitContentError)try{dm(e,c.schema,{parseOptions:o,errorOnInvalidContent:!0})}catch(w){A(w)}try{d=dm(e,c.schema,{parseOptions:o,errorOnInvalidContent:(u=r.errorOnInvalidContent)!=null?u:c.options.enableContentCheck})}catch(w){return A(w),!1}let{from:f,to:m}=typeof s=="number"?{from:s,to:s}:{from:s.from,to:s.to},p=!0,x=!0;if((LM(d)?d:[d]).forEach(w=>{w.check(),p=p?w.isText&&w.marks.length===0:!1,x=x?w.isBlock:!1}),f===m&&x){const{parent:w}=n.doc.resolve(f);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(f-=1,m+=1)}let y;if(p){if(Array.isArray(e))y=e.map(w=>w.text||"").join("");else if(e instanceof Ws){let w="";e.forEach(E=>{E.text&&(w+=E.text)}),y=w}else typeof e=="object"&&e&&e.text?y=e.text:y=e;n.insertText(y,f,m)}else{y=d;const w=n.doc.resolve(f),E=w.node(),Q=w.parentOffset===0,K=E.isText||E.isTextblock,Z=E.content.size>0;Q&&K&&Z&&(f=Math.max(0,f-1)),n.replaceWith(f,m,y)}r.updateSelection&&MM(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:y}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:y})}return!0},IM=()=>({state:s,dispatch:e})=>o8(s,e),DM=()=>({state:s,dispatch:e})=>l8(s,e),RM=()=>({state:s,dispatch:e})=>F5(s,e),QM=()=>({state:s,dispatch:e})=>I5(s,e),_M=()=>({state:s,dispatch:e,tr:r})=>{try{const n=$g(s.doc,s.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},PM=()=>({state:s,dispatch:e,tr:r})=>{try{const n=$g(s.doc,s.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},HM=()=>({state:s,dispatch:e})=>a8(s,e),zM=()=>({state:s,dispatch:e})=>i8(s,e);function TN(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function VM(s){const e=s.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,i,c,u;for(let d=0;d<e.length-1;d+=1){const A=e[d];if(/^(cmd|meta|m)$/i.test(A))u=!0;else if(/^a(lt)?$/i.test(A))n=!0;else if(/^(c|ctrl|control)$/i.test(A))i=!0;else if(/^s(hift)?$/i.test(A))c=!0;else if(/^mod$/i.test(A))a1()||TN()?u=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${A}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),u&&(r=`Meta-${r}`),c&&(r=`Shift-${r}`),r}var KM=s=>({editor:e,view:r,tr:n,dispatch:i})=>{const c=VM(s).split(/-(?!$)/),u=c.find(o=>!["Alt","Ctrl","Meta","Shift"].includes(o)),d=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:c.includes("Alt"),ctrlKey:c.includes("Ctrl"),metaKey:c.includes("Meta"),shiftKey:c.includes("Shift"),bubbles:!0,cancelable:!0}),A=e.captureTransaction(()=>{r.someProp("handleKeyDown",o=>o(r,d))});return A==null||A.steps.forEach(o=>{const f=o.map(n.mapping);f&&i&&n.maybeStep(f)}),!0};function Fh(s,e,r={}){const{from:n,to:i,empty:c}=s.selection,u=e?Sl(e,s.schema):null,d=[];s.doc.nodesBetween(n,i,(m,p)=>{if(m.isText)return;const x=Math.max(n,p),v=Math.min(i,p+m.nodeSize);d.push({node:m,from:x,to:v})});const A=i-n,o=d.filter(m=>u?u.name===m.node.type.name:!0).filter(m=>Xp(m.node.attrs,r,{strict:!1}));return c?!!o.length:o.reduce((m,p)=>m+p.to-p.from,0)>=A}var $M=(s,e={})=>({state:r,dispatch:n})=>{const i=Sl(s,r.schema);return Fh(r,i,e)?c8(r,n):!1},GM=()=>({state:s,dispatch:e})=>_5(s,e),WM=s=>({state:e,dispatch:r})=>{const n=Sl(s,e.schema);return y8(n)(e,r)},YM=()=>({state:s,dispatch:e})=>R5(s,e);function ex(s,e){return e.nodes[s]?"node":e.marks[s]?"mark":null}function fw(s,e){const r=typeof e=="string"?[e]:e;return Object.keys(s).reduce((n,i)=>(r.includes(i)||(n[i]=s[i]),n),{})}var XM=(s,e)=>({tr:r,state:n,dispatch:i})=>{let c=null,u=null;const d=ex(typeof s=="string"?s:s.name,n.schema);if(!d)return!1;d==="node"&&(c=Sl(s,n.schema)),d==="mark"&&(u=DA(s,n.schema));let A=!1;return r.selection.ranges.forEach(o=>{n.doc.nodesBetween(o.$from.pos,o.$to.pos,(f,m)=>{c&&c===f.type&&(A=!0,i&&r.setNodeMarkup(m,void 0,fw(f.attrs,e))),u&&f.marks.length&&f.marks.forEach(p=>{u===p.type&&(A=!0,i&&r.addMark(m,m+f.nodeSize,u.create(fw(p.attrs,e))))})})}),A},JM=()=>({tr:s,dispatch:e})=>(e&&s.scrollIntoView(),!0),ZM=()=>({tr:s,dispatch:e})=>{if(e){const r=new $d(s.doc);s.setSelection(r)}return!0},qM=()=>({state:s,dispatch:e})=>L5(s,e),eL=()=>({state:s,dispatch:e})=>D5(s,e),tL=()=>({state:s,dispatch:e})=>h8(s,e),sL=()=>({state:s,dispatch:e})=>p8(s,e),rL=()=>({state:s,dispatch:e})=>m8(s,e);function iv(s,e,r={},n={}){return dm(s,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var nL=(s,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:i,tr:c,dispatch:u,commands:d})=>{const{doc:A}=c;if(n.preserveWhitespace!=="full"){const o=iv(s,i.schema,n,{errorOnInvalidContent:e??i.options.enableContentCheck});return u&&c.replaceWith(0,A.content.size,o).setMeta("preventUpdate",!r),!0}return u&&c.setMeta("preventUpdate",!r),d.insertContentAt({from:0,to:A.content.size},s,{parseOptions:n,errorOnInvalidContent:e??i.options.enableContentCheck})};function UN(s,e){const r=DA(e,s.schema),{from:n,to:i,empty:c}=s.selection,u=[];c?(s.storedMarks&&u.push(...s.storedMarks),u.push(...s.selection.$head.marks())):s.doc.nodesBetween(n,i,A=>{u.push(...A.marks)});const d=u.find(A=>A.type.name===r.name);return d?{...d.attrs}:{}}function FN(s,e){const r=new S5(s);return e.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}function aL(s){for(let e=0;e<s.edgeCount;e+=1){const{type:r}=s.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function iL(s,e,r){const n=[];return s.nodesBetween(e.from,e.to,(i,c)=>{r(i)&&n.push({node:i,pos:c})}),n}function oL(s,e){for(let r=s.depth;r>0;r-=1){const n=s.node(r);if(e(n))return{pos:r>0?s.before(r):0,start:s.start(r),depth:r,node:n}}}function tx(s){return e=>oL(e.$from,s)}function gn(s,e,r){return s.config[e]===void 0&&s.parent?gn(s.parent,e,r):typeof s.config[e]=="function"?s.config[e].bind({...r,parent:s.parent?gn(s.parent,e,r):null}):s.config[e]}function i1(s){return s.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=gn(e,"addExtensions",r);return n?[e,...i1(n())]:e}).flat(10)}function o1(s,e){const r=wf.fromSchema(e).serializeFragment(s),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}function MN(s){return typeof s=="function"}function wi(s,e=void 0,...r){return MN(s)?e?s.bind(e)(...r):s(...r):s}function lL(s={}){return Object.keys(s).length===0&&s.constructor===Object}function o0(s){const e=s.filter(i=>i.type==="extension"),r=s.filter(i=>i.type==="node"),n=s.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function LN(s){const e=[],{nodeExtensions:r,markExtensions:n}=o0(s),i=[...r,...n],c={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return s.forEach(u=>{const d={name:u.name,options:u.options,storage:u.storage,extensions:i},A=gn(u,"addGlobalAttributes",d);if(!A)return;A().forEach(f=>{f.types.forEach(m=>{Object.entries(f.attributes).forEach(([p,x])=>{e.push({type:m,name:p,attribute:{...c,...x}})})})})}),i.forEach(u=>{const d={name:u.name,options:u.options,storage:u.storage},A=gn(u,"addAttributes",d);if(!A)return;const o=A();Object.entries(o).forEach(([f,m])=>{const p={...c,...m};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:u.name,name:f,attribute:p})})}),e}function ko(...s){return s.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([i,c])=>{if(!n[i]){n[i]=c;return}if(i==="class"){const d=c?String(c).split(" "):[],A=n[i]?n[i].split(" "):[],o=d.filter(f=>!A.includes(f));n[i]=[...A,...o].join(" ")}else if(i==="style"){const d=c?c.split(";").map(f=>f.trim()).filter(Boolean):[],A=n[i]?n[i].split(";").map(f=>f.trim()).filter(Boolean):[],o=new Map;A.forEach(f=>{const[m,p]=f.split(":").map(x=>x.trim());o.set(m,p)}),d.forEach(f=>{const[m,p]=f.split(":").map(x=>x.trim());o.set(m,p)}),n[i]=Array.from(o.entries()).map(([f,m])=>`${f}: ${m}`).join("; ")}else n[i]=c}),n},{})}function Jp(s,e){return e.filter(r=>r.type===s.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(s.attrs)||{}:{[r.name]:s.attrs[r.name]}).reduce((r,n)=>ko(r,n),{})}function cL(s){return typeof s!="string"?s:s.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(s):s==="true"?!0:s==="false"?!1:s}function mw(s,e){return"style"in s?s:{...s,getAttrs:r=>{const n=s.getAttrs?s.getAttrs(r):s.attrs;if(n===!1)return!1;const i=e.reduce((c,u)=>{const d=u.attribute.parseHTML?u.attribute.parseHTML(r):cL(r.getAttribute(u.name));return d==null?c:{...c,[u.name]:d}},{});return{...n,...i}}}}function pw(s){return Object.fromEntries(Object.entries(s).filter(([e,r])=>e==="attrs"&&lL(r)?!1:r!=null))}function gw(s){var e,r;const n={};return!((e=s==null?void 0:s.attribute)!=null&&e.isRequired)&&"default"in((s==null?void 0:s.attribute)||{})&&(n.default=s.attribute.default),((r=s==null?void 0:s.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=s.attribute.validate),[s.name,n]}function dL(s,e){var r;const n=LN(s),{nodeExtensions:i,markExtensions:c}=o0(s),u=(r=i.find(o=>gn(o,"topNode")))==null?void 0:r.name,d=Object.fromEntries(i.map(o=>{const f=n.filter(E=>E.type===o.name),m={name:o.name,options:o.options,storage:o.storage,editor:e},p=s.reduce((E,Q)=>{const K=gn(Q,"extendNodeSchema",m);return{...E,...K?K(o):{}}},{}),x=pw({...p,content:wi(gn(o,"content",m)),marks:wi(gn(o,"marks",m)),group:wi(gn(o,"group",m)),inline:wi(gn(o,"inline",m)),atom:wi(gn(o,"atom",m)),selectable:wi(gn(o,"selectable",m)),draggable:wi(gn(o,"draggable",m)),code:wi(gn(o,"code",m)),whitespace:wi(gn(o,"whitespace",m)),linebreakReplacement:wi(gn(o,"linebreakReplacement",m)),defining:wi(gn(o,"defining",m)),isolating:wi(gn(o,"isolating",m)),attrs:Object.fromEntries(f.map(gw))}),v=wi(gn(o,"parseHTML",m));v&&(x.parseDOM=v.map(E=>mw(E,f)));const y=gn(o,"renderHTML",m);y&&(x.toDOM=E=>y({node:E,HTMLAttributes:Jp(E,f)}));const w=gn(o,"renderText",m);return w&&(x.toText=w),[o.name,x]})),A=Object.fromEntries(c.map(o=>{const f=n.filter(w=>w.type===o.name),m={name:o.name,options:o.options,storage:o.storage,editor:e},p=s.reduce((w,E)=>{const Q=gn(E,"extendMarkSchema",m);return{...w,...Q?Q(o):{}}},{}),x=pw({...p,inclusive:wi(gn(o,"inclusive",m)),excludes:wi(gn(o,"excludes",m)),group:wi(gn(o,"group",m)),spanning:wi(gn(o,"spanning",m)),code:wi(gn(o,"code",m)),attrs:Object.fromEntries(f.map(gw))}),v=wi(gn(o,"parseHTML",m));v&&(x.parseDOM=v.map(w=>mw(w,f)));const y=gn(o,"renderHTML",m);return y&&(x.toDOM=w=>y({mark:w,HTMLAttributes:Jp(w,f)})),[o.name,x]}));return new A5({topNode:u,nodes:d,marks:A})}function uL(s){const e=s.filter((r,n)=>s.indexOf(r)!==n);return Array.from(new Set(e))}function l1(s){return s.sort((r,n)=>{const i=gn(r,"priority")||100,c=gn(n,"priority")||100;return i>c?-1:i<c?1:0})}function ON(s){const e=l1(i1(s)),r=uL(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function IN(s,e,r){const{from:n,to:i}=e,{blockSeparator:c=`

`,textSerializers:u={}}=r||{};let d="";return s.nodesBetween(n,i,(A,o,f,m)=>{var p;A.isBlock&&o>n&&(d+=c);const x=u==null?void 0:u[A.type.name];if(x)return f&&(d+=x({node:A,pos:o,parent:f,index:m,range:e})),!1;A.isText&&(d+=(p=A==null?void 0:A.text)==null?void 0:p.slice(Math.max(n,o)-o,i-o))}),d}function AL(s,e){const r={from:0,to:s.content.size};return IN(s,r,e)}function DN(s){return Object.fromEntries(Object.entries(s.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function hL(s,e){const r=Sl(e,s.schema),{from:n,to:i}=s.selection,c=[];s.doc.nodesBetween(n,i,d=>{c.push(d)});const u=c.reverse().find(d=>d.type.name===r.name);return u?{...u.attrs}:{}}function RN(s,e){const r=ex(typeof e=="string"?e:e.name,s.schema);return r==="node"?hL(s,e):r==="mark"?UN(s,e):{}}function fL(s,e=JSON.stringify){const r={};return s.filter(n=>{const i=e(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function mL(s){const e=fL(s);return e.length===1?e:e.filter((r,n)=>!e.filter((c,u)=>u!==n).some(c=>r.oldRange.from>=c.oldRange.from&&r.oldRange.to<=c.oldRange.to&&r.newRange.from>=c.newRange.from&&r.newRange.to<=c.newRange.to))}function QN(s){const{mapping:e,steps:r}=s,n=[];return e.maps.forEach((i,c)=>{const u=[];if(i.ranges.length)i.forEach((d,A)=>{u.push({from:d,to:A})});else{const{from:d,to:A}=r[c];if(d===void 0||A===void 0)return;u.push({from:d,to:A})}u.forEach(({from:d,to:A})=>{const o=e.slice(c).map(d,-1),f=e.slice(c).map(A),m=e.invert().map(o,-1),p=e.invert().map(f);n.push({oldRange:{from:m,to:p},newRange:{from:o,to:f}})})}),mL(n)}function c1(s,e,r){const n=[];return s===e?r.resolve(s).marks().forEach(i=>{const c=r.resolve(s),u=n1(c,i.type);u&&n.push({mark:i,...u})}):r.nodesBetween(s,e,(i,c)=>{!i||(i==null?void 0:i.nodeSize)===void 0||n.push(...i.marks.map(u=>({from:c,to:c+i.nodeSize,mark:u})))}),n}var pL=(s,e,r,n=20)=>{const i=s.doc.resolve(r);let c=n,u=null;for(;c>0&&u===null;){const d=i.node(c);(d==null?void 0:d.type.name)===e?u=d:c-=1}return[u,c]};function Ab(s,e){return e.nodes[s]||e.marks[s]||null}function gp(s,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const i=s.find(c=>c.type===e&&c.name===n);return i?i.attribute.keepOnSplit:!1}))}var gL=(s,e=500)=>{let r="";const n=s.parentOffset;return s.parent.nodesBetween(Math.max(0,n-e),n,(i,c,u,d)=>{var A,o;const f=((o=(A=i.type.spec).toText)==null?void 0:o.call(A,{node:i,pos:c,parent:u,index:d}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?f:f.slice(0,Math.max(0,n-c))}),r};function ov(s,e,r={}){const{empty:n,ranges:i}=s.selection,c=e?DA(e,s.schema):null;if(n)return!!(s.storedMarks||s.selection.$from.marks()).filter(m=>c?c.name===m.type.name:!0).find(m=>Xp(m.attrs,r,{strict:!1}));let u=0;const d=[];if(i.forEach(({$from:m,$to:p})=>{const x=m.pos,v=p.pos;s.doc.nodesBetween(x,v,(y,w)=>{if(!y.isText&&!y.marks.length)return;const E=Math.max(x,w),Q=Math.min(v,w+y.nodeSize),K=Q-E;u+=K,d.push(...y.marks.map(Z=>({mark:Z,from:E,to:Q})))})}),u===0)return!1;const A=d.filter(m=>c?c.name===m.mark.type.name:!0).filter(m=>Xp(m.mark.attrs,r,{strict:!1})).reduce((m,p)=>m+p.to-p.from,0),o=d.filter(m=>c?m.mark.type!==c&&m.mark.type.excludes(c):!0).reduce((m,p)=>m+p.to-p.from,0);return(A>0?A+o:A)>=u}function xL(s,e,r={}){if(!e)return Fh(s,null,r)||ov(s,null,r);const n=ex(e,s.schema);return n==="node"?Fh(s,e,r):n==="mark"?ov(s,e,r):!1}var bL=(s,e)=>{const{$from:r,$to:n,$anchor:i}=s.selection;if(e){const c=tx(d=>d.type.name===e)(s.selection);if(!c)return!1;const u=s.doc.resolve(c.pos+1);return i.pos+1===u.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},vL=s=>{const{$from:e,$to:r}=s.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function xw(s,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===s.name):e}function bw(s,e){const{nodeExtensions:r}=o0(e),n=r.find(u=>u.name===s);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},c=wi(gn(n,"group",i));return typeof c!="string"?!1:c.split(" ").includes("list")}function sx(s,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(s.type.name==="hardBreak")return!0;if(s.isText)return/^\s*$/m.test((n=s.text)!=null?n:"")}if(s.isText)return!s.text;if(s.isAtom||s.isLeaf)return!1;if(s.content.childCount===0)return!0;if(e){let i=!0;return s.content.forEach(c=>{i!==!1&&(sx(c,{ignoreWhitespace:r,checkChildren:e})||(i=!1))}),i}return!1}function _N(s){return s instanceof vn}var PN=class HN{constructor(e){this.position=e}static fromJSON(e){return new HN(e.position)}toJSON(){return{position:this.position}}};function yL(s,e){const r=e.mapping.mapResult(s.position);return{position:new PN(r.pos),mapResult:r}}function wL(s){return new PN(s)}function jL(s,e,r){var n;const{selection:i}=e;let c=null;if(kN(i)&&(c=i.$cursor),c){const d=(n=s.storedMarks)!=null?n:c.marks();return c.parent.type.allowsMarkType(r)&&(!!r.isInSet(d)||!d.some(o=>o.type.excludes(r)))}const{ranges:u}=i;return u.some(({$from:d,$to:A})=>{let o=d.depth===0?s.doc.inlineContent&&s.doc.type.allowsMarkType(r):!1;return s.doc.nodesBetween(d.pos,A.pos,(f,m,p)=>{if(o)return!1;if(f.isInline){const x=!p||p.type.allowsMarkType(r),v=!!r.isInSet(f.marks)||!f.marks.some(y=>y.type.excludes(r));o=x&&v}return!o}),o})}var NL=(s,e={})=>({tr:r,state:n,dispatch:i})=>{const{selection:c}=r,{empty:u,ranges:d}=c,A=DA(s,n.schema);if(i)if(u){const o=UN(n,A);r.addStoredMark(A.create({...o,...e}))}else d.forEach(o=>{const f=o.$from.pos,m=o.$to.pos;n.doc.nodesBetween(f,m,(p,x)=>{const v=Math.max(x,f),y=Math.min(x+p.nodeSize,m);p.marks.find(E=>E.type===A)?p.marks.forEach(E=>{A===E.type&&r.addMark(v,y,A.create({...E.attrs,...e}))}):r.addMark(v,y,A.create(e))})});return jL(n,r,A)},CL=(s,e)=>({tr:r})=>(r.setMeta(s,e),!0),BL=(s,e={})=>({state:r,dispatch:n,chain:i})=>{const c=Sl(s,r.schema);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),c.isTextblock?i().command(({commands:d})=>M2(c,{...u,...e})(r)?!0:d.clearNodes()).command(({state:d})=>M2(c,{...u,...e})(d,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},kL=s=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,i=af(s,0,n.content.size),c=vn.create(n,i);e.setSelection(c)}return!0},SL=(s,e)=>({tr:r,state:n,dispatch:i})=>{const{selection:c}=n;let u,d;return typeof e=="number"?(u=e,d=e):e&&"from"in e&&"to"in e?(u=e.from,d=e.to):(u=c.from,d=c.to),i&&r.doc.nodesBetween(u,d,(A,o)=>{A.isText||r.setNodeMarkup(o,void 0,{...A.attrs,dir:s})}),!0},EL=s=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:i,to:c}=typeof s=="number"?{from:s,to:s}:s,u=Kn.atStart(n).from,d=Kn.atEnd(n).to,A=af(i,u,d),o=af(c,u,d),f=Kn.create(n,A,o);e.setSelection(f)}return!0},TL=s=>({state:e,dispatch:r})=>{const n=Sl(s,e.schema);return N8(n)(e,r)};function vw(s,e){const r=s.storedMarks||s.selection.$to.parentOffset&&s.selection.$from.marks();if(r){const n=r.filter(i=>e==null?void 0:e.includes(i.type.name));s.tr.ensureMarks(n)}}var UL=({keepMarks:s=!0}={})=>({tr:e,state:r,dispatch:n,editor:i})=>{const{selection:c,doc:u}=e,{$from:d,$to:A}=c,o=i.extensionManager.attributes,f=gp(o,d.node().type.name,d.node().attrs);if(c instanceof vn&&c.node.isBlock)return!d.parentOffset||!LA(u,d.pos)?!1:(n&&(s&&vw(r,i.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const m=A.parentOffset===A.parent.content.size,p=d.depth===0?void 0:aL(d.node(-1).contentMatchAt(d.indexAfter(-1)));let x=m&&p?[{type:p,attrs:f}]:void 0,v=LA(e.doc,e.mapping.map(d.pos),1,x);if(!x&&!v&&LA(e.doc,e.mapping.map(d.pos),1,p?[{type:p}]:void 0)&&(v=!0,x=p?[{type:p,attrs:f}]:void 0),n){if(v&&(c instanceof Kn&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,x),p&&!m&&!d.parentOffset&&d.parent.type!==p)){const y=e.mapping.map(d.before()),w=e.doc.resolve(y);d.node(-1).canReplaceWith(w.index(),w.index()+1,p)&&e.setNodeMarkup(e.mapping.map(d.before()),p)}s&&vw(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return v},FL=(s,e={})=>({tr:r,state:n,dispatch:i,editor:c})=>{var u;const d=Sl(s,n.schema),{$from:A,$to:o}=n.selection,f=n.selection.node;if(f&&f.isBlock||A.depth<2||!A.sameParent(o))return!1;const m=A.node(-1);if(m.type!==d)return!1;const p=c.extensionManager.attributes;if(A.parent.content.size===0&&A.node(-1).childCount===A.indexAfter(-1)){if(A.depth===2||A.node(-3).type!==d||A.index(-2)!==A.node(-2).childCount-1)return!1;if(i){let E=Ws.empty;const Q=A.index(-1)?1:A.index(-2)?2:3;for(let ce=A.depth-Q;ce>=A.depth-3;ce-=1)E=Ws.from(A.node(ce).copy(E));const K=A.indexAfter(-1)<A.node(-2).childCount?1:A.indexAfter(-2)<A.node(-3).childCount?2:3,Z={...gp(p,A.node().type.name,A.node().attrs),...e},J=((u=d.contentMatch.defaultType)==null?void 0:u.createAndFill(Z))||void 0;E=E.append(Ws.from(d.createAndFill(null,J)||void 0));const H=A.before(A.depth-(Q-1));r.replace(H,A.after(-K),new Dr(E,4-Q,0));let G=-1;r.doc.nodesBetween(H,r.doc.content.size,(ce,Ae)=>{if(G>-1)return!1;ce.isTextblock&&ce.content.size===0&&(G=Ae+1)}),G>-1&&r.setSelection(Kn.near(r.doc.resolve(G))),r.scrollIntoView()}return!0}const x=o.pos===A.end()?m.contentMatchAt(0).defaultType:null,v={...gp(p,m.type.name,m.attrs),...e},y={...gp(p,A.node().type.name,A.node().attrs),...e};r.delete(A.pos,o.pos);const w=x?[{type:d,attrs:v},{type:x,attrs:y}]:[{type:d,attrs:v}];if(!LA(r.doc,A.pos,2))return!1;if(i){const{selection:E,storedMarks:Q}=n,{splittableMarks:K}=c.extensionManager,Z=Q||E.$to.parentOffset&&E.$from.marks();if(r.split(A.pos,2,w).scrollIntoView(),!Z||!i)return!0;const J=Z.filter(H=>K.includes(H.type.name));r.ensureMarks(J)}return!0},hb=(s,e)=>{const r=tx(u=>u.type===e)(s.selection);if(!r)return!0;const n=s.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const i=s.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&Ih(s.doc,r.pos)&&s.join(r.pos),!0},fb=(s,e)=>{const r=tx(u=>u.type===e)(s.selection);if(!r)return!0;const n=s.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const i=s.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&Ih(s.doc,n)&&s.join(n),!0},ML=(s,e,r,n={})=>({editor:i,tr:c,state:u,dispatch:d,chain:A,commands:o,can:f})=>{const{extensions:m,splittableMarks:p}=i.extensionManager,x=Sl(s,u.schema),v=Sl(e,u.schema),{selection:y,storedMarks:w}=u,{$from:E,$to:Q}=y,K=E.blockRange(Q),Z=w||y.$to.parentOffset&&y.$from.marks();if(!K)return!1;const J=tx(H=>bw(H.type.name,m))(y);if(K.depth>=1&&J&&K.depth-J.depth<=1){if(J.node.type===x)return o.liftListItem(v);if(bw(J.node.type.name,m)&&x.validContent(J.node.content)&&d)return A().command(()=>(c.setNodeMarkup(J.pos,x),!0)).command(()=>hb(c,x)).command(()=>fb(c,x)).run()}return!r||!Z||!d?A().command(()=>f().wrapInList(x,n)?!0:o.clearNodes()).wrapInList(x,n).command(()=>hb(c,x)).command(()=>fb(c,x)).run():A().command(()=>{const H=f().wrapInList(x,n),G=Z.filter(ce=>p.includes(ce.type.name));return c.ensureMarks(G),H?!0:o.clearNodes()}).wrapInList(x,n).command(()=>hb(c,x)).command(()=>fb(c,x)).run()},LL=(s,e={},r={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:c=!1}=r,u=DA(s,n.schema);return ov(n,u,e)?i.unsetMark(u,{extendEmptyMarkRange:c}):i.setMark(u,e)},OL=(s,e,r={})=>({state:n,commands:i})=>{const c=Sl(s,n.schema),u=Sl(e,n.schema),d=Fh(n,c,r);let A;return n.selection.$anchor.sameParent(n.selection.$head)&&(A=n.selection.$anchor.parent.attrs),d?i.setNode(u,A):i.setNode(c,{...A,...r})},IL=(s,e={})=>({state:r,commands:n})=>{const i=Sl(s,r.schema);return Fh(r,i,e)?n.lift(i):n.wrapIn(i,e)},DL=()=>({state:s,dispatch:e})=>{const r=s.plugins;for(let n=0;n<r.length;n+=1){const i=r[n];let c;if(i.spec.isInputRules&&(c=i.getState(s))){if(e){const u=s.tr,d=c.transform;for(let A=d.steps.length-1;A>=0;A-=1)u.step(d.steps[A].invert(d.docs[A]));if(c.text){const A=u.doc.resolve(c.from).marks();u.replaceWith(c.from,c.to,s.schema.text(c.text,A))}else u.delete(c.from,c.to)}return!0}}return!1},RL=()=>({tr:s,dispatch:e})=>{const{selection:r}=s,{empty:n,ranges:i}=r;return n||e&&i.forEach(c=>{s.removeMark(c.$from.pos,c.$to.pos)}),!0},QL=(s,e={})=>({tr:r,state:n,dispatch:i})=>{var c;const{extendEmptyMarkRange:u=!1}=e,{selection:d}=r,A=DA(s,n.schema),{$from:o,empty:f,ranges:m}=d;if(!i)return!0;if(f&&u){let{from:p,to:x}=d;const v=(c=o.marks().find(w=>w.type===A))==null?void 0:c.attrs,y=n1(o,A,v);y&&(p=y.from,x=y.to),r.removeMark(p,x,A)}else m.forEach(p=>{r.removeMark(p.$from.pos,p.$to.pos,A)});return r.removeStoredMark(A),!0},_L=s=>({tr:e,state:r,dispatch:n})=>{const{selection:i}=r;let c,u;return typeof s=="number"?(c=s,u=s):s&&"from"in s&&"to"in s?(c=s.from,u=s.to):(c=i.from,u=i.to),n&&e.doc.nodesBetween(c,u,(d,A)=>{if(d.isText)return;const o={...d.attrs};delete o.dir,e.setNodeMarkup(A,void 0,o)}),!0},PL=(s,e={})=>({tr:r,state:n,dispatch:i})=>{let c=null,u=null;const d=ex(typeof s=="string"?s:s.name,n.schema);if(!d)return!1;d==="node"&&(c=Sl(s,n.schema)),d==="mark"&&(u=DA(s,n.schema));let A=!1;return r.selection.ranges.forEach(o=>{const f=o.$from.pos,m=o.$to.pos;let p,x,v,y;r.selection.empty?n.doc.nodesBetween(f,m,(w,E)=>{c&&c===w.type&&(A=!0,v=Math.max(E,f),y=Math.min(E+w.nodeSize,m),p=E,x=w)}):n.doc.nodesBetween(f,m,(w,E)=>{E<f&&c&&c===w.type&&(A=!0,v=Math.max(E,f),y=Math.min(E+w.nodeSize,m),p=E,x=w),E>=f&&E<=m&&(c&&c===w.type&&(A=!0,i&&r.setNodeMarkup(E,void 0,{...w.attrs,...e})),u&&w.marks.length&&w.marks.forEach(Q=>{if(u===Q.type&&(A=!0,i)){const K=Math.max(E,f),Z=Math.min(E+w.nodeSize,m);r.addMark(K,Z,u.create({...Q.attrs,...e}))}}))}),x&&(p!==void 0&&i&&r.setNodeMarkup(p,void 0,{...x.attrs,...e}),u&&x.marks.length&&x.marks.forEach(w=>{u===w.type&&i&&r.addMark(v,y,u.create({...w.attrs,...e}))}))}),A},HL=(s,e={})=>({state:r,dispatch:n})=>{const i=Sl(s,r.schema);return g8(i,e)(r,n)},zL=(s,e={})=>({state:r,dispatch:n})=>{const i=Sl(s,r.schema);return x8(i,e)(r,n)},VL=class{constructor(){this.callbacks={}}on(s,e){return this.callbacks[s]||(this.callbacks[s]=[]),this.callbacks[s].push(e),this}emit(s,...e){const r=this.callbacks[s];return r&&r.forEach(n=>n.apply(this,e)),this}off(s,e){const r=this.callbacks[s];return r&&(e?this.callbacks[s]=r.filter(n=>n!==e):delete this.callbacks[s]),this}once(s,e){const r=(...n)=>{this.off(s,r),e.apply(this,n)};return this.on(s,r)}removeAllListeners(){this.callbacks={}}},rx=class{constructor(s){var e;this.find=s.find,this.handler=s.handler,this.undoable=(e=s.undoable)!=null?e:!0}},KL=(s,e)=>{if(r1(e))return e.exec(s);const r=e(s);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=s,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Zm(s){var e;const{editor:r,from:n,to:i,text:c,rules:u,plugin:d}=s,{view:A}=r;if(A.composing)return!1;const o=A.state.doc.resolve(n);if(o.parent.type.spec.code||(e=o.nodeBefore||o.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let f=!1;const m=gL(o)+c;return u.forEach(p=>{if(f)return;const x=KL(m,p.find);if(!x)return;const v=A.state.tr,y=Zg({state:A.state,transaction:v}),w={from:n-(x[0].length-c.length),to:i},{commands:E,chain:Q,can:K}=new qg({editor:r,state:y});p.handler({state:y,range:w,match:x,commands:E,chain:Q,can:K})===null||!v.steps.length||(p.undoable&&v.setMeta(d,{transform:v,from:n,to:i,text:c}),A.dispatch(v),f=!0)}),f}function $L(s){const{editor:e,rules:r}=s,n=new So({state:{init(){return null},apply(i,c,u){const d=i.getMeta(n);if(d)return d;const A=i.getMeta("applyInputRules");return!!A&&setTimeout(()=>{let{text:f}=A;typeof f=="string"?f=f:f=o1(Ws.from(f),u.schema);const{from:m}=A,p=m+f.length;Zm({editor:e,from:m,to:p,text:f,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:c}},props:{handleTextInput(i,c,u,d){return Zm({editor:e,from:c,to:u,text:d,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:c}=i.state.selection;c&&Zm({editor:e,from:c.pos,to:c.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,c){if(c.key!=="Enter")return!1;const{$cursor:u}=i.state.selection;return u?Zm({editor:e,from:u.pos,to:u.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function GL(s){return Object.prototype.toString.call(s).slice(8,-1)}function qm(s){return GL(s)!=="Object"?!1:s.constructor===Object&&Object.getPrototypeOf(s)===Object.prototype}function zN(s,e){const r={...s};return qm(s)&&qm(e)&&Object.keys(e).forEach(n=>{qm(e[n])&&qm(s[n])?r[n]=zN(s[n],e[n]):r[n]=e[n]}),r}var d1=class{constructor(s={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...s},this.name=this.config.name}get options(){return{...wi(gn(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...wi(gn(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(s={}){const e=this.extend({...this.config,addOptions:()=>zN(this.options,s)});return e.name=this.name,e.parent=this.parent,e}extend(s={}){const e=new this.constructor({...this.config,...s});return e.parent=this,this.child=e,e.name="name"in s?s.name:e.parent.name,e}},RA=class VN extends d1{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new VN(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const u=i.marks();if(!!!u.find(o=>(o==null?void 0:o.type.name)===r.name))return!1;const A=u.find(o=>(o==null?void 0:o.type.name)===r.name);return A&&n.removeStoredMark(A),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function WL(s){return typeof s=="number"}var YL=class{constructor(s){this.find=s.find,this.handler=s.handler}},XL=(s,e,r)=>{if(r1(e))return[...s.matchAll(e)];const n=e(s,r);return n?n.map(i=>{const c=[i.text];return c.index=i.index,c.input=s,c.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),c.push(i.replaceWith)),c}):[]};function JL(s){const{editor:e,state:r,from:n,to:i,rule:c,pasteEvent:u,dropEvent:d}=s,{commands:A,chain:o,can:f}=new qg({editor:e,state:r}),m=[];return r.doc.nodesBetween(n,i,(x,v)=>{var y,w,E,Q,K;if((w=(y=x.type)==null?void 0:y.spec)!=null&&w.code||!(x.isText||x.isTextblock||x.isInline))return;const Z=(K=(Q=(E=x.content)==null?void 0:E.size)!=null?Q:x.nodeSize)!=null?K:0,J=Math.max(n,v),H=Math.min(i,v+Z);if(J>=H)return;const G=x.isText?x.text||"":x.textBetween(J-v,H-v,void 0,"");XL(G,c.find,u).forEach(Ae=>{if(Ae.index===void 0)return;const Ne=J+Ae.index+1,re=Ne+Ae[0].length,Be={from:r.tr.mapping.map(Ne),to:r.tr.mapping.map(re)},fe=c.handler({state:r,range:Be,match:Ae,commands:A,chain:o,can:f,pasteEvent:u,dropEvent:d});m.push(fe)})}),m.every(x=>x!==null)}var ep=null,ZL=s=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",s),r};function qL(s){const{editor:e,rules:r}=s;let n=null,i=!1,c=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const A=({state:f,from:m,to:p,rule:x,pasteEvt:v})=>{const y=f.tr,w=Zg({state:f,transaction:y});if(!(!JL({editor:e,state:w,from:Math.max(m-1,0),to:p.b-1,rule:x,pasteEvent:v,dropEvent:d})||!y.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return r.map(f=>new So({view(m){const p=v=>{var y;n=(y=m.dom.parentElement)!=null&&y.contains(v.target)?m.dom.parentElement:null,n&&(ep=e)},x=()=>{ep&&(ep=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(m,p)=>{if(c=n===m.dom.parentElement,d=p,!c){const x=ep;x!=null&&x.isEditable&&setTimeout(()=>{const v=x.state.selection;v&&x.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(m,p)=>{var x;const v=(x=p.clipboardData)==null?void 0:x.getData("text/html");return u=p,i=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(m,p,x)=>{const v=m[0],y=v.getMeta("uiEvent")==="paste"&&!i,w=v.getMeta("uiEvent")==="drop"&&!c,E=v.getMeta("applyPasteRules"),Q=!!E;if(!y&&!w&&!Q)return;if(Q){let{text:J}=E;typeof J=="string"?J=J:J=o1(Ws.from(J),x.schema);const{from:H}=E,G=H+J.length,ce=ZL(J);return A({rule:f,state:x,from:H,to:{b:G},pasteEvt:ce})}const K=p.doc.content.findDiffStart(x.doc.content),Z=p.doc.content.findDiffEnd(x.doc.content);if(!(!WL(K)||!Z||K===Z.b))return A({rule:f,state:x,from:K,to:Z,pasteEvt:u})}}))}var nx=class{constructor(s,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=s,this.extensions=ON(s),this.schema=dL(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((s,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ab(e.name,this.schema)},n=gn(e,"addCommands",r);return n?{...s,...n()}:s},{})}get plugins(){const{editor:s}=this;return l1([...this.extensions].reverse()).flatMap(n=>{const i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:s,type:Ab(n.name,this.schema)},c=[],u=gn(n,"addKeyboardShortcuts",i);let d={};if(n.type==="mark"&&gn(n,"exitable",i)&&(d.ArrowRight=()=>RA.handleExit({editor:s,mark:n})),u){const p=Object.fromEntries(Object.entries(u()).map(([x,v])=>[x,()=>v({editor:s})]));d={...d,...p}}const A=hM(d);c.push(A);const o=gn(n,"addInputRules",i);if(xw(n,s.options.enableInputRules)&&o){const p=o();if(p&&p.length){const x=$L({editor:s,rules:p}),v=Array.isArray(x)?x:[x];c.push(...v)}}const f=gn(n,"addPasteRules",i);if(xw(n,s.options.enablePasteRules)&&f){const p=f();if(p&&p.length){const x=qL({editor:s,rules:p});c.push(...x)}}const m=gn(n,"addProseMirrorPlugins",i);if(m){const p=m();c.push(...p)}return c})}get attributes(){return LN(this.extensions)}get nodeViews(){const{editor:s}=this,{nodeExtensions:e}=o0(this.extensions);return Object.fromEntries(e.filter(r=>!!gn(r,"addNodeView")).map(r=>{const n=this.attributes.filter(A=>A.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:s,type:Sl(r.name,this.schema)},c=gn(r,"addNodeView",i);if(!c)return[];const u=c();if(!u)return[];const d=(A,o,f,m,p)=>{const x=Jp(A,n);return u({node:A,view:o,getPos:f,decorations:m,innerDecorations:p,editor:s,extension:r,HTMLAttributes:x})};return[r.name,d]}))}get markViews(){const{editor:s}=this,{markExtensions:e}=o0(this.extensions);return Object.fromEntries(e.filter(r=>!!gn(r,"addMarkView")).map(r=>{const n=this.attributes.filter(d=>d.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:s,type:DA(r.name,this.schema)},c=gn(r,"addMarkView",i);if(!c)return[];const u=(d,A,o)=>{const f=Jp(d,n);return c()({mark:d,view:A,inline:o,editor:s,extension:r,HTMLAttributes:f,updateAttributes:m=>{fO(d,s,m)}})};return[r.name,u]}))}setupExtensions(){const s=this.extensions;this.editor.extensionStorage=Object.fromEntries(s.map(e=>[e.name,e.storage])),s.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ab(e.name,this.schema)};e.type==="mark"&&((r=wi(gn(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const i=gn(e,"onBeforeCreate",n),c=gn(e,"onCreate",n),u=gn(e,"onUpdate",n),d=gn(e,"onSelectionUpdate",n),A=gn(e,"onTransaction",n),o=gn(e,"onFocus",n),f=gn(e,"onBlur",n),m=gn(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),c&&this.editor.on("create",c),u&&this.editor.on("update",u),d&&this.editor.on("selectionUpdate",d),A&&this.editor.on("transaction",A),o&&this.editor.on("focus",o),f&&this.editor.on("blur",f),m&&this.editor.on("destroy",m)})}};nx.resolve=ON;nx.sort=l1;nx.flatten=i1;var eO={};s1(eO,{ClipboardTextSerializer:()=>$N,Commands:()=>GN,Delete:()=>WN,Drop:()=>YN,Editable:()=>XN,FocusEvents:()=>ZN,Keymap:()=>qN,Paste:()=>e4,Tabindex:()=>t4,TextDirection:()=>s4,focusEventsPluginKey:()=>JN});var Li=class KN extends d1{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new KN(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},$N=Li.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new So({key:new zl("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:s}=this,{state:e,schema:r}=s,{doc:n,selection:i}=e,{ranges:c}=i,u=Math.min(...c.map(f=>f.$from.pos)),d=Math.max(...c.map(f=>f.$to.pos)),A=DN(r);return IN(n,{from:u,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:A})}}})]}}),GN=Li.create({name:"commands",addCommands(){return{...CN}}}),WN=Li.create({name:"delete",onUpdate({transaction:s,appendedTransactions:e}){var r,n,i;const c=()=>{var u,d,A,o;if((o=(A=(d=(u=this.editor.options.coreExtensionOptions)==null?void 0:u.delete)==null?void 0:d.filterTransaction)==null?void 0:A.call(d,s))!=null?o:s.getMeta("y-sync$"))return;const f=FN(s.before,[s,...e]);QN(f).forEach(x=>{f.mapping.mapResult(x.oldRange.from).deletedAfter&&f.mapping.mapResult(x.oldRange.to).deletedBefore&&f.before.nodesBetween(x.oldRange.from,x.oldRange.to,(v,y)=>{const w=y+v.nodeSize-2,E=x.oldRange.from<=y&&w<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:y,to:w,newFrom:f.mapping.map(y),newTo:f.mapping.map(w),deletedRange:x.oldRange,newRange:x.newRange,partial:!E,editor:this.editor,transaction:s,combinedTransform:f})})});const p=f.mapping;f.steps.forEach((x,v)=>{var y,w;if(x instanceof Eu){const E=p.slice(v).map(x.from,-1),Q=p.slice(v).map(x.to),K=p.invert().map(E,-1),Z=p.invert().map(Q),J=(y=f.doc.nodeAt(E-1))==null?void 0:y.marks.some(G=>G.eq(x.mark)),H=(w=f.doc.nodeAt(Q))==null?void 0:w.marks.some(G=>G.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:K,to:Z},newRange:{from:E,to:Q},partial:!!(H||J),editor:this.editor,transaction:s,combinedTransform:f})}})};(i=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||i?setTimeout(c,0):c()}}),YN=Li.create({name:"drop",addProseMirrorPlugins(){return[new So({key:new zl("tiptapDrop"),props:{handleDrop:(s,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),XN=Li.create({name:"editable",addProseMirrorPlugins(){return[new So({key:new zl("editable"),props:{editable:()=>this.editor.options.editable}})]}}),JN=new zl("focusEvents"),ZN=Li.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:s}=this;return[new So({key:JN,props:{handleDOMEvents:{focus:(e,r)=>{s.isFocused=!0;const n=s.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{s.isFocused=!1;const n=s.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),qN=Li.create({name:"keymap",addKeyboardShortcuts(){const s=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:d})=>{const{selection:A,doc:o}=d,{empty:f,$anchor:m}=A,{pos:p,parent:x}=m,v=m.parent.isTextblock&&p>0?d.doc.resolve(p-1):m,y=v.parent.type.spec.isolating,w=m.pos-m.parentOffset,E=y&&v.parent.childCount===1?w===m.pos:ha.atStart(o).from===p;return!f||!x.type.isTextblock||x.textContent.length||!E||E&&m.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:s,"Mod-Backspace":s,"Shift-Backspace":s,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},c={...n,"Ctrl-h":s,"Alt-Backspace":s,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return a1()||TN()?c:i},addProseMirrorPlugins(){return[new So({key:new zl("clearDocument"),appendTransaction:(s,e,r)=>{if(s.some(y=>y.getMeta("composition")))return;const n=s.some(y=>y.docChanged)&&!e.doc.eq(r.doc),i=s.some(y=>y.getMeta("preventClearDocument"));if(!n||i)return;const{empty:c,from:u,to:d}=e.selection,A=ha.atStart(e.doc).from,o=ha.atEnd(e.doc).to;if(c||!(u===A&&d===o)||!sx(r.doc))return;const p=r.tr,x=Zg({state:r,transaction:p}),{commands:v}=new qg({editor:this.editor,state:x});if(v.clearNodes(),!!p.steps.length)return p}})]}}),e4=Li.create({name:"paste",addProseMirrorPlugins(){return[new So({key:new zl("tiptapPaste"),props:{handlePaste:(s,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),t4=Li.create({name:"tabindex",addProseMirrorPlugins(){return[new So({key:new zl("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),s4=Li.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:s}=o0(this.extensions);return[{types:s.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const r=e.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new So({key:new zl("textDirection"),props:{attributes:()=>{const s=this.options.direction;return s?{dir:s}:{}}}})]}}),tO=class Kf{constructor(e,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new Kf(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Kf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Kf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const i=r.isBlock&&!r.isTextblock,c=r.isAtom&&!r.isText,u=this.pos+n+(c?0:1);if(u<0||u>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(u);if(!i&&d.depth<=this.depth)return;const A=new Kf(d,this.editor,i,i?r:null);i&&(A.actualDepth=this.depth+1),e.push(new Kf(d,this.editor,i,i?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(r).length>0){const c=i.node.attrs,u=Object.keys(r);for(let d=0;d<u.length;d+=1){const A=u[d];if(c[A]!==r[A])break}}else n=i;i=i.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;const c=Object.keys(r);return this.children.forEach(u=>{n&&i.length>0||(u.node.type.name===e&&c.every(A=>r[A]===u.node.attrs[A])&&i.push(u),!(n&&i.length>0)&&(i=i.concat(u.querySelectorAll(e,r,n))))}),i}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},sO=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function rO(s,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(i),i}var nO=class extends VL{constructor(s={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:yL,createMappablePosition:wL},this.setOptions(s),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:c})=>this.options.onDrop(n,i,c)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=SN(e,this.options.autofocus);this.editorState=Gf.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(s){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(s),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const s=this.editorView.dom;s!=null&&s.editor&&delete s.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(s){console.warn("Failed to remove CSS element:",s)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=rO(sO,this.options.injectNonce))}setOptions(s={}){this.options={...this.options,...s},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(s,e=!0){this.setOptions({editable:s}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:s=>{this.editorState=s},dispatch:s=>{this.dispatchTransaction(s)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(s,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in s)return Reflect.get(s,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(s,e){const r=MN(e)?e(s,[...this.state.plugins]):[...this.state.plugins,s],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(s){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(s).forEach(i=>{const c=typeof i=="string"?`${i}$`:i.key;r=r.filter(u=>!u.key.startsWith(c))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var s,e;const n=[...this.options.enableCoreExtensions?[XN,$N.configure({blockSeparator:(e=(s=this.options.coreExtensionOptions)==null?void 0:s.clipboardTextSerializer)==null?void 0:e.blockSeparator}),GN,ZN,qN,t4,YN,e4,WN,s4.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new nx(n,this)}createCommandManager(){this.commandManager=new qg({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let s;try{s=iv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),s=iv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return s}createView(s){var e;this.editorView=new jN(s,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(s){this.isCapturingTransaction=!0,s(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(s){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=s;return}s.steps.forEach(o=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(o)});return}const{state:e,transactions:r}=this.state.applyTransaction(s),n=!this.state.selection.eq(e.selection),i=r.includes(s),c=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:s,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:s,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:s});const u=r.findLast(o=>o.getMeta("focus")||o.getMeta("blur")),d=u==null?void 0:u.getMeta("focus"),A=u==null?void 0:u.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:u}),A&&this.emit("blur",{editor:this,event:A.event,transaction:u}),!(s.getMeta("preventUpdate")||!r.some(o=>o.docChanged)||c.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:s,appendedTransactions:r.slice(1)})}getAttributes(s){return RN(this.state,s)}isActive(s,e){const r=typeof s=="string"?s:null,n=typeof s=="string"?e:s;return xL(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return o1(this.state.doc.content,this.schema)}getText(s){const{blockSeparator:e=`

`,textSerializers:r={}}=s||{};return AL(this.state.doc,{blockSeparator:e,textSerializers:{...DN(this.schema),...r}})}get isEmpty(){return sx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var s,e;return(e=(s=this.editorView)==null?void 0:s.isDestroyed)!=null?e:!0}$node(s,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(s,e))||null}$nodes(s,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(s,e))||null}$pos(s){const e=this.state.doc.resolve(s);return new tO(e,this)}get $doc(){return this.$pos(0)}};function vf(s){return new rx({find:s.find,handler:({state:e,range:r,match:n})=>{const i=wi(s.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:c}=e,u=n[n.length-1],d=n[0];if(u){const A=d.search(/\S/),o=r.from+d.indexOf(u),f=o+u.length;if(c1(r.from,r.to,e.doc).filter(x=>x.mark.type.excluded.find(y=>y===s.type&&y!==x.mark.type)).filter(x=>x.to>o).length)return null;f<r.to&&c.delete(f,r.to),o>r.from&&c.delete(r.from+A,o);const p=r.from+A+u.length;c.addMark(r.from+A,p,s.type.create(i||{})),c.removeStoredMark(s.type)}},undoable:s.undoable})}function r4(s){return new rx({find:s.find,handler:({state:e,range:r,match:n})=>{const i=wi(s.getAttributes,void 0,n)||{},{tr:c}=e,u=r.from;let d=r.to;const A=s.type.create(i);if(n[1]){const o=n[0].lastIndexOf(n[1]);let f=u+o;f>d?f=d:d=f+n[1].length;const m=n[0][n[0].length-1];c.insertText(m,u+n[0].length-1),c.replaceWith(f,d,A)}else if(n[0]){const o=s.type.isInline?u:u-1;c.insert(o,s.type.create(i)).delete(c.mapping.map(u),c.mapping.map(d))}c.scrollIntoView()},undoable:s.undoable})}function lv(s){return new rx({find:s.find,handler:({state:e,range:r,match:n})=>{const i=e.doc.resolve(r.from),c=wi(s.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),s.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,s.type,c)},undoable:s.undoable})}function l0(s){return new rx({find:s.find,handler:({state:e,range:r,match:n,chain:i})=>{const c=wi(s.getAttributes,void 0,n)||{},u=e.tr.delete(r.from,r.to),A=u.doc.resolve(r.from).blockRange(),o=A&&_v(A,s.type,c);if(!o)return null;if(u.wrap(A,o),s.keepMarks&&s.editor){const{selection:m,storedMarks:p}=e,{splittableMarks:x}=s.editor.extensionManager,v=p||m.$to.parentOffset&&m.$from.marks();if(v){const y=v.filter(w=>x.includes(w.type.name));u.ensureMarks(y)}}if(s.keepAttributes){const m=s.type.name==="bulletList"||s.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,c).run()}const f=u.doc.resolve(r.from-1).nodeBefore;f&&f.type===s.type&&Ih(u.doc,r.from-1)&&(!s.joinPredicate||s.joinPredicate(n,f))&&u.join(r.from-1)},undoable:s.undoable})}var aO=s=>"touches"in s,iO=class{constructor(s){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=d=>{if(!this.isResizing||!this.activeHandle)return;const A=d.clientX-this.startX,o=d.clientY-this.startY;this.handleResize(A,o)},this.handleTouchMove=d=>{if(!this.isResizing||!this.activeHandle)return;const A=d.touches[0];if(!A)return;const o=A.clientX-this.startX,f=A.clientY-this.startY;this.handleResize(o,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const d=this.element.offsetWidth,A=this.element.offsetHeight;this.onCommit(d,A),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,r,n,i,c,u;this.node=s.node,this.editor=s.editor,this.element=s.element,this.contentElement=s.contentElement,this.getPos=s.getPos,this.onResize=s.onResize,this.onCommit=s.onCommit,this.onUpdate=s.onUpdate,(e=s.options)!=null&&e.min&&(this.minSize={...this.minSize,...s.options.min}),(r=s.options)!=null&&r.max&&(this.maxSize=s.options.max),(n=s==null?void 0:s.options)!=null&&n.directions&&(this.directions=s.options.directions),(i=s.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=s.options.preserveAspectRatio),(c=s.options)!=null&&c.className&&(this.classNames={container:s.options.className.container||"",wrapper:s.options.className.wrapper||"",handle:s.options.className.handle||"",resizing:s.options.className.resizing||""}),(u=s.options)!=null&&u.createCustomHandle&&(this.createCustomHandle=s.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const s=this.editor.isEditable;s!==this.lastEditableState&&(this.lastEditableState=s,s?s&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(s,e,r){return s.type!==this.node.type?!1:(this.node=s,this.onUpdate?this.onUpdate(s,e,r):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const s=document.createElement("div");return s.dataset.resizeContainer="",s.dataset.node=this.node.type.name,s.style.display="flex",this.classNames.container&&(s.className=this.classNames.container),s.appendChild(this.wrapper),s}createWrapper(){const s=document.createElement("div");return s.style.position="relative",s.style.display="block",s.dataset.resizeWrapper="",this.classNames.wrapper&&(s.className=this.classNames.wrapper),s.appendChild(this.element),s}createHandle(s){const e=document.createElement("div");return e.dataset.resizeHandle=s,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(s,e){const r=e.includes("top"),n=e.includes("bottom"),i=e.includes("left"),c=e.includes("right");r&&(s.style.top="0"),n&&(s.style.bottom="0"),i&&(s.style.left="0"),c&&(s.style.right="0"),(e==="top"||e==="bottom")&&(s.style.left="0",s.style.right="0"),(e==="left"||e==="right")&&(s.style.top="0",s.style.bottom="0")}attachHandles(){this.directions.forEach(s=>{let e;this.createCustomHandle?e=this.createCustomHandle(s):e=this.createHandle(s),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${s}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(s)),this.createCustomHandle||this.positionHandle(e,s),e.addEventListener("mousedown",r=>this.handleResizeStart(r,s)),e.addEventListener("touchstart",r=>this.handleResizeStart(r,s)),this.handleMap.set(s,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(s=>s.remove()),this.handleMap.clear()}applyInitialSize(){const s=this.node.attrs.width,e=this.node.attrs.height;s?(this.element.style.width=`${s}px`,this.initialWidth=s):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(s,e){s.preventDefault(),s.stopPropagation(),this.isResizing=!0,this.activeHandle=e,aO(s)?(this.startX=s.touches[0].clientX,this.startY=s.touches[0].clientY):(this.startX=s.clientX,this.startY=s.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(s,e){if(!this.activeHandle)return;const r=this.preserveAspectRatio||this.isShiftKeyPressed,{width:n,height:i}=this.calculateNewDimensions(this.activeHandle,s,e),c=this.applyConstraints(n,i,r);this.element.style.width=`${c.width}px`,this.element.style.height=`${c.height}px`,this.onResize&&this.onResize(c.width,c.height)}calculateNewDimensions(s,e,r){let n=this.startWidth,i=this.startHeight;const c=s.includes("right"),u=s.includes("left"),d=s.includes("bottom"),A=s.includes("top");return c?n=this.startWidth+e:u&&(n=this.startWidth-e),d?i=this.startHeight+r:A&&(i=this.startHeight-r),(s==="right"||s==="left")&&(n=this.startWidth+(c?e:-e)),(s==="top"||s==="bottom")&&(i=this.startHeight+(d?r:-r)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(n,i,s):{width:n,height:i}}applyConstraints(s,e,r){var n,i,c,u;if(!r){let o=Math.max(this.minSize.width,s),f=Math.max(this.minSize.height,e);return(n=this.maxSize)!=null&&n.width&&(o=Math.min(this.maxSize.width,o)),(i=this.maxSize)!=null&&i.height&&(f=Math.min(this.maxSize.height,f)),{width:o,height:f}}let d=s,A=e;return d<this.minSize.width&&(d=this.minSize.width,A=d/this.aspectRatio),A<this.minSize.height&&(A=this.minSize.height,d=A*this.aspectRatio),(c=this.maxSize)!=null&&c.width&&d>this.maxSize.width&&(d=this.maxSize.width,A=d/this.aspectRatio),(u=this.maxSize)!=null&&u.height&&A>this.maxSize.height&&(A=this.maxSize.height,d=A*this.aspectRatio),{width:d,height:A}}applyAspectRatio(s,e,r){const n=r==="left"||r==="right",i=r==="top"||r==="bottom";return n?{width:s,height:s/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:s,height:s/this.aspectRatio}}};function oO(s,e){const{selection:r}=s,{$from:n}=r;if(r instanceof vn){const c=n.index();return n.parent.canReplaceWith(c,c+1,e)}let i=n.depth;for(;i>=0;){const c=n.index(i);if(n.node(i).contentMatchAt(c).matchType(e))return!0;i-=1}return!1}var lO={};s1(lO,{createAtomBlockMarkdownSpec:()=>cO,createBlockMarkdownSpec:()=>dO,createInlineMarkdownSpec:()=>hO,parseAttributes:()=>u1,parseIndentedBlocks:()=>cv,renderNestedMarkdownContent:()=>h1,serializeAttributes:()=>A1});function u1(s){if(!(s!=null&&s.trim()))return{};const e={},r=[],n=s.replace(/["']([^"']*)["']/g,o=>(r.push(o),`__QUOTED_${r.length-1}__`)),i=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const o=i.map(f=>f.trim().slice(1));e.class=o.join(" ")}const c=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);c&&(e.id=c[1]);const u=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(u)).forEach(([,o,f])=>{var m;const p=parseInt(((m=f.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),x=r[p];x&&(e[o]=x.slice(1,-1))});const A=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return A&&A.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function A1(s){if(!s||Object.keys(s).length===0)return"";const e=[];return s.class&&String(s.class).split(/\s+/).filter(Boolean).forEach(n=>e.push(`.${n}`)),s.id&&e.push(`#${s.id}`),Object.entries(s).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?e.push(r):n!==!1&&n!=null&&e.push(`${r}="${String(n)}"`))}),e.join(" ")}function cO(s){const{nodeName:e,name:r,parseAttributes:n=u1,serializeAttributes:i=A1,defaultAttributes:c={},requiredAttributes:u=[],allowedAttributes:d}=s,A=r||e,o=f=>{if(!d)return f;const m={};return d.forEach(p=>{p in f&&(m[p]=f[p])}),m};return{parseMarkdown:(f,m)=>{const p={...c,...f.attributes};return m.createNode(e,p,[])},markdownTokenizer:{name:e,level:"block",start(f){var m;const p=new RegExp(`^:::${A}(?:\\s|$)`,"m"),x=(m=f.match(p))==null?void 0:m.index;return x!==void 0?x:-1},tokenize(f,m,p){const x=new RegExp(`^:::${A}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=f.match(x);if(!v)return;const y=v[1]||"",w=n(y);if(!u.find(Q=>!(Q in w)))return{type:e,raw:v[0],attributes:w}}},renderMarkdown:f=>{const m=o(f.attrs||{}),p=i(m),x=p?` {${p}}`:"";return`:::${A}${x} :::`}}}function dO(s){const{nodeName:e,name:r,getContent:n,parseAttributes:i=u1,serializeAttributes:c=A1,defaultAttributes:u={},content:d="block",allowedAttributes:A}=s,o=r||e,f=m=>{if(!A)return m;const p={};return A.forEach(x=>{x in m&&(p[x]=m[x])}),p};return{parseMarkdown:(m,p)=>{let x;if(n){const y=n(m);x=typeof y=="string"?[{type:"text",text:y}]:y}else d==="block"?x=p.parseChildren(m.tokens||[]):x=p.parseInline(m.tokens||[]);const v={...u,...m.attributes};return p.createNode(e,v,x)},markdownTokenizer:{name:e,level:"block",start(m){var p;const x=new RegExp(`^:::${o}`,"m"),v=(p=m.match(x))==null?void 0:p.index;return v!==void 0?v:-1},tokenize(m,p,x){var v;const y=new RegExp(`^:::${o}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),w=m.match(y);if(!w)return;const[E,Q=""]=w,K=i(Q);let Z=1;const J=E.length;let H="";const G=/^:::([\w-]*)(\s.*)?/gm,ce=m.slice(J);for(G.lastIndex=0;;){const Ae=G.exec(ce);if(Ae===null)break;const Ne=Ae.index,re=Ae[1];if(!((v=Ae[2])!=null&&v.endsWith(":::"))){if(re)Z+=1;else if(Z-=1,Z===0){const Be=ce.slice(0,Ne);H=Be.trim();const fe=m.slice(0,J+Ne+Ae[0].length);let Se=[];if(H)if(d==="block")for(Se=x.blockTokens(Be),Se.forEach(pe=>{pe.text&&(!pe.tokens||pe.tokens.length===0)&&(pe.tokens=x.inlineTokens(pe.text))});Se.length>0;){const pe=Se[Se.length-1];if(pe.type==="paragraph"&&(!pe.text||pe.text.trim()===""))Se.pop();else break}else Se=x.inlineTokens(H);return{type:e,raw:fe,attributes:K,content:H,tokens:Se}}}}}},renderMarkdown:(m,p)=>{const x=f(m.attrs||{}),v=c(x),y=v?` {${v}}`:"",w=p.renderChildren(m.content||[],`

`);return`:::${o}${y}

${w}

:::`}}}function uO(s){if(!s.trim())return{};const e={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(s);for(;n!==null;){const[,i,c,u]=n;e[i]=c||u,n=r.exec(s)}return e}function AO(s){return Object.entries(s).filter(([,e])=>e!=null).map(([e,r])=>`${e}="${r}"`).join(" ")}function hO(s){const{nodeName:e,name:r,getContent:n,parseAttributes:i=uO,serializeAttributes:c=AO,defaultAttributes:u={},selfClosing:d=!1,allowedAttributes:A}=s,o=r||e,f=p=>{if(!A)return p;const x={};return A.forEach(v=>{const y=typeof v=="string"?v:v.name,w=typeof v=="string"?void 0:v.skipIfDefault;if(y in p){const E=p[y];if(w!==void 0&&E===w)return;x[y]=E}}),x},m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,x)=>{const v={...u,...p.attributes};if(d)return x.createNode(e,v);const y=n?n(p):p.content||"";return y?x.createNode(e,v,[x.createTextNode(y)]):x.createNode(e,v,[])},markdownTokenizer:{name:e,level:"inline",start(p){const x=d?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),v=p.match(x),y=v==null?void 0:v.index;return y!==void 0?y:-1},tokenize(p,x,v){const y=d?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),w=p.match(y);if(!w)return;let E="",Q="";if(d){const[,Z]=w;Q=Z}else{const[,Z,J]=w;Q=Z,E=J||""}const K=i(Q.trim());return{type:e,raw:w[0],content:E.trim(),attributes:K}}},renderMarkdown:p=>{let x="";n?x=n(p):p.content&&p.content.length>0&&(x=p.content.filter(E=>E.type==="text").map(E=>E.text).join(""));const v=f(p.attrs||{}),y=c(v),w=y?` ${y}`:"";return d?`[${o}${w}]`:`[${o}${w}]${x}[/${o}]`}}}function cv(s,e,r){var n,i,c,u;const d=s.split(`
`),A=[];let o="",f=0;const m=e.baseIndentSize||2;for(;f<d.length;){const p=d[f],x=p.match(e.itemPattern);if(!x){if(A.length>0)break;if(p.trim()===""){f+=1,o=`${o}${p}
`;continue}else return}const v=e.extractItemData(x),{indentLevel:y,mainContent:w}=v;o=`${o}${p}
`;const E=[w];for(f+=1;f<d.length;){const J=d[f];if(J.trim()===""){const G=d.slice(f+1).findIndex(Ne=>Ne.trim()!=="");if(G===-1)break;if((((i=(n=d[f+1+G].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:i.length)||0)>y){E.push(J),o=`${o}${J}
`,f+=1;continue}else break}if((((u=(c=J.match(/^(\s*)/))==null?void 0:c[1])==null?void 0:u.length)||0)>y)E.push(J),o=`${o}${J}
`,f+=1;else break}let Q;const K=E.slice(1);if(K.length>0){const J=K.map(H=>H.slice(y+m)).join(`
`);J.trim()&&(e.customNestedParser?Q=e.customNestedParser(J):Q=r.blockTokens(J))}const Z=e.createToken(v,Q);A.push(Z)}if(A.length!==0)return{items:A,raw:o}}function h1(s,e,r,n){if(!s||!Array.isArray(s.content))return"";const i=typeof r=="function"?r(n):r,[c,...u]=s.content,d=e.renderChildren([c]),A=[`${i}${d}`];return u&&u.length>0&&u.forEach(o=>{const f=e.renderChildren([o]);if(f){const m=f.split(`
`).map(p=>p?e.indent(p):"").join(`
`);A.push(m)}}),A.join(`
`)}function fO(s,e,r={}){const{state:n}=e,{doc:i,tr:c}=n,u=s;i.descendants((d,A)=>{const o=c.mapping.map(A),f=c.mapping.map(A)+d.nodeSize;let m=null;if(d.marks.forEach(x=>{if(x!==u)return!1;m=x}),!m)return;let p=!1;if(Object.keys(r).forEach(x=>{r[x]!==m.attrs[x]&&(p=!0)}),p){const x=s.type.create({...s.attrs,...r});c.removeMark(o,f,s.type),c.addMark(o,f,x)}}),c.docChanged&&e.view.dispatch(c)}var Ud=class n4 extends d1{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new n4(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function Mh(s){return new YL({find:s.find,handler:({state:e,range:r,match:n,pasteEvent:i})=>{const c=wi(s.getAttributes,void 0,n,i);if(c===!1||c===null)return null;const{tr:u}=e,d=n[n.length-1],A=n[0];let o=r.to;if(d){const f=A.search(/\S/),m=r.from+A.indexOf(d),p=m+d.length;if(c1(r.from,r.to,e.doc).filter(v=>v.mark.type.excluded.find(w=>w===s.type&&w!==v.mark.type)).filter(v=>v.to>m).length)return null;p<r.to&&u.delete(p,r.to),m>r.from&&u.delete(r.from+f,m),o=r.from+f+d.length,u.addMark(r.from+f,o,s.type.create(c||{})),u.removeStoredMark(s.type)}}})}const{getOwnPropertyNames:mO,getOwnPropertySymbols:pO}=Object,{hasOwnProperty:gO}=Object.prototype;function mb(s,e){return function(n,i,c){return s(n,i,c)&&e(n,i,c)}}function tp(s){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return s(r,n,i);const{cache:c}=i,u=c.get(r),d=c.get(n);if(u&&d)return u===n&&d===r;c.set(r,n),c.set(n,r);const A=s(r,n,i);return c.delete(r),c.delete(n),A}}function xO(s){return s!=null?s[Symbol.toStringTag]:void 0}function yw(s){return mO(s).concat(pO(s))}const bO=Object.hasOwn||((s,e)=>gO.call(s,e));function jf(s,e){return s===e||!s&&!e&&s!==s&&e!==e}const vO="__v",yO="__o",wO="_owner",{getOwnPropertyDescriptor:ww,keys:jw}=Object;function jO(s,e){return s.byteLength===e.byteLength&&Zp(new Uint8Array(s),new Uint8Array(e))}function NO(s,e,r){let n=s.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(s[n],e[n],n,n,s,e,r))return!1;return!0}function CO(s,e){return s.byteLength===e.byteLength&&Zp(new Uint8Array(s.buffer,s.byteOffset,s.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function BO(s,e){return jf(s.getTime(),e.getTime())}function kO(s,e){return s.name===e.name&&s.message===e.message&&s.cause===e.cause&&s.stack===e.stack}function SO(s,e){return s===e}function Nw(s,e,r){const n=s.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),c=s.entries();let u,d,A=0;for(;(u=c.next())&&!u.done;){const o=e.entries();let f=!1,m=0;for(;(d=o.next())&&!d.done;){if(i[m]){m++;continue}const p=u.value,x=d.value;if(r.equals(p[0],x[0],A,m,s,e,r)&&r.equals(p[1],x[1],p[0],x[0],s,e,r)){f=i[m]=!0;break}m++}if(!f)return!1;A++}return!0}const EO=jf;function TO(s,e,r){const n=jw(s);let i=n.length;if(jw(e).length!==i)return!1;for(;i-- >0;)if(!a4(s,e,r,n[i]))return!1;return!0}function M0(s,e,r){const n=yw(s);let i=n.length;if(yw(e).length!==i)return!1;let c,u,d;for(;i-- >0;)if(c=n[i],!a4(s,e,r,c)||(u=ww(s,c),d=ww(e,c),(u||d)&&(!u||!d||u.configurable!==d.configurable||u.enumerable!==d.enumerable||u.writable!==d.writable)))return!1;return!0}function UO(s,e){return jf(s.valueOf(),e.valueOf())}function FO(s,e){return s.source===e.source&&s.flags===e.flags}function Cw(s,e,r){const n=s.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),c=s.values();let u,d;for(;(u=c.next())&&!u.done;){const A=e.values();let o=!1,f=0;for(;(d=A.next())&&!d.done;){if(!i[f]&&r.equals(u.value,d.value,u.value,d.value,s,e,r)){o=i[f]=!0;break}f++}if(!o)return!1}return!0}function Zp(s,e){let r=s.byteLength;if(e.byteLength!==r||s.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(s[r]!==e[r])return!1;return!0}function MO(s,e){return s.hostname===e.hostname&&s.pathname===e.pathname&&s.protocol===e.protocol&&s.port===e.port&&s.hash===e.hash&&s.username===e.username&&s.password===e.password}function a4(s,e,r,n){return(n===wO||n===yO||n===vO)&&(s.$$typeof||e.$$typeof)?!0:bO(e,n)&&r.equals(s[n],e[n],n,n,s,e,r)}const LO="[object ArrayBuffer]",OO="[object Arguments]",IO="[object Boolean]",DO="[object DataView]",RO="[object Date]",QO="[object Error]",_O="[object Map]",PO="[object Number]",HO="[object Object]",zO="[object RegExp]",VO="[object Set]",KO="[object String]",$O={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},GO="[object URL]",WO=Object.prototype.toString;function YO({areArrayBuffersEqual:s,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:c,areMapsEqual:u,areNumbersEqual:d,areObjectsEqual:A,arePrimitiveWrappersEqual:o,areRegExpsEqual:f,areSetsEqual:m,areTypedArraysEqual:p,areUrlsEqual:x,unknownTagComparators:v}){return function(w,E,Q){if(w===E)return!0;if(w==null||E==null)return!1;const K=typeof w;if(K!==typeof E)return!1;if(K!=="object")return K==="number"?d(w,E,Q):K==="function"?c(w,E,Q):!1;const Z=w.constructor;if(Z!==E.constructor)return!1;if(Z===Object)return A(w,E,Q);if(Array.isArray(w))return e(w,E,Q);if(Z===Date)return n(w,E,Q);if(Z===RegExp)return f(w,E,Q);if(Z===Map)return u(w,E,Q);if(Z===Set)return m(w,E,Q);const J=WO.call(w);if(J===RO)return n(w,E,Q);if(J===zO)return f(w,E,Q);if(J===_O)return u(w,E,Q);if(J===VO)return m(w,E,Q);if(J===HO)return typeof w.then!="function"&&typeof E.then!="function"&&A(w,E,Q);if(J===GO)return x(w,E,Q);if(J===QO)return i(w,E,Q);if(J===OO)return A(w,E,Q);if($O[J])return p(w,E,Q);if(J===LO)return s(w,E,Q);if(J===DO)return r(w,E,Q);if(J===IO||J===PO||J===KO)return o(w,E,Q);if(v){let H=v[J];if(!H){const G=xO(w);G&&(H=v[G])}if(H)return H(w,E,Q)}return!1}}function XO({circular:s,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:jO,areArraysEqual:r?M0:NO,areDataViewsEqual:CO,areDatesEqual:BO,areErrorsEqual:kO,areFunctionsEqual:SO,areMapsEqual:r?mb(Nw,M0):Nw,areNumbersEqual:EO,areObjectsEqual:r?M0:TO,arePrimitiveWrappersEqual:UO,areRegExpsEqual:FO,areSetsEqual:r?mb(Cw,M0):Cw,areTypedArraysEqual:r?mb(Zp,M0):Zp,areUrlsEqual:MO,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),s){const i=tp(n.areArraysEqual),c=tp(n.areMapsEqual),u=tp(n.areObjectsEqual),d=tp(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:c,areObjectsEqual:u,areSetsEqual:d})}return n}function JO(s){return function(e,r,n,i,c,u,d){return s(e,r,d)}}function ZO({circular:s,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(d,A){const{cache:o=s?new WeakMap:void 0,meta:f}=r();return e(d,A,{cache:o,equals:n,meta:f,strict:i})};if(s)return function(d,A){return e(d,A,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const c={cache:void 0,equals:n,meta:void 0,strict:i};return function(d,A){return e(d,A,c)}}const qO=Rh();Rh({strict:!0});Rh({circular:!0});Rh({circular:!0,strict:!0});Rh({createInternalComparator:()=>jf});Rh({strict:!0,createInternalComparator:()=>jf});Rh({circular:!0,createInternalComparator:()=>jf});Rh({circular:!0,createInternalComparator:()=>jf,strict:!0});function Rh(s={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=s,c=XO(s),u=YO(c),d=r?r(u):JO(u);return ZO({circular:e,comparator:u,createState:n,equals:d,strict:i})}var pb={exports:{}},gb={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function eI(){if(Bw)return gb;Bw=1;var s=hm(),e=Yj();function r(o,f){return o===f&&(o!==0||1/o===1/f)||o!==o&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,c=s.useRef,u=s.useEffect,d=s.useMemo,A=s.useDebugValue;return gb.useSyncExternalStoreWithSelector=function(o,f,m,p,x){var v=c(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=d(function(){function E(H){if(!Q){if(Q=!0,K=H,H=p(H),x!==void 0&&y.hasValue){var G=y.value;if(x(G,H))return Z=G}return Z=H}if(G=Z,n(K,H))return G;var ce=p(H);return x!==void 0&&x(G,ce)?(K=H,G):(K=H,Z=ce)}var Q=!1,K,Z,J=m===void 0?null:m;return[function(){return E(f())},J===null?void 0:function(){return E(J())}]},[f,m,p,x]);var w=i(o,v[0],v[1]);return u(function(){y.hasValue=!0,y.value=w},[w]),A(w),w},gb}var kw;function tI(){return kw||(kw=1,pb.exports=eI()),pb.exports}var sI=tI(),rI=(...s)=>e=>{s.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},nI=({contentComponent:s})=>{const e=Xj.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getServerSnapshot);return t.jsx(t.Fragment,{children:Object.values(e)})};function aI(){const s=new Set;let e={};return{subscribe(r){return s.add(r),()=>{s.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:sj.createPortal(n.reactElement,n.element,r)},s.forEach(i=>i())},removeRenderer(r){const n={...e};delete n[r],e=n,s.forEach(i=>i())}}}var iI=class extends Sc.Component{constructor(s){var e;super(s),this.editorContentRef=Sc.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=s.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var s;const e=this.props.editor;if(e&&!e.isDestroyed&&((s=e.view.dom)!=null&&s.parentNode)){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r}),e.contentComponent=aI(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var s;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((s=e.view.dom)!=null&&s.parentNode))return;const r=document.createElement("div");r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r})}catch{}}}render(){const{editor:s,innerRef:e,...r}=this.props;return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:rI(e,this.editorContentRef),...r}),(s==null?void 0:s.contentComponent)&&t.jsx(nI,{contentComponent:s.contentComponent})]})}},oI=W.forwardRef((s,e)=>{const r=Sc.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[s.editor]);return Sc.createElement(iI,{key:r,innerRef:e,...s})}),lI=Sc.memo(oI),cI=typeof window<"u"?W.useLayoutEffect:W.useEffect,dI=class{constructor(s){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=s,this.lastSnapshot={editor:s,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(s){return this.subscribers.add(s),()=>{this.subscribers.delete(s)}}watch(s){if(this.editor=s,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function uI(s){var e;const[r]=W.useState(()=>new dI(s.editor)),n=sI.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,s.selector,(e=s.equalityFn)!=null?e:qO);return cI(()=>r.watch(s.editor),[s.editor,r]),W.useDebugValue(n),n}var AI=!1,dv=typeof window>"u",hI=dv||!!(typeof window<"u"&&window.next),fI=class i4{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?dv||hI?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var i,c;return(c=(i=this.options.current).onBeforeCreate)==null?void 0:c.call(i,...n)},onBlur:(...n)=>{var i,c;return(c=(i=this.options.current).onBlur)==null?void 0:c.call(i,...n)},onCreate:(...n)=>{var i,c;return(c=(i=this.options.current).onCreate)==null?void 0:c.call(i,...n)},onDestroy:(...n)=>{var i,c;return(c=(i=this.options.current).onDestroy)==null?void 0:c.call(i,...n)},onFocus:(...n)=>{var i,c;return(c=(i=this.options.current).onFocus)==null?void 0:c.call(i,...n)},onSelectionUpdate:(...n)=>{var i,c;return(c=(i=this.options.current).onSelectionUpdate)==null?void 0:c.call(i,...n)},onTransaction:(...n)=>{var i,c;return(c=(i=this.options.current).onTransaction)==null?void 0:c.call(i,...n)},onUpdate:(...n)=>{var i,c;return(c=(i=this.options.current).onUpdate)==null?void 0:c.call(i,...n)},onContentError:(...n)=>{var i,c;return(c=(i=this.options.current).onContentError)==null?void 0:c.call(i,...n)},onDrop:(...n)=>{var i,c;return(c=(i=this.options.current).onDrop)==null?void 0:c.call(i,...n)},onPaste:(...n)=>{var i,c;return(c=(i=this.options.current).onPaste)==null?void 0:c.call(i,...n)},onDelete:(...n)=>{var i,c;return(c=(i=this.options.current).onDelete)==null?void 0:c.call(i,...n)}};return new nO(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((i,c)=>{var u;return i===((u=r.extensions)==null?void 0:u[c])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?i4.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,i)=>n===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function mI(s={},e=[]){const r=W.useRef(s);r.current=s;const[n]=W.useState(()=>new fI(r)),i=Xj.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return W.useDebugValue(i),W.useEffect(n.onRender(e)),uI({editor:i,selector:({transactionNumber:c})=>s.shouldRerenderOnTransaction===!1||s.shouldRerenderOnTransaction===void 0?null:s.immediatelyRender&&c===0?0:c+1}),i}var pI=W.createContext({editor:null});pI.Consumer;var gI=W.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),xI=()=>W.useContext(gI);Sc.forwardRef((s,e)=>{const{onDragStart:r}=xI(),n=s.as||"div";return t.jsx(n,{...s,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...s.style}})});Sc.createContext({markViewContentRef:()=>{}});var qp=(s,e)=>{if(s==="slot")return 0;if(s instanceof Function)return s(e);const{children:r,...n}=e??{};if(s==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[s,n,r]},bI=/^\s*>\s$/,vI=Ud.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:s}){return qp("blockquote",{...ko(this.options.HTMLAttributes,s),children:qp("slot",{})})},parseMarkdown:(s,e)=>e.createNode("blockquote",void 0,e.parseChildren(s.tokens||[])),renderMarkdown:(s,e)=>{if(!s.content)return"";const r=">",n=[];return s.content.forEach(i=>{const d=e.renderChildren([i]).split(`
`).map(A=>A.trim()===""?r:`${r} ${A}`);n.push(d.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:s})=>s.wrapIn(this.name),toggleBlockquote:()=>({commands:s})=>s.toggleWrap(this.name),unsetBlockquote:()=>({commands:s})=>s.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[l0({find:bI,type:this.type})]}}),yI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,wI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,jI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,NI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,CI=RA.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:s=>s.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:s=>s.type.name===this.name},{style:"font-weight",getAttrs:s=>/^(bold(er)?|[5-9]\d{2,})$/.test(s)&&null}]},renderHTML({HTMLAttributes:s}){return qp("strong",{...ko(this.options.HTMLAttributes,s),children:qp("slot",{})})},markdownTokenName:"strong",parseMarkdown:(s,e)=>e.applyMark("bold",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`**${e.renderChildren(s)}**`,addCommands(){return{setBold:()=>({commands:s})=>s.setMark(this.name),toggleBold:()=>({commands:s})=>s.toggleMark(this.name),unsetBold:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[vf({find:yI,type:this.type}),vf({find:jI,type:this.type})]},addPasteRules(){return[Mh({find:wI,type:this.type}),Mh({find:NI,type:this.type})]}}),BI=/(^|[^`])`([^`]+)`(?!`)$/,kI=/(^|[^`])`([^`]+)`(?!`)/g,SI=RA.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:s}){return["code",ko(this.options.HTMLAttributes,s),0]},markdownTokenName:"codespan",parseMarkdown:(s,e)=>e.applyMark("code",[{type:"text",text:s.text||""}]),renderMarkdown:(s,e)=>s.content?`\`${e.renderChildren(s.content)}\``:"",addCommands(){return{setCode:()=>({commands:s})=>s.setMark(this.name),toggleCode:()=>({commands:s})=>s.toggleMark(this.name),unsetCode:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[vf({find:BI,type:this.type})]},addPasteRules(){return[Mh({find:kI,type:this.type})]}}),xb=4,EI=/^```([a-z]+)?[\s\n]$/,TI=/^~~~([a-z]+)?[\s\n]$/,UI=Ud.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:xb,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:s=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const c=[...((e=s.firstElementChild)==null?void 0:e.classList)||[]].filter(u=>u.startsWith(r)).map(u=>u.replace(r,""))[0];return c||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:s,HTMLAttributes:e}){return["pre",ko(this.options.HTMLAttributes,e),["code",{class:s.attrs.language?this.options.languageClassPrefix+s.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(s,e)=>{var r;return((r=s.raw)==null?void 0:r.startsWith("```"))===!1&&s.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:s.lang||null},s.text?[e.createTextNode(s.text)]:[])},renderMarkdown:(s,e)=>{var r;let n="";const i=((r=s.attrs)==null?void 0:r.language)||"";return s.content?n=[`\`\`\`${i}`,e.renderChildren(s.content),"```"].join(`
`):n=`\`\`\`${i}

\`\`\``,n},addCommands(){return{setCodeBlock:s=>({commands:e})=>e.setNode(this.name,s),toggleCodeBlock:s=>({commands:e})=>e.toggleNode(this.name,"paragraph",s)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:s,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!s||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:s})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:xb,{state:n}=s,{selection:i}=n,{$from:c,empty:u}=i;if(c.parent.type!==this.type)return!1;const d=" ".repeat(r);return u?s.commands.insertContent(d):s.commands.command(({tr:A})=>{const{from:o,to:f}=i,x=n.doc.textBetween(o,f,`
`,`
`).split(`
`).map(v=>d+v).join(`
`);return A.replaceWith(o,f,n.schema.text(x)),!0})},"Shift-Tab":({editor:s})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:xb,{state:n}=s,{selection:i}=n,{$from:c,empty:u}=i;return c.parent.type!==this.type?!1:u?s.commands.command(({tr:d})=>{var A;const{pos:o}=c,f=c.start(),m=c.end(),x=n.doc.textBetween(f,m,`
`,`
`).split(`
`);let v=0,y=0;const w=o-f;for(let H=0;H<x.length;H+=1){if(y+x[H].length>=w){v=H;break}y+=x[H].length+1}const Q=((A=x[v].match(/^ */))==null?void 0:A[0])||"",K=Math.min(Q.length,r);if(K===0)return!0;let Z=f;for(let H=0;H<v;H+=1)Z+=x[H].length+1;return d.delete(Z,Z+K),o-Z<=K&&d.setSelection(Kn.create(d.doc,Z)),!0}):s.commands.command(({tr:d})=>{const{from:A,to:o}=i,p=n.doc.textBetween(A,o,`
`,`
`).split(`
`).map(x=>{var v;const y=((v=x.match(/^ */))==null?void 0:v[0])||"",w=Math.min(y.length,r);return x.slice(w)}).join(`
`);return d.replaceWith(A,o,n.schema.text(p)),!0})},Enter:({editor:s})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=s,{selection:r}=e,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;const c=n.parentOffset===n.parent.nodeSize-2,u=n.parent.textContent.endsWith(`

`);return!c||!u?!1:s.chain().command(({tr:d})=>(d.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:s})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=s,{selection:r,doc:n}=e,{$from:i,empty:c}=r;if(!c||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const d=i.after();return d===void 0?!1:n.nodeAt(d)?s.commands.command(({tr:o})=>(o.setSelection(ha.near(n.resolve(d))),!0)):s.commands.exitCode()}}},addInputRules(){return[lv({find:EI,type:this.type,getAttributes:s=>({language:s[1]})}),lv({find:TI,type:this.type,getAttributes:s=>({language:s[1]})})]},addProseMirrorPlugins(){return[new So({key:new zl("codeBlockVSCodeHandler"),props:{handlePaste:(s,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,c=i==null?void 0:i.mode;if(!r||!c)return!1;const{tr:u,schema:d}=s.state,A=d.text(r.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:c},A)),u.selection.$from.parent.type!==this.type&&u.setSelection(Kn.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),s.dispatch(u),!0}}})]}}),FI=Ud.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`

`):""}),MI=Ud.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:s}){return["br",ko(this.options.HTMLAttributes,s)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:s,chain:e,state:r,editor:n})=>s.first([()=>s.exitCode(),()=>s.command(()=>{const{selection:i,storedMarks:c}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:d}=n.extensionManager,A=c||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:o,dispatch:f})=>{if(f&&A&&u){const m=A.filter(p=>d.includes(p.type.name));o.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),LI=Ud.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(s=>({tag:`h${s}`,attrs:{level:s}}))},renderHTML({node:s,HTMLAttributes:e}){return[`h${this.options.levels.includes(s.attrs.level)?s.attrs.level:this.options.levels[0]}`,ko(this.options.HTMLAttributes,e),0]},parseMarkdown:(s,e)=>e.createNode("heading",{level:s.depth||1},e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>{var r;const n=(r=s.attrs)!=null&&r.level?parseInt(s.attrs.level,10):1,i="#".repeat(n);return s.content?`${i} ${e.renderChildren(s.content)}`:""},addCommands(){return{setHeading:s=>({commands:e})=>this.options.levels.includes(s.level)?e.setNode(this.name,s):!1,toggleHeading:s=>({commands:e})=>this.options.levels.includes(s.level)?e.toggleNode(this.name,"paragraph",s):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((s,e)=>({...s,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(s=>lv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${s}})\\s$`),type:this.type,getAttributes:{level:s}}))}}),OI=Ud.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:s}){return["hr",ko(this.options.HTMLAttributes,s)]},markdownTokenName:"hr",parseMarkdown:(s,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:s,state:e})=>{if(!oO(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,i=s();return _N(r)?i.insertContentAt(n.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:c,tr:u,dispatch:d})=>{if(d){const{$to:A}=u.selection,o=A.end();if(A.nodeAfter)A.nodeAfter.isTextblock?u.setSelection(Kn.create(u.doc,A.pos+1)):A.nodeAfter.isBlock?u.setSelection(vn.create(u.doc,A.pos)):u.setSelection(Kn.create(u.doc,A.pos));else{const f=c.schema.nodes[this.options.nextNodeType]||A.parent.type.contentMatch.defaultType,m=f==null?void 0:f.create();m&&(u.insert(o,m),u.setSelection(Kn.create(u.doc,o+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[r4({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),II=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,DI=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,RI=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,QI=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,_I=RA.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:s=>s.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:s=>s.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:s}){return["em",ko(this.options.HTMLAttributes,s),0]},addCommands(){return{setItalic:()=>({commands:s})=>s.setMark(this.name),toggleItalic:()=>({commands:s})=>s.toggleMark(this.name),unsetItalic:()=>({commands:s})=>s.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(s,e)=>e.applyMark("italic",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`*${e.renderChildren(s)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[vf({find:II,type:this.type}),vf({find:RI,type:this.type})]},addPasteRules(){return[Mh({find:DI,type:this.type}),Mh({find:QI,type:this.type})]}});const PI="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",HI="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",uv="numeric",Av="ascii",hv="alpha",W0="asciinumeric",_0="alphanumeric",fv="domain",o4="emoji",zI="scheme",VI="slashscheme",bb="whitespace";function KI(s,e){return s in e||(e[s]=[]),e[s]}function of(s,e,r){e[uv]&&(e[W0]=!0,e[_0]=!0),e[Av]&&(e[W0]=!0,e[hv]=!0),e[W0]&&(e[_0]=!0),e[hv]&&(e[_0]=!0),e[_0]&&(e[fv]=!0),e[o4]&&(e[fv]=!0);for(const n in e){const i=KI(n,r);i.indexOf(s)<0&&i.push(s)}}function $I(s,e){const r={};for(const n in e)e[n].indexOf(s)>=0&&(r[n]=!0);return r}function Bd(s=null){this.j={},this.jr=[],this.jd=null,this.t=s}Bd.groups={};Bd.prototype={accepts(){return!!this.t},go(s){const e=this,r=e.j[s];if(r)return r;for(let n=0;n<e.jr.length;n++){const i=e.jr[n][0],c=e.jr[n][1];if(c&&i.test(s))return c}return e.jd},has(s,e=!1){return e?s in this.j:!!this.go(s)},ta(s,e,r,n){for(let i=0;i<s.length;i++)this.tt(s[i],e,r,n)},tr(s,e,r,n){n=n||Bd.groups;let i;return e&&e.j?i=e:(i=new Bd(e),r&&n&&of(e,r,n)),this.jr.push([s,i]),i},ts(s,e,r,n){let i=this;const c=s.length;if(!c)return i;for(let u=0;u<c-1;u++)i=i.tt(s[u]);return i.tt(s[c-1],e,r,n)},tt(s,e,r,n){n=n||Bd.groups;const i=this;if(e&&e.j)return i.j[s]=e,e;const c=e;let u,d=i.go(s);if(d?(u=new Bd,Object.assign(u.j,d.j),u.jr.push.apply(u.jr,d.jr),u.jd=d.jd,u.t=d.t):u=new Bd,c){if(n)if(u.t&&typeof u.t=="string"){const A=Object.assign($I(u.t,n),r);of(c,A,n)}else r&&of(c,r,n);u.t=c}return i.j[s]=u,u}};const ua=(s,e,r,n,i)=>s.ta(e,r,n,i),Vo=(s,e,r,n,i)=>s.tr(e,r,n,i),Sw=(s,e,r,n,i)=>s.ts(e,r,n,i),tr=(s,e,r,n,i)=>s.tt(e,r,n,i),TA="WORD",mv="UWORD",l4="ASCIINUMERICAL",c4="ALPHANUMERICAL",um="LOCALHOST",pv="TLD",gv="UTLD",xp="SCHEME",$f="SLASH_SCHEME",f1="NUM",xv="WS",m1="NL",Y0="OPENBRACE",X0="CLOSEBRACE",eg="OPENBRACKET",tg="CLOSEBRACKET",sg="OPENPAREN",rg="CLOSEPAREN",ng="OPENANGLEBRACKET",ag="CLOSEANGLEBRACKET",ig="FULLWIDTHLEFTPAREN",og="FULLWIDTHRIGHTPAREN",lg="LEFTCORNERBRACKET",cg="RIGHTCORNERBRACKET",dg="LEFTWHITECORNERBRACKET",ug="RIGHTWHITECORNERBRACKET",Ag="FULLWIDTHLESSTHAN",hg="FULLWIDTHGREATERTHAN",fg="AMPERSAND",mg="APOSTROPHE",pg="ASTERISK",ph="AT",gg="BACKSLASH",xg="BACKTICK",bg="CARET",bh="COLON",p1="COMMA",vg="DOLLAR",$u="DOT",yg="EQUALS",g1="EXCLAMATION",au="HYPHEN",J0="PERCENT",wg="PIPE",jg="PLUS",Ng="POUND",Z0="QUERY",x1="QUOTE",d4="FULLWIDTHMIDDLEDOT",b1="SEMI",Gu="SLASH",q0="TILDE",Cg="UNDERSCORE",u4="EMOJI",Bg="SYM";var A4=Object.freeze({__proto__:null,ALPHANUMERICAL:c4,AMPERSAND:fg,APOSTROPHE:mg,ASCIINUMERICAL:l4,ASTERISK:pg,AT:ph,BACKSLASH:gg,BACKTICK:xg,CARET:bg,CLOSEANGLEBRACKET:ag,CLOSEBRACE:X0,CLOSEBRACKET:tg,CLOSEPAREN:rg,COLON:bh,COMMA:p1,DOLLAR:vg,DOT:$u,EMOJI:u4,EQUALS:yg,EXCLAMATION:g1,FULLWIDTHGREATERTHAN:hg,FULLWIDTHLEFTPAREN:ig,FULLWIDTHLESSTHAN:Ag,FULLWIDTHMIDDLEDOT:d4,FULLWIDTHRIGHTPAREN:og,HYPHEN:au,LEFTCORNERBRACKET:lg,LEFTWHITECORNERBRACKET:dg,LOCALHOST:um,NL:m1,NUM:f1,OPENANGLEBRACKET:ng,OPENBRACE:Y0,OPENBRACKET:eg,OPENPAREN:sg,PERCENT:J0,PIPE:wg,PLUS:jg,POUND:Ng,QUERY:Z0,QUOTE:x1,RIGHTCORNERBRACKET:cg,RIGHTWHITECORNERBRACKET:ug,SCHEME:xp,SEMI:b1,SLASH:Gu,SLASH_SCHEME:$f,SYM:Bg,TILDE:q0,TLD:pv,UNDERSCORE:Cg,UTLD:gv,UWORD:mv,WORD:TA,WS:xv});const SA=/[a-z]/,L0=new RegExp("\\p{L}","u"),vb=new RegExp("\\p{Emoji}","u"),EA=/\d/,yb=/\s/,Ew="\r",wb=`
`,GI="",WI="",jb="";let sp=null,rp=null;function YI(s=[]){const e={};Bd.groups=e;const r=new Bd;sp==null&&(sp=Tw(PI)),rp==null&&(rp=Tw(HI)),tr(r,"'",mg),tr(r,"{",Y0),tr(r,"}",X0),tr(r,"[",eg),tr(r,"]",tg),tr(r,"(",sg),tr(r,")",rg),tr(r,"<",ng),tr(r,">",ag),tr(r,"",ig),tr(r,"",og),tr(r,"",lg),tr(r,"",cg),tr(r,"",dg),tr(r,"",ug),tr(r,"",Ag),tr(r,"",hg),tr(r,"&",fg),tr(r,"*",pg),tr(r,"@",ph),tr(r,"`",xg),tr(r,"^",bg),tr(r,":",bh),tr(r,",",p1),tr(r,"$",vg),tr(r,".",$u),tr(r,"=",yg),tr(r,"!",g1),tr(r,"-",au),tr(r,"%",J0),tr(r,"|",wg),tr(r,"+",jg),tr(r,"#",Ng),tr(r,"?",Z0),tr(r,'"',x1),tr(r,"/",Gu),tr(r,";",b1),tr(r,"~",q0),tr(r,"_",Cg),tr(r,"\\",gg),tr(r,"",d4);const n=Vo(r,EA,f1,{[uv]:!0});Vo(n,EA,n);const i=Vo(n,SA,l4,{[W0]:!0}),c=Vo(n,L0,c4,{[_0]:!0}),u=Vo(r,SA,TA,{[Av]:!0});Vo(u,EA,i),Vo(u,SA,u),Vo(i,EA,i),Vo(i,SA,i);const d=Vo(r,L0,mv,{[hv]:!0});Vo(d,SA),Vo(d,EA,c),Vo(d,L0,d),Vo(c,EA,c),Vo(c,SA),Vo(c,L0,c);const A=tr(r,wb,m1,{[bb]:!0}),o=tr(r,Ew,xv,{[bb]:!0}),f=Vo(r,yb,xv,{[bb]:!0});tr(r,jb,f),tr(o,wb,A),tr(o,jb,f),Vo(o,yb,f),tr(f,Ew),tr(f,wb),Vo(f,yb,f),tr(f,jb,f);const m=Vo(r,vb,u4,{[o4]:!0});tr(m,"#"),Vo(m,vb,m),tr(m,GI,m);const p=tr(m,WI);tr(p,"#"),Vo(p,vb,m);const x=[[SA,u],[EA,i]],v=[[SA,null],[L0,d],[EA,c]];for(let y=0;y<sp.length;y++)hh(r,sp[y],pv,TA,x);for(let y=0;y<rp.length;y++)hh(r,rp[y],gv,mv,v);of(pv,{tld:!0,ascii:!0},e),of(gv,{utld:!0,alpha:!0},e),hh(r,"file",xp,TA,x),hh(r,"mailto",xp,TA,x),hh(r,"http",$f,TA,x),hh(r,"https",$f,TA,x),hh(r,"ftp",$f,TA,x),hh(r,"ftps",$f,TA,x),of(xp,{scheme:!0,ascii:!0},e),of($f,{slashscheme:!0,ascii:!0},e),s=s.sort((y,w)=>y[0]>w[0]?1:-1);for(let y=0;y<s.length;y++){const w=s[y][0],Q=s[y][1]?{[zI]:!0}:{[VI]:!0};w.indexOf("-")>=0?Q[fv]=!0:SA.test(w)?EA.test(w)?Q[W0]=!0:Q[Av]=!0:Q[uv]=!0,Sw(r,w,w,Q)}return Sw(r,"localhost",um,{ascii:!0}),r.jd=new Bd(Bg),{start:r,tokens:Object.assign({groups:e},A4)}}function h4(s,e){const r=XI(e.replace(/[A-Z]/g,d=>d.toLowerCase())),n=r.length,i=[];let c=0,u=0;for(;u<n;){let d=s,A=null,o=0,f=null,m=-1,p=-1;for(;u<n&&(A=d.go(r[u]));)d=A,d.accepts()?(m=0,p=0,f=d):m>=0&&(m+=r[u].length,p++),o+=r[u].length,c+=r[u].length,u++;c-=m,u-=p,o-=m,i.push({t:f.t,v:e.slice(c-o,c),s:c-o,e:c})}return i}function XI(s){const e=[],r=s.length;let n=0;for(;n<r;){let i=s.charCodeAt(n),c,u=i<55296||i>56319||n+1===r||(c=s.charCodeAt(n+1))<56320||c>57343?s[n]:s.slice(n,n+2);e.push(u),n+=u.length}return e}function hh(s,e,r,n,i){let c;const u=e.length;for(let d=0;d<u-1;d++){const A=e[d];s.j[A]?c=s.j[A]:(c=new Bd(n),c.jr=i.slice(),s.j[A]=c),s=c}return c=new Bd(r),c.jr=i.slice(),s.j[e[u-1]]=c,c}function Tw(s){const e=[],r=[];let n=0,i="0123456789";for(;n<s.length;){let c=0;for(;i.indexOf(s[n+c])>=0;)c++;if(c>0){e.push(r.join(""));for(let u=parseInt(s.substring(n,n+c),10);u>0;u--)r.pop();n+=c}else r.push(s[n]),n++}return e}const Am={defaultProtocol:"http",events:null,format:Uw,formatHref:Uw,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function v1(s,e=null){let r=Object.assign({},Am);s&&(r=Object.assign(r,s instanceof v1?s.o:s));const n=r.ignoreTags,i=[];for(let c=0;c<n.length;c++)i.push(n[c].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=i}v1.prototype={o:Am,ignoreTags:[],defaultRender(s){return s},check(s){return this.get("validate",s.toString(),s)},get(s,e,r){const n=e!=null;let i=this.o[s];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:Am[s],typeof i=="function"&&n&&(i=i(e,r))):typeof i=="function"&&n&&(i=i(e,r.t,r)),i)},getObj(s,e,r){let n=this.o[s];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(s){const e=s.render(this);return(this.get("render",null,s)||this.defaultRender)(e,s.t,s)}};function Uw(s){return s}function f4(s,e){this.t="token",this.v=s,this.tk=e}f4.prototype={isLink:!1,toString(){return this.v},toHref(s){return this.toString()},toFormattedString(s){const e=this.toString(),r=s.get("truncate",e,this),n=s.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(s){return s.get("formatHref",this.toHref(s.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(s=Am.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(s),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(s){return{type:this.t,value:this.toFormattedString(s),isLink:this.isLink,href:this.toFormattedHref(s),start:this.startIndex(),end:this.endIndex()}},validate(s){return s.get("validate",this.toString(),this)},render(s){const e=this,r=this.toHref(s.get("defaultProtocol")),n=s.get("formatHref",r,this),i=s.get("tagName",r,e),c=this.toFormattedString(s),u={},d=s.get("className",r,e),A=s.get("target",r,e),o=s.get("rel",r,e),f=s.getObj("attributes",r,e),m=s.getObj("events",r,e);return u.href=n,d&&(u.class=d),A&&(u.target=A),o&&(u.rel=o),f&&Object.assign(u,f),{tagName:i,attributes:u,content:c,eventListeners:m}}};function ax(s,e){class r extends f4{constructor(i,c){super(i,c),this.t=s}}for(const n in e)r.prototype[n]=e[n];return r.t=s,r}const Fw=ax("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Mw=ax("text"),JI=ax("nl"),np=ax("url",{isLink:!0,toHref(s=Am.defaultProtocol){return this.hasProtocol()?this.v:`${s}://${this.v}`},hasProtocol(){const s=this.tk;return s.length>=2&&s[0].t!==um&&s[1].t===bh}}),nu=s=>new Bd(s);function ZI({groups:s}){const e=s.domain.concat([fg,pg,ph,gg,xg,bg,vg,yg,au,f1,J0,wg,jg,Ng,Gu,Bg,q0,Cg]),r=[mg,bh,p1,$u,g1,J0,Z0,x1,b1,ng,ag,Y0,X0,tg,eg,sg,rg,ig,og,lg,cg,dg,ug,Ag,hg],n=[fg,mg,pg,gg,xg,bg,vg,yg,au,Y0,X0,J0,wg,jg,Ng,Z0,Gu,Bg,q0,Cg],i=nu(),c=tr(i,q0);ua(c,n,c),ua(c,s.domain,c);const u=nu(),d=nu(),A=nu();ua(i,s.domain,u),ua(i,s.scheme,d),ua(i,s.slashscheme,A),ua(u,n,c),ua(u,s.domain,u);const o=tr(u,ph);tr(c,ph,o),tr(d,ph,o),tr(A,ph,o);const f=tr(c,$u);ua(f,n,c),ua(f,s.domain,c);const m=nu();ua(o,s.domain,m),ua(m,s.domain,m);const p=tr(m,$u);ua(p,s.domain,m);const x=nu(Fw);ua(p,s.tld,x),ua(p,s.utld,x),tr(o,um,x);const v=tr(m,au);tr(v,au,v),ua(v,s.domain,m),ua(x,s.domain,m),tr(x,$u,p),tr(x,au,v);const y=tr(x,bh);ua(y,s.numeric,Fw);const w=tr(u,au),E=tr(u,$u);tr(w,au,w),ua(w,s.domain,u),ua(E,n,c),ua(E,s.domain,u);const Q=nu(np);ua(E,s.tld,Q),ua(E,s.utld,Q),ua(Q,s.domain,u),ua(Q,n,c),tr(Q,$u,E),tr(Q,au,w),tr(Q,ph,o);const K=tr(Q,bh),Z=nu(np);ua(K,s.numeric,Z);const J=nu(np),H=nu();ua(J,e,J),ua(J,r,H),ua(H,e,J),ua(H,r,H),tr(Q,Gu,J),tr(Z,Gu,J);const G=tr(d,bh),ce=tr(A,bh),Ae=tr(ce,Gu),Ne=tr(Ae,Gu);ua(d,s.domain,u),tr(d,$u,E),tr(d,au,w),ua(A,s.domain,u),tr(A,$u,E),tr(A,au,w),ua(G,s.domain,J),tr(G,Gu,J),tr(G,Z0,J),ua(Ne,s.domain,J),ua(Ne,e,J),tr(Ne,Gu,J);const re=[[Y0,X0],[eg,tg],[sg,rg],[ng,ag],[ig,og],[lg,cg],[dg,ug],[Ag,hg]];for(let Be=0;Be<re.length;Be++){const[fe,Se]=re[Be],pe=tr(J,fe);tr(H,fe,pe),tr(pe,Se,J);const ae=nu(np);ua(pe,e,ae);const de=nu();ua(pe,r),ua(ae,e,ae),ua(ae,r,de),ua(de,e,ae),ua(de,r,de),tr(ae,Se,J),tr(de,Se,J)}return tr(i,um,Q),tr(i,m1,JI),{start:i,tokens:A4}}function qI(s,e,r){let n=r.length,i=0,c=[],u=[];for(;i<n;){let d=s,A=null,o=null,f=0,m=null,p=-1;for(;i<n&&!(A=d.go(r[i].t));)u.push(r[i++]);for(;i<n&&(o=A||d.go(r[i].t));)A=null,d=o,d.accepts()?(p=0,m=d):p>=0&&p++,i++,f++;if(p<0)i-=f,i<n&&(u.push(r[i]),i++);else{u.length>0&&(c.push(Nb(Mw,e,u)),u=[]),i-=p,f-=p;const x=m.t,v=r.slice(i-f,i);c.push(Nb(x,e,v))}}return u.length>0&&c.push(Nb(Mw,e,u)),c}function Nb(s,e,r){const n=r[0].s,i=r[r.length-1].e,c=e.slice(n,i);return new s(c,r)}const eD=typeof console<"u"&&console&&console.warn||(()=>{}),tD="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",no={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function sD(){return Bd.groups={},no.scanner=null,no.parser=null,no.tokenQueue=[],no.pluginQueue=[],no.customSchemes=[],no.initialized=!1,no}function Lw(s,e=!1){if(no.initialized&&eD(`linkifyjs: already initialized - will not register custom scheme "${s}" ${tD}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(s))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);no.customSchemes.push([s,e])}function rD(){no.scanner=YI(no.customSchemes);for(let s=0;s<no.tokenQueue.length;s++)no.tokenQueue[s][1]({scanner:no.scanner});no.parser=ZI(no.scanner.tokens);for(let s=0;s<no.pluginQueue.length;s++)no.pluginQueue[s][1]({scanner:no.scanner,parser:no.parser});return no.initialized=!0,no}function y1(s){return no.initialized||rD(),qI(no.parser.start,s,h4(no.scanner.start,s))}y1.scan=h4;function m4(s,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new v1(r),i=y1(s),c=[];for(let u=0;u<i.length;u++){const d=i[u];d.isLink&&(!e||d.t===e)&&n.check(d)&&c.push(d.toFormattedObject(n))}return c}var w1="[\0- -\u2029]",nD=new RegExp(w1),aD=new RegExp(`${w1}$`),iD=new RegExp(w1,"g");function oD(s){return s.length===1?s[0].isLink:s.length===3&&s[1].isLink?["()","[]"].includes(s[0].value+s[2].value):!1}function lD(s){return new So({key:new zl("autolink"),appendTransaction:(e,r,n)=>{const i=e.some(o=>o.docChanged)&&!r.doc.eq(n.doc),c=e.some(o=>o.getMeta("preventAutolink"));if(!i||c)return;const{tr:u}=n,d=FN(r.doc,[...e]);if(QN(d).forEach(({newRange:o})=>{const f=iL(n.doc,o,x=>x.isTextblock);let m,p;if(f.length>1)m=f[0],p=n.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(f.length){const x=n.doc.textBetween(o.from,o.to," "," ");if(!aD.test(x))return;m=f[0],p=n.doc.textBetween(m.pos,o.to,void 0," ")}if(m&&p){const x=p.split(nD).filter(Boolean);if(x.length<=0)return!1;const v=x[x.length-1],y=m.pos+p.lastIndexOf(v);if(!v)return!1;const w=y1(v).map(E=>E.toObject(s.defaultProtocol));if(!oD(w))return!1;w.filter(E=>E.isLink).map(E=>({...E,from:y+E.start+1,to:y+E.end+1})).filter(E=>n.schema.marks.code?!n.doc.rangeHasMark(E.from,E.to,n.schema.marks.code):!0).filter(E=>s.validate(E.value)).filter(E=>s.shouldAutoLink(E.value)).forEach(E=>{c1(E.from,E.to,n.doc).some(Q=>Q.mark.type===s.type)||u.addMark(E.from,E.to,s.type.create({href:E.href}))})}}),!!u.steps.length)return u}})}function cD(s){return new So({key:new zl("handleClickLink"),props:{handleClick:(e,r,n)=>{var i,c;if(n.button!==0||!e.editable)return!1;let u=!1;if(s.enableClickSelection&&(u=s.editor.commands.extendMarkRange(s.type.name)),s.openOnClick){let d=null;if(n.target instanceof HTMLAnchorElement)d=n.target;else{let m=n.target;const p=[];for(;m.nodeName!=="DIV";)p.push(m),m=m.parentNode;d=p.find(x=>x.nodeName==="A")}if(!d)return u;const A=RN(e.state,s.type.name),o=(i=d==null?void 0:d.href)!=null?i:A.href,f=(c=d==null?void 0:d.target)!=null?c:A.target;d&&o&&(window.open(o,f),u=!0)}return u}}})}function dD(s){return new So({key:new zl("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{shouldAutoLink:i}=s,{state:c}=e,{selection:u}=c,{empty:d}=u;if(d)return!1;let A="";n.content.forEach(f=>{A+=f.textContent});const o=m4(A,{defaultProtocol:s.defaultProtocol}).find(f=>f.isLink&&f.value===A);return!A||!o||i!==void 0&&!i(o.href)?!1:s.editor.commands.setMark(s.type,{href:o.href})}}})}function qh(s,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!s||s.replace(iD,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var p4=RA.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(s=>{if(typeof s=="string"){Lw(s);return}Lw(s.scheme,s.optionalSlashes)})},onDestroy(){sD()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(s,e)=>!!qh(s,e.protocols),validate:s=>!!s,shouldAutoLink:s=>!!s}},addAttributes(){return{href:{default:null,parseHTML(s){return s.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:s=>{const e=s.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!qh(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:s}){return this.options.isAllowedUri(s.href,{defaultValidate:e=>!!qh(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ko(this.options.HTMLAttributes,s),0]:["a",ko(this.options.HTMLAttributes,{...s,href:""}),0]},markdownTokenName:"link",parseMarkdown:(s,e)=>e.applyMark("link",e.parseInline(s.tokens||[]),{href:s.href,title:s.title||null}),renderMarkdown:(s,e)=>{var r;const n=((r=s.attrs)==null?void 0:r.href)||"";return`[${e.renderChildren(s)}](${n})`},addCommands(){return{setLink:s=>({chain:e})=>{const{href:r}=s;return this.options.isAllowedUri(r,{defaultValidate:n=>!!qh(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,s).setMeta("preventAutolink",!0).run():!1},toggleLink:s=>({chain:e})=>{const{href:r}=s||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!qh(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,s,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:s})=>s().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Mh({find:s=>{const e=[];if(s){const{protocols:r,defaultProtocol:n}=this.options,i=m4(s).filter(c=>c.isLink&&this.options.isAllowedUri(c.value,{defaultValidate:u=>!!qh(u,r),protocols:r,defaultProtocol:n}));i.length&&i.forEach(c=>{this.options.shouldAutoLink(c.value)&&e.push({text:c.value,data:{href:c.href},index:c.start})})}return e},type:this.type,getAttributes:s=>{var e;return{href:(e=s.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const s=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&s.push(lD({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:i=>!!qh(i,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),s.push(cD({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&s.push(dD({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),s}}),uD=Object.defineProperty,AD=(s,e)=>{for(var r in e)uD(s,r,{get:e[r],enumerable:!0})},hD="listItem",Ow="textStyle",Iw=/^\s*([-+*])\s$/,g4=Ud.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:s}){return["ul",ko(this.options.HTMLAttributes,s),0]},markdownTokenName:"list",parseMarkdown:(s,e)=>s.type!=="list"||s.ordered?[]:{type:"bulletList",content:s.items?e.parseChildren(s.items):[]},renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:s,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(hD,this.editor.getAttributes(Ow)).run():s.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let s=l0({find:Iw,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(s=l0({find:Iw,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Ow),editor:this.editor})),[s]}}),x4=Ud.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:s}){return["li",ko(this.options.HTMLAttributes,s),0]},markdownTokenName:"list_item",parseMarkdown:(s,e)=>{if(s.type!=="list_item")return[];let r=[];if(s.tokens&&s.tokens.length>0)if(s.tokens.some(i=>i.type==="paragraph"))r=e.parseChildren(s.tokens);else{const i=s.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(r=[{type:"paragraph",content:e.parseInline(i.tokens)}],s.tokens.length>1){const u=s.tokens.slice(1),d=e.parseChildren(u);r.push(...d)}}else r=e.parseChildren(s.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(s,e,r)=>h1(s,e,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),fD={};AD(fD,{findListItemPos:()=>wm,getNextListDepth:()=>j1,handleBackspace:()=>bv,handleDelete:()=>vv,hasListBefore:()=>b4,hasListItemAfter:()=>mD,hasListItemBefore:()=>v4,listItemHasSubList:()=>y4,nextListIsDeeper:()=>w4,nextListIsHigher:()=>j4});var wm=(s,e)=>{const{$from:r}=e.selection,n=Sl(s,e.schema);let i=null,c=r.depth,u=r.pos,d=null;for(;c>0&&d===null;)i=r.node(c),i.type===n?d=c:(c-=1,u-=1);return d===null?null:{$pos:e.doc.resolve(u),depth:d}},j1=(s,e)=>{const r=wm(s,e);if(!r)return!1;const[,n]=pL(e,s,r.$pos.pos+4);return n},b4=(s,e,r)=>{const{$anchor:n}=s.selection,i=Math.max(0,n.pos-2),c=s.doc.resolve(i).node();return!(!c||!r.includes(c.type.name))},v4=(s,e)=>{var r;const{$anchor:n}=e.selection,i=e.doc.resolve(n.pos-2);return!(i.index()===0||((r=i.nodeBefore)==null?void 0:r.type.name)!==s)},y4=(s,e,r)=>{if(!r)return!1;const n=Sl(s,e.schema);let i=!1;return r.descendants(c=>{c.type===n&&(i=!0)}),i},bv=(s,e,r)=>{if(s.commands.undoInputRule())return!0;if(s.state.selection.from!==s.state.selection.to)return!1;if(!Fh(s.state,e)&&b4(s.state,e,r)){const{$anchor:d}=s.state.selection,A=s.state.doc.resolve(d.before()-1),o=[];A.node().descendants((p,x)=>{p.type.name===e&&o.push({node:p,pos:x})});const f=o.at(-1);if(!f)return!1;const m=s.state.doc.resolve(A.start()+f.pos+1);return s.chain().cut({from:d.start()-1,to:d.end()+1},m.end()).joinForward().run()}if(!Fh(s.state,e)||!vL(s.state))return!1;const n=wm(e,s.state);if(!n)return!1;const c=s.state.doc.resolve(n.$pos.pos-2).node(n.depth),u=y4(e,s.state,c);return v4(e,s.state)&&!u?s.commands.joinItemBackward():s.chain().liftListItem(e).run()},w4=(s,e)=>{const r=j1(s,e),n=wm(s,e);return!n||!r?!1:r>n.depth},j4=(s,e)=>{const r=j1(s,e),n=wm(s,e);return!n||!r?!1:r<n.depth},vv=(s,e)=>{if(!Fh(s.state,e)||!bL(s.state,e))return!1;const{selection:r}=s.state,{$from:n,$to:i}=r;return!r.empty&&n.sameParent(i)?!1:w4(e,s.state)?s.chain().focus(s.state.selection.from+4).lift(e).joinBackward().run():j4(e,s.state)?s.chain().joinForward().joinBackward().run():s.commands.joinItemForward()},mD=(s,e)=>{var r;const{$anchor:n}=e.selection,i=e.doc.resolve(n.pos-n.parentOffset-2);return!(i.index()===i.parent.childCount-1||((r=i.nodeAfter)==null?void 0:r.type.name)!==s)},N4=Li.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{s.state.schema.nodes[r]!==void 0&&vv(s,r)&&(e=!0)}),e},"Mod-Delete":({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{s.state.schema.nodes[r]!==void 0&&vv(s,r)&&(e=!0)}),e},Backspace:({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{s.state.schema.nodes[r]!==void 0&&bv(s,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{s.state.schema.nodes[r]!==void 0&&bv(s,r,n)&&(e=!0)}),e}}}}),Dw=/^(\s*)(\d+)\.\s+(.*)$/,pD=/^\s/;function gD(s){const e=[];let r=0,n=0;for(;r<s.length;){const i=s[r],c=i.match(Dw);if(!c)break;const[,u,d,A]=c,o=u.length;let f=A,m=r+1;const p=[i];for(;m<s.length;){const x=s[m];if(x.match(Dw))break;if(x.trim()==="")p.push(x),f+=`
`,m+=1;else if(x.match(pD))p.push(x),f+=`
${x.slice(o+2)}`,m+=1;else break}e.push({indent:o,number:parseInt(d,10),content:f.trim(),raw:p.join(`
`)}),n=m,r=m}return[e,n]}function C4(s,e,r){var n;const i=[];let c=0;for(;c<s.length;){const u=s[c];if(u.indent===e){const d=u.content.split(`
`),A=((n=d[0])==null?void 0:n.trim())||"",o=[];A&&o.push({type:"paragraph",raw:A,tokens:r.inlineTokens(A)});const f=d.slice(1).join(`
`).trim();if(f){const x=r.blockTokens(f);o.push(...x)}let m=c+1;const p=[];for(;m<s.length&&s[m].indent>e;)p.push(s[m]),m+=1;if(p.length>0){const x=Math.min(...p.map(y=>y.indent)),v=C4(p,x,r);o.push({type:"list",ordered:!0,start:p[0].number,items:v,raw:p.map(y=>y.raw).join(`
`)})}i.push({type:"list_item",raw:u.raw,tokens:o}),c=m}else c+=1}return i}function xD(s,e){return s.map(r=>{if(r.type!=="list_item")return e.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")n.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const c=e.parseChildren([i]);n.push({type:"paragraph",content:c})}else{const c=e.parseChildren([i]);c.length>0&&n.push(...c)}}),{type:"listItem",content:n}})}var bD="listItem",Rw="textStyle",Qw=/^(\d+)\.\s$/,B4=Ud.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:s=>s.hasAttribute("start")?parseInt(s.getAttribute("start")||"",10):1},type:{default:null,parseHTML:s=>s.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:s}){const{start:e,...r}=s;return e===1?["ol",ko(this.options.HTMLAttributes,r),0]:["ol",ko(this.options.HTMLAttributes,s),0]},markdownTokenName:"list",parseMarkdown:(s,e)=>{if(s.type!=="list"||!s.ordered)return[];const r=s.start||1,n=s.items?xD(s.items,e):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:s=>{const e=s.match(/^(\s*)(\d+)\.\s+/),r=e==null?void 0:e.index;return r!==void 0?r:-1},tokenize:(s,e,r)=>{var n;const i=s.split(`
`),[c,u]=gD(i);if(c.length===0)return;const d=C4(c,0,r);return d.length===0?void 0:{type:"list",ordered:!0,start:((n=c[0])==null?void 0:n.number)||1,items:d,raw:i.slice(0,u).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:s,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(bD,this.editor.getAttributes(Rw)).run():s.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let s=l0({find:Qw,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(s=l0({find:Qw,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Rw)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[s]}}),vD=/^\s*(\[([( |x])?\])\s$/,yD=Ud.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:s=>{const e=s.getAttribute("data-checked");return e===""||e==="true"},renderHTML:s=>({"data-checked":s.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:s,HTMLAttributes:e}){return["li",ko(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:s.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(s,e)=>{const r=[];if(s.tokens&&s.tokens.length>0?r.push(e.createNode("paragraph",{},e.parseInline(s.tokens))):s.text?r.push(e.createNode("paragraph",{},[e.createNode("text",{text:s.text})])):r.push(e.createNode("paragraph",{},[])),s.nestedTokens&&s.nestedTokens.length>0){const n=e.parseChildren(s.nestedTokens);r.push(...n)}return e.createNode("taskItem",{checked:s.checked||!1},r)},renderMarkdown:(s,e)=>{var r;const i=`- [${(r=s.attrs)!=null&&r.checked?"x":" "}] `;return h1(s,e,i)},addKeyboardShortcuts(){const s={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...s,Tab:()=>this.editor.commands.sinkListItem(this.name)}:s},addNodeView(){return({node:s,HTMLAttributes:e,getPos:r,editor:n})=>{const i=document.createElement("li"),c=document.createElement("label"),u=document.createElement("span"),d=document.createElement("input"),A=document.createElement("div"),o=f=>{var m,p;d.ariaLabel=((p=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:p.call(m,f,d.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return o(s),c.contentEditable="false",d.type="checkbox",d.addEventListener("mousedown",f=>f.preventDefault()),d.addEventListener("change",f=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){d.checked=!d.checked;return}const{checked:m}=f.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const x=r();if(typeof x!="number")return!1;const v=p.doc.nodeAt(x);return p.setNodeMarkup(x,void 0,{...v==null?void 0:v.attrs,checked:m}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(s,m)||(d.checked=!d.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,m])=>{i.setAttribute(f,m)}),i.dataset.checked=s.attrs.checked,d.checked=s.attrs.checked,c.append(d,u),i.append(c,A),Object.entries(e).forEach(([f,m])=>{i.setAttribute(f,m)}),{dom:i,contentDOM:A,update:f=>f.type!==this.type?!1:(i.dataset.checked=f.attrs.checked,d.checked=f.attrs.checked,o(f),!0)}}},addInputRules(){return[l0({find:vD,type:this.type,getAttributes:s=>({checked:s[s.length-1]==="x"})})]}}),wD=Ud.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:s}){return["ul",ko(this.options.HTMLAttributes,s,{"data-type":this.name}),0]},parseMarkdown:(s,e)=>e.createNode("taskList",{},e.parseChildren(s.items||[])),renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(s){var e;const r=(e=s.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return r!==void 0?r:-1},tokenize(s,e,r){const n=c=>{const u=cv(c,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:d=>({indentLevel:d[1].length,mainContent:d[4],checked:d[3].toLowerCase()==="x"}),createToken:(d,A)=>({type:"taskItem",raw:"",mainContent:d.mainContent,indentLevel:d.indentLevel,checked:d.checked,text:d.mainContent,tokens:r.inlineTokens(d.mainContent),nestedTokens:A}),customNestedParser:n},r);return u?[{type:"taskList",raw:u.raw,items:u.items}]:r.blockTokens(c)},i=cv(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,u)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:r.inlineTokens(c.mainContent),nestedTokens:u}),customNestedParser:n},r);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:s})=>s.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Li.create({name:"listKit",addExtensions(){const s=[];return this.options.bulletList!==!1&&s.push(g4.configure(this.options.bulletList)),this.options.listItem!==!1&&s.push(x4.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(N4.configure(this.options.listKeymap)),this.options.orderedList!==!1&&s.push(B4.configure(this.options.orderedList)),this.options.taskItem!==!1&&s.push(yD.configure(this.options.taskItem)),this.options.taskList!==!1&&s.push(wD.configure(this.options.taskList)),s}});var jD=Ud.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:s}){return["p",ko(this.options.HTMLAttributes,s),0]},parseMarkdown:(s,e)=>{const r=s.tokens||[];return r.length===1&&r[0].type==="image"?e.parseChildren([r[0]]):e.createNode("paragraph",void 0,e.parseInline(r))},renderMarkdown:(s,e)=>!s||!Array.isArray(s.content)?"":e.renderChildren(s.content),addCommands(){return{setParagraph:()=>({commands:s})=>s.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ND=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,CD=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,BD=RA.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:s=>s.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:s}){return["s",ko(this.options.HTMLAttributes,s),0]},markdownTokenName:"del",parseMarkdown:(s,e)=>e.applyMark("strike",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`~~${e.renderChildren(s)}~~`,addCommands(){return{setStrike:()=>({commands:s})=>s.setMark(this.name),toggleStrike:()=>({commands:s})=>s.toggleMark(this.name),unsetStrike:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[vf({find:ND,type:this.type})]},addPasteRules(){return[Mh({find:CD,type:this.type})]}}),kD=Ud.create({name:"text",group:"inline",parseMarkdown:s=>({type:"text",text:s.text||""}),renderMarkdown:s=>s.text||""}),k4=RA.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:s=>s.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:s}){return["u",ko(this.options.HTMLAttributes,s),0]},parseMarkdown(s,e){return e.applyMark(this.name||"underline",e.parseInline(s.tokens||[]))},renderMarkdown(s,e){return`++${e.renderChildren(s)}++`},markdownTokenizer:{name:"underline",level:"inline",start(s){return s.indexOf("++")},tokenize(s,e,r){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(s);if(!i)return;const c=i[2].trim();return{type:"underline",raw:i[0],text:c,tokens:r.inlineTokens(c)}}},addCommands(){return{setUnderline:()=>({commands:s})=>s.setMark(this.name),toggleUnderline:()=>({commands:s})=>s.toggleMark(this.name),unsetUnderline:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function SD(s={}){return new So({view(e){return new ED(e,s)}})}class ED{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let c=u=>{this[i](u)};return e.dom.addEventListener(i,c),{name:i,handler:c}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,i=this.editorView.dom,c=i.getBoundingClientRect(),u=c.width/i.offsetWidth,d=c.height/i.offsetHeight;if(r){let m=e.nodeBefore,p=e.nodeAfter;if(m||p){let x=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(x){let v=x.getBoundingClientRect(),y=m?v.bottom:v.top;m&&p&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*d;n={left:v.left,right:v.right,top:y-w,bottom:y+w}}}}if(!n){let m=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*u;n={left:m.left-p,right:m.left+p,top:m.top,bottom:m.bottom}}let A=this.editorView.dom.offsetParent;this.element||(this.element=A.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let o,f;if(!A||A==document.body&&getComputedStyle(A).position=="static")o=-pageXOffset,f=-pageYOffset;else{let m=A.getBoundingClientRect(),p=m.width/A.offsetWidth,x=m.height/A.offsetHeight;o=m.left-A.scrollLeft*p,f=m.top-A.scrollTop*x}this.element.style.left=(n.left-o)/u+"px",this.element.style.top=(n.top-f)/d+"px",this.element.style.width=(n.right-n.left)/u+"px",this.element.style.height=(n.bottom-n.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,c=typeof i=="function"?i(this.editorView,r,e):i;if(r&&!c){let u=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=j5(this.editorView.state.doc,u,this.editorView.dragging.slice);d!=null&&(u=d)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class $o extends ha{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return $o.valid(n)?new $o(n):ha.near(n)}content(){return Dr.empty}eq(e){return e instanceof $o&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new $o(e.resolve(r.pos))}getBookmark(){return new N1(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!TD(e)||!UD(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&$o.valid(e))return e;let i=e.pos,c=null;for(let u=e.depth;;u--){let d=e.node(u);if(r>0?e.indexAfter(u)<d.childCount:e.index(u)>0){c=d.child(r>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;i+=r;let A=e.doc.resolve(i);if($o.valid(A))return A}for(;;){let u=r>0?c.firstChild:c.lastChild;if(!u){if(c.isAtom&&!c.isText&&!vn.isSelectable(c)){e=e.doc.resolve(i+c.nodeSize*r),n=!1;continue e}break}c=u,i+=r;let d=e.doc.resolve(i);if($o.valid(d))return d}return null}}}$o.prototype.visible=!1;$o.findFrom=$o.findGapCursorFrom;ha.jsonID("gapcursor",$o);class N1{constructor(e){this.pos=e}map(e){return new N1(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return $o.valid(r)?new $o(r):ha.near(r)}}function S4(s){return s.isAtom||s.spec.isolating||s.spec.createGapCursor}function TD(s){for(let e=s.depth;e>=0;e--){let r=s.index(e),n=s.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||S4(i.type))return!0;if(i.inlineContent)return!1}}return!0}function UD(s){for(let e=s.depth;e>=0;e--){let r=s.indexAfter(e),n=s.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||S4(i.type))return!0;if(i.inlineContent)return!1}}return!0}function FD(){return new So({props:{decorations:ID,createSelectionBetween(s,e,r){return e.pos==r.pos&&$o.valid(r)?new $o(r):null},handleClick:LD,handleKeyDown:MD,handleDOMEvents:{beforeinput:OD}}})}const MD=NN({ArrowLeft:ap("horiz",-1),ArrowRight:ap("horiz",1),ArrowUp:ap("vert",-1),ArrowDown:ap("vert",1)});function ap(s,e){const r=s=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,i,c){let u=n.selection,d=e>0?u.$to:u.$from,A=u.empty;if(u instanceof Kn){if(!c.endOfTextblock(r)||d.depth==0)return!1;A=!1,d=n.doc.resolve(e>0?d.after():d.before())}let o=$o.findGapCursorFrom(d,e,A);return o?(i&&i(n.tr.setSelection(new $o(o))),!0):!1}}function LD(s,e,r){if(!s||!s.editable)return!1;let n=s.state.doc.resolve(e);if(!$o.valid(n))return!1;let i=s.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&vn.isSelectable(s.state.doc.nodeAt(i.inside))?!1:(s.dispatch(s.state.tr.setSelection(new $o(n))),!0)}function OD(s,e){if(e.inputType!="insertCompositionText"||!(s.state.selection instanceof $o))return!1;let{$from:r}=s.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(s.state.schema.nodes.text);if(!n)return!1;let i=Ws.empty;for(let u=n.length-1;u>=0;u--)i=Ws.from(n[u].createAndFill(null,i));let c=s.state.tr.replace(r.pos,r.pos,new Dr(i,0,0));return c.setSelection(Kn.near(c.doc.resolve(r.pos+1))),s.dispatch(c),!1}function ID(s){if(!(s.selection instanceof $o))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",No.create(s.doc,[ad.widget(s.selection.head,e,{key:"gapcursor"})])}var kg=200,dc=function(){};dc.prototype.append=function(e){return e.length?(e=dc.from(e),!this.length&&e||e.length<kg&&this.leafAppend(e)||this.length<kg&&e.leafPrepend(this)||this.appendInner(e)):this};dc.prototype.prepend=function(e){return e.length?dc.from(e).append(this):this};dc.prototype.appendInner=function(e){return new DD(this,e)};dc.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?dc.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};dc.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};dc.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};dc.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(c,u){return i.push(e(c,u))},r,n),i};dc.from=function(e){return e instanceof dc?e:e&&e.length?new E4(e):dc.empty};var E4=(function(s){function e(n){s.call(this),this.values=n}s&&(e.__proto__=s),e.prototype=Object.create(s&&s.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,c){return i==0&&c==this.length?this:new e(this.values.slice(i,c))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,c,u,d){for(var A=c;A<u;A++)if(i(this.values[A],d+A)===!1)return!1},e.prototype.forEachInvertedInner=function(i,c,u,d){for(var A=c-1;A>=u;A--)if(i(this.values[A],d+A)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=kg)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=kg)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(dc);dc.empty=new E4([]);var DD=(function(s){function e(r,n){s.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return s&&(e.__proto__=s),e.prototype=Object.create(s&&s.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,c,u){var d=this.left.length;if(i<d&&this.left.forEachInner(n,i,Math.min(c,d),u)===!1||c>d&&this.right.forEachInner(n,Math.max(i-d,0),Math.min(this.length,c)-d,u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,c,u){var d=this.left.length;if(i>d&&this.right.forEachInvertedInner(n,i-d,Math.max(c,d)-d,u+d)===!1||c<d&&this.left.forEachInvertedInner(n,Math.min(i,d),c,u)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var c=this.left.length;return i<=c?this.left.slice(n,i):n>=c?this.right.slice(n-c,i-c):this.left.slice(n,c).append(this.right.slice(0,i-c))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(dc);const RD=500;class Su{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,c;r&&(i=this.remapping(n,this.items.length),c=i.maps.length);let u=e.tr,d,A,o=[],f=[];return this.items.forEach((m,p)=>{if(!m.step){i||(i=this.remapping(n,p+1),c=i.maps.length),c--,f.push(m);return}if(i){f.push(new Wu(m.map));let x=m.step.map(i.slice(c)),v;x&&u.maybeStep(x).doc&&(v=u.mapping.maps[u.mapping.maps.length-1],o.push(new Wu(v,void 0,void 0,o.length+f.length))),c--,v&&i.appendMap(v,c)}else u.maybeStep(m.step);if(m.selection)return d=i?m.selection.map(i.slice(c)):m.selection,A=new Su(this.items.slice(0,n).append(f.reverse().concat(o)),this.eventCount-1),!1},this.items.length,0),{remaining:A,transform:u,selection:d}}addTransform(e,r,n,i){let c=[],u=this.eventCount,d=this.items,A=!i&&d.length?d.get(d.length-1):null;for(let f=0;f<e.steps.length;f++){let m=e.steps[f].invert(e.docs[f]),p=new Wu(e.mapping.maps[f],m,r),x;(x=A&&A.merge(p))&&(p=x,f?c.pop():d=d.slice(0,d.length-1)),c.push(p),r&&(u++,r=void 0),i||(A=p)}let o=u-n.depth;return o>_D&&(d=QD(d,o),u-=o),new Su(d.append(c),u)}remapping(e,r){let n=new am;return this.items.forEach((i,c)=>{let u=i.mirrorOffset!=null&&c-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,u)},e,r),n}addMaps(e){return this.eventCount==0?this:new Su(this.items.append(e.map(r=>new Wu(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),c=e.mapping,u=e.steps.length,d=this.eventCount;this.items.forEach(p=>{p.selection&&d--},i);let A=r;this.items.forEach(p=>{let x=c.getMirror(--A);if(x==null)return;u=Math.min(u,x);let v=c.maps[x];if(p.step){let y=e.steps[x].invert(e.docs[x]),w=p.selection&&p.selection.map(c.slice(A+1,x));w&&d++,n.push(new Wu(v,y,w))}else n.push(new Wu(v))},i);let o=[];for(let p=r;p<u;p++)o.push(new Wu(c.maps[p]));let f=this.items.slice(0,i).append(o).append(n),m=new Su(f,d);return m.emptyItemCount()>RD&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],c=0;return this.items.forEach((u,d)=>{if(d>=e)i.push(u),u.selection&&c++;else if(u.step){let A=u.step.map(r.slice(n)),o=A&&A.getMap();if(n--,o&&r.appendMap(o,n),A){let f=u.selection&&u.selection.map(r.slice(n));f&&c++;let m=new Wu(o.invert(),A,f),p,x=i.length-1;(p=i.length&&i[x].merge(m))?i[x]=p:i.push(m)}}else u.map&&n--},this.items.length,0),new Su(dc.from(i.reverse()),c)}}Su.empty=new Su(dc.empty,0);function QD(s,e){let r;return s.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),s.slice(r)}class Wu{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Wu(r.getMap().invert(),r,this.selection)}}}class gh{constructor(e,r,n,i,c){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=c}}const _D=20;function PD(s,e,r,n){let i=r.getMeta(hf),c;if(i)return i.historyState;r.getMeta(VD)&&(s=new gh(s.done,s.undone,null,0,-1));let u=r.getMeta("appendedTransaction");if(r.steps.length==0)return s;if(u&&u.getMeta(hf))return u.getMeta(hf).redo?new gh(s.done.addTransform(r,void 0,n,bp(e)),s.undone,_w(r.mapping.maps),s.prevTime,s.prevComposition):new gh(s.done,s.undone.addTransform(r,void 0,n,bp(e)),null,s.prevTime,s.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let d=r.getMeta("composition"),A=s.prevTime==0||!u&&s.prevComposition!=d&&(s.prevTime<(r.time||0)-n.newGroupDelay||!HD(r,s.prevRanges)),o=u?Cb(s.prevRanges,r.mapping):_w(r.mapping.maps);return new gh(s.done.addTransform(r,A?e.selection.getBookmark():void 0,n,bp(e)),Su.empty,o,r.time,d??s.prevComposition)}else return(c=r.getMeta("rebased"))?new gh(s.done.rebased(r,c),s.undone.rebased(r,c),Cb(s.prevRanges,r.mapping),s.prevTime,s.prevComposition):new gh(s.done.addMaps(r.mapping.maps),s.undone.addMaps(r.mapping.maps),Cb(s.prevRanges,r.mapping),s.prevTime,s.prevComposition)}function HD(s,e){if(!e)return!1;if(!s.docChanged)return!0;let r=!1;return s.mapping.maps[0].forEach((n,i)=>{for(let c=0;c<e.length;c+=2)n<=e[c+1]&&i>=e[c]&&(r=!0)}),r}function _w(s){let e=[];for(let r=s.length-1;r>=0&&e.length==0;r--)s[r].forEach((n,i,c,u)=>e.push(c,u));return e}function Cb(s,e){if(!s)return null;let r=[];for(let n=0;n<s.length;n+=2){let i=e.map(s[n],1),c=e.map(s[n+1],-1);i<=c&&r.push(i,c)}return r}function zD(s,e,r){let n=bp(e),i=hf.get(e).spec.config,c=(r?s.undone:s.done).popEvent(e,n);if(!c)return null;let u=c.selection.resolve(c.transform.doc),d=(r?s.done:s.undone).addTransform(c.transform,e.selection.getBookmark(),i,n),A=new gh(r?d:c.remaining,r?c.remaining:d,null,0,-1);return c.transform.setSelection(u).setMeta(hf,{redo:r,historyState:A})}let Bb=!1,Pw=null;function bp(s){let e=s.plugins;if(Pw!=e){Bb=!1,Pw=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Bb=!0;break}}return Bb}const hf=new zl("history"),VD=new zl("closeHistory");function KD(s={}){return s={depth:s.depth||100,newGroupDelay:s.newGroupDelay||500},new So({key:hf,state:{init(){return new gh(Su.empty,Su.empty,null,0,-1)},apply(e,r,n){return PD(r,n,e,s)}},config:s,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?U4:n=="historyRedo"?F4:null;return!i||!e.editable?!1:(r.preventDefault(),i(e.state,e.dispatch))}}}})}function T4(s,e){return(r,n)=>{let i=hf.getState(r);if(!i||(s?i.undone:i.done).eventCount==0)return!1;if(n){let c=zD(i,r,s);c&&n(e?c.scrollIntoView():c)}return!0}}const U4=T4(!1,!0),F4=T4(!0,!0);Li.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:s=>s.length,wordCounter:s=>s.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=s=>{const e=(s==null?void 0:s.node)||this.editor.state.doc;if(((s==null?void 0:s.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=s=>{const e=(s==null?void 0:s.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let s=!1;return[new So({key:new zl("characterCount"),appendTransaction:(e,r,n)=>{if(s)return;const i=this.options.limit;if(i==null||i===0){s=!0;return}const c=this.storage.characters({node:n.doc});if(c>i){const u=c-i,d=0,A=u;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const o=n.tr.deleteRange(d,A);return s=!0,o}s=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const i=this.storage.characters({node:r.doc}),c=this.storage.characters({node:e.doc});if(c<=n||i>n&&c>n&&c<=i)return!0;if(i>n&&c>n&&c>i||!e.getMeta("paste"))return!1;const d=e.selection.$head.pos,A=c-n,o=d-A,f=d;return e.deleteRange(o,f),!(this.storage.characters({node:e.doc})>n)}})]}});var $D=Li.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[SD(this.options)]}});Li.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new So({key:new zl("focus"),props:{decorations:({doc:s,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:i}=e,c=[];if(!r||!n)return No.create(s,[]);let u=0;this.options.mode==="deepest"&&s.descendants((A,o)=>{if(A.isText)return;if(!(i>=o&&i<=o+A.nodeSize-1))return!1;u+=1});let d=0;return s.descendants((A,o)=>{if(A.isText||!(i>=o&&i<=o+A.nodeSize-1))return!1;if(d+=1,this.options.mode==="deepest"&&u-d>0||this.options.mode==="shallowest"&&d>1)return this.options.mode==="deepest";c.push(ad.node(o,o+A.nodeSize,{class:this.options.className}))}),No.create(s,c)}}})]}});var GD=Li.create({name:"gapCursor",addProseMirrorPlugins(){return[FD()]},extendNodeSchema(s){var e;const r={name:s.name,options:s.options,storage:s.storage};return{allowGapCursor:(e=wi(gn(s,"allowGapCursor",r)))!=null?e:null}}}),WD=Li.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new So({key:new zl("placeholder"),props:{decorations:({doc:s,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,i=[];if(!r)return null;const c=this.editor.isEmpty;return s.descendants((u,d)=>{const A=n>=d&&n<=d+u.nodeSize,o=!u.isLeaf&&sx(u);if((A||!this.options.showOnlyCurrent)&&o){const f=[this.options.emptyNodeClass];c&&f.push(this.options.emptyEditorClass);const m=ad.node(d,d+u.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:u,pos:d,hasAnchor:A}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),No.create(s,i)}}})]}});Li.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:s,options:e}=this;return[new So({key:new zl("selection"),props:{decorations(r){return r.selection.empty||s.isFocused||!s.isEditable||_N(r.selection)||s.view.dragging?null:No.create(r.doc,[ad.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function Hw({types:s,node:e}){return e&&Array.isArray(s)&&s.includes(e.type)||(e==null?void 0:e.type)===s}var YD=Li.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var s;const e=new zl(this.name),r=this.options.node||((s=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:s.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(r).includes(i.name));return[new So({key:e,appendTransaction:(i,c,u)=>{const{doc:d,tr:A,schema:o}=u,f=e.getState(u),m=d.content.size,p=o.nodes[r];if(f)return A.insert(m,p.create())},state:{init:(i,c)=>{const u=c.tr.doc.lastChild;return!Hw({node:u,types:n})},apply:(i,c)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return c;const u=i.doc.lastChild;return!Hw({node:u,types:n})}}})]}}),XD=Li.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:s,dispatch:e})=>U4(s,e),redo:()=>({state:s,dispatch:e})=>F4(s,e)}},addProseMirrorPlugins(){return[KD(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),JD=Li.create({name:"starterKit",addExtensions(){var s,e,r,n;const i=[];return this.options.bold!==!1&&i.push(CI.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(vI.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(g4.configure(this.options.bulletList)),this.options.code!==!1&&i.push(SI.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(UI.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(FI.configure(this.options.document)),this.options.dropcursor!==!1&&i.push($D.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(GD.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(MI.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(LI.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(XD.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(OI.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(_I.configure(this.options.italic)),this.options.listItem!==!1&&i.push(x4.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(N4.configure((s=this.options)==null?void 0:s.listKeymap)),this.options.link!==!1&&i.push(p4.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(B4.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(jD.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(BD.configure(this.options.strike)),this.options.text!==!1&&i.push(kD.configure(this.options.text)),this.options.underline!==!1&&i.push(k4.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&i.push(YD.configure((n=this.options)==null?void 0:n.trailingNode)),i}}),ZD=JD,qD=Li.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:s=>{const e=s.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:s=>s.textAlign?{style:`text-align: ${s.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:s=>({commands:e})=>this.options.alignments.includes(s)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:s})).some(r=>r):!1,unsetTextAlign:()=>({commands:s})=>this.options.types.map(e=>s.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:s=>({editor:e,commands:r})=>this.options.alignments.includes(s)?e.isActive({textAlign:s})?r.unsetTextAlign():r.setTextAlign(s):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),eR=20,M4=(s,e=0)=>{const r=[];return!s.children.length||e>eR||Array.from(s.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...M4(n,e+1))}),r},tR=s=>{if(!s.children.length)return;const e=M4(s);e&&e.forEach(r=>{var n,i;const c=r.getAttribute("style"),u=(i=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:i.getAttribute("style");r.setAttribute("style",`${u};${c}`)})},L4=RA.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:s=>s.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&tR(s),{}):!1}]},renderHTML({HTMLAttributes:s}){return["span",ko(this.options.HTMLAttributes,s),0]},addCommands(){return{toggleTextStyle:s=>({commands:e})=>e.toggleMark(this.name,s),removeEmptyTextStyle:()=>({tr:s})=>{const{selection:e}=s;return s.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(c=>!!c))||s.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),sR=Li.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:s=>{var e;const r=s.getAttribute("style");if(r){const n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){const c=n[i].split(":");if(c.length>=2){const u=c[0].trim().toLowerCase(),d=c.slice(1).join(":").trim();if(u==="background-color")return d.replace(/['"]+/g,"")}}}return(e=s.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:s=>s.backgroundColor?{style:`background-color: ${s.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:s=>({chain:e})=>e().setMark("textStyle",{backgroundColor:s}).run(),unsetBackgroundColor:()=>({chain:s})=>s().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),O4=Li.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:s=>{var e;const r=s.getAttribute("style");if(r){const n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){const c=n[i].split(":");if(c.length>=2){const u=c[0].trim().toLowerCase(),d=c.slice(1).join(":").trim();if(u==="color")return d.replace(/['"]+/g,"")}}}return(e=s.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:s=>s.color?{style:`color: ${s.color}`}:{}}}}]},addCommands(){return{setColor:s=>({chain:e})=>e().setMark("textStyle",{color:s}).run(),unsetColor:()=>({chain:s})=>s().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),rR=Li.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:s=>s.style.fontFamily,renderHTML:s=>s.fontFamily?{style:`font-family: ${s.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:s=>({chain:e})=>e().setMark("textStyle",{fontFamily:s}).run(),unsetFontFamily:()=>({chain:s})=>s().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),nR=Li.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:s=>s.style.fontSize,renderHTML:s=>s.fontSize?{style:`font-size: ${s.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:s=>({chain:e})=>e().setMark("textStyle",{fontSize:s}).run(),unsetFontSize:()=>({chain:s})=>s().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),aR=Li.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:s=>s.style.lineHeight,renderHTML:s=>s.lineHeight?{style:`line-height: ${s.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:s=>({chain:e})=>e().setMark("textStyle",{lineHeight:s}).run(),unsetLineHeight:()=>({chain:s})=>s().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Li.create({name:"textStyleKit",addExtensions(){const s=[];return this.options.backgroundColor!==!1&&s.push(sR.configure(this.options.backgroundColor)),this.options.color!==!1&&s.push(O4.configure(this.options.color)),this.options.fontFamily!==!1&&s.push(rR.configure(this.options.fontFamily)),this.options.fontSize!==!1&&s.push(nR.configure(this.options.fontSize)),this.options.lineHeight!==!1&&s.push(aR.configure(this.options.lineHeight)),this.options.textStyle!==!1&&s.push(L4.configure(this.options.textStyle)),s}});var iR=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,oR=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,lR=RA.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:s=>s.getAttribute("data-color")||s.style.backgroundColor,renderHTML:s=>s.color?{"data-color":s.color,style:`background-color: ${s.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:s}){return["mark",ko(this.options.HTMLAttributes,s),0]},renderMarkdown:(s,e)=>`==${e.renderChildren(s)}==`,parseMarkdown:(s,e)=>e.applyMark("highlight",e.parseInline(s.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:s=>s.indexOf("=="),tokenize(s,e,r){const i=/^(==)([^=]+)(==)/.exec(s);if(i){const c=i[2].trim(),u=r.inlineTokens(c);return{type:"highlight",raw:i[0],text:c,tokens:u}}}},addCommands(){return{setHighlight:s=>({commands:e})=>e.setMark(this.name,s),toggleHighlight:s=>({commands:e})=>e.toggleMark(this.name,s),unsetHighlight:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[vf({find:iR,type:this.type})]},addPasteRules(){return[Mh({find:oR,type:this.type})]}}),cR=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,dR=Ud.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:s}){return["img",ko(this.options.HTMLAttributes,s)]},parseMarkdown:(s,e)=>e.createNode("image",{src:s.href,title:s.title,alt:s.text}),renderMarkdown:s=>{var e,r,n,i,c,u;const d=(r=(e=s.attrs)==null?void 0:e.src)!=null?r:"",A=(i=(n=s.attrs)==null?void 0:n.alt)!=null?i:"",o=(u=(c=s.attrs)==null?void 0:c.title)!=null?u:"";return o?`![${A}](${d} "${o}")`:`![${A}](${d})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:s,minWidth:e,minHeight:r,alwaysPreserveAspectRatio:n}=this.options.resize;return({node:i,getPos:c,HTMLAttributes:u,editor:d})=>{const A=document.createElement("img");Object.entries(u).forEach(([m,p])=>{if(p!=null)switch(m){case"width":case"height":break;default:A.setAttribute(m,p);break}}),A.src=u.src;const o=new iO({element:A,editor:d,node:i,getPos:c,onResize:(m,p)=>{A.style.width=`${m}px`,A.style.height=`${p}px`},onCommit:(m,p)=>{const x=c();x!==void 0&&this.editor.chain().setNodeSelection(x).updateAttributes(this.name,{width:m,height:p}).run()},onUpdate:(m,p,x)=>m.type===i.type,options:{directions:s,min:{width:e,height:r},preserveAspectRatio:n===!0}}),f=o.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",A.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},o}},addCommands(){return{setImage:s=>({commands:e})=>e.insertContent({type:this.name,attrs:s})}},addInputRules(){return[r4({find:cR,type:this.type,getAttributes:s=>{const[,,e,r,n]=s;return{src:r,alt:e,title:n}}})]}});const Ko=({onClick:s,isActive:e,disabled:r,children:n,title:i})=>t.jsx("button",{type:"button",onClick:s,disabled:r,title:i,className:`p-1.5 rounded-lg transition-all ${e?"bg-blue-100 text-blue-600":"text-slate-500 hover:bg-slate-100 hover:text-slate-700"} ${r?"opacity-40 cursor-not-allowed":""}`,children:n}),uR=({editor:s})=>{const[e,r]=W.useState(!1),[n,i]=W.useState(!1);if(!s)return null;const c=()=>{const A=window.prompt("Enter image URL:");A&&s.chain().focus().setImage({src:A}).run()},u=()=>{const A=s.getAttributes("link").href,o=window.prompt("Enter URL:",A);if(o!==null){if(o===""){s.chain().focus().extendMarkRange("link").unsetLink().run();return}s.chain().focus().extendMarkRange("link").setLink({href:o}).run()}},d=["#000000","#374151","#6b7280","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"];return t.jsxs("div",{className:"flex flex-wrap items-center gap-0.5 p-2 border-b border-slate-200 bg-slate-50/80",children:[t.jsx(Ko,{onClick:()=>s.chain().focus().undo().run(),disabled:!s.can().undo(),title:"Undo",children:t.jsx(TE,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().redo().run(),disabled:!s.can().redo(),title:"Redo",children:t.jsx(F3,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleHeading({level:1}).run(),isActive:s.isActive("heading",{level:1}),title:"Heading 1",children:t.jsx(cS,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleHeading({level:2}).run(),isActive:s.isActive("heading",{level:2}),title:"Heading 2",children:t.jsx(uS,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleHeading({level:3}).run(),isActive:s.isActive("heading",{level:3}),title:"Heading 3",children:t.jsx(hS,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleBold().run(),isActive:s.isActive("bold"),title:"Bold",children:t.jsx(ck,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleItalic().run(),isActive:s.isActive("italic"),title:"Italic",children:t.jsx(NS,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleUnderline().run(),isActive:s.isActive("underline"),title:"Underline",children:t.jsx(SE,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleStrike().run(),isActive:s.isActive("strike"),title:"Strikethrough",children:t.jsx(nE,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ko,{onClick:()=>r(!e),title:"Text Color",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(BE,{size:14}),t.jsx("div",{className:"w-3 h-1 rounded-sm mt-0.5",style:{backgroundColor:s.getAttributes("textStyle").color||"#000"}})]})}),e&&t.jsxs("div",{className:"absolute top-full left-0 mt-1 p-3 bg-white rounded-xl shadow-xl border border-slate-200 z-50 grid grid-cols-5 gap-2 w-[180px]",children:[d.map(A=>t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().setColor(A).run(),r(!1)},className:"w-6 h-6 rounded-full border border-slate-200 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:A},title:A},A)),t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().unsetColor().run(),r(!1)},className:"w-6 h-6 rounded-full border border-slate-200 text-xs text-slate-400 hover:bg-slate-100 flex items-center justify-center",title:"Reset Color",children:""})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ko,{onClick:()=>i(!n),isActive:s.isActive("highlight"),title:"Highlight",children:t.jsx(c3,{size:16})}),n&&t.jsxs("div",{className:"absolute top-full left-0 mt-1 p-3 bg-white rounded-xl shadow-xl border border-slate-200 z-50 grid grid-cols-5 gap-2 w-[180px]",children:[["#fef08a","#bbf7d0","#bfdbfe","#ddd6fe","#fecdd3"].map(A=>t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().toggleHighlight({color:A}).run(),i(!1)},className:"w-6 h-6 rounded-full border border-slate-200 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:A}},A)),t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().unsetHighlight().run(),i(!1)},className:"w-6 h-6 rounded-full border border-slate-200 text-xs text-slate-400 hover:bg-slate-100 flex items-center justify-center",title:"Reset Highlight",children:""})]})]}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:()=>s.chain().focus().setTextAlign("left").run(),isActive:s.isActive({textAlign:"left"}),title:"Align Left",children:t.jsx(pE,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().setTextAlign("center").run(),isActive:s.isActive({textAlign:"center"}),title:"Align Center",children:t.jsx(dE,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().setTextAlign("right").run(),isActive:s.isActive({textAlign:"right"}),title:"Align Right",children:t.jsx(AE,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().setTextAlign("justify").run(),isActive:s.isActive({textAlign:"justify"}),title:"Justify",children:t.jsx(fE,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleBulletList().run(),isActive:s.isActive("bulletList"),title:"Bullet List",children:t.jsx(_S,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleOrderedList().run(),isActive:s.isActive("orderedList"),title:"Ordered List",children:t.jsx(RS,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleBlockquote().run(),isActive:s.isActive("blockquote"),title:"Quote",children:t.jsx(E3,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleCodeBlock().run(),isActive:s.isActive("codeBlock"),title:"Code Block",children:t.jsx(Ik,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().setHorizontalRule().run(),title:"Horizontal Rule",children:t.jsx(t3,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:u,isActive:s.isActive("link"),title:"Link",children:t.jsx(Dg,{size:16})}),t.jsx(Ko,{onClick:c,title:"Image",children:t.jsx(e0,{size:16})})]})},I4=({content:s,onChange:e,placeholder:r="Write your article content here..."})=>{const n=mI({extensions:[ZD.configure({heading:{levels:[1,2,3]}}),k4,qD.configure({types:["heading","paragraph"]}),L4,O4,lR.configure({multicolor:!0}),p4.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline"}}),dR.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}}),WD.configure({placeholder:r})],content:s,onUpdate:({editor:i})=>{e(i.getHTML())}});return W.useEffect(()=>{n&&s!==n.getHTML()&&n.commands.setContent(s)},[s,n]),t.jsxs("div",{className:"tiptap-editor-wrapper bg-white border border-slate-200 rounded-xl overflow-hidden focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all",children:[t.jsx(uR,{editor:n}),t.jsx(lI,{editor:n,className:"tiptap-content"})]})},AR=({value:s,onChange:e,className:r=""})=>{const[n,i]=W.useState(!1),[c,u]=W.useState(!1),[d,A]=W.useState(""),[o,f]=W.useState(!1),[m,p]=W.useState(""),[x,v]=W.useState(""),y=W.useRef(null);Sc.useEffect(()=>{s&&!n&&v(s)},[s,n]);const w=async H=>{if(!["image/jpeg","image/png","image/gif","image/webp"].includes(H.type)){p("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}if(H.size>5*1024*1024){p("Image must be less than 5MB");return}p(""),i(!0);const ce=URL.createObjectURL(H);v(ce);try{const Ae=new FormData;Ae.append("image",H);const Ne=await fetch(`${Ot}/api/blogs/upload-image`,{method:"POST",credentials:"include",body:Ae});if(Ne.ok){const re=await Ne.json();if(re.success&&re.url)e(re.url);else throw new Error(re.error||"Upload failed")}else throw new Error("Upload failed")}catch(Ae){console.error("Image upload failed:",Ae),p("Failed to upload image. Please try again."),v(""),e("")}finally{i(!1)}},E=H=>{H.preventDefault(),f(!1);const G=H.dataTransfer.files[0];G&&w(G)},Q=H=>{H.preventDefault(),f(!0)},K=()=>{f(!1)},Z=()=>{d.trim()&&(e(d.trim()),A(""),u(!1))},J=()=>{e(""),p("")};return x||s?t.jsxs("div",{className:`relative group aspect-video rounded-2xl overflow-hidden ${r}`,children:[t.jsx("img",{src:x||s,alt:"Cover",className:"w-full h-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[t.jsx("button",{type:"button",onClick:()=>{var H;return(H=y.current)==null?void 0:H.click()},className:"p-3 bg-white/20 hover:bg-white/30 rounded-full transition-colors",title:"Change image",children:t.jsx(s0,{className:"w-5 h-5 text-white"})}),t.jsx("button",{type:"button",onClick:J,className:"p-3 bg-red-500/80 hover:bg-red-500 rounded-full transition-colors",title:"Remove image",children:t.jsx(en,{className:"w-5 h-5 text-white"})})]}),n&&t.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:t.jsx(Ir,{className:"w-8 h-8 text-white animate-spin"})}),t.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:H=>{var G;return((G=H.target.files)==null?void 0:G[0])&&w(H.target.files[0])},className:"hidden"})]}):t.jsxs("div",{className:`${r}`,children:[t.jsxs("div",{onDrop:E,onDragOver:Q,onDragLeave:K,className:`relative aspect-video rounded-2xl border-2 border-dashed transition-all cursor-pointer ${o?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-700 hover:border-indigo-500 bg-slate-50 dark:bg-slate-800"}`,children:[n?t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx(Ir,{className:"w-10 h-10 text-indigo-600 animate-spin mb-2"}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Uploading..."})]}):c?t.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md space-y-3",children:[t.jsx("input",{type:"url",value:d,onChange:H=>A(H.target.value),placeholder:"Paste image URL...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:Z,disabled:!d.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-500 transition-colors disabled:opacity-50",children:"Add Image"}),t.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-xl font-medium hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancel"})]})]})}):t.jsxs("div",{onClick:()=>{var H;return(H=y.current)==null?void 0:H.click()},className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx(e0,{className:"w-10 h-10 text-slate-400 mb-3"}),t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Drop an image here or click to upload"}),t.jsx("p",{className:"text-xs text-slate-400",children:"JPEG, PNG, GIF, WebP up to 5MB"}),t.jsxs("div",{className:"flex gap-3 mt-4",children:[t.jsxs("button",{type:"button",onClick:H=>{var G;H.stopPropagation(),(G=y.current)==null||G.click()},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-500 transition-colors",children:[t.jsx(s0,{className:"w-4 h-4"}),"Upload"]}),t.jsxs("button",{type:"button",onClick:H=>{H.stopPropagation(),u(!0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-xl text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:[t.jsx(Dg,{className:"w-4 h-4"}),"URL"]})]})]}),t.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:H=>{var G;return((G=H.target.files)==null?void 0:G[0])&&w(H.target.files[0])},className:"hidden"})]}),m&&t.jsx("p",{className:"mt-2 text-sm text-red-500",children:m})]})},C1=({onClose:s,onSuccess:e,initialData:r})=>{var f;const[n,i]=W.useState(!1),c=Hg(),[u,d]=W.useState({title:(r==null?void 0:r.title)||"",content:(r==null?void 0:r.content)||"",category:(r==null?void 0:r.category)||"",tags:((f=r==null?void 0:r.tags)==null?void 0:f.join(", "))||"",coverImage:(r==null?void 0:r.coverImage)||""}),A=["Travel","Food","Tips","Experience","Culture","Gear"],o=async(m,p)=>{m.preventDefault(),i(!0);try{const x=document.createElement("div");x.innerHTML=u.content;const v=x.textContent||x.innerText||"",y=v.slice(0,150)+(v.length>150?"...":""),w=r?`${Ot}/api/blogs/${r.id}`:`${Ot}/api/blogs/create`;(await fetch(w,{method:r?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...u,excerpt:y,status:p,tags:u.tags.split(",").map(K=>K.trim()).filter(Boolean)})})).ok?(c.success(r?"Story updated successfully!":p==="draft"?"Draft saved successfully!":"Story submitted for review!"),e()):c.error(r?"Failed to update story.":"Failed to save story. Please try again.")}catch(x){console.error(r?"Failed to update blog:":"Failed to create blog:",x),c.error("An error occurred. Please try again.")}finally{i(!1)}};return sj.createPortal(t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-4xl h-[90vh] rounded-3xl shadow-2xl flex flex-col overflow-hidden animate-scale-in",children:[t.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r?"Edit Story":"Write a Story"}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(en,{className:"w-6 h-6 text-slate-500"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[t.jsx(AR,{value:u.coverImage,onChange:m=>d({...u,coverImage:m})}),t.jsx("input",{type:"text",placeholder:"Article Title...",className:"w-full text-4xl font-bold bg-transparent border-none placeholder:text-slate-300 dark:placeholder:text-slate-700 focus:ring-0 px-0 text-slate-900 dark:text-white",value:u.title,onChange:m=>d({...u,title:m.target.value})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-800 rounded-xl border-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",value:u.category,onChange:m=>d({...u,category:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Category"}),A.map(m=>t.jsx("option",{value:m,children:m},m))]}),t.jsx("input",{type:"text",placeholder:"Tags (comma separated)...",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-800 rounded-xl border-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",value:u.tags,onChange:m=>d({...u,tags:m.target.value})})]}),t.jsx(I4,{content:u.content,onChange:m=>d({...u,content:m}),placeholder:"Tell your story..."})]})}),t.jsxs("div",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-800 flex justify-end gap-3 bg-white dark:bg-slate-900",children:[t.jsx("button",{onClick:m=>o(m,"draft"),className:"px-6 py-2.5 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:"Save as Draft"}),t.jsx("button",{onClick:m=>o(m,"pending"),disabled:n||!u.title||!u.content,className:"px-8 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:n?t.jsx(Ir,{className:"w-5 h-5 animate-spin"}):r?"Save Changes":"Submit for Review"})]})]})}),document.body)},hR=({blogId:s,user:e,onBack:r})=>{Hl();const[n,i]=W.useState(null),[c,u]=W.useState([]),[d,A]=W.useState(!0),[o,f]=W.useState(""),[m,p]=W.useState(!1),[x,v]=W.useState(!1),[y,w]=W.useState(!1),[E,Q]=W.useState(!1),[K,Z]=W.useState("inappropriate"),[J,H]=W.useState(""),G=Hg();W.useEffect(()=>{ce()},[s]);const ce=async()=>{try{const ae=await fetch(`${Ot}/api/blogs/${s}`,{credentials:"include"});if(ae.ok){const oe=await ae.json();oe.success&&oe.blog&&i(oe.blog)}const de=await fetch(`${Ot}/api/blogs/${s}/comments`,{credentials:"include"});if(de.ok){const oe=await de.json();oe.success&&oe.comments&&u(oe.comments)}}catch(ae){console.error("Error fetching blog details:",ae),G.error("Failed to load story details")}finally{A(!1)}},Ae=()=>{w(!0)},Ne=async()=>{if(n)try{const ae=await fetch(`${Ot}/api/blogs/${s}/report`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:K,description:J})}),de=await ae.json();ae.ok&&de.success?(G.success("Report submitted successfully"),Q(!1),H(""),Z("inappropriate")):G.error(de.error||"Failed to submit report")}catch{G.error("Failed to submit report")}},re=async()=>{if(n)try{navigator.share?await navigator.share({title:n.title,text:n.excerpt,url:window.location.href}):(await navigator.clipboard.writeText(window.location.href),G.success("Link copied to clipboard!"))}catch(ae){console.error("Error sharing:",ae)}},Be=async()=>{if(!(!n||!window.confirm("Are you sure you want to delete this story?")))try{(await fetch(`${Ot}/api/blogs/${s}`,{method:"DELETE",credentials:"include"})).ok?(G.success("Story deleted successfully"),r()):G.error("Failed to delete story")}catch(ae){console.error("Error deleting blog:",ae),G.error("Failed to delete story")}},fe=async()=>{if(!n)return;const ae=n.isLiked;try{i(de=>de?{...de,isLiked:!de.isLiked,likesCount:de.isLiked?de.likesCount-1:de.likesCount+1}:null),await fetch(`${Ot}/api/blogs/${s}/like`,{method:"POST",credentials:"include"}),G.success(ae?"Removed from favorites":"Added to favorites")}catch(de){console.error("Error toggling like:",de),i(oe=>oe?{...oe,isLiked:ae,likesCount:ae?oe.likesCount+1:oe.likesCount-1}:null),G.error("Failed to update. Please try again.")}},Se=async()=>{if(o.trim()){p(!0);try{const ae=await fetch(`${Ot}/api/blogs/${s}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content:o})});if(ae.ok){const de=await ae.json();de.success&&de.comment&&(u(oe=>[de.comment,...oe]),f(""),i(oe=>oe?{...oe,commentsCount:oe.commentsCount+1}:null),G.success("Comment posted!"))}else G.error("Failed to post comment")}catch(ae){console.error("Error posting comment:",ae),G.error("Failed to post comment. Please try again.")}finally{p(!1)}}},pe=async()=>{if(!n)return;const ae=x;try{v(de=>!de),await fetch(`${Ot}/api/blogs/authors/${n.authorId}/subscribe`,{method:"POST",credentials:"include"}),G.success(ae?`Unfollowed ${n.authorName}`:`Now following ${n.authorName}`)}catch(de){console.error("Error toggling follow:",de),v(oe=>!oe),G.error("Failed to update subscription")}};return d?t.jsx(lU,{}):n?t.jsxs("div",{className:"max-w-4xl mx-auto pb-20 animate-fade-in-up",children:[t.jsxs("button",{onClick:r,className:"mb-6 flex items-center gap-2 text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors",children:[t.jsx(qu,{className:"w-5 h-5"}),t.jsx("span",{className:"font-bold",children:"Back to Feed"})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"flex gap-2 mb-4",children:t.jsx("span",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full text-xs font-bold uppercase tracking-wide",children:n.category})}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6 leading-tight",children:n.title}),t.jsxs("div",{className:"flex items-center justify-between py-6 border-b border-slate-100 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden",children:n.authorAvatar&&t.jsx("img",{src:n.authorAvatar,alt:n.authorName,className:"w-full h-full object-cover"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:n.authorName}),t.jsx("button",{onClick:pe,className:`text-xs font-bold hover:underline ${x?"text-slate-500":"text-indigo-600 dark:text-indigo-400"}`,children:x?"Following":"Follow"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm",children:[t.jsx("span",{children:new Date(n.publishedAt||"").toLocaleDateString()}),t.jsx("span",{children:""}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{className:"w-3 h-3"})," 5 min read"]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e&&n.authorId===e.id&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:Ae,className:"p-2 text-slate-400 hover:bg-blue-50 hover:text-blue-600 rounded-full transition-colors",title:"Edit Story",children:t.jsx(Uv,{className:"w-5 h-5"})}),t.jsx("button",{onClick:Be,className:"p-2 text-slate-400 hover:bg-red-50 hover:text-red-500 rounded-full transition-colors",title:"Delete Story",children:t.jsx(Xo,{className:"w-5 h-5"})})]}),t.jsx("button",{onClick:re,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(Lp,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>Q(!0),className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(Up,{className:"w-5 h-5"})})]})]})]}),n.coverImage&&t.jsx("div",{className:"rounded-3xl overflow-hidden mb-10 shadow-lg",children:t.jsx("img",{src:n.coverImage,alt:n.title,className:"w-full h-auto object-cover"})}),t.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-12 text-slate-600 dark:text-slate-300",dangerouslySetInnerHTML:{__html:n.content}}),t.jsx("div",{className:"flex items-center justify-between py-6 border-t border-b border-slate-100 dark:border-slate-800 mb-12",children:t.jsxs("div",{className:"flex gap-6",children:[t.jsxs("button",{onClick:fe,className:`flex items-center gap-2 font-bold transition-colors ${n.isLiked?"text-rose-500":"text-slate-500 hover:text-rose-500"}`,children:[t.jsx(mf,{className:`w-6 h-6 ${n.isLiked?"fill-current":""}`}),n.likesCount]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold",children:[t.jsx(hu,{className:"w-6 h-6"}),n.commentsCount]})]})}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["Comments (",c.length,")"]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden shrink-0",children:(e==null?void 0:e.avatarUrl)&&t.jsx("img",{src:e.avatarUrl,alt:"Me",className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("textarea",{value:o,onChange:ae=>f(ae.target.value),placeholder:"Share your thoughts...",className:"w-full bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white rounded-2xl p-4 border-none focus:ring-2 focus:ring-indigo-500 min-h-[100px] resize-none"}),t.jsx("div",{className:"flex justify-end mt-2",children:t.jsx("button",{onClick:Se,disabled:!o.trim()||m,className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-500 transition-colors disabled:opacity-50",children:"Post Comment"})})]})]}),t.jsx("div",{className:"space-y-6",children:c.map(ae=>t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden shrink-0",children:ae.userAvatar&&t.jsx("img",{src:ae.userAvatar,alt:ae.userName,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl rounded-tl-none",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:ae.userName}),t.jsx("span",{className:"text-xs text-slate-400",children:new Date(ae.createdAt||"").toLocaleDateString()})]}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:ae.content})]}),t.jsxs("div",{className:"flex gap-4 mt-2 pl-4",children:[t.jsx("button",{className:"text-xs font-bold text-slate-500 hover:text-indigo-600",children:"Reply"}),t.jsx("button",{className:"text-xs font-bold text-slate-500 hover:text-indigo-600",children:"Like"})]})]})]},ae.id))})]}),y&&n&&t.jsx(C1,{initialData:n,onClose:()=>w(!1),onSuccess:()=>{w(!1),ce()}}),E&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-xl p-6 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Jo,{className:"w-5 h-5 text-amber-500"}),"Report Story"]}),t.jsx("button",{onClick:()=>Q(!1),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Reason"}),t.jsxs("select",{value:K,onChange:ae=>Z(ae.target.value),className:"w-full p-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"spam",children:"Spam"}),t.jsx("option",{value:"inappropriate",children:"Inappropriate Content"}),t.jsx("option",{value:"harassment",children:"Harassment"}),t.jsx("option",{value:"misinformation",children:"Misinformation"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),t.jsx("textarea",{value:J,onChange:ae=>H(ae.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white min-h-[100px] focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Please provide more details..."})]}),t.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[t.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ne,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors shadow-lg shadow-red-500/20",children:"Submit Report"})]})]})]})})]}):t.jsx("div",{className:"p-8 text-center text-slate-500",children:"Story not found"})},fR=({className:s=""})=>t.jsxs("div",{className:`bg-white dark:bg-slate-800/60 rounded-3xl overflow-hidden shadow-sm border border-slate-100 dark:border-slate-700/50 ${s}`,children:[t.jsx(Jn,{variant:"rectangular",className:"w-full h-48"}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx(Jn,{variant:"rounded",className:"w-20 h-6"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Jn,{variant:"text",className:"w-full h-6"}),t.jsx(Jn,{variant:"text",className:"w-3/4 h-6"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Jn,{variant:"text",className:"w-full h-4"}),t.jsx(Jn,{variant:"text",className:"w-5/6 h-4"})]}),t.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[t.jsx(Jn,{variant:"circular",className:"w-10 h-10"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(Jn,{variant:"text",className:"w-24 h-4"}),t.jsx(Jn,{variant:"text",className:"w-32 h-3"})]})]}),t.jsxs("div",{className:"flex items-center gap-4 pt-2 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsx(Jn,{variant:"rounded",className:"w-16 h-5"}),t.jsx(Jn,{variant:"rounded",className:"w-16 h-5"}),t.jsx(Jn,{variant:"rounded",className:"w-16 h-5"})]})]})]}),mR=({user:s,onBack:e})=>{const[r,n]=W.useState([]),[i,c]=W.useState(!0),[u,d]=W.useState(""),[A,o]=W.useState("all"),[f,m]=W.useState(!1),[p,x]=W.useState(null),v=Hg();W.useEffect(()=>{y()},[]);const y=async()=>{c(!0);try{const H=await fetch(`${Ot}/api/blogs/my?status=all`,{credentials:"include"});if(H.ok){const G=await H.json();G.success&&n(G.blogs||[])}}catch(H){console.error("Failed to fetch my blogs:",H),v.error("Failed to load your stories")}finally{c(!1)}},w=async H=>{if(window.confirm("Are you sure you want to delete this story? This action cannot be undone."))try{(await fetch(`${Ot}/api/blogs/${H}`,{method:"DELETE",credentials:"include"})).ok?(v.success("Story deleted successfully"),n(ce=>ce.filter(Ae=>Ae.id!==H))):v.error("Failed to delete story")}catch{v.error("Failed to delete story")}},E=r.filter(H=>{const G=H.title.toLowerCase().includes(u.toLowerCase()),ce=A==="all"||H.status===A;return G&&ce}),Q=r.reduce((H,G)=>H+(G.views||0),0),K=r.reduce((H,G)=>H+(G.likesCount||0),0),Z=r.reduce((H,G)=>H+(G.commentsCount||0),0),J=H=>{switch(H){case"published":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"rejected":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}};return t.jsxs("div",{className:"animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qu,{className:"w-6 h-6 text-slate-500"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Story Studio"}),t.jsx("p",{className:"text-slate-500",children:"Manage your content and analytics"})]})]}),t.jsxs("button",{onClick:()=>{x(null),m(!0)},className:"px-5 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 transition-all flex items-center gap-2",children:[t.jsx(zi,{className:"w-5 h-5"}),"Create New"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:t.jsx(kd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Stories"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:r.length})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:t.jsx(ao,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Views"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:Q})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-rose-50 dark:bg-rose-900/20 rounded-lg",children:t.jsx(mf,{className:"w-5 h-5 text-rose-600 dark:text-rose-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Likes"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:K})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:t.jsx(hu,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Comments"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:Z})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex flex-col md:flex-row gap-4 justify-between",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(zc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search your stories...",value:u,onChange:H=>d(H.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white"})]}),t.jsxs("select",{value:A,onChange:H=>o(H.target.value),className:"px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-left",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Story"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Stats"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:i?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"Loading stories..."})}):E.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"No stories found"})}):E.map(H=>t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-10 rounded-lg bg-slate-200 dark:bg-slate-700 overflow-hidden flex-shrink-0",children:H.coverImage?t.jsx("img",{src:H.coverImage,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-400 to-purple-500"})}),t.jsxs("div",{className:"min-w-0 max-w-xs",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:H.title}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:H.category})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${J(H.status)}`,children:H.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:new Date(H.createdAt||"").toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",title:"Views",children:[t.jsx(ao,{className:"w-4 h-4"})," ",H.views]}),t.jsxs("span",{className:"flex items-center gap-1",title:"Likes",children:[t.jsx(mf,{className:"w-4 h-4"})," ",H.likesCount]})]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>{x(H),m(!0)},className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Edit",children:t.jsx(Uv,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>w(H.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:t.jsx(Xo,{className:"w-4 h-4"})})]})})]},H.id))})]})})]}),f&&t.jsx(C1,{initialData:p||void 0,onClose:()=>{m(!1),x(null)},onSuccess:()=>{m(!1),x(null),y()}})]})},pR=({user:s})=>{const[e,r]=W.useState("list"),[n,i]=W.useState(null),[c,u]=W.useState(!1),[d,A]=W.useState([]),[o,f]=W.useState(!0),[m,p]=W.useState("All"),[x,v]=W.useState(""),y=Hg(),w=["All","Travel","Food","Tips","Experience"];W.useEffect(()=>{E()},[m]);const E=async()=>{f(!0);try{const K=new URLSearchParams;m!=="All"&&K.append("category",m),x&&K.append("search",x);const Z=`${Ot}/api/blogs/feed${K.toString()?"?"+K.toString():""}`,J=await fetch(Z,{credentials:"include"});if(J.ok){const H=await J.json();H.success?A(H.blogs||[]):A([])}else A([])}catch(K){console.error("Failed to fetch blogs:",K),A([]),y.error("Failed to load stories. Please try again.")}finally{f(!1)}},Q=K=>{i(K),r("detail")};return e==="studio"?t.jsx(mR,{user:s,onBack:()=>r("list")}):e==="detail"&&n?t.jsx(hR,{blogId:n,user:s,onBack:()=>{r("list"),i(null)}}):t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-8 animate-fade-in-up",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-4xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-3",children:[t.jsx(Ep,{className:"w-10 h-10 text-indigo-500"}),"Travel Stories"]}),t.jsx("p",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mt-2",children:"Discover and share adventures from around the world."})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>r("studio"),className:"px-5 py-3 bg-white dark:bg-slate-800 text-slate-700 dark:text-white rounded-2xl font-bold shadow-sm border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all flex items-center gap-2",children:[t.jsx(Tv,{className:"w-5 h-5"}),"My Studio"]}),t.jsxs("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl font-bold shadow-lg shadow-indigo-500/20 transition-all active:scale-95 flex items-center gap-2",children:[t.jsx(zi,{className:"w-5 h-5"}),"Write Story"]})]})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-center bg-white dark:bg-slate-800/50 p-2 rounded-3xl border border-slate-100 dark:border-slate-700/50 shadow-sm",children:[t.jsx("div",{className:"flex gap-1 overflow-x-auto w-full lg:w-auto p-1 no-scrollbar",children:w.map(K=>t.jsx("button",{onClick:()=>p(K),className:`px-5 py-2.5 rounded-xl text-sm font-bold whitespace-nowrap transition-all ${m===K?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 shadow-md":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:K},K))}),t.jsxs("div",{className:"relative w-full lg:w-96 group",children:[t.jsx(zc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"}),t.jsx("input",{type:"text",placeholder:"Search stories, authors, tags...",value:x,onChange:K=>v(K.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl pl-12 pr-4 py-3 font-medium focus:ring-2 focus:ring-indigo-500 transition-all text-slate-900 dark:text-white"})]})]}),o?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(K=>t.jsx(fR,{},K))}):d.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((K,Z)=>t.jsx("div",{style:{animationDelay:`${Z*50}ms`},className:"animate-fade-in-up",children:t.jsx(oU,{blog:K,onClick:()=>Q(K.id)})},K.id))}):t.jsxs("div",{className:"text-center py-20 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-dashed border-slate-200 dark:border-slate-700",children:[t.jsx(Ep,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"No stories found"}),t.jsx("p",{className:"text-slate-500",children:"Be the first to share your adventure in this category!"})]}),c&&t.jsx(C1,{onClose:()=>u(!1),onSuccess:()=>{u(!1),E(),y.success("Your story has been submitted for review!")}})]})},gR=(s,e,r)=>e?`${Ot}/proxy_image?place_id=${e}`:r?`${Ot}/proxy_image?name=${encodeURIComponent(r)}`:`${Ot}/proxy_image/default`,xR=({type:s,className:e="w-4 h-4"})=>{switch(s){case"food":return t.jsx(Kd,{className:e});case"attraction":return t.jsx(Lg,{className:e});case"cafe":return t.jsx(pm,{className:e});case"hotel":return t.jsx(Ig,{className:e});case"shopping":return t.jsx(_g,{className:e});case"transport":return t.jsx(Mg,{className:e});default:return t.jsx(Yo,{className:e})}},bR=({slot:s})=>{const e={morning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",lunch:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",afternoon:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400",evening:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400",night:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${e[s]||e.morning}`,children:s})},vR=({plan:s,onClose:e})=>{const[r,n]=W.useState(0),i=s.days[r],c=()=>n(d=>Math.max(0,d-1)),u=()=>n(d=>Math.min(s.days.length-1,d+1));return t.jsxs("div",{className:"fixed inset-0 z-[100] bg-white dark:bg-slate-900 flex flex-col overflow-hidden animate-in fade-in duration-200",children:[t.jsx("div",{className:"shrink-0 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:t.jsx(en,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white line-clamp-1",children:s.title}),t.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2",children:[t.jsx("span",{children:s.duration}),t.jsx("span",{children:""}),t.jsx("span",{children:s.total_budget_estimate})]})]})]}),t.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider bg-slate-100 dark:bg-slate-800 px-3 py-1.5 rounded-full",children:"Read Only"})]})}),t.jsx("div",{className:"shrink-0 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:c,disabled:r===0,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Oh,{className:"w-5 h-5"})}),t.jsx("div",{className:"flex-1 flex gap-2 overflow-x-auto py-1 [&::-webkit-scrollbar]:hidden",children:s.days.map((d,A)=>t.jsx("button",{onClick:()=>n(A),className:`shrink-0 px-4 py-2 rounded-xl font-medium text-sm transition-all ${r===A?"bg-sky-500 text-white shadow-md shadow-sky-500/20":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-sky-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("span",{className:"font-bold",children:["Day ",d.day_number]}),t.jsx("span",{className:"text-[10px] opacity-75",children:d.theme})]})},d.day_number))}),t.jsx("button",{onClick:u,disabled:r===s.days.length-1,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(uc,{className:"w-5 h-5"})})]})})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-8",children:[i.top_locations&&i.top_locations.length>0&&t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(co,{className:"w-4 h-4"})," Highlights"]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.top_locations.map((d,A)=>t.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden group shadow-lg",children:[t.jsx("img",{src:gR(d.image_url,d.place_id,d.name),alt:d.name,className:"w-full h-full object-cover",onError:o=>{o.currentTarget.src=`${Ot}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:d.name}),t.jsx("p",{className:"text-white/80 text-xs",children:d.highlight_reason})]})]},A))})]}),t.jsx("section",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-5 border border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-wrap gap-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-900/30 rounded-lg",children:t.jsx(lo,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Activities"}),t.jsxs("p",{className:"font-bold text-slate-900 dark:text-white",children:[i.day_summary.total_activities," Items"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:t.jsx(yf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Est. Budget"}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:i.day_summary.total_budget})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:t.jsx(Mg,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Transport"}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:i.day_summary.transport_notes})]})]})]})}),t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4"})," Itinerary"]}),t.jsx("div",{className:"space-y-4",children:i.activities.map((d,A)=>t.jsxs("div",{className:"relative pl-8 group",children:[A<i.activities.length-1&&t.jsx("div",{className:"absolute left-[11px] top-10 bottom-0 w-0.5 bg-slate-200 dark:bg-slate-700"}),t.jsx("div",{className:`absolute left-0 top-2 w-6 h-6 rounded-full flex items-center justify-center shadow-md ${d.activity_type==="food"?"bg-orange-500":d.activity_type==="attraction"?"bg-sky-500":d.activity_type==="cafe"?"bg-amber-500":"bg-slate-500"}`,children:t.jsx(xR,{type:d.activity_type,className:"w-3 h-3 text-white"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-5 shadow-sm",children:[t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bR,{slot:d.time_slot}),t.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[d.start_time," - ",d.end_time]})]})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:d.place_name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-1 mb-3",children:[t.jsx(Yo,{className:"w-3 h-3"}),d.place_address]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed mb-4",children:d.description}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[t.jsx("span",{className:"px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 rounded-lg font-bold",children:d.budget_estimate}),d.dietary_info&&t.jsx("span",{className:"px-2 py-1 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-400 rounded-lg font-medium",children:d.dietary_info}),d.tips&&t.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[t.jsx(kl,{className:"w-3 h-3"})," ",d.tips]})]})]})]},A))})]}),s.practical_info&&t.jsxs("section",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-2xl p-5 border border-amber-100 dark:border-amber-800/30",children:[t.jsxs("h2",{className:"text-sm font-bold text-amber-800 dark:text-amber-400 mb-3 flex items-center gap-2",children:[t.jsx(kl,{className:"w-4 h-4"})," Practical Info"]}),t.jsxs("div",{className:"space-y-2 text-sm text-amber-700 dark:text-amber-300",children:[s.practical_info.best_transport&&t.jsxs("p",{children:[t.jsx("strong",{children:"Transport:"})," ",s.practical_info.best_transport]}),s.practical_info.weather_advisory&&t.jsxs("p",{children:[t.jsx("strong",{children:"Weather:"})," ",s.practical_info.weather_advisory]}),s.practical_info.booking_recommendations&&s.practical_info.booking_recommendations.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:"Booking Tips:"}),t.jsx("ul",{className:"list-disc list-inside mt-1",children:s.practical_info.booking_recommendations.map((d,A)=>t.jsx("li",{children:d},A))})]})]})]})]})})]})},yR=({suggestion:s})=>{var e;return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[280px] md:max-w-[320px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl flex-shrink-0 snap-start",children:[t.jsxs("div",{className:"h-36 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:s.imageUrl||`${Ot}/proxy_image/default`,alt:s.title,className:"w-full h-full object-cover",onError:r=>{r.currentTarget.src=`${Ot}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),t.jsx("div",{className:"absolute bottom-3 left-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(e=s.tags)==null?void 0:e.slice(0,3).map(r=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:r},r))}),s.priceEstimate&&t.jsxs("div",{className:"pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Cost"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.priceEstimate})]})]})]})},wR=({plan:s,onViewDetails:e})=>{var i,c,u;const r=((i=s.days)==null?void 0:i.reduce((d,A)=>{var o;return d+(((o=A.activities)==null?void 0:o.length)||0)},0))||0,n=()=>{var A,o,f;const d=(f=(o=(A=s.days)==null?void 0:A[0])==null?void 0:o.top_locations)==null?void 0:f[0];return d!=null&&d.place_id?`${Ot}/proxy_image?place_id=${d.place_id}`:d!=null&&d.name?`${Ot}/proxy_image?name=${encodeURIComponent(d.name)}`:`${Ot}/proxy_image/default`};return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[320px] md:max-w-[380px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl flex-shrink-0 snap-start transition-all hover:shadow-lg",children:[t.jsxs("div",{className:"h-40 overflow-hidden relative rounded-t-2xl bg-gradient-to-br from-sky-400 to-blue-600",children:[t.jsx("img",{src:n(),alt:s.title,className:"w-full h-full object-cover",onError:d=>{d.currentTarget.src=`${Ot}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1 bg-sky-500/90 backdrop-blur-sm rounded-full text-white text-xs font-bold flex items-center gap-1.5",children:[t.jsx(lo,{className:"w-3 h-3"}),s.duration]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight drop-shadow-md",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(c=s.tags)==null?void 0:c.slice(0,4).map(d=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:d},d))}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(lo,{className:"w-3.5 h-3.5"}),((u=s.days)==null?void 0:u.length)||0," days"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Yo,{className:"w-3.5 h-3.5"}),r," activities"]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Budget"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.total_budget_estimate})]}),t.jsxs("button",{onClick:()=>e(s),className:"flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold bg-sky-600 hover:bg-sky-500 text-white transition-all",children:[t.jsx(kl,{className:"w-3.5 h-3.5"}),"View Itinerary"]})]})]})]})},jR=({place:s})=>t.jsxs("div",{className:"bg-white dark:bg-slate-900/80 border border-slate-200 dark:border-slate-700/50 rounded-xl p-4",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:s.name}),s.address&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:s.address}),t.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.rating&&t.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[t.jsx(Ju,{className:"w-4 h-4 text-amber-400 fill-current"}),s.rating]}),s.cuisine&&t.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:s.cuisine}),s.price_level&&t.jsx("span",{className:"text-xs text-emerald-600",children:s.price_level})]})]}),NR=s=>s.map((e,r)=>{const n=()=>e.id||e.place_id?`${Ot}/proxy_image?place_id=${e.id||e.place_id}`:e.name?`${Ot}/proxy_image?name=${encodeURIComponent(e.name)}`:`${Ot}/proxy_image/default`;return{id:e.id||`shared-place-${r}`,title:e.title||e.name||"Unknown",description:e.description||e.address||"",duration:e.duration||"Place",priceEstimate:e.priceEstimate||(e.price_level?"$".repeat(e.price_level.length):"N/A"),tags:e.tags||(e.business_status==="OPERATIONAL"?["Open","Place"]:["Place"]),imageUrl:n(),itinerary:e.itinerary||null,reviews:e.review_list||[],fullAddress:e.address,rating:e.rating}}),CR=s=>{let e=s.content,r,n,i;if(e.startsWith("DAILY_PLAN::"))try{const c=JSON.parse(e.substring(12));n=[c],e=`Generated a ${c.duration} trip plan:`}catch(c){console.error("Failed to parse daily plan:",c)}else if(e.startsWith("FOOD_DATA::"))try{const c=JSON.parse(e.substring(11));c.recommendations&&(i=c.recommendations,e=`Found ${c.recommendations.length} food recommendations:`)}catch(c){console.error("Failed to parse food data:",c)}else if(e.startsWith("POPUP_DATA::"))try{const c=JSON.parse(e.substring(12));r=NR(c),e=`Found ${r.length} recommendations:`}catch(c){console.error("Failed to parse places data:",c)}return{text:e,suggestions:r,dailyPlans:n,foodRecommendations:i}},BR=()=>{const{shareToken:s}=Fg(),e=Hl(),[r,n]=W.useState(null),[i,c]=W.useState(!0),[u,d]=W.useState(null),[A,o]=W.useState(null),f=W.useRef(null);return W.useEffect(()=>{(async()=>{if(!s){d("Invalid share link"),c(!1);return}try{const p=await fetch(`${Ot}/api/shared/${s}`);if(!p.ok){p.status===404?d("This conversation is no longer available or has been unshared."):d("Failed to load conversation"),c(!1);return}const x=await p.json();n(x.conversation)}catch(p){console.error("Failed to fetch shared conversation:",p),d("Failed to load conversation. Please try again.")}finally{c(!1)}})()},[s]),W.useEffect(()=>{var m;r&&((m=f.current)==null||m.scrollIntoView({behavior:"smooth"}))},[r]),i?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx(Ir,{className:"w-10 h-10 text-sky-500 animate-spin mx-auto"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading shared conversation..."})]})}):u||!r?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900 p-4",children:t.jsxs("div",{className:"text-center space-y-6 max-w-md",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto",children:t.jsx(Oa,{className:"w-8 h-8 text-red-500"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Conversation Not Found"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:u||"This shared conversation could not be found."})]}),t.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-xl transition-colors",children:[t.jsx(qu,{className:"w-4 h-4"}),"Go to Home"]})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[t.jsx("div",{className:"sticky top-0 z-10 px-4 py-3 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[t.jsx("button",{onClick:()=>e("/"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(qu,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white truncate",children:r.title}),t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Shared conversation - ",r.messageCount," messages"]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-full",children:[t.jsx(Mp,{className:"w-3.5 h-3.5 text-sky-500"}),t.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"GogoTrip"})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-8 py-8",children:[t.jsx("div",{className:"flex flex-col space-y-8",children:r.messages.map(m=>{const p=m.role==="user",{text:x,suggestions:v,dailyPlans:y,foodRecommendations:w}=CR(m);return t.jsxs("div",{className:`flex w-full flex-col ${p?"items-end":"items-start"}`,children:[t.jsxs("div",{className:`flex gap-4 max-w-[90%] md:max-w-[70%] ${p?"flex-row-reverse":"flex-row"}`,children:[t.jsx("div",{className:"flex-shrink-0 mt-2",children:p?t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-300 dark:bg-slate-700 flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:"U"})}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md",children:t.jsx(Xf,{className:"w-5 h-5 text-white"})})}),t.jsxs("div",{className:`flex flex-col gap-1 p-5 rounded-[1.5rem] shadow-sm ${p?"bg-sky-600 dark:bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 border border-slate-100 dark:border-slate-800 rounded-tl-sm"}`,children:[t.jsx("p",{className:"text-[15px] leading-relaxed whitespace-pre-wrap font-medium",children:x}),t.jsx("span",{className:`text-[10px] font-bold ${p?"text-sky-100":"text-slate-400"} self-end mt-1`,children:new Date(m.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),v&&v.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:v.map((E,Q)=>t.jsx(yR,{suggestion:E},E.id||Q))})}),y&&y.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:y.map((E,Q)=>t.jsx(wR,{plan:E,onViewDetails:o},`${E.title}-${Q}`))})}),w&&w.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:w.slice(0,6).map((E,Q)=>t.jsx(jR,{place:E},`${E.name}-${Q}`))})})]},m.id)})}),t.jsx("div",{ref:f})]}),t.jsx("div",{className:"border-t border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 text-center",children:[t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"This is a shared conversation. Want to plan your own trip?"}),t.jsxs("button",{onClick:()=>e("/chat"),className:"inline-flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-xl transition-colors",children:[t.jsx(Mp,{className:"w-4 h-4"}),"Start Planning"]})]})}),A&&t.jsx(vR,{plan:A,onClose:()=>o(null)})]})},nd={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},kR={Administrator:nd.SUPER_ADMIN,Admin:nd.ADMIN,User:nd.USER,administrator:nd.SUPER_ADMIN,ADMIN:nd.ADMIN,USER:nd.USER,admin:nd.ADMIN,user:nd.USER,super_admin:nd.SUPER_ADMIN};function Sg(s){return s?Object.values(nd).includes(s)?s:kR[s]??nd.USER:nd.USER}function yv(s){const e=Sg(s);return e===nd.SUPER_ADMIN||e===nd.ADMIN}function wv(s){return Sg(s)===nd.SUPER_ADMIN}const SR=({user:s,onLogout:e,onSwitchToAdmin:r})=>{const n=Hl();d0();const[i,c]=W.useState(!1),[u,d]=W.useState(!1),[A,o]=W.useState([]),[f,m]=W.useState(!1);W.useEffect(()=>{(async()=>{try{const Z=await fetch(`${Ot}/api/notifications/user`,{credentials:"include"});if(Z.ok){const J=await Z.json();J.success&&o(J.notifications||[])}}catch(Z){console.error("Failed to fetch notifications",Z)}})()},[]);const p=()=>d(K=>!K),x=()=>m(!0),v=()=>{m(!1),e()},y=K=>{console.log("Update user:",K)},w=K=>{n(K),c(!1)},E=s?{...s,subscription:s.subscription??(s.isPremium?{status:"active"}:void 0)}:null,Q=yv(s.role);return t.jsx(qE,{children:t.jsx("div",{className:`${u?"dark":""} h-full`,children:t.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-blue-100 via-sky-50 to-white dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 text-slate-900 dark:text-slate-200",children:[t.jsx(eT,{isOpen:i,isAdminUser:Q,onSwitchToAdmin:r,onChangeView:w}),t.jsxs("main",{className:"flex-1 flex flex-col min-w-0 relative",children:[t.jsx(tT,{onToggleSidebar:()=>c(K=>!K),title:"GogoTrip",isDarkMode:u,onToggleTheme:p,user:s,notifications:A,onLogout:x,onNavigate:w}),t.jsx("div",{className:"flex-1 overflow-y-auto relative pt-28",children:t.jsx("div",{className:"relative",children:t.jsxs(DB,{children:[t.jsx(Pl,{path:"/",element:t.jsx(i6,{user:E})}),t.jsx(Pl,{path:"/chat",element:t.jsx(o2,{user:E})}),t.jsx(Pl,{path:"/chat/:conversationId",element:t.jsx(o2,{user:E})}),t.jsx(Pl,{path:"/shared/:shareToken",element:t.jsx(BR,{})}),t.jsx(Pl,{path:"/trips",element:t.jsx(Q6,{user:E})}),t.jsx(Pl,{path:"/blogs",element:t.jsx(pR,{user:E})}),t.jsx(Pl,{path:"/calendar",element:t.jsx(O6,{user:E})}),t.jsx(Pl,{path:"/scheduler",element:t.jsx(P6,{user:E})}),t.jsx(Pl,{path:"/translate",element:t.jsx(K6,{user:E})}),t.jsx(Pl,{path:"/expenses",element:t.jsx(W6,{user:E})}),t.jsx(Pl,{path:"/support",element:t.jsx(t6,{user:E})}),t.jsx(Pl,{path:"/support/:id",element:t.jsx(r6,{user:E})}),t.jsx(Pl,{path:"/settings",element:t.jsx(Y6,{user:s,onUpdateUser:y})}),t.jsx(Pl,{path:"/billing",element:t.jsx(X6,{user:s,onUpdateUser:y,onNavigate:w})}),t.jsx(Pl,{path:"/receipt",element:t.jsx(sU,{})}),t.jsx(Pl,{path:"/announcements",element:t.jsx(aU,{})}),t.jsx(Pl,{path:"/announcements/:id",element:t.jsx(iU,{})}),t.jsx(Pl,{path:"*",element:t.jsx(OB,{to:"/",replace:!0})})]})})})]}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:()=>c(!1)}),f&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 max-w-sm w-full",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(Jo,{})}),t.jsx("h3",{className:"text-lg font-bold mb-2",children:"Sign Out"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to sign out?"}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 rounded-xl bg-slate-100",children:"Cancel"}),t.jsxs("button",{onClick:v,className:"flex-1 px-4 py-2 rounded-xl bg-red-600 text-white flex items-center justify-center gap-2",children:[t.jsx(Rg,{size:18}),"Sign Out"]})]})]})})})]})})})},ER=({activeItem:s,onNavigate:e,onSwitchToUser:r,onLogout:n})=>{const i=[{id:"Home",label:"Dashboard",icon:t.jsx(Tv,{size:20})},{id:"Info Blog",label:"Info Blog",icon:t.jsx(kd,{size:20})},{id:"Blog Moderation",label:"Blog Moderation",icon:t.jsx(Ep,{size:20})},{id:"Blog Reports",label:"Blog Reports",icon:t.jsx(Up,{size:20})},{id:"Notifications",label:"Notifications",icon:t.jsx(cu,{size:20})},{id:"Advertisement",label:"Advertisements",icon:t.jsx(e0,{size:20})},{id:"Login Hero",label:"Login Background",icon:t.jsx(e0,{size:20})},{id:"Subscription",label:"Subscriptions",icon:t.jsx(Zf,{size:20})},{id:"Support Tickets",label:"Support Tickets",icon:t.jsx(hu,{size:20})},{id:"Voucher Managment",label:"Voucher Managment",icon:t.jsx(xE,{size:20})},{id:"Plan Managment",label:"Plan Managment",icon:t.jsx(Xu,{size:20})},{id:"Admin Messages",label:"Admin Messages",icon:t.jsx(Gd,{size:20})},{id:"Admin Chat",label:"Admin Chat",icon:t.jsx(hu,{size:20})},{id:"Inquiries",label:"Inquiries",icon:t.jsx(sm,{size:20})}],c=[{id:"User",label:"Users",icon:t.jsx(Td,{size:20})},{id:"Place",label:"Places",icon:t.jsx(Yo,{size:20})},{id:"Trip",label:"Trips",icon:t.jsx(eA,{size:20})},{id:"Trip Item",label:"Trip Items",icon:t.jsx(lo,{size:20})}],u=[{id:"Settings",label:"Settings",icon:t.jsx(gm,{size:20})}],d=A=>{const o=s===A.id;return t.jsxs("button",{onClick:()=>e(A.id),className:`
          w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200
          ${o?"bg-blue-50 text-blue-600 shadow-sm":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}
        `,children:[t.jsx("span",{className:`${o?"text-blue-500":"text-slate-400"} transition-colors`,children:A.icon}),t.jsx("span",{className:"flex-1 text-left",children:A.label}),A.badge&&t.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-600 text-xs font-bold rounded-full",children:A.badge}),o&&t.jsx(uc,{size:16,className:"text-blue-400"})]},A.id)};return t.jsxs("aside",{className:"w-64 h-screen bg-white border-r border-slate-200 flex flex-col",children:[t.jsx("div",{className:"p-6 border-b border-slate-100",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:t.jsx(eA,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"GogoTrip"}),t.jsx("p",{className:"text-xs text-slate-400",children:"Admin Panel"})]})]})}),t.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Main Menu"}),t.jsx("div",{className:"space-y-1",children:i.map(d)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Data Management"}),t.jsx("div",{className:"space-y-1",children:c.map(d)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"System"}),t.jsx("div",{className:"space-y-1",children:u.map(d)})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-100 space-y-2",children:[t.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors",children:[t.jsx(XB,{size:20,className:"text-slate-400"}),"Switch to User View"]}),t.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[t.jsx(Rg,{size:20}),"Sign Out"]})]})]})},TR=({onLogout:s,onNavigate:e,user:r})=>{const[n,i]=W.useState(!1),[c,u]=W.useState(!1),[d,A]=W.useState(""),[o,f]=W.useState(null),m=W.useRef(null),p=W.useRef(null);W.useEffect(()=>{const Q=K=>{m.current&&!m.current.contains(K.target)&&i(!1),p.current&&!p.current.contains(K.target)&&u(!1)};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[]);const x=Q=>{e("Settings"),i(!1)},v=[{id:1,text:"New user registered: Sarah J.",time:"2 min ago",unread:!0},{id:2,text:"System backup completed successfully.",time:"1 hour ago",unread:!1},{id:3,text:"Trip #1029 reported by user.",time:"3 hours ago",unread:!0}],y=Q=>{switch(Q){case"success":return t.jsx(Co,{size:18});case"warning":return t.jsx(Jo,{size:18});default:return t.jsx(kl,{size:18})}},w=Q=>{switch(Q){case"success":return"bg-white border-green-100 text-green-800";case"warning":return"bg-white border-amber-100 text-amber-800";default:return"bg-white border-blue-100 text-blue-800"}},E=Q=>{switch(Q){case"success":return"bg-green-100 text-green-600";case"warning":return"bg-amber-100 text-amber-600";default:return"bg-blue-100 text-blue-600"}};return t.jsxs("header",{className:"flex flex-col md:flex-row items-center justify-between gap-4 py-4 px-8 bg-white border-b border-slate-200 z-20 relative",children:[o&&t.jsxs("div",{className:`fixed top-24 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${w(o.type)}`,children:[t.jsx("div",{className:`p-1 rounded-full ${E(o.type)}`,children:y(o.type)}),t.jsx("p",{className:"text-sm font-medium",children:o.message}),t.jsx("button",{onClick:()=>f(null),className:"ml-2 opacity-50 hover:opacity-100 transition-opacity",children:t.jsx(en,{size:16})})]}),t.jsx("div",{children:t.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"Admin Dashboard"})}),t.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[t.jsx("div",{className:"relative",ref:p,children:c&&t.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-200 z-50",children:[t.jsxs("div",{className:"p-4 border-b border-slate-50 flex justify-between items-center",children:[t.jsx("h3",{className:"font-semibold text-slate-800 text-sm",children:"Notifications"}),t.jsx("button",{className:"text-xs text-blue-600 hover:underline",children:"Mark all read"})]}),t.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.map(Q=>t.jsxs("div",{className:`p-4 border-b border-slate-50 hover:bg-slate-50 transition-colors cursor-pointer flex gap-3 ${Q.unread?"bg-blue-50/30":""}`,children:[t.jsx("div",{className:`w-2 h-2 mt-1.5 rounded-full shrink-0 ${Q.unread?"bg-blue-500":"bg-slate-300"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-700",children:Q.text}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Q.time})]})]},Q.id))}),t.jsx("div",{className:"p-3 text-center border-t border-slate-50",children:t.jsx("button",{className:"text-xs text-slate-500 hover:text-slate-800 font-medium",children:"View All"})})]})}),t.jsxs("div",{className:"relative pl-2 border-l border-slate-200",ref:m,children:[t.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-3 hover:bg-slate-50 rounded-lg p-1.5 transition-colors group",children:[t.jsxs("div",{className:"text-right hidden md:block",children:[t.jsx("p",{className:"text-sm font-medium text-slate-700 group-hover:text-slate-900",children:(r==null?void 0:r.name)||"Admin User"}),t.jsx("p",{className:"text-xs text-slate-400",children:(r==null?void 0:r.email)||"admin@gogotrip.com"})]}),t.jsx("div",{className:"w-9 h-9 rounded-full bg-slate-200 overflow-hidden shrink-0 ring-2 ring-transparent group-hover:ring-slate-100 transition-all",children:t.jsx("img",{src:(r==null?void 0:r.avatarUrl)||"https://api.dicebear.com/7.x/avataaars/svg?seed=Admin",alt:"User",className:"w-full h-full object-cover"})})]}),t.jsxs("div",{className:`
                   absolute top-full right-0 mt-3 w-64 bg-white dark:bg-slate-900 rounded-[1.5rem] shadow-2xl border border-slate-100 dark:border-slate-800 overflow-hidden transition-all duration-300 origin-top-right z-50
                   ${n?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}
                `,children:[t.jsxs("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800",children:[t.jsx("p",{className:"text-base font-bold text-slate-900 dark:text-white truncate",children:r.name}),t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mt-0.5 truncate",children:r.email||"alex.chen@example.com"})]}),t.jsx("div",{className:"p-2 space-y-0.5",children:t.jsxs("button",{onClick:()=>x(),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group",children:[t.jsx(Wo,{className:"w-4 h-4 text-slate-400 group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors"}),"Account Settings"]})}),t.jsx("div",{className:"p-2 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/20",children:t.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t.jsx(Rg,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]})]})},UR=({data:s})=>{const e=Math.max(...s,1),r=s.map((n,i)=>{const c=i/(s.length-1)*100,u=100-n/e*100;return`${c},${u}`}).join(" ");return t.jsxs("div",{className:"w-full h-64 relative animate-in fade-in duration-500",children:[t.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"w-full h-full overflow-visible",children:[t.jsx("line",{x1:"0",y1:"25",x2:"100",y2:"25",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("line",{x1:"0",y1:"75",x2:"100",y2:"75",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("polyline",{fill:"none",stroke:"#3B82F6",strokeWidth:"2",points:r,vectorEffect:"non-scaling-stroke",className:"drop-shadow-sm transition-all duration-500 ease-in-out"}),t.jsx("polygon",{fill:"url(#gradient)",points:`0,100 ${r} 100,100`,opacity:"0.1",className:"transition-all duration-500 ease-in-out"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),t.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0"})]})})]}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-2 font-medium",children:[t.jsx("span",{children:"Start"}),t.jsx("span",{children:"Mid"}),t.jsx("span",{children:"End"})]})]})},FR=({onNavigate:s})=>{const[e,r]=W.useState("Last 12 Months"),[n,i]=W.useState({totalUsers:0,verifiedUsers:0,totalTrips:0,totalArticles:0,totalSubscriptions:0,revenueThisMonth:0,userGrowth:0,verifiedGrowth:0,tripGrowth:0,chartData:[0,0,0,0,0,0,0,0,0,0,0,0]}),[c,u]=W.useState(!0);W.useEffect(()=>{d(e)},[e]);const d=async o=>{u(!0);try{const f=new URLSearchParams({range:o}),m=await fetch(`${Ot}/api/admin/dashboard-stats?${f}`,{credentials:"include"});if(m.ok){const p=await m.json(),x={totalUsers:p.total_users??p.totalUsers??0,verifiedUsers:p.active_users??p.verifiedUsers??0,totalTrips:p.total_trips??p.totalTrips??0,totalArticles:p.total_articles??p.totalArticles??0,totalSubscriptions:p.total_subscriptions??p.totalSubscriptions??0,revenueThisMonth:p.revenue_this_month??p.revenueThisMonth??0,userGrowth:p.user_growth??p.userGrowth??0,verifiedGrowth:p.verified_growth??p.verifiedGrowth??0,tripGrowth:p.trip_growth??p.tripGrowth??0,chartData:p.chart_data??p.chartData??[0,0,0,0,0,0,0,0,0,0,0,0]};console.log("Dashboard stats loaded:",x),i(x)}else console.error("Failed to fetch dashboard stats:",m.status)}catch(f){console.error("Error fetching dashboard stats:",f)}finally{u(!1)}},A=o=>{r(o.target.value)};return c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("User"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:t.jsx(Td,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.userGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.userGrowth??0)>=0?t.jsx(dp,{size:12,className:"mr-1"}):t.jsx(cp,{size:12,className:"mr-1"}),Math.abs(n.userGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalUsers??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Total Registered Users"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("User"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:t.jsx(t0,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.verifiedGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.verifiedGrowth??0)>=0?t.jsx(dp,{size:12,className:"mr-1"}):t.jsx(cp,{size:12,className:"mr-1"}),Math.abs(n.verifiedGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.verifiedUsers??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Verified Accounts"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("Trip"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:t.jsx(eA,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.tripGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.tripGrowth??0)>=0?t.jsx(dp,{size:12,className:"mr-1"}):t.jsx(cp,{size:12,className:"mr-1"}),Math.abs(n.tripGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalTrips??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Total Trips Created"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("Info Blog"),children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:t.jsx(kd,{size:20})})}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalArticles??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Published Articles"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:t.jsx(Ub,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Revenue This Month"}),t.jsx("p",{className:"text-sm text-slate-500",children:"From premium subscriptions"})]})]}),t.jsxs("p",{className:"text-3xl font-bold text-slate-800",children:["RM ",(n.revenueThisMonth??0).toFixed(2)]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:t.jsx(Td,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Active Subscriptions"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Premium members"})]})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-800",children:(n.totalSubscriptions??0).toLocaleString()})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"User Growth"}),t.jsxs("p",{className:"text-sm text-slate-500",children:["New signups over ",e.toLowerCase()]})]}),t.jsxs("select",{className:"text-sm border-slate-200 rounded-lg text-slate-600 focus:ring-blue-500 focus:border-blue-500 p-2 border bg-white cursor-pointer",onChange:A,value:e,children:[t.jsx("option",{children:"Last 12 Months"}),t.jsx("option",{children:"Last 30 Days"}),t.jsx("option",{children:"Last 7 Days"})]})]}),t.jsx(UR,{data:n.chartData??[0,0,0,0,0,0,0,0,0,0,0,0]})]})]})},ic={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},zw={[ic.SUPER_ADMIN]:{label:"Super Admin",color:"text-purple-700",bgColor:"bg-purple-50 border-purple-200",icon:t.jsx(t0,{className:"w-3 h-3"})},[ic.ADMIN]:{label:"Admin",color:"text-blue-700",bgColor:"bg-blue-50 border-blue-200",icon:t.jsx(Vd,{className:"w-3 h-3"})},[ic.USER]:{label:"User",color:"text-slate-600",bgColor:"bg-slate-50 border-slate-200",icon:t.jsx(OE,{className:"w-3 h-3"})}},MR=()=>{const[s,e]=W.useState([]),[r,n]=W.useState([]),[i,c]=W.useState(!0),[u,d]=W.useState(""),[A,o]=W.useState(1),f=10,[m,p]=W.useState(ic.ADMIN),[x,v]=W.useState(!1),[y,w]=W.useState([{value:ic.USER,label:"User",description:"Regular user"}]),[E,Q]=W.useState(!1),[K,Z]=W.useState(null),[J,H]=W.useState(!1),[G,ce]=W.useState({email:"",role:ic.USER,status:"active"}),[Ae,Ne]=W.useState({isOpen:!1,user:null,type:null}),[re,Be]=W.useState(null),[fe,Se]=W.useState(null);W.useEffect(()=>{de(),ae()},[]);const pe=($e,Bt)=>{Se({type:$e,message:Bt}),setTimeout(()=>Se(null),4e3)},ae=async()=>{try{const $e=await fetch("/api/admin/available-roles");if($e.ok){const Bt=await $e.json();w(Bt.availableRoles||[{value:ic.USER,label:"User",description:"Regular user"}]),p(Bt.currentRole||ic.ADMIN),v(Bt.canManageAdmins||!1)}}catch($e){console.error("Failed to fetch available roles:",$e)}},de=async()=>{try{const $e=await fetch("/api/admin/users");if($e.ok){const Bt=await $e.json();e(Array.isArray(Bt)?Bt:Bt.users||[]),Bt.currentAdminRole&&p(Bt.currentAdminRole),typeof Bt.canManageAdmins=="boolean"&&v(Bt.canManageAdmins)}else console.error("Failed to fetch users"),pe("error","Failed to fetch user list")}catch($e){console.error("Error:",$e),pe("error","Network error")}finally{c(!1)}},oe=$e=>{const Bt=($e==null?void 0:$e.toLowerCase())||"user",Qt=zw[Bt]||zw[ic.USER];return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border ${Qt.bgColor} ${Qt.color}`,children:[Qt.icon,Qt.label]})},Ee=($e,Bt)=>$e==="pending_verification"||!Bt?{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",icon:t.jsx(Vi,{className:"w-3 h-3"}),label:"Pending Verification"}:$e==="active"?{bg:"bg-green-50",text:"text-green-700",border:"border-green-200",icon:t.jsx(Co,{className:"w-3 h-3"}),label:"Active"}:$e==="suspended"?{bg:"bg-red-50",text:"text-red-700",border:"border-red-200",icon:t.jsx(du,{className:"w-3 h-3"}),label:"Suspended"}:{bg:"bg-slate-50",text:"text-slate-700",border:"border-slate-200",icon:t.jsx(Jo,{className:"w-3 h-3"}),label:$e},Re=$e=>{if(!$e)return"N/A";const Bt=new Date($e),ks=new Date().getTime()-Bt.getTime(),zs=Math.floor(ks/(1e3*60*60*24));return zs===0?"Today":zs===1?"Yesterday":zs<7?`${zs} days ago`:zs<30?`${Math.floor(zs/7)} weeks ago`:zs<365?`${Math.floor(zs/30)} months ago`:Bt.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},ke=async $e=>{if($e.status!=="pending_verification"){pe("error","User is already verified");return}Be($e.id);try{const Bt=await fetch(`/api/admin/users/${$e.id}/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"}});if(Bt.ok)pe("success",`Verification email sent to ${$e.email}`);else{const Qt=await Bt.json();pe("error",Qt.message||"Failed to send verification email")}}catch(Bt){console.error("Error:",Bt),pe("error","Network error occurred")}finally{Be(null)}},me=$e=>{var ks;const Bt=(ks=$e.role)==null?void 0:ks.toLowerCase();if(!x&&(Bt===ic.ADMIN||Bt===ic.SUPER_ADMIN)){pe("error","Permission denied: Cannot delete admin users");return}const Qt=$e.status==="pending_verification"?"pending":"active";Ne({isOpen:!0,user:$e,type:Qt})},we=async()=>{const{user:$e}=Ae;if($e)try{const Bt=await fetch(`/api/admin/users/${$e.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(Bt.ok)e(s.filter(Qt=>Qt.id!==$e.id)),pe("success",`User ${$e.email} deleted successfully`),Ne({isOpen:!1,user:null,type:null});else{const Qt=await Bt.json();pe("error",Qt.error||"Failed to delete user")}}catch(Bt){console.error("Error:",Bt),pe("error","Network error occurred")}},ue=$e=>{var Qt;const Bt=(Qt=$e.role)==null?void 0:Qt.toLowerCase();if(!x&&(Bt===ic.ADMIN||Bt===ic.SUPER_ADMIN)){pe("error","Permission denied: Cannot edit admin users");return}Z({...$e}),Q(!0)},te=async()=>{if(K)try{const $e=await fetch(`/api/admin/users/${K.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:K.email,role:K.role,status:K.status})});if($e.ok){const Bt=await $e.json();e(s.map(Qt=>Qt.id===K.id?{...Qt,...Bt}:Qt)),Q(!1),Z(null),pe("success","User updated successfully")}else{const Bt=await $e.json();pe("error",Bt.error||"Failed to update user")}}catch($e){console.error("Update error:",$e),pe("error","Update failed due to network error")}},ge=()=>{ce({email:"",role:ic.USER,status:"active"}),H(!0)},Me=async()=>{if(G.email)try{const $e={email:G.email,role:G.role||ic.USER,status:G.status||"active"},Bt=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($e)});if(Bt.ok){const Qt=await Bt.json();e([Qt,...s]),H(!1),ce({email:"",role:ic.USER,status:"active"}),pe("success","User added successfully. Temporary password sent via email.")}else{const Qt=await Bt.json();pe("error",Qt.error||"Failed to add user")}}catch($e){console.error("Add error:",$e),pe("error","Network error occurred")}},Ve=()=>{const $e=r.length>0?s.filter(As=>r.includes(As.id)):s,Bt=["User ID","Email","Full Name","Role","Status","Email Verified","Last Login","Created At","Updated At","Deleted At","Is Premium","Plan Name","Plan Level","Sub End Date","Is Lifetime","Remaining Days","Stripe Customer ID","Has Google Calendar","Has Password","Has Google ID","Total Trips","Total Expenses","Total Calendar Events","Scheduler Items","Total Notifications"],Qt=$e.map(As=>{var js,qs,hr,rr,Xs;const Rs=Es=>{if(Es==null)return"";const Gt=String(Es);return Gt.includes(",")?`"${Gt}"`:Gt},br=Es=>Es?"Yes":"No";return[Rs(As.id),Rs(As.email),Rs(As.name),Rs(As.role),Rs(As.status),br(As.isVerified),Rs(As.lastLogin),Rs(As.createdAt),Rs(As.updatedAt),Rs(As.deletedAt),br(As.isPremium),Rs(As.currentPlanName),Rs(As.currentPlanLevel),Rs(As.subscriptionEndDate),br(As.isLifetime),Rs(As.remainingDays),Rs(As.stripeCustomerId),br(As.hasGoogleCalendar),br(As.hasPassword),br(As.hasGoogleId),Rs(((js=As.relatedData)==null?void 0:js.trips)||0),Rs(((qs=As.relatedData)==null?void 0:qs.expenses)||0),Rs(((hr=As.relatedData)==null?void 0:hr.calendarEvents)||0),Rs(((rr=As.relatedData)==null?void 0:rr.schedulerItems)||0),Rs(((Xs=As.relatedData)==null?void 0:Xs.notifications)||0)].join(",")}).join(`
`),ks=`${Bt.join(",")}
${Qt}`,zs=new Blob([ks],{type:"text/csv;charset=utf-8;"}),yr=URL.createObjectURL(zs),mr=document.createElement("a");mr.href=yr;const ar=r.length>0?"selected":"full_database",$s=new Date().toISOString().split("T")[0];mr.setAttribute("download",`gogotrip_users_${ar}_${$s}.csv`),document.body.appendChild(mr),mr.click(),document.body.removeChild(mr),pe("success",`Export completed (${$e.length} records)`)},Nt=$e=>{o($e)},ut=()=>{r.length===ls.length?n([]):n(ls.map($e=>$e.id))},et=$e=>{r.includes($e)?n(r.filter(Bt=>Bt!==$e)):n([...r,$e])},Lt=s.filter($e=>$e.email.toLowerCase().includes(u.toLowerCase())||$e.role.toLowerCase().includes(u.toLowerCase())||$e.status.toLowerCase().includes(u.toLowerCase())),ns=Math.ceil(Lt.length/f),ls=Lt.slice((A-1)*f,A*f),vt=$e=>{var Qt;if(x)return!0;const Bt=(Qt=$e.role)==null?void 0:Qt.toLowerCase();return Bt!==ic.ADMIN&&Bt!==ic.SUPER_ADMIN};return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(id,{className:"w-8 h-8 text-blue-500 animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[fe&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg animate-in slide-in-from-right duration-300 ${fe.type==="success"?"bg-green-50 border border-green-200 text-green-800":fe.type==="error"?"bg-red-50 border border-red-200 text-red-800":fe.type==="info"?"bg-blue-50 border border-blue-200 text-blue-800":"bg-amber-50 border border-amber-200 text-amber-800"}`,children:[fe.type==="success"&&t.jsx(Bo,{className:"w-5 h-5"}),fe.type==="error"&&t.jsx(Oa,{className:"w-5 h-5"}),fe.type==="warning"&&t.jsx(Jo,{className:"w-5 h-5"}),fe.type==="info"&&t.jsx(kl,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium",children:fe.message}),t.jsx("button",{onClick:()=>Se(null),children:t.jsx(en,{className:"w-4 h-4 opacity-60 hover:opacity-100"})})]}),t.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border ${x?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:[x?t.jsx(t0,{className:"w-5 h-5 text-purple-600"}):t.jsx(Vd,{className:"w-5 h-5 text-blue-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:`text-sm font-medium ${x?"text-purple-800":"text-blue-800"}`,children:x?"Super Admin Access":"Admin Access"}),t.jsx("span",{className:`text-sm ml-2 ${x?"text-purple-600":"text-blue-600"}`,children:x?" You can view and manage all users including other admins":" You can only view and manage regular users"})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${x?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:m})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"User Management"}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[Lt.length," ",Lt.length===1?"user":"users"," found",!x&&" (regular users only)"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:Ve,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50 flex items-center gap-2",children:[t.jsx(P0,{size:16}),"Export ",r.length>0?`(${r.length})`:"All"]}),t.jsxs("button",{onClick:ge,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2",children:[t.jsx(zi,{size:16}),"Add User"]})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(zc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Search by email, role, or status...",value:u,onChange:$e=>{d($e.target.value),o(1)},className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[t.jsx("th",{className:"px-4 py-3 text-left",children:t.jsx("input",{type:"checkbox",checked:r.length===ls.length&&ls.length>0,onChange:ut,className:"rounded border-slate-300"})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Role"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Created"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:ls.map($e=>{const Bt=Ee($e.status,$e.isVerified??!0),Qt=vt($e);return t.jsxs("tr",{className:`hover:bg-slate-50/50 transition-colors ${Qt?"":"bg-slate-50/30"}`,children:[t.jsx("td",{className:"px-4 py-4",children:t.jsx("input",{type:"checkbox",checked:r.includes($e.id),onChange:()=>et($e.id),className:"rounded border-slate-300"})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-medium text-sm",children:$e.email.charAt(0).toUpperCase()}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-800",children:$e.email}),t.jsxs("div",{className:"text-xs text-slate-400",children:["ID: ",$e.id]})]})]})}),t.jsx("td",{className:"px-4 py-4",children:oe($e.role)}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border ${Bt.bg} ${Bt.text} ${Bt.border}`,children:[Bt.icon,Bt.label]}),$e.status==="pending_verification"&&t.jsxs("button",{onClick:()=>ke($e),disabled:re===$e.id,className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 disabled:opacity-50",children:[re===$e.id?t.jsx(id,{className:"w-3 h-3 animate-spin"}):t.jsx(Gd,{className:"w-3 h-3"}),"Resend Email"]})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-500",children:[t.jsx(lo,{className:"w-3.5 h-3.5"}),Re($e.createdAt)]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("div",{className:"flex items-center justify-end gap-1",children:Qt?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>ue($e),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit user",children:t.jsx(Qg,{size:16})}),t.jsx("button",{onClick:()=>me($e),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete user",children:t.jsx(Xo,{size:16})})]}):t.jsx("span",{className:"text-xs text-slate-400 px-2 py-1 bg-slate-100 rounded",children:"Protected"})})})]},$e.id)})})]})}),ns>1&&t.jsxs("div",{className:"px-4 py-3 border-t border-slate-200 flex items-center justify-between bg-slate-50/50",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing ",(A-1)*f+1," to ",Math.min(A*f,Lt.length)," of ",Lt.length]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>Nt(A-1),disabled:A===1,className:"px-3 py-1 text-sm border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-100",children:"Previous"}),Array.from({length:Math.min(5,ns)},($e,Bt)=>{let Qt;return ns<=5||A<=3?Qt=Bt+1:A>=ns-2?Qt=ns-4+Bt:Qt=A-2+Bt,t.jsx("button",{onClick:()=>Nt(Qt),className:`px-3 py-1 text-sm border rounded-lg ${A===Qt?"bg-blue-600 text-white border-blue-600":"border-slate-200 hover:bg-slate-100"}`,children:Qt},Qt)}),t.jsx("button",{onClick:()=>Nt(A+1),disabled:A===ns,className:"px-3 py-1 text-sm border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-100",children:"Next"})]})]})]}),Ae.isOpen&&Ae.user&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:`p-6 flex items-start gap-4 ${Ae.type==="active"?"bg-red-50":"bg-amber-50"}`,children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${Ae.type==="active"?"bg-red-100 text-red-600":"bg-amber-100 text-amber-600"}`,children:Ae.type==="active"?t.jsx(H3,{size:20}):t.jsx(Jo,{size:20})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:Ae.type==="active"?"Delete Active User?":"Delete Pending User?"}),t.jsx("p",{className:"text-sm text-slate-600",children:Ae.type==="active"?"This user has an active account with data. This action cannot be undone.":"This user has not completed email verification yet."})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"You are about to delete:"}),t.jsx("div",{className:"font-medium text-slate-900",children:Ae.user.email}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Status: ",Ae.user.status," | Role: ",Ae.user.role]})]}),Ae.type==="active"&&t.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Oa,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("div",{className:"font-medium mb-1",children:"Warning: Active User"}),t.jsx("div",{className:"text-xs text-red-700",children:"This will permanently delete all associated data including trips, expenses, and scheduler items. Consider suspending instead of deleting."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>Ne({isOpen:!1,user:null,type:null}),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:we,className:`px-4 py-2 rounded-lg text-sm font-medium text-white flex items-center gap-2 ${Ae.type==="active"?"bg-red-600 hover:bg-red-700":"bg-amber-600 hover:bg-amber-700"}`,children:[t.jsx(Xo,{size:16}),Ae.type==="active"?"Delete User":"Delete Pending User"]})]})]})}),E&&K&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Edit User"}),t.jsx("button",{onClick:()=>Q(!1),children:t.jsx(en,{size:20,className:"text-slate-400"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",value:K.email,onChange:$e=>Z({...K,email:$e.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),t.jsx("select",{value:K.role,onChange:$e=>Z({...K,role:$e.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:y.map($e=>t.jsx("option",{value:$e.value,children:$e.label},$e.value))}),!x&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Only super_admin can assign admin roles"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:K.status,onChange:$e=>Z({...K,status:$e.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending_verification",children:"Pending Verification"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})]}),t.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:te,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2",children:[t.jsx(IA,{size:16})," Save Changes"]})]})]})}),J&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Add New User"}),t.jsx("button",{onClick:()=>H(!1),children:t.jsx(en,{size:20,className:"text-slate-400"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",placeholder:"e.g. user@example.com",value:G.email,onChange:$e=>ce({...G,email:$e.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),t.jsx("select",{value:G.role,onChange:$e=>ce({...G,role:$e.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:y.map($e=>t.jsx("option",{value:$e.value,children:$e.label},$e.value))}),!x&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Only super_admin can create admin users"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:G.status,onChange:$e=>ce({...G,status:$e.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending_verification",children:"Pending Verification"})]})]})]}),t.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Gd,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-blue-800",children:[t.jsx("div",{className:"font-medium mb-1",children:"Automatic Email"}),t.jsx("div",{className:"text-xs text-blue-700",children:"A temporary password will be automatically generated and sent to the user's email."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:Me,disabled:!G.email,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed flex items-center gap-2",children:[t.jsx(zi,{size:16})," Create User"]})]})]})})]})},LR=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[i,c]=W.useState(""),[u,d]=W.useState(1),A=10,[o,f]=W.useState(null),[m,p]=W.useState(null);W.useEffect(()=>{v()},[]);const x=(Z,J)=>{f({type:Z,message:J}),setTimeout(()=>f(null),3e3)},v=async()=>{try{const Z=await fetch("/api/admin/email_verifications");if(Z.ok){const J=await Z.json();e(J)}}catch(Z){console.error("Error fetching data:",Z),x("error","Failed to fetch data")}finally{n(!1)}},y=Z=>{p(Z)},w=async()=>{if(m)try{(await fetch(`/api/admin/email_verifications/${m}`,{method:"DELETE"})).ok?(e(s.filter(J=>J.id!==m)),x("success","Record deleted successfully")):x("error","Failed to delete record")}catch(Z){console.error(Z),x("error","An error occurred")}finally{p(null)}},E=s.filter(Z=>Z.email.toLowerCase().includes(i.toLowerCase())||Z.code.includes(i)),Q=Math.ceil(E.length/A),K=E.slice((u-1)*A,u*A);return r?t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-10 flex justify-center items-center h-full min-h-[400px]",children:t.jsx("div",{className:"text-slate-500 animate-pulse",children:"Loading verification data..."})}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[o&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${o.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${o.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:o.type==="success"?t.jsx(Co,{size:18}):t.jsx(du,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:o.message}),t.jsx("button",{onClick:()=>f(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(en,{size:16})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Email Verifications"}),t.jsx("p",{className:"text-sm text-slate-500",children:"View and manage OTP codes."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search email...",className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64",value:i,onChange:Z=>c(Z.target.value)}),t.jsx(zc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsx("button",{onClick:v,className:"p-2 border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-600",children:t.jsx(id,{size:16})})]})]}),t.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:[t.jsx("th",{className:"p-4",children:"ID"}),t.jsx("th",{className:"p-4",children:"Email Address"}),t.jsx("th",{className:"p-4",children:"Code"}),t.jsx("th",{className:"p-4",children:"Status"}),t.jsx("th",{className:"p-4",children:"Created / Expires"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:K.map(Z=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4 text-slate-500",children:["#",Z.id]}),t.jsxs("td",{className:"p-4 font-medium text-slate-800 flex items-center gap-2",children:[t.jsx(Gd,{size:14,className:"text-slate-400"})," ",Z.email]}),t.jsx("td",{className:"p-4 font-mono text-slate-600 bg-slate-50 w-fit px-2 rounded border border-slate-100",children:Z.code}),t.jsx("td",{className:"p-4",children:Z.is_verified?t.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 bg-green-50 px-2 py-1 rounded-full text-xs font-medium",children:[t.jsx(Co,{size:12})," Verified"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-slate-500 bg-slate-100 px-2 py-1 rounded-full text-xs font-medium",children:[t.jsx(du,{size:12})," Pending"]})}),t.jsxs("td",{className:"p-4 text-xs text-slate-500",children:[t.jsxs("div",{children:["C: ",new Date(Z.created_at).toLocaleString()]}),t.jsxs("div",{className:"text-red-400",children:["E: ",new Date(Z.expires_at).toLocaleString()]})]}),t.jsx("td",{className:"p-4 text-right",children:t.jsx("button",{onClick:()=>y(Z.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete",children:t.jsx(Xo,{size:16})})})]},Z.id))})]})}),t.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end gap-2",children:[t.jsx("button",{disabled:u===1,onClick:()=>d(Z=>Z-1),className:"px-3 py-1 border rounded disabled:opacity-50 hover:bg-slate-50 transition-colors",children:"Prev"}),t.jsxs("span",{className:"px-3 py-1 text-sm text-slate-500",children:["Page ",u," of ",Q]}),t.jsx("button",{disabled:u===Q,onClick:()=>d(Z=>Z+1),className:"px-3 py-1 border rounded disabled:opacity-50 hover:bg-slate-50 transition-colors",children:"Next"})]}),m&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(Jo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Verification?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this verification record? This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>p(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:w,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})})]})},OR=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[i,c]=W.useState(""),[u,d]=W.useState(!1),[A,o]=W.useState("select"),[f,m]=W.useState(null),[p,x]=W.useState(""),[v,y]=W.useState([]),[w,E]=W.useState(!1),[Q,K]=W.useState(null),[Z,J]=W.useState(!1),H=W.useRef(null),[G,ce]=W.useState({name:"",address:"",rating:"",phone:"",website:"",price_level:"",lat:"",lng:""}),[Ae,Ne]=W.useState(!1),[re,Be]=W.useState(null),[fe,Se]=W.useState(null);W.useEffect(()=>{ae()},[]),W.useEffect(()=>{if(A!=="google"||p.length<2){y([]);return}return H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{de(p)},400),()=>{H.current&&clearTimeout(H.current)}},[p,A]);const pe=(ge,Me)=>{Be({type:ge,message:Me}),setTimeout(()=>Be(null),3500)},ae=async()=>{try{const ge=await fetch(`/api/admin/places?t=${Date.now()}`);if(ge.ok){const Me=await ge.json();e(Me.places||Me)}}catch(ge){console.error(ge),pe("error","Failed to load places")}finally{n(!1)}},de=async ge=>{E(!0);try{const Me=await fetch(`/api/admin/places/google/search?q=${encodeURIComponent(ge)}`);if(Me.ok){const Ve=await Me.json();y(Ve)}}catch(Me){console.error(Me)}finally{E(!1)}},oe=async()=>{if(Q){J(!0);try{const ge=await fetch("/api/admin/places/google/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({place_id:Q.place_id})}),Me=await ge.json();ge.ok?(pe("success",Me.is_new?"Place imported successfully!":"Place already exists"),we(),ae()):pe("error",Me.error||"Import failed")}catch{pe("error","Network error during import")}finally{J(!1)}}},Ee=ge=>{var Me,Ve,Nt;m(ge),o("manual"),ce({name:ge.name,address:ge.address,rating:((Me=ge.rating)==null?void 0:Me.toString())||"",phone:ge.phone||"",website:ge.website||"",price_level:ge.price_level||"",lat:((Ve=ge.coordinates)==null?void 0:Ve.lat.toString())||"",lng:((Nt=ge.coordinates)==null?void 0:Nt.lng.toString())||""}),d(!0)},Re=async()=>{if(f){if(!G.name.trim()||!G.address.trim()){pe("error","Name and Address are required");return}Ne(!0);try{const ge={name:G.name.trim(),address:G.address.trim(),is_manual:!0,rating:G.rating?parseFloat(G.rating):null,phone:G.phone?G.phone.trim():null,website:G.website?G.website.trim():null,price_level:G.price_level||null};G.lat&&G.lng&&(ge.coordinates={lat:parseFloat(G.lat),lng:parseFloat(G.lng)});const Me=await fetch(`/api/admin/places/${f.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)});if(Me.ok)pe("success","Place updated successfully!"),we(),ae();else{const Ve=await Me.json();pe("error",Ve.error||"Update failed")}}catch{pe("error","Network error")}finally{Ne(!1)}}},ke=async()=>{if(!G.name.trim()||!G.address.trim()){pe("error","Name and Address are required");return}Ne(!0);try{const ge={name:G.name.trim(),address:G.address.trim(),is_manual:!0};G.rating&&(ge.rating=parseFloat(G.rating)),G.phone&&(ge.phone=G.phone.trim()),G.website&&(ge.website=G.website.trim()),G.price_level&&(ge.price_level=G.price_level),G.lat&&G.lng&&(ge.coordinates={lat:parseFloat(G.lat),lng:parseFloat(G.lng)});const Me=await fetch("/api/admin/places/manual",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)}),Ve=await Me.json();Me.ok?(pe("success","Place created successfully!"),we(),ae()):pe("error",Ve.error||"Creation failed")}catch{pe("error","Network error")}finally{Ne(!1)}},me=async()=>{if(fe)try{(await fetch(`/api/admin/places/${fe}`,{method:"DELETE"})).ok?(e(s.filter(Me=>Me.id!==fe)),pe("success","Place deleted successfully")):pe("error","Failed to delete place")}catch{pe("error","Network error")}finally{Se(null)}},we=()=>{d(!1),o("select"),m(null),x(""),y([]),K(null),ce({name:"",address:"",rating:"",phone:"",website:"",price_level:"",lat:"",lng:""})},ue=ge=>({"Food & Drink":"bg-orange-100 text-orange-700",Accommodation:"bg-purple-100 text-purple-700",Culture:"bg-indigo-100 text-indigo-700",Nature:"bg-emerald-100 text-emerald-700",Shopping:"bg-pink-100 text-pink-700",Landmark:"bg-amber-100 text-amber-700"})[ge||""]||"bg-slate-100 text-slate-600",te=s.filter(ge=>{var Me,Ve;return((Me=ge.name)==null?void 0:Me.toLowerCase().includes(i.toLowerCase()))||((Ve=ge.address)==null?void 0:Ve.toLowerCase().includes(i.toLowerCase()))});return r?t.jsx("div",{className:"flex items-center justify-center h-64 bg-white rounded-xl border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Ir,{className:"w-8 h-8 animate-spin text-blue-500"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"Loading places..."})]})}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[re&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${re.type==="success"?"bg-white border-emerald-200 text-emerald-800":"bg-white border-red-200 text-red-800"}`,children:[t.jsx("div",{className:`p-1.5 rounded-full ${re.type==="success"?"bg-emerald-100":"bg-red-100"}`,children:re.type==="success"?t.jsx(Co,{size:16}):t.jsx(Oa,{size:16})}),t.jsx("p",{className:"text-sm font-medium",children:re.message}),t.jsx("button",{onClick:()=>Be(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(en,{size:14})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center gap-4 bg-gradient-to-r from-slate-50 to-white",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[t.jsx(pj,{size:20,className:"text-blue-600"}),"Places Management"]}),t.jsxs("p",{className:"text-sm text-slate-500 mt-0.5",children:[s.length," destinations in database"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search places...",className:"pl-9 pr-4 py-2.5 w-64 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",value:i,onChange:ge=>c(ge.target.value)}),t.jsx(zc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white text-sm font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 flex items-center gap-2 transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:[t.jsx(zi,{size:16,strokeWidth:2.5})," Add Place"]})]})]}),t.jsx("div",{className:"overflow-x-auto flex-1",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50/80 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase tracking-wide",children:[t.jsx("th",{className:"p-4",children:"Place Name"}),t.jsx("th",{className:"p-4",children:"Address"}),t.jsx("th",{className:"p-4",children:"Category"}),t.jsx("th",{className:"p-4",children:"Rating"}),t.jsx("th",{className:"p-4",children:"Source"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:te.length===0?t.jsx("tr",{children:t.jsxs("td",{colSpan:6,className:"p-12 text-center text-slate-400",children:[t.jsx(Yo,{size:32,className:"mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No places found"})]})}):te.map(ge=>{var Me;return t.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[t.jsx("td",{className:"p-4",children:t.jsx("span",{className:"font-medium text-slate-800",children:ge.name})}),t.jsx("td",{className:"p-4 text-slate-500 max-w-xs",children:t.jsxs("div",{className:"flex items-center gap-2 truncate",children:[t.jsx(Yo,{size:13,className:"shrink-0 text-slate-400"}),t.jsx("span",{className:"truncate",children:ge.address})]})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${ue(ge.category)}`,children:ge.category||"General"})}),t.jsx("td",{className:"p-4",children:ge.rating?t.jsxs("div",{className:"flex items-center gap-1.5 text-amber-500 font-medium",children:[t.jsx(Ju,{size:13,fill:"currentColor"}),t.jsx("span",{children:ge.rating.toFixed(1)})]}):t.jsx("span",{className:"text-slate-300",children:""})}),t.jsx("td",{className:"p-4",children:ge.is_manual===!0||(Me=ge.google_place_id)!=null&&Me.startsWith("manual_")?t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded",children:[t.jsx(Wy,{size:11})," Manual"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:[t.jsx(Fp,{size:11})," Google"]})}),t.jsx("td",{className:"p-4 text-right",children:t.jsxs("div",{className:"flex justify-end gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>Ee(ge),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:t.jsx(Qg,{size:14})}),t.jsx("button",{onClick:()=>Se(ge.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:t.jsx(Xo,{size:14})})]})})]},ge.id)})})]})}),fe&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-14 h-14 bg-red-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Jo,{size:26,className:"text-red-600"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Place?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This action cannot be undone. The place will be permanently removed."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>Se(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:me,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all",children:"Delete"})]})]})})}),u&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:f?"Edit Place":"Add New Place"}),t.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:f?"Update place details manually":"Choose how you want to add a place"})]}),t.jsx("button",{onClick:we,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-white/80 rounded-lg transition-all",children:t.jsx(en,{size:20})})]}),A==="select"&&!f&&t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>o("google"),className:"group relative p-5 rounded-xl border-2 border-slate-200 hover:border-blue-400 hover:bg-blue-50/50 transition-all text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center mb-4 shadow-lg shadow-blue-500/25",children:t.jsx(Fp,{size:22,className:"text-white"})}),t.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Google Places"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Search and import from Google Maps with full details"}),t.jsx(uc,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]}),t.jsxs("button",{onClick:()=>o("manual"),className:"group relative p-5 rounded-xl border-2 border-slate-200 hover:border-emerald-400 hover:bg-emerald-50/50 transition-all text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center mb-4 shadow-lg shadow-emerald-500/25",children:t.jsx(Wy,{size:22,className:"text-white"})}),t.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Manual Entry"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Enter place details manually without API"}),t.jsx(uc,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 group-hover:text-emerald-500 group-hover:translate-x-1 transition-all"})]})]})}),A==="google"&&t.jsxs("div",{className:"p-6",children:[t.jsx("button",{onClick:()=>o("select"),className:"text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1 mb-4",children:" Back to options"}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx("input",{type:"text",placeholder:"Search Google Places...",value:p,onChange:ge=>x(ge.target.value),className:"w-full pl-11 pr-4 py-3 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0}),w?t.jsx(Ir,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500 animate-spin"}):t.jsx(zc,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsxs("div",{className:"max-h-72 overflow-y-auto space-y-2",children:[v.length===0&&p.length>=2&&!w&&t.jsx("p",{className:"text-center text-slate-400 py-8 text-sm",children:"No results found"}),v.map(ge=>t.jsx("button",{onClick:()=>K(ge),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${(Q==null?void 0:Q.place_id)===ge.place_id?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300 hover:bg-slate-50"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${(Q==null?void 0:Q.place_id)===ge.place_id?"bg-blue-500 text-white":"bg-slate-100 text-slate-500"}`,children:t.jsx(Yo,{size:18})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h5",{className:"font-medium text-slate-800 truncate",children:ge.name}),t.jsx("p",{className:"text-sm text-slate-500 truncate",children:ge.address}),t.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[ge.rating&&t.jsxs("span",{className:"flex items-center gap-1 text-xs text-amber-600",children:[t.jsx(Ju,{size:11,fill:"currentColor"})," ",ge.rating]}),ge.types[0]&&t.jsx("span",{className:"text-xs text-slate-400",children:ge.types[0].replace(/_/g," ")})]})]}),(Q==null?void 0:Q.place_id)===ge.place_id&&t.jsx(Co,{size:20,className:"text-blue-500 shrink-0"})]})},ge.place_id))]}),Q&&t.jsx("button",{onClick:oe,disabled:Z,className:"mt-4 w-full py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg shadow-blue-500/25 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Z?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{size:18,className:"animate-spin"}),"Importing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(co,{size:18}),'Import "',Q.name,'"']})})]}),A==="manual"&&t.jsxs("div",{className:"p-6",children:[!f&&t.jsx("button",{onClick:()=>o("select"),className:"text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1 mb-4",children:" Back to options"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Place Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",placeholder:"e.g. Petronas Twin Towers",value:G.name,onChange:ge=>ce({...G,name:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",placeholder:"Full address",value:G.address,onChange:ge=>ce({...G,address:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Rating"}),t.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",placeholder:"0.0 - 5.0",value:G.rating,onChange:ge=>ce({...G,rating:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Price Level"}),t.jsxs("select",{value:G.price_level,onChange:ge=>ce({...G,price_level:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all bg-white",children:[t.jsx("option",{value:"",children:"Select..."}),t.jsx("option",{value:"Free",children:"Free"}),t.jsx("option",{value:"$",children:"$ Budget"}),t.jsx("option",{value:"$$",children:"$$ Moderate"}),t.jsx("option",{value:"$$$",children:"$$$ Expensive"}),t.jsx("option",{value:"$$$$",children:"$$$$ Luxury"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Phone"}),t.jsx("input",{type:"tel",placeholder:"+60 12-345 6789",value:G.phone,onChange:ge=>ce({...G,phone:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Website"}),t.jsx("input",{type:"url",placeholder:"https://...",value:G.website,onChange:ge=>ce({...G,website:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Coordinates ",t.jsx("span",{className:"text-slate-400 font-normal",children:"(optional)"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("input",{type:"number",step:"any",placeholder:"Latitude",value:G.lat,onChange:ge=>ce({...G,lat:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"}),t.jsx("input",{type:"number",step:"any",placeholder:"Longitude",value:G.lng,onChange:ge=>ce({...G,lng:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]})]}),t.jsx("button",{onClick:f?Re:ke,disabled:Ae||!G.name.trim()||!G.address.trim(),className:"mt-2 w-full py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-700 hover:to-teal-700 transition-all shadow-lg shadow-emerald-500/25 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Ae?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{size:18,className:"animate-spin"}),f?"Updating...":"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(IA,{size:18}),f?"Update Place":"Save Place"]})})]})]})]})})]})},IR=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0);return W.useEffect(()=>{fetch("/api/admin/trip_items").then(i=>i.ok?i.json():[]).then(i=>e(i)).catch(console.error).finally(()=>n(!1))},[]),r?t.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading itinerary items..."}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full",children:[t.jsxs("div",{className:"p-5 border-b border-slate-200",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Trip Itinerary Items"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Granular view of all scheduled activities."})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase",children:[t.jsx("th",{className:"p-4",children:"Item ID"}),t.jsx("th",{className:"p-4",children:"Trip Ref"}),t.jsx("th",{className:"p-4",children:"Place / Activity"}),t.jsx("th",{className:"p-4",children:"Timing"}),t.jsx("th",{className:"p-4",children:"Notes"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:s.map(i=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4 text-slate-400",children:["#",i.id]}),t.jsx("td",{className:"p-4",children:t.jsxs("span",{className:"flex items-center gap-1 text-blue-600 hover:underline cursor-pointer",children:[t.jsx(qf,{size:12})," Trip #",i.trip_id]})}),t.jsxs("td",{className:"p-4 font-medium text-slate-800 flex items-center gap-2",children:[t.jsx(Yo,{size:14,className:"text-purple-500"})," ",i.place_name]}),t.jsxs("td",{className:"p-4 text-slate-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Vi,{size:12})," Day ",i.day_number]}),t.jsxs("div",{className:"text-xs text-slate-400",children:["Order: ",i.order_index]})]}),t.jsx("td",{className:"p-4 text-slate-500 italic truncate max-w-xs",children:i.notes||"-"})]},i.id))})]})})]})},DR=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[i,c]=W.useState(""),[u,d]=W.useState(null),[A,o]=W.useState(null);W.useEffect(()=>{(async()=>{try{const y=await fetch("/api/admin/trips");y.ok&&e(await y.json())}catch(y){console.error(y)}finally{n(!1)}})()},[]);const f=(v,y)=>{d({type:v,message:y}),setTimeout(()=>d(null),3e3)},m=v=>{o(v)},p=async()=>{if(A)try{e(s.filter(v=>v.id!==A)),f("success","Trip deleted successfully")}catch{f("error","Failed to delete trip")}finally{o(null)}},x=s.filter(v=>v.title.toLowerCase().includes(i.toLowerCase()));return r?t.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading trips..."}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[u&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${u.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${u.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:u.type==="success"?t.jsx(Co,{size:18}):t.jsx(Oa,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:u.message}),t.jsx("button",{onClick:()=>d(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(en,{size:16})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Trips"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Overview of user travel plans."})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search trips...",className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:v=>c(v.target.value)}),t.jsx(zc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase",children:[t.jsx("th",{className:"p-4",children:"Trip Details"}),t.jsx("th",{className:"p-4",children:"User"}),t.jsx("th",{className:"p-4",children:"Dates"}),t.jsx("th",{className:"p-4",children:"Status"}),t.jsx("th",{className:"p-4",children:"Est. Budget"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:x.map(v=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4",children:[t.jsx("div",{className:"font-bold text-slate-800",children:v.title}),t.jsxs("div",{className:"text-xs text-slate-400",children:["ID: #",v.id]})]}),t.jsxs("td",{className:"p-4 text-slate-600 flex items-center gap-2",children:[t.jsx(Wo,{size:14,className:"text-slate-400"})," ",v.user_email]}),t.jsxs("td",{className:"p-4 text-slate-500 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(lo,{size:12})," ",v.start_date]}),t.jsxs("div",{className:"pl-4",children:["to ",v.end_date]})]}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.status==="Completed"?"bg-green-100 text-green-700":v.status==="Cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:v.status})}),t.jsxs("td",{className:"p-4 font-mono text-slate-600",children:["$",v.total_expenses]}),t.jsxs("td",{className:"p-4 text-right",children:[t.jsx("button",{className:"text-slate-400 hover:text-blue-600 p-1 mr-1 transition-colors",children:t.jsx(ao,{size:16})}),t.jsx("button",{onClick:()=>m(v.id),className:"text-slate-400 hover:text-red-600 p-1 transition-colors",children:t.jsx(Xo,{size:16})})]})]},v.id))})]})}),A&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(Jo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Trip?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this trip? This will remove all associated itinerary items and expenses."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>o(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:p,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})})]})},RR=({user:s,onUpdateUser:e})=>{const[r,n]=W.useState({name:s.name,email:s.email||"alex.chen@example.com",avatarUrl:s.avatarUrl}),[i,c]=W.useState({currentPassword:"",newPassword:""}),[u,d]=W.useState("idle"),[A,o]=W.useState(""),[f,m]=W.useState(!0),[p,x]=W.useState(!0),[v,y]=W.useState(null),[w,E]=W.useState(!1),[Q,K]=W.useState(!1),[Z,J]=W.useState(null),H=W.useRef(null),G=(re,Be)=>{J({type:re,message:Be}),setTimeout(()=>J(null),3e3)},ce=async()=>{if(!i.currentPassword||!i.newPassword){d("error"),o("Please fill in both fields.");return}d("loading");try{const re=await fetch(`${Ot}/auth/change-password`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)}),Be=await re.json();re.ok&&Be.status==="success"?(d("success"),o("Password changed successfully!"),c({currentPassword:"",newPassword:""}),setTimeout(()=>{d("idle"),o("")},3e3),G("success","Password updated successfully")):(d("error"),o(Be.message||"Failed to update password."))}catch{d("error"),o("Network error.")}},Ae=re=>{var fe;const Be=(fe=re.target.files)==null?void 0:fe[0];if(Be){if(Be.size>1048576){G("error","File is too large! Please upload an image smaller than 1MB."),re.target.value="";return}y(Be);const pe=new FileReader;pe.onloadend=()=>{n(ae=>({...ae,avatarUrl:pe.result}))},pe.readAsDataURL(Be)}},Ne=async()=>{E(!0);try{const re=new FormData;re.append("name",r.name),v&&re.append("avatar",v);const Be=await fetch(`${Ot}/user/update-profile`,{method:"PUT",headers:{},credentials:"include",body:re}),fe=await Be.json();Be.ok?(K(!0),G("success","Profile updated successfully!"),setTimeout(()=>K(!1),3e3),fe.user&&e(fe.user),y(null)):G("error",fe.message||"Update failed")}catch(re){console.error("Upload error:",re),G("error","Network error occurred")}finally{E(!1)}};return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-4xl mx-auto animate-fade-in-up relative",children:[Z&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${Z.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${Z.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:Z.type==="success"?t.jsx(Bo,{size:18}):t.jsx(Oa,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:Z.message}),t.jsx("button",{onClick:()=>J(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(en,{size:16})})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(Wo,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"General Settings"})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-10 pb-10 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var re;return(re=H.current)==null?void 0:re.click()},children:[t.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white dark:border-slate-800 shadow-xl ring-2 ring-slate-100 dark:ring-slate-700",children:t.jsx("img",{src:r.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx(Lg,{className:"w-8 h-8 text-white"})}),t.jsx("input",{type:"file",ref:H,className:"hidden",accept:"image/*",onChange:Ae})]}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Profile Photo"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 mb-4",children:"Click the image to upload a new photo. JPG, GIF or PNG."}),t.jsx("button",{onClick:()=>{var re;return(re=H.current)==null?void 0:re.click()},className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Change Photo"})]})]}),t.jsxs("div",{className:"space-y-6 max-w-2xl",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Personal Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Wo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:r.name,onChange:re=>n({...r,name:re.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",value:r.email,onChange:re=>n({...r,email:re.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:"Security"}),s.authProvider==="google"||!s.email?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 flex items-center gap-3 text-slate-500 border border-slate-200 dark:border-slate-700",children:[t.jsx(Vd,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm",children:"You are logged in via Google. Password change is not applicable."})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Sd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"",value:i.currentPassword,onChange:re=>c({...i,currentPassword:re.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Sd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Min 8 characters",value:i.newPassword,onChange:re=>c({...i,newPassword:re.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[u==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:A}),u==="success"&&t.jsx("p",{className:"text-xs font-bold text-emerald-500",children:A})]}),t.jsx("button",{onClick:ce,disabled:u==="loading",className:"px-5 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-white rounded-xl text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-600 transition-all shadow-sm flex items-center gap-2",children:u==="loading"?t.jsx(Ir,{className:"w-3 h-3 animate-spin"}):"Update Password"})]})]})]}),t.jsx("div",{className:"pt-6 mt-6 flex justify-end",children:t.jsxs("button",{onClick:Ne,disabled:w,className:"px-8 py-3 bg-gradient-to-r from-sky-500 to-indigo-600 hover:from-sky-600 hover:to-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-sky-500/20 transition-all flex items-center gap-2 active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed",children:[w?t.jsx(Ir,{className:"w-5 h-5 animate-spin"}):Q?t.jsx(Bo,{className:"w-5 h-5"}):t.jsx(IA,{className:"w-5 h-5"}),Q?"Saved":w?"Saving...":"Save Changes"]})})]})]})]})},QR=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,i]=W.useState(!0),[c,u]=W.useState(""),[d,A]=W.useState(!1),[o,f]=W.useState(null),[m,p]=W.useState(""),[x,v]=W.useState(null),[y,w]=W.useState(null),[E,Q]=W.useState(null),[K,Z]=W.useState({title:"",category:"",status:"Published",content:"",coverImage:null}),J=["Travel Tips","Destinations","Food & Dining","Accommodation","Events & News","Safety Guides"],H=(Ee,Re)=>{w({message:Ee,type:Re}),setTimeout(()=>w(null),3e3)},G=async()=>{try{const Ee=await fetch("/api/articles/list");if(Ee.ok){const Re=await Ee.json();r(Re)}}catch(Ee){console.error("Failed to fetch articles",Ee),H("Failed to load articles","error")}finally{i(!1)}};W.useEffect(()=>{G()},[]);const ce=Ee=>{const{name:Re,value:ke}=Ee.target;Z(me=>({...me,[Re]:ke}))},Ae=Ee=>{Z(Re=>({...Re,content:Ee}))},Ne=Ee=>{Ee.target.files&&Ee.target.files[0]&&Z(Re=>({...Re,coverImage:Ee.target.files[0]}))},re=()=>{f(null),v(null),Z({title:"",category:"",status:"Published",content:"",coverImage:null}),A(!0)},Be=Ee=>{f(Ee.id),v(Ee.coverImage),Z({title:Ee.title,category:Ee.category,status:Ee.status,content:Ee.content||"",coverImage:null}),A(!0)},fe=Ee=>{Q(Ee)},Se=async()=>{if(E)try{(await fetch(`/api/articles/${E}`,{method:"DELETE"})).ok?(H("Article deleted successfully","success"),G()):H("Failed to delete article","error")}catch(Ee){console.error("Error deleting:",Ee),H("Error occurred while deleting","error")}finally{Q(null)}},pe=async Ee=>{Ee.preventDefault();const Re=new FormData;Re.append("title",K.title),Re.append("category",K.category),Re.append("status",K.status),Re.append("content",K.content),K.coverImage&&Re.append("coverImage",K.coverImage);try{const ke=o?`/api/articles/${o}`:"/api/articles/create",we=await fetch(ke,{method:o?"PUT":"POST",body:Re}),ue=await we.json();we.ok?(H(o?"Article Updated!":"Article Created!","success"),A(!1),G(),f(null),Z({title:"",category:"",status:"Published",content:"",coverImage:null})):H(ue.message||"Operation failed","error")}catch(ke){console.error("Error saving article",ke),H("Network error occurred","error")}},ae=e.filter(Ee=>{var me,we;const Re=((me=Ee.title)==null?void 0:me.toLowerCase().includes(m.toLowerCase()))||((we=Ee.category)==null?void 0:we.toLowerCase().includes(m.toLowerCase())),ke=!c||Ee.category===c;return Re&&ke}),de=Ee=>Ee?Ee.startsWith("http")?Ee:`http://127.0.0.1:5000${Ee}`:null,oe=Ee=>Ee&&new DOMParser().parseFromString(Ee,"text/html").body.textContent||"";return t.jsxs("div",{className:"p-6 space-y-6",children:[y&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-5 py-3 rounded-xl shadow-2xl text-white text-sm font-medium animate-in slide-in-from-right-10 duration-300
          ${y.type==="success"?"bg-gradient-to-r from-emerald-500 to-teal-500":"bg-gradient-to-r from-red-500 to-rose-500"}`,children:[y.type==="success"?t.jsx(Bo,{size:18}):t.jsx(du,{size:18}),y.message]}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[t.jsx(kd,{className:"w-8 h-8 text-blue-500"}),"Info Website Manager"]}),t.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Manage and publish articles for your public-facing site."})]}),t.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/30 transition-all duration-200 active:scale-95",children:[t.jsx(zi,{size:18}),"New Article"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-blue-500",children:t.jsx(kd,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.length}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Total Articles"})]})]}),t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-xl flex items-center justify-center text-green-500",children:t.jsx(Bo,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.filter(Ee=>Ee.status==="Published").length}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Published"})]})]}),t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-xl flex items-center justify-center text-amber-500",children:t.jsx(xj,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.reduce((Ee,Re)=>Ee+(Re.views||0),0).toLocaleString()}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Total Views"})]})]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[t.jsxs("div",{className:"relative flex-1 w-full",children:[t.jsx(zc,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400",size:18}),t.jsx("input",{type:"text",placeholder:"Search by title...",value:m,onChange:Ee=>p(Ee.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm\r
            focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all`})]}),t.jsxs("select",{value:c,onChange:Ee=>u(Ee.target.value),className:`w-full md:w-56 px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm\r
          focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer`,children:[t.jsx("option",{value:"",children:"All Categories"}),J.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50/50",children:[t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Article"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Views"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:"Loading..."})}):ae.length>0?ae.map(Ee=>t.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-12 bg-slate-100 rounded-lg overflow-hidden shrink-0",children:Ee.coverImage?t.jsx("img",{src:de(Ee.coverImage),alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:t.jsx(kd,{size:20})})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800 line-clamp-1",children:Ee.title}),t.jsxs("p",{className:"text-xs text-slate-400 line-clamp-1",children:[oe(Ee.content).substring(0,60),"..."]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-full
                      ${Ee.status==="Published"?"bg-green-100 text-green-700":Ee.status==="Draft"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:Ee.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:Ee.date}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-500 font-medium flex items-center gap-1.5",children:[t.jsx(ao,{size:14}),Ee.views]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>Be(Ee),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit",children:t.jsx(u0,{size:16})}),t.jsx("button",{onClick:()=>fe(Ee.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete",children:t.jsx(Xo,{size:16})})]})})]},Ee.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(zc,{size:32,className:"mb-2 opacity-20"}),t.jsx("p",{children:"No articles found matching your criteria."})]})})})})]})})}),E&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(Jo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Article?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this article? This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>Q(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:Se,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})}),d&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:o?"Edit Article":"Create New Article"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Fill in the details to publish content to your info site."})]}),t.jsx("button",{onClick:()=>A(!1),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200/50 rounded-full transition-all",children:t.jsx(en,{size:20})})]}),t.jsxs("form",{onSubmit:pe,children:[t.jsxs("div",{className:"p-6 space-y-5 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[t.jsxs("div",{className:"group relative h-48 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center hover:border-blue-400 hover:bg-blue-50/30 transition-all cursor-pointer overflow-hidden",children:[K.coverImage?t.jsx("img",{src:URL.createObjectURL(K.coverImage),className:"w-full h-full object-cover",alt:"New Preview"}):x?t.jsx("img",{src:de(x),className:"w-full h-full object-cover",alt:"Existing"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-3 bg-white rounded-full shadow-sm text-slate-400 mb-2 group-hover:scale-110 transition-transform",children:t.jsx(s0,{size:24})}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Click to upload cover image"}),t.jsx("p",{className:"text-xs text-slate-400",children:"JPG, PNG or WEBP (Max. 2MB)"})]}),t.jsx("input",{type:"file",onChange:Ne,accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Title"}),t.jsx("input",{type:"text",name:"title",placeholder:"e.g. Exploring New Frontiers",value:K.title,onChange:ce,required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Category"}),t.jsxs("select",{name:"category",value:K.category,onChange:ce,required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer appearance-none",children:[t.jsx("option",{value:"",disabled:!0,children:"Select a category"}),J.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Status"}),t.jsxs("select",{name:"status",value:K.status,onChange:ce,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer",children:[t.jsx("option",{value:"Published",children:"Published"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Archived",children:"Archived"})]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Content"}),t.jsx(I4,{content:K.content,onChange:Ae}),t.jsx("p",{className:"text-xs text-slate-400 mt-1.5",children:"Use the toolbar above to format your content with headings, lists, colors, and more."})]})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-xs font-medium",children:[t.jsx(Oa,{size:14}),"Changes will be visible immediately."]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>A(!1),className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white text-sm font-semibold rounded-xl hover:bg-blue-700 transition-all flex items-center gap-2 shadow-lg shadow-blue-500/20",children:[t.jsx(IA,{size:18}),o?"Save Changes":"Publish Article"]})]})]})]})]})})]})},ip={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},_R=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(null),[i,c]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState(""),[f,m]=W.useState(!1),[p,x]=W.useState(!1),[v,y]=W.useState(ip.ADMIN),[w,E]=W.useState(!1),[Q,K]=W.useState(null),[Z,J]=W.useState(null),[H,G]=W.useState("preset"),[ce,Ae]=W.useState("monthly"),[Ne,re]=W.useState("30"),[Be,fe]=W.useState("0.00"),[Se,pe]=W.useState("");W.useEffect(()=>{ae(),de()},[]);const ae=async()=>{try{const ue=await fetch(`${Ot}/api/admin-subscription/statistics`,{credentials:"include"});if(ue.ok){const te=await ue.json();d(te),te.currentAdminRole&&(y(te.currentAdminRole),E(te.currentAdminRole===ip.SUPER_ADMIN))}}catch(ue){console.error("Error fetching statistics:",ue)}},de=async(ue="")=>{try{m(!0);const te=ue?`${Ot}/api/admin-subscription/users?search=${encodeURIComponent(ue)}`:`${Ot}/api/admin-subscription/users`,ge=await fetch(te,{credentials:"include"});if(ge.ok){const Me=await ge.json();e(Me.users),Me.currentAdminRole&&(y(Me.currentAdminRole),E(Me.canManageAdmins||!1))}else ge.status===403&&me("error","Admin access required")}catch(te){console.error("Error fetching users:",te),me("error","Failed to load users")}finally{m(!1)}},oe=async ue=>{try{const te=await fetch(`${Ot}/api/admin-subscription/users/${ue}/subscriptions`,{credentials:"include"});if(te.ok){const ge=await te.json();c(ge.subscriptions),n(ge.user)}else te.status===403&&me("error","Permission denied: Cannot access admin users")}catch(te){console.error("Error fetching user subscriptions:",te)}},Ee=async()=>{if(r)try{m(!0);const ue={user_id:r.id,subscription_type:H,amount:parseFloat(Be)||0};H==="preset"?ue.plan_type=ce:ue.custom_days=parseInt(Ne);const te=await fetch(`${Ot}/api/admin-subscription/add-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ue)}),ge=await te.json();te.ok?(me("success","Subscription added successfully!"),x(!1),oe(r.id),ae(),de(A),G("preset"),Ae("monthly"),re("30"),fe("0.00")):te.status===403?me("error","Permission denied: Cannot modify admin users"):me("error",ge.error||"Failed to add subscription")}catch{me("error","Network error occurred")}finally{m(!1)}},Re=ue=>{J(ue)},ke=async()=>{if(Z)try{const ue=await fetch(`${Ot}/api/admin-subscription/cancel-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user_id:Z})});ue.ok?(me("success","Subscription cancelled successfully"),(r==null?void 0:r.id)===Z&&oe(Z),de(A),ae()):ue.status===403?me("error","Permission denied: Cannot modify admin users"):me("error","Failed to cancel subscription")}catch{me("error","Network error occurred")}finally{J(null)}},me=(ue,te)=>{K({type:ue,text:te}),setTimeout(()=>K(null),5e3)},we=ue=>{const te=(ue==null?void 0:ue.toLowerCase())||"user";return te===ip.SUPER_ADMIN?t.jsx("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 text-xs font-medium rounded-full",children:"Super Admin"}):te===ip.ADMIN?t.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full",children:"Admin"}):null};return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-7xl mx-auto relative",children:[Q&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${Q.type==="success"?"bg-white border-emerald-100 text-emerald-800 dark:bg-slate-800 dark:border-emerald-900/50 dark:text-emerald-400":Q.type==="info"?"bg-white border-blue-100 text-blue-800 dark:bg-slate-800 dark:border-blue-900/50 dark:text-blue-400":"bg-white border-red-100 text-red-800 dark:bg-slate-800 dark:border-red-900/50 dark:text-red-400"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${Q.type==="success"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":Q.type==="info"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"bg-red-100 text-red-600 dark:bg-red-900/30"}`,children:Q.type==="success"?t.jsx(Go,{className:"w-4 h-4"}):Q.type==="info"?t.jsx(kl,{className:"w-4 h-4"}):t.jsx(Oa,{className:"w-4 h-4"})}),t.jsx("p",{className:"text-sm font-medium",children:Q.text}),t.jsx("button",{onClick:()=>K(null),className:"ml-2 opacity-50 hover:opacity-100 transition-opacity",children:t.jsx(en,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Subscription Management"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Manage user subscriptions and premium access"})]}),t.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border mb-6 ${w?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800":"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800"}`,children:[w?t.jsx(t0,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}):t.jsx(Vd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:`text-sm font-medium ${w?"text-purple-800 dark:text-purple-300":"text-blue-800 dark:text-blue-300"}`,children:w?"Super Admin Access":"Admin Access"}),t.jsx("span",{className:`text-sm ml-2 ${w?"text-purple-600 dark:text-purple-400":"text-blue-600 dark:text-blue-400"}`,children:w?" You can view and manage subscriptions for all users":" You can only view and manage subscriptions for regular users"})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${w?"bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300"}`,children:v})]}),u&&t.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Td,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Users"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:u.total_users}),!w&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Regular users only"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-6 border border-amber-200 dark:border-amber-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(zd,{className:"w-5 h-5 text-amber-600"}),t.jsx("span",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Premium Users"})]}),t.jsx("p",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:u.premium_users}),t.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-500 mt-1",children:[u.premium_percentage,"% of total"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Pg,{className:"w-5 h-5 text-emerald-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monthly Revenue"})]}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:["RM ",u.monthly_revenue.toFixed(2)]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Vi,{className:"w-5 h-5 text-orange-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Expiring Soon"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:u.expiring_soon}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Within 7 days"})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(zc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search users by email or name...",value:A,onChange:ue=>{o(ue.target.value),de(ue.target.value)},className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h2",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Users"}),t.jsxs("span",{className:"text-sm text-slate-500",children:[s.length," ",s.length===1?"user":"users"]})]}),t.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-800 max-h-[600px] overflow-y-auto",children:f?t.jsx("div",{className:"p-8 text-center",children:t.jsx(Ir,{className:"w-6 h-6 animate-spin mx-auto text-slate-400"})}):s.length===0?t.jsx("div",{className:"p-8 text-center text-slate-500",children:"No users found"}):s.map(ue=>t.jsx("div",{onClick:()=>oe(ue.id),className:`p-4 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors ${(r==null?void 0:r.id)===ue.id?"bg-amber-50 dark:bg-amber-900/20":""}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:ue.full_name||"No name"}),ue.is_premium&&t.jsx(zd,{className:"w-4 h-4 text-amber-600"}),we(ue.role)]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:ue.email}),ue.subscription_end_date&&t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:["Expires: ",new Date(ue.subscription_end_date).toLocaleDateString()]})]}),ue.is_premium&&t.jsx("span",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 text-xs font-medium rounded-full",children:"Premium"})]})},ue.id))})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:r?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"font-bold text-lg text-slate-900 dark:text-white",children:r.full_name}),we(r.role)]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:r.email})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>x(!0),className:"px-3 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",children:[t.jsx(zi,{className:"w-4 h-4"}),"Add"]}),r.is_premium&&t.jsxs("button",{onClick:()=>Re(r.id),className:"px-3 py-2 bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 dark:hover:bg-red-900/50 dark:text-red-400 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",children:[t.jsx(nk,{className:"w-4 h-4"}),"Cancel"]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Status:"}),r.is_premium?t.jsxs("span",{className:"flex items-center gap-1 text-amber-600",children:[t.jsx(zd,{className:"w-4 h-4"})," Premium"]}):t.jsx("span",{className:"text-slate-500",children:"Free"})]}),r.subscription_end_date&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Expires:"}),t.jsx("span",{className:"text-slate-900 dark:text-white",children:new Date(r.subscription_end_date).toLocaleDateString()})]})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-medium text-slate-900 dark:text-white mb-3",children:"Subscription History"}),t.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:i.length===0?t.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No subscription history"}):i.map(ue=>t.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-slate-900 dark:text-white capitalize",children:[ue.plan_type," Plan"]}),t.jsx("p",{className:"text-xs text-slate-500",children:ue.order_reference})]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ue.status==="active"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":ue.status==="cancelled"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:ue.status})]}),t.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Amount:"})," RM ",ue.amount.toFixed(2)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Start:"})," ",new Date(ue.start_date).toLocaleDateString()]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"End:"})," ",ue.end_date?new Date(ue.end_date).toLocaleDateString():"Lifetime"]})]})]},ue.id))})]})]}):t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(Td,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),t.jsx("p",{children:"Select a user to view details"})]})})]}),Z&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4 text-red-600 dark:text-red-400",children:t.jsx(Jo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Cancel Subscription?"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:"Are you sure you want to cancel this user's premium status? This action will immediately revert them to a free user."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>J(null),className:"flex-1 px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-semibold rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-all",children:"Keep It"}),t.jsx("button",{onClick:ke,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Yes, Cancel"})]})]})})}),p&&r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Add Subscription"}),t.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:r.full_name}),we(r.role)]}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:r.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Subscription Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("button",{onClick:()=>G("preset"),className:`p-3 rounded-lg border-2 transition-all ${H==="preset"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(ff,{className:"w-5 h-5 mx-auto mb-1 text-amber-600"}),t.jsx("p",{className:"text-sm font-medium",children:"Preset Plans"})]}),t.jsxs("button",{onClick:()=>G("custom"),className:`p-3 rounded-lg border-2 transition-all ${H==="custom"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(lo,{className:"w-5 h-5 mx-auto mb-1 text-amber-600"}),t.jsx("p",{className:"text-sm font-medium",children:"Custom Days"})]})]})]}),H==="preset"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Select Plan"}),t.jsx("div",{className:"space-y-2",children:[{value:"monthly",label:"Monthly",days:"30 days",price:"RM 29.90"},{value:"yearly",label:"Yearly",days:"365 days",price:"RM 299.00"},{value:"lifetime",label:"Lifetime",days:"Forever",price:"RM 999.00"}].map(ue=>t.jsx("button",{onClick:()=>Ae(ue.value),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${ce===ue.value?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:ue.label}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:ue.days})]}),t.jsx("p",{className:"text-sm font-medium text-amber-600",children:ue.price})]})},ue.value))})]}),H==="custom"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Number of Days"}),t.jsx("input",{type:"number",min:"1",value:Ne,onChange:ue=>re(ue.target.value),className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"e.g., 7, 14, 30..."}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Subscription will expire in ",Ne||"0"," days"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Amount (RM)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:Be,onChange:ue=>fe(ue.target.value),className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"0.00"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Set to 0.00 for free/gifted subscriptions"})]}),t.jsx("button",{onClick:Ee,disabled:f,className:"w-full py-3 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white font-bold rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:f?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{className:"w-5 h-5 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx(zi,{className:"w-5 h-5"}),"Add Subscription"]})})]})]})})]})},PR=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[i,c]=W.useState(!1),[u,d]=W.useState(null),[A,o]=W.useState({title:"",description:"",link:"",status:"active",priority:1}),[f,m]=W.useState(null),[p,x]=W.useState(""),[v,y]=W.useState(null),[w,E]=W.useState(null);W.useEffect(()=>{K()},[]);const Q=(re,Be)=>{y({type:re,message:Be}),setTimeout(()=>y(null),3e3)},K=async()=>{try{const re=await fetch(`${Ot}/api/advertisements/list`,{credentials:"include"});if(re.ok){const Be=await re.json();e(Be)}}catch(re){console.error("Error fetching advertisements:",re),Q("error","Failed to fetch advertisements")}finally{n(!1)}},Z=re=>{var fe;const Be=(fe=re.target.files)==null?void 0:fe[0];if(Be){m(Be);const Se=new FileReader;Se.onloadend=()=>{x(Se.result)},Se.readAsDataURL(Be)}},J=async re=>{re.preventDefault();const Be=new FormData;Be.append("title",A.title),Be.append("description",A.description),Be.append("link",A.link),Be.append("status",A.status),Be.append("priority",A.priority.toString()),f&&Be.append("image",f);try{const fe=u?`${Ot}/api/advertisements/${u.id}`:`${Ot}/api/advertisements/create`;(await fetch(fe,{method:u?"PUT":"POST",credentials:"include",body:Be})).ok?(Q("success",u?"Advertisement updated successfully!":"Advertisement created successfully!"),await K(),Ae()):Q("error","Failed to save advertisement.")}catch(fe){console.error("Error saving advertisement:",fe),Q("error","Network error occurred.")}},H=re=>{E(re)},G=async()=>{if(w)try{(await fetch(`${Ot}/api/advertisements/${w}`,{method:"DELETE",credentials:"include"})).ok?(Q("success","Advertisement deleted successfully"),await K()):Q("error","Failed to delete advertisement")}catch(re){console.error("Error deleting advertisement:",re),Q("error","Error occurred while deleting")}finally{E(null)}},ce=re=>{d(re),o({title:re.title,description:re.description,link:re.link,status:re.status,priority:re.priority}),x(re.imageUrl?`${Ot}${re.imageUrl}`:""),c(!0)},Ae=()=>{c(!1),d(null),o({title:"",description:"",link:"",status:"active",priority:0}),m(null),x("")},Ne=async re=>{const Be=re.status==="active"?"paused":"active",fe=new FormData;fe.append("title",re.title),fe.append("description",re.description),fe.append("link",re.link),fe.append("status",Be),fe.append("priority",re.priority.toString());try{(await fetch(`${Ot}/api/advertisements/${re.id}`,{method:"PUT",credentials:"include",body:fe})).ok?(Q("success",`Advertisement ${Be==="active"?"activated":"paused"}`),await K()):Q("error","Failed to update status")}catch(Se){console.error("Error toggling advertisement status:",Se),Q("error","Network error")}};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6 relative animate-in fade-in slide-in-from-bottom-2 duration-500",children:[v&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${v.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${v.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:v.type==="success"?t.jsx(Co,{size:18}):t.jsx(Oa,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:v.message}),t.jsx("button",{onClick:()=>y(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(en,{size:16})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Advertisement Management"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Manage advertisements shown to non-premium users"})]}),t.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/20 active:scale-95",children:[t.jsx(zi,{size:20}),"Create Advertisement"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:t.jsx(Pg,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Ads"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.length})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:t.jsx(Mb,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.filter(re=>re.status==="active").length})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:t.jsx(ao,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Views"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.reduce((re,Be)=>re+Be.views,0).toLocaleString()})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-orange-50 text-orange-600 rounded-lg",children:t.jsx(Jy,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Clicks"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.reduce((re,Be)=>re+Be.clicks,0).toLocaleString()})]})]})})]}),t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Advertisement"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Link"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Status"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Priority"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Stats"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Actions"})]})}),t.jsx("tbody",{children:s.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center p-8 text-slate-500",children:"No advertisements yet. Create your first one!"})}):s.map(re=>t.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition-colors",children:[t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[re.imageUrl&&t.jsx("img",{src:`${Ot}${re.imageUrl}`,alt:re.title,className:"w-16 h-16 object-cover rounded-lg border border-slate-200"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:re.title}),t.jsx("p",{className:"text-sm text-slate-500 line-clamp-1",children:re.description})]})]})}),t.jsx("td",{className:"p-4",children:t.jsxs("a",{href:re.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1 text-sm",children:["View Link",t.jsx(qf,{size:14})]})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${re.status==="active"?"bg-green-100 text-green-700":re.status==="paused"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:re.status.charAt(0).toUpperCase()+re.status.slice(1)})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:"text-slate-700 font-medium",children:re.priority})}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[t.jsx(ao,{size:14,className:"text-slate-400"}),t.jsxs("span",{children:[re.views.toLocaleString()," views"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[t.jsx(Jy,{size:14,className:"text-slate-400"}),t.jsxs("span",{children:[re.clicks.toLocaleString()," clicks"]})]}),t.jsxs("div",{className:"text-slate-500 text-xs mt-1",children:["CTR: ",re.ctr,"%"]})]})}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Ne(re),className:`p-2 rounded-lg transition-colors ${re.status==="active"?"hover:bg-amber-50 text-amber-600":"hover:bg-green-50 text-green-600"}`,title:re.status==="active"?"Pause":"Activate",children:re.status==="active"?t.jsx(Nj,{size:18}):t.jsx(Mb,{size:18})}),t.jsx("button",{onClick:()=>ce(re),className:"p-2 hover:bg-blue-50 text-blue-600 rounded-lg transition-colors",title:"Edit",children:t.jsx(u0,{size:18})}),t.jsx("button",{onClick:()=>H(re.id),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg transition-colors",title:"Delete",children:t.jsx(Xo,{size:18})})]})})]},re.id))})]})}),w&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(Jo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Advertisement?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this ad? This action cannot be undone and tracking data will be lost."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>E(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:G,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})}),i&&t.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-800",children:u?"Edit Advertisement":"Create New Advertisement"}),t.jsx("button",{onClick:Ae,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200/50 rounded-full transition-all",children:t.jsx(en,{size:20})})]}),t.jsxs("form",{onSubmit:J,className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Title *"}),t.jsx("input",{type:"text",required:!0,value:A.title,onChange:re=>o({...A,title:re.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"Enter advertisement title"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Description"}),t.jsx("textarea",{value:A.description,onChange:re=>o({...A,description:re.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all resize-none",rows:3,placeholder:"Enter advertisement description"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Target Link *"}),t.jsxs("div",{className:"relative",children:[t.jsx(qf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),t.jsx("input",{type:"url",required:!0,value:A.link,onChange:re=>o({...A,link:re.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"https://example.com"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Status"}),t.jsxs("select",{value:A.status,onChange:re=>o({...A,status:re.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"paused",children:"Paused"}),t.jsx("option",{value:"expired",children:"Expired"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Priority"}),t.jsx("input",{type:"number",value:A.priority,onChange:re=>o({...A,priority:parseInt(re.target.value)||0}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"0",min:"1"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Advertisement Image"}),t.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-4 hover:bg-slate-50 transition-colors",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:Z,className:`block w-full text-sm text-slate-500\r
                      file:mr-4 file:py-2 file:px-4\r
                      file:rounded-full file:border-0\r
                      file:text-sm file:font-semibold\r
                      file:bg-blue-50 file:text-blue-700\r
                      hover:file:bg-blue-100\r
                    `}),p&&t.jsx("div",{className:"mt-4 relative rounded-lg overflow-hidden border border-slate-200",children:t.jsx("img",{src:p,alt:"Preview",className:"w-full h-48 object-cover"})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:Ae,className:"flex-1 px-4 py-2.5 border border-slate-200 text-slate-700 font-semibold rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/20",children:u?"Update Advertisement":"Create Advertisement"})]})]})]})})]})},HR=()=>{var me;const[s,e]=W.useState([]),[r,n]=W.useState([]),[i,c]=W.useState([]),[u,d]=W.useState(!0),[A,o]=W.useState("configs"),[f,m]=W.useState(null),[p,x]=W.useState(!1),[v,y]=W.useState(null),[w,E]=W.useState(null),[Q,K]=W.useState(!1),[Z,J]=W.useState(null),[H,G]=W.useState(null),ce=W.useRef(null);W.useEffect(()=>{Ae()},[]),W.useEffect(()=>{const we=()=>G(null);return H!==null&&document.addEventListener("click",we),()=>document.removeEventListener("click",we)},[H]);const Ae=async()=>{try{d(!0);const[we,ue,te]=await Promise.all([fetch(`${Ot}/api/admin/login-hero/configs`,{credentials:"include"}),fetch(`${Ot}/api/admin/login-hero/images`,{credentials:"include"}),fetch(`${Ot}/api/admin/login-hero/available-places`,{credentials:"include"})]),ge=await we.json(),Me=await ue.json(),Ve=await te.json();ge.status==="success"&&e(ge.configs),Me.status==="success"&&n(Me.images),Ve.status==="success"&&c(Ve.places)}catch{y("Failed to load data")}finally{d(!1)}},Ne=()=>{x(!0),m({displayMode:"single",transitionInterval:5,autoPlay:!0,imageSource:"url",imagesConfig:[{url:"",alt:""}],title:null,subtitle:null,description:null,enableGradient:!0,isActive:!1})},re=async()=>{if(f)try{d(!0),y(null);const we=p?`${Ot}/api/admin/login-hero/configs`:`${Ot}/api/admin/login-hero/configs/${f.id}`,ge=await(await fetch(we,{method:p?"POST":"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)})).json();ge.status==="success"?(E(p?"Configuration created!":"Configuration updated!"),m(null),x(!1),Ae()):y(ge.message)}catch{y("Failed to save configuration")}finally{d(!1)}},Be=async we=>{try{d(!0),(await(await fetch(`${Ot}/api/admin/login-hero/configs/${we}/activate`,{method:"POST",credentials:"include"})).json()).status==="success"&&(E("Configuration activated!"),Ae())}catch{y("Failed to activate configuration")}finally{d(!1)}},fe=async we=>{if(confirm("Are you sure you want to delete this configuration?"))try{d(!0),(await(await fetch(`${Ot}/api/admin/login-hero/configs/${we}`,{method:"DELETE",credentials:"include"})).json()).status==="success"&&(E("Configuration deleted!"),Ae())}catch{y("Failed to delete configuration")}finally{d(!1)}},Se=()=>{if(!f)return;const we=f.imageSource==="url"?{url:"",alt:""}:f.imageSource==="database"?{image_id:null}:{place_id:null};m({...f,imagesConfig:[...f.imagesConfig||[],we]})},pe=we=>{if(!f)return;const ue=[...f.imagesConfig||[]];ue.splice(we,1),m({...f,imagesConfig:ue})},ae=(we,ue)=>{if(!f)return;const te=[...f.imagesConfig||[]];te[we]={...te[we],...ue},m({...f,imagesConfig:te})},de=async we=>{var ge;const ue=(ge=we.target.files)==null?void 0:ge[0];if(!ue)return;if(!["image/png","image/jpeg","image/jpg","image/gif","image/webp"].includes(ue.type)){y("Invalid file type. Please upload PNG, JPG, GIF, or WebP images.");return}if(ue.size>5*1024*1024){y("File size too large. Maximum 5MB allowed.");return}try{K(!0),y(null);const Me=new FormData;Me.append("file",ue),Me.append("title",ue.name.replace(/\.[^/.]+$/,"")),Me.append("altText",ue.name);const Nt=await(await fetch(`${Ot}/api/admin/login-hero/images/upload`,{method:"POST",credentials:"include",body:Me})).json();Nt.status==="success"?(E("Image uploaded successfully!"),Ae(),ce.current&&(ce.current.value="")):y(Nt.message)}catch{y("Failed to upload image")}finally{K(!1)}},oe=async(we,ue)=>{try{d(!0),y(null);const ge=await(await fetch(`${Ot}/api/admin/login-hero/images/from-place`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({placeId:we,title:ue,altText:ue})})).json();ge.status==="success"?(E("Image added from place!"),Ae()):y(ge.message)}catch{y("Failed to add image from place")}finally{d(!1)}},Ee=async we=>{if(confirm("Delete this image from library?"))try{d(!0),(await(await fetch(`${Ot}/api/admin/login-hero/images/${we}`,{method:"DELETE",credentials:"include"})).json()).status==="success"&&(E("Image deleted from library!"),Ae())}catch{y("Failed to delete image")}finally{d(!1)}},Re=async(we,ue)=>{try{d(!0),(await(await fetch(`${Ot}/api/admin/login-hero/images/${we}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isActive:!ue})})).json()).status==="success"&&(E(`Image ${ue?"deactivated":"activated"}!`),Ae())}catch{y("Failed to update image status")}finally{d(!1)}},ke=(we,ue,te)=>{const ge=ue.startsWith("/")?`${Ot}${ue}`:ue,Me=260,Ve=180,Nt=15;let ut=we.clientX+Nt,et=we.clientY+Nt;ut+Me>window.innerWidth&&(ut=we.clientX-Me-Nt),et+Ve>window.innerHeight&&(et=we.clientY-Ve-Nt),J({url:ge,title:te,x:ut,y:et})};return u&&s.length===0?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Ir,{className:"w-8 h-8 animate-spin text-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Login Background Management"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Configure the hero section of the login page"})]}),A==="configs"&&t.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(zi,{size:20}),"New Configuration"]})]}),v&&t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 text-red-700",children:[t.jsx(Oa,{size:20}),v]}),w&&t.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3 text-green-700",children:[t.jsx(Go,{size:20}),w]}),t.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[t.jsxs("button",{onClick:()=>o("configs"),className:`px-4 py-2 font-medium transition-colors ${A==="configs"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-800"}`,children:[t.jsx(gm,{className:"w-4 h-4 inline mr-2"}),"Configurations"]}),t.jsxs("button",{onClick:()=>o("images"),className:`px-4 py-2 font-medium transition-colors ${A==="images"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-800"}`,children:[t.jsx(e0,{className:"w-4 h-4 inline mr-2"}),"Image Library"]})]}),A==="configs"?t.jsxs("div",{className:"space-y-4",children:[f&&t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:p?"Create New Configuration":"Edit Configuration"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Display Mode"}),t.jsxs("select",{value:f.displayMode,onChange:we=>m({...f,displayMode:we.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"single",children:"Single Image"}),t.jsx("option",{value:"carousel",children:"Carousel"}),t.jsx("option",{value:"fade",children:"Fade Transition"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Image Source"}),t.jsxs("select",{value:f.imageSource,onChange:we=>m({...f,imageSource:we.target.value,imagesConfig:[]}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"url",children:"External URL - Direct image links"}),t.jsx("option",{value:"database",children:"Image Library - Uploaded or saved images"}),t.jsx("option",{value:"places",children:"Places - Images from Places database"})]}),t.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:[f.imageSource==="url"&&" Enter direct image URLs (e.g., from Unsplash, Pexels)",f.imageSource==="database"&&" Select from your uploaded images or images added from Places in the Image Library",f.imageSource==="places"&&" Directly select images from Places database (loaded via proxy API)"]})]}),f.displayMode!=="single"&&t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Transition Interval (seconds)"}),t.jsx("input",{type:"number",min:"1",max:"60",value:f.transitionInterval,onChange:we=>m({...f,transitionInterval:parseInt(we.target.value)}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Auto Play"}),t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.autoPlay,onChange:we=>m({...f,autoPlay:we.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Enable"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Images"}),t.jsxs("button",{onClick:Se,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[t.jsx(zi,{size:16}),"Add Image"]})]}),t.jsx("div",{className:"space-y-3",children:(me=f.imagesConfig)==null?void 0:me.map((we,ue)=>{var te,ge;return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg relative",children:[f.imageSource==="url"&&t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"text",placeholder:"Image URL",value:we.url||"",onChange:Me=>ae(ue,{url:Me.target.value}),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm"}),t.jsx("input",{type:"text",placeholder:"Alt text",value:we.alt||"",onChange:Me=>ae(ue,{alt:Me.target.value}),className:"w-32 px-3 py-2 border border-slate-200 rounded-lg text-sm"})]}),f.imageSource==="database"&&t.jsxs("div",{className:"flex-1 relative",children:[t.jsxs("div",{onClick:Me=>{Me.stopPropagation(),G(H===ue?null:ue)},className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm cursor-pointer flex items-center justify-between hover:border-blue-400 transition-colors",children:[t.jsx("span",{className:we.image_id?"text-slate-800 truncate":"text-slate-400",children:we.image_id?((te=r.find(Me=>Me.id===we.image_id))==null?void 0:te.title)||"Unknown Image":"Select an image from library"}),t.jsx(Jf,{size:16,className:"text-slate-500"})]}),H===ue&&t.jsxs("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-lg shadow-xl py-1",children:[t.jsx("div",{onClick:()=>{ae(ue,{image_id:null}),G(null)},className:"px-3 py-2 text-sm text-slate-500 hover:bg-slate-50 cursor-pointer",children:"Select an image from library"}),r.filter(Me=>Me.isActive).map(Me=>{var Ve;return t.jsxs("div",{onClick:()=>{ae(ue,{image_id:Me.id}),G(null)},onMouseEnter:Nt=>ke(Nt,Me.imageUrl,Me.title),onMouseLeave:()=>J(null),className:`px-3 py-2 text-sm cursor-pointer flex items-center justify-between ${we.image_id===Me.id?"bg-blue-50 text-blue-700":"text-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{className:"truncate",children:Me.title}),t.jsx("span",{className:"text-xs text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded ml-2",children:(Ve=Me.source)==null?void 0:Ve.toUpperCase()})]},Me.id)})]})]}),f.imageSource==="places"&&t.jsxs("div",{className:"flex-1 relative",children:[t.jsxs("div",{onClick:Me=>{Me.stopPropagation(),G(H===ue?null:ue)},className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm cursor-pointer flex items-center justify-between hover:border-blue-400 transition-colors",children:[t.jsx("span",{className:we.place_id?"text-slate-800 truncate":"text-slate-400",children:we.place_id?((ge=i.find(Me=>Me.id===we.place_id))==null?void 0:ge.name)||"Unknown Place":"Select a place"}),t.jsx(Jf,{size:16,className:"text-slate-500"})]}),H===ue&&t.jsxs("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-lg shadow-xl py-1",children:[t.jsx("div",{onClick:()=>{ae(ue,{place_id:null}),G(null)},className:"px-3 py-2 text-sm text-slate-500 hover:bg-slate-50 cursor-pointer",children:"Select a place"}),i.map(Me=>t.jsx("div",{onClick:()=>{ae(ue,{place_id:Me.id}),G(null)},onMouseEnter:Ve=>ke(Ve,`${Ot}/proxy_image?ref=${Me.photoUrl}`,Me.name),onMouseLeave:()=>J(null),className:`px-3 py-2 text-sm cursor-pointer flex items-center justify-between ${we.place_id===Me.id?"bg-blue-50 text-blue-700":"text-slate-700 hover:bg-slate-50"}`,children:t.jsx("span",{className:"truncate",children:Me.name})},Me.id))]})]}),t.jsx("button",{onClick:()=>pe(ue),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:t.jsx(Xo,{size:16})})]},ue)})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Title (Optional - overrides default)"}),t.jsx("input",{type:"text",value:f.title||"",onChange:we=>m({...f,title:we.target.value}),placeholder:"Plan your next great adventure...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (Optional)"}),t.jsx("textarea",{value:f.description||"",onChange:we=>m({...f,description:we.target.value}),placeholder:"Join thousands of travelers...",rows:3,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.enableGradient,onChange:we=>m({...f,enableGradient:we.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Enable Gradient Overlay"})]}),t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.isActive,onChange:we=>m({...f,isActive:we.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Set as Active"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{onClick:re,disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[t.jsx(IA,{size:18}),u?"Saving...":"Save Configuration"]}),t.jsx("button",{onClick:()=>{m(null),x(!1)},className:"px-6 py-2 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})]}),t.jsx("div",{className:"grid gap-4",children:s.map(we=>t.jsx("div",{className:`bg-white rounded-xl border p-6 shadow-sm ${we.isActive?"border-green-500 ring-2 ring-green-100":"border-slate-200"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:[we.displayMode.charAt(0).toUpperCase()+we.displayMode.slice(1)," ","Mode"]}),we.isActive&&t.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:"ACTIVE"})]}),t.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Source:"})," ",we.imageSource.toUpperCase()]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Images:"})," ",we.imagesConfig.length]}),we.displayMode!=="single"&&t.jsxs("p",{children:[t.jsx("strong",{children:"Interval:"})," ",we.transitionInterval,"s"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Updated:"})," ",we.updatedAt]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[!we.isActive&&t.jsx("button",{onClick:()=>Be(we.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Activate",children:t.jsx(ao,{size:18})}),t.jsx("button",{onClick:()=>{m(we),x(!1)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:t.jsx(Uv,{size:18})}),t.jsx("button",{onClick:()=>fe(we.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",disabled:we.isActive,children:t.jsx(Xo,{size:18})})]})]})},we.id))})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Hero Image Library"}),t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Upload images or add from Places to reuse in configurations"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:ce,type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",onChange:de,className:"hidden"}),t.jsx("button",{onClick:()=>{var we;return(we=ce.current)==null?void 0:we.click()},disabled:Q,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Q?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{size:20,className:"animate-spin"}),"Uploading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(s0,{size:20}),"Upload Image"]})})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.length===0?t.jsxs("div",{className:"col-span-full p-8 text-center text-slate-500",children:[t.jsx(e0,{size:48,className:"mx-auto mb-4 text-slate-300"}),t.jsx("p",{children:"No images in library yet"}),t.jsx("p",{className:"text-sm mt-2",children:"Add images to reuse them in configurations"})]}):r.map(we=>{var ue;return t.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"relative h-48 bg-slate-100",children:[t.jsx("img",{src:we.imageUrl.startsWith("/")?`${Ot}${we.imageUrl}`:we.imageUrl,alt:we.altText,className:"w-full h-full object-cover",onError:te=>{te.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}}),!we.isActive&&t.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-red-500 text-white text-xs font-bold rounded",children:"INACTIVE"}),t.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-blue-600 text-white text-xs font-bold rounded flex items-center gap-1",children:[we.source==="places"&&t.jsx(Yo,{size:12}),we.source==="external"&&t.jsx(Dg,{size:12}),we.source==="uploaded"&&t.jsx(s0,{size:12}),((ue=we.source)==null?void 0:ue.toUpperCase())||"UNKNOWN"]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:we.title}),t.jsx("p",{className:"text-xs text-slate-500 mb-2 line-clamp-2",children:we.description||we.altText}),we.place&&t.jsxs("p",{className:"text-xs text-blue-600 mb-2",children:[t.jsx(Yo,{size:10,className:"inline mr-1"}),we.place.name]}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[t.jsxs("button",{onClick:()=>Ee(we.id),className:"flex-1 py-2 px-3 text-sm bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[t.jsx(Xo,{size:14,className:"inline mr-1"}),"Delete"]}),t.jsx("button",{onClick:()=>Re(we.id,we.isActive),className:`flex-1 py-2 px-3 text-sm rounded-lg transition-colors ${we.isActive?"bg-slate-50 text-slate-600 hover:bg-slate-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:we.isActive?t.jsxs(t.Fragment,{children:[t.jsx(Yu,{size:14,className:"inline mr-1"}),"Deactivate"]}):t.jsxs(t.Fragment,{children:[t.jsx(ao,{size:14,className:"inline mr-1"}),"Activate"]})})]})]})]},we.id)})}),i.length>0&&t.jsxs("div",{className:"mt-8",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Quick Add from Places"}),t.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Add place images to your library with one click"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:i.slice(0,12).map(we=>t.jsxs("button",{onClick:()=>{confirm(`Add "${we.name}" to image library?`)&&oe(we.id,we.name)},onMouseEnter:ue=>ke(ue,`${Ot}/proxy_image?ref=${we.photoUrl}`,we.name),onMouseLeave:()=>J(null),disabled:Q||u,className:"relative group rounded-lg overflow-hidden border-2 border-slate-200 hover:border-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("div",{className:"aspect-square bg-slate-100",children:t.jsx("img",{src:`${Ot}/proxy_image?ref=${we.photoUrl}`,alt:we.name,className:"w-full h-full object-cover",onError:ue=>{ue.target.style.display="none"}})}),t.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx(zi,{size:32,className:"text-white"})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2",children:t.jsx("p",{className:"text-white text-xs font-medium truncate",children:we.name})})]},we.id))})]})]}),Z&&t.jsxs("div",{className:"fixed z-[9999] bg-white rounded-lg shadow-2xl border border-slate-200 overflow-hidden pointer-events-none transition-all duration-150",style:{top:Z.y,left:Z.x,width:"260px"},children:[t.jsx("div",{className:"aspect-video w-full bg-slate-100 relative",children:t.jsx("img",{src:Z.url,alt:"Preview",className:"w-full h-full object-cover",onError:we=>{we.target.src="https://via.placeholder.com/260x146?text=Preview+Error"}})}),t.jsx("div",{className:"p-2 bg-white",children:t.jsx("p",{className:"text-xs font-bold text-slate-800 truncate",children:Z.title})})]})]})},ef=`${Ot}/api/notifications`,tf={getTabs:async(s="all")=>(await fetch(`${ef}/admin/tabs?status=${s}`,{credentials:"include"})).json(),createTab:async s=>(await fetch(`${ef}/admin/tabs`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)})).json(),updateTab:async(s,e)=>(await fetch(`${ef}/admin/tabs/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})).json(),deleteTab:async s=>(await fetch(`${ef}/admin/tabs/${s}`,{method:"DELETE",credentials:"include"})).json(),sendNotification:async s=>(await fetch(`${ef}/admin/send`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)})).json(),getNotifications:async()=>(await fetch(`${ef}/admin/list`,{credentials:"include"})).json(),getStats:async()=>(await fetch(`${ef}/admin/stats`,{credentials:"include"})).json()},zR=()=>{const[s,e]=W.useState("overview"),[r,n]=W.useState([]),[i,c]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState(!0),[f,m]=W.useState(!1),[p,x]=W.useState(null);W.useEffect(()=>{v()},[]);const v=async()=>{o(!0);try{const[H,G,ce]=await Promise.all([tf.getTabs(),tf.getNotifications(),tf.getStats()]);H.success&&n(H.tabs||[]),G.success&&c(G.notifications||[]),ce.success&&d(ce.stats)}catch(H){console.error("Failed to load data:",H)}o(!1)},y=async H=>{if(!confirm("Tab"))return;(await tf.deleteTab(H)).success&&n(r.filter(ce=>ce.id!==H))},w=()=>t.jsx("div",{className:"flex gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6",children:[{key:"overview",label:"Overview",icon:xj},{key:"tabs",label:"Content Tabs",icon:kd},{key:"send",label:"Send Notification",icon:Nh},{key:"history",label:"History",icon:Vi}].map(({key:H,label:G,icon:ce})=>t.jsxs("button",{onClick:()=>e(H),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg text-sm font-medium transition-all ${s===H?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}`,children:[t.jsx(ce,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:G})]},H))}),E=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Tabs",value:(u==null?void 0:u.totalTabs)||0,icon:kd,color:"blue"},{label:"Active Tabs",value:(u==null?void 0:u.activeTabs)||0,icon:Co,color:"green"},{label:"Total Sent",value:(u==null?void 0:u.totalNotifications)||0,icon:Nh,color:"purple"},{label:"This Week",value:(u==null?void 0:u.recentNotifications)||0,icon:lo,color:"orange"}].map(({label:H,value:G,icon:ce,color:Ae})=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl bg-${Ae}-100 dark:bg-${Ae}-900/30 flex items-center justify-center mb-3`,children:t.jsx(ce,{className:`text-${Ae}-600 dark:text-${Ae}-400`,size:20})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:G}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:H})]},H))}),(u==null?void 0:u.topTabs)&&u.topTabs.length>0&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(ao,{size:20}),"Most Viewed Tabs"]}),t.jsx("div",{className:"space-y-3",children:u.topTabs.map((H,G)=>t.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 dark:border-slate-700 last:border-0",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${G===0?"bg-yellow-100 text-yellow-700":G===1?"bg-slate-200 text-slate-600":G===2?"bg-orange-100 text-orange-700":"bg-slate-100 text-slate-500"}`,children:G+1}),t.jsx("span",{className:"text-slate-800 dark:text-slate-200",children:H.title})]}),t.jsxs("span",{className:"text-sm text-slate-500",children:[H.views," views"]})]},H.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>{x(null),m(!0)},className:"flex items-center gap-4 p-5 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl text-white hover:from-blue-600 hover:to-blue-700 transition-all group",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(zi,{size:24})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-semibold",children:"Create New Tab"}),t.jsx("p",{className:"text-sm text-blue-100",children:"Build announcement content"})]}),t.jsx(uc,{className:"ml-auto opacity-50 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),t.jsxs("button",{onClick:()=>e("send"),className:"flex items-center gap-4 p-5 bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl text-white hover:from-purple-600 hover:to-purple-700 transition-all group",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(Xu,{size:24})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-semibold",children:"Send Notification"}),t.jsx("p",{className:"text-sm text-purple-100",children:"Broadcast to users"})]}),t.jsx(uc,{className:"ml-auto opacity-50 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})]})]}),Q=()=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Content Tabs"}),t.jsxs("button",{onClick:()=>{x(null),m(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[t.jsx(zi,{size:16}),"New Tab"]})]}),r.length===0?t.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(kd,{className:"mx-auto text-slate-300 dark:text-slate-600 mb-4",size:48}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No content tabs yet"}),t.jsx("button",{onClick:()=>{x(null),m(!0)},className:"mt-4 text-blue-600 hover:underline",children:"Create your first tab"})]}):t.jsx("div",{className:"grid gap-4",children:r.map(H=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[H.coverImage?t.jsx("img",{src:H.coverImage,alt:"",className:"w-20 h-20 rounded-xl object-cover"}):t.jsx("div",{className:"w-20 h-20 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center",children:t.jsx(kd,{className:"text-slate-400",size:24})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white truncate",children:H.title}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${H.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":H.status==="draft"?"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300":H.status==="scheduled"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-slate-100 text-slate-500"}`,children:H.status})]}),H.subtitle&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2 truncate",children:H.subtitle}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ao,{size:12})," ",H.views]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(qy,{size:12})," ",H.targetAudience]}),t.jsx("span",{children:H.createdAt})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{x(H),m(!0)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:t.jsx(u0,{size:16})}),t.jsx("button",{onClick:()=>y(H.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:t.jsx(Xo,{size:16})})]})]})},H.id))})]}),K=()=>{const[H,G]=W.useState({sendType:"broadcast",title:"",text:"",type:"info",icon:"",tabId:"",targetAudience:"all",targetUserIds:"",sendEmail:!1}),[ce,Ae]=W.useState(!1),[Ne,re]=W.useState(null),Be=async()=>{if(!H.text.trim()){alert("Please enter notification text");return}Ae(!0),re(null);try{const fe={...H,tabId:H.tabId?parseInt(H.tabId):null,targetUserIds:H.targetUserIds?H.targetUserIds.split(",").map(pe=>parseInt(pe.trim())).filter(pe=>!isNaN(pe)):[],sendEmail:H.sendEmail},Se=await tf.sendNotification(fe);re({success:Se.success,message:Se.message||Se.error}),Se.success&&(G({...H,title:"",text:"",sendEmail:!1}),v())}catch{re({success:!1,message:"Failed to send notification"})}Ae(!1)};return t.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[t.jsx(Xu,{size:20}),"Send Notification"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Send Type"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"broadcast",label:"Broadcast All",icon:Xu},{value:"targeted",label:"By Audience",icon:Td},{value:"single",label:"Specific Users",icon:qy}].map(({value:fe,label:Se,icon:pe})=>t.jsxs("button",{onClick:()=>G({...H,sendType:fe}),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all flex flex-col items-center gap-2 ${H.sendType===fe?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-slate-200 dark:border-slate-700 hover:border-slate-300 text-slate-600 dark:text-slate-400"}`,children:[t.jsx(pe,{size:20}),Se]},fe))})]}),H.sendType==="targeted"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Audience"}),t.jsxs("select",{value:H.targetAudience,onChange:fe=>G({...H,targetAudience:fe.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Users"}),t.jsx("option",{value:"premium",children:"Premium Users Only"}),t.jsx("option",{value:"free",children:"Free Users Only"})]})]}),H.sendType==="single"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"User IDs (comma separated)"}),t.jsx("input",{type:"text",value:H.targetUserIds,onChange:fe=>G({...H,targetUserIds:fe.target.value}),placeholder:"1, 2, 3",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Title (optional)"}),t.jsx("input",{type:"text",value:H.title,onChange:fe=>G({...H,title:fe.target.value}),placeholder:" Special Announcement",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Message *"}),t.jsx("textarea",{value:H.text,onChange:fe=>G({...H,text:fe.target.value}),placeholder:"Enter your notification message...",rows:3,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Type"}),t.jsx("div",{className:"flex gap-2",children:[{value:"info",label:"Info",color:"blue"},{value:"success",label:"Success",color:"green"},{value:"warning",label:"Warning",color:"yellow"},{value:"alert",label:"Alert",color:"red"}].map(({value:fe,label:Se,color:pe})=>t.jsx("button",{onClick:()=>G({...H,type:fe}),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${H.type===fe?`bg-${pe}-100 text-${pe}-700 dark:bg-${pe}-900/30 dark:text-${pe}-400 ring-2 ring-${pe}-500`:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-200"}`,children:Se},fe))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Link to Content Tab (optional)"}),t.jsxs("select",{value:H.tabId,onChange:fe=>G({...H,tabId:fe.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"No linked tab"}),r.filter(fe=>fe.status==="active").map(fe=>t.jsx("option",{value:fe.id,children:fe.title},fe.id))]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:'Users will see "View Details" when a tab is linked'})]}),t.jsx("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:H.sendEmail,onChange:fe=>G({...H,sendEmail:fe.target.checked}),className:"w-5 h-5 mt-0.5 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:" Also Send Email"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Send email notification to users who have opted in to email notifications. Users who have disabled email notifications in Settings will not receive emails."})]})]})}),Ne&&t.jsx("div",{className:`p-4 rounded-xl mb-4 ${Ne.success?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400"}`,children:Ne.message}),t.jsx("button",{onClick:Be,disabled:ce||!H.text.trim(),className:"w-full py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:ce?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Nh,{size:18}),"Send Notification"]})})]})})},Z=()=>t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Notification History"}),i.length===0?t.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(cu,{className:"mx-auto text-slate-300 dark:text-slate-600 mb-4",size:48}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No notifications sent yet"})]}):t.jsx("div",{className:"space-y-3",children:i.map(H=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700 flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${H.type==="success"?"bg-green-100 text-green-600":H.type==="warning"?"bg-yellow-100 text-yellow-600":H.type==="alert"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:t.jsx(cu,{size:18})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[H.title&&t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:H.title}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate",children:H.text})]}),t.jsxs("div",{className:"text-right text-xs text-slate-400",children:[t.jsx("p",{children:H.isBroadcast?"Broadcast":"Single"}),t.jsx("p",{children:H.createdAt})]})]},H.id))})]}),J=()=>{const[H,G]=W.useState(p||{title:"",subtitle:"",content:"",contentType:"markdown",coverImage:"",bannerImage:"",ctaText:"",ctaLink:"",ctaStyle:"primary",targetAudience:"all",category:"announcement",priority:0,status:"draft",startAt:"",endAt:""}),[ce,Ae]=W.useState(!1),Ne=async()=>{if(!H.title||!H.content){alert("Title and content are required");return}Ae(!0);try{let re;p?re=await tf.updateTab(p.id,H):re=await tf.createTab(H),re.success?(m(!1),v()):alert(re.error||"Failed to save")}catch{alert("Failed to save tab")}Ae(!1)};return f?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-3xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-800",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:p?"Edit Content Tab":"Create Content Tab"}),t.jsx("button",{onClick:()=>m(!1),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(en,{size:20})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)] space-y-5",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Title *"}),t.jsx("input",{type:"text",value:H.title||"",onChange:re=>G({...H,title:re.target.value}),placeholder:"Announcement Title",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subtitle"}),t.jsx("input",{type:"text",value:H.subtitle||"",onChange:re=>G({...H,subtitle:re.target.value}),placeholder:"Brief description",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Content * (Markdown supported)"}),t.jsx("textarea",{value:H.content||"",onChange:re=>G({...H,content:re.target.value}),placeholder:"Write your announcement content here...",rows:8,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cover Image URL"}),t.jsx("input",{type:"text",value:H.coverImage||"",onChange:re=>G({...H,coverImage:re.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Banner Image URL"}),t.jsx("input",{type:"text",value:H.bannerImage||"",onChange:re=>G({...H,bannerImage:re.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Button Text"}),t.jsx("input",{type:"text",value:H.ctaText||"",onChange:re=>G({...H,ctaText:re.target.value}),placeholder:"Learn More",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Link"}),t.jsx("input",{type:"text",value:H.ctaLink||"",onChange:re=>G({...H,ctaLink:re.target.value}),placeholder:"/billing",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Style"}),t.jsxs("select",{value:H.ctaStyle||"primary",onChange:re=>G({...H,ctaStyle:re.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"primary",children:"Primary (Blue)"}),t.jsx("option",{value:"secondary",children:"Secondary (Gray)"}),t.jsx("option",{value:"danger",children:"Danger (Red)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category"}),t.jsxs("select",{value:H.category||"announcement",onChange:re=>G({...H,category:re.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"announcement",children:" Announcement"}),t.jsx("option",{value:"promotion",children:" Promotion"}),t.jsx("option",{value:"update",children:" Update"}),t.jsx("option",{value:"alert",children:" Alert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Target Audience"}),t.jsxs("select",{value:H.targetAudience||"all",onChange:re=>G({...H,targetAudience:re.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:" All Users"}),t.jsx("option",{value:"premium",children:" Premium Only"}),t.jsx("option",{value:"free",children:" Free Users"}),t.jsx("option",{value:"new_users",children:" New Users"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Status"}),t.jsxs("select",{value:H.status||"draft",onChange:re=>G({...H,status:re.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"draft",children:" Draft"}),t.jsx("option",{value:"active",children:" Active"}),t.jsx("option",{value:"scheduled",children:" Scheduled"}),t.jsx("option",{value:"archived",children:" Archived"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Start Date (optional)"}),t.jsx("input",{type:"datetime-local",value:H.startAt?H.startAt.slice(0,16):"",onChange:re=>G({...H,startAt:re.target.value?new Date(re.target.value).toISOString():void 0}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"End Date (optional)"}),t.jsx("input",{type:"datetime-local",value:H.endAt?H.endAt.slice(0,16):"",onChange:re=>G({...H,endAt:re.target.value?new Date(re.target.value).toISOString():void 0}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:[t.jsx("button",{onClick:()=>m(!1),className:"px-6 py-3 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl font-medium transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ne,disabled:ce,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:ce?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Co,{size:18}),p?"Update Tab":"Create Tab"]})})]})]})}):null};return A?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"})}):t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[t.jsx(cu,{className:"text-blue-500"}),"Notification Center"]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Create announcements and send notifications to users"})]}),t.jsx(w,{}),s==="overview"&&t.jsx(E,{}),s==="tabs"&&t.jsx(Q,{}),s==="send"&&t.jsx(K,{}),s==="history"&&t.jsx(Z,{}),t.jsx(J,{})]})},O0={getTickets:async(s={})=>{const e=new URLSearchParams(s),n=await(await fetch(`${Ot}/api/tickets/admin?${e}`,{credentials:"include"})).json();return n.success?{tickets:n.tickets,stats:n.stats}:{tickets:[],stats:{}}},getTicketDetail:async s=>{const r=await(await fetch(`${Ot}/api/tickets/admin/${s}`,{credentials:"include"})).json();return r.success?{ticket:r.ticket,messages:r.messages}:null},acceptTicket:async s=>(await fetch(`${Ot}/api/tickets/admin/${s}/accept`,{method:"POST",credentials:"include"})).json(),resolveTicket:async s=>(await fetch(`${Ot}/api/tickets/admin/${s}/resolve`,{method:"POST",credentials:"include"})).json()},Vw=({status:s,size:e="md"})=>{const r={pending:{color:"yellow",icon:t.jsx(Vi,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Pending"},accepted:{color:"blue",icon:t.jsx(Co,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Accepted"},in_progress:{color:"indigo",icon:t.jsx(hu,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"In Progress"},resolved:{color:"green",icon:t.jsx(yk,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Resolved"},expired:{color:"red",icon:t.jsx(Jo,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Expired"},closed:{color:"slate",icon:t.jsx(du,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Closed"}},{color:n,icon:i,label:c}=r[s]||r.pending,u={yellow:"bg-yellow-100 text-yellow-700 border-yellow-200",blue:"bg-blue-100 text-blue-700 border-blue-200",indigo:"bg-indigo-100 text-indigo-700 border-indigo-200",green:"bg-green-100 text-green-700 border-green-200",red:"bg-red-100 text-red-700 border-red-200",slate:"bg-slate-100 text-slate-700 border-slate-200"};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium border ${u[n]}`,children:[i,c]})},VR=({priority:s})=>{const e={urgent:"bg-red-500 text-white",high:"bg-orange-500 text-white",normal:"bg-slate-200 text-slate-700",low:"bg-slate-100 text-slate-500"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${e[s]||e.normal}`,children:s.charAt(0).toUpperCase()+s.slice(1)})},Kw=s=>{if(s<=0)return"Expired";const e=Math.floor(s/3600),r=Math.floor(s%3600/60);return e>0?`${e}h ${r}m`:`${r}m`},KR=()=>{const{isConnected:s,joinTicket:e,leaveTicket:r,sendTicketMessage:n,sendTypingStatus:i,onNewTicketMessage:c,onUserTyping:u,onNewTicket:d,onTicketActivity:A}=xm(),[o,f]=W.useState([]),[m,p]=W.useState(null),[x,v]=W.useState(!0),[y,w]=W.useState(null),[E,Q]=W.useState([]),[K,Z]=W.useState(""),[J,H]=W.useState(!1),[G,ce]=W.useState(null),[Ae,Ne]=W.useState("all"),[re,Be]=W.useState("all"),[fe,Se]=W.useState(""),pe=W.useRef(null),ae=W.useRef(null),de=W.useRef();W.useEffect(()=>{oe()},[Ae,re]),W.useEffect(()=>{const te=d(ge=>{f(Me=>[{id:ge.ticketId,subject:ge.subject,userName:ge.userName,userAvatar:ge.userAvatar,category:ge.category,priority:ge.priority,status:"pending",timeRemaining:86400,isExpired:!1,createdAt:ge.createdAt},...Me]),p(Me=>Me&&{...Me,pending:Me.pending+1,total:Me.total+1})});return()=>te()},[d]),W.useEffect(()=>{const te=A(ge=>{f(Me=>Me.map(Ve=>Ve.id===ge.ticketId?{...Ve,lastMessage:{text:ge.preview,senderType:"user",time:"now"}}:Ve))});return()=>te()},[A]),W.useEffect(()=>{if(y&&s)return e(y.id),()=>{r(y.id)}},[y==null?void 0:y.id,s,e,r]),W.useEffect(()=>{const te=c(ge=>{y&&ge.ticketId===y.id&&(Q(Me=>Me.some(Ve=>Ve.id===ge.id)?Me:[...Me,ge]),ce(null))});return()=>te()},[y==null?void 0:y.id,c]),W.useEffect(()=>{const te=u(ge=>{y&&ge.ticketId===y.id&&!ge.isAdmin&&(ge.isTyping?ce(ge.userName):ce(null))});return()=>te()},[y==null?void 0:y.id,u]),W.useEffect(()=>{var te;(te=pe.current)==null||te.scrollIntoView({behavior:"smooth"})},[E,G]);const oe=async()=>{const te={};Ae!=="all"&&(te.status=Ae),re!=="all"&&(te.assigned=re);const ge=await O0.getTickets(te);f(ge.tickets),p(ge.stats),v(!1)},Ee=async te=>{const ge=await O0.getTicketDetail(te);ge&&(w(ge.ticket),Q(ge.messages))},Re=async()=>{if(!y)return;const te=await O0.acceptTicket(y.id);if(te.success){w(te.ticket),oe();const ge=await O0.getTicketDetail(y.id);ge&&Q(ge.messages)}},ke=W.useCallback(()=>{var te;!y||!K.trim()||!s||(H(!0),n(y.id,K.trim()),Z(""),H(!1),(te=ae.current)==null||te.focus(),i(y.id,!1))},[y,K,s,n,i]),me=te=>{Z(te.target.value),y&&s&&(i(y.id,!0),de.current&&clearTimeout(de.current),de.current=setTimeout(()=>{i(y.id,!1)},2e3))},we=async()=>{if(!y||!confirm("Mark this ticket as resolved?"))return;(await O0.resolveTicket(y.id)).success&&(oe(),w(null))},ue=o.filter(te=>te.subject.toLowerCase().includes(fe.toLowerCase())||te.userName.toLowerCase().includes(fe.toLowerCase()));return t.jsxs("div",{className:"flex h-[calc(100vh-180px)] bg-white rounded-xl border border-slate-200 overflow-hidden",children:[t.jsxs("div",{className:`${y?"hidden md:flex":"flex"} flex-col w-full md:w-96 border-r border-slate-200`,children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Support Tickets"}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${s?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[s?t.jsx(h0,{className:"w-3 h-3"}):t.jsx(A0,{className:"w-3 h-3"}),s?"Live":"Offline"]})]}),t.jsx("button",{onClick:oe,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(id,{className:"w-4 h-4 text-slate-500"})})]}),t.jsxs("div",{className:"relative mb-3",children:[t.jsx(zc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search tickets...",value:fe,onChange:te=>Se(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:Ae,onChange:te=>Ne(te.target.value),className:"flex-1 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"accepted",children:"Accepted"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"})]}),t.jsxs("select",{value:re,onChange:te=>Be(te.target.value),className:"flex-1 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs",children:[t.jsx("option",{value:"all",children:"All Tickets"}),t.jsx("option",{value:"me",children:"My Tickets"}),t.jsx("option",{value:"unassigned",children:"Unassigned"})]})]})]}),m&&t.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-100 flex gap-4 text-xs",children:[t.jsxs("span",{className:"text-yellow-600",children:[m.pending," pending"]}),t.jsxs("span",{className:"text-blue-600",children:[m.inProgress," active"]}),t.jsxs("span",{className:"text-green-600",children:[m.resolved," resolved"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:x?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(id,{className:"w-6 h-6 animate-spin text-slate-400"})}):ue.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(sm,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No tickets found"})]}):ue.map(te=>t.jsx("div",{onClick:()=>Ee(te.id),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${(y==null?void 0:y.id)===te.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden shrink-0",children:te.userAvatar?t.jsx("img",{src:te.userAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Wo,{className:"w-5 h-5 text-slate-400"})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Vw,{status:te.status,size:"sm"}),t.jsx(VR,{priority:te.priority})]}),t.jsx("h3",{className:"font-medium text-slate-800 text-sm truncate",children:te.subject}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:te.userName}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-400",children:[t.jsx("span",{children:te.createdAt}),te.status==="pending"&&!te.isExpired&&t.jsxs("span",{className:"flex items-center gap-1 text-orange-500",children:[t.jsx(Lb,{className:"w-3 h-3"}),Kw(te.timeRemaining)]})]})]})]})},te.id))})]}),t.jsx("div",{className:`${y?"flex":"hidden md:flex"} flex-1 flex-col`,children:y?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>w(null),className:"md:hidden p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(en,{className:"w-4 h-4"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-semibold text-slate-800",children:y.subject}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",y.id]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Vw,{status:y.status,size:"sm"}),t.jsx("span",{className:"text-sm text-slate-500",children:y.userName})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[y.status==="pending"&&!y.isExpired&&t.jsx("button",{onClick:Re,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Accept Ticket"}),["accepted","in_progress"].includes(y.status)&&t.jsx("button",{onClick:we,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Mark Resolved"})]})]}),y.status!=="resolved"&&y.status!=="closed"&&!y.isExpired&&t.jsxs("div",{className:"mt-3 p-2 bg-orange-50 rounded-lg flex items-center gap-2 text-xs text-orange-600",children:[t.jsx(Lb,{className:"w-4 h-4"}),t.jsxs("span",{children:["Time remaining: ",Kw(y.timeRemaining)]})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[E.map(te=>t.jsx("div",{className:`flex ${te.senderType==="admin"?"justify-end":"justify-start"}`,children:te.senderType==="system"?t.jsx("div",{className:"text-center text-xs text-slate-400 py-2 w-full",children:te.content}):t.jsxs("div",{className:`flex items-end gap-2 max-w-[70%] ${te.senderType==="admin"?"flex-row-reverse":""}`,children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 overflow-hidden shrink-0",children:te.senderAvatar?t.jsx("img",{src:te.senderAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Wo,{className:"w-4 h-4 text-slate-400"})})}),t.jsxs("div",{children:[t.jsx("div",{className:`px-4 py-3 rounded-2xl ${te.senderType==="admin"?"bg-blue-600 text-white rounded-br-md":"bg-white border border-slate-200 rounded-bl-md"}`,children:t.jsx("p",{className:"text-sm",children:te.content})}),t.jsx("div",{className:`text-xs text-slate-400 mt-1 ${te.senderType==="admin"?"text-right":""}`,children:new Date(te.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},te.id)),G&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white border border-slate-200 px-4 py-3 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[G," is typing..."]})]})})}),t.jsx("div",{ref:pe})]}),["accepted","in_progress"].includes(y.status)?t.jsx("div",{className:"p-4 border-t border-slate-100",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{ref:ae,type:"text",value:K,onChange:me,onKeyDown:te=>te.key==="Enter"&&!te.shiftKey&&ke(),placeholder:s?"Type your reply...":"Connecting...",disabled:!s,className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:ke,disabled:J||!K.trim()||!s,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:t.jsx(Nh,{className:"w-5 h-5"})})]})}):y.status==="pending"?t.jsx("div",{className:"p-4 bg-yellow-50 text-center text-sm text-yellow-700",children:"Accept this ticket to start chatting"}):t.jsxs("div",{className:"p-4 bg-slate-100 text-center text-sm text-slate-500",children:["This ticket is ",y.status]})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(hu,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a ticket to view details"})]})})})]})},op={getMessages:async(s="all")=>{const r=await(await fetch(`${Ot}/api/admin-messages?type=${s}`,{credentials:"include"})).json();return r.success?{messages:r.messages,unreadCount:r.unreadCount}:{messages:[],unreadCount:0}},getAdmins:async()=>{const e=await(await fetch(`${Ot}/api/admin-messages/admins`,{credentials:"include"})).json();return e.success?e.admins:[]},markRead:async s=>{await fetch(`${Ot}/api/admin-messages/${s}/read`,{method:"POST",credentials:"include"})},getSystemNotifications:async()=>{const e=await(await fetch(`${Ot}/api/admin-messages/system-notifications`,{credentials:"include"})).json();return e.success?{notifications:e.notifications,unreadCount:e.unreadCount}:{notifications:[],unreadCount:0}}},$w=({priority:s})=>{const e={urgent:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",normal:"bg-slate-100 text-slate-600",low:"bg-slate-50 text-slate-400"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${e[s]||e.normal}`,children:s})},$R=()=>{const{isConnected:s,sendAdminMessage:e,onNewAdminMessage:r}=xm(),[n,i]=W.useState("messages"),[c,u]=W.useState("all"),[d,A]=W.useState([]),[o,f]=W.useState([]),[m,p]=W.useState([]),[x,v]=W.useState(0),[y,w]=W.useState(0),[E,Q]=W.useState(!0),[K,Z]=W.useState(!1),[J,H]=W.useState(null);W.useEffect(()=>{G()},[c]),W.useEffect(()=>{const Ae=r(Ne=>{const re={id:Ne.id,senderId:Ne.senderId,senderName:Ne.senderName,senderAvatar:Ne.senderAvatar,recipientId:Ne.recipientId,recipientName:Ne.recipientName,isBroadcast:Ne.isBroadcast,subject:Ne.subject,content:Ne.content,messageType:"message",priority:Ne.priority,createdAt:Ne.createdAt,isRead:!1};A(Be=>[re,...Be]),v(Be=>Be+1)});return()=>Ae()},[r]);const G=async()=>{Q(!0);const[Ae,Ne,re]=await Promise.all([op.getMessages(c),op.getSystemNotifications(),op.getAdmins()]);A(Ae.messages),v(Ae.unreadCount),f(Ne.notifications),w(Ne.unreadCount),p(re),Q(!1)},ce=async Ae=>{H(Ae),Ae.isRead||(await op.markRead(Ae.id),A(Ne=>Ne.map(re=>re.id===Ae.id?{...re,isRead:!0}:re)),v(Ne=>Math.max(0,Ne-1)))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Admin Communications"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Internal messages and system notifications"})]}),t.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs ${s?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[s?t.jsx(h0,{className:"w-3 h-3"}):t.jsx(A0,{className:"w-3 h-3"}),s?"Live":"Offline"]})]}),t.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:[t.jsx(zi,{className:"w-4 h-4"}),"New Message"]})]}),t.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[t.jsx("button",{onClick:()=>i("messages"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${n==="messages"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Th,{className:"w-4 h-4"}),"Messages",x>0&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:x})]})}),t.jsx("button",{onClick:()=>i("notifications"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${n==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(cu,{className:"w-4 h-4"}),"System Notifications",y>0&&t.jsx("span",{className:"px-1.5 py-0.5 bg-red-500 text-white text-xs rounded-full",children:y})]})})]}),t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:n==="messages"?t.jsxs("div",{className:"flex h-[500px]",children:[t.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 border-r border-slate-200 flex flex-col",children:[t.jsx("div",{className:"p-3 border-b border-slate-100 flex gap-2",children:["all","received","sent"].map(Ae=>t.jsx("button",{onClick:()=>u(Ae),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${c===Ae?"bg-blue-100 text-blue-700":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:Ae.charAt(0).toUpperCase()+Ae.slice(1)},Ae))}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:E?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(id,{className:"w-6 h-6 animate-spin text-slate-400"})}):d.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(Gd,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No messages"})]}):d.map(Ae=>t.jsx("div",{onClick:()=>ce(Ae),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${Ae.isRead?"":"bg-blue-50/50"} ${(J==null?void 0:J.id)===Ae.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden shrink-0 flex items-center justify-center",children:Ae.senderAvatar?t.jsx("img",{src:Ae.senderAvatar,alt:"",className:"w-full h-full object-cover"}):Ae.isBroadcast?t.jsx(Xu,{className:"w-5 h-5 text-slate-500"}):t.jsx(Wo,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Ae.isBroadcast&&t.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"Broadcast"}),t.jsx($w,{priority:Ae.priority})]}),t.jsx("h4",{className:`text-sm truncate ${Ae.isRead?"":"font-semibold"}`,children:Ae.subject||"No subject"}),t.jsxs("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:[Ae.senderName,"  ",Ae.isBroadcast?"All Admins":Ae.recipientName]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(Ae.createdAt).toLocaleString()})]}),!Ae.isRead&&t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shrink-0 mt-2"})]})},Ae.id))})]}),t.jsx("div",{className:"hidden md:flex flex-1 flex-col",children:J?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[J.isBroadcast&&t.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-lg flex items-center gap-1",children:[t.jsx(Xu,{className:"w-3 h-3"}),"Broadcast"]}),t.jsx($w,{priority:J.priority})]}),t.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:J.subject||"No subject"}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-slate-500",children:[t.jsxs("span",{children:["From: ",J.senderName]}),t.jsx("span",{children:""}),t.jsxs("span",{children:["To: ",J.isBroadcast?"All Admins":J.recipientName]})]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(J.createdAt).toLocaleString()})]}),t.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:t.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:J.content})})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Gd,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a message to view"})]})})})]}):t.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:E?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(id,{className:"w-6 h-6 animate-spin text-slate-400"})}):o.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(cu,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No notifications"})]}):o.map(Ae=>t.jsx("div",{className:`p-4 border-b border-slate-100 hover:bg-slate-50 transition-colors ${Ae.isRead?"":"bg-blue-50/50"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${Ae.notificationType.includes("ticket")?"bg-blue-100 text-blue-600":Ae.notificationType==="new_user"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-600"}`,children:t.jsx(cu,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:`text-sm ${Ae.isRead?"":"font-semibold"}`,children:Ae.title}),Ae.content&&t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:Ae.content}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:new Date(Ae.createdAt).toLocaleString()})]})]})},Ae.id))})}),K&&t.jsx(GR,{admins:m,isConnected:s,onSend:e,onClose:()=>Z(!1),onSent:()=>{Z(!1),G()}})]})},GR=({admins:s,isConnected:e,onSend:r,onClose:n,onSent:i})=>{const[c,u]=W.useState(!0),[d,A]=W.useState(null),[o,f]=W.useState(""),[m,p]=W.useState(""),[x,v]=W.useState("normal"),[y,w]=W.useState(""),E=()=>{if(!m.trim()){w("Please enter a message");return}if(!c&&!d){w("Please select a recipient");return}if(!e){w("Not connected to server");return}r(c?null:d,m,o,x),i()},Q=s.filter(K=>!K.isCurrentUser);return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"New Message"}),t.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[y&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg text-sm flex items-center gap-2",children:[t.jsx(Oa,{className:"w-4 h-4"}),y]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Send To"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{type:"button",onClick:()=>{u(!0),A(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors ${c?"border-blue-500 bg-blue-50 text-blue-600":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx(Xu,{className:"w-4 h-4"}),"All Admins"]}),t.jsxs("button",{type:"button",onClick:()=>u(!1),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors ${c?"border-slate-200 hover:border-slate-300":"border-blue-500 bg-blue-50 text-blue-600"}`,children:[t.jsx(Wo,{className:"w-4 h-4"}),"Specific Admin"]})]})]}),!c&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Recipient"}),t.jsxs("select",{value:d||"",onChange:K=>A(Number(K.target.value)||null),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white",children:[t.jsx("option",{value:"",children:"Select admin..."}),Q.map(K=>t.jsxs("option",{value:K.id,children:[K.name," (",K.email,")"]},K.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Subject (optional)"}),t.jsx("input",{type:"text",value:o,onChange:K=>f(K.target.value),placeholder:"Message subject",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Priority"}),t.jsx("div",{className:"flex gap-2",children:["low","normal","high","urgent"].map(K=>t.jsx("button",{type:"button",onClick:()=>v(K),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x===K?K==="urgent"?"bg-red-100 text-red-700":K==="high"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:K.charAt(0).toUpperCase()+K.slice(1)},K))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Message *"}),t.jsx("textarea",{value:m,onChange:K=>p(K.target.value),placeholder:"Type your message...",rows:5,className:"w-full px-4 py-3 rounded-xl border border-slate-200 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-200 flex gap-3",children:[t.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-slate-100 rounded-xl font-medium hover:bg-slate-200 transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:E,disabled:!e,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[t.jsx(Nh,{className:"w-4 h-4"}),"Send ",c?"Broadcast":"Message"]})]})]})})},lp={getRooms:async()=>{const e=await(await fetch(`${Ot}/api/admin-chat/rooms`,{credentials:"include"})).json();return e.success?e.rooms:[]},getAdmins:async()=>{const e=await(await fetch(`${Ot}/api/admin-chat/admins`,{credentials:"include"})).json();return e.success?e.admins:[]},startChat:async s=>{const r=await(await fetch(`${Ot}/api/admin-chat/start/${s}`,{method:"POST",credentials:"include"})).json();return r.success?r.room:null},getMessages:async(s,e)=>{const r=e?`${Ot}/api/admin-chat/rooms/${s}/messages?before=${e}`:`${Ot}/api/admin-chat/rooms/${s}/messages`,i=await(await fetch(r,{credentials:"include"})).json();return i.success?{messages:i.messages,hasMore:i.hasMore}:{messages:[],hasMore:!1}},markRead:async s=>{await fetch(`${Ot}/api/admin-chat/rooms/${s}/read`,{method:"POST",credentials:"include"})}},WR=()=>{var pe,ae;const{socket:s,isConnected:e}=xm(),[r,n]=W.useState([]),[i,c]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState([]),[f,m]=W.useState(""),[p,x]=W.useState(!0),[v,y]=W.useState(!1),[w,E]=W.useState(""),[Q,K]=W.useState(null),Z=W.useRef(null),J=W.useRef(null),H=W.useRef(null);W.useEffect(()=>{G(),ce()},[]),W.useEffect(()=>{if(!s)return;const de=Re=>{u&&Re.roomId===u.id&&(o(ke=>ke.some(me=>me.id===Re.id)?ke:[...ke,Re]),K(null)),n(ke=>ke.map(me=>me.id===Re.roomId?{...me,lastMessagePreview:Re.content.slice(0,50),lastMessageAt:Re.createdAt,unreadCount:(u==null?void 0:u.id)===Re.roomId?0:me.unreadCount+1}:me).sort((me,we)=>new Date(we.lastMessageAt||0).getTime()-new Date(me.lastMessageAt||0).getTime()))},oe=Re=>{u&&Re.roomId===u.id&&K(Re.isTyping?Re.userName:null)},Ee=Re=>{console.log(` New message from ${Re.senderName}`)};return s.on("new_admin_chat_message",de),s.on("admin_chat_user_typing",oe),s.on("admin_chat_notification",Ee),()=>{s.off("new_admin_chat_message",de),s.off("admin_chat_user_typing",oe),s.off("admin_chat_notification",Ee)}},[s,u]),W.useEffect(()=>{if(!(!s||!u))return s.emit("join_admin_chat",{roomId:u.id}),()=>{s.emit("leave_admin_chat",{roomId:u.id})}},[s,u==null?void 0:u.id]),W.useEffect(()=>{var de;(de=Z.current)==null||de.scrollIntoView({behavior:"smooth"})},[A,Q]);const G=async()=>{const de=await lp.getRooms();n(de),x(!1)},ce=async()=>{const de=await lp.getAdmins();c(de)},Ae=async de=>{d(de);const oe=await lp.getMessages(de.id);o(oe.messages),n(Ee=>Ee.map(Re=>Re.id===de.id?{...Re,unreadCount:0}:Re)),setTimeout(()=>{var Ee;return(Ee=J.current)==null?void 0:Ee.focus()},100)},Ne=async de=>{const oe=await lp.startChat(de.id);oe&&(r.find(Re=>Re.id===oe.id)||n(Re=>[oe,...Re]),Ae(oe),y(!1))},re=W.useCallback(()=>{var de;!f.trim()||!u||!s||!e||(s.emit("admin_chat_message",{roomId:u.id,content:f.trim()}),m(""),(de=J.current)==null||de.focus(),s.emit("admin_chat_typing",{roomId:u.id,isTyping:!1}))},[f,u,s,e]),Be=de=>{m(de.target.value),u&&s&&e&&(s.emit("admin_chat_typing",{roomId:u.id,isTyping:!0}),H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{s.emit("admin_chat_typing",{roomId:u.id,isTyping:!1})},2e3))},fe=de=>{const oe=new Date(de),Re=new Date().getTime()-oe.getTime();return Re<6e4?"Just now":Re<36e5?`${Math.floor(Re/6e4)}m ago`:Re<864e5?oe.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):oe.toLocaleDateString([],{month:"short",day:"numeric"})},Se=i.filter(de=>de.name.toLowerCase().includes(w.toLowerCase())||de.email.toLowerCase().includes(w.toLowerCase()));return t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden h-[600px] flex",children:[t.jsxs("div",{className:`${u?"hidden md:flex":"flex"} flex-col w-full md:w-80 border-r border-slate-200`,children:[t.jsx("div",{className:"p-4 border-b border-slate-100",children:t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Admin Chat"}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${e?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[e?t.jsx(h0,{className:"w-3 h-3"}):t.jsx(A0,{className:"w-3 h-3"}),e?"Live":"Offline"]})]}),t.jsx("button",{onClick:()=>y(!0),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:t.jsx(zi,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:p?t.jsx("div",{className:"flex items-center justify-center h-40 text-slate-400",children:"Loading..."}):r.length===0?t.jsxs("div",{className:"text-center py-12 px-4",children:[t.jsx(hu,{className:"w-12 h-12 mx-auto mb-3 text-slate-200"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"No conversations yet"}),t.jsx("button",{onClick:()=>y(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Start a Chat"})]}):r.map(de=>{var oe;return t.jsx("div",{onClick:()=>Ae(de),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${(u==null?void 0:u.id)===de.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:(oe=de.otherMember)!=null&&oe.avatar?t.jsx("img",{src:de.otherMember.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Wo,{className:"w-6 h-6 text-slate-400"})}),de.unreadCount>0&&t.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-600 text-white text-xs rounded-full flex items-center justify-center",children:de.unreadCount>9?"9+":de.unreadCount})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:`font-medium truncate ${de.unreadCount>0?"text-slate-900":"text-slate-700"}`,children:de.name}),de.lastMessageAt&&t.jsx("span",{className:"text-xs text-slate-400",children:fe(de.lastMessageAt)})]}),de.lastMessagePreview&&t.jsx("p",{className:`text-sm truncate mt-0.5 ${de.unreadCount>0?"text-slate-600 font-medium":"text-slate-400"}`,children:de.lastMessagePreview})]})]})},de.id)})})]}),t.jsx("div",{className:`${u?"flex":"hidden md:flex"} flex-1 flex-col`,children:u?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center gap-3",children:[t.jsx("button",{onClick:()=>d(null),className:"md:hidden p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qu,{className:"w-5 h-5"})}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:(pe=u.otherMember)!=null&&pe.avatar?t.jsx("img",{src:u.otherMember.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Wo,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-800",children:u.name}),t.jsx("p",{className:"text-xs text-slate-400",children:(ae=u.otherMember)==null?void 0:ae.role})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-slate-50",children:[A.map(de=>{var oe,Ee,Re,ke,me;return t.jsx("div",{className:`flex ${de.senderId===((oe=u.otherMember)==null?void 0:oe.id)?"justify-start":"justify-end"}`,children:t.jsxs("div",{className:`flex items-end gap-2 max-w-[75%] ${de.senderId!==((Ee=u.otherMember)==null?void 0:Ee.id)?"flex-row-reverse":""}`,children:[de.senderId===((Re=u.otherMember)==null?void 0:Re.id)&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 overflow-hidden shrink-0",children:de.senderAvatar?t.jsx("img",{src:de.senderAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Wo,{className:"w-4 h-4 text-slate-400"})})}),t.jsxs("div",{children:[t.jsx("div",{className:`px-4 py-2.5 rounded-2xl ${de.senderId===((ke=u.otherMember)==null?void 0:ke.id)?"bg-white border border-slate-200 rounded-bl-md":"bg-blue-600 text-white rounded-br-md"}`,children:t.jsx("p",{className:"text-sm",children:de.content})}),t.jsx("p",{className:`text-xs text-slate-400 mt-1 ${de.senderId!==((me=u.otherMember)==null?void 0:me.id)?"text-right":""}`,children:fe(de.createdAt)})]})]})},de.id)}),Q&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white border border-slate-200 px-4 py-2.5 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[Q," is typing..."]})]})})}),t.jsx("div",{ref:Z})]}),t.jsx("div",{className:"p-4 border-t border-slate-100",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:J,type:"text",value:f,onChange:Be,onKeyDown:de=>de.key==="Enter"&&!de.shiftKey&&re(),placeholder:e?"Type a message...":"Connecting...",disabled:!e,className:"flex-1 px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:re,disabled:!f.trim()||!e,className:"px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:t.jsx(Nh,{className:"w-5 h-5"})})]})})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(hu,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a conversation or start a new chat"})]})})}),v&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"New Conversation"}),t.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-4 border-b border-slate-100",children:t.jsxs("div",{className:"relative",children:[t.jsx(zc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search admins...",value:w,onChange:de=>E(de.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),t.jsx("div",{className:"max-h-80 overflow-y-auto",children:Se.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-400",children:[t.jsx(Wo,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No admins found"})]}):Se.map(de=>t.jsx("div",{onClick:()=>Ne(de),className:"p-4 hover:bg-slate-50 cursor-pointer transition-colors border-b border-slate-100 last:border-0",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:de.avatar?t.jsx("img",{src:de.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Wo,{className:"w-6 h-6 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-slate-800",children:de.name}),t.jsx("p",{className:"text-sm text-slate-500",children:de.email}),t.jsx("span",{className:"text-xs text-slate-400",children:de.role})]})]})},de.id))})]})})]})},Gw={code:"",name:"",description:"",voucherType:"discount",discountType:"percentage",discountValue:10,minAmount:0,maxDiscount:null,activationDays:30,activationPlanId:null,maxUses:100,maxUsesPerUser:1,applicablePlans:[],validFrom:"",validUntil:"",status:"active"},YR=()=>{const[s,e]=W.useState([]),[r,n]=W.useState([]),[i,c]=W.useState(!0),[u,d]=W.useState(!1),[A,o]=W.useState(null),[f,m]=W.useState(Gw),[p,x]=W.useState(""),[v,y]=W.useState(!1),[w,E]=W.useState("all"),[Q,K]=W.useState("all"),[Z,J]=W.useState(""),[H,G]=W.useState(!1),[ce,Ae]=W.useState(null),[Ne,re]=W.useState([]),[Be,fe]=W.useState(!1);W.useEffect(()=>{pe(),Se()},[w,Q]);const Se=async()=>{try{const ge=await(await fetch(`${Ot}/api/admin-subscription/plans?include_inactive=true`,{credentials:"include"})).json();n(ge.plans||[])}catch(te){console.error("Error fetching plans:",te)}},pe=async()=>{c(!0);try{let te=`${Ot}/api/admin-subscription/vouchers`;const ge=new URLSearchParams;w!=="all"&&ge.append("status",w),Q!=="all"&&ge.append("type",Q),ge.toString()&&(te+=`?${ge.toString()}`);const Ve=await(await fetch(te,{credentials:"include"})).json();e(Ve.vouchers||[])}catch(te){console.error("Error fetching vouchers:",te)}finally{c(!1)}},ae=async te=>{fe(!0);try{const Me=await(await fetch(`${Ot}/api/admin-subscription/vouchers/${te}/usages`,{credentials:"include"})).json();re(Me.usages||[])}catch(ge){console.error("Error fetching usages:",ge)}finally{fe(!1)}},de=te=>{var ge,Me;te?(o(te),m({code:te.code,name:te.name||"",description:te.description||"",voucherType:te.voucherType,discountType:te.discountType||"percentage",discountValue:te.discountValue||10,minAmount:te.minAmount||0,maxDiscount:te.maxDiscount,activationDays:te.activationDays||30,activationPlanId:te.activationPlanId,maxUses:te.maxUses,maxUsesPerUser:te.maxUsesPerUser,applicablePlans:te.applicablePlans||[],validFrom:((ge=te.validFrom)==null?void 0:ge.split(" ")[0])||"",validUntil:((Me=te.validUntil)==null?void 0:Me.split(" ")[0])||"",status:te.status})):(o(null),m(Gw)),x(""),d(!0)},oe=()=>{d(!1),o(null),x("")},Ee=async()=>{if(!f.code.trim()){x("Voucher code is required");return}if(f.voucherType==="discount"&&(!f.discountValue||f.discountValue<=0)){x("Discount value must be greater than 0");return}y(!0),x("");try{const te=A?`${Ot}/api/admin-subscription/vouchers/${A.id}`:`${Ot}/api/admin-subscription/vouchers`,Me=await fetch(te,{method:A?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:f.code.toUpperCase().trim(),name:f.name,description:f.description,voucherType:f.voucherType,discountType:f.discountType,discountValue:f.discountValue,minAmount:f.minAmount,maxDiscount:f.maxDiscount,activationDays:f.voucherType==="activation"?f.activationDays:null,activationPlanId:f.voucherType==="activation"?f.activationPlanId:null,maxUses:f.maxUses,maxUsesPerUser:f.maxUsesPerUser,applicablePlans:f.applicablePlans,validFrom:f.validFrom||null,validUntil:f.validUntil||null,status:f.status})}),Ve=await Me.json();Me.ok?(pe(),oe()):x(Ve.error||"Failed to save voucher")}catch{x("Failed to save voucher")}finally{y(!1)}},Re=async te=>{try{await fetch(`${Ot}/api/admin-subscription/vouchers/${te}/toggle-status`,{method:"POST",credentials:"include"}),pe()}catch(ge){console.error("Error toggling status:",ge)}},ke=te=>{Ae(te.id),G(!0),ae(te.id)},me=s.filter(te=>{var ge;if(Z){const Me=Z.toLowerCase();return te.code.toLowerCase().includes(Me)||((ge=te.name)==null?void 0:ge.toLowerCase().includes(Me))}return!0}),we=te=>te==="discount"?t.jsx(Zy,{className:"w-5 h-5 text-green-500"}):t.jsx(Xy,{className:"w-5 h-5 text-purple-500"}),ue=te=>{const ge={active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",inactive:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",exhausted:"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"};return ge[te]||ge.inactive};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Voucher Management"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Create and manage discount codes and activation codes"})]}),t.jsxs("button",{onClick:()=>de(),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors",children:[t.jsx(zi,{size:18})," Create Voucher"]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(zc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search by code or name...",value:Z,onChange:te=>J(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("select",{value:Q,onChange:te=>K(te.target.value),className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"discount",children:"Discount"}),t.jsx("option",{value:"activation",children:"Activation"})]}),t.jsxs("select",{value:w,onChange:te=>E(te.target.value),className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"exhausted",children:"Exhausted"})]})]}),i?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Ir,{className:"w-8 h-8 animate-spin text-amber-500"})}):me.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-500",children:[t.jsx(ff,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No vouchers found"})]}):t.jsx("div",{className:"grid gap-4",children:me.map(te=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[we(te.voucherType),t.jsx("span",{className:"font-mono font-bold text-lg text-slate-900 dark:text-white",children:te.code}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ue(te.status)}`,children:te.status}),!te.isValid&&te.status==="active"&&t.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded-full text-xs",children:"Expired"})]}),te.name&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:te.name}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-500 dark:text-slate-400",children:[te.voucherType==="discount"?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Op,{size:14}),te.discountType==="percentage"?`${te.discountValue}% off`:`RM${te.discountValue} off`]}):t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{size:14}),te.activationDays?`${te.activationDays} days`:"Lifetime"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Td,{size:14}),te.currentUses,"/",te.maxUses," used"]}),te.validUntil&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(lo,{size:14}),"Until ",te.validUntil.split(" ")[0]]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>ke(te),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Usages",children:t.jsx(ao,{size:18})}),t.jsx("button",{onClick:()=>de(te),className:"p-2 text-slate-500 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit",children:t.jsx(u0,{size:18})}),t.jsx("button",{onClick:()=>Re(te.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${te.status==="active"?"bg-red-100 text-red-600 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400":"bg-green-100 text-green-600 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-400"}`,children:te.status==="active"?"Deactivate":"Activate"})]})]})},te.id))}),u&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 w-full max-w-lg my-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:A?"Edit Voucher":"Create Voucher"}),t.jsx("button",{onClick:oe,className:"text-slate-400 hover:text-slate-600",children:t.jsx(en,{size:20})})]}),p&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[t.jsx(Oa,{size:16}),p]}),t.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Voucher Code *"}),t.jsx("input",{type:"text",value:f.code,onChange:te=>m({...f,code:te.target.value.toUpperCase()}),placeholder:"e.g., SAVE20",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg font-mono uppercase",disabled:!!A})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Display Name"}),t.jsx("input",{type:"text",value:f.name,onChange:te=>m({...f,name:te.target.value}),placeholder:"e.g., New Year Promotion",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Voucher Type *"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>m({...f,voucherType:"discount"}),className:`p-3 rounded-lg border-2 flex items-center gap-2 transition-colors ${f.voucherType==="discount"?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(Zy,{size:18,className:f.voucherType==="discount"?"text-green-500":"text-slate-400"}),t.jsx("span",{className:"font-medium",children:"Discount"})]}),t.jsxs("button",{type:"button",onClick:()=>m({...f,voucherType:"activation"}),className:`p-3 rounded-lg border-2 flex items-center gap-2 transition-colors ${f.voucherType==="activation"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(Xy,{size:18,className:f.voucherType==="activation"?"text-purple-500":"text-slate-400"}),t.jsx("span",{className:"font-medium",children:"Activation"})]})]})]}),f.voucherType==="discount"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Discount Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("button",{type:"button",onClick:()=>m({...f,discountType:"percentage"}),className:`p-2 rounded-lg border text-center transition-colors ${f.discountType==="percentage"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:"Percentage (%)"}),t.jsx("button",{type:"button",onClick:()=>m({...f,discountType:"fixed"}),className:`p-2 rounded-lg border text-center transition-colors ${f.discountType==="fixed"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:"Fixed (RM)"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Discount Value *"}),t.jsx("input",{type:"number",value:f.discountValue,onChange:te=>m({...f,discountValue:parseFloat(te.target.value)||0}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Min Amount (RM)"}),t.jsx("input",{type:"number",value:f.minAmount,onChange:te=>m({...f,minAmount:parseFloat(te.target.value)||0}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),f.discountType==="percentage"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Max Discount (RM) - Optional"}),t.jsx("input",{type:"number",value:f.maxDiscount||"",onChange:te=>m({...f,maxDiscount:te.target.value?parseFloat(te.target.value):null}),placeholder:"No limit",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),f.voucherType==="activation"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Activation Days (leave empty for lifetime)"}),t.jsx("input",{type:"number",value:f.activationDays||"",onChange:te=>m({...f,activationDays:te.target.value?parseInt(te.target.value):null}),placeholder:"e.g., 30 (or leave empty for lifetime)",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Total Uses"}),t.jsx("input",{type:"number",value:f.maxUses,onChange:te=>m({...f,maxUses:parseInt(te.target.value)||1}),min:"1",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Per User Limit"}),t.jsx("input",{type:"number",value:f.maxUsesPerUser,onChange:te=>m({...f,maxUsesPerUser:parseInt(te.target.value)||1}),min:"1",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Valid From"}),t.jsx("input",{type:"date",value:f.validFrom,onChange:te=>m({...f,validFrom:te.target.value}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Valid Until"}),t.jsx("input",{type:"date",value:f.validUntil,onChange:te=>m({...f,validUntil:te.target.value}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description"}),t.jsx("textarea",{value:f.description,onChange:te=>m({...f,description:te.target.value}),placeholder:"Internal notes or description...",rows:2,className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg resize-none"})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:[t.jsx("button",{onClick:oe,className:"flex-1 py-2.5 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ee,disabled:v,className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:v?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):A?"Update Voucher":"Create Voucher"})]})]})}),H&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 w-full max-w-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Usage History"}),t.jsx("button",{onClick:()=>G(!1),className:"text-slate-400 hover:text-slate-600",children:t.jsx(en,{size:20})})]}),Be?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(Ir,{className:"w-6 h-6 animate-spin text-amber-500"})}):Ne.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Td,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No usage history yet"})]}):t.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:Ne.map(te=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:te.userName||te.userEmail||`User #${te.userId}`}),t.jsx("p",{className:"text-xs text-slate-500",children:te.createdAt})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:`text-xs px-2 py-1 rounded ${te.usageType==="activation"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:te.usageType}),te.discountAmount>0&&t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["-RM ",te.discountAmount.toFixed(2)]})]})]},te.id))})]})})]})},Ww={name:"",slug:"",description:"",price:0,currency:"MYR",durationDays:30,durationType:"days",status:"active",isFeatured:!1,sortOrder:0},XR=s=>s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),JR=(s,e)=>s===null?"Lifetime":e==="months"||s===30?s===30?"1 Month":`${Math.round(s/30)} Months`:e==="years"||s===365?s===365?"1 Year":`${Math.round(s/365)} Years`:`${s} Days`,ZR=(s,e="MYR")=>`${e} ${s.toFixed(2)}`,Yw=[{label:"7 Days",days:7,type:"days"},{label:"14 Days",days:14,type:"days"},{label:"1 Month",days:30,type:"months"},{label:"3 Months",days:90,type:"months"},{label:"6 Months",days:180,type:"months"},{label:"1 Year",days:365,type:"years"},{label:"Lifetime",days:null,type:"lifetime"}],qR=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[i,c]=W.useState(!1),[u,d]=W.useState(!0),[A,o]=W.useState(""),[f,m]=W.useState(!1),[p,x]=W.useState(null),[v,y]=W.useState(Ww),[w,E]=W.useState(!1),[Q,K]=W.useState(""),[Z,J]=W.useState(null),H=async(oe=!0)=>{oe?n(!0):c(!0);try{const Re=await(await fetch(`${Ot}/api/admin-subscription/plans?include_inactive=${u}`,{credentials:"include"})).json();Re.plans&&e(Re.plans)}catch(Ee){console.error("Error fetching plans:",Ee),G("error","Failed to load plans")}finally{n(!1),c(!1)}};W.useEffect(()=>{H()},[u]);const G=(oe,Ee)=>{J({type:oe,text:Ee}),setTimeout(()=>J(null),3e3)},ce=oe=>{oe?(x(oe),y({name:oe.name,slug:oe.slug,description:oe.description||"",price:oe.price,currency:oe.currency,durationDays:oe.durationDays,durationType:oe.durationType,status:oe.status,isFeatured:oe.isFeatured,sortOrder:oe.sortOrder})):(x(null),y({...Ww,sortOrder:s.length})),K(""),m(!0)},Ae=()=>{m(!1),x(null),K("")},Ne=oe=>{y(Ee=>({...Ee,name:oe,slug:p?Ee.slug:XR(oe)}))},re=oe=>{y(Ee=>({...Ee,durationDays:oe.days,durationType:oe.type}))},Be=async()=>{if(!v.name.trim()){K("Plan name is required");return}if(!v.slug.trim()){K("Plan slug is required");return}if(v.price<0){K("Price must be 0 or greater");return}E(!0),K("");try{const oe=p?`${Ot}/api/admin-subscription/plans/${p.id}`:`${Ot}/api/admin-subscription/plans`,Re=await fetch(oe,{method:p?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(v)}),ke=await Re.json();Re.ok&&ke.success?(G("success",p?"Plan updated successfully":"Plan created successfully"),H(!1),Ae()):K(ke.error||"Failed to save plan")}catch{K("Network error occurred")}finally{E(!1)}},fe=async oe=>{try{const Ee=await fetch(`${Ot}/api/admin-subscription/plans/${oe}/toggle-status`,{method:"POST",credentials:"include"}),Re=await Ee.json();Ee.ok&&Re.success?(G("success",Re.message||"Status updated"),H(!1)):G("error",Re.error||"Failed to update status")}catch{G("error","Network error occurred")}},Se=async oe=>{try{(await fetch(`${Ot}/api/admin-subscription/plans/${oe.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isFeatured:!oe.isFeatured})})).ok&&(G("success",oe.isFeatured?"Removed from featured":"Marked as featured"),H(!1))}catch{G("error","Failed to update")}},pe=async(oe,Ee)=>{try{await fetch(`${Ot}/api/admin-subscription/plans/${oe}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({sortOrder:Ee})}),H(!1)}catch{console.error("Failed to update sort order")}},ae=s.filter(oe=>{if(!A)return!0;const Ee=A.toLowerCase();return oe.name.toLowerCase().includes(Ee)||oe.slug.toLowerCase().includes(Ee)}).sort((oe,Ee)=>oe.sortOrder-Ee.sortOrder),de={total:s.length,active:s.filter(oe=>oe.status==="active").length,inactive:s.filter(oe=>oe.status==="inactive").length,featured:s.filter(oe=>oe.isFeatured).length};return t.jsxs("div",{className:"space-y-6",children:[Z&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-top ${Z.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[Z.type==="success"?t.jsx(Co,{size:18}):t.jsx(Oa,{size:18}),Z.text]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Px,{className:"w-6 h-6 text-amber-500"}),"Subscription Plans"]}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Manage your subscription plans and pricing"})]}),t.jsxs("button",{onClick:()=>ce(),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors shadow-lg shadow-amber-500/20",children:[t.jsx(zi,{size:18})," Create Plan"]})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:t.jsx(Px,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:de.total}),t.jsx("p",{className:"text-xs text-slate-500",children:"Total Plans"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:t.jsx(ao,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:de.active}),t.jsx("p",{className:"text-xs text-slate-500",children:"Active"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:t.jsx(Yu,{className:"w-5 h-5 text-gray-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-500",children:de.inactive}),t.jsx("p",{className:"text-xs text-slate-500",children:"Inactive"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center",children:t.jsx(Ju,{className:"w-5 h-5 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:de.featured}),t.jsx("p",{className:"text-xs text-slate-500",children:"Featured"})]})]})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(zc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search plans...",value:A,onChange:oe=>o(oe.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:oe=>d(oe.target.checked),className:"rounded border-slate-300"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Show Inactive"})]}),t.jsx("button",{onClick:()=>H(!1),disabled:i,className:"p-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700",children:t.jsx(id,{className:`w-5 h-5 text-slate-500 ${i?"animate-spin":""}`})})]}),r?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Ir,{className:"w-8 h-8 animate-spin text-amber-500"})}):ae.length===0?t.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[t.jsx(Px,{className:"w-12 h-12 mx-auto mb-3 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:A?"No plans found":"No subscription plans yet"}),t.jsx("button",{onClick:()=>ce(),className:"mt-4 px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600",children:"Create First Plan"})]}):t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700",children:[t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Order"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Plan"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Price"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Duration"}),t.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Featured"}),t.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:ae.map((oe,Ee)=>t.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-900/30 transition-colors ${oe.status==="inactive"?"opacity-60":""}`,children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>Ee>0&&pe(oe.id,oe.sortOrder-1),disabled:Ee===0,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded disabled:opacity-30",children:t.jsx(dp,{size:14})}),t.jsx("span",{className:"text-sm text-slate-500 w-6 text-center",children:oe.sortOrder}),t.jsx("button",{onClick:()=>Ee<ae.length-1&&pe(oe.id,oe.sortOrder+1),disabled:Ee===ae.length-1,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded disabled:opacity-30",children:t.jsx(cp,{size:14})})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:oe.name}),t.jsx("p",{className:"text-xs text-slate-500 font-mono",children:oe.slug})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:ZR(oe.price,oe.currency)})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[oe.isLifetime?t.jsx(yS,{className:"w-4 h-4 text-amber-500"}):t.jsx(Vi,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:JR(oe.durationDays,oe.durationType)})]})}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsx("button",{onClick:()=>fe(oe.id),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium transition-colors ${oe.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 hover:bg-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-200"}`,children:oe.status==="active"?t.jsxs(t.Fragment,{children:[t.jsx(ao,{size:12})," Active"]}):t.jsxs(t.Fragment,{children:[t.jsx(Yu,{size:12})," Inactive"]})})}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsx("button",{onClick:()=>Se(oe),className:`p-2 rounded-lg transition-colors ${oe.isFeatured?"text-amber-500 bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100":"text-slate-400 hover:text-amber-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:oe.isFeatured?t.jsx(Ju,{size:18,fill:"currentColor"}):t.jsx(q3,{size:18})})}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsxs("button",{onClick:()=>ce(oe),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-amber-600 hover:text-amber-700 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded-lg transition-colors",children:[t.jsx(u0,{size:14}),"Edit"]})})]},oe.id))})]})})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between sticky top-0 bg-white dark:bg-slate-900",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:p?"Edit Plan":"Create New Plan"}),t.jsx("button",{onClick:Ae,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(en,{size:20})})]}),t.jsxs("div",{className:"p-6 space-y-5",children:[Q&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[t.jsx(Oa,{size:16}),Q]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Plan Name *"}),t.jsx("input",{type:"text",value:v.name,onChange:oe=>Ne(oe.target.value),placeholder:"e.g., Monthly Premium",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Slug *"}),t.jsx("input",{type:"text",value:v.slug,onChange:oe=>y({...v,slug:oe.target.value}),placeholder:"e.g., monthly",disabled:!!p,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent font-mono text-sm disabled:opacity-50 disabled:cursor-not-allowed"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"URL-friendly identifier. Cannot be changed after creation."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Price (MYR) *"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:"RM"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:v.price,onChange:oe=>y({...v,price:parseFloat(oe.target.value)||0}),className:"w-full pl-14 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Duration"}),t.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:Yw.slice(0,4).map(oe=>t.jsx("button",{type:"button",onClick:()=>re(oe),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${v.durationDays===oe.days?"border-amber-500 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:oe.label},oe.label))}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:Yw.slice(4).map(oe=>t.jsx("button",{type:"button",onClick:()=>re(oe),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${v.durationDays===oe.days?"border-amber-500 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:oe.label},oe.label))}),v.durationDays!==null&&t.jsxs("div",{className:"mt-3",children:[t.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Custom Days"}),t.jsx("input",{type:"number",min:"1",value:v.durationDays||"",onChange:oe=>y({...v,durationDays:parseInt(oe.target.value)||null,durationType:"days"}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Description"}),t.jsx("textarea",{value:v.description,onChange:oe=>y({...v,description:oe.target.value}),placeholder:"Brief description of this plan...",rows:3,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Status"}),t.jsxs("select",{value:v.status,onChange:oe=>y({...v,status:oe.target.value}),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Sort Order"}),t.jsx("input",{type:"number",min:"0",value:v.sortOrder,onChange:oe=>y({...v,sortOrder:parseInt(oe.target.value)||0}),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:v.isFeatured,onChange:oe=>y({...v,isFeatured:oe.target.checked}),className:"w-5 h-5 rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Ju,{size:16,className:"text-amber-500"}),"Mark as Featured"]}),t.jsx("p",{className:"text-xs text-slate-500",children:"Featured plans are highlighted to users"})]})]})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-800 flex gap-3",children:[t.jsx("button",{onClick:Ae,className:"flex-1 py-2.5 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Be,disabled:w,className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:w?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(IA,{size:16}),p?"Update Plan":"Create Plan"]})})]})]})})]})};async function e7(){try{const s=await fetch(`${Ot}/check_login_status`,{credentials:"include"});if(!s.ok)return null;const e=await s.json();if(!e.logged_in)return null;const r=e.user;return{id:r.id,name:r.full_name||r.name||r.email||"Admin",email:r.email||"",role:e.role||r.role||"admin"}}catch{return null}}async function t7(s){const e=new URLSearchParams;s.type&&s.type!=="all"&&e.set("type",s.type),s.status&&s.status!=="all"&&e.set("status",s.status),s.page&&e.set("page",s.page.toString()),s.limit&&e.set("limit",s.limit.toString()),s.assignedTo&&e.set("assigned_to",s.assignedTo.toString());const r=await fetch(`${Ot}/api/admin/inquiries?${e}`,{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch inquiries");return r.json()}async function s7(s){const e=await fetch(`${Ot}/api/admin/inquiries/${s}`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch inquiry");return(await e.json()).data}async function r7(s,e){const r=await fetch(`${Ot}/api/admin/inquiries/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.error||"Failed to update inquiry")}return(await r.json()).data}async function n7(){const s=await fetch(`${Ot}/api/admin/inquiries/stats`,{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch stats");return(await s.json()).data}async function a7(){try{const s=await fetch(`${Ot}/api/admin/users/admins`,{credentials:"include"});return s.ok?(await s.json()).data||[]:[]}catch{return[]}}const D4=({status:s})=>{const e={pending:{bg:"bg-amber-50",text:"text-amber-700",icon:t.jsx(Vi,{className:"w-3 h-3"})},in_progress:{bg:"bg-blue-50",text:"text-blue-700",icon:t.jsx(Ir,{className:"w-3 h-3"})},resolved:{bg:"bg-green-50",text:"text-green-700",icon:t.jsx(Bo,{className:"w-3 h-3"})},closed:{bg:"bg-slate-100",text:"text-slate-600",icon:t.jsx(en,{className:"w-3 h-3"})}},{bg:r,text:n,icon:i}=e[s]||e.pending;return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${r} ${n}`,children:[i,s.replace("_"," ").replace(/\b\w/g,c=>c.toUpperCase())]})},i7=({priority:s})=>{const e={low:{bg:"bg-slate-100",text:"text-slate-600"},normal:{bg:"bg-blue-50",text:"text-blue-600"},high:{bg:"bg-red-50",text:"text-red-600"}},{bg:r,text:n}=e[s]||e.normal;return t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${r} ${n}`,children:s.charAt(0).toUpperCase()+s.slice(1)})},R4=({type:s})=>{const e=s==="contact";return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium ${e?"bg-purple-50 text-purple-700":"bg-emerald-50 text-emerald-700"}`,children:[e?t.jsx(Th,{className:"w-3 h-3"}):t.jsx(Fv,{className:"w-3 h-3"}),e?"Contact":"Merchant"]})},o7=({stats:s,loading:e})=>{var n,i;if(e||!s)return t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(c=>t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 animate-pulse",children:[t.jsx("div",{className:"h-4 bg-slate-200 rounded w-20 mb-2"}),t.jsx("div",{className:"h-8 bg-slate-200 rounded w-12"})]},c))});const r=[{label:"Total Inquiries",value:s.total,icon:sm,color:"text-slate-600",bg:"bg-slate-50"},{label:"Pending",value:s.pending,icon:Vi,color:"text-amber-600",bg:"bg-amber-50"},{label:"Contact",value:((n=s.byType)==null?void 0:n.contact)||0,icon:Th,color:"text-purple-600",bg:"bg-purple-50"},{label:"Merchant",value:((i=s.byType)==null?void 0:i.merchant)||0,icon:Fv,color:"text-emerald-600",bg:"bg-emerald-50"}];return t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:r.map((c,u)=>t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-slate-500",children:c.label}),t.jsx("div",{className:`w-8 h-8 rounded-lg ${c.bg} flex items-center justify-center`,children:t.jsx(c.icon,{className:`w-4 h-4 ${c.color}`})})]}),t.jsx("div",{className:"text-2xl font-bold text-slate-800",children:c.value})]},u))})},l7=({inquiry:s,isOpen:e,onClose:r,onUpdate:n,admins:i,currentUser:c})=>{const[u,d]=W.useState(!1),[A,o]=W.useState({status:"",priority:"",assignedAdminId:"",adminNotes:""}),[f,m]=W.useState(!1),[p,x]=W.useState(null),v=wv(c.role),y=v||(s==null?void 0:s.assignedAdminId)===c.id;W.useEffect(()=>{var K;s&&(o({status:s.status,priority:s.priority,assignedAdminId:((K=s.assignedAdminId)==null?void 0:K.toString())||"",adminNotes:s.adminNotes||""}),d(!1),x(null))},[s]);const w=async()=>{if(s){x(null),m(!0);try{const K={status:A.status,priority:A.priority,adminNotes:A.adminNotes};v&&(K.assignedAdminId=A.assignedAdminId?parseInt(A.assignedAdminId):null),await n(s.id,K),d(!1)}catch(K){x(K.message||"Failed to update inquiry")}finally{m(!1)}}};if(!e||!s)return null;const E=s.assignedAdminId===c.id,Q=!s.assignedAdminId;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:r}),t.jsxs("div",{className:"fixed right-0 top-0 h-full w-full max-w-xl bg-white shadow-2xl z-50 overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(R4,{type:s.inquiryType}),t.jsxs("span",{className:"text-slate-400",children:["#",s.id]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(en,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[!v&&!E&&!Q&&t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[t.jsx(Sd,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-amber-800",children:"View Only"}),t.jsx("p",{className:"text-sm text-amber-700",children:"This inquiry is assigned to another admin."})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Contact Information"}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Wo,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"font-medium text-slate-800",children:s.name})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Gd,{className:"w-4 h-4 text-slate-400"}),t.jsx("a",{href:`mailto:${s.email}`,className:"text-blue-600 hover:underline",children:s.email})]}),s.businessName&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(pj,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-slate-700",children:s.businessName})]}),s.subject&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Op,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-slate-700",children:s.subject})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Message"}),t.jsx("div",{className:"bg-slate-50 rounded-xl p-4",children:t.jsx("p",{className:"text-slate-700 whitespace-pre-wrap leading-relaxed",children:s.message})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Status & Assignment"}),!u&&y&&t.jsx("button",{onClick:()=>d(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Edit"})]}),p&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:p}),u?t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:A.status,onChange:K=>o({...A,status:K.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"closed",children:"Closed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Priority"}),t.jsxs("select",{value:A.priority,onChange:K=>o({...A,priority:K.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"normal",children:"Normal"}),t.jsx("option",{value:"high",children:"High"})]})]}),v?t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t.jsxs("span",{className:"flex items-center gap-2",children:["Assigned Admin",t.jsx(Vd,{className:"w-3 h-3 text-purple-500"})]})}),t.jsxs("select",{value:A.assignedAdminId,onChange:K=>o({...A,assignedAdminId:K.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"",children:"Unassigned"}),i.map(K=>t.jsxs("option",{value:K.id,children:[K.name," (",K.email,")"]},K.id))]})]}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t.jsxs("span",{className:"flex items-center gap-2",children:["Assigned Admin",t.jsx(Sd,{className:"w-3 h-3 text-slate-400"})]})}),t.jsxs("div",{className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-slate-100 text-slate-600",children:[s.assignedAdminName||"Unassigned",t.jsx("span",{className:"text-xs text-slate-400 ml-2",children:"(Super Admin only)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Admin Notes"}),t.jsx("textarea",{value:A.adminNotes,onChange:K=>o({...A,adminNotes:K.target.value}),rows:3,placeholder:"Internal notes...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white"})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs("button",{onClick:w,disabled:f,className:"flex-1 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[f?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):t.jsx(Bo,{className:"w-4 h-4"}),"Save Changes"]}),t.jsx("button",{onClick:()=>{d(!1),x(null)},className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 font-medium rounded-lg hover:bg-slate-50",children:"Cancel"})]})]}):t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Status"}),t.jsx(D4,{status:s.status})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Priority"}),t.jsx(i7,{priority:s.priority})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Assigned To"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[s.assignedAdminName||"Unassigned",E&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"You"})]})]}),s.adminNotes&&t.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[t.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-1 mb-1",children:[t.jsx(kj,{className:"w-3 h-3"})," Admin Notes"]}),t.jsx("p",{className:"text-sm text-slate-600",children:s.adminNotes})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Timeline"}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-slate-500 flex items-center gap-2",children:[t.jsx(lo,{className:"w-3 h-3"})," Created"]}),t.jsx("span",{className:"text-slate-700",children:new Date(s.createdAt).toLocaleString()})]}),s.resolvedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-slate-500 flex items-center gap-2",children:[t.jsx(Bo,{className:"w-3 h-3 text-green-500"})," Resolved"]}),t.jsx("span",{className:"text-green-600 font-medium",children:new Date(s.resolvedAt).toLocaleString()})]})]})]})]}),t.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:t.jsxs("a",{href:`mailto:${s.email}?subject=Re: ${s.subject||"Your Inquiry"}`,className:"w-full px-4 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 flex items-center justify-center gap-2",children:[t.jsx(Gd,{className:"w-4 h-4"}),"Reply via Email",t.jsx(tk,{className:"w-4 h-4"})]})})]})]})},c7=()=>{const[s,e]=W.useState(null),[r,n]=W.useState(!0),[i,c]=W.useState("all"),[u,d]=W.useState("all"),[A,o]=W.useState("all"),[f,m]=W.useState(""),[p,x]=W.useState([]),[v,y]=W.useState(null),[w,E]=W.useState([]),[Q,K]=W.useState(!0),[Z,J]=W.useState(!0),[H,G]=W.useState(null),[ce,Ae]=W.useState(!1),[Ne,re]=W.useState(1),[Be,fe]=W.useState(null),Se=s?wv(s.role):!1,pe=s?wv(s.role):!1;W.useEffect(()=>{(async()=>{n(!0);const ue=await e7();e(ue),n(!1)})()},[]);const ae=async()=>{if(s){K(!0);try{let we;(!Se&&A==="all"||A==="mine")&&(we=s.id);const ue=await t7({type:i,status:u,page:Ne,limit:20,assignedTo:we});x(ue.data||[]),fe(ue.pagination)}catch(we){console.error("Failed to load inquiries:",we)}finally{K(!1)}}},de=async()=>{J(!0);try{const we=await n7();y(we)}catch(we){console.error("Failed to load stats:",we)}finally{J(!1)}},oe=async()=>{if(pe){const we=await a7();E(we)}};W.useEffect(()=>{s&&ae()},[s,i,u,A,Ne]),W.useEffect(()=>{s&&(de(),oe())},[s]);const Ee=async we=>{try{const ue=await s7(we.id);G(ue),Ae(!0)}catch(ue){console.error("Failed to load inquiry detail:",ue)}},Re=async(we,ue)=>{const te=await r7(we,ue);G(te),ae(),de()},ke=()=>{ae(),de()},me=p.filter(we=>{var te,ge;if(!f)return!0;const ue=f.toLowerCase();return we.name.toLowerCase().includes(ue)||we.email.toLowerCase().includes(ue)||((te=we.businessName)==null?void 0:te.toLowerCase().includes(ue))||((ge=we.subject)==null?void 0:ge.toLowerCase().includes(ue))||we.message.toLowerCase().includes(ue)});return r?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Ir,{className:"w-8 h-8 text-blue-600 animate-spin"})}):s?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:["Inquiry Management",pe&&t.jsxs("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs font-medium rounded-full flex items-center gap-1",children:[t.jsx(Vd,{className:"w-3 h-3"})," Super Admin"]})]}),t.jsx("p",{className:"text-slate-500 text-sm mt-1",children:Se?"Manage contact and merchant partnership inquiries":"View and handle inquiries assigned to you"})]}),t.jsxs("button",{onClick:ke,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-600",children:[t.jsx(id,{className:"w-4 h-4"}),"Refresh"]})]}),t.jsx(o7,{stats:v,loading:Z}),t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[t.jsx("div",{className:"flex border-b border-slate-200",children:[{id:"all",label:"All Inquiries",icon:sm},{id:"contact",label:"Contact",icon:Th},{id:"merchant",label:"Merchant",icon:Fv}].map(we=>{var ue;return t.jsxs("button",{onClick:()=>{c(we.id),re(1)},className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 -mb-px ${i===we.id?"border-blue-600 text-blue-600 bg-blue-50/50":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[t.jsx(we.icon,{className:"w-4 h-4"}),we.label,we.id!=="all"&&v&&t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${i===we.id?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600"}`,children:((ue=v.byType)==null?void 0:ue[we.id])||0})]},we.id)})}),t.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(zc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search by name, email, or message...",value:f,onChange:we=>m(we.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg"})]}),Se&&t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:A,onChange:we=>{o(we.target.value),re(1)},className:"appearance-none px-4 py-2 pr-10 border border-slate-200 rounded-lg bg-white text-slate-600",children:[t.jsx("option",{value:"all",children:"All Assignments"}),t.jsx("option",{value:"mine",children:"Assigned to Me"}),t.jsx("option",{value:"unassigned",children:"Unassigned"})]}),t.jsx(Jf,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:u,onChange:we=>{d(we.target.value),re(1)},className:"appearance-none px-4 py-2 pr-10 border border-slate-200 rounded-lg bg-white text-slate-600",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"closed",children:"Closed"})]}),t.jsx(Jf,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:Q?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(Ir,{className:"w-8 h-8 text-blue-600 animate-spin"})}):me.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500",children:[t.jsx(sm,{className:"w-12 h-12 text-slate-300 mb-3"}),t.jsx("p",{className:"font-medium",children:"No inquiries found"}),t.jsx("p",{className:"text-sm",children:Se?"Try adjusting your filters":"No inquiries are assigned to you yet"})]}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Type"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Contact"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Subject / Business"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Status"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Assigned"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Created"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:me.map(we=>{const ue=we.assignedAdminId===s.id;return t.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>Ee(we),children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx(R4,{type:we.inquiryType})}),t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium text-slate-800",children:we.name}),t.jsx("div",{className:"text-sm text-slate-500",children:we.email})]}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"max-w-xs truncate text-slate-600",children:we.inquiryType==="merchant"?we.businessName:we.subject||"-"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(D4,{status:we.status})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:"text-sm text-slate-600 flex items-center gap-1",children:[we.assignedAdminName||t.jsx("span",{className:"text-slate-400 italic",children:"Unassigned"}),ue&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded ml-1",children:"You"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-sm text-slate-500",children:new Date(we.createdAt).toLocaleDateString()})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("button",{onClick:te=>{te.stopPropagation(),Ee(we)},className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(ao,{className:"w-4 h-4 text-slate-400"})})})]},we.id)})})]})}),Be&&Be.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("span",{className:"text-sm text-slate-500",children:["Showing ",(Ne-1)*20+1," - ",Math.min(Ne*20,Be.total)," of ",Be.total]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>re(we=>Math.max(1,we-1)),disabled:Ne===1,className:"px-3 py-1 border border-slate-200 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),t.jsx("button",{onClick:()=>re(we=>Math.min(Be.pages,we+1)),disabled:Ne===Be.pages,className:"px-3 py-1 border border-slate-200 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]}),s&&t.jsx(l7,{inquiry:H,isOpen:ce,onClose:()=>{Ae(!1),G(null)},onUpdate:Re,admins:w,currentUser:s})]}):t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[t.jsx(Oa,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),t.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Authentication Required"}),t.jsx("p",{className:"text-red-600 mt-1",children:"Please log in to access the inquiry management."})]})},d7=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,i]=W.useState(null),[c,u]=W.useState(null),[d,A]=W.useState(!0),[o,f]=W.useState(null),[m,p]=W.useState("all"),[x,v]=W.useState(""),[y,w]=W.useState(1),[E,Q]=W.useState(null),[K,Z]=W.useState(""),[J,H]=W.useState(!1),[G,ce]=W.useState(null);W.useEffect(()=>{Ae()},[m,y]);const Ae=async()=>{A(!0);try{const Se=new URLSearchParams({page:y.toString(),per_page:"20"});m&&m!=="all"&&Se.append("status",m),x&&Se.append("search",x);const pe=await fetch(`${Ot}/api/blogs/admin/all?${Se}`,{credentials:"include"});if(pe.ok){const ae=await pe.json();ae.success&&(r(ae.blogs||[]),i(ae.stats||null),u(ae.pagination||null))}}catch(Se){console.error("Failed to fetch blogs:",Se)}finally{A(!1)}},Ne=async Se=>{Q(Se);try{(await fetch(`${Ot}/api/blogs/admin/${Se}/approve`,{method:"POST",credentials:"include"})).ok&&Ae()}catch(pe){console.error("Failed to approve blog:",pe)}finally{Q(null)}},re=async()=>{if(G){Q(G);try{(await fetch(`${Ot}/api/blogs/admin/${G}/reject`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:K||"Content does not meet community guidelines"})})).ok&&(H(!1),ce(null),Z(""),Ae())}catch(Se){console.error("Failed to reject blog:",Se)}finally{Q(null)}}},Be=async Se=>{Q(Se);try{(await fetch(`${Ot}/api/blogs/admin/${Se}/hide`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:"Hidden by admin"})})).ok&&Ae()}catch(pe){console.error("Failed to hide blog:",pe)}finally{Q(null)}},fe=Se=>{const pe={draft:{color:"bg-slate-100 text-slate-600",icon:t.jsx(Vi,{className:"w-3 h-3"}),text:"Draft"},pending:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Oa,{className:"w-3 h-3"}),text:"Pending Review"},published:{color:"bg-green-100 text-green-700",icon:t.jsx(Co,{className:"w-3 h-3"}),text:"Published"},rejected:{color:"bg-red-100 text-red-700",icon:t.jsx(du,{className:"w-3 h-3"}),text:"Rejected"},hidden:{color:"bg-orange-100 text-orange-700",icon:t.jsx(Yu,{className:"w-3 h-3"}),text:"Hidden"}},ae=pe[Se]||pe.draft;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${ae.color}`,children:[ae.icon,ae.text]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[t.jsx(kd,{className:"w-7 h-7 text-blue-600"}),"Blog Moderation"]}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Review and manage user blog posts"})]})}),n&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900",children:n.total}),t.jsx("div",{className:"text-sm text-slate-500",children:"Total Blogs"})]}),t.jsxs("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-100",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:n.pending}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Pending Review"})]}),t.jsxs("div",{className:"bg-green-50 rounded-2xl p-4 border border-green-100",children:[t.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.published}),t.jsx("div",{className:"text-sm text-green-600",children:"Published"})]}),t.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-700",children:n.draft}),t.jsx("div",{className:"text-sm text-slate-500",children:"Drafts"})]}),t.jsxs("div",{className:"bg-red-50 rounded-2xl p-4 border border-red-100",children:[t.jsx("div",{className:"text-2xl font-bold text-red-700",children:n.rejected}),t.jsx("div",{className:"text-sm text-red-600",children:"Rejected"})]})]}),t.jsx("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(zc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search blogs by title or content...",value:x,onChange:Se=>v(Se.target.value),onKeyDown:Se=>Se.key==="Enter"&&Ae(),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bj,{className:"w-5 h-5 text-slate-400"}),t.jsxs("select",{value:m,onChange:Se=>{p(Se.target.value),w(1)},className:"px-4 py-2.5 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending Review"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"rejected",children:"Rejected"}),t.jsx("option",{value:"hidden",children:"Hidden"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[d?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Ir,{className:"w-8 h-8 text-blue-600 animate-spin"})}):e.length===0?t.jsxs("div",{className:"text-center py-20",children:[t.jsx(kd,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No blogs found"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Adjust your filters or check back later"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:e.map(Se=>t.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl bg-slate-100 overflow-hidden flex-shrink-0",children:Se.coverImage?t.jsx("img",{src:Se.coverImage,alt:Se.title,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 to-purple-500"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 line-clamp-1",children:Se.title}),t.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Wo,{className:"w-4 h-4"}),Se.authorName]}),t.jsx("span",{children:Se.createdAt}),t.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-xs",children:Se.category})]}),t.jsx("p",{className:"text-sm text-slate-500 mt-2 line-clamp-2",children:Se.excerpt})]}),fe(Se.status)]}),t.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-100",children:[t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[t.jsxs("span",{children:[Se.views," views"]}),t.jsxs("span",{children:[Se.likesCount," likes"]}),t.jsxs("span",{children:[Se.commentsCount," comments"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>f(Se),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:t.jsx(ao,{className:"w-4 h-4"})}),(Se.status==="pending"||Se.status==="draft")&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>Ne(Se.id),disabled:E===Se.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[E===Se.id?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):t.jsx(Go,{className:"w-4 h-4"}),Se.status==="draft"?"Publish":"Approve"]}),t.jsxs("button",{onClick:()=>{ce(Se.id),H(!0)},disabled:E===Se.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[t.jsx(en,{className:"w-4 h-4"}),"Reject"]})]}),Se.status==="published"&&t.jsxs("button",{onClick:()=>Be(Se.id),disabled:E===Se.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50",children:[E===Se.id?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):t.jsx(Yu,{className:"w-4 h-4"}),"Hide"]})]})]})]})]})},Se.id))}),c&&c.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-100",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing page ",c.page," of ",c.pages," (",c.total," total)"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>w(Se=>Math.max(1,Se-1)),disabled:!c.hasPrev,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(Oh,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>w(Se=>Math.min(c.pages,Se+1)),disabled:!c.hasNext,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(uc,{className:"w-4 h-4"})})]})]})]}),o&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Blog Details"}),t.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[o.coverImage&&t.jsx("img",{src:o.coverImage,alt:o.title,className:"w-full h-64 object-cover rounded-xl mb-6"}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[fe(o.status),t.jsx("span",{className:"px-2.5 py-1 bg-slate-100 rounded-full text-xs font-medium text-slate-600",children:o.category})]}),t.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-4",children:o.title}),t.jsxs("div",{className:"flex items-center gap-4 mb-6 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Wo,{className:"w-4 h-4"}),o.authorName]}),t.jsx("span",{children:o.createdAt})]}),t.jsx("div",{className:"prose prose-slate max-w-none",dangerouslySetInnerHTML:{__html:o.content}}),o.rejectionReason&&t.jsxs("div",{className:"mt-6 p-4 bg-red-50 rounded-xl border border-red-100",children:[t.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),t.jsx("p",{className:"text-red-600 text-sm",children:o.rejectionReason})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50",children:[(o.status==="pending"||o.status==="draft")&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>{Ne(o.id),f(null)},className:"px-4 py-2 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors",children:o.status==="draft"?"Publish":"Approve & Publish"}),t.jsx("button",{onClick:()=>{ce(o.id),H(!0),f(null)},className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors",children:"Reject"})]}),t.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Close"})]})]})}),J&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[t.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Reject Blog"})}),t.jsxs("div",{className:"p-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Reason for rejection (optional)"}),t.jsx("textarea",{value:K,onChange:Se=>Z(Se.target.value),placeholder:"Content does not meet community guidelines...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all resize-none",rows:4})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50 rounded-b-2xl",children:[t.jsx("button",{onClick:()=>{H(!1),ce(null),Z("")},className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:re,disabled:E!==null,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50",children:E?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):"Reject Blog"})]})]})})]})},u7=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,i]=W.useState(null),[c,u]=W.useState(null),[d,A]=W.useState(!0),[o,f]=W.useState(null),[m,p]=W.useState("pending"),[x,v]=W.useState(1),[y,w]=W.useState(null),[E,Q]=W.useState(!1),[K,Z]=W.useState(null),[J,H]=W.useState(""),[G,ce]=W.useState("none");W.useEffect(()=>{Ae()},[m,x]);const Ae=async()=>{A(!0);try{const Se=new URLSearchParams({page:x.toString(),per_page:"20"});m&&m!=="all"&&Se.append("status",m);const pe=await fetch(`${Ot}/api/blogs/admin/reports?${Se}`,{credentials:"include"});if(pe.ok){const ae=await pe.json();ae.success&&(r(ae.reports||[]),i(ae.stats||null),u(ae.pagination||null))}}catch(Se){console.error("Failed to fetch reports:",Se)}finally{A(!1)}},Ne=async Se=>{if(K){w(K.id);try{(await fetch(`${Ot}/api/blogs/admin/reports/${K.id}/review`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:G,adminNotes:J,status:Se})})).ok&&(Q(!1),Z(null),H(""),ce("none"),Ae())}catch(pe){console.error("Failed to review report:",pe)}finally{w(null)}}},re=Se=>{const pe={pending:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Vi,{className:"w-3 h-3"}),text:"Pending"},reviewed:{color:"bg-blue-100 text-blue-700",icon:t.jsx(ao,{className:"w-3 h-3"}),text:"Reviewed"},resolved:{color:"bg-green-100 text-green-700",icon:t.jsx(Co,{className:"w-3 h-3"}),text:"Resolved"},dismissed:{color:"bg-slate-100 text-slate-600",icon:t.jsx(du,{className:"w-3 h-3"}),text:"Dismissed"}},ae=pe[Se]||pe.pending;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${ae.color}`,children:[ae.icon,ae.text]})},Be=Se=>{const pe={spam:{color:"bg-orange-100 text-orange-700",text:"Spam"},inappropriate:{color:"bg-red-100 text-red-700",text:"Inappropriate"},harassment:{color:"bg-purple-100 text-purple-700",text:"Harassment"},misinformation:{color:"bg-blue-100 text-blue-700",text:"Misinformation"},other:{color:"bg-slate-100 text-slate-600",text:"Other"}},ae=pe[Se]||pe.other;return t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ae.color}`,children:ae.text})},fe=Se=>{if(!Se||Se==="none")return null;const ae={warning:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Oa,{className:"w-3 h-3"}),text:"Warning Sent"},hidden:{color:"bg-orange-100 text-orange-700",icon:t.jsx(Yu,{className:"w-3 h-3"}),text:"Content Hidden"},deleted:{color:"bg-red-100 text-red-700",icon:t.jsx(Xo,{className:"w-3 h-3"}),text:"Content Deleted"}}[Se];return ae?t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${ae.color}`,children:[ae.icon,ae.text]}):null};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[t.jsx(Up,{className:"w-7 h-7 text-red-600"}),"Blog Reports"]}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Review and manage user-reported blog content"})]})}),n&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900",children:n.total}),t.jsx("div",{className:"text-sm text-slate-500",children:"Total Reports"})]}),t.jsxs("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-100",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:n.pending}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Pending"})]}),t.jsxs("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-100",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-700",children:n.reviewed}),t.jsx("div",{className:"text-sm text-blue-600",children:"Reviewed"})]}),t.jsxs("div",{className:"bg-green-50 rounded-2xl p-4 border border-green-100",children:[t.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.resolved}),t.jsx("div",{className:"text-sm text-green-600",children:"Resolved"})]}),t.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-700",children:n.dismissed}),t.jsx("div",{className:"text-sm text-slate-500",children:"Dismissed"})]})]}),t.jsx("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(bj,{className:"w-5 h-5 text-slate-400"}),t.jsxs("select",{value:m,onChange:Se=>{p(Se.target.value),v(1)},className:"px-4 py-2.5 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all",children:[t.jsx("option",{value:"all",children:"All Reports"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"reviewed",children:"Reviewed"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"dismissed",children:"Dismissed"})]})]})}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[d?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Ir,{className:"w-8 h-8 text-red-600 animate-spin"})}):e.length===0?t.jsxs("div",{className:"text-center py-20",children:[t.jsx(Up,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No reports found"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"All clear! No reports match your filters."})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:e.map(Se=>t.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[re(Se.status),Be(Se.reason),fe(Se.actionTaken)]}),t.jsxs("h3",{className:"font-semibold text-slate-900 mt-2 flex items-center gap-2",children:[t.jsx(kd,{className:"w-4 h-4 text-slate-400"}),Se.blogTitle]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Wo,{className:"w-4 h-4"}),"Reported by: ",Se.reporterName]}),t.jsxs("span",{children:["Blog Author: ",Se.blogAuthorName]}),t.jsx("span",{children:Se.createdAt})]}),Se.description&&t.jsxs("p",{className:"text-sm text-slate-600 mt-2 bg-slate-50 p-3 rounded-lg",children:['"',Se.description,'"']}),Se.adminNotes&&t.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[t.jsx("p",{className:"text-xs font-medium text-blue-700 mb-1",children:"Admin Notes:"}),t.jsx("p",{className:"text-sm text-blue-600",children:Se.adminNotes}),Se.reviewerName&&t.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["Reviewed by ",Se.reviewerName," on ",Se.reviewedAt]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>f(Se),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:t.jsx(ao,{className:"w-4 h-4"})}),Se.status==="pending"&&t.jsxs("button",{onClick:()=>{Z(Se),Q(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors",children:[t.jsx(Vd,{className:"w-4 h-4"}),"Review"]})]})]})},Se.id))}),c&&c.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-100",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing page ",c.page," of ",c.pages," (",c.total," total)"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>v(Se=>Math.max(1,Se-1)),disabled:!c.hasPrev,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(Oh,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>v(Se=>Math.min(c.pages,Se+1)),disabled:!c.hasNext,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(uc,{className:"w-4 h-4"})})]})]})]}),o&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Report Details"}),t.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(en,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)] space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[re(o.status),Be(o.reason),fe(o.actionTaken)]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-1",children:"Reported Blog"}),t.jsx("p",{className:"font-semibold text-slate-900",children:o.blogTitle}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["By ",o.blogAuthorName]})]}),t.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-1",children:"Reporter"}),t.jsx("p",{className:"font-semibold text-slate-900",children:o.reporterName}),t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.createdAt})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Report Reason"}),t.jsxs("p",{className:"text-slate-600 bg-red-50 p-4 rounded-xl",children:[t.jsx("span",{className:"font-medium",children:o.reason}),o.description&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("span",{className:"text-sm mt-2 block",children:o.description})]})]})]}),o.adminNotes&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Admin Notes"}),t.jsx("p",{className:"text-slate-600 bg-blue-50 p-4 rounded-xl",children:o.adminNotes}),o.reviewerName&&t.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Reviewed by ",o.reviewerName," on ",o.reviewedAt]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50",children:[o.status==="pending"&&t.jsx("button",{onClick:()=>{Z(o),Q(!0),f(null)},className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors",children:"Take Action"}),t.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Close"})]})]})}),E&&K&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Review Report"}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Report on: ",K.blogTitle]})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Action to take"}),t.jsxs("select",{value:G,onChange:Se=>ce(Se.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all",children:[t.jsx("option",{value:"none",children:"No action needed"}),t.jsx("option",{value:"warning",children:"Send warning to author"}),t.jsx("option",{value:"hidden",children:"Hide the blog post"}),t.jsx("option",{value:"deleted",children:"Delete the blog post"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Admin notes"}),t.jsx("textarea",{value:J,onChange:Se=>H(Se.target.value),placeholder:"Add notes about this report...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all resize-none",rows:4})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50 rounded-b-2xl",children:[t.jsx("button",{onClick:()=>{Q(!1),Z(null),H(""),ce("none")},className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>Ne("dismissed"),disabled:y!==null,className:"px-4 py-2 bg-slate-600 text-white font-medium rounded-xl hover:bg-slate-700 transition-colors disabled:opacity-50",children:"Dismiss"}),t.jsx("button",{onClick:()=>Ne("resolved"),disabled:y!==null,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:y?t.jsx(Ir,{className:"w-4 h-4 animate-spin"}):"Resolve"})]})]})})]})},A7=({user:s,onSwitchToUser:e,onLogout:r})=>{const[n,i]=W.useState("Home"),[c,u]=W.useState(!1),d=o=>{console.log("Admin updated profile:",o)},A=()=>{switch(n){case"Home":return t.jsx(FR,{onNavigate:i});case"Info Blog":return t.jsx(QR,{onNavigate:i});case"Blog Moderation":return t.jsx(d7,{});case"Blog Reports":return t.jsx(u7,{});case"Subscription":return t.jsx(_R,{});case"Advertisement":return t.jsx(PR,{});case"Login Hero":return t.jsx(HR,{});case"Notifications":return t.jsx(zR,{});case"Admin Chat":return t.jsx(WR,{});case"Support Tickets":return t.jsx(KR,{});case"Admin Messages":return t.jsx($R,{});case"Plan Managment":return t.jsx(qR,{});case"Voucher Managment":return t.jsx(YR,{});case"Inquiries":return t.jsx(c7,{});case"User":return t.jsx(MR,{});case"Email Verification":return t.jsx(LR,{});case"Place":return t.jsx(OR,{});case"Trip":return t.jsx(DR,{});case"Trip Item":return t.jsx(IR,{});case"Settings":return t.jsx(RR,{user:s,onUpdateUser:d});default:return t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-12 text-center shadow-sm min-h-[400px] flex flex-col items-center justify-center animate-in fade-in duration-300",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center mb-4",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:n}),t.jsx("p",{className:"text-slate-500 max-w-sm mx-auto mb-6",children:"This module is currently in development."}),t.jsx("button",{onClick:()=>i("Home"),className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors",children:"Back to Dashboard"})]})}};return t.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans text-slate-600",children:[t.jsx("div",{className:"md:hidden fixed top-4 right-20 z-50",children:t.jsx("button",{onClick:()=>u(!c),className:"p-2 bg-white rounded-lg shadow border border-slate-200 text-slate-700",children:t.jsx(yj,{size:24})})}),t.jsx("div",{className:`${c?"flex fixed inset-0 z-40 bg-white/95 p-0":"hidden"} md:flex md:relative`,children:t.jsx(ER,{activeItem:n,onNavigate:o=>{i(o),u(!1)},onSwitchToUser:e,onLogout:r})}),t.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[t.jsx(TR,{user:s,onLogout:r,onNavigate:i}),t.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:[t.jsx("div",{className:"max-w-7xl mx-auto flex flex-col gap-6 animate-in fade-in duration-300",children:A()}),t.jsxs("footer",{className:"py-8 text-center text-xs text-slate-400",children:[" ",new Date().getFullYear()," GogoTrip Admin Panel."]})]})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jv=function(){return jv=Object.assign||function(s){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i]);return s},jv.apply(this,arguments)},Nv,h7=function(s){var e;s?(function(r){if(r)for(;r.lastChild;)r.lastChild.remove()})(typeof s=="string"?document.getElementById(s):s):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},f7=function(s,e){h7(e),window.___grecaptcha_cfg=void 0;var r=document.querySelector("#"+s);r&&r.remove(),(function(){var n=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');n&&n.remove()})()},m7=function(s){var e=s.render,r=s.onLoadCallbackName,n=s.language,i=s.onLoad,c=s.useRecaptchaNet,u=s.useEnterprise,d=s.scriptProps,A=d===void 0?{}:d,o=A.nonce,f=o===void 0?"":o,m=A.defer,p=m!==void 0&&m,x=A.async,v=x!==void 0&&x,y=A.id,w=y===void 0?"":y,E=A.appendTo,Q=w||"google-recaptcha-v3";if((function(J){return!!document.querySelector("#"+J)})(Q))i();else{var K=(function(J){return"https://www."+(J.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(J.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:u,useRecaptchaNet:c}),Z=document.createElement("script");Z.id=Q,Z.src=K+"?render="+e+(e==="explicit"?"&onload="+r:"")+(n?"&hl="+n:""),f&&(Z.nonce=f),Z.defer=!!p,Z.async=!!v,Z.onload=i,(E==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(Z)}},Xw=function(s){console.warn(s)};(function(s){s.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Nv||(Nv={}));var B1=W.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});B1.Consumer;function p7(s){var e=s.reCaptchaKey,r=s.useEnterprise,n=r!==void 0&&r,i=s.useRecaptchaNet,c=i!==void 0&&i,u=s.scriptProps,d=s.language,A=s.container,o=s.children,f=W.useState(null),m=f[0],p=f[1],x=W.useRef(e),v=JSON.stringify(u),y=JSON.stringify(A==null?void 0:A.parameters);W.useEffect((function(){if(e){var Q=(u==null?void 0:u.id)||"google-recaptcha-v3",K=(u==null?void 0:u.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[K]=function(){var Z=n?window.grecaptcha.enterprise:window.grecaptcha,J=jv({badge:"inline",size:"invisible",sitekey:e},(A==null?void 0:A.parameters)||{});x.current=Z.render(A==null?void 0:A.element,J)},m7({render:A!=null&&A.element?"explicit":e,onLoadCallbackName:K,useEnterprise:n,useRecaptchaNet:c,scriptProps:u,language:d,onLoad:function(){if(window&&window.grecaptcha){var Z=n?window.grecaptcha.enterprise:window.grecaptcha;Z.ready((function(){p(Z)}))}else Xw("<GoogleRecaptchaProvider /> "+Nv.SCRIPT_NOT_AVAILABLE)}}),function(){f7(Q,A==null?void 0:A.element)}}Xw("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[n,c,v,y,d,e,A==null?void 0:A.element]);var w=W.useCallback((function(Q){if(!m||!m.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return m.execute(x.current,{action:Q})}),[m,x]),E=W.useMemo((function(){return{executeRecaptcha:m?w:void 0,container:A==null?void 0:A.element}}),[w,m,A==null?void 0:A.element]);return Sc.createElement(B1.Provider,{value:E},o)}var g7=function(){return W.useContext(B1)};function Q4(s,e){return s(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var Ac=typeof Symbol=="function"&&Symbol.for,Cv=Ac?Symbol.for("react.element"):60103,Bv=Ac?Symbol.for("react.portal"):60106,vp=Ac?Symbol.for("react.fragment"):60107,yp=Ac?Symbol.for("react.strict_mode"):60108,wp=Ac?Symbol.for("react.profiler"):60114,jp=Ac?Symbol.for("react.provider"):60109,Np=Ac?Symbol.for("react.context"):60110,kv=Ac?Symbol.for("react.async_mode"):60111,Eg=Ac?Symbol.for("react.concurrent_mode"):60111,Cp=Ac?Symbol.for("react.forward_ref"):60112,Bp=Ac?Symbol.for("react.suspense"):60113,x7=Ac?Symbol.for("react.suspense_list"):60120,kp=Ac?Symbol.for("react.memo"):60115,Sp=Ac?Symbol.for("react.lazy"):60116,b7=Ac?Symbol.for("react.block"):60121,v7=Ac?Symbol.for("react.fundamental"):60117,y7=Ac?Symbol.for("react.responder"):60118,w7=Ac?Symbol.for("react.scope"):60119;function Pd(s){if(typeof s=="object"&&s!==null){var e=s.$$typeof;switch(e){case Cv:switch(s=s.type){case kv:case Eg:case vp:case wp:case yp:case Bp:return s;default:switch(s=s&&s.$$typeof){case Np:case Cp:case Sp:case kp:case jp:return s;default:return e}}case Bv:return e}}}function Jw(s){return Pd(s)===Eg}var j7={AsyncMode:kv,ConcurrentMode:Eg,ContextConsumer:Np,ContextProvider:jp,Element:Cv,ForwardRef:Cp,Fragment:vp,Lazy:Sp,Memo:kp,Portal:Bv,Profiler:wp,StrictMode:yp,Suspense:Bp,isAsyncMode:function(s){return Jw(s)||Pd(s)===kv},isConcurrentMode:Jw,isContextConsumer:function(s){return Pd(s)===Np},isContextProvider:function(s){return Pd(s)===jp},isElement:function(s){return typeof s=="object"&&s!==null&&s.$$typeof===Cv},isForwardRef:function(s){return Pd(s)===Cp},isFragment:function(s){return Pd(s)===vp},isLazy:function(s){return Pd(s)===Sp},isMemo:function(s){return Pd(s)===kp},isPortal:function(s){return Pd(s)===Bv},isProfiler:function(s){return Pd(s)===wp},isStrictMode:function(s){return Pd(s)===yp},isSuspense:function(s){return Pd(s)===Bp},isValidElementType:function(s){return typeof s=="string"||typeof s=="function"||s===vp||s===Eg||s===wp||s===yp||s===Bp||s===x7||typeof s=="object"&&s!==null&&(s.$$typeof===Sp||s.$$typeof===kp||s.$$typeof===jp||s.$$typeof===Np||s.$$typeof===Cp||s.$$typeof===v7||s.$$typeof===y7||s.$$typeof===w7||s.$$typeof===b7)},typeOf:Pd},Mi=Q4((function(s,e){})),Zw=(Mi.AsyncMode,Mi.ConcurrentMode,Mi.ContextConsumer,Mi.ContextProvider,Mi.Element,Mi.ForwardRef,Mi.Fragment,Mi.Lazy,Mi.Memo,Mi.Portal,Mi.Profiler,Mi.StrictMode,Mi.Suspense,Mi.isAsyncMode,Mi.isConcurrentMode,Mi.isContextConsumer,Mi.isContextProvider,Mi.isElement,Mi.isForwardRef,Mi.isFragment,Mi.isLazy,Mi.isMemo,Mi.isPortal,Mi.isProfiler,Mi.isStrictMode,Mi.isSuspense,Mi.isValidElementType,Mi.typeOf,Q4((function(s){s.exports=j7}))),N7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qw={};qw[Zw.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qw[Zw.Memo]=N7;const _4=Sc.memo(({config:s})=>{const[e,r]=W.useState(0),n=(i,c)=>c||i.startsWith("/proxy_image")?`${Ot}${i}`:i;return W.useEffect(()=>{if(!s||s.displayMode==="single"||!s.autoPlay)return;const i=setInterval(()=>{r(c=>(c+1)%s.images.length)},s.transitionInterval*1e3);return()=>clearInterval(i)},[s]),s?t.jsxs("div",{className:"hidden lg:flex lg:w-1/2 flex-shrink-0 relative overflow-hidden",children:[s.displayMode==="single"?t.jsx("img",{src:n(s.images[0].url,s.images[0].isProxy),alt:s.images[0].alt,className:"absolute inset-0 w-full h-full object-cover"}):s.images.map((i,c)=>t.jsx("img",{src:n(i.url,i.isProxy),alt:i.alt,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ${c===e?"opacity-100":"opacity-0"}`},`hero-img-${c}`)),s.enableGradient&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/60 via-slate-900/40 to-transparent"}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-start justify-end p-16 text-white z-10",children:[s.title&&t.jsx("h1",{className:"text-5xl font-black leading-tight mb-4 max-w-xl drop-shadow-2xl",children:s.title}),s.description&&t.jsx("p",{className:"text-lg text-white/90 max-w-md leading-relaxed drop-shadow-lg",children:s.description})]})]}):t.jsx("div",{className:"hidden lg:flex lg:w-1/2 flex-shrink-0 relative overflow-hidden bg-gradient-to-br from-slate-200 to-slate-300",children:t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"text-slate-400 text-sm",children:"Loading..."})})})});_4.displayName="HeroSection";const C7=({email:s,onRedirect:e})=>{const[r,n]=W.useState(3);return W.useEffect(()=>{const i=setInterval(()=>{n(c=>c<=1?(clearInterval(i),setTimeout(e,500),0):c-1)},1e3);return()=>clearInterval(i)},[e]),t.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50",children:t.jsxs("div",{className:"max-w-md w-full",children:[t.jsx("div",{className:"text-center mb-8 animate-in zoom-in-95 fade-in duration-500",children:t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full blur-3xl opacity-30 animate-pulse"}),t.jsx("div",{className:"relative bg-gradient-to-br from-green-500 to-emerald-600 w-32 h-32 rounded-full flex items-center justify-center shadow-2xl",children:t.jsx(Bo,{className:"w-16 h-16 text-white animate-in zoom-in duration-300 delay-200"})}),t.jsx("div",{className:"absolute -top-2 -right-2 animate-in zoom-in duration-300 delay-300",children:t.jsx(co,{className:"w-8 h-8 text-yellow-400"})}),t.jsx("div",{className:"absolute -bottom-2 -left-2 animate-in zoom-in duration-300 delay-400",children:t.jsx(g3,{className:"w-8 h-8 text-pink-400"})})]})}),t.jsxs("div",{className:"text-center space-y-4 animate-in fade-in-up duration-500 delay-300",children:[t.jsx("h1",{className:"text-4xl font-black text-slate-900 mb-2",children:"Email Verified! "}),t.jsx("p",{className:"text-lg text-slate-600 font-medium",children:"Welcome aboard! Your account has been successfully verified."}),t.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-sm border border-green-200 rounded-xl",children:t.jsxs("p",{className:"text-sm text-slate-700",children:[t.jsx("strong",{className:"text-green-700",children:s})," is now verified and ready to go!"]})})]}),t.jsx("div",{className:"mt-8 text-center animate-in fade-in duration-500 delay-500",children:t.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 bg-white/80 backdrop-blur-sm border border-slate-200 rounded-full shadow-lg",children:[t.jsx(Ir,{className:"w-5 h-5 text-green-600 animate-spin"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Redirecting in ",t.jsx("span",{className:"text-green-600 font-bold text-lg",children:r}),"s..."]})]})}),t.jsx("div",{className:"mt-6 text-center animate-in fade-in duration-500 delay-700",children:t.jsx("button",{onClick:e,className:"text-sm text-slate-600 hover:text-slate-900 font-medium underline decoration-dotted underline-offset-4",children:"Skip waiting and go now "})})]})})},B7=()=>t.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-blue-50 via-sky-50 to-cyan-50",children:t.jsxs("div",{className:"max-w-md w-full text-center",children:[t.jsx("div",{className:"mb-8 animate-in zoom-in-95 fade-in duration-500",children:t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"w-32 h-32 rounded-full border-8 border-blue-100 border-t-blue-600 animate-spin"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(Vd,{className:"w-12 h-12 text-blue-600 animate-pulse"})})]})}),t.jsxs("div",{className:"space-y-4 animate-in fade-in-up duration-500 delay-200",children:[t.jsx("h2",{className:"text-3xl font-black text-slate-900",children:"Verifying Your Email..."}),t.jsx("p",{className:"text-lg text-slate-600",children:"Please wait while we confirm your account."}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500 mt-6",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})}),k7=({email:s,token:e,verificationConfig:r,onVerified:n,onResend:i,onBack:c})=>{const[u,d]=W.useState(""),[A,o]=W.useState(!1),[f,m]=W.useState(null),[p,x]=W.useState(null),[v,y]=W.useState(!1),[w,E]=W.useState(0),[Q,K]=W.useState(e),[Z,J]=W.useState(!1),H=W.useRef(null),G=W.useRef(null);W.useEffect(()=>{if(w>0){const Ne=setTimeout(()=>{E(re=>re-1)},1e3);return()=>clearTimeout(Ne)}},[w]),W.useEffect(()=>{try{G.current=new BroadcastChannel("gogotrip_verification"),G.current.onmessage=re=>{re.data.type==="VERIFICATION_COMPLETE"&&re.data.email===s&&(console.log(" Received verification complete from another tab"),x(" Email verified in another tab! Redirecting..."),setTimeout(()=>{re.data.user&&n(re.data.user)},1500))}}catch{console.log("BroadcastChannel not supported, using polling only")}const Ne=async()=>{try{J(!0);const Be=await(await fetch(`${Ot}/auth/check-verification-status`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s,token:Q})})).json();Be.verified&&Be.user&&(console.log(" Email verified detected via polling"),x(" Email verified! Redirecting..."),G.current&&G.current.postMessage({type:"VERIFICATION_COMPLETE",email:s,user:Be.user}),H.current&&clearInterval(H.current),setTimeout(()=>{n(Be.user)},1500))}catch(re){console.log("Status check failed:",re)}finally{J(!1)}};return H.current=setInterval(Ne,5e3),()=>{H.current&&clearInterval(H.current),G.current&&G.current.close()}},[s,Q,n]);const ce=async Ne=>{if(Ne.preventDefault(),!u||u.length!==r.codeLength){m(`Please enter a ${r.codeLength}-digit code`);return}o(!0),m(null);try{const Be=await(await fetch(`${Ot}/auth/signup-verify-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:Q,code:u})})).json();Be.status==="success"?(x(" Email verified successfully!"),G.current&&G.current.postMessage({type:"VERIFICATION_COMPLETE",email:s,user:Be.user}),setTimeout(()=>{n(Be.user)},1500)):m(Be.message||"Verification failed")}catch{m("Network error. Please try again.")}finally{o(!1)}},Ae=async()=>{var Ne;if(!(w>0||v)){y(!0),m(null),x(null);try{const re=await i();if(re.success)re.token&&K(re.token),x(" Verification email sent! Check your inbox."),E(60);else{if((Ne=re.message)!=null&&Ne.includes("wait")){const Be=re.message.match(/(\d+)/);Be&&E(parseInt(Be[1]))}m(re.message||"Failed to resend")}}catch{m("Failed to resend verification email")}finally{y(!1)}}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Gd,{className:"w-8 h-8 text-white"})}),t.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:"Verify Your Email"}),t.jsxs("p",{className:"text-slate-600",children:["We've sent a verification code to",t.jsx("br",{}),t.jsx("strong",{className:"text-slate-900",children:s})]})]}),f&&t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(Oa,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-red-700",children:f})]}),p&&t.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(Bo,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-green-700",children:p})]}),Z&&t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),t.jsx("span",{children:"Checking verification status..."})]}),t.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"Verification Code"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",required:!0,value:u,onChange:Ne=>{const re=Ne.target.value.toUpperCase();r.codeType==="numeric"?/^\d*$/.test(re)&&d(re):d(re)},maxLength:r.codeLength,placeholder:`Enter ${r.codeLength}-digit code`,className:"w-full bg-white border border-slate-200 rounded-xl py-4 px-4 font-mono text-2xl tracking-[0.5em] text-center font-bold focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all uppercase"})}),t.jsx("p",{className:"text-xs text-slate-500 text-center mt-2",children:"Enter the code from your email or click the verification link"})]}),t.jsx("button",{type:"submit",disabled:A||u.length!==r.codeLength,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:A?t.jsx(Ir,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:["Verify Email",t.jsx(MA,{className:"w-4 h-4"})]})})]}),t.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Didn't receive the email?"}),t.jsx("button",{type:"button",onClick:Ae,disabled:v||w>0,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${w>0?"bg-slate-100 text-slate-400 cursor-not-allowed":v?"bg-slate-100 text-slate-500":"bg-sky-50 text-sky-600 hover:bg-sky-100"}`,children:v?t.jsxs(t.Fragment,{children:[t.jsx(Ir,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):w>0?t.jsxs(t.Fragment,{children:[t.jsx(Vi,{className:"w-4 h-4"}),"Resend in ",w,"s"]}):t.jsxs(t.Fragment,{children:[t.jsx(id,{className:"w-4 h-4"}),"Resend Code"]})})]}),t.jsx("div",{className:"text-center",children:t.jsx("button",{type:"button",onClick:c,className:"text-sm text-slate-500 hover:text-slate-700 font-medium",children:" Back to Sign Up"})})]})},S7=({onLogin:s})=>{const[e,r]=W.useState("LOGIN"),[n,i]=W.useState(!1),[c,u]=W.useState(null),[d,A]=W.useState(null),[o,f]=W.useState(!1),[m,p]=W.useState({codeType:"numeric",codeLength:6,expiryMinutes:10}),[x,v]=W.useState(null),[y,w]=W.useState(""),[E,Q]=W.useState(""),[K,Z]=W.useState(""),[J,H]=W.useState(!1),[G,ce]=W.useState(!1),{executeRecaptcha:Ae}=g7(),[Ne,re]=W.useState(null),[Be,fe]=W.useState({name:"",email:"",password:"",verificationCode:""}),[Se,pe]=W.useState({hasLength:!1,hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpecial:!1}),[ae,de]=W.useState(!1),oe=W.useRef(!1),Ee=ut=>{const et={hasLength:ut.length>=8,hasUpper:/[A-Z]/.test(ut),hasLower:/[a-z]/.test(ut),hasNumber:/[0-9]/.test(ut),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(ut)};pe(et),de(Object.values(et).every(Boolean))};W.useEffect(()=>{e==="SIGNUP"?Ee(Be.password):e==="FORGOT_VERIFY"&&Ee(E)},[Be.password,E,e]),W.useEffect(()=>{(async()=>{try{const Lt=await(await fetch(`${Ot}/api/login-hero/active`)).json();Lt.status==="success"&&Lt.config&&re(Lt.config)}catch(et){console.error("Failed to load hero config:",et),re({displayMode:"single",transitionInterval:5,autoPlay:!0,imageSource:"url",enableGradient:!0,images:[{url:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?auto=format&fit=crop&q=80&w=2000",alt:"Travel"}],title:"Plan your next great adventure in seconds.",subtitle:null,description:"Join thousands of travelers using AI to craft the perfect itinerary, track expenses, and explore the world."})}})()},[]),W.useEffect(()=>{if(oe.current)return;const ut=new URLSearchParams(window.location.search),et=ut.get("token"),Lt=ut.get("error");if(Lt){Lt==="account_suspended"?u("Your account has been suspended. Please contact support."):Lt==="account_deleted"?u("This account has been deleted."):Lt==="oauth_failed"&&u("Google login failed. Please try again."),window.history.replaceState({},"",window.location.pathname);return}et&&(console.log(" Detected token in URL, starting One-Click verification..."),oe.current=!0,r("VERIFYING"),Re(et))},[]);const Re=async ut=>{try{console.log(" Starting One-Click verification...");const Lt=await(await fetch(`${Ot}/auth/verify-onetap`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:ut})})).json();if(console.log(" Token info:",Lt),Lt.status!=="success")throw new Error(Lt.message||"Invalid verification link");const ls=await(await fetch(`${Ot}/auth/signup-verify-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:ut,code:Lt.data.code})})).json();if(console.log(" Verification result:",ls),ls.status==="success"){w(Lt.data.email),window.history.replaceState({},"",window.location.pathname),r("VERIFIED");try{const vt=new BroadcastChannel("gogotrip_verification");vt.postMessage({type:"VERIFICATION_COMPLETE",email:Lt.data.email,user:ls.user}),vt.close()}catch{console.log("BroadcastChannel not available")}setTimeout(()=>{s(ls.user)},3e3)}else throw new Error(ls.message||"Verification failed")}catch(et){console.error(" One-Click verification failed:",et),r("LOGIN"),u(et.message||"Verification link expired or invalid. Please try again.")}},ke=W.useCallback(()=>{y&&console.log("Redirecting...")},[y]),me=()=>{i(!0),u(null),window.location.href=`${Ot}/authorize`},we=async ut=>{if(ut.preventDefault(),!ae){u("Password is too weak. Please follow the requirements below.");return}if(Be.password!==K){u("Passwords do not match.");return}if(!Be.email||!Be.password||!Be.name){u("Please fill in all fields.");return}i(!0),u(null),A(null);try{if(!Ae){u("reCAPTCHA not ready"),i(!1);return}const et=await Ae("signup"),ns=await(await fetch(`${Ot}/auth/send-code-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:Be.email,password:Be.password,name:Be.name,code_type:m.codeType,code_length:m.codeLength,expiry_minutes:m.expiryMinutes,recaptcha_token:et})})).json();ns.status==="success"?(v(ns.token),r("VERIFY")):u(ns.message||"Failed to send code")}catch{u("Network error. Please try again.")}finally{i(!1)}},ue=async()=>{try{if(!Ae)return{success:!1,message:"reCAPTCHA not ready"};const ut=await Ae("resend"),Lt=await(await fetch(`${Ot}/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:Be.email,token:x,recaptcha_token:ut})})).json();return Lt.status==="success"?{success:!0,token:Lt.token}:{success:!1,message:Lt.message}}catch{return{success:!1,message:"Network error"}}},te=async ut=>{ut.preventDefault(),i(!0),u(null);try{const Lt=await(await fetch(`${Ot}/auth/login-email`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:Be.email,password:Be.password})})).json();Lt.status==="success"?s(Lt.user):Lt.needs_verification?u("Please verify your email first. Check your inbox for the verification link."):u(Lt.message||"Login failed")}catch{u("Network error. Please try again.")}finally{i(!1)}},ge=async ut=>{ut.preventDefault(),i(!0),u(null),A(null);try{if(!Ae){u("reCAPTCHA not ready"),i(!1);return}const et=await Ae("forgot_password"),ns=await(await fetch(`${Ot}/auth/forgot-password/send-code-v2`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:Be.email,code_type:m.codeType,code_length:m.codeLength,expiry_minutes:m.expiryMinutes,recaptcha_token:et})})).json();ns.status==="success"?(v(ns.token),r("FORGOT_VERIFY"),A(` Verification code sent to ${Be.email}!`)):u(ns.message||"Failed to send code")}catch{u("Network error. Please try again.")}finally{i(!1)}},Me=async ut=>{if(ut.preventDefault(),!ae){u("Password is too weak.");return}if(E!==K){u("Passwords do not match.");return}i(!0),u(null);try{const Lt=await(await fetch(`${Ot}/auth/reset-password-v2`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:x,code:Be.verificationCode,new_password:E})})).json();Lt.status==="success"?(A(" Password reset successful! Please login."),setTimeout(()=>r("LOGIN"),2e3)):u(Lt.message||"Reset failed")}catch{u("Network error. Please try again.")}finally{i(!1)}},Ve=()=>t.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-br from-blue-50 to-sky-50 rounded-xl border border-sky-200",children:[t.jsxs("button",{type:"button",onClick:()=>f(!o),className:"w-full flex items-center justify-between text-sm font-bold text-slate-700 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vd,{className:"w-4 h-4 text-sky-600"}),t.jsx("span",{children:"Verification Options"})]}),t.jsx("span",{className:"text-xs text-sky-600",children:o?" Hide":" Customize"})]}),o&&t.jsxs("div",{className:"space-y-4 animate-in fade-in-down",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(Yy,{className:"w-3 h-3"}),"Code Type"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["numeric","alphanumeric","alpha"].map(ut=>t.jsxs("button",{type:"button",onClick:()=>p(et=>({...et,codeType:ut})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${m.codeType===ut?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[ut==="numeric"&&"123456",ut==="alphanumeric"&&"A1B2C3",ut==="alpha"&&"ABCDEF"]},ut))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(Yy,{className:"w-3 h-3"}),"Code Length"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[4,6,8].map(ut=>t.jsxs("button",{type:"button",onClick:()=>p(et=>({...et,codeLength:ut})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${m.codeLength===ut?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[ut," digits"]},ut))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-3 h-3"}),"Expiry Time"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[5,10,15].map(ut=>t.jsxs("button",{type:"button",onClick:()=>p(et=>({...et,expiryMinutes:ut})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${m.expiryMinutes===ut?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[ut," min"]},ut))})]})]})]}),Nt=()=>t.jsxs("div",{className:"mt-2 space-y-2",children:[t.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Password Requirements:"}),Object.entries({hasLength:"At least 8 characters",hasUpper:"One uppercase letter",hasLower:"One lowercase letter",hasNumber:"One number",hasSpecial:"One special character (!@#$...)"}).map(([ut,et])=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[Se[ut]?t.jsx(Go,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):t.jsx(en,{className:"w-4 h-4 text-slate-300 flex-shrink-0"}),t.jsx("span",{className:Se[ut]?"text-green-700 font-medium":"text-slate-500",children:et})]},ut))]});return e==="VERIFYING"?t.jsx(B7,{}):e==="VERIFIED"?t.jsx(C7,{email:y,onRedirect:ke}):t.jsxs("div",{className:"min-h-screen flex overflow-hidden bg-slate-50",children:[t.jsx(_4,{config:Ne}),t.jsx("div",{className:"flex-1 min-w-0 flex items-center justify-center p-6 lg:p-12 relative overflow-y-auto",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsxs("h2",{className:"text-3xl font-black text-slate-900 mb-2",children:[e==="LOGIN"&&"Welcome Back",e==="SIGNUP"&&"Create Account",e==="VERIFY"&&"Verify Your Email",e==="FORGOT"&&"Reset Password",e==="FORGOT_VERIFY"&&"Reset Password"]}),t.jsxs("p",{className:"text-slate-500 font-medium",children:[e==="LOGIN"&&"Sign in to continue your journey",e==="SIGNUP"&&"Start planning your next adventure",e==="VERIFY"&&"Check your email for the verification code",e==="FORGOT"&&"Enter your email to receive a reset code",e==="FORGOT_VERIFY"&&"Enter code and new password"]})]}),c&&e!=="VERIFY"&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(Oa,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-red-700",children:c})]}),d&&e!=="VERIFY"&&t.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(Bo,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-green-700",children:d})]}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8 shadow-xl",children:[e==="VERIFY"&&x&&t.jsx(k7,{email:Be.email,token:x,verificationConfig:m,onVerified:s,onResend:ue,onBack:()=>{r("SIGNUP"),u(null),A(null)}}),e==="FORGOT_VERIFY"&&t.jsxs("form",{onSubmit:Me,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"Verification Code"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",required:!0,value:Be.verificationCode,onChange:ut=>{const et=ut.target.value.toUpperCase();m.codeType==="numeric"?/^\d*$/.test(et)&&fe({...Be,verificationCode:et}):fe({...Be,verificationCode:et})},maxLength:m.codeLength,placeholder:`Enter ${m.codeLength}-digit code`,className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-12 font-mono text-lg tracking-widest text-center font-bold focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all uppercase"}),t.jsx(Vd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Sd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:J?"text":"password",required:!0,value:E,onChange:ut=>Q(ut.target.value),placeholder:"",className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${!ae&&E.length>0?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>H(!J),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:J?t.jsx(Yu,{className:"w-5 h-5"}):t.jsx(ao,{className:"w-5 h-5"})})]}),t.jsx(Nt,{})]}),ae&&t.jsxs("div",{className:"space-y-1 animate-in fade-in-down",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Sd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:G?"text":"password",required:!0,value:K,onChange:ut=>Z(ut.target.value),placeholder:"Confirm password",className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${K.length>0&&K!==E?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>ce(!G),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:G?t.jsx(Yu,{className:"w-5 h-5"}):t.jsx(ao,{className:"w-5 h-5"})})]}),K.length>0&&K!==E&&t.jsx("p",{className:"text-xs text-red-500 font-bold ml-1",children:"Passwords do not match"})]}),t.jsx("button",{type:"submit",disabled:n||!ae||E!==K,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?t.jsx(Ir,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:["Reset Password",t.jsx(MA,{className:"w-4 h-4"})]})})]}),e==="FORGOT"&&t.jsxs("form",{onSubmit:ge,className:"space-y-6",children:[t.jsx(Ve,{}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",required:!0,value:Be.email,onChange:ut=>fe({...Be,email:ut.target.value}),placeholder:"you@example.com",className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsx("button",{type:"submit",disabled:n,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?t.jsx(Ir,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:["Send Reset Code",t.jsx(MA,{className:"w-4 h-4"})]})}),t.jsx("button",{type:"button",onClick:()=>{r("LOGIN"),u(null)},className:"w-full text-sm text-sky-600 font-bold hover:underline",children:" Back to Login"})]}),(e==="LOGIN"||e==="SIGNUP")&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{type:"button",onClick:me,disabled:n,className:"w-full py-3.5 bg-white border border-slate-200 rounded-xl font-bold text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center justify-center gap-3 relative group overflow-hidden",children:[t.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5 relative z-10"}),t.jsx("span",{className:"relative z-10",children:"Continue with Google"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-slate-200"})}),t.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:t.jsx("span",{className:"bg-white px-2 text-slate-400 font-bold",children:"Or continue with email"})})]}),e==="SIGNUP"&&t.jsx(Ve,{}),t.jsxs("form",{onSubmit:e==="LOGIN"?te:we,className:"space-y-4",children:[e==="SIGNUP"&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Wo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",required:!0,value:Be.name,onChange:ut=>fe({...Be,name:ut.target.value}),placeholder:"John Doe",className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",required:!0,value:Be.email,onChange:ut=>fe({...Be,email:ut.target.value}),placeholder:"you@example.com",className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Sd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:J?"text":"password",required:!0,value:Be.password,onChange:ut=>fe({...Be,password:ut.target.value}),placeholder:"",className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${e==="SIGNUP"&&!ae&&Be.password.length>0?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>H(!J),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:J?t.jsx(Yu,{className:"w-5 h-5"}):t.jsx(ao,{className:"w-5 h-5"})})]}),e==="SIGNUP"&&t.jsx(Nt,{})]}),e==="SIGNUP"&&ae&&t.jsxs("div",{className:"space-y-1 animate-in fade-in-down",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Sd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:G?"text":"password",required:!0,value:K,onChange:ut=>Z(ut.target.value),placeholder:"Confirm password",className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${K.length>0&&K!==Be.password?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>ce(!G),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:G?t.jsx(Yu,{className:"w-5 h-5"}):t.jsx(ao,{className:"w-5 h-5"})})]}),K.length>0&&K!==Be.password&&t.jsx("p",{className:"text-xs text-red-500 font-bold ml-1",children:"Passwords do not match"})]}),e==="LOGIN"&&t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"button",onClick:()=>{r("FORGOT"),u(null),A(null)},className:"text-sm font-bold text-sky-600 hover:text-sky-500",children:"Forgot password?"})}),t.jsx("button",{type:"submit",disabled:n||e==="SIGNUP"&&(!ae||Be.password!==K),className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-4",children:n?t.jsx(Ir,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[e==="LOGIN"?"Sign In":"Create Account",t.jsx(MA,{className:"w-4 h-4"})]})})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-slate-500 font-medium text-sm",children:[e==="LOGIN"?"Don't have an account? ":"Already have an account? ",t.jsx("button",{onClick:()=>{r(e==="LOGIN"?"SIGNUP":"LOGIN"),u(null),A(null),fe({...Be,password:"",verificationCode:""}),Z(""),H(!1),ce(!1),pe({hasLength:!1,hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpecial:!1})},className:"text-sky-600 font-bold hover:underline",children:e==="LOGIN"?"Sign Up":"Log In"})]}),t.jsxs("div",{className:"mt-4 text-[10px] text-slate-400",children:["This site is protected by reCAPTCHA and the Google",t.jsx("a",{href:"https://policies.google.com/privacy",className:"underline ml-1",children:"Privacy Policy"})," and",t.jsx("a",{href:"https://policies.google.com/terms",className:"underline ml-1",children:"Terms of Service"})," apply."]})]})]})]})]})})]})},E7=()=>{const[s,e]=W.useState(null),[r,n]=W.useState(!1),[i,c]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const A=await fetch(`${Ot}/check_login_status`,{credentials:"include"});if(A.ok){const o=await A.json();if(o.logged_in&&o.user){const f={...o.user,role:Sg(o.user.role||o.role)};e(f),yv(f.role)&&n(!0)}}}catch(A){console.error("Auth check failed:",A)}finally{c(!1)}})()},[]);const u=async()=>{try{await fetch(`${Ot}/auth/logout`,{method:"POST",credentials:"include"})}catch(d){console.error("Logout request failed",d)}finally{e(null),n(!1),window.location.href="/"}};return i?t.jsx("div",{className:"h-screen flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),t.jsx("span",{className:"text-slate-500 text-sm",children:"Loading..."})]})}):s?t.jsx(qT,{userId:s.id,isAuthenticated:!!s,children:r?t.jsx(A7,{user:s,onSwitchToUser:()=>n(!1),onLogout:u}):t.jsx(SR,{user:s,onLogout:u,onSwitchToAdmin:()=>n(!0)})}):t.jsx(p7,{reCaptchaKey:"6LewjjUsAAAAAKFHuvd4JdyTZ06TK14FTHZSZSTF",scriptProps:{async:!1,defer:!1,appendTo:"head"},children:t.jsx(S7,{onLogin:d=>{const A={...d,role:Sg(d.role)};e(A),yv(A.role)&&n(!0)}})})},P4=document.getElementById("root");if(!P4)throw new Error("Root not found");const T7=KC.createRoot(P4);T7.render(t.jsx(Sc.StrictMode,{children:t.jsx(PB,{children:t.jsx(E7,{})})}));
