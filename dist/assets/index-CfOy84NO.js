var L4=Object.defineProperty;var F4=(s,e,r)=>e in s?L4(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var Va=(s,e,r)=>F4(s,typeof e!="symbol"?e+"":e,r);function U4(s,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in s)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(s,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Jx={exports:{}},Op={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function M4(){if(tw)return Op;tw=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:s,type:n,key:u,ref:a!==void 0?a:null,props:l}}return Op.Fragment=e,Op.jsx=r,Op.jsxs=r,Op}var sw;function O4(){return sw||(sw=1,Jx.exports=M4()),Jx.exports}var t=O4(),Zx={exports:{}},Jn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function I4(){if(rw)return Jn;rw=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function x(Se){return Se===null||typeof Se!="object"?null:(Se=m&&Se[m]||Se["@@iterator"],typeof Se=="function"?Se:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function E(Se,he,be){this.props=Se,this.context=he,this.refs=y,this.updater=be||b}E.prototype.isReactComponent={},E.prototype.setState=function(Se,he){if(typeof Se!="object"&&typeof Se!="function"&&Se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Se,he,"setState")},E.prototype.forceUpdate=function(Se){this.updater.enqueueForceUpdate(this,Se,"forceUpdate")};function P(){}P.prototype=E.prototype;function z(Se,he,be){this.props=Se,this.context=he,this.refs=y,this.updater=be||b}var X=z.prototype=new P;X.constructor=z,w(X,E.prototype),X.isPureReactComponent=!0;var Y=Array.isArray;function Q(){}var K={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function ue(Se,he,be){var fe=be.ref;return{$$typeof:s,type:Se,key:he,ref:fe!==void 0?fe:null,props:be}}function ve(Se,he){return ue(Se.type,he,Se.props)}function le(Se){return typeof Se=="object"&&Se!==null&&Se.$$typeof===s}function Ce(Se){var he={"=":"=0",":":"=2"};return"$"+Se.replace(/[=:]/g,function(be){return he[be]})}var oe=/\/+/g;function Ne(Se,he){return typeof Se=="object"&&Se!==null&&Se.key!=null?Ce(""+Se.key):he.toString(36)}function Ae(Se){switch(Se.status){case"fulfilled":return Se.value;case"rejected":throw Se.reason;default:switch(typeof Se.status=="string"?Se.then(Q,Q):(Se.status="pending",Se.then(function(he){Se.status==="pending"&&(Se.status="fulfilled",Se.value=he)},function(he){Se.status==="pending"&&(Se.status="rejected",Se.reason=he)})),Se.status){case"fulfilled":return Se.value;case"rejected":throw Se.reason}}throw Se}function se(Se,he,be,fe,te){var ge=typeof Se;(ge==="undefined"||ge==="boolean")&&(Se=null);var Ue=!1;if(Se===null)Ue=!0;else switch(ge){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(Se.$$typeof){case s:case e:Ue=!0;break;case f:return Ue=Se._init,se(Ue(Se._payload),he,be,fe,te)}}if(Ue)return te=te(Se),Ue=fe===""?"."+Ne(Se,0):fe,Y(te)?(be="",Ue!=null&&(be=Ue.replace(oe,"$&/")+"/"),se(te,he,be,"",function(Bt){return Bt})):te!=null&&(le(te)&&(te=ve(te,be+(te.key==null||Se&&Se.key===te.key?"":(""+te.key).replace(oe,"$&/")+"/")+Ue)),he.push(te)),1;Ue=0;var Ve=fe===""?".":fe+":";if(Y(Se))for(var kt=0;kt<Se.length;kt++)fe=Se[kt],ge=Ve+Ne(fe,kt),Ue+=se(fe,he,be,ge,te);else if(kt=x(Se),typeof kt=="function")for(Se=kt.call(Se),kt=0;!(fe=Se.next()).done;)fe=fe.value,ge=Ve+Ne(fe,kt++),Ue+=se(fe,he,be,ge,te);else if(ge==="object"){if(typeof Se.then=="function")return se(Ae(Se),he,be,fe,te);throw he=String(Se),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(Se).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function pe(Se,he,be){if(Se==null)return Se;var fe=[],te=0;return se(Se,fe,"","",function(ge){return he.call(be,ge,te++)}),fe}function re(Se){if(Se._status===-1){var he=Se._result;he=he(),he.then(function(be){(Se._status===0||Se._status===-1)&&(Se._status=1,Se._result=be)},function(be){(Se._status===0||Se._status===-1)&&(Se._status=2,Se._result=be)}),Se._status===-1&&(Se._status=0,Se._result=he)}if(Se._status===1)return Se._result.default;throw Se._result}var Ee=typeof reportError=="function"?reportError:function(Se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Se=="object"&&Se!==null&&typeof Se.message=="string"?String(Se.message):String(Se),error:Se});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Se);return}console.error(Se)},De={map:pe,forEach:function(Se,he,be){pe(Se,function(){he.apply(this,arguments)},be)},count:function(Se){var he=0;return pe(Se,function(){he++}),he},toArray:function(Se){return pe(Se,function(he){return he})||[]},only:function(Se){if(!le(Se))throw Error("React.Children.only expected to receive a single React element child.");return Se}};return Jn.Activity=p,Jn.Children=De,Jn.Component=E,Jn.Fragment=r,Jn.Profiler=a,Jn.PureComponent=z,Jn.StrictMode=n,Jn.Suspense=A,Jn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Jn.__COMPILER_RUNTIME={__proto__:null,c:function(Se){return K.H.useMemoCache(Se)}},Jn.cache=function(Se){return function(){return Se.apply(null,arguments)}},Jn.cacheSignal=function(){return null},Jn.cloneElement=function(Se,he,be){if(Se==null)throw Error("The argument must be a React element, but you passed "+Se+".");var fe=w({},Se.props),te=Se.key;if(he!=null)for(ge in he.key!==void 0&&(te=""+he.key),he)!de.call(he,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&he.ref===void 0||(fe[ge]=he[ge]);var ge=arguments.length-2;if(ge===1)fe.children=be;else if(1<ge){for(var Ue=Array(ge),Ve=0;Ve<ge;Ve++)Ue[Ve]=arguments[Ve+2];fe.children=Ue}return ue(Se.type,te,fe)},Jn.createContext=function(Se){return Se={$$typeof:u,_currentValue:Se,_currentValue2:Se,_threadCount:0,Provider:null,Consumer:null},Se.Provider=Se,Se.Consumer={$$typeof:l,_context:Se},Se},Jn.createElement=function(Se,he,be){var fe,te={},ge=null;if(he!=null)for(fe in he.key!==void 0&&(ge=""+he.key),he)de.call(he,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(te[fe]=he[fe]);var Ue=arguments.length-2;if(Ue===1)te.children=be;else if(1<Ue){for(var Ve=Array(Ue),kt=0;kt<Ue;kt++)Ve[kt]=arguments[kt+2];te.children=Ve}if(Se&&Se.defaultProps)for(fe in Ue=Se.defaultProps,Ue)te[fe]===void 0&&(te[fe]=Ue[fe]);return ue(Se,ge,te)},Jn.createRef=function(){return{current:null}},Jn.forwardRef=function(Se){return{$$typeof:d,render:Se}},Jn.isValidElement=le,Jn.lazy=function(Se){return{$$typeof:f,_payload:{_status:-1,_result:Se},_init:re}},Jn.memo=function(Se,he){return{$$typeof:o,type:Se,compare:he===void 0?null:he}},Jn.startTransition=function(Se){var he=K.T,be={};K.T=be;try{var fe=Se(),te=K.S;te!==null&&te(be,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Q,Ee)}catch(ge){Ee(ge)}finally{he!==null&&be.types!==null&&(he.types=be.types),K.T=he}},Jn.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Jn.use=function(Se){return K.H.use(Se)},Jn.useActionState=function(Se,he,be){return K.H.useActionState(Se,he,be)},Jn.useCallback=function(Se,he){return K.H.useCallback(Se,he)},Jn.useContext=function(Se){return K.H.useContext(Se)},Jn.useDebugValue=function(){},Jn.useDeferredValue=function(Se,he){return K.H.useDeferredValue(Se,he)},Jn.useEffect=function(Se,he){return K.H.useEffect(Se,he)},Jn.useEffectEvent=function(Se){return K.H.useEffectEvent(Se)},Jn.useId=function(){return K.H.useId()},Jn.useImperativeHandle=function(Se,he,be){return K.H.useImperativeHandle(Se,he,be)},Jn.useInsertionEffect=function(Se,he){return K.H.useInsertionEffect(Se,he)},Jn.useLayoutEffect=function(Se,he){return K.H.useLayoutEffect(Se,he)},Jn.useMemo=function(Se,he){return K.H.useMemo(Se,he)},Jn.useOptimistic=function(Se,he){return K.H.useOptimistic(Se,he)},Jn.useReducer=function(Se,he,be){return K.H.useReducer(Se,he,be)},Jn.useRef=function(Se){return K.H.useRef(Se)},Jn.useState=function(Se){return K.H.useState(Se)},Jn.useSyncExternalStore=function(Se,he,be){return K.H.useSyncExternalStore(Se,he,be)},Jn.useTransition=function(){return K.H.useTransition()},Jn.version="19.2.3",Jn}var nw;function C0(){return nw||(nw=1,Zx.exports=I4()),Zx.exports}var W=C0();const Lc=Kg(W),D4=U4({__proto__:null,default:Lc},[W]);var qx={exports:{}},Ip={},eb={exports:{}},tb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function P4(){return aw||(aw=1,(function(s){function e(se,pe){var re=se.length;se.push(pe);e:for(;0<re;){var Ee=re-1>>>1,De=se[Ee];if(0<a(De,pe))se[Ee]=pe,se[re]=De,re=Ee;else break e}}function r(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var pe=se[0],re=se.pop();if(re!==pe){se[0]=re;e:for(var Ee=0,De=se.length,Se=De>>>1;Ee<Se;){var he=2*(Ee+1)-1,be=se[he],fe=he+1,te=se[fe];if(0>a(be,re))fe<De&&0>a(te,be)?(se[Ee]=te,se[fe]=re,Ee=fe):(se[Ee]=be,se[he]=re,Ee=he);else if(fe<De&&0>a(te,re))se[Ee]=te,se[fe]=re,Ee=fe;else break e}}return pe}function a(se,pe){var re=se.sortIndex-pe.sortIndex;return re!==0?re:se.id-pe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();s.unstable_now=function(){return u.now()-d}}var A=[],o=[],f=1,p=null,m=3,x=!1,b=!1,w=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function X(se){for(var pe=r(o);pe!==null;){if(pe.callback===null)n(o);else if(pe.startTime<=se)n(o),pe.sortIndex=pe.expirationTime,e(A,pe);else break;pe=r(o)}}function Y(se){if(w=!1,X(se),!b)if(r(A)!==null)b=!0,Q||(Q=!0,Ce());else{var pe=r(o);pe!==null&&Ae(Y,pe.startTime-se)}}var Q=!1,K=-1,de=5,ue=-1;function ve(){return y?!0:!(s.unstable_now()-ue<de)}function le(){if(y=!1,Q){var se=s.unstable_now();ue=se;var pe=!0;try{e:{b=!1,w&&(w=!1,P(K),K=-1),x=!0;var re=m;try{t:{for(X(se),p=r(A);p!==null&&!(p.expirationTime>se&&ve());){var Ee=p.callback;if(typeof Ee=="function"){p.callback=null,m=p.priorityLevel;var De=Ee(p.expirationTime<=se);if(se=s.unstable_now(),typeof De=="function"){p.callback=De,X(se),pe=!0;break t}p===r(A)&&n(A),X(se)}else n(A);p=r(A)}if(p!==null)pe=!0;else{var Se=r(o);Se!==null&&Ae(Y,Se.startTime-se),pe=!1}}break e}finally{p=null,m=re,x=!1}pe=void 0}}finally{pe?Ce():Q=!1}}}var Ce;if(typeof z=="function")Ce=function(){z(le)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ne=oe.port2;oe.port1.onmessage=le,Ce=function(){Ne.postMessage(null)}}else Ce=function(){E(le,0)};function Ae(se,pe){K=E(function(){se(s.unstable_now())},pe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(se){se.callback=null},s.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<se?Math.floor(1e3/se):5},s.unstable_getCurrentPriorityLevel=function(){return m},s.unstable_next=function(se){switch(m){case 1:case 2:case 3:var pe=3;break;default:pe=m}var re=m;m=pe;try{return se()}finally{m=re}},s.unstable_requestPaint=function(){y=!0},s.unstable_runWithPriority=function(se,pe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var re=m;m=se;try{return pe()}finally{m=re}},s.unstable_scheduleCallback=function(se,pe,re){var Ee=s.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ee+re:Ee):re=Ee,se){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=re+De,se={id:f++,callback:pe,priorityLevel:se,startTime:re,expirationTime:De,sortIndex:-1},re>Ee?(se.sortIndex=re,e(o,se),r(A)===null&&se===r(o)&&(w?(P(K),K=-1):w=!0,Ae(Y,re-Ee))):(se.sortIndex=De,e(A,se),b||x||(b=!0,Q||(Q=!0,Ce()))),se},s.unstable_shouldYield=ve,s.unstable_wrapCallback=function(se){var pe=m;return function(){var re=m;m=pe;try{return se.apply(this,arguments)}finally{m=re}}}})(tb)),tb}var iw;function R4(){return iw||(iw=1,eb.exports=P4()),eb.exports}var sb={exports:{}},$c={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function Q4(){if(ow)return $c;ow=1;var s=C0();function e(A){var o="https://react.dev/errors/"+A;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+A+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(A,o,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:A,containerInfo:o,implementation:f}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(A,o){if(A==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return $c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,$c.createPortal=function(A,o){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(e(299));return l(A,o,null,f)},$c.flushSync=function(A){var o=u.T,f=n.p;try{if(u.T=null,n.p=2,A)return A()}finally{u.T=o,n.p=f,n.d.f()}},$c.preconnect=function(A,o){typeof A=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,n.d.C(A,o))},$c.prefetchDNS=function(A){typeof A=="string"&&n.d.D(A)},$c.preinit=function(A,o){if(typeof A=="string"&&o&&typeof o.as=="string"){var f=o.as,p=d(f,o.crossOrigin),m=typeof o.integrity=="string"?o.integrity:void 0,x=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;f==="style"?n.d.S(A,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:x}):f==="script"&&n.d.X(A,{crossOrigin:p,integrity:m,fetchPriority:x,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},$c.preinitModule=function(A,o){if(typeof A=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var f=d(o.as,o.crossOrigin);n.d.M(A,{crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&n.d.M(A)},$c.preload=function(A,o){if(typeof A=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var f=o.as,p=d(f,o.crossOrigin);n.d.L(A,f,{crossOrigin:p,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},$c.preloadModule=function(A,o){if(typeof A=="string")if(o){var f=d(o.as,o.crossOrigin);n.d.m(A,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else n.d.m(A)},$c.requestFormReset=function(A){n.d.r(A)},$c.unstable_batchedUpdates=function(A,o){return A(o)},$c.useFormState=function(A,o,f){return u.H.useFormState(A,o,f)},$c.useFormStatus=function(){return u.H.useHostTransitionStatus()},$c.version="19.2.3",$c}var lw;function Vj(){if(lw)return sb.exports;lw=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),sb.exports=Q4(),sb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function _4(){if(cw)return Ip;cw=1;var s=R4(),e=C0(),r=Vj();function n(i){var c="https://react.dev/errors/"+i;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var c=i,h=i;if(i.alternate)for(;c.return;)c=c.return;else{i=c;do c=i,(c.flags&4098)!==0&&(h=c.return),i=c.return;while(i)}return c.tag===3?h:null}function u(i){if(i.tag===13){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function d(i){if(i.tag===31){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function A(i){if(l(i)!==i)throw Error(n(188))}function o(i){var c=i.alternate;if(!c){if(c=l(i),c===null)throw Error(n(188));return c!==i?null:i}for(var h=i,g=c;;){var O=h.return;if(O===null)break;var _=O.alternate;if(_===null){if(g=O.return,g!==null){h=g;continue}break}if(O.child===_.child){for(_=O.child;_;){if(_===h)return A(O),i;if(_===g)return A(O),c;_=_.sibling}throw Error(n(188))}if(h.return!==g.return)h=O,g=_;else{for(var ye=!1,ze=O.child;ze;){if(ze===h){ye=!0,h=O,g=_;break}if(ze===g){ye=!0,g=O,h=_;break}ze=ze.sibling}if(!ye){for(ze=_.child;ze;){if(ze===h){ye=!0,h=_,g=O;break}if(ze===g){ye=!0,g=_,h=O;break}ze=ze.sibling}if(!ye)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?i:c}function f(i){var c=i.tag;if(c===5||c===26||c===27||c===6)return i;for(i=i.child;i!==null;){if(c=f(i),c!==null)return c;i=i.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function Ce(i){return i===null||typeof i!="object"?null:(i=le&&i[le]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Symbol.for("react.client.reference");function Ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===oe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case E:return"Profiler";case y:return"StrictMode";case Y:return"Suspense";case Q:return"SuspenseList";case ue:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case z:return i.displayName||"Context";case P:return(i._context.displayName||"Context")+".Consumer";case X:var c=i.render;return i=i.displayName,i||(i=c.displayName||c.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return c=i.displayName||null,c!==null?c:Ne(i.type)||"Memo";case de:c=i._payload,i=i._init;try{return Ne(i(c))}catch{}}return null}var Ae=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ee=[],De=-1;function Se(i){return{current:i}}function he(i){0>De||(i.current=Ee[De],Ee[De]=null,De--)}function be(i,c){De++,Ee[De]=i.current,i.current=c}var fe=Se(null),te=Se(null),ge=Se(null),Ue=Se(null);function Ve(i,c){switch(be(ge,c),be(te,i),be(fe,null),c.nodeType){case 9:case 11:i=(i=c.documentElement)&&(i=i.namespaceURI)?N1(i):0;break;default:if(i=c.tagName,c=c.namespaceURI)c=N1(c),i=k1(c,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}he(fe),be(fe,i)}function kt(){he(fe),he(te),he(ge)}function Bt(i){i.memoizedState!==null&&be(Ue,i);var c=fe.current,h=k1(c,i.type);c!==h&&(be(te,i),be(fe,h))}function We(i){te.current===i&&(he(fe),he(te)),Ue.current===i&&(he(Ue),Tp._currentValue=re)}var Ut,Vt;function ls(i){if(Ut===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Ut=c&&c[1]||"",Vt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+i+Vt}var Fs=!1;function Re(i,c){if(!i||Fs)return"";Fs=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Is=function(){throw Error()};if(Object.defineProperty(Is.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Is,[])}catch(ds){var as=ds}Reflect.construct(i,[],Is)}else{try{Is.call()}catch(ds){as=ds}i.call(Is.prototype)}}else{try{throw Error()}catch(ds){as=ds}(Is=i())&&typeof Is.catch=="function"&&Is.catch(function(){})}}catch(ds){if(ds&&as&&typeof ds.stack=="string")return[ds.stack,as.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=g.DetermineComponentFrameRoot(),ye=_[0],ze=_[1];if(ye&&ze){var mt=ye.split(`
`),ns=ze.split(`
`);for(O=g=0;g<mt.length&&!mt[g].includes("DetermineComponentFrameRoot");)g++;for(;O<ns.length&&!ns[O].includes("DetermineComponentFrameRoot");)O++;if(g===mt.length||O===ns.length)for(g=mt.length-1,O=ns.length-1;1<=g&&0<=O&&mt[g]!==ns[O];)O--;for(;1<=g&&0<=O;g--,O--)if(mt[g]!==ns[O]){if(g!==1||O!==1)do if(g--,O--,0>O||mt[g]!==ns[O]){var Es=`
`+mt[g].replace(" at new "," at ");return i.displayName&&Es.includes("<anonymous>")&&(Es=Es.replace("<anonymous>",i.displayName)),Es}while(1<=g&&0<=O);break}}}finally{Fs=!1,Error.prepareStackTrace=h}return(h=i?i.displayName||i.name:"")?ls(h):""}function ut(i,c){switch(i.tag){case 26:case 27:case 5:return ls(i.type);case 16:return ls("Lazy");case 13:return i.child!==c&&c!==null?ls("Suspense Fallback"):ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return Re(i.type,!1);case 11:return Re(i.type.render,!1);case 1:return Re(i.type,!0);case 31:return ls("Activity");default:return""}}function St(i){try{var c="",h=null;do c+=ut(i,h),h=i,i=i.return;while(i);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Os=Object.prototype.hasOwnProperty,hs=s.unstable_scheduleCallback,vr=s.unstable_cancelCallback,hr=s.unstable_shouldYield,ir=s.unstable_requestPaint,Ds=s.unstable_now,Ss=s.unstable_getCurrentPriorityLevel,Ls=s.unstable_ImmediatePriority,rr=s.unstable_UserBlockingPriority,xr=s.unstable_NormalPriority,en=s.unstable_LowPriority,wr=s.unstable_IdlePriority,tr=s.log,Xs=s.unstable_setDisableYieldValue,Ts=null,ft=null;function $t(i){if(typeof tr=="function"&&Xs(i),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Ts,i)}catch{}}var ks=Math.clz32?Math.clz32:wt,Gs=Math.log,lr=Math.LN2;function wt(i){return i>>>=0,i===0?32:31-(Gs(i)/lr|0)|0}var qt=256,As=262144,fs=4194304;function Vs(i){var c=i&42;if(c!==0)return c;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ks(i,c,h){var g=i.pendingLanes;if(g===0)return 0;var O=0,_=i.suspendedLanes,ye=i.pingedLanes;i=i.warmLanes;var ze=g&134217727;return ze!==0?(g=ze&~_,g!==0?O=Vs(g):(ye&=ze,ye!==0?O=Vs(ye):h||(h=ze&~i,h!==0&&(O=Vs(h))))):(ze=g&~_,ze!==0?O=Vs(ze):ye!==0?O=Vs(ye):h||(h=g&~i,h!==0&&(O=Vs(h)))),O===0?0:c!==0&&c!==O&&(c&_)===0&&(_=O&-O,h=c&-c,_>=h||_===32&&(h&4194048)!==0)?c:O}function pr(i,c){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&c)===0}function rn(i,c){switch(i){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ya(){var i=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),i}function La(i){for(var c=[],h=0;31>h;h++)c.push(i);return c}function ps(i,c){i.pendingLanes|=c,c!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xs(i,c,h,g,O,_){var ye=i.pendingLanes;i.pendingLanes=h,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=h,i.entangledLanes&=h,i.errorRecoveryDisabledLanes&=h,i.shellSuspendCounter=0;var ze=i.entanglements,mt=i.expirationTimes,ns=i.hiddenUpdates;for(h=ye&~h;0<h;){var Es=31-ks(h),Is=1<<Es;ze[Es]=0,mt[Es]=-1;var as=ns[Es];if(as!==null)for(ns[Es]=null,Es=0;Es<as.length;Es++){var ds=as[Es];ds!==null&&(ds.lane&=-536870913)}h&=~Is}g!==0&&cs(i,g,0),_!==0&&O===0&&i.tag!==0&&(i.suspendedLanes|=_&~(ye&~c))}function cs(i,c,h){i.pendingLanes|=c,i.suspendedLanes&=~c;var g=31-ks(c);i.entangledLanes|=c,i.entanglements[g]=i.entanglements[g]|1073741824|h&261930}function fr(i,c){var h=i.entangledLanes|=c;for(i=i.entanglements;h;){var g=31-ks(h),O=1<<g;O&c|i[g]&c&&(i[g]|=c),h&=~O}}function $r(i,c){var h=c&-c;return h=(h&42)!==0?1:Ps(h),(h&(i.suspendedLanes|c))!==0?0:h}function Ps(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function wa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Vn(){var i=pe.p;return i!==0?i:(i=window.event,i===void 0?32:W1(i.type))}function sa(i,c){var h=pe.p;try{return pe.p=i,c()}finally{pe.p=h}}var an=Math.random().toString(36).slice(2),Rr="__reactFiber$"+an,Gn="__reactProps$"+an,Kn="__reactContainer$"+an,ti="__reactEvents$"+an,On="__reactListeners$"+an,mc="__reactHandles$"+an,li="__reactResources$"+an,Fo="__reactMarker$"+an;function Kl(i){delete i[Rr],delete i[Gn],delete i[ti],delete i[On],delete i[mc]}function Ao(i){var c=i[Rr];if(c)return c;for(var h=i.parentNode;h;){if(c=h[Kn]||h[Rr]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(i=F1(i);i!==null;){if(h=i[Rr])return h;i=F1(i)}return c}i=h,h=i.parentNode}return null}function fa(i){if(i=i[Rr]||i[Kn]){var c=i.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return i}return null}function ki(i){var c=i.tag;if(c===5||c===26||c===27||c===6)return i.stateNode;throw Error(n(33))}function ra(i){var c=i[li];return c||(c=i[li]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Fa(i){i[Fo]=!0}var qn=new Set,ho={};function hi(i,c){Ci(i,c),Ci(i+"Capture",c)}function Ci(i,c){for(ho[i]=c,i=0;i<c.length;i++)qn.add(c[i])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},Ll={};function ga(i){return Os.call(Ll,i)?!0:Os.call(el,i)?!1:hl.test(i)?Ll[i]=!0:(el[i]=!0,!1)}function ja(i,c,h){if(ga(c))if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":i.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){i.removeAttribute(c);return}}i.setAttribute(c,""+h)}}function fo(i,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttribute(c,""+h)}}function si(i,c,h,g){if(g===null)i.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(h);return}i.setAttributeNS(c,h,""+g)}}function Di(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function fi(i){var c=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Wr(i,c,h){var g=Object.getOwnPropertyDescriptor(i.constructor.prototype,c);if(!i.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var O=g.get,_=g.set;return Object.defineProperty(i,c,{configurable:!0,get:function(){return O.call(this)},set:function(ye){h=""+ye,_.call(this,ye)}}),Object.defineProperty(i,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(ye){h=""+ye},stopTracking:function(){i._valueTracker=null,delete i[c]}}}}function Ka(i){if(!i._valueTracker){var c=fi(i)?"checked":"value";i._valueTracker=Wr(i,c,""+i[c])}}function Bi(i){if(!i)return!1;var c=i._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return i&&(g=fi(i)?i.checked?"true":"false":i.value),i=g,i!==h?(c.setValue(i),!0):!1}function Qa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var po=/[\n"\\]/g;function Wn(i){return i.replace(po,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ki(i,c,h,g,O,_,ye,ze){i.name="",ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"?i.type=ye:i.removeAttribute("type"),c!=null?ye==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+Di(c)):i.value!==""+Di(c)&&(i.value=""+Di(c)):ye!=="submit"&&ye!=="reset"||i.removeAttribute("value"),c!=null?Pa(i,ye,Di(c)):h!=null?Pa(i,ye,Di(h)):g!=null&&i.removeAttribute("value"),O==null&&_!=null&&(i.defaultChecked=!!_),O!=null&&(i.checked=O&&typeof O!="function"&&typeof O!="symbol"),ze!=null&&typeof ze!="function"&&typeof ze!="symbol"&&typeof ze!="boolean"?i.name=""+Di(ze):i.removeAttribute("name")}function Ga(i,c,h,g,O,_,ye,ze){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),c!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||c!=null)){Ka(i);return}h=h!=null?""+Di(h):"",c=c!=null?""+Di(c):h,ze||c===i.value||(i.value=c),i.defaultValue=c}g=g??O,g=typeof g!="function"&&typeof g!="symbol"&&!!g,i.checked=ze?i.checked:!!g,i.defaultChecked=!!g,ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"&&(i.name=ye),Ka(i)}function Pa(i,c,h){c==="number"&&Qa(i.ownerDocument)===i||i.defaultValue===""+h||(i.defaultValue=""+h)}function pi(i,c,h,g){if(i=i.options,c){c={};for(var O=0;O<h.length;O++)c["$"+h[O]]=!0;for(h=0;h<i.length;h++)O=c.hasOwnProperty("$"+i[h].value),i[h].selected!==O&&(i[h].selected=O),O&&g&&(i[h].defaultSelected=!0)}else{for(h=""+Di(h),c=null,O=0;O<i.length;O++){if(i[O].value===h){i[O].selected=!0,g&&(i[O].defaultSelected=!0);return}c!==null||i[O].disabled||(c=i[O])}c!==null&&(c.selected=!0)}}function Uo(i,c,h){if(c!=null&&(c=""+Di(c),c!==i.value&&(i.value=c),h==null)){i.defaultValue!==c&&(i.defaultValue=c);return}i.defaultValue=h!=null?""+Di(h):""}function Si(i,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(n(92));if(Ae(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=Di(c),i.defaultValue=h,g=i.textContent,g===h&&g!==""&&g!==null&&(i.value=g),Ka(i)}function xa(i,c){if(c){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=c;return}}i.textContent=c}var mi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eo(i,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="":g?i.setProperty(c,h):typeof h!="number"||h===0||mi.has(c)?c==="float"?i.cssFloat=h:i[c]=(""+h).trim():i[c]=h+"px"}function Ei(i,c,h){if(c!=null&&typeof c!="object")throw Error(n(62));if(i=i.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?i.setProperty(g,""):g==="float"?i.cssFloat="":i[g]="");for(var O in c)g=c[O],c.hasOwnProperty(O)&&h[O]!==g&&eo(i,O,g)}else for(var _ in c)c.hasOwnProperty(_)&&eo(i,_,c[_])}function lo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function G(i){return U.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function J(){}var T=null;function M(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $=null,ie=null;function we(i){var c=fa(i);if(c&&(i=c.stateNode)){var h=i[Gn]||null;e:switch(i=c.stateNode,c.type){case"input":if(Ki(i,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Wn(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==i&&g.form===i.form){var O=g[Gn]||null;if(!O)throw Error(n(90));Ki(g,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===i.form&&Bi(g)}break e;case"textarea":Uo(i,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&pi(i,!!h.multiple,c,!1)}}}var Pe=!1;function Ze(i,c,h){if(Pe)return i(c,h);Pe=!0;try{var g=i(c);return g}finally{if(Pe=!1,($!==null||ie!==null)&&(Hl(),$&&(c=$,i=ie,ie=$=null,we(c),i)))for(c=0;c<i.length;c++)we(i[c])}}function N(i,c){var h=i.stateNode;if(h===null)return null;var g=h[Gn]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S=!1;if(v)try{var I={};Object.defineProperty(I,"passive",{get:function(){S=!0}}),window.addEventListener("test",I,I),window.removeEventListener("test",I,I)}catch{S=!1}var R=null,V=null,ce=null;function q(){if(ce)return ce;var i,c=V,h=c.length,g,O="value"in R?R.value:R.textContent,_=O.length;for(i=0;i<h&&c[i]===O[i];i++);var ye=h-i;for(g=1;g<=ye&&c[h-g]===O[_-g];g++);return ce=O.slice(i,1<g?1-g:void 0)}function ee(i){var c=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&c===13&&(i=13)):i=c,i===10&&(i=13),32<=i||i===13?i:0}function ke(){return!0}function Me(){return!1}function $e(i){function c(h,g,O,_,ye){this._reactName=h,this._targetInst=O,this.type=g,this.nativeEvent=_,this.target=ye,this.currentTarget=null;for(var ze in i)i.hasOwnProperty(ze)&&(h=i[ze],this[ze]=h?h(_):_[ze]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ke:Me,this.isPropagationStopped=Me,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ke)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ke)},persist:function(){},isPersistent:ke}),c}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=$e(Je),ct=p({},Je,{view:0,detail:0}),ot=$e(ct),At,Ye,yt,Pt=p({},ct,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yt&&(yt&&i.type==="mousemove"?(At=i.screenX-yt.screenX,Ye=i.screenY-yt.screenY):Ye=At=0,yt=i),At)},movementY:function(i){return"movementY"in i?i.movementY:Ye}}),gt=$e(Pt),Ge=p({},Pt,{dataTransfer:0}),Mt=$e(Ge),is=p({},ct,{relatedTarget:0}),Ht=$e(is),vt=p({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),es=$e(vt),Xe=p({},Je,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rt=$e(Xe),xt=p({},Je,{data:0}),bt=$e(xt),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},us={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ys={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kt(i){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(i):(i=ys[i])?!!c[i]:!1}function ms(){return Kt}var Js=p({},ct,{key:function(i){if(i.key){var c=rs[i.key]||i.key;if(c!=="Unidentified")return c}return i.type==="keypress"?(i=ee(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?us[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(i){return i.type==="keypress"?ee(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ee(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Hs=$e(Js),_e=p({},Pt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dt=$e(_e),ht=p({},ct,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),Ot=$e(ht),Rt=p({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yt=$e(Rt),gs=p({},Pt,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),bs=$e(gs),Us=p({},Je,{newState:0,oldState:0}),Zs=$e(Us),br=[9,13,27,32],gr=v&&"CompositionEvent"in window,Yr=null;v&&"documentMode"in document&&(Yr=document.documentMode);var tt=v&&"TextEvent"in window&&!Yr,cr=v&&(!gr||Yr&&8<Yr&&11>=Yr),un=" ",nr=!1;function zs(i,c){switch(i){case"keyup":return br.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tn(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yr=!1;function Vr(i,c){switch(i){case"compositionend":return tn(c);case"keypress":return c.which!==32?null:(nr=!0,un);case"textInput":return i=c.data,i===un&&nr?null:i;default:return null}}function Or(i,c){if(yr)return i==="compositionend"||!gr&&zs(i,c)?(i=q(),ce=V=R=null,yr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return cr&&c.locale!=="ko"?null:c.data;default:return null}}var Ca={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cn(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c==="input"?!!Ca[i.type]:c==="textarea"}function Cr(i,c,h,g){$?ie?ie.push(g):ie=[g]:$=g,c=_0(c,"onChange"),0<c.length&&(h=new xe("onChange","change",null,h,g),i.push({event:h,listeners:c}))}var _n=null,Xr=null;function Br(i){x1(i,0)}function nn(i){var c=ki(i);if(Bi(c))return i}function Ir(i,c){if(i==="change")return c}var bn=!1;if(v){var Yn;if(v){var Bn="oninput"in document;if(!Bn){var In=document.createElement("div");In.setAttribute("oninput","return;"),Bn=typeof In.oninput=="function"}Yn=Bn}else Yn=!1;bn=Yn&&(!document.documentMode||9<document.documentMode)}function Wa(){_n&&(_n.detachEvent("onpropertychange",Kr),Xr=_n=null)}function Kr(i){if(i.propertyName==="value"&&nn(Xr)){var c=[];Cr(c,Xr,i,M(i)),Ze(Br,c)}}function _a(i,c,h){i==="focusin"?(Wa(),_n=c,Xr=h,_n.attachEvent("onpropertychange",Kr)):i==="focusout"&&Wa()}function fn(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nn(Xr)}function _r(i,c){if(i==="click")return nn(c)}function Na(i,c){if(i==="input"||i==="change")return nn(c)}function wn(i,c){return i===c&&(i!==0||1/i===1/c)||i!==i&&c!==c}var or=typeof Object.is=="function"?Object.is:wn;function Ln(i,c){if(or(i,c))return!0;if(typeof i!="object"||i===null||typeof c!="object"||c===null)return!1;var h=Object.keys(i),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var O=h[g];if(!Os.call(c,O)||!or(i[O],c[O]))return!1}return!0}function Yc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pi(i,c){var h=Yc(i);i=0;for(var g;h;){if(h.nodeType===3){if(g=i+h.textContent.length,i<=c&&g>=c)return{node:h,offset:c-i};i=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Yc(h)}}function co(i,c){return i&&c?i===c?!0:i&&i.nodeType===3?!1:c&&c.nodeType===3?co(i,c.parentNode):"contains"in i?i.contains(c):i.compareDocumentPosition?!!(i.compareDocumentPosition(c)&16):!1:!1}function Gl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var c=Qa(i.document);c instanceof i.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)i=c.contentWindow;else break;c=Qa(i.document)}return c}function on(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c&&(c==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||c==="textarea"||i.contentEditable==="true")}var ci=v&&"documentMode"in document&&11>=document.documentMode,gi=null,tl=null,Mo=null,Ra=!1;function xi(i,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ra||gi==null||gi!==Qa(g)||(g=gi,"selectionStart"in g&&on(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Mo&&Ln(Mo,g)||(Mo=g,g=_0(tl,"onSelect"),0<g.length&&(c=new xe("onSelect","select",null,c,h),i.push({event:c,listeners:g}),c.target=gi)))}function di(i,c){var h={};return h[i.toLowerCase()]=c.toLowerCase(),h["Webkit"+i]="webkit"+c,h["Moz"+i]="moz"+c,h}var Fl={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},Ri={},fl={};v&&(fl=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function mo(i){if(Ri[i])return Ri[i];if(!Fl[i])return i;var c=Fl[i],h;for(h in c)if(c.hasOwnProperty(h)&&h in fl)return Ri[i]=c[h];return i}var Ul=mo("animationend"),Oo=mo("animationiteration"),pl=mo("animationstart"),Xc=mo("transitionrun"),ml=mo("transitionstart"),Io=mo("transitioncancel"),Fc=mo("transitionend"),Jc=new Map,gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gc.push("scrollEnd");function sl(i,c){Jc.set(i,c),hi(c,[i])}var Uc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Do=[],Ml=0,go=0;function xc(){for(var i=Ml,c=go=Ml=0;c<i;){var h=Do[c];Do[c++]=null;var g=Do[c];Do[c++]=null;var O=Do[c];Do[c++]=null;var _=Do[c];if(Do[c++]=null,g!==null&&O!==null){var ye=g.pending;ye===null?O.next=O:(O.next=ye.next,ye.next=O),g.pending=O}_!==0&&Jd(h,O,_)}}function Mc(i,c,h,g){Do[Ml++]=i,Do[Ml++]=c,Do[Ml++]=h,Do[Ml++]=g,go|=g,i.lanes|=g,i=i.alternate,i!==null&&(i.lanes|=g)}function Ad(i,c,h,g){return Mc(i,c,h,g),hd(i)}function Wl(i,c){return Mc(i,null,null,c),hd(i)}function Jd(i,c,h){i.lanes|=h;var g=i.alternate;g!==null&&(g.lanes|=h);for(var O=!1,_=i.return;_!==null;)_.childLanes|=h,g=_.alternate,g!==null&&(g.childLanes|=h),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(O=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,O&&c!==null&&(O=31-ks(h),i=_.hiddenUpdates,g=i[O],g===null?i[O]=[c]:g.push(c),c.lane=h|536870912),_):null}function hd(i){if(50<da)throw da=0,va=null,Error(n(185));for(var c=i.return;c!==null;)i=c,c=i.return;return i.tag===3?i.stateNode:null}var xo={};function Id(i,c,h,g){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(i,c,h,g){return new Id(i,c,h,g)}function An(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ol(i,c){var h=i.alternate;return h===null?(h=Po(i.tag,c,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=c,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&65011712,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,c=i.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h.refCleanup=i.refCleanup,h}function Yl(i,c){i.flags&=65011714;var h=i.alternate;return h===null?(i.childLanes=0,i.lanes=c,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,c=h.dependencies,i.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),i}function Xl(i,c,h,g,O,_){var ye=0;if(g=i,typeof i=="function")An(i)&&(ye=1);else if(typeof i=="string")ye=b4(i,h,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ue:return i=Po(31,h,c,O),i.elementType=ue,i.lanes=_,i;case w:return Oc(h.children,O,_,c);case y:ye=8,O|=24;break;case E:return i=Po(12,h,c,O|2),i.elementType=E,i.lanes=_,i;case Y:return i=Po(13,h,c,O),i.elementType=Y,i.lanes=_,i;case Q:return i=Po(19,h,c,O),i.elementType=Q,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:ye=10;break e;case P:ye=9;break e;case X:ye=11;break e;case K:ye=14;break e;case de:ye=16,g=null;break e}ye=29,h=Error(n(130,i===null?"null":typeof i,"")),g=null}return c=Po(ye,h,c,O),c.elementType=i,c.type=g,c.lanes=_,c}function Oc(i,c,h,g){return i=Po(7,i,g,c),i.lanes=h,i}function Il(i,c,h){return i=Po(6,i,null,c),i.lanes=h,i}function Gi(i){var c=Po(18,null,null,0);return c.stateNode=i,c}function Jl(i,c,h){return c=Po(4,i.children!==null?i.children:[],i.key,c),c.lanes=h,c.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},c}var fd=new WeakMap;function Wi(i,c){if(typeof i=="object"&&i!==null){var h=fd.get(i);return h!==void 0?h:(c={value:i,source:c,stack:St(c)},fd.set(i,c),c)}return{value:i,source:c,stack:St(c)}}var Zc=[],Ro=0,pd=null,Zl=0,bo=[],to=0,ql=null,gl=1,rl="";function xl(i,c){Zc[Ro++]=Zl,Zc[Ro++]=pd,pd=i,Zl=c}function gu(i,c,h){bo[to++]=gl,bo[to++]=rl,bo[to++]=ql,ql=i;var g=gl;i=rl;var O=32-ks(g)-1;g&=~(1<<O),h+=1;var _=32-ks(c)+O;if(30<_){var ye=O-O%5;_=(g&(1<<ye)-1).toString(32),g>>=ye,O-=ye,gl=1<<32-ks(c)+O|h<<O|g,rl=_+i}else gl=1<<_|h<<O|g,rl=i}function Dl(i){i.return!==null&&(xl(i,1),gu(i,1,0))}function xu(i){for(;i===pd;)pd=Zc[--Ro],Zc[Ro]=null,Zl=Zc[--Ro],Zc[Ro]=null;for(;i===ql;)ql=bo[--to],bo[to]=null,rl=bo[--to],bo[to]=null,gl=bo[--to],bo[to]=null}function md(i,c){bo[to++]=gl,bo[to++]=rl,bo[to++]=ql,gl=c.id,rl=c.overflow,ql=i}var Qi=null,Ha=null,dr=!1,Ic=null,bl=!1,gd=Error(n(519));function Qo(i){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Wi(c,i)),gd}function Dc(i){var c=i.stateNode,h=i.type,g=i.memoizedProps;switch(c[Rr]=i,c[Gn]=g,h){case"dialog":ka("cancel",c),ka("close",c);break;case"iframe":case"object":case"embed":ka("load",c);break;case"video":case"audio":for(h=0;h<kp.length;h++)ka(kp[h],c);break;case"source":ka("error",c);break;case"img":case"image":case"link":ka("error",c),ka("load",c);break;case"details":ka("toggle",c);break;case"input":ka("invalid",c),Ga(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":ka("invalid",c);break;case"textarea":ka("invalid",c),Si(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||w1(c.textContent,h)?(g.popover!=null&&(ka("beforetoggle",c),ka("toggle",c)),g.onScroll!=null&&ka("scroll",c),g.onScrollEnd!=null&&ka("scrollend",c),g.onClick!=null&&(c.onclick=J),c=!0):c=!1,c||Qo(i,!0)}function bu(i){for(Qi=i.return;Qi;)switch(Qi.tag){case 5:case 31:case 13:bl=!1;return;case 27:case 3:bl=!0;return;default:Qi=Qi.return}}function xd(i){if(i!==Qi)return!1;if(!dr)return bu(i),dr=!0,!1;var c=i.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=i.type,h=!(h!=="form"&&h!=="button")||Ix(i.type,i.memoizedProps)),h=!h),h&&Ha&&Qo(i),bu(i),c===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ha=L1(i)}else if(c===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ha=L1(i)}else c===27?(c=Ha,uh(i.type)?(i=_x,_x=null,Ha=i):Ha=c):Ha=Qi?au(i.stateNode.nextSibling):null;return!0}function Yi(){Ha=Qi=null,dr=!1}function qc(){var i=Ic;return i!==null&&(Nt===null?Nt=i:Nt.push.apply(Nt,i),Ic=null),i}function vl(i){Ic===null?Ic=[i]:Ic.push(i)}var Zd=Se(null),nl=null,bc=null;function _o(i,c,h){be(Zd,c._currentValue),c._currentValue=h}function al(i){i._currentValue=Zd.current,he(Zd)}function bd(i,c,h){for(;i!==null;){var g=i.alternate;if((i.childLanes&c)!==c?(i.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),i===h)break;i=i.return}}function yl(i,c,h,g){var O=i.child;for(O!==null&&(O.return=i);O!==null;){var _=O.dependencies;if(_!==null){var ye=O.child;_=_.firstContext;e:for(;_!==null;){var ze=_;_=O;for(var mt=0;mt<c.length;mt++)if(ze.context===c[mt]){_.lanes|=h,ze=_.alternate,ze!==null&&(ze.lanes|=h),bd(_.return,h,i),g||(ye=null);break e}_=ze.next}}else if(O.tag===18){if(ye=O.return,ye===null)throw Error(n(341));ye.lanes|=h,_=ye.alternate,_!==null&&(_.lanes|=h),bd(ye,h,i),ye=null}else ye=O.child;if(ye!==null)ye.return=O;else for(ye=O;ye!==null;){if(ye===i){ye=null;break}if(O=ye.sibling,O!==null){O.return=ye.return,ye=O;break}ye=ye.return}O=ye}}function vc(i,c,h,g){i=null;for(var O=c,_=!1;O!==null;){if(!_){if((O.flags&524288)!==0)_=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var ye=O.alternate;if(ye===null)throw Error(n(387));if(ye=ye.memoizedProps,ye!==null){var ze=O.type;or(O.pendingProps.value,ye.value)||(i!==null?i.push(ze):i=[ze])}}else if(O===Ue.current){if(ye=O.alternate,ye===null)throw Error(n(387));ye.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(i!==null?i.push(Tp):i=[Tp])}O=O.return}i!==null&&yl(c,i,h,g),c.flags|=262144}function ed(i){for(i=i.firstContext;i!==null;){if(!or(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function il(i){nl=i,bc=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ri(i){return vu(nl,i)}function vd(i,c){return nl===null&&il(i),vu(i,c)}function vu(i,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},bc===null){if(i===null)throw Error(n(308));bc=c,i.dependencies={lanes:0,firstContext:c},i.flags|=524288}else bc=bc.next=c;return h}var Uu=typeof AbortController<"u"?AbortController:function(){var i=[],c=this.signal={aborted:!1,addEventListener:function(h,g){i.push(g)}};this.abort=function(){c.aborted=!0,i.forEach(function(h){return h()})}},td=s.unstable_scheduleCallback,sd=s.unstable_NormalPriority,bi={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new Uu,data:new Map,refCount:0}}function yd(i){i.refCount--,i.refCount===0&&td(sd,function(){i.controller.abort()})}var Z=null,Te=0,at=0,pt=null;function Qt(i,c){if(Z===null){var h=Z=[];Te=0,at=Bx(),pt={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Te++,c.then(Cs,Cs),c}function Cs(){if(--Te===0&&Z!==null){pt!==null&&(pt.status="fulfilled");var i=Z;Z=null,at=0,pt=null;for(var c=0;c<i.length;c++)(0,i[c])()}}function Rs(i,c){var h=[],g={status:"pending",value:null,reason:null,then:function(O){h.push(O)}};return i.then(function(){g.status="fulfilled",g.value=c;for(var O=0;O<h.length;O++)(0,h[O])(c)},function(O){for(g.status="rejected",g.reason=O,O=0;O<h.length;O++)(0,h[O])(void 0)}),g}var Sr=se.S;se.S=function(i,c){Ns=Ds(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Qt(i,c),Sr!==null&&Sr(i,c)};var Er=Se(null);function pn(){var i=Er.current;return i!==null?i:ma.pooledCache}function jn(i,c){c===null?be(Er,Er.current):be(Er,c.pool)}function na(){var i=pn();return i===null?null:{parent:bi._currentValue,pool:i}}var Ua=Error(n(460)),vi=Error(n(474)),Ba=Error(n(542)),Ti={then:function(){}};function k(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Be(i,c,h){switch(h=i[h],h===void 0?i.push(c):h!==c&&(c.then(J,J),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw i=c.reason,it(i),i;default:if(typeof c.status=="string")c.then(J,J);else{if(i=ma,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=c,i.status="pending",i.then(function(g){if(c.status==="pending"){var O=c;O.status="fulfilled",O.value=g}},function(g){if(c.status==="pending"){var O=c;O.status="rejected",O.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw i=c.reason,it(i),i}throw Qe=c,Ua}}function H(i){try{var c=i._init;return c(i._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Qe=h,Ua):h}}var Qe=null;function lt(){if(Qe===null)throw Error(n(459));var i=Qe;return Qe=null,i}function it(i){if(i===Ua||i===Ba)throw Error(n(483))}var Xt=null,Lt=0;function mr(i){var c=Lt;return Lt+=1,Xt===null&&(Xt=[]),Be(Xt,i,c)}function jt(i,c){c=c.props.ref,i.ref=c!==void 0?c:null}function Jt(i,c){throw c.$$typeof===m?Error(n(525)):(i=Object.prototype.toString.call(c),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":i)))}function mn(i){function c(zt,Et){if(i){var ts=zt.deletions;ts===null?(zt.deletions=[Et],zt.flags|=16):ts.push(Et)}}function h(zt,Et){if(!i)return null;for(;Et!==null;)c(zt,Et),Et=Et.sibling;return null}function g(zt){for(var Et=new Map;zt!==null;)zt.key!==null?Et.set(zt.key,zt):Et.set(zt.index,zt),zt=zt.sibling;return Et}function O(zt,Et){return zt=Ol(zt,Et),zt.index=0,zt.sibling=null,zt}function _(zt,Et,ts){return zt.index=ts,i?(ts=zt.alternate,ts!==null?(ts=ts.index,ts<Et?(zt.flags|=67108866,Et):ts):(zt.flags|=67108866,Et)):(zt.flags|=1048576,Et)}function ye(zt){return i&&zt.alternate===null&&(zt.flags|=67108866),zt}function ze(zt,Et,ts,Ms){return Et===null||Et.tag!==6?(Et=Il(ts,zt.mode,Ms),Et.return=zt,Et):(Et=O(Et,ts),Et.return=zt,Et)}function mt(zt,Et,ts,Ms){var gn=ts.type;return gn===w?Es(zt,Et,ts.props.children,Ms,ts.key):Et!==null&&(Et.elementType===gn||typeof gn=="object"&&gn!==null&&gn.$$typeof===de&&H(gn)===Et.type)?(Et=O(Et,ts.props),jt(Et,ts),Et.return=zt,Et):(Et=Xl(ts.type,ts.key,ts.props,null,zt.mode,Ms),jt(Et,ts),Et.return=zt,Et)}function ns(zt,Et,ts,Ms){return Et===null||Et.tag!==4||Et.stateNode.containerInfo!==ts.containerInfo||Et.stateNode.implementation!==ts.implementation?(Et=Jl(ts,zt.mode,Ms),Et.return=zt,Et):(Et=O(Et,ts.children||[]),Et.return=zt,Et)}function Es(zt,Et,ts,Ms,gn){return Et===null||Et.tag!==7?(Et=Oc(ts,zt.mode,Ms,gn),Et.return=zt,Et):(Et=O(Et,ts),Et.return=zt,Et)}function Is(zt,Et,ts){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return Et=Il(""+Et,zt.mode,ts),Et.return=zt,Et;if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case x:return ts=Xl(Et.type,Et.key,Et.props,null,zt.mode,ts),jt(ts,Et),ts.return=zt,ts;case b:return Et=Jl(Et,zt.mode,ts),Et.return=zt,Et;case de:return Et=H(Et),Is(zt,Et,ts)}if(Ae(Et)||Ce(Et))return Et=Oc(Et,zt.mode,ts,null),Et.return=zt,Et;if(typeof Et.then=="function")return Is(zt,mr(Et),ts);if(Et.$$typeof===z)return Is(zt,vd(zt,Et),ts);Jt(zt,Et)}return null}function as(zt,Et,ts,Ms){var gn=Et!==null?Et.key:null;if(typeof ts=="string"&&ts!==""||typeof ts=="number"||typeof ts=="bigint")return gn!==null?null:ze(zt,Et,""+ts,Ms);if(typeof ts=="object"&&ts!==null){switch(ts.$$typeof){case x:return ts.key===gn?mt(zt,Et,ts,Ms):null;case b:return ts.key===gn?ns(zt,Et,ts,Ms):null;case de:return ts=H(ts),as(zt,Et,ts,Ms)}if(Ae(ts)||Ce(ts))return gn!==null?null:Es(zt,Et,ts,Ms,null);if(typeof ts.then=="function")return as(zt,Et,mr(ts),Ms);if(ts.$$typeof===z)return as(zt,Et,vd(zt,ts),Ms);Jt(zt,ts)}return null}function ds(zt,Et,ts,Ms,gn){if(typeof Ms=="string"&&Ms!==""||typeof Ms=="number"||typeof Ms=="bigint")return zt=zt.get(ts)||null,ze(Et,zt,""+Ms,gn);if(typeof Ms=="object"&&Ms!==null){switch(Ms.$$typeof){case x:return zt=zt.get(Ms.key===null?ts:Ms.key)||null,mt(Et,zt,Ms,gn);case b:return zt=zt.get(Ms.key===null?ts:Ms.key)||null,ns(Et,zt,Ms,gn);case de:return Ms=H(Ms),ds(zt,Et,ts,Ms,gn)}if(Ae(Ms)||Ce(Ms))return zt=zt.get(ts)||null,Es(Et,zt,Ms,gn,null);if(typeof Ms.then=="function")return ds(zt,Et,ts,mr(Ms),gn);if(Ms.$$typeof===z)return ds(zt,Et,ts,vd(Et,Ms),gn);Jt(Et,Ms)}return null}function Qr(zt,Et,ts,Ms){for(var gn=null,qa=null,Zr=Et,la=Et=0,Ta=null;Zr!==null&&la<ts.length;la++){Zr.index>la?(Ta=Zr,Zr=null):Ta=Zr.sibling;var ei=as(zt,Zr,ts[la],Ms);if(ei===null){Zr===null&&(Zr=Ta);break}i&&Zr&&ei.alternate===null&&c(zt,Zr),Et=_(ei,Et,la),qa===null?gn=ei:qa.sibling=ei,qa=ei,Zr=Ta}if(la===ts.length)return h(zt,Zr),dr&&xl(zt,la),gn;if(Zr===null){for(;la<ts.length;la++)Zr=Is(zt,ts[la],Ms),Zr!==null&&(Et=_(Zr,Et,la),qa===null?gn=Zr:qa.sibling=Zr,qa=Zr);return dr&&xl(zt,la),gn}for(Zr=g(Zr);la<ts.length;la++)Ta=ds(Zr,zt,la,ts[la],Ms),Ta!==null&&(i&&Ta.alternate!==null&&Zr.delete(Ta.key===null?la:Ta.key),Et=_(Ta,Et,la),qa===null?gn=Ta:qa.sibling=Ta,qa=Ta);return i&&Zr.forEach(function(mh){return c(zt,mh)}),dr&&xl(zt,la),gn}function kn(zt,Et,ts,Ms){if(ts==null)throw Error(n(151));for(var gn=null,qa=null,Zr=Et,la=Et=0,Ta=null,ei=ts.next();Zr!==null&&!ei.done;la++,ei=ts.next()){Zr.index>la?(Ta=Zr,Zr=null):Ta=Zr.sibling;var mh=as(zt,Zr,ei.value,Ms);if(mh===null){Zr===null&&(Zr=Ta);break}i&&Zr&&mh.alternate===null&&c(zt,Zr),Et=_(mh,Et,la),qa===null?gn=mh:qa.sibling=mh,qa=mh,Zr=Ta}if(ei.done)return h(zt,Zr),dr&&xl(zt,la),gn;if(Zr===null){for(;!ei.done;la++,ei=ts.next())ei=Is(zt,ei.value,Ms),ei!==null&&(Et=_(ei,Et,la),qa===null?gn=ei:qa.sibling=ei,qa=ei);return dr&&xl(zt,la),gn}for(Zr=g(Zr);!ei.done;la++,ei=ts.next())ei=ds(Zr,zt,la,ei.value,Ms),ei!==null&&(i&&ei.alternate!==null&&Zr.delete(ei.key===null?la:ei.key),Et=_(ei,Et,la),qa===null?gn=ei:qa.sibling=ei,qa=ei);return i&&Zr.forEach(function(T4){return c(zt,T4)}),dr&&xl(zt,la),gn}function Mi(zt,Et,ts,Ms){if(typeof ts=="object"&&ts!==null&&ts.type===w&&ts.key===null&&(ts=ts.props.children),typeof ts=="object"&&ts!==null){switch(ts.$$typeof){case x:e:{for(var gn=ts.key;Et!==null;){if(Et.key===gn){if(gn=ts.type,gn===w){if(Et.tag===7){h(zt,Et.sibling),Ms=O(Et,ts.props.children),Ms.return=zt,zt=Ms;break e}}else if(Et.elementType===gn||typeof gn=="object"&&gn!==null&&gn.$$typeof===de&&H(gn)===Et.type){h(zt,Et.sibling),Ms=O(Et,ts.props),jt(Ms,ts),Ms.return=zt,zt=Ms;break e}h(zt,Et);break}else c(zt,Et);Et=Et.sibling}ts.type===w?(Ms=Oc(ts.props.children,zt.mode,Ms,ts.key),Ms.return=zt,zt=Ms):(Ms=Xl(ts.type,ts.key,ts.props,null,zt.mode,Ms),jt(Ms,ts),Ms.return=zt,zt=Ms)}return ye(zt);case b:e:{for(gn=ts.key;Et!==null;){if(Et.key===gn)if(Et.tag===4&&Et.stateNode.containerInfo===ts.containerInfo&&Et.stateNode.implementation===ts.implementation){h(zt,Et.sibling),Ms=O(Et,ts.children||[]),Ms.return=zt,zt=Ms;break e}else{h(zt,Et);break}else c(zt,Et);Et=Et.sibling}Ms=Jl(ts,zt.mode,Ms),Ms.return=zt,zt=Ms}return ye(zt);case de:return ts=H(ts),Mi(zt,Et,ts,Ms)}if(Ae(ts))return Qr(zt,Et,ts,Ms);if(Ce(ts)){if(gn=Ce(ts),typeof gn!="function")throw Error(n(150));return ts=gn.call(ts),kn(zt,Et,ts,Ms)}if(typeof ts.then=="function")return Mi(zt,Et,mr(ts),Ms);if(ts.$$typeof===z)return Mi(zt,Et,vd(zt,ts),Ms);Jt(zt,ts)}return typeof ts=="string"&&ts!==""||typeof ts=="number"||typeof ts=="bigint"?(ts=""+ts,Et!==null&&Et.tag===6?(h(zt,Et.sibling),Ms=O(Et,ts),Ms.return=zt,zt=Ms):(h(zt,Et),Ms=Il(ts,zt.mode,Ms),Ms.return=zt,zt=Ms),ye(zt)):h(zt,Et)}return function(zt,Et,ts,Ms){try{Lt=0;var gn=Mi(zt,Et,ts,Ms);return Xt=null,gn}catch(Zr){if(Zr===Ua||Zr===Ba)throw Zr;var qa=Po(29,Zr,null,zt.mode);return qa.lanes=Ms,qa.return=zt,qa}finally{}}}var ar=mn(!0),_s=mn(!1),vs=!1;function Ma(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hn(i,c){i=i.updateQueue,c.updateQueue===i&&(c.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Gr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function cn(i,c,h){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(ba&2)!==0){var O=g.pending;return O===null?c.next=c:(c.next=O.next,O.next=c),g.pending=c,c=hd(i),Jd(i,null,h),c}return Mc(i,g,c,h),hd(i)}function Sn(i,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=i.pendingLanes,h|=g,c.lanes=h,fr(i,h)}}function sr(i,c){var h=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var O=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var ye={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?O=_=ye:_=_.next=ye,h=h.next}while(h!==null);_===null?O=_=c:_=_.next=c}else O=_=c;h={baseState:g.baseState,firstBaseUpdate:O,lastBaseUpdate:_,shared:g.shared,callbacks:g.callbacks},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=c:i.next=c,h.lastBaseUpdate=c}var En=!1;function Oa(){if(En){var i=pt;if(i!==null)throw i}}function Hr(i,c,h,g){En=!1;var O=i.updateQueue;vs=!1;var _=O.firstBaseUpdate,ye=O.lastBaseUpdate,ze=O.shared.pending;if(ze!==null){O.shared.pending=null;var mt=ze,ns=mt.next;mt.next=null,ye===null?_=ns:ye.next=ns,ye=mt;var Es=i.alternate;Es!==null&&(Es=Es.updateQueue,ze=Es.lastBaseUpdate,ze!==ye&&(ze===null?Es.firstBaseUpdate=ns:ze.next=ns,Es.lastBaseUpdate=mt))}if(_!==null){var Is=O.baseState;ye=0,Es=ns=mt=null,ze=_;do{var as=ze.lane&-536870913,ds=as!==ze.lane;if(ds?(Qn&as)===as:(g&as)===as){as!==0&&as===at&&(En=!0),Es!==null&&(Es=Es.next={lane:0,tag:ze.tag,payload:ze.payload,callback:null,next:null});e:{var Qr=i,kn=ze;as=c;var Mi=h;switch(kn.tag){case 1:if(Qr=kn.payload,typeof Qr=="function"){Is=Qr.call(Mi,Is,as);break e}Is=Qr;break e;case 3:Qr.flags=Qr.flags&-65537|128;case 0:if(Qr=kn.payload,as=typeof Qr=="function"?Qr.call(Mi,Is,as):Qr,as==null)break e;Is=p({},Is,as);break e;case 2:vs=!0}}as=ze.callback,as!==null&&(i.flags|=64,ds&&(i.flags|=8192),ds=O.callbacks,ds===null?O.callbacks=[as]:ds.push(as))}else ds={lane:as,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null},Es===null?(ns=Es=ds,mt=Is):Es=Es.next=ds,ye|=as;if(ze=ze.next,ze===null){if(ze=O.shared.pending,ze===null)break;ds=ze,ze=ds.next,ds.next=null,O.lastBaseUpdate=ds,O.shared.pending=null}}while(!0);Es===null&&(mt=Is),O.baseState=mt,O.firstBaseUpdate=ns,O.lastBaseUpdate=Es,_===null&&(O.shared.lanes=0),L|=ye,i.lanes=ye,i.memoizedState=Is}}function aa(i,c){if(typeof i!="function")throw Error(n(191,i));i.call(c)}function Dn(i,c){var h=i.callbacks;if(h!==null)for(i.callbacks=null,i=0;i<h.length;i++)aa(h[i],c)}var Tr=Se(null),ln=Se(0);function vo(i,c){i=j,be(ln,i),be(Tr,c),j=i|c.baseLanes}function ec(){be(ln,j),be(Tr,Tr.current)}function wl(){j=ln.current,he(Tr),he(ln)}var Xi=Se(null),yo=null;function Ya(i){var c=i.alternate;be(yi,yi.current&1),be(Xi,i),yo===null&&(c===null||Tr.current!==null||c.memoizedState!==null)&&(yo=i)}function Mu(i){be(yi,yi.current),be(Xi,i),yo===null&&(yo=i)}function nd(i){i.tag===22?(be(yi,yi.current),be(Xi,i),yo===null&&(yo=i)):ol()}function ol(){be(yi,yi.current),be(Xi,Xi.current)}function ll(i){he(Xi),yo===i&&(yo=null),he(yi)}var yi=Se(0);function qd(i){for(var c=i;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Rx(h)||Qx(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var yc=0,vn=null,pa=null,ni=null,wd=!1,tc=!1,wc=!1,Ho=0,sc=0,ia=null,za=0;function Pn(){throw Error(n(321))}function Ji(i,c){if(c===null)return!1;for(var h=0;h<c.length&&h<i.length;h++)if(!or(i[h],c[h]))return!1;return!0}function ad(i,c,h,g,O,_){return yc=_,vn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,se.H=i===null||i.memoizedState===null?Xh:rh,wc=!1,_=h(g,O),wc=!1,tc&&(_=Dd(c,h,g,O)),yu(i),_}function yu(i){se.H=bA;var c=pa!==null&&pa.next!==null;if(yc=0,ni=pa=vn=null,wd=!1,sc=0,ia=null,c)throw Error(n(300));i===null||Oe||(i=i.dependencies,i!==null&&ed(i)&&(Oe=!0))}function Dd(i,c,h,g){vn=i;var O=0;do{if(tc&&(ia=null),sc=0,tc=!1,25<=O)throw Error(n(301));if(O+=1,ni=pa=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}se.H=nh,_=c(h,g)}while(tc);return _}function Ou(){var i=se.H,c=i.useState()[0];return c=typeof c.then=="function"?Pd(c):c,i=i.useState()[0],(pa!==null?pa.memoizedState:null)!==i&&(vn.flags|=1024),c}function oA(){var i=Ho!==0;return Ho=0,i}function lA(i,c,h){c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~h}function cA(i){if(wd){for(i=i.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}wd=!1}yc=0,ni=pa=vn=null,tc=!1,sc=Ho=0,ia=null}function cl(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?vn.memoizedState=ni=i:ni=ni.next=i,ni}function Li(){if(pa===null){var i=vn.alternate;i=i!==null?i.memoizedState:null}else i=pa.next;var c=ni===null?vn.memoizedState:ni.next;if(c!==null)ni=c,pa=i;else{if(i===null)throw vn.alternate===null?Error(n(467)):Error(n(310));pa=i,i={memoizedState:pa.memoizedState,baseState:pa.baseState,baseQueue:pa.baseQueue,queue:pa.queue,next:null},ni===null?vn.memoizedState=ni=i:ni=ni.next=i}return ni}function dA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pd(i){var c=sc;return sc+=1,ia===null&&(ia=[]),i=Be(ia,i,c),c=vn,(ni===null?c.memoizedState:ni.next)===null&&(c=c.alternate,se.H=c===null||c.memoizedState===null?Xh:rh),i}function uA(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Pd(i);if(i.$$typeof===z)return ri(i)}throw Error(n(438,String(i)))}function Pl(i){var c=null,h=vn.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=vn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(O){return O.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=dA(),vn.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(i),g=0;g<i;g++)h[g]=ve;return c.index++,h}function Pc(i,c){return typeof c=="function"?c(i):c}function AA(i){var c=Li();return zA(c,pa,i)}function zA(i,c,h){var g=i.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=h;var O=i.baseQueue,_=g.pending;if(_!==null){if(O!==null){var ye=O.next;O.next=_.next,_.next=ye}c.baseQueue=O=_,g.pending=null}if(_=i.baseState,O===null)i.memoizedState=_;else{c=O.next;var ze=ye=null,mt=null,ns=c,Es=!1;do{var Is=ns.lane&-536870913;if(Is!==ns.lane?(Qn&Is)===Is:(yc&Is)===Is){var as=ns.revertLane;if(as===0)mt!==null&&(mt=mt.next={lane:0,revertLane:0,gesture:null,action:ns.action,hasEagerState:ns.hasEagerState,eagerState:ns.eagerState,next:null}),Is===at&&(Es=!0);else if((yc&as)===as){ns=ns.next,as===at&&(Es=!0);continue}else Is={lane:0,revertLane:ns.revertLane,gesture:null,action:ns.action,hasEagerState:ns.hasEagerState,eagerState:ns.eagerState,next:null},mt===null?(ze=mt=Is,ye=_):mt=mt.next=Is,vn.lanes|=as,L|=as;Is=ns.action,wc&&h(_,Is),_=ns.hasEagerState?ns.eagerState:h(_,Is)}else as={lane:Is,revertLane:ns.revertLane,gesture:ns.gesture,action:ns.action,hasEagerState:ns.hasEagerState,eagerState:ns.eagerState,next:null},mt===null?(ze=mt=as,ye=_):mt=mt.next=as,vn.lanes|=Is,L|=Is;ns=ns.next}while(ns!==null&&ns!==c);if(mt===null?ye=_:mt.next=ze,!or(_,i.memoizedState)&&(Oe=!0,Es&&(h=pt,h!==null)))throw h;i.memoizedState=_,i.baseState=ye,i.baseQueue=mt,g.lastRenderedState=_}return O===null&&(g.lanes=0),[i.memoizedState,g.dispatch]}function $A(i){var c=Li(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=i;var g=h.dispatch,O=h.pending,_=c.memoizedState;if(O!==null){h.pending=null;var ye=O=O.next;do _=i(_,ye.action),ye=ye.next;while(ye!==O);or(_,c.memoizedState)||(Oe=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),h.lastRenderedState=_}return[_,g]}function zh(i,c,h){var g=vn,O=Li(),_=dr;if(_){if(h===void 0)throw Error(n(407));h=h()}else h=c();var ye=!or((pa||O).memoizedState,h);if(ye&&(O.memoizedState=h,Oe=!0),O=O.queue,Pu(hA.bind(null,g,O,i),[i]),O.getSnapshot!==c||ye||ni!==null&&ni.memoizedState.tag&1){if(g.flags|=2048,Du(9,{destroy:void 0},VA.bind(null,g,O,h,c),null),ma===null)throw Error(n(349));_||(yc&127)!==0||$h(g,c,h)}return h}function $h(i,c,h){i.flags|=16384,i={getSnapshot:c,value:h},c=vn.updateQueue,c===null?(c=dA(),vn.updateQueue=c,c.stores=[i]):(h=c.stores,h===null?c.stores=[i]:h.push(i))}function VA(i,c,h,g){c.value=h,c.getSnapshot=g,rc(c)&&jc(i)}function hA(i,c,h){return h(function(){rc(c)&&jc(i)})}function rc(i){var c=i.getSnapshot;i=i.value;try{var h=c();return!or(i,h)}catch{return!0}}function jc(i){var c=Wl(i,2);c!==null&&wi(c,i,2)}function wu(i){var c=cl();if(typeof i=="function"){var h=i;if(i=h(),wc){$t(!0);try{h()}finally{$t(!1)}}}return c.memoizedState=c.baseState=i,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:i},c}function fA(i,c,h,g){return i.baseState=h,zA(i,pa,typeof g=="function"?g:Pc)}function KA(i,c,h,g,O){if(Cd(i))throw Error(n(485));if(i=c.action,i!==null){var _={payload:O,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ye){_.listeners.push(ye)}};se.T!==null?h(!0):_.isTransition=!1,g(_),h=c.pending,h===null?(_.next=c.pending=_,Iu(c,_)):(_.next=h.next,c.pending=h.next=_)}}function Iu(i,c){var h=c.action,g=c.payload,O=i.state;if(c.isTransition){var _=se.T,ye={};se.T=ye;try{var ze=h(O,g),mt=se.S;mt!==null&&mt(ye,ze),so(i,c,ze)}catch(ns){GA(i,c,ns)}finally{_!==null&&ye.types!==null&&(_.types=ye.types),se.T=_}}else try{_=h(O,g),so(i,c,_)}catch(ns){GA(i,c,ns)}}function so(i,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){eu(i,c,g)},function(g){return GA(i,c,g)}):eu(i,c,h)}function eu(i,c,h){c.status="fulfilled",c.value=h,WA(c),i.state=h,c=i.pending,c!==null&&(h=c.next,h===c?i.pending=null:(h=h.next,c.next=h,Iu(i,h)))}function GA(i,c,h){var g=i.pending;if(i.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,WA(c),c=c.next;while(c!==g)}i.action=null}function WA(i){i=i.listeners;for(var c=0;c<i.length;c++)(0,i[c])()}function pA(i,c){return c}function ju(i,c){if(dr){var h=ma.formState;if(h!==null){e:{var g=vn;if(dr){if(Ha){t:{for(var O=Ha,_=bl;O.nodeType!==8;){if(!_){O=null;break t}if(O=au(O.nextSibling),O===null){O=null;break t}}_=O.data,O=_==="F!"||_==="F"?O:null}if(O){Ha=au(O.nextSibling),g=O.data==="F!";break e}}Qo(g)}g=!1}g&&(c=h[0])}}return h=cl(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pA,lastRenderedState:c},h.queue=g,h=th.bind(null,vn,g),g.dispatch=h,g=wu(!1),_=tu.bind(null,vn,!1,g.queue),g=cl(),O={state:c,dispatch:null,action:i,pending:null},g.queue=O,h=KA.bind(null,vn,O,_,h),O.dispatch=h,g.memoizedState=i,[c,h,!1]}function YA(i){var c=Li();return Ef(c,pa,i)}function Ef(i,c,h){if(c=zA(i,c,pA)[0],i=AA(Pc)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Pd(c)}catch(ye){throw ye===Ua?Ba:ye}else g=c;c=Li();var O=c.queue,_=O.dispatch;return h!==c.memoizedState&&(vn.flags|=2048,Du(9,{destroy:void 0},jp.bind(null,O,h),null)),[g,_,i]}function jp(i,c){i.action=c}function Vh(i){var c=Li(),h=pa;if(h!==null)return Ef(c,h,i);Li(),c=c.memoizedState,h=Li();var g=h.queue.dispatch;return h.memoizedState=i,[c,g,!1]}function Du(i,c,h,g){return i={tag:i,create:h,deps:g,inst:c,next:null},c=vn.updateQueue,c===null&&(c=dA(),vn.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=i.next=i:(g=h.next,h.next=i,i.next=g,c.lastEffect=i),i}function Tf(){return Li().memoizedState}function XA(i,c,h,g){var O=cl();vn.flags|=i,O.memoizedState=Du(1|c,{destroy:void 0},h,g===void 0?null:g)}function JA(i,c,h,g){var O=Li();g=g===void 0?null:g;var _=O.memoizedState.inst;pa!==null&&g!==null&&Ji(g,pa.memoizedState.deps)?O.memoizedState=Du(c,_,h,g):(vn.flags|=i,O.memoizedState=Du(1|c,_,h,g))}function Kh(i,c){XA(8390656,8,i,c)}function Pu(i,c){JA(2048,8,i,c)}function ZA(i){vn.flags|=4;var c=vn.updateQueue;if(c===null)c=dA(),vn.updateQueue=c,c.events=[i];else{var h=c.events;h===null?c.events=[i]:h.push(i)}}function Nu(i){var c=Li().memoizedState;return ZA({ref:c,nextImpl:i}),function(){if((ba&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function qA(i,c){return JA(4,2,i,c)}function Lf(i,c){return JA(4,4,i,c)}function Gh(i,c){if(typeof c=="function"){i=i();var h=c(i);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return i=i(),c.current=i,function(){c.current=null}}function Ff(i,c,h){h=h!=null?h.concat([i]):null,JA(4,4,Gh.bind(null,c,i),h)}function Wh(){}function mA(i,c){var h=Li();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&Ji(c,g[1])?g[0]:(h.memoizedState=[i,c],i)}function gA(i,c){var h=Li();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&Ji(c,g[1]))return g[0];if(g=i(),wc){$t(!0);try{i()}finally{$t(!1)}}return h.memoizedState=[g,c],g}function jd(i,c,h){return h===void 0||(yc&1073741824)!==0&&(Qn&261930)===0?i.memoizedState=c:(i.memoizedState=h,i=No(),vn.lanes|=i,L|=i,h)}function Nc(i,c,h,g){return or(h,c)?h:Tr.current!==null?(i=jd(i,h,g),or(i,c)||(Oe=!0),i):(yc&42)===0||(yc&1073741824)!==0&&(Qn&261930)===0?(Oe=!0,i.memoizedState=h):(i=No(),vn.lanes|=i,L|=i,c)}function Rc(i,c,h,g,O){var _=pe.p;pe.p=_!==0&&8>_?_:8;var ye=se.T,ze={};se.T=ze,tu(i,!1,c,h);try{var mt=O(),ns=se.S;if(ns!==null&&ns(ze,mt),mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var Es=Rs(mt,g);kd(i,c,Es,sn(i))}else kd(i,c,g,sn(i))}catch(Is){kd(i,c,{then:function(){},status:"rejected",reason:Is},sn())}finally{pe.p=_,ye!==null&&ze.types!==null&&(ye.types=ze.types),se.T=ye}}function Uf(){}function xA(i,c,h,g){if(i.tag!==5)throw Error(n(476));var O=Nd(i).queue;Rc(i,O,c,re,h===null?Uf:function(){return kc(i),h(g)})}function Nd(i){var c=i.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:re},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:h},next:null},i.memoizedState=c,i=i.alternate,i!==null&&(i.memoizedState=c),c}function kc(i){var c=Nd(i);c.next===null&&(c=i.alternate.memoizedState),kd(i,c.next.queue,{},sn())}function Ru(){return ri(Tp)}function Yh(){return Li().memoizedState}function eh(){return Li().memoizedState}function Mf(i){for(var c=i.return;c!==null;){switch(c.tag){case 24:case 3:var h=sn();i=Gr(h);var g=cn(c,i,h);g!==null&&(wi(g,c,h),Sn(g,c,h)),c={cache:rd()},i.payload=c;return}c=c.return}}function Of(i,c,h){var g=sn();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Cd(i)?Qu(c,h):(h=Ad(i,c,h,g),h!==null&&(wi(h,i,g),sh(h,c,g)))}function th(i,c,h){var g=sn();kd(i,c,h,g)}function kd(i,c,h,g){var O={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Cd(i))Qu(c,O);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var ye=c.lastRenderedState,ze=_(ye,h);if(O.hasEagerState=!0,O.eagerState=ze,or(ze,ye))return Mc(i,c,O,0),ma===null&&xc(),!1}catch{}finally{}if(h=Ad(i,c,O,g),h!==null)return wi(h,i,g),sh(h,c,g),!0}return!1}function tu(i,c,h,g){if(g={lane:2,revertLane:Bx(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Cd(i)){if(c)throw Error(n(479))}else c=Ad(i,h,g,2),c!==null&&wi(c,i,2)}function Cd(i){var c=i.alternate;return i===vn||c!==null&&c===vn}function Qu(i,c){tc=wd=!0;var h=i.pending;h===null?c.next=c:(c.next=h.next,h.next=c),i.pending=c}function sh(i,c,h){if((h&4194048)!==0){var g=c.lanes;g&=i.pendingLanes,h|=g,c.lanes=h,fr(i,h)}}var bA={readContext:ri,use:uA,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};bA.useEffectEvent=Pn;var Xh={readContext:ri,use:uA,useCallback:function(i,c){return cl().memoizedState=[i,c===void 0?null:c],i},useContext:ri,useEffect:Kh,useImperativeHandle:function(i,c,h){h=h!=null?h.concat([i]):null,XA(4194308,4,Gh.bind(null,c,i),h)},useLayoutEffect:function(i,c){return XA(4194308,4,i,c)},useInsertionEffect:function(i,c){XA(4,2,i,c)},useMemo:function(i,c){var h=cl();c=c===void 0?null:c;var g=i();if(wc){$t(!0);try{i()}finally{$t(!1)}}return h.memoizedState=[g,c],g},useReducer:function(i,c,h){var g=cl();if(h!==void 0){var O=h(c);if(wc){$t(!0);try{h(c)}finally{$t(!1)}}}else O=c;return g.memoizedState=g.baseState=O,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:O},g.queue=i,i=i.dispatch=Of.bind(null,vn,i),[g.memoizedState,i]},useRef:function(i){var c=cl();return i={current:i},c.memoizedState=i},useState:function(i){i=wu(i);var c=i.queue,h=th.bind(null,vn,c);return c.dispatch=h,[i.memoizedState,h]},useDebugValue:Wh,useDeferredValue:function(i,c){var h=cl();return jd(h,i,c)},useTransition:function(){var i=wu(!1);return i=Rc.bind(null,vn,i.queue,!0,!1),cl().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,c,h){var g=vn,O=cl();if(dr){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),ma===null)throw Error(n(349));(Qn&127)!==0||$h(g,c,h)}O.memoizedState=h;var _={value:h,getSnapshot:c};return O.queue=_,Kh(hA.bind(null,g,_,i),[i]),g.flags|=2048,Du(9,{destroy:void 0},VA.bind(null,g,_,h,c),null),h},useId:function(){var i=cl(),c=ma.identifierPrefix;if(dr){var h=rl,g=gl;h=(g&~(1<<32-ks(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=Ho++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=za++,c="_"+c+"r_"+h.toString(32)+"_";return i.memoizedState=c},useHostTransitionStatus:Ru,useFormState:ju,useActionState:ju,useOptimistic:function(i){var c=cl();c.memoizedState=c.baseState=i;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=tu.bind(null,vn,!0,h),h.dispatch=c,[i,c]},useMemoCache:Pl,useCacheRefresh:function(){return cl().memoizedState=Mf.bind(null,vn)},useEffectEvent:function(i){var c=cl(),h={impl:i};return c.memoizedState=h,function(){if((ba&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},rh={readContext:ri,use:uA,useCallback:mA,useContext:ri,useEffect:Pu,useImperativeHandle:Ff,useInsertionEffect:qA,useLayoutEffect:Lf,useMemo:gA,useReducer:AA,useRef:Tf,useState:function(){return AA(Pc)},useDebugValue:Wh,useDeferredValue:function(i,c){var h=Li();return Nc(h,pa.memoizedState,i,c)},useTransition:function(){var i=AA(Pc)[0],c=Li().memoizedState;return[typeof i=="boolean"?i:Pd(i),c]},useSyncExternalStore:zh,useId:Yh,useHostTransitionStatus:Ru,useFormState:YA,useActionState:YA,useOptimistic:function(i,c){var h=Li();return fA(h,pa,i,c)},useMemoCache:Pl,useCacheRefresh:eh};rh.useEffectEvent=Nu;var nh={readContext:ri,use:uA,useCallback:mA,useContext:ri,useEffect:Pu,useImperativeHandle:Ff,useInsertionEffect:qA,useLayoutEffect:Lf,useMemo:gA,useReducer:$A,useRef:Tf,useState:function(){return $A(Pc)},useDebugValue:Wh,useDeferredValue:function(i,c){var h=Li();return pa===null?jd(h,i,c):Nc(h,pa.memoizedState,i,c)},useTransition:function(){var i=$A(Pc)[0],c=Li().memoizedState;return[typeof i=="boolean"?i:Pd(i),c]},useSyncExternalStore:zh,useId:Yh,useHostTransitionStatus:Ru,useFormState:Vh,useActionState:Vh,useOptimistic:function(i,c){var h=Li();return pa!==null?fA(h,pa,i,c):(h.baseState=i,[i,h.queue.dispatch])},useMemoCache:Pl,useCacheRefresh:eh};nh.useEffectEvent=Nu;function ah(i,c,h,g){c=i.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var ih={enqueueSetState:function(i,c,h){i=i._reactInternals;var g=sn(),O=Gr(g);O.payload=c,h!=null&&(O.callback=h),c=cn(i,O,g),c!==null&&(wi(c,i,g),Sn(c,i,g))},enqueueReplaceState:function(i,c,h){i=i._reactInternals;var g=sn(),O=Gr(g);O.tag=1,O.payload=c,h!=null&&(O.callback=h),c=cn(i,O,g),c!==null&&(wi(c,i,g),Sn(c,i,g))},enqueueForceUpdate:function(i,c){i=i._reactInternals;var h=sn(),g=Gr(h);g.tag=2,c!=null&&(g.callback=c),c=cn(i,g,h),c!==null&&(wi(c,i,h),Sn(c,i,h))}};function oh(i,c,h,g,O,_,ye){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,_,ye):c.prototype&&c.prototype.isPureReactComponent?!Ln(h,g)||!Ln(O,_):!0}function Jh(i,c,h,g){i=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==i&&ih.enqueueReplaceState(c,c.state,null)}function Rd(i,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(i=i.defaultProps){h===c&&(h=p({},h));for(var O in i)h[O]===void 0&&(h[O]=i[O])}return h}function vA(i){Uc(i)}function yA(i){console.error(i)}function wA(i){Uc(i)}function _u(i,c){try{var h=i.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function C(i,c,h){try{var g=i.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function D(i,c,h){return h=Gr(h),h.tag=3,h.payload={element:null},h.callback=function(){_u(i,c)},h}function ne(i){return i=Gr(i),i.tag=3,i}function me(i,c,h,g){var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var _=g.value;i.payload=function(){return O(_)},i.callback=function(){C(c,h,g)}}var ye=h.stateNode;ye!==null&&typeof ye.componentDidCatch=="function"&&(i.callback=function(){C(c,h,g),typeof O!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var ze=g.stack;this.componentDidCatch(g.value,{componentStack:ze!==null?ze:""})})}function Le(i,c,h,g,O){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&vc(c,h,O,!0),h=Xi.current,h!==null){switch(h.tag){case 31:case 13:return yo===null?Sd():h.alternate===null&&F===0&&(F=3),h.flags&=-257,h.flags|=65536,h.lanes=O,g===Ti?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),Nx(i,g,O)),!1;case 22:return h.flags|=65536,g===Ti?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),Nx(i,g,O)),!1}throw Error(n(435,h.tag))}return Nx(i,g,O),Sd(),!1}if(dr)return c=Xi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=O,g!==gd&&(i=Error(n(422),{cause:g}),vl(Wi(i,h)))):(g!==gd&&(c=Error(n(423),{cause:g}),vl(Wi(c,h))),i=i.current.alternate,i.flags|=65536,O&=-O,i.lanes|=O,g=Wi(g,h),O=D(i.stateNode,g,O),sr(i,O),F!==4&&(F=2)),!1;var _=Error(n(520),{cause:g});if(_=Wi(_,h),et===null?et=[_]:et.push(_),F!==4&&(F=2),c===null)return!0;g=Wi(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,i=O&-O,h.lanes|=i,i=D(h.stateNode,g,i),sr(h,i),!1;case 1:if(c=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ar===null||!Ar.has(_))))return h.flags|=65536,O&=-O,h.lanes|=O,O=ne(O),me(O,i,h,g),sr(h,O),!1}h=h.return}while(h!==null);return!1}var Ie=Error(n(461)),Oe=!1;function He(i,c,h,g){c.child=i===null?_s(c,null,h,g):ar(c,i.child,h,g)}function Ke(i,c,h,g,O){h=h.render;var _=c.ref;if("ref"in g){var ye={};for(var ze in g)ze!=="ref"&&(ye[ze]=g[ze])}else ye=g;return il(c),g=ad(i,c,h,ye,_,O),ze=oA(),i!==null&&!Oe?(lA(i,c,O),Hn(i,c,O)):(dr&&ze&&Dl(c),c.flags|=1,He(i,c,g,O),c.child)}function nt(i,c,h,g,O){if(i===null){var _=h.type;return typeof _=="function"&&!An(_)&&_.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=_,Ct(i,c,_,g,O)):(i=Xl(h.type,null,g,c,c.mode,O),i.ref=c.ref,i.return=c,c.child=i)}if(_=i.child,!ai(i,O)){var ye=_.memoizedProps;if(h=h.compare,h=h!==null?h:Ln,h(ye,g)&&i.ref===c.ref)return Hn(i,c,O)}return c.flags|=1,i=Ol(_,g),i.ref=c.ref,i.return=c,c.child=i}function Ct(i,c,h,g,O){if(i!==null){var _=i.memoizedProps;if(Ln(_,g)&&i.ref===c.ref)if(Oe=!1,c.pendingProps=g=_,ai(i,O))(i.flags&131072)!==0&&(Oe=!0);else return c.lanes=i.lanes,Hn(i,c,O)}return Bs(i,c,h,g,O)}function Wt(i,c,h,g){var O=g.children,_=i!==null?i.memoizedState:null;if(i===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(_=_!==null?_.baseLanes|h:h,i!==null){for(g=c.child=i.child,O=0;g!==null;)O=O|g.lanes|g.childLanes,g=g.sibling;g=O&~_}else g=0,c.child=null;return Ft(i,c,_,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},i!==null&&jn(c,_!==null?_.cachePool:null),_!==null?vo(c,_):ec(),nd(c);else return g=c.lanes=536870912,Ft(i,c,_!==null?_.baseLanes|h:h,h,g)}else _!==null?(jn(c,_.cachePool),vo(c,_),ol(),c.memoizedState=null):(i!==null&&jn(c,null),ec(),ol());return He(i,c,O,h),c.child}function st(i,c){return i!==null&&i.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Ft(i,c,h,g,O){var _=pn();return _=_===null?null:{parent:bi._currentValue,pool:_},c.memoizedState={baseLanes:h,cachePool:_},i!==null&&jn(c,null),ec(),nd(c),i!==null&&vc(i,c,g,!0),c.childLanes=O,null}function _t(i,c){return c=Fn({mode:c.mode,children:c.children},i.mode),c.ref=i.ref,i.child=c,c.return=i,c}function ws(i,c,h){return ar(c,i.child,null,h),i=_t(c,c.pendingProps),i.flags|=2,ll(c),c.memoizedState=null,i}function Zt(i,c,h){var g=c.pendingProps,O=(c.flags&128)!==0;if(c.flags&=-129,i===null){if(dr){if(g.mode==="hidden")return i=_t(c,g),c.lanes=536870912,st(null,i);if(Mu(c),(i=Ha)?(i=T1(i,bl),i=i!==null&&i.data==="&"?i:null,i!==null&&(c.memoizedState={dehydrated:i,treeContext:ql!==null?{id:gl,overflow:rl}:null,retryLane:536870912,hydrationErrors:null},h=Gi(i),h.return=c,c.child=h,Qi=c,Ha=null)):i=null,i===null)throw Qo(c);return c.lanes=536870912,null}return _t(c,g)}var _=i.memoizedState;if(_!==null){var ye=_.dehydrated;if(Mu(c),O)if(c.flags&256)c.flags&=-257,c=ws(i,c,h);else if(c.memoizedState!==null)c.child=i.child,c.flags|=128,c=null;else throw Error(n(558));else if(Oe||vc(i,c,h,!1),O=(h&i.childLanes)!==0,Oe||O){if(g=ma,g!==null&&(ye=$r(g,h),ye!==0&&ye!==_.retryLane))throw _.retryLane=ye,Wl(i,ye),wi(g,i,ye),Ie;Sd(),c=ws(i,c,h)}else i=_.treeContext,Ha=au(ye.nextSibling),Qi=c,dr=!0,Ic=null,bl=!1,i!==null&&md(c,i),c=_t(c,g),c.flags|=4096;return c}return i=Ol(i.child,{mode:g.mode,children:g.children}),i.ref=c.ref,c.child=i,i.return=c,i}function js(i,c){var h=c.ref;if(h===null)i!==null&&i.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(i===null||i.ref!==h)&&(c.flags|=4194816)}}function Bs(i,c,h,g,O){return il(c),h=ad(i,c,h,g,void 0,O),g=oA(),i!==null&&!Oe?(lA(i,c,O),Hn(i,c,O)):(dr&&g&&Dl(c),c.flags|=1,He(i,c,h,O),c.child)}function $s(i,c,h,g,O,_){return il(c),c.updateQueue=null,h=Dd(c,g,h,O),yu(i),g=oA(),i!==null&&!Oe?(lA(i,c,_),Hn(i,c,_)):(dr&&g&&Dl(c),c.flags|=1,He(i,c,h,_),c.child)}function Qs(i,c,h,g,O){if(il(c),c.stateNode===null){var _=xo,ye=h.contextType;typeof ye=="object"&&ye!==null&&(_=ri(ye)),_=new h(g,_),c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=ih,c.stateNode=_,_._reactInternals=c,_=c.stateNode,_.props=g,_.state=c.memoizedState,_.refs={},Ma(c),ye=h.contextType,_.context=typeof ye=="object"&&ye!==null?ri(ye):xo,_.state=c.memoizedState,ye=h.getDerivedStateFromProps,typeof ye=="function"&&(ah(c,h,ye,g),_.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(ye=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),ye!==_.state&&ih.enqueueReplaceState(_,_.state,null),Hr(c,g,_,O),Oa(),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(i===null){_=c.stateNode;var ze=c.memoizedProps,mt=Rd(h,ze);_.props=mt;var ns=_.context,Es=h.contextType;ye=xo,typeof Es=="object"&&Es!==null&&(ye=ri(Es));var Is=h.getDerivedStateFromProps;Es=typeof Is=="function"||typeof _.getSnapshotBeforeUpdate=="function",ze=c.pendingProps!==ze,Es||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(ze||ns!==ye)&&Jh(c,_,g,ye),vs=!1;var as=c.memoizedState;_.state=as,Hr(c,g,_,O),Oa(),ns=c.memoizedState,ze||as!==ns||vs?(typeof Is=="function"&&(ah(c,h,Is,g),ns=c.memoizedState),(mt=vs||oh(c,h,mt,g,as,ns,ye))?(Es||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=ns),_.props=g,_.state=ns,_.context=ye,g=mt):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{_=c.stateNode,hn(i,c),ye=c.memoizedProps,Es=Rd(h,ye),_.props=Es,Is=c.pendingProps,as=_.context,ns=h.contextType,mt=xo,typeof ns=="object"&&ns!==null&&(mt=ri(ns)),ze=h.getDerivedStateFromProps,(ns=typeof ze=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(ye!==Is||as!==mt)&&Jh(c,_,g,mt),vs=!1,as=c.memoizedState,_.state=as,Hr(c,g,_,O),Oa();var ds=c.memoizedState;ye!==Is||as!==ds||vs||i!==null&&i.dependencies!==null&&ed(i.dependencies)?(typeof ze=="function"&&(ah(c,h,ze,g),ds=c.memoizedState),(Es=vs||oh(c,h,Es,g,as,ds,mt)||i!==null&&i.dependencies!==null&&ed(i.dependencies))?(ns||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,ds,mt),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,ds,mt)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||ye===i.memoizedProps&&as===i.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||ye===i.memoizedProps&&as===i.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ds),_.props=g,_.state=ds,_.context=mt,g=Es):(typeof _.componentDidUpdate!="function"||ye===i.memoizedProps&&as===i.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||ye===i.memoizedProps&&as===i.memoizedState||(c.flags|=1024),g=!1)}return _=g,js(i,c),g=(c.flags&128)!==0,_||g?(_=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:_.render(),c.flags|=1,i!==null&&g?(c.child=ar(c,i.child,null,O),c.child=ar(c,null,h,O)):He(i,c,h,O),c.memoizedState=_.state,i=c.child):i=Hn(i,c,O),i}function zr(i,c,h,g){return Yi(),c.flags|=256,He(i,c,h,g),c.child}var jr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rn(i){return{baseLanes:i,cachePool:na()}}function Pr(i,c,h){return i=i!==null?i.childLanes&~h:0,c&&(i|=Fe),i}function ca(i,c,h){var g=c.pendingProps,O=!1,_=(c.flags&128)!==0,ye;if((ye=_)||(ye=i!==null&&i.memoizedState===null?!1:(yi.current&2)!==0),ye&&(O=!0,c.flags&=-129),ye=(c.flags&32)!==0,c.flags&=-33,i===null){if(dr){if(O?Ya(c):ol(),(i=Ha)?(i=T1(i,bl),i=i!==null&&i.data!=="&"?i:null,i!==null&&(c.memoizedState={dehydrated:i,treeContext:ql!==null?{id:gl,overflow:rl}:null,retryLane:536870912,hydrationErrors:null},h=Gi(i),h.return=c,c.child=h,Qi=c,Ha=null)):i=null,i===null)throw Qo(c);return Qx(i)?c.lanes=32:c.lanes=536870912,null}var ze=g.children;return g=g.fallback,O?(ol(),O=c.mode,ze=Fn({mode:"hidden",children:ze},O),g=Oc(g,O,h,null),ze.return=c,g.return=c,ze.sibling=g,c.child=ze,g=c.child,g.memoizedState=Rn(h),g.childLanes=Pr(i,ye,h),c.memoizedState=jr,st(null,g)):(Ya(c),ro(c,ze))}var mt=i.memoizedState;if(mt!==null&&(ze=mt.dehydrated,ze!==null)){if(_)c.flags&256?(Ya(c),c.flags&=-257,c=Dr(i,c,h)):c.memoizedState!==null?(ol(),c.child=i.child,c.flags|=128,c=null):(ol(),ze=g.fallback,O=c.mode,g=Fn({mode:"visible",children:g.children},O),ze=Oc(ze,O,h,null),ze.flags|=2,g.return=c,ze.return=c,g.sibling=ze,c.child=g,ar(c,i.child,null,h),g=c.child,g.memoizedState=Rn(h),g.childLanes=Pr(i,ye,h),c.memoizedState=jr,c=st(null,g));else if(Ya(c),Qx(ze)){if(ye=ze.nextSibling&&ze.nextSibling.dataset,ye)var ns=ye.dgst;ye=ns,g=Error(n(419)),g.stack="",g.digest=ye,vl({value:g,source:null,stack:null}),c=Dr(i,c,h)}else if(Oe||vc(i,c,h,!1),ye=(h&i.childLanes)!==0,Oe||ye){if(ye=ma,ye!==null&&(g=$r(ye,h),g!==0&&g!==mt.retryLane))throw mt.retryLane=g,Wl(i,g),wi(ye,i,g),Ie;Rx(ze)||Sd(),c=Dr(i,c,h)}else Rx(ze)?(c.flags|=192,c.child=i.child,c=null):(i=mt.treeContext,Ha=au(ze.nextSibling),Qi=c,dr=!0,Ic=null,bl=!1,i!==null&&md(c,i),c=ro(c,g.children),c.flags|=4096);return c}return O?(ol(),ze=g.fallback,O=c.mode,mt=i.child,ns=mt.sibling,g=Ol(mt,{mode:"hidden",children:g.children}),g.subtreeFlags=mt.subtreeFlags&65011712,ns!==null?ze=Ol(ns,ze):(ze=Oc(ze,O,h,null),ze.flags|=2),ze.return=c,g.return=c,g.sibling=ze,c.child=g,st(null,g),g=c.child,ze=i.child.memoizedState,ze===null?ze=Rn(h):(O=ze.cachePool,O!==null?(mt=bi._currentValue,O=O.parent!==mt?{parent:mt,pool:mt}:O):O=na(),ze={baseLanes:ze.baseLanes|h,cachePool:O}),g.memoizedState=ze,g.childLanes=Pr(i,ye,h),c.memoizedState=jr,st(i.child,g)):(Ya(c),h=i.child,i=h.sibling,h=Ol(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,i!==null&&(ye=c.deletions,ye===null?(c.deletions=[i],c.flags|=16):ye.push(i)),c.child=h,c.memoizedState=null,h)}function ro(i,c){return c=Fn({mode:"visible",children:c},i.mode),c.return=i,i.child=c}function Fn(i,c){return i=Po(22,i,null,c),i.lanes=0,i}function Dr(i,c,h){return ar(c,i.child,null,h),i=ro(c,c.pendingProps.children),i.flags|=2,c.memoizedState=null,i}function ur(i,c,h){i.lanes|=c;var g=i.alternate;g!==null&&(g.lanes|=c),bd(i.return,c,h)}function _i(i,c,h,g,O,_){var ye=i.memoizedState;ye===null?i.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:O,treeForkCount:_}:(ye.isBackwards=c,ye.rendering=null,ye.renderingStartTime=0,ye.last=g,ye.tail=h,ye.tailMode=O,ye.treeForkCount=_)}function Un(i,c,h){var g=c.pendingProps,O=g.revealOrder,_=g.tail;g=g.children;var ye=yi.current,ze=(ye&2)!==0;if(ze?(ye=ye&1|2,c.flags|=128):ye&=1,be(yi,ye),He(i,c,g,h),g=dr?Zl:0,!ze&&i!==null&&(i.flags&128)!==0)e:for(i=c.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ur(i,h,c);else if(i.tag===19)ur(i,h,c);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===c)break e;for(;i.sibling===null;){if(i.return===null||i.return===c)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(O){case"forwards":for(h=c.child,O=null;h!==null;)i=h.alternate,i!==null&&qd(i)===null&&(O=h),h=h.sibling;h=O,h===null?(O=c.child,c.child=null):(O=h.sibling,h.sibling=null),_i(c,!1,O,h,_,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,O=c.child,c.child=null;O!==null;){if(i=O.alternate,i!==null&&qd(i)===null){c.child=O;break}i=O.sibling,O.sibling=h,h=O,O=i}_i(c,!0,h,null,_,g);break;case"together":_i(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Hn(i,c,h){if(i!==null&&(c.dependencies=i.dependencies),L|=c.lanes,(h&c.childLanes)===0)if(i!==null){if(vc(i,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(i!==null&&c.child!==i.child)throw Error(n(153));if(c.child!==null){for(i=c.child,h=Ol(i,i.pendingProps),c.child=h,h.return=c;i.sibling!==null;)i=i.sibling,h=h.sibling=Ol(i,i.pendingProps),h.return=c;h.sibling=null}return c.child}function ai(i,c){return(i.lanes&c)!==0?!0:(i=i.dependencies,!!(i!==null&&ed(i)))}function wo(i,c,h){switch(c.tag){case 3:Ve(c,c.stateNode.containerInfo),_o(c,bi,i.memoizedState.cache),Yi();break;case 27:case 5:Bt(c);break;case 4:Ve(c,c.stateNode.containerInfo);break;case 10:_o(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Mu(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Ya(c),c.flags|=128,null):(h&c.child.childLanes)!==0?ca(i,c,h):(Ya(c),i=Hn(i,c,h),i!==null?i.sibling:null);Ya(c);break;case 19:var O=(i.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(vc(i,c,h,!1),g=(h&c.childLanes)!==0),O){if(g)return Un(i,c,h);c.flags|=128}if(O=c.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),be(yi,yi.current),g)break;return null;case 22:return c.lanes=0,Wt(i,c,h,c.pendingProps);case 24:_o(c,bi,i.memoizedState.cache)}return Hn(i,c,h)}function zo(i,c,h){if(i!==null)if(i.memoizedProps!==c.pendingProps)Oe=!0;else{if(!ai(i,h)&&(c.flags&128)===0)return Oe=!1,wo(i,c,h);Oe=(i.flags&131072)!==0}else Oe=!1,dr&&(c.flags&1048576)!==0&&gu(c,Zl,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(i=H(c.elementType),c.type=i,typeof i=="function")An(i)?(g=Rd(i,g),c.tag=1,c=Qs(null,c,i,g,h)):(c.tag=0,c=Bs(null,c,i,g,h));else{if(i!=null){var O=i.$$typeof;if(O===X){c.tag=11,c=Ke(null,c,i,g,h);break e}else if(O===K){c.tag=14,c=nt(null,c,i,g,h);break e}}throw c=Ne(i)||i,Error(n(306,c,""))}}return c;case 0:return Bs(i,c,c.type,c.pendingProps,h);case 1:return g=c.type,O=Rd(g,c.pendingProps),Qs(i,c,g,O,h);case 3:e:{if(Ve(c,c.stateNode.containerInfo),i===null)throw Error(n(387));g=c.pendingProps;var _=c.memoizedState;O=_.element,hn(i,c),Hr(c,g,null,h);var ye=c.memoizedState;if(g=ye.cache,_o(c,bi,g),g!==_.cache&&yl(c,[bi],h,!0),Oa(),g=ye.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:ye.cache},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){c=zr(i,c,g,h);break e}else if(g!==O){O=Wi(Error(n(424)),c),vl(O),c=zr(i,c,g,h);break e}else{switch(i=c.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ha=au(i.firstChild),Qi=c,dr=!0,Ic=null,bl=!0,h=_s(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Yi(),g===O){c=Hn(i,c,h);break e}He(i,c,g,h)}c=c.child}return c;case 26:return js(i,c),i===null?(h=I1(c.type,null,c.pendingProps,null))?c.memoizedState=h:dr||(h=c.type,i=c.pendingProps,g=H0(ge.current).createElement(h),g[Rr]=c,g[Gn]=i,Bc(g,h,i),Fa(g),c.stateNode=g):c.memoizedState=I1(c.type,i.memoizedProps,c.pendingProps,i.memoizedState),null;case 27:return Bt(c),i===null&&dr&&(g=c.stateNode=U1(c.type,c.pendingProps,ge.current),Qi=c,bl=!0,O=Ha,uh(c.type)?(_x=O,Ha=au(g.firstChild)):Ha=O),He(i,c,c.pendingProps.children,h),js(i,c),i===null&&(c.flags|=4194304),c.child;case 5:return i===null&&dr&&((O=g=Ha)&&(g=i4(g,c.type,c.pendingProps,bl),g!==null?(c.stateNode=g,Qi=c,Ha=au(g.firstChild),bl=!1,O=!0):O=!1),O||Qo(c)),Bt(c),O=c.type,_=c.pendingProps,ye=i!==null?i.memoizedProps:null,g=_.children,Ix(O,_)?g=null:ye!==null&&Ix(O,ye)&&(c.flags|=32),c.memoizedState!==null&&(O=ad(i,c,Ou,null,null,h),Tp._currentValue=O),js(i,c),He(i,c,g,h),c.child;case 6:return i===null&&dr&&((i=h=Ha)&&(h=o4(h,c.pendingProps,bl),h!==null?(c.stateNode=h,Qi=c,Ha=null,i=!0):i=!1),i||Qo(c)),null;case 13:return ca(i,c,h);case 4:return Ve(c,c.stateNode.containerInfo),g=c.pendingProps,i===null?c.child=ar(c,null,g,h):He(i,c,g,h),c.child;case 11:return Ke(i,c,c.type,c.pendingProps,h);case 7:return He(i,c,c.pendingProps,h),c.child;case 8:return He(i,c,c.pendingProps.children,h),c.child;case 12:return He(i,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,_o(c,c.type,g.value),He(i,c,g.children,h),c.child;case 9:return O=c.type._context,g=c.pendingProps.children,il(c),O=ri(O),g=g(O),c.flags|=1,He(i,c,g,h),c.child;case 14:return nt(i,c,c.type,c.pendingProps,h);case 15:return Ct(i,c,c.type,c.pendingProps,h);case 19:return Un(i,c,h);case 31:return Zt(i,c,h);case 22:return Wt(i,c,h,c.pendingProps);case 24:return il(c),g=ri(bi),i===null?(O=pn(),O===null&&(O=ma,_=rd(),O.pooledCache=_,_.refCount++,_!==null&&(O.pooledCacheLanes|=h),O=_),c.memoizedState={parent:g,cache:O},Ma(c),_o(c,bi,O)):((i.lanes&h)!==0&&(hn(i,c),Hr(c,null,null,h),Oa()),O=i.memoizedState,_=c.memoizedState,O.parent!==g?(O={parent:g,cache:g},c.memoizedState=O,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=O),_o(c,bi,g)):(g=_.cache,_o(c,bi,g),g!==O.cache&&yl(c,[bi],h,!0))),He(i,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Ia(i){i.flags|=4}function $o(i,c,h,g,O){if((c=(i.mode&32)!==0)&&(c=!1),c){if(i.flags|=16777216,(O&335544128)===O)if(i.stateNode.complete)i.flags|=8192;else if(Bu())i.flags|=8192;else throw Qe=Ti,vi}else i.flags&=-16777217}function jl(i,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_1(c))if(Bu())i.flags|=8192;else throw Qe=Ti,vi}function Hi(i,c){c!==null&&(i.flags|=4),i.flags&16384&&(c=i.tag!==22?ya():536870912,i.lanes|=c,qe|=c)}function oa(i,c){if(!dr)switch(i.tailMode){case"hidden":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function dn(i){var c=i.alternate!==null&&i.alternate.child===i.child,h=0,g=0;if(c)for(var O=i.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags&65011712,g|=O.flags&65011712,O.return=i,O=O.sibling;else for(O=i.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags,g|=O.flags,O.return=i,O=O.sibling;return i.subtreeFlags|=g,i.childLanes=h,c}function Zi(i,c,h){var g=c.pendingProps;switch(xu(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(c),null;case 1:return dn(c),null;case 3:return h=c.stateNode,g=null,i!==null&&(g=i.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),al(bi),kt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(xd(c)?Ia(c):i===null||i.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,qc())),dn(c),null;case 26:var O=c.type,_=c.memoizedState;return i===null?(Ia(c),_!==null?(dn(c),jl(c,_)):(dn(c),$o(c,O,null,g,h))):_?_!==i.memoizedState?(Ia(c),dn(c),jl(c,_)):(dn(c),c.flags&=-16777217):(i=i.memoizedProps,i!==g&&Ia(c),dn(c),$o(c,O,i,g,h)),null;case 27:if(We(c),h=ge.current,O=c.type,i!==null&&c.stateNode!=null)i.memoizedProps!==g&&Ia(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return dn(c),null}i=fe.current,xd(c)?Dc(c):(i=U1(O,g,h),c.stateNode=i,Ia(c))}return dn(c),null;case 5:if(We(c),O=c.type,i!==null&&c.stateNode!=null)i.memoizedProps!==g&&Ia(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return dn(c),null}if(_=fe.current,xd(c))Dc(c);else{var ye=H0(ge.current);switch(_){case 1:_=ye.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:_=ye.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":_=ye.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":_=ye.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":_=ye.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof g.is=="string"?ye.createElement("select",{is:g.is}):ye.createElement("select"),g.multiple?_.multiple=!0:g.size&&(_.size=g.size);break;default:_=typeof g.is=="string"?ye.createElement(O,{is:g.is}):ye.createElement(O)}}_[Rr]=c,_[Gn]=g;e:for(ye=c.child;ye!==null;){if(ye.tag===5||ye.tag===6)_.appendChild(ye.stateNode);else if(ye.tag!==4&&ye.tag!==27&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===c)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===c)break e;ye=ye.return}ye.sibling.return=ye.return,ye=ye.sibling}c.stateNode=_;e:switch(Bc(_,O,g),O){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ia(c)}}return dn(c),$o(c,c.type,i===null?null:i.memoizedProps,c.pendingProps,h),null;case 6:if(i&&c.stateNode!=null)i.memoizedProps!==g&&Ia(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(i=ge.current,xd(c)){if(i=c.stateNode,h=c.memoizedProps,g=null,O=Qi,O!==null)switch(O.tag){case 27:case 5:g=O.memoizedProps}i[Rr]=c,i=!!(i.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||w1(i.nodeValue,h)),i||Qo(c,!0)}else i=H0(i).createTextNode(g),i[Rr]=c,c.stateNode=i}return dn(c),null;case 31:if(h=c.memoizedState,i===null||i.memoizedState!==null){if(g=xd(c),h!==null){if(i===null){if(!g)throw Error(n(318));if(i=c.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Rr]=c}else Yi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;dn(c),i=!1}else h=qc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),i=!0;if(!i)return c.flags&256?(ll(c),c):(ll(c),null);if((c.flags&128)!==0)throw Error(n(558))}return dn(c),null;case 13:if(g=c.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(O=xd(c),g!==null&&g.dehydrated!==null){if(i===null){if(!O)throw Error(n(318));if(O=c.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Rr]=c}else Yi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;dn(c),O=!1}else O=qc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=O),O=!0;if(!O)return c.flags&256?(ll(c),c):(ll(c),null)}return ll(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,i=i!==null&&i.memoizedState!==null,h&&(g=c.child,O=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(O=g.alternate.memoizedState.cachePool.pool),_=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==O&&(g.flags|=2048)),h!==i&&h&&(c.child.flags|=8192),Hi(c,c.updateQueue),dn(c),null);case 4:return kt(),i===null&&Lx(c.stateNode.containerInfo),dn(c),null;case 10:return al(c.type),dn(c),null;case 19:if(he(yi),g=c.memoizedState,g===null)return dn(c),null;if(O=(c.flags&128)!==0,_=g.rendering,_===null)if(O)oa(g,!1);else{if(F!==0||i!==null&&(i.flags&128)!==0)for(i=c.child;i!==null;){if(_=qd(i),_!==null){for(c.flags|=128,oa(g,!1),i=_.updateQueue,c.updateQueue=i,Hi(c,i),c.subtreeFlags=0,i=h,h=c.child;h!==null;)Yl(h,i),h=h.sibling;return be(yi,yi.current&1|2),dr&&xl(c,g.treeForkCount),c.child}i=i.sibling}g.tail!==null&&Ds()>Nr&&(c.flags|=128,O=!0,oa(g,!1),c.lanes=4194304)}else{if(!O)if(i=qd(_),i!==null){if(c.flags|=128,O=!0,i=i.updateQueue,c.updateQueue=i,Hi(c,i),oa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!dr)return dn(c),null}else 2*Ds()-g.renderingStartTime>Nr&&h!==536870912&&(c.flags|=128,O=!0,oa(g,!1),c.lanes=4194304);g.isBackwards?(_.sibling=c.child,c.child=_):(i=g.last,i!==null?i.sibling=_:c.child=_,g.last=_)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ds(),i.sibling=null,h=yi.current,be(yi,O?h&1|2:h&1),dr&&xl(c,g.treeForkCount),i):(dn(c),null);case 22:case 23:return ll(c),wl(),g=c.memoizedState!==null,i!==null?i.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(dn(c),c.subtreeFlags&6&&(c.flags|=8192)):dn(c),h=c.updateQueue,h!==null&&Hi(c,h.retryQueue),h=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),i!==null&&he(Er),null;case 24:return h=null,i!==null&&(h=i.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),al(bi),dn(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function $a(i,c){switch(xu(c),c.tag){case 1:return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 3:return al(bi),kt(),i=c.flags,(i&65536)!==0&&(i&128)===0?(c.flags=i&-65537|128,c):null;case 26:case 27:case 5:return We(c),null;case 31:if(c.memoizedState!==null){if(ll(c),c.alternate===null)throw Error(n(340));Yi()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 13:if(ll(c),i=c.memoizedState,i!==null&&i.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Yi()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 19:return he(yi),null;case 4:return kt(),null;case 10:return al(c.type),null;case 22:case 23:return ll(c),wl(),i!==null&&he(Er),i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 24:return al(bi),null;case 25:return null;default:return null}}function Vo(i,c){switch(xu(c),c.tag){case 3:al(bi),kt();break;case 26:case 27:case 5:We(c);break;case 4:kt();break;case 31:c.memoizedState!==null&&ll(c);break;case 13:ll(c);break;case 19:he(yi);break;case 10:al(c.type);break;case 22:case 23:ll(c),wl(),i!==null&&he(Er);break;case 24:al(bi)}}function dl(i,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var O=g.next;h=O;do{if((h.tag&i)===i){g=void 0;var _=h.create,ye=h.inst;g=_(),ye.destroy=g}h=h.next}while(h!==O)}}catch(ze){ji(c,c.return,ze)}}function Xa(i,c,h){try{var g=c.updateQueue,O=g!==null?g.lastEffect:null;if(O!==null){var _=O.next;g=_;do{if((g.tag&i)===i){var ye=g.inst,ze=ye.destroy;if(ze!==void 0){ye.destroy=void 0,O=c;var mt=h,ns=ze;try{ns()}catch(Es){ji(O,mt,Es)}}}g=g.next}while(g!==_)}}catch(Es){ji(c,c.return,Es)}}function ul(i){var c=i.updateQueue;if(c!==null){var h=i.stateNode;try{Dn(c,h)}catch(g){ji(i,i.return,g)}}}function Ja(i,c,h){h.props=Rd(i.type,i.memoizedProps),h.state=i.memoizedState;try{h.componentWillUnmount()}catch(g){ji(i,c,g)}}function Ys(i,c){try{var h=i.ref;if(h!==null){switch(i.tag){case 26:case 27:case 5:var g=i.stateNode;break;case 30:g=i.stateNode;break;default:g=i.stateNode}typeof h=="function"?i.refCleanup=h(g):h.current=g}}catch(O){ji(i,c,O)}}function ii(i,c){var h=i.ref,g=i.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(O){ji(i,c,O)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(O){ji(i,c,O)}else h.current=null}function jo(i){var c=i.type,h=i.memoizedProps,g=i.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(O){ji(i,i.return,O)}}function ui(i,c,h){try{var g=i.stateNode;e4(g,i.type,h,c),g[Gn]=c}catch(O){ji(i,i.return,O)}}function nc(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&uh(i.type)||i.tag===4}function Tn(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||nc(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&uh(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ea(i,c,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(i,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(i),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=J));else if(g!==4&&(g===27&&uh(i.type)&&(h=i.stateNode,c=null),i=i.child,i!==null))for(ea(i,c,h),i=i.sibling;i!==null;)ea(i,c,h),i=i.sibling}function Sa(i,c,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,c?h.insertBefore(i,c):h.appendChild(i);else if(g!==4&&(g===27&&uh(i.type)&&(h=i.stateNode),i=i.child,i!==null))for(Sa(i,c,h),i=i.sibling;i!==null;)Sa(i,c,h),i=i.sibling}function ac(i){var c=i.stateNode,h=i.memoizedProps;try{for(var g=i.type,O=c.attributes;O.length;)c.removeAttributeNode(O[0]);Bc(c,g,h),c[Rr]=i,c[Gn]=h}catch(_){ji(i,i.return,_)}}var qi=!1,Ai=!1,ic=!1,Ko=typeof WeakSet=="function"?WeakSet:Set,no=null;function lh(i,c){if(i=i.containerInfo,Mx=Y0,i=Gl(i),on(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var O=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var ye=0,ze=-1,mt=-1,ns=0,Es=0,Is=i,as=null;t:for(;;){for(var ds;Is!==h||O!==0&&Is.nodeType!==3||(ze=ye+O),Is!==_||g!==0&&Is.nodeType!==3||(mt=ye+g),Is.nodeType===3&&(ye+=Is.nodeValue.length),(ds=Is.firstChild)!==null;)as=Is,Is=ds;for(;;){if(Is===i)break t;if(as===h&&++ns===O&&(ze=ye),as===_&&++Es===g&&(mt=ye),(ds=Is.nextSibling)!==null)break;Is=as,as=Is.parentNode}Is=ds}h=ze===-1||mt===-1?null:{start:ze,end:mt}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ox={focusedElem:i,selectionRange:h},Y0=!1,no=c;no!==null;)if(c=no,i=c.child,(c.subtreeFlags&1028)!==0&&i!==null)i.return=c,no=i;else for(;no!==null;){switch(c=no,_=c.alternate,i=c.flags,c.tag){case 0:if((i&4)!==0&&(i=c.updateQueue,i=i!==null?i.events:null,i!==null))for(h=0;h<i.length;h++)O=i[h],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,h=c,O=_.memoizedProps,_=_.memoizedState,g=h.stateNode;try{var Qr=Rd(h.type,O);i=g.getSnapshotBeforeUpdate(Qr,_),g.__reactInternalSnapshotBeforeUpdate=i}catch(kn){ji(h,h.return,kn)}}break;case 3:if((i&1024)!==0){if(i=c.stateNode.containerInfo,h=i.nodeType,h===9)Px(i);else if(h===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Px(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=c.sibling,i!==null){i.return=c.return,no=i;break}no=c.return}}function jA(i,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Nl(i,h),g&4&&dl(5,h);break;case 1:if(Nl(i,h),g&4)if(i=h.stateNode,c===null)try{i.componentDidMount()}catch(ye){ji(h,h.return,ye)}else{var O=Rd(h.type,c.memoizedProps);c=c.memoizedState;try{i.componentDidUpdate(O,c,i.__reactInternalSnapshotBeforeUpdate)}catch(ye){ji(h,h.return,ye)}}g&64&&ul(h),g&512&&Ys(h,h.return);break;case 3:if(Nl(i,h),g&64&&(i=h.updateQueue,i!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{Dn(i,c)}catch(ye){ji(h,h.return,ye)}}break;case 27:c===null&&g&4&&ac(h);case 26:case 5:Nl(i,h),c===null&&g&4&&jo(h),g&512&&Ys(h,h.return);break;case 12:Nl(i,h);break;case 31:Nl(i,h),g&4&&Zh(i,h);break;case 13:Nl(i,h),g&4&&If(i,h),g&64&&(i=h.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(h=HC.bind(null,h),l4(i,h))));break;case 22:if(g=h.memoizedState!==null||qi,!g){c=c!==null&&c.memoizedState!==null||Ai,O=qi;var _=Ai;qi=g,(Ai=c)&&!_?Qd(i,h,(h.subtreeFlags&8772)!==0):Nl(i,h),qi=O,Ai=_}break;case 30:break;default:Nl(i,h)}}function ku(i){var c=i.alternate;c!==null&&(i.alternate=null,ku(c)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(c=i.stateNode,c!==null&&Kl(c)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Fi=null,Rl=!1;function Qc(i,c,h){for(h=h.child;h!==null;)id(i,c,h),h=h.sibling}function id(i,c,h){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ts,h)}catch{}switch(h.tag){case 26:Ai||ii(h,c),Qc(i,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Ai||ii(h,c);var g=Fi,O=Rl;uh(h.type)&&(Fi=h.stateNode,Rl=!1),Qc(i,c,h),Bp(h.stateNode),Fi=g,Rl=O;break;case 5:Ai||ii(h,c);case 6:if(g=Fi,O=Rl,Fi=null,Qc(i,c,h),Fi=g,Rl=O,Fi!==null)if(Rl)try{(Fi.nodeType===9?Fi.body:Fi.nodeName==="HTML"?Fi.ownerDocument.body:Fi).removeChild(h.stateNode)}catch(_){ji(h,c,_)}else try{Fi.removeChild(h.stateNode)}catch(_){ji(h,c,_)}break;case 18:Fi!==null&&(Rl?(i=Fi,S1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,h.stateNode),Vf(i)):S1(Fi,h.stateNode));break;case 4:g=Fi,O=Rl,Fi=h.stateNode.containerInfo,Rl=!0,Qc(i,c,h),Fi=g,Rl=O;break;case 0:case 11:case 14:case 15:Xa(2,h,c),Ai||Xa(4,h,c),Qc(i,c,h);break;case 1:Ai||(ii(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&Ja(h,c,g)),Qc(i,c,h);break;case 21:Qc(i,c,h);break;case 22:Ai=(g=Ai)||h.memoizedState!==null,Qc(i,c,h),Ai=g;break;default:Qc(i,c,h)}}function Zh(i,c){if(c.memoizedState===null&&(i=c.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Vf(i)}catch(h){ji(c,c.return,h)}}}function If(i,c){if(c.memoizedState===null&&(i=c.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Vf(i)}catch(h){ji(c,c.return,h)}}function Df(i){switch(i.tag){case 31:case 13:case 19:var c=i.stateNode;return c===null&&(c=i.stateNode=new Ko),c;case 22:return i=i.stateNode,c=i._retryCache,c===null&&(c=i._retryCache=new Ko),c;default:throw Error(n(435,i.tag))}}function NA(i,c){var h=Df(i);c.forEach(function(g){if(!h.has(g)){h.add(g);var O=zC.bind(null,i,g);g.then(O,O)}})}function Al(i,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var O=h[g],_=i,ye=c,ze=ye;e:for(;ze!==null;){switch(ze.tag){case 27:if(uh(ze.type)){Fi=ze.stateNode,Rl=!1;break e}break;case 5:Fi=ze.stateNode,Rl=!1;break e;case 3:case 4:Fi=ze.stateNode.containerInfo,Rl=!0;break e}ze=ze.return}if(Fi===null)throw Error(n(160));id(_,ye,O),Fi=null,Rl=!1,_=O.alternate,_!==null&&(_.return=null),O.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Hu(c,i),c=c.sibling}var _c=null;function Hu(i,c){var h=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Al(c,i),Za(i),g&4&&(Xa(3,i,i.return),dl(3,i),Xa(5,i,i.return));break;case 1:Al(c,i),Za(i),g&512&&(Ai||h===null||ii(h,h.return)),g&64&&qi&&(i=i.updateQueue,i!==null&&(g=i.callbacks,g!==null&&(h=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var O=_c;if(Al(c,i),Za(i),g&512&&(Ai||h===null||ii(h,h.return)),g&4){var _=h!==null?h.memoizedState:null;if(g=i.memoizedState,h===null)if(g===null)if(i.stateNode===null){e:{g=i.type,h=i.memoizedProps,O=O.ownerDocument||O;t:switch(g){case"title":_=O.getElementsByTagName("title")[0],(!_||_[Fo]||_[Rr]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=O.createElement(g),O.head.insertBefore(_,O.querySelector("head > title"))),Bc(_,g,h),_[Rr]=i,Fa(_),g=_;break e;case"link":var ye=R1("link","href",O).get(g+(h.href||""));if(ye){for(var ze=0;ze<ye.length;ze++)if(_=ye[ze],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){ye.splice(ze,1);break t}}_=O.createElement(g),Bc(_,g,h),O.head.appendChild(_);break;case"meta":if(ye=R1("meta","content",O).get(g+(h.content||""))){for(ze=0;ze<ye.length;ze++)if(_=ye[ze],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){ye.splice(ze,1);break t}}_=O.createElement(g),Bc(_,g,h),O.head.appendChild(_);break;default:throw Error(n(468,g))}_[Rr]=i,Fa(_),g=_}i.stateNode=g}else Q1(O,i.type,i.stateNode);else i.stateNode=P1(O,g,i.memoizedProps);else _!==g?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,g===null?Q1(O,i.type,i.stateNode):P1(O,g,i.memoizedProps)):g===null&&i.stateNode!==null&&ui(i,i.memoizedProps,h.memoizedProps)}break;case 27:Al(c,i),Za(i),g&512&&(Ai||h===null||ii(h,h.return)),h!==null&&g&4&&ui(i,i.memoizedProps,h.memoizedProps);break;case 5:if(Al(c,i),Za(i),g&512&&(Ai||h===null||ii(h,h.return)),i.flags&32){O=i.stateNode;try{xa(O,"")}catch(Qr){ji(i,i.return,Qr)}}g&4&&i.stateNode!=null&&(O=i.memoizedProps,ui(i,O,h!==null?h.memoizedProps:O)),g&1024&&(ic=!0);break;case 6:if(Al(c,i),Za(i),g&4){if(i.stateNode===null)throw Error(n(162));g=i.memoizedProps,h=i.stateNode;try{h.nodeValue=g}catch(Qr){ji(i,i.return,Qr)}}break;case 3:if(V0=null,O=_c,_c=z0(c.containerInfo),Al(c,i),_c=O,Za(i),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Vf(c.containerInfo)}catch(Qr){ji(i,i.return,Qr)}ic&&(ic=!1,kA(i));break;case 4:g=_c,_c=z0(i.stateNode.containerInfo),Al(c,i),Za(i),_c=g;break;case 12:Al(c,i),Za(i);break;case 31:Al(c,i),Za(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,NA(i,g)));break;case 13:Al(c,i),Za(i),i.child.flags&8192&&i.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Gt=Ds()),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,NA(i,g)));break;case 22:O=i.memoizedState!==null;var mt=h!==null&&h.memoizedState!==null,ns=qi,Es=Ai;if(qi=ns||O,Ai=Es||mt,Al(c,i),Ai=Es,qi=ns,Za(i),g&8192)e:for(c=i.stateNode,c._visibility=O?c._visibility&-2:c._visibility|1,O&&(h===null||mt||qi||Ai||su(i)),h=null,c=i;;){if(c.tag===5||c.tag===26){if(h===null){mt=h=c;try{if(_=mt.stateNode,O)ye=_.style,typeof ye.setProperty=="function"?ye.setProperty("display","none","important"):ye.display="none";else{ze=mt.stateNode;var Is=mt.memoizedProps.style,as=Is!=null&&Is.hasOwnProperty("display")?Is.display:null;ze.style.display=as==null||typeof as=="boolean"?"":(""+as).trim()}}catch(Qr){ji(mt,mt.return,Qr)}}}else if(c.tag===6){if(h===null){mt=c;try{mt.stateNode.nodeValue=O?"":mt.memoizedProps}catch(Qr){ji(mt,mt.return,Qr)}}}else if(c.tag===18){if(h===null){mt=c;try{var ds=mt.stateNode;O?E1(ds,!0):E1(mt.stateNode,!1)}catch(Qr){ji(mt,mt.return,Qr)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===i)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break e;for(;c.sibling===null;){if(c.return===null||c.return===i)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=i.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,NA(i,h))));break;case 19:Al(c,i),Za(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,NA(i,g)));break;case 30:break;case 21:break;default:Al(c,i),Za(i)}}function Za(i){var c=i.flags;if(c&2){try{for(var h,g=i.return;g!==null;){if(nc(g)){h=g;break}g=g.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var O=h.stateNode,_=Tn(i);Sa(i,_,O);break;case 5:var ye=h.stateNode;h.flags&32&&(xa(ye,""),h.flags&=-33);var ze=Tn(i);Sa(i,ze,ye);break;case 3:case 4:var mt=h.stateNode.containerInfo,ns=Tn(i);ea(i,ns,mt);break;default:throw Error(n(161))}}catch(Es){ji(i,i.return,Es)}i.flags&=-3}c&4096&&(i.flags&=-4097)}function kA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var c=i;kA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),i=i.sibling}}function Nl(i,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)jA(i,c.alternate,c),c=c.sibling}function su(i){for(i=i.child;i!==null;){var c=i;switch(c.tag){case 0:case 11:case 14:case 15:Xa(4,c,c.return),su(c);break;case 1:ii(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&Ja(c,c.return,h),su(c);break;case 27:Bp(c.stateNode);case 26:case 5:ii(c,c.return),su(c);break;case 22:c.memoizedState===null&&su(c);break;case 30:su(c);break;default:su(c)}i=i.sibling}}function Qd(i,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,O=i,_=c,ye=_.flags;switch(_.tag){case 0:case 11:case 15:Qd(O,_,h),dl(4,_);break;case 1:if(Qd(O,_,h),g=_,O=g.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(ns){ji(g,g.return,ns)}if(g=_,O=g.updateQueue,O!==null){var ze=g.stateNode;try{var mt=O.shared.hiddenCallbacks;if(mt!==null)for(O.shared.hiddenCallbacks=null,O=0;O<mt.length;O++)aa(mt[O],ze)}catch(ns){ji(g,g.return,ns)}}h&&ye&64&&ul(_),Ys(_,_.return);break;case 27:ac(_);case 26:case 5:Qd(O,_,h),h&&g===null&&ye&4&&jo(_),Ys(_,_.return);break;case 12:Qd(O,_,h);break;case 31:Qd(O,_,h),h&&ye&4&&Zh(O,_);break;case 13:Qd(O,_,h),h&&ye&4&&If(O,_);break;case 22:_.memoizedState===null&&Qd(O,_,h),Ys(_,_.return);break;case 30:break;default:Qd(O,_,h)}c=c.sibling}}function ru(i,c){var h=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),i=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(i=c.memoizedState.cachePool.pool),i!==h&&(i!=null&&i.refCount++,h!=null&&yd(h))}function _d(i,c){i=null,c.alternate!==null&&(i=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==i&&(c.refCount++,i!=null&&yd(i))}function kl(i,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Hd(i,c,h,g),c=c.sibling}function Hd(i,c,h,g){var O=c.flags;switch(c.tag){case 0:case 11:case 15:kl(i,c,h,g),O&2048&&dl(9,c);break;case 1:kl(i,c,h,g);break;case 3:kl(i,c,h,g),O&2048&&(i=null,c.alternate!==null&&(i=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==i&&(c.refCount++,i!=null&&yd(i)));break;case 12:if(O&2048){kl(i,c,h,g),i=c.stateNode;try{var _=c.memoizedProps,ye=_.id,ze=_.onPostCommit;typeof ze=="function"&&ze(ye,c.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(mt){ji(c,c.return,mt)}}else kl(i,c,h,g);break;case 31:kl(i,c,h,g);break;case 13:kl(i,c,h,g);break;case 23:break;case 22:_=c.stateNode,ye=c.alternate,c.memoizedState!==null?_._visibility&2?kl(i,c,h,g):zu(i,c):_._visibility&2?kl(i,c,h,g):(_._visibility|=2,Hc(i,c,h,g,(c.subtreeFlags&10256)!==0||!1)),O&2048&&ru(ye,c);break;case 24:kl(i,c,h,g),O&2048&&_d(c.alternate,c);break;default:kl(i,c,h,g)}}function Hc(i,c,h,g,O){for(O=O&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var _=i,ye=c,ze=h,mt=g,ns=ye.flags;switch(ye.tag){case 0:case 11:case 15:Hc(_,ye,ze,mt,O),dl(8,ye);break;case 23:break;case 22:var Es=ye.stateNode;ye.memoizedState!==null?Es._visibility&2?Hc(_,ye,ze,mt,O):zu(_,ye):(Es._visibility|=2,Hc(_,ye,ze,mt,O)),O&&ns&2048&&ru(ye.alternate,ye);break;case 24:Hc(_,ye,ze,mt,O),O&&ns&2048&&_d(ye.alternate,ye);break;default:Hc(_,ye,ze,mt,O)}c=c.sibling}}function zu(i,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=i,g=c,O=g.flags;switch(g.tag){case 22:zu(h,g),O&2048&&ru(g.alternate,g);break;case 24:zu(h,g),O&2048&&_d(g.alternate,g);break;default:zu(h,g)}c=c.sibling}}var CA=8192;function nu(i,c,h){if(i.subtreeFlags&CA)for(i=i.child;i!==null;)Cu(i,c,h),i=i.sibling}function Cu(i,c,h){switch(i.tag){case 26:nu(i,c,h),i.flags&CA&&i.memoizedState!==null&&v4(h,_c,i.memoizedState,i.memoizedProps);break;case 5:nu(i,c,h);break;case 3:case 4:var g=_c;_c=z0(i.stateNode.containerInfo),nu(i,c,h),_c=g;break;case 22:i.memoizedState===null&&(g=i.alternate,g!==null&&g.memoizedState!==null?(g=CA,CA=16777216,nu(i,c,h),CA=g):nu(i,c,h));break;default:nu(i,c,h)}}function qh(i){var c=i.alternate;if(c!==null&&(i=c.child,i!==null)){c.child=null;do c=i.sibling,i.sibling=null,i=c;while(i!==null)}}function $u(i){var c=i.deletions;if((i.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];no=g,Rf(g,i)}qh(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pf(i),i=i.sibling}function Pf(i){switch(i.tag){case 0:case 11:case 15:$u(i),i.flags&2048&&Xa(9,i,i.return);break;case 3:$u(i);break;case 12:$u(i);break;case 22:var c=i.stateNode;i.memoizedState!==null&&c._visibility&2&&(i.return===null||i.return.tag!==13)?(c._visibility&=-3,BA(i)):$u(i);break;default:$u(i)}}function BA(i){var c=i.deletions;if((i.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];no=g,Rf(g,i)}qh(i)}for(i=i.child;i!==null;){switch(c=i,c.tag){case 0:case 11:case 15:Xa(8,c,c.return),BA(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,BA(c));break;default:BA(c)}i=i.sibling}}function Rf(i,c){for(;no!==null;){var h=no;switch(h.tag){case 0:case 11:case 15:Xa(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:yd(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,no=g;else e:for(h=i;no!==null;){g=no;var O=g.sibling,_=g.return;if(ku(g),g===h){no=null;break e}if(O!==null){O.return=_,no=O;break e}no=_}}}var SA={getCacheForType:function(i){var c=ri(bi),h=c.data.get(i);return h===void 0&&(h=i(),c.data.set(i,h)),h},cacheSignal:function(){return ri(bi).controller.signal}},ef=typeof WeakMap=="function"?WeakMap:Map,ba=0,ma=null,Mn=null,Qn=0,Ea=0,Ql=null,zd=!1,Vu=!1,B=!1,j=0,F=0,L=0,ae=0,je=0,Fe=0,qe=0,et=null,Nt=null,Dt=!1,Gt=0,Ns=0,Nr=1/0,qs=null,Ar=null,Jr=0,Ur=null,Fr=null,ta=0,Xn=0,Nn=null,kr=null,da=0,va=null;function sn(){return(ba&2)!==0&&Qn!==0?Qn&-Qn:se.T!==null?Bx():Vn()}function No(){if(Fe===0)if((Qn&536870912)===0||dr){var i=As;As<<=1,(As&3932160)===0&&(As=262144),Fe=i}else Fe=536870912;return i=Xi.current,i!==null&&(i.flags|=32),Fe}function wi(i,c,h){(i===ma&&(Ea===2||Ea===9)||i.cancelPendingCommit!==null)&&(Bd(i,0),Cc(i,Qn,Fe,!1)),ps(i,h),((ba&2)===0||i!==ma)&&(i===ma&&((ba&2)===0&&(ae|=h),F===4&&Cc(i,Qn,Fe,!1)),Wu(i))}function zc(i,c,h){if((ba&6)!==0)throw Error(n(327));var g=!h&&(c&127)===0&&(c&i.expiredLanes)===0||pr(i,c),O=g?ch(i,c):Su(i,c,!0),_=g;do{if(O===0){Vu&&!g&&Cc(i,c,0,!1);break}else{if(h=i.current.alternate,_&&!_l(h)){O=Su(i,c,!1),_=!1;continue}if(O===2){if(_=c,i.errorRecoveryDisabledLanes&_)var ye=0;else ye=i.pendingLanes&-536870913,ye=ye!==0?ye:ye&536870912?536870912:0;if(ye!==0){c=ye;e:{var ze=i;O=et;var mt=ze.current.memoizedState.isDehydrated;if(mt&&(Bd(ze,ye).flags|=256),ye=Su(ze,ye,!1),ye!==2){if(B&&!mt){ze.errorRecoveryDisabledLanes|=_,ae|=_,O=4;break e}_=Nt,Nt=O,_!==null&&(Nt===null?Nt=_:Nt.push.apply(Nt,_))}O=ye}if(_=!1,O!==2)continue}}if(O===1){Bd(i,0),Cc(i,c,0,!0);break}e:{switch(g=i,_=O,_){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Cc(g,c,Fe,!zd);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(O=Gt+300-Ds(),10<O)){if(Cc(g,c,Fe,!zd),Ks(g,0,!0)!==0)break e;ta=c,g.timeoutHandle=C1(oi.bind(null,g,h,Nt,qs,Dt,c,Fe,ae,qe,zd,_,"Throttled",-0,0),O);break e}oi(g,h,Nt,qs,Dt,c,Fe,ae,qe,zd,_,null,-0,0)}}break}while(!0);Wu(i)}function oi(i,c,h,g,O,_,ye,ze,mt,ns,Es,Is,as,ds){if(i.timeoutHandle=-1,Is=c.subtreeFlags,Is&8192||(Is&16785408)===16785408){Is={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:J},Cu(c,_,Is);var Qr=(_&62914560)===_?Gt-Ds():(_&4194048)===_?Ns-Ds():0;if(Qr=y4(Is,Qr),Qr!==null){ta=_,i.cancelPendingCommit=Qr(n1.bind(null,i,c,_,h,g,O,ye,ze,mt,Es,Is,null,as,ds)),Cc(i,_,ye,!ns);return}}n1(i,c,_,h,g,O,ye,ze,mt)}function _l(i){for(var c=i;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var O=h[g],_=O.getSnapshot;O=O.value;try{if(!or(_(),O))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Cc(i,c,h,g){c&=~je,c&=~ae,i.suspendedLanes|=c,i.pingedLanes&=~c,g&&(i.warmLanes|=c),g=i.expirationTimes;for(var O=c;0<O;){var _=31-ks(O),ye=1<<_;g[_]=-1,O&=~ye}h!==0&&cs(i,h,c)}function Hl(){return(ba&6)===0?(Np(0),!1):!0}function oc(){if(Mn!==null){if(Ea===0)var i=Mn.return;else i=Mn,bc=nl=null,cA(i),Xt=null,Lt=0,i=Mn;for(;i!==null;)Vo(i.alternate,i),i=i.return;Mn=null}}function Bd(i,c){var h=i.timeoutHandle;h!==-1&&(i.timeoutHandle=-1,r4(h)),h=i.cancelPendingCommit,h!==null&&(i.cancelPendingCommit=null,h()),ta=0,oc(),ma=i,Mn=h=Ol(i.current,null),Qn=c,Ea=0,Ql=null,zd=!1,Vu=pr(i,c),B=!1,qe=Fe=je=ae=L=F=0,Nt=et=null,Dt=!1,(c&8)!==0&&(c|=c&32);var g=i.entangledLanes;if(g!==0)for(i=i.entanglements,g&=c;0<g;){var O=31-ks(g),_=1<<O;c|=i[O],g&=~_}return j=c,xc(),h}function $d(i,c){vn=null,se.H=bA,c===Ua||c===Ba?(c=lt(),Ea=3):c===vi?(c=lt(),Ea=4):Ea=c===Ie?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ql=c,Mn===null&&(F=1,_u(i,Wi(c,i.current)))}function Bu(){var i=Xi.current;return i===null?!0:(Qn&4194048)===Qn?yo===null:(Qn&62914560)===Qn||(Qn&536870912)!==0?i===yo:!1}function Ku(){var i=se.H;return se.H=bA,i===null?bA:i}function Gu(){var i=se.A;return se.A=SA,i}function Sd(){F=4,zd||(Qn&4194048)!==Qn&&Xi.current!==null||(Vu=!0),(L&134217727)===0&&(ae&134217727)===0||ma===null||Cc(ma,Qn,Fe,!1)}function Su(i,c,h){var g=ba;ba|=2;var O=Ku(),_=Gu();(ma!==i||Qn!==c)&&(qs=null,Bd(i,c)),c=!1;var ye=F;e:do try{if(Ea!==0&&Mn!==null){var ze=Mn,mt=Ql;switch(Ea){case 8:oc(),ye=6;break e;case 3:case 2:case 9:case 6:Xi.current===null&&(c=!0);var ns=Ea;if(Ea=0,Ql=null,Qf(i,ze,mt,ns),h&&Vu){ye=0;break e}break;default:ns=Ea,Ea=0,Ql=null,Qf(i,ze,mt,ns)}}Eu(),ye=F;break}catch(Es){$d(i,Es)}while(!0);return c&&i.shellSuspendCounter++,bc=nl=null,ba=g,se.H=O,se.A=_,Mn===null&&(ma=null,Qn=0,xc()),ye}function Eu(){for(;Mn!==null;)t1(Mn)}function ch(i,c){var h=ba;ba|=2;var g=Ku(),O=Gu();ma!==i||Qn!==c?(qs=null,Nr=Ds()+500,Bd(i,c)):Vu=pr(i,c);e:do try{if(Ea!==0&&Mn!==null){c=Mn;var _=Ql;t:switch(Ea){case 1:Ea=0,Ql=null,Qf(i,c,_,1);break;case 2:case 9:if(k(_)){Ea=0,Ql=null,s1(c);break}c=function(){Ea!==2&&Ea!==9||ma!==i||(Ea=7),Wu(i)},_.then(c,c);break e;case 3:Ea=7;break e;case 4:Ea=5;break e;case 7:k(_)?(Ea=0,Ql=null,s1(c)):(Ea=0,Ql=null,Qf(i,c,_,7));break;case 5:var ye=null;switch(Mn.tag){case 26:ye=Mn.memoizedState;case 5:case 27:var ze=Mn;if(ye?_1(ye):ze.stateNode.complete){Ea=0,Ql=null;var mt=ze.sibling;if(mt!==null)Mn=mt;else{var ns=ze.return;ns!==null?(Mn=ns,I0(ns)):Mn=null}break t}}Ea=0,Ql=null,Qf(i,c,_,5);break;case 6:Ea=0,Ql=null,Qf(i,c,_,6);break;case 8:oc(),F=6;break e;default:throw Error(n(462))}}tf();break}catch(Es){$d(i,Es)}while(!0);return bc=nl=null,se.H=g,se.A=O,ba=h,Mn!==null?0:(ma=null,Qn=0,xc(),F)}function tf(){for(;Mn!==null&&!hr();)t1(Mn)}function t1(i){var c=zo(i.alternate,i,j);i.memoizedProps=i.pendingProps,c===null?I0(i):Mn=c}function s1(i){var c=i,h=c.alternate;switch(c.tag){case 15:case 0:c=$s(h,c,c.pendingProps,c.type,void 0,Qn);break;case 11:c=$s(h,c,c.pendingProps,c.type.render,c.ref,Qn);break;case 5:cA(c);default:Vo(h,c),c=Mn=Yl(c,j),c=zo(h,c,j)}i.memoizedProps=i.pendingProps,c===null?I0(i):Mn=c}function Qf(i,c,h,g){bc=nl=null,cA(c),Xt=null,Lt=0;var O=c.return;try{if(Le(i,O,c,h,Qn)){F=1,_u(i,Wi(h,i.current)),Mn=null;return}}catch(_){if(O!==null)throw Mn=O,_;F=1,_u(i,Wi(h,i.current)),Mn=null;return}c.flags&32768?(dr||g===1?i=!0:Vu||(Qn&536870912)!==0?i=!1:(zd=i=!0,(g===2||g===9||g===3||g===6)&&(g=Xi.current,g!==null&&g.tag===13&&(g.flags|=16384))),r1(c,i)):I0(c)}function I0(i){var c=i;do{if((c.flags&32768)!==0){r1(c,zd);return}i=c.return;var h=Zi(c.alternate,c,j);if(h!==null){Mn=h;return}if(c=c.sibling,c!==null){Mn=c;return}Mn=c=i}while(c!==null);F===0&&(F=5)}function r1(i,c){do{var h=$a(i.alternate,i);if(h!==null){h.flags&=32767,Mn=h;return}if(h=i.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(i=i.sibling,i!==null)){Mn=i;return}Mn=i=h}while(i!==null);F=6,Mn=null}function n1(i,c,h,g,O,_,ye,ze,mt){i.cancelPendingCommit=null;do D0();while(Jr!==0);if((ba&6)!==0)throw Error(n(327));if(c!==null){if(c===i.current)throw Error(n(177));if(_=c.lanes|c.childLanes,_|=go,xs(i,h,_,ye,ze,mt),i===ma&&(Mn=ma=null,Qn=0),Fr=c,Ur=i,ta=h,Xn=_,Nn=O,kr=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$C(xr,function(){return c1(),null})):(i.callbackNode=null,i.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=se.T,se.T=null,O=pe.p,pe.p=2,ye=ba,ba|=4;try{lh(i,c,h)}finally{ba=ye,pe.p=O,se.T=g}}Jr=1,a1(),i1(),o1()}}function a1(){if(Jr===1){Jr=0;var i=Ur,c=Fr,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=se.T,se.T=null;var g=pe.p;pe.p=2;var O=ba;ba|=4;try{Hu(c,i);var _=Ox,ye=Gl(i.containerInfo),ze=_.focusedElem,mt=_.selectionRange;if(ye!==ze&&ze&&ze.ownerDocument&&co(ze.ownerDocument.documentElement,ze)){if(mt!==null&&on(ze)){var ns=mt.start,Es=mt.end;if(Es===void 0&&(Es=ns),"selectionStart"in ze)ze.selectionStart=ns,ze.selectionEnd=Math.min(Es,ze.value.length);else{var Is=ze.ownerDocument||document,as=Is&&Is.defaultView||window;if(as.getSelection){var ds=as.getSelection(),Qr=ze.textContent.length,kn=Math.min(mt.start,Qr),Mi=mt.end===void 0?kn:Math.min(mt.end,Qr);!ds.extend&&kn>Mi&&(ye=Mi,Mi=kn,kn=ye);var zt=Pi(ze,kn),Et=Pi(ze,Mi);if(zt&&Et&&(ds.rangeCount!==1||ds.anchorNode!==zt.node||ds.anchorOffset!==zt.offset||ds.focusNode!==Et.node||ds.focusOffset!==Et.offset)){var ts=Is.createRange();ts.setStart(zt.node,zt.offset),ds.removeAllRanges(),kn>Mi?(ds.addRange(ts),ds.extend(Et.node,Et.offset)):(ts.setEnd(Et.node,Et.offset),ds.addRange(ts))}}}}for(Is=[],ds=ze;ds=ds.parentNode;)ds.nodeType===1&&Is.push({element:ds,left:ds.scrollLeft,top:ds.scrollTop});for(typeof ze.focus=="function"&&ze.focus(),ze=0;ze<Is.length;ze++){var Ms=Is[ze];Ms.element.scrollLeft=Ms.left,Ms.element.scrollTop=Ms.top}}Y0=!!Mx,Ox=Mx=null}finally{ba=O,pe.p=g,se.T=h}}i.current=c,Jr=2}}function i1(){if(Jr===2){Jr=0;var i=Ur,c=Fr,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=se.T,se.T=null;var g=pe.p;pe.p=2;var O=ba;ba|=4;try{jA(i,c.alternate,c)}finally{ba=O,pe.p=g,se.T=h}}Jr=3}}function o1(){if(Jr===4||Jr===3){Jr=0,ir();var i=Ur,c=Fr,h=ta,g=kr;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Jr=5:(Jr=0,Fr=Ur=null,l1(i,i.pendingLanes));var O=i.pendingLanes;if(O===0&&(Ar=null),wa(h),c=c.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ts,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=se.T,O=pe.p,pe.p=2,se.T=null;try{for(var _=i.onRecoverableError,ye=0;ye<g.length;ye++){var ze=g[ye];_(ze.value,{componentStack:ze.stack})}}finally{se.T=c,pe.p=O}}(ta&3)!==0&&D0(),Wu(i),O=i.pendingLanes,(h&261930)!==0&&(O&42)!==0?i===va?da++:(da=0,va=i):da=0,Np(0)}}function l1(i,c){(i.pooledCacheLanes&=c)===0&&(c=i.pooledCache,c!=null&&(i.pooledCache=null,yd(c)))}function D0(){return a1(),i1(),o1(),c1()}function c1(){if(Jr!==5)return!1;var i=Ur,c=Xn;Xn=0;var h=wa(ta),g=se.T,O=pe.p;try{pe.p=32>h?32:h,se.T=null,h=Nn,Nn=null;var _=Ur,ye=ta;if(Jr=0,Fr=Ur=null,ta=0,(ba&6)!==0)throw Error(n(331));var ze=ba;if(ba|=4,Pf(_.current),Hd(_,_.current,ye,h),ba=ze,Np(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ts,_)}catch{}return!0}finally{pe.p=O,se.T=g,l1(i,c)}}function d1(i,c,h){c=Wi(h,c),c=D(i.stateNode,c,2),i=cn(i,c,2),i!==null&&(ps(i,2),Wu(i))}function ji(i,c,h){if(i.tag===3)d1(i,i,h);else for(;c!==null;){if(c.tag===3){d1(c,i,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ar===null||!Ar.has(g))){i=Wi(h,i),h=ne(2),g=cn(c,h,2),g!==null&&(me(h,g,c,i),ps(g,2),Wu(g));break}}c=c.return}}function Nx(i,c,h){var g=i.pingCache;if(g===null){g=i.pingCache=new ef;var O=new Set;g.set(c,O)}else O=g.get(c),O===void 0&&(O=new Set,g.set(c,O));O.has(h)||(B=!0,O.add(h),i=_C.bind(null,i,c,h),c.then(i,i))}function _C(i,c,h){var g=i.pingCache;g!==null&&g.delete(c),i.pingedLanes|=i.suspendedLanes&h,i.warmLanes&=~h,ma===i&&(Qn&h)===h&&(F===4||F===3&&(Qn&62914560)===Qn&&300>Ds()-Gt?(ba&2)===0&&Bd(i,0):je|=h,qe===Qn&&(qe=0)),Wu(i)}function u1(i,c){c===0&&(c=ya()),i=Wl(i,c),i!==null&&(ps(i,c),Wu(i))}function HC(i){var c=i.memoizedState,h=0;c!==null&&(h=c.retryLane),u1(i,h)}function zC(i,c){var h=0;switch(i.tag){case 31:case 13:var g=i.stateNode,O=i.memoizedState;O!==null&&(h=O.retryLane);break;case 19:g=i.stateNode;break;case 22:g=i.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),u1(i,h)}function $C(i,c){return hs(i,c)}var P0=null,_f=null,kx=!1,R0=!1,Cx=!1,dh=0;function Wu(i){i!==_f&&i.next===null&&(_f===null?P0=_f=i:_f=_f.next=i),R0=!0,kx||(kx=!0,KC())}function Np(i,c){if(!Cx&&R0){Cx=!0;do for(var h=!1,g=P0;g!==null;){if(i!==0){var O=g.pendingLanes;if(O===0)var _=0;else{var ye=g.suspendedLanes,ze=g.pingedLanes;_=(1<<31-ks(42|i)+1)-1,_&=O&~(ye&~ze),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,p1(g,_))}else _=Qn,_=Ks(g,g===ma?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(_&3)===0||pr(g,_)||(h=!0,p1(g,_));g=g.next}while(h);Cx=!1}}function VC(){A1()}function A1(){R0=kx=!1;var i=0;dh!==0&&s4()&&(i=dh);for(var c=Ds(),h=null,g=P0;g!==null;){var O=g.next,_=h1(g,c);_===0?(g.next=null,h===null?P0=O:h.next=O,O===null&&(_f=h)):(h=g,(i!==0||(_&3)!==0)&&(R0=!0)),g=O}Jr!==0&&Jr!==5||Np(i),dh!==0&&(dh=0)}function h1(i,c){for(var h=i.suspendedLanes,g=i.pingedLanes,O=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var ye=31-ks(_),ze=1<<ye,mt=O[ye];mt===-1?((ze&h)===0||(ze&g)!==0)&&(O[ye]=rn(ze,c)):mt<=c&&(i.expiredLanes|=ze),_&=~ze}if(c=ma,h=Qn,h=Ks(i,i===c?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g=i.callbackNode,h===0||i===c&&(Ea===2||Ea===9)||i.cancelPendingCommit!==null)return g!==null&&g!==null&&vr(g),i.callbackNode=null,i.callbackPriority=0;if((h&3)===0||pr(i,h)){if(c=h&-h,c===i.callbackPriority)return c;switch(g!==null&&vr(g),wa(h)){case 2:case 8:h=rr;break;case 32:h=xr;break;case 268435456:h=wr;break;default:h=xr}return g=f1.bind(null,i),h=hs(h,g),i.callbackPriority=c,i.callbackNode=h,c}return g!==null&&g!==null&&vr(g),i.callbackPriority=2,i.callbackNode=null,2}function f1(i,c){if(Jr!==0&&Jr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var h=i.callbackNode;if(D0()&&i.callbackNode!==h)return null;var g=Qn;return g=Ks(i,i===ma?g:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g===0?null:(zc(i,g,c),h1(i,Ds()),i.callbackNode!=null&&i.callbackNode===h?f1.bind(null,i):null)}function p1(i,c){if(D0())return null;zc(i,c,!0)}function KC(){n4(function(){(ba&6)!==0?hs(Ls,VC):A1()})}function Bx(){if(dh===0){var i=at;i===0&&(i=qt,qt<<=1,(qt&261888)===0&&(qt=256)),dh=i}return dh}function m1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:G(""+i)}function g1(i,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,i.id&&h.setAttribute("form",i.id),c.parentNode.insertBefore(h,c),i=new FormData(i),h.parentNode.removeChild(h),i}function GC(i,c,h,g,O){if(c==="submit"&&h&&h.stateNode===O){var _=m1((O[Gn]||null).action),ye=g.submitter;ye&&(c=(c=ye[Gn]||null)?m1(c.formAction):ye.getAttribute("formAction"),c!==null&&(_=c,ye=null));var ze=new xe("action","action",null,g,O);i.push({event:ze,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(dh!==0){var mt=ye?g1(O,ye):new FormData(O);xA(h,{pending:!0,data:mt,method:O.method,action:_},null,mt)}}else typeof _=="function"&&(ze.preventDefault(),mt=ye?g1(O,ye):new FormData(O),xA(h,{pending:!0,data:mt,method:O.method,action:_},_,mt))},currentTarget:O}]})}}for(var Sx=0;Sx<gc.length;Sx++){var Ex=gc[Sx],WC=Ex.toLowerCase(),YC=Ex[0].toUpperCase()+Ex.slice(1);sl(WC,"on"+YC)}sl(Ul,"onAnimationEnd"),sl(Oo,"onAnimationIteration"),sl(pl,"onAnimationStart"),sl("dblclick","onDoubleClick"),sl("focusin","onFocus"),sl("focusout","onBlur"),sl(Xc,"onTransitionRun"),sl(ml,"onTransitionStart"),sl(Io,"onTransitionCancel"),sl(Fc,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kp));function x1(i,c){c=(c&4)!==0;for(var h=0;h<i.length;h++){var g=i[h],O=g.event;g=g.listeners;e:{var _=void 0;if(c)for(var ye=g.length-1;0<=ye;ye--){var ze=g[ye],mt=ze.instance,ns=ze.currentTarget;if(ze=ze.listener,mt!==_&&O.isPropagationStopped())break e;_=ze,O.currentTarget=ns;try{_(O)}catch(Es){Uc(Es)}O.currentTarget=null,_=mt}else for(ye=0;ye<g.length;ye++){if(ze=g[ye],mt=ze.instance,ns=ze.currentTarget,ze=ze.listener,mt!==_&&O.isPropagationStopped())break e;_=ze,O.currentTarget=ns;try{_(O)}catch(Es){Uc(Es)}O.currentTarget=null,_=mt}}}}function ka(i,c){var h=c[ti];h===void 0&&(h=c[ti]=new Set);var g=i+"__bubble";h.has(g)||(b1(c,i,2,!1),h.add(g))}function Tx(i,c,h){var g=0;c&&(g|=4),b1(h,i,g,c)}var Q0="_reactListening"+Math.random().toString(36).slice(2);function Lx(i){if(!i[Q0]){i[Q0]=!0,qn.forEach(function(h){h!=="selectionchange"&&(XC.has(h)||Tx(h,!1,i),Tx(h,!0,i))});var c=i.nodeType===9?i:i.ownerDocument;c===null||c[Q0]||(c[Q0]=!0,Tx("selectionchange",!1,c))}}function b1(i,c,h,g){switch(W1(c)){case 2:var O=N4;break;case 8:O=k4;break;default:O=Kx}h=O.bind(null,c,h,i),O=void 0,!S||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(O=!0),g?O!==void 0?i.addEventListener(c,h,{capture:!0,passive:O}):i.addEventListener(c,h,!0):O!==void 0?i.addEventListener(c,h,{passive:O}):i.addEventListener(c,h,!1)}function Fx(i,c,h,g,O){var _=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var ye=g.tag;if(ye===3||ye===4){var ze=g.stateNode.containerInfo;if(ze===O)break;if(ye===4)for(ye=g.return;ye!==null;){var mt=ye.tag;if((mt===3||mt===4)&&ye.stateNode.containerInfo===O)return;ye=ye.return}for(;ze!==null;){if(ye=Ao(ze),ye===null)return;if(mt=ye.tag,mt===5||mt===6||mt===26||mt===27){g=_=ye;continue e}ze=ze.parentNode}}g=g.return}Ze(function(){var ns=_,Es=M(h),Is=[];e:{var as=Jc.get(i);if(as!==void 0){var ds=xe,Qr=i;switch(i){case"keypress":if(ee(h)===0)break e;case"keydown":case"keyup":ds=Hs;break;case"focusin":Qr="focus",ds=Ht;break;case"focusout":Qr="blur",ds=Ht;break;case"beforeblur":case"afterblur":ds=Ht;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ds=gt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ds=Mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ds=Ot;break;case Ul:case Oo:case pl:ds=es;break;case Fc:ds=Yt;break;case"scroll":case"scrollend":ds=ot;break;case"wheel":ds=bs;break;case"copy":case"cut":case"paste":ds=rt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ds=dt;break;case"toggle":case"beforetoggle":ds=Zs}var kn=(c&4)!==0,Mi=!kn&&(i==="scroll"||i==="scrollend"),zt=kn?as!==null?as+"Capture":null:as;kn=[];for(var Et=ns,ts;Et!==null;){var Ms=Et;if(ts=Ms.stateNode,Ms=Ms.tag,Ms!==5&&Ms!==26&&Ms!==27||ts===null||zt===null||(Ms=N(Et,zt),Ms!=null&&kn.push(Cp(Et,Ms,ts))),Mi)break;Et=Et.return}0<kn.length&&(as=new ds(as,Qr,null,h,Es),Is.push({event:as,listeners:kn}))}}if((c&7)===0){e:{if(as=i==="mouseover"||i==="pointerover",ds=i==="mouseout"||i==="pointerout",as&&h!==T&&(Qr=h.relatedTarget||h.fromElement)&&(Ao(Qr)||Qr[Kn]))break e;if((ds||as)&&(as=Es.window===Es?Es:(as=Es.ownerDocument)?as.defaultView||as.parentWindow:window,ds?(Qr=h.relatedTarget||h.toElement,ds=ns,Qr=Qr?Ao(Qr):null,Qr!==null&&(Mi=l(Qr),kn=Qr.tag,Qr!==Mi||kn!==5&&kn!==27&&kn!==6)&&(Qr=null)):(ds=null,Qr=ns),ds!==Qr)){if(kn=gt,Ms="onMouseLeave",zt="onMouseEnter",Et="mouse",(i==="pointerout"||i==="pointerover")&&(kn=dt,Ms="onPointerLeave",zt="onPointerEnter",Et="pointer"),Mi=ds==null?as:ki(ds),ts=Qr==null?as:ki(Qr),as=new kn(Ms,Et+"leave",ds,h,Es),as.target=Mi,as.relatedTarget=ts,Ms=null,Ao(Es)===ns&&(kn=new kn(zt,Et+"enter",Qr,h,Es),kn.target=ts,kn.relatedTarget=Mi,Ms=kn),Mi=Ms,ds&&Qr)t:{for(kn=JC,zt=ds,Et=Qr,ts=0,Ms=zt;Ms;Ms=kn(Ms))ts++;Ms=0;for(var gn=Et;gn;gn=kn(gn))Ms++;for(;0<ts-Ms;)zt=kn(zt),ts--;for(;0<Ms-ts;)Et=kn(Et),Ms--;for(;ts--;){if(zt===Et||Et!==null&&zt===Et.alternate){kn=zt;break t}zt=kn(zt),Et=kn(Et)}kn=null}else kn=null;ds!==null&&v1(Is,as,ds,kn,!1),Qr!==null&&Mi!==null&&v1(Is,Mi,Qr,kn,!0)}}e:{if(as=ns?ki(ns):window,ds=as.nodeName&&as.nodeName.toLowerCase(),ds==="select"||ds==="input"&&as.type==="file")var qa=Ir;else if(Cn(as))if(bn)qa=Na;else{qa=fn;var Zr=_a}else ds=as.nodeName,!ds||ds.toLowerCase()!=="input"||as.type!=="checkbox"&&as.type!=="radio"?ns&&lo(ns.elementType)&&(qa=Ir):qa=_r;if(qa&&(qa=qa(i,ns))){Cr(Is,qa,h,Es);break e}Zr&&Zr(i,as,ns),i==="focusout"&&ns&&as.type==="number"&&ns.memoizedProps.value!=null&&Pa(as,"number",as.value)}switch(Zr=ns?ki(ns):window,i){case"focusin":(Cn(Zr)||Zr.contentEditable==="true")&&(gi=Zr,tl=ns,Mo=null);break;case"focusout":Mo=tl=gi=null;break;case"mousedown":Ra=!0;break;case"contextmenu":case"mouseup":case"dragend":Ra=!1,xi(Is,h,Es);break;case"selectionchange":if(ci)break;case"keydown":case"keyup":xi(Is,h,Es)}var la;if(gr)e:{switch(i){case"compositionstart":var Ta="onCompositionStart";break e;case"compositionend":Ta="onCompositionEnd";break e;case"compositionupdate":Ta="onCompositionUpdate";break e}Ta=void 0}else yr?zs(i,h)&&(Ta="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(Ta="onCompositionStart");Ta&&(cr&&h.locale!=="ko"&&(yr||Ta!=="onCompositionStart"?Ta==="onCompositionEnd"&&yr&&(la=q()):(R=Es,V="value"in R?R.value:R.textContent,yr=!0)),Zr=_0(ns,Ta),0<Zr.length&&(Ta=new bt(Ta,i,null,h,Es),Is.push({event:Ta,listeners:Zr}),la?Ta.data=la:(la=tn(h),la!==null&&(Ta.data=la)))),(la=tt?Vr(i,h):Or(i,h))&&(Ta=_0(ns,"onBeforeInput"),0<Ta.length&&(Zr=new bt("onBeforeInput","beforeinput",null,h,Es),Is.push({event:Zr,listeners:Ta}),Zr.data=la)),GC(Is,i,ns,h,Es)}x1(Is,c)})}function Cp(i,c,h){return{instance:i,listener:c,currentTarget:h}}function _0(i,c){for(var h=c+"Capture",g=[];i!==null;){var O=i,_=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||_===null||(O=N(i,h),O!=null&&g.unshift(Cp(i,O,_)),O=N(i,c),O!=null&&g.push(Cp(i,O,_))),i.tag===3)return g;i=i.return}return[]}function JC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function v1(i,c,h,g,O){for(var _=c._reactName,ye=[];h!==null&&h!==g;){var ze=h,mt=ze.alternate,ns=ze.stateNode;if(ze=ze.tag,mt!==null&&mt===g)break;ze!==5&&ze!==26&&ze!==27||ns===null||(mt=ns,O?(ns=N(h,_),ns!=null&&ye.unshift(Cp(h,ns,mt))):O||(ns=N(h,_),ns!=null&&ye.push(Cp(h,ns,mt)))),h=h.return}ye.length!==0&&i.push({event:c,listeners:ye})}var ZC=/\r\n?/g,qC=/\u0000|\uFFFD/g;function y1(i){return(typeof i=="string"?i:""+i).replace(ZC,`
`).replace(qC,"")}function w1(i,c){return c=y1(c),y1(i)===c}function Ui(i,c,h,g,O,_){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||xa(i,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&xa(i,""+g);break;case"className":fo(i,"class",g);break;case"tabIndex":fo(i,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":fo(i,h,g);break;case"style":Ei(i,g,_);break;case"data":if(c!=="object"){fo(i,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){i.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(h);break}g=G(""+g),i.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){i.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(c!=="input"&&Ui(i,c,"name",O.name,O,null),Ui(i,c,"formEncType",O.formEncType,O,null),Ui(i,c,"formMethod",O.formMethod,O,null),Ui(i,c,"formTarget",O.formTarget,O,null)):(Ui(i,c,"encType",O.encType,O,null),Ui(i,c,"method",O.method,O,null),Ui(i,c,"target",O.target,O,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(h);break}g=G(""+g),i.setAttribute(h,g);break;case"onClick":g!=null&&(i.onclick=J);break;case"onScroll":g!=null&&ka("scroll",i);break;case"onScrollEnd":g!=null&&ka("scrollend",i);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(n(60));i.innerHTML=h}}break;case"multiple":i.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":i.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){i.removeAttribute("xlink:href");break}h=G(""+g),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(h,""+g):i.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(h,""):i.removeAttribute(h);break;case"capture":case"download":g===!0?i.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(h,g):i.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?i.setAttribute(h,g):i.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?i.removeAttribute(h):i.setAttribute(h,g);break;case"popover":ka("beforetoggle",i),ka("toggle",i),ja(i,"popover",g);break;case"xlinkActuate":si(i,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":si(i,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":si(i,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":si(i,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":si(i,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":si(i,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":si(i,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":si(i,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":si(i,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ja(i,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Tt.get(h)||h,ja(i,h,g))}}function Ux(i,c,h,g,O,_){switch(h){case"style":Ei(i,g,_);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(n(60));i.innerHTML=h}}break;case"children":typeof g=="string"?xa(i,g):(typeof g=="number"||typeof g=="bigint")&&xa(i,""+g);break;case"onScroll":g!=null&&ka("scroll",i);break;case"onScrollEnd":g!=null&&ka("scrollend",i);break;case"onClick":g!=null&&(i.onclick=J);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(O=h.endsWith("Capture"),c=h.slice(2,O?h.length-7:void 0),_=i[Gn]||null,_=_!=null?_[h]:null,typeof _=="function"&&i.removeEventListener(c,_,O),typeof g=="function")){typeof _!="function"&&_!==null&&(h in i?i[h]=null:i.hasAttribute(h)&&i.removeAttribute(h)),i.addEventListener(c,g,O);break e}h in i?i[h]=g:g===!0?i.setAttribute(h,""):ja(i,h,g)}}}function Bc(i,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ka("error",i),ka("load",i);var g=!1,O=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var ye=h[_];if(ye!=null)switch(_){case"src":g=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ui(i,c,_,ye,h,null)}}O&&Ui(i,c,"srcSet",h.srcSet,h,null),g&&Ui(i,c,"src",h.src,h,null);return;case"input":ka("invalid",i);var ze=_=ye=O=null,mt=null,ns=null;for(g in h)if(h.hasOwnProperty(g)){var Es=h[g];if(Es!=null)switch(g){case"name":O=Es;break;case"type":ye=Es;break;case"checked":mt=Es;break;case"defaultChecked":ns=Es;break;case"value":_=Es;break;case"defaultValue":ze=Es;break;case"children":case"dangerouslySetInnerHTML":if(Es!=null)throw Error(n(137,c));break;default:Ui(i,c,g,Es,h,null)}}Ga(i,_,ze,mt,ns,ye,O,!1);return;case"select":ka("invalid",i),g=ye=_=null;for(O in h)if(h.hasOwnProperty(O)&&(ze=h[O],ze!=null))switch(O){case"value":_=ze;break;case"defaultValue":ye=ze;break;case"multiple":g=ze;default:Ui(i,c,O,ze,h,null)}c=_,h=ye,i.multiple=!!g,c!=null?pi(i,!!g,c,!1):h!=null&&pi(i,!!g,h,!0);return;case"textarea":ka("invalid",i),_=O=g=null;for(ye in h)if(h.hasOwnProperty(ye)&&(ze=h[ye],ze!=null))switch(ye){case"value":g=ze;break;case"defaultValue":O=ze;break;case"children":_=ze;break;case"dangerouslySetInnerHTML":if(ze!=null)throw Error(n(91));break;default:Ui(i,c,ye,ze,h,null)}Si(i,g,O,_);return;case"option":for(mt in h)if(h.hasOwnProperty(mt)&&(g=h[mt],g!=null))switch(mt){case"selected":i.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ui(i,c,mt,g,h,null)}return;case"dialog":ka("beforetoggle",i),ka("toggle",i),ka("cancel",i),ka("close",i);break;case"iframe":case"object":ka("load",i);break;case"video":case"audio":for(g=0;g<kp.length;g++)ka(kp[g],i);break;case"image":ka("error",i),ka("load",i);break;case"details":ka("toggle",i);break;case"embed":case"source":case"link":ka("error",i),ka("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ns in h)if(h.hasOwnProperty(ns)&&(g=h[ns],g!=null))switch(ns){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ui(i,c,ns,g,h,null)}return;default:if(lo(c)){for(Es in h)h.hasOwnProperty(Es)&&(g=h[Es],g!==void 0&&Ux(i,c,Es,g,h,void 0));return}}for(ze in h)h.hasOwnProperty(ze)&&(g=h[ze],g!=null&&Ui(i,c,ze,g,h,null))}function e4(i,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,_=null,ye=null,ze=null,mt=null,ns=null,Es=null;for(ds in h){var Is=h[ds];if(h.hasOwnProperty(ds)&&Is!=null)switch(ds){case"checked":break;case"value":break;case"defaultValue":mt=Is;default:g.hasOwnProperty(ds)||Ui(i,c,ds,null,g,Is)}}for(var as in g){var ds=g[as];if(Is=h[as],g.hasOwnProperty(as)&&(ds!=null||Is!=null))switch(as){case"type":_=ds;break;case"name":O=ds;break;case"checked":ns=ds;break;case"defaultChecked":Es=ds;break;case"value":ye=ds;break;case"defaultValue":ze=ds;break;case"children":case"dangerouslySetInnerHTML":if(ds!=null)throw Error(n(137,c));break;default:ds!==Is&&Ui(i,c,as,ds,g,Is)}}Ki(i,ye,ze,mt,ns,Es,_,O);return;case"select":ds=ye=ze=as=null;for(_ in h)if(mt=h[_],h.hasOwnProperty(_)&&mt!=null)switch(_){case"value":break;case"multiple":ds=mt;default:g.hasOwnProperty(_)||Ui(i,c,_,null,g,mt)}for(O in g)if(_=g[O],mt=h[O],g.hasOwnProperty(O)&&(_!=null||mt!=null))switch(O){case"value":as=_;break;case"defaultValue":ze=_;break;case"multiple":ye=_;default:_!==mt&&Ui(i,c,O,_,g,mt)}c=ze,h=ye,g=ds,as!=null?pi(i,!!h,as,!1):!!g!=!!h&&(c!=null?pi(i,!!h,c,!0):pi(i,!!h,h?[]:"",!1));return;case"textarea":ds=as=null;for(ze in h)if(O=h[ze],h.hasOwnProperty(ze)&&O!=null&&!g.hasOwnProperty(ze))switch(ze){case"value":break;case"children":break;default:Ui(i,c,ze,null,g,O)}for(ye in g)if(O=g[ye],_=h[ye],g.hasOwnProperty(ye)&&(O!=null||_!=null))switch(ye){case"value":as=O;break;case"defaultValue":ds=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:O!==_&&Ui(i,c,ye,O,g,_)}Uo(i,as,ds);return;case"option":for(var Qr in h)if(as=h[Qr],h.hasOwnProperty(Qr)&&as!=null&&!g.hasOwnProperty(Qr))switch(Qr){case"selected":i.selected=!1;break;default:Ui(i,c,Qr,null,g,as)}for(mt in g)if(as=g[mt],ds=h[mt],g.hasOwnProperty(mt)&&as!==ds&&(as!=null||ds!=null))switch(mt){case"selected":i.selected=as&&typeof as!="function"&&typeof as!="symbol";break;default:Ui(i,c,mt,as,g,ds)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kn in h)as=h[kn],h.hasOwnProperty(kn)&&as!=null&&!g.hasOwnProperty(kn)&&Ui(i,c,kn,null,g,as);for(ns in g)if(as=g[ns],ds=h[ns],g.hasOwnProperty(ns)&&as!==ds&&(as!=null||ds!=null))switch(ns){case"children":case"dangerouslySetInnerHTML":if(as!=null)throw Error(n(137,c));break;default:Ui(i,c,ns,as,g,ds)}return;default:if(lo(c)){for(var Mi in h)as=h[Mi],h.hasOwnProperty(Mi)&&as!==void 0&&!g.hasOwnProperty(Mi)&&Ux(i,c,Mi,void 0,g,as);for(Es in g)as=g[Es],ds=h[Es],!g.hasOwnProperty(Es)||as===ds||as===void 0&&ds===void 0||Ux(i,c,Es,as,g,ds);return}}for(var zt in h)as=h[zt],h.hasOwnProperty(zt)&&as!=null&&!g.hasOwnProperty(zt)&&Ui(i,c,zt,null,g,as);for(Is in g)as=g[Is],ds=h[Is],!g.hasOwnProperty(Is)||as===ds||as==null&&ds==null||Ui(i,c,Is,as,g,ds)}function j1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t4(){if(typeof performance.getEntriesByType=="function"){for(var i=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var O=h[g],_=O.transferSize,ye=O.initiatorType,ze=O.duration;if(_&&ze&&j1(ye)){for(ye=0,ze=O.responseEnd,g+=1;g<h.length;g++){var mt=h[g],ns=mt.startTime;if(ns>ze)break;var Es=mt.transferSize,Is=mt.initiatorType;Es&&j1(Is)&&(mt=mt.responseEnd,ye+=Es*(mt<ze?1:(ze-ns)/(mt-ns)))}if(--g,c+=8*(_+ye)/(O.duration/1e3),i++,10<i)break}}if(0<i)return c/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Mx=null,Ox=null;function H0(i){return i.nodeType===9?i:i.ownerDocument}function N1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k1(i,c){if(i===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&c==="foreignObject"?0:i}function Ix(i,c){return i==="textarea"||i==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Dx=null;function s4(){var i=window.event;return i&&i.type==="popstate"?i===Dx?!1:(Dx=i,!0):(Dx=null,!1)}var C1=typeof setTimeout=="function"?setTimeout:void 0,r4=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,n4=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(i){return B1.resolve(null).then(i).catch(a4)}:C1;function a4(i){setTimeout(function(){throw i})}function uh(i){return i==="head"}function S1(i,c){var h=c,g=0;do{var O=h.nextSibling;if(i.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"||h==="/&"){if(g===0){i.removeChild(O),Vf(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")Bp(i.ownerDocument.documentElement);else if(h==="head"){h=i.ownerDocument.head,Bp(h);for(var _=h.firstChild;_;){var ye=_.nextSibling,ze=_.nodeName;_[Fo]||ze==="SCRIPT"||ze==="STYLE"||ze==="LINK"&&_.rel.toLowerCase()==="stylesheet"||h.removeChild(_),_=ye}}else h==="body"&&Bp(i.ownerDocument.body);h=O}while(h);Vf(c)}function E1(i,c){var h=i;i=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(i===0)break;i--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||i++;h=g}while(h)}function Px(i){var c=i.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Px(h),Kl(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}i.removeChild(h)}}function i4(i,c,h,g){for(;i.nodeType===1;){var O=h;if(i.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(g){if(!i[Fo])switch(c){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==O.rel||i.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||i.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||i.getAttribute("title")!==(O.title==null?null:O.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(O.src==null?null:O.src)||i.getAttribute("type")!==(O.type==null?null:O.type)||i.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(c==="input"&&i.type==="hidden"){var _=O.name==null?null:""+O.name;if(O.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=au(i.nextSibling),i===null)break}return null}function o4(i,c,h){if(c==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!h||(i=au(i.nextSibling),i===null))return null;return i}function T1(i,c){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=au(i.nextSibling),i===null))return null;return i}function Rx(i){return i.data==="$?"||i.data==="$~"}function Qx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function l4(i,c){var h=i.ownerDocument;if(i.data==="$~")i._reactRetry=c;else if(i.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),i._reactRetry=g}}function au(i){for(;i!=null;i=i.nextSibling){var c=i.nodeType;if(c===1||c===3)break;if(c===8){if(c=i.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return i}var _x=null;function L1(i){i=i.nextSibling;for(var c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"||h==="/&"){if(c===0)return au(i.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}i=i.nextSibling}return null}function F1(i){i=i.previousSibling;for(var c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return i;c--}else h!=="/$"&&h!=="/&"||c++}i=i.previousSibling}return null}function U1(i,c,h){switch(c=H0(h),i){case"html":if(i=c.documentElement,!i)throw Error(n(452));return i;case"head":if(i=c.head,!i)throw Error(n(453));return i;case"body":if(i=c.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Bp(i){for(var c=i.attributes;c.length;)i.removeAttributeNode(c[0]);Kl(i)}var iu=new Map,M1=new Set;function z0(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var EA=pe.d;pe.d={f:c4,r:d4,D:u4,C:A4,L:h4,m:f4,X:m4,S:p4,M:g4};function c4(){var i=EA.f(),c=Hl();return i||c}function d4(i){var c=fa(i);c!==null&&c.tag===5&&c.type==="form"?kc(c):EA.r(i)}var Hf=typeof document>"u"?null:document;function O1(i,c,h){var g=Hf;if(g&&typeof c=="string"&&c){var O=Wn(c);O='link[rel="'+i+'"][href="'+O+'"]',typeof h=="string"&&(O+='[crossorigin="'+h+'"]'),M1.has(O)||(M1.add(O),i={rel:i,crossOrigin:h,href:c},g.querySelector(O)===null&&(c=g.createElement("link"),Bc(c,"link",i),Fa(c),g.head.appendChild(c)))}}function u4(i){EA.D(i),O1("dns-prefetch",i,null)}function A4(i,c){EA.C(i,c),O1("preconnect",i,c)}function h4(i,c,h){EA.L(i,c,h);var g=Hf;if(g&&i&&c){var O='link[rel="preload"][as="'+Wn(c)+'"]';c==="image"&&h&&h.imageSrcSet?(O+='[imagesrcset="'+Wn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(O+='[imagesizes="'+Wn(h.imageSizes)+'"]')):O+='[href="'+Wn(i)+'"]';var _=O;switch(c){case"style":_=zf(i);break;case"script":_=$f(i)}iu.has(_)||(i=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:i,as:c},h),iu.set(_,i),g.querySelector(O)!==null||c==="style"&&g.querySelector(Sp(_))||c==="script"&&g.querySelector(Ep(_))||(c=g.createElement("link"),Bc(c,"link",i),Fa(c),g.head.appendChild(c)))}}function f4(i,c){EA.m(i,c);var h=Hf;if(h&&i){var g=c&&typeof c.as=="string"?c.as:"script",O='link[rel="modulepreload"][as="'+Wn(g)+'"][href="'+Wn(i)+'"]',_=O;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=$f(i)}if(!iu.has(_)&&(i=p({rel:"modulepreload",href:i},c),iu.set(_,i),h.querySelector(O)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ep(_)))return}g=h.createElement("link"),Bc(g,"link",i),Fa(g),h.head.appendChild(g)}}}function p4(i,c,h){EA.S(i,c,h);var g=Hf;if(g&&i){var O=ra(g).hoistableStyles,_=zf(i);c=c||"default";var ye=O.get(_);if(!ye){var ze={loading:0,preload:null};if(ye=g.querySelector(Sp(_)))ze.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":c},h),(h=iu.get(_))&&Hx(i,h);var mt=ye=g.createElement("link");Fa(mt),Bc(mt,"link",i),mt._p=new Promise(function(ns,Es){mt.onload=ns,mt.onerror=Es}),mt.addEventListener("load",function(){ze.loading|=1}),mt.addEventListener("error",function(){ze.loading|=2}),ze.loading|=4,$0(ye,c,g)}ye={type:"stylesheet",instance:ye,count:1,state:ze},O.set(_,ye)}}}function m4(i,c){EA.X(i,c);var h=Hf;if(h&&i){var g=ra(h).hoistableScripts,O=$f(i),_=g.get(O);_||(_=h.querySelector(Ep(O)),_||(i=p({src:i,async:!0},c),(c=iu.get(O))&&zx(i,c),_=h.createElement("script"),Fa(_),Bc(_,"link",i),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(O,_))}}function g4(i,c){EA.M(i,c);var h=Hf;if(h&&i){var g=ra(h).hoistableScripts,O=$f(i),_=g.get(O);_||(_=h.querySelector(Ep(O)),_||(i=p({src:i,async:!0,type:"module"},c),(c=iu.get(O))&&zx(i,c),_=h.createElement("script"),Fa(_),Bc(_,"link",i),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(O,_))}}function I1(i,c,h,g){var O=(O=ge.current)?z0(O):null;if(!O)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=zf(h.href),h=ra(O).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){i=zf(h.href);var _=ra(O).hoistableStyles,ye=_.get(i);if(ye||(O=O.ownerDocument||O,ye={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,ye),(_=O.querySelector(Sp(i)))&&!_._p&&(ye.instance=_,ye.state.loading=5),iu.has(i)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},iu.set(i,h),_||x4(O,i,h,ye.state))),c&&g===null)throw Error(n(528,""));return ye}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=$f(h),h=ra(O).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function zf(i){return'href="'+Wn(i)+'"'}function Sp(i){return'link[rel="stylesheet"]['+i+"]"}function D1(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function x4(i,c,h,g){i.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=i.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Bc(c,"link",h),Fa(c),i.head.appendChild(c))}function $f(i){return'[src="'+Wn(i)+'"]'}function Ep(i){return"script[async]"+i}function P1(i,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=i.querySelector('style[data-href~="'+Wn(h.href)+'"]');if(g)return c.instance=g,Fa(g),g;var O=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(i.ownerDocument||i).createElement("style"),Fa(g),Bc(g,"style",O),$0(g,h.precedence,i),c.instance=g;case"stylesheet":O=zf(h.href);var _=i.querySelector(Sp(O));if(_)return c.state.loading|=4,c.instance=_,Fa(_),_;g=D1(h),(O=iu.get(O))&&Hx(g,O),_=(i.ownerDocument||i).createElement("link"),Fa(_);var ye=_;return ye._p=new Promise(function(ze,mt){ye.onload=ze,ye.onerror=mt}),Bc(_,"link",g),c.state.loading|=4,$0(_,h.precedence,i),c.instance=_;case"script":return _=$f(h.src),(O=i.querySelector(Ep(_)))?(c.instance=O,Fa(O),O):(g=h,(O=iu.get(_))&&(g=p({},h),zx(g,O)),i=i.ownerDocument||i,O=i.createElement("script"),Fa(O),Bc(O,"link",g),i.head.appendChild(O),c.instance=O);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,$0(g,h.precedence,i));return c.instance}function $0(i,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=g.length?g[g.length-1]:null,_=O,ye=0;ye<g.length;ye++){var ze=g[ye];if(ze.dataset.precedence===c)_=ze;else if(_!==O)break}_?_.parentNode.insertBefore(i,_.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(i,c.firstChild))}function Hx(i,c){i.crossOrigin==null&&(i.crossOrigin=c.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=c.referrerPolicy),i.title==null&&(i.title=c.title)}function zx(i,c){i.crossOrigin==null&&(i.crossOrigin=c.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=c.referrerPolicy),i.integrity==null&&(i.integrity=c.integrity)}var V0=null;function R1(i,c,h){if(V0===null){var g=new Map,O=V0=new Map;O.set(h,g)}else O=V0,g=O.get(h),g||(g=new Map,O.set(h,g));if(g.has(i))return g;for(g.set(i,null),h=h.getElementsByTagName(i),O=0;O<h.length;O++){var _=h[O];if(!(_[Fo]||_[Rr]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var ye=_.getAttribute(c)||"";ye=i+ye;var ze=g.get(ye);ze?ze.push(_):g.set(ye,[_])}}return g}function Q1(i,c,h){i=i.ownerDocument||i,i.head.insertBefore(h,c==="title"?i.querySelector("head > title"):null)}function b4(i,c,h){if(h===1||c.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return i=c.disabled,typeof c.precedence=="string"&&i==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function _1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function v4(i,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=zf(g.href),_=c.querySelector(Sp(O));if(_){c=_._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(i.count++,i=K0.bind(i),c.then(i,i)),h.state.loading|=4,h.instance=_,Fa(_);return}_=c.ownerDocument||c,g=D1(g),(O=iu.get(O))&&Hx(g,O),_=_.createElement("link"),Fa(_);var ye=_;ye._p=new Promise(function(ze,mt){ye.onload=ze,ye.onerror=mt}),Bc(_,"link",g),h.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(i.count++,h=K0.bind(i),c.addEventListener("load",h),c.addEventListener("error",h))}}var $x=0;function y4(i,c){return i.stylesheets&&i.count===0&&W0(i,i.stylesheets),0<i.count||0<i.imgCount?function(h){var g=setTimeout(function(){if(i.stylesheets&&W0(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+c);0<i.imgBytes&&$x===0&&($x=62500*t4());var O=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&W0(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>$x?50:800)+c);return i.unsuspend=h,function(){i.unsuspend=null,clearTimeout(g),clearTimeout(O)}}:null}function K0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)W0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var G0=null;function W0(i,c){i.stylesheets=null,i.unsuspend!==null&&(i.count++,G0=new Map,c.forEach(w4,i),G0=null,K0.call(i))}function w4(i,c){if(!(c.state.loading&4)){var h=G0.get(i);if(h)var g=h.get(null);else{h=new Map,G0.set(i,h);for(var O=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<O.length;_++){var ye=O[_];(ye.nodeName==="LINK"||ye.getAttribute("media")!=="not all")&&(h.set(ye.dataset.precedence,ye),g=ye)}g&&h.set(null,g)}O=c.instance,ye=O.getAttribute("data-precedence"),_=h.get(ye)||g,_===g&&h.set(null,O),h.set(ye,O),this.count++,g=K0.bind(this),O.addEventListener("load",g),O.addEventListener("error",g),_?_.parentNode.insertBefore(O,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(O,i.firstChild)),c.state.loading|=4}}var Tp={$$typeof:z,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function j4(i,c,h,g,O,_,ye,ze,mt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=La(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.hiddenUpdates=La(null),this.identifierPrefix=g,this.onUncaughtError=O,this.onCaughtError=_,this.onRecoverableError=ye,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=mt,this.incompleteTransitions=new Map}function H1(i,c,h,g,O,_,ye,ze,mt,ns,Es,Is){return i=new j4(i,c,h,ye,mt,ns,Es,Is,ze),c=1,_===!0&&(c|=24),_=Po(3,null,null,c),i.current=_,_.stateNode=i,c=rd(),c.refCount++,i.pooledCache=c,c.refCount++,_.memoizedState={element:g,isDehydrated:h,cache:c},Ma(_),i}function z1(i){return i?(i=xo,i):xo}function $1(i,c,h,g,O,_){O=z1(O),g.context===null?g.context=O:g.pendingContext=O,g=Gr(c),g.payload={element:h},_=_===void 0?null:_,_!==null&&(g.callback=_),h=cn(i,g,c),h!==null&&(wi(h,i,c),Sn(h,i,c))}function V1(i,c){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<c?h:c}}function Vx(i,c){V1(i,c),(i=i.alternate)&&V1(i,c)}function K1(i){if(i.tag===13||i.tag===31){var c=Wl(i,67108864);c!==null&&wi(c,i,67108864),Vx(i,67108864)}}function G1(i){if(i.tag===13||i.tag===31){var c=sn();c=Ps(c);var h=Wl(i,c);h!==null&&wi(h,i,c),Vx(i,c)}}var Y0=!0;function N4(i,c,h,g){var O=se.T;se.T=null;var _=pe.p;try{pe.p=2,Kx(i,c,h,g)}finally{pe.p=_,se.T=O}}function k4(i,c,h,g){var O=se.T;se.T=null;var _=pe.p;try{pe.p=8,Kx(i,c,h,g)}finally{pe.p=_,se.T=O}}function Kx(i,c,h,g){if(Y0){var O=Gx(g);if(O===null)Fx(i,c,g,X0,h),Y1(i,g);else if(B4(O,i,c,h,g))g.stopPropagation();else if(Y1(i,g),c&4&&-1<C4.indexOf(i)){for(;O!==null;){var _=fa(O);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var ye=Vs(_.pendingLanes);if(ye!==0){var ze=_;for(ze.pendingLanes|=2,ze.entangledLanes|=2;ye;){var mt=1<<31-ks(ye);ze.entanglements[1]|=mt,ye&=~mt}Wu(_),(ba&6)===0&&(Nr=Ds()+500,Np(0))}}break;case 31:case 13:ze=Wl(_,2),ze!==null&&wi(ze,_,2),Hl(),Vx(_,2)}if(_=Gx(g),_===null&&Fx(i,c,g,X0,h),_===O)break;O=_}O!==null&&g.stopPropagation()}else Fx(i,c,g,null,h)}}function Gx(i){return i=M(i),Wx(i)}var X0=null;function Wx(i){if(X0=null,i=Ao(i),i!==null){var c=l(i);if(c===null)i=null;else{var h=c.tag;if(h===13){if(i=u(c),i!==null)return i;i=null}else if(h===31){if(i=d(c),i!==null)return i;i=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;i=null}else c!==i&&(i=null)}}return X0=i,null}function W1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case Ls:return 2;case rr:return 8;case xr:case en:return 32;case wr:return 268435456;default:return 32}default:return 32}}var Yx=!1,Ah=null,hh=null,fh=null,Lp=new Map,Fp=new Map,ph=[],C4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y1(i,c){switch(i){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":Lp.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fp.delete(c.pointerId)}}function Up(i,c,h,g,O,_){return i===null||i.nativeEvent!==_?(i={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:_,targetContainers:[O]},c!==null&&(c=fa(c),c!==null&&K1(c)),i):(i.eventSystemFlags|=g,c=i.targetContainers,O!==null&&c.indexOf(O)===-1&&c.push(O),i)}function B4(i,c,h,g,O){switch(c){case"focusin":return Ah=Up(Ah,i,c,h,g,O),!0;case"dragenter":return hh=Up(hh,i,c,h,g,O),!0;case"mouseover":return fh=Up(fh,i,c,h,g,O),!0;case"pointerover":var _=O.pointerId;return Lp.set(_,Up(Lp.get(_)||null,i,c,h,g,O)),!0;case"gotpointercapture":return _=O.pointerId,Fp.set(_,Up(Fp.get(_)||null,i,c,h,g,O)),!0}return!1}function X1(i){var c=Ao(i.target);if(c!==null){var h=l(c);if(h!==null){if(c=h.tag,c===13){if(c=u(h),c!==null){i.blockedOn=c,sa(i.priority,function(){G1(h)});return}}else if(c===31){if(c=d(h),c!==null){i.blockedOn=c,sa(i.priority,function(){G1(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function J0(i){if(i.blockedOn!==null)return!1;for(var c=i.targetContainers;0<c.length;){var h=Gx(i.nativeEvent);if(h===null){h=i.nativeEvent;var g=new h.constructor(h.type,h);T=g,h.target.dispatchEvent(g),T=null}else return c=fa(h),c!==null&&K1(c),i.blockedOn=h,!1;c.shift()}return!0}function J1(i,c,h){J0(i)&&h.delete(c)}function S4(){Yx=!1,Ah!==null&&J0(Ah)&&(Ah=null),hh!==null&&J0(hh)&&(hh=null),fh!==null&&J0(fh)&&(fh=null),Lp.forEach(J1),Fp.forEach(J1)}function Z0(i,c){i.blockedOn===c&&(i.blockedOn=null,Yx||(Yx=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,S4)))}var q0=null;function Z1(i){q0!==i&&(q0=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){q0===i&&(q0=null);for(var c=0;c<i.length;c+=3){var h=i[c],g=i[c+1],O=i[c+2];if(typeof g!="function"){if(Wx(g||h)===null)continue;break}var _=fa(h);_!==null&&(i.splice(c,3),c-=3,xA(_,{pending:!0,data:O,method:h.method,action:g},g,O))}}))}function Vf(i){function c(mt){return Z0(mt,i)}Ah!==null&&Z0(Ah,i),hh!==null&&Z0(hh,i),fh!==null&&Z0(fh,i),Lp.forEach(c),Fp.forEach(c);for(var h=0;h<ph.length;h++){var g=ph[h];g.blockedOn===i&&(g.blockedOn=null)}for(;0<ph.length&&(h=ph[0],h.blockedOn===null);)X1(h),h.blockedOn===null&&ph.shift();if(h=(i.ownerDocument||i).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var O=h[g],_=h[g+1],ye=O[Gn]||null;if(typeof _=="function")ye||Z1(h);else if(ye){var ze=null;if(_&&_.hasAttribute("formAction")){if(O=_,ye=_[Gn]||null)ze=ye.formAction;else if(Wx(O)!==null)continue}else ze=ye.action;typeof ze=="function"?h[g+1]=ze:(h.splice(g,3),g-=3),Z1(h)}}}function q1(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(ye){return O=ye})},focusReset:"manual",scroll:"manual"})}function c(){O!==null&&(O(),O=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,O=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),O!==null&&(O(),O=null)}}}function Xx(i){this._internalRoot=i}em.prototype.render=Xx.prototype.render=function(i){var c=this._internalRoot;if(c===null)throw Error(n(409));var h=c.current,g=sn();$1(h,g,i,c,null,null)},em.prototype.unmount=Xx.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var c=i.containerInfo;$1(i.current,2,null,i,null,null),Hl(),c[Kn]=null}};function em(i){this._internalRoot=i}em.prototype.unstable_scheduleHydration=function(i){if(i){var c=Vn();i={blockedOn:null,target:i,priority:c};for(var h=0;h<ph.length&&c!==0&&c<ph[h].priority;h++);ph.splice(h,0,i),h===0&&X1(i)}};var ew=e.version;if(ew!=="19.2.3")throw Error(n(527,ew,"19.2.3"));pe.findDOMNode=function(i){var c=i._reactInternals;if(c===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=o(c),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var E4={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{Ts=tm.inject(E4),ft=tm}catch{}}return Ip.createRoot=function(i,c){if(!a(i))throw Error(n(299));var h=!1,g="",O=vA,_=yA,ye=wA;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(O=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(ye=c.onRecoverableError)),c=H1(i,1,!1,null,null,h,g,null,O,_,ye,q1),i[Kn]=c.current,Lx(i),new Xx(c)},Ip.hydrateRoot=function(i,c,h){if(!a(i))throw Error(n(299));var g=!1,O="",_=vA,ye=yA,ze=wA,mt=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(ye=h.onCaughtError),h.onRecoverableError!==void 0&&(ze=h.onRecoverableError),h.formState!==void 0&&(mt=h.formState)),c=H1(i,1,!0,c,h??null,g,O,mt,_,ye,ze,q1),c.context=z1(null),h=c.current,g=sn(),g=Ps(g),O=Gr(g),O.callback=null,cn(h,O,g),h=g,c.current.lanes=h,ps(c,h),Wu(c),i[Kn]=c.current,Lx(i),new em(c)},Ip.version="19.2.3",Ip}var dw;function H4(){if(dw)return qx.exports;dw=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qx.exports=_4(),qx.exports}var z4=H4();const $4=Kg(z4);var Kj=Vj();const Gj=Kg(Kj);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function u0(){return u0=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},u0.apply(this,arguments)}var Nh;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Nh||(Nh={}));const uw="popstate";function V4(s){s===void 0&&(s={});function e(n,a){let{pathname:l,search:u,hash:d}=n.location;return Wb("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Wj(a)}return G4(e,r,null,s)}function Sl(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ey(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K4(){return Math.random().toString(36).substr(2,8)}function Aw(s,e){return{usr:s.state,key:s.key,idx:e}}function Wb(s,e,r,n){return r===void 0&&(r=null),u0({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?mp(e):e,{state:r,key:e&&e.key||n||K4()})}function Wj(s){let{pathname:e="/",search:r="",hash:n=""}=s;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mp(s){let e={};if(s){let r=s.indexOf("#");r>=0&&(e.hash=s.substr(r),s=s.substr(0,r));let n=s.indexOf("?");n>=0&&(e.search=s.substr(n),s=s.substr(0,n)),s&&(e.pathname=s)}return e}function G4(s,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,u=a.history,d=Nh.Pop,A=null,o=f();o==null&&(o=0,u.replaceState(u0({},u.state,{idx:o}),""));function f(){return(u.state||{idx:null}).idx}function p(){d=Nh.Pop;let y=f(),E=y==null?null:y-o;o=y,A&&A({action:d,location:w.location,delta:E})}function m(y,E){d=Nh.Push;let P=Wb(w.location,y,E);o=f()+1;let z=Aw(P,o),X=w.createHref(P);try{u.pushState(z,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;a.location.assign(X)}l&&A&&A({action:d,location:w.location,delta:1})}function x(y,E){d=Nh.Replace;let P=Wb(w.location,y,E);o=f();let z=Aw(P,o),X=w.createHref(P);u.replaceState(z,"",X),l&&A&&A({action:d,location:w.location,delta:0})}function b(y){let E=a.location.origin!=="null"?a.location.origin:a.location.href,P=typeof y=="string"?y:Wj(y);return P=P.replace(/ $/,"%20"),Sl(E,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,E)}let w={get action(){return d},get location(){return s(a,u)},listen(y){if(A)throw new Error("A history only accepts one active listener");return a.addEventListener(uw,p),A=y,()=>{a.removeEventListener(uw,p),A=null}},createHref(y){return e(a,y)},createURL:b,encodeLocation(y){let E=b(y);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:x,go(y){return u.go(y)}};return w}var hw;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(hw||(hw={}));function W4(s,e,r){return r===void 0&&(r="/"),Y4(s,e,r)}function Y4(s,e,r,n){let a=typeof e=="string"?mp(e):e,l=Jj(a.pathname||"/",r);if(l==null)return null;let u=Yj(s);X4(u);let d=null;for(let A=0;d==null&&A<u.length;++A){let o=lB(l);d=aB(u[A],o)}return d}function Yj(s,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,u,d)=>{let A={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};A.relativePath.startsWith("/")&&(Sl(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let o=Af([n,A.relativePath]),f=r.concat(A);l.children&&l.children.length>0&&(Sl(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),Yj(l.children,e,f,o)),!(l.path==null&&!l.index)&&e.push({path:o,score:rB(o,l.index),routesMeta:f})};return s.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let A of Xj(l.path))a(l,u,A)}),e}function Xj(s){let e=s.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let u=Xj(n.join("/")),d=[];return d.push(...u.map(A=>A===""?l:[l,A].join("/"))),a&&d.push(...u),d.map(A=>s.startsWith("/")&&A===""?"/":A)}function X4(s){s.sort((e,r)=>e.score!==r.score?r.score-e.score:nB(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const J4=/^:[\w-]+$/,Z4=3,q4=2,eB=1,tB=10,sB=-2,fw=s=>s==="*";function rB(s,e){let r=s.split("/"),n=r.length;return r.some(fw)&&(n+=sB),e&&(n+=q4),r.filter(a=>!fw(a)).reduce((a,l)=>a+(J4.test(l)?Z4:l===""?eB:tB),n)}function nB(s,e){return s.length===e.length&&s.slice(0,-1).every((n,a)=>n===e[a])?s[s.length-1]-e[e.length-1]:0}function aB(s,e,r){let{routesMeta:n}=s,a={},l="/",u=[];for(let d=0;d<n.length;++d){let A=n[d],o=d===n.length-1,f=l==="/"?e:e.slice(l.length)||"/",p=iB({path:A.relativePath,caseSensitive:A.caseSensitive,end:o},f),m=A.route;if(!p)return null;Object.assign(a,p.params),u.push({params:a,pathname:Af([l,p.pathname]),pathnameBase:hB(Af([l,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(l=Af([l,p.pathnameBase]))}return u}function iB(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,n]=oB(s.path,s.caseSensitive,s.end),a=e.match(r);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((o,f,p)=>{let{paramName:m,isOptional:x}=f;if(m==="*"){let w=d[p]||"";u=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[p];return x&&!b?o[m]=void 0:o[m]=(b||"").replace(/%2F/g,"/"),o},{}),pathname:l,pathnameBase:u,pattern:s}}function oB(s,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ey(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let n=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,A)=>(n.push({paramName:d,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function lB(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ey(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function Jj(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=s.charAt(r);return n&&n!=="/"?null:s.slice(r)||"/"}const cB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dB=s=>cB.test(s);function uB(s,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof s=="string"?mp(s):s,l;if(r)if(dB(r))l=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),ey(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+r))}r.startsWith("/")?l=pw(r.substring(1),"/"):l=pw(r,e)}else l=e;return{pathname:l,search:fB(n),hash:pB(a)}}function pw(s,e){let r=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function rb(s,e,r,n){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AB(s){return s.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Zj(s,e){let r=AB(s);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function qj(s,e,r,n){n===void 0&&(n=!1);let a;typeof s=="string"?a=mp(s):(a=u0({},s),Sl(!a.pathname||!a.pathname.includes("?"),rb("?","pathname","search",a)),Sl(!a.pathname||!a.pathname.includes("#"),rb("#","pathname","hash",a)),Sl(!a.search||!a.search.includes("#"),rb("#","search","hash",a)));let l=s===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=r;else{let p=e.length-1;if(!n&&u.startsWith("..")){let m=u.split("/");for(;m[0]==="..";)m.shift(),p-=1;a.pathname=m.join("/")}d=p>=0?e[p]:"/"}let A=uB(a,d),o=u&&u!=="/"&&u.endsWith("/"),f=(l||u===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(o||f)&&(A.pathname+="/"),A}const Af=s=>s.join("/").replace(/\/\/+/g,"/"),hB=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),fB=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,pB=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function mB(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const e5=["post","put","patch","delete"];new Set(e5);const gB=["get",...e5];new Set(gB);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A0(){return A0=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},A0.apply(this,arguments)}const ty=W.createContext(null),xB=W.createContext(null),B0=W.createContext(null),Gg=W.createContext(null),Ph=W.createContext({outlet:null,matches:[],isDataRoute:!1}),t5=W.createContext(null);function S0(){return W.useContext(Gg)!=null}function gp(){return S0()||Sl(!1),W.useContext(Gg).location}function s5(s){W.useContext(B0).static||W.useLayoutEffect(s)}function $l(){let{isDataRoute:s}=W.useContext(Ph);return s?LB():bB()}function bB(){S0()||Sl(!1);let s=W.useContext(ty),{basename:e,future:r,navigator:n}=W.useContext(B0),{matches:a}=W.useContext(Ph),{pathname:l}=gp(),u=JSON.stringify(Zj(a,r.v7_relativeSplatPath)),d=W.useRef(!1);return s5(()=>{d.current=!0}),W.useCallback(function(o,f){if(f===void 0&&(f={}),!d.current)return;if(typeof o=="number"){n.go(o);return}let p=qj(o,JSON.parse(u),l,f.relative==="path");s==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Af([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,u,l,s])}function Wg(){let{matches:s}=W.useContext(Ph),e=s[s.length-1];return e?e.params:{}}function vB(s,e){return yB(s,e)}function yB(s,e,r,n){S0()||Sl(!1);let{navigator:a}=W.useContext(B0),{matches:l}=W.useContext(Ph),u=l[l.length-1],d=u?u.params:{};u&&u.pathname;let A=u?u.pathnameBase:"/";u&&u.route;let o=gp(),f;if(e){var p;let y=typeof e=="string"?mp(e):e;A==="/"||(p=y.pathname)!=null&&p.startsWith(A)||Sl(!1),f=y}else f=o;let m=f.pathname||"/",x=m;if(A!=="/"){let y=A.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=W4(s,{pathname:x}),w=CB(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},d,y.params),pathname:Af([A,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?A:Af([A,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),l,r,n);return e&&w?W.createElement(Gg.Provider,{value:{location:A0({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Nh.Pop}},w):w}function wB(){let s=TB(),e=mB(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),r?W.createElement("pre",{style:a},r):null,null)}const jB=W.createElement(wB,null);class NB extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?W.createElement(Ph.Provider,{value:this.props.routeContext},W.createElement(t5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kB(s){let{routeContext:e,match:r,children:n}=s,a=W.useContext(ty);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),W.createElement(Ph.Provider,{value:e},n)}function CB(s,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),s==null){var l;if(!r)return null;if(r.errors)s=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=(a=r)==null?void 0:a.errors;if(d!=null){let f=u.findIndex(p=>p.route.id&&(d==null?void 0:d[p.route.id])!==void 0);f>=0||Sl(!1),u=u.slice(0,Math.min(u.length,f+1))}let A=!1,o=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<u.length;f++){let p=u[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(o=f),p.route.id){let{loaderData:m,errors:x}=r,b=p.route.loader&&m[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){A=!0,o>=0?u=u.slice(0,o+1):u=[u[0]];break}}}return u.reduceRight((f,p,m)=>{let x,b=!1,w=null,y=null;r&&(x=d&&p.route.id?d[p.route.id]:void 0,w=p.route.errorElement||jB,A&&(o<0&&m===0?(FB("route-fallback"),b=!0,y=null):o===m&&(b=!0,y=p.route.hydrateFallbackElement||null)));let E=e.concat(u.slice(0,m+1)),P=()=>{let z;return x?z=w:b?z=y:p.route.Component?z=W.createElement(p.route.Component,null):p.route.element?z=p.route.element:z=f,W.createElement(kB,{match:p,routeContext:{outlet:f,matches:E,isDataRoute:r!=null},children:z})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?W.createElement(NB,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:P(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):P()},null)}var r5=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(r5||{}),n5=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(n5||{});function BB(s){let e=W.useContext(ty);return e||Sl(!1),e}function SB(s){let e=W.useContext(xB);return e||Sl(!1),e}function EB(s){let e=W.useContext(Ph);return e||Sl(!1),e}function a5(s){let e=EB(),r=e.matches[e.matches.length-1];return r.route.id||Sl(!1),r.route.id}function TB(){var s;let e=W.useContext(t5),r=SB(),n=a5();return e!==void 0?e:(s=r.errors)==null?void 0:s[n]}function LB(){let{router:s}=BB(r5.UseNavigateStable),e=a5(n5.UseNavigateStable),r=W.useRef(!1);return s5(()=>{r.current=!0}),W.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?s.navigate(a):s.navigate(a,A0({fromRouteId:e},l)))},[s,e])}const mw={};function FB(s,e,r){mw[s]||(mw[s]=!0)}function UB(s,e){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function MB(s){let{to:e,replace:r,state:n,relative:a}=s;S0()||Sl(!1);let{future:l,static:u}=W.useContext(B0),{matches:d}=W.useContext(Ph),{pathname:A}=gp(),o=$l(),f=qj(e,Zj(d,l.v7_relativeSplatPath),A,a==="path"),p=JSON.stringify(f);return W.useEffect(()=>o(JSON.parse(p),{replace:r,state:n,relative:a}),[o,p,a,r,n]),null}function zl(s){Sl(!1)}function OB(s){let{basename:e="/",children:r=null,location:n,navigationType:a=Nh.Pop,navigator:l,static:u=!1,future:d}=s;S0()&&Sl(!1);let A=e.replace(/^\/*/,"/"),o=W.useMemo(()=>({basename:A,navigator:l,static:u,future:A0({v7_relativeSplatPath:!1},d)}),[A,d,l,u]);typeof n=="string"&&(n=mp(n));let{pathname:f="/",search:p="",hash:m="",state:x=null,key:b="default"}=n,w=W.useMemo(()=>{let y=Jj(f,A);return y==null?null:{location:{pathname:y,search:p,hash:m,state:x,key:b},navigationType:a}},[A,f,p,m,x,b,a]);return w==null?null:W.createElement(B0.Provider,{value:o},W.createElement(Gg.Provider,{children:r,value:w}))}function IB(s){let{children:e,location:r}=s;return vB(Yb(e),r)}new Promise(()=>{});function Yb(s,e){e===void 0&&(e=[]);let r=[];return W.Children.forEach(s,(n,a)=>{if(!W.isValidElement(n))return;let l=[...e,a];if(n.type===W.Fragment){r.push.apply(r,Yb(n.props.children,l));return}n.type!==zl&&Sl(!1),!n.props.index||!n.props.children||Sl(!1);let u={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Yb(n.props.children,l)),r.push(u)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xb(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,r)=>{let n=s[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function DB(s,e){let r=Xb(s);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(l=>{r.append(a,l)})}),r}const PB="6";try{window.__reactRouterVersion=PB}catch{}const RB="startTransition",gw=D4[RB];function QB(s){let{basename:e,children:r,future:n,window:a}=s,l=W.useRef();l.current==null&&(l.current=V4({window:a,v5Compat:!0}));let u=l.current,[d,A]=W.useState({action:u.action,location:u.location}),{v7_startTransition:o}=n||{},f=W.useCallback(p=>{o&&gw?gw(()=>A(p)):A(p)},[A,o]);return W.useLayoutEffect(()=>u.listen(f),[u,f]),W.useEffect(()=>UB(n),[n]),W.createElement(OB,{basename:e,children:r,location:d.location,navigationType:d.action,navigator:u,future:n})}var xw;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(xw||(xw={}));var bw;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(bw||(bw={}));function _B(s){let e=W.useRef(Xb(s)),r=W.useRef(!1),n=gp(),a=W.useMemo(()=>DB(n.search,r.current?null:e.current),[n.search]),l=$l(),u=W.useCallback((d,A)=>{const o=Xb(typeof d=="function"?d(a):d);r.current=!0,l("?"+o,A)},[l,a]);return[a,u]}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zB=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),vw=s=>{const e=zB(s);return e.charAt(0).toUpperCase()+e.slice(1)},i5=(...s)=>s.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),$B=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=W.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:u,...d},A)=>W.createElement("svg",{ref:A,...VB,width:e,height:e,stroke:s,strokeWidth:n?Number(r)*24/Number(e):r,className:i5("lucide",a),...!l&&!$B(d)&&{"aria-hidden":"true"},...d},[...u.map(([o,f])=>W.createElement(o,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=(s,e)=>{const r=W.forwardRef(({className:n,...a},l)=>W.createElement(KB,{ref:l,iconNode:e,className:i5(`lucide-${HB(vw(s))}`,`lucide-${s}`,n),...a}));return r.displayName=vw(s),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],wm=ss("arrow-down",GB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],YB=ss("arrow-left-right",WB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rA=ss("arrow-left",XB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],nb=ss("arrow-right-left",JB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],IA=ss("arrow-right",ZB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],eS=ss("arrow-up-right",qB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],jm=ss("arrow-up",tS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rS=ss("ban",sS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],aS=ss("bed-double",nS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Au=ss("bell",iS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],lS=ss("bold",oS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Hm=ss("book-open",cS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],zm=ss("bot",dS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],o5=ss("building-2",uS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Yg=ss("bus",AS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],fS=ss("calendar-days",hS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Co=ss("calendar",pS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Xg=ss("camera",mS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],l5=ss("car",gS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],c5=ss("chart-column",xS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],vS=ss("check-check",bS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xo=ss("check",yS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],np=ss("chevron-down",wS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Rh=ss("chevron-left",jS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hc=ss("chevron-right",NS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Da=ss("circle-alert",kS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bo=ss("circle-check-big",CS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uo=ss("circle-check",BS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Jg=ss("circle-plus",SS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$m=ss("circle-question-mark",ES);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hu=ss("circle-x",TS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FS=ss("circle",LS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vi=ss("clock",US);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],OS=ss("code",MS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],E0=ss("coffee",IS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Jb=ss("copy",DS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],RS=ss("cpu",PS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ap=ss("credit-card",QS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Gd=ss("crown",_S);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Zb=ss("dollar-sign",HS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Xp=ss("download",zS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],VS=ss("ellipsis",$S);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ip=ss("external-link",KS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Zu=ss("eye-off",GS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],io=ss("eye",WS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],yw=ss("file-headphone",YS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],ww=ss("file-pen",XS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Td=ss("file-text",JS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],qS=ss("film",ZS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Vm=ss("flag",e3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],s3=ss("footprints",t3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],d5=ss("funnel",r3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],xf=ss("gift",n3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],h0=ss("globe",a3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],jw=ss("hash",i3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],l3=ss("heading-1",o3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],d3=ss("heading-2",c3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],A3=ss("heading-3",u3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bf=ss("heart",h3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],p3=ss("history",f3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Zg=ss("hotel",m3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],op=ss("image",g3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],f0=ss("inbox",x3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],v3=ss("infinity",b3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],El=ss("info",y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],j3=ss("italic",w3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],k3=ss("key-round",N3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Nw=ss("key",C3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],S3=ss("landmark",B3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],T3=ss("languages",E3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sy=ss("layout-dashboard",L3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],U3=ss("leaf",F3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],u5=ss("link-2",M3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],qg=ss("link",O3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],D3=ss("list-ordered",I3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],R3=ss("list",P3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lr=ss("loader-circle",Q3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ld=ss("lock",_3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ex=ss("log-out",H3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M6 20a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2",key:"1m57jg"}],["path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14",key:"1l99gc"}],["path",{d:"M10 20h4",key:"ni2waw"}],["circle",{cx:"16",cy:"20",r:"2",key:"1vifvg"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]],$3=ss("luggage",z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Xd=ss("mail",V3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],So=ss("map-pin",K3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Km=ss("map",G3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],eA=ss("megaphone",W3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],A5=ss("menu",Y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],mu=ss("message-circle",X3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Mh=ss("message-square",J3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],q3=ss("mic",Z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M5 12h14",key:"1ays0h"}]],tE=ss("minus",eE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],rE=ss("moon",sE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],kw=ss("mouse-pointer-click",nE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],h5=ss("navigation",aE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],Cw=ss("notebook-pen",iE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ab=ss("package",oE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],cE=ss("palette",lE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],uE=ss("panel-left-close",dE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],hE=ss("panel-left",AE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],pE=ss("party-popper",fE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],f5=ss("pause",mE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],p5=ss("pen-line",gE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xp=ss("pen",xE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],tx=ss("pencil",bE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Bw=ss("percent",vE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],RA=ss("plane",yE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],qb=ss("play",wE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$i=ss("plus",jE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],kE=ss("printer",NE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],BE=ss("quote",CE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],m5=ss("receipt",SE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],TE=ss("redo",EE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cd=ss("refresh-cw",LE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],UE=ss("rotate-ccw",FE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QA=ss("save",ME);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kc=ss("search",OE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Sh=ss("send",IE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T0=ss("settings",DE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Gm=ss("share-2",PE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],QE=ss("shield-alert",RE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lp=ss("shield-check",_E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Wd=ss("shield",HE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],sx=ss("shopping-bag",zE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],oo=ss("sparkles",$E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KE=ss("square-check-big",VE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ry=ss("square-pen",GE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],YE=ss("square",WE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],JE=ss("star-off",XE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tA=ss("star",ZE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],g5=ss("sticky-note",qE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],ny=ss("store",eT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],sT=ss("strikethrough",tT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],nT=ss("sun",rT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Wm=ss("tag",aT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Sw=ss("target",iT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],lT=ss("text-align-center",oT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],dT=ss("text-align-end",cT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],AT=ss("text-align-justify",uT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],fT=ss("text-align-start",hT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],mT=ss("ticket",pT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],ev=ss("timer",gT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zo=ss("trash-2",xT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],vT=ss("trending-down",bT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],rx=ss("trending-up",yT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qo=ss("triangle-alert",wT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],NT=ss("type",jT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],CT=ss("underline",kT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],ST=ss("undo",BT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],TT=ss("unlink",ET);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cp=ss("upload",LT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UT=ss("user-cog",FT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jo=ss("user",MT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Md=ss("users",OT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Fd=ss("utensils",IT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],tv=ss("volume-2",DT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Cf=ss("wallet",PT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],sv=ss("wand-sparkles",RT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bp=ss("wifi-off",QT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],vp=ss("wifi",_T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qr=ss("x",HT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$T=ss("zap",zT),VT={success:Bo,error:Da,warning:qo,info:El},KT={success:"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-200 dark:border-emerald-700 text-emerald-800 dark:text-emerald-200",error:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700 text-red-800 dark:text-red-200",warning:"bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-700 text-amber-800 dark:text-amber-200",info:"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-200"},GT={success:"text-emerald-500",error:"text-red-500",warning:"text-amber-500",info:"text-blue-500"},WT=({id:s,message:e,type:r,duration:n=4e3,onClose:a})=>{const[l,u]=W.useState(!1);W.useEffect(()=>{const o=setTimeout(()=>{u(!0)},n-300),f=setTimeout(()=>{a(s)},n);return()=>{clearTimeout(o),clearTimeout(f)}},[s,n,a]);const d=()=>{u(!0),setTimeout(()=>a(s),300)},A=VT[r];return t.jsxs("div",{className:`
        flex items-center gap-3 p-4 rounded-xl border shadow-lg backdrop-blur-sm
        ${KT[r]}
        ${l?"animate-slide-out-right":"animate-slide-in-right"}
        transition-all duration-300
      `,children:[t.jsx(A,{className:`w-5 h-5 flex-shrink-0 ${GT[r]}`}),t.jsx("span",{className:"font-medium text-sm flex-1",children:e}),t.jsx("button",{onClick:d,className:"p-1 rounded-lg hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:t.jsx(qr,{className:"w-4 h-4"})})]})},YT=({toasts:s,onClose:e})=>t.jsx("div",{className:"fixed top-4 right-4 z-[200] flex flex-col gap-2 max-w-sm w-full pointer-events-none",children:s.map(r=>t.jsx("div",{className:"pointer-events-auto",children:t.jsx(WT,{id:r.id,message:r.message,type:r.type,duration:r.duration,onClose:e})},r.id))}),x5=W.createContext(null);let XT=0;const JT=({children:s})=>{const[e,r]=W.useState([]),n=W.useCallback(o=>{r(f=>f.filter(p=>p.id!==o))},[]),a=W.useCallback((o,f="info",p=4e3)=>{const m=`toast-${++XT}`;r(x=>[...x,{id:m,message:o,type:f,duration:p}])},[]),l=W.useCallback((o,f)=>{a(o,"success",f)},[a]),u=W.useCallback((o,f)=>{a(o,"error",f)},[a]),d=W.useCallback((o,f)=>{a(o,"warning",f)},[a]),A=W.useCallback((o,f)=>{a(o,"info",f)},[a]);return t.jsxs(x5.Provider,{value:{showToast:a,success:l,error:u,warning:d,info:A},children:[s,t.jsx(YT,{toasts:e,onClose:n})]})},nx=()=>{const s=W.useContext(x5);if(!s)throw new Error("useToast must be used within a ToastProvider");return s},zn=s=>typeof s=="string",Dp=()=>{let s,e;const r=new Promise((n,a)=>{s=n,e=a});return r.resolve=s,r.reject=e,r},Ew=s=>s==null?"":""+s,ZT=(s,e,r)=>{s.forEach(n=>{e[n]&&(r[n]=e[n])})},qT=/###/g,Tw=s=>s&&s.indexOf("###")>-1?s.replace(qT,"."):s,Lw=s=>!s||zn(s),Jp=(s,e,r)=>{const n=zn(e)?e.split("."):e;let a=0;for(;a<n.length-1;){if(Lw(s))return{};const l=Tw(n[a]);!s[l]&&r&&(s[l]=new r),Object.prototype.hasOwnProperty.call(s,l)?s=s[l]:s={},++a}return Lw(s)?{}:{obj:s,k:Tw(n[a])}},Fw=(s,e,r)=>{const{obj:n,k:a}=Jp(s,e,Object);if(n!==void 0||e.length===1){n[a]=r;return}let l=e[e.length-1],u=e.slice(0,e.length-1),d=Jp(s,u,Object);for(;d.obj===void 0&&u.length;)l=`${u[u.length-1]}.${l}`,u=u.slice(0,u.length-1),d=Jp(s,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=r},e6=(s,e,r,n)=>{const{obj:a,k:l}=Jp(s,e,Object);a[l]=a[l]||[],a[l].push(r)},Ym=(s,e)=>{const{obj:r,k:n}=Jp(s,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},t6=(s,e,r)=>{const n=Ym(s,r);return n!==void 0?n:Ym(e,r)},b5=(s,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in s?zn(s[n])||s[n]instanceof String||zn(e[n])||e[n]instanceof String?r&&(s[n]=e[n]):b5(s[n],e[n],r):s[n]=e[n]);return s},Kf=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var s6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const r6=s=>zn(s)?s.replace(/[&<>"'\/]/g,e=>s6[e]):s;class n6{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const a6=[" ",",","?","!",";"],i6=new n6(20),o6=(s,e,r)=>{e=e||"",r=r||"";const n=a6.filter(u=>e.indexOf(u)<0&&r.indexOf(u)<0);if(n.length===0)return!0;const a=i6.getRegExp(`(${n.map(u=>u==="?"?"\\?":u).join("|")})`);let l=!a.test(s);if(!l){const u=s.indexOf(r);u>0&&!a.test(s.substring(0,u))&&(l=!0)}return l},rv=(s,e,r=".")=>{if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const n=e.split(r);let a=s;for(let l=0;l<n.length;){if(!a||typeof a!="object")return;let u,d="";for(let A=l;A<n.length;++A)if(A!==l&&(d+=r),d+=n[A],u=a[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&A<n.length-1)continue;l+=A-l+1;break}a=u}return a},p0=s=>s==null?void 0:s.replace("_","-"),l6={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){var r,n;(n=(r=console==null?void 0:console[s])==null?void 0:r.apply)==null||n.call(r,console,e)}};class Xm{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||l6,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,a){return a&&!this.debug?null:(zn(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Xm(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Xm(this.logger,e)}}var qu=new Xm;let ax=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a.apply(a,[e,...r])})}};class Uw extends ax{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,a={}){var o,f;const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,r],n&&(Array.isArray(n)?d.push(...n):zn(n)&&l?d.push(...n.split(l)):d.push(n)));const A=Ym(this.data,d);return!A&&!r&&!n&&e.indexOf(".")>-1&&(e=d[0],r=d[1],n=d.slice(2).join(".")),A||!u||!zn(n)?A:rv((f=(o=this.data)==null?void 0:o[e])==null?void 0:f[r],n,l)}addResource(e,r,n,a,l={silent:!1}){const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,r];n&&(d=d.concat(u?n.split(u):n)),e.indexOf(".")>-1&&(d=e.split("."),a=r,r=d[1]),this.addNamespaces(r),Fw(this.data,d,a),l.silent||this.emit("added",e,r,n,a)}addResources(e,r,n,a={silent:!1}){for(const l in n)(zn(n[l])||Array.isArray(n[l]))&&this.addResource(e,r,l,n[l],{silent:!0});a.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,a,l,u={silent:!1,skipCopy:!1}){let d=[e,r];e.indexOf(".")>-1&&(d=e.split("."),a=n,n=r,r=d[1]),this.addNamespaces(r);let A=Ym(this.data,d)||{};u.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?b5(A,n,l):A={...A,...n},Fw(this.data,d,A),u.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var v5={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,r,n,a){return s.forEach(l=>{var u;e=((u=this.processors[l])==null?void 0:u.process(e,r,n,a))??e}),e}};const y5=Symbol("i18next/PATH_KEY");function c6(){const s=[],e=Object.create(null);let r;return e.get=(n,a)=>{var l;return(l=r==null?void 0:r.revoke)==null||l.call(r),a===y5?s:(s.push(a),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function nv(s,e){const{[y5]:r}=s(c6());return r.join((e==null?void 0:e.keySeparator)??".")}const Mw={},ib=s=>!zn(s)&&typeof s!="boolean"&&typeof s!="number";class Jm extends ax{constructor(e,r={}){super(),ZT(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=qu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const a=this.resolve(e,n);if((a==null?void 0:a.res)===void 0)return!1;const l=ib(a.res);return!(n.returnObjects===!1&&l)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let l=r.ns||this.options.defaultNS||[];const u=n&&e.indexOf(n)>-1,d=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!o6(e,n,a);if(u&&!d){const A=e.match(this.interpolator.nestingRegexp);if(A&&A.length>0)return{key:e,namespaces:zn(l)?[l]:l};const o=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(o[0])>-1)&&(l=o.shift()),e=o.join(a)}return{key:e,namespaces:zn(l)?[l]:l}}translate(e,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=nv(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:A}=this.extractFromKey(e[e.length-1],a),o=A[A.length-1];let f=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const p=a.lng||this.language,m=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((p==null?void 0:p.toLowerCase())==="cimode")return m?l?{res:`${o}${f}${d}`,usedKey:d,exactUsedKey:d,usedLng:p,usedNS:o,usedParams:this.getUsedParamsDetails(a)}:`${o}${f}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:p,usedNS:o,usedParams:this.getUsedParamsDetails(a)}:d;const x=this.resolve(e,a);let b=x==null?void 0:x.res;const w=(x==null?void 0:x.usedKey)||d,y=(x==null?void 0:x.exactUsedKey)||d,E=["[object Number]","[object Function]","[object RegExp]"],P=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,z=!this.i18nFormat||this.i18nFormat.handleAsObject,X=a.count!==void 0&&!zn(a.count),Y=Jm.hasDefaultValue(a),Q=X?this.pluralResolver.getSuffix(p,a.count,a):"",K=a.ordinal&&X?this.pluralResolver.getSuffix(p,a.count,{ordinal:!1}):"",de=X&&!a.ordinal&&a.count===0,ue=de&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${Q}`]||a[`defaultValue${K}`]||a.defaultValue;let ve=b;z&&!b&&Y&&(ve=ue);const le=ib(ve),Ce=Object.prototype.toString.apply(ve);if(z&&ve&&le&&E.indexOf(Ce)<0&&!(zn(P)&&Array.isArray(ve))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const oe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,ve,{...a,ns:A}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(x.res=oe,x.usedParams=this.getUsedParamsDetails(a),x):oe}if(u){const oe=Array.isArray(ve),Ne=oe?[]:{},Ae=oe?y:w;for(const se in ve)if(Object.prototype.hasOwnProperty.call(ve,se)){const pe=`${Ae}${u}${se}`;Y&&!b?Ne[se]=this.translate(pe,{...a,defaultValue:ib(ue)?ue[se]:void 0,joinArrays:!1,ns:A}):Ne[se]=this.translate(pe,{...a,joinArrays:!1,ns:A}),Ne[se]===pe&&(Ne[se]=ve[se])}b=Ne}}else if(z&&zn(P)&&Array.isArray(b))b=b.join(P),b&&(b=this.extendTranslation(b,e,a,n));else{let oe=!1,Ne=!1;!this.isValidLookup(b)&&Y&&(oe=!0,b=ue),this.isValidLookup(b)||(Ne=!0,b=d);const se=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ne?void 0:b,pe=Y&&ue!==b&&this.options.updateMissing;if(Ne||oe||pe){if(this.logger.log(pe?"updateKey":"missingKey",p,o,d,pe?ue:b),u){const Se=this.resolve(d,{...a,keySeparator:!1});Se&&Se.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const Ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ee&&Ee[0])for(let Se=0;Se<Ee.length;Se++)re.push(Ee[Se]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(a.lng||this.language):re.push(a.lng||this.language);const De=(Se,he,be)=>{var te;const fe=Y&&be!==b?be:se;this.options.missingKeyHandler?this.options.missingKeyHandler(Se,o,he,fe,pe,a):(te=this.backendConnector)!=null&&te.saveMissing&&this.backendConnector.saveMissing(Se,o,he,fe,pe,a),this.emit("missingKey",Se,o,he,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&X?re.forEach(Se=>{const he=this.pluralResolver.getSuffixes(Se,a);de&&a[`defaultValue${this.options.pluralSeparator}zero`]&&he.indexOf(`${this.options.pluralSeparator}zero`)<0&&he.push(`${this.options.pluralSeparator}zero`),he.forEach(be=>{De([Se],d+be,a[`defaultValue${be}`]||ue)})}):De(re,d,ue))}b=this.extendTranslation(b,e,a,x,n),Ne&&b===d&&this.options.appendNamespaceToMissingKey&&(b=`${o}${f}${d}`),(Ne||oe)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}${f}${d}`:d,oe?b:void 0,a))}return l?(x.res=b,x.usedParams=this.getUsedParamsDetails(a),x):b}extendTranslation(e,r,n,a,l){var A,o;if((A=this.i18nFormat)!=null&&A.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const f=zn(e)&&(((o=n==null?void 0:n.interpolation)==null?void 0:o.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(f){const x=e.match(this.interpolator.nestingRegexp);p=x&&x.length}let m=n.replace&&!zn(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||a.usedLng,n),f){const x=e.match(this.interpolator.nestingRegexp),b=x&&x.length;p<b&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...x)=>(l==null?void 0:l[0])===x[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${r[0]}`),null):this.translate(...x,r),n)),n.interpolation&&this.interpolator.reset()}const u=n.postProcess||this.options.postProcess,d=zn(u)?[u]:u;return e!=null&&(d!=null&&d.length)&&n.applyPostProcessor!==!1&&(e=v5.handle(d,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,a,l,u,d;return zn(e)&&(e=[e]),e.forEach(A=>{if(this.isValidLookup(n))return;const o=this.extractFromKey(A,r),f=o.key;a=f;let p=o.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const m=r.count!==void 0&&!zn(r.count),x=m&&!r.ordinal&&r.count===0,b=r.context!==void 0&&(zn(r.context)||typeof r.context=="number")&&r.context!=="",w=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);p.forEach(y=>{var E,P;this.isValidLookup(n)||(d=y,!Mw[`${w[0]}-${y}`]&&((E=this.utils)!=null&&E.hasLoadedNamespace)&&!((P=this.utils)!=null&&P.hasLoadedNamespace(d))&&(Mw[`${w[0]}-${y}`]=!0,this.logger.warn(`key "${a}" for languages "${w.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(z=>{var Q;if(this.isValidLookup(n))return;u=z;const X=[f];if((Q=this.i18nFormat)!=null&&Q.addLookupKeys)this.i18nFormat.addLookupKeys(X,f,z,y,r);else{let K;m&&(K=this.pluralResolver.getSuffix(z,r.count,r));const de=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(r.ordinal&&K.indexOf(ue)===0&&X.push(f+K.replace(ue,this.options.pluralSeparator)),X.push(f+K),x&&X.push(f+de)),b){const ve=`${f}${this.options.contextSeparator||"_"}${r.context}`;X.push(ve),m&&(r.ordinal&&K.indexOf(ue)===0&&X.push(ve+K.replace(ue,this.options.pluralSeparator)),X.push(ve+K),x&&X.push(ve+de))}}let Y;for(;Y=X.pop();)this.isValidLookup(n)||(l=Y,n=this.getResource(z,y,Y,r))}))})}),{res:n,usedKey:a,exactUsedKey:l,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,a={}){var l;return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(e,r,n,a):this.resourceStore.getResource(e,r,n,a)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!zn(e.replace);let a=n?e.replace:e;if(n&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const l of r)delete a[l]}return a}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class Ow{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=qu.create("languageUtils")}getScriptPartFromCode(e){if(e=p0(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=p0(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(zn(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const l=this.getLanguagePartFromCode(n);if(this.isSupportedCode(l))return r=l;r=this.options.supportedLngs.find(u=>{if(u===l)return u;if(!(u.indexOf("-")<0&&l.indexOf("-")<0)&&(u.indexOf("-")>0&&l.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===l||u.indexOf(l)===0&&l.length>1))return u})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),zn(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),a=[],l=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return zn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):zn(e)&&l(this.formatLanguageCode(e)),n.forEach(u=>{a.indexOf(u)<0&&l(this.formatLanguageCode(u))}),a}}const Iw={zero:0,one:1,two:2,few:3,many:4,other:5},Dw={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class d6{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=qu.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=p0(e==="dev"?"en":e),a=r.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:n,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let u;try{u=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Dw;if(!e.match(/-|_/))return Dw;const A=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(A,r)}return this.pluralRulesCache[l]=u,u}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(a=>`${r}${a}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,l)=>Iw[a]-Iw[l]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,r,n={}){const a=this.getRule(e,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Pw=(s,e,r,n=".",a=!0)=>{let l=t6(s,e,r);return!l&&a&&zn(r)&&(l=rv(s,r,n),l===void 0&&(l=rv(e,r,n))),l},ob=s=>s.replace(/\$/g,"$$$$");class Rw{constructor(e={}){var r;this.logger=qu.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:l,prefixEscaped:u,suffix:d,suffixEscaped:A,formatSeparator:o,unescapeSuffix:f,unescapePrefix:p,nestingPrefix:m,nestingPrefixEscaped:x,nestingSuffix:b,nestingSuffixEscaped:w,nestingOptionsSeparator:y,maxReplaces:E,alwaysFormat:P}=e.interpolation;this.escape=r!==void 0?r:r6,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Kf(l):u||"{{",this.suffix=d?Kf(d):A||"}}",this.formatSeparator=o||",",this.unescapePrefix=f?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=m?Kf(m):x||Kf("$t("),this.nestingSuffix=b?Kf(b):w||Kf(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=E||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,a){var x;let l,u,d;const A=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},o=b=>{if(b.indexOf(this.formatSeparator)<0){const P=Pw(r,A,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(P,void 0,n,{...a,...r,interpolationkey:b}):P}const w=b.split(this.formatSeparator),y=w.shift().trim(),E=w.join(this.formatSeparator).trim();return this.format(Pw(r,A,y,this.options.keySeparator,this.options.ignoreJSONStructure),E,n,{...a,...r,interpolationkey:y})};this.resetRegExp();const f=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((x=a==null?void 0:a.interpolation)==null?void 0:x.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>ob(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?ob(this.escape(b)):ob(b)}].forEach(b=>{for(d=0;l=b.regex.exec(e);){const w=l[1].trim();if(u=o(w),u===void 0)if(typeof f=="function"){const E=f(e,l,a);u=zn(E)?E:""}else if(a&&Object.prototype.hasOwnProperty.call(a,w))u="";else if(p){u=l[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),u="";else!zn(u)&&!this.useRawValueToEscape&&(u=Ew(u));const y=b.safeValue(u);if(e=e.replace(l[0],y),p?(b.regex.lastIndex+=u.length,b.regex.lastIndex-=l[0].length):b.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,r,n={}){let a,l,u;const d=(A,o)=>{const f=this.nestingOptionsSeparator;if(A.indexOf(f)<0)return A;const p=A.split(new RegExp(`${f}[ ]*{`));let m=`{${p[1]}`;A=p[0],m=this.interpolate(m,u);const x=m.match(/'/g),b=m.match(/"/g);(((x==null?void 0:x.length)??0)%2===0&&!b||b.length%2!==0)&&(m=m.replace(/'/g,'"'));try{u=JSON.parse(m),o&&(u={...o,...u})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${A}`,w),`${A}${f}${m}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,A};for(;a=this.nestingRegexp.exec(e);){let A=[];u={...n},u=u.replace&&!zn(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const o=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(o!==-1&&(A=a[1].slice(o).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),a[1]=a[1].slice(0,o)),l=r(d.call(this,a[1].trim(),u),u),l&&a[0]===e&&!zn(l))return l;zn(l)||(l=Ew(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),A.length&&(l=A.reduce((f,p)=>this.format(f,p,n.lng,{...n,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const u6=s=>{let e=s.toLowerCase().trim();const r={};if(s.indexOf("(")>-1){const n=s.split("(");e=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);e==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(u=>{if(u){const[d,...A]=u.split(":"),o=A.join(":").trim().replace(/^'+|'+$/g,""),f=d.trim();r[f]||(r[f]=o),o==="false"&&(r[f]=!1),o==="true"&&(r[f]=!0),isNaN(o)||(r[f]=parseInt(o,10))}})}return{formatName:e,formatOptions:r}},Qw=s=>{const e={};return(r,n,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const u=n+JSON.stringify(l);let d=e[u];return d||(d=s(p0(n),a),e[u]=d),d(r)}},A6=s=>(e,r,n)=>s(p0(r),n)(e);class h6{constructor(e={}){this.logger=qu.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?Qw:A6;this.formats={number:n((a,l)=>{const u=new Intl.NumberFormat(a,{...l});return d=>u.format(d)}),currency:n((a,l)=>{const u=new Intl.NumberFormat(a,{...l,style:"currency"});return d=>u.format(d)}),datetime:n((a,l)=>{const u=new Intl.DateTimeFormat(a,{...l});return d=>u.format(d)}),relativetime:n((a,l)=>{const u=new Intl.RelativeTimeFormat(a,{...l});return d=>u.format(d,l.range||"day")}),list:n((a,l)=>{const u=new Intl.ListFormat(a,{...l});return d=>u.format(d)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Qw(r)}format(e,r,n,a={}){const l=r.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(A=>A.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,A)=>{var p;const{formatName:o,formatOptions:f}=u6(A);if(this.formats[o]){let m=d;try{const x=((p=a==null?void 0:a.formatParams)==null?void 0:p[a.interpolationkey])||{},b=x.locale||x.lng||a.locale||a.lng||n;m=this.formats[o](d,b,{...f,...a,...x})}catch(x){this.logger.warn(x)}return m}else this.logger.warn(`there was no format function for ${o}`);return d},e)}}const f6=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class p6 extends ax{constructor(e,r,n,a={}){var l,u;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=qu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(u=(l=this.backend)==null?void 0:l.init)==null||u.call(l,n,a.backend,a)}queueLoad(e,r,n,a){const l={},u={},d={},A={};return e.forEach(o=>{let f=!0;r.forEach(p=>{const m=`${o}|${p}`;!n.reload&&this.store.hasResourceBundle(o,p)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?u[m]===void 0&&(u[m]=!0):(this.state[m]=1,f=!1,u[m]===void 0&&(u[m]=!0),l[m]===void 0&&(l[m]=!0),A[p]===void 0&&(A[p]=!0)))}),f||(d[o]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(A)}}loaded(e,r,n){const a=e.split("|"),l=a[0],u=a[1];r&&this.emit("failedLoading",l,u,r),!r&&n&&this.store.addResourceBundle(l,u,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const d={};this.queue.forEach(A=>{e6(A.loaded,[l],u),f6(A,e),r&&A.errors.push(r),A.pendingCount===0&&!A.done&&(Object.keys(A.loaded).forEach(o=>{d[o]||(d[o]={});const f=A.loaded[o];f.length&&f.forEach(p=>{d[o][p]===void 0&&(d[o][p]=!0)})}),A.done=!0,A.errors.length?A.callback(A.errors):A.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(A=>!A.done)}read(e,r,n,a=0,l=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:a,wait:l,callback:u});return}this.readingCalls++;const d=(o,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(o&&f&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,a+1,l*2,u)},l);return}u(o,f)},A=this.backend[n].bind(this.backend);if(A.length===2){try{const o=A(e,r);o&&typeof o.then=="function"?o.then(f=>d(null,f)).catch(d):d(null,o)}catch(o){d(o)}return}return A(e,r,d)}prepareLoading(e,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();zn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),zn(r)&&(r=[r]);const l=this.queueLoad(e,r,n,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(u=>{this.loadOne(u)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),a=n[0],l=n[1];this.read(a,l,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${r}loading namespace ${l} for language ${a} failed`,u),!u&&d&&this.logger.log(`${r}loaded namespace ${l} for language ${a}`,d),this.loaded(e,u,d)})}saveMissing(e,r,n,a,l,u={},d=()=>{}){var A,o,f,p,m;if((o=(A=this.services)==null?void 0:A.utils)!=null&&o.hasLoadedNamespace&&!((p=(f=this.services)==null?void 0:f.utils)!=null&&p.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((m=this.backend)!=null&&m.create){const x={...u,isUpdate:l},b=this.backend.create.bind(this.backend);if(b.length<6)try{let w;b.length===5?w=b(e,r,n,a,x):w=b(e,r,n,a),w&&typeof w.then=="function"?w.then(y=>d(null,y)).catch(d):d(null,w)}catch(w){d(w)}else b(e,r,n,a,d,x)}!e||!e[0]||this.store.addResource(e[0],r,n,a)}}}const lb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),zn(s[1])&&(e.defaultValue=s[1]),zn(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const r=s[3]||s[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),_w=s=>{var e,r;return zn(s.ns)&&(s.ns=[s.ns]),zn(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),zn(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),((r=(e=s.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s},sm=()=>{},m6=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(r=>{typeof s[r]=="function"&&(s[r]=s[r].bind(s))})};class Zp extends ax{constructor(e={},r){if(super(),this.options=_w(e),this.services={},this.logger=qu,this.modules={external:[]},m6(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(zn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=lb();this.options={...n,...this.options,..._w(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);const a=o=>o?typeof o=="function"?new o:o:null;if(!this.options.isClone){this.modules.logger?qu.init(a(this.modules.logger),this.options):qu.init(null,this.options);let o;this.modules.formatter?o=this.modules.formatter:o=h6;const f=new Ow(this.options);this.store=new Uw(this.options.resources,this.options);const p=this.services;p.logger=qu,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new d6(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),o&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(p.formatter=a(o),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new Rw(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new p6(a(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(x,...b)=>{this.emit(x,...b)}),this.modules.languageDetector&&(p.languageDetector=a(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=a(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new Jm(this.services,this.options),this.translator.on("*",(x,...b)=>{this.emit(x,...b)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,r||(r=sm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.length>0&&o[0]!=="dev"&&(this.options.lng=o[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(o=>{this[o]=(...f)=>this.store[o](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(o=>{this[o]=(...f)=>(this.store[o](...f),this)});const d=Dp(),A=()=>{const o=(f,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(p),r(f,p)};if(this.languages&&!this.isInitialized)return o(null,this.t.bind(this));this.changeLanguage(this.options.lng,o)};return this.options.resources||!this.options.initAsync?A():setTimeout(A,0),d}loadResources(e,r=sm){var l,u;let n=r;const a=zn(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const d=[],A=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(p=>{p!=="cimode"&&d.indexOf(p)<0&&d.push(p)})};a?A(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>A(f)),(u=(l=this.options.preload)==null?void 0:l.forEach)==null||u.call(l,o=>A(o)),this.services.backendConnector.load(d,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,r,n){const a=Dp();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=sm),this.services.backendConnector.reload(e,r,l=>{a.resolve(),n(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&v5.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=Dp();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,A)=>{A?this.isLanguageChangingTo===e&&(a(A),this.translator.changeLanguage(A),this.isLanguageChangingTo=void 0,this.emit("languageChanged",A),this.logger.log("languageChanged",A)):this.isLanguageChangingTo=void 0,n.resolve((...o)=>this.t(...o)),r&&r(d,(...o)=>this.t(...o))},u=d=>{var f,p;!e&&!d&&this.services.languageDetector&&(d=[]);const A=zn(d)?d:d&&d[0],o=this.store.hasLanguageSomeTranslations(A)?A:this.services.languageUtils.getBestMatchFromCodes(zn(d)?[d]:d);o&&(this.language||a(o),this.translator.language||this.translator.changeLanguage(o),(p=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||p.call(f,o)),this.loadResources(o,m=>{l(m,o)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),n}getFixedT(e,r,n){const a=(l,u,...d)=>{let A;typeof u!="object"?A=this.options.overloadTranslationOptionHandler([l,u].concat(d)):A={...u},A.lng=A.lng||a.lng,A.lngs=A.lngs||a.lngs,A.ns=A.ns||a.ns,A.keyPrefix!==""&&(A.keyPrefix=A.keyPrefix||n||a.keyPrefix);const o=this.options.keySeparator||".";let f;return A.keyPrefix&&Array.isArray(l)?f=l.map(p=>(typeof p=="function"&&(p=nv(p,{...this.options,...u})),`${A.keyPrefix}${o}${p}`)):(typeof l=="function"&&(l=nv(l,{...this.options,...u})),f=A.keyPrefix?`${A.keyPrefix}${o}${l}`:l),this.t(f,A)};return zn(e)?a.lng=e:a.lngs=e,a.ns=r,a.keyPrefix=n,a}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const u=(d,A)=>{const o=this.services.backendConnector.state[`${d}|${A}`];return o===-1||o===0||o===2};if(r.precheck){const d=r.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(n,e)&&(!a||u(l,e)))}loadNamespaces(e,r){const n=Dp();return this.options.ns?(zn(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Dp();zn(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return l.length?(this.options.preload=a.concat(l),this.loadResources(u=>{n.resolve(),r&&r(u)}),n):(r&&r(),Promise.resolve())}dir(e){var a,l;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const u=new Intl.Locale(e);if(u&&u.getTextInfo){const d=u.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((l=this.services)==null?void 0:l.languageUtils)||new Ow(lb());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new Zp(e,r);return n.createInstance=Zp.createInstance,n}cloneInstance(e={},r=sm){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new Zp(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},n){const d=Object.keys(this.store.data).reduce((A,o)=>(A[o]={...this.store.data[o]},A[o]=Object.keys(A[o]).reduce((f,p)=>(f[p]={...A[o][p]},f),A[o]),A),{});l.store=new Uw(d,a),l.services.resourceStore=l.store}if(e.interpolation){const A={...lb().interpolation,...this.options.interpolation,...e.interpolation},o={...a,interpolation:A};l.services.interpolator=new Rw(o)}return l.translator=new Jm(l.services,a),l.translator.on("*",(d,...A)=>{l.emit(d,...A)}),l.init(a,r),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const fc=Zp.createInstance();fc.createInstance;fc.dir;fc.init;fc.loadResources;fc.reloadResources;fc.use;fc.changeLanguage;fc.getFixedT;fc.t;fc.exists;fc.setDefaultNamespace;fc.hasLoadedNamespace;fc.loadNamespaces;fc.loadLanguages;const g6=(s,e,r,n)=>{var l,u,d,A;const a=[r,{code:e,...n||{}}];if((u=(l=s==null?void 0:s.services)==null?void 0:l.logger)!=null&&u.forward)return s.services.logger.forward(a,"warn","react-i18next::",!0);vf(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(A=(d=s==null?void 0:s.services)==null?void 0:d.logger)!=null&&A.warn?s.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},Hw={},w5=(s,e,r,n)=>{vf(r)&&Hw[r]||(vf(r)&&(Hw[r]=new Date),g6(s,e,r,n))},j5=(s,e)=>()=>{if(s.isInitialized)e();else{const r=()=>{setTimeout(()=>{s.off("initialized",r)},0),e()};s.on("initialized",r)}},av=(s,e,r)=>{s.loadNamespaces(e,j5(s,r))},zw=(s,e,r,n)=>{if(vf(r)&&(r=[r]),s.options.preload&&s.options.preload.indexOf(e)>-1)return av(s,r,n);r.forEach(a=>{s.options.ns.indexOf(a)<0&&s.options.ns.push(a)}),s.loadLanguages(e,j5(s,n))},x6=(s,e,r={})=>!e.languages||!e.languages.length?(w5(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(s,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,s))return!1}}),vf=s=>typeof s=="string",b6=s=>typeof s=="object"&&s!==null,v6=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,y6={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},w6=s=>y6[s],j6=s=>s.replace(v6,w6);let iv={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:j6,transDefaultProps:void 0};const N6=(s={})=>{iv={...iv,...s}},k6=()=>iv;let N5;const C6=s=>{N5=s},B6=()=>N5,S6={type:"3rdParty",init(s){N6(s.options.react),C6(s)}},E6=W.createContext();class T6{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var cb={exports:{}},db={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function L6(){if($w)return db;$w=1;var s=C0();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=s.useState,a=s.useEffect,l=s.useLayoutEffect,u=s.useDebugValue;function d(p,m){var x=m(),b=n({inst:{value:x,getSnapshot:m}}),w=b[0].inst,y=b[1];return l(function(){w.value=x,w.getSnapshot=m,A(w)&&y({inst:w})},[p,x,m]),a(function(){return A(w)&&y({inst:w}),p(function(){A(w)&&y({inst:w})})},[p]),u(x),x}function A(p){var m=p.getSnapshot;p=p.value;try{var x=m();return!r(p,x)}catch{return!0}}function o(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o:d;return db.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:f,db}var Vw;function k5(){return Vw||(Vw=1,cb.exports=L6()),cb.exports}var ay=k5();const F6=(s,e)=>vf(e)?e:b6(e)&&vf(e.defaultValue)?e.defaultValue:Array.isArray(s)?s[s.length-1]:s,U6={t:F6,ready:!1},M6=()=>()=>{},To=(s,e={})=>{var ue,ve,le;const{i18n:r}=e,{i18n:n,defaultNS:a}=W.useContext(E6)||{},l=r||n||B6();l&&!l.reportNamespaces&&(l.reportNamespaces=new T6),l||w5(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=W.useMemo(()=>{var Ce;return{...k6(),...(Ce=l==null?void 0:l.options)==null?void 0:Ce.react,...e}},[l,e]),{useSuspense:d,keyPrefix:A}=u,o=s||a||((ue=l==null?void 0:l.options)==null?void 0:ue.defaultNS),f=vf(o)?[o]:o||["translation"],p=W.useMemo(()=>f,f);(le=(ve=l==null?void 0:l.reportNamespaces)==null?void 0:ve.addUsedNamespaces)==null||le.call(ve,p);const m=W.useRef(0),x=W.useCallback(Ce=>{if(!l)return M6;const{bindI18n:oe,bindI18nStore:Ne}=u,Ae=()=>{m.current+=1,Ce()};return oe&&l.on(oe,Ae),Ne&&l.store.on(Ne,Ae),()=>{oe&&oe.split(" ").forEach(se=>l.off(se,Ae)),Ne&&Ne.split(" ").forEach(se=>l.store.off(se,Ae))}},[l,u]),b=W.useRef(),w=W.useCallback(()=>{if(!l)return U6;const Ce=!!(l.isInitialized||l.initializedStoreOnce)&&p.every(re=>x6(re,l,u)),oe=e.lng||l.language,Ne=m.current,Ae=b.current;if(Ae&&Ae.ready===Ce&&Ae.lng===oe&&Ae.keyPrefix===A&&Ae.revision===Ne)return Ae;const pe={t:l.getFixedT(oe,u.nsMode==="fallback"?p:p[0],A),ready:Ce,lng:oe,keyPrefix:A,revision:Ne};return b.current=pe,pe},[l,p,A,u,e.lng]),[y,E]=W.useState(0),{t:P,ready:z}=ay.useSyncExternalStore(x,w,w);W.useEffect(()=>{if(l&&!z&&!d){const Ce=()=>E(oe=>oe+1);e.lng?zw(l,e.lng,p,Ce):av(l,p,Ce)}},[l,e.lng,p,z,d,y]);const X=l||{},Y=W.useRef(null),Q=W.useRef(),K=Ce=>{const oe=Object.getOwnPropertyDescriptors(Ce);oe.__original&&delete oe.__original;const Ne=Object.create(Object.getPrototypeOf(Ce),oe);if(!Object.prototype.hasOwnProperty.call(Ne,"__original"))try{Object.defineProperty(Ne,"__original",{value:Ce,writable:!1,enumerable:!1,configurable:!1})}catch{}return Ne},de=W.useMemo(()=>{const Ce=X,oe=Ce==null?void 0:Ce.language;let Ne=Ce;Ce&&(Y.current&&Y.current.__original===Ce?Q.current!==oe?(Ne=K(Ce),Y.current=Ne,Q.current=oe):Ne=Y.current:(Ne=K(Ce),Y.current=Ne,Q.current=oe));const Ae=[P,Ne,z];return Ae.t=P,Ae.i18n=Ne,Ae.ready=z,Ae},[P,X,z,X.resolvedLanguage,X.language,X.languages]);if(l&&d&&!z)throw new Promise(Ce=>{const oe=()=>Ce();e.lng?zw(l,e.lng,p,oe):av(l,p,oe)});return de},ov="/assets/logo--wQtsicm.svg",O6=({isOpen:s,isAdminUser:e,onSwitchToAdmin:r})=>{const n=$l(),a=gp(),{t:l}=To("nav"),[u,d]=W.useState(!1),[A,o]=W.useState(!1),[f,p]=W.useState(!1),m=W.useRef(null),x=[{path:"/",labelKey:"sidebar.dashboard",icon:sy},{path:"/chat",labelKey:"sidebar.aiPlanner",icon:oo},{path:"/trips",labelKey:"sidebar.myTrips",icon:RA},{path:"/blogs",labelKey:"sidebar.travelStories",icon:Hm},{path:"/translates",labelKey:"sidebar.translate",icon:T3},{path:"/expenses",labelKey:"sidebar.expenses",icon:Cf},{path:"/calendar",labelKey:"sidebar.calendar",icon:fS}];W.useEffect(()=>{const E=P=>{m.current&&!m.current.contains(P.target)&&o(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const b=()=>{n("/support")},w=()=>{n("/about")},y=E=>E==="/"||E==="/dashboard"?a.pathname==="/"||a.pathname==="/dashboard":a.pathname.startsWith(E);return t.jsxs(t.Fragment,{children:[t.jsx("aside",{className:`
          fixed inset-y-0 left-0 z-50 w-72 bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl transition-transform duration-500 ease-apple
          ${s?"translate-x-0":"-translate-x-full"}
          md:hidden shadow-2xl overflow-y-auto
        `,children:t.jsxs("div",{className:"flex flex-col h-full p-4",children:[t.jsxs("div",{className:`mb-6 transition-all duration-500 delay-100 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[t.jsxs("button",{onClick:()=>p(!f),className:`w-full flex items-center justify-between p-2 rounded-2xl transition-all duration-300 active:scale-95 active:bg-slate-100 active:scale-95 ${f?"bg-slate-100 dark:bg-slate-800":""}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:ov,alt:"GogoTrip Logo",className:"w-10 h-10 rounded-xl"}),t.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"GogoTrip"})]}),t.jsx(np,{className:`w-5 h-5 text-slate-400 transition-transform duration-300 ${f?"rotate-180":""}`})]}),t.jsx("div",{className:`
                overflow-hidden transition-all duration-300 ease-in-out
                ${f?"max-h-48 opacity-100 mt-2":"max-h-0 opacity-0"}
             `,children:t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-2 space-y-1",children:[t.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-700 transition-colors active:scale-95",children:[t.jsx($m,{className:"w-4 h-4"}),l("sidebar.helpSupport")]}),t.jsxs("button",{onClick:w,className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-700 transition-colors active:scale-95",children:[t.jsx(El,{className:"w-4 h-4"}),l("sidebar.about")]})]})})]}),t.jsxs("nav",{className:"space-y-2",children:[x.map((E,P)=>t.jsxs("button",{onClick:()=>n(E.path),style:{animationDelay:`${P*100}ms`},className:`
                  w-full flex items-center gap-4 px-4 py-4 rounded-2xl transition-all duration-300 origin-left
                  ${s?"animate-fade-in-up":"opacity-0"}
                  ${y(E.path)?"bg-sky-50 text-sky-600 dark:bg-indigo-500/20 dark:text-indigo-300 font-bold shadow-sm scale-100":"text-slate-500 hover:bg-slate-50 hover:text-slate-900 dark:text-slate-400 dark:hover:bg-slate-800/50 dark:hover:text-slate-200 font-medium"}
                  active:scale-105 active:bg-slate-100 dark:active:bg-slate-800
                `,children:[t.jsx(E.icon,{className:`w-6 h-6 ${y(E.path)?"text-sky-600 dark:text-indigo-400":"text-slate-400"}`}),t.jsx("span",{className:"text-base",children:l(E.labelKey)})]},E.path)),e&&r&&t.jsxs("button",{onClick:r,className:"w-full flex items-center gap-4 px-4 py-4 rounded-2xl transition-all duration-300 origin-left mt-4 bg-violet-50 text-violet-700 dark:bg-violet-900/20 dark:text-violet-300 font-bold active:scale-95",children:[t.jsx(lp,{className:"w-6 h-6"}),t.jsx("span",{className:"text-base",children:l("sidebar.adminPortal")})]})]})]})}),t.jsx("div",{className:"hidden md:flex flex-col z-50 fixed left-4 top-4 bottom-4",onMouseEnter:()=>d(!0),onMouseLeave:()=>{d(!1),o(!1)},children:t.jsxs("div",{className:`
            h-full bg-white/90 dark:bg-slate-900/90 backdrop-blur-2xl shadow-xl dark:shadow-black/50 rounded-[2.5rem] flex flex-col transition-all duration-500 ease-apple border-none
            ${u?"w-[280px]":"w-[88px]"}
          `,children:[t.jsxs("div",{className:"relative pt-6 px-4 mb-2",ref:m,children:[t.jsxs("button",{onClick:()=>o(!A),className:`w-full flex items-center gap-4 p-4 rounded-2xl hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-all duration-300 group ${A?"bg-slate-100 dark:bg-slate-800":""}`,children:[t.jsx("img",{src:ov,alt:"GogoTrip Logo",className:"w-10 h-10 rounded-2xl flex-shrink-0 transition-transform duration-500 group-hover:scale-110"}),t.jsxs("div",{className:`flex flex-col items-start transition-all duration-300 delay-75 origin-left ${u?"opacity-100 translate-x-0 scale-100":"opacity-0 -translate-x-4 scale-95 pointer-events-none fixed"}`,children:[t.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight leading-none group-hover:scale-105 origin-left transition-transform",children:"GogoTrip"}),t.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase tracking-wider mt-1",children:"v2.0 Beta"})]}),u&&t.jsx(hc,{className:`ml-auto w-4 h-4 text-slate-400 transition-transform duration-300 ${A?"rotate-90":""}`})]}),t.jsx("div",{className:`
                absolute top-full left-4 right-4 mt-2 bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden transition-all duration-300 origin-top z-50
                ${A&&u?"opacity-100 scale-100 translate-y-0 max-h-40":"opacity-0 scale-95 -translate-y-2 max-h-0 pointer-events-none"}
             `,children:t.jsxs("div",{className:"p-1.5 space-y-0.5",children:[t.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[t.jsx($m,{className:"w-4 h-4"}),l("sidebar.helpSupport")]}),t.jsxs("button",{onClick:w,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[t.jsx(El,{className:"w-4 h-4"}),l("sidebar.about")]})]})})]}),t.jsxs("nav",{className:"flex-1 px-4 space-y-2 py-2 overflow-y-auto scrollbar-none",children:[x.map(E=>{const P=E.icon,z=y(E.path);return t.jsxs("button",{onClick:()=>n(E.path),className:`
                    relative w-full flex items-center h-14 rounded-full transition-all duration-300 group
                    ${z?"bg-sky-50 dark:bg-indigo-500/20":"hover:bg-slate-50 dark:hover:bg-slate-800/40"}
                  `,children:[t.jsx("div",{className:"absolute left-0 w-[56px] flex justify-center items-center transition-all duration-300",children:t.jsx(P,{className:`w-6 h-6 transition-colors duration-300 ${z?"text-sky-600 dark:text-indigo-400":"text-slate-400 group-hover:text-slate-600 dark:text-slate-500 dark:group-hover:text-slate-300"}`})}),t.jsx("span",{className:`
                    ml-[60px] text-sm font-medium whitespace-nowrap transition-all duration-300 ease-apple origin-left
                    ${u?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}
                    ${z?"text-sky-600 dark:text-indigo-300":"text-slate-600 dark:text-slate-400"}
                    group-hover:scale-105
                  `,children:l(E.labelKey)}),z&&t.jsx("div",{className:"absolute right-4 w-1.5 h-1.5 rounded-full bg-sky-500 dark:bg-indigo-400 shadow-[0_0_10px_rgba(14,165,233,0.6)]"})]},E.path)}),e&&r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"my-2 border-t border-slate-100 dark:border-slate-800/50 mx-2"}),t.jsxs("button",{onClick:r,className:`
                    relative w-full flex items-center h-14 rounded-full transition-all duration-300 group
                    hover:bg-violet-50 dark:hover:bg-violet-900/20
                  `,title:"Back to Admin Dashboard",children:[t.jsx("div",{className:"absolute left-0 w-[56px] flex justify-center items-center transition-all duration-300",children:t.jsx(lp,{className:"w-6 h-6 text-violet-600 dark:text-violet-400"})}),t.jsx("span",{className:`
                    ml-[60px] text-sm font-bold whitespace-nowrap transition-all duration-300 ease-apple origin-left
                    text-violet-700 dark:text-violet-300
                    ${u?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}
                  `,children:l("sidebar.adminPortal")})]})]})]}),t.jsx("div",{className:"h-4"})]})}),t.jsx("div",{className:"hidden md:block w-[120px] flex-shrink-0"})]})},It="https://gogotrip.teocodes.com",rm=`${It}/api/notifications`,nm={getNotifications:async()=>{try{const e=await(await fetch(`${rm}/user`,{credentials:"include"})).json();return e.success?{notifications:e.notifications,unreadCount:e.unreadCount}:{notifications:[],unreadCount:0}}catch{return{notifications:[],unreadCount:0}}},markAsRead:async s=>{try{return(await(await fetch(`${rm}/user/${s}/read`,{method:"POST",credentials:"include"})).json()).success}catch{return!1}},markAllAsRead:async()=>{try{return(await(await fetch(`${rm}/user/read-all`,{method:"POST",credentials:"include"})).json()).success}catch{return!1}},deleteNotification:async s=>{try{return(await(await fetch(`${rm}/user/${s}`,{method:"DELETE",credentials:"include"})).json()).success}catch{return!1}}},I6=({onToggleSidebar:s,title:e,isDarkMode:r,onToggleTheme:n,user:a,onLogout:l})=>{const u=$l(),{t:d,i18n:A}=To(["nav","common"]),[o,f]=W.useState(!1),[p,m]=W.useState(!1),[x,b]=W.useState([]),[w,y]=W.useState(0),[E,P]=W.useState(!0),z=W.useRef(null),X=W.useRef(null),Y=W.useCallback(async()=>{const oe=await nm.getNotifications();b(oe.notifications),y(oe.unreadCount),P(!1)},[]);W.useEffect(()=>{Y();const oe=setInterval(Y,3e4);return()=>clearInterval(oe)},[Y]),W.useEffect(()=>{const oe=Ne=>{z.current&&!z.current.contains(Ne.target)&&f(!1),X.current&&!X.current.contains(Ne.target)&&m(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[]);const Q=async oe=>{await nm.markAsRead(oe)&&(b(Ae=>Ae.map(se=>se.id===oe?{...se,unread:!1}:se)),y(Ae=>Math.max(0,Ae-1)))},K=async()=>{await nm.markAllAsRead()&&(b(Ne=>Ne.map(Ae=>({...Ae,unread:!1}))),y(0))},de=async oe=>{const Ne=x.find(se=>se.id===oe);await nm.deleteNotification(oe)&&(b(se=>se.filter(pe=>pe.id!==oe)),Ne!=null&&Ne.unread&&y(se=>Math.max(0,se-1)))},ue=async oe=>{oe.unread&&await Q(oe.id),oe.hasTab&&oe.tabId&&(m(!1),u(`/announcements/${oe.tabId}`))},ve=oe=>{oe==="Account"||oe==="Preferences"?u("/settings"):oe==="Billing"&&u("/billing"),f(!1)},le=oe=>{switch(oe){case"success":return t.jsx(oo,{className:"w-4 h-4 text-green-500"});case"warning":return t.jsx(qo,{className:"w-4 h-4 text-yellow-500"});case"alert":return t.jsx(qo,{className:"w-4 h-4 text-red-500"});case"promotion":return t.jsx(xf,{className:"w-4 h-4 text-purple-500"});default:return t.jsx(El,{className:"w-4 h-4 text-blue-500"})}},Ce=(oe,Ne)=>{const Ae=Ne?"bg-opacity-50":"";switch(oe){case"success":return`${Ae} ${Ne?"bg-green-50 dark:bg-green-900/10":""}`;case"warning":return`${Ae} ${Ne?"bg-yellow-50 dark:bg-yellow-900/10":""}`;case"alert":return`${Ae} ${Ne?"bg-red-50 dark:bg-red-900/10":""} border-l-4 border-l-red-500`;default:return`${Ae} ${Ne?"bg-sky-50 dark:bg-indigo-900/10":""}`}};return t.jsx("header",{className:"absolute top-0 left-0 right-0 z-20 px-3 md:px-4 pt-4 pb-2 transition-all duration-300 pointer-events-none",children:t.jsxs("div",{className:"mx-auto bg-slate-100/80 dark:bg-slate-900/80 backdrop-blur-xl border border-transparent hover:border-slate-300 dark:hover:border-slate-600 rounded-[2rem] shadow-sm shadow-slate-200/50 dark:shadow-black/20 pointer-events-auto h-20 px-4 md:px-8 flex items-center justify-between transition-all duration-300 ease-out hover:shadow-xl hover:-translate-y-0.5 hover:scale-[1.005]",children:[t.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0 flex-1 mr-2",children:[t.jsx("button",{onClick:s,className:"p-2 -ml-2 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 rounded-full md:hidden transition-colors active:scale-95",children:t.jsx(A5,{size:24})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-black text-slate-900 dark:text-white tracking-tight truncate bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-slate-300",children:e}),t.jsx("span",{className:"text-[10px] md:text-xs font-bold text-slate-400 uppercase tracking-widest hidden sm:block",children:new Date().toLocaleDateString(A.language==="zh"?"zh-CN":A.language==="ms"?"ms-MY":"en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[t.jsxs("div",{className:"relative",ref:X,children:[t.jsxs("button",{onClick:()=>m(!p),className:"p-3 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 hover:text-sky-600 dark:hover:text-indigo-400 rounded-full transition-all duration-200 relative active:scale-95 group",children:[t.jsx(Au,{size:20,className:"transition-transform group-hover:rotate-12"}),w>0&&t.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full ring-2 ring-slate-100 dark:ring-slate-900 animate-pulse"})]}),p&&t.jsxs("div",{className:"absolute right-0 mt-4 w-80 md:w-96 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden z-50 animate-in zoom-in-95 origin-top-right",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:d("nav:topBar.notifications")}),w>0&&t.jsxs("button",{onClick:K,className:"text-xs font-bold text-sky-600 hover:text-sky-700 dark:text-indigo-400 flex items-center gap-1 px-2 py-1 rounded-lg hover:bg-sky-50 dark:hover:bg-indigo-900/20 transition-colors",children:[t.jsx(Xo,{className:"w-3 h-3"})," ",d("nav:topBar.markAllRead")]})]}),t.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar",children:E?t.jsx("div",{className:"p-8 text-center text-slate-400",children:d("common:loading")}):x.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-3 text-slate-300",children:t.jsx(Au,{className:"w-6 h-6"})}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:d("nav:topBar.noNotifications")})]}):t.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:x.map(oe=>t.jsx("div",{className:`p-4 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800/50 cursor-pointer group ${Ce(oe.type,oe.unread)}`,onClick:()=>ue(oe),children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"mt-1 w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 bg-white dark:bg-slate-800 shadow-sm border border-slate-100 dark:border-slate-700",children:le(oe.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm ${oe.unread?"font-bold text-slate-900 dark:text-white":"font-medium text-slate-600 dark:text-slate-300"}`,children:oe.title}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 line-clamp-2 leading-relaxed",children:oe.message}),t.jsx("p",{className:"text-[10px] text-slate-400 mt-2 font-medium",children:new Date(oe.createdAt).toLocaleDateString()})]}),t.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),de(oe.id)},className:"self-start p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(qr,{className:"w-3 h-3"})})]})},oe.id))})}),t.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-800 text-center",children:t.jsxs("button",{onClick:()=>{m(!1),u("/announcements")},className:"text-xs font-bold text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 transition-colors flex items-center justify-center gap-1 w-full py-1",children:[d("nav:topBar.viewAllAnnouncements")," ",t.jsx(hc,{className:"w-3 h-3"})]})})]})]}),t.jsx("button",{onClick:n,className:"p-3 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 hover:text-amber-500 dark:hover:text-yellow-400 rounded-full transition-all duration-200 active:scale-95",children:r?t.jsx(nT,{size:20}):t.jsx(rE,{size:20})}),t.jsxs("div",{className:"relative ml-2",ref:z,children:[t.jsxs("button",{onClick:()=>f(!o),className:"flex items-center gap-3 pl-1 pr-2 py-1 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-full border border-slate-200 dark:border-slate-700 transition-all duration-200 active:scale-95",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center text-white shadow-md ring-2 ring-white dark:ring-slate-800 overflow-hidden",children:a.avatarUrl?t.jsx("img",{src:a.avatarUrl,alt:a.name,className:"w-full h-full object-cover"}):t.jsx("span",{className:"font-bold text-sm",children:a.name.charAt(0)})}),t.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 max-w-[80px] truncate hidden md:block",children:a.name})]}),o&&t.jsxs("div",{className:"absolute right-0 mt-4 w-64 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden z-50 animate-in zoom-in-95 origin-top-right",children:[t.jsxs("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:a.name}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:a.email}),a.isPremium&&t.jsx("div",{className:"mt-2 inline-flex items-center gap-1.5 px-2 py-1 bg-gradient-to-r from-amber-200 to-yellow-400 rounded-lg shadow-sm",children:t.jsxs("span",{className:"text-[10px] font-black text-yellow-900 uppercase tracking-wider flex items-center gap-1",children:[t.jsx(xf,{className:"w-3 h-3"})," ",d("nav:sidebar.premium")]})})]}),t.jsxs("div",{className:"p-2 space-y-1",children:[t.jsxs("button",{onClick:()=>ve("Account"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[t.jsx(Jo,{size:16}),d("nav:userMenu.account")]}),t.jsxs("button",{onClick:()=>ve("Billing"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[t.jsx(ap,{size:16}),d("nav:userMenu.billing")]})]}),t.jsx("div",{className:"p-2 border-t border-slate-100 dark:border-slate-800",children:t.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-bold text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t.jsx(ex,{size:16}),d("nav:userMenu.signOut")]})})]})]})]})]})})},nA=Object.create(null);nA.open="0";nA.close="1";nA.ping="2";nA.pong="3";nA.message="4";nA.upgrade="5";nA.noop="6";const Nm=Object.create(null);Object.keys(nA).forEach(s=>{Nm[nA[s]]=s});const lv={type:"error",data:"parser error"},C5=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",B5=typeof ArrayBuffer=="function",S5=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,iy=({type:s,data:e},r,n)=>C5&&e instanceof Blob?r?n(e):Kw(e,n):B5&&(e instanceof ArrayBuffer||S5(e))?r?n(e):Kw(new Blob([e]),n):n(nA[s]+(e||"")),Kw=(s,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(s)};function Gw(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let ub;function D6(s,e){if(C5&&s.data instanceof Blob)return s.data.arrayBuffer().then(Gw).then(e);if(B5&&(s.data instanceof ArrayBuffer||S5(s.data)))return e(Gw(s.data));iy(s,!1,r=>{ub||(ub=new TextEncoder),e(ub.encode(r))})}const Ww="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<Ww.length;s++)Vp[Ww.charCodeAt(s)]=s;const P6=s=>{let e=s.length*.75,r=s.length,n,a=0,l,u,d,A;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const o=new ArrayBuffer(e),f=new Uint8Array(o);for(n=0;n<r;n+=4)l=Vp[s.charCodeAt(n)],u=Vp[s.charCodeAt(n+1)],d=Vp[s.charCodeAt(n+2)],A=Vp[s.charCodeAt(n+3)],f[a++]=l<<2|u>>4,f[a++]=(u&15)<<4|d>>2,f[a++]=(d&3)<<6|A&63;return o},R6=typeof ArrayBuffer=="function",oy=(s,e)=>{if(typeof s!="string")return{type:"message",data:E5(s,e)};const r=s.charAt(0);return r==="b"?{type:"message",data:Q6(s.substring(1),e)}:Nm[r]?s.length>1?{type:Nm[r],data:s.substring(1)}:{type:Nm[r]}:lv},Q6=(s,e)=>{if(R6){const r=P6(s);return E5(r,e)}else return{base64:!0,data:s}},E5=(s,e)=>{switch(e){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},T5="",_6=(s,e)=>{const r=s.length,n=new Array(r);let a=0;s.forEach((l,u)=>{iy(l,!1,d=>{n[u]=d,++a===r&&e(n.join(T5))})})},H6=(s,e)=>{const r=s.split(T5),n=[];for(let a=0;a<r.length;a++){const l=oy(r[a],e);if(n.push(l),l.type==="error")break}return n};function z6(){return new TransformStream({transform(s,e){D6(s,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const l=new DataView(a.buffer);l.setUint8(0,126),l.setUint16(1,n)}else{a=new Uint8Array(9);const l=new DataView(a.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(n))}s.data&&typeof s.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(r)})}})}let Ab;function am(s){return s.reduce((e,r)=>e+r.length,0)}function im(s,e){if(s[0].length===e)return s.shift();const r=new Uint8Array(e);let n=0;for(let a=0;a<e;a++)r[a]=s[0][n++],n===s[0].length&&(s.shift(),n=0);return s.length&&n<s[0].length&&(s[0]=s[0].slice(n)),r}function $6(s,e){Ab||(Ab=new TextDecoder);const r=[];let n=0,a=-1,l=!1;return new TransformStream({transform(u,d){for(r.push(u);;){if(n===0){if(am(r)<1)break;const A=im(r,1);l=(A[0]&128)===128,a=A[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(am(r)<2)break;const A=im(r,2);a=new DataView(A.buffer,A.byteOffset,A.length).getUint16(0),n=3}else if(n===2){if(am(r)<8)break;const A=im(r,8),o=new DataView(A.buffer,A.byteOffset,A.length),f=o.getUint32(0);if(f>Math.pow(2,21)-1){d.enqueue(lv);break}a=f*Math.pow(2,32)+o.getUint32(4),n=3}else{if(am(r)<a)break;const A=im(r,a);d.enqueue(oy(l?A:Ab.decode(A),e)),n=0}if(a===0||a>s){d.enqueue(lv);break}}}})}const L5=4;function Cl(s){if(s)return V6(s)}function V6(s){for(var e in Cl.prototype)s[e]=Cl.prototype[e];return s}Cl.prototype.on=Cl.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this};Cl.prototype.once=function(s,e){function r(){this.off(s,r),e.apply(this,arguments)}return r.fn=e,this.on(s,r),this};Cl.prototype.off=Cl.prototype.removeListener=Cl.prototype.removeAllListeners=Cl.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+s];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===e||n.fn===e){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+s],this};Cl.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+s],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,e)}return this};Cl.prototype.emitReserved=Cl.prototype.emit;Cl.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};Cl.prototype.hasListeners=function(s){return!!this.listeners(s).length};const ix=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),du=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),K6="arraybuffer";function F5(s,...e){return e.reduce((r,n)=>(s.hasOwnProperty(n)&&(r[n]=s[n]),r),{})}const G6=du.setTimeout,W6=du.clearTimeout;function ox(s,e){e.useNativeTimers?(s.setTimeoutFn=G6.bind(du),s.clearTimeoutFn=W6.bind(du)):(s.setTimeoutFn=du.setTimeout.bind(du),s.clearTimeoutFn=du.clearTimeout.bind(du))}const Y6=1.33;function X6(s){return typeof s=="string"?J6(s):Math.ceil((s.byteLength||s.size)*Y6)}function J6(s){let e=0,r=0;for(let n=0,a=s.length;n<a;n++)e=s.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function U5(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Z6(s){let e="";for(let r in s)s.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(s[r]));return e}function q6(s){let e={},r=s.split("&");for(let n=0,a=r.length;n<a;n++){let l=r[n].split("=");e[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return e}class eL extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class ly extends Cl{constructor(e){super(),this.writable=!1,ox(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new eL(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=oy(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=Z6(e);return r.length?"?"+r:""}}class tL extends ly{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};H6(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,_6(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=U5()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let M5=!1;try{M5=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const sL=M5;function rL(){}class nL extends tL{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(a,l)=>{this.onError("xhr post error",a,l)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class sA extends Cl{constructor(e,r,n){super(),this.createRequest=e,ox(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=F5(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=sA.requestsCount++,sA.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=rL,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete sA.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}sA.requestsCount=0;sA.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Yw);else if(typeof addEventListener=="function"){const s="onpagehide"in du?"pagehide":"unload";addEventListener(s,Yw,!1)}}function Yw(){for(let s in sA.requests)sA.requests.hasOwnProperty(s)&&sA.requests[s].abort()}const aL=(function(){const s=O5({xdomain:!1});return s&&s.responseType!==null})();class iL extends nL{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=aL&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new sA(O5,this.uri(),e)}}function O5(s){const e=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||sL))return new XMLHttpRequest}catch{}if(!e)try{return new du[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const I5=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class oL extends ly{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=I5?{}:F5(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],a=r===e.length-1;iy(n,this.supportsBinary,l=>{try{this.doWrite(n,l)}catch{}a&&ix(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=U5()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const hb=du.WebSocket||du.MozWebSocket;let lL=class extends oL{createSocket(e,r,n){return I5?new hb(e,r,n):r?new hb(e,r):new hb(e)}doWrite(e,r){this.ws.send(r)}};class cL extends ly{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=$6(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),a=z6();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const l=()=>{n.read().then(({done:d,value:A})=>{d||(this.onPacket(A),l())}).catch(d=>{})};l();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],a=r===e.length-1;this._writer.write(n).then(()=>{a&&ix(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const dL={websocket:lL,webtransport:cL,polling:iL},uL=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,AL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function cv(s){if(s.length>8e3)throw"URI too long";const e=s,r=s.indexOf("["),n=s.indexOf("]");r!=-1&&n!=-1&&(s=s.substring(0,r)+s.substring(r,n).replace(/:/g,";")+s.substring(n,s.length));let a=uL.exec(s||""),l={},u=14;for(;u--;)l[AL[u]]=a[u]||"";return r!=-1&&n!=-1&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=hL(l,l.path),l.queryKey=fL(l,l.query),l}function hL(s,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function fL(s,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,l){a&&(r[a]=l)}),r}const dv=typeof addEventListener=="function"&&typeof removeEventListener=="function",km=[];dv&&addEventListener("offline",()=>{km.forEach(s=>s())},!1);class Eh extends Cl{constructor(e,r){if(super(),this.binaryType=K6,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=cv(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=cv(r.host).host);ox(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=q6(this.opts.query)),dv&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},km.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=L5,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Eh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Eh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=X6(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ix(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const l={type:e,data:r,options:n};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Eh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),dv&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=km.indexOf(this._offlineEventListener);n!==-1&&km.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}Eh.protocol=L5;class pL extends Eh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;Eh.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Eh.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function l(){n||(n=!0,f(),r.close(),r=null)}const u=p=>{const m=new Error("probe error: "+p);m.transport=r.name,l(),this.emitReserved("upgradeError",m)};function d(){u("transport closed")}function A(){u("socket closed")}function o(p){r&&p.name!==r.name&&l()}const f=()=>{r.removeListener("open",a),r.removeListener("error",u),r.removeListener("close",d),this.off("close",A),this.off("upgrading",o)};r.once("open",a),r.once("error",u),r.once("close",d),this.once("close",A),this.once("upgrading",o),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let mL=class extends pL{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>dL[a]).filter(a=>!!a)),super(e,n)}};function gL(s,e="",r){let n=s;r=r||typeof location<"u"&&location,s==null&&(s=r.protocol+"//"+r.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=r.protocol+s:s=r.host+s),/^(https?|wss?):\/\//.test(s)||(typeof r<"u"?s=r.protocol+"//"+s:s="https://"+s),n=cv(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const l=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+l+":"+n.port+e,n.href=n.protocol+"://"+l+(r&&r.port===n.port?"":":"+n.port),n}const xL=typeof ArrayBuffer=="function",bL=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,D5=Object.prototype.toString,vL=typeof Blob=="function"||typeof Blob<"u"&&D5.call(Blob)==="[object BlobConstructor]",yL=typeof File=="function"||typeof File<"u"&&D5.call(File)==="[object FileConstructor]";function cy(s){return xL&&(s instanceof ArrayBuffer||bL(s))||vL&&s instanceof Blob||yL&&s instanceof File}function Cm(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let r=0,n=s.length;r<n;r++)if(Cm(s[r]))return!0;return!1}if(cy(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return Cm(s.toJSON(),!0);for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&Cm(s[r]))return!0;return!1}function wL(s){const e=[],r=s.data,n=s;return n.data=uv(r,e),n.attachments=e.length,{packet:n,buffers:e}}function uv(s,e){if(!s)return s;if(cy(s)){const r={_placeholder:!0,num:e.length};return e.push(s),r}else if(Array.isArray(s)){const r=new Array(s.length);for(let n=0;n<s.length;n++)r[n]=uv(s[n],e);return r}else if(typeof s=="object"&&!(s instanceof Date)){const r={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=uv(s[n],e));return r}return s}function jL(s,e){return s.data=Av(s.data,e),delete s.attachments,s}function Av(s,e){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<e.length)return e[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let r=0;r<s.length;r++)s[r]=Av(s[r],e);else if(typeof s=="object")for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(s[r]=Av(s[r],e));return s}const P5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],NL=5;var Aa;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(Aa||(Aa={}));class kL{constructor(e){this.replacer=e}encode(e){return(e.type===Aa.EVENT||e.type===Aa.ACK)&&Cm(e)?this.encodeAsBinary({type:e.type===Aa.EVENT?Aa.BINARY_EVENT:Aa.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Aa.BINARY_EVENT||e.type===Aa.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=wL(e),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}class dy extends Cl{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Aa.BINARY_EVENT;n||r.type===Aa.BINARY_ACK?(r.type=n?Aa.EVENT:Aa.ACK,this.reconstructor=new CL(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(cy(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Aa[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Aa.BINARY_EVENT||n.type===Aa.BINARY_ACK){const l=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const u=e.substring(l,r);if(u!=Number(u)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(u)}if(e.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(l,r)}else n.nsp="/";const a=e.charAt(r+1);if(a!==""&&Number(a)==a){const l=r+1;for(;++r;){const u=e.charAt(r);if(u==null||Number(u)!=u){--r;break}if(r===e.length)break}n.id=Number(e.substring(l,r+1))}if(e.charAt(++r)){const l=this.tryParse(e.substr(r));if(dy.isPayloadValid(n.type,l))n.data=l;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Aa.CONNECT:return Zm(r);case Aa.DISCONNECT:return r===void 0;case Aa.CONNECT_ERROR:return typeof r=="string"||Zm(r);case Aa.EVENT:case Aa.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&P5.indexOf(r[0])===-1);case Aa.ACK:case Aa.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class CL{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=jL(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function BL(s){return typeof s=="string"}const SL=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s};function EL(s){return s===void 0||SL(s)}function Zm(s){return Object.prototype.toString.call(s)==="[object Object]"}function TL(s,e){switch(s){case Aa.CONNECT:return e===void 0||Zm(e);case Aa.DISCONNECT:return e===void 0;case Aa.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&P5.indexOf(e[0])===-1);case Aa.ACK:return Array.isArray(e);case Aa.CONNECT_ERROR:return typeof e=="string"||Zm(e);default:return!1}}function LL(s){return BL(s.nsp)&&EL(s.id)&&TL(s.type,s.data)}const FL=Object.freeze(Object.defineProperty({__proto__:null,Decoder:dy,Encoder:kL,get PacketType(){return Aa},isPacketValid:LL,protocol:NL},Symbol.toStringTag,{value:"Module"}));function Tu(s,e,r){return s.on(e,r),function(){s.off(e,r)}}const UL=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class R5 extends Cl{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Tu(e,"open",this.onopen.bind(this)),Tu(e,"packet",this.onpacket.bind(this)),Tu(e,"error",this.onerror.bind(this)),Tu(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,a,l;if(UL.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const u={type:Aa.EVENT,data:r};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,p=r.pop();this._registerAckCallback(f,p),u.id=f}const d=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,A=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!d||(A?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[e]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===e&&this.sendBuffer.splice(d,1);r.call(this,new Error("operation has timed out"))},a),u=(...d)=>{this.io.clearTimeoutFn(l),r.apply(this,d)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...r){return new Promise((n,a)=>{const l=(u,d)=>u?a(u):n(d);l.withError=!0,r.push(l),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...l)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...l)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Aa.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Aa.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Aa.EVENT:case Aa.BINARY_EVENT:this.onevent(e);break;case Aa.ACK:case Aa.BINARY_ACK:this.onack(e);break;case Aa.DISCONNECT:this.ondisconnect();break;case Aa.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:Aa.ACK,id:e,data:a}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Aa.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function yp(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}yp.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*s);s=(Math.floor(e*10)&1)==0?s-r:s+r}return Math.min(s,this.max)|0};yp.prototype.reset=function(){this.attempts=0};yp.prototype.setMin=function(s){this.ms=s};yp.prototype.setMax=function(s){this.max=s};yp.prototype.setJitter=function(s){this.jitter=s};class hv extends Cl{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,ox(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new yp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const a=r.parser||FL;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new mL(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Tu(r,"open",function(){n.onopen(),e&&e()}),l=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),e?e(d):this.maybeReconnectOnOpen()},u=Tu(r,"error",l);if(this._timeout!==!1){const d=this._timeout,A=this.setTimeoutFn(()=>{a(),l(new Error("timeout")),r.close()},d);this.opts.autoUnref&&A.unref(),this.subs.push(()=>{this.clearTimeoutFn(A)})}return this.subs.push(a),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Tu(e,"ping",this.onping.bind(this)),Tu(e,"data",this.ondata.bind(this)),Tu(e,"error",this.onerror.bind(this)),Tu(e,"close",this.onclose.bind(this)),Tu(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){ix(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new R5(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Pp={};function qp(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const r=gL(s,e.path||"/socket.io"),n=r.source,a=r.id,l=r.path,u=Pp[a]&&l in Pp[a].nsps,d=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let A;return d?A=new hv(n,e):(Pp[a]||(Pp[a]=new hv(n,e)),A=Pp[a]),r.query&&!e.query&&(e.query=r.queryKey),A.socket(r.path,e)}Object.assign(qp,{Manager:hv,Socket:R5,io:qp,connect:qp});const Q5=W.createContext(null),ML=({children:s,userId:e,isAuthenticated:r})=>{const[n,a]=W.useState(null),[l,u]=W.useState(!1),d=W.useRef(null);W.useEffect(()=>{if(!r||!e){d.current&&(d.current.disconnect(),d.current=null,a(null),u(!1));return}const Q=qp(It,{withCredentials:!0,transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3});return d.current=Q,a(Q),Q.on("connect",()=>{console.log(" Socket connected:",Q.id),u(!0)}),Q.on("disconnect",K=>{console.log(" Socket disconnected:",K),u(!1)}),Q.on("connect_error",K=>{console.error(" Socket connection error:",K),u(!1)}),Q.on("connected",K=>{console.log(" Authenticated connection:",K)}),Q.on("error",K=>{console.error(" Socket error:",K.message)}),()=>{console.log(" Cleaning up socket connection"),Q.disconnect(),d.current=null}},[r,e]);const A=W.useCallback(Q=>{var K;(K=d.current)!=null&&K.connected&&d.current.emit("join_ticket",{ticketId:Q})},[]),o=W.useCallback(Q=>{var K;(K=d.current)!=null&&K.connected&&d.current.emit("leave_ticket",{ticketId:Q})},[]),f=W.useCallback((Q,K)=>{var de;(de=d.current)!=null&&de.connected&&d.current.emit("ticket_message",{ticketId:Q,content:K})},[]),p=W.useCallback((Q,K)=>{var de;(de=d.current)!=null&&de.connected&&d.current.emit("ticket_typing",{ticketId:Q,isTyping:K})},[]),m=W.useCallback((Q,K,de,ue)=>{var ve;(ve=d.current)!=null&&ve.connected&&d.current.emit("admin_message",{recipientId:Q,isBroadcast:Q===null,content:K,subject:de,priority:ue||"normal"})},[]),x=W.useCallback(Q=>K=>d.current?(d.current.on(Q,K),()=>{var de;(de=d.current)==null||de.off(Q,K)}):()=>{},[]),b=W.useCallback(x("new_ticket_message"),[x]),w=W.useCallback(x("ticket_activity"),[x]),y=W.useCallback(x("user_typing"),[x]),E=W.useCallback(x("new_admin_message"),[x]),P=W.useCallback(x("new_ticket"),[x]),z=W.useCallback(x("ticket_accepted"),[x]),X=W.useCallback(x("ticket_resolved"),[x]),Y={socket:n,isConnected:l,joinTicket:A,leaveTicket:o,sendTicketMessage:f,sendTypingStatus:p,sendAdminMessage:m,onNewTicketMessage:b,onTicketActivity:w,onUserTyping:y,onNewAdminMessage:E,onNewTicket:P,onTicketAccepted:z,onTicketResolved:X};return t.jsx(Q5.Provider,{value:Y,children:s})},L0=()=>{const s=W.useContext(Q5);if(!s)throw new Error("useSocket must be used within a SocketProvider");return s},qm={getTickets:async()=>{const e=await(await fetch(`${It}/api/tickets/user`,{credentials:"include"})).json();return e.success?e.tickets:[]},getTicketDetail:async s=>{const r=await(await fetch(`${It}/api/tickets/user/${s}`,{credentials:"include"})).json();return r.success?{ticket:r.ticket,messages:r.messages}:null},createTicket:async(s,e,r,n)=>(await fetch(`${It}/api/tickets/user`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({subject:s,category:e,priority:r,message:n})})).json(),closeTicket:async s=>(await fetch(`${It}/api/tickets/user/${s}/close`,{method:"POST",credentials:"include"})).json()},_5=({status:s})=>{const e={pending:{color:"yellow",icon:t.jsx(Vi,{className:"w-3 h-3"}),label:"Waiting"},accepted:{color:"blue",icon:t.jsx(Bo,{className:"w-3 h-3"}),label:"Accepted"},in_progress:{color:"indigo",icon:t.jsx(mu,{className:"w-3 h-3"}),label:"In Progress"},resolved:{color:"green",icon:t.jsx(Bo,{className:"w-3 h-3"}),label:"Resolved"},expired:{color:"red",icon:t.jsx(qo,{className:"w-3 h-3"}),label:"Expired"},closed:{color:"slate",icon:t.jsx(qr,{className:"w-3 h-3"}),label:"Closed"}},{color:r,icon:n,label:a}=e[s]||e.pending,l={yellow:"bg-yellow-100 text-yellow-700",blue:"bg-blue-100 text-blue-700",indigo:"bg-indigo-100 text-indigo-700",green:"bg-green-100 text-green-700",red:"bg-red-100 text-red-700",slate:"bg-slate-100 text-slate-700"};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${l[r]}`,children:[n,a]})},OL=({category:s})=>{const e={general:t.jsx($m,{className:"w-5 h-5"}),billing:t.jsx(ap,{className:"w-5 h-5"}),technical:t.jsx(T0,{className:"w-5 h-5"}),feedback:t.jsx(Mh,{className:"w-5 h-5"})};return t.jsx(t.Fragment,{children:e[s]||e.general})},H5=s=>{if(s<=0)return"Expired";const e=Math.floor(s/3600),r=Math.floor(s%3600/60);return e>0?`${e}h ${r}m remaining`:`${r}m remaining`},IL=()=>{const s=$l(),{onTicketAccepted:e,onTicketResolved:r,isConnected:n}=L0(),[a,l]=W.useState([]),[u,d]=W.useState(!0),[A,o]=W.useState(!1);W.useEffect(()=>{f()},[]),W.useEffect(()=>{const p=e(x=>{l(b=>b.map(w=>w.id===x.ticketId?{...w,status:"accepted",assignedAdminName:x.adminName}:w))}),m=r(x=>{l(b=>b.map(w=>w.id===x.ticketId?{...w,status:"resolved"}:w))});return()=>{p(),m()}},[e,r]);const f=async()=>{d(!0);const p=await qm.getTickets();l(p),d(!1)};return u?t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-blue-500"})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Support Tickets"}),t.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs ${n?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[n?t.jsx(vp,{className:"w-3 h-3"}):t.jsx(bp,{className:"w-3 h-3"}),n?"Live":"Offline"]})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Get help from our support team"})]}),t.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:[t.jsx($i,{className:"w-4 h-4"}),"New Ticket"]})]}),a.length===0?t.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800",children:[t.jsx(mu,{className:"w-16 h-16 text-slate-200 dark:text-slate-700 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No tickets yet"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Create a ticket to get support from our team"}),t.jsx("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:"Create Your First Ticket"})]}):t.jsx("div",{className:"space-y-3",children:a.map(p=>t.jsx("div",{onClick:()=>s(`/support/${p.id}`),className:"bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-200 dark:border-slate-800 hover:shadow-lg hover:-translate-y-0.5 transition-all cursor-pointer group",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${p.status==="expired"?"bg-red-100 text-red-600":p.status==="resolved"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:t.jsx(OL,{category:p.category})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(_5,{status:p.status}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",p.id]})]}),t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white group-hover:text-blue-600 transition-colors truncate",children:p.subject}),p.lastMessage&&t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate mt-1",children:[p.lastMessage.senderType==="admin"?" ":"",p.lastMessage.text]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-400",children:[t.jsx("span",{children:p.createdAt}),p.status==="pending"&&!p.isExpired&&t.jsxs("span",{className:"flex items-center gap-1 text-orange-500",children:[t.jsx(ev,{className:"w-3 h-3"}),H5(p.timeRemaining)]})]})]}),t.jsx(hc,{className:"w-5 h-5 text-slate-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all self-center"})]})},p.id))}),A&&t.jsx(DL,{onClose:()=>o(!1),onCreated:()=>{o(!1),f()}})]})},DL=({onClose:s,onCreated:e})=>{const[r,n]=W.useState(""),[a,l]=W.useState("general"),[u,d]=W.useState("normal"),[A,o]=W.useState(""),[f,p]=W.useState(!1),[m,x]=W.useState(""),b=async()=>{if(!r.trim()||!A.trim()){x("Please fill in all required fields");return}p(!0),x("");const w=await qm.createTicket(r,a,u,A);w.success?e():x(w.error||"Failed to create ticket"),p(!1)};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Create Support Ticket"}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:t.jsx(qr,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"p-6 space-y-5",children:[m&&t.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-xl text-sm",children:m}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Subject *"}),t.jsx("input",{type:"text",value:r,onChange:w=>n(w.target.value),placeholder:"Brief description of your issue",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"general",label:"General",icon:t.jsx($m,{className:"w-4 h-4"})},{id:"billing",label:"Billing",icon:t.jsx(ap,{className:"w-4 h-4"})},{id:"technical",label:"Technical",icon:t.jsx(T0,{className:"w-4 h-4"})},{id:"feedback",label:"Feedback",icon:t.jsx(Mh,{className:"w-4 h-4"})}].map(w=>t.jsxs("button",{type:"button",onClick:()=>l(w.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl border transition-colors ${a===w.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[w.icon,w.label]},w.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:u,onChange:w=>d(w.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"normal",children:"Normal"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"urgent",children:"Urgent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description *"}),t.jsx("textarea",{value:A,onChange:w=>o(w.target.value),placeholder:"Please describe your issue in detail...",rows:4,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Vi,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),t.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-400",children:[t.jsx("p",{className:"font-medium",children:"24-Hour Response Window"}),t.jsx("p",{className:"mt-1 opacity-80",children:"Your ticket will be active for 24 hours. If not resolved within this time, it will expire automatically."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-800 flex gap-3",children:[t.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl font-medium hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:b,disabled:f,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:f?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx($i,{className:"w-4 h-4"}),"Create Ticket"]})})]})]})})},PL=()=>{const{id:s}=Wg(),e=$l(),r=W.useRef(null),n=W.useRef(null),{isConnected:a,joinTicket:l,leaveTicket:u,sendTicketMessage:d,sendTypingStatus:A,onNewTicketMessage:o,onUserTyping:f,onTicketAccepted:p,onTicketResolved:m}=L0(),[x,b]=W.useState(null),[w,y]=W.useState([]),[E,P]=W.useState(!0),[z,X]=W.useState(""),[Y,Q]=W.useState(!1),[K,de]=W.useState(null),ue=W.useRef();W.useEffect(()=>{s&&ve()},[s]),W.useEffect(()=>{if(s&&a)return l(Number(s)),()=>{u(Number(s))}},[s,a,l,u]),W.useEffect(()=>{const se=o(pe=>{pe.ticketId===Number(s)&&(y(re=>re.some(Ee=>Ee.id===pe.id)?re:[...re,pe]),de(null))});return()=>se()},[s,o]),W.useEffect(()=>{const se=f(pe=>{pe.ticketId===Number(s)&&pe.isAdmin&&(pe.isTyping?de(pe.userName):de(null))});return()=>se()},[s,f]),W.useEffect(()=>{const se=p(re=>{re.ticketId===Number(s)&&b(Ee=>Ee&&{...Ee,status:"accepted",assignedAdminName:re.adminName})}),pe=m(re=>{re.ticketId===Number(s)&&b(Ee=>Ee&&{...Ee,status:"resolved"})});return()=>{se(),pe()}},[s,p,m]),W.useEffect(()=>{le()},[w,K]);const ve=async()=>{P(!0);const se=await qm.getTicketDetail(Number(s));se&&(b(se.ticket),y(se.messages)),P(!1)},le=()=>{var se;(se=r.current)==null||se.scrollIntoView({behavior:"smooth"})},Ce=W.useCallback(()=>{var se;!z.trim()||!x||!a||(Q(!0),d(x.id,z.trim()),X(""),Q(!1),(se=n.current)==null||se.focus(),A(x.id,!1))},[z,x,a,d,A]),oe=se=>{X(se.target.value),x&&a&&(A(x.id,!0),ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{A(x.id,!1)},2e3))},Ne=async()=>{if(!x||!confirm("Are you sure you want to close this ticket?"))return;(await qm.closeTicket(x.id)).success&&ve()};if(E)return t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-blue-500"})});if(!x)return t.jsxs("div",{className:"text-center py-16",children:[t.jsx("p",{className:"text-slate-500",children:"Ticket not found"}),t.jsx("button",{onClick:()=>e("/support"),className:"mt-4 text-blue-600",children:"Back to tickets"})]});const Ae=["accepted","in_progress"].includes(x.status);return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)] max-w-4xl mx-auto",children:[t.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>e("/support"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:t.jsx(rA,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_5,{status:x.status}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",x.id]}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${a?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[a?t.jsx(vp,{className:"w-3 h-3"}):t.jsx(bp,{className:"w-3 h-3"}),a?"Live":"Reconnecting..."]})]}),t.jsx("h1",{className:"font-bold text-slate-900 dark:text-white truncate",children:x.subject})]}),x.status!=="closed"&&x.status!=="expired"&&t.jsx("button",{onClick:Ne,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:"Close Ticket"})]}),x.status==="pending"&&t.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl text-sm text-yellow-700 dark:text-yellow-400",children:[t.jsx("p",{children:" Waiting for an admin to accept your ticket..."}),t.jsx("p",{className:"text-xs mt-1 opacity-80",children:H5(x.timeRemaining)})]}),x.assignedAdminName&&t.jsxs("div",{className:"mt-3 text-sm text-slate-500",children:["Assigned to: ",t.jsx("span",{className:"font-medium",children:x.assignedAdminName})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-950",children:[w.map(se=>t.jsx("div",{className:`flex ${se.senderType==="user"?"justify-end":"justify-start"}`,children:se.senderType==="system"?t.jsx("div",{className:"text-center text-xs text-slate-400 py-2 w-full",children:se.content}):t.jsxs("div",{className:`max-w-[80%] ${se.senderType==="user"?"order-1":""}`,children:[t.jsx("div",{className:`px-4 py-3 rounded-2xl ${se.senderType==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white dark:bg-slate-800 rounded-bl-md"}`,children:t.jsx("p",{className:"text-sm",children:se.content})}),t.jsxs("div",{className:`flex items-center gap-2 mt-1 text-xs text-slate-400 ${se.senderType==="user"?"justify-end":""}`,children:[t.jsx("span",{children:se.senderName}),t.jsx("span",{children:""}),t.jsx("span",{children:new Date(se.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},se.id)),K&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[K," is typing..."]})]})})}),t.jsx("div",{ref:r})]}),Ae?t.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{ref:n,type:"text",value:z,onChange:oe,onKeyDown:se=>se.key==="Enter"&&!se.shiftKey&&Ce(),placeholder:a?"Type your message...":"Connecting...",disabled:!a,className:"flex-1 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:Ce,disabled:Y||!z.trim()||!a,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:Y?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsx(Sh,{className:"w-5 h-5"})})]})}):t.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 text-center text-sm text-slate-500",children:x.status==="pending"?"You can send messages once an admin accepts your ticket":"This ticket is closed"})]})},RL=({isPremium:s})=>{const e=$l(),{i18n:r}=To(),[n,a]=W.useState([]),[l,u]=W.useState(0),[d,A]=W.useState(!0),[o,f]=W.useState(!1);W.useEffect(()=>{s||p()},[s]),W.useEffect(()=>{if(n.length===0||s)return;m(n[l].id);const X=setInterval(()=>{u(Y=>(Y+1)%n.length)},3e4);return()=>clearInterval(X)},[n,l,s]);const p=async()=>{try{const X=await fetch(`${It}/api/advertisements/active`);if(X.ok){const Y=await X.json();Y.length>0?(a(Y),f(!1)):(a([]),f(!0))}else a([]),f(!0)}catch(X){console.error("Error fetching advertisements:",X),a([]),f(!0)}},m=async X=>{try{await fetch(`${It}/api/advertisements/${X}/view`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(Y){console.error("Error recording view:",Y)}},x=async X=>{try{await fetch(`${It}/api/advertisements/${X}/click`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(Y){console.error("Error recording click:",Y)}},b=X=>{x(X.id),window.open(X.link,"_blank","noopener,noreferrer")},w=()=>{A(!1),sessionStorage.setItem("adDismissed","true")},y=X=>{const Y=r.language;let Q=X.title,K=X.description;return Y==="zh"&&X.title_zh?(Q=X.title_zh,K=X.description_zh||K):Y==="ms"&&X.title_ms&&(Q=X.title_ms,K=X.description_ms||K),{title:Q,description:K}};if(s||!d||sessionStorage.getItem("adDismissed")==="true")return null;const E=n.length>0?n[l]:null,{title:P,description:z}=E?y(E):{title:"",description:""};return t.jsxs("div",{className:"relative bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-6 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out overflow-hidden group",children:[t.jsx("button",{onClick:w,className:"absolute top-4 right-4 z-10 p-2 bg-white/80 dark:bg-slate-800/80 hover:bg-white dark:hover:bg-slate-800 rounded-full transition-colors shadow-sm",title:"Dismiss ad",children:t.jsx(qr,{size:16,className:"text-slate-600 dark:text-slate-400"})}),o?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-4",children:t.jsx(Da,{size:32,className:"text-slate-400 dark:text-slate-500"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2 text-center",children:""}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center",children:""})]}):E?t.jsxs("div",{onClick:()=>b(E),className:"cursor-pointer",children:[E.imageUrl&&t.jsx("div",{className:"mb-4 rounded-2xl overflow-hidden",children:t.jsx("img",{src:`${It}${E.imageUrl}`,alt:E.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"flex items-start justify-between gap-2",children:t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:P})}),z&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2",children:z}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium",children:"Sponsored"}),n.length>1&&t.jsx("div",{className:"flex gap-1",children:n.map((X,Y)=>t.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${Y===l?"bg-sky-600 dark:bg-indigo-400 w-4":"bg-slate-300 dark:bg-slate-600"}`},Y))})]})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsx("div",{className:"w-10 h-10 border-4 border-slate-200 dark:border-slate-700 border-t-sky-600 dark:border-t-indigo-600 rounded-full animate-spin mb-4"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"..."})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:["Upgrade to Premium to remove ads "," ",t.jsx("button",{onClick:()=>e("/billing"),className:"text-sky-600 dark:text-indigo-400 hover:underline font-medium cursor-pointer bg-transparent border-none p-0 inline",children:"Learn more"})]})})]})},fb=({title:s,value:e,badgeText:r,badgeColor:n="default",icon:a})=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-5 shadow-sm border border-transparent hover:border-sky-400 dark:hover:border-indigo-400 transition-all duration-300 ease-out group relative overflow-hidden hover:-translate-y-2 hover:scale-105 hover:shadow-2xl hover:shadow-sky-100 dark:hover:shadow-indigo-900/20",children:[t.jsxs("div",{className:"flex justify-between items-start mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-700/50 flex items-center justify-center text-slate-600 dark:text-slate-300 group-hover:bg-sky-50 group-hover:text-sky-600 dark:group-hover:bg-indigo-500/20 dark:group-hover:text-indigo-400 transition-colors",children:a}),r&&t.jsx("span",{className:`
          text-[10px] font-bold uppercase tracking-wider px-2.5 py-1 rounded-full
          ${n==="green"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/10 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}
        `,children:r})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:e})]})]}),QL=({appointment:s})=>{const e=new Date(s.date),r=()=>{switch(s.type){case"flight":return t.jsx(RA,{className:"w-4 h-4"});case"activity":return t.jsx(Fd,{className:"w-4 h-4"});case"stay":return t.jsx(aS,{className:"w-4 h-4"});default:return t.jsx(Vi,{className:"w-4 h-4"})}},n=s.status==="confirmed"?"bg-emerald-500":"bg-amber-500",a=s.status==="confirmed"?"bg-emerald-50 dark:bg-emerald-500/10":"bg-amber-50 dark:bg-amber-500/10",l=s.status==="confirmed"?"text-emerald-700 dark:text-emerald-400":"text-amber-700 dark:text-amber-400";return t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 hover:shadow-2xl hover:shadow-sky-100 dark:hover:shadow-indigo-900/20 transition-all duration-300 ease-out group cursor-pointer hover:-translate-y-1 hover:scale-[1.02]",children:[t.jsxs("div",{className:`flex flex-col items-center justify-center w-14 h-14 rounded-2xl ${a} relative overflow-hidden flex-shrink-0 transition-transform group-hover:scale-110 duration-300`,children:[t.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${n}`}),t.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${l} mb-0.5`,children:e.toLocaleString("en-US",{month:"short"})}),t.jsx("span",{className:`text-xl font-bold ${s.status==="confirmed"?"text-emerald-900 dark:text-emerald-200":"text-amber-900 dark:text-amber-200"}`,children:e.getDate()})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-base font-bold text-slate-900 dark:text-white truncate group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:s.title}),t.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-sm font-medium text-slate-500 dark:text-slate-400",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Vi,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.location&&t.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[t.jsx(So,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"truncate",children:s.location})]})]})]}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-700/50 flex items-center justify-center text-slate-400 dark:text-slate-500 group-hover:bg-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 dark:group-hover:bg-slate-700 transition-all shadow-sm group-hover:scale-110 group-hover:rotate-12",children:r()})]})},_L=({user:s})=>{var f;const e=$l(),{t:r}=To("dashboard"),[n,a]=W.useState({upcomingTrips:0,countriesVisited:0,savedItineraries:0,nextTrip:null,upcomingAppointments:[],savedDrafts:[]}),[l,u]=W.useState(!0);W.useEffect(()=>{d()},[]);const d=async()=>{try{const p=await fetch(`${It}/api/user/dashboard`,{credentials:"include"});if(p.ok){const m=await p.json();a(m)}}catch(p){console.error("Error fetching dashboard data:",p)}finally{u(!1)}};if(!s)return t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("div",{className:"text-slate-500",children:"Loading user data..."})});if(l)return t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-sky-600"})});const A=n.nextTrip?r("nextTrip.badge",{destination:n.nextTrip.destination.toUpperCase(),days:n.nextTrip.daysUntil}):r("nextTrip.badgeEmpty"),o=n.nextTrip?r("nextTrip.countdown",{destination:n.nextTrip.destination,days:n.nextTrip.daysUntil}):r("nextTrip.empty");return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-8 animate-fade-in-up",children:[t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 relative overflow-hidden shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-br from-white/40 to-transparent dark:from-indigo-500/10 dark:to-transparent rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-6 mb-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight mb-2",children:r("title")}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-lg",children:o})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>e("/trips"),className:"px-5 py-3 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-xl text-sm font-bold hover:bg-slate-50 dark:hover:bg-slate-700 transition-all shadow-sm active:scale-95 border border-transparent hover:border-slate-300 dark:hover:border-slate-500 hover:-translate-y-1 hover:shadow-md",children:r("viewAllTrips")}),t.jsxs("button",{onClick:()=>e("/chat"),className:"px-5 py-3 bg-sky-600 dark:bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-all shadow-lg shadow-sky-600/30 dark:shadow-indigo-600/30 flex items-center gap-2 active:scale-95 hover:-translate-y-1 hover:shadow-xl",children:[t.jsx(oo,{className:"w-4 h-4"}),r("startAiPlanning")]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(fb,{title:r("stats.upcomingTrips"),value:n.upcomingTrips.toString(),badgeText:A,icon:t.jsx(RA,{className:"w-5 h-5"})}),t.jsx(fb,{title:r("stats.countriesVisited"),value:n.countriesVisited.toString(),badgeText:r("badges.explored"),badgeColor:"green",icon:t.jsx(h0,{className:"w-5 h-5"})}),t.jsx(fb,{title:r("stats.savedItineraries"),value:n.savedItineraries.toString(),badgeText:r("badges.ready"),badgeColor:"green",icon:t.jsx(Km,{className:"w-5 h-5"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 h-fit shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:r("upcomingItinerary.title")}),t.jsx("button",{onClick:()=>e("/calendar"),className:"text-sm text-sky-600 hover:text-sky-500 dark:text-indigo-400 dark:hover:text-indigo-300 font-bold hover:underline",children:r("upcomingItinerary.viewFull")})]}),t.jsx("div",{className:"space-y-4",children:n.upcomingAppointments.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("upcomingItinerary.empty")}),t.jsx("button",{onClick:()=>e("/chat"),className:"mt-4 text-sky-600 dark:text-indigo-400 hover:underline font-medium",children:r("upcomingItinerary.planFirst")})]}):n.upcomingAppointments.map((p,m)=>t.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${(m+1)*100}ms`},children:t.jsx(QL,{appointment:p})},p.id))})]}),t.jsxs("div",{className:"space-y-8 animate-fade-in-up",style:{animationDelay:"300ms"},children:[t.jsx(RL,{isPremium:((f=s.subscription)==null?void 0:f.status)==="active"||s.isPremium||!1}),t.jsxs("div",{className:"bg-gradient-to-b from-sky-500 to-blue-600 dark:from-indigo-600 dark:to-violet-700 rounded-[2.5rem] p-8 relative overflow-hidden shadow-xl shadow-sky-500/20 dark:shadow-indigo-500/20 group text-center border border-transparent hover:border-white/50 transition-all duration-300 hover:-translate-y-2 hover:scale-[1.02] hover:shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 dark:bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none group-hover:scale-125 transition-transform duration-700"}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-2 relative z-10 tracking-tight",children:r("tripIdea.title")}),t.jsx("p",{className:"text-sky-100 dark:text-indigo-100 font-medium leading-relaxed mb-8 relative z-10 px-4",children:r("tripIdea.description")}),t.jsx("div",{className:"relative z-10",children:t.jsx("button",{onClick:()=>e("/chat"),className:"w-full py-3.5 bg-white text-sky-600 hover:bg-sky-50 dark:bg-white/10 dark:backdrop-blur-md dark:text-white dark:hover:bg-white/20 text-sm font-bold rounded-xl transition-all shadow-lg active:scale-95 border border-transparent hover:border-sky-100 hover:shadow-xl hover:-translate-y-1",children:r("tripIdea.button")})})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:r("savedDrafts.title")}),t.jsx("div",{className:"space-y-3",children:n.savedDrafts.length===0?t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-4",children:r("savedDrafts.empty")}):n.savedDrafts.map(p=>t.jsxs("div",{onClick:()=>e("/chat"),className:"flex gap-4 p-4 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-2xl transition-all cursor-pointer group border border-slate-100 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 hover:shadow-xl hover:-translate-y-1 hover:scale-[1.02] duration-300",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-50 dark:bg-slate-700 flex-shrink-0 flex items-center justify-center group-hover:scale-110 group-hover:bg-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-all ease-out",children:t.jsx(So,{className:"w-6 h-6 text-slate-400 dark:text-slate-300 group-hover:text-sky-500 dark:group-hover:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-900 dark:text-white font-bold group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:p.title}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 font-medium",children:p.details})]})]},p.id))})]})]})]})]})},HL=({isOpen:s,onClose:e})=>{const r=$l(),{i18n:n}=To(),[a,l]=W.useState(null),[u,d]=W.useState(5),[A,o]=W.useState(!1),[f,p]=W.useState(!1);W.useEffect(()=>{s&&(d(5),o(!1),p(!1),m())},[s]),W.useEffect(()=>{if(!s||u===0)return;const Y=setInterval(()=>{d(Q=>Q<=1?(o(!0),0):Q-1)},1e3);return()=>clearInterval(Y)},[s,u]);const m=async()=>{try{const Y=await fetch(`${It}/api/advertisements/active`);if(!Y.ok)throw new Error;const Q=await Y.json();if(Q.length>0){const K=Q[Math.floor(Math.random()*Q.length)];l(K),p(!1),x(K.id)}else l(null),p(!0)}catch{l(null),p(!0)}},x=async Y=>{try{await fetch(`${It}/api/advertisements/${Y}/view`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch{}},b=async Y=>{try{await fetch(`${It}/api/advertisements/${Y}/click`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch{}},w=Y=>{const Q=n.language;let K=Y.title,de=Y.description;return Q==="zh"&&Y.title_zh?(K=Y.title_zh,de=Y.description_zh||de):Q==="ms"&&Y.title_ms&&(K=Y.title_ms,de=Y.description_ms||de),{title:K,description:de}},{title:y,description:E}=a?w(a):{title:"",description:""},P=Y=>{Y&&(Y.preventDefault(),Y.stopPropagation()),a&&(b(a.id),window.open(a.link,"_blank","noopener,noreferrer"))},z=Y=>{Y&&(Y.preventDefault(),Y.stopPropagation()),e(),r("/billing")},X=Y=>{Y&&(Y.preventDefault(),Y.stopPropagation()),A&&e()};return s?t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",onClick:Y=>Y.stopPropagation(),children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl max-w-md w-full shadow-2xl relative animate-in zoom-in-95 duration-300",onClick:Y=>Y.stopPropagation(),children:[t.jsx("button",{type:"button",onClick:X,disabled:!A,className:`absolute top-4 right-4 z-10 p-2 rounded-full transition-all ${A?"bg-white/80 dark:bg-slate-700/80 hover:bg-white dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400 cursor-pointer":"bg-slate-100 dark:bg-slate-700/50 text-slate-400 dark:text-slate-500 cursor-not-allowed"}`,title:A?"Close":`Wait ${u}s`,children:A?t.jsx(qr,{size:20}):t.jsx("span",{className:"text-sm font-bold w-5 h-5 flex items-center justify-center",children:u})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-semibold uppercase tracking-wider",children:f?"Notice":"Sponsored Content"}),!A&&!f&&t.jsxs("span",{className:"text-xs text-sky-600 dark:text-indigo-400 font-semibold",children:["Closing in ",u,"s"]})]}),f?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[t.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-6",children:t.jsx(Da,{size:48,className:"text-slate-400 dark:text-slate-500"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 text-center",children:""}),t.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center mb-6",children:["",t.jsx("br",{}),""]}),t.jsx("div",{className:"w-full max-w-xs",children:t.jsx("div",{className:"h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-sky-500 to-blue-600 dark:from-indigo-500 dark:to-purple-600 transition-all duration-1000",style:{width:`${(5-u)/5*100}%`}})})})]}):a?t.jsxs(t.Fragment,{children:[a.imageUrl&&t.jsx("div",{onClick:P,className:"mb-4 rounded-2xl overflow-hidden cursor-pointer group",children:t.jsx("img",{src:`${It}${a.imageUrl}`,alt:y,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"})}),t.jsxs("div",{onClick:P,className:"cursor-pointer group",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:y}),E&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:E}),t.jsx("button",{type:"button",onClick:P,className:"w-full py-3 bg-sky-600 dark:bg-indigo-600 text-white rounded-xl font-semibold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-colors shadow-lg",children:"Learn More"})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 dark:border-slate-700 border-t-sky-600 dark:border-t-indigo-600 rounded-full animate-spin mb-4"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"..."})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:["Premium members enjoy ad-free experience "," ",t.jsx("button",{onClick:z,className:"text-sky-600 dark:text-indigo-400 hover:underline font-semibold bg-transparent border-none p-0 inline cursor-pointer",children:"Upgrade now"})]})})]})]})}):null},{slice:zL,forEach:$L}=[];function VL(s){return $L.call(zL.call(arguments,1),e=>{if(e)for(const r in e)s[r]===void 0&&(s[r]=e[r])}),s}function KL(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(s))}const Xw=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,GL=function(s,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${s}=${a}`;if(n.maxAge>0){const u=n.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(u)}`}if(n.domain){if(!Xw.test(n.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${n.domain}`}if(n.path){if(!Xw.test(n.path))throw new TypeError("option path is invalid");l+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(l+="; Partitioned"),l},Jw={create(s,e,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),n&&(a.domain=n),document.cookie=GL(s,e,a)},read(s){const e=`${s}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(s,e){this.create(s,"",-1,e)}};var WL={name:"cookie",lookup(s){let{lookupCookie:e}=s;if(e&&typeof document<"u")return Jw.read(e)||void 0},cacheUserLanguage(s,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:a,cookieOptions:l}=e;r&&typeof document<"u"&&Jw.create(r,s,n,a,l)}},YL={name:"querystring",lookup(s){var n;let{lookupQuerystring:e}=s,r;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const u=a.substring(1).split("&");for(let d=0;d<u.length;d++){const A=u[d].indexOf("=");A>0&&u[d].substring(0,A)===e&&(r=u[d].substring(A+1))}}return r}},XL={name:"hash",lookup(s){var a;let{lookupHash:e,lookupFromHashIndex:r}=s,n;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const u=l.substring(1);if(e){const d=u.split("&");for(let A=0;A<d.length;A++){const o=d[A].indexOf("=");o>0&&d[A].substring(0,o)===e&&(n=d[A].substring(o+1))}}if(n)return n;if(!n&&r>-1){const d=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?(a=d[typeof r=="number"?r:0])==null?void 0:a.replace("/",""):void 0}}}return n}};let Gf=null;const Zw=()=>{if(Gf!==null)return Gf;try{if(Gf=typeof window<"u"&&window.localStorage!==null,!Gf)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{Gf=!1}return Gf};var JL={name:"localStorage",lookup(s){let{lookupLocalStorage:e}=s;if(e&&Zw())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupLocalStorage:r}=e;r&&Zw()&&window.localStorage.setItem(r,s)}};let Wf=null;const qw=()=>{if(Wf!==null)return Wf;try{if(Wf=typeof window<"u"&&window.sessionStorage!==null,!Wf)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{Wf=!1}return Wf};var ZL={name:"sessionStorage",lookup(s){let{lookupSessionStorage:e}=s;if(e&&qw())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupSessionStorage:r}=e;r&&qw()&&window.sessionStorage.setItem(r,s)}},qL={name:"navigator",lookup(s){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:a}=navigator;if(r)for(let l=0;l<r.length;l++)e.push(r[l]);n&&e.push(n),a&&e.push(a)}return e.length>0?e:void 0}},eF={name:"htmlTag",lookup(s){let{htmlTag:e}=s,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},tF={name:"path",lookup(s){var a;let{lookupFromPathIndex:e}=s;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(a=r[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},sF={name:"subdomain",lookup(s){var a,l;let{lookupFromSubdomainIndex:e}=s;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&((l=(a=window.location)==null?void 0:a.hostname)==null?void 0:l.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let z5=!1;try{document.cookie,z5=!0}catch{}const $5=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];z5||$5.splice(1,1);const rF=()=>({order:$5,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class V5{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=VL(r,this.options||{},rF()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(WL),this.addDetector(YL),this.addDetector(JL),this.addDetector(ZL),this.addDetector(qL),this.addDetector(eF),this.addDetector(tF),this.addDetector(sF),this.addDetector(XL)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let a=this.detectors[n].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.filter(n=>n!=null&&!KL(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}V5.type="languageDetector";const nF="GogoTrip",aF="Loading...",iF="Save",oF="Cancel",lF="Rename",cF="Edit",dF="Confirm",uF="Close",AF="Search",hF="Back",fF="Next",pF="Submit",mF="Refresh",gF="Retry",xF="Yes",bF="No",vF="OK",yF="Done",wF="Skip",jF="View All",NF="View More",kF="Show Less",CF="No results found",BF="Nothing here yet",SF="Error",EF="Success",TF="Warning",LF="Info",FF={active:"Active",inactive:"Inactive",pending:"Pending",completed:"Completed",cancelled:"Cancelled",expired:"Expired",verified:"Verified",unverified:"Unverified"},UF={justNow:"Just now",minutesAgo:"{{count}} min ago",hoursAgo:"{{count}} hours ago",yesterday:"Yesterday",daysAgo:"{{count}} days ago"},MF={networkError:"Network error. Please try again.",serverError:"Server error occurred. Please try again later.",unauthorized:"Please log in to continue.",forbidden:"You don't have permission to do this.",notFound:"Not found.",validationError:"Please check your input.",unknownError:"Something went wrong. Please try again."},OF={signOut:"Sign Out",signIn:"Sign In",signUp:"Sign Up",learnMore:"Learn More",getStarted:"Get Started",upgrade:"Upgrade",download:"Download",share:"Share",copy:"Copy",copied:"Copied!"},IF={success:"Success",error:"Error",warning:"Warning",info:"Info"},DF={required:"This field is required",invalidEmail:"Invalid email address",invalidFormat:"Invalid format"},PF={appName:nF,loading:aF,save:iF,cancel:oF,delete:"Delete",rename:lF,edit:cF,confirm:dF,close:uF,search:AF,back:hF,next:fF,submit:pF,refresh:mF,retry:gF,yes:xF,no:bF,ok:vF,done:yF,continue:"Continue",skip:wF,viewAll:jF,viewMore:NF,showLess:kF,noResults:CF,emptyState:BF,error:SF,success:EF,warning:TF,info:LF,status:FF,time:UF,errors:MF,actions:OF,toast:IF,validation:DF},RF="Settings",QF="Manage your account preferences",_F={profile:"Profile",security:"Security",preferences:"Preferences",integrations:"Integrations",language:"Language",notifications:"Notifications",privacy:"Privacy"},HF={title:"Profile Information",description:"Update your personal details",fullName:"Full Name",fullNamePlaceholder:"Enter your full name",email:"Email Address",emailReadOnly:"Email cannot be changed",avatar:"Profile Photo",changePhoto:"Change Photo",removePhoto:"Remove Photo",photoHint:"JPG, PNG or GIF. Max 1MB.",saveChanges:"Save Changes",saving:"Saving...",saved:"Profile updated successfully!"},zF={title:"Security Settings",description:"Manage your account security",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password",passwordRequirements:"Password must be at least 8 characters",updatePassword:"Update Password",twoFactor:"Two-Factor Authentication",twoFactorDesc:"Add an extra layer of security to your account",enable2FA:"Enable 2FA",disable2FA:"Disable 2FA",verificationCode:"Verification Code",enterCode:"Enter the code sent to your email",verifyCode:"Verify Code",resendCode:"Resend Code",codeExpires:"Code expires in {{seconds}} seconds"},$F={title:"Language",description:"Choose your preferred language for the interface and AI responses",selectLanguage:"Select Language",currentLanguage:"Current Language",changeSuccess:"Language updated!",changing:"Changing language...",languageHint:"This will change the language of all text in the app, including AI chat responses.",languages:{en:"English",zh:"Chinese (Simplified)",ms:"Bahasa Melayu"}},VF={title:"Notification Preferences",description:"Control how you receive updates",emailNotifications:"Email Notifications",emailNotificationsDesc:"Receive trip updates and AI suggestions via email",pushNotifications:"Push Notifications",pushNotificationsDesc:"Receive notifications in your browser",marketingEmails:"Marketing Emails",marketingEmailsDesc:"Receive news, promotions, and tips"},KF={title:"Privacy Settings",description:"Control your data and privacy",dataUsage:"AI Data Usage",dataUsageDesc:"Allow AI to use your travel history for better suggestions",analytics:"Analytics",analyticsDesc:"Help improve GogoTrip by sharing anonymous usage data",deleteAccount:"Delete Account",deleteAccountDesc:"Permanently delete your account and all data",deleteWarning:"This action cannot be undone. All your trips, data, and preferences will be permanently deleted."},GF={title:"Connected Accounts",description:"Manage your linked accounts and services",googleAccount:"Google Account",googleLinked:"Connected as {{email}}",googleNotLinked:"Not connected",linkGoogle:"Link Google Account",unlinkGoogle:"Unlink",googleCalendar:"Google Calendar",googleCalendarDesc:"Sync your trips to Google Calendar",calendarConnected:"Connected",calendarNotConnected:"Not connected",connectCalendar:"Connect Calendar",disconnectCalendar:"Disconnect"},WF={title:RF,subtitle:QF,sections:_F,profile:HF,security:zF,language:$F,notifications:VF,privacy:KF,integrations:GF},YF="AI Trip Planner",XF="Plan your perfect trip with AI assistance",JF="Ask me anything about your trip...",ZF='e.g., "Plan a 3-day trip to Penang" or "Find halal restaurants near me"',qF=["Describe your dream trip to Kyoto...","Plan a weekend getaway to Napa Valley...","Find the best sushi restaurants in Tokyo...","Suggest a 7-day itinerary for Italy...","Looking for family-friendly activities in London...","Show me flights to New York under RM 2000..."],eU="Send",tU="Sending...",sU="AI is thinking...",rU="AI is typing...",nU="New Chat",aU="Clear Chat",iU="Chat History",oU="No chat history yet",lU="Start a new chat!",cU="Load More",dU="Today",uU="Yesterday",AU="{{count}} days ago",hU={title:"Quick Start",tripWizard:"Trip Wizard",tripWizardDesc:"Plan a complete multi-day itinerary",foodWizard:"Food Wizard",foodWizardDesc:"Find the perfect place to eat",whereToNext:"Where to next?",welcomeDesc:"I can help you plan the perfect trip based on your budget, mood, and preferences.",planTrip:"Plan a Trip",findFood:"Find Food",generatedPrompt:`Plan a trip based on my preferences:
Mood: {{mood}}, Budget: {{budget}}, Group: {{companions}}...

(Type your destination here)`,foodSearchMessage:" Finding the best {{meal}} spots for you based on your preferences...",foodResultMessage:"Found {{count}} great options for you! Check them out below:",foodErrorMessage:"Sorry, an error occurred while getting food recommendations. Please try again.",shareLink:"Share Link",editActivity:"Edit Activity",startTime:"Start Time",endTime:"End Time",timeSlot:"Time Slot",type:"Type",placeName:"Place Name",placeNamePlaceholder:"Enter place name",address:"Address",addressPlaceholder:"Enter address",description:"Description",descriptionPlaceholder:"Activity description",tips:"Tips",optional:"Optional",delete:"Delete",cancel:"Cancel",save:"Save",aiEditTitle:"AI Batch Edit",selectedCount:"Selected {{count}} items",aiInstructionLabel:"Tell AI how you want to modify these activities:",aiInstructionPlaceholder:"e.g., Push back all activities by 2 hours, and add more detailed descriptions...",quickSuggestions:"Quick Suggestions",processing:"Processing...",startEdit:"Start Edit",aiEdit:"AI Edit",cancelSelect:"Cancel Select",editSelected:"Edit {{count}} Items",saveChanges:"Save Changes",highlights:"Today's Highlights",totalActivities:"Total Activities",items:"Items",estimatedCost:"Est. Cost",transportTips:"Transport Tips",itineraryDetails:"Detailed Itinerary",practicalInfo:"Practical Info",transport:"Transport",weather:"Weather",bookingAdvice:"Booking Advice",aiSuggest1:"Push times back by 1 hour",aiSuggest2:"Replace with vegetarian-friendly options",aiSuggest3:"Add more detailed budget estimates",aiSuggest4:"Change to more budget-friendly options",aiSuggest5:"Add more local cultural experiences",aiSuggest6:"Adjust for family with kids"},fU={title:"Trip Wizard",destination:"Where do you want to go?",destinationPlaceholder:"e.g., Kuala Lumpur, Penang, Singapore",duration:"How long is your trip?",durationOptions:{"1day":"Day Trip","2days":"2 Days","3days":"3 Days","5days":"5 Days","7days":"1 Week",custom:"Custom"},customDaysPlaceholder:"Enter number of days (1-30)",mood:"What's your travel style?",moodOptions:{relaxed:"Relaxed",energetic:"Energetic",romantic:"Romantic",family:"Family-Friendly",adventure:"Adventure"},budget:"What's your budget?",budgetOptions:{low:"Budget",medium:"Mid-Range",high:"Premium",luxury:"Luxury"},transport:"How will you get around?",transportOptions:{public:"Public Transport",car:"Car / Grab",walk:"Walking"},dietary:"Any dietary requirements?",dietaryOptions:{halal:"Halal",vegetarian:"Vegetarian",vegan:"Vegan",noPork:"No Pork",noBeef:"No Beef",glutenFree:"Gluten Free"},stepIndicator:"Step {{current}} of {{total}}",readyPrompt:"Ready to generate your custom plan? The AI will use these preferences to find the best spots for you.",nextStep:"Next Step",companions:"Who are you traveling with?",companionOptions:{solo:"Solo",couple:"Couple",friends:"Friends",family:"Family"},generatePlan:"Generate Trip Plan",generating:"Creating your perfect itinerary..."},pU={title:"Food Wizard",cuisine:"What cuisine are you craving?",cuisineOptions:{local:"Local Malaysian",chinese:"Chinese",indian:"Indian",japanese:"Japanese",korean:"Korean",western:"Western",thai:"Thai",malay:"Malay",any:"Surprise Me"},mealOptions:{breakfast:"Breakfast",lunch:"Lunch",dinner:"Dinner",snack:"Snack/Tea",supper:"Supper",cafe:"Cafe/Dessert"},budgetDescriptions:{low:"Under RM 15/pax",medium:"RM 15-40/pax",high:"RM 40-80/pax",luxury:"RM 80+/pax"},dietaryOptions:{halal:"Halal",vegetarian:"Vegetarian",vegan:"Vegan",noPork:"No Pork",noBeef:"No Beef",glutenFree:"Gluten Free"},distanceOptions:{nearby:"Walking (< 1km)",short:"Short drive (< 5km)",any:"Any distance"},stepIndicator:"Step {{current}} of {{total}}",cravingPrompt:"What are you craving? (optional)",cravingDesc:"Select one or more, or skip for varied suggestions",readyTitle:"Ready to find your perfect meal!",next:"Next",mealType:"What meal?",vibe:"What's the vibe?",vibeOptions:{quick:"Quick Bite",casual:"Casual Dining",romantic:"Romantic",group:"Group Gathering"},findFood:"Find Food",finding:"Finding delicious options..."},mU={day:"Day {{number}}",days:"{{count}} days",activities:"{{count}} activities",estimatedSpend:"Estimated Cost",viewDetails:"View Details",morning:"Morning",afternoon:"Afternoon",evening:"Evening",night:"Night",lunch:"Lunch",dinner:"Dinner",budget:"Budget",tips:"Tips",savePlan:"Save Plan",exportCalendar:"Export to Calendar",shareLink:"Share Link",editActivity:"Edit Activity",startTime:"Start Time",endTime:"End Time",timeSlot:"Time Slot",type:"Type",placeName:"Place Name",placeNamePlaceholder:"Enter place name",address:"Address",addressPlaceholder:"Enter address",description:"Description",descriptionPlaceholder:"Activity description",optional:"Optional",delete:"Delete",cancel:"Cancel",save:"Save",aiEditTitle:"AI Batch Edit",selectedCount:"Selected {{count}} items",aiInstructionLabel:"Tell AI how you want to modify these activities:",aiInstructionPlaceholder:"e.g., Push back all activities by 2 hours, and add more detailed descriptions...",quickSuggestions:"Quick Suggestions",processing:"Processing...",startEdit:"Start Edit",aiEdit:"AI Edit",cancelSelect:"Cancel Select",editSelected:"Edit {{count}} Items",saveChanges:"Save Changes",highlights:"Today's Highlights",totalActivities:"Total Activities",items:"Items",estimatedCost:"Est. Cost",transportTips:"Transport Tips",itineraryDetails:"Detailed Itinerary",practicalInfo:"Practical Info",transport:"Transport",weather:"Weather",bookingAdvice:"Booking Advice",aiSuggest1:"Push times back by 1 hour",aiSuggest2:"Replace with vegetarian-friendly options",aiSuggest3:"Add more detailed budget estimates",aiSuggest4:"Change to more budget-friendly options",aiSuggest5:"Add more local cultural experiences",aiSuggest6:"Adjust for family with kids",activityTypes:{attraction:"Attraction",food:"Food",cafe:"Cafe",hotel:"Hotel",shopping:"Shopping",transport:"Transport"},budgetPlaceholder:"RM 50"},gU={title:"Recommendations",distance:"{{distance}} away",rating:"{{rating}} stars",priceLevel:"Price: {{level}}",openNow:"Open Now",closed:"Closed",directions:"Get Directions",addToPlan:"Add to Plan"},xU={sendFailed:"Failed to send message. Please try again.",loadFailed:"Failed to load chat history.",aiError:"AI encountered an error. Please try again.",loadConversationFailed:"Failed to load conversation",deleteFailed:"Failed to delete",renameFailed:"Failed to rename",shareFailed:"Failed to share conversation",copyFailed:"Failed to copy link",saveFailed:"Failed to save trip",aiEditFailed:"AI edit failed, please try again",itineraryParseError:"Sorry, itinerary data parsing error",dataParseError:"Sorry, data parsing error",connectionFailed:"Sorry, connection failed. Error: {{error}}"},bU={conversationDeleted:"Conversation deleted",linkCopied:"Link copied to clipboard!",tripSaved:"Trip saved!",placeAdded:'Added "{{name}}" to your plans!'},vU={historyLocked:"Chat history is a Premium feature",unlockHistory:"Upgrade to save and access your chat history",upgradeNow:"Upgrade Now"},yU={close:"Close",done:"Done",shareConversation:"Share Conversation",shareDescription:"Anyone with this link can view this conversation.",copyLink:"Copy",copied:"Copied",deleteConfirmation:"Delete this conversation?",saveTrip:"Save Trip Plan",tripSaved:"Saved to My Trips"},wU={premiumActive:"Premium Active",businessOpen:"Open",location:"Location"},jU={unnamedPlan:"Unnamed Plan",unknownName:"Unknown Name"},NU={itineraryGenerated:"I've created a {{duration}} itinerary for {{destination}}. Check out the detailed plan below!",foodRecommendations:"I found {{count}} great {{mealType}} options for you. Take a look below!",placeRecommendations:"I found {{count}} places that match your request. Check them out below!",activityEdited:"Successfully updated {{count}} activities based on your instructions.",generalResponse:"Here's what I found for you:"},kU={title:YF,subtitle:XF,placeholder:JF,placeholderExamples:ZF,placeholdersList:qF,send:eU,sending:tU,thinking:sU,typing:rU,newChat:nU,clearChat:aU,history:iU,noHistory:oU,startNewChat:lU,loadMore:cU,today:dU,yesterday:uU,daysAgo:AU,wizards:hU,tripWizard:fU,foodWizard:pU,dailyPlan:mU,recommendations:gU,errors:xU,messages:bU,premium:vU,modals:yU,badges:wU,defaults:jU,systemMessages:NU},CU={dashboard:"Travel Dashboard",aiPlanner:"AI Planner",myTrips:"My Trips",travelStories:"Travel Stories",notes:"Notes",calendar:"Calendar",translate:"Translate",expenses:"Expenses",settings:"Settings",support:"Support",billing:"Trip Wallet",premium:"Premium",adminPortal:"Admin Portal",helpSupport:"Help & Support",about:"About"},BU={search:"Search...",searchPlaceholder:"Search trips, places...",notifications:"Notifications",noNotifications:"No new notifications",markAllRead:"Mark all as read",viewAll:"View All",viewAllAnnouncements:"View all announcements"},SU={profile:"Profile",account:"Account",billing:"Billing & Plan",settings:"Settings",help:"Help & Support",signOut:"Sign Out",switchToAdmin:"Switch to Admin",switchToUser:"Switch to User View"},EU={title:"Admin Portal",dashboard:"Dashboard",users:"Users",trips:"Trips",subscriptions:"Subscriptions",notifications:"Notifications",settings:"Settings",systemLogs:"System Logs",messaging:"Messaging"},TU={copyright:"2024 GogoTrip. All rights reserved.",terms:"Terms of Service",privacy:"Privacy Policy",contact:"Contact Us"},LU={sidebar:CU,topBar:BU,userMenu:SU,admin:EU,footer:TU},FU={title:"Welcome Back",subtitle:"Sign in to continue your journey",email:"Email Address",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",rememberMe:"Remember me",forgotPassword:"Forgot password?",signIn:"Sign In",signingIn:"Signing in...",noAccount:"Don't have an account?",signUpLink:"Sign up",orContinueWithEmail:"Or continue with email",orContinueWith:"Or continue with",googleSignIn:"Continue with Google"},UU={title:"Create Account",subtitle:"Start planning your adventures",fullName:"Full Name",fullNamePlaceholder:"Enter your full name",email:"Email Address",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Create a password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm your password",agreeTerms:"I agree to the",termsLink:"Terms of Service",andText:"and",privacyLink:"Privacy Policy",signUp:"Create Account",signingUp:"Creating account...",hasAccount:"Already have an account?",signInLink:"Sign in",backToSignUp:"Back to Sign Up"},MU={title:"Verify Your Email",subtitle:"We sent a verification code to",enterCode:"Enter verification code",codePlaceholder:"Enter {{length}}-digit code",verify:"Verify",verifying:"Verifying...",resendCode:"Resend code",resendIn:"Resend in {{seconds}}s",codeSent:"Verification code sent!",verified:"Email verified successfully!",redirecting:"Redirecting...",enterCodeDesc:"Enter the code from your email or click the verification link",didntReceive:"Didn't receive the email?",checkEmail:"Check your email for the verification code"},OU={title:"Reset Password",subtitle:"Enter your email to receive a reset link",email:"Email Address",emailPlaceholder:"Enter your email",sendLink:"Send Reset Link",sending:"Sending...",linkSent:"Reset link sent! Check your email.",backToLogin:"Back to login"},IU={title:"Set New Password",subtitle:"Enter your new password",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",resetPassword:"Reset Password",resetting:"Resetting...",success:"Password reset successfully!",loginNow:"Login Now"},DU={invalidEmail:"Please enter a valid email address",invalidPassword:"Password must be at least 8 characters",passwordMismatch:"Passwords do not match",emailExists:"An account with this email already exists",invalidCredentials:"Invalid email or password",accountNotVerified:"Please verify your email first",accountSuspended:"Your account has been suspended",tooManyAttempts:"Too many attempts. Please try again later.",invalidCode:"Invalid verification code",codeExpired:"Code has expired. Please request a new one.",networkError:"Network error. Please check your connection."},PU={title:"Sign Out",confirmMessage:"Are you sure you want to sign out?",confirm:"Sign Out",cancel:"Cancel"},RU={login:FU,register:UU,verification:MU,forgotPassword:OU,resetPassword:IU,errors:DU,signOut:PU},QU="Dashboard",_U="Welcome back, {{name}}!",HU="Welcome back!",zU="Your travel command center",$U={countdown:"Your next adventure to {{destination}} begins in {{days}} days.",empty:"Plan your next adventure today!",badge:"NEXT: {{destination}} ({{days}}D)",badgeEmpty:"NO TRIPS PLANNED"},VU={explored:"EXPLORED",ready:"READY TO GO"},KU="View All Trips",GU="Start AI Planning",WU={title:"Upcoming Itinerary",viewFull:"View Full Schedule",empty:"No upcoming appointments",planFirst:"Plan your first trip"},YU={title:"Trip Idea?",description:"Not sure where to go next? Ask the AI Planner to suggest destinations.",button:"Ask AI Planner"},XU={title:"Saved Drafts",empty:"No saved drafts yet"},JU={upcomingTrips:"Upcoming Trips",countriesVisited:"Countries Visited",savedItineraries:"Saved Itineraries",totalDistance:"Total Distance"},ZU={title:"Quick Actions",planTrip:"Plan a Trip",findFood:"Find Food",viewTrips:"View My Trips",translate:"Translate"},qU={title:"Recent Trips",noTrips:"No trips yet",startPlanning:"Start planning your first adventure!",createTrip:"Create Trip",viewAll:"View All Trips"},eM={title:"Upcoming Trips",noUpcoming:"No upcoming trips",daysLeft:"{{days}} days to go",tomorrow:"Tomorrow",today:"Today"},tM={title:"Weather",currentLocation:"Current Location",feelsLike:"Feels like",humidity:"Humidity",wind:"Wind"},sM={title:"Recent Notifications",noNotifications:"No new notifications",viewAll:"View All"},rM={title:"Upgrade to Premium",description:"Unlock unlimited trips, AI features, and more!",features:["Unlimited trip planning","Full chat history","Priority AI responses","Export to calendar"],upgradeNow:"Upgrade Now"},nM={title:QU,welcome:_U,welcomeDefault:HU,subtitle:zU,nextTrip:$U,badges:VU,viewAllTrips:KU,startAiPlanning:GU,upcomingItinerary:WU,tripIdea:YU,savedDrafts:XU,stats:JU,quickActions:ZU,recentTrips:qU,upcomingTrips:eM,weather:tM,notifications:sM,premium:rM},aM={title:"Premium Plans",subtitle:"Unlock unlimited AI-powered trip planning and advanced features",monthly:"Monthly",yearly:"Yearly",lifetime:"Lifetime",mostPopular:"Most Popular"},iM={monthly:{unlimitedPlanning:"Unlimited AI trip planning",routeOptimization:"Advanced route optimization",prioritySupport:"Priority support",budgetTracking:"Budget tracking",calendarSync:"Calendar sync"},yearly:{everythingMonthly:"Everything in Monthly",twoMonthsFree:"2 months FREE",earlyAccess:"Early access to new features",exclusiveTips:"Exclusive travel tips",noPriceIncrease:"No price increases"},lifetime:{everythingYearly:"Everything in Yearly",lifetimeUpdates:"Lifetime updates",vipSupport:"VIP support",transferableLicense:"Transferable license",communityAccess:"Exclusive community access"}},oM={activeTitle:"Active Premium Subscription",lifetimeAccess:"Lifetime Access",remainingDaysAdded:" Remaining days will be added to new plan!",higherTierPlan:"You are on a higher tier plan."},lM={plans:"Plans",transactions:"Transactions",redeemCode:"Redeem Code"},cM={subscribeNow:"Subscribe Now",upgradePlan:"Upgrade Plan",renewSubscription:"Renew Subscription",currentPlan:"Current Plan",currentPlanHigher:"Current Plan is Higher",renewExtend:"Renew / Extend",continuePayment:"Continue Payment",refreshStatus:"Refresh Status",cancel:"Cancel",viewReceipt:"View Receipt"},dM={title:"Payment in Progress",expiresIn:"Expires in {{time}}",sessionEnded:"Payment session has ended. Please create a new payment instead."},uM={title:"Transaction History",noTransactions:"No transactions found",discount:"-RM{{amount}} discount",filters:{all:"All",pending:"Pending",paid:"Paid",expired:"Expired",cancelled:"Cancelled"}},AM={title:"Redeem Code",description:"Enter your activation code or discount voucher below.",placeholder:"ENTER CODE HERE",checkCode:"Check Code",validating:"Validating...",applied:"Voucher Applied"},hM={title:"Premium Activation",code:"Code: {{code}}",youWillReceive:"You will receive:",daysPrefix:"{{days}} Days Premium",lifetime:"Lifetime",activateNow:"Activate Now",activating:"Activating...",useDifferentCode:"Use a different code"},fM={percentOff:"{{percent}}% Discount",amountOff:"RM{{amount}} Off",selectPlan:"Select a Plan",confirmPay:"Confirm & Pay",refreshPrice:"Refresh Price",calculatingDiscount:"Calculating discount..."},pM={planPrice:"Plan Price ({{planName}})",subtotal:"Subtotal",total:"Total Amount",processing:"Processing...",proceedToPayment:"Proceed to Payment"},mM={pending:"Pending",paid:"Paid",active:"Active",cancelled:"Cancelled",expired:"Expired",refunded:"Refunded",failed:"Failed"},gM={paymentSuccess:" Payment successful! Your premium membership is updated.",membershipActivated:" Premium membership activated successfully!",planActive:" Payment confirmed! Your plan is now active.",activatedWithVoucher:" Premium membership activated with voucher!"},xM={enterVoucherCode:"Please enter a voucher code",invalidVoucher:"Invalid voucher code",validateVoucherFailed:"Failed to validate voucher",selectPlan:"Please select a plan.",paymentFailed:"Payment failed",continueFailed:"Failed to continue payment"},bM={plans:aM,features:iM,subscription:oM,tabs:lM,actions:cM,pending:dM,transactions:uM,voucher:AM,activation:hM,discount:fM,pricing:pM,status:mM,messages:gM,errors:xM},vM={title:"GogoTrip",subtitle:"Premium Subscription"},yM={orderInfo:"Order Information",subscriptionDetails:"Subscription Details"},wM={customerName:"Customer Name",email:"Email",orderReference:"Order Reference",orderDate:"Order Date",validFrom:"Valid From",validUntil:"Valid Until",lifetime:"Lifetime"},jM={subtotal:"Subtotal",tax:"Tax (0%)",total:"Total"},NM={thankYou:"Thank you for choosing GogoTrip Premium!",support:"For questions or support, please contact us at support@gogotrip.com"},kM={paymentSuccessful:"Payment Successful",paymentPending:"Payment Pending",paymentFailed:"Payment Failed",paymentCancelled:"Payment Cancelled"},CM={backToBilling:"Back to Billing",refreshStatus:"Refresh Status",print:"Print",downloadPdf:"Download PDF",verifying:"Verifying..."},BM={downloadSuccess:"Receipt downloaded successfully!",downloadFailed:"Failed to download PDF"},SM={orderNotFound:"Order ID not found",loadFailed:"Failed to load order",networkError:"Network error occurred",error:"Error"},EM={filename:"GogoTrip_Receipt_{{orderRef}}.pdf"},TM={header:vM,sections:yM,fields:wM,pricing:jM,footer:NM,status:kM,actions:CM,messages:BM,errors:SM,pdf:EM},LM="GogoTrip",FM="...",UM="",MM="",OM="",IM="",DM="",PM="",RM="",QM="",_M="",HM="",zM="",$M="",VM="",KM="",GM="",WM="",YM="",XM="",JM="",ZM="",qM="",eO="",tO="",sO="",rO="",nO="",aO={active:"",inactive:"",pending:"",completed:"",cancelled:"",expired:"",verified:"",unverified:""},iO={justNow:"",minutesAgo:"{{count}}",hoursAgo:"{{count}}",yesterday:"",daysAgo:"{{count}}"},oO={networkError:"",serverError:"",unauthorized:"",forbidden:"",notFound:"",validationError:"",unknownError:""},lO={signOut:"",signIn:"",signUp:"",learnMore:"",getStarted:"",upgrade:"",download:"",share:"",copy:"",copied:""},cO={success:"",error:"",warning:"",info:""},dO={required:"",invalidEmail:"",invalidFormat:""},uO={appName:LM,loading:FM,save:UM,cancel:MM,delete:"",rename:OM,edit:IM,confirm:DM,close:PM,search:RM,back:QM,next:_M,submit:HM,refresh:zM,retry:$M,yes:VM,no:KM,ok:GM,done:WM,continue:"",skip:YM,viewAll:XM,viewMore:JM,showLess:ZM,noResults:qM,emptyState:eO,error:tO,success:sO,warning:rO,info:nO,status:aO,time:iO,errors:oO,actions:lO,toast:cO,validation:dO},AO="",hO="",fO={profile:"",security:"",preferences:"",integrations:"",language:"",notifications:"",privacy:""},pO={title:"",description:"",fullName:"",fullNamePlaceholder:"",email:"",emailReadOnly:"",avatar:"",changePhoto:"",removePhoto:"",photoHint:" JPGPNG  GIF  1MB",saveChanges:"",saving:"...",saved:""},mO={title:"",description:"",changePassword:"",currentPassword:"",newPassword:"",confirmPassword:"",passwordRequirements:"8",updatePassword:"",twoFactor:"",twoFactorDesc:"",enable2FA:"",disable2FA:"",verificationCode:"",enterCode:"",verifyCode:"",resendCode:"",codeExpires:" {{seconds}} "},gO={title:"",description:"AI",selectLanguage:"",currentLanguage:"",changeSuccess:"",changing:"...",languageHint:"AI",languages:{en:"English",zh:"",ms:"Bahasa Melayu"}},xO={title:"",description:"",emailNotifications:"",emailNotificationsDesc:"AI",pushNotifications:"",pushNotificationsDesc:"",marketingEmails:"",marketingEmailsDesc:""},bO={title:"",description:"",dataUsage:"AI",dataUsageDesc:"AI",analytics:"",analyticsDesc:"GogoTrip",deleteAccount:"",deleteAccountDesc:"",deleteWarning:""},vO={title:"",description:"",googleAccount:"Google ",googleLinked:" {{email}}",googleNotLinked:"",linkGoogle:" Google ",unlinkGoogle:"",googleCalendar:"Google ",googleCalendarDesc:" Google ",calendarConnected:"",calendarNotConnected:"",connectCalendar:"",disconnectCalendar:""},yO={title:AO,subtitle:hO,sections:fO,profile:pO,security:mO,language:gO,notifications:xO,privacy:bO,integrations:vO},wO="AI",jO="AI",NO="...",kO="3",CO=["...","...","...","7...","...","RM 2000..."],BO="",SO="...",EO="AI...",TO="AI...",LO="",FO="",UO="",MO="",OO="",IO="",DO="",PO="",RO="{{count}}",QO={title:"",tripWizard:"",tripWizardDesc:"",foodWizard:"",foodWizardDesc:"",whereToNext:"",welcomeDesc:"",planTrip:"",findFood:"",generatedPrompt:`
{{mood}}{{budget}}{{companions}}...

`,foodSearchMessage:"  {{meal}} ...",foodResultMessage:" {{count}} ",foodErrorMessage:"",shareLink:"",editActivity:"",startTime:"",endTime:"",timeSlot:"",type:"",placeName:"",placeNamePlaceholder:"",address:"",addressPlaceholder:"",description:"",descriptionPlaceholder:"",tips:"",optional:"",delete:"",cancel:"",save:"",aiEditTitle:"AI ",selectedCount:" {{count}} ",aiInstructionLabel:" AI ",aiInstructionPlaceholder:"2...",quickSuggestions:"",processing:"...",startEdit:"",aiEdit:"AI ",cancelSelect:"",editSelected:" {{count}} ",saveChanges:"",highlights:"",totalActivities:"",items:"",estimatedCost:"",transportTips:"",itineraryDetails:"",practicalInfo:"",transport:"",weather:"",bookingAdvice:"",aiSuggest1:"1",aiSuggest2:"",aiSuggest3:"",aiSuggest4:"",aiSuggest5:"",aiSuggest6:""},_O={title:"",destination:"",destinationPlaceholder:"",duration:"",durationOptions:{"1day":"","2days":"2","3days":"3","5days":"5","7days":"",custom:""},customDaysPlaceholder:" (1-30)",mood:"",moodOptions:{relaxed:"",energetic:"",romantic:"",family:"",adventure:""},budget:"",budgetOptions:{low:"",medium:"",high:"",luxury:""},transport:"",transportOptions:{public:"",car:"/",walk:""},dietary:"",dietaryOptions:{halal:"",vegetarian:"",vegan:"",noPork:"",noBeef:"",glutenFree:""},stepIndicator:" {{current}}  {{total}} ",readyPrompt:"AI",nextStep:"",companions:"",companionOptions:{solo:"",couple:"",friends:"",family:""},generatePlan:"",generating:"..."},HO={title:"",cuisine:"",cuisineOptions:{local:"",chinese:"",indian:"",japanese:"",korean:"",western:"",thai:"",malay:"",any:""},mealOptions:{breakfast:"",lunch:"",dinner:"",snack:"/",supper:"",cafe:"/"},budgetDescriptions:{low:"RM 15/",medium:"RM 15-40/",high:"RM 40-80/",luxury:"RM 80/"},dietaryOptions:{halal:"",vegetarian:"",vegan:"",noPork:"",noBeef:"",glutenFree:""},distanceOptions:{nearby:" (< 1km)",short:" (< 5km)",any:""},stepIndicator:" {{current}}  {{total}} ",cravingPrompt:"()",cravingDesc:"",readyTitle:"",next:"",mealType:"",vibe:"",vibeOptions:{quick:"",casual:"",romantic:"",group:""},findFood:"",finding:"..."},zO={day:"{{number}}",days:"{{count}}",activities:"{{count}}",estimatedSpend:"",viewDetails:"",morning:"",afternoon:"",evening:"",night:"",lunch:"",dinner:"",budget:"",tips:"",savePlan:"",exportCalendar:"",shareLink:"",editActivity:"",startTime:"",endTime:"",timeSlot:"",type:"",placeName:"",placeNamePlaceholder:"",address:"",addressPlaceholder:"",description:"",descriptionPlaceholder:"",optional:"",delete:"",cancel:"",save:"",aiEditTitle:"AI ",selectedCount:" {{count}} ",aiInstructionLabel:" AI ",aiInstructionPlaceholder:"2...",quickSuggestions:"",processing:"...",startEdit:"",aiEdit:"AI ",cancelSelect:"",editSelected:" {{count}} ",saveChanges:"",highlights:"",totalActivities:"",items:"",estimatedCost:"",transportTips:"",itineraryDetails:"",practicalInfo:"",transport:"",weather:"",bookingAdvice:"",aiSuggest1:"1",aiSuggest2:"",aiSuggest3:"",aiSuggest4:"",aiSuggest5:"",aiSuggest6:"",activityTypes:{attraction:"",food:"",cafe:"",hotel:"",shopping:"",transport:""},budgetPlaceholder:"RM 50"},$O={title:"",distance:" {{distance}}",rating:"{{rating}} ",priceLevel:"{{level}}",openNow:"",closed:"",directions:"",addToPlan:""},VO={sendFailed:"",loadFailed:"",aiError:"AI",loadConversationFailed:"",deleteFailed:"",renameFailed:"",shareFailed:"",copyFailed:"",saveFailed:"",aiEditFailed:"AI",itineraryParseError:"",dataParseError:"",connectionFailed:"{{error}}"},KO={conversationDeleted:"",linkCopied:"",tripSaved:"",placeAdded:"{{name}}"},GO={historyLocked:"",unlockHistory:"",upgradeNow:""},WO={close:"",done:"",shareConversation:"",shareDescription:"",copyLink:"",copied:"",deleteConfirmation:"",saveTrip:"",tripSaved:""},YO={premiumActive:"",businessOpen:"",location:""},XO={unnamedPlan:"",unknownName:""},JO={itineraryGenerated:"{{destination}}{{duration}}",foodRecommendations:"{{count}}{{mealType}}",placeRecommendations:"{{count}}",activityEdited:"{{count}}",generalResponse:""},ZO={title:wO,subtitle:jO,placeholder:NO,placeholderExamples:kO,placeholdersList:CO,send:BO,sending:SO,thinking:EO,typing:TO,newChat:LO,clearChat:FO,history:UO,noHistory:MO,startNewChat:OO,loadMore:IO,today:DO,yesterday:PO,daysAgo:RO,wizards:QO,tripWizard:_O,foodWizard:HO,dailyPlan:zO,recommendations:$O,errors:VO,messages:KO,premium:GO,modals:WO,badges:YO,defaults:XO,systemMessages:JO},qO={dashboard:"",aiPlanner:"AI",myTrips:"",travelStories:"",notes:"",calendar:"",translate:"",expenses:"",settings:"",support:"",billing:"",premium:"",adminPortal:"",helpSupport:"",about:""},e8={search:"...",searchPlaceholder:"...",notifications:"",noNotifications:"",markAllRead:"",viewAll:"",viewAllAnnouncements:""},t8={profile:"",account:"",billing:"",settings:"",help:"",signOut:"",switchToAdmin:"",switchToUser:""},s8={title:"",dashboard:"",users:"",trips:"",subscriptions:"",notifications:"",settings:"",systemLogs:"",messaging:""},r8={copyright:" 2024 GogoTrip. ",terms:"",privacy:"",contact:""},n8={sidebar:qO,topBar:e8,userMenu:t8,admin:s8,footer:r8},a8={title:"",subtitle:"",email:"",emailPlaceholder:"",password:"",passwordPlaceholder:"",rememberMe:"",forgotPassword:"",signIn:"",signingIn:"...",noAccount:"",signUpLink:"",orContinueWithEmail:"",orContinueWith:"",googleSignIn:" Google "},i8={title:"",subtitle:"",fullName:"",fullNamePlaceholder:"",email:"",emailPlaceholder:"",password:"",passwordPlaceholder:"",confirmPassword:"",confirmPasswordPlaceholder:"",agreeTerms:"",termsLink:"",andText:"",privacyLink:"",signUp:"",signingUp:"...",hasAccount:"",signInLink:"",backToSignUp:""},o8={title:"",subtitle:"",enterCode:"",codePlaceholder:"{{length}}",verify:"",verifying:"...",resendCode:"",resendIn:"{{seconds}}",codeSent:"",verified:"",redirecting:"...",enterCodeDesc:"",didntReceive:"",checkEmail:""},l8={title:"",subtitle:"",email:"",emailPlaceholder:"",sendLink:"",sending:"...",linkSent:"",backToLogin:""},c8={title:"",subtitle:"",newPassword:"",newPasswordPlaceholder:"",confirmPassword:"",confirmPasswordPlaceholder:"",resetPassword:"",resetting:"...",success:"",loginNow:""},d8={invalidEmail:"",invalidPassword:"8",passwordMismatch:"",emailExists:"",invalidCredentials:"",accountNotVerified:"",accountSuspended:"",tooManyAttempts:"",invalidCode:"",codeExpired:"",networkError:""},u8={title:"",confirmMessage:"",confirm:"",cancel:""},A8={login:a8,register:i8,verification:o8,forgotPassword:l8,resetPassword:c8,errors:d8,signOut:u8},h8="",f8="{{name}}",p8="",m8="",g8={countdown:"{{destination}}{{days}}",empty:"",badge:"{{destination}} ({{days}})",badgeEmpty:""},x8={explored:"",ready:""},b8="",v8="AI",y8={title:"",viewFull:"",empty:"",planFirst:""},w8={title:"",description:"AI",button:"AI"},j8={title:"",empty:""},N8={upcomingTrips:"",countriesVisited:"",savedItineraries:"",totalDistance:""},k8={title:"",planTrip:"",findFood:"",viewTrips:"",translate:""},C8={title:"",noTrips:"",startPlanning:"",createTrip:"",viewAll:""},B8={title:"",noUpcoming:"",daysLeft:" {{days}} ",tomorrow:"",today:""},S8={title:"",currentLocation:"",feelsLike:"",humidity:"",wind:""},E8={title:"",noNotifications:"",viewAll:""},T8={title:"",description:"AI",features:["","","AI",""],upgradeNow:""},L8={title:h8,welcome:f8,welcomeDefault:p8,subtitle:m8,nextTrip:g8,badges:x8,viewAllTrips:b8,startAiPlanning:v8,upcomingItinerary:y8,tripIdea:w8,savedDrafts:j8,stats:N8,quickActions:k8,recentTrips:C8,upcomingTrips:B8,weather:S8,notifications:E8,premium:T8},F8={title:"",subtitle:"AI",monthly:"",yearly:"",lifetime:"",mostPopular:""},U8={monthly:{unlimitedPlanning:"AI",routeOptimization:"",prioritySupport:"",budgetTracking:"",calendarSync:""},yearly:{everythingMonthly:"",twoMonthsFree:"2",earlyAccess:"",exclusiveTips:"",noPriceIncrease:""},lifetime:{everythingYearly:"",lifetimeUpdates:"",vipSupport:"VIP",transferableLicense:"",communityAccess:""}},M8={activeTitle:"",lifetimeAccess:"",remainingDaysAdded:" ",higherTierPlan:""},O8={plans:"",transactions:"",redeemCode:""},I8={subscribeNow:"",upgradePlan:"",renewSubscription:"",currentPlan:"",currentPlanHigher:"",renewExtend:" / ",continuePayment:"",refreshStatus:"",cancel:"",viewReceipt:""},D8={title:"",expiresIn:"{{time}}",sessionEnded:""},P8={title:"",noTransactions:"",discount:"-RM{{amount}} ",filters:{all:"",pending:"",paid:"",expired:"",cancelled:""}},R8={title:"",description:"",placeholder:"",checkCode:"",validating:"...",applied:""},Q8={title:"",code:"{{code}}",youWillReceive:"",daysPrefix:"{{days}}",lifetime:"",activateNow:"",activating:"...",useDifferentCode:""},_8={percentOff:"{{percent}}% ",amountOff:"RM{{amount}} ",selectPlan:"",confirmPay:"",refreshPrice:"",calculatingDiscount:"..."},H8={planPrice:"{{planName}}",subtotal:"",total:"",processing:"...",proceedToPayment:""},z8={pending:"",paid:"",active:"",cancelled:"",expired:"",refunded:"",failed:""},$8={paymentSuccess:" ",membershipActivated:" ",planActive:" ",activatedWithVoucher:" "},V8={enterVoucherCode:"",invalidVoucher:"",validateVoucherFailed:"",selectPlan:"",paymentFailed:"",continueFailed:""},K8={plans:F8,features:U8,subscription:M8,tabs:O8,actions:I8,pending:D8,transactions:P8,voucher:R8,activation:Q8,discount:_8,pricing:H8,status:z8,messages:$8,errors:V8},G8={title:"GogoTrip",subtitle:""},W8={orderInfo:"",subscriptionDetails:""},Y8={customerName:"",email:"",orderReference:"",orderDate:"",validFrom:"",validUntil:"",lifetime:""},X8={subtotal:"",tax:"0%",total:""},J8={thankYou:"GogoTrip",support:"support@gogotrip.com"},Z8={paymentSuccessful:"",paymentPending:"",paymentFailed:"",paymentCancelled:""},q8={backToBilling:"",refreshStatus:"",print:"",downloadPdf:"PDF",verifying:"..."},eI={downloadSuccess:"",downloadFailed:"PDF"},tI={orderNotFound:"ID",loadFailed:"",networkError:"",error:""},sI={filename:"GogoTrip__{{orderRef}}.pdf"},rI={header:G8,sections:W8,fields:Y8,pricing:X8,footer:J8,status:Z8,actions:q8,messages:eI,errors:tI,pdf:sI},nI="GogoTrip",aI="Memuatkan...",iI="Simpan",oI="Batal",lI="Namakan Semula",cI="Edit",dI="Sahkan",uI="Tutup",AI="Cari",hI="Kembali",fI="Seterusnya",pI="Hantar",mI="Muat Semula",gI="Cuba Lagi",xI="Ya",bI="Tidak",vI="OK",yI="Selesai",wI="Langkau",jI="Lihat Semua",NI="Lihat Lagi",kI="Tunjuk Kurang",CI="Tiada hasil ditemui",BI="Tiada apa-apa di sini",SI="Ralat",EI="Berjaya",TI="Amaran",LI="Maklumat",FI={active:"Aktif",inactive:"Tidak Aktif",pending:"Menunggu",completed:"Selesai",cancelled:"Dibatalkan",expired:"Tamat Tempoh",verified:"Disahkan",unverified:"Belum Disahkan"},UI={justNow:"Baru sahaja",minutesAgo:"{{count}} minit lalu",hoursAgo:"{{count}} jam lalu",yesterday:"Semalam",daysAgo:"{{count}} hari lalu"},MI={networkError:"Ralat rangkaian. Sila cuba lagi.",serverError:"Ralat pelayan. Sila cuba lagi kemudian.",unauthorized:"Sila log masuk untuk meneruskan.",forbidden:"Anda tiada kebenaran untuk melakukan ini.",notFound:"Tidak ditemui.",validationError:"Sila semak input anda.",unknownError:"Sesuatu tidak kena. Sila cuba lagi."},OI={signOut:"Log Keluar",signIn:"Log Masuk",signUp:"Daftar",learnMore:"Ketahui Lebih",getStarted:"Mulakan",upgrade:"Naik Taraf",download:"Muat Turun",share:"Kongsi",copy:"Salin",copied:"Disalin!"},II={success:"Berjaya",error:"Ralat",warning:"Amaran",info:"Maklumat"},DI={required:"Medan ini diperlukan",invalidEmail:"Alamat e-mel tidak sah",invalidFormat:"Format tidak sah"},PI={appName:nI,loading:aI,save:iI,cancel:oI,delete:"Padam",rename:lI,edit:cI,confirm:dI,close:uI,search:AI,back:hI,next:fI,submit:pI,refresh:mI,retry:gI,yes:xI,no:bI,ok:vI,done:yI,continue:"Teruskan",skip:wI,viewAll:jI,viewMore:NI,showLess:kI,noResults:CI,emptyState:BI,error:SI,success:EI,warning:TI,info:LI,status:FI,time:UI,errors:MI,actions:OI,toast:II,validation:DI},RI="Tetapan",QI="Urus keutamaan akaun anda",_I={profile:"Profil",security:"Keselamatan",preferences:"Keutamaan",integrations:"Integrasi",language:"Bahasa",notifications:"Pemberitahuan",privacy:"Privasi"},HI={title:"Maklumat Profil",description:"Kemas kini butiran peribadi anda",fullName:"Nama Penuh",fullNamePlaceholder:"Masukkan nama penuh anda",email:"Alamat E-mel",emailReadOnly:"E-mel tidak boleh ditukar",avatar:"Gambar Profil",changePhoto:"Tukar Gambar",removePhoto:"Buang Gambar",photoHint:"JPG, PNG atau GIF. Maksimum 1MB.",saveChanges:"Simpan Perubahan",saving:"Menyimpan...",saved:"Profil berjaya dikemas kini!"},zI={title:"Tetapan Keselamatan",description:"Urus keselamatan akaun anda",changePassword:"Tukar Kata Laluan",currentPassword:"Kata Laluan Semasa",newPassword:"Kata Laluan Baharu",confirmPassword:"Sahkan Kata Laluan Baharu",passwordRequirements:"Kata laluan mestilah sekurang-kurangnya 8 aksara",updatePassword:"Kemas Kini Kata Laluan",twoFactor:"Pengesahan Dua Faktor",twoFactorDesc:"Tambah lapisan keselamatan tambahan pada akaun anda",enable2FA:"Aktifkan 2FA",disable2FA:"Nyahaktifkan 2FA",verificationCode:"Kod Pengesahan",enterCode:"Masukkan kod yang dihantar ke e-mel anda",verifyCode:"Sahkan Kod",resendCode:"Hantar Semula Kod",codeExpires:"Kod tamat dalam {{seconds}} saat"},$I={title:"Bahasa",description:"Pilih bahasa pilihan anda untuk antara muka dan respons AI",selectLanguage:"Pilih Bahasa",currentLanguage:"Bahasa Semasa",changeSuccess:"Bahasa berjaya dikemas kini!",changing:"Menukar bahasa...",languageHint:"Ini akan menukar bahasa semua teks dalam aplikasi, termasuk respons chat AI.",languages:{en:"English",zh:"",ms:"Bahasa Melayu"}},VI={title:"Keutamaan Pemberitahuan",description:"Kawal cara anda menerima kemas kini",emailNotifications:"Pemberitahuan E-mel",emailNotificationsDesc:"Terima kemas kini perjalanan dan cadangan AI melalui e-mel",pushNotifications:"Pemberitahuan Push",pushNotificationsDesc:"Terima pemberitahuan dalam pelayar anda",marketingEmails:"E-mel Pemasaran",marketingEmailsDesc:"Terima berita, promosi, dan tip"},KI={title:"Tetapan Privasi",description:"Kawal data dan privasi anda",dataUsage:"Penggunaan Data AI",dataUsageDesc:"Benarkan AI menggunakan sejarah perjalanan anda untuk cadangan yang lebih baik",analytics:"Analitik",analyticsDesc:"Bantu tingkatkan GogoTrip dengan berkongsi data penggunaan tanpa nama",deleteAccount:"Padam Akaun",deleteAccountDesc:"Padam akaun dan semua data anda secara kekal",deleteWarning:"Tindakan ini tidak boleh dibatalkan. Semua perjalanan, data, dan keutamaan anda akan dipadam secara kekal."},GI={title:"Akaun Bersambung",description:"Urus akaun dan perkhidmatan yang dipautkan",googleAccount:"Akaun Google",googleLinked:"Bersambung sebagai {{email}}",googleNotLinked:"Tidak bersambung",linkGoogle:"Pautkan Akaun Google",unlinkGoogle:"Nyahpaut",googleCalendar:"Kalendar Google",googleCalendarDesc:"Segerakkan perjalanan anda ke Kalendar Google",calendarConnected:"Bersambung",calendarNotConnected:"Tidak bersambung",connectCalendar:"Sambungkan Kalendar",disconnectCalendar:"Putuskan Sambungan"},WI={title:RI,subtitle:QI,sections:_I,profile:HI,security:zI,language:$I,notifications:VI,privacy:KI,integrations:GI},YI="Perancang Perjalanan AI",XI="Rancang perjalanan sempurna anda dengan bantuan AI",JI="Tanya saya apa-apa tentang perjalanan anda...",ZI='cth., "Rancang perjalanan 3 hari ke Pulau Pinang" atau "Cari restoran halal berdekatan"',qI=["Gambarkan perjalanan impian anda ke Kyoto...","Rancang percutian hujung minggu ke Lembah Napa...","Cari restoran sushi terbaik di Tokyo...","Cadangkan itinerari 7 hari untuk Itali...","Mencari aktiviti mesra keluarga di London...","Tunjukkan penerbangan ke New York di bawah RM 2000..."],eD="Hantar",tD="Menghantar...",sD="AI sedang berfikir...",rD="AI sedang menaip...",nD="Perbualan Baharu",aD="Padam Perbualan",iD="Sejarah Perbualan",oD="Tiada sejarah perbualan",lD="Mula perbualan baharu!",cD="Muat Lebih",dD="Hari Ini",uD="Semalam",AD="{{count}} hari lalu",hD={title:"Mula Pantas",tripWizard:"Wizard Perjalanan",tripWizardDesc:"Rancang itinerari berbilang hari yang lengkap",foodWizard:"Wizard Makanan",foodWizardDesc:"Cari tempat makan yang sempurna",whereToNext:"Ke mana seterusnya?",welcomeDesc:"Saya boleh membantu anda merancang perjalanan yang sempurna berdasarkan bajet, mood dan pilihan anda.",planTrip:"Rancang Perjalanan",findFood:"Cari Makanan",generatedPrompt:`Rancang perjalanan berdasarkan keutamaan saya:
Mood: {{mood}}, Bajet: {{budget}}, Kumpulan: {{companions}}...

(Taip destinasi anda di sini)`,foodSearchMessage:" Mencari tempat {{meal}} terbaik untuk anda berdasarkan keutamaan anda...",foodResultMessage:"Menjumpai {{count}} pilihan hebat untuk anda! Lihat di bawah:",foodErrorMessage:"Maaf, ralat berlaku semasa mendapatkan cadangan makanan. Sila cuba lagi.",shareLink:"Kongsi Pautan",editActivity:"Edit Aktiviti",startTime:"Masa Mula",endTime:"Masa Tamat",timeSlot:"Slot Masa",type:"Jenis",placeName:"Nama Tempat",placeNamePlaceholder:"Masukkan nama tempat",address:"Alamat",addressPlaceholder:"Masukkan alamat",description:"Penerangan",descriptionPlaceholder:"Penerangan aktiviti",tips:"Tip",optional:"Pilihan",delete:"Padam",cancel:"Batal",save:"Simpan",aiEditTitle:"Edit Kumpulan AI",selectedCount:"Dipilih {{count}} item",aiInstructionLabel:"Beritahu AI bagaimana anda mahu mengubah suai aktiviti ini:",aiInstructionPlaceholder:"cth., Anjakkan semua aktiviti selama 2 jam, dan tambah penerangan lebih terperinci...",quickSuggestions:"Cadangan Pantas",processing:"Sedang Memproses...",startEdit:"Mula Edit",aiEdit:"Edit AI",cancelSelect:"Batal Pilih",editSelected:"Edit {{count}} Item",saveChanges:"Simpan Perubahan",highlights:"Sorotan Hari Ini",totalActivities:"Jumlah Aktiviti",items:"Item",estimatedCost:"Anggaran Kos",transportTips:"Tip Pengangkutan",itineraryDetails:"Itinerari Terperinci",practicalInfo:"Info Praktikal",transport:"Pengangkutan",weather:"Cuaca",bookingAdvice:"Nasihat Tempahan",aiSuggest1:"Anjakkan masa 1 jam ke belakang",aiSuggest2:"Gantikan dengan pilihan mesra vegetarian",aiSuggest3:"Tambah anggaran bajet yang lebih terperinci",aiSuggest4:"Tukar kepada pilihan yang lebih menjimatkan",aiSuggest5:"Tambah lebih banyak pengalaman budaya tempatan",aiSuggest6:"Sesuaikan untuk keluarga dengan anak-anak"},fD={title:"Wizard Perjalanan",destination:"Ke mana anda mahu pergi?",destinationPlaceholder:"cth., Kuala Lumpur, Pulau Pinang, Singapura",duration:"Berapa lama perjalanan anda?",durationOptions:{"1day":"Satu Hari","2days":"2 Hari","3days":"3 Hari","5days":"5 Hari","7days":"1 Minggu",custom:"Tersuai"},customDaysPlaceholder:"Masukkan bilangan hari (1-30)",mood:"Apakah gaya perjalanan anda?",moodOptions:{relaxed:"Santai",energetic:"Bertenaga",romantic:"Romantik",family:"Mesra Keluarga",adventure:"Pengembaraan"},budget:"Apakah bajet anda?",budgetOptions:{low:"Bajet",medium:"Sederhana",high:"Premium",luxury:"Mewah"},transport:"Bagaimana anda akan bergerak?",transportOptions:{public:"Pengangkutan Awam",car:"Kereta / Grab",walk:"Berjalan Kaki"},dietary:"Ada keperluan diet?",dietaryOptions:{halal:"Halal",vegetarian:"Vegetarian",vegan:"Vegan",noPork:"Tiada Babi",noBeef:"Tiada Daging Lembu",glutenFree:"Bebas Gluten"},stepIndicator:"Langkah {{current}} dari {{total}}",readyPrompt:"Sedia untuk menjana pelan tersuai anda? AI akan menggunakan keutamaan ini untuk mencari tempat terbaik.",nextStep:"Langkah Seterusnya",companions:"Dengan siapa anda mengembara?",companionOptions:{solo:"Bersendirian",couple:"Pasangan",friends:"Rakan-rakan",family:"Keluarga"},generatePlan:"Jana Pelan Perjalanan",generating:"Mencipta itinerari sempurna anda..."},pD={title:"Wizard Makanan",cuisine:"Apakah masakan yang anda inginkan?",cuisineOptions:{local:"Tempatan Malaysia",chinese:"Cina",indian:"India",japanese:"Jepun",korean:"Korea",western:"Barat",thai:"Thai",malay:"Melayu",any:"Kejutkan Saya"},mealOptions:{breakfast:"Sarapan",lunch:"Makan Tengah Hari",dinner:"Makan Malam",snack:"Snek/Teh",supper:"Supper",cafe:"Kafe/Pencuci Mulut"},budgetDescriptions:{low:"Bawah RM 15/pax",medium:"RM 15-40/pax",high:"RM 40-80/pax",luxury:"RM 80+/pax"},dietaryOptions:{halal:"Halal",vegetarian:"Vegetarian",vegan:"Vegan",noPork:"Tiada Babi",noBeef:"Tiada Daging Lembu",glutenFree:"Bebas Gluten"},distanceOptions:{nearby:"Berjalan (< 1km)",short:"Pandu singkat (< 5km)",any:"Sebarang jarak"},stepIndicator:"Langkah {{current}} dari {{total}}",cravingPrompt:"Apa yang anda idamkan? (pilihan)",cravingDesc:"Pilih satu atau lebih, atau langkau untuk pelbagai cadangan",readyTitle:"Sedia untuk mencari hidangan sempurna anda!",next:"Seterusnya",mealType:"Hidangan apa?",vibe:"Apakah suasananya?",vibeOptions:{quick:"Makan Cepat",casual:"Santai",romantic:"Romantik",group:"Berkumpulan"},findFood:"Cari Makanan",finding:"Mencari pilihan sedap..."},mD={day:"Hari {{number}}",days:"{{count}} hari",activities:"{{count}} aktiviti",estimatedSpend:"Anggaran Kos",viewDetails:"Lihat Butiran",morning:"Pagi",afternoon:"Petang",evening:"Malam",night:"Malam",lunch:"Makan Tengah Hari",dinner:"Makan Malam",budget:"Bajet",tips:"Tip",savePlan:"Simpan Pelan",exportCalendar:"Eksport ke Kalendar",shareLink:"Kongsi Pautan",editActivity:"Edit Aktiviti",startTime:"Masa Mula",endTime:"Masa Tamat",timeSlot:"Slot Masa",type:"Jenis",placeName:"Nama Tempat",placeNamePlaceholder:"Masukkan nama tempat",address:"Alamat",addressPlaceholder:"Masukkan alamat",description:"Penerangan",descriptionPlaceholder:"Penerangan aktiviti",optional:"Pilihan",delete:"Padam",cancel:"Batal",save:"Simpan",aiEditTitle:"Edit Kumpulan AI",selectedCount:"Dipilih {{count}} item",aiInstructionLabel:"Beritahu AI bagaimana anda mahu mengubah suai aktiviti ini:",aiInstructionPlaceholder:"cth., Anjakkan semua aktiviti selama 2 jam, dan tambah penerangan lebih terperinci...",quickSuggestions:"Cadangan Pantas",processing:"Sedang Memproses...",startEdit:"Mula Edit",aiEdit:"Edit AI",cancelSelect:"Batal Pilih",editSelected:"Edit {{count}} Item",saveChanges:"Simpan Perubahan",highlights:"Sorotan Hari Ini",totalActivities:"Jumlah Aktiviti",items:"Item",estimatedCost:"Anggaran Kos",transportTips:"Tip Pengangkutan",itineraryDetails:"Itinerari Terperinci",practicalInfo:"Info Praktikal",transport:"Pengangkutan",weather:"Cuaca",bookingAdvice:"Nasihat Tempahan",aiSuggest1:"Anjakkan masa 1 jam ke belakang",aiSuggest2:"Gantikan dengan pilihan mesra vegetarian",aiSuggest3:"Tambah anggaran bajet yang lebih terperinci",aiSuggest4:"Tukar kepada pilihan yang lebih menjimatkan",aiSuggest5:"Tambah lebih banyak pengalaman budaya tempatan",aiSuggest6:"Sesuaikan untuk keluarga dengan anak-anak",activityTypes:{attraction:"Tarikan",food:"Makanan",cafe:"Kafe",hotel:"Hotel",shopping:"Membeli-belah",transport:"Pengangkutan"},budgetPlaceholder:"RM 50"},gD={title:"Cadangan",distance:"{{distance}} jauhnya",rating:"{{rating}} bintang",priceLevel:"Harga: {{level}}",openNow:"Buka Sekarang",closed:"Tutup",directions:"Dapatkan Arah",addToPlan:"Tambah ke Pelan"},xD={sendFailed:"Gagal menghantar mesej. Sila cuba lagi.",loadFailed:"Gagal memuatkan sejarah perbualan.",aiError:"AI menghadapi ralat. Sila cuba lagi.",loadConversationFailed:"Gagal memuatkan perbualan",deleteFailed:"Gagal memadam",renameFailed:"Gagal menamakan semula",shareFailed:"Gagal berkongsi perbualan",copyFailed:"Gagal menyalin pautan",saveFailed:"Gagal menyimpan perjalanan",aiEditFailed:"Edit AI gagal, sila cuba lagi",itineraryParseError:"Maaf, ralat penghuraian data itinerari",dataParseError:"Maaf, ralat penghuraian data",connectionFailed:"Maaf, sambungan gagal. Ralat: {{error}}"},bD={conversationDeleted:"Perbualan dipadam",linkCopied:"Pautan disalin ke papan klip!",tripSaved:"Perjalanan disimpan!",placeAdded:'Menambah "{{name}}" ke pelan anda!'},vD={historyLocked:"Sejarah perbualan adalah ciri Premium",unlockHistory:"Naik taraf untuk menyimpan dan mengakses sejarah perbualan anda",upgradeNow:"Naik Taraf Sekarang"},yD={close:"Tutup",done:"Selesai",shareConversation:"Kongsi Perbualan",shareDescription:"Sesiapa sahaja yang mempunyai pautan ini boleh melihat perbualan ini.",copyLink:"Salin",copied:"Disalin",deleteConfirmation:"Padam perbualan ini?",saveTrip:"Simpan Pelan Perjalanan",tripSaved:"Disimpan ke Perjalanan Saya"},wD={premiumActive:"Premium Aktif",businessOpen:"Buka",location:"Lokasi"},jD={unnamedPlan:"Pelan Tanpa Nama",unknownName:"Nama Tidak Diketahui"},ND={itineraryGenerated:"Saya telah membuat jadual {{duration}} untuk {{destination}}. Lihat pelan terperinci di bawah!",foodRecommendations:"Saya jumpa {{count}} pilihan {{mealType}} yang hebat untuk anda. Lihat di bawah!",placeRecommendations:"Saya jumpa {{count}} tempat yang sesuai dengan permintaan anda. Semak di bawah!",activityEdited:"Berjaya mengemas kini {{count}} aktiviti berdasarkan arahan anda.",generalResponse:"Inilah yang saya jumpa untuk anda:"},kD={title:YI,subtitle:XI,placeholder:JI,placeholderExamples:ZI,placeholdersList:qI,send:eD,sending:tD,thinking:sD,typing:rD,newChat:nD,clearChat:aD,history:iD,noHistory:oD,startNewChat:lD,loadMore:cD,today:dD,yesterday:uD,daysAgo:AD,wizards:hD,tripWizard:fD,foodWizard:pD,dailyPlan:mD,recommendations:gD,errors:xD,messages:bD,premium:vD,modals:yD,badges:wD,defaults:jD,systemMessages:ND},CD={dashboard:"Papan Pemuka Perjalanan",aiPlanner:"Perancang AI",myTrips:"Perjalanan Saya",travelStories:"Cerita Perjalanan",notes:"Nota",calendar:"Kalendar",translate:"Terjemah",expenses:"Perbelanjaan",settings:"Tetapan",support:"Sokongan",billing:"Bil",premium:"Premium",adminPortal:"Portal Admin",helpSupport:"Bantuan & Sokongan",about:"Tentang"},BD={search:"Cari...",searchPlaceholder:"Cari perjalanan, tempat...",notifications:"Pemberitahuan",noNotifications:"Tiada pemberitahuan baharu",markAllRead:"Tandakan semua sudah dibaca",viewAll:"Lihat Semua",viewAllAnnouncements:"Lihat semua pengumuman"},SD={profile:"Profil",account:"Akaun",billing:"Bil & Pelan",settings:"Tetapan",help:"Bantuan & Sokongan",signOut:"Log Keluar",switchToAdmin:"Tukar ke Admin",switchToUser:"Tukar ke Paparan Pengguna"},ED={title:"Portal Admin",dashboard:"Papan Pemuka",users:"Pengguna",trips:"Perjalanan",subscriptions:"Langganan",notifications:"Pemberitahuan",settings:"Tetapan",systemLogs:"Log Sistem",messaging:"Pemesejan"},TD={copyright:"2024 GogoTrip. Hak cipta terpelihara.",terms:"Terma Perkhidmatan",privacy:"Dasar Privasi",contact:"Hubungi Kami"},LD={sidebar:CD,topBar:BD,userMenu:SD,admin:ED,footer:TD},FD={title:"Selamat Kembali",subtitle:"Log masuk untuk meneruskan perjalanan anda",email:"Alamat E-mel",emailPlaceholder:"Masukkan e-mel anda",password:"Kata Laluan",passwordPlaceholder:"Masukkan kata laluan anda",rememberMe:"Ingat saya",forgotPassword:"Lupa kata laluan?",signIn:"Log Masuk",signingIn:"Sedang log masuk...",noAccount:"Tiada akaun?",signUpLink:"Daftar",orContinueWithEmail:"Atau teruskan dengan e-mel",orContinueWith:"Atau teruskan dengan",googleSignIn:"Teruskan dengan Google"},UD={title:"Cipta Akaun",subtitle:"Mula merancang pengembaraan anda",fullName:"Nama Penuh",fullNamePlaceholder:"Masukkan nama penuh anda",email:"Alamat E-mel",emailPlaceholder:"Masukkan e-mel anda",password:"Kata Laluan",passwordPlaceholder:"Cipta kata laluan",confirmPassword:"Sahkan Kata Laluan",confirmPasswordPlaceholder:"Sahkan kata laluan anda",agreeTerms:"Saya bersetuju dengan",termsLink:"Terma Perkhidmatan",andText:"dan",privacyLink:"Dasar Privasi",signUp:"Cipta Akaun",signingUp:"Mencipta akaun...",hasAccount:"Sudah ada akaun?",signInLink:"Log masuk",backToSignUp:"Kembali ke Daftar"},MD={title:"Sahkan E-mel Anda",subtitle:"Kami telah menghantar kod pengesahan ke",enterCode:"Masukkan kod pengesahan",codePlaceholder:"Masukkan kod {{length}} digit",verify:"Sahkan",verifying:"Mengesahkan...",resendCode:"Hantar semula kod",resendIn:"Hantar semula dalam {{seconds}}s",codeSent:"Kod pengesahan dihantar!",verified:"E-mel berjaya disahkan!",redirecting:"Mengalihkan...",enterCodeDesc:"Masukkan kod dari e-mel anda atau klik pautan pengesahan",didntReceive:"Tidak menerima e-mel?",checkEmail:"Semak e-mel anda untuk kod pengesahan"},OD={title:"Tetapkan Semula Kata Laluan",subtitle:"Masukkan e-mel anda untuk menerima pautan tetapan semula",email:"Alamat E-mel",emailPlaceholder:"Masukkan e-mel anda",sendLink:"Hantar Pautan Tetapan Semula",sending:"Menghantar...",linkSent:"Pautan tetapan semula dihantar! Semak e-mel anda.",backToLogin:"Kembali ke log masuk"},ID={title:"Tetapkan Kata Laluan Baharu",subtitle:"Masukkan kata laluan baharu anda",newPassword:"Kata Laluan Baharu",newPasswordPlaceholder:"Masukkan kata laluan baharu",confirmPassword:"Sahkan Kata Laluan",confirmPasswordPlaceholder:"Sahkan kata laluan baharu",resetPassword:"Tetapkan Semula Kata Laluan",resetting:"Menetapkan semula...",success:"Kata laluan berjaya ditetapkan semula!",loginNow:"Log Masuk Sekarang"},DD={invalidEmail:"Sila masukkan alamat e-mel yang sah",invalidPassword:"Kata laluan mestilah sekurang-kurangnya 8 aksara",passwordMismatch:"Kata laluan tidak sepadan",emailExists:"Akaun dengan e-mel ini sudah wujud",invalidCredentials:"E-mel atau kata laluan tidak sah",accountNotVerified:"Sila sahkan e-mel anda terlebih dahulu",accountSuspended:"Akaun anda telah digantung",tooManyAttempts:"Terlalu banyak percubaan. Sila cuba lagi kemudian.",invalidCode:"Kod pengesahan tidak sah",codeExpired:"Kod telah tamat tempoh. Sila minta yang baharu.",networkError:"Ralat rangkaian. Sila semak sambungan anda."},PD={title:"Log Keluar",confirmMessage:"Adakah anda pasti mahu log keluar?",confirm:"Log Keluar",cancel:"Batal"},RD={login:FD,register:UD,verification:MD,forgotPassword:OD,resetPassword:ID,errors:DD,signOut:PD},QD="Papan Pemuka",_D="Selamat kembali, {{name}}!",HD="Selamat kembali!",zD="Pusat kawalan perjalanan anda",$D={countdown:"Pengembaraan anda seterusnya ke {{destination}} bermula dalam {{days}} hari.",empty:"Rancang pengembaraan anda hari ini!",badge:"SETERUSNYA: {{destination}} ({{days}}H)",badgeEmpty:"TIADA PERJALANAN"},VD={explored:"DIJELAJAH",ready:"SEDIA"},KD="Lihat Semua Perjalanan",GD="Mula Perancangan AI",WD={title:"Itinerari Akan Datang",viewFull:"Lihat Jadual Penuh",empty:"Tiada janji temu akan datang",planFirst:"Rancang perjalanan pertama anda"},YD={title:"Idea Perjalanan?",description:"Tidak pasti ke mana seterusnya? Tanya Perancang AI untuk cadangan.",button:"Tanya Perancang AI"},XD={title:"Draf Disimpan",empty:"Tiada draf disimpan"},JD={upcomingTrips:"Perjalanan Akan Datang",countriesVisited:"Negara Dilawati",savedItineraries:"Itinerari Disimpan",totalDistance:"Jumlah Jarak"},ZD={title:"Tindakan Pantas",planTrip:"Rancang Perjalanan",findFood:"Cari Makanan",viewTrips:"Lihat Perjalanan Saya",translate:"Terjemah"},qD={title:"Perjalanan Terkini",noTrips:"Tiada perjalanan lagi",startPlanning:"Mula merancang pengembaraan pertama anda!",createTrip:"Cipta Perjalanan",viewAll:"Lihat Semua Perjalanan"},eP={title:"Perjalanan Akan Datang",noUpcoming:"Tiada perjalanan akan datang",daysLeft:"{{days}} hari lagi",tomorrow:"Esok",today:"Hari Ini"},tP={title:"Cuaca",currentLocation:"Lokasi Semasa",feelsLike:"Terasa seperti",humidity:"Kelembapan",wind:"Angin"},sP={title:"Pemberitahuan Terkini",noNotifications:"Tiada pemberitahuan baharu",viewAll:"Lihat Semua"},rP={title:"Naik Taraf ke Premium",description:"Buka kunci perjalanan tanpa had, ciri AI, dan banyak lagi!",features:["Perancangan perjalanan tanpa had","Sejarah perbualan penuh","Respons AI keutamaan","Eksport ke kalendar"],upgradeNow:"Naik Taraf Sekarang"},nP={title:QD,welcome:_D,welcomeDefault:HD,subtitle:zD,nextTrip:$D,badges:VD,viewAllTrips:KD,startAiPlanning:GD,upcomingItinerary:WD,tripIdea:YD,savedDrafts:XD,stats:JD,quickActions:ZD,recentTrips:qD,upcomingTrips:eP,weather:tP,notifications:sP,premium:rP},aP={title:"Pelan Premium",subtitle:"Buka kunci perancangan perjalanan AI tanpa had dan ciri-ciri lanjutan",monthly:"Bulanan",yearly:"Tahunan",lifetime:"Seumur Hidup",mostPopular:"Paling Popular"},iP={monthly:{unlimitedPlanning:"Perancangan perjalanan AI tanpa had",routeOptimization:"Pengoptimuman laluan lanjutan",prioritySupport:"Sokongan keutamaan",budgetTracking:"Penjejakan bajet",calendarSync:"Penyegerakan kalendar"},yearly:{everythingMonthly:"Semua dalam Bulanan",twoMonthsFree:"2 bulan PERCUMA",earlyAccess:"Akses awal kepada ciri baharu",exclusiveTips:"Petua perjalanan eksklusif",noPriceIncrease:"Tiada kenaikan harga"},lifetime:{everythingYearly:"Semua dalam Tahunan",lifetimeUpdates:"Kemas kini seumur hidup",vipSupport:"Sokongan VIP",transferableLicense:"Lesen boleh dipindahkan",communityAccess:"Akses komuniti eksklusif"}},oP={activeTitle:"Langganan Premium Aktif",lifetimeAccess:"Akses Seumur Hidup",remainingDaysAdded:" Hari yang tinggal akan ditambah ke pelan baharu!",higherTierPlan:"Anda berada pada pelan peringkat lebih tinggi."},lP={plans:"Pelan",transactions:"Transaksi",redeemCode:"Tebus Kod"},cP={subscribeNow:"Langgan Sekarang",upgradePlan:"Naik Taraf Pelan",renewSubscription:"Perbaharui Langganan",currentPlan:"Pelan Semasa",currentPlanHigher:"Pelan Semasa Lebih Tinggi",renewExtend:"Perbaharui / Lanjutkan",continuePayment:"Teruskan Pembayaran",refreshStatus:"Muat Semula Status",cancel:"Batal",viewReceipt:"Lihat Resit"},dP={title:"Pembayaran Dalam Proses",expiresIn:"Tamat dalam {{time}}",sessionEnded:"Sesi pembayaran telah tamat. Sila buat pembayaran baru."},uP={title:"Sejarah Transaksi",noTransactions:"Tiada transaksi dijumpai",discount:"-RM{{amount}} diskaun",filters:{all:"Semua",pending:"Tertunda",paid:"Dibayar",expired:"Tamat Tempoh",cancelled:"Dibatalkan"}},AP={title:"Tebus Kod",description:"Masukkan kod pengaktifan atau baucar diskaun anda di bawah.",placeholder:"MASUKKAN KOD DI SINI",checkCode:"Semak Kod",validating:"Mengesahkan...",applied:"Baucar Digunakan"},hP={title:"Pengaktifan Premium",code:"Kod: {{code}}",youWillReceive:"Anda akan menerima:",daysPrefix:"{{days}} Hari Premium",lifetime:"Seumur Hidup",activateNow:"Aktifkan Sekarang",activating:"Mengaktifkan...",useDifferentCode:"Gunakan kod lain"},fP={percentOff:"{{percent}}% Diskaun",amountOff:"RM{{amount}} Potongan",selectPlan:"Pilih Pelan",confirmPay:"Sahkan & Bayar",refreshPrice:"Muat Semula Harga",calculatingDiscount:"Mengira diskaun..."},pP={planPrice:"Harga Pelan ({{planName}})",subtotal:"Subjumlah",total:"Jumlah Keseluruhan",processing:"Memproses...",proceedToPayment:"Teruskan ke Pembayaran"},mP={pending:"Tertunda",paid:"Dibayar",active:"Aktif",cancelled:"Dibatalkan",expired:"Tamat Tempoh",refunded:"Dikembalikan",failed:"Gagal"},gP={paymentSuccess:" Pembayaran berjaya! Keahlian premium anda telah dikemas kini.",membershipActivated:" Keahlian premium diaktifkan dengan jayanya!",planActive:" Pembayaran disahkan! Pelan anda kini aktif.",activatedWithVoucher:" Keahlian premium diaktifkan dengan baucar!"},xP={enterVoucherCode:"Sila masukkan kod baucar",invalidVoucher:"Kod baucar tidak sah",validateVoucherFailed:"Gagal mengesahkan baucar",selectPlan:"Sila pilih pelan.",paymentFailed:"Pembayaran gagal",continueFailed:"Gagal meneruskan pembayaran"},bP={plans:aP,features:iP,subscription:oP,tabs:lP,actions:cP,pending:dP,transactions:uP,voucher:AP,activation:hP,discount:fP,pricing:pP,status:mP,messages:gP,errors:xP},vP={title:"GogoTrip",subtitle:"Langganan Premium"},yP={orderInfo:"Maklumat Pesanan",subscriptionDetails:"Butiran Langganan"},wP={customerName:"Nama Pelanggan",email:"E-mel",orderReference:"Rujukan Pesanan",orderDate:"Tarikh Pesanan",validFrom:"Sah Dari",validUntil:"Sah Sehingga",lifetime:"Seumur Hidup"},jP={subtotal:"Subjumlah",tax:"Cukai (0%)",total:"Jumlah"},NP={thankYou:"Terima kasih kerana memilih GogoTrip Premium!",support:"Untuk soalan atau sokongan, sila hubungi kami di support@gogotrip.com"},kP={paymentSuccessful:"Pembayaran Berjaya",paymentPending:"Pembayaran Tertunda",paymentFailed:"Pembayaran Gagal",paymentCancelled:"Pembayaran Dibatalkan"},CP={backToBilling:"Kembali ke Pengebilan",refreshStatus:"Muat Semula Status",print:"Cetak",downloadPdf:"Muat Turun PDF",verifying:"Mengesahkan..."},BP={downloadSuccess:"Resit berjaya dimuat turun!",downloadFailed:"Gagal memuat turun PDF"},SP={orderNotFound:"ID pesanan tidak dijumpai",loadFailed:"Gagal memuatkan pesanan",networkError:"Ralat rangkaian berlaku",error:"Ralat"},EP={filename:"GogoTrip_Resit_{{orderRef}}.pdf"},TP={header:vP,sections:yP,fields:wP,pricing:jP,footer:NP,status:kP,actions:CP,messages:BP,errors:SP,pdf:EP},LP=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"zh",name:"Chinese",nativeName:"",flag:""},{code:"ms",name:"Malay",nativeName:"Bahasa Melayu",flag:""}],FP={en:{common:PF,settings:WF,chat:kU,nav:LU,auth:RU,dashboard:nM,billing:bM,receipt:TM},zh:{common:uO,settings:yO,chat:ZO,nav:n8,auth:A8,dashboard:L8,billing:K8,receipt:rI},ms:{common:PI,settings:WI,chat:kD,nav:LD,auth:RD,dashboard:nP,billing:bP,receipt:TP}},uy="gogotrip_language";fc.use(V5).use(S6).init({resources:FP,fallbackLng:"en",supportedLngs:["en","zh","ms"],defaultNS:"common",ns:["common","settings","chat","nav","auth","dashboard","billing","receipt"],detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:uy},react:{useSuspense:!1},initImmediate:!0,interpolation:{escapeValue:!1},debug:!1});const lx=async s=>{await fc.changeLanguage(s),localStorage.setItem(uy,s)},K5=()=>{const s=fc.language;if(["en","zh","ms"].includes(s))return s;const e=s.split("-")[0];return["en","zh","ms"].includes(e)?e:"en"},fv=s=>{s&&["en","zh","ms"].includes(s)&&lx(s)},UP=[{id:"relaxed",icon:E0},{id:"energetic",icon:oo},{id:"romantic",icon:bf},{id:"family",icon:Md}],MP=[{id:"solo"},{id:"couple"},{id:"family"},{id:"friends"}],OP=[{id:"car",icon:l5},{id:"public",icon:So},{id:"walk",icon:s3}],IP=[{id:"low"},{id:"medium"},{id:"high"},{id:"luxury"}],DP=["halal","vegetarian","vegan","noBeef","noPork","glutenFree"],PP=[{id:"1day"},{id:"2days"},{id:"3days"},{id:"5days"},{id:"7days"},{id:"custom"}],RP=({isOpen:s,onClose:e,onComplete:r})=>{const{t:n}=To("chat"),[a,l]=W.useState(1),[u,d]=W.useState(""),[A,o]=W.useState({destination:"",days:"",mood:"",companions:"",budget:"medium",transport:"",dietary:[]});if(!s)return null;const f=()=>{if(a<4)l(a+1);else{const m=A.days==="custom"?{...A,days:`${u}days`}:A;r(m)}},p=m=>{o(x=>({...x,dietary:x.dietary.includes(m)?x.dietary.filter(b=>b!==m):[...x.dietary,m]}))};return t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-200 dark:border-slate-800 flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/50",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:n("tripWizard.title")}),t.jsx("p",{className:"text-xs text-slate-500",children:n("tripWizard.stepIndicator",{current:a,total:4})})]}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[a===1&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(So,{className:"w-4 h-4"})," ",n("tripWizard.destination")]}),t.jsx("input",{type:"text",value:A.destination,onChange:m=>o({...A,destination:m.target.value}),placeholder:n("tripWizard.destinationPlaceholder"),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:n("tripWizard.duration")}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:PP.map(m=>t.jsx("button",{onClick:()=>{o({...A,days:m.id}),m.id!=="custom"&&d("")},className:`p-3 rounded-xl border transition-all text-sm font-medium ${A.days===m.id?"border-sky-500 bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 ring-1 ring-sky-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:n(`tripWizard.durationOptions.${m.id}`)},m.id))}),A.days==="custom"&&t.jsx("input",{type:"number",min:"1",max:"7",value:u,onChange:m=>d(m.target.value),placeholder:n("tripWizard.customDaysPlaceholder")||"Enter number of days (max 7)",className:"w-full px-4 py-3 rounded-xl border border-sky-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all"})]})]}),a===2&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:n("tripWizard.mood")}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:UP.map(m=>t.jsxs("button",{onClick:()=>o({...A,mood:m.id}),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border transition-all ${A.mood===m.id?"border-sky-500 bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 ring-1 ring-sky-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(m.icon,{className:"w-6 h-6"}),t.jsx("span",{className:"text-sm font-medium",children:n(`tripWizard.moodOptions.${m.id}`)})]},m.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:n("tripWizard.companions")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:MP.map(m=>t.jsx("button",{onClick:()=>o({...A,companions:m.id}),className:`px-4 py-2 rounded-full text-sm font-medium border transition-all ${A.companions===m.id?"bg-slate-900 text-white dark:bg-white dark:text-slate-900 border-transparent":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-100"}`,children:n(`tripWizard.companionOptions.${m.id}`)},m.id))})]})]}),a===3&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Cf,{className:"w-4 h-4"})," ",n("tripWizard.budget")]}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:IP.map(m=>t.jsx("button",{onClick:()=>o({...A,budget:m.id}),className:`flex items-center justify-between p-3 rounded-xl border transition-all ${A.budget===m.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 ring-1 ring-emerald-500":"border-slate-200 dark:border-slate-700"}`,children:t.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:n(`tripWizard.budgetOptions.${m.id}`)})},m.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:n("tripWizard.transport")}),t.jsx("div",{className:"flex gap-2",children:OP.map(m=>t.jsxs("button",{onClick:()=>o({...A,transport:m.id}),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${A.transport===m.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(m.icon,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs font-medium",children:n(`tripWizard.transportOptions.${m.id}`)})]},m.id))})]})]}),a===4&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Fd,{className:"w-4 h-4"})," ",n("tripWizard.dietary")]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:DP.map(m=>t.jsx("button",{onClick:()=>p(m),className:`px-3 py-1.5 rounded-lg text-sm font-medium border transition-all ${A.dietary.includes(m)?"bg-rose-100 text-rose-700 border-rose-200 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:n(`tripWizard.dietaryOptions.${m}`)},m))})]}),t.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800 text-sm text-slate-600 dark:text-slate-400",children:t.jsx("p",{children:n("tripWizard.readyPrompt")})})]})]}),t.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900",children:t.jsx("button",{onClick:f,disabled:a===1&&(!A.destination||!A.days||A.days==="custom"&&!u)||a===2&&(!A.mood||!A.companions),className:"w-full py-3 bg-gradient-to-r from-sky-500 to-blue-600 text-white font-bold rounded-xl shadow-lg shadow-sky-500/20 hover:shadow-sky-500/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a===4?t.jsxs(t.Fragment,{children:[t.jsx(oo,{className:"w-5 h-5"})," ",n("tripWizard.generatePlan")]}):t.jsxs(t.Fragment,{children:[n("tripWizard.nextStep")," ",t.jsx(IA,{className:"w-5 h-5"})]})})})]})})},QP=[{id:"local",icon:""},{id:"chinese",icon:""},{id:"japanese",icon:""},{id:"korean",icon:""},{id:"western",icon:""},{id:"indian",icon:""},{id:"thai",icon:""},{id:"malay",icon:""}],_P=[{id:"quick",icon:Vi},{id:"casual",icon:E0},{id:"romantic",icon:bf},{id:"group",icon:Md}],HP=[{id:"breakfast",icon:""},{id:"lunch",icon:""},{id:"dinner",icon:""},{id:"supper",icon:""},{id:"cafe",icon:""}],zP=[{id:"low",icon:"$"},{id:"medium",icon:"$$"},{id:"high",icon:"$$$"},{id:"luxury",icon:"$$$$"}],$P=[{id:"halal",icon:""},{id:"vegetarian",icon:""},{id:"vegan",icon:""},{id:"noPork",icon:""},{id:"noBeef",icon:""},{id:"glutenFree",icon:""}],VP=[{id:"nearby",value:"1"},{id:"short",value:"5"},{id:"any",value:"15"}],KP=({isOpen:s,onClose:e,onComplete:r,userLocation:n})=>{const{t:a}=To("chat"),[l,u]=W.useState(1),[d,A]=W.useState({cuisine:[],mood:"",budget:"medium",dietary:[],mealType:"",distance:"5"});if(!s)return null;const o=()=>{l<3?u(l+1):r(d)},f=x=>{A(b=>({...b,cuisine:b.cuisine.includes(x)?b.cuisine.filter(w=>w!==x):[...b.cuisine,x]}))},p=x=>{A(b=>({...b,dietary:b.dietary.includes(x)?b.dietary.filter(w=>w!==x):[...b.dietary,x]}))},m=()=>l===1?d.mealType&&d.mood:!0;return t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-200 dark:border-slate-800 flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl shadow-lg shadow-orange-500/20",children:t.jsx(Fd,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a("foodWizard.title")}),t.jsx("p",{className:"text-xs text-slate-500",children:a("foodWizard.stepIndicator",{current:l,total:3})})]})]}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-white/50 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[l===1&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4 text-orange-500"})," ",a("foodWizard.mealType")]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:HP.map(x=>t.jsxs("button",{onClick:()=>A({...d,mealType:x.id}),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${d.mealType===x.id?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx("span",{className:"text-lg",children:x.icon}),t.jsx("span",{className:"text-sm font-medium",children:a(`foodWizard.mealOptions.${x.id}`)})]},x.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:a("foodWizard.vibe")}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:_P.map(x=>t.jsxs("button",{onClick:()=>A({...d,mood:x.id}),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border transition-all ${d.mood===x.id?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(x.icon,{className:"w-6 h-6"}),t.jsx("span",{className:"text-sm font-bold",children:a(`foodWizard.vibeOptions.${x.id}`)})]},x.id))})]})]}),l===2&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Cf,{className:"w-4 h-4 text-emerald-500"})," ",a("tripWizard.budget")]}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:zP.map(x=>t.jsxs("button",{onClick:()=>A({...d,budget:x.id}),className:`flex items-center justify-between p-3 rounded-xl border transition-all ${d.budget===x.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 ring-1 ring-emerald-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white block",children:a(`tripWizard.budgetOptions.${x.id}`)}),t.jsx("span",{className:"text-[10px] text-slate-500",children:a(`foodWizard.budgetDescriptions.${x.id}`)})]}),t.jsx("span",{className:"text-lg font-bold text-emerald-600",children:x.icon})]},x.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(U3,{className:"w-4 h-4 text-green-500"})," ",a("tripWizard.dietary")]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:$P.map(x=>t.jsxs("button",{onClick:()=>p(x.id),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium border transition-all ${d.dietary.includes(x.id)?"bg-green-100 text-green-700 border-green-300 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{children:x.icon}),t.jsx("span",{children:a(`foodWizard.dietaryOptions.${x.id}`)})]},x.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(So,{className:"w-4 h-4 text-blue-500"})," ",a("recommendations.distance")]}),t.jsx("div",{className:"flex gap-2",children:VP.map(x=>t.jsx("button",{onClick:()=>A({...d,distance:x.value}),className:`flex-1 py-2.5 px-3 rounded-xl text-sm font-medium border transition-all ${d.distance===x.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:a(`foodWizard.distanceOptions.${x.id}`)},x.id))})]})]}),l===3&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Fd,{className:"w-4 h-4 text-orange-500"})," ",a("foodWizard.cravingPrompt")]}),t.jsx("p",{className:"text-xs text-slate-500",children:a("foodWizard.cravingDesc")}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:QP.map(x=>t.jsxs("button",{onClick:()=>f(x.id),className:`flex flex-col items-center gap-1 p-3 rounded-xl border transition-all ${d.cuisine.includes(x.id)?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{className:"text-2xl",children:x.icon}),t.jsx("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:a(`foodWizard.cuisineOptions.${x.id}`)})]},x.id))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 p-4 rounded-xl border border-orange-100 dark:border-orange-800/30",children:[t.jsxs("h4",{className:"text-sm font-bold text-orange-800 dark:text-orange-300 mb-2 flex items-center gap-2",children:[t.jsx(oo,{className:"w-4 h-4"})," ",a("foodWizard.readyTitle")]}),t.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-400 space-y-1",children:[t.jsxs("p",{children:[" ",a(`foodWizard.mealOptions.${d.mealType}`),"  ",a(`foodWizard.vibeOptions.${d.mood}`)]}),t.jsxs("p",{children:[" ",a("tripWizard.budget"),": ",a(`foodWizard.budgetDescriptions.${d.budget}`)]}),d.dietary.length>0&&t.jsxs("p",{children:[" ",a("tripWizard.dietary"),": ",d.dietary.map(x=>a(`foodWizard.dietaryOptions.${x}`)).join(", ")]}),d.cuisine.length>0&&t.jsxs("p",{children:[" ",a("foodWizard.cuisine"),": ",d.cuisine.map(x=>a(`foodWizard.cuisineOptions.${x}`)).join(", ")]})]})]})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex gap-3",children:[l>1&&t.jsx("button",{onClick:()=>u(l-1),className:"px-4 py-3 text-slate-600 dark:text-slate-400 font-medium rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:"Back"}),t.jsx("button",{onClick:o,disabled:!m(),className:"flex-1 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold rounded-xl shadow-lg shadow-orange-500/20 hover:shadow-orange-500/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l===3?t.jsxs(t.Fragment,{children:[t.jsx(oo,{className:"w-5 h-5"})," ",a("foodWizard.findFood")]}):t.jsxs(t.Fragment,{children:[a("foodWizard.next")," ",t.jsx(IA,{className:"w-5 h-5"})]})})]})]})})},GP=s=>s.place_id?`${It}/proxy_image?place_id=${s.place_id}`:s.google_place_id?`${It}/proxy_image?google_place_id=${encodeURIComponent(s.google_place_id)}`:s.photo_reference&&s.photo_reference!=="N/A"?`${It}/proxy_image?ref=${encodeURIComponent(s.photo_reference)}`:s.name?`${It}/proxy_image?name=${encodeURIComponent(s.name)}`:`${It}/proxy_image/default`,WP=({place:s,onAddToItinerary:e,onViewDetails:r,compact:n=!1})=>{const[a,l]=W.useState(!1),u=GP(s),d=()=>{},A=f=>f?typeof f=="string"?f:"$".repeat(Math.min(f,4)):null,o=f=>{f.stopPropagation(),l(!a)};return n?t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 hover:shadow-md transition-all cursor-pointer group",onClick:()=>r==null?void 0:r(s),children:[t.jsx("img",{src:u,onError:d,alt:s.name,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm truncate",children:s.name}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-0.5",children:[s.rating&&t.jsxs("span",{className:"flex items-center gap-0.5",children:[t.jsx(tA,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),s.rating.toFixed(1)]}),A(s.price_level)&&t.jsx("span",{className:"text-emerald-600 font-bold",children:A(s.price_level)}),s.distance&&t.jsx("span",{children:s.distance})]})]}),e&&t.jsx("button",{onClick:f=>{f.stopPropagation(),e(s)},className:"p-2 text-slate-400 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx($i,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 overflow-hidden shadow-sm hover:shadow-xl transition-all group",children:[t.jsxs("div",{className:"relative h-40 overflow-hidden",children:[t.jsx("img",{src:u,onError:d,alt:s.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[s.is_open_now!==void 0&&t.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-bold uppercase ${s.is_open_now?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:s.is_open_now?"Open":"Closed"}),s.cuisine_type&&t.jsx("span",{className:"px-2 py-1 rounded-lg text-[10px] font-bold uppercase bg-white/90 text-slate-700",children:s.cuisine_type})]}),t.jsx("button",{onClick:o,className:`absolute top-3 right-3 p-2 rounded-full transition-all ${a?"bg-rose-500 text-white":"bg-white/90 text-slate-600 hover:bg-rose-500 hover:text-white"}`,children:t.jsx(bf,{className:`w-4 h-4 ${a?"fill-current":""}`})}),t.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:s.rating&&t.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-white/95 rounded-lg text-xs font-bold text-slate-800",children:[t.jsx(tA,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),s.rating.toFixed(1),s.review_count&&t.jsxs("span",{className:"text-slate-400 font-normal",children:["(",s.review_count,")"]})]})}),A(s.price_level)&&t.jsx("span",{className:"px-2 py-1 bg-emerald-500 text-white rounded-lg text-xs font-bold",children:A(s.price_level)})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white mb-1 line-clamp-1",children:s.name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-start gap-1 mb-3 line-clamp-2",children:[t.jsx(So,{className:"w-3.5 h-3.5 flex-shrink-0 mt-0.5"}),s.address]}),s.dietary_tags&&s.dietary_tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:s.dietary_tags.map((f,p)=>t.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded text-[10px] font-bold",children:f},p))}),s.description&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-3 line-clamp-2",children:s.description}),t.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-100 dark:border-slate-700",children:[s.google_place_id&&t.jsxs("a",{href:`https://www.google.com/maps/place/?q=place_id:${s.google_place_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-sky-600 dark:hover:text-sky-400 hover:bg-sky-50 dark:hover:bg-sky-900/20 rounded-lg transition-colors",children:[t.jsx(h5,{className:"w-4 h-4"}),"Directions"]}),e&&t.jsxs("button",{onClick:()=>e(s),className:"flex-1 flex items-center justify-center gap-1 py-2 text-sm font-bold text-white bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 rounded-lg transition-all",children:[t.jsx($i,{className:"w-4 h-4"}),"Add to Plan"]})]})]})]})},YP=({places:s,onAddToItinerary:e,title:r="Food Recommendations",loading:n=!1})=>{const[a,l]=W.useState(0),u=Lc.useRef(null),d=A=>{if(!u.current)return;const o=296,f=A==="left"?Math.max(0,a-1):Math.min(s.length-1,a+1);l(f),u.current.scrollTo({left:f*o,behavior:"smooth"})};return n?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Fd,{className:"w-5 h-5 text-orange-500"}),r]}),t.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3].map(A=>t.jsxs("div",{className:"w-[280px] flex-shrink-0 bg-slate-100 dark:bg-slate-800 rounded-2xl animate-pulse",children:[t.jsx("div",{className:"h-40 bg-slate-200 dark:bg-slate-700 rounded-t-2xl"}),t.jsxs("div",{className:"p-4 space-y-3",children:[t.jsx("div",{className:"h-5 bg-slate-200 dark:bg-slate-700 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),t.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2"})]})]},A))})]}):!s||s.length===0?t.jsxs("div",{className:"text-center py-8 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[t.jsx(Fd,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No food recommendations found"}),t.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:"Try adjusting your preferences"})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Fd,{className:"w-5 h-5 text-orange-500"}),r,t.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",s.length," found)"]})]}),s.length>2&&t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>d("left"),disabled:a===0,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Rh,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>d("right"),disabled:a>=s.length-2,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(hc,{className:"w-5 h-5"})})]})]}),t.jsx("div",{ref:u,className:"flex gap-4 overflow-x-auto pb-4 scroll-smooth [&::-webkit-scrollbar]:hidden",children:s.map((A,o)=>t.jsx("div",{className:"w-[280px] flex-shrink-0",children:t.jsx(WP,{place:A,onAddToItinerary:e})},A.id||o))})]})},XP=(s,e,r)=>{if(e)return`${It}/proxy_image?place_id=${e}`;if(r)return`${It}/proxy_image?name=${encodeURIComponent(r)}`;if(s&&!s.includes("unsplash.com")&&(s.includes("photo_reference")||s.includes("AF1Qip")||s.includes("photos/"))){const n=s.includes("photos/")?s.split("photos/").pop():s;if(n)return`${It}/proxy_image?ref=${encodeURIComponent(n)}`}return`${It}/proxy_image/default`},JP=({type:s,className:e="w-4 h-4"})=>{switch(s){case"food":return t.jsx(Fd,{className:e});case"attraction":return t.jsx(Xg,{className:e});case"cafe":return t.jsx(E0,{className:e});case"hotel":return t.jsx(Zg,{className:e});case"shopping":return t.jsx(sx,{className:e});case"transport":return t.jsx(Yg,{className:e});default:return t.jsx(So,{className:e})}},ZP=({slot:s})=>{const{t:e}=To("chat"),r={morning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",lunch:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",afternoon:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400",evening:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400",night:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${r[s]||r.morning}`,children:e(`dailyPlan.${s}`)||s})},qP=({activity:s,onSave:e,onCancel:r,onDelete:n})=>{const{t:a}=To("chat"),[l,u]=W.useState({...s}),d=[{value:"morning",label:a("dailyPlan.morning")},{value:"lunch",label:a("dailyPlan.lunch")},{value:"afternoon",label:a("dailyPlan.afternoon")},{value:"evening",label:a("dailyPlan.evening")},{value:"night",label:a("dailyPlan.night")}],A=[{value:"attraction",label:a("dailyPlan.activityTypes.attraction")},{value:"food",label:a("dailyPlan.activityTypes.food")},{value:"cafe",label:a("dailyPlan.activityTypes.cafe")},{value:"hotel",label:a("dailyPlan.activityTypes.hotel")},{value:"shopping",label:a("dailyPlan.activityTypes.shopping")},{value:"transport",label:a("dailyPlan.activityTypes.transport")}];return t.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a("dailyPlan.editActivity")}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.startTime")}),t.jsx("input",{type:"time",value:l.start_time,onChange:o=>u({...l,start_time:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.endTime")}),t.jsx("input",{type:"time",value:l.end_time,onChange:o=>u({...l,end_time:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.timeSlot")}),t.jsx("select",{value:l.time_slot,onChange:o=>u({...l,time_slot:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",children:d.map(o=>t.jsx("option",{value:o.value,children:o.label},o.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.type")}),t.jsx("select",{value:l.activity_type,onChange:o=>u({...l,activity_type:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",children:A.map(o=>t.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.placeName")}),t.jsx("input",{type:"text",value:l.place_name,onChange:o=>u({...l,place_name:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:a("dailyPlan.placeNamePlaceholder")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.address")}),t.jsx("input",{type:"text",value:l.place_address,onChange:o=>u({...l,place_address:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:a("dailyPlan.addressPlaceholder")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.description")}),t.jsx("textarea",{value:l.description,onChange:o=>u({...l,description:o.target.value}),rows:3,className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none resize-none",placeholder:a("dailyPlan.descriptionPlaceholder")})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.budget")}),t.jsx("input",{type:"text",value:l.budget_estimate,onChange:o=>u({...l,budget_estimate:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:a("dailyPlan.budgetPlaceholder")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.tips")}),t.jsx("input",{type:"text",value:l.tips||"",onChange:o=>u({...l,tips:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:a("dailyPlan.optional")})]})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl text-sm font-medium transition-colors",children:[t.jsx(Zo,{className:"w-4 h-4"}),a("dailyPlan.delete")]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl text-sm font-medium transition-colors",children:a("dailyPlan.cancel")}),t.jsxs("button",{onClick:()=>e(l),className:"flex items-center gap-2 px-5 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-xl text-sm font-bold transition-colors",children:[t.jsx(QA,{className:"w-4 h-4"}),a("dailyPlan.save")]})]})]})]})})},eR=({selectedCount:s,onSubmit:e,onCancel:r,isLoading:n})=>{const{t:a}=To("chat"),[l,u]=W.useState(""),d=[a("dailyPlan.aiSuggest1"),a("dailyPlan.aiSuggest2"),a("dailyPlan.aiSuggest3"),a("dailyPlan.aiSuggest4"),a("dailyPlan.aiSuggest5"),a("dailyPlan.aiSuggest6")];return t.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl",children:t.jsx(sv,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a("dailyPlan.aiEditTitle")}),t.jsx("p",{className:"text-xs text-slate-500",children:a("dailyPlan.selectedCount",{count:s})})]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:a("dailyPlan.aiInstructionLabel")}),t.jsx("textarea",{value:l,onChange:A=>u(A.target.value),placeholder:a("dailyPlan.aiInstructionPlaceholder"),rows:4,className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none resize-none",disabled:n})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:a("dailyPlan.quickSuggestions")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((A,o)=>t.jsx("button",{onClick:()=>u(A),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 text-xs rounded-full hover:bg-purple-100 dark:hover:bg-purple-900/30 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",disabled:n,children:A},o))})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-800 flex justify-end gap-3",children:[t.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl text-sm font-medium transition-colors",disabled:n,children:a("dailyPlan.cancel")}),t.jsx("button",{onClick:()=>e(l),disabled:!l.trim()||n,className:"flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-xl text-sm font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a("dailyPlan.processing")]}):t.jsxs(t.Fragment,{children:[t.jsx(sv,{className:"w-4 h-4"}),a("dailyPlan.startEdit")]})})]})]})})},tR=({plan:s,onClose:e,onSave:r,onEditActivity:n})=>{const{t:a}=To("chat"),[l,u]=W.useState(s),[d,A]=W.useState(0),[o,f]=W.useState(null),[p,m]=W.useState(!1),[x,b]=W.useState(!1),[w,y]=W.useState(new Set),[E,P]=W.useState(!1),[z,X]=W.useState(!1),Y=l.days[d],Q=()=>A(re=>Math.max(0,re-1)),K=()=>A(re=>Math.min(l.days.length-1,re+1)),de=re=>{re.currentTarget.src=`${It}/proxy_image/default`},ue=(re,Ee,De)=>{f({dayIdx:re,actIdx:Ee,activity:De})},ve=re=>{if(!o)return;const Ee={...l};Ee.days=[...l.days],Ee.days[o.dayIdx]={...l.days[o.dayIdx]},Ee.days[o.dayIdx].activities=[...l.days[o.dayIdx].activities],Ee.days[o.dayIdx].activities[o.actIdx]=re,Ee.days[o.dayIdx].day_summary={...Ee.days[o.dayIdx].day_summary,total_activities:Ee.days[o.dayIdx].activities.length},u(Ee),m(!0),f(null),n(o.dayIdx,o.actIdx,re)},le=()=>{if(!o)return;const re={...l};re.days=[...l.days],re.days[o.dayIdx]={...l.days[o.dayIdx]},re.days[o.dayIdx].activities=l.days[o.dayIdx].activities.filter((Ee,De)=>De!==o.actIdx),re.days[o.dayIdx].day_summary={...re.days[o.dayIdx].day_summary,total_activities:re.days[o.dayIdx].activities.length},u(re),m(!0),f(null)},Ce=()=>{f(null)},oe=()=>{x&&y(new Set),b(!x)},Ne=(re,Ee)=>{const De=`${re}-${Ee}`,Se=new Set(w);Se.has(De)?Se.delete(De):Se.add(De),y(Se)},Ae=(re,Ee)=>w.has(`${re}-${Ee}`),se=()=>{const re=[];return w.forEach(Ee=>{const[De,Se]=Ee.split("-"),he=parseInt(De),be=parseInt(Se);l.days[he]&&l.days[he].activities[be]&&re.push({dayIdx:he,actIdx:be,activity:l.days[he].activities[be]})}),re},pe=async re=>{const Ee=se();if(Ee.length!==0){X(!0);try{const De=await fetch(`${It}/api/ai/edit-activities`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({activities:Ee.map(he=>({day_index:he.dayIdx,activity_index:he.actIdx,activity:he.activity})),instructions:re,plan_context:{title:l.title,destination:l.title,preferences:l.user_preferences_applied}})});if(!De.ok)throw new Error("AI edit request failed");const Se=await De.json();if(Se.success&&Se.updated_activities){const he={...l};he.days=l.days.map((be,fe)=>({...be,activities:be.activities.map((te,ge)=>{const Ue=Se.updated_activities.find(Ve=>Ve.day_index===fe&&Ve.activity_index===ge);return Ue?Ue.activity:te})})),u(he),m(!0),b(!1),y(new Set)}}catch(De){console.error("AI Edit failed:",De),alert(a("errors.aiEditFailed"))}finally{X(!1),P(!1)}}};return t.jsxs("div",{className:"fixed inset-0 z-[70] bg-white dark:bg-slate-900 flex flex-col overflow-hidden animate-in fade-in duration-200",children:[t.jsx("div",{className:"shrink-0 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:l.title}),t.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2",children:[t.jsx("span",{children:l.duration}),t.jsx("span",{children:""}),t.jsx("span",{children:l.total_budget_estimate})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:oe,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${x?"bg-purple-500 text-white shadow-lg shadow-purple-500/20":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-purple-100 dark:hover:bg-purple-900/30 hover:text-purple-600 dark:hover:text-purple-400"}`,children:[t.jsx(sv,{className:"w-4 h-4"}),a(x?"dailyPlan.cancelSelect":"dailyPlan.aiEdit")]}),x&&w.size>0&&t.jsxs("button",{onClick:()=>P(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-bold text-sm shadow-lg shadow-purple-500/20 hover:from-purple-600 hover:to-pink-600 transition-all animate-in slide-in-from-right-2",children:[t.jsx(oo,{className:"w-4 h-4"}),a("dailyPlan.editSelected",{count:w.size})]}),t.jsxs("button",{onClick:()=>r(l),className:`flex items-center gap-2 px-5 py-2.5 text-white font-bold rounded-xl shadow-lg transition-all active:scale-95 ${p?"bg-emerald-500 hover:bg-emerald-600 shadow-emerald-500/20":"bg-sky-500 hover:bg-sky-600 shadow-sky-500/20"}`,children:[p?t.jsx(QA,{className:"w-4 h-4"}):t.jsx(Jg,{className:"w-4 h-4"}),a(p?"dailyPlan.saveChanges":"dailyPlan.savePlan")]})]})]})}),t.jsx("div",{className:"shrink-0 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Q,disabled:d===0,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Rh,{className:"w-5 h-5"})}),t.jsx("div",{className:"flex-1 flex gap-2 overflow-x-auto py-1 [&::-webkit-scrollbar]:hidden",children:l.days.map((re,Ee)=>t.jsx("button",{onClick:()=>A(Ee),className:`shrink-0 px-4 py-2 rounded-xl font-medium text-sm transition-all ${d===Ee?"bg-sky-500 text-white shadow-md shadow-sky-500/20":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-sky-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("span",{className:"font-bold",children:a("dailyPlan.day",{number:re.day_number})}),t.jsx("span",{className:"text-[10px] opacity-75",children:re.theme})]})},re.day_number))}),t.jsx("button",{onClick:K,disabled:d===l.days.length-1,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(hc,{className:"w-5 h-5"})})]})})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-8",children:[Y.top_locations&&Y.top_locations.length>0&&t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(oo,{className:"w-4 h-4"})," ",a("dailyPlan.highlights")]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.top_locations.map((re,Ee)=>t.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden group cursor-pointer shadow-lg",children:[t.jsx("img",{src:XP(re.image_url,re.place_id,re.name),onError:de,alt:re.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:re.name}),t.jsx("p",{className:"text-white/80 text-xs",children:re.highlight_reason})]})]},Ee))})]}),t.jsx("section",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-5 border border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-wrap gap-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-900/30 rounded-lg",children:t.jsx(Co,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:a("dailyPlan.totalActivities")}),t.jsxs("p",{className:"font-bold text-slate-900 dark:text-white",children:[Y.day_summary.total_activities," ",a("dailyPlan.items")]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:t.jsx(Cf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:a("dailyPlan.estimatedCost")}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:Y.day_summary.total_budget})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:t.jsx(Yg,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:a("dailyPlan.transportTips")}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:Y.day_summary.transport_notes})]})]})]})}),t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4"})," ",a("dailyPlan.itineraryDetails")]}),t.jsx("div",{className:"space-y-4",children:Y.activities.map((re,Ee)=>t.jsxs("div",{className:"relative pl-8 group",children:[Ee<Y.activities.length-1&&t.jsx("div",{className:"absolute left-[11px] top-10 bottom-0 w-0.5 bg-slate-200 dark:bg-slate-700"}),t.jsx("div",{className:`absolute left-0 top-2 w-6 h-6 rounded-full flex items-center justify-center shadow-md ${re.activity_type==="food"?"bg-orange-500":re.activity_type==="attraction"?"bg-sky-500":re.activity_type==="cafe"?"bg-amber-500":"bg-slate-500"}`,children:t.jsx(JP,{type:re.activity_type,className:"w-3 h-3 text-white"})}),t.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border p-5 shadow-sm hover:shadow-lg transition-all cursor-pointer ${x&&Ae(d,Ee)?"border-purple-400 dark:border-purple-500 ring-2 ring-purple-400/30":"border-slate-100 dark:border-slate-700"}`,onClick:()=>x&&Ne(d,Ee),children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[x&&t.jsx("button",{onClick:De=>{De.stopPropagation(),Ne(d,Ee)},className:`p-1 rounded-md transition-all ${Ae(d,Ee)?"bg-purple-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:Ae(d,Ee)?t.jsx(Xo,{className:"w-4 h-4"}):t.jsx(YE,{className:"w-4 h-4"})}),t.jsx(ZP,{slot:re.time_slot}),t.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[re.start_time," - ",re.end_time]})]}),!x&&t.jsx("button",{onClick:()=>ue(d,Ee,re),className:"p-1.5 text-slate-300 hover:text-sky-500 hover:bg-sky-50 dark:hover:bg-sky-900/30 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(p5,{className:"w-4 h-4"})})]}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:re.place_name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-1 mb-3",children:[t.jsx(So,{className:"w-3 h-3"}),re.place_address]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed mb-4",children:re.description}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[t.jsx("span",{className:"px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 rounded-lg font-bold",children:re.budget_estimate}),re.dietary_info&&t.jsx("span",{className:"px-2 py-1 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-400 rounded-lg font-medium",children:re.dietary_info}),re.tips&&t.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[t.jsx(El,{className:"w-3 h-3"})," ",re.tips]})]})]})]},Ee))})]}),l.practical_info&&t.jsxs("section",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-2xl p-5 border border-amber-100 dark:border-amber-800/30",children:[t.jsxs("h2",{className:"text-sm font-bold text-amber-800 dark:text-amber-400 mb-3 flex items-center gap-2",children:[t.jsx(El,{className:"w-4 h-4"})," ",a("dailyPlan.practicalInfo")]}),t.jsxs("div",{className:"space-y-2 text-sm text-amber-700 dark:text-amber-300",children:[l.practical_info.best_transport&&t.jsxs("p",{children:[t.jsxs("strong",{children:[a("dailyPlan.transport"),":"]})," ",l.practical_info.best_transport]}),l.practical_info.weather_advisory&&t.jsxs("p",{children:[t.jsxs("strong",{children:[a("dailyPlan.weather"),":"]})," ",l.practical_info.weather_advisory]}),l.practical_info.booking_recommendations&&l.practical_info.booking_recommendations.length>0&&t.jsxs("div",{children:[t.jsxs("strong",{children:[a("dailyPlan.bookingAdvice"),":"]}),t.jsx("ul",{className:"list-disc list-inside mt-1",children:l.practical_info.booking_recommendations.map((re,Ee)=>t.jsx("li",{children:re},Ee))})]})]})]})]})}),o&&t.jsx(qP,{activity:o.activity,onSave:ve,onCancel:Ce,onDelete:le}),E&&t.jsx(eR,{selectedCount:w.size,onSubmit:pe,onCancel:()=>P(!1),isLoading:z})]})},sR=({suggestion:s,onClose:e,onSave:r,onUpdate:n,isSaved:a})=>{const{t:l}=To("chat"),[u,d]=W.useState(null),[A,o]=W.useState(null),f=(x,b)=>{d(x),o({...b})},p=()=>{if(u!==null&&s.itinerary){const x=[...s.itinerary];x[u]=A,n({...s,itinerary:x}),d(null)}},m=x=>{x.currentTarget.src=`${It}/proxy_image/default`};return t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-3xl shadow-xl shadow-slate-200/50 dark:shadow-slate-900/50 border border-slate-100 dark:border-slate-700/50 relative flex flex-col max-h-[85vh] overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"relative h-48 sm:h-64 shrink-0 group",children:[t.jsx("img",{src:s.imageUrl,onError:m,alt:s.title,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),t.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-black/30 hover:bg-black/50 text-white rounded-full backdrop-blur-md transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[t.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-2 drop-shadow-md",children:s.title}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.map(x=>t.jsx("span",{className:"px-2.5 py-1 rounded-lg bg-white/20 backdrop-blur-md text-white text-xs font-bold uppercase tracking-wider border border-white/10",children:x},x)),t.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-emerald-500/80 backdrop-blur-md text-white text-xs font-bold flex items-center gap-1 border border-white/10",children:[t.jsx("span",{className:"opacity-75",children:"Est."})," ",s.priceEstimate]})]})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8 space-y-8 custom-scrollbar bg-white dark:bg-slate-900",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[t.jsx(El,{className:"w-3 h-3"})," About"]}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-sm sm:text-base bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl border border-slate-100 dark:border-slate-800",children:s.description})]}),s.itinerary&&Array.isArray(s.itinerary)&&s.itinerary.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Co,{className:"w-3 h-3"})," Itinerary"]}),t.jsx("div",{className:"space-y-4",children:s.itinerary.map((x,b)=>{var w,y,E;return t.jsxs("div",{className:"relative pl-6 pb-2 border-l-2 border-slate-100 dark:border-slate-800 last:border-0 group/item",children:[t.jsx("div",{className:"absolute left-[-5px] top-0 w-2.5 h-2.5 rounded-full bg-sky-500 ring-4 ring-white dark:ring-slate-900"}),u===b?t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-4 border-2 border-sky-500 shadow-md shadow-sky-200/50 dark:shadow-sky-900/50 space-y-3",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{value:A.day_number,onChange:P=>o({...A,day_number:P.target.value}),className:"w-16 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-2 py-1 text-xs font-bold",placeholder:"Day"}),t.jsx("input",{value:A.start_time,onChange:P=>o({...A,start_time:P.target.value}),className:"w-20 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-2 py-1 text-xs font-bold",placeholder:"Time"})]}),t.jsx("input",{value:A.custom_title||((w=A.place)==null?void 0:w.name),onChange:P=>o({...A,custom_title:P.target.value}),className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm font-bold",placeholder:"Activity Title"}),t.jsx("textarea",{value:A.custom_notes,onChange:P=>o({...A,custom_notes:P.target.value}),className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm",placeholder:"Notes",rows:2}),t.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[t.jsx("button",{onClick:()=>d(null),className:"px-3 py-1.5 text-xs font-bold text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),t.jsx("button",{onClick:p,className:"px-3 py-1.5 text-xs font-bold bg-sky-500 text-white rounded-lg hover:bg-sky-600",children:"Save Changes"})]})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 border border-slate-100 dark:border-slate-700 hover:border-sky-200 dark:hover:border-sky-900 transition-all hover:shadow-md group relative",children:[t.jsx("button",{onClick:()=>f(b,x),className:"absolute top-2 right-2 p-1.5 text-slate-300 hover:text-sky-500 hover:bg-sky-50 dark:hover:bg-sky-900/30 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(tx,{className:"w-3.5 h-3.5"})}),t.jsx("div",{className:"flex items-start justify-between mb-1.5",children:t.jsxs("span",{className:"text-[10px] font-bold text-sky-600 dark:text-sky-400 bg-sky-50 dark:bg-sky-900/20 px-2 py-0.5 rounded uppercase tracking-wider",children:["Day ",x.day_number,"  ",x.start_time]})}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white mb-1 text-sm",children:x.custom_title||((y=x.place)==null?void 0:y.name)||"Activity"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2 leading-relaxed",children:x.custom_notes||((E=x.place)==null?void 0:E.address)})]})]},b)})})]}),s.reviews&&s.reviews.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(tA,{className:"w-3 h-3"})," Reviews"]}),t.jsx("div",{className:"space-y-3",children:s.reviews.slice(0,3).map((x,b)=>t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl text-sm border border-slate-100 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[t.jsx("div",{className:"flex text-amber-400",children:[...Array(5)].map((w,y)=>t.jsx(tA,{className:`w-3 h-3 ${y<Math.round(x.rating)?"fill-current":"opacity-30"}`},y))}),t.jsx("span",{className:"font-bold text-xs text-slate-700 dark:text-slate-300",children:x.rating})]}),t.jsxs("p",{className:"text-slate-600 dark:text-slate-400 italic text-xs leading-relaxed",children:['"',x.text,'"']})]},b))})]})]}),t.jsxs("div",{className:"p-5 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex gap-3",children:[t.jsx("button",{onClick:e,className:"px-6 py-3.5 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:l("modals.close")}),t.jsxs("button",{onClick:()=>r(s),className:`flex-1 py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg active:scale-[0.98] ${a?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800":"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-500 text-white shadow-sky-500/25"}`,children:[a?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(Jg,{className:"w-5 h-5"}),l(a?"modals.tripSaved":"modals.saveTrip")]})]})]})})},rR=Lc.memo(({suggestion:s,isSaved:e,onViewDetails:r,onToggleSave:n})=>t.jsxs("div",{className:"w-full md:w-auto md:min-w-[280px] md:max-w-[320px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl isolate transform-gpu flex-shrink-0 snap-start transition-all duration-300 ease-out cursor-pointer group hover:scale-105",children:[t.jsxs("div",{className:"h-36 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),t.jsx("div",{className:"absolute bottom-3 left-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight tracking-tight",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(a=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:a},a))}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Cost"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.priceEstimate})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:a=>{a.stopPropagation(),r(s)},className:"p-2 rounded-xl text-slate-400 hover:text-sky-600 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all",title:"View Details",children:t.jsx(El,{className:"w-4 h-4"})}),t.jsxs("button",{onClick:a=>{a.stopPropagation(),n(s)},className:`flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold transition-all ${e?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 text-white"}`,children:[e?t.jsx(uo,{className:"w-3.5 h-3.5"}):t.jsx(Jg,{className:"w-3.5 h-3.5"}),e?"Added":"Add"]})]})]})]})]})),nR=({suggestions:s,savedSuggestions:e,onViewDetails:r,onToggleSave:n})=>{const a=W.useRef(null),[l,u]=W.useState(0),d=()=>{var f;if(a.current){const p=a.current.scrollLeft,m=((f=a.current.firstElementChild)==null?void 0:f.clientWidth)||300;u(Math.round(p/m))}},A=()=>{var f;return(f=a.current)==null?void 0:f.scrollBy({left:-340,behavior:"smooth"})},o=()=>{var f;return(f=a.current)==null?void 0:f.scrollBy({left:340,behavior:"smooth"})};return t.jsxs("div",{className:"relative group/list",children:[t.jsxs("div",{className:"hidden md:block opacity-0 group-hover/list:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:A,className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-5 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-md shadow-slate-200/50 dark:shadow-slate-900/50 border border-slate-100 dark:border-slate-700/50",children:t.jsx(Rh,{className:"w-5 h-5"})}),t.jsx("button",{onClick:o,className:"absolute right-0 top-1/2 -translate-y-1/2 -mr-1 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-md shadow-slate-200/50 dark:shadow-slate-900/50 border border-slate-100 dark:border-slate-700/50",children:t.jsx(hc,{className:"w-5 h-5"})})]}),t.jsx("div",{ref:a,onScroll:d,className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:s.map(f=>t.jsx(rR,{suggestion:f,isSaved:e.includes(f.id),onViewDetails:r,onToggleSave:n},f.id))}),t.jsx("div",{className:"flex justify-center gap-1.5 mt-2",children:s.map((f,p)=>t.jsx("div",{className:`h-1.5 rounded-full transition-all ${p===l?"w-6 bg-sky-500":"w-1.5 bg-slate-200 dark:bg-slate-700"}`},p))})]})},aR=Lc.memo(({plan:s,onViewDetails:e,onSave:r,isSaved:n})=>{const{t:a}=To("chat"),l=()=>{var o,f,p;const A=(p=(f=(o=s.days)==null?void 0:o[0])==null?void 0:f.top_locations)==null?void 0:p[0];return A!=null&&A.place_id?`${It}/proxy_image?place_id=${A.place_id}`:A!=null&&A.name?`${It}/proxy_image?name=${encodeURIComponent(A.name)}`:`${It}/proxy_image/default`},u=A=>{A.currentTarget.src=`${It}/proxy_image/default`},d=s.days.reduce((A,o)=>{var f;return A+(((f=o.activities)==null?void 0:f.length)||0)},0);return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[320px] md:max-w-[380px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-100 dark:border-slate-700/50 rounded-3xl isolate transform-gpu flex-shrink-0 snap-start transition-all duration-300 ease-out cursor-pointer group hover:scale-[1.02] hover:shadow-xl hover:shadow-slate-300/50 dark:hover:shadow-slate-800/50 shadow-md shadow-slate-200/50 dark:shadow-slate-900/50",children:[t.jsxs("div",{className:"h-40 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:l(),onError:u,alt:s.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1 bg-sky-500/90 backdrop-blur-sm rounded-full text-white text-xs font-bold flex items-center gap-1.5",children:[t.jsx(Co,{className:"w-3 h-3"}),s.duration]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight tracking-tight drop-shadow-md",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.slice(0,4).map(A=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:A},A))}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Co,{className:"w-3.5 h-3.5"}),a("dailyPlan.days",{count:s.days.length})]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(So,{className:"w-3.5 h-3.5"}),a("dailyPlan.activities",{count:d})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:a("dailyPlan.estimatedSpend")}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.total_budget_estimate})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:A=>{A.stopPropagation(),e(s)},className:"flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 text-white transition-all",children:[t.jsx(El,{className:"w-3.5 h-3.5"}),a("dailyPlan.viewDetails")]}),t.jsx("button",{onClick:A=>{A.stopPropagation(),r(s)},className:`p-2 rounded-xl transition-all ${n?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-slate-100 dark:bg-slate-800 text-slate-400 hover:text-sky-600"}`,children:n?t.jsx(uo,{className:"w-4 h-4"}):t.jsx(Jg,{className:"w-4 h-4"})})]})]})]})]})}),iR=({plans:s,savedPlans:e,onViewDetails:r,onSave:n})=>{const a=W.useRef(null),l=()=>{var d;return(d=a.current)==null?void 0:d.scrollBy({left:-380,behavior:"smooth"})},u=()=>{var d;return(d=a.current)==null?void 0:d.scrollBy({left:380,behavior:"smooth"})};return t.jsxs("div",{className:"relative group/list",children:[s.length>1&&t.jsxs("div",{className:"hidden md:block opacity-0 group-hover/list:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:l,className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-5 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-md shadow-slate-200/50 dark:shadow-slate-900/50 border border-slate-100 dark:border-slate-700/50",children:t.jsx(Rh,{className:"w-5 h-5"})}),t.jsx("button",{onClick:u,className:"absolute right-0 top-1/2 -translate-y-1/2 -mr-1 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-md shadow-slate-200/50 dark:shadow-slate-900/50 border border-slate-100 dark:border-slate-700/50",children:t.jsx(hc,{className:"w-5 h-5"})})]}),t.jsx("div",{ref:a,className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:s.map((d,A)=>t.jsx(aR,{plan:d,isSaved:e.includes(d.title),onViewDetails:r,onSave:n},`${d.title}-${A}`))})]})},oR=({conversations:s,activeConversationId:e,isLoading:r,isPremium:n,isOpen:a,onSelectConversation:l,onNewConversation:u,onDeleteConversation:d,onRenameConversation:A,onToggleSidebar:o,onUpgrade:f})=>{const{t:p,i18n:m}=To(["chat","common"]),[x,b]=W.useState(null),[w,y]=W.useState(""),[E,P]=W.useState(null),z=K=>{b(K.id),y(K.title),P(null)},X=()=>{x&&w.trim()&&A(x,w.trim()),b(null),y("")},Y=K=>{const de=new Date(K),ve=Math.floor((new Date().getTime()-de.getTime())/(1e3*60*60*24));return ve===0?p("today"):ve===1?p("yesterday"):ve<7?p("daysAgo",{count:ve}):de.toLocaleDateString()},Q=s.reduce((K,de)=>{const ue=Y(de.updatedAt);return K[ue]||(K[ue]=[]),K[ue].push(de),K},{});return t.jsx(t.Fragment,{children:t.jsxs("div",{className:`
        absolute md:static inset-y-0 left-0 z-50 md:z-auto
        w-72 md:w-full md:h-full
        bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800
        flex flex-col transition-transform duration-300 ease-in-out md:transition-none
        ${a?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,children:[t.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:t.jsxs("button",{onClick:u,disabled:!n,className:`w-full flex items-center justify-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 
                       border border-slate-200 dark:border-slate-700 rounded-xl
                       hover:bg-slate-50 dark:hover:bg-slate-700 transition-all
                       disabled:opacity-50 disabled:cursor-not-allowed`,children:[t.jsx($i,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:p("newChat")})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:n?r?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(Lr,{className:"w-6 h-6 text-slate-400 animate-spin"})}):s.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Mh,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:p("noHistory")}),t.jsx("p",{className:"text-xs mt-1",children:p("startNewChat")})]}):Object.entries(Q).map(([K,de])=>t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:K}),de.map(ue=>t.jsxs("div",{className:`
                      group relative flex items-center gap-2 px-3 py-2.5 rounded-lg cursor-pointer
                      transition-all duration-150
                      ${e===ue.id?"bg-sky-100 dark:bg-sky-900/30 text-sky-700 dark:text-sky-300":"hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-300"}
                    `,onClick:()=>l(ue.id),children:[t.jsx(Mh,{className:"w-4 h-4 flex-shrink-0 opacity-60"}),x===ue.id?t.jsx("input",{type:"text",value:w,onChange:ve=>y(ve.target.value),onBlur:X,onKeyDown:ve=>ve.key==="Enter"&&X(),className:"flex-1 bg-white dark:bg-slate-700 px-2 py-1 rounded text-sm outline-none",autoFocus:!0,onClick:ve=>ve.stopPropagation()}):t.jsx("span",{className:"flex-1 truncate text-sm font-medium",children:ue.title}),t.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:ve=>{ve.stopPropagation(),P(E===ue.id?null:ue.id)},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded",children:t.jsx(VS,{className:"w-4 h-4"})}),E===ue.id&&t.jsxs("div",{className:"absolute right-2 top-full mt-1 py-1 bg-white dark:bg-slate-800 rounded-2xl shadow-md shadow-slate-200/50 dark:shadow-slate-900/50 border border-slate-100 dark:border-slate-700/50 z-10 min-w-[120px]",children:[t.jsxs("button",{onClick:ve=>{ve.stopPropagation(),z(ue)},className:"w-full px-3 py-2 text-left text-sm hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center gap-2",children:[t.jsx(tx,{className:"w-3.5 h-3.5"}),p("common:rename")]}),t.jsxs("button",{onClick:ve=>{ve.stopPropagation(),d(ue.id),P(null)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[t.jsx(Zo,{className:"w-3.5 h-3.5"}),p("common:delete")]})]})]})]},ue.id))]},K)):t.jsxs("div",{className:"p-4 text-center",children:[t.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl mb-3",children:[t.jsx(Gd,{className:"w-8 h-8 text-amber-500 mx-auto mb-2"}),t.jsx("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:p("premium.historyLocked")}),t.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:p("premium.unlockHistory")})]}),f&&t.jsx("button",{onClick:f,className:"w-full px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-bold rounded-xl transition-all",children:p("premium.upgradeNow")})]})}),n&&t.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 rounded-lg",children:[t.jsx(Gd,{className:"w-4 h-4 text-amber-500"}),t.jsx("span",{className:"text-xs font-bold text-amber-700 dark:text-amber-300",children:p("badges.premiumActive")})]})})]})})},e2=({user:s})=>{var ya,La;const{t:e,i18n:r}=To("chat"),{conversationId:n}=Wg();$l();const[a,l]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState(!1),[f,p]=W.useState(!0),[m,x]=W.useState(!1),[b,w]=W.useState(!1),[y,E]=W.useState([]),[P,z]=W.useState(!1),[X,Y]=W.useState(!1),[Q,K]=W.useState(null),[de,ue]=W.useState(!1),[ve,le]=W.useState(!1),[Ce,oe]=W.useState([]),[Ne,Ae]=W.useState(""),[se,pe]=W.useState([]),[re,Ee]=W.useState([]),[De,Se]=W.useState(null),[he,be]=W.useState(null),[fe,te]=W.useState(""),[ge,Ue]=W.useState(!0),[Ve,kt]=W.useState(0),[Bt,We]=W.useState(null),[Ut,Vt]=W.useState(null),[ls,Fs]=W.useState(null),[Re,ut]=W.useState(null),[St,Os]=W.useState(!1),[hs,vr]=W.useState(!1),[hr,ir]=W.useState(null),Ds=W.useRef(null),Ss=W.useRef(null),Ls=(s==null?void 0:s.isPremium)||((ya=s==null?void 0:s.subscription)==null?void 0:ya.status)==="active"||!1,rr=(ps,xs="info")=>{be({message:ps,type:xs}),setTimeout(()=>be(null),3e3)},xr=ps=>ps.map((xs,cs)=>{const fr=()=>xs.id||xs.place_id?`${It}/proxy_image?place_id=${xs.id||xs.place_id}`:xs.google_place_id?`${It}/proxy_image?google_place_id=${encodeURIComponent(xs.google_place_id)}`:xs.photo_reference&&xs.photo_reference!=="N/A"?`${It}/proxy_image?ref=${encodeURIComponent(xs.photo_reference)}`:xs.name?`${It}/proxy_image?name=${encodeURIComponent(xs.name)}`:`${It}/proxy_image/default`;return xs.itinerary&&Array.isArray(xs.itinerary)?{id:xs.id||`ai-plan-${cs}-${Date.now()}`,title:xs.title||e("defaults.unnamedPlan"),description:xs.description||"",duration:xs.duration||"Custom Trip",priceEstimate:xs.priceEstimate||"N/A",tags:xs.tags||["Plan"],imageUrl:fr(),itinerary:xs.itinerary,reviews:[],fullAddress:xs.description,rating:5}:{id:`g-place-${cs}-${Date.now()}`,title:xs.name||e("defaults.unknownName"),description:`${xs.address||""} | : ${xs.rating||"N/A"}`,duration:"Place",priceEstimate:xs.price_level?"$".repeat(xs.price_level.length):"N/A",tags:xs.business_status==="OPERATIONAL"?[e("badges.businessOpen"),e("badges.location")]:[e("badges.location")],imageUrl:fr(),itinerary:null,reviews:xs.review_list||[],fullAddress:xs.address,rating:xs.rating}}),en=W.useCallback(async()=>{if(Ls){o(!0);try{const ps=await fetch(`${It}/api/conversations`,{credentials:"include"});if(ps.status===403)return;if(!ps.ok)throw new Error("Failed to fetch");const xs=await ps.json();l(xs.conversations||[])}catch(ps){console.error("Failed to fetch conversations:",ps)}finally{o(!1)}}},[Ls]),wr=async ps=>{try{const xs=await fetch(`${It}/api/conversations/${ps}`,{credentials:"include"});if(!xs.ok)throw new Error("Failed to load");const fr=(await xs.json()).conversation;if(fr!=null&&fr.messages){const $r=fr.messages.map(Ps=>{let wa,Vn,sa,an=Ps.content;if(Ps.content.startsWith("DAILY_PLAN::"))try{const Rr=Ps.content.substring(12);Vn=[JSON.parse(Rr)],an=""}catch(Rr){console.error("Failed to parse daily plan from history:",Rr)}else if(Ps.content.startsWith("FOOD_DATA::"))try{const Rr=Ps.content.substring(11),Gn=JSON.parse(Rr);Gn.recommendations&&(sa=Gn.recommendations,an="")}catch(Rr){console.error("Failed to parse food data from history:",Rr)}else if(Ps.content.startsWith("POPUP_DATA::"))try{const Rr=Ps.content.substring(12);wa=xr(JSON.parse(Rr)),an=""}catch{}else if(Ps.suggestions)try{wa=xr(Ps.suggestions)}catch{}else Ps.dailyPlans&&(Vn=Ps.dailyPlans);return{id:`msg-${Ps.id}`,sender:Ps.role==="user"?"user":"ai",text:an,timestamp:new Date(Ps.createdAt),suggestions:wa,dailyPlans:Vn,foodRecommendations:sa}});oe($r),d(ps)}}catch(xs){console.error("Failed to load conversation:",xs),rr(e("errors.loadConversationFailed"),"error")}},tr=()=>{d(null),oe([])},Xs=async ps=>{if(confirm(e("modals.deleteConfirmation")))try{if(!(await fetch(`${It}/api/conversations/${ps}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete");l(cs=>cs.filter(fr=>fr.id!==ps)),u===ps&&(d(null),oe([])),rr(e("messages.conversationDeleted"),"success")}catch{rr(e("errors.deleteFailed"),"error")}},Ts=async(ps,xs)=>{try{if(!(await fetch(`${It}/api/conversations/${ps}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:xs})})).ok)throw new Error("Failed to rename");l(fr=>fr.map($r=>$r.id===ps?{...$r,title:xs}:$r))}catch{rr(e("errors.renameFailed"),"error")}},ft=async()=>{if(!(!u||!Ls)){Y(!0);try{const ps=await fetch(`${It}/api/conversations/${u}/share`,{method:"POST",credentials:"include"});if(!ps.ok)throw new Error("Failed to share");const xs=await ps.json(),cs=`${window.location.origin}${xs.shareUrl}`;K(cs),ue(!0)}catch{rr(e("errors.shareFailed"),"error")}finally{Y(!1)}}},$t=async()=>{if(Q)try{await navigator.clipboard.writeText(Q),le(!0),rr(e("messages.linkCopied"),"success"),setTimeout(()=>le(!1),2e3)}catch{rr(e("errors.copyFailed"),"error")}},ks=()=>{ue(!1),K(null),le(!1)},Gs=async ps=>{x(!1),tr();let cs={"1day":1,"2days":2,"3days":3,"5days":5,"7days":7}[ps.days];if(!cs&&ps.days.endsWith("days")){const Vn=parseInt(ps.days.replace("days",""));cs=isNaN(Vn)?3:Vn}cs=cs||3;const fr={en:"English",zh:"Chinese",ms:"Malay"},$r=r.language||"en",Ps=fr[$r]||"English",wa=`Plan a ${cs}-day trip to ${ps.destination}.

Trip Details:
- Duration: ${cs} day${cs>1?"s":""}
- Destination: ${ps.destination}
- Travel style: ${ps.mood}
- Budget level: ${ps.budget}
- Traveling with: ${ps.companions}
- Preferred transport: ${ps.transport||"flexible"}
${ps.dietary.length>0?`- Dietary requirements: ${ps.dietary.join(", ")}`:""}

IMPORTANT: Please respond in ${Ps} language and create a detailed itinerary with activities, restaurants, and practical information.`;Ae(wa),Ss.current&&Ss.current.focus()},lr=async ps=>{w(!1),z(!0),E([]);const xs=e(`foodWizard.mealOptions.${ps.mealType}`),cs={id:`food-search-${Date.now()}`,sender:"ai",text:e("wizards.foodSearchMessage",{meal:xs}),timestamp:new Date};oe(fr=>[...fr,cs]);try{const $r=await(await fetch(`${It}/api/food/recommendations`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({preferences:ps,coordinates:ls})})).json();if($r.success&&$r.recommendations){E($r.recommendations);const Ps={id:`food-result-${Date.now()}`,sender:"ai",text:e("wizards.foodResultMessage",{count:$r.recommendations.length}),timestamp:new Date,foodRecommendations:$r.recommendations};oe(wa=>[...wa.filter(Vn=>Vn.id!==cs.id),Ps])}else throw new Error($r.error||"Failed to get recommendations")}catch(fr){console.error("Food recommendations error:",fr),oe($r=>$r.map(Ps=>Ps.id===cs.id?{...Ps,text:e("wizards.foodErrorMessage")}:Ps))}finally{z(!1)}},wt=ps=>{rr(e("messages.placeAdded",{name:ps.name}),"success")},qt=async()=>{if(!Ne.trim()||St)return;const ps={id:Date.now().toString(),sender:"user",text:Ne,timestamp:new Date};oe(cs=>[...cs,ps]);const xs=Ne;Ae(""),Os(!0);try{const cs=Ce.map(an=>({role:an.sender==="user"?"user":"model",parts:[an.text]})),fr=await fetch(`${It}/chat_message`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:xs,conversationId:u,history:cs,coordinates:ls,language:K5()})});if(!fr.ok){const an=await fr.json();throw new Error(an.error||`HTTP error: ${fr.status}`)}const $r=await fr.json();let Ps=$r.reply||"AI ",wa,Vn;if(Ps.includes("DAILY_PLAN::"))try{const an="DAILY_PLAN::",Rr=Ps.indexOf(an),Gn=Ps.substring(0,Rr).trim(),Kn=Ps.substring(Rr+an.length),ti=JSON.parse(Kn);Vn=[ti],Ps=Gn||e("chat:systemMessages.itineraryGenerated",{duration:ti.duration,destination:ti.title})}catch(an){console.error("Failed to parse daily plan:",an),Ps=e("errors.itineraryParseError")}else if(Ps.startsWith("POPUP_DATA::"))try{const an=JSON.parse(Ps.substring(12));wa=xr(an),Ps=` ${wa.length} `}catch{Ps=e("errors.dataParseError")}const sa={id:(Date.now()+1).toString(),sender:"ai",text:Ps,timestamp:new Date,suggestions:wa,dailyPlans:Vn};$r.conversationId&&!u&&(d($r.conversationId),en()),Ls?(Os(!1),oe(an=>[...an,sa])):(ir(sa),vr(!0))}catch(cs){console.error("Send message error:",cs),Os(!1),oe(fr=>[...fr,{id:(Date.now()+1).toString(),sender:"ai",text:e("errors.connectionFailed",{error:cs.message||cs}),timestamp:new Date}])}},As=()=>{vr(!1),Os(!1),hr&&(oe(ps=>[...ps,hr]),ir(null))},fs=ps=>{ps.key==="Enter"&&!ps.shiftKey&&(ps.preventDefault(),qt())},Vs=W.useCallback(async ps=>{const xs=ps.id,cs=se.includes(xs);pe(fr=>cs?fr.filter($r=>$r!==xs):[...fr,xs]);try{if(cs){if(!(await fetch(`${It}/api/trips/save`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({suggestionId:xs,title:ps.title}),credentials:"include"})).ok)throw new Error("Failed to unsave trip");rr(e("messages.tripUnsaved","Trip removed from saved"),"success")}else{if(!(await fetch(`${It}/api/trips/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ps),credentials:"include"})).ok)throw new Error("Failed to save trip");rr(e("messages.tripSaved"),"success")}}catch{pe($r=>cs?[...$r,xs]:$r.filter(Ps=>Ps!==xs)),rr(e("errors.saveFailed"),"error")}},[se]),Ks=ps=>{We(ps)},pr=ps=>{ut(ps)},rn=W.useCallback(async ps=>{const xs=ps.title,cs=re.includes(xs);Ee(fr=>cs?fr.filter($r=>$r!==xs):[...fr,xs]);try{if(cs){if(!(await fetch(`${It}/api/trips/save_daily_plan`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:ps.title}),credentials:"include"})).ok)throw new Error("Failed to unsave");rr(e("messages.tripUnsaved","Plan removed from saved"),"success")}else{if(!(await fetch(`${It}/api/trips/save_daily_plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ps),credentials:"include"})).ok)throw new Error("Failed to save");rr(e("messages.tripSaved"),"success")}}catch{Ee($r=>cs?[...$r,xs]:$r.filter(Ps=>Ps!==xs)),rr(e("errors.saveFailed"),"error")}},[re]);return W.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(ps=>{Fs({latitude:ps.coords.latitude,longitude:ps.coords.longitude})},ps=>console.warn("GPS Error:",ps),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},[]),W.useEffect(()=>{Ls&&en()},[Ls,en]),W.useEffect(()=>{if(n){const ps=parseInt(n,10);!isNaN(ps)&&ps!==u&&wr(ps)}else Ls&&a.length>0&&!u&&wr(a[0].id)},[Ls,a,n]),W.useEffect(()=>{const ps=setTimeout(()=>{var xs;(xs=Ds.current)==null||xs.scrollIntoView({behavior:"smooth"})},100);return()=>clearTimeout(ps)},[Ce,St]),W.useEffect(()=>{if(Ss.current){Ss.current.style.height="56px";const xs=Ss.current.scrollHeight;xs<=200?(Ss.current.style.height=xs+"px",Ss.current.style.overflowY="hidden"):(Ss.current.style.height="200px",Ss.current.style.overflowY="auto")}},[Ne]),W.useEffect(()=>{const ps=e("placeholdersList",{returnObjects:!0});!fe&&ps.length>0&&te(ps[0]);const xs=setInterval(()=>{Ue(!1),setTimeout(()=>{te(cs=>{const fr=e("placeholdersList",{returnObjects:!0}),$r=fr.indexOf(cs),Ps=$r===-1?0:($r+1)%fr.length;return fr[Ps]}),Ue(!0)},300)},4e3);return()=>clearInterval(xs)},[e,fe]),t.jsxs("div",{className:"flex h-screen relative rounded-3xl overflow-hidden bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[f&&t.jsx("div",{className:"absolute md:hidden inset-0 bg-black/50 z-40",onClick:()=>p(!1)}),t.jsx("div",{className:`
        contents
        md:block md:shrink-0 md:transition-all md:duration-300 md:ease-in-out
        ${f?"md:w-72":"md:w-0 md:overflow-hidden"}
      `,children:t.jsx(oR,{conversations:a,activeConversationId:u,isLoading:A,isPremium:Ls,isOpen:f,onSelectConversation:wr,onNewConversation:tr,onDeleteConversation:Xs,onRenameConversation:Ts,onToggleSidebar:()=>p(!f),onUpgrade:()=>window.location.href="/billing"})}),t.jsxs("div",{className:"flex-1 min-w-0 flex flex-col relative overflow-hidden m-4 rounded-[2rem] bg-white dark:bg-slate-900 shadow-xl shadow-slate-200/50 dark:shadow-slate-900/50 border border-slate-100 dark:border-slate-800",children:[he&&t.jsxs("div",{className:`absolute top-4 right-4 z-50 px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 ${he.type==="success"?"bg-emerald-500 text-white":he.type==="error"?"bg-red-500 text-white":"bg-slate-800 text-white"}`,children:[he.type==="success"&&t.jsx(uo,{className:"w-4 h-4"}),he.type==="error"&&t.jsx(qo,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:he.message})]}),t.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm flex items-center gap-3",children:[t.jsx("button",{onClick:()=>p(!f),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:f?t.jsx(uE,{className:"w-5 h-5"}):t.jsx(hE,{className:"w-5 h-5"})}),Ls&&t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-100 to-yellow-100 dark:from-amber-900/30 dark:to-yellow-900/30 rounded-full",children:[t.jsx(Gd,{className:"w-3.5 h-3.5 text-amber-600"}),t.jsx("span",{className:"text-xs font-bold text-amber-700 dark:text-amber-300",children:"PRO"})]}),u&&t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 truncate flex-1",children:((La=a.find(ps=>ps.id===u))==null?void 0:La.title)||"Chat"}),u&&Ls&&Ce.length>0&&t.jsxs("button",{onClick:ft,disabled:X,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors disabled:opacity-50",title:"Share conversation",children:[X?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(Gm,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col space-y-8",children:[Ce.length===0&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-6",children:[t.jsx("div",{className:"w-20 h-20 rounded-3xl bg-slate-100 dark:bg-slate-900 flex items-center justify-center border border-slate-200 dark:border-slate-800 shadow-sm mb-4",children:t.jsx(Km,{className:"w-10 h-10 text-sky-500 dark:text-indigo-400"})}),t.jsxs("div",{className:"space-y-2 max-w-md",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:e("wizards.whereToNext","Where to next?")}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e("wizards.welcomeDesc","I can help you plan the perfect trip based on your budget, mood, and preferences.")})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-full shadow-lg shadow-sky-500/20 transition-all hover:scale-105 active:scale-95",children:[t.jsx(oo,{className:"w-4 h-4"}),e("wizards.planTrip","Plan a Trip")]}),t.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold rounded-full shadow-lg shadow-orange-500/20 transition-all hover:scale-105 active:scale-95",children:[t.jsx(Fd,{className:"w-4 h-4"}),e("wizards.findFood","Find Food")]})]})]}),Ce.map(ps=>{const xs=ps.sender==="user";return t.jsxs("div",{className:`flex w-full flex-col ${xs?"items-end":"items-start"}`,children:[t.jsxs("div",{className:`flex gap-4 max-w-[90%] md:max-w-[70%] ${xs?"flex-row-reverse":"flex-row"}`,children:[t.jsx("div",{className:"flex-shrink-0 mt-2",children:xs?t.jsx("img",{src:s.avatarUrl,alt:"User",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-800 shadow-sm object-cover"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md",children:t.jsx(zm,{className:"w-5 h-5 text-white"})})}),t.jsxs("div",{className:`flex flex-col gap-1 p-5 rounded-3xl shadow-sm ${xs?"bg-sky-600 dark:bg-indigo-600 text-white rounded-tr-sm shadow-sky-200/30 dark:shadow-indigo-900/30":"bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 border border-slate-100 dark:border-slate-700/50 rounded-tl-sm shadow-slate-200/50 dark:shadow-slate-900/50"}`,children:[t.jsx("p",{className:"text-[15px] leading-relaxed whitespace-pre-wrap font-medium",children:ps.text}),t.jsx("span",{className:`text-[10px] font-bold ${xs?"text-sky-100":"text-slate-400"} self-end mt-1`,children:ps.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),ps.suggestions&&ps.suggestions.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(nR,{suggestions:ps.suggestions,savedSuggestions:se,onViewDetails:Ks,onToggleSave:Vs})}),ps.dailyPlans&&ps.dailyPlans.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(iR,{plans:ps.dailyPlans,savedPlans:re,onViewDetails:pr,onSave:rn})}),ps.foodRecommendations&&ps.foodRecommendations.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(YP,{places:ps.foodRecommendations,onAddToItinerary:wt,title:"Recommended for You"})})]},ps.id)}),St&&t.jsx("div",{className:"flex w-full flex-col items-start",children:t.jsxs("div",{className:"flex gap-4 max-w-[90%] md:max-w-[70%]",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md animate-pulse",children:t.jsx(zm,{className:"w-5 h-5 text-white animate-spin"})}),t.jsx("div",{className:"flex flex-col gap-1 p-5 rounded-3xl shadow-sm bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-700/50 rounded-tl-sm shadow-slate-200/50 dark:shadow-slate-900/50",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}}),t.jsx("span",{className:"text-sm text-slate-500 ml-2",children:e("thinking")})]})})]})})]}),t.jsx("div",{ref:Ds})]}),t.jsxs("div",{className:"px-4 md:px-6 pb-4 pt-4",children:[t.jsxs("div",{className:"relative w-full max-w-3xl mx-auto bg-white dark:bg-slate-900 rounded-3xl shadow-lg shadow-slate-200/50 dark:shadow-slate-900/50 border border-slate-100 dark:border-slate-700/50 flex items-end",children:[!Ne&&t.jsx("div",{className:`absolute left-6 right-20 top-[18px] pointer-events-none text-slate-400 font-medium text-base transition-all duration-500 truncate ${ge?"opacity-100":"opacity-0"}`,children:fe}),t.jsx("textarea",{ref:Ss,value:Ne,onChange:ps=>Ae(ps.target.value),onKeyDown:fs,className:"w-full bg-transparent text-slate-900 dark:text-slate-100 font-medium rounded-3xl pt-[18px] pb-[14px] pl-6 pr-16 focus:outline-none resize-none leading-relaxed",style:{minHeight:"56px"},placeholder:""}),t.jsx("div",{className:"absolute right-5 bottom-[8px]",children:t.jsx("button",{onClick:qt,disabled:!Ne.trim()||St,className:"p-2.5 bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-2xl transition-all",children:t.jsx(Sh,{className:"w-5 h-4"})})})]}),Ce.length>0&&t.jsxs("div",{className:"flex justify-center gap-3 mt-3 max-w-3xl mx-auto",children:[t.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white text-sm font-bold rounded-xl shadow-lg shadow-sky-500/20 transition-all hover:scale-105 active:scale-95",children:[t.jsx(oo,{className:"w-4 h-4"}),e("wizards.planTrip","Plan Trip")]}),t.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white text-sm font-bold rounded-xl shadow-lg shadow-orange-500/20 transition-all hover:scale-105 active:scale-95",children:[t.jsx(Fd,{className:"w-4 h-4"}),e("wizards.findFood","Find Food")]})]})]}),t.jsx(HL,{isOpen:hs,onClose:As}),t.jsx(RP,{isOpen:m,onClose:()=>x(!1),onComplete:Gs}),t.jsx(KP,{isOpen:b,onClose:()=>w(!1),onComplete:lr,userLocation:ls}),Bt&&t.jsx(sR,{suggestion:Bt,onClose:()=>We(null),onSave:Vs,onUpdate:We,isSaved:se.includes(Bt.id)}),Re&&t.jsx(tR,{plan:Re,onClose:()=>ut(null),onSave:async ps=>{try{(await fetch(`${It}/api/trips/save_daily_plan`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ps)})).ok?(Ee(cs=>cs.includes(ps.title)?cs:[...cs,ps.title]),rr(e("messages.tripSaved"),"success"),ut(null)):rr(e("errors.saveFailed"),"error")}catch{rr(e("errors.saveFailed"),"error")}},onEditActivity:(ps,xs,cs)=>{console.log("Edit activity:",ps,xs,cs)}}),de&&Q&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-6 max-w-md w-full shadow-xl shadow-slate-200/50 dark:shadow-slate-900/50 border border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Gm,{className:"w-5 h-5 text-sky-500"}),e("modals.shareConversation")]}),t.jsx("button",{onClick:ks,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:e("modals.shareDescription")}),t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-100 dark:bg-slate-800 rounded-xl",children:[t.jsx(qg,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),t.jsx("input",{type:"text",value:Q,readOnly:!0,className:"flex-1 bg-transparent text-sm text-slate-700 dark:text-slate-300 outline-none truncate"}),t.jsx("button",{onClick:$t,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${ve?"bg-emerald-500 text-white":"bg-sky-500 hover:bg-sky-600 text-white"}`,children:ve?t.jsxs(t.Fragment,{children:[t.jsx(Xo,{className:"w-4 h-4"}),e("modals.copied")]}):t.jsxs(t.Fragment,{children:[t.jsx(Jb,{className:"w-4 h-4"}),e("modals.copyLink")]})})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsx("button",{onClick:ks,className:"w-full py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:e("modals.done")})})]})})]})]})},G5=({isOpen:s,onClose:e,onGoToSettings:r,featureName:n="This feature"})=>s?t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",onClick:e,children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-6 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",onClick:a=>a.stopPropagation(),children:[t.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:t.jsx(qr,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center bg-amber-100 dark:bg-amber-900/30",children:t.jsx(u5,{className:"w-8 h-8 text-amber-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Google Account Not Linked"}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed px-2",children:[n," requires a linked Google account.",t.jsx("br",{}),"Would you like to go to Settings to link your Google account now?"]})]}),t.jsxs("div",{className:"flex items-center gap-2 py-2 px-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),t.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Link to enable Calendar features"})]}),t.jsxs("div",{className:"flex gap-3 w-full pt-2",children:[t.jsx("button",{onClick:e,className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:"Cancel"}),t.jsxs("button",{onClick:r,className:"flex-1 py-3 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-sky-500/25 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[t.jsx(T0,{className:"w-4 h-4"}),"Go to Settings"]})]}),t.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 flex items-center gap-1.5",children:[t.jsx(qo,{className:"w-3 h-3"}),"Your data stays secure with Google OAuth"]})]})]})}):null,W5=({user:s,onShowWarning:e,onNavigateToSettings:r})=>{const[n,a]=W.useState(!1),[l,u]=W.useState(""),d=W.useCallback(()=>s?s.authProvider==="google"?!0:s.hasGoogleLinked===!0:!1,[s]),A=W.useCallback(m=>d()?!0:(u(m),a(!0),!1),[d]),o=W.useCallback(()=>{a(!1),u(""),r?r():window.location.href="/settings#google-linking"},[r]),f=W.useCallback(()=>{a(!1),u(""),e&&e("Google account not linked. This feature cannot be used until you link your Google account in Settings.")},[e]),p=W.useCallback(()=>{a(!1),u("")},[]);return{isGoogleLinked:d,requireGoogleLink:A,showLinkDialog:n,pendingFeature:l,handleGoToSettings:o,handleCancelLink:f,closeLinkDialog:p}},eg=0,lR=24,Rp=Array.from({length:lR-eg},(s,e)=>e+eg),t2=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],cR=["January","February","March","April","May","June","July","August","September","October","November","December"],dR=({user:s})=>{const[e,r]=W.useState(new Date),[n,a]=W.useState("week"),[l,u]=W.useState([]),[d,A]=W.useState(!1),[o,f]=W.useState(!1),{requireGoogleLink:p,showLinkDialog:m,pendingFeature:x,handleGoToSettings:b,handleCancelLink:w}=W5({user:s,onShowWarning:te=>ve(te,"error")}),[y,E]=W.useState(!1),[P,z]=W.useState(!1),[X,Y]=W.useState(null),[Q,K]=W.useState(null),[de,ue]=W.useState({title:"",dateStr:"",startTime:"09:00",endTime:"10:00",type:"activity"}),ve=(te,ge="success")=>{Y({message:te,type:ge}),setTimeout(()=>Y(null),3e3)},le=async()=>{try{const te=await fetch(`${It}/api/calendar/events`,{credentials:"include"});if(te.ok){const Ue=(await te.json()).map(Ve=>{const kt=new Date(Ve.startTime),Bt=new Date(Ve.endTime),We=Ut=>Ut.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return{id:Ve.id,title:Ve.title,date:kt,startTime:We(kt),endTime:We(Bt),fullStart:Ve.startTime,fullEnd:Ve.endTime,type:"activity",color:"bg-sky-500 border-sky-600"}});u(Ue)}}catch(te){console.error("Failed to fetch events:",te),ve("Failed to load events","error")}};W.useEffect(()=>{le()},[]);const Ce=async()=>{if(p("Calendar sync")){A(!0),f(!1);try{const te=await fetch(`${It}/api/calendar/sync`,{method:"POST",credentials:"include"});if(te.status===401){window.location.href=`${It}/authorize`;return}te.ok?(f(!0),ve("Calendar synced successfully!"),await le(),setTimeout(()=>f(!1),3e3)):ve("Sync failed","error")}catch(te){console.error("Sync error:",te),ve("Sync error occurred","error")}finally{A(!1)}}},oe=async()=>{if(!de.title||!de.dateStr)return;const te=new Date(`${de.dateStr}T${de.startTime}:00`),ge=new Date(`${de.dateStr}T${de.endTime}:00`);try{(await fetch(`${It}/api/calendar/add_manual`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:de.title,startTime:te.toISOString(),endTime:ge.toISOString()})})).ok?(E(!1),await le(),ue({title:"",dateStr:"",startTime:"09:00",endTime:"10:00",type:"activity"}),ve("Event added successfully!")):ve("Failed to add event. Check network or auth.","error")}catch(Ue){console.error(Ue),ve("An error occurred while adding event.","error")}},Ne=async()=>{if(Q&&window.confirm("Are you sure you want to delete this event?"))try{(await fetch(`${It}/api/calendar/delete/${Q.id}`,{method:"DELETE",credentials:"include"})).ok?(z(!1),K(null),await le(),ve("Event deleted successfully!")):ve("Failed to delete event.","error")}catch(te){console.error(te),ve("An error occurred while deleting.","error")}},Ae=(te,ge)=>{const Ue=te.getFullYear(),Ve=String(te.getMonth()+1).padStart(2,"0"),kt=String(te.getDate()).padStart(2,"0"),Bt=`${Ue}-${Ve}-${kt}`;let We="09:00",Ut="10:00";ge!==void 0&&(We=`${String(ge).padStart(2,"0")}:00`,Ut=`${String(ge+1).padStart(2,"0")}:00`),ue({...de,dateStr:Bt,startTime:We,endTime:Ut,title:""}),E(!0)},se=(te,ge)=>{te.stopPropagation(),K(ge),z(!0)},pe=()=>{const te=new Date(e);n==="month"?te.setMonth(te.getMonth()-1):n==="week"?te.setDate(te.getDate()-7):te.setDate(te.getDate()-1),r(te)},re=()=>{const te=new Date(e);n==="month"?te.setMonth(te.getMonth()+1):n==="week"?te.setDate(te.getDate()+7):te.setDate(te.getDate()+1),r(te)},Ee=te=>{const ge=te.getFullYear(),Ue=te.getMonth(),Ve=new Date(ge,Ue,1).getDay(),kt=new Date(ge,Ue+1,0).getDate(),Bt=Ve===0?6:Ve-1,We=[];for(let Ut=0;Ut<Bt;Ut++)We.push(null);for(let Ut=1;Ut<=kt;Ut++)We.push(new Date(ge,Ue,Ut));return We},De=te=>{const ge=Ee(te).length;return Math.ceil(ge/7)},Se=te=>{const ge=new Date(te),Ue=ge.getDay(),Ve=ge.getDate()-Ue+(Ue===0?-6:1);ge.setDate(Ve);const kt=[];for(let Bt=0;Bt<7;Bt++){const We=new Date(ge);We.setDate(ge.getDate()+Bt),kt.push(We)}return kt},he=te=>{if(te.fullStart){const Ve=new Date(te.fullStart);return(Ve.getHours()*60+Ve.getMinutes()-eg*60)/60*80+2}const ge=parseInt(te.startTime.split(":")[0]),Ue=parseInt(te.startTime.split(":")[1])||0;return(ge-eg+Ue/60)*80+2},be=te=>{if(te.fullStart&&te.fullEnd){const ge=new Date(te.fullStart),Ve=(new Date(te.fullEnd).getTime()-ge.getTime())/(1e3*60);return Math.max(Ve/60*80-4,20)}return 76},fe=(te,ge)=>{if(te.fullStart&&te.fullEnd){const Ve=new Date(te.fullStart),kt=new Date(te.fullEnd),Bt=ge,We=ge+1,Ut=Ve.getHours()+Ve.getMinutes()/60,Vt=kt.getHours()+kt.getMinutes()/60;return Ut<We&&Vt>Bt}return parseInt(te.startTime.split(":")[0])===ge};return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] w-full p-6 overflow-hidden animate-fade-in-up relative",children:[X&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[60] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${X.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800"}`,children:[X.type==="error"?t.jsx(Da,{className:"w-5 h-5"}):t.jsx(Xo,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:X.message}),t.jsx("button",{onClick:()=>Y(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),y&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Add New Event"}),t.jsx("button",{onClick:()=>E(!1),children:t.jsx(qr,{className:"w-5 h-5 text-slate-400 hover:text-slate-900"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Title"}),t.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",autoFocus:!0,placeholder:"e.g. Meeting",value:de.title,onChange:te=>ue({...de,title:te.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Date"}),t.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:de.dateStr,onChange:te=>ue({...de,dateStr:te.target.value})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Start"}),t.jsx("input",{type:"time",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:de.startTime,onChange:te=>ue({...de,startTime:te.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"End"}),t.jsx("input",{type:"time",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:de.endTime,onChange:te=>ue({...de,endTime:te.target.value})})]})]}),t.jsx("button",{onClick:oe,className:"w-full py-3 bg-sky-600 text-white font-bold rounded-xl hover:bg-sky-500 shadow-lg mt-2",children:"Save Event"})]})]})}),P&&Q&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white break-words w-10/12",children:Q.title}),t.jsx("button",{onClick:()=>z(!1),children:t.jsx(qr,{className:"w-5 h-5 text-slate-400 hover:text-slate-900"})})]}),t.jsxs("div",{className:"space-y-6 mb-8",children:[t.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-300",children:[t.jsx(Co,{className:"w-5 h-5 text-sky-500"}),t.jsx("span",{className:"font-medium",children:Q.date.toDateString()})]}),t.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-300",children:[t.jsx(Vi,{className:"w-5 h-5 text-sky-500"}),t.jsxs("span",{className:"font-medium",children:[Q.startTime," - ",Q.endTime]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:Ne,className:"flex-1 py-3 bg-red-50 text-red-600 font-bold rounded-xl hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[t.jsx(Zo,{className:"w-4 h-4"}),"Delete"]}),t.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-white font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Close"})]})]})}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white w-64",children:[cR[e.getMonth()]," ",e.getFullYear()]}),t.jsxs("div",{className:"flex bg-white dark:bg-slate-800 rounded-lg p-1 border border-slate-200 dark:border-slate-700 shadow-sm dark:shadow-none",children:[t.jsx("button",{onClick:pe,className:"p-1 hover:bg-slate-50 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400",children:t.jsx(Rh,{className:"w-5 h-5"})}),t.jsx("button",{onClick:re,className:"p-1 hover:bg-slate-50 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400",children:t.jsx(hc,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:Ce,className:`flex items-center gap-2 px-3 py-2 bg-white text-slate-700 dark:text-slate-900 rounded-lg text-sm font-semibold hover:bg-slate-50 transition-colors border border-slate-200 shadow-sm ${o?"bg-emerald-50 text-emerald-600 border-emerald-200":""}`,children:[d?t.jsx(cd,{className:"w-4 h-4 animate-spin text-blue-500"}):o?t.jsx(Xo,{className:"w-4 h-4 text-emerald-500"}):t.jsx("span",{className:"flex items-center gap-2",children:t.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 text-white flex items-center justify-center text-[10px] font-bold",children:"G"})}),o?"Synced!":"Sync"]}),t.jsx("div",{className:"flex bg-white dark:bg-slate-800 rounded-lg p-1 border border-slate-200 dark:border-slate-700 shadow-sm dark:shadow-none",children:["month","week","day"].map(te=>t.jsx("button",{onClick:()=>a(te),className:`px-3 py-1.5 text-sm font-medium rounded capitalize transition-all ${n===te?"bg-sky-600 dark:bg-indigo-600 text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:te},te))}),t.jsxs("button",{onClick:()=>Ae(new Date),className:"flex items-center gap-2 px-4 py-2 bg-sky-600 hover:bg-sky-500 text-white text-sm font-medium rounded-lg shadow-lg",children:[t.jsx($i,{className:"w-4 h-4"})," Add"]})]})]}),t.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800/20 border border-slate-200 dark:border-slate-800 rounded-xl overflow-hidden flex flex-col shadow-sm dark:shadow-none relative",children:[n==="month"&&t.jsxs("div",{className:"flex-1 grid grid-cols-7 grid-rows-[auto_1fr] overflow-y-auto custom-scrollbar",children:[t2.map(te=>t.jsx("div",{className:"p-4 text-center border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50",children:t.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase",children:te})},te)),t.jsx("div",{className:"grid grid-cols-7 col-span-7",style:{gridTemplateRows:`repeat(${De(e)}, 1fr)`},children:Ee(e).map((te,ge)=>{const Ue=te?l.filter(Ve=>Ve.date.getDate()===te.getDate()&&Ve.date.getMonth()===te.getMonth()&&Ve.date.getFullYear()===te.getFullYear()):[];return t.jsx("div",{onClick:()=>te&&Ae(te),className:`border-r border-b border-slate-100 dark:border-slate-800/50 p-2 h-full min-h-[100px] hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors cursor-pointer ${te?"":"bg-slate-50/50 dark:bg-slate-900/50"}`,children:te&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:`text-sm font-medium ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-600 text-white w-7 h-7 flex items-center justify-center rounded-full":"text-slate-700 dark:text-slate-300"}`,children:te.getDate()}),t.jsx("div",{className:"mt-2 space-y-1 max-h-[60px] overflow-y-auto custom-scrollbar",children:Ue.map(Ve=>t.jsx("div",{onClick:kt=>se(kt,Ve),className:`text-[10px] px-1.5 py-0.5 rounded truncate text-white ${Ve.color.split(" ")[0]} cursor-pointer hover:brightness-110 shadow-sm`,children:Ve.title},Ve.id))})]})},ge)})})]}),n==="week"&&t.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[t.jsxs("div",{className:"grid grid-cols-8 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 flex-shrink-0 sticky top-0 z-20",children:[t.jsx("div",{className:"p-4 border-r border-slate-200 dark:border-slate-800 w-20"}),Se(e).map((te,ge)=>t.jsxs("div",{className:`p-4 text-center border-r border-slate-200 dark:border-slate-800 last:border-r-0 ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-50 dark:bg-indigo-900/20":""}`,children:[t.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:t2[ge]}),t.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-600 dark:bg-indigo-600 text-white":"text-slate-700 dark:text-slate-300"}`,children:te.getDate()})]},ge))]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:t.jsxs("div",{className:"grid grid-cols-8 relative",style:{minHeight:`${Rp.length*80}px`},children:[t.jsx("div",{className:"border-r border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/30 w-20 flex-shrink-0",children:Rp.map(te=>t.jsx("div",{className:"h-20 border-b border-slate-100 dark:border-slate-800/50 text-xs text-slate-400 dark:text-slate-500 p-2 text-right relative",children:t.jsxs("span",{className:"-top-3 relative block",children:[String(te).padStart(2,"0"),":00"]})},te))}),Se(e).map((te,ge)=>{const Ue=l.filter(Ve=>Ve.date.getDate()===te.getDate()&&Ve.date.getMonth()===te.getMonth()&&Ve.date.getFullYear()===te.getFullYear());return t.jsxs("div",{className:"border-r border-slate-100 dark:border-slate-800/50 last:border-r-0 relative",children:[Rp.map(Ve=>t.jsx("div",{onClick:()=>Ae(te,Ve),className:"h-20 border-b border-slate-100 dark:border-slate-800/50 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/20"},Ve)),Ue.map(Ve=>{const kt=he(Ve),Bt=be(Ve);return kt<0||kt>Rp.length*80?null:t.jsxs("div",{onClick:We=>se(We,Ve),className:`absolute left-1 right-1 p-2 rounded border-l-4 text-white text-xs cursor-pointer hover:brightness-110 transition-all shadow-md z-10 ${Ve.color}`,style:{top:`${kt}px`,height:`${Bt}px`,minHeight:"20px"},children:[t.jsx("div",{className:"font-bold truncate",children:Ve.title}),t.jsxs("div",{className:"opacity-80",children:[Ve.startTime," - ",Ve.endTime]})]},Ve.id)})]},ge)})]})})]}),n==="day"&&t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:t.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:Rp.map(te=>{const ge=l.filter(Ue=>Ue.date.getDate()===e.getDate()&&Ue.date.getMonth()===e.getMonth()&&Ue.date.getFullYear()===e.getFullYear()&&fe(Ue,te));return t.jsxs("div",{className:"flex gap-4 border-b border-slate-100 dark:border-slate-800 pb-4",children:[t.jsxs("div",{className:"w-16 text-right text-sm text-slate-400 pt-2",children:[String(te).padStart(2,"0"),":00"]}),t.jsx("div",{className:"flex-1 min-h-[60px] relative",children:ge.length>0?ge.map(Ue=>t.jsx("div",{onClick:Ve=>se(Ve,Ue),className:`p-3 rounded-xl mb-2 border-l-4 ${Ue.color} bg-opacity-10 dark:bg-opacity-20 flex justify-between items-center bg-slate-50 dark:bg-slate-800 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors`,children:t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:Ue.title}),t.jsxs("p",{className:"text-xs text-slate-500",children:[Ue.startTime," - ",Ue.endTime]})]})},Ue.id)):t.jsx("div",{onClick:()=>Ae(e,te),className:"border-b border-dashed border-slate-200 dark:border-slate-800/50 h-full w-full cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/20"})})]},te)})})})]}),t.jsx(G5,{isOpen:m,onClose:w,onGoToSettings:b,featureName:x})]})},uR=s=>{if(!s)return"";try{const[e,r]=s.split(":"),n=parseInt(e),a=n>=12?"PM":"AM";return`${n%12||12}:${r} ${a}`}catch{return s}},AR=(s,e)=>{if(!s)return null;try{const r=new Date(s);return r.setDate(r.getDate()+(e-1)),r.toLocaleDateString("en-US",{month:"short",day:"numeric",weekday:"short"})}catch{return null}},hR=(s="",e="")=>{const r=(s+e).toLowerCase();return["","","","","food","restaurant","dinner","lunch","breakfast","buffet"].some(n=>r.includes(n))?{type:"Food & Dining",icon:Fd,color:"text-orange-600 dark:text-orange-400",bg:"bg-orange-50 dark:bg-orange-500/10",border:"border-orange-100 dark:border-orange-500/20",iconBg:"bg-orange-100 dark:bg-orange-500/20"}:["","","","visit","tour","sightseeing","park","museum","attraction","ticket"].some(n=>r.includes(n))?{type:"Attraction",icon:S3,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-500/10",border:"border-blue-100 dark:border-blue-500/20",iconBg:"bg-blue-100 dark:bg-blue-500/20"}:["","","","mall","shop","store","market","souvenir"].some(n=>r.includes(n))?{type:"Shopping",icon:sx,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-500/10",border:"border-emerald-100 dark:border-emerald-500/20",iconBg:"bg-emerald-100 dark:bg-emerald-500/20"}:{type:e||"Activity",icon:So,color:"text-slate-600 dark:text-slate-400",bg:"bg-slate-50 dark:bg-slate-800/50",border:"border-slate-200 dark:border-slate-700",iconBg:"bg-slate-200 dark:bg-slate-700"}},fR=({user:s})=>{const e=$l(),{t:r}=To(["common","dashboard"]),[n,a]=W.useState(null),[l,u]=W.useState(!1),[d,A]=W.useState(!1),[o,f]=W.useState([]),[p,m]=W.useState(!0),[x,b]=W.useState(!1),[w,y]=W.useState(!1),[E,P]=W.useState(null),[z,X]=W.useState(!1),[Y,Q]=W.useState(null),[K,de]=W.useState(""),[ue,ve]=W.useState(null),[le,Ce]=W.useState(null),[oe,Ne]=W.useState(!1),[Ae,se]=W.useState({show:!1,message:"",type:"success"}),[pe,re]=W.useState({show:!1,title:"",message:"",onConfirm:()=>{}}),Ee=o.length>0?o[0]:null,De=(ut,St="success")=>{se({show:!0,message:ut,type:St}),setTimeout(()=>{se(Os=>({...Os,show:!1}))},3e3)},{showLinkDialog:Se,pendingFeature:he,requireGoogleLink:be,handleGoToSettings:fe,handleCancelLink:te}=W5({user:s,onShowWarning:ut=>De(ut,"info")}),ge=async()=>{m(!0);try{const ut=await fetch(`${It}/api/trips/list`,{credentials:"include"});if(ut.ok){const Os=(await ut.json()).map(hs=>({id:hs.id,destination:hs.destination||hs.title,title:hs.title,dates:hs.dates||`${hs.start_date||""} - ${hs.end_date||""}`,status:hs.status||"planning",weather:"25C",imageUrl:hs.imageUrl||"https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?auto=format&fit=crop&q=80&w=400",flight:hs.flight||null,hotel:hs.hotel||null,total_expenses:hs.total_expenses||0}));f(Os)}else console.error("Failed to fetch trips")}catch(ut){console.error("Error fetching trips:",ut)}finally{m(!1)}},Ue=async ut=>{try{const St=await fetch(`${It}/api/trips/${ut}`,{credentials:"include"});if(St.ok){const Os=await St.json();P(Os),y(!0)}else De("Failed to load trip details","error")}catch(St){console.error("Error fetching trip details:",St),De("Error loading trip details","error")}},Ve=ut=>{if(!be("Export trip to Google Calendar"))return;Q(ut);const St=new Date().toISOString().split("T")[0];de(St),X(!0)},kt=async(ut,St)=>{b(!0);try{const Os=await fetch(`${It}/api/trips/${ut}/export_calendar`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:St})});if(Os.ok)(await Os.json()).status==="success"&&(De("Successfully exported events to Calendar!","success"),X(!1),ge());else if(Os.status===401)re({show:!0,title:"Authorization Required",message:"You need to authorize Google Calendar first. Redirect to authorization page?",confirmText:"Authorize",isDestructive:!1,onConfirm:()=>{window.location.href=`${It}/auth/authorize`,re(hs=>({...hs,show:!1}))}});else{const hs=await Os.json();De(`Export failed: ${hs.error||"Unknown error"}`,"error")}}catch(Os){console.error("Export error:",Os),De("Failed to export to Google Calendar.","error")}finally{b(!1)}},Bt=ut=>{re({show:!0,title:"Delete Trip",message:"Are you sure you want to delete this trip? This action cannot be undone.",confirmText:"Delete",isDestructive:!0,onConfirm:()=>We(ut)})},We=async ut=>{re(St=>({...St,show:!1}));try{(await fetch(`${It}/api/trips/${ut}`,{method:"DELETE",credentials:"include"})).ok?(De("Trip deleted successfully","success"),ge()):De("Failed to delete trip","error")}catch(St){console.error("Delete error:",St),De("Failed to delete trip","error")}},Ut=()=>{if(!navigator.geolocation){Ce("Geolocation is not supported by your browser");return}Ne(!0),navigator.geolocation.getCurrentPosition(ut=>{ve({lat:ut.coords.latitude,lng:ut.coords.longitude}),Ce(null),Ne(!1)},ut=>{console.error("Error getting location:",ut),Ce("Unable to retrieve your location"),Ne(!1)})};if(W.useEffect(()=>{Ut(),ge()},[]),p)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4 animate-fade-in",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 border-t-sky-600 rounded-full animate-spin"}),t.jsx("p",{className:"text-slate-500 font-medium",children:r("common:loading")})]});if(o.length===0)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-6 animate-fade-in p-8",children:[t.jsx("div",{className:"w-20 h-20 rounded-3xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(RA,{className:"w-10 h-10 text-slate-400"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:r("dashboard:recentTrips.noTrips")}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("dashboard:recentTrips.startPlanning")})]}),t.jsxs("button",{type:"button",onClick:()=>e("/chat"),className:"px-8 py-4 bg-sky-600 dark:bg-indigo-600 text-white rounded-2xl text-sm font-bold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-all shadow-lg flex items-center gap-2",children:[t.jsx($i,{className:"w-5 h-5"}),r("dashboard:recentTrips.createTrip")]})]});const Vt=Ee!=null&&Ee.hotel?[{id:"hotel-1",type:"hotel",title:Ee.hotel.name||"Luxury Hotel",subtitle:Ee.hotel.address||"Location",rating:Ee.hotel.rating||5,top:"40%",left:"45%",icon:Zg,color:"emerald",description:"Experience luxury accommodations with world-class amenities.",image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=800",tags:["Luxury","Spa","View"]}]:[],ls=["Passport & Visa","Travel Insurance","Universal Adapter","Light Jacket","Comfortable Walking Shoes","Portable Charger","Local Currency","Toiletries","Camera","Prescription Meds"],Fs=Vt.find(ut=>ut.id===n),Re=()=>{const Os=ue?ue.lat:35.0116,hs=ue?ue.lng:135.7681;return t.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/60 backdrop-blur-md border border-white/50 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 rounded-[2rem] p-1.5 shadow-sm relative group overflow-hidden isolate h-[450px] transition-all duration-500 ease-out hover:-translate-y-1 hover:shadow-2xl",children:[Fs&&t.jsx("div",{className:"absolute inset-2 z-50 bg-white/95 dark:bg-slate-900/95 backdrop-blur-2xl rounded-[1.7rem] overflow-hidden shadow-2xl animate-scale-in",children:t.jsxs("div",{className:"h-full flex flex-col md:flex-row",children:[t.jsxs("div",{className:"w-full md:w-5/12 h-48 md:h-full relative shrink-0",children:[t.jsx("img",{src:Fs.image,alt:Fs.title,className:"w-full h-full object-cover"}),t.jsx("button",{onClick:()=>a(null),className:"absolute top-4 left-4 p-2 bg-black/20 backdrop-blur-md hover:bg-black/40 text-white rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex-1 p-6 md:p-8 flex flex-col overflow-y-auto",children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:Fs.title}),t.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-4",children:Fs.subtitle}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed mb-6 text-sm",children:Fs.description}),t.jsx("div",{className:"mt-auto flex gap-3",children:t.jsxs("button",{onClick:()=>window.open("https://maps.google.com","_blank"),className:"flex-1 py-3 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold flex items-center justify-center gap-2",children:[t.jsx(h5,{className:"w-4 h-4"}),"Directions"]})})]})]})}),t.jsx("div",{className:"w-full h-full relative bg-slate-100 dark:bg-slate-800 rounded-[1.7rem] overflow-hidden",children:t.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${Os},${hs}&z=14&output=embed`,allowFullScreen:!0,className:"grayscale-[20%] hover:grayscale-0 transition-all duration-700"})})]})};return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-10 animate-fade-in-up relative",children:[Ae.show&&t.jsx("div",{className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[100] animate-fade-in-down",children:t.jsxs("div",{className:`flex items-center gap-3 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md border border-white/10 ${Ae.type==="success"?"bg-emerald-500/90 text-white":Ae.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}`,children:[Ae.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):Ae.type==="error"?t.jsx(Da,{className:"w-5 h-5"}):t.jsx(Da,{className:"w-5 h-5"}),t.jsx("span",{className:"font-bold text-sm",children:Ae.message})]})}),pe.show&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-6 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",children:t.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[t.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center ${pe.isDestructive?"bg-red-100 dark:bg-red-900/30 text-red-500":"bg-sky-100 dark:bg-indigo-900/30 text-sky-500"}`,children:pe.isDestructive?t.jsx(Zo,{className:"w-7 h-7"}):t.jsx(qo,{className:"w-7 h-7"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:pe.title}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:pe.message})]}),t.jsxs("div",{className:"flex gap-3 w-full pt-2",children:[t.jsx("button",{onClick:()=>re(ut=>({...ut,show:!1})),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:r("common:cancel")}),t.jsx("button",{onClick:pe.onConfirm,className:`flex-1 py-3 text-white rounded-xl text-sm font-bold shadow-lg transition-all active:scale-95 ${pe.isDestructive?"bg-red-500 hover:bg-red-600":"bg-sky-600 hover:bg-sky-500"}`,children:pe.confirmText||"Confirm"})]})]})})}),z&&Y&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Co,{className:"w-6 h-6 text-sky-500"}),"Select Start Date"]}),t.jsx("button",{onClick:()=>X(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors hover:scale-105",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm leading-relaxed",children:"Choose when you want your trip to start. All itinerary items will be scheduled from this date."}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Start Date"}),t.jsx("input",{type:"date",value:K,onChange:ut=>de(ut.target.value),min:new Date().toISOString().split("T")[0],className:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl py-4 px-4 text-slate-900 dark:text-white font-medium focus:outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 dark:focus:border-indigo-500 transition-all hover:border-sky-300 dark:hover:border-indigo-500/50"})]}),t.jsx("div",{className:"bg-sky-50 dark:bg-indigo-900/20 rounded-2xl p-4 border border-sky-100 dark:border-indigo-500/30",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-indigo-500/20 rounded-lg",children:t.jsx(Co,{className:"w-5 h-5 text-sky-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:"Trip Schedule Preview"}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:K?t.jsxs(t.Fragment,{children:["Your trip will start on ",t.jsx("span",{className:"font-bold text-sky-600 dark:text-indigo-400",children:new Date(K).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}):"Please select a start date"})]})]})}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>X(!1),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all border border-transparent hover:border-slate-300 dark:hover:border-slate-600",children:r("common:cancel")}),t.jsx("button",{onClick:()=>kt(Y,K),disabled:!K||x,className:"flex-[2] py-3 bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 dark:hover:bg-indigo-500 text-white rounded-xl text-sm font-bold shadow-lg transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),"Exporting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Xp,{className:"w-4 h-4"}),"Export to Calendar"]})})]})]})]})}),w&&E&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in flex flex-col max-h-[85vh]",children:[t.jsxs("div",{className:"p-8 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white/50 dark:bg-slate-900/50 backdrop-blur-xl z-20 rounded-t-[2.5rem]",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:E.title}),t.jsxs("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 flex items-center gap-2 mt-1",children:[t.jsx(Co,{className:"w-4 h-4"}),E.dates||"Trip Itinerary"]})]}),t.jsx("button",{onClick:()=>y(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors hover:rotate-90 duration-300",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-white dark:bg-slate-900",children:E.items&&E.items.length>0?t.jsx("div",{className:"p-8 space-y-10",children:Object.entries(E.items.reduce((ut,St)=>{const Os=St.day_number;return ut[Os]||(ut[Os]=[]),ut[Os].push(St),ut},{})).map(([ut,St])=>{const Os=St.sort((hs,vr)=>hs.start_time.localeCompare(vr.start_time));return t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-white/95 dark:bg-slate-900/95 backdrop-blur-md z-10 py-3 border-b border-slate-100 dark:border-slate-800",children:[t.jsx("div",{children:t.jsxs("h4",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:["DAY ",ut,E.start_date&&t.jsx("span",{className:"text-sm font-medium text-slate-400 font-normal border-l border-slate-200 dark:border-slate-700 pl-3",children:AR(E.start_date,parseInt(ut))})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>De("AI Day Optimization coming soon!","info"),className:"text-xs font-bold text-sky-600 dark:text-sky-400 bg-sky-50 dark:bg-sky-500/10 hover:bg-sky-100 dark:hover:bg-sky-500/20 px-3 py-1.5 rounded-full transition-colors flex items-center gap-1.5",children:[t.jsx(oo,{className:"w-3 h-3"})," Energize Your Day"]}),t.jsxs("button",{onClick:()=>De("Relax Mode coming soon!","info"),className:"text-xs font-bold text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 px-3 py-1.5 rounded-full transition-colors flex items-center gap-1.5",children:[t.jsx(E0,{className:"w-3 h-3"})," Relaxed Schedule"]})]})]}),t.jsxs("div",{className:"space-y-6 relative pl-4",children:[t.jsx("div",{className:"absolute left-[85px] top-4 bottom-4 w-0.5 bg-slate-100 dark:bg-slate-800/50"}),Os.map((hs,vr)=>{var xr;const{type:hr,icon:ir,color:Ds,bg:Ss,border:Ls,iconBg:rr}=hR(hs.notes,hs.type);return t.jsxs("div",{className:"flex gap-6 relative group",children:[t.jsx("div",{className:"w-[70px] shrink-0 pt-1 text-right",children:t.jsx("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800 px-2.5 py-1 rounded-lg border border-transparent group-hover:border-slate-200 dark:group-hover:border-slate-700 transition-all",children:uR(hs.start_time)})}),t.jsx("div",{className:`absolute left-[81px] top-3 w-2.5 h-2.5 rounded-full z-10 border-2 border-white dark:border-slate-900 transition-all duration-300 ${Ds.replace("text-","bg-")} group-hover:scale-125 shadow-sm`}),t.jsx("div",{className:`flex-1 ${Ss} rounded-2xl p-4 border ${Ls} hover:shadow-lg hover:shadow-sky-100/50 dark:hover:shadow-none transition-all duration-300 group-hover:-translate-y-0.5 relative overflow-hidden`,children:t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`p-1.5 rounded-lg ${rr}`,children:t.jsx(ir,{className:`w-4 h-4 ${Ds}`})}),t.jsx("h5",{className:"font-bold text-slate-900 dark:text-white text-base",children:((xr=hs.place)==null?void 0:xr.name)||hs.type||"Activity"})]}),t.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 transform translate-x-2 group-hover:translate-x-0",children:[t.jsx("button",{onClick:()=>De("Edit item coming soon","info"),className:"p-1.5 text-slate-400 hover:text-sky-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:t.jsx(xp,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>De("AI Replace coming soon","info"),className:"p-1.5 text-slate-400 hover:text-purple-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"AI Replace",children:t.jsx(cd,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>De("Delete item coming soon","info"),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Delete",children:t.jsx(Zo,{className:"w-3.5 h-3.5"})})]})]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed pl-[34px]",children:hs.notes})]})})]},vr)})]})]},ut)})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 py-12 space-y-4",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center",children:t.jsx(So,{className:"w-8 h-8 text-slate-300"})}),t.jsx("p",{children:"No itinerary items yet"}),t.jsx("button",{className:"text-sky-600 font-bold text-sm hover:underline",children:"Start Planning with AI"})]})}),t.jsx("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-b-[2.5rem] z-20",children:t.jsxs("button",{onClick:()=>Ve(E.id),disabled:x,className:"w-full py-4 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white rounded-xl text-sm font-bold shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2 disabled:opacity-50 transition-all hover:scale-[1.02] active:scale-[0.98]",children:[x?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsx(Xp,{className:"w-5 h-5"}),x?"Exporting to Calendar...":"Export Itinerary to Calendar"]})})]})}),d&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in flex flex-col max-h-[80vh]",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx($3,{className:"w-6 h-6 text-sky-500"}),"Packing List"]}),t.jsx("button",{onClick:()=>A(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-3",children:ls.map((ut,St)=>t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl hover:bg-sky-50 dark:hover:bg-indigo-900/20 cursor-pointer transition-colors group",children:[t.jsx(KE,{className:"w-5 h-5 text-slate-300 group-hover:text-sky-500 dark:group-hover:text-indigo-400"}),t.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:ut})]},St))}),t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-100 dark:border-slate-700",children:t.jsx("button",{onClick:()=>A(!1),className:"w-full py-3 bg-sky-600 text-white font-bold rounded-xl shadow-lg hover:bg-sky-500 active:scale-95 transition-all",children:r("common:done")})})]})}),t.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-4xl font-bold text-slate-900 dark:text-white tracking-tight",children:"My Trips"}),t.jsxs("p",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mt-1",children:[o.length," ",o.length===1?"trip":"trips"," planned"]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((ut,St)=>t.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/40 backdrop-blur-xl border border-white/60 dark:border-slate-700/50 rounded-[2rem] overflow-hidden shadow-sm hover:shadow-2xl transition-all duration-300 group hover:-translate-y-2",style:{animationDelay:`${St*100}ms`},children:[t.jsxs("div",{className:"relative h-48 overflow-hidden",children:[t.jsx("img",{src:ut.imageUrl,alt:ut.destination,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase backdrop-blur-md ${ut.status==="completed"?"bg-emerald-500/80 text-white":ut.status==="upcoming"||ut.status==="planning"?"bg-sky-500/80 text-white":"bg-amber-500/80 text-white"}`,children:ut.status})}),t.jsx("div",{className:"absolute bottom-4 left-4",children:t.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:ut.destination})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[t.jsx(Co,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:ut.dates})]}),ut.total_expenses>0&&t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-xl p-3",children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Total Expenses"}),t.jsxs("p",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:["$",ut.total_expenses.toFixed(2)]})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs("button",{onClick:()=>Ue(ut.id),className:"flex-1 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-white rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all flex items-center justify-center gap-2",children:[t.jsx(io,{className:"w-4 h-4"}),r("common:viewMore")]}),t.jsxs("button",{onClick:()=>Ve(ut.id),disabled:x,className:"flex-1 py-2.5 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[x?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(Xp,{className:"w-4 h-4"}),"Export"]}),t.jsx("button",{onClick:()=>Bt(ut.id),className:"p-2.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl hover:bg-red-100 dark:hover:bg-red-900/40 transition-all",children:t.jsx(Zo,{className:"w-4 h-4"})})]})]})]},ut.id))}),Ee&&t.jsxs("div",{className:"relative h-80 rounded-[2.5rem] overflow-hidden isolate group shadow-2xl border border-transparent hover:border-sky-500/30 transition-all duration-500 hover:scale-[1.01]",children:[t.jsx("img",{src:Ee.imageUrl,alt:Ee.destination,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-[1.5s] group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-10",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/20 backdrop-blur-md border border-white/20 text-xs font-bold text-white mb-4 uppercase tracking-wider",children:[t.jsx(RA,{className:"w-3.5 h-3.5"}),"Next Adventure"]}),t.jsx("h3",{className:"text-5xl font-bold text-white mb-4 tracking-tighter",children:Ee.destination}),t.jsx("div",{className:"flex items-center gap-4 text-slate-200",children:t.jsxs("div",{className:"flex items-center gap-2.5 text-sm font-medium bg-black/40 px-4 py-2 rounded-xl backdrop-blur-md",children:[t.jsx(Co,{className:"w-4 h-4 text-sky-400"}),Ee.dates]})})]})]}),Ee&&Vt.length>0&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(So,{className:"w-5 h-5 text-sky-600 dark:text-indigo-400"})}),"Trip Map"]}),t.jsx(Re,{})]}),t.jsx(G5,{isOpen:Se,onClose:te,onGoToSettings:fe,featureName:he})]})};new Date(new Date().getFullYear(),new Date().getMonth()-11,1),new Date(new Date().setMonth(new Date().getMonth()-1)),new Date(new Date().setMonth(new Date().getMonth()-2)),new Date(new Date().setMonth(new Date().getMonth()-3));new Date(new Date().setHours(10,30,0,0)),new Date(new Date().setHours(15,0,0,0)),new Date(new Date().setDate(new Date().getDate()+1));const pR=[{id:"si-1",content:"Remember to buy JR Rail Pass before leaving",category:"note",timestamp:new Date,isCompleted:!1,priority:"high"},{id:"si-2",content:"Visit Fushimi Inari Shrine early morning to avoid crowds",category:"ai-suggestion",timestamp:new Date(Date.now()-864e5),isCompleted:!1,priority:"medium"},{id:"si-3",content:"Restaurant reservation: Monk (confirm 2 days prior)",category:"activity",timestamp:new Date(Date.now()-1728e5),isCompleted:!0,priority:"high"}],mR=()=>{const[s,e]=W.useState(pR),[r,n]=W.useState(""),[a,l]=W.useState("all"),[u,d]=W.useState(null),A=(b,w="success")=>{d({message:b,type:w}),setTimeout(()=>d(null),3e3)},o=()=>{if(!r.trim())return;const b={id:Date.now().toString(),content:r,category:"note",timestamp:new Date,isCompleted:!1,priority:"medium"};e(w=>[b,...w]),n(""),A("Note added successfully!","success")},f=b=>{e(w=>w.map(y=>y.id===b?{...y,isCompleted:!y.isCompleted}:y))},p=b=>{e(w=>w.filter(y=>y.id!==b)),A("Item deleted","info")},m=b=>{switch(b){case"ai-suggestion":return t.jsx(zm,{className:"w-4 h-4"});case"activity":return t.jsx(Fd,{className:"w-4 h-4"});case"logistics":return t.jsx(RA,{className:"w-4 h-4"});default:return t.jsx(g5,{className:"w-4 h-4"})}},x=a==="all"?s:s.filter(b=>b.category===a);return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto flex flex-col h-[calc(100vh-6rem)] animate-fade-in-up relative",children:[u&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[60] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${u.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":u.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[u.type==="error"?t.jsx(Da,{className:"w-5 h-5"}):u.type==="success"?t.jsx(Xo,{className:"w-5 h-5"}):t.jsx(El,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:u.message}),t.jsx("button",{onClick:()=>d(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-10",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:t.jsx(Cw,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Trip Notebook"})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Capture ideas, AI suggestions, and tasks for your trip."})]}),t.jsx("div",{className:"flex bg-white dark:bg-slate-800 rounded-xl p-1 shadow-sm border border-slate-200 dark:border-slate-700/50 hover:border-slate-300 dark:hover:border-slate-600 transition-colors",children:["all","note","activity","ai-suggestion"].map(b=>t.jsx("button",{onClick:()=>l(b),className:`
                 px-4 py-2 rounded-lg text-sm font-bold capitalize transition-all
                 ${a===b?"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-300":"text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-700"}
               `,children:b==="ai-suggestion"?"AI Tips":b},b))})]}),t.jsxs("div",{className:"relative mb-8 z-20 group",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-200 to-orange-100 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl blur opacity-25 group-hover:opacity-50 transition-opacity duration-500"}),t.jsxs("div",{className:"relative flex items-center bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-lg p-2 transition-all focus-within:ring-4 focus-within:ring-amber-500/10 focus-within:border-amber-500/50 hover:border-amber-400 dark:hover:border-amber-400 hover:-translate-y-1 hover:shadow-xl duration-300 ease-out",children:[t.jsx("div",{className:"pl-4 pr-3 text-slate-400",children:t.jsx($i,{className:"w-5 h-5"})}),t.jsx("input",{type:"text",value:r,onChange:b=>n(b.target.value),onKeyDown:b=>b.key==="Enter"&&o(),placeholder:"Add a note, restaurant idea, or reminder...",className:"flex-1 bg-transparent border-none outline-none py-3 text-slate-900 dark:text-white placeholder-slate-400 font-medium"}),t.jsx("button",{onClick:o,disabled:!r.trim(),className:"bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-6 py-2.5 rounded-xl font-bold text-sm hover:opacity-90 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:-translate-y-0.5",children:"Add Note"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-4 pr-4 space-y-4 pb-10",children:x.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center space-y-4 opacity-50",children:[t.jsx(Cw,{className:"w-12 h-12 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No items found. Start typing above!"})]}):x.map((b,w)=>t.jsxs("div",{className:"group flex items-start gap-4 p-5 bg-white/70 dark:bg-slate-800/40 backdrop-blur-md border border-white/60 dark:border-slate-700/50 rounded-2xl shadow-sm transition-all duration-300 animate-scale-in hover:border-amber-400 dark:hover:border-amber-500 hover:-translate-y-1 hover:scale-[1.01] hover:shadow-xl",style:{animationDelay:`${w*50}ms`},children:[t.jsx("button",{onClick:()=>f(b.id),className:`mt-0.5 flex-shrink-0 transition-all hover:scale-110 ${b.isCompleted?"text-emerald-500":"text-slate-300 dark:text-slate-600 hover:text-emerald-500"}`,children:b.isCompleted?t.jsx(uo,{className:"w-6 h-6"}):t.jsx(FS,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-base font-medium leading-relaxed transition-all duration-300 ${b.isCompleted?"text-slate-400 line-through decoration-slate-300":"text-slate-900 dark:text-white"}`,children:b.content}),t.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[t.jsxs("span",{className:`
                     inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-transform group-hover:scale-105
                     ${b.category==="ai-suggestion"?"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":b.category==="activity"?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300":"bg-slate-100 text-slate-600 dark:bg-slate-700/50 dark:text-slate-400"}
                   `,children:[m(b.category),b.category==="ai-suggestion"?"AI Suggestion":b.category]}),t.jsx("span",{className:"text-xs text-slate-400 font-medium",children:b.timestamp.toLocaleDateString()})]})]}),t.jsx("button",{onClick:()=>p(b.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl opacity-0 group-hover:opacity-100 transition-all border border-transparent hover:border-red-200 hover:scale-110",children:t.jsx(Zo,{className:"w-5 h-5"})})]},b.id))})]})},sf=[{code:"en",name:"English",flag:""},{code:"ja",name:"Japanese",flag:""},{code:"zh",name:"Chinese",flag:""},{code:"ko",name:"Korean",flag:""},{code:"es",name:"Spanish",flag:""},{code:"fr",name:"French",flag:""},{code:"de",name:"German",flag:""},{code:"it",name:"Italian",flag:""},{code:"my",name:"Malay",flag:""},{code:"th",name:"Thai",flag:""},{code:"vi",name:"Vietnamese",flag:""},{code:"id",name:"Indonesian",flag:""},{code:"pt",name:"Portuguese",flag:""},{code:"ru",name:"Russian",flag:""},{code:"ar",name:"Arabic",flag:""}],pb=[{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",premiumOnly:!1},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",premiumOnly:!0}],mb=({active:s,onClick:e,icon:r,label:n,badge:a})=>t.jsxs("button",{onClick:e,className:`
      relative flex items-center gap-2 px-5 py-2.5 rounded-xl font-semibold text-sm transition-all duration-300
      ${s?"bg-gradient-to-r from-sky-500 to-indigo-500 text-white shadow-lg shadow-sky-500/25":"bg-white/50 dark:bg-slate-800/50 text-slate-600 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800"}
    `,children:[r,n,a&&t.jsxs("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-amber-400 text-amber-900 text-[10px] font-bold rounded-full flex items-center gap-0.5",children:[t.jsx(Gd,{className:"w-2.5 h-2.5"}),a]})]}),gR=({engine:s,setEngine:e,disabled:r,isPremium:n,onUpgrade:a})=>t.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:[t.jsxs("button",{onClick:()=>!r&&e("google"),disabled:r,className:`
        flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all
        ${s==="google"?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}
        ${r?"opacity-50 cursor-not-allowed":""}
      `,children:[t.jsx(h0,{className:"w-3.5 h-3.5"}),"Google Cloud"]}),t.jsxs("button",{onClick:()=>{if(!r){if(!n){a();return}e("ai")}},disabled:r,className:`
        flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all relative
        ${s==="ai"?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}
        ${r?"opacity-50 cursor-not-allowed":""}
      `,children:[t.jsx(oo,{className:"w-3.5 h-3.5"}),"AI Enhanced",!n&&t.jsx(Ld,{className:"w-3 h-3 text-amber-500 ml-1"})]})]}),xR=({selectedModel:s,onSelect:e,isPremium:r,disabled:n,onUpgrade:a})=>{const[l,u]=W.useState(!1),d=W.useRef(null),[A,o]=W.useState({top:0,left:0,width:0}),f=()=>{if(d.current){const m=d.current.getBoundingClientRect();o({top:m.bottom+window.scrollY+8,left:m.left+window.scrollX,width:Math.max(m.width,200)})}};W.useEffect(()=>(l&&(f(),window.addEventListener("scroll",f),window.addEventListener("resize",f)),()=>{window.removeEventListener("scroll",f),window.removeEventListener("resize",f)}),[l]),W.useEffect(()=>{const m=x=>{d.current&&d.current.contains(x.target)||u(!1)};return l&&document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[l]);const p=pb.find(m=>m.id===s)||pb[0];return t.jsxs(t.Fragment,{children:[t.jsx("button",{ref:d,onClick:()=>!n&&u(!l),disabled:n,className:`
          flex items-center gap-2 px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl
          hover:border-indigo-400 transition-colors text-xs font-medium min-w-[160px] justify-between
          ${n?"opacity-50 cursor-not-allowed":""}
        `,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(RS,{className:"w-4 h-4 text-indigo-500"}),t.jsx("span",{className:"text-slate-700 dark:text-slate-200 truncate max-w-[120px]",children:p.name})]})}),l&&Kj.createPortal(t.jsxs("div",{className:"fixed z-[9999] bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden animate-in fade-in zoom-in-95 duration-100",style:{top:A.top,left:A.left,width:A.width},onMouseDown:m=>m.stopPropagation(),children:[pb.map(m=>{const x=m.premiumOnly&&!r;return t.jsxs("button",{onClick:()=>{x?(a(),u(!1)):(e(m.id),u(!1))},className:`
                  w-full flex items-center justify-between p-3 text-left border-b last:border-0 border-slate-50 dark:border-slate-700/50
                  ${s===m.id?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"text-slate-600 dark:text-slate-300"}
                  hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors
                `,children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs font-medium",children:m.name}),m.premiumOnly&&t.jsx("span",{className:"text-[10px] text-amber-600 dark:text-amber-500",children:"PRO Model"})]}),x?t.jsx(Ld,{className:"w-3.5 h-3.5 text-amber-500"}):s===m.id&&t.jsx(Xo,{className:"w-3.5 h-3.5"})]},m.id)}),!r&&t.jsx("button",{onClick:()=>{a(),u(!1)},className:"w-full p-2 bg-amber-50 dark:bg-amber-900/20 text-center hover:bg-amber-100 dark:hover:bg-amber-900/40 transition-colors",children:t.jsxs("p",{className:"text-[10px] font-bold text-amber-700 dark:text-amber-400 flex items-center justify-center gap-1",children:[t.jsx(Gd,{className:"w-3 h-3"}),"Upgrade to Unlock All"]})})]}),document.body)]})},s2=({speaker:s,flag:e,langName:r,isActive:n,isRecording:a,isProcessing:l,disabled:u,onPress:d,onRelease:A})=>t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsxs("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:["Speaker ",s]}),t.jsxs("div",{className:"relative",children:[a&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500/30 animate-ping",style:{animationDuration:"1s"}}),t.jsx("div",{className:"absolute -inset-2 rounded-full bg-red-500/20 animate-ping",style:{animationDuration:"1.5s"}}),t.jsx("div",{className:"absolute -inset-4 rounded-full bg-red-500/10 animate-ping",style:{animationDuration:"2s"}})]}),t.jsx("button",{onMouseDown:d,onMouseUp:A,onMouseLeave:A,onTouchStart:o=>{o.preventDefault(),d()},onTouchEnd:o=>{o.preventDefault(),A()},disabled:u,className:`
          relative w-24 h-24 rounded-full flex flex-col items-center justify-center gap-1 transition-all duration-300
          ${a?"bg-gradient-to-br from-red-500 to-rose-600 scale-110 shadow-2xl shadow-red-500/50":l?"bg-gradient-to-br from-amber-500 to-orange-500 shadow-xl shadow-amber-500/30":n?"bg-gradient-to-br from-sky-500 to-indigo-500 shadow-xl shadow-sky-500/30 hover:scale-105":"bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600"}
          ${u&&!l?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        `,children:l?t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Lr,{className:"w-7 h-7 text-white animate-spin"}),t.jsx("span",{className:"text-[10px] text-white/80 font-medium",children:"Processing"})]}):a?t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(o=>t.jsx("div",{className:"w-1 bg-white rounded-full animate-pulse",style:{height:`${12+Math.random()*16}px`,animationDelay:`${o*.1}s`,animationDuration:"0.5s"}},o))}),t.jsx("span",{className:"text-[10px] text-white/80 font-medium",children:"Recording"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-2xl",children:e}),t.jsx(q3,{className:`w-5 h-5 ${n?"text-white":"text-slate-500 dark:text-slate-400"}`})]})})]}),t.jsx("span",{className:`text-sm font-medium transition-colors ${a?"text-red-500":l?"text-amber-600 dark:text-amber-400":n?"text-sky-600 dark:text-indigo-400":"text-slate-600 dark:text-slate-400"}`,children:r}),a&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsxs("span",{className:"relative flex h-2 w-2",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),t.jsx("span",{className:"text-xs text-red-500 font-semibold",children:"Streaming live..."})]}),l&&!a&&t.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:"Translating..."})]}),bR=({message:s,onPlayAudio:e,isPlaying:r})=>{const n=s.speaker==="A",a=s.type==="translated";return t.jsx("div",{className:`flex ${n?"justify-end":"justify-start"} mb-3`,children:t.jsxs("div",{className:`max-w-[80%] ${n?"items-end":"items-start"} flex flex-col gap-1`,children:[t.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${n?"flex-row-reverse":""}`,children:[t.jsx("span",{children:s.flag}),t.jsx("span",{className:"font-medium text-slate-500 dark:text-slate-400",children:a?"Translation":`Speaker ${s.speaker}`})]}),t.jsx("div",{className:`
            px-4 py-3 rounded-2xl
            ${a?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white":n?"bg-sky-500 text-white":"bg-white dark:bg-slate-800 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-700"}
            ${n?"rounded-tr-sm":"rounded-tl-sm"}
          `,children:t.jsx("p",{className:"text-sm leading-relaxed",children:s.text})}),a&&s.audioBase64&&e&&t.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 px-2 py-1 text-xs text-slate-500 dark:text-slate-400 hover:text-indigo-500 transition-colors",children:[r?t.jsx(f5,{className:"w-3 h-3"}):t.jsx(tv,{className:"w-3 h-3"}),r?"Playing...":"Play audio"]})]})})},vR=({user:s})=>{const[e,r]=W.useState("text"),[n,a]=W.useState("en"),[l,u]=W.useState("ja"),[d,A]=W.useState("google"),[o,f]=W.useState("gemini-2.5-flash"),[p,m]=W.useState(""),[x,b]=W.useState(""),[w,y]=W.useState(!1),[E,P]=W.useState(!1),[z,X]=W.useState(!1),[Y,Q]=W.useState("A"),[K,de]=W.useState(!1),[ue,ve]=W.useState(!1),[le,Ce]=W.useState([]),[oe,Ne]=W.useState(null),[Ae,se]=W.useState(null),[pe,re]=W.useState(""),[Ee,De]=W.useState(""),[Se,he]=W.useState(!1),[be,fe]=W.useState(null),[te,ge]=W.useState(null),[Ue,Ve]=W.useState(!1),[kt,Bt]=W.useState(!1),[We,Ut]=W.useState(null),Vt=W.useRef(null),ls=W.useRef(null);W.useRef([]);const Fs=W.useRef(null),Re=W.useRef(null),ut=W.useRef(null),St=W.useRef(null),Os=W.useRef(0),hs=(s==null?void 0:s.isPremium)??!1,vr=wt=>sf.find(qt=>qt.code===wt)||{code:wt,name:wt,flag:""};W.useEffect(()=>{var wt;(wt=Fs.current)==null||wt.scrollIntoView({behavior:"smooth"})},[le]),W.useEffect(()=>()=>{Vt.current&&Vt.current.disconnect(),ls.current&&ls.current.state!=="inactive"&&ls.current.stop()},[]),W.useEffect(()=>{!hs&&d==="ai"&&A("google")},[hs,d]);const hr=()=>{confirm("This feature requires a Premium subscription. Unlock the full power of AI translation now!")&&(window.location.href="/billing")},ir=()=>{a(l),u(n),Vt.current&&z&&Vt.current.emit("swap_languages"),e==="text"&&(m(x),b(p))},Ds=async()=>{if(p.trim()){y(!0),b("");try{const wt=await fetch(`${It}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({text:p,source_lang:n,target_lang:l,engine:d,model:d==="ai"?o:void 0})}),qt=await wt.json();wt.ok&&qt.status==="success"?b(qt.translation):b(qt.error||"Error: Could not translate.")}catch{b("Error: Failed to connect to translation service.")}finally{y(!1)}}},Ss=W.useCallback(()=>{if(!hs){hr();return}se(null);const wt=qp(`${It}/translate-stream`,{withCredentials:!0,transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});wt.on("connect",()=>{console.log("[StreamingConversation] Socket connected")}),wt.on("connected",qt=>{console.log("[StreamingConversation] Authenticated:",qt),P(!0),se(null)}),wt.on("error",qt=>{console.error("[StreamingConversation] Error:",qt),se(qt.message),ve(!1),he(!1),re(""),(qt.code==="PREMIUM_REQUIRED"||qt.code==="AUTH_REQUIRED")&&(wt.disconnect(),P(!1))}),wt.on("streaming_started",qt=>{console.log("[StreamingConversation] Streaming started:",qt),he(!0),X(!0),Q(qt.speaker),re(""),Os.current=0,qt.session_info&&Ne({langA:qt.session_info.lang_a,langB:qt.session_info.lang_b,langAName:qt.session_info.lang_a_name,langBName:qt.session_info.lang_b_name,langAFlag:qt.session_info.lang_a_flag,langBFlag:qt.session_info.lang_b_flag})}),wt.on("partial_transcription",qt=>{re(qt.text)}),wt.on("partial_translation",qt=>{De(qt.translated_text)}),wt.on("final_transcription",qt=>{re(""),De("");const As={id:`${Date.now()}-orig-${qt.speaker}`,speaker:qt.speaker,type:"original",text:qt.text,language:qt.language,languageName:qt.language_name,flag:qt.flag,timestamp:new Date};Ce(fs=>[...fs,As])}),wt.on("translation",qt=>{De("");const As={id:`${Date.now()}-trans-${qt.speaker}`,speaker:qt.speaker,type:"translated",text:qt.translated_text,language:qt.target_lang,languageName:qt.target_lang_name,flag:qt.target_flag,timestamp:new Date};Ce(fs=>[...fs,As])}),wt.on("audio_response",qt=>{Ce(As=>{const fs=[...As];for(let Vs=fs.length-1;Vs>=0;Vs--)if(fs[Vs].type==="translated"&&!fs[Vs].audioBase64){fs[Vs]={...fs[Vs],audioBase64:qt.audio};break}return fs}),qt.auto_play&&tr(qt.audio)}),wt.on("streaming_ended",qt=>{console.log("[StreamingConversation] Streaming ended:",qt),he(!1),ve(!1),re("")}),wt.on("speaker_switched",qt=>{console.log("[StreamingConversation] Speaker switched:",qt),Q(qt.speaker),re("")}),wt.on("languages_swapped",qt=>{Ne({langA:qt.lang_a,langB:qt.lang_b,langAName:qt.lang_a_name,langBName:qt.lang_b_name,langAFlag:qt.lang_a_flag,langBFlag:qt.lang_b_flag}),a(qt.lang_a),u(qt.lang_b)}),wt.on("session_ended",qt=>{console.log("[StreamingConversation] Session ended:",qt),X(!1),he(!1),Ne(null),re("")}),wt.on("disconnect",()=>{P(!1),X(!1),he(!1),re("")}),Vt.current=wt},[hs]),Ls=()=>{St.current&&(St.current.getTracks().forEach(wt=>wt.stop()),St.current=null),ls.current&&ls.current.state!=="inactive"&&ls.current.stop(),Vt.current&&(Vt.current.emit("end_session"),Vt.current.disconnect(),Vt.current=null),P(!1),X(!1),de(!1),ve(!1),he(!1),re(""),De("")},rr=wt=>{!Vt.current||!E||(Os.current=0,Vt.current.emit("start_streaming",{lang_a:n,lang_b:l,speaker:wt}))},xr=W.useCallback(()=>{ls.current&&ls.current.state!=="inactive"&&ls.current.stop(),St.current&&(St.current.getTracks().forEach(wt=>{wt.stop(),wt.enabled=!1}),St.current=null),ls.current=null},[]),en=async wt=>{if(!Vt.current||!E){se("Not connected to server");return}xr(),Q(wt),re(""),se(null);try{const qt=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:16e3}});St.current=qt;let As="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(As)||(As=MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"");const fs=new MediaRecorder(qt,{mimeType:As||void 0});fs.ondataavailable=async Vs=>{var Ks;if(Vs.data.size>0&&((Ks=Vt.current)!=null&&Ks.connected))try{const pr=new FileReader;pr.onloadend=()=>{var ya;const rn=pr.result.split(",")[1];(ya=Vt.current)!=null&&ya.connected&&Vt.current.emit("audio_chunk",{audio:rn,speaker:wt,seq:Os.current++})},pr.readAsDataURL(Vs.data)}catch(pr){console.error("Failed to send audio chunk:",pr)}},fs.onerror=Vs=>{console.error("MediaRecorder error:",Vs.error),se("Recording error occurred"),wr()},rr(wt),await new Promise(Vs=>setTimeout(Vs,100)),fs.start(200),ls.current=fs,de(!0)}catch(qt){console.error("Failed to start recording:",qt),xr(),qt.name==="NotAllowedError"||qt.name==="PermissionDeniedError"?se("Microphone access denied. Please allow permission."):qt.name==="NotFoundError"||qt.name==="DevicesNotFoundError"?se("No microphone found."):qt.name==="NotReadableError"||qt.name==="TrackStartError"?se("Microphone is busy or not readable."):se("Microphone access denied or not available")}},wr=W.useCallback(()=>{var wt;xr(),(wt=Vt.current)!=null&&wt.connected&&Vt.current.emit("stop_streaming",{speaker:Y}),de(!1),ve(!0),setTimeout(()=>{ve(qt=>qt&&(console.warn("Processing state reset by timeout"),!1))},5e3)},[Y,xr]),tr=wt=>{Re.current&&Re.current.pause();try{const qt=Gs(wt,"audio/mp3"),As=URL.createObjectURL(qt),fs=new Audio(As);fs.onended=()=>{URL.revokeObjectURL(As),Ut(null)},fs.onerror=Ks=>{console.error("Audio error:",Ks),URL.revokeObjectURL(As),Ut(null)};const Vs=fs.play();Vs!==void 0&&Vs.catch(Ks=>{console.error("Audio playback failed:",Ks)}),Re.current=fs}catch(qt){console.error("Failed to setup audio playback:",qt)}},Xs=(wt,qt)=>{Ut(wt),tr(qt)},Ts=wt=>{var As;const qt=(As=wt.target.files)==null?void 0:As[0];qt&&(fe(qt),ge(null))},ft=async()=>{if(be){Ve(!0),ge(null);try{const wt=new FormData;wt.append("file",be),wt.append("source_lang",n),wt.append("target_lang",l),wt.append("engine",d),d==="ai"&&wt.append("model",o);const qt=await fetch(`${It}/api/translate/audio`,{method:"POST",credentials:"include",body:wt}),As=await qt.json();qt.ok&&As.status==="success"?ge({originalText:As.original_text,translatedText:As.translated_text,audioBase64:As.audio_base64}):se(As.error||"Translation failed")}catch{se("Failed to connect to translation service")}finally{Ve(!1)}}},$t=async(wt,qt)=>{if(wt)try{const As=await fetch(`${It}/tts`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({text:wt,lang:qt})});if(!As.ok)throw new Error("TTS Failed");const fs=await As.blob(),Vs=URL.createObjectURL(fs),Ks=new Audio(Vs);Ks.onended=()=>URL.revokeObjectURL(Vs),Ks.play(),Re.current=Ks}catch(As){console.error("TTS error",As)}},ks=wt=>{navigator.clipboard.writeText(wt),Bt(!0),setTimeout(()=>Bt(!1),2e3)},Gs=(wt,qt)=>{const As=atob(wt),fs=new Array(As.length);for(let Ks=0;Ks<As.length;Ks++)fs[Ks]=As.charCodeAt(Ks);const Vs=new Uint8Array(fs);return new Blob([Vs],{type:qt})},lr=()=>{Ce([]),Q("A")};return t.jsxs("div",{className:"p-4 md:p-6 w-full max-w-5xl mx-auto space-y-5",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-11 h-11 rounded-2xl bg-gradient-to-br from-sky-400 to-indigo-500 flex items-center justify-center shadow-lg shadow-sky-500/25",children:t.jsx(mu,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Translation Hub"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Text, conversation & audio translation"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-white/50 dark:bg-slate-800/50 p-1.5 rounded-2xl backdrop-blur-sm border border-white/20 dark:border-slate-700/50 relative z-10",children:[t.jsx(gR,{engine:d,setEngine:A,disabled:w||Ue||z,isPremium:hs,onUpgrade:hr}),d==="ai"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1"}),t.jsx(xR,{selectedModel:o,onSelect:f,isPremium:hs,disabled:w||Ue||z,onUpgrade:hr})]}),!hs&&t.jsxs("a",{href:"/billing",className:"ml-2 flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-400 to-orange-500 text-white rounded-lg font-semibold text-xs shadow-lg shadow-orange-500/25 hover:shadow-xl transition-all hover:-translate-y-0.5",children:[t.jsx(Gd,{className:"w-3.5 h-3.5"}),"Upgrade"]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 p-1.5 bg-slate-100/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:[t.jsx(mb,{active:e==="text",onClick:()=>r("text"),icon:t.jsx(oo,{className:"w-4 h-4"}),label:"Text"}),t.jsx(mb,{active:e==="conversation",onClick:()=>{r("conversation"),hs&&!E&&Ss()},icon:t.jsx(Md,{className:"w-4 h-4"}),label:"Conversation",badge:hs?void 0:"PRO"}),t.jsx(mb,{active:e==="batch",onClick:()=>r("batch"),icon:t.jsx(yw,{className:"w-4 h-4"}),label:"Audio File"})]}),Ae&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),t.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm flex-1",children:Ae}),t.jsx("button",{onClick:()=>se(null),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg",children:t.jsx(qr,{className:"w-4 h-4 text-red-400"})})]}),t.jsxs("div",{className:"bg-white/70 dark:bg-slate-900/70 backdrop-blur-xl rounded-2xl p-5 shadow-xl border border-white/20 dark:border-slate-700/30",children:[e==="text"&&t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("select",{value:n,onChange:wt=>a(wt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))}),t.jsx("button",{onClick:ir,className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-sky-100 dark:hover:bg-indigo-900/50 transition-all active:rotate-180 duration-300",children:t.jsx(nb,{className:"w-4 h-4 text-slate-500"})}),t.jsx("select",{value:l,onChange:wt=>u(wt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm text-indigo-600 dark:text-indigo-400",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex flex-col bg-slate-50 dark:bg-slate-800/50 rounded-xl p-3 min-h-[200px]",children:[t.jsx("textarea",{value:p,onChange:wt=>m(wt.target.value),placeholder:"Enter text to translate...",className:"flex-1 w-full bg-transparent resize-none border-none outline-none text-sm text-slate-900 dark:text-white placeholder-slate-400"}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-200 dark:border-slate-700",children:[t.jsx("button",{onClick:()=>$t(p,n),className:"p-1.5 text-slate-400 hover:text-sky-600 rounded-lg transition-all",children:t.jsx(tv,{className:"w-4 h-4"})}),t.jsx("span",{className:"text-xs text-slate-400",children:p.length})]})]}),t.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-indigo-50 to-sky-50 dark:from-indigo-900/20 dark:to-sky-900/20 rounded-xl p-3 min-h-[200px]",children:[w?t.jsxs("div",{className:"flex-1 flex items-center justify-center flex-col gap-2 text-indigo-500",children:[t.jsx(Lr,{className:"w-6 h-6 animate-spin"}),t.jsxs("span",{className:"text-xs opacity-70",children:["Using ",d==="google"?"Google Cloud":o,"..."]})]}):t.jsx("textarea",{readOnly:!0,value:x,placeholder:"Translation...",className:"flex-1 w-full bg-transparent resize-none border-none outline-none text-sm text-slate-700 dark:text-slate-200 placeholder-slate-400"}),t.jsx("div",{className:"flex justify-between items-center pt-2 border-t border-indigo-100 dark:border-indigo-900/50",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>ks(x),className:"p-1.5 text-slate-400 hover:text-emerald-500 rounded-lg transition-all",children:kt?t.jsx(Xo,{className:"w-4 h-4"}):t.jsx(Jb,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>$t(x,l),className:"p-1.5 text-slate-400 hover:text-sky-600 rounded-lg transition-all",children:t.jsx(tv,{className:"w-4 h-4"})})]})})]})]}),t.jsxs("button",{onClick:Ds,disabled:!p||w,className:"w-full py-3 bg-gradient-to-r from-sky-500 to-indigo-500 text-white rounded-xl font-bold text-sm shadow-lg shadow-sky-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[w?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(oo,{className:"w-4 h-4"}),w?"Translating...":"Translate"]})]}),e==="conversation"&&t.jsx("div",{className:"space-y-4",children:hs?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[E?t.jsx(vp,{className:"w-4 h-4 text-emerald-500"}):t.jsx(bp,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:`text-xs font-medium ${E?"text-emerald-600":"text-slate-500"}`,children:E?z?"Session Active":"Connected":"Disconnected"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("select",{value:n,onChange:wt=>a(wt.target.value),disabled:z,className:"bg-white dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-xs font-medium",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))}),t.jsx("button",{onClick:ir,className:"p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",disabled:ue,children:t.jsx(nb,{className:"w-3 h-3 text-slate-500"})}),t.jsx("select",{value:l,onChange:wt=>u(wt.target.value),disabled:z,className:"bg-white dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-xs font-medium text-indigo-600",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))})]}),t.jsxs("div",{className:"flex gap-2",children:[le.length>0&&t.jsx("button",{onClick:lr,className:"p-1.5 text-slate-400 hover:text-red-500 rounded-lg transition-colors",title:"Clear conversation",children:t.jsx(UE,{className:"w-4 h-4"})}),t.jsx("button",{onClick:E?Ls:Ss,className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${E?"bg-red-100 text-red-600 hover:bg-red-200":"bg-emerald-100 text-emerald-600 hover:bg-emerald-200"}`,children:E?"End":"Start"})]})]}),(K||pe||Ee)&&t.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-r from-sky-500/10 via-indigo-500/10 to-purple-500/10 dark:from-sky-500/20 dark:via-indigo-500/20 dark:to-purple-500/20 border border-sky-200 dark:border-sky-800",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-400/20 to-indigo-400/20 animate-pulse"}),t.jsxs("div",{className:"relative p-4 space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500"})]}),t.jsxs("span",{className:"text-xs font-semibold text-sky-600 dark:text-sky-400",children:["LIVE  Speaker ",Y]})]}),t.jsx("span",{className:"text-xs text-slate-400",children:Y==="A"?(oe==null?void 0:oe.langAName)||vr(n).name:(oe==null?void 0:oe.langBName)||vr(l).name})]}),t.jsx("p",{className:"text-lg font-medium text-slate-800 dark:text-white min-h-[28px]",children:pe||t.jsxs("span",{className:"text-slate-400 italic flex items-center gap-2",children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),"Listening..."]})})]}),Ee&&t.jsxs("div",{className:"border-t border-indigo-200 dark:border-indigo-800 pt-2",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[t.jsx(oo,{className:"w-3 h-3 text-indigo-500"}),t.jsx("span",{className:"text-xs font-medium text-indigo-500",children:"Translation Preview"}),t.jsx("span",{className:"text-xs text-slate-400",children:Y==="A"?(oe==null?void 0:oe.langBName)||vr(l).name:(oe==null?void 0:oe.langAName)||vr(n).name})]}),t.jsx("p",{className:"text-base text-indigo-600 dark:text-indigo-400 italic",children:Ee})]})]})]}),t.jsx("div",{className:"h-[280px] overflow-y-auto p-3 bg-slate-50 dark:bg-slate-800/30 rounded-xl",children:le.length===0&&!K?t.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[t.jsx(Md,{className:"w-10 h-10 mb-2 opacity-50"}),t.jsx("p",{className:"text-sm text-center",children:E?"Press and hold a speaker button to start talking":"Click Start to begin conversation"})]}):t.jsxs(t.Fragment,{children:[le.map(wt=>t.jsx(bR,{message:wt,onPlayAudio:wt.audioBase64?()=>Xs(wt.id,wt.audioBase64):void 0,isPlaying:We===wt.id},wt.id)),t.jsx("div",{ref:Fs})]})}),t.jsxs("div",{className:"flex justify-center gap-8 py-4",children:[t.jsx(s2,{speaker:"A",flag:(oe==null?void 0:oe.langAFlag)||vr(n).flag,langName:(oe==null?void 0:oe.langAName)||vr(n).name,isActive:Y==="A",isRecording:K&&Y==="A",isProcessing:ue&&Y==="A",disabled:!E||ue,onPress:()=>en("A"),onRelease:wr}),t.jsx(s2,{speaker:"B",flag:(oe==null?void 0:oe.langBFlag)||vr(l).flag,langName:(oe==null?void 0:oe.langBName)||vr(l).name,isActive:Y==="B",isRecording:K&&Y==="B",isProcessing:ue&&Y==="B",disabled:!E||ue,onPress:()=>en("B"),onRelease:wr})]}),t.jsx("p",{className:"text-center text-xs text-slate-400",children:"Press and hold to speak  Release to translate"})]}):t.jsxs("div",{className:"text-center py-10 px-4",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-xl shadow-orange-500/30",children:t.jsx(Gd,{className:"w-8 h-8 text-white"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Unlock Conversation Mode"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4 text-sm max-w-md mx-auto",children:"Have real-time bilingual conversations. Perfect for travel, meetings, and making connections."}),t.jsxs("a",{href:"/billing",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-400 to-orange-500 text-white rounded-xl font-bold text-sm shadow-lg",children:[t.jsx($T,{className:"w-4 h-4"}),"Upgrade to Premium"]})]})}),e==="batch"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("select",{value:n,onChange:wt=>a(wt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))}),t.jsx("button",{onClick:ir,className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-sky-100 transition-all",children:t.jsx(nb,{className:"w-4 h-4 text-slate-500"})}),t.jsx("select",{value:l,onChange:wt=>u(wt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm text-indigo-600",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))})]}),t.jsxs("div",{onClick:()=>{var wt;return(wt=ut.current)==null?void 0:wt.click()},className:`
                border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all
                ${be?"border-emerald-300 bg-emerald-50 dark:bg-emerald-900/20":"border-slate-300 hover:border-sky-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}
              `,children:[t.jsx("input",{ref:ut,type:"file",accept:"audio/*",onChange:Ts,className:"hidden"}),be?t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(yw,{className:"w-8 h-8 text-emerald-600"}),t.jsx("p",{className:"font-medium text-sm text-slate-900 dark:text-white",children:be.name}),t.jsxs("p",{className:"text-xs text-slate-500",children:[(be.size/1024).toFixed(1)," KB"]})]}):t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(cp,{className:"w-8 h-8 text-slate-400"}),t.jsx("p",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Upload audio file"}),t.jsx("p",{className:"text-xs text-slate-500",children:"WAV, MP3, FLAC, WebM"})]})]}),t.jsxs("button",{onClick:ft,disabled:!be||Ue,className:"w-full py-3 bg-gradient-to-r from-sky-500 to-indigo-500 text-white rounded-xl font-bold text-sm shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[Ue?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(oo,{className:"w-4 h-4"}),Ue?"Processing...":"Translate Audio"]}),te&&t.jsxs("div",{className:"space-y-3 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-medium text-slate-500 mb-1",children:"Original"}),t.jsx("p",{className:"text-sm text-slate-900 dark:text-white bg-white dark:bg-slate-800 p-3 rounded-lg",children:te.originalText})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-medium text-indigo-500 mb-1",children:["Translation",t.jsxs("span",{className:"ml-2 opacity-50 font-normal",children:["(via ",d==="google"?"Google Cloud":o,")"]})]}),t.jsx("p",{className:"text-sm text-slate-900 dark:text-white bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg",children:te.translatedText})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>tr(te.audioBase64),className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-100 text-indigo-600 rounded-lg text-xs font-medium",children:[t.jsx(qb,{className:"w-3 h-3"}),"Play"]}),t.jsxs("button",{onClick:()=>ks(te.translatedText),className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 text-slate-600 rounded-lg text-xs font-medium",children:[kt?t.jsx(Xo,{className:"w-3 h-3"}):t.jsx(Jb,{className:"w-3 h-3"}),"Copy"]})]})]})]})]})]})},yR=({trips:s,selectedTripId:e,onSelectTrip:r,isOpen:n,onToggle:a})=>{const l=s.find(u=>u.id===e);return t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:a,className:"w-full bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-2xl px-6 py-4 flex items-center justify-between hover:border-emerald-400 transition-all shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:t.jsx(RA,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Current Trip"}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:l?l.title:"Select a trip"}),l&&t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[l.destination,"  ",l.expense_count," expenses"]})]})]}),t.jsx(np,{className:`w-5 h-5 text-slate-400 transition-transform ${n?"rotate-180":""}`})]}),n&&t.jsx("div",{className:"absolute z-50 mt-2 w-full bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-2xl shadow-xl max-h-96 overflow-y-auto custom-scrollbar",children:s.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(Co,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:"No active trips"}),t.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"Create an active trip in Travel page first"})]}):t.jsx("div",{className:"py-2",children:s.map(u=>t.jsx("button",{onClick:()=>{r(u.id),a()},className:`
                    w-full px-6 py-4 text-left hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors
                    ${u.id===e?"bg-emerald-50 dark:bg-emerald-900/20":""}
                  `,children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-1",children:u.title}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:u.destination}),t.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[t.jsxs("span",{className:"text-slate-400",children:["Budget: RM ",u.budget.toLocaleString()]}),t.jsx("span",{className:"text-slate-400",children:""}),t.jsxs("span",{className:"text-slate-400",children:[u.expense_count," expenses"]})]})]}),u.id===e&&t.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500 flex items-center justify-center flex-shrink-0",children:t.jsx(Xo,{className:"w-4 h-4 text-white"})})]})},u.id))})})]})},wR=({stats:s,onEditBudget:e})=>{if(!s)return t.jsx("div",{className:"bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-800 rounded-[2.5rem] p-8 text-slate-500 dark:text-slate-400 shadow-xl",children:t.jsx("p",{className:"text-center",children:"Select a trip to view budget"})});const r=Math.min(s.budget_percentage,100),n=s.is_over_budget;return t.jsxs("div",{className:`
      bg-gradient-to-br rounded-[2.5rem] p-8 text-white shadow-xl
      ${n?"from-red-500 to-red-600 shadow-red-500/20":"from-emerald-500 to-teal-600 shadow-emerald-500/20"}
    `,children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsx("p",{className:`font-bold uppercase tracking-wider text-xs ${n?"text-red-100":"text-emerald-100"}`,children:n?"Over Budget!":"Total Spent"}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(p5,{className:"w-4 h-4"})})]}),t.jsxs("h3",{className:"text-4xl font-black mb-1",children:["RM ",s.total_spent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsxs("p",{className:"text-sm mb-4 opacity-90",children:["of RM ",s.budget.toLocaleString()," budget"]}),t.jsx("div",{className:"w-full bg-black/20 rounded-full h-2 mb-2 overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${n?"bg-red-200":"bg-white"}`,style:{width:`${r}%`}})}),t.jsxs("div",{className:"flex justify-between text-xs font-medium opacity-90",children:[t.jsxs("span",{children:[r.toFixed(0),"% Used"]}),t.jsx("span",{className:"flex items-center gap-1",children:n?t.jsxs(t.Fragment,{children:[t.jsx(rx,{className:"w-3 h-3"}),"RM ",Math.abs(s.remaining).toLocaleString()," over"]}):t.jsxs(t.Fragment,{children:[t.jsx(vT,{className:"w-3 h-3"}),"RM ",s.remaining.toLocaleString()," left"]})})]}),Object.keys(s.by_category).length>0&&t.jsxs("div",{className:"mt-6 pt-6 border-t border-white/20",children:[t.jsx("p",{className:"text-xs font-bold uppercase tracking-wider mb-3 opacity-75",children:"Spending by Category"}),t.jsx("div",{className:"space-y-2",children:Object.entries(s.by_category).sort(([,a],[,l])=>l-a).slice(0,3).map(([a,l])=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"capitalize opacity-90",children:a}),t.jsxs("span",{className:"font-bold",children:["RM ",l.toLocaleString()]})]},a))})]})]})},jR=()=>{const s=$l(),[e,r]=W.useState([]),[n,a]=W.useState(null),[l,u]=W.useState(null),[d,A]=W.useState([]),[o,f]=W.useState(!0),[p,m]=W.useState(!1),[x,b]=W.useState(!1),[w,y]=W.useState(!1),[E,P]=W.useState(!1),[z,X]=W.useState(!1),[Y,Q]=W.useState(""),[K,de]=W.useState(null),[ue,ve]=W.useState(null),[le,Ce]=W.useState(null),[oe,Ne]=W.useState({title:"",amount:0,category:"food"}),Ae=W.useCallback((fe,te="success")=>{de({message:fe,type:te}),setTimeout(()=>de(null),3e3)},[]),se=async()=>{f(!0),Ce(null);try{const fe=await fetch("/api/expenses/active-trips",{credentials:"include"});if(fe.ok){const te=await fe.json();r(te.trips||[]),te.trips&&te.trips.length>0&&!n?a(te.trips[0].id):te.hasActiveTrips||Ce("No active trips found. Please create an active trip in Travel page.")}else fe.status===401?Ce("Please log in to continue"):Ce("Failed to load trips")}catch(fe){console.error("Error fetching active trips:",fe),Ce("Network error")}finally{f(!1)}},pe=async fe=>{m(!0);try{const te=await fetch(`/api/expenses/trips/${fe}/stats`,{credentials:"include"});if(te.ok){const ge=await te.json();u(ge)}}catch(te){console.error("Error fetching trip stats:",te)}finally{m(!1)}},re=async fe=>{b(!0);try{const te=await fetch(`/api/expenses/trips/${fe}`,{credentials:"include"});if(te.ok){const ge=await te.json();A(ge.expenses||[])}}catch(te){console.error("Error fetching expenses:",te)}finally{b(!1)}},Ee=async()=>{if(!(!n||!Y))try{const fe=await fetch(`/api/expenses/trips/${n}/budget`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budget:parseFloat(Y)})});if(fe.ok)X(!1),Q(""),pe(n),se(),Ae("Budget updated successfully!","success");else{const te=await fe.json();Ae(`Failed to update budget: ${te.error}`,"error")}}catch(fe){console.error("Error updating budget:",fe),Ae("Failed to update budget","error")}},De=async()=>{if(!oe.title||!oe.amount){Ae("Please fill in title and amount","info");return}if(!n){Ae("Please select a trip first","info");return}try{const fe=await fetch("/api/expenses/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:oe.title,amount:oe.amount,category:oe.category,trip_id:n,transaction_date:new Date().toISOString().split("T")[0]})});if(fe.ok)Ne({title:"",amount:0,category:"food"}),P(!1),pe(n),re(n),se(),Ae("Expense added successfully!","success");else{const te=await fe.json();Ae(`Failed to add expense: ${te.error}`,"error")}}catch(fe){console.error("Error adding expense:",fe),Ae("Failed to add expense","error")}},Se=async()=>{if(ue)try{(await fetch(`/api/expenses/${ue}`,{method:"DELETE",credentials:"include"})).ok&&n?(pe(n),re(n),se(),Ae("Expense deleted successfully","success")):Ae("Failed to delete expense","error")}catch(fe){console.error("Error deleting expense:",fe),Ae("Failed to delete expense","error")}finally{ve(null)}};W.useEffect(()=>{se()},[]),W.useEffect(()=>{n&&(pe(n),re(n))},[n]);const he=fe=>{switch(fe){case"food":return t.jsx(Fd,{className:"w-5 h-5"});case"transport":return t.jsx(l5,{className:"w-5 h-5"});case"shopping":return t.jsx(sx,{className:"w-5 h-5"});case"accommodation":return t.jsx(Zg,{className:"w-5 h-5"});case"entertainment":return t.jsx(qS,{className:"w-5 h-5"});default:return t.jsx(Zb,{className:"w-5 h-5"})}},be=fe=>{switch(fe){case"food":return"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400";case"transport":return"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400";case"shopping":return"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400";case"accommodation":return"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400";case"entertainment":return"bg-pink-100 text-pink-600 dark:bg-pink-900/30 dark:text-pink-400";default:return"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}};return o?t.jsx("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Lr,{className:"w-12 h-12 animate-spin text-emerald-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading trips..."})]})}):le?t.jsx("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto",children:t.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-xl p-6 flex items-start gap-3",children:[t.jsx(Da,{className:"w-6 h-6 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-100 mb-1",children:"No Active Trips"}),t.jsx("p",{className:"text-amber-700 dark:text-amber-300 mb-4",children:le}),t.jsx("button",{onClick:()=>s("/travel"),className:"px-4 py-2 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"Go to Travel Page"})]})]})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto animate-fade-in-up relative",children:[K&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${K.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":K.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[K.type==="error"?t.jsx(Da,{className:"w-5 h-5"}):K.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(El,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:K.message}),t.jsx("button",{onClick:()=>de(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),ue&&t.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60] p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 text-center animate-scale-in",children:[t.jsx("div",{className:"w-14 h-14 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Zo,{className:"w-7 h-7"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Delete Expense?"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8 font-medium leading-relaxed text-sm",children:"This item will be removed from your spending history. This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>ve(null),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all active:scale-95",children:"Cancel"}),t.jsx("button",{onClick:Se,className:"flex-1 py-3 bg-red-600 hover:bg-red-500 text-white rounded-xl text-sm font-bold shadow-lg shadow-red-600/20 transition-all active:scale-95 flex items-center justify-center gap-2",children:"Yes, Delete"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_384px] gap-8",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:t.jsx(Cf,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),"Trip Wallet"]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 font-medium ml-14",children:"Track expenses for each active trip."})]}),t.jsxs("button",{onClick:()=>P(!E),disabled:!n,className:"px-5 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all active:scale-95 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx($i,{className:"w-4 h-4"}),"Add Expense"]})]}),t.jsx(yR,{trips:e,selectedTripId:n,onSelectTrip:a,isOpen:w,onToggle:()=>y(!w)}),E&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] p-6 shadow-xl border border-slate-200 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Item Name"}),t.jsx("input",{type:"text",placeholder:"e.g. Sushi Dinner",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none",value:oe.title,onChange:fe=>Ne({...oe,title:fe.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Amount"}),t.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none",value:oe.amount||"",onChange:fe=>Ne({...oe,amount:Number(fe.target.value)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Category"}),t.jsxs("select",{className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium outline-none",value:oe.category,onChange:fe=>Ne({...oe,category:fe.target.value}),children:[t.jsx("option",{value:"food",children:"Food & Drink"}),t.jsx("option",{value:"transport",children:"Transportation"}),t.jsx("option",{value:"accommodation",children:"Accommodation"}),t.jsx("option",{value:"shopping",children:"Shopping"}),t.jsx("option",{value:"entertainment",children:"Entertainment"}),t.jsx("option",{value:"other",children:"Other"})]})]})]}),t.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-700/50 rounded-xl mb-4",children:t.jsxs("p",{className:"text-xs text-emerald-700 dark:text-emerald-300 flex items-center gap-2",children:[t.jsx(So,{className:"w-3 h-3"}),t.jsxs("span",{children:["This expense will be added to ",t.jsx("strong",{children:l==null?void 0:l.trip_title})]})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{P(!1),Ne({title:"",amount:0,category:"food"})},className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:"Cancel"}),t.jsx("button",{onClick:De,className:"flex-1 py-3 bg-emerald-500 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-400 transition-all active:scale-95",children:"Save Expense"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:["Recent Transactions",d.length>0&&t.jsxs("span",{className:"text-sm font-normal text-slate-400 ml-2",children:["(",d.length," total)"]})]}),x?t.jsxs("div",{className:"text-center py-10",children:[t.jsx(Lr,{className:"w-8 h-8 animate-spin text-emerald-600 mx-auto mb-2"}),t.jsx("p",{className:"text-slate-400",children:"Loading expenses..."})]}):d.length===0?t.jsxs("div",{className:"text-center py-10 bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700",children:[t.jsx(Zb,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-400",children:"No expenses yet for this trip."})]}):d.map(fe=>t.jsxs("div",{className:"group bg-white/60 dark:bg-slate-800/60 backdrop-blur-xl border border-white/60 dark:border-slate-700/50 rounded-2xl p-4 flex items-center justify-between hover:scale-[1.01] hover:shadow-lg transition-all duration-300",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${be(fe.category)}`,children:he(fe.category)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:fe.title}),t.jsx("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:t.jsx("span",{children:fe.date?new Date(fe.date).toLocaleDateString():"No date"})})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:["RM ",fe.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:fe.category})]}),t.jsx("button",{onClick:()=>ve(fe.id),className:"opacity-0 group-hover:opacity-100 p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:t.jsx(qr,{className:"w-4 h-4 text-red-500"})})]})]},fe.id))]})]}),t.jsxs("div",{className:"w-full space-y-8",children:[t.jsx(wR,{stats:l,onEditBudget:()=>{X(!0),Q((l==null?void 0:l.budget.toString())||"")}}),z&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 max-w-md w-full animate-scale-in",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Update Budget"}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:["Set the budget for ",t.jsx("strong",{children:l==null?void 0:l.trip_title})]}),t.jsx("input",{type:"number",placeholder:"Enter budget amount",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none mb-4",value:Y,onChange:fe=>Q(fe.target.value)}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{X(!1),Q("")},className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ee,className:"flex-1 py-3 bg-emerald-500 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-400 transition-all",children:"Update"})]})]})})]})]})]})},NR=({user:s,onUpdateUser:e})=>{const{t:r}=To(["settings","common"]),[n,a]=W.useState({name:s.name,email:s.email||"",avatarUrl:s.avatarUrl}),[l,u]=W.useState(null),d=W.useRef(null),[A,o]=W.useState({currentPassword:"",newPassword:""}),[f,p]=W.useState("idle"),[m,x]=W.useState(""),[b,w]=W.useState(!1),[y,E]=W.useState({hasLength:!1,hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpecial:!1}),[P,z]=W.useState("idle"),[X,Y]=W.useState(null),[Q,K]=W.useState(""),[de,ue]=W.useState(0),[ve,le]=W.useState(""),[Ce,oe]=W.useState("idle"),[Ne,Ae]=W.useState(""),[se,pe]=W.useState(null),[re,Ee]=W.useState(""),[De,Se]=W.useState(0),[he,be]=W.useState(!1),[fe,te]=W.useState(null),[ge,Ue]=W.useState(s.emailNotifications??!0),[Ve,kt]=W.useState(!0),[Bt,We]=W.useState(s.preferredLanguage||K5()),[Ut,Vt]=W.useState(!1);W.useEffect(()=>{Ue(s.emailNotifications??!0)},[s.emailNotifications]),W.useEffect(()=>{s.preferredLanguage&&We(s.preferredLanguage)},[s.preferredLanguage]);const[ls,Fs]=W.useState(!1),[Re,ut]=W.useState(!1),[St,Os]=W.useState(null),[hs,vr]=W.useState(!1),[hr,ir]=W.useState(!1),Ds=(ft,$t="success")=>{Os({message:ft,type:$t}),setTimeout(()=>Os(null),3e3)},Ss=async ft=>{if(ft!==Bt){Vt(!0);try{await lx(ft),We(ft);const $t=new FormData;$t.append("preferredLanguage",ft);const ks=await fetch(`${It}/auth/update-profile`,{method:"PUT",credentials:"include",body:$t});if(ks.ok){const Gs=await ks.json();Gs.user&&e({...Gs.user}),Ds(r("settings:language.changeSuccess",{fallback:"Language updated!"}),"success")}}catch($t){console.error("Failed to update language:",$t)}finally{Vt(!1)}}};W.useEffect(()=>{const ft=new URLSearchParams(window.location.search),$t=ft.get("success"),ks=ft.get("error");$t==="google_linked"&&(Ds("Google account linked successfully!","success"),window.history.replaceState({},"","/settings"),window.location.reload()),ks==="google_already_linked"&&(Ds("This Google account is already linked to another user.","error"),window.history.replaceState({},"","/settings")),ks==="linking_failed"&&(Ds("Failed to link Google account. Please try again.","error"),window.history.replaceState({},"","/settings")),ks==="already_linked"&&(Ds("Your account already has Google linked.","info"),window.history.replaceState({},"","/settings")),ks==="session_expired"&&(Ds("Session expired. Please try again.","error"),window.history.replaceState({},"","/settings"))},[]),W.useEffect(()=>{window.location.hash==="#google-linking"&&setTimeout(()=>{const ft=document.getElementById("google-linking-section");ft==null||ft.scrollIntoView({behavior:"smooth",block:"center"})},100)},[]);const Ls=W.useCallback(ft=>{const $t={hasLength:ft.length>=8,hasUpper:/[A-Z]/.test(ft),hasLower:/[a-z]/.test(ft),hasNumber:/[0-9]/.test(ft),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(ft)};E($t),w(Object.values($t).every(Boolean))},[]),rr=async()=>{if(!A.currentPassword){p("error"),x("Please enter your current password.");return}p("loading"),x("");try{const ft=await fetch(`${It}/auth/password-change/send-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({current_password:A.currentPassword})}),$t=await ft.json();ft.ok&&$t.status==="success"?(Y($t.token),z("verify_code"),ue(60),p("idle"),Ds("Verification code sent to your email","success")):(p("error"),x($t.message||"Failed to verify password."))}catch{p("error"),x("Network error.")}},xr=async()=>{if(!Q||Q.length!==6){p("error"),x("Please enter the 6-digit code.");return}if(!b){p("error"),x("New password is too weak.");return}if(A.newPassword!==ve){p("error"),x("Passwords do not match.");return}p("loading");try{const ft=await fetch(`${It}/auth/password-change/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:X,code:Q,new_password:A.newPassword})}),$t=await ft.json();ft.ok&&$t.status==="success"?(z("success"),p("success"),x("Password changed successfully!"),Ds("Password updated successfully","success"),setTimeout(()=>{z("idle"),o({currentPassword:"",newPassword:""}),K(""),le(""),Y(null),p("idle"),x(""),w(!1)},2e3)):(p("error"),x($t.message||"Failed to change password."))}catch{p("error"),x("Network error.")}},en=async()=>{if(!(de>0))try{const ft=await fetch(`${It}/auth/password-change/resend-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:X})}),$t=await ft.json();ft.ok&&$t.status==="success"?(Y($t.token),ue(60),Ds("Code resent successfully","success")):Ds($t.message||"Failed to resend","error")}catch{Ds("Network error","error")}};Lc.useEffect(()=>{if(de>0){const ft=setTimeout(()=>ue($t=>$t-1),1e3);return()=>clearTimeout(ft)}},[de]),Lc.useEffect(()=>{if(De>0){const ft=setTimeout(()=>Se($t=>$t-1),1e3);return()=>clearTimeout(ft)}},[De]);const wr=ft=>{var ks;const $t=(ks=ft.target.files)==null?void 0:ks[0];if($t){if($t.size>1048576){Ds("File is too large! Please upload an image smaller than 1MB.","error"),ft.target.value="";return}u($t);const lr=new FileReader;lr.onloadend=()=>{a(wt=>({...wt,avatarUrl:lr.result}))},lr.readAsDataURL($t)}},tr=async()=>{Fs(!0);try{const ft=new FormData;ft.append("name",n.name),ft.append("emailNotifications",String(ge)),l&&ft.append("avatar",l);const $t=await fetch(`${It}/auth/update-profile`,{method:"PUT",credentials:"include",body:ft}),ks=await $t.json();$t.ok?(ut(!0),setTimeout(()=>ut(!1),3e3),ks.user&&e({...ks.user}),u(null),Ds("Profile updated successfully!","success")):Ds(ks.message||"Update failed","error")}catch(ft){console.error("Upload error:",ft),Ds("Network error occurred. Please try again.","error")}finally{Fs(!1)}},Xs=()=>t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-500 bg-white dark:bg-slate-700/50 p-3 rounded-lg border border-slate-200 dark:border-slate-600 mt-2",children:[t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasLength?"text-emerald-500 font-bold":""}`,children:[y.hasLength?t.jsx(Xo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Min 8 chars"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasUpper?"text-emerald-500 font-bold":""}`,children:[y.hasUpper?t.jsx(Xo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Uppercase"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasLower?"text-emerald-500 font-bold":""}`,children:[y.hasLower?t.jsx(Xo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Lowercase"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasNumber?"text-emerald-500 font-bold":""}`,children:[y.hasNumber?t.jsx(Xo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Number"]}),t.jsxs("div",{className:`col-span-2 flex items-center gap-1.5 ${y.hasSpecial?"text-emerald-500 font-bold":""}`,children:[y.hasSpecial?t.jsx(Xo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Special char (!@#$%^&*)"]})]}),Ts=()=>P==="idle"||P==="verify_current"?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(k3,{className:"w-5 h-5 text-sky-500"}),t.jsx("h4",{className:"font-bold text-slate-700 dark:text-white",children:"Change Password (Secure)"})]}),t.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"For your security, we'll send a verification code to your email."}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ld,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"",value:A.currentPassword,onChange:ft=>o({...A,currentPassword:ft.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:f==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:m})}),t.jsx("button",{onClick:rr,disabled:f==="loading"||!A.currentPassword,className:"px-5 py-2 bg-sky-600 text-white rounded-xl text-xs font-bold hover:bg-sky-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f==="loading"?t.jsx(Lr,{className:"w-3 h-3 animate-spin"}):t.jsxs(t.Fragment,{children:["Continue ",t.jsx(IA,{className:"w-3 h-3"})]})})]})]})]}):P==="verify_code"?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Wd,{className:"w-5 h-5 text-blue-500"}),t.jsx("h4",{className:"font-bold text-slate-700 dark:text-white",children:"Verify & Set New Password"})]}),t.jsxs("p",{className:"text-xs text-slate-500 mb-4",children:["Enter the 6-digit code sent to ",t.jsx("strong",{children:s.email})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Verification Code"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",placeholder:"000000",value:Q,onChange:ft=>K(ft.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 text-sm font-mono tracking-[0.3em] text-center font-bold outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:en,disabled:de>0,className:"text-xs text-sky-600 hover:text-sky-700 font-medium disabled:text-slate-400",children:de>0?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{className:"w-3 h-3"})," Resend in ",de,"s"]}):t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(cd,{className:"w-3 h-3"})," Resend Code"]})})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ld,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Min 8 characters",value:A.newPassword,onChange:ft=>{const $t=ft.target.value;o({...A,newPassword:$t}),Ls($t)},className:`w-full bg-white dark:bg-slate-800 border rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none transition-all ${A.newPassword.length>0&&!b?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 dark:border-slate-700 focus:ring-sky-500/20 focus:border-sky-500"}`})]}),A.newPassword.length>0&&Xs()]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ld,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Confirm password",value:ve,onChange:ft=>le(ft.target.value),className:`w-full bg-white dark:bg-slate-800 border rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none transition-all ${ve.length>0&&ve!==A.newPassword?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 dark:border-slate-700 focus:ring-sky-500/20 focus:border-sky-500"}`})]}),ve.length>0&&ve!==A.newPassword&&t.jsx("p",{className:"text-xs text-red-500 font-bold",children:"Passwords do not match"})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsx("button",{onClick:()=>{z("idle"),K(""),o({currentPassword:"",newPassword:""}),le(""),p("idle"),x("")},className:"text-xs text-slate-500 hover:text-slate-700",children:" Back"}),t.jsxs("div",{className:"flex items-center gap-3",children:[f==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:m}),t.jsx("button",{onClick:xr,disabled:f==="loading"||Q.length!==6||!b||A.newPassword!==ve,className:"px-5 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f==="loading"?t.jsx(Lr,{className:"w-3 h-3 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(Xo,{className:"w-3 h-3"})," Change Password"]})})]})]})]})]}):P==="success"?t.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl p-6 border border-emerald-200 dark:border-emerald-800",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(uo,{className:"w-6 h-6 text-emerald-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-emerald-800 dark:text-emerald-200",children:"Password Changed!"}),t.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Your password has been updated successfully."})]})]})}):null;return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-4xl mx-auto animate-fade-in-up relative",children:[St&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${St.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":St.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[St.type==="error"?t.jsx(Da,{className:"w-5 h-5"}):St.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(El,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:St.message}),t.jsx("button",{onClick:()=>Os(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(Jo,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"General Settings"})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-10 pb-10 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var ft;return(ft=d.current)==null?void 0:ft.click()},children:[t.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white dark:border-slate-800 shadow-xl ring-2 ring-slate-100 dark:ring-slate-700",children:t.jsx("img",{src:n.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx(Xg,{className:"w-8 h-8 text-white"})}),t.jsx("input",{type:"file",ref:d,className:"hidden",accept:"image/*",onChange:wr})]}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Profile Photo"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 mb-4",children:"Click the image to upload a new photo. JPG, GIF or PNG."}),t.jsx("button",{onClick:()=>{var ft;return(ft=d.current)==null?void 0:ft.click()},className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Change Photo"})]})]}),t.jsxs("div",{className:"space-y-6 max-w-2xl",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Personal Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Jo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:n.name,onChange:ft=>a({...n,name:ft.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",value:n.email,disabled:!0,className:"w-full bg-slate-100 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none text-slate-500 cursor-not-allowed"})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:"Security"}),s.authProvider==="google"||!s.email?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 flex items-center gap-3 text-slate-500 border border-slate-200 dark:border-slate-700",children:[t.jsx(Wd,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm",children:"You are logged in via Google. Password change is not applicable."})]}):Ts()]}),t.jsxs("div",{id:"google-linking-section",className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(u5,{className:"w-5 h-5 text-sky-500"}),"Google Account"]}),s.authProvider==="google"||s.hasGoogleLinked?t.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl p-5 border border-emerald-200 dark:border-emerald-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center shadow-sm border border-emerald-200 dark:border-emerald-700",children:t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-bold text-emerald-800 dark:text-emerald-200",children:"Google Account Linked"}),t.jsx(uo,{className:"w-5 h-5 text-emerald-500"})]}),t.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 mt-1",children:s.authProvider==="google"?"You signed up with Google. Calendar features are available.":"Your Google account is connected. Calendar sync and trip export are enabled."})]})]}),s.authProvider==="email"&&s.hasGoogleLinked&&t.jsx("div",{className:"mt-4 pt-4 border-t border-emerald-200 dark:border-emerald-700/50",children:t.jsxs("button",{onClick:async()=>{if(window.confirm("Are you sure you want to unlink your Google account? Calendar sync and trip export will no longer work.")){ir(!0);try{const ft=await fetch(`${It}/auth/unlink-google`,{method:"POST",credentials:"include"}),$t=await ft.json();ft.ok&&$t.status==="success"?(Ds("Google account unlinked successfully","success"),$t.user&&e($t.user)):Ds($t.message||"Failed to unlink Google account","error")}catch{Ds("Network error. Please try again.","error")}finally{ir(!1)}}},disabled:hr,className:"text-xs text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 font-medium flex items-center gap-1.5 disabled:opacity-50",children:[hr?t.jsx(Lr,{className:"w-3 h-3 animate-spin"}):t.jsx(TT,{className:"w-3 h-3"}),hr?"Unlinking...":"Unlink Google Account"]})})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Link Google Account"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 leading-relaxed",children:"Connect your Google account to enable Calendar sync and export your trips to Google Calendar."}),t.jsxs("button",{onClick:()=>{vr(!0),window.location.href=`${It}/auth/link-google`},disabled:hs,className:"px-5 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-slate-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[hs?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"",className:"w-4 h-4"}),hs?"Connecting...":"Connect Google Account",!hs&&t.jsx(ip,{className:"w-3 h-3 text-slate-400"})]})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700/50 flex items-start gap-2",children:[t.jsx(El,{className:"w-4 h-4 text-slate-400 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 leading-relaxed",children:"We only access your Google Calendar to sync events. Your data stays secure with Google OAuth."})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Preferences"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:t.jsx(Au,{className:"w-5 h-5 text-sky-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Email Notifications"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Receive trip updates and AI suggestions"})]})]}),t.jsx("button",{onClick:()=>Ue(!ge),className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors duration-300 ${ge?"bg-sky-500":"bg-slate-300 dark:bg-slate-700"}`,children:t.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-300 ${ge?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:t.jsx(Wd,{className:"w-5 h-5 text-emerald-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Data Privacy"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Allow AI to use travel history for better suggestions"})]})]}),t.jsx("button",{onClick:()=>kt(!Ve),className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors duration-300 ${Ve?"bg-emerald-500":"bg-slate-300 dark:bg-slate-700"}`,children:t.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-300 ${Ve?"translate-x-6":"translate-x-0"}`})})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(h0,{className:"w-5 h-5 text-indigo-500"}),r("settings:language.title","Language")]}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:r("settings:language.description","Choose your preferred language for the interface and AI responses")}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:LP.map(ft=>t.jsxs("button",{onClick:()=>Ss(ft.code),disabled:Ut,className:`p-4 rounded-xl border-2 transition-all duration-200 text-left relative ${Bt===ft.code?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 shadow-md":"border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 hover:border-slate-300 dark:hover:border-slate-600"} ${Ut?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[Bt===ft.code&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(uo,{className:"w-5 h-5 text-indigo-500"})}),t.jsx("span",{className:"text-2xl mb-2 block",children:ft.flag}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:ft.nativeName}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ft.name})]},ft.code))}),Ut&&t.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-slate-500",children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),r("settings:language.changing","Changing language...")]})]}),t.jsx("div",{className:"pt-6 mt-6 flex justify-end",children:t.jsxs("button",{onClick:tr,disabled:ls,className:`w-full md:w-auto px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-lg hover:bg-slate-800 dark:hover:bg-slate-200 transition-all flex items-center justify-center gap-2 ${ls?"opacity-70 cursor-not-allowed":""}`,children:[ls?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):Re?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(QA,{className:"w-5 h-5"}),Re?"Saved":ls?"Saving...":"Save Changes"]})})]})]})]})},kR=({user:s,onUpdateUser:e})=>{const r=$l(),[n]=_B(),{t:a}=To(["billing","common"]),[l,u]=W.useState("plans"),[d,A]=W.useState(!1),[o,f]=W.useState(null),[p,m]=W.useState(null),[x,b]=W.useState(null),[w,y]=W.useState(!1),[E,P]=W.useState([]),[z,X]=W.useState(!0),[Y,Q]=W.useState(""),[K,de]=W.useState(!1),[ue,ve]=W.useState(null),[le,Ce]=W.useState(null),[oe,Ne]=W.useState(""),[Ae,se]=W.useState([]),[pe,re]=W.useState(!1),[Ee,De]=W.useState("all"),[Se,he]=W.useState(null),be={monthly:[a("billing:features.monthly.unlimitedPlanning"),a("billing:features.monthly.routeOptimization"),a("billing:features.monthly.prioritySupport"),a("billing:features.monthly.budgetTracking"),a("billing:features.monthly.calendarSync")],yearly:[a("billing:features.yearly.everythingMonthly"),a("billing:features.yearly.twoMonthsFree"),a("billing:features.yearly.earlyAccess"),a("billing:features.yearly.exclusiveTips"),a("billing:features.yearly.noPriceIncrease")],lifetime:[a("billing:features.lifetime.everythingYearly"),a("billing:features.lifetime.lifetimeUpdates"),a("billing:features.lifetime.vipSupport"),a("billing:features.lifetime.transferableLicense"),a("billing:features.lifetime.communityAccess")]};W.useEffect(()=>{te(),fe();const Re=n.get("success"),ut=n.get("activated");Re==="true"&&(he(a("billing:messages.paymentSuccess")),setTimeout(()=>he(null),5e3)),ut==="true"&&(he(a("billing:messages.membershipActivated")),setTimeout(()=>he(null),5e3))},[]),W.useEffect(()=>{l==="transactions"&&ge()},[l,Ee]),W.useEffect(()=>{if(p!=null&&p.pendingOrder){const Re=setInterval(Ue,1e4);return()=>clearInterval(Re)}},[p]);const fe=async()=>{try{X(!0);const Re=await fetch(`${It}/api/payment/plans`,{credentials:"include"});if(Re.ok){const ut=await Re.json();P(ut.plans||[])}}catch(Re){console.error("Failed to fetch plans:",Re)}finally{X(!1)}},te=async()=>{try{const Re=await fetch(`${It}/api/payment/subscription-status`,{credentials:"include"});if(Re.ok){const ut=await Re.json();m(ut)}}catch(Re){console.error("Failed to fetch subscription status:",Re)}},ge=async()=>{try{re(!0);const Re=Ee==="all"?`${It}/api/payment/transactions`:`${It}/api/payment/transactions?status=${Ee}`,St=await(await fetch(Re,{credentials:"include"})).json();se(St.transactions||[])}catch(Re){console.error("Failed to fetch transactions:",Re)}finally{re(!1)}},Ue=async()=>{var Re;if(p!=null&&p.pendingOrder){y(!0);try{const St=await(await fetch(`${It}/api/payment/verify-order/${p.pendingOrder.orderReference}`,{method:"POST",credentials:"include"})).json();St.success&&((Re=St.order)==null?void 0:Re.status)==="active"&&(await te(),e({isPremium:!0}),he(a("billing:messages.planActive")),setTimeout(()=>he(null),5e3))}catch(ut){console.error("Error checking order status:",ut)}finally{y(!1)}}},Ve=async Re=>{if(!Y.trim()){Ne(a("billing:errors.enterVoucherCode"));return}de(!0),Ne("");const ut=Re!==void 0?Re:o==null?void 0:o.id;try{const Os=await(await fetch(`${It}/api/payment/validate-voucher`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:Y.trim(),planId:ut||null})})).json();Os.valid?(ve(Os.voucher),Ce(Os.preview),Ne(""),Os.voucher.type==="activation"&&f(null)):(Ne(Os.error||a("billing:errors.invalidVoucher")),Ce(null))}catch{Ne(a("billing:errors.validateVoucherFailed"))}finally{de(!1)}},kt=()=>{ve(null),Ce(null),Q(""),Ne("")},Bt=async Re=>{A(!0),Re&&f(Re),b(null);try{const ut={};if(Re&&(ut.planId=Re.id),ue&&(ut.voucherCode=ue.code),!Re&&(ue==null?void 0:ue.type)!=="activation")throw new Error(a("billing:errors.selectPlan"));const St=await fetch(`${It}/api/payment/create-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ut)}),Os=await St.json();if(Os.activated){await te(),e({isPremium:!0}),he(a("billing:messages.membershipActivated")),kt();return}if(St.ok&&Os.paymentUrl)window.location.href=Os.paymentUrl;else if(Os.redirectTo)await te(),e({isPremium:!0}),he(a("billing:messages.activatedWithVoucher")),kt();else throw new Error(Os.error||a("billing:errors.paymentFailed"))}catch(ut){b(ut.message||a("billing:errors.paymentFailed"))}finally{A(!1)}},We=async Re=>{try{const St=await(await fetch(`${It}/api/payment/continue-payment/${Re}`,{credentials:"include"})).json();St.paymentUrl?window.location.href=St.paymentUrl:St.error&&(b(St.error),St.reason==="payment_url_reuse_blocked"&&(await te(),await ge()))}catch{b(a("billing:errors.continueFailed"))}},Ut=async Re=>{try{(await fetch(`${It}/api/payment/cancel-order/${Re}`,{method:"POST",credentials:"include"})).ok&&(ge(),te())}catch(ut){console.error("Failed to cancel order:",ut)}},Vt=Re=>{r(`/receipt?order_id=${Re}`)},ls=Re=>{const ut={pending:{icon:Vi,color:"text-amber-600 bg-amber-50 dark:bg-amber-900/20",label:a("billing:status.pending")},paid:{icon:Bo,color:"text-green-600 bg-green-50 dark:bg-green-900/20",label:a("billing:status.paid")},active:{icon:Bo,color:"text-green-600 bg-green-50 dark:bg-green-900/20",label:a("billing:status.active")},cancelled:{icon:hu,color:"text-red-600 bg-red-50 dark:bg-red-900/20",label:a("billing:status.cancelled")},expired:{icon:qo,color:"text-gray-600 bg-gray-50 dark:bg-gray-800",label:a("billing:status.expired")},refunded:{icon:hu,color:"text-blue-600 bg-blue-50 dark:bg-blue-900/20",label:a("billing:status.refunded")},failed:{icon:hu,color:"text-red-600 bg-red-50 dark:bg-red-900/20",label:a("billing:status.failed")}},St=ut[Re]||ut.pending,Os=St.icon;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${St.color}`,children:[t.jsx(Os,{size:14}),St.label]})},Fs=Re=>Re.durationDays===null||Re.slug==="lifetime"?"one-time":Re.durationDays===30||Re.slug==="monthly"?"month":Re.durationDays===365||Re.slug==="yearly"?"year":`${Re.durationDays} days`;return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-7xl mx-auto animate-fade-in-up",children:[Se&&t.jsxs("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(Bo,{className:"w-5 h-5 text-green-600"}),t.jsx("p",{className:"text-green-700 dark:text-green-400 font-medium",children:Se})]}),(p==null?void 0:p.pendingOrder)&&t.jsx("div",{className:"mb-8 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-2xl p-6 shadow-sm",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:w?t.jsx(Lr,{className:"w-6 h-6 text-amber-600 animate-spin"}):t.jsx(Da,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-100 mb-2",children:a("billing:pending.title")}),t.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-400 mb-4",children:["Order ",t.jsx("span",{className:"font-mono font-bold",children:p.pendingOrder.orderReference})," is pending payment.",p.pendingOrder.remainingTime>0&&t.jsx("span",{className:"ml-2",children:a("billing:pending.expiresIn",{time:`${Math.floor(p.pendingOrder.remainingTime/60)}:${String(p.pendingOrder.remainingTime%60).padStart(2,"0")}`})})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[p.pendingOrder.paymentUrl?t.jsx("div",{className:"text-sm text-amber-700 dark:text-amber-300 bg-amber-100 dark:bg-amber-900/30 px-4 py-2 rounded-lg",children:a("billing:pending.sessionEnded")}):t.jsxs("button",{onClick:()=>We(p.pendingOrder.orderReference),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors flex items-center gap-2",children:[t.jsx(ap,{className:"w-4 h-4"}),a("billing:actions.continuePayment")]}),t.jsxs("button",{onClick:()=>Ue(),disabled:w,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-amber-200 dark:border-amber-800 text-amber-700 dark:text-amber-400 rounded-lg hover:bg-amber-50 dark:hover:bg-amber-900/10 transition-colors flex items-center gap-2",children:[w?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(Bo,{className:"w-4 h-4"}),a("billing:actions.refreshStatus")]})]})]})]})}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-amber-500/20 to-orange-500/20 rounded-full mb-4",children:[t.jsx(Gd,{className:"w-5 h-5 text-amber-600"}),t.jsx("span",{className:"text-sm font-bold text-amber-700 dark:text-amber-400",children:a("billing:plans.title")})]}),t.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-4",children:["Upgrade to ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-500 to-orange-600",children:"Premium"})]}),t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:a("billing:plans.subtitle")})]}),(p==null?void 0:p.isPremium)&&t.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-6 mb-8 border border-amber-200 dark:border-amber-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(oo,{className:"w-6 h-6 text-amber-600"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:a("billing:subscription.activeTitle")})]}),p.subscriptionEndDate?t.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[t.jsx(Co,{className:"w-4 h-4 inline mr-2"}),"Valid until: ",new Date(p.subscriptionEndDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})]}):t.jsxs("p",{className:"text-slate-600 dark:text-slate-400 flex items-center gap-2",children:[t.jsx(Gd,{className:"w-4 h-4 text-amber-600"}),t.jsx("span",{className:"font-bold text-amber-700",children:a("billing:subscription.lifetimeAccess")})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden mb-8",children:[t.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("button",{onClick:()=>u("plans"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${l==="plans"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(Cf,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:a("billing:tabs.plans")})]}),t.jsxs("button",{onClick:()=>u("transactions"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${l==="transactions"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(p3,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:a("billing:tabs.transactions")})]}),t.jsxs("button",{onClick:()=>u("voucher"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${l==="voucher"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(xf,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:a("billing:tabs.redeemCode")})]})]}),t.jsxs("div",{className:"p-6",children:[x&&t.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 mb-6 flex items-center gap-3",children:[t.jsx(Da,{className:"w-5 h-5 text-red-600"}),t.jsx("p",{className:"text-red-700 dark:text-red-400",children:x}),t.jsx("button",{onClick:()=>b(null),className:"ml-auto text-red-400 hover:text-red-600",children:t.jsx(qr,{size:18})})]}),l==="plans"&&t.jsx("div",{children:z?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-amber-500"})}):t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:E.map(Re=>{var rr;const ut=be[Re.slug]||be.monthly,St=(o==null?void 0:o.id)===Re.id,Os=St&&le,hs=Re.actionType||"purchase",vr=Re.canPurchase!==!1;let hr=ap,ir=a("billing:actions.subscribeNow"),Ds=!1;hs==="upgrade"?(ir=a("billing:actions.upgradePlan"),hr=rx,Ds=!0):hs==="renew"?(ir=a("billing:actions.renewSubscription"),hr=cd):hs==="blocked"?(ir=a("billing:actions.currentPlanHigher"),hr=Ld):p!=null&&p.isPremium&&Re.slug==="lifetime"&&!p.subscriptionEndDate&&(ir=a("billing:actions.currentPlan"),hr=Xo),((rr=p==null?void 0:p.currentSubscription)==null?void 0:rr.planId)===Re.id&&hs==="renew"&&(ir=a("billing:actions.renewExtend"));const Ls=d||!vr;return t.jsxs("div",{onClick:()=>{(!Ls||hs!=="blocked")&&(f(Re),Y.trim()&&Ve(Re.id))},className:`relative bg-white dark:bg-slate-800 rounded-2xl p-6 border-2 transition-all duration-300 ${Ls?"opacity-80":"cursor-pointer hover:scale-[1.02]"} ${Re.isFeatured||Re.slug==="yearly"?"border-amber-500 shadow-xl shadow-amber-500/20":St?"border-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:[(Re.isFeatured||Re.slug==="yearly")&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-gradient-to-r from-amber-500 to-orange-600 text-white text-xs font-bold rounded-full shadow-lg",children:a("billing:plans.mostPopular")}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:Re.name}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:Re.description}),t.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[Os?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-2xl text-slate-400 line-through",children:["RM ",le.originalPrice]}),t.jsxs("span",{className:"text-3xl font-bold text-green-600",children:["RM ",le.finalPrice.toFixed(2)]})]}):t.jsxs("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:["RM ",Re.price]}),t.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["/",Fs(Re)]})]}),Os&&t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Save RM ",le.discount.toFixed(2),"!"]})]}),t.jsx("ul",{className:"space-y-3 mb-6",children:ut.map((xr,en)=>t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Xo,{className:"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:xr})]},en))}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{onClick:xr=>{xr.stopPropagation(),Ls||Bt(Re)},disabled:Ls,className:`w-full py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${Ls?"bg-slate-100 dark:bg-slate-700 text-slate-400 dark:text-slate-500 cursor-not-allowed":Re.isFeatured||Re.slug==="yearly"?"bg-gradient-to-r from-amber-500 to-orange-600 text-white hover:shadow-lg hover:shadow-amber-500/50":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:d&&(o==null?void 0:o.id)===Re.id?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-5 h-5 animate-spin"}),a("billing:pricing.processing")]}):t.jsxs(t.Fragment,{children:[t.jsx(hr,{className:"w-5 h-5"}),ir]})}),Ds&&!Ls&&t.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 text-center font-medium animate-pulse",children:a("billing:subscription.remainingDaysAdded")}),hs==="blocked"&&t.jsx("p",{className:"text-xs text-slate-400 text-center",children:a("billing:subscription.higherTierPlan")})]})]},Re.id)})})}),l==="transactions"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a("billing:transactions.title")}),t.jsxs("select",{value:Ee,onChange:Re=>De(Re.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm",children:[t.jsx("option",{value:"all",children:a("billing:transactions.filters.all")}),t.jsx("option",{value:"pending",children:a("billing:transactions.filters.pending")}),t.jsx("option",{value:"paid",children:a("billing:transactions.filters.paid")}),t.jsx("option",{value:"expired",children:a("billing:transactions.filters.expired")}),t.jsx("option",{value:"cancelled",children:a("billing:transactions.filters.cancelled")})]})]}),pe?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-amber-500"})}):Ae.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(m5,{className:"w-12 h-12 mx-auto mb-3 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:a("billing:transactions.noTransactions")})]}):t.jsx("div",{className:"space-y-4",children:Ae.map(Re=>t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:Re.planName}),t.jsx("p",{className:"text-sm text-slate-500 font-mono",children:Re.orderReference}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Re.createdAt})]}),t.jsxs("div",{className:"text-right",children:[ls(Re.status),t.jsxs("p",{className:"mt-2 font-bold text-lg text-slate-900 dark:text-white",children:["RM ",Re.amount.toFixed(2)]}),Re.discountAmount>0&&t.jsx("p",{className:"text-xs text-green-600",children:a("billing:transactions.discount",{amount:Re.discountAmount.toFixed(2)})})]})]}),Re.canContinuePayment&&Re.status==="pending"&&t.jsxs("div",{className:"mt-4 flex gap-2",children:[t.jsxs("button",{onClick:()=>We(Re.orderReference),className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg flex items-center justify-center gap-2",children:[t.jsx(ip,{size:18}),a("billing:actions.continuePayment")]}),t.jsx("button",{onClick:()=>Ut(Re.orderReference),className:"px-4 py-2.5 border border-red-200 text-red-600 hover:bg-red-50 rounded-lg",children:a("billing:actions.cancel")})]}),["paid","active"].includes(Re.status)&&Re.paymentMethod!=="activation_code"&&t.jsxs("button",{onClick:()=>Vt(Re.orderReference),className:"mt-4 w-full py-2.5 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg flex items-center justify-center gap-2 hover:bg-slate-100 dark:hover:bg-slate-700",children:[t.jsx(Td,{size:18}),a("billing:actions.viewReceipt")]}),Re.voucherCode&&t.jsxs("p",{className:"mt-3 text-xs text-slate-500",children:["Voucher: ",t.jsx("span",{className:"font-mono bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:Re.voucherCode})]})]},Re.id))})]}),l==="voucher"&&t.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx(xf,{className:"w-12 h-12 mx-auto mb-3 text-amber-500"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:a("billing:voucher.title")}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:a("billing:voucher.description")})]}),!ue&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Wm,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:Y,onChange:Re=>Q(Re.target.value.toUpperCase()),placeholder:a("billing:voucher.placeholder"),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl font-mono uppercase text-lg tracking-wider focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all shadow-sm",onKeyDown:Re=>Re.key==="Enter"&&Ve()})]}),t.jsx("button",{onClick:()=>Ve(),disabled:!Y.trim()||K,className:"w-full py-3.5 bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg shadow-amber-500/20 transition-all hover:scale-[1.02]",children:K?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-5 h-5 animate-spin"}),a("billing:voucher.validating")]}):t.jsxs(t.Fragment,{children:[a("billing:voucher.checkCode")," ",t.jsx(IA,{size:18})]})}),oe&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/50 rounded-lg flex items-center justify-center gap-2 text-red-600 dark:text-red-400 text-sm animate-shake",children:[t.jsx(Da,{size:16}),oe]})]}),(ue==null?void 0:ue.type)==="activation"&&t.jsx("div",{className:"animate-fade-in-up",children:t.jsx("div",{className:"p-1 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-2xl shadow-xl",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(oo,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:a("billing:activation.title")}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:a("billing:activation.code",{code:ue.code})}),t.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 mb-6 border border-purple-100 dark:border-purple-800/50",children:[t.jsx("p",{className:"text-sm text-purple-800 dark:text-purple-300 mb-1",children:a("billing:activation.youWillReceive")}),t.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:[ue.activationDays?a("billing:activation.daysPrefix",{days:ue.activationDays}):a("billing:activation.lifetime")," Premium"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>Bt(),disabled:d,className:"w-full py-4 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-purple-600/30 transition-all hover:scale-[1.02]",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-5 h-5 animate-spin"}),a("billing:activation.activating")]}):t.jsxs(t.Fragment,{children:[a("billing:activation.activateNow")," ",t.jsx(oo,{className:"w-5 h-5"})]})}),t.jsx("button",{onClick:kt,className:"text-sm text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 underline",children:a("billing:activation.useDifferentCode")})]})]})})}),(ue==null?void 0:ue.type)==="discount"&&t.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Wm,{className:"w-5 h-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-mono font-bold text-green-700 dark:text-green-400",children:ue.code}),t.jsx("p",{className:"text-sm text-green-600",children:ue.discountType==="percentage"?a("billing:discount.percentOff",{percent:ue.discountValue}):a("billing:discount.amountOff",{amount:ue.discountValue})})]})]}),t.jsx("button",{onClick:kt,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:t.jsx(qr,{size:18})})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-6 h-6 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),a("billing:discount.selectPlan")]}),t.jsx("div",{className:"grid grid-cols-1 gap-3",children:E.map(Re=>t.jsxs("button",{onClick:()=>{Re.canPurchase!==!1&&(f(Re),Y.trim()&&Ve(Re.id))},disabled:Re.canPurchase===!1&&Re.actionType==="blocked",className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${(o==null?void 0:o.id)===Re.id?"border-amber-500 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-700 hover:border-amber-200"} ${Re.canPurchase===!1?"opacity-60 cursor-not-allowed":""}`,children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:Re.name}),t.jsx("p",{className:"text-xs text-slate-500",children:Re.description})]}),t.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:["RM ",Re.price]})]},Re.id))})]}),o&&t.jsxs("div",{className:"animate-fade-in-up",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx("span",{className:"w-6 h-6 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),a("billing:discount.confirmPay")]}),t.jsx("button",{onClick:()=>Ve(),className:"text-xs text-amber-600 underline",children:a("billing:discount.refreshPrice")})]}),t.jsxs("div",{className:"p-5 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[le?t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-500",children:a("billing:pricing.planPrice",{planName:o.name})}),t.jsxs("span",{className:"text-slate-900 dark:text-white",children:["RM ",o.price.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-green-600 font-medium",children:[t.jsx("span",{children:a("billing:voucher.applied")}),t.jsxs("span",{children:["-RM ",le.discount.toFixed(2)]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3 flex justify-between items-end",children:[t.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:a("billing:pricing.total")}),t.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:["RM ",le.finalPrice.toFixed(2)]})]})]}):t.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin mx-auto mb-2"}),a("billing:discount.calculatingDiscount")]}),t.jsx("button",{onClick:()=>Bt(o),disabled:d||!le,className:"w-full mt-5 py-3.5 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-amber-500/30 hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:scale-100",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-5 h-5 animate-spin"}),a("billing:pricing.processing")]}):t.jsxs(t.Fragment,{children:[a("billing:pricing.proceedToPayment")," ",t.jsx(IA,{size:18})]})})]})]})]})]})]})]})]})};var gb={exports:{}},Bm={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var CR=Bm.exports,r2;function BR(){return r2||(r2=1,(function(s,e){(function(r,n){s.exports=n()})(CR,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var r=function(B,j){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,L){F.__proto__=L}||function(F,L){for(var ae in L)Object.prototype.hasOwnProperty.call(L,ae)&&(F[ae]=L[ae])},r(B,j)};function n(B,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");r(B,j);function F(){this.constructor=B}B.prototype=j===null?Object.create(j):(F.prototype=j.prototype,new F)}var a=function(){return a=Object.assign||function(j){for(var F,L=1,ae=arguments.length;L<ae;L++){F=arguments[L];for(var je in F)Object.prototype.hasOwnProperty.call(F,je)&&(j[je]=F[je])}return j},a.apply(this,arguments)};function l(B,j,F,L){function ae(je){return je instanceof F?je:new F(function(Fe){Fe(je)})}return new(F||(F=Promise))(function(je,Fe){function qe(Dt){try{Nt(L.next(Dt))}catch(Gt){Fe(Gt)}}function et(Dt){try{Nt(L.throw(Dt))}catch(Gt){Fe(Gt)}}function Nt(Dt){Dt.done?je(Dt.value):ae(Dt.value).then(qe,et)}Nt((L=L.apply(B,[])).next())})}function u(B,j){var F={label:0,sent:function(){if(je[0]&1)throw je[1];return je[1]},trys:[],ops:[]},L,ae,je,Fe;return Fe={next:qe(0),throw:qe(1),return:qe(2)},typeof Symbol=="function"&&(Fe[Symbol.iterator]=function(){return this}),Fe;function qe(Nt){return function(Dt){return et([Nt,Dt])}}function et(Nt){if(L)throw new TypeError("Generator is already executing.");for(;F;)try{if(L=1,ae&&(je=Nt[0]&2?ae.return:Nt[0]?ae.throw||((je=ae.return)&&je.call(ae),0):ae.next)&&!(je=je.call(ae,Nt[1])).done)return je;switch(ae=0,je&&(Nt=[Nt[0]&2,je.value]),Nt[0]){case 0:case 1:je=Nt;break;case 4:return F.label++,{value:Nt[1],done:!1};case 5:F.label++,ae=Nt[1],Nt=[0];continue;case 7:Nt=F.ops.pop(),F.trys.pop();continue;default:if(je=F.trys,!(je=je.length>0&&je[je.length-1])&&(Nt[0]===6||Nt[0]===2)){F=0;continue}if(Nt[0]===3&&(!je||Nt[1]>je[0]&&Nt[1]<je[3])){F.label=Nt[1];break}if(Nt[0]===6&&F.label<je[1]){F.label=je[1],je=Nt;break}if(je&&F.label<je[2]){F.label=je[2],F.ops.push(Nt);break}je[2]&&F.ops.pop(),F.trys.pop();continue}Nt=j.call(B,F)}catch(Dt){Nt=[6,Dt],ae=0}finally{L=je=0}if(Nt[0]&5)throw Nt[1];return{value:Nt[0]?Nt[1]:void 0,done:!0}}}function d(B,j,F){if(arguments.length===2)for(var L=0,ae=j.length,je;L<ae;L++)(je||!(L in j))&&(je||(je=Array.prototype.slice.call(j,0,L)),je[L]=j[L]);return B.concat(je||j)}for(var A=(function(){function B(j,F,L,ae){this.left=j,this.top=F,this.width=L,this.height=ae}return B.prototype.add=function(j,F,L,ae){return new B(this.left+j,this.top+F,this.width+L,this.height+ae)},B.fromClientRect=function(j,F){return new B(F.left+j.windowBounds.left,F.top+j.windowBounds.top,F.width,F.height)},B.fromDOMRectList=function(j,F){var L=Array.from(F).find(function(ae){return ae.width!==0});return L?new B(L.left+j.windowBounds.left,L.top+j.windowBounds.top,L.width,L.height):B.EMPTY},B.EMPTY=new B(0,0,0,0),B})(),o=function(B,j){return A.fromClientRect(B,j.getBoundingClientRect())},f=function(B){var j=B.body,F=B.documentElement;if(!j||!F)throw new Error("Unable to get document size");var L=Math.max(Math.max(j.scrollWidth,F.scrollWidth),Math.max(j.offsetWidth,F.offsetWidth),Math.max(j.clientWidth,F.clientWidth)),ae=Math.max(Math.max(j.scrollHeight,F.scrollHeight),Math.max(j.offsetHeight,F.offsetHeight),Math.max(j.clientHeight,F.clientHeight));return new A(0,0,L,ae)},p=function(B){for(var j=[],F=0,L=B.length;F<L;){var ae=B.charCodeAt(F++);if(ae>=55296&&ae<=56319&&F<L){var je=B.charCodeAt(F++);(je&64512)===56320?j.push(((ae&1023)<<10)+(je&1023)+65536):(j.push(ae),F--)}else j.push(ae)}return j},m=function(){for(var B=[],j=0;j<arguments.length;j++)B[j]=arguments[j];if(String.fromCodePoint)return String.fromCodePoint.apply(String,B);var F=B.length;if(!F)return"";for(var L=[],ae=-1,je="";++ae<F;){var Fe=B[ae];Fe<=65535?L.push(Fe):(Fe-=65536,L.push((Fe>>10)+55296,Fe%1024+56320)),(ae+1===F||L.length>16384)&&(je+=String.fromCharCode.apply(String,L),L.length=0)}return je},x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),w=0;w<x.length;w++)b[x.charCodeAt(w)]=w;for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=typeof Uint8Array>"u"?[]:new Uint8Array(256),P=0;P<y.length;P++)E[y.charCodeAt(P)]=P;for(var z=function(B){var j=B.length*.75,F=B.length,L,ae=0,je,Fe,qe,et;B[B.length-1]==="="&&(j--,B[B.length-2]==="="&&j--);var Nt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(j):new Array(j),Dt=Array.isArray(Nt)?Nt:new Uint8Array(Nt);for(L=0;L<F;L+=4)je=E[B.charCodeAt(L)],Fe=E[B.charCodeAt(L+1)],qe=E[B.charCodeAt(L+2)],et=E[B.charCodeAt(L+3)],Dt[ae++]=je<<2|Fe>>4,Dt[ae++]=(Fe&15)<<4|qe>>2,Dt[ae++]=(qe&3)<<6|et&63;return Nt},X=function(B){for(var j=B.length,F=[],L=0;L<j;L+=2)F.push(B[L+1]<<8|B[L]);return F},Y=function(B){for(var j=B.length,F=[],L=0;L<j;L+=4)F.push(B[L+3]<<24|B[L+2]<<16|B[L+1]<<8|B[L]);return F},Q=5,K=11,de=2,ue=K-Q,ve=65536>>Q,le=1<<Q,Ce=le-1,oe=1024>>Q,Ne=ve+oe,Ae=Ne,se=32,pe=Ae+se,re=65536>>K,Ee=1<<ue,De=Ee-1,Se=function(B,j,F){return B.slice?B.slice(j,F):new Uint16Array(Array.prototype.slice.call(B,j,F))},he=function(B,j,F){return B.slice?B.slice(j,F):new Uint32Array(Array.prototype.slice.call(B,j,F))},be=function(B,j){var F=z(B),L=Array.isArray(F)?Y(F):new Uint32Array(F),ae=Array.isArray(F)?X(F):new Uint16Array(F),je=24,Fe=Se(ae,je/2,L[4]/2),qe=L[5]===2?Se(ae,(je+L[4])/2):he(L,Math.ceil((je+L[4])/4));return new fe(L[0],L[1],L[2],L[3],Fe,qe)},fe=(function(){function B(j,F,L,ae,je,Fe){this.initialValue=j,this.errorValue=F,this.highStart=L,this.highValueIndex=ae,this.index=je,this.data=Fe}return B.prototype.get=function(j){var F;if(j>=0){if(j<55296||j>56319&&j<=65535)return F=this.index[j>>Q],F=(F<<de)+(j&Ce),this.data[F];if(j<=65535)return F=this.index[ve+(j-55296>>Q)],F=(F<<de)+(j&Ce),this.data[F];if(j<this.highStart)return F=pe-re+(j>>K),F=this.index[F],F+=j>>Q&De,F=this.index[F],F=(F<<de)+(j&Ce),this.data[F];if(j<=1114111)return this.data[this.highValueIndex]}return this.errorValue},B})(),te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ue=0;Ue<te.length;Ue++)ge[te.charCodeAt(Ue)]=Ue;var Ve="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",kt=50,Bt=1,We=2,Ut=3,Vt=4,ls=5,Fs=7,Re=8,ut=9,St=10,Os=11,hs=12,vr=13,hr=14,ir=15,Ds=16,Ss=17,Ls=18,rr=19,xr=20,en=21,wr=22,tr=23,Xs=24,Ts=25,ft=26,$t=27,ks=28,Gs=29,lr=30,wt=31,qt=32,As=33,fs=34,Vs=35,Ks=36,pr=37,rn=38,ya=39,La=40,ps=41,xs=42,cs=43,fr=[9001,65288],$r="!",Ps="",wa="",Vn=be(Ve),sa=[lr,Ks],an=[Bt,We,Ut,ls],Rr=[St,Re],Gn=[$t,ft],Kn=an.concat(Rr),ti=[rn,ya,La,fs,Vs],On=[ir,vr],mc=function(B,j){j===void 0&&(j="strict");var F=[],L=[],ae=[];return B.forEach(function(je,Fe){var qe=Vn.get(je);if(qe>kt?(ae.push(!0),qe-=kt):ae.push(!1),["normal","auto","loose"].indexOf(j)!==-1&&[8208,8211,12316,12448].indexOf(je)!==-1)return L.push(Fe),F.push(Ds);if(qe===Vt||qe===Os){if(Fe===0)return L.push(Fe),F.push(lr);var et=F[Fe-1];return Kn.indexOf(et)===-1?(L.push(L[Fe-1]),F.push(et)):(L.push(Fe),F.push(lr))}if(L.push(Fe),qe===wt)return F.push(j==="strict"?en:pr);if(qe===xs||qe===Gs)return F.push(lr);if(qe===cs)return je>=131072&&je<=196605||je>=196608&&je<=262141?F.push(pr):F.push(lr);F.push(qe)}),[L,F,ae]},li=function(B,j,F,L){var ae=L[F];if(Array.isArray(B)?B.indexOf(ae)!==-1:B===ae)for(var je=F;je<=L.length;){je++;var Fe=L[je];if(Fe===j)return!0;if(Fe!==St)break}if(ae===St)for(var je=F;je>0;){je--;var qe=L[je];if(Array.isArray(B)?B.indexOf(qe)!==-1:B===qe)for(var et=F;et<=L.length;){et++;var Fe=L[et];if(Fe===j)return!0;if(Fe!==St)break}if(qe!==St)break}return!1},Fo=function(B,j){for(var F=B;F>=0;){var L=j[F];if(L===St)F--;else return L}return 0},Kl=function(B,j,F,L,ae){if(F[L]===0)return Ps;var je=L-1;if(Array.isArray(ae)&&ae[je]===!0)return Ps;var Fe=je-1,qe=je+1,et=j[je],Nt=Fe>=0?j[Fe]:0,Dt=j[qe];if(et===We&&Dt===Ut)return Ps;if(an.indexOf(et)!==-1)return $r;if(an.indexOf(Dt)!==-1||Rr.indexOf(Dt)!==-1)return Ps;if(Fo(je,j)===Re)return wa;if(Vn.get(B[je])===Os||(et===qt||et===As)&&Vn.get(B[qe])===Os||et===Fs||Dt===Fs||et===ut||[St,vr,ir].indexOf(et)===-1&&Dt===ut||[Ss,Ls,rr,Xs,ks].indexOf(Dt)!==-1||Fo(je,j)===wr||li(tr,wr,je,j)||li([Ss,Ls],en,je,j)||li(hs,hs,je,j))return Ps;if(et===St)return wa;if(et===tr||Dt===tr)return Ps;if(Dt===Ds||et===Ds)return wa;if([vr,ir,en].indexOf(Dt)!==-1||et===hr||Nt===Ks&&On.indexOf(et)!==-1||et===ks&&Dt===Ks||Dt===xr||sa.indexOf(Dt)!==-1&&et===Ts||sa.indexOf(et)!==-1&&Dt===Ts||et===$t&&[pr,qt,As].indexOf(Dt)!==-1||[pr,qt,As].indexOf(et)!==-1&&Dt===ft||sa.indexOf(et)!==-1&&Gn.indexOf(Dt)!==-1||Gn.indexOf(et)!==-1&&sa.indexOf(Dt)!==-1||[$t,ft].indexOf(et)!==-1&&(Dt===Ts||[wr,ir].indexOf(Dt)!==-1&&j[qe+1]===Ts)||[wr,ir].indexOf(et)!==-1&&Dt===Ts||et===Ts&&[Ts,ks,Xs].indexOf(Dt)!==-1)return Ps;if([Ts,ks,Xs,Ss,Ls].indexOf(Dt)!==-1)for(var Gt=je;Gt>=0;){var Ns=j[Gt];if(Ns===Ts)return Ps;if([ks,Xs].indexOf(Ns)!==-1)Gt--;else break}if([$t,ft].indexOf(Dt)!==-1)for(var Gt=[Ss,Ls].indexOf(et)!==-1?Fe:je;Gt>=0;){var Ns=j[Gt];if(Ns===Ts)return Ps;if([ks,Xs].indexOf(Ns)!==-1)Gt--;else break}if(rn===et&&[rn,ya,fs,Vs].indexOf(Dt)!==-1||[ya,fs].indexOf(et)!==-1&&[ya,La].indexOf(Dt)!==-1||[La,Vs].indexOf(et)!==-1&&Dt===La||ti.indexOf(et)!==-1&&[xr,ft].indexOf(Dt)!==-1||ti.indexOf(Dt)!==-1&&et===$t||sa.indexOf(et)!==-1&&sa.indexOf(Dt)!==-1||et===Xs&&sa.indexOf(Dt)!==-1||sa.concat(Ts).indexOf(et)!==-1&&Dt===wr&&fr.indexOf(B[qe])===-1||sa.concat(Ts).indexOf(Dt)!==-1&&et===Ls)return Ps;if(et===ps&&Dt===ps){for(var Nr=F[je],qs=1;Nr>0&&(Nr--,j[Nr]===ps);)qs++;if(qs%2!==0)return Ps}return et===qt&&Dt===As?Ps:wa},Ao=function(B,j){j||(j={lineBreak:"normal",wordBreak:"normal"});var F=mc(B,j.lineBreak),L=F[0],ae=F[1],je=F[2];(j.wordBreak==="break-all"||j.wordBreak==="break-word")&&(ae=ae.map(function(qe){return[Ts,lr,xs].indexOf(qe)!==-1?pr:qe}));var Fe=j.wordBreak==="keep-all"?je.map(function(qe,et){return qe&&B[et]>=19968&&B[et]<=40959}):void 0;return[L,ae,Fe]},fa=(function(){function B(j,F,L,ae){this.codePoints=j,this.required=F===$r,this.start=L,this.end=ae}return B.prototype.slice=function(){return m.apply(void 0,this.codePoints.slice(this.start,this.end))},B})(),ki=function(B,j){var F=p(B),L=Ao(F,j),ae=L[0],je=L[1],Fe=L[2],qe=F.length,et=0,Nt=0;return{next:function(){if(Nt>=qe)return{done:!0,value:null};for(var Dt=Ps;Nt<qe&&(Dt=Kl(F,je,ae,++Nt,Fe))===Ps;);if(Dt!==Ps||Nt===qe){var Gt=new fa(F,Dt,et,Nt);return et=Nt,{value:Gt,done:!1}}return{done:!0,value:null}}}},ra=1,Fa=2,qn=4,ho=8,hi=10,Ci=47,hl=92,el=9,Ll=32,ga=34,ja=61,fo=35,si=36,Di=37,fi=39,Wr=40,Ka=41,Bi=95,Qa=45,po=33,Wn=60,Ki=62,Ga=64,Pa=91,pi=93,Uo=61,Si=123,xa=63,mi=125,eo=124,Ei=126,lo=128,Tt=65533,U=42,G=43,J=44,T=58,M=59,$=46,ie=0,we=8,Pe=11,Ze=14,N=31,v=127,S=-1,I=48,R=97,V=101,ce=102,q=117,ee=122,ke=65,Me=69,$e=70,Je=85,xe=90,ct=function(B){return B>=I&&B<=57},ot=function(B){return B>=55296&&B<=57343},At=function(B){return ct(B)||B>=ke&&B<=$e||B>=R&&B<=ce},Ye=function(B){return B>=R&&B<=ee},yt=function(B){return B>=ke&&B<=xe},Pt=function(B){return Ye(B)||yt(B)},gt=function(B){return B>=lo},Ge=function(B){return B===hi||B===el||B===Ll},Mt=function(B){return Pt(B)||gt(B)||B===Bi},is=function(B){return Mt(B)||ct(B)||B===Qa},Ht=function(B){return B>=ie&&B<=we||B===Pe||B>=Ze&&B<=N||B===v},vt=function(B,j){return B!==hl?!1:j!==hi},es=function(B,j,F){return B===Qa?Mt(j)||vt(j,F):Mt(B)?!0:!!(B===hl&&vt(B,j))},Xe=function(B,j,F){return B===G||B===Qa?ct(j)?!0:j===$&&ct(F):ct(B===$?j:B)},rt=function(B){var j=0,F=1;(B[j]===G||B[j]===Qa)&&(B[j]===Qa&&(F=-1),j++);for(var L=[];ct(B[j]);)L.push(B[j++]);var ae=L.length?parseInt(m.apply(void 0,L),10):0;B[j]===$&&j++;for(var je=[];ct(B[j]);)je.push(B[j++]);var Fe=je.length,qe=Fe?parseInt(m.apply(void 0,je),10):0;(B[j]===Me||B[j]===V)&&j++;var et=1;(B[j]===G||B[j]===Qa)&&(B[j]===Qa&&(et=-1),j++);for(var Nt=[];ct(B[j]);)Nt.push(B[j++]);var Dt=Nt.length?parseInt(m.apply(void 0,Nt),10):0;return F*(ae+qe*Math.pow(10,-Fe))*Math.pow(10,et*Dt)},xt={type:2},bt={type:3},rs={type:4},us={type:13},ys={type:8},Kt={type:21},ms={type:9},Js={type:10},Hs={type:11},_e={type:12},dt={type:14},ht={type:23},Ot={type:1},Rt={type:25},Yt={type:24},gs={type:26},bs={type:27},Us={type:28},Zs={type:29},br={type:31},gr={type:32},Yr=(function(){function B(){this._value=[]}return B.prototype.write=function(j){this._value=this._value.concat(p(j))},B.prototype.read=function(){for(var j=[],F=this.consumeToken();F!==gr;)j.push(F),F=this.consumeToken();return j},B.prototype.consumeToken=function(){var j=this.consumeCodePoint();switch(j){case ga:return this.consumeStringToken(ga);case fo:var F=this.peekCodePoint(0),L=this.peekCodePoint(1),ae=this.peekCodePoint(2);if(is(F)||vt(L,ae)){var je=es(F,L,ae)?Fa:ra,Fe=this.consumeName();return{type:5,value:Fe,flags:je}}break;case si:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),us;break;case fi:return this.consumeStringToken(fi);case Wr:return xt;case Ka:return bt;case U:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),dt;break;case G:if(Xe(j,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(j),this.consumeNumericToken();break;case J:return rs;case Qa:var qe=j,et=this.peekCodePoint(0),Nt=this.peekCodePoint(1);if(Xe(qe,et,Nt))return this.reconsumeCodePoint(j),this.consumeNumericToken();if(es(qe,et,Nt))return this.reconsumeCodePoint(j),this.consumeIdentLikeToken();if(et===Qa&&Nt===Ki)return this.consumeCodePoint(),this.consumeCodePoint(),Yt;break;case $:if(Xe(j,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(j),this.consumeNumericToken();break;case Ci:if(this.peekCodePoint(0)===U)for(this.consumeCodePoint();;){var Dt=this.consumeCodePoint();if(Dt===U&&(Dt=this.consumeCodePoint(),Dt===Ci))return this.consumeToken();if(Dt===S)return this.consumeToken()}break;case T:return gs;case M:return bs;case Wn:if(this.peekCodePoint(0)===po&&this.peekCodePoint(1)===Qa&&this.peekCodePoint(2)===Qa)return this.consumeCodePoint(),this.consumeCodePoint(),Rt;break;case Ga:var Gt=this.peekCodePoint(0),Ns=this.peekCodePoint(1),Nr=this.peekCodePoint(2);if(es(Gt,Ns,Nr)){var Fe=this.consumeName();return{type:7,value:Fe}}break;case Pa:return Us;case hl:if(vt(j,this.peekCodePoint(0)))return this.reconsumeCodePoint(j),this.consumeIdentLikeToken();break;case pi:return Zs;case Uo:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),ys;break;case Si:return Hs;case mi:return _e;case q:case Je:var qs=this.peekCodePoint(0),Ar=this.peekCodePoint(1);return qs===G&&(At(Ar)||Ar===xa)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(j),this.consumeIdentLikeToken();case eo:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),ms;if(this.peekCodePoint(0)===eo)return this.consumeCodePoint(),Kt;break;case Ei:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),Js;break;case S:return gr}return Ge(j)?(this.consumeWhiteSpace(),br):ct(j)?(this.reconsumeCodePoint(j),this.consumeNumericToken()):Mt(j)?(this.reconsumeCodePoint(j),this.consumeIdentLikeToken()):{type:6,value:m(j)}},B.prototype.consumeCodePoint=function(){var j=this._value.shift();return typeof j>"u"?-1:j},B.prototype.reconsumeCodePoint=function(j){this._value.unshift(j)},B.prototype.peekCodePoint=function(j){return j>=this._value.length?-1:this._value[j]},B.prototype.consumeUnicodeRangeToken=function(){for(var j=[],F=this.consumeCodePoint();At(F)&&j.length<6;)j.push(F),F=this.consumeCodePoint();for(var L=!1;F===xa&&j.length<6;)j.push(F),F=this.consumeCodePoint(),L=!0;if(L){var ae=parseInt(m.apply(void 0,j.map(function(et){return et===xa?I:et})),16),je=parseInt(m.apply(void 0,j.map(function(et){return et===xa?$e:et})),16);return{type:30,start:ae,end:je}}var Fe=parseInt(m.apply(void 0,j),16);if(this.peekCodePoint(0)===Qa&&At(this.peekCodePoint(1))){this.consumeCodePoint(),F=this.consumeCodePoint();for(var qe=[];At(F)&&qe.length<6;)qe.push(F),F=this.consumeCodePoint();var je=parseInt(m.apply(void 0,qe),16);return{type:30,start:Fe,end:je}}else return{type:30,start:Fe,end:Fe}},B.prototype.consumeIdentLikeToken=function(){var j=this.consumeName();return j.toLowerCase()==="url"&&this.peekCodePoint(0)===Wr?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Wr?(this.consumeCodePoint(),{type:19,value:j}):{type:20,value:j}},B.prototype.consumeUrlToken=function(){var j=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===S)return{type:22,value:""};var F=this.peekCodePoint(0);if(F===fi||F===ga){var L=this.consumeStringToken(this.consumeCodePoint());return L.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===S||this.peekCodePoint(0)===Ka)?(this.consumeCodePoint(),{type:22,value:L.value}):(this.consumeBadUrlRemnants(),ht)}for(;;){var ae=this.consumeCodePoint();if(ae===S||ae===Ka)return{type:22,value:m.apply(void 0,j)};if(Ge(ae))return this.consumeWhiteSpace(),this.peekCodePoint(0)===S||this.peekCodePoint(0)===Ka?(this.consumeCodePoint(),{type:22,value:m.apply(void 0,j)}):(this.consumeBadUrlRemnants(),ht);if(ae===ga||ae===fi||ae===Wr||Ht(ae))return this.consumeBadUrlRemnants(),ht;if(ae===hl)if(vt(ae,this.peekCodePoint(0)))j.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ht;else j.push(ae)}},B.prototype.consumeWhiteSpace=function(){for(;Ge(this.peekCodePoint(0));)this.consumeCodePoint()},B.prototype.consumeBadUrlRemnants=function(){for(;;){var j=this.consumeCodePoint();if(j===Ka||j===S)return;vt(j,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},B.prototype.consumeStringSlice=function(j){for(var F=5e4,L="";j>0;){var ae=Math.min(F,j);L+=m.apply(void 0,this._value.splice(0,ae)),j-=ae}return this._value.shift(),L},B.prototype.consumeStringToken=function(j){var F="",L=0;do{var ae=this._value[L];if(ae===S||ae===void 0||ae===j)return F+=this.consumeStringSlice(L),{type:0,value:F};if(ae===hi)return this._value.splice(0,L),Ot;if(ae===hl){var je=this._value[L+1];je!==S&&je!==void 0&&(je===hi?(F+=this.consumeStringSlice(L),L=-1,this._value.shift()):vt(ae,je)&&(F+=this.consumeStringSlice(L),F+=m(this.consumeEscapedCodePoint()),L=-1))}L++}while(!0)},B.prototype.consumeNumber=function(){var j=[],F=qn,L=this.peekCodePoint(0);for((L===G||L===Qa)&&j.push(this.consumeCodePoint());ct(this.peekCodePoint(0));)j.push(this.consumeCodePoint());L=this.peekCodePoint(0);var ae=this.peekCodePoint(1);if(L===$&&ct(ae))for(j.push(this.consumeCodePoint(),this.consumeCodePoint()),F=ho;ct(this.peekCodePoint(0));)j.push(this.consumeCodePoint());L=this.peekCodePoint(0),ae=this.peekCodePoint(1);var je=this.peekCodePoint(2);if((L===Me||L===V)&&((ae===G||ae===Qa)&&ct(je)||ct(ae)))for(j.push(this.consumeCodePoint(),this.consumeCodePoint()),F=ho;ct(this.peekCodePoint(0));)j.push(this.consumeCodePoint());return[rt(j),F]},B.prototype.consumeNumericToken=function(){var j=this.consumeNumber(),F=j[0],L=j[1],ae=this.peekCodePoint(0),je=this.peekCodePoint(1),Fe=this.peekCodePoint(2);if(es(ae,je,Fe)){var qe=this.consumeName();return{type:15,number:F,flags:L,unit:qe}}return ae===Di?(this.consumeCodePoint(),{type:16,number:F,flags:L}):{type:17,number:F,flags:L}},B.prototype.consumeEscapedCodePoint=function(){var j=this.consumeCodePoint();if(At(j)){for(var F=m(j);At(this.peekCodePoint(0))&&F.length<6;)F+=m(this.consumeCodePoint());Ge(this.peekCodePoint(0))&&this.consumeCodePoint();var L=parseInt(F,16);return L===0||ot(L)||L>1114111?Tt:L}return j===S?Tt:j},B.prototype.consumeName=function(){for(var j="";;){var F=this.consumeCodePoint();if(is(F))j+=m(F);else if(vt(F,this.peekCodePoint(0)))j+=m(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(F),j}},B})(),tt=(function(){function B(j){this._tokens=j}return B.create=function(j){var F=new Yr;return F.write(j),new B(F.read())},B.parseValue=function(j){return B.create(j).parseComponentValue()},B.parseValues=function(j){return B.create(j).parseComponentValues()},B.prototype.parseComponentValue=function(){for(var j=this.consumeToken();j.type===31;)j=this.consumeToken();if(j.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(j);var F=this.consumeComponentValue();do j=this.consumeToken();while(j.type===31);if(j.type===32)return F;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},B.prototype.parseComponentValues=function(){for(var j=[];;){var F=this.consumeComponentValue();if(F.type===32)return j;j.push(F),j.push()}},B.prototype.consumeComponentValue=function(){var j=this.consumeToken();switch(j.type){case 11:case 28:case 2:return this.consumeSimpleBlock(j.type);case 19:return this.consumeFunction(j)}return j},B.prototype.consumeSimpleBlock=function(j){for(var F={type:j,values:[]},L=this.consumeToken();;){if(L.type===32||Ca(L,j))return F;this.reconsumeToken(L),F.values.push(this.consumeComponentValue()),L=this.consumeToken()}},B.prototype.consumeFunction=function(j){for(var F={name:j.value,values:[],type:18};;){var L=this.consumeToken();if(L.type===32||L.type===3)return F;this.reconsumeToken(L),F.values.push(this.consumeComponentValue())}},B.prototype.consumeToken=function(){var j=this._tokens.shift();return typeof j>"u"?gr:j},B.prototype.reconsumeToken=function(j){this._tokens.unshift(j)},B})(),cr=function(B){return B.type===15},un=function(B){return B.type===17},nr=function(B){return B.type===20},zs=function(B){return B.type===0},tn=function(B,j){return nr(B)&&B.value===j},yr=function(B){return B.type!==31},Vr=function(B){return B.type!==31&&B.type!==4},Or=function(B){var j=[],F=[];return B.forEach(function(L){if(L.type===4){if(F.length===0)throw new Error("Error parsing function args, zero tokens for arg");j.push(F),F=[];return}L.type!==31&&F.push(L)}),F.length&&j.push(F),j},Ca=function(B,j){return j===11&&B.type===12||j===28&&B.type===29?!0:j===2&&B.type===3},Cn=function(B){return B.type===17||B.type===15},Cr=function(B){return B.type===16||Cn(B)},_n=function(B){return B.length>1?[B[0],B[1]]:[B[0]]},Xr={type:17,number:0,flags:qn},Br={type:16,number:50,flags:qn},nn={type:16,number:100,flags:qn},Ir=function(B,j,F){var L=B[0],ae=B[1];return[bn(L,j),bn(typeof ae<"u"?ae:L,F)]},bn=function(B,j){if(B.type===16)return B.number/100*j;if(cr(B))switch(B.unit){case"rem":case"em":return 16*B.number;case"px":default:return B.number}return B.number},Yn="deg",Bn="grad",In="rad",Wa="turn",Kr={name:"angle",parse:function(B,j){if(j.type===15)switch(j.unit){case Yn:return Math.PI*j.number/180;case Bn:return Math.PI/200*j.number;case In:return j.number;case Wa:return Math.PI*2*j.number}throw new Error("Unsupported angle type")}},_a=function(B){return B.type===15&&(B.unit===Yn||B.unit===Bn||B.unit===In||B.unit===Wa)},fn=function(B){var j=B.filter(nr).map(function(F){return F.value}).join(" ");switch(j){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Xr,Xr];case"to top":case"bottom":return _r(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Xr,nn];case"to right":case"left":return _r(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[nn,nn];case"to bottom":case"top":return _r(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[nn,Xr];case"to left":case"right":return _r(270)}return 0},_r=function(B){return Math.PI*B/180},Na={name:"color",parse:function(B,j){if(j.type===18){var F=on[j.name];if(typeof F>"u")throw new Error('Attempting to parse an unsupported color function "'+j.name+'"');return F(B,j.values)}if(j.type===5){if(j.value.length===3){var L=j.value.substring(0,1),ae=j.value.substring(1,2),je=j.value.substring(2,3);return Ln(parseInt(L+L,16),parseInt(ae+ae,16),parseInt(je+je,16),1)}if(j.value.length===4){var L=j.value.substring(0,1),ae=j.value.substring(1,2),je=j.value.substring(2,3),Fe=j.value.substring(3,4);return Ln(parseInt(L+L,16),parseInt(ae+ae,16),parseInt(je+je,16),parseInt(Fe+Fe,16)/255)}if(j.value.length===6){var L=j.value.substring(0,2),ae=j.value.substring(2,4),je=j.value.substring(4,6);return Ln(parseInt(L,16),parseInt(ae,16),parseInt(je,16),1)}if(j.value.length===8){var L=j.value.substring(0,2),ae=j.value.substring(2,4),je=j.value.substring(4,6),Fe=j.value.substring(6,8);return Ln(parseInt(L,16),parseInt(ae,16),parseInt(je,16),parseInt(Fe,16)/255)}}if(j.type===20){var qe=gi[j.value.toUpperCase()];if(typeof qe<"u")return qe}return gi.TRANSPARENT}},wn=function(B){return(255&B)===0},or=function(B){var j=255&B,F=255&B>>8,L=255&B>>16,ae=255&B>>24;return j<255?"rgba("+ae+","+L+","+F+","+j/255+")":"rgb("+ae+","+L+","+F+")"},Ln=function(B,j,F,L){return(B<<24|j<<16|F<<8|Math.round(L*255)<<0)>>>0},Yc=function(B,j){if(B.type===17)return B.number;if(B.type===16){var F=j===3?1:255;return j===3?B.number/100*F:Math.round(B.number/100*F)}return 0},Pi=function(B,j){var F=j.filter(Vr);if(F.length===3){var L=F.map(Yc),ae=L[0],je=L[1],Fe=L[2];return Ln(ae,je,Fe,1)}if(F.length===4){var qe=F.map(Yc),ae=qe[0],je=qe[1],Fe=qe[2],et=qe[3];return Ln(ae,je,Fe,et)}return 0};function co(B,j,F){return F<0&&(F+=1),F>=1&&(F-=1),F<1/6?(j-B)*F*6+B:F<1/2?j:F<2/3?(j-B)*6*(2/3-F)+B:B}var Gl=function(B,j){var F=j.filter(Vr),L=F[0],ae=F[1],je=F[2],Fe=F[3],qe=(L.type===17?_r(L.number):Kr.parse(B,L))/(Math.PI*2),et=Cr(ae)?ae.number/100:0,Nt=Cr(je)?je.number/100:0,Dt=typeof Fe<"u"&&Cr(Fe)?bn(Fe,1):1;if(et===0)return Ln(Nt*255,Nt*255,Nt*255,1);var Gt=Nt<=.5?Nt*(et+1):Nt+et-Nt*et,Ns=Nt*2-Gt,Nr=co(Ns,Gt,qe+1/3),qs=co(Ns,Gt,qe),Ar=co(Ns,Gt,qe-1/3);return Ln(Nr*255,qs*255,Ar*255,Dt)},on={hsl:Gl,hsla:Gl,rgb:Pi,rgba:Pi},ci=function(B,j){return Na.parse(B,tt.create(j).parseComponentValue())},gi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},tl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(B,j){return j.map(function(F){if(nr(F))switch(F.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Mo={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ra=function(B,j){var F=Na.parse(B,j[0]),L=j[1];return L&&Cr(L)?{color:F,stop:L}:{color:F,stop:null}},xi=function(B,j){var F=B[0],L=B[B.length-1];F.stop===null&&(F.stop=Xr),L.stop===null&&(L.stop=nn);for(var ae=[],je=0,Fe=0;Fe<B.length;Fe++){var qe=B[Fe].stop;if(qe!==null){var et=bn(qe,j);et>je?ae.push(et):ae.push(je),je=et}else ae.push(null)}for(var Nt=null,Fe=0;Fe<ae.length;Fe++){var Dt=ae[Fe];if(Dt===null)Nt===null&&(Nt=Fe);else if(Nt!==null){for(var Gt=Fe-Nt,Ns=ae[Nt-1],Nr=(Dt-Ns)/(Gt+1),qs=1;qs<=Gt;qs++)ae[Nt+qs-1]=Nr*qs;Nt=null}}return B.map(function(Ar,Jr){var Ur=Ar.color;return{color:Ur,stop:Math.max(Math.min(1,ae[Jr]/j),0)}})},di=function(B,j,F){var L=j/2,ae=F/2,je=bn(B[0],j)-L,Fe=ae-bn(B[1],F);return(Math.atan2(Fe,je)+Math.PI*2)%(Math.PI*2)},Fl=function(B,j,F){var L=typeof B=="number"?B:di(B,j,F),ae=Math.abs(j*Math.sin(L))+Math.abs(F*Math.cos(L)),je=j/2,Fe=F/2,qe=ae/2,et=Math.sin(L-Math.PI/2)*qe,Nt=Math.cos(L-Math.PI/2)*qe;return[ae,je-Nt,je+Nt,Fe-et,Fe+et]},Ri=function(B,j){return Math.sqrt(B*B+j*j)},fl=function(B,j,F,L,ae){var je=[[0,0],[0,j],[B,0],[B,j]];return je.reduce(function(Fe,qe){var et=qe[0],Nt=qe[1],Dt=Ri(F-et,L-Nt);return(ae?Dt<Fe.optimumDistance:Dt>Fe.optimumDistance)?{optimumCorner:qe,optimumDistance:Dt}:Fe},{optimumDistance:ae?1/0:-1/0,optimumCorner:null}).optimumCorner},mo=function(B,j,F,L,ae){var je=0,Fe=0;switch(B.size){case 0:B.shape===0?je=Fe=Math.min(Math.abs(j),Math.abs(j-L),Math.abs(F),Math.abs(F-ae)):B.shape===1&&(je=Math.min(Math.abs(j),Math.abs(j-L)),Fe=Math.min(Math.abs(F),Math.abs(F-ae)));break;case 2:if(B.shape===0)je=Fe=Math.min(Ri(j,F),Ri(j,F-ae),Ri(j-L,F),Ri(j-L,F-ae));else if(B.shape===1){var qe=Math.min(Math.abs(F),Math.abs(F-ae))/Math.min(Math.abs(j),Math.abs(j-L)),et=fl(L,ae,j,F,!0),Nt=et[0],Dt=et[1];je=Ri(Nt-j,(Dt-F)/qe),Fe=qe*je}break;case 1:B.shape===0?je=Fe=Math.max(Math.abs(j),Math.abs(j-L),Math.abs(F),Math.abs(F-ae)):B.shape===1&&(je=Math.max(Math.abs(j),Math.abs(j-L)),Fe=Math.max(Math.abs(F),Math.abs(F-ae)));break;case 3:if(B.shape===0)je=Fe=Math.max(Ri(j,F),Ri(j,F-ae),Ri(j-L,F),Ri(j-L,F-ae));else if(B.shape===1){var qe=Math.max(Math.abs(F),Math.abs(F-ae))/Math.max(Math.abs(j),Math.abs(j-L)),Gt=fl(L,ae,j,F,!1),Nt=Gt[0],Dt=Gt[1];je=Ri(Nt-j,(Dt-F)/qe),Fe=qe*je}break}return Array.isArray(B.size)&&(je=bn(B.size[0],L),Fe=B.size.length===2?bn(B.size[1],ae):je),[je,Fe]},Ul=function(B,j){var F=_r(180),L=[];return Or(j).forEach(function(ae,je){if(je===0){var Fe=ae[0];if(Fe.type===20&&Fe.value==="to"){F=fn(ae);return}else if(_a(Fe)){F=Kr.parse(B,Fe);return}}var qe=Ra(B,ae);L.push(qe)}),{angle:F,stops:L,type:1}},Oo=function(B,j){var F=_r(180),L=[];return Or(j).forEach(function(ae,je){if(je===0){var Fe=ae[0];if(Fe.type===20&&["top","left","right","bottom"].indexOf(Fe.value)!==-1){F=fn(ae);return}else if(_a(Fe)){F=(Kr.parse(B,Fe)+_r(270))%_r(360);return}}var qe=Ra(B,ae);L.push(qe)}),{angle:F,stops:L,type:1}},pl=function(B,j){var F=_r(180),L=[],ae=1,je=0,Fe=3,qe=[];return Or(j).forEach(function(et,Nt){var Dt=et[0];if(Nt===0){if(nr(Dt)&&Dt.value==="linear"){ae=1;return}else if(nr(Dt)&&Dt.value==="radial"){ae=2;return}}if(Dt.type===18){if(Dt.name==="from"){var Gt=Na.parse(B,Dt.values[0]);L.push({stop:Xr,color:Gt})}else if(Dt.name==="to"){var Gt=Na.parse(B,Dt.values[0]);L.push({stop:nn,color:Gt})}else if(Dt.name==="color-stop"){var Ns=Dt.values.filter(Vr);if(Ns.length===2){var Gt=Na.parse(B,Ns[1]),Nr=Ns[0];un(Nr)&&L.push({stop:{type:16,number:Nr.number*100,flags:Nr.flags},color:Gt})}}}}),ae===1?{angle:(F+_r(180))%_r(360),stops:L,type:ae}:{size:Fe,shape:je,stops:L,position:qe,type:ae}},Xc="closest-side",ml="farthest-side",Io="closest-corner",Fc="farthest-corner",Jc="circle",gc="ellipse",sl="cover",Uc="contain",Do=function(B,j){var F=0,L=3,ae=[],je=[];return Or(j).forEach(function(Fe,qe){var et=!0;if(qe===0){var Nt=!1;et=Fe.reduce(function(Gt,Ns){if(Nt)if(nr(Ns))switch(Ns.value){case"center":return je.push(Br),Gt;case"top":case"left":return je.push(Xr),Gt;case"right":case"bottom":return je.push(nn),Gt}else(Cr(Ns)||Cn(Ns))&&je.push(Ns);else if(nr(Ns))switch(Ns.value){case Jc:return F=0,!1;case gc:return F=1,!1;case"at":return Nt=!0,!1;case Xc:return L=0,!1;case sl:case ml:return L=1,!1;case Uc:case Io:return L=2,!1;case Fc:return L=3,!1}else if(Cn(Ns)||Cr(Ns))return Array.isArray(L)||(L=[]),L.push(Ns),!1;return Gt},et)}if(et){var Dt=Ra(B,Fe);ae.push(Dt)}}),{size:L,shape:F,stops:ae,position:je,type:2}},Ml=function(B,j){var F=0,L=3,ae=[],je=[];return Or(j).forEach(function(Fe,qe){var et=!0;if(qe===0?et=Fe.reduce(function(Dt,Gt){if(nr(Gt))switch(Gt.value){case"center":return je.push(Br),!1;case"top":case"left":return je.push(Xr),!1;case"right":case"bottom":return je.push(nn),!1}else if(Cr(Gt)||Cn(Gt))return je.push(Gt),!1;return Dt},et):qe===1&&(et=Fe.reduce(function(Dt,Gt){if(nr(Gt))switch(Gt.value){case Jc:return F=0,!1;case gc:return F=1,!1;case Uc:case Xc:return L=0,!1;case ml:return L=1,!1;case Io:return L=2,!1;case sl:case Fc:return L=3,!1}else if(Cn(Gt)||Cr(Gt))return Array.isArray(L)||(L=[]),L.push(Gt),!1;return Dt},et)),et){var Nt=Ra(B,Fe);ae.push(Nt)}}),{size:L,shape:F,stops:ae,position:je,type:2}},go=function(B){return B.type===1},xc=function(B){return B.type===2},Mc={name:"image",parse:function(B,j){if(j.type===22){var F={url:j.value,type:0};return B.cache.addImage(j.value),F}if(j.type===18){var L=Wl[j.name];if(typeof L>"u")throw new Error('Attempting to parse an unsupported image function "'+j.name+'"');return L(B,j.values)}throw new Error("Unsupported image type "+j.type)}};function Ad(B){return!(B.type===20&&B.value==="none")&&(B.type!==18||!!Wl[B.name])}var Wl={"linear-gradient":Ul,"-moz-linear-gradient":Oo,"-ms-linear-gradient":Oo,"-o-linear-gradient":Oo,"-webkit-linear-gradient":Oo,"radial-gradient":Do,"-moz-radial-gradient":Ml,"-ms-radial-gradient":Ml,"-o-radial-gradient":Ml,"-webkit-radial-gradient":Ml,"-webkit-gradient":pl},Jd={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(B,j){if(j.length===0)return[];var F=j[0];return F.type===20&&F.value==="none"?[]:j.filter(function(L){return Vr(L)&&Ad(L)}).map(function(L){return Mc.parse(B,L)})}},hd={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(B,j){return j.map(function(F){if(nr(F))switch(F.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xo={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(B,j){return Or(j).map(function(F){return F.filter(Cr)}).map(_n)}},Id={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(B,j){return Or(j).map(function(F){return F.filter(nr).map(function(L){return L.value}).join(" ")}).map(Po)}},Po=function(B){switch(B){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},An;(function(B){B.AUTO="auto",B.CONTAIN="contain",B.COVER="cover"})(An||(An={}));var Ol={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(B,j){return Or(j).map(function(F){return F.filter(Yl)})}},Yl=function(B){return nr(B)||Cr(B)},Xl=function(B){return{name:"border-"+B+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Oc=Xl("top"),Il=Xl("right"),Gi=Xl("bottom"),Jl=Xl("left"),fd=function(B){return{name:"border-radius-"+B,initialValue:"0 0",prefix:!1,type:1,parse:function(j,F){return _n(F.filter(Cr))}}},Wi=fd("top-left"),Zc=fd("top-right"),Ro=fd("bottom-right"),pd=fd("bottom-left"),Zl=function(B){return{name:"border-"+B+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(j,F){switch(F){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},bo=Zl("top"),to=Zl("right"),ql=Zl("bottom"),gl=Zl("left"),rl=function(B){return{name:"border-"+B+"-width",initialValue:"0",type:0,prefix:!1,parse:function(j,F){return cr(F)?F.number:0}}},xl=rl("top"),gu=rl("right"),Dl=rl("bottom"),xu=rl("left"),md={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Qi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(B,j){switch(j){case"rtl":return 1;case"ltr":default:return 0}}},Ha={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(B,j){return j.filter(nr).reduce(function(F,L){return F|dr(L.value)},0)}},dr=function(B){switch(B){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ic={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(B,j){switch(j){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},bl={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(B,j){return j.type===20&&j.value==="normal"?0:j.type===17||j.type===15?j.number:0}},gd;(function(B){B.NORMAL="normal",B.STRICT="strict"})(gd||(gd={}));var Qo={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(B,j){switch(j){case"strict":return gd.STRICT;case"normal":default:return gd.NORMAL}}},Dc={name:"line-height",initialValue:"normal",prefix:!1,type:4},bu=function(B,j){return nr(B)&&B.value==="normal"?1.2*j:B.type===17?j*B.number:Cr(B)?bn(B,j):j},xd={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(B,j){return j.type===20&&j.value==="none"?null:Mc.parse(B,j)}},Yi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(B,j){switch(j){case"inside":return 0;case"outside":default:return 1}}},qc={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(B,j){switch(j){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},vl=function(B){return{name:"margin-"+B,initialValue:"0",prefix:!1,type:4}},Zd=vl("top"),nl=vl("right"),bc=vl("bottom"),_o=vl("left"),al={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(B,j){return j.filter(nr).map(function(F){switch(F.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},bd={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(B,j){switch(j){case"break-word":return"break-word";case"normal":default:return"normal"}}},yl=function(B){return{name:"padding-"+B,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},vc=yl("top"),ed=yl("right"),il=yl("bottom"),ri=yl("left"),vd={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(B,j){switch(j){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},vu={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(B,j){switch(j){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Uu={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(B,j){return j.length===1&&tn(j[0],"none")?[]:Or(j).map(function(F){for(var L={color:gi.TRANSPARENT,offsetX:Xr,offsetY:Xr,blur:Xr},ae=0,je=0;je<F.length;je++){var Fe=F[je];Cn(Fe)?(ae===0?L.offsetX=Fe:ae===1?L.offsetY=Fe:L.blur=Fe,ae++):L.color=Na.parse(B,Fe)}return L})}},td={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(B,j){switch(j){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},sd={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(B,j){if(j.type===20&&j.value==="none")return null;if(j.type===18){var F=yd[j.name];if(typeof F>"u")throw new Error('Attempting to parse an unsupported transform function "'+j.name+'"');return F(j.values)}return null}},bi=function(B){var j=B.filter(function(F){return F.type===17}).map(function(F){return F.number});return j.length===6?j:null},rd=function(B){var j=B.filter(function(et){return et.type===17}).map(function(et){return et.number}),F=j[0],L=j[1];j[2],j[3];var ae=j[4],je=j[5];j[6],j[7],j[8],j[9],j[10],j[11];var Fe=j[12],qe=j[13];return j[14],j[15],j.length===16?[F,L,ae,je,Fe,qe]:null},yd={matrix:bi,matrix3d:rd},Z={type:16,number:50,flags:qn},Te=[Z,Z],at={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(B,j){var F=j.filter(Cr);return F.length!==2?Te:[F[0],F[1]]}},pt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(B,j){switch(j){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Qt;(function(B){B.NORMAL="normal",B.BREAK_ALL="break-all",B.KEEP_ALL="keep-all"})(Qt||(Qt={}));for(var Cs={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(B,j){switch(j){case"break-all":return Qt.BREAK_ALL;case"keep-all":return Qt.KEEP_ALL;case"normal":default:return Qt.NORMAL}}},Rs={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(B,j){if(j.type===20)return{auto:!0,order:0};if(un(j))return{auto:!1,order:j.number};throw new Error("Invalid z-index number parsed")}},Sr={name:"time",parse:function(B,j){if(j.type===15)switch(j.unit.toLowerCase()){case"s":return 1e3*j.number;case"ms":return j.number}throw new Error("Unsupported time type")}},Er={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(B,j){return un(j)?j.number:1}},pn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(B,j){return j.filter(nr).map(function(F){switch(F.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(F){return F!==0})}},na={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(B,j){var F=[],L=[];return j.forEach(function(ae){switch(ae.type){case 20:case 0:F.push(ae.value);break;case 17:F.push(ae.number.toString());break;case 4:L.push(F.join(" ")),F.length=0;break}}),F.length&&L.push(F.join(" ")),L.map(function(ae){return ae.indexOf(" ")===-1?ae:"'"+ae+"'"})}},Ua={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},vi={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(B,j){if(un(j))return j.number;if(nr(j))switch(j.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ba={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(B,j){return j.filter(nr).map(function(F){return F.value})}},Ti={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(B,j){switch(j){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},k=function(B,j){return(B&j)!==0},Be={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(B,j){if(j.length===0)return[];var F=j[0];return F.type===20&&F.value==="none"?[]:j}},H={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(B,j){if(j.length===0)return null;var F=j[0];if(F.type===20&&F.value==="none")return null;for(var L=[],ae=j.filter(yr),je=0;je<ae.length;je++){var Fe=ae[je],qe=ae[je+1];if(Fe.type===20){var et=qe&&un(qe)?qe.number:1;L.push({counter:Fe.value,increment:et})}}return L}},Qe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(B,j){if(j.length===0)return[];for(var F=[],L=j.filter(yr),ae=0;ae<L.length;ae++){var je=L[ae],Fe=L[ae+1];if(nr(je)&&je.value!=="none"){var qe=Fe&&un(Fe)?Fe.number:0;F.push({counter:je.value,reset:qe})}}return F}},lt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(B,j){return j.filter(cr).map(function(F){return Sr.parse(B,F)})}},it={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(B,j){if(j.length===0)return null;var F=j[0];if(F.type===20&&F.value==="none")return null;var L=[],ae=j.filter(zs);if(ae.length%2!==0)return null;for(var je=0;je<ae.length;je+=2){var Fe=ae[je].value,qe=ae[je+1].value;L.push({open:Fe,close:qe})}return L}},Xt=function(B,j,F){if(!B)return"";var L=B[Math.min(j,B.length-1)];return L?F?L.open:L.close:""},Lt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(B,j){return j.length===1&&tn(j[0],"none")?[]:Or(j).map(function(F){for(var L={color:255,offsetX:Xr,offsetY:Xr,blur:Xr,spread:Xr,inset:!1},ae=0,je=0;je<F.length;je++){var Fe=F[je];tn(Fe,"inset")?L.inset=!0:Cn(Fe)?(ae===0?L.offsetX=Fe:ae===1?L.offsetY=Fe:ae===2?L.blur=Fe:L.spread=Fe,ae++):L.color=Na.parse(B,Fe)}return L})}},mr={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(B,j){var F=[0,1,2],L=[];return j.filter(nr).forEach(function(ae){switch(ae.value){case"stroke":L.push(1);break;case"fill":L.push(0);break;case"markers":L.push(2);break}}),F.forEach(function(ae){L.indexOf(ae)===-1&&L.push(ae)}),L}},jt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Jt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(B,j){return cr(j)?j.number:0}},mn=(function(){function B(j,F){var L,ae;this.animationDuration=vs(j,lt,F.animationDuration),this.backgroundClip=vs(j,tl,F.backgroundClip),this.backgroundColor=vs(j,Mo,F.backgroundColor),this.backgroundImage=vs(j,Jd,F.backgroundImage),this.backgroundOrigin=vs(j,hd,F.backgroundOrigin),this.backgroundPosition=vs(j,xo,F.backgroundPosition),this.backgroundRepeat=vs(j,Id,F.backgroundRepeat),this.backgroundSize=vs(j,Ol,F.backgroundSize),this.borderTopColor=vs(j,Oc,F.borderTopColor),this.borderRightColor=vs(j,Il,F.borderRightColor),this.borderBottomColor=vs(j,Gi,F.borderBottomColor),this.borderLeftColor=vs(j,Jl,F.borderLeftColor),this.borderTopLeftRadius=vs(j,Wi,F.borderTopLeftRadius),this.borderTopRightRadius=vs(j,Zc,F.borderTopRightRadius),this.borderBottomRightRadius=vs(j,Ro,F.borderBottomRightRadius),this.borderBottomLeftRadius=vs(j,pd,F.borderBottomLeftRadius),this.borderTopStyle=vs(j,bo,F.borderTopStyle),this.borderRightStyle=vs(j,to,F.borderRightStyle),this.borderBottomStyle=vs(j,ql,F.borderBottomStyle),this.borderLeftStyle=vs(j,gl,F.borderLeftStyle),this.borderTopWidth=vs(j,xl,F.borderTopWidth),this.borderRightWidth=vs(j,gu,F.borderRightWidth),this.borderBottomWidth=vs(j,Dl,F.borderBottomWidth),this.borderLeftWidth=vs(j,xu,F.borderLeftWidth),this.boxShadow=vs(j,Lt,F.boxShadow),this.color=vs(j,md,F.color),this.direction=vs(j,Qi,F.direction),this.display=vs(j,Ha,F.display),this.float=vs(j,Ic,F.cssFloat),this.fontFamily=vs(j,na,F.fontFamily),this.fontSize=vs(j,Ua,F.fontSize),this.fontStyle=vs(j,Ti,F.fontStyle),this.fontVariant=vs(j,Ba,F.fontVariant),this.fontWeight=vs(j,vi,F.fontWeight),this.letterSpacing=vs(j,bl,F.letterSpacing),this.lineBreak=vs(j,Qo,F.lineBreak),this.lineHeight=vs(j,Dc,F.lineHeight),this.listStyleImage=vs(j,xd,F.listStyleImage),this.listStylePosition=vs(j,Yi,F.listStylePosition),this.listStyleType=vs(j,qc,F.listStyleType),this.marginTop=vs(j,Zd,F.marginTop),this.marginRight=vs(j,nl,F.marginRight),this.marginBottom=vs(j,bc,F.marginBottom),this.marginLeft=vs(j,_o,F.marginLeft),this.opacity=vs(j,Er,F.opacity);var je=vs(j,al,F.overflow);this.overflowX=je[0],this.overflowY=je[je.length>1?1:0],this.overflowWrap=vs(j,bd,F.overflowWrap),this.paddingTop=vs(j,vc,F.paddingTop),this.paddingRight=vs(j,ed,F.paddingRight),this.paddingBottom=vs(j,il,F.paddingBottom),this.paddingLeft=vs(j,ri,F.paddingLeft),this.paintOrder=vs(j,mr,F.paintOrder),this.position=vs(j,vu,F.position),this.textAlign=vs(j,vd,F.textAlign),this.textDecorationColor=vs(j,pn,(L=F.textDecorationColor)!==null&&L!==void 0?L:F.color),this.textDecorationLine=vs(j,jn,(ae=F.textDecorationLine)!==null&&ae!==void 0?ae:F.textDecoration),this.textShadow=vs(j,Uu,F.textShadow),this.textTransform=vs(j,td,F.textTransform),this.transform=vs(j,sd,F.transform),this.transformOrigin=vs(j,at,F.transformOrigin),this.visibility=vs(j,pt,F.visibility),this.webkitTextStrokeColor=vs(j,jt,F.webkitTextStrokeColor),this.webkitTextStrokeWidth=vs(j,Jt,F.webkitTextStrokeWidth),this.wordBreak=vs(j,Cs,F.wordBreak),this.zIndex=vs(j,Rs,F.zIndex)}return B.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},B.prototype.isTransparent=function(){return wn(this.backgroundColor)},B.prototype.isTransformed=function(){return this.transform!==null},B.prototype.isPositioned=function(){return this.position!==0},B.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},B.prototype.isFloating=function(){return this.float!==0},B.prototype.isInlineLevel=function(){return k(this.display,4)||k(this.display,33554432)||k(this.display,268435456)||k(this.display,536870912)||k(this.display,67108864)||k(this.display,134217728)},B})(),ar=(function(){function B(j,F){this.content=vs(j,Be,F.content),this.quotes=vs(j,it,F.quotes)}return B})(),_s=(function(){function B(j,F){this.counterIncrement=vs(j,H,F.counterIncrement),this.counterReset=vs(j,Qe,F.counterReset)}return B})(),vs=function(B,j,F){var L=new Yr,ae=F!==null&&typeof F<"u"?F.toString():j.initialValue;L.write(ae);var je=new tt(L.read());switch(j.type){case 2:var Fe=je.parseComponentValue();return j.parse(B,nr(Fe)?Fe.value:j.initialValue);case 0:return j.parse(B,je.parseComponentValue());case 1:return j.parse(B,je.parseComponentValues());case 4:return je.parseComponentValue();case 3:switch(j.format){case"angle":return Kr.parse(B,je.parseComponentValue());case"color":return Na.parse(B,je.parseComponentValue());case"image":return Mc.parse(B,je.parseComponentValue());case"length":var qe=je.parseComponentValue();return Cn(qe)?qe:Xr;case"length-percentage":var et=je.parseComponentValue();return Cr(et)?et:Xr;case"time":return Sr.parse(B,je.parseComponentValue())}break}},Ma="data-html2canvas-debug",hn=function(B){var j=B.getAttribute(Ma);switch(j){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Gr=function(B,j){var F=hn(B);return F===1||j===F},cn=(function(){function B(j,F){if(this.context=j,this.textNodes=[],this.elements=[],this.flags=0,Gr(F,3))debugger;this.styles=new mn(j,window.getComputedStyle(F,null)),tu(F)&&(this.styles.animationDuration.some(function(L){return L>0})&&(F.style.animationDuration="0s"),this.styles.transform!==null&&(F.style.transform="none")),this.bounds=o(this.context,F),Gr(F,4)&&(this.flags|=16)}return B})(),Sn="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",En=typeof Uint8Array>"u"?[]:new Uint8Array(256),Oa=0;Oa<sr.length;Oa++)En[sr.charCodeAt(Oa)]=Oa;for(var Hr=function(B){var j=B.length*.75,F=B.length,L,ae=0,je,Fe,qe,et;B[B.length-1]==="="&&(j--,B[B.length-2]==="="&&j--);var Nt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(j):new Array(j),Dt=Array.isArray(Nt)?Nt:new Uint8Array(Nt);for(L=0;L<F;L+=4)je=En[B.charCodeAt(L)],Fe=En[B.charCodeAt(L+1)],qe=En[B.charCodeAt(L+2)],et=En[B.charCodeAt(L+3)],Dt[ae++]=je<<2|Fe>>4,Dt[ae++]=(Fe&15)<<4|qe>>2,Dt[ae++]=(qe&3)<<6|et&63;return Nt},aa=function(B){for(var j=B.length,F=[],L=0;L<j;L+=2)F.push(B[L+1]<<8|B[L]);return F},Dn=function(B){for(var j=B.length,F=[],L=0;L<j;L+=4)F.push(B[L+3]<<24|B[L+2]<<16|B[L+1]<<8|B[L]);return F},Tr=5,ln=11,vo=2,ec=ln-Tr,wl=65536>>Tr,Xi=1<<Tr,yo=Xi-1,Ya=1024>>Tr,Mu=wl+Ya,nd=Mu,ol=32,ll=nd+ol,yi=65536>>ln,qd=1<<ec,yc=qd-1,vn=function(B,j,F){return B.slice?B.slice(j,F):new Uint16Array(Array.prototype.slice.call(B,j,F))},pa=function(B,j,F){return B.slice?B.slice(j,F):new Uint32Array(Array.prototype.slice.call(B,j,F))},ni=function(B,j){var F=Hr(B),L=Array.isArray(F)?Dn(F):new Uint32Array(F),ae=Array.isArray(F)?aa(F):new Uint16Array(F),je=24,Fe=vn(ae,je/2,L[4]/2),qe=L[5]===2?vn(ae,(je+L[4])/2):pa(L,Math.ceil((je+L[4])/4));return new wd(L[0],L[1],L[2],L[3],Fe,qe)},wd=(function(){function B(j,F,L,ae,je,Fe){this.initialValue=j,this.errorValue=F,this.highStart=L,this.highValueIndex=ae,this.index=je,this.data=Fe}return B.prototype.get=function(j){var F;if(j>=0){if(j<55296||j>56319&&j<=65535)return F=this.index[j>>Tr],F=(F<<vo)+(j&yo),this.data[F];if(j<=65535)return F=this.index[wl+(j-55296>>Tr)],F=(F<<vo)+(j&yo),this.data[F];if(j<this.highStart)return F=ll-yi+(j>>ln),F=this.index[F],F+=j>>Tr&yc,F=this.index[F],F=(F<<vo)+(j&yo),this.data[F];if(j<=1114111)return this.data[this.highValueIndex]}return this.errorValue},B})(),tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wc=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ho=0;Ho<tc.length;Ho++)wc[tc.charCodeAt(Ho)]=Ho;var sc=1,ia=2,za=3,Pn=4,Ji=5,ad=7,yu=8,Dd=9,Ou=10,oA=11,lA=12,cA=13,cl=14,Li=15,dA=function(B){for(var j=[],F=0,L=B.length;F<L;){var ae=B.charCodeAt(F++);if(ae>=55296&&ae<=56319&&F<L){var je=B.charCodeAt(F++);(je&64512)===56320?j.push(((ae&1023)<<10)+(je&1023)+65536):(j.push(ae),F--)}else j.push(ae)}return j},Pd=function(){for(var B=[],j=0;j<arguments.length;j++)B[j]=arguments[j];if(String.fromCodePoint)return String.fromCodePoint.apply(String,B);var F=B.length;if(!F)return"";for(var L=[],ae=-1,je="";++ae<F;){var Fe=B[ae];Fe<=65535?L.push(Fe):(Fe-=65536,L.push((Fe>>10)+55296,Fe%1024+56320)),(ae+1===F||L.length>16384)&&(je+=String.fromCharCode.apply(String,L),L.length=0)}return je},uA=ni(Sn),Pl="",Pc="",AA=function(B){return uA.get(B)},zA=function(B,j,F){var L=F-2,ae=j[L],je=j[F-1],Fe=j[F];if(je===ia&&Fe===za)return Pl;if(je===ia||je===za||je===Pn||Fe===ia||Fe===za||Fe===Pn)return Pc;if(je===yu&&[yu,Dd,oA,lA].indexOf(Fe)!==-1||(je===oA||je===Dd)&&(Fe===Dd||Fe===Ou)||(je===lA||je===Ou)&&Fe===Ou||Fe===cA||Fe===Ji||Fe===ad||je===sc)return Pl;if(je===cA&&Fe===cl){for(;ae===Ji;)ae=j[--L];if(ae===cl)return Pl}if(je===Li&&Fe===Li){for(var qe=0;ae===Li;)qe++,ae=j[--L];if(qe%2===0)return Pl}return Pc},$A=function(B){var j=dA(B),F=j.length,L=0,ae=0,je=j.map(AA);return{next:function(){if(L>=F)return{done:!0,value:null};for(var Fe=Pl;L<F&&(Fe=zA(j,je,++L))===Pl;);if(Fe!==Pl||L===F){var qe=Pd.apply(null,j.slice(ae,L));return ae=L,{value:qe,done:!1}}return{done:!0,value:null}}}},zh=function(B){for(var j=$A(B),F=[],L;!(L=j.next()).done;)L.value&&F.push(L.value.slice());return F},$h=function(B){var j=123;if(B.createRange){var F=B.createRange();if(F.getBoundingClientRect){var L=B.createElement("boundtest");L.style.height=j+"px",L.style.display="block",B.body.appendChild(L),F.selectNode(L);var ae=F.getBoundingClientRect(),je=Math.round(ae.height);if(B.body.removeChild(L),je===j)return!0}}return!1},VA=function(B){var j=B.createElement("boundtest");j.style.width="50px",j.style.display="block",j.style.fontSize="12px",j.style.letterSpacing="0px",j.style.wordSpacing="0px",B.body.appendChild(j);var F=B.createRange();j.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var L=j.firstChild,ae=p(L.data).map(function(et){return m(et)}),je=0,Fe={},qe=ae.every(function(et,Nt){F.setStart(L,je),F.setEnd(L,je+et.length);var Dt=F.getBoundingClientRect();je+=et.length;var Gt=Dt.x>Fe.x||Dt.y>Fe.y;return Fe=Dt,Nt===0?!0:Gt});return B.body.removeChild(j),qe},hA=function(){return typeof new Image().crossOrigin<"u"},rc=function(){return typeof new XMLHttpRequest().responseType=="string"},jc=function(B){var j=new Image,F=B.createElement("canvas"),L=F.getContext("2d");if(!L)return!1;j.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{L.drawImage(j,0,0),F.toDataURL()}catch{return!1}return!0},wu=function(B){return B[0]===0&&B[1]===255&&B[2]===0&&B[3]===255},fA=function(B){var j=B.createElement("canvas"),F=100;j.width=F,j.height=F;var L=j.getContext("2d");if(!L)return Promise.reject(!1);L.fillStyle="rgb(0, 255, 0)",L.fillRect(0,0,F,F);var ae=new Image,je=j.toDataURL();ae.src=je;var Fe=KA(F,F,0,0,ae);return L.fillStyle="red",L.fillRect(0,0,F,F),Iu(Fe).then(function(qe){L.drawImage(qe,0,0);var et=L.getImageData(0,0,F,F).data;L.fillStyle="red",L.fillRect(0,0,F,F);var Nt=B.createElement("div");return Nt.style.backgroundImage="url("+je+")",Nt.style.height=F+"px",wu(et)?Iu(KA(F,F,0,0,Nt)):Promise.reject(!1)}).then(function(qe){return L.drawImage(qe,0,0),wu(L.getImageData(0,0,F,F).data)}).catch(function(){return!1})},KA=function(B,j,F,L,ae){var je="http://www.w3.org/2000/svg",Fe=document.createElementNS(je,"svg"),qe=document.createElementNS(je,"foreignObject");return Fe.setAttributeNS(null,"width",B.toString()),Fe.setAttributeNS(null,"height",j.toString()),qe.setAttributeNS(null,"width","100%"),qe.setAttributeNS(null,"height","100%"),qe.setAttributeNS(null,"x",F.toString()),qe.setAttributeNS(null,"y",L.toString()),qe.setAttributeNS(null,"externalResourcesRequired","true"),Fe.appendChild(qe),qe.appendChild(ae),Fe},Iu=function(B){return new Promise(function(j,F){var L=new Image;L.onload=function(){return j(L)},L.onerror=F,L.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(B))})},so={get SUPPORT_RANGE_BOUNDS(){var B=$h(document);return Object.defineProperty(so,"SUPPORT_RANGE_BOUNDS",{value:B}),B},get SUPPORT_WORD_BREAKING(){var B=so.SUPPORT_RANGE_BOUNDS&&VA(document);return Object.defineProperty(so,"SUPPORT_WORD_BREAKING",{value:B}),B},get SUPPORT_SVG_DRAWING(){var B=jc(document);return Object.defineProperty(so,"SUPPORT_SVG_DRAWING",{value:B}),B},get SUPPORT_FOREIGNOBJECT_DRAWING(){var B=typeof Array.from=="function"&&typeof window.fetch=="function"?fA(document):Promise.resolve(!1);return Object.defineProperty(so,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:B}),B},get SUPPORT_CORS_IMAGES(){var B=hA();return Object.defineProperty(so,"SUPPORT_CORS_IMAGES",{value:B}),B},get SUPPORT_RESPONSE_TYPE(){var B=rc();return Object.defineProperty(so,"SUPPORT_RESPONSE_TYPE",{value:B}),B},get SUPPORT_CORS_XHR(){var B="withCredentials"in new XMLHttpRequest;return Object.defineProperty(so,"SUPPORT_CORS_XHR",{value:B}),B},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var B=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(so,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:B}),B}},eu=(function(){function B(j,F){this.text=j,this.bounds=F}return B})(),GA=function(B,j,F,L){var ae=Ef(j,F),je=[],Fe=0;return ae.forEach(function(qe){if(F.textDecorationLine.length||qe.trim().length>0)if(so.SUPPORT_RANGE_BOUNDS){var et=pA(L,Fe,qe.length).getClientRects();if(et.length>1){var Nt=ju(qe),Dt=0;Nt.forEach(function(Ns){je.push(new eu(Ns,A.fromDOMRectList(B,pA(L,Dt+Fe,Ns.length).getClientRects()))),Dt+=Ns.length})}else je.push(new eu(qe,A.fromDOMRectList(B,et)))}else{var Gt=L.splitText(qe.length);je.push(new eu(qe,WA(B,L))),L=Gt}else so.SUPPORT_RANGE_BOUNDS||(L=L.splitText(qe.length));Fe+=qe.length}),je},WA=function(B,j){var F=j.ownerDocument;if(F){var L=F.createElement("html2canvaswrapper");L.appendChild(j.cloneNode(!0));var ae=j.parentNode;if(ae){ae.replaceChild(L,j);var je=o(B,L);return L.firstChild&&ae.replaceChild(L.firstChild,L),je}}return A.EMPTY},pA=function(B,j,F){var L=B.ownerDocument;if(!L)throw new Error("Node has no owner document");var ae=L.createRange();return ae.setStart(B,j),ae.setEnd(B,j+F),ae},ju=function(B){if(so.SUPPORT_NATIVE_TEXT_SEGMENTATION){var j=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(j.segment(B)).map(function(F){return F.segment})}return zh(B)},YA=function(B,j){if(so.SUPPORT_NATIVE_TEXT_SEGMENTATION){var F=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(F.segment(B)).map(function(L){return L.segment})}return Vh(B,j)},Ef=function(B,j){return j.letterSpacing!==0?ju(B):YA(B,j)},jp=[32,160,4961,65792,65793,4153,4241],Vh=function(B,j){for(var F=ki(B,{lineBreak:j.lineBreak,wordBreak:j.overflowWrap==="break-word"?"break-word":j.wordBreak}),L=[],ae,je=function(){if(ae.value){var Fe=ae.value.slice(),qe=p(Fe),et="";qe.forEach(function(Nt){jp.indexOf(Nt)===-1?et+=m(Nt):(et.length&&L.push(et),L.push(m(Nt)),et="")}),et.length&&L.push(et)}};!(ae=F.next()).done;)je();return L},Du=(function(){function B(j,F,L){this.text=Tf(F.data,L.textTransform),this.textBounds=GA(j,this.text,L,F)}return B})(),Tf=function(B,j){switch(j){case 1:return B.toLowerCase();case 3:return B.replace(XA,JA);case 2:return B.toUpperCase();default:return B}},XA=/(^|\s|:|-|\(|\))([a-z])/g,JA=function(B,j,F){return B.length>0?j+F.toUpperCase():B},Kh=(function(B){n(j,B);function j(F,L){var ae=B.call(this,F,L)||this;return ae.src=L.currentSrc||L.src,ae.intrinsicWidth=L.naturalWidth,ae.intrinsicHeight=L.naturalHeight,ae.context.cache.addImage(ae.src),ae}return j})(cn),Pu=(function(B){n(j,B);function j(F,L){var ae=B.call(this,F,L)||this;return ae.canvas=L,ae.intrinsicWidth=L.width,ae.intrinsicHeight=L.height,ae}return j})(cn),ZA=(function(B){n(j,B);function j(F,L){var ae=B.call(this,F,L)||this,je=new XMLSerializer,Fe=o(F,L);return L.setAttribute("width",Fe.width+"px"),L.setAttribute("height",Fe.height+"px"),ae.svg="data:image/svg+xml,"+encodeURIComponent(je.serializeToString(L)),ae.intrinsicWidth=L.width.baseVal.value,ae.intrinsicHeight=L.height.baseVal.value,ae.context.cache.addImage(ae.svg),ae}return j})(cn),Nu=(function(B){n(j,B);function j(F,L){var ae=B.call(this,F,L)||this;return ae.value=L.value,ae}return j})(cn),qA=(function(B){n(j,B);function j(F,L){var ae=B.call(this,F,L)||this;return ae.start=L.start,ae.reversed=typeof L.reversed=="boolean"&&L.reversed===!0,ae}return j})(cn),Lf=[{type:15,flags:0,unit:"px",number:3}],Gh=[{type:16,flags:0,number:50}],Ff=function(B){return B.width>B.height?new A(B.left+(B.width-B.height)/2,B.top,B.height,B.height):B.width<B.height?new A(B.left,B.top+(B.height-B.width)/2,B.width,B.width):B},Wh=function(B){var j=B.type===jd?new Array(B.value.length+1).join(""):B.value;return j.length===0?B.placeholder||"":j},mA="checkbox",gA="radio",jd="password",Nc=707406591,Rc=(function(B){n(j,B);function j(F,L){var ae=B.call(this,F,L)||this;switch(ae.type=L.type.toLowerCase(),ae.checked=L.checked,ae.value=Wh(L),(ae.type===mA||ae.type===gA)&&(ae.styles.backgroundColor=3739148031,ae.styles.borderTopColor=ae.styles.borderRightColor=ae.styles.borderBottomColor=ae.styles.borderLeftColor=2779096575,ae.styles.borderTopWidth=ae.styles.borderRightWidth=ae.styles.borderBottomWidth=ae.styles.borderLeftWidth=1,ae.styles.borderTopStyle=ae.styles.borderRightStyle=ae.styles.borderBottomStyle=ae.styles.borderLeftStyle=1,ae.styles.backgroundClip=[0],ae.styles.backgroundOrigin=[0],ae.bounds=Ff(ae.bounds)),ae.type){case mA:ae.styles.borderTopRightRadius=ae.styles.borderTopLeftRadius=ae.styles.borderBottomRightRadius=ae.styles.borderBottomLeftRadius=Lf;break;case gA:ae.styles.borderTopRightRadius=ae.styles.borderTopLeftRadius=ae.styles.borderBottomRightRadius=ae.styles.borderBottomLeftRadius=Gh;break}return ae}return j})(cn),Uf=(function(B){n(j,B);function j(F,L){var ae=B.call(this,F,L)||this,je=L.options[L.selectedIndex||0];return ae.value=je&&je.text||"",ae}return j})(cn),xA=(function(B){n(j,B);function j(F,L){var ae=B.call(this,F,L)||this;return ae.value=L.value,ae}return j})(cn),Nd=(function(B){n(j,B);function j(F,L){var ae=B.call(this,F,L)||this;ae.src=L.src,ae.width=parseInt(L.width,10)||0,ae.height=parseInt(L.height,10)||0,ae.backgroundColor=ae.styles.backgroundColor;try{if(L.contentWindow&&L.contentWindow.document&&L.contentWindow.document.documentElement){ae.tree=eh(F,L.contentWindow.document.documentElement);var je=L.contentWindow.document.documentElement?ci(F,getComputedStyle(L.contentWindow.document.documentElement).backgroundColor):gi.TRANSPARENT,Fe=L.contentWindow.document.body?ci(F,getComputedStyle(L.contentWindow.document.body).backgroundColor):gi.TRANSPARENT;ae.backgroundColor=wn(je)?wn(Fe)?ae.styles.backgroundColor:Fe:je}}catch{}return ae}return j})(cn),kc=["OL","UL","MENU"],Ru=function(B,j,F,L){for(var ae=j.firstChild,je=void 0;ae;ae=je)if(je=ae.nextSibling,th(ae)&&ae.data.trim().length>0)F.textNodes.push(new Du(B,ae,F.styles));else if(kd(ae))if(_u(ae)&&ae.assignedNodes)ae.assignedNodes().forEach(function(qe){return Ru(B,qe,F,L)});else{var Fe=Yh(B,ae);Fe.styles.isVisible()&&(Mf(ae,Fe,L)?Fe.flags|=4:Of(Fe.styles)&&(Fe.flags|=2),kc.indexOf(ae.tagName)!==-1&&(Fe.flags|=8),F.elements.push(Fe),ae.slot,ae.shadowRoot?Ru(B,ae.shadowRoot,Fe,L):!yA(ae)&&!rh(ae)&&!wA(ae)&&Ru(B,ae,Fe,L))}},Yh=function(B,j){return oh(j)?new Kh(B,j):ah(j)?new Pu(B,j):rh(j)?new ZA(B,j):Qu(j)?new Nu(B,j):sh(j)?new qA(B,j):bA(j)?new Rc(B,j):wA(j)?new Uf(B,j):yA(j)?new xA(B,j):Jh(j)?new Nd(B,j):new cn(B,j)},eh=function(B,j){var F=Yh(B,j);return F.flags|=4,Ru(B,j,F,F),F},Mf=function(B,j,F){return j.styles.isPositionedWithZIndex()||j.styles.opacity<1||j.styles.isTransformed()||nh(B)&&F.styles.isTransparent()},Of=function(B){return B.isPositioned()||B.isFloating()},th=function(B){return B.nodeType===Node.TEXT_NODE},kd=function(B){return B.nodeType===Node.ELEMENT_NODE},tu=function(B){return kd(B)&&typeof B.style<"u"&&!Cd(B)},Cd=function(B){return typeof B.className=="object"},Qu=function(B){return B.tagName==="LI"},sh=function(B){return B.tagName==="OL"},bA=function(B){return B.tagName==="INPUT"},Xh=function(B){return B.tagName==="HTML"},rh=function(B){return B.tagName==="svg"},nh=function(B){return B.tagName==="BODY"},ah=function(B){return B.tagName==="CANVAS"},ih=function(B){return B.tagName==="VIDEO"},oh=function(B){return B.tagName==="IMG"},Jh=function(B){return B.tagName==="IFRAME"},Rd=function(B){return B.tagName==="STYLE"},vA=function(B){return B.tagName==="SCRIPT"},yA=function(B){return B.tagName==="TEXTAREA"},wA=function(B){return B.tagName==="SELECT"},_u=function(B){return B.tagName==="SLOT"},C=function(B){return B.tagName.indexOf("-")>0},D=(function(){function B(){this.counters={}}return B.prototype.getCounterValue=function(j){var F=this.counters[j];return F&&F.length?F[F.length-1]:1},B.prototype.getCounterValues=function(j){var F=this.counters[j];return F||[]},B.prototype.pop=function(j){var F=this;j.forEach(function(L){return F.counters[L].pop()})},B.prototype.parse=function(j){var F=this,L=j.counterIncrement,ae=j.counterReset,je=!0;L!==null&&L.forEach(function(qe){var et=F.counters[qe.counter];et&&qe.increment!==0&&(je=!1,et.length||et.push(1),et[Math.max(0,et.length-1)]+=qe.increment)});var Fe=[];return je&&ae.forEach(function(qe){var et=F.counters[qe.counter];Fe.push(qe.counter),et||(et=F.counters[qe.counter]=[]),et.push(qe.reset)}),Fe},B})(),ne={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},me={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Le={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ie={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Oe=function(B,j,F,L,ae,je){return B<j||B>F?$s(B,ae,je.length>0):L.integers.reduce(function(Fe,qe,et){for(;B>=qe;)B-=qe,Fe+=L.values[et];return Fe},"")+je},He=function(B,j,F,L){var ae="";do F||B--,ae=L(B)+ae,B/=j;while(B*j>=j);return ae},Ke=function(B,j,F,L,ae){var je=F-j+1;return(B<0?"-":"")+(He(Math.abs(B),je,L,function(Fe){return m(Math.floor(Fe%je)+j)})+ae)},nt=function(B,j,F){F===void 0&&(F=". ");var L=j.length;return He(Math.abs(B),L,!1,function(ae){return j[Math.floor(ae%L)]})+F},Ct=1,Wt=2,st=4,Ft=8,_t=function(B,j,F,L,ae,je){if(B<-9999||B>9999)return $s(B,4,ae.length>0);var Fe=Math.abs(B),qe=ae;if(Fe===0)return j[0]+qe;for(var et=0;Fe>0&&et<=4;et++){var Nt=Fe%10;Nt===0&&k(je,Ct)&&qe!==""?qe=j[Nt]+qe:Nt>1||Nt===1&&et===0||Nt===1&&et===1&&k(je,Wt)||Nt===1&&et===1&&k(je,st)&&B>100||Nt===1&&et>1&&k(je,Ft)?qe=j[Nt]+(et>0?F[et-1]:"")+qe:Nt===1&&et>0&&(qe=F[et-1]+qe),Fe=Math.floor(Fe/10)}return(B<0?L:"")+qe},ws="",Zt="",js="",Bs="",$s=function(B,j,F){var L=F?". ":"",ae=F?"":"",je=F?", ":"",Fe=F?" ":"";switch(j){case 0:return""+Fe;case 1:return""+Fe;case 2:return""+Fe;case 5:var qe=Ke(B,48,57,!0,L);return qe.length<4?"0"+qe:qe;case 4:return nt(B,"",ae);case 6:return Oe(B,1,3999,ne,3,L).toLowerCase();case 7:return Oe(B,1,3999,ne,3,L);case 8:return Ke(B,945,969,!1,L);case 9:return Ke(B,97,122,!1,L);case 10:return Ke(B,65,90,!1,L);case 11:return Ke(B,1632,1641,!0,L);case 12:case 49:return Oe(B,1,9999,me,3,L);case 35:return Oe(B,1,9999,me,3,L).toLowerCase();case 13:return Ke(B,2534,2543,!0,L);case 14:case 30:return Ke(B,6112,6121,!0,L);case 15:return nt(B,"",ae);case 16:return nt(B,"",ae);case 17:case 48:return _t(B,"",ws,"",ae,Wt|st|Ft);case 47:return _t(B,"",Zt,"",ae,Ct|Wt|st|Ft);case 42:return _t(B,"",ws,"",ae,Wt|st|Ft);case 41:return _t(B,"",Zt,"",ae,Ct|Wt|st|Ft);case 26:return _t(B,"","",js,ae,0);case 25:return _t(B,"","",js,ae,Ct|Wt|st);case 31:return _t(B,"","",Bs,je,Ct|Wt|st);case 33:return _t(B,"","",Bs,je,0);case 32:return _t(B,"","",Bs,je,Ct|Wt|st);case 18:return Ke(B,2406,2415,!0,L);case 20:return Oe(B,1,19999,Ie,3,L);case 21:return Ke(B,2790,2799,!0,L);case 22:return Ke(B,2662,2671,!0,L);case 22:return Oe(B,1,10999,Le,3,L);case 23:return nt(B,"");case 24:return nt(B,"");case 27:return Ke(B,3302,3311,!0,L);case 28:return nt(B,"",ae);case 29:return nt(B,"",ae);case 34:return Ke(B,3792,3801,!0,L);case 37:return Ke(B,6160,6169,!0,L);case 38:return Ke(B,4160,4169,!0,L);case 39:return Ke(B,2918,2927,!0,L);case 40:return Ke(B,1776,1785,!0,L);case 43:return Ke(B,3046,3055,!0,L);case 44:return Ke(B,3174,3183,!0,L);case 45:return Ke(B,3664,3673,!0,L);case 46:return Ke(B,3872,3881,!0,L);case 3:default:return Ke(B,48,57,!0,L)}},Qs="data-html2canvas-ignore",zr=(function(){function B(j,F,L){if(this.context=j,this.options=L,this.scrolledElements=[],this.referenceElement=F,this.counters=new D,this.quoteDepth=0,!F.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(F.ownerDocument.documentElement,!1)}return B.prototype.toIFrame=function(j,F){var L=this,ae=Rn(j,F);if(!ae.contentWindow)return Promise.reject("Unable to find iframe window");var je=j.defaultView.pageXOffset,Fe=j.defaultView.pageYOffset,qe=ae.contentWindow,et=qe.document,Nt=ro(ae).then(function(){return l(L,void 0,void 0,function(){var Dt,Gt;return u(this,function(Ns){switch(Ns.label){case 0:return this.scrolledElements.forEach(Un),qe&&(qe.scrollTo(F.left,F.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(qe.scrollY!==F.top||qe.scrollX!==F.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(qe.scrollX-F.left,qe.scrollY-F.top,0,0))),Dt=this.options.onclone,Gt=this.clonedReferenceElement,typeof Gt>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:et.fonts&&et.fonts.ready?[4,et.fonts.ready]:[3,2];case 1:Ns.sent(),Ns.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ca(et)]:[3,4];case 3:Ns.sent(),Ns.label=4;case 4:return typeof Dt=="function"?[2,Promise.resolve().then(function(){return Dt(et,Gt)}).then(function(){return ae})]:[2,ae]}})})});return et.open(),et.write(ur(document.doctype)+"<html></html>"),_i(this.referenceElement.ownerDocument,je,Fe),et.replaceChild(et.adoptNode(this.documentElement),et.documentElement),et.close(),Nt},B.prototype.createElementClone=function(j){if(Gr(j,2))debugger;if(ah(j))return this.createCanvasClone(j);if(ih(j))return this.createVideoClone(j);if(Rd(j))return this.createStyleClone(j);var F=j.cloneNode(!1);return oh(F)&&(oh(j)&&j.currentSrc&&j.currentSrc!==j.src&&(F.src=j.currentSrc,F.srcset=""),F.loading==="lazy"&&(F.loading="eager")),C(F)?this.createCustomElementClone(F):F},B.prototype.createCustomElementClone=function(j){var F=document.createElement("html2canvascustomelement");return Dr(j.style,F),F},B.prototype.createStyleClone=function(j){try{var F=j.sheet;if(F&&F.cssRules){var L=[].slice.call(F.cssRules,0).reduce(function(je,Fe){return Fe&&typeof Fe.cssText=="string"?je+Fe.cssText:je},""),ae=j.cloneNode(!1);return ae.textContent=L,ae}}catch(je){if(this.context.logger.error("Unable to access cssRules property",je),je.name!=="SecurityError")throw je}return j.cloneNode(!1)},B.prototype.createCanvasClone=function(j){var F;if(this.options.inlineImages&&j.ownerDocument){var L=j.ownerDocument.createElement("img");try{return L.src=j.toDataURL(),L}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",j)}}var ae=j.cloneNode(!1);try{ae.width=j.width,ae.height=j.height;var je=j.getContext("2d"),Fe=ae.getContext("2d");if(Fe)if(!this.options.allowTaint&&je)Fe.putImageData(je.getImageData(0,0,j.width,j.height),0,0);else{var qe=(F=j.getContext("webgl2"))!==null&&F!==void 0?F:j.getContext("webgl");if(qe){var et=qe.getContextAttributes();(et==null?void 0:et.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",j)}Fe.drawImage(j,0,0)}return ae}catch{this.context.logger.info("Unable to clone canvas as it is tainted",j)}return ae},B.prototype.createVideoClone=function(j){var F=j.ownerDocument.createElement("canvas");F.width=j.offsetWidth,F.height=j.offsetHeight;var L=F.getContext("2d");try{return L&&(L.drawImage(j,0,0,F.width,F.height),this.options.allowTaint||L.getImageData(0,0,F.width,F.height)),F}catch{this.context.logger.info("Unable to clone video as it is tainted",j)}var ae=j.ownerDocument.createElement("canvas");return ae.width=j.offsetWidth,ae.height=j.offsetHeight,ae},B.prototype.appendChildNode=function(j,F,L){(!kd(F)||!vA(F)&&!F.hasAttribute(Qs)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(F)))&&(!this.options.copyStyles||!kd(F)||!Rd(F))&&j.appendChild(this.cloneNode(F,L))},B.prototype.cloneChildNodes=function(j,F,L){for(var ae=this,je=j.shadowRoot?j.shadowRoot.firstChild:j.firstChild;je;je=je.nextSibling)if(kd(je)&&_u(je)&&typeof je.assignedNodes=="function"){var Fe=je.assignedNodes();Fe.length&&Fe.forEach(function(qe){return ae.appendChildNode(F,qe,L)})}else this.appendChildNode(F,je,L)},B.prototype.cloneNode=function(j,F){if(th(j))return document.createTextNode(j.data);if(!j.ownerDocument)return j.cloneNode(!1);var L=j.ownerDocument.defaultView;if(L&&kd(j)&&(tu(j)||Cd(j))){var ae=this.createElementClone(j);ae.style.transitionProperty="none";var je=L.getComputedStyle(j),Fe=L.getComputedStyle(j,":before"),qe=L.getComputedStyle(j,":after");this.referenceElement===j&&tu(ae)&&(this.clonedReferenceElement=ae),nh(ae)&&$o(ae);var et=this.counters.parse(new _s(this.context,je)),Nt=this.resolvePseudoContent(j,ae,Fe,jr.BEFORE);C(j)&&(F=!0),ih(j)||this.cloneChildNodes(j,ae,F),Nt&&ae.insertBefore(Nt,ae.firstChild);var Dt=this.resolvePseudoContent(j,ae,qe,jr.AFTER);return Dt&&ae.appendChild(Dt),this.counters.pop(et),(je&&(this.options.copyStyles||Cd(j))&&!Jh(j)||F)&&Dr(je,ae),(j.scrollTop!==0||j.scrollLeft!==0)&&this.scrolledElements.push([ae,j.scrollLeft,j.scrollTop]),(yA(j)||wA(j))&&(yA(ae)||wA(ae))&&(ae.value=j.value),ae}return j.cloneNode(!1)},B.prototype.resolvePseudoContent=function(j,F,L,ae){var je=this;if(L){var Fe=L.content,qe=F.ownerDocument;if(!(!qe||!Fe||Fe==="none"||Fe==="-moz-alt-content"||L.display==="none")){this.counters.parse(new _s(this.context,L));var et=new ar(this.context,L),Nt=qe.createElement("html2canvaspseudoelement");Dr(L,Nt),et.content.forEach(function(Gt){if(Gt.type===0)Nt.appendChild(qe.createTextNode(Gt.value));else if(Gt.type===22){var Ns=qe.createElement("img");Ns.src=Gt.value,Ns.style.opacity="1",Nt.appendChild(Ns)}else if(Gt.type===18){if(Gt.name==="attr"){var Nr=Gt.values.filter(nr);Nr.length&&Nt.appendChild(qe.createTextNode(j.getAttribute(Nr[0].value)||""))}else if(Gt.name==="counter"){var qs=Gt.values.filter(Vr),Ar=qs[0],Jr=qs[1];if(Ar&&nr(Ar)){var Ur=je.counters.getCounterValue(Ar.value),Fr=Jr&&nr(Jr)?qc.parse(je.context,Jr.value):3;Nt.appendChild(qe.createTextNode($s(Ur,Fr,!1)))}}else if(Gt.name==="counters"){var ta=Gt.values.filter(Vr),Ar=ta[0],Xn=ta[1],Jr=ta[2];if(Ar&&nr(Ar)){var Nn=je.counters.getCounterValues(Ar.value),kr=Jr&&nr(Jr)?qc.parse(je.context,Jr.value):3,da=Xn&&Xn.type===0?Xn.value:"",va=Nn.map(function(wi){return $s(wi,kr,!1)}).join(da);Nt.appendChild(qe.createTextNode(va))}}}else if(Gt.type===20)switch(Gt.value){case"open-quote":Nt.appendChild(qe.createTextNode(Xt(et.quotes,je.quoteDepth++,!0)));break;case"close-quote":Nt.appendChild(qe.createTextNode(Xt(et.quotes,--je.quoteDepth,!1)));break;default:Nt.appendChild(qe.createTextNode(Gt.value))}}),Nt.className=wo+" "+zo;var Dt=ae===jr.BEFORE?" "+wo:" "+zo;return Cd(F)?F.className.baseValue+=Dt:F.className+=Dt,Nt}}},B.destroy=function(j){return j.parentNode?(j.parentNode.removeChild(j),!0):!1},B})(),jr;(function(B){B[B.BEFORE=0]="BEFORE",B[B.AFTER=1]="AFTER"})(jr||(jr={}));var Rn=function(B,j){var F=B.createElement("iframe");return F.className="html2canvas-container",F.style.visibility="hidden",F.style.position="fixed",F.style.left="-10000px",F.style.top="0px",F.style.border="0",F.width=j.width.toString(),F.height=j.height.toString(),F.scrolling="no",F.setAttribute(Qs,"true"),B.body.appendChild(F),F},Pr=function(B){return new Promise(function(j){if(B.complete){j();return}if(!B.src){j();return}B.onload=j,B.onerror=j})},ca=function(B){return Promise.all([].slice.call(B.images,0).map(Pr))},ro=function(B){return new Promise(function(j,F){var L=B.contentWindow;if(!L)return F("No window assigned for iframe");var ae=L.document;L.onload=B.onload=function(){L.onload=B.onload=null;var je=setInterval(function(){ae.body.childNodes.length>0&&ae.readyState==="complete"&&(clearInterval(je),j(B))},50)}})},Fn=["all","d","content"],Dr=function(B,j){for(var F=B.length-1;F>=0;F--){var L=B.item(F);Fn.indexOf(L)===-1&&j.style.setProperty(L,B.getPropertyValue(L))}return j},ur=function(B){var j="";return B&&(j+="<!DOCTYPE ",B.name&&(j+=B.name),B.internalSubset&&(j+=B.internalSubset),B.publicId&&(j+='"'+B.publicId+'"'),B.systemId&&(j+='"'+B.systemId+'"'),j+=">"),j},_i=function(B,j,F){B&&B.defaultView&&(j!==B.defaultView.pageXOffset||F!==B.defaultView.pageYOffset)&&B.defaultView.scrollTo(j,F)},Un=function(B){var j=B[0],F=B[1],L=B[2];j.scrollLeft=F,j.scrollTop=L},Hn=":before",ai=":after",wo="___html2canvas___pseudoelement_before",zo="___html2canvas___pseudoelement_after",Ia=`{
    content: "" !important;
    display: none !important;
}`,$o=function(B){jl(B,"."+wo+Hn+Ia+`
         .`+zo+ai+Ia)},jl=function(B,j){var F=B.ownerDocument;if(F){var L=F.createElement("style");L.textContent=j,B.appendChild(L)}},Hi=(function(){function B(){}return B.getOrigin=function(j){var F=B._link;return F?(F.href=j,F.href=F.href,F.protocol+F.hostname+F.port):"about:blank"},B.isSameOrigin=function(j){return B.getOrigin(j)===B._origin},B.setContext=function(j){B._link=j.document.createElement("a"),B._origin=B.getOrigin(j.location.href)},B._origin="about:blank",B})(),oa=(function(){function B(j,F){this.context=j,this._options=F,this._cache={}}return B.prototype.addImage=function(j){var F=Promise.resolve();return this.has(j)||(ul(j)||Vo(j))&&(this._cache[j]=this.loadImage(j)).catch(function(){}),F},B.prototype.match=function(j){return this._cache[j]},B.prototype.loadImage=function(j){return l(this,void 0,void 0,function(){var F,L,ae,je,Fe=this;return u(this,function(qe){switch(qe.label){case 0:return F=Hi.isSameOrigin(j),L=!dl(j)&&this._options.useCORS===!0&&so.SUPPORT_CORS_IMAGES&&!F,ae=!dl(j)&&!F&&!ul(j)&&typeof this._options.proxy=="string"&&so.SUPPORT_CORS_XHR&&!L,!F&&this._options.allowTaint===!1&&!dl(j)&&!ul(j)&&!ae&&!L?[2]:(je=j,ae?[4,this.proxy(je)]:[3,2]);case 1:je=qe.sent(),qe.label=2;case 2:return this.context.logger.debug("Added image "+j.substring(0,256)),[4,new Promise(function(et,Nt){var Dt=new Image;Dt.onload=function(){return et(Dt)},Dt.onerror=Nt,(Xa(je)||L)&&(Dt.crossOrigin="anonymous"),Dt.src=je,Dt.complete===!0&&setTimeout(function(){return et(Dt)},500),Fe._options.imageTimeout>0&&setTimeout(function(){return Nt("Timed out ("+Fe._options.imageTimeout+"ms) loading image")},Fe._options.imageTimeout)})];case 3:return[2,qe.sent()]}})})},B.prototype.has=function(j){return typeof this._cache[j]<"u"},B.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},B.prototype.proxy=function(j){var F=this,L=this._options.proxy;if(!L)throw new Error("No proxy defined");var ae=j.substring(0,256);return new Promise(function(je,Fe){var qe=so.SUPPORT_RESPONSE_TYPE?"blob":"text",et=new XMLHttpRequest;et.onload=function(){if(et.status===200)if(qe==="text")je(et.response);else{var Gt=new FileReader;Gt.addEventListener("load",function(){return je(Gt.result)},!1),Gt.addEventListener("error",function(Ns){return Fe(Ns)},!1),Gt.readAsDataURL(et.response)}else Fe("Failed to proxy resource "+ae+" with status code "+et.status)},et.onerror=Fe;var Nt=L.indexOf("?")>-1?"&":"?";if(et.open("GET",""+L+Nt+"url="+encodeURIComponent(j)+"&responseType="+qe),qe!=="text"&&et instanceof XMLHttpRequest&&(et.responseType=qe),F._options.imageTimeout){var Dt=F._options.imageTimeout;et.timeout=Dt,et.ontimeout=function(){return Fe("Timed out ("+Dt+"ms) proxying "+ae)}}et.send()})},B})(),dn=/^data:image\/svg\+xml/i,Zi=/^data:image\/.*;base64,/i,$a=/^data:image\/.*/i,Vo=function(B){return so.SUPPORT_SVG_DRAWING||!Ja(B)},dl=function(B){return $a.test(B)},Xa=function(B){return Zi.test(B)},ul=function(B){return B.substr(0,4)==="blob"},Ja=function(B){return B.substr(-3).toLowerCase()==="svg"||dn.test(B)},Ys=(function(){function B(j,F){this.type=0,this.x=j,this.y=F}return B.prototype.add=function(j,F){return new B(this.x+j,this.y+F)},B})(),ii=function(B,j,F){return new Ys(B.x+(j.x-B.x)*F,B.y+(j.y-B.y)*F)},jo=(function(){function B(j,F,L,ae){this.type=1,this.start=j,this.startControl=F,this.endControl=L,this.end=ae}return B.prototype.subdivide=function(j,F){var L=ii(this.start,this.startControl,j),ae=ii(this.startControl,this.endControl,j),je=ii(this.endControl,this.end,j),Fe=ii(L,ae,j),qe=ii(ae,je,j),et=ii(Fe,qe,j);return F?new B(this.start,L,Fe,et):new B(et,qe,je,this.end)},B.prototype.add=function(j,F){return new B(this.start.add(j,F),this.startControl.add(j,F),this.endControl.add(j,F),this.end.add(j,F))},B.prototype.reverse=function(){return new B(this.end,this.endControl,this.startControl,this.start)},B})(),ui=function(B){return B.type===1},nc=(function(){function B(j){var F=j.styles,L=j.bounds,ae=Ir(F.borderTopLeftRadius,L.width,L.height),je=ae[0],Fe=ae[1],qe=Ir(F.borderTopRightRadius,L.width,L.height),et=qe[0],Nt=qe[1],Dt=Ir(F.borderBottomRightRadius,L.width,L.height),Gt=Dt[0],Ns=Dt[1],Nr=Ir(F.borderBottomLeftRadius,L.width,L.height),qs=Nr[0],Ar=Nr[1],Jr=[];Jr.push((je+et)/L.width),Jr.push((qs+Gt)/L.width),Jr.push((Fe+Ar)/L.height),Jr.push((Nt+Ns)/L.height);var Ur=Math.max.apply(Math,Jr);Ur>1&&(je/=Ur,Fe/=Ur,et/=Ur,Nt/=Ur,Gt/=Ur,Ns/=Ur,qs/=Ur,Ar/=Ur);var Fr=L.width-et,ta=L.height-Ns,Xn=L.width-Gt,Nn=L.height-Ar,kr=F.borderTopWidth,da=F.borderRightWidth,va=F.borderBottomWidth,sn=F.borderLeftWidth,No=bn(F.paddingTop,j.bounds.width),wi=bn(F.paddingRight,j.bounds.width),zc=bn(F.paddingBottom,j.bounds.width),oi=bn(F.paddingLeft,j.bounds.width);this.topLeftBorderDoubleOuterBox=je>0||Fe>0?ea(L.left+sn/3,L.top+kr/3,je-sn/3,Fe-kr/3,Tn.TOP_LEFT):new Ys(L.left+sn/3,L.top+kr/3),this.topRightBorderDoubleOuterBox=je>0||Fe>0?ea(L.left+Fr,L.top+kr/3,et-da/3,Nt-kr/3,Tn.TOP_RIGHT):new Ys(L.left+L.width-da/3,L.top+kr/3),this.bottomRightBorderDoubleOuterBox=Gt>0||Ns>0?ea(L.left+Xn,L.top+ta,Gt-da/3,Ns-va/3,Tn.BOTTOM_RIGHT):new Ys(L.left+L.width-da/3,L.top+L.height-va/3),this.bottomLeftBorderDoubleOuterBox=qs>0||Ar>0?ea(L.left+sn/3,L.top+Nn,qs-sn/3,Ar-va/3,Tn.BOTTOM_LEFT):new Ys(L.left+sn/3,L.top+L.height-va/3),this.topLeftBorderDoubleInnerBox=je>0||Fe>0?ea(L.left+sn*2/3,L.top+kr*2/3,je-sn*2/3,Fe-kr*2/3,Tn.TOP_LEFT):new Ys(L.left+sn*2/3,L.top+kr*2/3),this.topRightBorderDoubleInnerBox=je>0||Fe>0?ea(L.left+Fr,L.top+kr*2/3,et-da*2/3,Nt-kr*2/3,Tn.TOP_RIGHT):new Ys(L.left+L.width-da*2/3,L.top+kr*2/3),this.bottomRightBorderDoubleInnerBox=Gt>0||Ns>0?ea(L.left+Xn,L.top+ta,Gt-da*2/3,Ns-va*2/3,Tn.BOTTOM_RIGHT):new Ys(L.left+L.width-da*2/3,L.top+L.height-va*2/3),this.bottomLeftBorderDoubleInnerBox=qs>0||Ar>0?ea(L.left+sn*2/3,L.top+Nn,qs-sn*2/3,Ar-va*2/3,Tn.BOTTOM_LEFT):new Ys(L.left+sn*2/3,L.top+L.height-va*2/3),this.topLeftBorderStroke=je>0||Fe>0?ea(L.left+sn/2,L.top+kr/2,je-sn/2,Fe-kr/2,Tn.TOP_LEFT):new Ys(L.left+sn/2,L.top+kr/2),this.topRightBorderStroke=je>0||Fe>0?ea(L.left+Fr,L.top+kr/2,et-da/2,Nt-kr/2,Tn.TOP_RIGHT):new Ys(L.left+L.width-da/2,L.top+kr/2),this.bottomRightBorderStroke=Gt>0||Ns>0?ea(L.left+Xn,L.top+ta,Gt-da/2,Ns-va/2,Tn.BOTTOM_RIGHT):new Ys(L.left+L.width-da/2,L.top+L.height-va/2),this.bottomLeftBorderStroke=qs>0||Ar>0?ea(L.left+sn/2,L.top+Nn,qs-sn/2,Ar-va/2,Tn.BOTTOM_LEFT):new Ys(L.left+sn/2,L.top+L.height-va/2),this.topLeftBorderBox=je>0||Fe>0?ea(L.left,L.top,je,Fe,Tn.TOP_LEFT):new Ys(L.left,L.top),this.topRightBorderBox=et>0||Nt>0?ea(L.left+Fr,L.top,et,Nt,Tn.TOP_RIGHT):new Ys(L.left+L.width,L.top),this.bottomRightBorderBox=Gt>0||Ns>0?ea(L.left+Xn,L.top+ta,Gt,Ns,Tn.BOTTOM_RIGHT):new Ys(L.left+L.width,L.top+L.height),this.bottomLeftBorderBox=qs>0||Ar>0?ea(L.left,L.top+Nn,qs,Ar,Tn.BOTTOM_LEFT):new Ys(L.left,L.top+L.height),this.topLeftPaddingBox=je>0||Fe>0?ea(L.left+sn,L.top+kr,Math.max(0,je-sn),Math.max(0,Fe-kr),Tn.TOP_LEFT):new Ys(L.left+sn,L.top+kr),this.topRightPaddingBox=et>0||Nt>0?ea(L.left+Math.min(Fr,L.width-da),L.top+kr,Fr>L.width+da?0:Math.max(0,et-da),Math.max(0,Nt-kr),Tn.TOP_RIGHT):new Ys(L.left+L.width-da,L.top+kr),this.bottomRightPaddingBox=Gt>0||Ns>0?ea(L.left+Math.min(Xn,L.width-sn),L.top+Math.min(ta,L.height-va),Math.max(0,Gt-da),Math.max(0,Ns-va),Tn.BOTTOM_RIGHT):new Ys(L.left+L.width-da,L.top+L.height-va),this.bottomLeftPaddingBox=qs>0||Ar>0?ea(L.left+sn,L.top+Math.min(Nn,L.height-va),Math.max(0,qs-sn),Math.max(0,Ar-va),Tn.BOTTOM_LEFT):new Ys(L.left+sn,L.top+L.height-va),this.topLeftContentBox=je>0||Fe>0?ea(L.left+sn+oi,L.top+kr+No,Math.max(0,je-(sn+oi)),Math.max(0,Fe-(kr+No)),Tn.TOP_LEFT):new Ys(L.left+sn+oi,L.top+kr+No),this.topRightContentBox=et>0||Nt>0?ea(L.left+Math.min(Fr,L.width+sn+oi),L.top+kr+No,Fr>L.width+sn+oi?0:et-sn+oi,Nt-(kr+No),Tn.TOP_RIGHT):new Ys(L.left+L.width-(da+wi),L.top+kr+No),this.bottomRightContentBox=Gt>0||Ns>0?ea(L.left+Math.min(Xn,L.width-(sn+oi)),L.top+Math.min(ta,L.height+kr+No),Math.max(0,Gt-(da+wi)),Ns-(va+zc),Tn.BOTTOM_RIGHT):new Ys(L.left+L.width-(da+wi),L.top+L.height-(va+zc)),this.bottomLeftContentBox=qs>0||Ar>0?ea(L.left+sn+oi,L.top+Nn,Math.max(0,qs-(sn+oi)),Ar-(va+zc),Tn.BOTTOM_LEFT):new Ys(L.left+sn+oi,L.top+L.height-(va+zc))}return B})(),Tn;(function(B){B[B.TOP_LEFT=0]="TOP_LEFT",B[B.TOP_RIGHT=1]="TOP_RIGHT",B[B.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",B[B.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Tn||(Tn={}));var ea=function(B,j,F,L,ae){var je=4*((Math.sqrt(2)-1)/3),Fe=F*je,qe=L*je,et=B+F,Nt=j+L;switch(ae){case Tn.TOP_LEFT:return new jo(new Ys(B,Nt),new Ys(B,Nt-qe),new Ys(et-Fe,j),new Ys(et,j));case Tn.TOP_RIGHT:return new jo(new Ys(B,j),new Ys(B+Fe,j),new Ys(et,Nt-qe),new Ys(et,Nt));case Tn.BOTTOM_RIGHT:return new jo(new Ys(et,j),new Ys(et,j+qe),new Ys(B+Fe,Nt),new Ys(B,Nt));case Tn.BOTTOM_LEFT:default:return new jo(new Ys(et,Nt),new Ys(et-Fe,Nt),new Ys(B,j+qe),new Ys(B,j))}},Sa=function(B){return[B.topLeftBorderBox,B.topRightBorderBox,B.bottomRightBorderBox,B.bottomLeftBorderBox]},ac=function(B){return[B.topLeftContentBox,B.topRightContentBox,B.bottomRightContentBox,B.bottomLeftContentBox]},qi=function(B){return[B.topLeftPaddingBox,B.topRightPaddingBox,B.bottomRightPaddingBox,B.bottomLeftPaddingBox]},Ai=(function(){function B(j,F,L){this.offsetX=j,this.offsetY=F,this.matrix=L,this.type=0,this.target=6}return B})(),ic=(function(){function B(j,F){this.path=j,this.target=F,this.type=1}return B})(),Ko=(function(){function B(j){this.opacity=j,this.type=2,this.target=6}return B})(),no=function(B){return B.type===0},lh=function(B){return B.type===1},jA=function(B){return B.type===2},ku=function(B,j){return B.length===j.length?B.some(function(F,L){return F===j[L]}):!1},Fi=function(B,j,F,L,ae){return B.map(function(je,Fe){switch(Fe){case 0:return je.add(j,F);case 1:return je.add(j+L,F);case 2:return je.add(j+L,F+ae);case 3:return je.add(j,F+ae)}return je})},Rl=(function(){function B(j){this.element=j,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return B})(),Qc=(function(){function B(j,F){if(this.container=j,this.parent=F,this.effects=[],this.curves=new nc(this.container),this.container.styles.opacity<1&&this.effects.push(new Ko(this.container.styles.opacity)),this.container.styles.transform!==null){var L=this.container.bounds.left+this.container.styles.transformOrigin[0].number,ae=this.container.bounds.top+this.container.styles.transformOrigin[1].number,je=this.container.styles.transform;this.effects.push(new Ai(L,ae,je))}if(this.container.styles.overflowX!==0){var Fe=Sa(this.curves),qe=qi(this.curves);ku(Fe,qe)?this.effects.push(new ic(Fe,6)):(this.effects.push(new ic(Fe,2)),this.effects.push(new ic(qe,4)))}}return B.prototype.getEffects=function(j){for(var F=[2,3].indexOf(this.container.styles.position)===-1,L=this.parent,ae=this.effects.slice(0);L;){var je=L.effects.filter(function(et){return!lh(et)});if(F||L.container.styles.position!==0||!L.parent){if(ae.unshift.apply(ae,je),F=[2,3].indexOf(L.container.styles.position)===-1,L.container.styles.overflowX!==0){var Fe=Sa(L.curves),qe=qi(L.curves);ku(Fe,qe)||ae.unshift(new ic(qe,6))}}else ae.unshift.apply(ae,je);L=L.parent}return ae.filter(function(et){return k(et.target,j)})},B})(),id=function(B,j,F,L){B.container.elements.forEach(function(ae){var je=k(ae.flags,4),Fe=k(ae.flags,2),qe=new Qc(ae,B);k(ae.styles.display,2048)&&L.push(qe);var et=k(ae.flags,8)?[]:L;if(je||Fe){var Nt=je||ae.styles.isPositioned()?F:j,Dt=new Rl(qe);if(ae.styles.isPositioned()||ae.styles.opacity<1||ae.styles.isTransformed()){var Gt=ae.styles.zIndex.order;if(Gt<0){var Ns=0;Nt.negativeZIndex.some(function(qs,Ar){return Gt>qs.element.container.styles.zIndex.order?(Ns=Ar,!1):Ns>0}),Nt.negativeZIndex.splice(Ns,0,Dt)}else if(Gt>0){var Nr=0;Nt.positiveZIndex.some(function(qs,Ar){return Gt>=qs.element.container.styles.zIndex.order?(Nr=Ar+1,!1):Nr>0}),Nt.positiveZIndex.splice(Nr,0,Dt)}else Nt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Dt)}else ae.styles.isFloating()?Nt.nonPositionedFloats.push(Dt):Nt.nonPositionedInlineLevel.push(Dt);id(qe,Dt,je?Dt:F,et)}else ae.styles.isInlineLevel()?j.inlineLevel.push(qe):j.nonInlineLevel.push(qe),id(qe,j,F,et);k(ae.flags,8)&&Zh(ae,et)})},Zh=function(B,j){for(var F=B instanceof qA?B.start:1,L=B instanceof qA?B.reversed:!1,ae=0;ae<j.length;ae++){var je=j[ae];je.container instanceof Nu&&typeof je.container.value=="number"&&je.container.value!==0&&(F=je.container.value),je.listValue=$s(F,je.container.styles.listStyleType,!0),F+=L?-1:1}},If=function(B){var j=new Qc(B,null),F=new Rl(j),L=[];return id(j,F,F,L),Zh(j.container,L),F},Df=function(B,j){switch(j){case 0:return Za(B.topLeftBorderBox,B.topLeftPaddingBox,B.topRightBorderBox,B.topRightPaddingBox);case 1:return Za(B.topRightBorderBox,B.topRightPaddingBox,B.bottomRightBorderBox,B.bottomRightPaddingBox);case 2:return Za(B.bottomRightBorderBox,B.bottomRightPaddingBox,B.bottomLeftBorderBox,B.bottomLeftPaddingBox);case 3:default:return Za(B.bottomLeftBorderBox,B.bottomLeftPaddingBox,B.topLeftBorderBox,B.topLeftPaddingBox)}},NA=function(B,j){switch(j){case 0:return Za(B.topLeftBorderBox,B.topLeftBorderDoubleOuterBox,B.topRightBorderBox,B.topRightBorderDoubleOuterBox);case 1:return Za(B.topRightBorderBox,B.topRightBorderDoubleOuterBox,B.bottomRightBorderBox,B.bottomRightBorderDoubleOuterBox);case 2:return Za(B.bottomRightBorderBox,B.bottomRightBorderDoubleOuterBox,B.bottomLeftBorderBox,B.bottomLeftBorderDoubleOuterBox);case 3:default:return Za(B.bottomLeftBorderBox,B.bottomLeftBorderDoubleOuterBox,B.topLeftBorderBox,B.topLeftBorderDoubleOuterBox)}},Al=function(B,j){switch(j){case 0:return Za(B.topLeftBorderDoubleInnerBox,B.topLeftPaddingBox,B.topRightBorderDoubleInnerBox,B.topRightPaddingBox);case 1:return Za(B.topRightBorderDoubleInnerBox,B.topRightPaddingBox,B.bottomRightBorderDoubleInnerBox,B.bottomRightPaddingBox);case 2:return Za(B.bottomRightBorderDoubleInnerBox,B.bottomRightPaddingBox,B.bottomLeftBorderDoubleInnerBox,B.bottomLeftPaddingBox);case 3:default:return Za(B.bottomLeftBorderDoubleInnerBox,B.bottomLeftPaddingBox,B.topLeftBorderDoubleInnerBox,B.topLeftPaddingBox)}},_c=function(B,j){switch(j){case 0:return Hu(B.topLeftBorderStroke,B.topRightBorderStroke);case 1:return Hu(B.topRightBorderStroke,B.bottomRightBorderStroke);case 2:return Hu(B.bottomRightBorderStroke,B.bottomLeftBorderStroke);case 3:default:return Hu(B.bottomLeftBorderStroke,B.topLeftBorderStroke)}},Hu=function(B,j){var F=[];return ui(B)?F.push(B.subdivide(.5,!1)):F.push(B),ui(j)?F.push(j.subdivide(.5,!0)):F.push(j),F},Za=function(B,j,F,L){var ae=[];return ui(B)?ae.push(B.subdivide(.5,!1)):ae.push(B),ui(F)?ae.push(F.subdivide(.5,!0)):ae.push(F),ui(L)?ae.push(L.subdivide(.5,!0).reverse()):ae.push(L),ui(j)?ae.push(j.subdivide(.5,!1).reverse()):ae.push(j),ae},kA=function(B){var j=B.bounds,F=B.styles;return j.add(F.borderLeftWidth,F.borderTopWidth,-(F.borderRightWidth+F.borderLeftWidth),-(F.borderTopWidth+F.borderBottomWidth))},Nl=function(B){var j=B.styles,F=B.bounds,L=bn(j.paddingLeft,F.width),ae=bn(j.paddingRight,F.width),je=bn(j.paddingTop,F.width),Fe=bn(j.paddingBottom,F.width);return F.add(L+j.borderLeftWidth,je+j.borderTopWidth,-(j.borderRightWidth+j.borderLeftWidth+L+ae),-(j.borderTopWidth+j.borderBottomWidth+je+Fe))},su=function(B,j){return B===0?j.bounds:B===2?Nl(j):kA(j)},Qd=function(B,j){return B===0?j.bounds:B===2?Nl(j):kA(j)},ru=function(B,j,F){var L=su(Hc(B.styles.backgroundOrigin,j),B),ae=Qd(Hc(B.styles.backgroundClip,j),B),je=Hd(Hc(B.styles.backgroundSize,j),F,L),Fe=je[0],qe=je[1],et=Ir(Hc(B.styles.backgroundPosition,j),L.width-Fe,L.height-qe),Nt=zu(Hc(B.styles.backgroundRepeat,j),et,je,L,ae),Dt=Math.round(L.left+et[0]),Gt=Math.round(L.top+et[1]);return[Nt,Dt,Gt,Fe,qe]},_d=function(B){return nr(B)&&B.value===An.AUTO},kl=function(B){return typeof B=="number"},Hd=function(B,j,F){var L=j[0],ae=j[1],je=j[2],Fe=B[0],qe=B[1];if(!Fe)return[0,0];if(Cr(Fe)&&qe&&Cr(qe))return[bn(Fe,F.width),bn(qe,F.height)];var et=kl(je);if(nr(Fe)&&(Fe.value===An.CONTAIN||Fe.value===An.COVER)){if(kl(je)){var Nt=F.width/F.height;return Nt<je!=(Fe.value===An.COVER)?[F.width,F.width/je]:[F.height*je,F.height]}return[F.width,F.height]}var Dt=kl(L),Gt=kl(ae),Ns=Dt||Gt;if(_d(Fe)&&(!qe||_d(qe))){if(Dt&&Gt)return[L,ae];if(!et&&!Ns)return[F.width,F.height];if(Ns&&et){var Nr=Dt?L:ae*je,qs=Gt?ae:L/je;return[Nr,qs]}var Ar=Dt?L:F.width,Jr=Gt?ae:F.height;return[Ar,Jr]}if(et){var Ur=0,Fr=0;return Cr(Fe)?Ur=bn(Fe,F.width):Cr(qe)&&(Fr=bn(qe,F.height)),_d(Fe)?Ur=Fr*je:(!qe||_d(qe))&&(Fr=Ur/je),[Ur,Fr]}var ta=null,Xn=null;if(Cr(Fe)?ta=bn(Fe,F.width):qe&&Cr(qe)&&(Xn=bn(qe,F.height)),ta!==null&&(!qe||_d(qe))&&(Xn=Dt&&Gt?ta/L*ae:F.height),Xn!==null&&_d(Fe)&&(ta=Dt&&Gt?Xn/ae*L:F.width),ta!==null&&Xn!==null)return[ta,Xn];throw new Error("Unable to calculate background-size for element")},Hc=function(B,j){var F=B[j];return typeof F>"u"?B[0]:F},zu=function(B,j,F,L,ae){var je=j[0],Fe=j[1],qe=F[0],et=F[1];switch(B){case 2:return[new Ys(Math.round(L.left),Math.round(L.top+Fe)),new Ys(Math.round(L.left+L.width),Math.round(L.top+Fe)),new Ys(Math.round(L.left+L.width),Math.round(et+L.top+Fe)),new Ys(Math.round(L.left),Math.round(et+L.top+Fe))];case 3:return[new Ys(Math.round(L.left+je),Math.round(L.top)),new Ys(Math.round(L.left+je+qe),Math.round(L.top)),new Ys(Math.round(L.left+je+qe),Math.round(L.height+L.top)),new Ys(Math.round(L.left+je),Math.round(L.height+L.top))];case 1:return[new Ys(Math.round(L.left+je),Math.round(L.top+Fe)),new Ys(Math.round(L.left+je+qe),Math.round(L.top+Fe)),new Ys(Math.round(L.left+je+qe),Math.round(L.top+Fe+et)),new Ys(Math.round(L.left+je),Math.round(L.top+Fe+et))];default:return[new Ys(Math.round(ae.left),Math.round(ae.top)),new Ys(Math.round(ae.left+ae.width),Math.round(ae.top)),new Ys(Math.round(ae.left+ae.width),Math.round(ae.height+ae.top)),new Ys(Math.round(ae.left),Math.round(ae.height+ae.top))]}},CA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",nu="Hidden Text",Cu=(function(){function B(j){this._data={},this._document=j}return B.prototype.parseMetrics=function(j,F){var L=this._document.createElement("div"),ae=this._document.createElement("img"),je=this._document.createElement("span"),Fe=this._document.body;L.style.visibility="hidden",L.style.fontFamily=j,L.style.fontSize=F,L.style.margin="0",L.style.padding="0",L.style.whiteSpace="nowrap",Fe.appendChild(L),ae.src=CA,ae.width=1,ae.height=1,ae.style.margin="0",ae.style.padding="0",ae.style.verticalAlign="baseline",je.style.fontFamily=j,je.style.fontSize=F,je.style.margin="0",je.style.padding="0",je.appendChild(this._document.createTextNode(nu)),L.appendChild(je),L.appendChild(ae);var qe=ae.offsetTop-je.offsetTop+2;L.removeChild(je),L.appendChild(this._document.createTextNode(nu)),L.style.lineHeight="normal",ae.style.verticalAlign="super";var et=ae.offsetTop-L.offsetTop+2;return Fe.removeChild(L),{baseline:qe,middle:et}},B.prototype.getMetrics=function(j,F){var L=j+" "+F;return typeof this._data[L]>"u"&&(this._data[L]=this.parseMetrics(j,F)),this._data[L]},B})(),qh=(function(){function B(j,F){this.context=j,this.options=F}return B})(),$u=1e4,Pf=(function(B){n(j,B);function j(F,L){var ae=B.call(this,F,L)||this;return ae._activeEffects=[],ae.canvas=L.canvas?L.canvas:document.createElement("canvas"),ae.ctx=ae.canvas.getContext("2d"),L.canvas||(ae.canvas.width=Math.floor(L.width*L.scale),ae.canvas.height=Math.floor(L.height*L.scale),ae.canvas.style.width=L.width+"px",ae.canvas.style.height=L.height+"px"),ae.fontMetrics=new Cu(document),ae.ctx.scale(ae.options.scale,ae.options.scale),ae.ctx.translate(-L.x,-L.y),ae.ctx.textBaseline="bottom",ae._activeEffects=[],ae.context.logger.debug("Canvas renderer initialized ("+L.width+"x"+L.height+") with scale "+L.scale),ae}return j.prototype.applyEffects=function(F){for(var L=this;this._activeEffects.length;)this.popEffect();F.forEach(function(ae){return L.applyEffect(ae)})},j.prototype.applyEffect=function(F){this.ctx.save(),jA(F)&&(this.ctx.globalAlpha=F.opacity),no(F)&&(this.ctx.translate(F.offsetX,F.offsetY),this.ctx.transform(F.matrix[0],F.matrix[1],F.matrix[2],F.matrix[3],F.matrix[4],F.matrix[5]),this.ctx.translate(-F.offsetX,-F.offsetY)),lh(F)&&(this.path(F.path),this.ctx.clip()),this._activeEffects.push(F)},j.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},j.prototype.renderStack=function(F){return l(this,void 0,void 0,function(){var L;return u(this,function(ae){switch(ae.label){case 0:return L=F.element.container.styles,L.isVisible()?[4,this.renderStackContent(F)]:[3,2];case 1:ae.sent(),ae.label=2;case 2:return[2]}})})},j.prototype.renderNode=function(F){return l(this,void 0,void 0,function(){return u(this,function(L){switch(L.label){case 0:if(k(F.container.flags,16))debugger;return F.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(F)]:[3,3];case 1:return L.sent(),[4,this.renderNodeContent(F)];case 2:L.sent(),L.label=3;case 3:return[2]}})})},j.prototype.renderTextWithLetterSpacing=function(F,L,ae){var je=this;if(L===0)this.ctx.fillText(F.text,F.bounds.left,F.bounds.top+ae);else{var Fe=ju(F.text);Fe.reduce(function(qe,et){return je.ctx.fillText(et,qe,F.bounds.top+ae),qe+je.ctx.measureText(et).width},F.bounds.left)}},j.prototype.createFontStyle=function(F){var L=F.fontVariant.filter(function(Fe){return Fe==="normal"||Fe==="small-caps"}).join(""),ae=ba(F.fontFamily).join(", "),je=cr(F.fontSize)?""+F.fontSize.number+F.fontSize.unit:F.fontSize.number+"px";return[[F.fontStyle,L,F.fontWeight,je,ae].join(" "),ae,je]},j.prototype.renderTextNode=function(F,L){return l(this,void 0,void 0,function(){var ae,je,Fe,qe,et,Nt,Dt,Gt,Ns=this;return u(this,function(Nr){return ae=this.createFontStyle(L),je=ae[0],Fe=ae[1],qe=ae[2],this.ctx.font=je,this.ctx.direction=L.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",et=this.fontMetrics.getMetrics(Fe,qe),Nt=et.baseline,Dt=et.middle,Gt=L.paintOrder,F.textBounds.forEach(function(qs){Gt.forEach(function(Ar){switch(Ar){case 0:Ns.ctx.fillStyle=or(L.color),Ns.renderTextWithLetterSpacing(qs,L.letterSpacing,Nt);var Jr=L.textShadow;Jr.length&&qs.text.trim().length&&(Jr.slice(0).reverse().forEach(function(Ur){Ns.ctx.shadowColor=or(Ur.color),Ns.ctx.shadowOffsetX=Ur.offsetX.number*Ns.options.scale,Ns.ctx.shadowOffsetY=Ur.offsetY.number*Ns.options.scale,Ns.ctx.shadowBlur=Ur.blur.number,Ns.renderTextWithLetterSpacing(qs,L.letterSpacing,Nt)}),Ns.ctx.shadowColor="",Ns.ctx.shadowOffsetX=0,Ns.ctx.shadowOffsetY=0,Ns.ctx.shadowBlur=0),L.textDecorationLine.length&&(Ns.ctx.fillStyle=or(L.textDecorationColor||L.color),L.textDecorationLine.forEach(function(Ur){switch(Ur){case 1:Ns.ctx.fillRect(qs.bounds.left,Math.round(qs.bounds.top+Nt),qs.bounds.width,1);break;case 2:Ns.ctx.fillRect(qs.bounds.left,Math.round(qs.bounds.top),qs.bounds.width,1);break;case 3:Ns.ctx.fillRect(qs.bounds.left,Math.ceil(qs.bounds.top+Dt),qs.bounds.width,1);break}}));break;case 1:L.webkitTextStrokeWidth&&qs.text.trim().length&&(Ns.ctx.strokeStyle=or(L.webkitTextStrokeColor),Ns.ctx.lineWidth=L.webkitTextStrokeWidth,Ns.ctx.lineJoin=window.chrome?"miter":"round",Ns.ctx.strokeText(qs.text,qs.bounds.left,qs.bounds.top+Nt)),Ns.ctx.strokeStyle="",Ns.ctx.lineWidth=0,Ns.ctx.lineJoin="miter";break}})}),[2]})})},j.prototype.renderReplacedElement=function(F,L,ae){if(ae&&F.intrinsicWidth>0&&F.intrinsicHeight>0){var je=Nl(F),Fe=qi(L);this.path(Fe),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(ae,0,0,F.intrinsicWidth,F.intrinsicHeight,je.left,je.top,je.width,je.height),this.ctx.restore()}},j.prototype.renderNodeContent=function(F){return l(this,void 0,void 0,function(){var L,ae,je,Fe,qe,et,Fr,Fr,Nt,Dt,Gt,Ns,Xn,Nr,qs,Nn,Ar,Jr,Ur,Fr,ta,Xn,Nn;return u(this,function(kr){switch(kr.label){case 0:this.applyEffects(F.getEffects(4)),L=F.container,ae=F.curves,je=L.styles,Fe=0,qe=L.textNodes,kr.label=1;case 1:return Fe<qe.length?(et=qe[Fe],[4,this.renderTextNode(et,je)]):[3,4];case 2:kr.sent(),kr.label=3;case 3:return Fe++,[3,1];case 4:if(!(L instanceof Kh))return[3,8];kr.label=5;case 5:return kr.trys.push([5,7,,8]),[4,this.context.cache.match(L.src)];case 6:return Fr=kr.sent(),this.renderReplacedElement(L,ae,Fr),[3,8];case 7:return kr.sent(),this.context.logger.error("Error loading image "+L.src),[3,8];case 8:if(L instanceof Pu&&this.renderReplacedElement(L,ae,L.canvas),!(L instanceof ZA))return[3,12];kr.label=9;case 9:return kr.trys.push([9,11,,12]),[4,this.context.cache.match(L.svg)];case 10:return Fr=kr.sent(),this.renderReplacedElement(L,ae,Fr),[3,12];case 11:return kr.sent(),this.context.logger.error("Error loading svg "+L.svg.substring(0,255)),[3,12];case 12:return L instanceof Nd&&L.tree?(Nt=new j(this.context,{scale:this.options.scale,backgroundColor:L.backgroundColor,x:0,y:0,width:L.width,height:L.height}),[4,Nt.render(L.tree)]):[3,14];case 13:Dt=kr.sent(),L.width&&L.height&&this.ctx.drawImage(Dt,0,0,L.width,L.height,L.bounds.left,L.bounds.top,L.bounds.width,L.bounds.height),kr.label=14;case 14:if(L instanceof Rc&&(Gt=Math.min(L.bounds.width,L.bounds.height),L.type===mA?L.checked&&(this.ctx.save(),this.path([new Ys(L.bounds.left+Gt*.39363,L.bounds.top+Gt*.79),new Ys(L.bounds.left+Gt*.16,L.bounds.top+Gt*.5549),new Ys(L.bounds.left+Gt*.27347,L.bounds.top+Gt*.44071),new Ys(L.bounds.left+Gt*.39694,L.bounds.top+Gt*.5649),new Ys(L.bounds.left+Gt*.72983,L.bounds.top+Gt*.23),new Ys(L.bounds.left+Gt*.84,L.bounds.top+Gt*.34085),new Ys(L.bounds.left+Gt*.39363,L.bounds.top+Gt*.79)]),this.ctx.fillStyle=or(Nc),this.ctx.fill(),this.ctx.restore()):L.type===gA&&L.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(L.bounds.left+Gt/2,L.bounds.top+Gt/2,Gt/4,0,Math.PI*2,!0),this.ctx.fillStyle=or(Nc),this.ctx.fill(),this.ctx.restore())),BA(L)&&L.value.length){switch(Ns=this.createFontStyle(je),Xn=Ns[0],Nr=Ns[1],qs=this.fontMetrics.getMetrics(Xn,Nr).baseline,this.ctx.font=Xn,this.ctx.fillStyle=or(je.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=SA(L.styles.textAlign),Nn=Nl(L),Ar=0,L.styles.textAlign){case 1:Ar+=Nn.width/2;break;case 2:Ar+=Nn.width;break}Jr=Nn.add(Ar,0,0,-Nn.height/2+1),this.ctx.save(),this.path([new Ys(Nn.left,Nn.top),new Ys(Nn.left+Nn.width,Nn.top),new Ys(Nn.left+Nn.width,Nn.top+Nn.height),new Ys(Nn.left,Nn.top+Nn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new eu(L.value,Jr),je.letterSpacing,qs),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!k(L.styles.display,2048))return[3,20];if(L.styles.listStyleImage===null)return[3,19];if(Ur=L.styles.listStyleImage,Ur.type!==0)return[3,18];Fr=void 0,ta=Ur.url,kr.label=15;case 15:return kr.trys.push([15,17,,18]),[4,this.context.cache.match(ta)];case 16:return Fr=kr.sent(),this.ctx.drawImage(Fr,L.bounds.left-(Fr.width+10),L.bounds.top),[3,18];case 17:return kr.sent(),this.context.logger.error("Error loading list-style-image "+ta),[3,18];case 18:return[3,20];case 19:F.listValue&&L.styles.listStyleType!==-1&&(Xn=this.createFontStyle(je)[0],this.ctx.font=Xn,this.ctx.fillStyle=or(je.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Nn=new A(L.bounds.left,L.bounds.top+bn(L.styles.paddingTop,L.bounds.width),L.bounds.width,bu(je.lineHeight,je.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new eu(F.listValue,Nn),je.letterSpacing,bu(je.lineHeight,je.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),kr.label=20;case 20:return[2]}})})},j.prototype.renderStackContent=function(F){return l(this,void 0,void 0,function(){var L,ae,Ur,je,Fe,Ur,qe,et,Ur,Nt,Dt,Ur,Gt,Ns,Ur,Nr,qs,Ur,Ar,Jr,Ur;return u(this,function(Fr){switch(Fr.label){case 0:if(k(F.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(F.element)];case 1:Fr.sent(),L=0,ae=F.negativeZIndex,Fr.label=2;case 2:return L<ae.length?(Ur=ae[L],[4,this.renderStack(Ur)]):[3,5];case 3:Fr.sent(),Fr.label=4;case 4:return L++,[3,2];case 5:return[4,this.renderNodeContent(F.element)];case 6:Fr.sent(),je=0,Fe=F.nonInlineLevel,Fr.label=7;case 7:return je<Fe.length?(Ur=Fe[je],[4,this.renderNode(Ur)]):[3,10];case 8:Fr.sent(),Fr.label=9;case 9:return je++,[3,7];case 10:qe=0,et=F.nonPositionedFloats,Fr.label=11;case 11:return qe<et.length?(Ur=et[qe],[4,this.renderStack(Ur)]):[3,14];case 12:Fr.sent(),Fr.label=13;case 13:return qe++,[3,11];case 14:Nt=0,Dt=F.nonPositionedInlineLevel,Fr.label=15;case 15:return Nt<Dt.length?(Ur=Dt[Nt],[4,this.renderStack(Ur)]):[3,18];case 16:Fr.sent(),Fr.label=17;case 17:return Nt++,[3,15];case 18:Gt=0,Ns=F.inlineLevel,Fr.label=19;case 19:return Gt<Ns.length?(Ur=Ns[Gt],[4,this.renderNode(Ur)]):[3,22];case 20:Fr.sent(),Fr.label=21;case 21:return Gt++,[3,19];case 22:Nr=0,qs=F.zeroOrAutoZIndexOrTransformedOrOpacity,Fr.label=23;case 23:return Nr<qs.length?(Ur=qs[Nr],[4,this.renderStack(Ur)]):[3,26];case 24:Fr.sent(),Fr.label=25;case 25:return Nr++,[3,23];case 26:Ar=0,Jr=F.positiveZIndex,Fr.label=27;case 27:return Ar<Jr.length?(Ur=Jr[Ar],[4,this.renderStack(Ur)]):[3,30];case 28:Fr.sent(),Fr.label=29;case 29:return Ar++,[3,27];case 30:return[2]}})})},j.prototype.mask=function(F){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(F.slice(0).reverse()),this.ctx.closePath()},j.prototype.path=function(F){this.ctx.beginPath(),this.formatPath(F),this.ctx.closePath()},j.prototype.formatPath=function(F){var L=this;F.forEach(function(ae,je){var Fe=ui(ae)?ae.start:ae;je===0?L.ctx.moveTo(Fe.x,Fe.y):L.ctx.lineTo(Fe.x,Fe.y),ui(ae)&&L.ctx.bezierCurveTo(ae.startControl.x,ae.startControl.y,ae.endControl.x,ae.endControl.y,ae.end.x,ae.end.y)})},j.prototype.renderRepeat=function(F,L,ae,je){this.path(F),this.ctx.fillStyle=L,this.ctx.translate(ae,je),this.ctx.fill(),this.ctx.translate(-ae,-je)},j.prototype.resizeImage=function(F,L,ae){var je;if(F.width===L&&F.height===ae)return F;var Fe=(je=this.canvas.ownerDocument)!==null&&je!==void 0?je:document,qe=Fe.createElement("canvas");qe.width=Math.max(1,L),qe.height=Math.max(1,ae);var et=qe.getContext("2d");return et.drawImage(F,0,0,F.width,F.height,0,0,L,ae),qe},j.prototype.renderBackgroundImage=function(F){return l(this,void 0,void 0,function(){var L,ae,je,Fe,qe,et;return u(this,function(Nt){switch(Nt.label){case 0:L=F.styles.backgroundImage.length-1,ae=function(Dt){var Gt,Ns,Nr,No,Hl,oc,oi,_l,va,qs,No,Hl,oc,oi,_l,Ar,Jr,Ur,Fr,ta,Xn,Nn,kr,da,va,sn,No,wi,zc,oi,_l,Cc,Hl,oc,Bd,$d,Bu,Ku,Gu,Sd,Su,Eu;return u(this,function(ch){switch(ch.label){case 0:if(Dt.type!==0)return[3,5];Gt=void 0,Ns=Dt.url,ch.label=1;case 1:return ch.trys.push([1,3,,4]),[4,je.context.cache.match(Ns)];case 2:return Gt=ch.sent(),[3,4];case 3:return ch.sent(),je.context.logger.error("Error loading background-image "+Ns),[3,4];case 4:return Gt&&(Nr=ru(F,L,[Gt.width,Gt.height,Gt.width/Gt.height]),No=Nr[0],Hl=Nr[1],oc=Nr[2],oi=Nr[3],_l=Nr[4],va=je.ctx.createPattern(je.resizeImage(Gt,oi,_l),"repeat"),je.renderRepeat(No,va,Hl,oc)),[3,6];case 5:go(Dt)?(qs=ru(F,L,[null,null,null]),No=qs[0],Hl=qs[1],oc=qs[2],oi=qs[3],_l=qs[4],Ar=Fl(Dt.angle,oi,_l),Jr=Ar[0],Ur=Ar[1],Fr=Ar[2],ta=Ar[3],Xn=Ar[4],Nn=document.createElement("canvas"),Nn.width=oi,Nn.height=_l,kr=Nn.getContext("2d"),da=kr.createLinearGradient(Ur,ta,Fr,Xn),xi(Dt.stops,Jr).forEach(function(tf){return da.addColorStop(tf.stop,or(tf.color))}),kr.fillStyle=da,kr.fillRect(0,0,oi,_l),oi>0&&_l>0&&(va=je.ctx.createPattern(Nn,"repeat"),je.renderRepeat(No,va,Hl,oc))):xc(Dt)&&(sn=ru(F,L,[null,null,null]),No=sn[0],wi=sn[1],zc=sn[2],oi=sn[3],_l=sn[4],Cc=Dt.position.length===0?[Br]:Dt.position,Hl=bn(Cc[0],oi),oc=bn(Cc[Cc.length-1],_l),Bd=mo(Dt,Hl,oc,oi,_l),$d=Bd[0],Bu=Bd[1],$d>0&&Bu>0&&(Ku=je.ctx.createRadialGradient(wi+Hl,zc+oc,0,wi+Hl,zc+oc,$d),xi(Dt.stops,$d*2).forEach(function(tf){return Ku.addColorStop(tf.stop,or(tf.color))}),je.path(No),je.ctx.fillStyle=Ku,$d!==Bu?(Gu=F.bounds.left+.5*F.bounds.width,Sd=F.bounds.top+.5*F.bounds.height,Su=Bu/$d,Eu=1/Su,je.ctx.save(),je.ctx.translate(Gu,Sd),je.ctx.transform(1,0,0,Su,0,0),je.ctx.translate(-Gu,-Sd),je.ctx.fillRect(wi,Eu*(zc-Sd)+Sd,oi,_l*Eu),je.ctx.restore()):je.ctx.fill())),ch.label=6;case 6:return L--,[2]}})},je=this,Fe=0,qe=F.styles.backgroundImage.slice(0).reverse(),Nt.label=1;case 1:return Fe<qe.length?(et=qe[Fe],[5,ae(et)]):[3,4];case 2:Nt.sent(),Nt.label=3;case 3:return Fe++,[3,1];case 4:return[2]}})})},j.prototype.renderSolidBorder=function(F,L,ae){return l(this,void 0,void 0,function(){return u(this,function(je){return this.path(Df(ae,L)),this.ctx.fillStyle=or(F),this.ctx.fill(),[2]})})},j.prototype.renderDoubleBorder=function(F,L,ae,je){return l(this,void 0,void 0,function(){var Fe,qe;return u(this,function(et){switch(et.label){case 0:return L<3?[4,this.renderSolidBorder(F,ae,je)]:[3,2];case 1:return et.sent(),[2];case 2:return Fe=NA(je,ae),this.path(Fe),this.ctx.fillStyle=or(F),this.ctx.fill(),qe=Al(je,ae),this.path(qe),this.ctx.fill(),[2]}})})},j.prototype.renderNodeBackgroundAndBorders=function(F){return l(this,void 0,void 0,function(){var L,ae,je,Fe,qe,et,Nt,Dt,Gt=this;return u(this,function(Ns){switch(Ns.label){case 0:return this.applyEffects(F.getEffects(2)),L=F.container.styles,ae=!wn(L.backgroundColor)||L.backgroundImage.length,je=[{style:L.borderTopStyle,color:L.borderTopColor,width:L.borderTopWidth},{style:L.borderRightStyle,color:L.borderRightColor,width:L.borderRightWidth},{style:L.borderBottomStyle,color:L.borderBottomColor,width:L.borderBottomWidth},{style:L.borderLeftStyle,color:L.borderLeftColor,width:L.borderLeftWidth}],Fe=Rf(Hc(L.backgroundClip,0),F.curves),ae||L.boxShadow.length?(this.ctx.save(),this.path(Fe),this.ctx.clip(),wn(L.backgroundColor)||(this.ctx.fillStyle=or(L.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(F.container)]):[3,2];case 1:Ns.sent(),this.ctx.restore(),L.boxShadow.slice(0).reverse().forEach(function(Nr){Gt.ctx.save();var qs=Sa(F.curves),Ar=Nr.inset?0:$u,Jr=Fi(qs,-Ar+(Nr.inset?1:-1)*Nr.spread.number,(Nr.inset?1:-1)*Nr.spread.number,Nr.spread.number*(Nr.inset?-2:2),Nr.spread.number*(Nr.inset?-2:2));Nr.inset?(Gt.path(qs),Gt.ctx.clip(),Gt.mask(Jr)):(Gt.mask(qs),Gt.ctx.clip(),Gt.path(Jr)),Gt.ctx.shadowOffsetX=Nr.offsetX.number+Ar,Gt.ctx.shadowOffsetY=Nr.offsetY.number,Gt.ctx.shadowColor=or(Nr.color),Gt.ctx.shadowBlur=Nr.blur.number,Gt.ctx.fillStyle=Nr.inset?or(Nr.color):"rgba(0,0,0,1)",Gt.ctx.fill(),Gt.ctx.restore()}),Ns.label=2;case 2:qe=0,et=0,Nt=je,Ns.label=3;case 3:return et<Nt.length?(Dt=Nt[et],Dt.style!==0&&!wn(Dt.color)&&Dt.width>0?Dt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Dt.color,Dt.width,qe,F.curves,2)]:[3,11]):[3,13];case 4:return Ns.sent(),[3,11];case 5:return Dt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Dt.color,Dt.width,qe,F.curves,3)];case 6:return Ns.sent(),[3,11];case 7:return Dt.style!==4?[3,9]:[4,this.renderDoubleBorder(Dt.color,Dt.width,qe,F.curves)];case 8:return Ns.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Dt.color,qe,F.curves)];case 10:Ns.sent(),Ns.label=11;case 11:qe++,Ns.label=12;case 12:return et++,[3,3];case 13:return[2]}})})},j.prototype.renderDashedDottedBorder=function(F,L,ae,je,Fe){return l(this,void 0,void 0,function(){var qe,et,Nt,Dt,Gt,Ns,Nr,qs,Ar,Jr,Ur,Fr,ta,Xn,Nn,kr,Nn,kr;return u(this,function(da){return this.ctx.save(),qe=_c(je,ae),et=Df(je,ae),Fe===2&&(this.path(et),this.ctx.clip()),ui(et[0])?(Nt=et[0].start.x,Dt=et[0].start.y):(Nt=et[0].x,Dt=et[0].y),ui(et[1])?(Gt=et[1].end.x,Ns=et[1].end.y):(Gt=et[1].x,Ns=et[1].y),ae===0||ae===2?Nr=Math.abs(Nt-Gt):Nr=Math.abs(Dt-Ns),this.ctx.beginPath(),Fe===3?this.formatPath(qe):this.formatPath(et.slice(0,2)),qs=L<3?L*3:L*2,Ar=L<3?L*2:L,Fe===3&&(qs=L,Ar=L),Jr=!0,Nr<=qs*2?Jr=!1:Nr<=qs*2+Ar?(Ur=Nr/(2*qs+Ar),qs*=Ur,Ar*=Ur):(Fr=Math.floor((Nr+Ar)/(qs+Ar)),ta=(Nr-Fr*qs)/(Fr-1),Xn=(Nr-(Fr+1)*qs)/Fr,Ar=Xn<=0||Math.abs(Ar-ta)<Math.abs(Ar-Xn)?ta:Xn),Jr&&(Fe===3?this.ctx.setLineDash([0,qs+Ar]):this.ctx.setLineDash([qs,Ar])),Fe===3?(this.ctx.lineCap="round",this.ctx.lineWidth=L):this.ctx.lineWidth=L*2+1.1,this.ctx.strokeStyle=or(F),this.ctx.stroke(),this.ctx.setLineDash([]),Fe===2&&(ui(et[0])&&(Nn=et[3],kr=et[0],this.ctx.beginPath(),this.formatPath([new Ys(Nn.end.x,Nn.end.y),new Ys(kr.start.x,kr.start.y)]),this.ctx.stroke()),ui(et[1])&&(Nn=et[1],kr=et[2],this.ctx.beginPath(),this.formatPath([new Ys(Nn.end.x,Nn.end.y),new Ys(kr.start.x,kr.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},j.prototype.render=function(F){return l(this,void 0,void 0,function(){var L;return u(this,function(ae){switch(ae.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=or(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),L=If(F),[4,this.renderStack(L)];case 1:return ae.sent(),this.applyEffects([]),[2,this.canvas]}})})},j})(qh),BA=function(B){return B instanceof xA||B instanceof Uf?!0:B instanceof Rc&&B.type!==gA&&B.type!==mA},Rf=function(B,j){switch(B){case 0:return Sa(j);case 2:return ac(j);case 1:default:return qi(j)}},SA=function(B){switch(B){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ef=["-apple-system","system-ui"],ba=function(B){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?B.filter(function(j){return ef.indexOf(j)===-1}):B},ma=(function(B){n(j,B);function j(F,L){var ae=B.call(this,F,L)||this;return ae.canvas=L.canvas?L.canvas:document.createElement("canvas"),ae.ctx=ae.canvas.getContext("2d"),ae.options=L,ae.canvas.width=Math.floor(L.width*L.scale),ae.canvas.height=Math.floor(L.height*L.scale),ae.canvas.style.width=L.width+"px",ae.canvas.style.height=L.height+"px",ae.ctx.scale(ae.options.scale,ae.options.scale),ae.ctx.translate(-L.x,-L.y),ae.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+L.width+"x"+L.height+" at "+L.x+","+L.y+") with scale "+L.scale),ae}return j.prototype.render=function(F){return l(this,void 0,void 0,function(){var L,ae;return u(this,function(je){switch(je.label){case 0:return L=KA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,F),[4,Mn(L)];case 1:return ae=je.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=or(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(ae,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},j})(qh),Mn=function(B){return new Promise(function(j,F){var L=new Image;L.onload=function(){j(L)},L.onerror=F,L.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(B))})},Qn=(function(){function B(j){var F=j.id,L=j.enabled;this.id=F,this.enabled=L,this.start=Date.now()}return B.prototype.debug=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,d([this.id,this.getTime()+"ms"],j)):this.info.apply(this,j))},B.prototype.getTime=function(){return Date.now()-this.start},B.prototype.info=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,d([this.id,this.getTime()+"ms"],j))},B.prototype.warn=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,d([this.id,this.getTime()+"ms"],j)):this.info.apply(this,j))},B.prototype.error=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,d([this.id,this.getTime()+"ms"],j)):this.info.apply(this,j))},B.instances={},B})(),Ea=(function(){function B(j,F){var L;this.windowBounds=F,this.instanceName="#"+B.instanceCount++,this.logger=new Qn({id:this.instanceName,enabled:j.logging}),this.cache=(L=j.cache)!==null&&L!==void 0?L:new oa(this,j)}return B.instanceCount=1,B})(),Ql=function(B,j){return j===void 0&&(j={}),zd(B,j)};typeof window<"u"&&Hi.setContext(window);var zd=function(B,j){return l(void 0,void 0,void 0,function(){var F,L,ae,je,Fe,qe,et,Nt,Dt,Gt,Ns,Nr,qs,Ar,Jr,Ur,Fr,ta,Xn,Nn,da,kr,da,va,sn,No,wi,zc,oi,_l,Cc,Hl,oc,Bd,$d,Bu,Ku,Gu,Sd,Su;return u(this,function(Eu){switch(Eu.label){case 0:if(!B||typeof B!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(F=B.ownerDocument,!F)throw new Error("Element is not attached to a Document");if(L=F.defaultView,!L)throw new Error("Document is not attached to a Window");return ae={allowTaint:(va=j.allowTaint)!==null&&va!==void 0?va:!1,imageTimeout:(sn=j.imageTimeout)!==null&&sn!==void 0?sn:15e3,proxy:j.proxy,useCORS:(No=j.useCORS)!==null&&No!==void 0?No:!1},je=a({logging:(wi=j.logging)!==null&&wi!==void 0?wi:!0,cache:j.cache},ae),Fe={windowWidth:(zc=j.windowWidth)!==null&&zc!==void 0?zc:L.innerWidth,windowHeight:(oi=j.windowHeight)!==null&&oi!==void 0?oi:L.innerHeight,scrollX:(_l=j.scrollX)!==null&&_l!==void 0?_l:L.pageXOffset,scrollY:(Cc=j.scrollY)!==null&&Cc!==void 0?Cc:L.pageYOffset},qe=new A(Fe.scrollX,Fe.scrollY,Fe.windowWidth,Fe.windowHeight),et=new Ea(je,qe),Nt=(Hl=j.foreignObjectRendering)!==null&&Hl!==void 0?Hl:!1,Dt={allowTaint:(oc=j.allowTaint)!==null&&oc!==void 0?oc:!1,onclone:j.onclone,ignoreElements:j.ignoreElements,inlineImages:Nt,copyStyles:Nt},et.logger.debug("Starting document clone with size "+qe.width+"x"+qe.height+" scrolled to "+-qe.left+","+-qe.top),Gt=new zr(et,B,Dt),Ns=Gt.clonedReferenceElement,Ns?[4,Gt.toIFrame(F,qe)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Nr=Eu.sent(),qs=nh(Ns)||Xh(Ns)?f(Ns.ownerDocument):o(et,Ns),Ar=qs.width,Jr=qs.height,Ur=qs.left,Fr=qs.top,ta=Vu(et,Ns,j.backgroundColor),Xn={canvas:j.canvas,backgroundColor:ta,scale:($d=(Bd=j.scale)!==null&&Bd!==void 0?Bd:L.devicePixelRatio)!==null&&$d!==void 0?$d:1,x:((Bu=j.x)!==null&&Bu!==void 0?Bu:0)+Ur,y:((Ku=j.y)!==null&&Ku!==void 0?Ku:0)+Fr,width:(Gu=j.width)!==null&&Gu!==void 0?Gu:Math.ceil(Ar),height:(Sd=j.height)!==null&&Sd!==void 0?Sd:Math.ceil(Jr)},Nt?(et.logger.debug("Document cloned, using foreign object rendering"),da=new ma(et,Xn),[4,da.render(Ns)]):[3,3];case 2:return Nn=Eu.sent(),[3,5];case 3:return et.logger.debug("Document cloned, element located at "+Ur+","+Fr+" with size "+Ar+"x"+Jr+" using computed rendering"),et.logger.debug("Starting DOM parsing"),kr=eh(et,Ns),ta===kr.styles.backgroundColor&&(kr.styles.backgroundColor=gi.TRANSPARENT),et.logger.debug("Starting renderer for element at "+Xn.x+","+Xn.y+" with size "+Xn.width+"x"+Xn.height),da=new Pf(et,Xn),[4,da.render(kr)];case 4:Nn=Eu.sent(),Eu.label=5;case 5:return(!((Su=j.removeContainer)!==null&&Su!==void 0)||Su)&&(zr.destroy(Nr)||et.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),et.logger.debug("Finished rendering"),[2,Nn]}})})},Vu=function(B,j,F){var L=j.ownerDocument,ae=L.documentElement?ci(B,getComputedStyle(L.documentElement).backgroundColor):gi.TRANSPARENT,je=L.body?ci(B,getComputedStyle(L.body).backgroundColor):gi.TRANSPARENT,Fe=typeof F=="string"?ci(B,F):F===null?gi.TRANSPARENT:4294967295;return j===L.documentElement?wn(ae)?wn(je)?Fe:je:ae:Fe};return Ql}))})(Bm)),Bm.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var n2;function SR(){return n2||(n2=1,(function(s,e){(function(n,a){s.exports=a(BR())})(self,function(r){return(function(){var n={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(p,m){(m==null||m>p.length)&&(m=p.length);for(var x=0,b=Array(m);x<m;x++)b[x]=p[x];return b}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(p){if(Array.isArray(p))return p}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return p}});function f(m,x,b,w,y,E,P){try{var z=m[E](P),X=z.value}catch(Y){return void b(Y)}z.done?x(X):Promise.resolve(X).then(w,y)}function p(m){return function(){var x=this,b=arguments;return new Promise(function(w,y){var E=m.apply(x,b);function P(X){f(E,w,y,P,z,"next",X)}function z(X){f(E,w,y,P,z,"throw",X)}P(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return p}});var f=o("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function p(m,x,b){return(x=(0,f.default)(x))in m?Object.defineProperty(m,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[x]=b,m}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(p,m){var x=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(x!=null){var b,w,y,E,P=[],z=!0,X=!1;try{if(y=(x=x.call(p)).next,m===0){if(Object(x)!==x)return;z=!1}else for(;!(z=(b=y.call(x)).done)&&(P.push(b.value),P.length!==m);z=!0);}catch(Y){X=!0,w=Y}finally{try{if(!z&&x.return!=null&&(E=x.return(),Object(E)!==E))return}finally{if(X)throw w}}return P}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return b}});var f=o("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),p=o("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),m=o("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),x=o("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function b(w,y){return(0,f.default)(w)||(0,p.default)(w,y)||(0,m.default)(w,y)||(0,x.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return p}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js");function p(m,x){if((0,f.default)(m)!="object"||!m)return m;var b=m[Symbol.toPrimitive];if(b!==void 0){var w=b.call(m,x||"default");if((0,f.default)(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(m)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return m}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),p=o("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function m(x){var b=(0,p.default)(x,"string");return(0,f.default)(b)=="symbol"?b:b+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(p){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},f(p)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return p}});var f=o("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function p(m,x){if(m){if(typeof m=="string")return(0,f.default)(m,x);var b={}.toString.call(m).slice(8,-1);return b==="Object"&&m.constructor&&(b=m.constructor.name),b==="Map"||b==="Set"?Array.from(m):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?(0,f.default)(m,x):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(d,A,o){o.r(A),o.d(A,{AElement:function(){return Ao},AnimateColorElement:function(){return ti},AnimateElement:function(){return Kn},AnimateTransformElement:function(){return On},BoundingBox:function(){return lr},CB1:function(){return fe},CB2:function(){return te},CB3:function(){return ge},CB4:function(){return Ue},Canvg:function(){return lo},CircleElement:function(){return La},ClipPathElement:function(){return fi},DefsElement:function(){return wa},DescElement:function(){return Ki},Document:function(){return mi},Element:function(){return tr},EllipseElement:function(){return ps},FeColorMatrixElement:function(){return fo},FeCompositeElement:function(){return Qa},FeDropShadowElement:function(){return Ka},FeGaussianBlurElement:function(){return po},FeMorphologyElement:function(){return Bi},FilterElement:function(){return Wr},Font:function(){return Gs},FontElement:function(){return mc},FontFaceElement:function(){return li},GElement:function(){return Vn},GlyphElement:function(){return fs},GradientElement:function(){return sa},ImageElement:function(){return qn},LineElement:function(){return xs},LinearGradientElement:function(){return an},MarkerElement:function(){return Ps},MaskElement:function(){return si},Matrix:function(){return Ds},MissingGlyphElement:function(){return Fo},Mouse:function(){return ls},PSEUDO_ZERO:function(){return De},Parser:function(){return hs},PathElement:function(){return As},PathParser:function(){return wt},PatternElement:function(){return $r},Point:function(){return Vt},PolygonElement:function(){return fr},PolylineElement:function(){return cs},Property:function(){return We},QB1:function(){return Ve},QB2:function(){return kt},QB3:function(){return Bt},RadialGradientElement:function(){return Rr},RectElement:function(){return ya},RenderedElement:function(){return qt},Rotate:function(){return hr},SVGElement:function(){return rn},SVGFontLoader:function(){return hi},Scale:function(){return ir},Screen:function(){return ut},Skew:function(){return Ss},SkewX:function(){return Ls},SkewY:function(){return rr},StopElement:function(){return Gn},StyleElement:function(){return Ci},SymbolElement:function(){return ho},TRefElement:function(){return Kl},TSpanElement:function(){return Ks},TextElement:function(){return Vs},TextPathElement:function(){return ra},TitleElement:function(){return Wn},Transform:function(){return wr},Translate:function(){return vr},UnknownElement:function(){return Xs},UseElement:function(){return hl},ViewPort:function(){return Ut},compressSpaces:function(){return z},default:function(){return lo},getSelectorSpecificity:function(){return Ee},normalizeAttributeName:function(){return de},normalizeColor:function(){return ve},parseExternalUrl:function(){return ue},presets:function(){return P},toNumbers:function(){return Q},trimLeft:function(){return X},trimRight:function(){return Y},vectorMagnitude:function(){return Se},vectorsAngle:function(){return be},vectorsRatio:function(){return he}}),o("./node_modules/core-js/modules/es.promise.js");var f=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");o("./node_modules/core-js/modules/es.string.match.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.string.starts-with.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var p=o("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");o("./node_modules/core-js/modules/es.array.reduce.js"),o("./node_modules/core-js/modules/es.string.ends-with.js"),o("./node_modules/core-js/modules/es.string.split.js");var m=o("./node_modules/raf/index.js");o("./node_modules/core-js/modules/es.string.trim.js");var x=o("./node_modules/rgbcolor/index.js");o("./node_modules/core-js/modules/es.array.index-of.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.reverse.js");var b=o("./node_modules/svg-pathdata/lib/SVGPathData.module.js");o("./node_modules/core-js/modules/es.regexp.to-string.js");var w=o("./node_modules/stackblur-canvas/dist/stackblur-es.js");function y(){var{DOMParser:Tt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Tt,createCanvas(G,J){return new OffscreenCanvas(G,J)},createImage(G){return(0,f.default)(function*(){var J=yield fetch(G),T=yield J.blob(),M=yield createImageBitmap(T);return M})()}};return(typeof DOMParser<"u"||typeof Tt>"u")&&Reflect.deleteProperty(U,"DOMParser"),U}function E(Tt){var{DOMParser:U,canvas:G,fetch:J}=Tt;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:U,fetch:J,createCanvas:G.createCanvas,createImage:G.loadImage}}var P=Object.freeze({__proto__:null,offscreen:y,node:E});function z(Tt){return Tt.replace(/(?!\u3000)\s+/gm," ")}function X(Tt){return Tt.replace(/^[\n \t]+/,"")}function Y(Tt){return Tt.replace(/[\n \t]+$/,"")}function Q(Tt){var U=(Tt||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return U.map(parseFloat)}var K=/^[A-Z-]+$/;function de(Tt){return K.test(Tt)?Tt.toLowerCase():Tt}function ue(Tt){var U=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Tt)||[];return U[2]||U[3]||U[4]}function ve(Tt){if(!Tt.startsWith("rgb"))return Tt;var U=3,G=Tt.replace(/\d+(\.\d+)?/g,(J,T)=>U--&&T?String(Math.round(parseFloat(J))):J);return G}var le=/(\[[^\]]+\])/g,Ce=/(#[^\s+>~.[:]+)/g,oe=/(\.[^\s+>~.[:]+)/g,Ne=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,Ae=/(:[\w-]+\([^)]*\))/gi,se=/(:[^\s+>~.[:]+)/g,pe=/([^\s+>~.[:]+)/g;function re(Tt,U){var G=U.exec(Tt);return G?[Tt.replace(U," "),G.length]:[Tt,0]}function Ee(Tt){var U=[0,0,0],G=Tt.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),J=0;return[G,J]=re(G,le),U[1]+=J,[G,J]=re(G,Ce),U[0]+=J,[G,J]=re(G,oe),U[1]+=J,[G,J]=re(G,Ne),U[2]+=J,[G,J]=re(G,Ae),U[1]+=J,[G,J]=re(G,se),U[1]+=J,G=G.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[G,J]=re(G,pe),U[2]+=J,U.join("")}var De=1e-8;function Se(Tt){return Math.sqrt(Math.pow(Tt[0],2)+Math.pow(Tt[1],2))}function he(Tt,U){return(Tt[0]*U[0]+Tt[1]*U[1])/(Se(Tt)*Se(U))}function be(Tt,U){return(Tt[0]*U[1]<Tt[1]*U[0]?-1:1)*Math.acos(he(Tt,U))}function fe(Tt){return Tt*Tt*Tt}function te(Tt){return 3*Tt*Tt*(1-Tt)}function ge(Tt){return 3*Tt*(1-Tt)*(1-Tt)}function Ue(Tt){return(1-Tt)*(1-Tt)*(1-Tt)}function Ve(Tt){return Tt*Tt}function kt(Tt){return 2*Tt*(1-Tt)}function Bt(Tt){return(1-Tt)*(1-Tt)}class We{constructor(U,G,J){this.document=U,this.name=G,this.value=J,this.isNormalizedColor=!1}static empty(U){return new We(U,"EMPTY","")}split(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:G,name:J}=this;return z(this.getString()).trim().split(U).map(T=>new We(G,J,T))}hasValue(U){var{value:G}=this;return G!==null&&G!==""&&(U||G!==0)&&typeof G<"u"}isString(U){var{value:G}=this,J=typeof G=="string";return!J||!U?J:U.test(G)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var U=this.getString();switch(!0){case U.endsWith("px"):case/^[0-9]+$/.test(U):return!0;default:return!1}}setValue(U){return this.value=U,this}getValue(U){return typeof U>"u"||this.hasValue()?this.value:U}getNumber(U){if(!this.hasValue())return typeof U>"u"?0:parseFloat(U);var{value:G}=this,J=parseFloat(G);return this.isString(/%$/)&&(J/=100),J}getString(U){return typeof U>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(U)}getColor(U){var G=this.getString(U);return this.isNormalizedColor||(this.isNormalizedColor=!0,G=ve(G),this.value=G),G}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(U){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[J,T]=typeof U=="boolean"?[void 0,U]:[U],{viewPort:M}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(M.computeSize("x"),M.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(M.computeSize("x"),M.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*M.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*M.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&T):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*M.computeSize(J);default:{var $=this.getNumber();return G&&$<1?$*M.computeSize(J):$}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var U=this.getString(),G=/#([^)'"]+)/.exec(U);return G&&(G=G[1]),G||(G=U),this.document.definitions[G]}getFillStyleDefinition(U,G){var J=this.getDefinition();if(!J)return null;if(typeof J.createGradient=="function")return J.createGradient(this.document.ctx,U,G);if(typeof J.createPattern=="function"){if(J.getHrefAttribute().hasValue()){var T=J.getAttribute("patternTransform");J=J.getHrefAttribute().getDefinition(),T.hasValue()&&J.getAttribute("patternTransform",!0).setValue(T.value)}return J.createPattern(this.document.ctx,U,G)}return null}getTextBaseline(){return this.hasValue()?We.textBaselineMapping[this.getString()]:null}addOpacity(U){for(var G=this.getColor(),J=G.length,T=0,M=0;M<J&&(G[M]===","&&T++,T!==3);M++);if(U.hasValue()&&this.isString()&&T!==3){var $=new x(G);$.ok&&($.alpha=U.getNumber(),G=$.toRGBA())}return new We(this.document,this.name,G)}}We.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Ut{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(U,G){this.viewPorts.push({width:U,height:G})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:U}=this;return U[U.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(U){return typeof U=="number"?U:U==="x"?this.width:U==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class Vt{constructor(U,G){this.x=U,this.y=G}static parse(U){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[J=G,T=G]=Q(U);return new Vt(J,T)}static parseScale(U){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[J=G,T=J]=Q(U);return new Vt(J,T)}static parsePath(U){for(var G=Q(U),J=G.length,T=[],M=0;M<J;M+=2)T.push(new Vt(G[M],G[M+1]));return T}angleTo(U){return Math.atan2(U.y-this.y,U.x-this.x)}applyTransform(U){var{x:G,y:J}=this,T=G*U[0]+J*U[2]+U[4],M=G*U[1]+J*U[3]+U[5];this.x=T,this.y=M}}class ls{constructor(U){this.screen=U,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:U,onClick:G,onMouseMove:J}=this,T=U.ctx.canvas;T.onclick=G,T.onmousemove=J,this.working=!0}}stop(){if(this.working){var U=this.screen.ctx.canvas;this.working=!1,U.onclick=null,U.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:U,events:G,eventElements:J}=this,{style:T}=U.ctx.canvas;T&&(T.cursor=""),G.forEach((M,$)=>{for(var{run:ie}=M,we=J[$];we;)ie(we),we=we.parent}),this.events=[],this.eventElements=[]}}checkPath(U,G){if(!(!this.working||!G)){var{events:J,eventElements:T}=this;J.forEach((M,$)=>{var{x:ie,y:we}=M;!T[$]&&G.isPointInPath&&G.isPointInPath(ie,we)&&(T[$]=U)})}}checkBoundingBox(U,G){if(!(!this.working||!G)){var{events:J,eventElements:T}=this;J.forEach((M,$)=>{var{x:ie,y:we}=M;!T[$]&&G.isPointInBox(ie,we)&&(T[$]=U)})}}mapXY(U,G){for(var{window:J,ctx:T}=this.screen,M=new Vt(U,G),$=T.canvas;$;)M.x-=$.offsetLeft,M.y-=$.offsetTop,$=$.offsetParent;return J.scrollX&&(M.x+=J.scrollX),J.scrollY&&(M.y+=J.scrollY),M}onClick(U){var{x:G,y:J}=this.mapXY(U.clientX,U.clientY);this.events.push({type:"onclick",x:G,y:J,run(T){T.onClick&&T.onClick()}})}onMouseMove(U){var{x:G,y:J}=this.mapXY(U.clientX,U.clientY);this.events.push({type:"onmousemove",x:G,y:J,run(T){T.onMouseMove&&T.onMouseMove()}})}}var Fs=typeof window<"u"?window:null,Re=typeof fetch<"u"?fetch.bind(void 0):null;class ut{constructor(U){var{fetch:G=Re,window:J=Fs}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=U,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Ut,this.mouse=new ls(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=J,this.fetch=G}wait(U){this.waits.push(U)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var U=this.waits.every(G=>G());return U&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=U,U}setDefaults(U){U.strokeStyle="rgba(0,0,0,0)",U.lineCap="butt",U.lineJoin="miter",U.miterLimit=4}setViewBox(U){var{document:G,ctx:J,aspectRatio:T,width:M,desiredWidth:$,height:ie,desiredHeight:we,minX:Pe=0,minY:Ze=0,refX:N,refY:v,clip:S=!1,clipX:I=0,clipY:R=0}=U,V=z(T).replace(/^defer\s/,""),[ce,q]=V.split(" "),ee=ce||"xMidYMid",ke=q||"meet",Me=M/$,$e=ie/we,Je=Math.min(Me,$e),xe=Math.max(Me,$e),ct=$,ot=we;ke==="meet"&&(ct*=Je,ot*=Je),ke==="slice"&&(ct*=xe,ot*=xe);var At=new We(G,"refX",N),Ye=new We(G,"refY",v),yt=At.hasValue()&&Ye.hasValue();if(yt&&J.translate(-Je*At.getPixels("x"),-Je*Ye.getPixels("y")),S){var Pt=Je*I,gt=Je*R;J.beginPath(),J.moveTo(Pt,gt),J.lineTo(M,gt),J.lineTo(M,ie),J.lineTo(Pt,ie),J.closePath(),J.clip()}if(!yt){var Ge=ke==="meet"&&Je===$e,Mt=ke==="slice"&&xe===$e,is=ke==="meet"&&Je===Me,Ht=ke==="slice"&&xe===Me;ee.startsWith("xMid")&&(Ge||Mt)&&J.translate(M/2-ct/2,0),ee.endsWith("YMid")&&(is||Ht)&&J.translate(0,ie/2-ot/2),ee.startsWith("xMax")&&(Ge||Mt)&&J.translate(M-ct,0),ee.endsWith("YMax")&&(is||Ht)&&J.translate(0,ie-ot)}switch(!0){case ee==="none":J.scale(Me,$e);break;case ke==="meet":J.scale(Je,Je);break;case ke==="slice":J.scale(xe,xe);break}J.translate(-Pe,-Ze)}start(U){var{enableRedraw:G=!1,ignoreMouse:J=!1,ignoreAnimation:T=!1,ignoreDimensions:M=!1,ignoreClear:$=!1,forceRedraw:ie,scaleWidth:we,scaleHeight:Pe,offsetX:Ze,offsetY:N}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:v,mouse:S}=this,I=1e3/v;if(this.frameDuration=I,this.readyPromise=new Promise(ee=>{this.resolveReady=ee}),this.isReady()&&this.render(U,M,$,we,Pe,Ze,N),!!G){var R=Date.now(),V=R,ce=0,q=()=>{R=Date.now(),ce=R-V,ce>=I&&(V=R-ce%I,this.shouldUpdate(T,ie)&&(this.render(U,M,$,we,Pe,Ze,N),S.runEvents())),this.intervalId=m(q)};J||S.start(),this.intervalId=m(q)}}stop(){this.intervalId&&(m.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(U,G){if(!U){var{frameDuration:J}=this,T=this.animations.reduce((M,$)=>$.update(J)||M,!1);if(T)return!0}return!!(typeof G=="function"&&G()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(U,G,J,T,M,$,ie){var{CLIENT_WIDTH:we,CLIENT_HEIGHT:Pe,viewPort:Ze,ctx:N,isFirstRender:v}=this,S=N.canvas;Ze.clear(),S.width&&S.height?Ze.setCurrent(S.width,S.height):Ze.setCurrent(we,Pe);var I=U.getStyle("width"),R=U.getStyle("height");!G&&(v||typeof T!="number"&&typeof M!="number")&&(I.hasValue()&&(S.width=I.getPixels("x"),S.style&&(S.style.width="".concat(S.width,"px"))),R.hasValue()&&(S.height=R.getPixels("y"),S.style&&(S.style.height="".concat(S.height,"px"))));var V=S.clientWidth||S.width,ce=S.clientHeight||S.height;if(G&&I.hasValue()&&R.hasValue()&&(V=I.getPixels("x"),ce=R.getPixels("y")),Ze.setCurrent(V,ce),typeof $=="number"&&U.getAttribute("x",!0).setValue($),typeof ie=="number"&&U.getAttribute("y",!0).setValue(ie),typeof T=="number"||typeof M=="number"){var q=Q(U.getAttribute("viewBox").getString()),ee=0,ke=0;if(typeof T=="number"){var Me=U.getStyle("width");Me.hasValue()?ee=Me.getPixels("x")/T:isNaN(q[2])||(ee=q[2]/T)}if(typeof M=="number"){var $e=U.getStyle("height");$e.hasValue()?ke=$e.getPixels("y")/M:isNaN(q[3])||(ke=q[3]/M)}ee||(ee=ke),ke||(ke=ee),U.getAttribute("width",!0).setValue(T),U.getAttribute("height",!0).setValue(M);var Je=U.getStyle("transform",!0,!0);Je.setValue("".concat(Je.getString()," scale(").concat(1/ee,", ").concat(1/ke,")"))}J||N.clearRect(0,0,V,ce),U.render(N),v&&(this.isFirstRender=!1)}}ut.defaultWindow=Fs,ut.defaultFetch=Re;var{defaultFetch:St}=ut,Os=typeof DOMParser<"u"?DOMParser:null;class hs{constructor(){var{fetch:U=St,DOMParser:G=Os}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=U,this.DOMParser=G}parse(U){var G=this;return(0,f.default)(function*(){return U.startsWith("<")?G.parseFromString(U):G.load(U)})()}parseFromString(U){var G=new this.DOMParser;try{return this.checkDocument(G.parseFromString(U,"image/svg+xml"))}catch{return this.checkDocument(G.parseFromString(U,"text/xml"))}}checkDocument(U){var G=U.getElementsByTagName("parsererror")[0];if(G)throw new Error(G.textContent);return U}load(U){var G=this;return(0,f.default)(function*(){var J=yield G.fetch(U),T=yield J.text();return G.parseFromString(T)})()}}class vr{constructor(U,G){this.type="translate",this.point=null,this.point=Vt.parse(G)}apply(U){var{x:G,y:J}=this.point;U.translate(G||0,J||0)}unapply(U){var{x:G,y:J}=this.point;U.translate(-1*G||0,-1*J||0)}applyToPoint(U){var{x:G,y:J}=this.point;U.applyTransform([1,0,0,1,G||0,J||0])}}class hr{constructor(U,G,J){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var T=Q(G);this.angle=new We(U,"angle",T[0]),this.originX=J[0],this.originY=J[1],this.cx=T[1]||0,this.cy=T[2]||0}apply(U){var{cx:G,cy:J,originX:T,originY:M,angle:$}=this,ie=G+T.getPixels("x"),we=J+M.getPixels("y");U.translate(ie,we),U.rotate($.getRadians()),U.translate(-ie,-we)}unapply(U){var{cx:G,cy:J,originX:T,originY:M,angle:$}=this,ie=G+T.getPixels("x"),we=J+M.getPixels("y");U.translate(ie,we),U.rotate(-1*$.getRadians()),U.translate(-ie,-we)}applyToPoint(U){var{cx:G,cy:J,angle:T}=this,M=T.getRadians();U.applyTransform([1,0,0,1,G||0,J||0]),U.applyTransform([Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0]),U.applyTransform([1,0,0,1,-G||0,-J||0])}}class ir{constructor(U,G,J){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var T=Vt.parseScale(G);(T.x===0||T.y===0)&&(T.x=De,T.y=De),this.scale=T,this.originX=J[0],this.originY=J[1]}apply(U){var{scale:{x:G,y:J},originX:T,originY:M}=this,$=T.getPixels("x"),ie=M.getPixels("y");U.translate($,ie),U.scale(G,J||G),U.translate(-$,-ie)}unapply(U){var{scale:{x:G,y:J},originX:T,originY:M}=this,$=T.getPixels("x"),ie=M.getPixels("y");U.translate($,ie),U.scale(1/G,1/J||G),U.translate(-$,-ie)}applyToPoint(U){var{x:G,y:J}=this.scale;U.applyTransform([G||0,0,0,J||0,0,0])}}class Ds{constructor(U,G,J){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=Q(G),this.originX=J[0],this.originY=J[1]}apply(U){var{originX:G,originY:J,matrix:T}=this,M=G.getPixels("x"),$=J.getPixels("y");U.translate(M,$),U.transform(T[0],T[1],T[2],T[3],T[4],T[5]),U.translate(-M,-$)}unapply(U){var{originX:G,originY:J,matrix:T}=this,M=T[0],$=T[2],ie=T[4],we=T[1],Pe=T[3],Ze=T[5],N=0,v=0,S=1,I=1/(M*(Pe*S-Ze*v)-$*(we*S-Ze*N)+ie*(we*v-Pe*N)),R=G.getPixels("x"),V=J.getPixels("y");U.translate(R,V),U.transform(I*(Pe*S-Ze*v),I*(Ze*N-we*S),I*(ie*v-$*S),I*(M*S-ie*N),I*($*Ze-ie*Pe),I*(ie*we-M*Ze)),U.translate(-R,-V)}applyToPoint(U){U.applyTransform(this.matrix)}}class Ss extends Ds{constructor(U,G,J){super(U,G,J),this.type="skew",this.angle=null,this.angle=new We(U,"angle",G)}}class Ls extends Ss{constructor(U,G,J){super(U,G,J),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class rr extends Ss{constructor(U,G,J){super(U,G,J),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function xr(Tt){return z(Tt).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function en(Tt){var[U,G]=Tt.split("(");return[U.trim(),G.trim().replace(")","")]}class wr{constructor(U,G,J){this.document=U,this.transforms=[];var T=xr(G);T.forEach(M=>{if(M!=="none"){var[$,ie]=en(M),we=wr.transformTypes[$];typeof we<"u"&&this.transforms.push(new we(this.document,ie,J))}})}static fromElement(U,G){var J=G.getStyle("transform",!1,!0),[T,M=T]=G.getStyle("transform-origin",!1,!0).split(),$=[T,M];return J.hasValue()?new wr(U,J.getString(),$):null}apply(U){for(var{transforms:G}=this,J=G.length,T=0;T<J;T++)G[T].apply(U)}unapply(U){for(var{transforms:G}=this,J=G.length,T=J-1;T>=0;T--)G[T].unapply(U)}applyToPoint(U){for(var{transforms:G}=this,J=G.length,T=0;T<J;T++)G[T].applyToPoint(U)}}wr.transformTypes={translate:vr,rotate:hr,scale:ir,matrix:Ds,skewX:Ls,skewY:rr};class tr{constructor(U,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=U,this.node=G,this.captureTextNodes=J,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!G||G.nodeType!==1)){if(Array.from(G.attributes).forEach(ie=>{var we=de(ie.nodeName);this.attributes[we]=new We(U,we,ie.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var T=this.getAttribute("style").getString().split(";").map(ie=>ie.trim());T.forEach(ie=>{if(ie){var[we,Pe]=ie.split(":").map(Ze=>Ze.trim());this.styles[we]=new We(U,we,Pe)}})}var{definitions:M}=U,$=this.getAttribute("id");$.hasValue()&&(M[$.getString()]||(M[$.getString()]=this)),Array.from(G.childNodes).forEach(ie=>{if(ie.nodeType===1)this.addChild(ie);else if(J&&(ie.nodeType===3||ie.nodeType===4)){var we=U.createTextNode(ie);we.getText().length>0&&this.addChild(we)}})}}getAttribute(U){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,J=this.attributes[U];if(!J&&G){var T=new We(this.document,U,"");return this.attributes[U]=T,T}return J||We.empty(this.document)}getHrefAttribute(){for(var U in this.attributes)if(U==="href"||U.endsWith(":href"))return this.attributes[U];return We.empty(this.document)}getStyle(U){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=this.styles[U];if(T)return T;var M=this.getAttribute(U);if(M!=null&&M.hasValue())return this.styles[U]=M,M;if(!J){var{parent:$}=this;if($){var ie=$.getStyle(U);if(ie!=null&&ie.hasValue())return ie}}if(G){var we=new We(this.document,U,"");return this.styles[U]=we,we}return T||We.empty(this.document)}render(U){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(U.save(),this.getStyle("mask").hasValue()){var G=this.getStyle("mask").getDefinition();G&&(this.applyEffects(U),G.apply(U,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var J=this.getStyle("filter").getDefinition();J&&(this.applyEffects(U),J.apply(U,this))}else this.setContext(U),this.renderChildren(U),this.clearContext(U);U.restore()}}setContext(U){}applyEffects(U){var G=wr.fromElement(this.document,this);G&&G.apply(U);var J=this.getStyle("clip-path",!1,!0);if(J.hasValue()){var T=J.getDefinition();T&&T.apply(U)}}clearContext(U){}renderChildren(U){this.children.forEach(G=>{G.render(U)})}addChild(U){var G=U instanceof tr?U:this.document.createElement(U);G.parent=this,tr.ignoreChildTypes.includes(G.type)||this.children.push(G)}matchesSelector(U){var G,{node:J}=this;if(typeof J.matches=="function")return J.matches(U);var T=(G=J.getAttribute)===null||G===void 0?void 0:G.call(J,"class");return!T||T===""?!1:T.split(" ").some(M=>".".concat(M)===U)}addStylesFromStyleDefinition(){var{styles:U,stylesSpecificity:G}=this.document;for(var J in U)if(!J.startsWith("@")&&this.matchesSelector(J)){var T=U[J],M=G[J];if(T)for(var $ in T){var ie=this.stylesSpecificity[$];typeof ie>"u"&&(ie="000"),M>=ie&&(this.styles[$]=T[$],this.stylesSpecificity[$]=M)}}}removeStyles(U,G){var J=G.reduce((T,M)=>{var $=U.getStyle(M);if(!$.hasValue())return T;var ie=$.getString();return $.setValue(""),[...T,[M,ie]]},[]);return J}restoreStyles(U,G){G.forEach(J=>{var[T,M]=J;U.getStyle(T,!0).setValue(M)})}isFirstChild(){var U;return((U=this.parent)===null||U===void 0?void 0:U.children.indexOf(this))===0}}tr.ignoreChildTypes=["title"];class Xs extends tr{constructor(U,G,J){super(U,G,J)}}function Ts(Tt){var U=Tt.trim();return/^('|")/.test(U)?U:'"'.concat(U,'"')}function ft(Tt){return typeof process>"u"?Tt:Tt.trim().split(",").map(Ts).join(",")}function $t(Tt){if(!Tt)return"";var U=Tt.trim().toLowerCase();switch(U){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return U;default:return/^oblique\s+(-|)\d+deg$/.test(U)?U:""}}function ks(Tt){if(!Tt)return"";var U=Tt.trim().toLowerCase();switch(U){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return U;default:return/^[\d.]+$/.test(U)?U:""}}class Gs{constructor(U,G,J,T,M,$){var ie=$?typeof $=="string"?Gs.parse($):$:{};this.fontFamily=M||ie.fontFamily,this.fontSize=T||ie.fontSize,this.fontStyle=U||ie.fontStyle,this.fontWeight=J||ie.fontWeight,this.fontVariant=G||ie.fontVariant}static parse(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",G=arguments.length>1?arguments[1]:void 0,J="",T="",M="",$="",ie="",we=z(U).trim().split(" "),Pe={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return we.forEach(Ze=>{switch(!0){case(!Pe.fontStyle&&Gs.styles.includes(Ze)):Ze!=="inherit"&&(J=Ze),Pe.fontStyle=!0;break;case(!Pe.fontVariant&&Gs.variants.includes(Ze)):Ze!=="inherit"&&(T=Ze),Pe.fontStyle=!0,Pe.fontVariant=!0;break;case(!Pe.fontWeight&&Gs.weights.includes(Ze)):Ze!=="inherit"&&(M=Ze),Pe.fontStyle=!0,Pe.fontVariant=!0,Pe.fontWeight=!0;break;case!Pe.fontSize:Ze!=="inherit"&&([$]=Ze.split("/")),Pe.fontStyle=!0,Pe.fontVariant=!0,Pe.fontWeight=!0,Pe.fontSize=!0;break;default:Ze!=="inherit"&&(ie+=Ze)}}),new Gs(J,T,M,$,ie,G)}toString(){return[$t(this.fontStyle),this.fontVariant,ks(this.fontWeight),this.fontSize,ft(this.fontFamily)].join(" ").trim()}}Gs.styles="normal|italic|oblique|inherit",Gs.variants="normal|small-caps|inherit",Gs.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class lr{constructor(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=U,this.y1=G,this.x2=J,this.y2=T,this.addPoint(U,G),this.addPoint(J,T)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(U,G){typeof U<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=U,this.x2=U),U<this.x1&&(this.x1=U),U>this.x2&&(this.x2=U)),typeof G<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=G,this.y2=G),G<this.y1&&(this.y1=G),G>this.y2&&(this.y2=G))}addX(U){this.addPoint(U,null)}addY(U){this.addPoint(null,U)}addBoundingBox(U){if(U){var{x1:G,y1:J,x2:T,y2:M}=U;this.addPoint(G,J),this.addPoint(T,M)}}sumCubic(U,G,J,T,M){return Math.pow(1-U,3)*G+3*Math.pow(1-U,2)*U*J+3*(1-U)*Math.pow(U,2)*T+Math.pow(U,3)*M}bezierCurveAdd(U,G,J,T,M){var $=6*G-12*J+6*T,ie=-3*G+9*J-9*T+3*M,we=3*J-3*G;if(ie===0){if($===0)return;var Pe=-we/$;0<Pe&&Pe<1&&(U?this.addX(this.sumCubic(Pe,G,J,T,M)):this.addY(this.sumCubic(Pe,G,J,T,M)));return}var Ze=Math.pow($,2)-4*we*ie;if(!(Ze<0)){var N=(-$+Math.sqrt(Ze))/(2*ie);0<N&&N<1&&(U?this.addX(this.sumCubic(N,G,J,T,M)):this.addY(this.sumCubic(N,G,J,T,M)));var v=(-$-Math.sqrt(Ze))/(2*ie);0<v&&v<1&&(U?this.addX(this.sumCubic(v,G,J,T,M)):this.addY(this.sumCubic(v,G,J,T,M)))}}addBezierCurve(U,G,J,T,M,$,ie,we){this.addPoint(U,G),this.addPoint(ie,we),this.bezierCurveAdd(!0,U,J,M,ie),this.bezierCurveAdd(!1,G,T,$,we)}addQuadraticCurve(U,G,J,T,M,$){var ie=U+.6666666666666666*(J-U),we=G+2/3*(T-G),Pe=ie+1/3*(M-U),Ze=we+1/3*($-G);this.addBezierCurve(U,G,ie,Pe,we,Ze,M,$)}isPointInBox(U,G){var{x1:J,y1:T,x2:M,y2:$}=this;return J<=U&&U<=M&&T<=G&&G<=$}}class wt extends b.SVGPathData{constructor(U){super(U.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Vt(0,0),this.control=new Vt(0,0),this.current=new Vt(0,0),this.points=[],this.angles=[]}isEnd(){var{i:U,commands:G}=this;return U>=G.length-1}next(){var U=this.commands[++this.i];return this.previousCommand=this.command,this.command=U,U}getPoint(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",J=new Vt(this.command[U],this.command[G]);return this.makeAbsolute(J)}getAsControlPoint(U,G){var J=this.getPoint(U,G);return this.control=J,J}getAsCurrentPoint(U,G){var J=this.getPoint(U,G);return this.current=J,J}getReflectedControlPoint(){var U=this.previousCommand.type;if(U!==b.SVGPathData.CURVE_TO&&U!==b.SVGPathData.SMOOTH_CURVE_TO&&U!==b.SVGPathData.QUAD_TO&&U!==b.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:G,y:J},control:{x:T,y:M}}=this,$=new Vt(2*G-T,2*J-M);return $}makeAbsolute(U){if(this.command.relative){var{x:G,y:J}=this.current;U.x+=G,U.y+=J}return U}addMarker(U,G,J){var{points:T,angles:M}=this;J&&M.length>0&&!M[M.length-1]&&(M[M.length-1]=T[T.length-1].angleTo(J)),this.addMarkerAngle(U,G?G.angleTo(U):null)}addMarkerAngle(U,G){this.points.push(U),this.angles.push(G)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:U}=this,G=U.length,J=0;J<G;J++)if(!U[J]){for(var T=J+1;T<G;T++)if(U[T]){U[J]=U[T];break}}return U}}class qt extends tr{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var U=1,G=this;G;){var J=G.getStyle("opacity",!1,!0);J.hasValue(!0)&&(U*=J.getNumber()),G=G.parent}return U}setContext(U){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!G){var J=this.getStyle("fill"),T=this.getStyle("fill-opacity"),M=this.getStyle("stroke"),$=this.getStyle("stroke-opacity");if(J.isUrlDefinition()){var ie=J.getFillStyleDefinition(this,T);ie&&(U.fillStyle=ie)}else if(J.hasValue()){J.getString()==="currentColor"&&J.setValue(this.getStyle("color").getColor());var we=J.getColor();we!=="inherit"&&(U.fillStyle=we==="none"?"rgba(0,0,0,0)":we)}if(T.hasValue()){var Pe=new We(this.document,"fill",U.fillStyle).addOpacity(T).getColor();U.fillStyle=Pe}if(M.isUrlDefinition()){var Ze=M.getFillStyleDefinition(this,$);Ze&&(U.strokeStyle=Ze)}else if(M.hasValue()){M.getString()==="currentColor"&&M.setValue(this.getStyle("color").getColor());var N=M.getString();N!=="inherit"&&(U.strokeStyle=N==="none"?"rgba(0,0,0,0)":N)}if($.hasValue()){var v=new We(this.document,"stroke",U.strokeStyle).addOpacity($).getString();U.strokeStyle=v}var S=this.getStyle("stroke-width");if(S.hasValue()){var I=S.getPixels();U.lineWidth=I||De}var R=this.getStyle("stroke-linecap"),V=this.getStyle("stroke-linejoin"),ce=this.getStyle("stroke-miterlimit"),q=this.getStyle("stroke-dasharray"),ee=this.getStyle("stroke-dashoffset");if(R.hasValue()&&(U.lineCap=R.getString()),V.hasValue()&&(U.lineJoin=V.getString()),ce.hasValue()&&(U.miterLimit=ce.getNumber()),q.hasValue()&&q.getString()!=="none"){var ke=Q(q.getString());typeof U.setLineDash<"u"?U.setLineDash(ke):typeof U.webkitLineDash<"u"?U.webkitLineDash=ke:typeof U.mozDash<"u"&&!(ke.length===1&&ke[0]===0)&&(U.mozDash=ke);var Me=ee.getPixels();typeof U.lineDashOffset<"u"?U.lineDashOffset=Me:typeof U.webkitLineDashOffset<"u"?U.webkitLineDashOffset=Me:typeof U.mozDashOffset<"u"&&(U.mozDashOffset=Me)}}if(this.modifiedEmSizeStack=!1,typeof U.font<"u"){var $e=this.getStyle("font"),Je=this.getStyle("font-style"),xe=this.getStyle("font-variant"),ct=this.getStyle("font-weight"),ot=this.getStyle("font-size"),At=this.getStyle("font-family"),Ye=new Gs(Je.getString(),xe.getString(),ct.getString(),ot.hasValue()?"".concat(ot.getPixels(!0),"px"):"",At.getString(),Gs.parse($e.getString(),U.font));Je.setValue(Ye.fontStyle),xe.setValue(Ye.fontVariant),ct.setValue(Ye.fontWeight),ot.setValue(Ye.fontSize),At.setValue(Ye.fontFamily),U.font=Ye.toString(),ot.isPixels()&&(this.document.emSize=ot.getPixels(),this.modifiedEmSizeStack=!0)}G||(this.applyEffects(U),U.globalAlpha=this.calculateOpacity())}clearContext(U){super.clearContext(U),this.modifiedEmSizeStack&&this.document.popEmSize()}}class As extends qt{constructor(U,G,J){super(U,G,J),this.type="path",this.pathParser=null,this.pathParser=new wt(this.getAttribute("d").getString())}path(U){var{pathParser:G}=this,J=new lr;for(G.reset(),U&&U.beginPath();!G.isEnd();)switch(G.next().type){case wt.MOVE_TO:this.pathM(U,J);break;case wt.LINE_TO:this.pathL(U,J);break;case wt.HORIZ_LINE_TO:this.pathH(U,J);break;case wt.VERT_LINE_TO:this.pathV(U,J);break;case wt.CURVE_TO:this.pathC(U,J);break;case wt.SMOOTH_CURVE_TO:this.pathS(U,J);break;case wt.QUAD_TO:this.pathQ(U,J);break;case wt.SMOOTH_QUAD_TO:this.pathT(U,J);break;case wt.ARC:this.pathA(U,J);break;case wt.CLOSE_PATH:this.pathZ(U,J);break}return J}getBoundingBox(U){return this.path()}getMarkers(){var{pathParser:U}=this,G=U.getMarkerPoints(),J=U.getMarkerAngles(),T=G.map((M,$)=>[M,J[$]]);return T}renderChildren(U){this.path(U),this.document.screen.mouse.checkPath(this,U);var G=this.getStyle("fill-rule");U.fillStyle!==""&&(G.getString("inherit")!=="inherit"?U.fill(G.getString()):U.fill()),U.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(U.save(),U.setTransform(1,0,0,1,0,0),U.stroke(),U.restore()):U.stroke());var J=this.getMarkers();if(J){var T=J.length-1,M=this.getStyle("marker-start"),$=this.getStyle("marker-mid"),ie=this.getStyle("marker-end");if(M.isUrlDefinition()){var we=M.getDefinition(),[Pe,Ze]=J[0];we.render(U,Pe,Ze)}if($.isUrlDefinition())for(var N=$.getDefinition(),v=1;v<T;v++){var[S,I]=J[v];N.render(U,S,I)}if(ie.isUrlDefinition()){var R=ie.getDefinition(),[V,ce]=J[T];R.render(U,V,ce)}}}static pathM(U){var G=U.getAsCurrentPoint();return U.start=U.current,{point:G}}pathM(U,G){var{pathParser:J}=this,{point:T}=As.pathM(J),{x:M,y:$}=T;J.addMarker(T),G.addPoint(M,$),U&&U.moveTo(M,$)}static pathL(U){var{current:G}=U,J=U.getAsCurrentPoint();return{current:G,point:J}}pathL(U,G){var{pathParser:J}=this,{current:T,point:M}=As.pathL(J),{x:$,y:ie}=M;J.addMarker(M,T),G.addPoint($,ie),U&&U.lineTo($,ie)}static pathH(U){var{current:G,command:J}=U,T=new Vt((J.relative?G.x:0)+J.x,G.y);return U.current=T,{current:G,point:T}}pathH(U,G){var{pathParser:J}=this,{current:T,point:M}=As.pathH(J),{x:$,y:ie}=M;J.addMarker(M,T),G.addPoint($,ie),U&&U.lineTo($,ie)}static pathV(U){var{current:G,command:J}=U,T=new Vt(G.x,(J.relative?G.y:0)+J.y);return U.current=T,{current:G,point:T}}pathV(U,G){var{pathParser:J}=this,{current:T,point:M}=As.pathV(J),{x:$,y:ie}=M;J.addMarker(M,T),G.addPoint($,ie),U&&U.lineTo($,ie)}static pathC(U){var{current:G}=U,J=U.getPoint("x1","y1"),T=U.getAsControlPoint("x2","y2"),M=U.getAsCurrentPoint();return{current:G,point:J,controlPoint:T,currentPoint:M}}pathC(U,G){var{pathParser:J}=this,{current:T,point:M,controlPoint:$,currentPoint:ie}=As.pathC(J);J.addMarker(ie,$,M),G.addBezierCurve(T.x,T.y,M.x,M.y,$.x,$.y,ie.x,ie.y),U&&U.bezierCurveTo(M.x,M.y,$.x,$.y,ie.x,ie.y)}static pathS(U){var{current:G}=U,J=U.getReflectedControlPoint(),T=U.getAsControlPoint("x2","y2"),M=U.getAsCurrentPoint();return{current:G,point:J,controlPoint:T,currentPoint:M}}pathS(U,G){var{pathParser:J}=this,{current:T,point:M,controlPoint:$,currentPoint:ie}=As.pathS(J);J.addMarker(ie,$,M),G.addBezierCurve(T.x,T.y,M.x,M.y,$.x,$.y,ie.x,ie.y),U&&U.bezierCurveTo(M.x,M.y,$.x,$.y,ie.x,ie.y)}static pathQ(U){var{current:G}=U,J=U.getAsControlPoint("x1","y1"),T=U.getAsCurrentPoint();return{current:G,controlPoint:J,currentPoint:T}}pathQ(U,G){var{pathParser:J}=this,{current:T,controlPoint:M,currentPoint:$}=As.pathQ(J);J.addMarker($,M,M),G.addQuadraticCurve(T.x,T.y,M.x,M.y,$.x,$.y),U&&U.quadraticCurveTo(M.x,M.y,$.x,$.y)}static pathT(U){var{current:G}=U,J=U.getReflectedControlPoint();U.control=J;var T=U.getAsCurrentPoint();return{current:G,controlPoint:J,currentPoint:T}}pathT(U,G){var{pathParser:J}=this,{current:T,controlPoint:M,currentPoint:$}=As.pathT(J);J.addMarker($,M,M),G.addQuadraticCurve(T.x,T.y,M.x,M.y,$.x,$.y),U&&U.quadraticCurveTo(M.x,M.y,$.x,$.y)}static pathA(U){var{current:G,command:J}=U,{rX:T,rY:M,xRot:$,lArcFlag:ie,sweepFlag:we}=J,Pe=$*(Math.PI/180),Ze=U.getAsCurrentPoint(),N=new Vt(Math.cos(Pe)*(G.x-Ze.x)/2+Math.sin(Pe)*(G.y-Ze.y)/2,-Math.sin(Pe)*(G.x-Ze.x)/2+Math.cos(Pe)*(G.y-Ze.y)/2),v=Math.pow(N.x,2)/Math.pow(T,2)+Math.pow(N.y,2)/Math.pow(M,2);v>1&&(T*=Math.sqrt(v),M*=Math.sqrt(v));var S=(ie===we?-1:1)*Math.sqrt((Math.pow(T,2)*Math.pow(M,2)-Math.pow(T,2)*Math.pow(N.y,2)-Math.pow(M,2)*Math.pow(N.x,2))/(Math.pow(T,2)*Math.pow(N.y,2)+Math.pow(M,2)*Math.pow(N.x,2)));isNaN(S)&&(S=0);var I=new Vt(S*T*N.y/M,S*-M*N.x/T),R=new Vt((G.x+Ze.x)/2+Math.cos(Pe)*I.x-Math.sin(Pe)*I.y,(G.y+Ze.y)/2+Math.sin(Pe)*I.x+Math.cos(Pe)*I.y),V=be([1,0],[(N.x-I.x)/T,(N.y-I.y)/M]),ce=[(N.x-I.x)/T,(N.y-I.y)/M],q=[(-N.x-I.x)/T,(-N.y-I.y)/M],ee=be(ce,q);return he(ce,q)<=-1&&(ee=Math.PI),he(ce,q)>=1&&(ee=0),{currentPoint:Ze,rX:T,rY:M,sweepFlag:we,xAxisRotation:Pe,centp:R,a1:V,ad:ee}}pathA(U,G){var{pathParser:J}=this,{currentPoint:T,rX:M,rY:$,sweepFlag:ie,xAxisRotation:we,centp:Pe,a1:Ze,ad:N}=As.pathA(J),v=1-ie?1:-1,S=Ze+v*(N/2),I=new Vt(Pe.x+M*Math.cos(S),Pe.y+$*Math.sin(S));if(J.addMarkerAngle(I,S-v*Math.PI/2),J.addMarkerAngle(T,S-v*Math.PI),G.addPoint(T.x,T.y),U&&!isNaN(Ze)&&!isNaN(N)){var R=M>$?M:$,V=M>$?1:M/$,ce=M>$?$/M:1;U.translate(Pe.x,Pe.y),U.rotate(we),U.scale(V,ce),U.arc(0,0,R,Ze,Ze+N,!!(1-ie)),U.scale(1/V,1/ce),U.rotate(-we),U.translate(-Pe.x,-Pe.y)}}static pathZ(U){U.current=U.start}pathZ(U,G){As.pathZ(this.pathParser),U&&G.x1!==G.x2&&G.y1!==G.y2&&U.closePath()}}class fs extends As{constructor(U,G,J){super(U,G,J),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class Vs extends qt{constructor(U,G,J){super(U,G,new.target===Vs?!0:J),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(U){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(U,G);var J=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();J&&(U.textBaseline=J)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(U){if(this.type!=="text")return this.getTElementBoundingBox(U);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(U);var G=null;return this.children.forEach((J,T)=>{var M=this.getChildBoundingBox(U,this,this,T);G?G.addBoundingBox(M):G=M}),G}getFontSize(){var{document:U,parent:G}=this,J=Gs.parse(U.ctx.font).fontSize,T=G.getStyle("font-size").getNumber(J);return T}getTElementBoundingBox(U){var G=this.getFontSize();return new lr(this.x,this.y-G,this.x+this.measureText(U),this.y)}getGlyph(U,G,J){var T=G[J],M=null;if(U.isArabic){var $=G.length,ie=G[J-1],we=G[J+1],Pe="isolated";if((J===0||ie===" ")&&J<$-1&&we!==" "&&(Pe="terminal"),J>0&&ie!==" "&&J<$-1&&we!==" "&&(Pe="medial"),J>0&&ie!==" "&&(J===$-1||we===" ")&&(Pe="initial"),typeof U.glyphs[T]<"u"){var Ze=U.glyphs[T];M=Ze instanceof fs?Ze:Ze[Pe]}}else M=U.glyphs[T];return M||(M=U.missingGlyph),M}getText(){return""}getTextFromNode(U){var G=U||this.node,J=Array.from(G.parentNode.childNodes),T=J.indexOf(G),M=J.length-1,$=z(G.textContent||"");return T===0&&($=X($)),T===M&&($=Y($)),$}renderChildren(U){if(this.type!=="text"){this.renderTElementChildren(U);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(U),this.children.forEach((J,T)=>{this.renderChild(U,this,this,T)});var{mouse:G}=this.document.screen;G.isWorking()&&G.checkBoundingBox(this,this.getBoundingBox(U))}renderTElementChildren(U){var{document:G,parent:J}=this,T=this.getText(),M=J.getStyle("font-family").getDefinition();if(M){for(var{unitsPerEm:$}=M.fontFace,ie=Gs.parse(G.ctx.font),we=J.getStyle("font-size").getNumber(ie.fontSize),Pe=J.getStyle("font-style").getString(ie.fontStyle),Ze=we/$,N=M.isRTL?T.split("").reverse().join(""):T,v=Q(J.getAttribute("dx").getString()),S=N.length,I=0;I<S;I++){var R=this.getGlyph(M,N,I);U.translate(this.x,this.y),U.scale(Ze,-Ze);var V=U.lineWidth;U.lineWidth=U.lineWidth*$/we,Pe==="italic"&&U.transform(1,0,.4,1,0,0),R.render(U),Pe==="italic"&&U.transform(1,0,-.4,1,0,0),U.lineWidth=V,U.scale(1/Ze,-1/Ze),U.translate(-this.x,-this.y),this.x+=we*(R.horizAdvX||M.horizAdvX)/$,typeof v[I]<"u"&&!isNaN(v[I])&&(this.x+=v[I])}return}var{x:ce,y:q}=this;U.fillStyle&&U.fillText(T,ce,q),U.strokeStyle&&U.strokeText(T,ce,q)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var U=this.leafTexts[this.textChunkStart],G=U.getStyle("text-anchor").getString("start"),J=!1,T=0;G==="start"&&!J||G==="end"&&J?T=U.x-this.minX:G==="end"&&!J||G==="start"&&J?T=U.x-this.maxX:T=U.x-(this.minX+this.maxX)/2;for(var M=this.textChunkStart;M<this.leafTexts.length;M++)this.leafTexts[M].x+=T;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(U){this.children.forEach((G,J)=>{this.adjustChildCoordinatesRecursiveCore(U,this,this,J)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(U,G,J,T){var M=J.children[T];M.children.length>0?M.children.forEach(($,ie)=>{G.adjustChildCoordinatesRecursiveCore(U,G,M,ie)}):this.adjustChildCoordinates(U,G,J,T)}adjustChildCoordinates(U,G,J,T){var M=J.children[T];if(typeof M.measureText!="function")return M;U.save(),M.setContext(U,!0);var $=M.getAttribute("x"),ie=M.getAttribute("y"),we=M.getAttribute("dx"),Pe=M.getAttribute("dy"),Ze=M.getStyle("font-family").getDefinition(),N=!!Ze&&Ze.isRTL;T===0&&($.hasValue()||$.setValue(M.getInheritedAttribute("x")),ie.hasValue()||ie.setValue(M.getInheritedAttribute("y")),we.hasValue()||we.setValue(M.getInheritedAttribute("dx")),Pe.hasValue()||Pe.setValue(M.getInheritedAttribute("dy")));var v=M.measureText(U);return N&&(G.x-=v),$.hasValue()?(G.applyAnchoring(),M.x=$.getPixels("x"),we.hasValue()&&(M.x+=we.getPixels("x"))):(we.hasValue()&&(G.x+=we.getPixels("x")),M.x=G.x),G.x=M.x,N||(G.x+=v),ie.hasValue()?(M.y=ie.getPixels("y"),Pe.hasValue()&&(M.y+=Pe.getPixels("y"))):(Pe.hasValue()&&(G.y+=Pe.getPixels("y")),M.y=G.y),G.y=M.y,G.leafTexts.push(M),G.minX=Math.min(G.minX,M.x,M.x+v),G.maxX=Math.max(G.maxX,M.x,M.x+v),M.clearContext(U),U.restore(),M}getChildBoundingBox(U,G,J,T){var M=J.children[T];if(typeof M.getBoundingBox!="function")return null;var $=M.getBoundingBox(U);return $?(M.children.forEach((ie,we)=>{var Pe=G.getChildBoundingBox(U,G,M,we);$.addBoundingBox(Pe)}),$):null}renderChild(U,G,J,T){var M=J.children[T];M.render(U),M.children.forEach(($,ie)=>{G.renderChild(U,G,M,ie)})}measureText(U){var{measureCache:G}=this;if(~G)return G;var J=this.getText(),T=this.measureTargetText(U,J);return this.measureCache=T,T}measureTargetText(U,G){if(!G.length)return 0;var{parent:J}=this,T=J.getStyle("font-family").getDefinition();if(T){for(var M=this.getFontSize(),$=T.isRTL?G.split("").reverse().join(""):G,ie=Q(J.getAttribute("dx").getString()),we=$.length,Pe=0,Ze=0;Ze<we;Ze++){var N=this.getGlyph(T,$,Ze);Pe+=(N.horizAdvX||T.horizAdvX)*M/T.fontFace.unitsPerEm,typeof ie[Ze]<"u"&&!isNaN(ie[Ze])&&(Pe+=ie[Ze])}return Pe}if(!U.measureText)return G.length*10;U.save(),this.setContext(U,!0);var{width:v}=U.measureText(G);return this.clearContext(U),U.restore(),v}getInheritedAttribute(U){for(var G=this;G instanceof Vs&&G.isFirstChild();){var J=G.parent.getAttribute(U);if(J.hasValue(!0))return J.getValue("0");G=G.parent}return null}}class Ks extends Vs{constructor(U,G,J){super(U,G,new.target===Ks?!0:J),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class pr extends Ks{constructor(){super(...arguments),this.type="textNode"}}class rn extends qt{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(U){var G,{document:J}=this,{screen:T,window:M}=J,$=U.canvas;if(T.setDefaults(U),$.style&&typeof U.font<"u"&&M&&typeof M.getComputedStyle<"u"){U.font=M.getComputedStyle($).getPropertyValue("font");var ie=new We(J,"fontSize",Gs.parse(U.font).fontSize);ie.hasValue()&&(J.rootEmSize=ie.getPixels("y"),J.emSize=J.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:we,height:Pe}=T.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var Ze=this.getAttribute("refX"),N=this.getAttribute("refY"),v=this.getAttribute("viewBox"),S=v.hasValue()?Q(v.getString()):null,I=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",R=0,V=0,ce=0,q=0;S&&(R=S[0],V=S[1]),this.root||(we=this.getStyle("width").getPixels("x"),Pe=this.getStyle("height").getPixels("y"),this.type==="marker"&&(ce=R,q=V,R=0,V=0)),T.viewPort.setCurrent(we,Pe),this.node&&(!this.parent||((G=this.node.parentNode)===null||G===void 0?void 0:G.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(U),U.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),S&&(we=S[2],Pe=S[3]),J.setViewBox({ctx:U,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:T.viewPort.width,desiredWidth:we,height:T.viewPort.height,desiredHeight:Pe,minX:R,minY:V,refX:Ze.getValue(),refY:N.getValue(),clip:I,clipX:ce,clipY:q}),S&&(T.viewPort.removeCurrent(),T.viewPort.setCurrent(we,Pe))}clearContext(U){super.clearContext(U),this.document.screen.viewPort.removeCurrent()}resize(U){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=this.getAttribute("width",!0),M=this.getAttribute("height",!0),$=this.getAttribute("viewBox"),ie=this.getAttribute("style"),we=T.getNumber(0),Pe=M.getNumber(0);if(J)if(typeof J=="string")this.getAttribute("preserveAspectRatio",!0).setValue(J);else{var Ze=this.getAttribute("preserveAspectRatio");Ze.hasValue()&&Ze.setValue(Ze.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(T.setValue(U),M.setValue(G),$.hasValue()||$.setValue("0 0 ".concat(we||U," ").concat(Pe||G)),ie.hasValue()){var N=this.getStyle("width"),v=this.getStyle("height");N.hasValue()&&N.setValue("".concat(U,"px")),v.hasValue()&&v.setValue("".concat(G,"px"))}}}class ya extends As{constructor(){super(...arguments),this.type="rect"}path(U){var G=this.getAttribute("x").getPixels("x"),J=this.getAttribute("y").getPixels("y"),T=this.getStyle("width",!1,!0).getPixels("x"),M=this.getStyle("height",!1,!0).getPixels("y"),$=this.getAttribute("rx"),ie=this.getAttribute("ry"),we=$.getPixels("x"),Pe=ie.getPixels("y");if($.hasValue()&&!ie.hasValue()&&(Pe=we),ie.hasValue()&&!$.hasValue()&&(we=Pe),we=Math.min(we,T/2),Pe=Math.min(Pe,M/2),U){var Ze=4*((Math.sqrt(2)-1)/3);U.beginPath(),M>0&&T>0&&(U.moveTo(G+we,J),U.lineTo(G+T-we,J),U.bezierCurveTo(G+T-we+Ze*we,J,G+T,J+Pe-Ze*Pe,G+T,J+Pe),U.lineTo(G+T,J+M-Pe),U.bezierCurveTo(G+T,J+M-Pe+Ze*Pe,G+T-we+Ze*we,J+M,G+T-we,J+M),U.lineTo(G+we,J+M),U.bezierCurveTo(G+we-Ze*we,J+M,G,J+M-Pe+Ze*Pe,G,J+M-Pe),U.lineTo(G,J+Pe),U.bezierCurveTo(G,J+Pe-Ze*Pe,G+we-Ze*we,J,G+we,J),U.closePath())}return new lr(G,J,G+T,J+M)}getMarkers(){return null}}class La extends As{constructor(){super(...arguments),this.type="circle"}path(U){var G=this.getAttribute("cx").getPixels("x"),J=this.getAttribute("cy").getPixels("y"),T=this.getAttribute("r").getPixels();return U&&T>0&&(U.beginPath(),U.arc(G,J,T,0,Math.PI*2,!1),U.closePath()),new lr(G-T,J-T,G+T,J+T)}getMarkers(){return null}}class ps extends As{constructor(){super(...arguments),this.type="ellipse"}path(U){var G=4*((Math.sqrt(2)-1)/3),J=this.getAttribute("rx").getPixels("x"),T=this.getAttribute("ry").getPixels("y"),M=this.getAttribute("cx").getPixels("x"),$=this.getAttribute("cy").getPixels("y");return U&&J>0&&T>0&&(U.beginPath(),U.moveTo(M+J,$),U.bezierCurveTo(M+J,$+G*T,M+G*J,$+T,M,$+T),U.bezierCurveTo(M-G*J,$+T,M-J,$+G*T,M-J,$),U.bezierCurveTo(M-J,$-G*T,M-G*J,$-T,M,$-T),U.bezierCurveTo(M+G*J,$-T,M+J,$-G*T,M+J,$),U.closePath()),new lr(M-J,$-T,M+J,$+T)}getMarkers(){return null}}class xs extends As{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Vt(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Vt(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(U){var[{x:G,y:J},{x:T,y:M}]=this.getPoints();return U&&(U.beginPath(),U.moveTo(G,J),U.lineTo(T,M)),new lr(G,J,T,M)}getMarkers(){var[U,G]=this.getPoints(),J=U.angleTo(G);return[[U,J],[G,J]]}}class cs extends As{constructor(U,G,J){super(U,G,J),this.type="polyline",this.points=[],this.points=Vt.parsePath(this.getAttribute("points").getString())}path(U){var{points:G}=this,[{x:J,y:T}]=G,M=new lr(J,T);return U&&(U.beginPath(),U.moveTo(J,T)),G.forEach($=>{var{x:ie,y:we}=$;M.addPoint(ie,we),U&&U.lineTo(ie,we)}),M}getMarkers(){var{points:U}=this,G=U.length-1,J=[];return U.forEach((T,M)=>{M!==G&&J.push([T,T.angleTo(U[M+1])])}),J.length>0&&J.push([U[U.length-1],J[J.length-1][1]]),J}}class fr extends cs{constructor(){super(...arguments),this.type="polygon"}path(U){var G=super.path(U),[{x:J,y:T}]=this.points;return U&&(U.lineTo(J,T),U.closePath()),G}}class $r extends tr{constructor(){super(...arguments),this.type="pattern"}createPattern(U,G,J){var T=this.getStyle("width").getPixels("x",!0),M=this.getStyle("height").getPixels("y",!0),$=new rn(this.document,null);$.attributes.viewBox=new We(this.document,"viewBox",this.getAttribute("viewBox").getValue()),$.attributes.width=new We(this.document,"width","".concat(T,"px")),$.attributes.height=new We(this.document,"height","".concat(M,"px")),$.attributes.transform=new We(this.document,"transform",this.getAttribute("patternTransform").getValue()),$.children=this.children;var ie=this.document.createCanvas(T,M),we=ie.getContext("2d"),Pe=this.getAttribute("x"),Ze=this.getAttribute("y");Pe.hasValue()&&Ze.hasValue()&&we.translate(Pe.getPixels("x",!0),Ze.getPixels("y",!0)),J.hasValue()?this.styles["fill-opacity"]=J:Reflect.deleteProperty(this.styles,"fill-opacity");for(var N=-1;N<=1;N++)for(var v=-1;v<=1;v++)we.save(),$.attributes.x=new We(this.document,"x",N*ie.width),$.attributes.y=new We(this.document,"y",v*ie.height),$.render(we),we.restore();var S=U.createPattern(ie,"repeat");return S}}class Ps extends tr{constructor(){super(...arguments),this.type="marker"}render(U,G,J){if(G){var{x:T,y:M}=G,$=this.getAttribute("orient").getString("auto"),ie=this.getAttribute("markerUnits").getString("strokeWidth");U.translate(T,M),$==="auto"&&U.rotate(J),ie==="strokeWidth"&&U.scale(U.lineWidth,U.lineWidth),U.save();var we=new rn(this.document,null);we.type=this.type,we.attributes.viewBox=new We(this.document,"viewBox",this.getAttribute("viewBox").getValue()),we.attributes.refX=new We(this.document,"refX",this.getAttribute("refX").getValue()),we.attributes.refY=new We(this.document,"refY",this.getAttribute("refY").getValue()),we.attributes.width=new We(this.document,"width",this.getAttribute("markerWidth").getValue()),we.attributes.height=new We(this.document,"height",this.getAttribute("markerHeight").getValue()),we.attributes.overflow=new We(this.document,"overflow",this.getAttribute("overflow").getValue()),we.attributes.fill=new We(this.document,"fill",this.getAttribute("fill").getColor("black")),we.attributes.stroke=new We(this.document,"stroke",this.getAttribute("stroke").getValue("none")),we.children=this.children,we.render(U),U.restore(),ie==="strokeWidth"&&U.scale(1/U.lineWidth,1/U.lineWidth),$==="auto"&&U.rotate(-J),U.translate(-T,-M)}}}class wa extends tr{constructor(){super(...arguments),this.type="defs"}render(){}}class Vn extends qt{constructor(){super(...arguments),this.type="g"}getBoundingBox(U){var G=new lr;return this.children.forEach(J=>{G.addBoundingBox(J.getBoundingBox(U))}),G}}class sa extends tr{constructor(U,G,J){super(U,G,J),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:T,children:M}=this;M.forEach($=>{$.type==="stop"&&T.push($)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(U,G,J){var T=this;this.getHrefAttribute().hasValue()&&(T=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(T));var{stops:M}=T,$=this.getGradient(U,G);if(!$)return this.addParentOpacity(J,M[M.length-1].color);if(M.forEach(V=>{$.addColorStop(V.offset,this.addParentOpacity(J,V.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:ie}=this,{MAX_VIRTUAL_PIXELS:we,viewPort:Pe}=ie.screen,[Ze]=Pe.viewPorts,N=new ya(ie,null);N.attributes.x=new We(ie,"x",-we/3),N.attributes.y=new We(ie,"y",-we/3),N.attributes.width=new We(ie,"width",we),N.attributes.height=new We(ie,"height",we);var v=new Vn(ie,null);v.attributes.transform=new We(ie,"transform",this.getAttribute("gradientTransform").getValue()),v.children=[N];var S=new rn(ie,null);S.attributes.x=new We(ie,"x",0),S.attributes.y=new We(ie,"y",0),S.attributes.width=new We(ie,"width",Ze.width),S.attributes.height=new We(ie,"height",Ze.height),S.children=[v];var I=ie.createCanvas(Ze.width,Ze.height),R=I.getContext("2d");return R.fillStyle=$,S.render(R),R.createPattern(I,"no-repeat")}return $}inheritStopContainer(U){this.attributesToInherit.forEach(G=>{!this.getAttribute(G).hasValue()&&U.getAttribute(G).hasValue()&&this.getAttribute(G,!0).setValue(U.getAttribute(G).getValue())})}addParentOpacity(U,G){if(U.hasValue()){var J=new We(this.document,"color",G);return J.addOpacity(U).getColor()}return G}}class an extends sa{constructor(U,G,J){super(U,G,J),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(U,G){var J=this.getGradientUnits()==="objectBoundingBox",T=J?G.getBoundingBox(U):null;if(J&&!T)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var M=J?T.x+T.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),$=J?T.y+T.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),ie=J?T.x+T.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),we=J?T.y+T.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return M===ie&&$===we?null:U.createLinearGradient(M,$,ie,we)}}class Rr extends sa{constructor(U,G,J){super(U,G,J),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(U,G){var J=this.getGradientUnits()==="objectBoundingBox",T=G.getBoundingBox(U);if(J&&!T)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var M=J?T.x+T.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),$=J?T.y+T.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),ie=M,we=$;this.getAttribute("fx").hasValue()&&(ie=J?T.x+T.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(we=J?T.y+T.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Pe=J?(T.width+T.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),Ze=this.getAttribute("fr").getPixels();return U.createRadialGradient(ie,we,Ze,M,$,Pe)}}class Gn extends tr{constructor(U,G,J){super(U,G,J),this.type="stop";var T=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),M=this.getStyle("stop-opacity"),$=this.getStyle("stop-color",!0);$.getString()===""&&$.setValue("#000"),M.hasValue()&&($=$.addOpacity(M)),this.offset=T,this.color=$.getColor()}}class Kn extends tr{constructor(U,G,J){super(U,G,J),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,U.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new We(U,"values",null);var T=this.getAttribute("values");T.hasValue()&&this.values.setValue(T.getString().split(";"))}getProperty(){var U=this.getAttribute("attributeType").getString(),G=this.getAttribute("attributeName").getString();return U==="CSS"?this.parent.getStyle(G,!0):this.parent.getAttribute(G,!0)}calcValue(){var{initialUnits:U}=this,{progress:G,from:J,to:T}=this.getProgress(),M=J.getNumber()+(T.getNumber()-J.getNumber())*G;return U==="%"&&(M*=100),"".concat(M).concat(U)}update(U){var{parent:G}=this,J=this.getProperty();if(this.initialValue||(this.initialValue=J.getString(),this.initialUnits=J.getUnits()),this.duration>this.maxDuration){var T=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(T==="freeze"&&!this.frozen)this.frozen=!0,G.animationFrozen=!0,G.animationFrozenValue=J.getString();else if(T==="remove"&&!this.removed)return this.removed=!0,J.setValue(G.animationFrozen?G.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=U;var M=!1;if(this.begin<this.duration){var $=this.calcValue(),ie=this.getAttribute("type");if(ie.hasValue()){var we=ie.getString();$="".concat(we,"(").concat($,")")}J.setValue($),M=!0}return M}getProgress(){var{document:U,values:G}=this,J={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(G.hasValue()){var T=J.progress*(G.getValue().length-1),M=Math.floor(T),$=Math.ceil(T);J.from=new We(U,"from",parseFloat(G.getValue()[M])),J.to=new We(U,"to",parseFloat(G.getValue()[$])),J.progress=(T-M)/($-M)}else J.from=this.from,J.to=this.to;return J}}class ti extends Kn{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:U,from:G,to:J}=this.getProgress(),T=new x(G.getColor()),M=new x(J.getColor());if(T.ok&&M.ok){var $=T.r+(M.r-T.r)*U,ie=T.g+(M.g-T.g)*U,we=T.b+(M.b-T.b)*U;return"rgb(".concat(Math.floor($),", ").concat(Math.floor(ie),", ").concat(Math.floor(we),")")}return this.getAttribute("from").getColor()}}class On extends Kn{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:U,from:G,to:J}=this.getProgress(),T=Q(G.getString()),M=Q(J.getString()),$=T.map((ie,we)=>{var Pe=M[we];return ie+(Pe-ie)*U}).join(" ");return $}}class mc extends tr{constructor(U,G,J){super(U,G,J),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:T}=U,{children:M}=this;for(var $ of M)switch($.type){case"font-face":{this.fontFace=$;var ie=$.getStyle("font-family");ie.hasValue()&&(T[ie.getString()]=this);break}case"missing-glyph":this.missingGlyph=$;break;case"glyph":{var we=$;we.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[we.unicode]>"u"&&(this.glyphs[we.unicode]=Object.create(null)),this.glyphs[we.unicode][we.arabicForm]=we):this.glyphs[we.unicode]=we;break}}}render(){}}class li extends tr{constructor(U,G,J){super(U,G,J),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Fo extends As{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Kl extends Vs{constructor(){super(...arguments),this.type="tref"}getText(){var U=this.getHrefAttribute().getDefinition();if(U){var G=U.children[0];if(G)return G.getText()}return""}}class Ao extends Vs{constructor(U,G,J){super(U,G,J),this.type="a";var{childNodes:T}=G,M=T[0],$=T.length>0&&Array.from(T).every(ie=>ie.nodeType===3);this.hasText=$,this.text=$?this.getTextFromNode(M):""}getText(){return this.text}renderChildren(U){if(this.hasText){super.renderChildren(U);var{document:G,x:J,y:T}=this,{mouse:M}=G.screen,$=new We(G,"fontSize",Gs.parse(G.ctx.font).fontSize);M.isWorking()&&M.checkBoundingBox(this,new lr(J,T-$.getPixels("y"),J+this.measureText(U),T))}else if(this.children.length>0){var ie=new Vn(this.document,null);ie.children=this.children,ie.parent=this,ie.render(U)}}onClick(){var{window:U}=this.document;U&&U.open(this.getHrefAttribute().getString())}onMouseMove(){var U=this.document.ctx;U.canvas.style.cursor="pointer"}}function fa(Tt,U){var G=Object.keys(Tt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Tt);U&&(J=J.filter(function(T){return Object.getOwnPropertyDescriptor(Tt,T).enumerable})),G.push.apply(G,J)}return G}function ki(Tt){for(var U=1;U<arguments.length;U++){var G=arguments[U]!=null?arguments[U]:{};U%2?fa(Object(G),!0).forEach(function(J){(0,p.default)(Tt,J,G[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(G)):fa(Object(G)).forEach(function(J){Object.defineProperty(Tt,J,Object.getOwnPropertyDescriptor(G,J))})}return Tt}class ra extends Vs{constructor(U,G,J){super(U,G,J),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var T=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(T)}getText(){return this.text}path(U){var{dataArray:G}=this;U&&U.beginPath(),G.forEach(J=>{var{type:T,points:M}=J;switch(T){case wt.LINE_TO:U&&U.lineTo(M[0],M[1]);break;case wt.MOVE_TO:U&&U.moveTo(M[0],M[1]);break;case wt.CURVE_TO:U&&U.bezierCurveTo(M[0],M[1],M[2],M[3],M[4],M[5]);break;case wt.QUAD_TO:U&&U.quadraticCurveTo(M[0],M[1],M[2],M[3]);break;case wt.ARC:{var[$,ie,we,Pe,Ze,N,v,S]=M,I=we>Pe?we:Pe,R=we>Pe?1:we/Pe,V=we>Pe?Pe/we:1;U&&(U.translate($,ie),U.rotate(v),U.scale(R,V),U.arc(0,0,I,Ze,Ze+N,!!(1-S)),U.scale(1/R,1/V),U.rotate(-v),U.translate(-$,-ie));break}case wt.CLOSE_PATH:U&&U.closePath();break}})}renderChildren(U){this.setTextData(U),U.save();var G=this.parent.getStyle("text-decoration").getString(),J=this.getFontSize(),{glyphInfo:T}=this,M=U.fillStyle;G==="underline"&&U.beginPath(),T.forEach(($,ie)=>{var{p0:we,p1:Pe,rotation:Ze,text:N}=$;U.save(),U.translate(we.x,we.y),U.rotate(Ze),U.fillStyle&&U.fillText(N,0,0),U.strokeStyle&&U.strokeText(N,0,0),U.restore(),G==="underline"&&(ie===0&&U.moveTo(we.x,we.y+J/8),U.lineTo(Pe.x,Pe.y+J/5))}),G==="underline"&&(U.lineWidth=J/20,U.strokeStyle=M,U.stroke(),U.closePath()),U.restore()}getLetterSpacingAt(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[U]||0}findSegmentToFitChar(U,G,J,T,M,$,ie,we,Pe){var Ze=$,N=this.measureText(U,we);we===" "&&G==="justify"&&J<T&&(N+=(T-J)/M),Pe>-1&&(Ze+=this.getLetterSpacingAt(Pe));var v=this.textHeight/20,S=this.getEquidistantPointOnPath(Ze,v,0),I=this.getEquidistantPointOnPath(Ze+N,v,0),R={p0:S,p1:I},V=S&&I?Math.atan2(I.y-S.y,I.x-S.x):0;if(ie){var ce=Math.cos(Math.PI/2+V)*ie,q=Math.cos(-V)*ie;R.p0=ki(ki({},S),{},{x:S.x+ce,y:S.y+q}),R.p1=ki(ki({},I),{},{x:I.x+ce,y:I.y+q})}return Ze+=N,{offset:Ze,segment:R,rotation:V}}measureText(U,G){var{measuresCache:J}=this,T=G||this.getText();if(J.has(T))return J.get(T);var M=this.measureTargetText(U,T);return J.set(T,M),M}setTextData(U){if(!this.glyphInfo){var G=this.getText(),J=G.split(""),T=G.split(" ").length-1,M=this.parent.getAttribute("dx").split().map(ke=>ke.getPixels("x")),$=this.parent.getAttribute("dy").getPixels("y"),ie=this.parent.getStyle("text-anchor").getString("start"),we=this.getStyle("letter-spacing"),Pe=this.parent.getStyle("letter-spacing"),Ze=0;!we.hasValue()||we.getValue()==="inherit"?Ze=Pe.getPixels():we.hasValue()&&we.getValue()!=="initial"&&we.getValue()!=="unset"&&(Ze=we.getPixels());var N=[],v=G.length;this.letterSpacingCache=N;for(var S=0;S<v;S++)N.push(typeof M[S]<"u"?M[S]:Ze);var I=N.reduce((ke,Me,$e)=>$e===0?0:ke+Me||0,0),R=this.measureText(U),V=Math.max(R+I,0);this.textWidth=R,this.textHeight=this.getFontSize(),this.glyphInfo=[];var ce=this.getPathLength(),q=this.getStyle("startOffset").getNumber(0)*ce,ee=0;(ie==="middle"||ie==="center")&&(ee=-V/2),(ie==="end"||ie==="right")&&(ee=-V),ee+=q,J.forEach((ke,Me)=>{var{offset:$e,segment:Je,rotation:xe}=this.findSegmentToFitChar(U,ie,V,ce,T,ee,$,ke,Me);ee=$e,!(!Je.p0||!Je.p1)&&this.glyphInfo.push({text:J[Me],p0:Je.p0,p1:Je.p1,rotation:xe})})}}parsePathData(U){if(this.pathLength=-1,!U)return[];var G=[],{pathParser:J}=U;for(J.reset();!J.isEnd();){var{current:T}=J,M=T?T.x:0,$=T?T.y:0,ie=J.next(),we=ie.type,Pe=[];switch(ie.type){case wt.MOVE_TO:this.pathM(J,Pe);break;case wt.LINE_TO:we=this.pathL(J,Pe);break;case wt.HORIZ_LINE_TO:we=this.pathH(J,Pe);break;case wt.VERT_LINE_TO:we=this.pathV(J,Pe);break;case wt.CURVE_TO:this.pathC(J,Pe);break;case wt.SMOOTH_CURVE_TO:we=this.pathS(J,Pe);break;case wt.QUAD_TO:this.pathQ(J,Pe);break;case wt.SMOOTH_QUAD_TO:we=this.pathT(J,Pe);break;case wt.ARC:Pe=this.pathA(J);break;case wt.CLOSE_PATH:As.pathZ(J);break}ie.type!==wt.CLOSE_PATH?G.push({type:we,points:Pe,start:{x:M,y:$},pathLength:this.calcLength(M,$,we,Pe)}):G.push({type:wt.CLOSE_PATH,points:[],pathLength:0})}return G}pathM(U,G){var{x:J,y:T}=As.pathM(U).point;G.push(J,T)}pathL(U,G){var{x:J,y:T}=As.pathL(U).point;return G.push(J,T),wt.LINE_TO}pathH(U,G){var{x:J,y:T}=As.pathH(U).point;return G.push(J,T),wt.LINE_TO}pathV(U,G){var{x:J,y:T}=As.pathV(U).point;return G.push(J,T),wt.LINE_TO}pathC(U,G){var{point:J,controlPoint:T,currentPoint:M}=As.pathC(U);G.push(J.x,J.y,T.x,T.y,M.x,M.y)}pathS(U,G){var{point:J,controlPoint:T,currentPoint:M}=As.pathS(U);return G.push(J.x,J.y,T.x,T.y,M.x,M.y),wt.CURVE_TO}pathQ(U,G){var{controlPoint:J,currentPoint:T}=As.pathQ(U);G.push(J.x,J.y,T.x,T.y)}pathT(U,G){var{controlPoint:J,currentPoint:T}=As.pathT(U);return G.push(J.x,J.y,T.x,T.y),wt.QUAD_TO}pathA(U){var{rX:G,rY:J,sweepFlag:T,xAxisRotation:M,centp:$,a1:ie,ad:we}=As.pathA(U);return T===0&&we>0&&(we-=2*Math.PI),T===1&&we<0&&(we+=2*Math.PI),[$.x,$.y,G,J,ie,we,M,T]}calcLength(U,G,J,T){var M=0,$=null,ie=null,we=0;switch(J){case wt.LINE_TO:return this.getLineLength(U,G,T[0],T[1]);case wt.CURVE_TO:for(M=0,$=this.getPointOnCubicBezier(0,U,G,T[0],T[1],T[2],T[3],T[4],T[5]),we=.01;we<=1;we+=.01)ie=this.getPointOnCubicBezier(we,U,G,T[0],T[1],T[2],T[3],T[4],T[5]),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;return M;case wt.QUAD_TO:for(M=0,$=this.getPointOnQuadraticBezier(0,U,G,T[0],T[1],T[2],T[3]),we=.01;we<=1;we+=.01)ie=this.getPointOnQuadraticBezier(we,U,G,T[0],T[1],T[2],T[3]),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;return M;case wt.ARC:{M=0;var Pe=T[4],Ze=T[5],N=T[4]+Ze,v=Math.PI/180;if(Math.abs(Pe-N)<v&&(v=Math.abs(Pe-N)),$=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],Pe,0),Ze<0)for(we=Pe-v;we>N;we-=v)ie=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],we,0),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;else for(we=Pe+v;we<N;we+=v)ie=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],we,0),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;return ie=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],N,0),M+=this.getLineLength($.x,$.y,ie.x,ie.y),M}}return 0}getPointOnLine(U,G,J,T,M){var $=arguments.length>5&&arguments[5]!==void 0?arguments[5]:G,ie=arguments.length>6&&arguments[6]!==void 0?arguments[6]:J,we=(M-J)/(T-G+De),Pe=Math.sqrt(U*U/(1+we*we));T<G&&(Pe*=-1);var Ze=we*Pe,N=null;if(T===G)N={x:$,y:ie+Ze};else if((ie-J)/($-G+De)===we)N={x:$+Pe,y:ie+Ze};else{var v=0,S=0,I=this.getLineLength(G,J,T,M);if(I<De)return null;var R=($-G)*(T-G)+(ie-J)*(M-J);R/=I*I,v=G+R*(T-G),S=J+R*(M-J);var V=this.getLineLength($,ie,v,S),ce=Math.sqrt(U*U-V*V);Pe=Math.sqrt(ce*ce/(1+we*we)),T<G&&(Pe*=-1),Ze=we*Pe,N={x:v+Pe,y:S+Ze}}return N}getPointOnPath(U){var G=this.getPathLength(),J=0,T=null;if(U<-5e-5||U-5e-5>G)return null;var{dataArray:M}=this;for(var $ of M){if($&&($.pathLength<5e-5||J+$.pathLength+5e-5<U)){J+=$.pathLength;continue}var ie=U-J,we=0;switch($.type){case wt.LINE_TO:T=this.getPointOnLine(ie,$.start.x,$.start.y,$.points[0],$.points[1],$.start.x,$.start.y);break;case wt.ARC:{var Pe=$.points[4],Ze=$.points[5],N=$.points[4]+Ze;if(we=Pe+ie/$.pathLength*Ze,Ze<0&&we<N||Ze>=0&&we>N)break;T=this.getPointOnEllipticalArc($.points[0],$.points[1],$.points[2],$.points[3],we,$.points[6]);break}case wt.CURVE_TO:we=ie/$.pathLength,we>1&&(we=1),T=this.getPointOnCubicBezier(we,$.start.x,$.start.y,$.points[0],$.points[1],$.points[2],$.points[3],$.points[4],$.points[5]);break;case wt.QUAD_TO:we=ie/$.pathLength,we>1&&(we=1),T=this.getPointOnQuadraticBezier(we,$.start.x,$.start.y,$.points[0],$.points[1],$.points[2],$.points[3]);break}if(T)return T;break}return null}getLineLength(U,G,J,T){return Math.sqrt((J-U)*(J-U)+(T-G)*(T-G))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((U,G)=>G.pathLength>0?U+G.pathLength:U,0)),this.pathLength}getPointOnCubicBezier(U,G,J,T,M,$,ie,we,Pe){var Ze=we*fe(U)+$*te(U)+T*ge(U)+G*Ue(U),N=Pe*fe(U)+ie*te(U)+M*ge(U)+J*Ue(U);return{x:Ze,y:N}}getPointOnQuadraticBezier(U,G,J,T,M,$,ie){var we=$*Ve(U)+T*kt(U)+G*Bt(U),Pe=ie*Ve(U)+M*kt(U)+J*Bt(U);return{x:we,y:Pe}}getPointOnEllipticalArc(U,G,J,T,M,$){var ie=Math.cos($),we=Math.sin($),Pe={x:J*Math.cos(M),y:T*Math.sin(M)};return{x:U+(Pe.x*ie-Pe.y*we),y:G+(Pe.x*we+Pe.y*ie)}}buildEquidistantCache(U,G){var J=this.getPathLength(),T=G||.25,M=U||J/100;if(!this.equidistantCache||this.equidistantCache.step!==M||this.equidistantCache.precision!==T){this.equidistantCache={step:M,precision:T,points:[]};for(var $=0,ie=0;ie<=J;ie+=T){var we=this.getPointOnPath(ie),Pe=this.getPointOnPath(ie+T);!we||!Pe||($+=this.getLineLength(we.x,we.y,Pe.x,Pe.y),$>=M&&(this.equidistantCache.points.push({x:we.x,y:we.y,distance:ie}),$-=M))}}}getEquidistantPointOnPath(U,G,J){if(this.buildEquidistantCache(G,J),U<0||U-this.getPathLength()>5e-5)return null;var T=Math.round(U/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[T]||null}}var Fa=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class qn extends qt{constructor(U,G,J){super(U,G,J),this.type="image",this.loaded=!1;var T=this.getHrefAttribute().getString();if(T){var M=T.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(T);U.images.push(this),M?this.loadSvg(T):this.loadImage(T),this.isSvg=M}}loadImage(U){var G=this;return(0,f.default)(function*(){try{var J=yield G.document.createImage(U);G.image=J}catch(T){console.error('Error while loading image "'.concat(U,'":'),T)}G.loaded=!0})()}loadSvg(U){var G=this;return(0,f.default)(function*(){var J=Fa.exec(U);if(J){var T=J[5];J[4]==="base64"?G.image=atob(T):G.image=decodeURIComponent(T)}else try{var M=yield G.document.fetch(U),$=yield M.text();G.image=$}catch(ie){console.error('Error while loading image "'.concat(U,'":'),ie)}G.loaded=!0})()}renderChildren(U){var{document:G,image:J,loaded:T}=this,M=this.getAttribute("x").getPixels("x"),$=this.getAttribute("y").getPixels("y"),ie=this.getStyle("width").getPixels("x"),we=this.getStyle("height").getPixels("y");if(!(!T||!J||!ie||!we)){if(U.save(),U.translate(M,$),this.isSvg){var Pe=G.canvg.forkString(U,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:ie,scaleHeight:we});Pe.document.documentElement.parent=this,Pe.render()}else{var Ze=this.image;G.setViewBox({ctx:U,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:ie,desiredWidth:Ze.width,height:we,desiredHeight:Ze.height}),this.loaded&&(typeof Ze.complete>"u"||Ze.complete)&&U.drawImage(Ze,0,0)}U.restore()}}getBoundingBox(){var U=this.getAttribute("x").getPixels("x"),G=this.getAttribute("y").getPixels("y"),J=this.getStyle("width").getPixels("x"),T=this.getStyle("height").getPixels("y");return new lr(U,G,U+J,G+T)}}class ho extends qt{constructor(){super(...arguments),this.type="symbol"}render(U){}}class hi{constructor(U){this.document=U,this.loaded=!1,U.fonts.push(this)}load(U,G){var J=this;return(0,f.default)(function*(){try{var{document:T}=J,M=yield T.canvg.parser.load(G),$=M.getElementsByTagName("font");Array.from($).forEach(ie=>{var we=T.createElement(ie);T.definitions[U]=we})}catch(ie){console.error('Error while loading font "'.concat(G,'":'),ie)}J.loaded=!0})()}}class Ci extends tr{constructor(U,G,J){super(U,G,J),this.type="style";var T=z(Array.from(G.childNodes).map($=>$.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),M=T.split("}");M.forEach($=>{var ie=$.trim();if(ie){var we=ie.split("{"),Pe=we[0].split(","),Ze=we[1].split(";");Pe.forEach(N=>{var v=N.trim();if(v){var S=U.styles[v]||{};if(Ze.forEach(V=>{var ce=V.indexOf(":"),q=V.substr(0,ce).trim(),ee=V.substr(ce+1,V.length-ce).trim();q&&ee&&(S[q]=new We(U,q,ee))}),U.styles[v]=S,U.stylesSpecificity[v]=Ee(v),v==="@font-face"){var I=S["font-family"].getString().replace(/"|'/g,""),R=S.src.getString().split(",");R.forEach(V=>{if(V.indexOf('format("svg")')>0){var ce=ue(V);ce&&new hi(U).load(I,ce)}})}}})}})}}Ci.parseExternalUrl=ue;class hl extends qt{constructor(){super(...arguments),this.type="use"}setContext(U){super.setContext(U);var G=this.getAttribute("x"),J=this.getAttribute("y");G.hasValue()&&U.translate(G.getPixels("x"),0),J.hasValue()&&U.translate(0,J.getPixels("y"))}path(U){var{element:G}=this;G&&G.path(U)}renderChildren(U){var{document:G,element:J}=this;if(J){var T=J;if(J.type==="symbol"&&(T=new rn(G,null),T.attributes.viewBox=new We(G,"viewBox",J.getAttribute("viewBox").getString()),T.attributes.preserveAspectRatio=new We(G,"preserveAspectRatio",J.getAttribute("preserveAspectRatio").getString()),T.attributes.overflow=new We(G,"overflow",J.getAttribute("overflow").getString()),T.children=J.children,J.styles.opacity=new We(G,"opacity",this.calculateOpacity())),T.type==="svg"){var M=this.getStyle("width",!1,!0),$=this.getStyle("height",!1,!0);M.hasValue()&&(T.attributes.width=new We(G,"width",M.getString())),$.hasValue()&&(T.attributes.height=new We(G,"height",$.getString()))}var ie=T.parent;T.parent=this,T.render(U),T.parent=ie}}getBoundingBox(U){var{element:G}=this;return G?G.getBoundingBox(U):null}elementTransform(){var{document:U,element:G}=this;return wr.fromElement(U,G)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function el(Tt,U,G,J,T,M){return Tt[G*J*4+U*4+M]}function Ll(Tt,U,G,J,T,M,$){Tt[G*J*4+U*4+M]=$}function ga(Tt,U,G){var J=Tt[U];return J*G}function ja(Tt,U,G,J){return U+Math.cos(Tt)*G+Math.sin(Tt)*J}class fo extends tr{constructor(U,G,J){super(U,G,J),this.type="feColorMatrix";var T=Q(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var M=T[0];T=[.213+.787*M,.715-.715*M,.072-.072*M,0,0,.213-.213*M,.715+.285*M,.072-.072*M,0,0,.213-.213*M,.715-.715*M,.072+.928*M,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var $=T[0]*Math.PI/180;T=[ja($,.213,.787,-.213),ja($,.715,-.715,-.715),ja($,.072,-.072,.928),0,0,ja($,.213,-.213,.143),ja($,.715,.285,.14),ja($,.072,-.072,-.283),0,0,ja($,.213,-.213,-.787),ja($,.715,-.715,.715),ja($,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=T,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(U,G,J,T,M){for(var{includeOpacity:$,matrix:ie}=this,we=U.getImageData(0,0,T,M),Pe=0;Pe<M;Pe++)for(var Ze=0;Ze<T;Ze++){var N=el(we.data,Ze,Pe,T,M,0),v=el(we.data,Ze,Pe,T,M,1),S=el(we.data,Ze,Pe,T,M,2),I=el(we.data,Ze,Pe,T,M,3),R=ga(ie,0,N)+ga(ie,1,v)+ga(ie,2,S)+ga(ie,3,I)+ga(ie,4,1),V=ga(ie,5,N)+ga(ie,6,v)+ga(ie,7,S)+ga(ie,8,I)+ga(ie,9,1),ce=ga(ie,10,N)+ga(ie,11,v)+ga(ie,12,S)+ga(ie,13,I)+ga(ie,14,1),q=ga(ie,15,N)+ga(ie,16,v)+ga(ie,17,S)+ga(ie,18,I)+ga(ie,19,1);$&&(R=0,V=0,ce=0,q*=I/255),Ll(we.data,Ze,Pe,T,M,0,R),Ll(we.data,Ze,Pe,T,M,1,V),Ll(we.data,Ze,Pe,T,M,2,ce),Ll(we.data,Ze,Pe,T,M,3,q)}U.clearRect(0,0,T,M),U.putImageData(we,0,0)}}class si extends tr{constructor(){super(...arguments),this.type="mask"}apply(U,G){var{document:J}=this,T=this.getAttribute("x").getPixels("x"),M=this.getAttribute("y").getPixels("y"),$=this.getStyle("width").getPixels("x"),ie=this.getStyle("height").getPixels("y");if(!$&&!ie){var we=new lr;this.children.forEach(I=>{we.addBoundingBox(I.getBoundingBox(U))}),T=Math.floor(we.x1),M=Math.floor(we.y1),$=Math.floor(we.width),ie=Math.floor(we.height)}var Pe=this.removeStyles(G,si.ignoreStyles),Ze=J.createCanvas(T+$,M+ie),N=Ze.getContext("2d");J.screen.setDefaults(N),this.renderChildren(N),new fo(J,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(N,0,0,T+$,M+ie);var v=J.createCanvas(T+$,M+ie),S=v.getContext("2d");J.screen.setDefaults(S),G.render(S),S.globalCompositeOperation="destination-in",S.fillStyle=N.createPattern(Ze,"no-repeat"),S.fillRect(0,0,T+$,M+ie),U.fillStyle=S.createPattern(v,"no-repeat"),U.fillRect(0,0,T+$,M+ie),this.restoreStyles(G,Pe)}render(U){}}si.ignoreStyles=["mask","transform","clip-path"];var Di=()=>{};class fi extends tr{constructor(){super(...arguments),this.type="clipPath"}apply(U){var{document:G}=this,J=Reflect.getPrototypeOf(U),{beginPath:T,closePath:M}=U;J&&(J.beginPath=Di,J.closePath=Di),Reflect.apply(T,U,[]),this.children.forEach($=>{if(!(typeof $.path>"u")){var ie=typeof $.elementTransform<"u"?$.elementTransform():null;ie||(ie=wr.fromElement(G,$)),ie&&ie.apply(U),$.path(U),J&&(J.closePath=M),ie&&ie.unapply(U)}}),Reflect.apply(M,U,[]),U.clip(),J&&(J.beginPath=T,J.closePath=M)}render(U){}}class Wr extends tr{constructor(){super(...arguments),this.type="filter"}apply(U,G){var{document:J,children:T}=this,M=G.getBoundingBox(U);if(M){var $=0,ie=0;T.forEach(ce=>{var q=ce.extraFilterDistance||0;$=Math.max($,q),ie=Math.max(ie,q)});var we=Math.floor(M.width),Pe=Math.floor(M.height),Ze=we+2*$,N=Pe+2*ie;if(!(Ze<1||N<1)){var v=Math.floor(M.x),S=Math.floor(M.y),I=this.removeStyles(G,Wr.ignoreStyles),R=J.createCanvas(Ze,N),V=R.getContext("2d");J.screen.setDefaults(V),V.translate(-v+$,-S+ie),G.render(V),T.forEach(ce=>{typeof ce.apply=="function"&&ce.apply(V,0,0,Ze,N)}),U.drawImage(R,0,0,Ze,N,v-$,S-ie,Ze,N),this.restoreStyles(G,I)}}}render(U){}}Wr.ignoreStyles=["filter","transform","clip-path"];class Ka extends tr{constructor(U,G,J){super(U,G,J),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(U,G,J,T,M){}}class Bi extends tr{constructor(){super(...arguments),this.type="feMorphology"}apply(U,G,J,T,M){}}class Qa extends tr{constructor(){super(...arguments),this.type="feComposite"}apply(U,G,J,T,M){}}class po extends tr{constructor(U,G,J){super(U,G,J),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(U,G,J,T,M){var{document:$,blurRadius:ie}=this,we=$.window?$.window.document.body:null,Pe=U.canvas;Pe.id=$.getUniqueId(),we&&(Pe.style.display="none",we.appendChild(Pe)),(0,w.canvasRGBA)(Pe,G,J,T,M,ie),we&&we.removeChild(Pe)}}class Wn extends tr{constructor(){super(...arguments),this.type="title"}}class Ki extends tr{constructor(){super(...arguments),this.type="desc"}}var Ga={svg:rn,rect:ya,circle:La,ellipse:ps,line:xs,polyline:cs,polygon:fr,path:As,pattern:$r,marker:Ps,defs:wa,linearGradient:an,radialGradient:Rr,stop:Gn,animate:Kn,animateColor:ti,animateTransform:On,font:mc,"font-face":li,"missing-glyph":Fo,glyph:fs,text:Vs,tspan:Ks,tref:Kl,a:Ao,textPath:ra,image:qn,g:Vn,symbol:ho,style:Ci,use:hl,mask:si,clipPath:fi,filter:Wr,feDropShadow:Ka,feMorphology:Bi,feComposite:Qa,feColorMatrix:fo,feGaussianBlur:po,title:Wn,desc:Ki};function Pa(Tt,U){var G=Object.keys(Tt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Tt);U&&(J=J.filter(function(T){return Object.getOwnPropertyDescriptor(Tt,T).enumerable})),G.push.apply(G,J)}return G}function pi(Tt){for(var U=1;U<arguments.length;U++){var G=arguments[U]!=null?arguments[U]:{};U%2?Pa(Object(G),!0).forEach(function(J){(0,p.default)(Tt,J,G[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(G)):Pa(Object(G)).forEach(function(J){Object.defineProperty(Tt,J,Object.getOwnPropertyDescriptor(G,J))})}return Tt}function Uo(Tt,U){var G=document.createElement("canvas");return G.width=Tt,G.height=U,G}function Si(Tt){return xa.apply(this,arguments)}function xa(){return xa=(0,f.default)(function*(Tt){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=document.createElement("img");return U&&(G.crossOrigin="Anonymous"),new Promise((J,T)=>{G.onload=()=>{J(G)},G.onerror=(M,$,ie,we,Pe)=>{T(Pe)},G.src=Tt})}),xa.apply(this,arguments)}class mi{constructor(U){var{rootEmSize:G=12,emSize:J=12,createCanvas:T=mi.createCanvas,createImage:M=mi.createImage,anonymousCrossOrigin:$}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=U,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=U.screen,this.rootEmSize=G,this.emSize=J,this.createCanvas=T,this.createImage=this.bindCreateImage(M,$),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(U,G){return typeof G=="boolean"?(J,T)=>U(J,typeof T=="boolean"?T:G):U}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:U}=this;return U[U.length-1]}set emSize(U){var{emSizeStack:G}=this;G.push(U)}popEmSize(){var{emSizeStack:U}=this;U.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(U=>U.loaded)}isFontsLoaded(){return this.fonts.every(U=>U.loaded)}createDocumentElement(U){var G=this.createElement(U.documentElement);return G.root=!0,G.addStylesFromStyleDefinition(),this.documentElement=G,G}createElement(U){var G=U.nodeName.replace(/^[^:]+:/,""),J=mi.elementTypes[G];return typeof J<"u"?new J(this,U):new Xs(this,U)}createTextNode(U){return new pr(this,U)}setViewBox(U){this.screen.setViewBox(pi({document:this},U))}}mi.createCanvas=Uo,mi.createImage=Si,mi.elementTypes=Ga;function eo(Tt,U){var G=Object.keys(Tt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Tt);U&&(J=J.filter(function(T){return Object.getOwnPropertyDescriptor(Tt,T).enumerable})),G.push.apply(G,J)}return G}function Ei(Tt){for(var U=1;U<arguments.length;U++){var G=arguments[U]!=null?arguments[U]:{};U%2?eo(Object(G),!0).forEach(function(J){(0,p.default)(Tt,J,G[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(G)):eo(Object(G)).forEach(function(J){Object.defineProperty(Tt,J,Object.getOwnPropertyDescriptor(G,J))})}return Tt}class lo{constructor(U,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new hs(J),this.screen=new ut(U,J),this.options=J;var T=new mi(this,J),M=T.createDocumentElement(G);this.document=T,this.documentElement=M}static from(U,G){var J=arguments;return(0,f.default)(function*(){var T=J.length>2&&J[2]!==void 0?J[2]:{},M=new hs(T),$=yield M.parse(G);return new lo(U,$,T)})()}static fromString(U,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=new hs(J),M=T.parseFromString(G);return new lo(U,M,J)}fork(U,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return lo.from(U,G,Ei(Ei({},this.options),J))}forkString(U,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return lo.fromString(U,G,Ei(Ei({},this.options),J))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var U=arguments,G=this;return(0,f.default)(function*(){var J=U.length>0&&U[0]!==void 0?U[0]:{};G.start(Ei({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},J)),yield G.ready(),G.stop()})()}start(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:G,screen:J,options:T}=this;J.start(G,Ei(Ei({enableRedraw:!0},T),U))}stop(){this.screen.stop()}resize(U){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(U,G,J)}}}),"./node_modules/core-js/internals/a-callable.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/try-to-string.js"),m=TypeError;d.exports=function(x){if(f(x))return x;throw new m(p(x)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-constructor.js"),p=o("./node_modules/core-js/internals/try-to-string.js"),m=TypeError;d.exports=function(x){if(f(x))return x;throw new m(p(x)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-possible-prototype.js"),p=String,m=TypeError;d.exports=function(x){if(f(x))return x;throw new m("Can't set "+p(x)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/set-helpers.js").has;d.exports=function(p){return f(p),p}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),p=o("./node_modules/core-js/internals/object-create.js"),m=o("./node_modules/core-js/internals/object-define-property.js").f,x=f("unscopables"),b=Array.prototype;b[x]===void 0&&m(b,x,{configurable:!0,value:p(null)}),d.exports=function(w){b[x][w]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/string-multibyte.js").charAt;d.exports=function(p,m,x){return m+(x?f(p,m).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-is-prototype-of.js"),p=TypeError;d.exports=function(m,x){if(f(x,m))return m;throw new p("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),p=String,m=TypeError;d.exports=function(x){if(f(x))return x;throw new m(p(x)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=f(function(){if(typeof ArrayBuffer=="function"){var p=new ArrayBuffer(8);Object.isExtensible(p)&&Object.defineProperty(p,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/array-iteration.js").forEach,p=o("./node_modules/core-js/internals/array-method-is-strict.js"),m=p("forEach");d.exports=m?[].forEach:function(b){return f(this,b,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-object.js"),x=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),b=o("./node_modules/core-js/internals/is-array-iterator-method.js"),w=o("./node_modules/core-js/internals/is-constructor.js"),y=o("./node_modules/core-js/internals/length-of-array-like.js"),E=o("./node_modules/core-js/internals/create-property.js"),P=o("./node_modules/core-js/internals/get-iterator.js"),z=o("./node_modules/core-js/internals/get-iterator-method.js"),X=Array;d.exports=function(Q){var K=m(Q),de=w(this),ue=arguments.length,ve=ue>1?arguments[1]:void 0,le=ve!==void 0;le&&(ve=f(ve,ue>2?arguments[2]:void 0));var Ce=z(K),oe=0,Ne,Ae,se,pe,re,Ee;if(Ce&&!(this===X&&b(Ce)))for(Ae=de?new this:[],pe=P(K,Ce),re=pe.next;!(se=p(re,pe)).done;oe++)Ee=le?x(pe,ve,[se.value,oe],!0):se.value,E(Ae,oe,Ee);else for(Ne=y(K),Ae=de?new this(Ne):X(Ne);Ne>oe;oe++)Ee=le?ve(K[oe],oe):K[oe],E(Ae,oe,Ee);return Ae.length=oe,Ae}}),"./node_modules/core-js/internals/array-includes.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-indexed-object.js"),p=o("./node_modules/core-js/internals/to-absolute-index.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=function(b){return function(w,y,E){var P=f(w),z=m(P);if(z===0)return!b&&-1;var X=p(E,z),Y;if(b&&y!==y){for(;z>X;)if(Y=P[X++],Y!==Y)return!0}else for(;z>X;X++)if((b||X in P)&&P[X]===y)return b||X||0;return!b&&-1}};d.exports={includes:x(!0),indexOf:x(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/to-object.js"),b=o("./node_modules/core-js/internals/length-of-array-like.js"),w=o("./node_modules/core-js/internals/array-species-create.js"),y=p([].push),E=function(P){var z=P===1,X=P===2,Y=P===3,Q=P===4,K=P===6,de=P===7,ue=P===5||K;return function(ve,le,Ce,oe){for(var Ne=x(ve),Ae=m(Ne),se=b(Ae),pe=f(le,Ce),re=0,Ee=oe||w,De=z?Ee(ve,se):X||de?Ee(ve,0):void 0,Se,he;se>re;re++)if((ue||re in Ae)&&(Se=Ae[re],he=pe(Se,re,Ne),P))if(z)De[re]=he;else if(he)switch(P){case 3:return!0;case 5:return Se;case 6:return re;case 2:y(De,Se)}else switch(P){case 4:return!1;case 7:y(De,Se)}return K?-1:Y||Q?Q:De}};d.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6),filterReject:E(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/environment-v8-version.js"),x=p("species");d.exports=function(b){return m>=51||!f(function(){var w=[],y=w.constructor={};return y[x]=function(){return{foo:1}},w[b](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=function(p,m){var x=[][p];return!!x&&f(function(){x.call(null,m||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/to-object.js"),m=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/length-of-array-like.js"),b=TypeError,w="Reduce of empty array with no initial value",y=function(E){return function(P,z,X,Y){var Q=p(P),K=m(Q),de=x(Q);if(f(z),de===0&&X<2)throw new b(w);var ue=E?de-1:0,ve=E?-1:1;if(X<2)for(;;){if(ue in K){Y=K[ue],ue+=ve;break}if(ue+=ve,E?ue<0:de<=ue)throw new b(w)}for(;E?ue>=0:de>ue;ue+=ve)ue in K&&(Y=z(Y,K[ue],ue,Q));return Y}};d.exports={left:y(!1),right:y(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-array.js"),p=o("./node_modules/core-js/internals/is-constructor.js"),m=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=x("species"),w=Array;d.exports=function(y){var E;return f(y)&&(E=y.constructor,p(E)&&(E===w||f(E.prototype))?E=void 0:m(E)&&(E=E[b],E===null&&(E=void 0))),E===void 0?w:E}}),"./node_modules/core-js/internals/array-species-create.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/array-species-constructor.js");d.exports=function(p,m){return new(f(p))(m===0?0:m)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(m,x,b,w){try{return w?x(f(b)[0],b[1]):x(b)}catch(y){p(m,"throw",y)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),p=f("iterator"),m=!1;try{var x=0,b={next:function(){return{done:!!x++}},return:function(){m=!0}};b[p]=function(){return this},Array.from(b,function(){throw 2})}catch{}d.exports=function(w,y){try{if(!y&&!m)return!1}catch{return!1}var E=!1;try{var P={};P[p]=function(){return{next:function(){return{done:E=!0}}}},w(P)}catch{}return E}}),"./node_modules/core-js/internals/classof-raw.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=f({}.toString),m=f("".slice);d.exports=function(x){return m(p(x),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/classof-raw.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=x("toStringTag"),w=Object,y=m((function(){return arguments})())==="Arguments",E=function(P,z){try{return P[z]}catch{}};d.exports=f?m:function(P){var z,X,Y;return P===void 0?"Undefined":P===null?"Null":typeof(X=E(z=w(P),b))=="string"?X:y?m(z):(Y=m(z))==="Object"&&p(z.callee)?"Arguments":Y}}),"./node_modules/core-js/internals/collection-strong.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-create.js"),p=o("./node_modules/core-js/internals/define-built-in-accessor.js"),m=o("./node_modules/core-js/internals/define-built-ins.js"),x=o("./node_modules/core-js/internals/function-bind-context.js"),b=o("./node_modules/core-js/internals/an-instance.js"),w=o("./node_modules/core-js/internals/is-null-or-undefined.js"),y=o("./node_modules/core-js/internals/iterate.js"),E=o("./node_modules/core-js/internals/iterator-define.js"),P=o("./node_modules/core-js/internals/create-iter-result-object.js"),z=o("./node_modules/core-js/internals/set-species.js"),X=o("./node_modules/core-js/internals/descriptors.js"),Y=o("./node_modules/core-js/internals/internal-metadata.js").fastKey,Q=o("./node_modules/core-js/internals/internal-state.js"),K=Q.set,de=Q.getterFor;d.exports={getConstructor:function(ue,ve,le,Ce){var oe=ue(function(re,Ee){b(re,Ne),K(re,{type:ve,index:f(null),first:null,last:null,size:0}),X||(re.size=0),w(Ee)||y(Ee,re[Ce],{that:re,AS_ENTRIES:le})}),Ne=oe.prototype,Ae=de(ve),se=function(re,Ee,De){var Se=Ae(re),he=pe(re,Ee),be,fe;return he?he.value=De:(Se.last=he={index:fe=Y(Ee,!0),key:Ee,value:De,previous:be=Se.last,next:null,removed:!1},Se.first||(Se.first=he),be&&(be.next=he),X?Se.size++:re.size++,fe!=="F"&&(Se.index[fe]=he)),re},pe=function(re,Ee){var De=Ae(re),Se=Y(Ee),he;if(Se!=="F")return De.index[Se];for(he=De.first;he;he=he.next)if(he.key===Ee)return he};return m(Ne,{clear:function(){for(var Ee=this,De=Ae(Ee),Se=De.first;Se;)Se.removed=!0,Se.previous&&(Se.previous=Se.previous.next=null),Se=Se.next;De.first=De.last=null,De.index=f(null),X?De.size=0:Ee.size=0},delete:function(re){var Ee=this,De=Ae(Ee),Se=pe(Ee,re);if(Se){var he=Se.next,be=Se.previous;delete De.index[Se.index],Se.removed=!0,be&&(be.next=he),he&&(he.previous=be),De.first===Se&&(De.first=he),De.last===Se&&(De.last=be),X?De.size--:Ee.size--}return!!Se},forEach:function(Ee){for(var De=Ae(this),Se=x(Ee,arguments.length>1?arguments[1]:void 0),he;he=he?he.next:De.first;)for(Se(he.value,he.key,this);he&&he.removed;)he=he.previous},has:function(Ee){return!!pe(this,Ee)}}),m(Ne,le?{get:function(Ee){var De=pe(this,Ee);return De&&De.value},set:function(Ee,De){return se(this,Ee===0?0:Ee,De)}}:{add:function(Ee){return se(this,Ee=Ee===0?0:Ee,Ee)}}),X&&p(Ne,"size",{configurable:!0,get:function(){return Ae(this).size}}),oe},setStrong:function(ue,ve,le){var Ce=ve+" Iterator",oe=de(ve),Ne=de(Ce);E(ue,ve,function(Ae,se){K(this,{type:Ce,target:Ae,state:oe(Ae),kind:se,last:null})},function(){for(var Ae=Ne(this),se=Ae.kind,pe=Ae.last;pe&&pe.removed;)pe=pe.previous;return!Ae.target||!(Ae.last=pe=pe?pe.next:Ae.state.first)?(Ae.target=null,P(void 0,!0)):P(se==="keys"?pe.key:se==="values"?pe.value:[pe.key,pe.value],!1)},le?"entries":"values",!le,!0),z(ve)}}}),"./node_modules/core-js/internals/collection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/is-forced.js"),b=o("./node_modules/core-js/internals/define-built-in.js"),w=o("./node_modules/core-js/internals/internal-metadata.js"),y=o("./node_modules/core-js/internals/iterate.js"),E=o("./node_modules/core-js/internals/an-instance.js"),P=o("./node_modules/core-js/internals/is-callable.js"),z=o("./node_modules/core-js/internals/is-null-or-undefined.js"),X=o("./node_modules/core-js/internals/is-object.js"),Y=o("./node_modules/core-js/internals/fails.js"),Q=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),K=o("./node_modules/core-js/internals/set-to-string-tag.js"),de=o("./node_modules/core-js/internals/inherit-if-required.js");d.exports=function(ue,ve,le){var Ce=ue.indexOf("Map")!==-1,oe=ue.indexOf("Weak")!==-1,Ne=Ce?"set":"add",Ae=p[ue],se=Ae&&Ae.prototype,pe=Ae,re={},Ee=function(ge){var Ue=m(se[ge]);b(se,ge,ge==="add"?function(kt){return Ue(this,kt===0?0:kt),this}:ge==="delete"?function(Ve){return oe&&!X(Ve)?!1:Ue(this,Ve===0?0:Ve)}:ge==="get"?function(kt){return oe&&!X(kt)?void 0:Ue(this,kt===0?0:kt)}:ge==="has"?function(kt){return oe&&!X(kt)?!1:Ue(this,kt===0?0:kt)}:function(kt,Bt){return Ue(this,kt===0?0:kt,Bt),this})},De=x(ue,!P(Ae)||!(oe||se.forEach&&!Y(function(){new Ae().entries().next()})));if(De)pe=le.getConstructor(ve,ue,Ce,Ne),w.enable();else if(x(ue,!0)){var Se=new pe,he=Se[Ne](oe?{}:-0,1)!==Se,be=Y(function(){Se.has(1)}),fe=Q(function(ge){new Ae(ge)}),te=!oe&&Y(function(){for(var ge=new Ae,Ue=5;Ue--;)ge[Ne](Ue,Ue);return!ge.has(-0)});fe||(pe=ve(function(ge,Ue){E(ge,se);var Ve=de(new Ae,ge,pe);return z(Ue)||y(Ue,Ve[Ne],{that:Ve,AS_ENTRIES:Ce}),Ve}),pe.prototype=se,se.constructor=pe),(be||te)&&(Ee("delete"),Ee("has"),Ce&&Ee("get")),(te||he)&&Ee(Ne),oe&&se.clear&&delete se.clear}return re[ue]=pe,f({global:!0,constructor:!0,forced:pe!==Ae},re),K(pe,ue),oe||le.setStrong(pe,ue,Ce),pe}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/own-keys.js"),m=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),x=o("./node_modules/core-js/internals/object-define-property.js");d.exports=function(b,w,y){for(var E=p(w),P=x.f,z=m.f,X=0;X<E.length;X++){var Y=E[X];!f(b,Y)&&!(y&&f(y,Y))&&P(b,Y,z(w,Y))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),p=f("match");d.exports=function(m){var x=/./;try{"/./"[m](x)}catch{try{return x[p]=!1,"/./"[m](x)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/require-object-coercible.js"),m=o("./node_modules/core-js/internals/to-string.js"),x=/"/g,b=f("".replace);d.exports=function(w,y,E,P){var z=m(p(w)),X="<"+y;return E!==""&&(X+=" "+E+'="'+b(m(P),x,"&quot;")+'"'),X+">"+z+"</"+y+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(d){d.exports=function(A,o){return{value:A,done:o}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/object-define-property.js"),m=o("./node_modules/core-js/internals/create-property-descriptor.js");d.exports=f?function(x,b,w){return p.f(x,b,m(1,w))}:function(x,b,w){return x[b]=w,x}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(d){d.exports=function(A,o){return{enumerable:!(A&1),configurable:!(A&2),writable:!(A&4),value:o}}}),"./node_modules/core-js/internals/create-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/object-define-property.js"),m=o("./node_modules/core-js/internals/create-property-descriptor.js");d.exports=function(x,b,w){f?p.f(x,b,m(0,w)):x[b]=w}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/make-built-in.js"),p=o("./node_modules/core-js/internals/object-define-property.js");d.exports=function(m,x,b){return b.get&&f(b.get,x,{getter:!0}),b.set&&f(b.set,x,{setter:!0}),p.f(m,x,b)}}),"./node_modules/core-js/internals/define-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/object-define-property.js"),m=o("./node_modules/core-js/internals/make-built-in.js"),x=o("./node_modules/core-js/internals/define-global-property.js");d.exports=function(b,w,y,E){E||(E={});var P=E.enumerable,z=E.name!==void 0?E.name:w;if(f(y)&&m(y,z,E),E.global)P?b[w]=y:x(w,y);else{try{E.unsafe?b[w]&&(P=!0):delete b[w]}catch{}P?b[w]=y:p.f(b,w,{value:y,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return b}}),"./node_modules/core-js/internals/define-built-ins.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/define-built-in.js");d.exports=function(p,m,x){for(var b in m)f(p,b,m[b],x);return p}}),"./node_modules/core-js/internals/define-global-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=Object.defineProperty;d.exports=function(m,x){try{p(f,m,{value:x,configurable:!0,writable:!0})}catch{f[m]=x}return x}}),"./node_modules/core-js/internals/descriptors.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=f.document,x=p(m)&&p(m.createElement);d.exports=function(b){return x?m.createElement(b):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(d){var A=TypeError,o=9007199254740991;d.exports=function(f){if(f>o)throw A("Maximum allowed index exceeded");return f}}),"./node_modules/core-js/internals/dom-iterables.js":(function(d){d.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/document-create-element.js"),p=f("span").classList,m=p&&p.constructor&&p.constructor.prototype;d.exports=m===Object.prototype?void 0:m}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(d){d.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/ipad|iphone|ipod/i.test(f)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)}),"./node_modules/core-js/internals/environment-is-node.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment.js");d.exports=f==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/web0s(?!.*chrome)/i.test(f)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=f.navigator,m=p&&p.userAgent;d.exports=m?String(m):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/environment-user-agent.js"),m=f.process,x=f.Deno,b=m&&m.versions||x&&x.version,w=b&&b.v8,y,E;w&&(y=w.split("."),E=y[0]>0&&y[0]<4?1:+(y[0]+y[1])),!E&&p&&(y=p.match(/Edge\/(\d+)/),(!y||y[1]>=74)&&(y=p.match(/Chrome\/(\d+)/),y&&(E=+y[1]))),d.exports=E}),"./node_modules/core-js/internals/environment.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/environment-user-agent.js"),m=o("./node_modules/core-js/internals/classof-raw.js"),x=function(b){return p.slice(0,b.length)===b};d.exports=(function(){return x("Bun/")?"BUN":x("Cloudflare-Workers")?"CLOUDFLARE":x("Deno/")?"DENO":x("Node.js/")?"NODE":f.Bun&&typeof Bun.version=="string"?"BUN":f.Deno&&typeof Deno.version=="object"?"DENO":m(f.process)==="process"?"NODE":f.window&&f.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,m=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),b=o("./node_modules/core-js/internals/define-global-property.js"),w=o("./node_modules/core-js/internals/copy-constructor-properties.js"),y=o("./node_modules/core-js/internals/is-forced.js");d.exports=function(E,P){var z=E.target,X=E.global,Y=E.stat,Q,K,de,ue,ve,le;if(X?K=f:Y?K=f[z]||b(z,{}):K=f[z]&&f[z].prototype,K)for(de in P){if(ve=P[de],E.dontCallGetSet?(le=p(K,de),ue=le&&le.value):ue=K[de],Q=y(X?de:z+(Y?".":"#")+de,E.forced),!Q&&ue!==void 0){if(typeof ve==typeof ue)continue;w(ve,ue)}(E.sham||ue&&ue.sham)&&m(ve,"sham",!0),x(K,de,ve,E)}}}),"./node_modules/core-js/internals/fails.js":(function(d){d.exports=function(A){try{return!!A()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(d,A,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/define-built-in.js"),m=o("./node_modules/core-js/internals/regexp-exec.js"),x=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),w=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=b("species"),E=RegExp.prototype;d.exports=function(P,z,X,Y){var Q=b(P),K=!x(function(){var le={};return le[Q]=function(){return 7},""[P](le)!==7}),de=K&&!x(function(){var le=!1,Ce=/a/;if(P==="split"){var oe={};oe[y]=function(){return Ce},Ce={constructor:oe,flags:""},Ce[Q]=/./[Q]}return Ce.exec=function(){return le=!0,null},Ce[Q](""),!le});if(!K||!de||X){var ue=/./[Q],ve=z(Q,""[P],function(le,Ce,oe,Ne,Ae){var se=Ce.exec;return se===m||se===E.exec?K&&!Ae?{done:!0,value:f(ue,Ce,oe,Ne)}:{done:!0,value:f(le,oe,Ce,Ne)}:{done:!1}});p(String.prototype,P,ve[0]),p(E,Q,ve[1])}Y&&w(E[Q],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),p=Function.prototype,m=p.apply,x=p.call;d.exports=typeof Reflect=="object"&&Reflect.apply||(f?x.bind(m):function(){return x.apply(m,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),p=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/function-bind-native.js"),x=f(f.bind);d.exports=function(b,w){return p(b),w===void 0?b:m?x(b,w):function(){return b.apply(w,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){var p=(function(){}).bind();return typeof p!="function"||p.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),p=Function.prototype.call;d.exports=f?p.bind(p):function(){return p.apply(p,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=Function.prototype,x=f&&Object.getOwnPropertyDescriptor,b=p(m,"name"),w=b&&(function(){}).name==="something",y=b&&(!f||f&&x(m,"name").configurable);d.exports={EXISTS:b,PROPER:w,CONFIGURABLE:y}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/a-callable.js");d.exports=function(m,x,b){try{return f(p(Object.getOwnPropertyDescriptor(m,x)[b]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=function(m){if(f(m)==="Function")return p(m)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),p=Function.prototype,m=p.call,x=f&&p.bind.bind(m,m);d.exports=f?x:function(b){return function(){return m.apply(b,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=function(x){return p(x)?x:void 0};d.exports=function(x,b){return arguments.length<2?m(f[x]):f[x]&&f[x][b]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(d){d.exports=function(A){return{iterator:A,next:A.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),p=o("./node_modules/core-js/internals/get-method.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/iterators.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),w=b("iterator");d.exports=function(y){if(!m(y))return p(y,w)||p(y,"@@iterator")||x[f(y)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),b=o("./node_modules/core-js/internals/get-iterator-method.js"),w=TypeError;d.exports=function(y,E){var P=arguments.length<2?b(y):E;if(p(P))return m(f(P,y));throw new w(x(y)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/is-null-or-undefined.js");d.exports=function(m,x){var b=m[x];return p(b)?void 0:f(b)}}),"./node_modules/core-js/internals/get-set-record.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),b=o("./node_modules/core-js/internals/get-iterator-direct.js"),w="Invalid size",y=RangeError,E=TypeError,P=Math.max,z=function(X,Y){this.set=X,this.size=P(Y,0),this.has=f(X.has),this.keys=f(X.keys)};z.prototype={getIterator:function(){return b(p(m(this.keys,this.set)))},includes:function(X){return m(this.has,this.set,X)}},d.exports=function(X){p(X);var Y=+X.size;if(Y!==Y)throw new E(w);var Q=x(Y);if(Q<0)throw new y(w);return new z(X,Q)}}),"./node_modules/core-js/internals/get-substitution.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/to-object.js"),m=Math.floor,x=f("".charAt),b=f("".replace),w=f("".slice),y=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;d.exports=function(P,z,X,Y,Q,K){var de=X+P.length,ue=Y.length,ve=E;return Q!==void 0&&(Q=p(Q),ve=y),b(K,ve,function(le,Ce){var oe;switch(x(Ce,0)){case"$":return"$";case"&":return P;case"`":return w(z,0,X);case"'":return w(z,de);case"<":oe=Q[w(Ce,1,-1)];break;default:var Ne=+Ce;if(Ne===0)return le;if(Ne>ue){var Ae=m(Ne/10);return Ae===0?le:Ae<=ue?Y[Ae-1]===void 0?x(Ce,1):Y[Ae-1]+x(Ce,1):le}oe=Y[Ne-1]}return oe===void 0?"":oe})}}),"./node_modules/core-js/internals/global-this.js":(function(d){var A=function(o){return o&&o.Math===Math&&o};d.exports=A(typeof globalThis=="object"&&globalThis)||A(typeof window=="object"&&window)||A(typeof self=="object"&&self)||A(typeof Mp=="object"&&Mp)||A(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/to-object.js"),m=f({}.hasOwnProperty);d.exports=Object.hasOwn||function(b,w){return m(p(b),w)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(d){d.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(d){d.exports=function(A,o){try{arguments.length===1?console.error(A):console.error(A,o)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js");d.exports=f("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/document-create-element.js");d.exports=!f&&!p(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/classof-raw.js"),x=Object,b=f("".split);d.exports=p(function(){return!x("z").propertyIsEnumerable(0)})?function(w){return m(w)==="String"?b(w,""):x(w)}:x}),"./node_modules/core-js/internals/inherit-if-required.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/object-set-prototype-of.js");d.exports=function(x,b,w){var y,E;return m&&f(y=b.constructor)&&y!==w&&p(E=y.prototype)&&E!==w.prototype&&m(x,E),x}}),"./node_modules/core-js/internals/inspect-source.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/shared-store.js"),x=f(Function.toString);p(m.inspectSource)||(m.inspectSource=function(b){return x(b)}),d.exports=m.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/hidden-keys.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),w=o("./node_modules/core-js/internals/object-define-property.js").f,y=o("./node_modules/core-js/internals/object-get-own-property-names.js"),E=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),P=o("./node_modules/core-js/internals/object-is-extensible.js"),z=o("./node_modules/core-js/internals/uid.js"),X=o("./node_modules/core-js/internals/freezing.js"),Y=!1,Q=z("meta"),K=0,de=function(Ne){w(Ne,Q,{value:{objectID:"O"+K++,weakData:{}}})},ue=function(Ne,Ae){if(!x(Ne))return typeof Ne=="symbol"?Ne:(typeof Ne=="string"?"S":"P")+Ne;if(!b(Ne,Q)){if(!P(Ne))return"F";if(!Ae)return"E";de(Ne)}return Ne[Q].objectID},ve=function(Ne,Ae){if(!b(Ne,Q)){if(!P(Ne))return!0;if(!Ae)return!1;de(Ne)}return Ne[Q].weakData},le=function(Ne){return X&&Y&&P(Ne)&&!b(Ne,Q)&&de(Ne),Ne},Ce=function(){oe.enable=function(){},Y=!0;var Ne=y.f,Ae=p([].splice),se={};se[Q]=1,Ne(se).length&&(y.f=function(pe){for(var re=Ne(pe),Ee=0,De=re.length;Ee<De;Ee++)if(re[Ee]===Q){Ae(re,Ee,1);break}return re},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:E.f}))},oe=d.exports={enable:Ce,fastKey:ue,getWeakData:ve,onFreeze:le};m[Q]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/weak-map-basic-detection.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),w=o("./node_modules/core-js/internals/shared-store.js"),y=o("./node_modules/core-js/internals/shared-key.js"),E=o("./node_modules/core-js/internals/hidden-keys.js"),P="Object already initialized",z=p.TypeError,X=p.WeakMap,Y,Q,K,de=function(Ce){return K(Ce)?Q(Ce):Y(Ce,{})},ue=function(Ce){return function(oe){var Ne;if(!m(oe)||(Ne=Q(oe)).type!==Ce)throw new z("Incompatible receiver, "+Ce+" required");return Ne}};if(f||w.state){var ve=w.state||(w.state=new X);ve.get=ve.get,ve.has=ve.has,ve.set=ve.set,Y=function(Ce,oe){if(ve.has(Ce))throw new z(P);return oe.facade=Ce,ve.set(Ce,oe),oe},Q=function(Ce){return ve.get(Ce)||{}},K=function(Ce){return ve.has(Ce)}}else{var le=y("state");E[le]=!0,Y=function(Ce,oe){if(b(Ce,le))throw new z(P);return oe.facade=Ce,x(Ce,le,oe),oe},Q=function(Ce){return b(Ce,le)?Ce[le]:{}},K=function(Ce){return b(Ce,le)}}d.exports={set:Y,get:Q,has:K,enforce:de,getterFor:ue}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),p=o("./node_modules/core-js/internals/iterators.js"),m=f("iterator"),x=Array.prototype;d.exports=function(b){return b!==void 0&&(p.Array===b||x[m]===b)}}),"./node_modules/core-js/internals/is-array.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js");d.exports=Array.isArray||function(m){return f(m)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(d){var A=typeof document=="object"&&document.all;d.exports=typeof A>"u"&&A!==void 0?function(o){return typeof o=="function"||o===A}:function(o){return typeof o=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/classof.js"),b=o("./node_modules/core-js/internals/get-built-in.js"),w=o("./node_modules/core-js/internals/inspect-source.js"),y=function(){},E=b("Reflect","construct"),P=/^\s*(?:class|function)\b/,z=f(P.exec),X=!P.test(y),Y=function(de){if(!m(de))return!1;try{return E(y,[],de),!0}catch{return!1}},Q=function(de){if(!m(de))return!1;switch(x(de)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return X||!!z(P,w(de))}catch{return!0}};Q.sham=!0,d.exports=!E||p(function(){var K;return Y(Y.call)||!Y(Object)||!Y(function(){K=!0})||K})?Q:Y}),"./node_modules/core-js/internals/is-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=/#|\.prototype\./,x=function(P,z){var X=w[b(P)];return X===E?!0:X===y?!1:p(z)?f(z):!!z},b=x.normalize=function(P){return String(P).replace(m,".").toLowerCase()},w=x.data={},y=x.NATIVE="N",E=x.POLYFILL="P";d.exports=x}),"./node_modules/core-js/internals/is-iterable.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=o("./node_modules/core-js/internals/iterators.js"),w=x("iterator"),y=Object;d.exports=function(E){if(m(E))return!1;var P=y(E);return P[w]!==void 0||"@@iterator"in P||p(b,f(P))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(d){d.exports=function(A){return A==null}}),"./node_modules/core-js/internals/is-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js");d.exports=function(p){return typeof p=="object"?p!==null:f(p)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js");d.exports=function(p){return f(p)||p===null}}),"./node_modules/core-js/internals/is-pure.js":(function(d){d.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/internal-state.js").get;d.exports=function(x){if(!f(x))return!1;var b=p(x);return!!b&&b.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/classof-raw.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=m("match");d.exports=function(b){var w;return f(b)&&((w=b[x])!==void 0?!!w:p(b)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/object-is-prototype-of.js"),x=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),b=Object;d.exports=x?function(w){return typeof w=="symbol"}:function(w){var y=f("Symbol");return p(y)&&m(y.prototype,b(w))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js");d.exports=function(p,m,x){for(var b=x?p:p.iterator,w=p.next,y,E;!(y=f(w,b)).done;)if(E=m(y.value),E!==void 0)return E}}),"./node_modules/core-js/internals/iterate.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),b=o("./node_modules/core-js/internals/is-array-iterator-method.js"),w=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/object-is-prototype-of.js"),E=o("./node_modules/core-js/internals/get-iterator.js"),P=o("./node_modules/core-js/internals/get-iterator-method.js"),z=o("./node_modules/core-js/internals/iterator-close.js"),X=TypeError,Y=function(K,de){this.stopped=K,this.result=de},Q=Y.prototype;d.exports=function(K,de,ue){var ve=ue&&ue.that,le=!!(ue&&ue.AS_ENTRIES),Ce=!!(ue&&ue.IS_RECORD),oe=!!(ue&&ue.IS_ITERATOR),Ne=!!(ue&&ue.INTERRUPTED),Ae=f(de,ve),se,pe,re,Ee,De,Se,he,be=function(te){return se&&z(se,"normal"),new Y(!0,te)},fe=function(te){return le?(m(te),Ne?Ae(te[0],te[1],be):Ae(te[0],te[1])):Ne?Ae(te,be):Ae(te)};if(Ce)se=K.iterator;else if(oe)se=K;else{if(pe=P(K),!pe)throw new X(x(K)+" is not iterable");if(b(pe)){for(re=0,Ee=w(K);Ee>re;re++)if(De=fe(K[re]),De&&y(Q,De))return De;return new Y(!1)}se=E(K,pe)}for(Se=Ce?K.next:se.next;!(he=p(Se,se)).done;){try{De=fe(he.value)}catch(te){z(se,"throw",te)}if(typeof De=="object"&&De&&y(Q,De))return De}return new Y(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(p,m,x){for(var b=p.length-1;b>=0;b--)if(p[b]!==void 0)try{x=f(p[b].iterator,m,x)}catch(w){m="throw",x=w}if(m==="throw")throw x;return x}}),"./node_modules/core-js/internals/iterator-close.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/get-method.js");d.exports=function(x,b,w){var y,E;p(x);try{if(y=m(x,"return"),!y){if(b==="throw")throw w;return w}y=f(y,x)}catch(P){E=!0,y=P}if(b==="throw")throw w;if(E)throw y;return p(y),w}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,p=o("./node_modules/core-js/internals/object-create.js"),m=o("./node_modules/core-js/internals/create-property-descriptor.js"),x=o("./node_modules/core-js/internals/set-to-string-tag.js"),b=o("./node_modules/core-js/internals/iterators.js"),w=function(){return this};d.exports=function(y,E,P,z){var X=E+" Iterator";return y.prototype=p(f,{next:m(+!z,P)}),x(y,X,!1,!0),b[X]=w,y}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/object-create.js"),m=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=o("./node_modules/core-js/internals/define-built-ins.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),w=o("./node_modules/core-js/internals/internal-state.js"),y=o("./node_modules/core-js/internals/get-method.js"),E=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,P=o("./node_modules/core-js/internals/create-iter-result-object.js"),z=o("./node_modules/core-js/internals/iterator-close.js"),X=o("./node_modules/core-js/internals/iterator-close-all.js"),Y=b("toStringTag"),Q="IteratorHelper",K="WrapForValidIterator",de="normal",ue="throw",ve=w.set,le=function(Ne){var Ae=w.getterFor(Ne?K:Q);return x(p(E),{next:function(){var pe=Ae(this);if(Ne)return pe.nextHandler();if(pe.done)return P(void 0,!0);try{var re=pe.nextHandler();return pe.returnHandlerResult?re:P(re,pe.done)}catch(Ee){throw pe.done=!0,Ee}},return:function(){var se=Ae(this),pe=se.iterator;if(se.done=!0,Ne){var re=y(pe,"return");return re?f(re,pe):P(void 0,!0)}if(se.inner)try{z(se.inner.iterator,de)}catch(Ee){return z(pe,ue,Ee)}if(se.openIters)try{X(se.openIters,de)}catch(Ee){return z(pe,ue,Ee)}return pe&&z(pe,de),P(void 0,!0)}})},Ce=le(!0),oe=le(!1);m(oe,Y,"Iterator Helper"),d.exports=function(Ne,Ae,se){var pe=function(Ee,De){De?(De.iterator=Ee.iterator,De.next=Ee.next):De=Ee,De.type=Ae?K:Q,De.returnHandlerResult=!!se,De.nextHandler=Ne,De.counter=0,De.done=!1,ve(this,De)};return pe.prototype=Ae?Ce:oe,pe}}),"./node_modules/core-js/internals/iterator-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/is-pure.js"),x=o("./node_modules/core-js/internals/function-name.js"),b=o("./node_modules/core-js/internals/is-callable.js"),w=o("./node_modules/core-js/internals/iterator-create-constructor.js"),y=o("./node_modules/core-js/internals/object-get-prototype-of.js"),E=o("./node_modules/core-js/internals/object-set-prototype-of.js"),P=o("./node_modules/core-js/internals/set-to-string-tag.js"),z=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),X=o("./node_modules/core-js/internals/define-built-in.js"),Y=o("./node_modules/core-js/internals/well-known-symbol.js"),Q=o("./node_modules/core-js/internals/iterators.js"),K=o("./node_modules/core-js/internals/iterators-core.js"),de=x.PROPER,ue=x.CONFIGURABLE,ve=K.IteratorPrototype,le=K.BUGGY_SAFARI_ITERATORS,Ce=Y("iterator"),oe="keys",Ne="values",Ae="entries",se=function(){return this};d.exports=function(pe,re,Ee,De,Se,he,be){w(Ee,re,De);var fe=function(ls){if(ls===Se&&kt)return kt;if(!le&&ls&&ls in Ue)return Ue[ls];switch(ls){case oe:return function(){return new Ee(this,ls)};case Ne:return function(){return new Ee(this,ls)};case Ae:return function(){return new Ee(this,ls)}}return function(){return new Ee(this)}},te=re+" Iterator",ge=!1,Ue=pe.prototype,Ve=Ue[Ce]||Ue["@@iterator"]||Se&&Ue[Se],kt=!le&&Ve||fe(Se),Bt=re==="Array"&&Ue.entries||Ve,We,Ut,Vt;if(Bt&&(We=y(Bt.call(new pe)),We!==Object.prototype&&We.next&&(!m&&y(We)!==ve&&(E?E(We,ve):b(We[Ce])||X(We,Ce,se)),P(We,te,!0,!0),m&&(Q[te]=se))),de&&Se===Ne&&Ve&&Ve.name!==Ne&&(!m&&ue?z(Ue,"name",Ne):(ge=!0,kt=function(){return p(Ve,this)})),Se)if(Ut={values:fe(Ne),keys:he?kt:fe(oe),entries:fe(Ae)},be)for(Vt in Ut)(le||ge||!(Vt in Ue))&&X(Ue,Vt,Ut[Vt]);else f({target:re,proto:!0,forced:le||ge},Ut);return(!m||be)&&Ue[Ce]!==kt&&X(Ue,Ce,kt,{name:Se}),Q[re]=kt,Ut}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(d){d.exports=function(A,o){var f=typeof Iterator=="function"&&Iterator.prototype[A];if(f)try{f.call({next:null},o).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=function(p,m){var x=f.Iterator,b=x&&x.prototype,w=b&&b[p],y=!1;if(w)try{w.call({next:function(){return{done:!0}},return:function(){y=!0}},-1)}catch(E){E instanceof m||(y=!1)}if(!y)return w}}),"./node_modules/core-js/internals/iterators-core.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/object-create.js"),b=o("./node_modules/core-js/internals/object-get-prototype-of.js"),w=o("./node_modules/core-js/internals/define-built-in.js"),y=o("./node_modules/core-js/internals/well-known-symbol.js"),E=o("./node_modules/core-js/internals/is-pure.js"),P=y("iterator"),z=!1,X,Y,Q;[].keys&&(Q=[].keys(),"next"in Q?(Y=b(b(Q)),Y!==Object.prototype&&(X=Y)):z=!0);var K=!m(X)||f(function(){var de={};return X[P].call(de)!==de});K?X={}:E&&(X=x(X)),p(X[P])||w(X,P,function(){return this}),d.exports={IteratorPrototype:X,BUGGY_SAFARI_ITERATORS:z}}),"./node_modules/core-js/internals/iterators.js":(function(d){d.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-length.js");d.exports=function(p){return f(p.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/has-own-property.js"),b=o("./node_modules/core-js/internals/descriptors.js"),w=o("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,y=o("./node_modules/core-js/internals/inspect-source.js"),E=o("./node_modules/core-js/internals/internal-state.js"),P=E.enforce,z=E.get,X=String,Y=Object.defineProperty,Q=f("".slice),K=f("".replace),de=f([].join),ue=b&&!p(function(){return Y(function(){},"length",{value:8}).length!==8}),ve=String(String).split("String"),le=d.exports=function(Ce,oe,Ne){Q(X(oe),0,7)==="Symbol("&&(oe="["+K(X(oe),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),Ne&&Ne.getter&&(oe="get "+oe),Ne&&Ne.setter&&(oe="set "+oe),(!x(Ce,"name")||w&&Ce.name!==oe)&&(b?Y(Ce,"name",{value:oe,configurable:!0}):Ce.name=oe),ue&&Ne&&x(Ne,"arity")&&Ce.length!==Ne.arity&&Y(Ce,"length",{value:Ne.arity});try{Ne&&x(Ne,"constructor")&&Ne.constructor?b&&Y(Ce,"prototype",{writable:!1}):Ce.prototype&&(Ce.prototype=void 0)}catch{}var Ae=P(Ce);return x(Ae,"source")||(Ae.source=de(ve,typeof oe=="string"?oe:"")),Ce};Function.prototype.toString=le(function(){return m(this)&&z(this).source||y(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(d){var A=Math.ceil,o=Math.floor;d.exports=Math.trunc||function(p){var m=+p;return(m>0?o:A)(m)}}),"./node_modules/core-js/internals/microtask.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/safe-get-built-in.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),x=o("./node_modules/core-js/internals/task.js").set,b=o("./node_modules/core-js/internals/queue.js"),w=o("./node_modules/core-js/internals/environment-is-ios.js"),y=o("./node_modules/core-js/internals/environment-is-ios-pebble.js"),E=o("./node_modules/core-js/internals/environment-is-webos-webkit.js"),P=o("./node_modules/core-js/internals/environment-is-node.js"),z=f.MutationObserver||f.WebKitMutationObserver,X=f.document,Y=f.process,Q=f.Promise,K=p("queueMicrotask"),de,ue,ve,le,Ce;if(!K){var oe=new b,Ne=function(){var Ae,se;for(P&&(Ae=Y.domain)&&Ae.exit();se=oe.get();)try{se()}catch(pe){throw oe.head&&de(),pe}Ae&&Ae.enter()};!w&&!P&&!E&&z&&X?(ue=!0,ve=X.createTextNode(""),new z(Ne).observe(ve,{characterData:!0}),de=function(){ve.data=ue=!ue}):!y&&Q&&Q.resolve?(le=Q.resolve(void 0),le.constructor=Q,Ce=m(le.then,le),de=function(){Ce(Ne)}):P?de=function(){Y.nextTick(Ne)}:(x=m(x,f),de=function(){x(Ne)}),K=function(Ae){oe.head||de(),oe.add(Ae)}}d.exports=K}),"./node_modules/core-js/internals/native-raw-json.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){var p="9007199254740993",m=JSON.rawJSON(p);return!JSON.isRawJSON(m)||JSON.stringify(m)!==p})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),p=TypeError,m=function(x){var b,w;this.promise=new x(function(y,E){if(b!==void 0||w!==void 0)throw new p("Bad Promise constructor");b=y,w=E}),this.resolve=f(b),this.reject=f(w)};d.exports.f=function(x){return new m(x)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-regexp.js"),p=TypeError;d.exports=function(m){if(f(m))throw new p("The method doesn't accept regular expressions");return m}}),"./node_modules/core-js/internals/object-assign.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/object-keys.js"),w=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),y=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),E=o("./node_modules/core-js/internals/to-object.js"),P=o("./node_modules/core-js/internals/indexed-object.js"),z=Object.assign,X=Object.defineProperty,Y=p([].concat);d.exports=!z||x(function(){if(f&&z({b:1},z(X({},"a",{enumerable:!0,get:function(){X(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var Q={},K={},de=Symbol("assign detection"),ue="abcdefghijklmnopqrst";return Q[de]=7,ue.split("").forEach(function(ve){K[ve]=ve}),z({},Q)[de]!==7||b(z({},K)).join("")!==ue})?function(K,de){for(var ue=E(K),ve=arguments.length,le=1,Ce=w.f,oe=y.f;ve>le;)for(var Ne=P(arguments[le++]),Ae=Ce?Y(b(Ne),Ce(Ne)):b(Ne),se=Ae.length,pe=0,re;se>pe;)re=Ae[pe++],(!f||m(oe,Ne,re))&&(ue[re]=Ne[re]);return ue}:z}),"./node_modules/core-js/internals/object-create.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/object-define-properties.js"),m=o("./node_modules/core-js/internals/enum-bug-keys.js"),x=o("./node_modules/core-js/internals/hidden-keys.js"),b=o("./node_modules/core-js/internals/html.js"),w=o("./node_modules/core-js/internals/document-create-element.js"),y=o("./node_modules/core-js/internals/shared-key.js"),E=">",P="<",z="prototype",X="script",Y=y("IE_PROTO"),Q=function(){},K=function(Ce){return P+X+E+Ce+P+"/"+X+E},de=function(Ce){Ce.write(K("")),Ce.close();var oe=Ce.parentWindow.Object;return Ce=null,oe},ue=function(){var Ce=w("iframe"),oe="java"+X+":",Ne;return Ce.style.display="none",b.appendChild(Ce),Ce.src=String(oe),Ne=Ce.contentWindow.document,Ne.open(),Ne.write(K("document.F=Object")),Ne.close(),Ne.F},ve,le=function(){try{ve=new ActiveXObject("htmlfile")}catch{}le=typeof document<"u"?document.domain&&ve?de(ve):ue():de(ve);for(var Ce=m.length;Ce--;)delete le[z][m[Ce]];return le()};x[Y]=!0,d.exports=Object.create||function(oe,Ne){var Ae;return oe!==null?(Q[z]=f(oe),Ae=new Q,Q[z]=null,Ae[Y]=oe):Ae=le(),Ne===void 0?Ae:p.f(Ae,Ne)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),m=o("./node_modules/core-js/internals/object-define-property.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/to-indexed-object.js"),w=o("./node_modules/core-js/internals/object-keys.js");A.f=f&&!p?Object.defineProperties:function(E,P){x(E);for(var z=b(P),X=w(P),Y=X.length,Q=0,K;Y>Q;)m.f(E,K=X[Q++],z[K]);return E}}),"./node_modules/core-js/internals/object-define-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/ie8-dom-define.js"),m=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/to-property-key.js"),w=TypeError,y=Object.defineProperty,E=Object.getOwnPropertyDescriptor,P="enumerable",z="configurable",X="writable";A.f=f?m?function(Q,K,de){if(x(Q),K=b(K),x(de),typeof Q=="function"&&K==="prototype"&&"value"in de&&X in de&&!de[X]){var ue=E(Q,K);ue&&ue[X]&&(Q[K]=de.value,de={configurable:z in de?de[z]:ue[z],enumerable:P in de?de[P]:ue[P],writable:!1})}return y(Q,K,de)}:y:function(Q,K,de){if(x(Q),K=b(K),x(de),p)try{return y(Q,K,de)}catch{}if("get"in de||"set"in de)throw new w("Accessors not supported");return"value"in de&&(Q[K]=de.value),Q}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),x=o("./node_modules/core-js/internals/create-property-descriptor.js"),b=o("./node_modules/core-js/internals/to-indexed-object.js"),w=o("./node_modules/core-js/internals/to-property-key.js"),y=o("./node_modules/core-js/internals/has-own-property.js"),E=o("./node_modules/core-js/internals/ie8-dom-define.js"),P=Object.getOwnPropertyDescriptor;A.f=f?P:function(X,Y){if(X=b(X),Y=w(Y),E)try{return P(X,Y)}catch{}if(y(X,Y))return x(!p(m.f,X,Y),X[Y])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js"),p=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,x=o("./node_modules/core-js/internals/array-slice.js"),b=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],w=function(y){try{return m(y)}catch{return x(b)}};d.exports.f=function(E){return b&&f(E)==="Window"?w(E):m(p(E))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-keys-internal.js"),p=o("./node_modules/core-js/internals/enum-bug-keys.js"),m=p.concat("length","prototype");A.f=Object.getOwnPropertyNames||function(b){return f(b,m)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(d,A){A.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/to-object.js"),x=o("./node_modules/core-js/internals/shared-key.js"),b=o("./node_modules/core-js/internals/correct-prototype-getter.js"),w=x("IE_PROTO"),y=Object,E=y.prototype;d.exports=b?y.getPrototypeOf:function(P){var z=m(P);if(f(z,w))return z[w];var X=z.constructor;return p(X)&&z instanceof X?X.prototype:z instanceof y?E:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/classof-raw.js"),x=o("./node_modules/core-js/internals/array-buffer-non-extensible.js"),b=Object.isExtensible,w=f(function(){});d.exports=w||x?function(E){return!p(E)||x&&m(E)==="ArrayBuffer"?!1:b?b(E):!0}:b}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/to-indexed-object.js"),x=o("./node_modules/core-js/internals/array-includes.js").indexOf,b=o("./node_modules/core-js/internals/hidden-keys.js"),w=f([].push);d.exports=function(y,E){var P=m(y),z=0,X=[],Y;for(Y in P)!p(b,Y)&&p(P,Y)&&w(X,Y);for(;E.length>z;)p(P,Y=E[z++])&&(~x(X,Y)||w(X,Y));return X}}),"./node_modules/core-js/internals/object-keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-keys-internal.js"),p=o("./node_modules/core-js/internals/enum-bug-keys.js");d.exports=Object.keys||function(x){return f(x,p)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(d,A){var o={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,p=f&&!o.call({1:2},1);A.f=p?function(x){var b=f(this,x);return!!b&&b.enumerable}:o}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js"),x=o("./node_modules/core-js/internals/a-possible-prototype.js");d.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var b=!1,w={},y;try{y=f(Object.prototype,"__proto__","set"),y(w,[]),b=w instanceof Array}catch{}return function(P,z){return m(P),x(z),p(P)&&(b?y(P,z):P.__proto__=z),P}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),p=o("./node_modules/core-js/internals/classof.js");d.exports=f?{}.toString:function(){return"[object "+p(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/is-object.js"),x=TypeError;d.exports=function(b,w){var y,E;if(w==="string"&&p(y=b.toString)&&!m(E=f(y,b))||p(y=b.valueOf)&&!m(E=f(y,b))||w!=="string"&&p(y=b.toString)&&!m(E=f(y,b)))return E;throw new x("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/object-get-own-property-names.js"),x=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),b=o("./node_modules/core-js/internals/an-object.js"),w=p([].concat);d.exports=f("Reflect","ownKeys")||function(E){var P=m.f(b(E)),z=x.f;return z?w(P,z(E)):P}}),"./node_modules/core-js/internals/parse-json-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=SyntaxError,x=parseInt,b=String.fromCharCode,w=f("".charAt),y=f("".slice),E=f(/./.exec),P={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},z=/^[\da-f]{4}$/i,X=/^[\u0000-\u001F]$/;d.exports=function(Y,Q){for(var K=!0,de="";Q<Y.length;){var ue=w(Y,Q);if(ue==="\\"){var ve=y(Y,Q,Q+2);if(p(P,ve))de+=P[ve],Q+=2;else if(ve==="\\u"){Q+=2;var le=y(Y,Q,Q+4);if(!E(z,le))throw new m("Bad Unicode escape at: "+Q);de+=b(x(le,16)),Q+=4}else throw new m('Unknown escape sequence: "'+ve+'"')}else if(ue==='"'){K=!1,Q++;break}else{if(E(X,ue))throw new m("Bad control character in string literal at: "+Q);de+=ue,Q++}}if(K)throw new m("Unterminated string at: "+Q);return{value:de,end:Q}}}),"./node_modules/core-js/internals/path.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=f}),"./node_modules/core-js/internals/perform.js":(function(d){d.exports=function(A){try{return{error:!1,value:A()}}catch(o){return{error:!0,value:o}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/promise-native-constructor.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/is-forced.js"),b=o("./node_modules/core-js/internals/inspect-source.js"),w=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/environment.js"),E=o("./node_modules/core-js/internals/is-pure.js"),P=o("./node_modules/core-js/internals/environment-v8-version.js"),z=p&&p.prototype,X=w("species"),Y=!1,Q=m(f.PromiseRejectionEvent),K=x("Promise",function(){var de=b(p),ue=de!==String(p);if(!ue&&P===66||E&&!(z.catch&&z.finally))return!0;if(!P||P<51||!/native code/.test(de)){var ve=new p(function(oe){oe(1)}),le=function(oe){oe(function(){},function(){})},Ce=ve.constructor={};if(Ce[X]=le,Y=ve.then(function(){})instanceof le,!Y)return!0}return!ue&&(y==="BROWSER"||y==="DENO")&&!Q});d.exports={CONSTRUCTOR:K,REJECTION_EVENT:Q,SUBCLASSING:Y}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=f.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/new-promise-capability.js");d.exports=function(x,b){if(f(x),p(b)&&b.constructor===x)return b;var w=m.f(x),y=w.resolve;return y(b),w.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/promise-native-constructor.js"),p=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),m=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;d.exports=m||!p(function(x){f.all(x).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(d){var A=function(){this.head=null,this.tail=null};A.prototype={add:function(o){var f={item:o,next:null},p=this.tail;p?p.next=f:this.head=f,this.tail=f},get:function(){var o=this.head;if(o){var f=this.head=o.next;return f===null&&(this.tail=null),o.item}}},d.exports=A}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/classof-raw.js"),b=o("./node_modules/core-js/internals/regexp-exec.js"),w=TypeError;d.exports=function(y,E){var P=y.exec;if(m(P)){var z=f(P,y,E);return z!==null&&p(z),z}if(x(y)==="RegExp")return f(b,y,E);throw new w("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/regexp-flags.js"),b=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),w=o("./node_modules/core-js/internals/shared.js"),y=o("./node_modules/core-js/internals/object-create.js"),E=o("./node_modules/core-js/internals/internal-state.js").get,P=o("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),z=o("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),X=w("native-string-replace",String.prototype.replace),Y=RegExp.prototype.exec,Q=Y,K=p("".charAt),de=p("".indexOf),ue=p("".replace),ve=p("".slice),le=(function(){var Ae=/a/,se=/b*/g;return f(Y,Ae,"a"),f(Y,se,"a"),Ae.lastIndex!==0||se.lastIndex!==0})(),Ce=b.BROKEN_CARET,oe=/()??/.exec("")[1]!==void 0,Ne=le||oe||Ce||P||z;Ne&&(Q=function(se){var pe=this,re=E(pe),Ee=m(se),De=re.raw,Se,he,be,fe,te,ge,Ue;if(De)return De.lastIndex=pe.lastIndex,Se=f(Q,De,Ee),pe.lastIndex=De.lastIndex,Se;var Ve=re.groups,kt=Ce&&pe.sticky,Bt=f(x,pe),We=pe.source,Ut=0,Vt=Ee;if(kt&&(Bt=ue(Bt,"y",""),de(Bt,"g")===-1&&(Bt+="g"),Vt=ve(Ee,pe.lastIndex),pe.lastIndex>0&&(!pe.multiline||pe.multiline&&K(Ee,pe.lastIndex-1)!==`
`)&&(We="(?: "+We+")",Vt=" "+Vt,Ut++),he=new RegExp("^(?:"+We+")",Bt)),oe&&(he=new RegExp("^"+We+"$(?!\\s)",Bt)),le&&(be=pe.lastIndex),fe=f(Y,kt?he:pe,Vt),kt?fe?(fe.input=ve(fe.input,Ut),fe[0]=ve(fe[0],Ut),fe.index=pe.lastIndex,pe.lastIndex+=fe[0].length):pe.lastIndex=0:le&&fe&&(pe.lastIndex=pe.global?fe.index+fe[0].length:be),oe&&fe&&fe.length>1&&f(X,fe[0],he,function(){for(te=1;te<arguments.length-2;te++)arguments[te]===void 0&&(fe[te]=void 0)}),fe&&Ve)for(fe.groups=ge=y(null),te=0;te<Ve.length;te++)Ue=Ve[te],ge[Ue[0]]=fe[Ue[1]];return fe}),d.exports=Q}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/fails.js"),m=f.RegExp,x=!p(function(){var b=!0;try{m(".","d")}catch{b=!1}var w={},y="",E=b?"dgimsy":"gimsy",P=function(Q,K){Object.defineProperty(w,Q,{get:function(){return y+=K,!0}})},z={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};b&&(z.hasIndices="d");for(var X in z)P(X,z[X]);var Y=Object.getOwnPropertyDescriptor(m.prototype,"flags").get.call(w);return Y!==E||y!==E});d.exports={correct:x}}),"./node_modules/core-js/internals/regexp-flags.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js");d.exports=function(){var p=f(this),m="";return p.hasIndices&&(m+="d"),p.global&&(m+="g"),p.ignoreCase&&(m+="i"),p.multiline&&(m+="m"),p.dotAll&&(m+="s"),p.unicode&&(m+="u"),p.unicodeSets&&(m+="v"),p.sticky&&(m+="y"),m}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/object-is-prototype-of.js"),x=o("./node_modules/core-js/internals/regexp-flags-detection.js"),b=o("./node_modules/core-js/internals/regexp-flags.js"),w=RegExp.prototype;d.exports=x.correct?function(y){return y.flags}:function(y){return!x.correct&&m(w,y)&&!p(y,"flags")?f(b,y):y.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=p.RegExp,x=f(function(){var y=m("a","y");return y.lastIndex=2,y.exec("abcd")!==null}),b=x||f(function(){return!m("a","y").sticky}),w=x||f(function(){var y=m("^r","gy");return y.lastIndex=2,y.exec("str")!==null});d.exports={BROKEN_CARET:w,MISSED_STICKY:b,UNSUPPORTED_Y:x}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=p.RegExp;d.exports=f(function(){var x=m(".","s");return!(x.dotAll&&x.test(`
`)&&x.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=p.RegExp;d.exports=f(function(){var x=m("(?<a>b)","g");return x.exec("b").groups.a!=="b"||"b".replace(x,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-null-or-undefined.js"),p=TypeError;d.exports=function(m){if(f(m))throw new p("Can't call method on "+m);return m}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/descriptors.js"),m=Object.getOwnPropertyDescriptor;d.exports=function(x){if(!p)return f[x];var b=m(f,x);return b&&b.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/function-apply.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/environment.js"),b=o("./node_modules/core-js/internals/environment-user-agent.js"),w=o("./node_modules/core-js/internals/array-slice.js"),y=o("./node_modules/core-js/internals/validate-arguments-length.js"),E=f.Function,P=/MSIE .\./.test(b)||x==="BUN"&&(function(){var z=f.Bun.version.split(".");return z.length<3||z[0]==="0"&&(z[1]<3||z[1]==="3"&&z[2]==="0")})();d.exports=function(z,X){var Y=X?2:1;return P?function(Q,K){var de=y(arguments.length,1)>Y,ue=m(Q)?Q:E(Q),ve=de?w(arguments,Y):[],le=de?function(){p(ue,this,ve)}:ue;return X?z(le,K):z(le)}:z}}),"./node_modules/core-js/internals/set-clone.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/set-helpers.js"),p=o("./node_modules/core-js/internals/set-iterate.js"),m=f.Set,x=f.add;d.exports=function(b){var w=new m;return p(b,function(y){x(w,y)}),w}}),"./node_modules/core-js/internals/set-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js"),m=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/set-size.js"),b=o("./node_modules/core-js/internals/get-set-record.js"),w=o("./node_modules/core-js/internals/set-iterate.js"),y=o("./node_modules/core-js/internals/iterate-simple.js"),E=p.has,P=p.remove;d.exports=function(X){var Y=f(this),Q=b(X),K=m(Y);return x(Y)<=Q.size?w(Y,function(de){Q.includes(de)&&P(K,de)}):y(Q.getIterator(),function(de){E(K,de)&&P(K,de)}),K}}),"./node_modules/core-js/internals/set-helpers.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=Set.prototype;d.exports={Set,add:f(p.add),has:f(p.has),remove:f(p.delete),proto:p}}),"./node_modules/core-js/internals/set-intersection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js"),m=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),w=o("./node_modules/core-js/internals/iterate-simple.js"),y=p.Set,E=p.add,P=p.has;d.exports=function(X){var Y=f(this),Q=x(X),K=new y;return m(Y)>Q.size?w(Q.getIterator(),function(de){P(Y,de)&&E(K,de)}):b(Y,function(de){Q.includes(de)&&E(K,de)}),K}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js").has,m=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),w=o("./node_modules/core-js/internals/iterate-simple.js"),y=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(P){var z=f(this),X=x(P);if(m(z)<=X.size)return b(z,function(Q){if(X.includes(Q))return!1},!0)!==!1;var Y=X.getIterator();return w(Y,function(Q){if(p(z,Q))return y(Y,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-size.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),x=o("./node_modules/core-js/internals/get-set-record.js");d.exports=function(w){var y=f(this),E=x(w);return p(y)>E.size?!1:m(y,function(P){if(!E.includes(P))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js").has,m=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/iterate-simple.js"),w=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(E){var P=f(this),z=x(E);if(m(P)<z.size)return!1;var X=z.getIterator();return b(X,function(Y){if(!p(P,Y))return w(X,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/iterate-simple.js"),m=o("./node_modules/core-js/internals/set-helpers.js"),x=m.Set,b=m.proto,w=f(b.forEach),y=f(b.keys),E=y(new x).next;d.exports=function(P,z,X){return X?p({iterator:y(P),next:E},z):w(P,z)}}),"./node_modules/core-js/internals/set-size.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),p=o("./node_modules/core-js/internals/set-helpers.js");d.exports=f(p.proto,"size","get")||function(m){return m.size}}),"./node_modules/core-js/internals/set-species.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/define-built-in-accessor.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/descriptors.js"),b=m("species");d.exports=function(w){var y=f(w);x&&y&&!y[b]&&p(y,b,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js"),m=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/iterate-simple.js"),w=p.add,y=p.has,E=p.remove;d.exports=function(z){var X=f(this),Y=x(z).getIterator(),Q=m(X);return b(Y,function(K){y(X,K)?E(Q,K):w(Q,K)}),Q}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-define-property.js").f,p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=m("toStringTag");d.exports=function(b,w,y){b&&!y&&(b=b.prototype),b&&!p(b,x)&&f(b,x,{configurable:!0,value:w})}}),"./node_modules/core-js/internals/set-union.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js").add,m=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/iterate-simple.js");d.exports=function(y){var E=f(this),P=x(y).getIterator(),z=m(E);return b(P,function(X){p(z,X)}),z}}),"./node_modules/core-js/internals/shared-key.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/shared.js"),p=o("./node_modules/core-js/internals/uid.js"),m=f("keys");d.exports=function(x){return m[x]||(m[x]=p(x))}}),"./node_modules/core-js/internals/shared-store.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-pure.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/define-global-property.js"),x="__core-js_shared__",b=d.exports=p[x]||m(x,{});(b.versions||(b.versions=[])).push({version:"3.47.0",mode:f?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/shared-store.js");d.exports=function(p,m){return f[p]||(f[p]=m||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/a-constructor.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=x("species");d.exports=function(w,y){var E=f(w).constructor,P;return E===void 0||m(P=f(E)[b])?y:p(P)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=function(p){return f(function(){var m=""[p]('"');return m!==m.toLowerCase()||m.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),m=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),b=f("".charAt),w=f("".charCodeAt),y=f("".slice),E=function(P){return function(z,X){var Y=m(x(z)),Q=p(X),K=Y.length,de,ue;return Q<0||Q>=K?P?"":void 0:(de=w(Y,Q),de<55296||de>56319||Q+1===K||(ue=w(Y,Q+1))<56320||ue>57343?P?b(Y,Q):de:P?y(Y,Q,Q+2):(de-55296<<10)+(ue-56320)+65536)}};d.exports={codeAt:E(!1),charAt:E(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-name.js").PROPER,p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/whitespaces.js"),x="";d.exports=function(b){return p(function(){return!!m[b]()||x[b]()!==x||f&&m[b].name!==b})}}),"./node_modules/core-js/internals/string-trim.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/require-object-coercible.js"),m=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/whitespaces.js"),b=f("".replace),w=RegExp("^["+x+"]+"),y=RegExp("(^|[^"+x+"])["+x+"]+$"),E=function(P){return function(z){var X=m(p(z));return P&1&&(X=b(X,w,"")),P&2&&(X=b(X,y,"$1")),X}};d.exports={start:E(1),end:E(2),trim:E(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-v8-version.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/global-this.js"),x=m.String;d.exports=!!Object.getOwnPropertySymbols&&!p(function(){var b=Symbol("symbol detection");return!x(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&f&&f<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/define-built-in.js");d.exports=function(){var b=p("Symbol"),w=b&&b.prototype,y=w&&w.valueOf,E=m("toPrimitive");w&&!w[E]&&x(w,E,function(P){return f(y,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/symbol-constructor-detection.js");d.exports=f&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/function-apply.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),x=o("./node_modules/core-js/internals/is-callable.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),w=o("./node_modules/core-js/internals/fails.js"),y=o("./node_modules/core-js/internals/html.js"),E=o("./node_modules/core-js/internals/array-slice.js"),P=o("./node_modules/core-js/internals/document-create-element.js"),z=o("./node_modules/core-js/internals/validate-arguments-length.js"),X=o("./node_modules/core-js/internals/environment-is-ios.js"),Y=o("./node_modules/core-js/internals/environment-is-node.js"),Q=f.setImmediate,K=f.clearImmediate,de=f.process,ue=f.Dispatch,ve=f.Function,le=f.MessageChannel,Ce=f.String,oe=0,Ne={},Ae="onreadystatechange",se,pe,re,Ee;w(function(){se=f.location});var De=function(fe){if(b(Ne,fe)){var te=Ne[fe];delete Ne[fe],te()}},Se=function(fe){return function(){De(fe)}},he=function(fe){De(fe.data)},be=function(fe){f.postMessage(Ce(fe),se.protocol+"//"+se.host)};(!Q||!K)&&(Q=function(te){z(arguments.length,1);var ge=x(te)?te:ve(te),Ue=E(arguments,1);return Ne[++oe]=function(){p(ge,void 0,Ue)},pe(oe),oe},K=function(te){delete Ne[te]},Y?pe=function(fe){de.nextTick(Se(fe))}:ue&&ue.now?pe=function(fe){ue.now(Se(fe))}:le&&!X?(re=new le,Ee=re.port2,re.port1.onmessage=he,pe=m(Ee.postMessage,Ee)):f.addEventListener&&x(f.postMessage)&&!f.importScripts&&se&&se.protocol!=="file:"&&!w(be)?(pe=be,f.addEventListener("message",he,!1)):Ae in P("script")?pe=function(fe){y.appendChild(P("script"))[Ae]=function(){y.removeChild(this),De(fe)}}:pe=function(fe){setTimeout(Se(fe),0)}),d.exports={set:Q,clear:K}}),"./node_modules/core-js/internals/this-number-value.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),p=Math.max,m=Math.min;d.exports=function(x,b){var w=f(x);return w<0?p(w+b,0):m(w,b)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/indexed-object.js"),p=o("./node_modules/core-js/internals/require-object-coercible.js");d.exports=function(m){return f(p(m))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/math-trunc.js");d.exports=function(p){var m=+p;return m!==m||m===0?0:f(m)}}),"./node_modules/core-js/internals/to-length.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),p=Math.min;d.exports=function(m){var x=f(m);return x>0?p(x,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/require-object-coercible.js"),p=Object;d.exports=function(m){return p(f(m))}}),"./node_modules/core-js/internals/to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/is-symbol.js"),x=o("./node_modules/core-js/internals/get-method.js"),b=o("./node_modules/core-js/internals/ordinary-to-primitive.js"),w=o("./node_modules/core-js/internals/well-known-symbol.js"),y=TypeError,E=w("toPrimitive");d.exports=function(P,z){if(!p(P)||m(P))return P;var X=x(P,E),Y;if(X){if(z===void 0&&(z="default"),Y=f(X,P,z),!p(Y)||m(Y))return Y;throw new y("Can't convert object to primitive value")}return z===void 0&&(z="number"),b(P,z)}}),"./node_modules/core-js/internals/to-property-key.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-primitive.js"),p=o("./node_modules/core-js/internals/is-symbol.js");d.exports=function(m){var x=f(m,"string");return p(x)?x:x+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/is-iterable.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=f("Set"),w=function(y){return x(y)&&typeof y.size=="number"&&p(y.has)&&p(y.keys)};d.exports=function(y){return w(y)?y:m(y)?new b(y):y}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),p=f("toStringTag"),m={};m[p]="z",d.exports=String(m)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),p=String;d.exports=function(m){if(f(m)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return p(m)}}),"./node_modules/core-js/internals/try-to-string.js":(function(d){var A=String;d.exports=function(o){try{return A(o)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=0,m=Math.random(),x=f(1.1.toString);d.exports=function(b){return"Symbol("+(b===void 0?"":b)+")_"+x(++p+m,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/symbol-constructor-detection.js");d.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/fails.js");d.exports=f&&p(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(d){var A=TypeError;d.exports=function(o,f){if(o<f)throw new A("Not enough arguments");return o}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=f.WeakMap;d.exports=p(m)&&/native code/.test(String(m))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/path.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),x=o("./node_modules/core-js/internals/object-define-property.js").f;d.exports=function(b){var w=f.Symbol||(f.Symbol={});p(w,b)||x(w,b,{value:m.f(b)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js");A.f=f}),"./node_modules/core-js/internals/well-known-symbol.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/uid.js"),b=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),w=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),y=f.Symbol,E=p("wks"),P=w?y.for||y:y&&y.withoutSetter||x;d.exports=function(z){return m(E,z)||(E[z]=b&&m(y,z)?y[z]:P("Symbol."+z)),E[z]}}),"./node_modules/core-js/internals/whitespaces.js":(function(d){d.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-array.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/to-object.js"),w=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),E=o("./node_modules/core-js/internals/create-property.js"),P=o("./node_modules/core-js/internals/array-species-create.js"),z=o("./node_modules/core-js/internals/array-method-has-species-support.js"),X=o("./node_modules/core-js/internals/well-known-symbol.js"),Y=o("./node_modules/core-js/internals/environment-v8-version.js"),Q=X("isConcatSpreadable"),K=Y>=51||!p(function(){var ve=[];return ve[Q]=!1,ve.concat()[0]!==ve}),de=function(ve){if(!x(ve))return!1;var le=ve[Q];return le!==void 0?!!le:m(ve)},ue=!K||!z("concat");f({target:"Array",proto:!0,arity:1,forced:ue},{concat:function(le){var Ce=b(this),oe=P(Ce,0),Ne=0,Ae,se,pe,re,Ee;for(Ae=-1,pe=arguments.length;Ae<pe;Ae++)if(Ee=Ae===-1?Ce:arguments[Ae],de(Ee))for(re=w(Ee),y(Ne+re),se=0;se<re;se++,Ne++)se in Ee&&E(oe,Ne,Ee[se]);else y(Ne+1),E(oe,Ne++,Ee);return oe.length=Ne,oe}})}),"./node_modules/core-js/modules/es.array.from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/array-from.js"),m=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),x=!m(function(b){Array.from(b)});f({target:"Array",stat:!0,forced:x},{from:p})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),m=o("./node_modules/core-js/internals/array-includes.js").indexOf,x=o("./node_modules/core-js/internals/array-method-is-strict.js"),b=p([].indexOf),w=!!b&&1/b([1],1,-0)<0,y=w||!x("indexOf");f({target:"Array",proto:!0,forced:y},{indexOf:function(P){var z=arguments.length>1?arguments[1]:void 0;return w?b(this,P,z)||0:m(this,P,z)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-indexed-object.js"),p=o("./node_modules/core-js/internals/add-to-unscopables.js"),m=o("./node_modules/core-js/internals/iterators.js"),x=o("./node_modules/core-js/internals/internal-state.js"),b=o("./node_modules/core-js/internals/object-define-property.js").f,w=o("./node_modules/core-js/internals/iterator-define.js"),y=o("./node_modules/core-js/internals/create-iter-result-object.js"),E=o("./node_modules/core-js/internals/is-pure.js"),P=o("./node_modules/core-js/internals/descriptors.js"),z="Array Iterator",X=x.set,Y=x.getterFor(z);d.exports=w(Array,"Array",function(K,de){X(this,{type:z,target:f(K),index:0,kind:de})},function(){var K=Y(this),de=K.target,ue=K.index++;if(!de||ue>=de.length)return K.target=null,y(void 0,!0);switch(K.kind){case"keys":return y(ue,!1);case"values":return y(de[ue],!1)}return y([ue,de[ue]],!1)},"values");var Q=m.Arguments=m.Array;if(p("keys"),p("values"),p("entries"),!E&&P&&Q.name!=="values")try{b(Q,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/to-indexed-object.js"),b=o("./node_modules/core-js/internals/array-method-is-strict.js"),w=p([].join),y=m!==Object,E=y||!b("join",",");f({target:"Array",proto:!0,forced:E},{join:function(z){return w(x(this),z===void 0?",":z)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/array-iteration.js").map,m=o("./node_modules/core-js/internals/array-method-has-species-support.js"),x=m("map");f({target:"Array",proto:!0,forced:!x},{map:function(w){return p(this,w,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/array-reduce.js").left,m=o("./node_modules/core-js/internals/array-method-is-strict.js"),x=o("./node_modules/core-js/internals/environment-v8-version.js"),b=o("./node_modules/core-js/internals/environment-is-node.js"),w=!b&&x>79&&x<83,y=w||!m("reduce");f({target:"Array",proto:!0,forced:y},{reduce:function(P){var z=arguments.length;return p(this,P,z,z>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/is-array.js"),x=p([].reverse),b=[1,2];f({target:"Array",proto:!0,forced:String(b)===String(b.reverse())},{reverse:function(){return m(this)&&(this.length=this.length),x(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/is-array.js"),m=o("./node_modules/core-js/internals/is-constructor.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/to-absolute-index.js"),w=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/to-indexed-object.js"),E=o("./node_modules/core-js/internals/create-property.js"),P=o("./node_modules/core-js/internals/well-known-symbol.js"),z=o("./node_modules/core-js/internals/array-method-has-species-support.js"),X=o("./node_modules/core-js/internals/array-slice.js"),Y=z("slice"),Q=P("species"),K=Array,de=Math.max;f({target:"Array",proto:!0,forced:!Y},{slice:function(ve,le){var Ce=y(this),oe=w(Ce),Ne=b(ve,oe),Ae=b(le===void 0?oe:le,oe),se,pe,re;if(p(Ce)&&(se=Ce.constructor,m(se)&&(se===K||p(se.prototype))?se=void 0:x(se)&&(se=se[Q],se===null&&(se=void 0)),se===K||se===void 0))return X(Ce,Ne,Ae);for(pe=new(se===void 0?K:se)(de(Ae-Ne,0)),re=0;Ne<Ae;Ne++,re++)Ne in Ce&&E(pe,re,Ce[Ne]);return pe.length=re,pe}})}),"./node_modules/core-js/modules/es.function.name.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/function-name.js").EXISTS,m=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/define-built-in-accessor.js"),b=Function.prototype,w=m(b.toString),y=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,E=m(y.exec),P="name";f&&!p&&x(b,P,{configurable:!0,get:function(){try{return E(y,w(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/an-instance.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/is-callable.js"),w=o("./node_modules/core-js/internals/object-get-prototype-of.js"),y=o("./node_modules/core-js/internals/define-built-in-accessor.js"),E=o("./node_modules/core-js/internals/create-property.js"),P=o("./node_modules/core-js/internals/fails.js"),z=o("./node_modules/core-js/internals/has-own-property.js"),X=o("./node_modules/core-js/internals/well-known-symbol.js"),Y=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,Q=o("./node_modules/core-js/internals/descriptors.js"),K=o("./node_modules/core-js/internals/is-pure.js"),de="constructor",ue="Iterator",ve=X("toStringTag"),le=TypeError,Ce=p[ue],oe=K||!b(Ce)||Ce.prototype!==Y||!P(function(){Ce({})}),Ne=function(){if(m(this,Y),w(this)===Y)throw new le("Abstract class Iterator not directly constructable")},Ae=function(se,pe){Q?y(Y,se,{configurable:!0,get:function(){return pe},set:function(re){if(x(this),this===Y)throw new le("You can't redefine this property");z(this,se)?this[se]=re:E(this,se,re)}}):Y[se]=pe};z(Y,ve)||Ae(ve,ue),(oe||!z(Y,de)||Y[de]===Object)&&Ae(de,Ne),Ne.prototype=Y,f({global:!0,constructor:!0,forced:oe},{Iterator:Ne})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/a-callable.js"),b=o("./node_modules/core-js/internals/an-object.js"),w=o("./node_modules/core-js/internals/get-iterator-direct.js"),y=o("./node_modules/core-js/internals/iterator-close.js"),E=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),P=E("forEach",TypeError);f({target:"Iterator",proto:!0,real:!0,forced:P},{forEach:function(X){b(this);try{x(X)}catch(K){y(this,"throw",K)}if(P)return p(P,this,X);var Y=w(this),Q=0;m(Y,function(K){X(K,Q++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/get-iterator-direct.js"),w=o("./node_modules/core-js/internals/iterator-create-proxy.js"),y=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),E=o("./node_modules/core-js/internals/iterator-close.js"),P=o("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),z=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),X=o("./node_modules/core-js/internals/is-pure.js"),Y=!X&&!P("map",function(){}),Q=!X&&!Y&&z("map",TypeError),K=X||Y||Q,de=w(function(){var ue=this.iterator,ve=x(p(this.next,ue)),le=this.done=!!ve.done;if(!le)return y(ue,this.mapper,[ve.value,this.counter++],!0)});f({target:"Iterator",proto:!0,real:!0,forced:K},{map:function(ve){x(this);try{m(ve)}catch(le){E(this,"throw",le)}return Q?p(Q,this,ve):new de(b(this),{mapper:ve})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/function-apply.js"),x=o("./node_modules/core-js/internals/function-call.js"),b=o("./node_modules/core-js/internals/function-uncurry-this.js"),w=o("./node_modules/core-js/internals/fails.js"),y=o("./node_modules/core-js/internals/is-array.js"),E=o("./node_modules/core-js/internals/is-callable.js"),P=o("./node_modules/core-js/internals/is-raw-json.js"),z=o("./node_modules/core-js/internals/is-symbol.js"),X=o("./node_modules/core-js/internals/classof-raw.js"),Y=o("./node_modules/core-js/internals/to-string.js"),Q=o("./node_modules/core-js/internals/array-slice.js"),K=o("./node_modules/core-js/internals/parse-json-string.js"),de=o("./node_modules/core-js/internals/uid.js"),ue=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),ve=o("./node_modules/core-js/internals/native-raw-json.js"),le=String,Ce=p("JSON","stringify"),oe=b(/./.exec),Ne=b("".charAt),Ae=b("".charCodeAt),se=b("".replace),pe=b("".slice),re=b([].push),Ee=b(1.1.toString),De=/[\uD800-\uDFFF]/g,Se=/^[\uD800-\uDBFF]$/,he=/^[\uDC00-\uDFFF]$/,be=de(),fe=be.length,te=!ue||w(function(){var Bt=p("Symbol")("stringify detection");return Ce([Bt])!=="[null]"||Ce({a:Bt})!=="{}"||Ce(Object(Bt))!=="{}"}),ge=w(function(){return Ce("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ce("\uDEAD")!=='"\\udead"'}),Ue=te?function(Bt,We){var Ut=Q(arguments),Vt=kt(We);if(!(!E(Vt)&&(Bt===void 0||z(Bt))))return Ut[1]=function(ls,Fs){if(E(Vt)&&(Fs=x(Vt,this,le(ls),Fs)),!z(Fs))return Fs},m(Ce,null,Ut)}:Ce,Ve=function(Bt,We,Ut){var Vt=Ne(Ut,We-1),ls=Ne(Ut,We+1);return oe(Se,Bt)&&!oe(he,ls)||oe(he,Bt)&&!oe(Se,Vt)?"\\u"+Ee(Ae(Bt,0),16):Bt},kt=function(Bt){if(E(Bt))return Bt;if(y(Bt)){for(var We=Bt.length,Ut=[],Vt=0;Vt<We;Vt++){var ls=Bt[Vt];typeof ls=="string"?re(Ut,ls):(typeof ls=="number"||X(ls)==="Number"||X(ls)==="String")&&re(Ut,Y(ls))}var Fs=Ut.length,Re=!0;return function(ut,St){if(Re)return Re=!1,St;if(y(this))return St;for(var Os=0;Os<Fs;Os++)if(Ut[Os]===ut)return St}}};Ce&&f({target:"JSON",stat:!0,arity:3,forced:te||ge||!ve},{stringify:function(We,Ut,Vt){var ls=kt(Ut),Fs=[],Re=Ue(We,function(ir,Ds){var Ss=E(ls)?x(ls,this,le(ir),Ds):Ds;return!ve&&P(Ss)?be+(re(Fs,Ss.rawJSON)-1):Ss},Vt);if(typeof Re!="string"||(ge&&(Re=se(Re,De,Ve)),ve))return Re;for(var ut="",St=Re.length,Os=0;Os<St;Os++){var hs=Ne(Re,Os);if(hs==='"'){var vr=K(Re,++Os).end-1,hr=pe(Re,Os,vr);ut+=pe(hr,0,fe)===be?Fs[pe(hr,fe)]:'"'+hr+'"',Os=vr}else ut+=hs}return ut}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/descriptors.js"),x=o("./node_modules/core-js/internals/global-this.js"),b=o("./node_modules/core-js/internals/path.js"),w=o("./node_modules/core-js/internals/function-uncurry-this.js"),y=o("./node_modules/core-js/internals/is-forced.js"),E=o("./node_modules/core-js/internals/has-own-property.js"),P=o("./node_modules/core-js/internals/inherit-if-required.js"),z=o("./node_modules/core-js/internals/object-is-prototype-of.js"),X=o("./node_modules/core-js/internals/is-symbol.js"),Y=o("./node_modules/core-js/internals/to-primitive.js"),Q=o("./node_modules/core-js/internals/fails.js"),K=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,de=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,ue=o("./node_modules/core-js/internals/object-define-property.js").f,ve=o("./node_modules/core-js/internals/this-number-value.js"),le=o("./node_modules/core-js/internals/string-trim.js").trim,Ce="Number",oe=x[Ce],Ne=b[Ce],Ae=oe.prototype,se=x.TypeError,pe=w("".slice),re=w("".charCodeAt),Ee=function(te){var ge=Y(te,"number");return typeof ge=="bigint"?ge:De(ge)},De=function(te){var ge=Y(te,"number"),Ue,Ve,kt,Bt,We,Ut,Vt,ls;if(X(ge))throw new se("Cannot convert a Symbol value to a number");if(typeof ge=="string"&&ge.length>2){if(ge=le(ge),Ue=re(ge,0),Ue===43||Ue===45){if(Ve=re(ge,2),Ve===88||Ve===120)return NaN}else if(Ue===48){switch(re(ge,1)){case 66:case 98:kt=2,Bt=49;break;case 79:case 111:kt=8,Bt=55;break;default:return+ge}for(We=pe(ge,2),Ut=We.length,Vt=0;Vt<Ut;Vt++)if(ls=re(We,Vt),ls<48||ls>Bt)return NaN;return parseInt(We,kt)}}return+ge},Se=y(Ce,!oe(" 0o1")||!oe("0b1")||oe("+0x1")),he=function(te){return z(Ae,te)&&Q(function(){ve(te)})},be=function(ge){var Ue=arguments.length<1?0:oe(Ee(ge));return he(this)?P(Object(Ue),this,be):Ue};be.prototype=Ae,Se&&!p&&(Ae.constructor=be),f({global:!0,constructor:!0,wrap:!0,forced:Se},{Number:be});var fe=function(te,ge){for(var Ue=m?K(ge):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ve=0,kt;Ue.length>Ve;Ve++)E(ge,kt=Ue[Ve])&&!E(te,kt)&&ue(te,kt,de(ge,kt))};p&&Ne&&fe(b[Ce],Ne),(Se||p)&&fe(b[Ce],oe)}),"./node_modules/core-js/modules/es.object.assign.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/object-assign.js");f({target:"Object",stat:!0,arity:2,forced:Object.assign!==p},{assign:p})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),m=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),b=o("./node_modules/core-js/internals/to-object.js"),w=!p||m(function(){x.f(1)});f({target:"Object",stat:!0,forced:w},{getOwnPropertySymbols:function(E){var P=x.f;return P?P(b(E)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/to-object.js"),m=o("./node_modules/core-js/internals/object-keys.js"),x=o("./node_modules/core-js/internals/fails.js"),b=x(function(){m(1)});f({target:"Object",stat:!0,forced:b},{keys:function(y){return m(p(y))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),p=o("./node_modules/core-js/internals/define-built-in.js"),m=o("./node_modules/core-js/internals/object-to-string.js");f||p(Object.prototype,"toString",m,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/new-promise-capability.js"),b=o("./node_modules/core-js/internals/perform.js"),w=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");f({target:"Promise",stat:!0,forced:y},{all:function(P){var z=this,X=x.f(z),Y=X.resolve,Q=X.reject,K=b(function(){var de=m(z.resolve),ue=[],ve=0,le=1;w(P,function(Ce){var oe=ve++,Ne=!1;le++,p(de,z,Ce).then(function(Ae){Ne||(Ne=!0,ue[oe]=Ae,--le||Y(ue))},Q)}),--le||Y(ue)});return K.error&&Q(K.value),X.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,x=o("./node_modules/core-js/internals/promise-native-constructor.js"),b=o("./node_modules/core-js/internals/get-built-in.js"),w=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/define-built-in.js"),E=x&&x.prototype;if(f({target:"Promise",proto:!0,forced:m,real:!0},{catch:function(z){return this.then(void 0,z)}}),!p&&w(x)){var P=b("Promise").prototype.catch;E.catch!==P&&y(E,"catch",P,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/environment-is-node.js"),x=o("./node_modules/core-js/internals/global-this.js"),b=o("./node_modules/core-js/internals/path.js"),w=o("./node_modules/core-js/internals/function-call.js"),y=o("./node_modules/core-js/internals/define-built-in.js"),E=o("./node_modules/core-js/internals/object-set-prototype-of.js"),P=o("./node_modules/core-js/internals/set-to-string-tag.js"),z=o("./node_modules/core-js/internals/set-species.js"),X=o("./node_modules/core-js/internals/a-callable.js"),Y=o("./node_modules/core-js/internals/is-callable.js"),Q=o("./node_modules/core-js/internals/is-object.js"),K=o("./node_modules/core-js/internals/an-instance.js"),de=o("./node_modules/core-js/internals/species-constructor.js"),ue=o("./node_modules/core-js/internals/task.js").set,ve=o("./node_modules/core-js/internals/microtask.js"),le=o("./node_modules/core-js/internals/host-report-errors.js"),Ce=o("./node_modules/core-js/internals/perform.js"),oe=o("./node_modules/core-js/internals/queue.js"),Ne=o("./node_modules/core-js/internals/internal-state.js"),Ae=o("./node_modules/core-js/internals/promise-native-constructor.js"),se=o("./node_modules/core-js/internals/promise-constructor-detection.js"),pe=o("./node_modules/core-js/internals/new-promise-capability.js"),re="Promise",Ee=se.CONSTRUCTOR,De=se.REJECTION_EVENT,Se=se.SUBCLASSING,he=Ne.getterFor(re),be=Ne.set,fe=Ae&&Ae.prototype,te=Ae,ge=fe,Ue=x.TypeError,Ve=x.document,kt=x.process,Bt=pe.f,We=Bt,Ut=!!(Ve&&Ve.createEvent&&x.dispatchEvent),Vt="unhandledrejection",ls="rejectionhandled",Fs=0,Re=1,ut=2,St=1,Os=2,hs,vr,hr,ir,Ds=function(ft){var $t;return Q(ft)&&Y($t=ft.then)?$t:!1},Ss=function(ft,$t){var ks=$t.value,Gs=$t.state===Re,lr=Gs?ft.ok:ft.fail,wt=ft.resolve,qt=ft.reject,As=ft.domain,fs,Vs,Ks;try{lr?(Gs||($t.rejection===Os&&wr($t),$t.rejection=St),lr===!0?fs=ks:(As&&As.enter(),fs=lr(ks),As&&(As.exit(),Ks=!0)),fs===ft.promise?qt(new Ue("Promise-chain cycle")):(Vs=Ds(fs))?w(Vs,fs,wt,qt):wt(fs)):qt(ks)}catch(pr){As&&!Ks&&As.exit(),qt(pr)}},Ls=function(ft,$t){ft.notified||(ft.notified=!0,ve(function(){for(var ks=ft.reactions,Gs;Gs=ks.get();)Ss(Gs,ft);ft.notified=!1,$t&&!ft.rejection&&xr(ft)}))},rr=function(ft,$t,ks){var Gs,lr;Ut?(Gs=Ve.createEvent("Event"),Gs.promise=$t,Gs.reason=ks,Gs.initEvent(ft,!1,!0),x.dispatchEvent(Gs)):Gs={promise:$t,reason:ks},!De&&(lr=x["on"+ft])?lr(Gs):ft===Vt&&le("Unhandled promise rejection",ks)},xr=function(ft){w(ue,x,function(){var $t=ft.facade,ks=ft.value,Gs=en(ft),lr;if(Gs&&(lr=Ce(function(){m?kt.emit("unhandledRejection",ks,$t):rr(Vt,$t,ks)}),ft.rejection=m||en(ft)?Os:St,lr.error))throw lr.value})},en=function(ft){return ft.rejection!==St&&!ft.parent},wr=function(ft){w(ue,x,function(){var $t=ft.facade;m?kt.emit("rejectionHandled",$t):rr(ls,$t,ft.value)})},tr=function(ft,$t,ks){return function(Gs){ft($t,Gs,ks)}},Xs=function(ft,$t,ks){ft.done||(ft.done=!0,ks&&(ft=ks),ft.value=$t,ft.state=ut,Ls(ft,!0))},Ts=function(ft,$t,ks){if(!ft.done){ft.done=!0,ks&&(ft=ks);try{if(ft.facade===$t)throw new Ue("Promise can't be resolved itself");var Gs=Ds($t);Gs?ve(function(){var lr={done:!1};try{w(Gs,$t,tr(Ts,lr,ft),tr(Xs,lr,ft))}catch(wt){Xs(lr,wt,ft)}}):(ft.value=$t,ft.state=Re,Ls(ft,!1))}catch(lr){Xs({done:!1},lr,ft)}}};if(Ee&&(te=function($t){K(this,ge),X($t),w(hs,this);var ks=he(this);try{$t(tr(Ts,ks),tr(Xs,ks))}catch(Gs){Xs(ks,Gs)}},ge=te.prototype,hs=function($t){be(this,{type:re,done:!1,notified:!1,parent:!1,reactions:new oe,rejection:!1,state:Fs,value:null})},hs.prototype=y(ge,"then",function($t,ks){var Gs=he(this),lr=Bt(de(this,te));return Gs.parent=!0,lr.ok=Y($t)?$t:!0,lr.fail=Y(ks)&&ks,lr.domain=m?kt.domain:void 0,Gs.state===Fs?Gs.reactions.add(lr):ve(function(){Ss(lr,Gs)}),lr.promise}),vr=function(){var ft=new hs,$t=he(ft);this.promise=ft,this.resolve=tr(Ts,$t),this.reject=tr(Xs,$t)},pe.f=Bt=function(ft){return ft===te||ft===hr?new vr(ft):We(ft)},!p&&Y(Ae)&&fe!==Object.prototype)){ir=fe.then,Se||y(fe,"then",function($t,ks){var Gs=this;return new te(function(lr,wt){w(ir,Gs,lr,wt)}).then($t,ks)},{unsafe:!0});try{delete fe.constructor}catch{}E&&E(fe,ge)}f({global:!0,constructor:!0,wrap:!0,forced:Ee},{Promise:te}),hr=b.Promise,P(te,re,!1,!0),z(re)}),"./node_modules/core-js/modules/es.promise.js":(function(d,A,o){o("./node_modules/core-js/modules/es.promise.constructor.js"),o("./node_modules/core-js/modules/es.promise.all.js"),o("./node_modules/core-js/modules/es.promise.catch.js"),o("./node_modules/core-js/modules/es.promise.race.js"),o("./node_modules/core-js/modules/es.promise.reject.js"),o("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/new-promise-capability.js"),b=o("./node_modules/core-js/internals/perform.js"),w=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");f({target:"Promise",stat:!0,forced:y},{race:function(P){var z=this,X=x.f(z),Y=X.reject,Q=b(function(){var K=m(z.resolve);w(P,function(de){p(K,z,de).then(X.resolve,Y)})});return Q.error&&Y(Q.value),X.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/new-promise-capability.js"),m=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;f({target:"Promise",stat:!0,forced:m},{reject:function(b){var w=p.f(this),y=w.reject;return y(b),w.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/is-pure.js"),x=o("./node_modules/core-js/internals/promise-native-constructor.js"),b=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,w=o("./node_modules/core-js/internals/promise-resolve.js"),y=p("Promise"),E=m&&!b;f({target:"Promise",stat:!0,forced:m||b},{resolve:function(z){return w(E&&this===y?x:this,z)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/regexp-exec.js");f({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(d,A,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/to-string.js"),w=(function(){var E=!1,P=/[ac]/;return P.exec=function(){return E=!0,/./.exec.apply(this,arguments)},P.test("abc")===!0&&E})(),y=/./.test;f({target:"RegExp",proto:!0,forced:!w},{test:function(E){var P=x(this),z=b(E),X=P.exec;if(!m(X))return p(y,P,z);var Y=p(X,P,z);return Y===null?!1:(x(Y),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-name.js").PROPER,p=o("./node_modules/core-js/internals/define-built-in.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/fails.js"),w=o("./node_modules/core-js/internals/regexp-get-flags.js"),y="toString",E=RegExp.prototype,P=E[y],z=b(function(){return P.call({source:"a",flags:"b"})!=="/a/b"}),X=f&&P.name!==y;(z||X)&&p(E,y,function(){var Q=m(this),K=x(Q.source),de=x(w(Q));return"/"+K+"/"+de},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/collection.js"),p=o("./node_modules/core-js/internals/collection-strong.js");f("Set",function(m){return function(){return m(this,arguments.length?arguments[0]:void 0)}},p)}),"./node_modules/core-js/modules/es.set.js":(function(d,A,o){o("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),m=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,x=o("./node_modules/core-js/internals/to-length.js"),b=o("./node_modules/core-js/internals/to-string.js"),w=o("./node_modules/core-js/internals/not-a-regexp.js"),y=o("./node_modules/core-js/internals/require-object-coercible.js"),E=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),P=o("./node_modules/core-js/internals/is-pure.js"),z=p("".slice),X=Math.min,Y=E("endsWith"),Q=!P&&!Y&&!!(function(){var K=m(String.prototype,"endsWith");return K&&!K.writable})();f({target:"String",proto:!0,forced:!Q&&!Y},{endsWith:function(de){var ue=b(y(this));w(de);var ve=arguments.length>1?arguments[1]:void 0,le=ue.length,Ce=ve===void 0?le:X(x(ve),le),oe=b(de);return z(ue,Ce-oe.length,Ce)===oe}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),b=o("./node_modules/core-js/internals/to-string.js"),w=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),y=p("".indexOf);f({target:"String",proto:!0,forced:!w("includes")},{includes:function(P){return!!~y(b(x(this)),b(m(P)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/string-multibyte.js").charAt,p=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/internal-state.js"),x=o("./node_modules/core-js/internals/iterator-define.js"),b=o("./node_modules/core-js/internals/create-iter-result-object.js"),w="String Iterator",y=m.set,E=m.getterFor(w);x(String,"String",function(P){y(this,{type:w,string:p(P),index:0})},function(){var z=E(this),X=z.string,Y=z.index,Q;return Y>=X.length?b(void 0,!0):(Q=f(X,Y),z.index+=Q.length,b(Q,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/create-html.js"),m=o("./node_modules/core-js/internals/string-html-forced.js");f({target:"String",proto:!0,forced:m("link")},{link:function(b){return p(this,"a","href",b)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/is-object.js"),w=o("./node_modules/core-js/internals/to-length.js"),y=o("./node_modules/core-js/internals/to-string.js"),E=o("./node_modules/core-js/internals/require-object-coercible.js"),P=o("./node_modules/core-js/internals/get-method.js"),z=o("./node_modules/core-js/internals/advance-string-index.js"),X=o("./node_modules/core-js/internals/regexp-get-flags.js"),Y=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),Q=p("".indexOf);m("match",function(K,de,ue){return[function(le){var Ce=E(this),oe=b(le)?P(le,K):void 0;return oe?f(oe,le,Ce):new RegExp(le)[K](y(Ce))},function(ve){var le=x(this),Ce=y(ve),oe=ue(de,le,Ce);if(oe.done)return oe.value;var Ne=y(X(le));if(Q(Ne,"g")===-1)return Y(le,Ce);var Ae=Q(Ne,"u")!==-1;le.lastIndex=0;for(var se=[],pe=0,re;(re=Y(le,Ce))!==null;){var Ee=y(re[0]);se[pe]=Ee,Ee===""&&(le.lastIndex=z(Ce,w(le.lastIndex),Ae)),pe++}return pe===0?null:se}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-apply.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),b=o("./node_modules/core-js/internals/fails.js"),w=o("./node_modules/core-js/internals/an-object.js"),y=o("./node_modules/core-js/internals/is-callable.js"),E=o("./node_modules/core-js/internals/is-object.js"),P=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),z=o("./node_modules/core-js/internals/to-length.js"),X=o("./node_modules/core-js/internals/to-string.js"),Y=o("./node_modules/core-js/internals/require-object-coercible.js"),Q=o("./node_modules/core-js/internals/advance-string-index.js"),K=o("./node_modules/core-js/internals/get-method.js"),de=o("./node_modules/core-js/internals/get-substitution.js"),ue=o("./node_modules/core-js/internals/regexp-get-flags.js"),ve=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),le=o("./node_modules/core-js/internals/well-known-symbol.js"),Ce=le("replace"),oe=Math.max,Ne=Math.min,Ae=m([].concat),se=m([].push),pe=m("".indexOf),re=m("".slice),Ee=function(be){return be===void 0?be:String(be)},De=(function(){return"a".replace(/./,"$0")==="$0"})(),Se=(function(){return/./[Ce]?/./[Ce]("a","$0")==="":!1})(),he=!b(function(){var be=/./;return be.exec=function(){var fe=[];return fe.groups={a:"7"},fe},"".replace(be,"$<a>")!=="7"});x("replace",function(be,fe,te){var ge=Se?"$":"$0";return[function(Ve,kt){var Bt=Y(this),We=E(Ve)?K(Ve,Ce):void 0;return We?p(We,Ve,Bt,kt):p(fe,X(Bt),Ve,kt)},function(Ue,Ve){var kt=w(this),Bt=X(Ue);if(typeof Ve=="string"&&pe(Ve,ge)===-1&&pe(Ve,"$<")===-1){var We=te(fe,kt,Bt,Ve);if(We.done)return We.value}var Ut=y(Ve);Ut||(Ve=X(Ve));var Vt=X(ue(kt)),ls=pe(Vt,"g")!==-1,Fs;ls&&(Fs=pe(Vt,"u")!==-1,kt.lastIndex=0);for(var Re=[],ut;ut=ve(kt,Bt),!(ut===null||(se(Re,ut),!ls));){var St=X(ut[0]);St===""&&(kt.lastIndex=Q(Bt,z(kt.lastIndex),Fs))}for(var Os="",hs=0,vr=0;vr<Re.length;vr++){ut=Re[vr];for(var hr=X(ut[0]),ir=oe(Ne(P(ut.index),Bt.length),0),Ds=[],Ss,Ls=1;Ls<ut.length;Ls++)se(Ds,Ee(ut[Ls]));var rr=ut.groups;if(Ut){var xr=Ae([hr],Ds,ir,Bt);rr!==void 0&&se(xr,rr),Ss=X(f(Ve,void 0,xr))}else Ss=de(hr,Bt,ir,Ds,rr,Ve);ir>=hs&&(Os+=re(Bt,hs,ir)+Ss,hs=ir+hr.length)}return Os+re(Bt,hs)}]},!he||!De||Se)}),"./node_modules/core-js/modules/es.string.split.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/is-object.js"),w=o("./node_modules/core-js/internals/require-object-coercible.js"),y=o("./node_modules/core-js/internals/species-constructor.js"),E=o("./node_modules/core-js/internals/advance-string-index.js"),P=o("./node_modules/core-js/internals/to-length.js"),z=o("./node_modules/core-js/internals/to-string.js"),X=o("./node_modules/core-js/internals/get-method.js"),Y=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),Q=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),K=o("./node_modules/core-js/internals/fails.js"),de=Q.UNSUPPORTED_Y,ue=4294967295,ve=Math.min,le=p([].push),Ce=p("".slice),oe=!K(function(){var Ae=/(?:)/,se=Ae.exec;Ae.exec=function(){return se.apply(this,arguments)};var pe="ab".split(Ae);return pe.length!==2||pe[0]!=="a"||pe[1]!=="b"}),Ne="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;m("split",function(Ae,se,pe){var re="0".split(void 0,0).length?function(Ee,De){return Ee===void 0&&De===0?[]:f(se,this,Ee,De)}:se;return[function(De,Se){var he=w(this),be=b(De)?X(De,Ae):void 0;return be?f(be,De,he,Se):f(re,z(he),De,Se)},function(Ee,De){var Se=x(this),he=z(Ee);if(!Ne){var be=pe(re,Se,he,De,re!==se);if(be.done)return be.value}var fe=y(Se,RegExp),te=Se.unicode,ge=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(de?"g":"y"),Ue=new fe(de?"^(?:"+Se.source+")":Se,ge),Ve=De===void 0?ue:De>>>0;if(Ve===0)return[];if(he.length===0)return Y(Ue,he)===null?[he]:[];for(var kt=0,Bt=0,We=[];Bt<he.length;){Ue.lastIndex=de?0:Bt;var Ut=Y(Ue,de?Ce(he,Bt):he),Vt;if(Ut===null||(Vt=ve(P(Ue.lastIndex+(de?Bt:0)),he.length))===kt)Bt=E(he,Bt,te);else{if(le(We,Ce(he,kt,Bt)),We.length===Ve)return We;for(var ls=1;ls<=Ut.length-1;ls++)if(le(We,Ut[ls]),We.length===Ve)return We;Bt=kt=Vt}}return le(We,Ce(he,kt)),We}]},Ne||!oe,de)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),m=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,x=o("./node_modules/core-js/internals/to-length.js"),b=o("./node_modules/core-js/internals/to-string.js"),w=o("./node_modules/core-js/internals/not-a-regexp.js"),y=o("./node_modules/core-js/internals/require-object-coercible.js"),E=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),P=o("./node_modules/core-js/internals/is-pure.js"),z=p("".slice),X=Math.min,Y=E("startsWith"),Q=!P&&!Y&&!!(function(){var K=m(String.prototype,"startsWith");return K&&!K.writable})();f({target:"String",proto:!0,forced:!Q&&!Y},{startsWith:function(de){var ue=b(y(this));w(de);var ve=x(X(arguments.length>1?arguments[1]:void 0,ue.length)),le=b(de);return z(ue,ve,ve+le.length)===le}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/string-trim.js").trim,m=o("./node_modules/core-js/internals/string-trim-forced.js");f({target:"String",proto:!0,forced:m("trim")},{trim:function(){return p(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/function-uncurry-this.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=o("./node_modules/core-js/internals/descriptors.js"),y=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),E=o("./node_modules/core-js/internals/fails.js"),P=o("./node_modules/core-js/internals/has-own-property.js"),z=o("./node_modules/core-js/internals/object-is-prototype-of.js"),X=o("./node_modules/core-js/internals/an-object.js"),Y=o("./node_modules/core-js/internals/to-indexed-object.js"),Q=o("./node_modules/core-js/internals/to-property-key.js"),K=o("./node_modules/core-js/internals/to-string.js"),de=o("./node_modules/core-js/internals/create-property-descriptor.js"),ue=o("./node_modules/core-js/internals/object-create.js"),ve=o("./node_modules/core-js/internals/object-keys.js"),le=o("./node_modules/core-js/internals/object-get-own-property-names.js"),Ce=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),oe=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Ne=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),Ae=o("./node_modules/core-js/internals/object-define-property.js"),se=o("./node_modules/core-js/internals/object-define-properties.js"),pe=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),re=o("./node_modules/core-js/internals/define-built-in.js"),Ee=o("./node_modules/core-js/internals/define-built-in-accessor.js"),De=o("./node_modules/core-js/internals/shared.js"),Se=o("./node_modules/core-js/internals/shared-key.js"),he=o("./node_modules/core-js/internals/hidden-keys.js"),be=o("./node_modules/core-js/internals/uid.js"),fe=o("./node_modules/core-js/internals/well-known-symbol.js"),te=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ge=o("./node_modules/core-js/internals/well-known-symbol-define.js"),Ue=o("./node_modules/core-js/internals/symbol-define-to-primitive.js"),Ve=o("./node_modules/core-js/internals/set-to-string-tag.js"),kt=o("./node_modules/core-js/internals/internal-state.js"),Bt=o("./node_modules/core-js/internals/array-iteration.js").forEach,We=Se("hidden"),Ut="Symbol",Vt="prototype",ls=kt.set,Fs=kt.getterFor(Ut),Re=Object[Vt],ut=p.Symbol,St=ut&&ut[Vt],Os=p.RangeError,hs=p.TypeError,vr=p.QObject,hr=Ne.f,ir=Ae.f,Ds=Ce.f,Ss=pe.f,Ls=x([].push),rr=De("symbols"),xr=De("op-symbols"),en=De("wks"),wr=!vr||!vr[Vt]||!vr[Vt].findChild,tr=function(As,fs,Vs){var Ks=hr(Re,fs);Ks&&delete Re[fs],ir(As,fs,Vs),Ks&&As!==Re&&ir(Re,fs,Ks)},Xs=w&&E(function(){return ue(ir({},"a",{get:function(){return ir(this,"a",{value:7}).a}})).a!==7})?tr:ir,Ts=function(As,fs){var Vs=rr[As]=ue(St);return ls(Vs,{type:Ut,tag:As,description:fs}),w||(Vs.description=fs),Vs},ft=function(fs,Vs,Ks){fs===Re&&ft(xr,Vs,Ks),X(fs);var pr=Q(Vs);return X(Ks),P(rr,pr)?(Ks.enumerable?(P(fs,We)&&fs[We][pr]&&(fs[We][pr]=!1),Ks=ue(Ks,{enumerable:de(0,!1)})):(P(fs,We)||ir(fs,We,de(1,ue(null))),fs[We][pr]=!0),Xs(fs,pr,Ks)):ir(fs,pr,Ks)},$t=function(fs,Vs){X(fs);var Ks=Y(Vs),pr=ve(Ks).concat(qt(Ks));return Bt(pr,function(rn){(!w||m(Gs,Ks,rn))&&ft(fs,rn,Ks[rn])}),fs},ks=function(fs,Vs){return Vs===void 0?ue(fs):$t(ue(fs),Vs)},Gs=function(fs){var Vs=Q(fs),Ks=m(Ss,this,Vs);return this===Re&&P(rr,Vs)&&!P(xr,Vs)?!1:Ks||!P(this,Vs)||!P(rr,Vs)||P(this,We)&&this[We][Vs]?Ks:!0},lr=function(fs,Vs){var Ks=Y(fs),pr=Q(Vs);if(!(Ks===Re&&P(rr,pr)&&!P(xr,pr))){var rn=hr(Ks,pr);return rn&&P(rr,pr)&&!(P(Ks,We)&&Ks[We][pr])&&(rn.enumerable=!0),rn}},wt=function(fs){var Vs=Ds(Y(fs)),Ks=[];return Bt(Vs,function(pr){!P(rr,pr)&&!P(he,pr)&&Ls(Ks,pr)}),Ks},qt=function(As){var fs=As===Re,Vs=Ds(fs?xr:Y(As)),Ks=[];return Bt(Vs,function(pr){P(rr,pr)&&(!fs||P(Re,pr))&&Ls(Ks,rr[pr])}),Ks};y||(ut=function(){if(z(St,this))throw new hs("Symbol is not a constructor");var fs=!arguments.length||arguments[0]===void 0?void 0:K(arguments[0]),Vs=be(fs),Ks=function(pr){var rn=this===void 0?p:this;rn===Re&&m(Ks,xr,pr),P(rn,We)&&P(rn[We],Vs)&&(rn[We][Vs]=!1);var ya=de(1,pr);try{Xs(rn,Vs,ya)}catch(La){if(!(La instanceof Os))throw La;tr(rn,Vs,ya)}};return w&&wr&&Xs(Re,Vs,{configurable:!0,set:Ks}),Ts(Vs,fs)},St=ut[Vt],re(St,"toString",function(){return Fs(this).tag}),re(ut,"withoutSetter",function(As){return Ts(be(As),As)}),pe.f=Gs,Ae.f=ft,se.f=$t,Ne.f=lr,le.f=Ce.f=wt,oe.f=qt,te.f=function(As){return Ts(fe(As),As)},w&&(Ee(St,"description",{configurable:!0,get:function(){return Fs(this).description}}),b||re(Re,"propertyIsEnumerable",Gs,{unsafe:!0}))),f({global:!0,constructor:!0,wrap:!0,forced:!y,sham:!y},{Symbol:ut}),Bt(ve(en),function(As){ge(As)}),f({target:Ut,stat:!0,forced:!y},{useSetter:function(){wr=!0},useSimple:function(){wr=!1}}),f({target:"Object",stat:!0,forced:!y,sham:!w},{create:ks,defineProperty:ft,defineProperties:$t,getOwnPropertyDescriptor:lr}),f({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:wt}),Ue(),Ve(ut,Ut),he[We]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/global-this.js"),x=o("./node_modules/core-js/internals/function-uncurry-this.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),w=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/object-is-prototype-of.js"),E=o("./node_modules/core-js/internals/to-string.js"),P=o("./node_modules/core-js/internals/define-built-in-accessor.js"),z=o("./node_modules/core-js/internals/copy-constructor-properties.js"),X=m.Symbol,Y=X&&X.prototype;if(p&&w(X)&&(!("description"in Y)||X().description!==void 0)){var Q={},K=function(){var Ae=arguments.length<1||arguments[0]===void 0?void 0:E(arguments[0]),se=y(Y,this)?new X(Ae):Ae===void 0?X():X(Ae);return Ae===""&&(Q[se]=!0),se};z(K,X),K.prototype=Y,Y.constructor=K;var de=String(X("description detection"))==="Symbol(description detection)",ue=x(Y.valueOf),ve=x(Y.toString),le=/^Symbol\((.*)\)[^)]+$/,Ce=x("".replace),oe=x("".slice);P(Y,"description",{configurable:!0,get:function(){var Ae=ue(this);if(b(Q,Ae))return"";var se=ve(Ae),pe=de?oe(se,7,-1):Ce(se,le,"$1");return pe===""?void 0:pe}}),f({global:!0,constructor:!0,forced:!0},{Symbol:K})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/shared.js"),w=o("./node_modules/core-js/internals/symbol-registry-detection.js"),y=b("string-to-symbol-registry"),E=b("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!w},{for:function(P){var z=x(P);if(m(y,z))return y[z];var X=p("Symbol")(z);return y[z]=X,E[X]=z,X}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol-define.js");f("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(d,A,o){o("./node_modules/core-js/modules/es.symbol.constructor.js"),o("./node_modules/core-js/modules/es.symbol.for.js"),o("./node_modules/core-js/modules/es.symbol.key-for.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/is-symbol.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),b=o("./node_modules/core-js/internals/shared.js"),w=o("./node_modules/core-js/internals/symbol-registry-detection.js"),y=b("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!w},{keyFor:function(P){if(!m(P))throw new TypeError(x(P)+" is not a symbol");if(p(y,P))return y[P]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js").add;f({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var b=p(this),w=0,y=arguments.length;w<y;w++)m(b,arguments[w]);return b}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js").remove;f({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var b=p(this),w=!0,y,E=0,P=arguments.length;E<P;E++)y=m(b,arguments[E]),w=w&&y;return!!w}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-difference.js");f({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(w){return p(x,this,m(w))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{every:function(w){var y=m(this),E=p(w,arguments.length>1?arguments[1]:void 0);return x(y,function(P){if(!E(P,P,y))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-helpers.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),w=x.Set,y=x.add;f({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(P){var z=m(this),X=p(P,arguments.length>1?arguments[1]:void 0),Y=new w;return b(z,function(Q){X(Q,Q,z)&&y(Y,Q)}),Y}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{find:function(w){var y=m(this),E=p(w,arguments.length>1?arguments[1]:void 0),P=x(y,function(z){if(E(z,z,y))return{value:z}},!0);return P&&P.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-intersection.js");f({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(w){return p(x,this,m(w))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-disjoint-from.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(w){return p(x,this,m(w))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-subset-of.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(w){return p(x,this,m(w))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-superset-of.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(w){return p(x,this,m(w))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js"),b=o("./node_modules/core-js/internals/to-string.js"),w=p([].join),y=p([].push);f({target:"Set",proto:!0,real:!0,forced:!0},{join:function(P){var z=m(this),X=P===void 0?",":b(P),Y=[];return x(z,function(Q){y(Y,Q)}),w(Y,X)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-helpers.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),w=x.Set,y=x.add;f({target:"Set",proto:!0,real:!0,forced:!0},{map:function(P){var z=m(this),X=p(P,arguments.length>1?arguments[1]:void 0),Y=new w;return b(z,function(Q){y(Y,X(Q,Q,z))}),Y}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js"),b=TypeError;f({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(y){var E=m(this),P=arguments.length<2,z=P?void 0:arguments[1];if(p(y),x(E,function(X){P?(P=!1,z=X):z=y(z,X,X,E)}),P)throw new b("Reduce of empty set with no initial value");return z}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{some:function(w){var y=m(this),E=p(w,arguments.length>1?arguments[1]:void 0);return x(y,function(P){if(E(P,P,y))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-symmetric-difference.js");f({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(w){return p(x,this,m(w))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-union.js");f({target:"Set",proto:!0,real:!0,forced:!0},{union:function(w){return p(x,this,m(w))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/dom-iterables.js"),m=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),x=o("./node_modules/core-js/internals/array-for-each.js"),b=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=function(E){if(E&&E.forEach!==x)try{b(E,"forEach",x)}catch{E.forEach=x}};for(var y in p)p[y]&&w(f[y]&&f[y].prototype);w(m)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/dom-iterables.js"),m=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),x=o("./node_modules/core-js/modules/es.array.iterator.js"),b=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=o("./node_modules/core-js/internals/set-to-string-tag.js"),y=o("./node_modules/core-js/internals/well-known-symbol.js"),E=y("iterator"),P=x.values,z=function(Y,Q){if(Y){if(Y[E]!==P)try{b(Y,E,P)}catch{Y[E]=P}if(w(Y,Q,!0),p[Q]){for(var K in x)if(Y[K]!==x[K])try{b(Y,K,x[K])}catch{Y[K]=x[K]}}}};for(var X in p)z(f[X]&&f[X].prototype,X);z(m,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/schedulers-fix.js"),x=m(p.setInterval,!0);f({global:!0,bind:!0,forced:p.setInterval!==x},{setInterval:x})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/schedulers-fix.js"),x=m(p.setTimeout,!0);f({global:!0,bind:!0,forced:p.setTimeout!==x},{setTimeout:x})}),"./node_modules/core-js/modules/web.timers.js":(function(d,A,o){o("./node_modules/core-js/modules/web.set-interval.js"),o("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(d,A,o){o.r(A),o.d(A,{default:function(){return tr}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:f,setPrototypeOf:p,isFrozen:m,getPrototypeOf:x,getOwnPropertyDescriptor:b}=Object;let{freeze:w,seal:y,create:E}=Object,{apply:P,construct:z}=typeof Reflect<"u"&&Reflect;w||(w=function(Ts){return Ts}),y||(y=function(Ts){return Ts}),P||(P=function(Ts,ft){for(var $t=arguments.length,ks=new Array($t>2?$t-2:0),Gs=2;Gs<$t;Gs++)ks[Gs-2]=arguments[Gs];return Ts.apply(ft,ks)}),z||(z=function(Ts){for(var ft=arguments.length,$t=new Array(ft>1?ft-1:0),ks=1;ks<ft;ks++)$t[ks-1]=arguments[ks];return new Ts(...$t)});const X=re(Array.prototype.forEach),Y=re(Array.prototype.lastIndexOf),Q=re(Array.prototype.pop),K=re(Array.prototype.push),de=re(Array.prototype.splice),ue=re(String.prototype.toLowerCase),ve=re(String.prototype.toString),le=re(String.prototype.match),Ce=re(String.prototype.replace),oe=re(String.prototype.indexOf),Ne=re(String.prototype.trim),Ae=re(Object.prototype.hasOwnProperty),se=re(RegExp.prototype.test),pe=Ee(TypeError);function re(Xs){return function(Ts){Ts instanceof RegExp&&(Ts.lastIndex=0);for(var ft=arguments.length,$t=new Array(ft>1?ft-1:0),ks=1;ks<ft;ks++)$t[ks-1]=arguments[ks];return P(Xs,Ts,$t)}}function Ee(Xs){return function(){for(var Ts=arguments.length,ft=new Array(Ts),$t=0;$t<Ts;$t++)ft[$t]=arguments[$t];return z(Xs,ft)}}function De(Xs,Ts){let ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ue;p&&p(Xs,null);let $t=Ts.length;for(;$t--;){let ks=Ts[$t];if(typeof ks=="string"){const Gs=ft(ks);Gs!==ks&&(m(Ts)||(Ts[$t]=Gs),ks=Gs)}Xs[ks]=!0}return Xs}function Se(Xs){for(let Ts=0;Ts<Xs.length;Ts++)Ae(Xs,Ts)||(Xs[Ts]=null);return Xs}function he(Xs){const Ts=E(null);for(const[ft,$t]of f(Xs))Ae(Xs,ft)&&(Array.isArray($t)?Ts[ft]=Se($t):$t&&typeof $t=="object"&&$t.constructor===Object?Ts[ft]=he($t):Ts[ft]=$t);return Ts}function be(Xs,Ts){for(;Xs!==null;){const $t=b(Xs,Ts);if($t){if($t.get)return re($t.get);if(typeof $t.value=="function")return re($t.value)}Xs=x(Xs)}function ft(){return null}return ft}const fe=w(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),te=w(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ge=w(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ue=w(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ve=w(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),kt=w(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Bt=w(["#text"]),We=w(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ut=w(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Vt=w(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ls=w(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Fs=y(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Re=y(/<%[\w\W]*|[\w\W]*%>/gm),ut=y(/\$\{[\w\W]*/gm),St=y(/^data-[\-\w.\u00B7-\uFFFF]+$/),Os=y(/^aria-[\-\w]+$/),hs=y(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vr=y(/^(?:\w+script|data):/i),hr=y(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ir=y(/^html$/i),Ds=y(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ss=Object.freeze({__proto__:null,ARIA_ATTR:Os,ATTR_WHITESPACE:hr,CUSTOM_ELEMENT:Ds,DATA_ATTR:St,DOCTYPE_NAME:ir,ERB_EXPR:Re,IS_ALLOWED_URI:hs,IS_SCRIPT_OR_DATA:vr,MUSTACHE_EXPR:Fs,TMPLIT_EXPR:ut});const Ls={element:1,text:3,progressingInstruction:7,comment:8,document:9},rr=function(){return typeof window>"u"?null:window},xr=function(Ts,ft){if(typeof Ts!="object"||typeof Ts.createPolicy!="function")return null;let $t=null;const ks="data-tt-policy-suffix";ft&&ft.hasAttribute(ks)&&($t=ft.getAttribute(ks));const Gs="dompurify"+($t?"#"+$t:"");try{return Ts.createPolicy(Gs,{createHTML(lr){return lr},createScriptURL(lr){return lr}})}catch{return console.warn("TrustedTypes policy "+Gs+" could not be created."),null}},en=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function wr(){let Xs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rr();const Ts=gt=>wr(gt);if(Ts.version="3.3.1",Ts.removed=[],!Xs||!Xs.document||Xs.document.nodeType!==Ls.document||!Xs.Element)return Ts.isSupported=!1,Ts;let{document:ft}=Xs;const $t=ft,ks=$t.currentScript,{DocumentFragment:Gs,HTMLTemplateElement:lr,Node:wt,Element:qt,NodeFilter:As,NamedNodeMap:fs=Xs.NamedNodeMap||Xs.MozNamedAttrMap,HTMLFormElement:Vs,DOMParser:Ks,trustedTypes:pr}=Xs,rn=qt.prototype,ya=be(rn,"cloneNode"),La=be(rn,"remove"),ps=be(rn,"nextSibling"),xs=be(rn,"childNodes"),cs=be(rn,"parentNode");if(typeof lr=="function"){const gt=ft.createElement("template");gt.content&&gt.content.ownerDocument&&(ft=gt.content.ownerDocument)}let fr,$r="";const{implementation:Ps,createNodeIterator:wa,createDocumentFragment:Vn,getElementsByTagName:sa}=ft,{importNode:an}=$t;let Rr=en();Ts.isSupported=typeof f=="function"&&typeof cs=="function"&&Ps&&Ps.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Gn,ERB_EXPR:Kn,TMPLIT_EXPR:ti,DATA_ATTR:On,ARIA_ATTR:mc,IS_SCRIPT_OR_DATA:li,ATTR_WHITESPACE:Fo,CUSTOM_ELEMENT:Kl}=Ss;let{IS_ALLOWED_URI:Ao}=Ss,fa=null;const ki=De({},[...fe,...te,...ge,...Ve,...Bt]);let ra=null;const Fa=De({},[...We,...Ut,...Vt,...ls]);let qn=Object.seal(E(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ho=null,hi=null;const Ci=Object.seal(E(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let hl=!0,el=!0,Ll=!1,ga=!0,ja=!1,fo=!0,si=!1,Di=!1,fi=!1,Wr=!1,Ka=!1,Bi=!1,Qa=!0,po=!1;const Wn="user-content-";let Ki=!0,Ga=!1,Pa={},pi=null;const Uo=De({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Si=null;const xa=De({},["audio","video","img","source","image","track"]);let mi=null;const eo=De({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ei="http://www.w3.org/1998/Math/MathML",lo="http://www.w3.org/2000/svg",Tt="http://www.w3.org/1999/xhtml";let U=Tt,G=!1,J=null;const T=De({},[Ei,lo,Tt],ve);let M=De({},["mi","mo","mn","ms","mtext"]),$=De({},["annotation-xml"]);const ie=De({},["title","style","font","a","script"]);let we=null;const Pe=["application/xhtml+xml","text/html"],Ze="text/html";let N=null,v=null;const S=ft.createElement("form"),I=function(Ge){return Ge instanceof RegExp||Ge instanceof Function},R=function(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(v&&v===Ge)){if((!Ge||typeof Ge!="object")&&(Ge={}),Ge=he(Ge),we=Pe.indexOf(Ge.PARSER_MEDIA_TYPE)===-1?Ze:Ge.PARSER_MEDIA_TYPE,N=we==="application/xhtml+xml"?ve:ue,fa=Ae(Ge,"ALLOWED_TAGS")?De({},Ge.ALLOWED_TAGS,N):ki,ra=Ae(Ge,"ALLOWED_ATTR")?De({},Ge.ALLOWED_ATTR,N):Fa,J=Ae(Ge,"ALLOWED_NAMESPACES")?De({},Ge.ALLOWED_NAMESPACES,ve):T,mi=Ae(Ge,"ADD_URI_SAFE_ATTR")?De(he(eo),Ge.ADD_URI_SAFE_ATTR,N):eo,Si=Ae(Ge,"ADD_DATA_URI_TAGS")?De(he(xa),Ge.ADD_DATA_URI_TAGS,N):xa,pi=Ae(Ge,"FORBID_CONTENTS")?De({},Ge.FORBID_CONTENTS,N):Uo,ho=Ae(Ge,"FORBID_TAGS")?De({},Ge.FORBID_TAGS,N):he({}),hi=Ae(Ge,"FORBID_ATTR")?De({},Ge.FORBID_ATTR,N):he({}),Pa=Ae(Ge,"USE_PROFILES")?Ge.USE_PROFILES:!1,hl=Ge.ALLOW_ARIA_ATTR!==!1,el=Ge.ALLOW_DATA_ATTR!==!1,Ll=Ge.ALLOW_UNKNOWN_PROTOCOLS||!1,ga=Ge.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ja=Ge.SAFE_FOR_TEMPLATES||!1,fo=Ge.SAFE_FOR_XML!==!1,si=Ge.WHOLE_DOCUMENT||!1,Wr=Ge.RETURN_DOM||!1,Ka=Ge.RETURN_DOM_FRAGMENT||!1,Bi=Ge.RETURN_TRUSTED_TYPE||!1,fi=Ge.FORCE_BODY||!1,Qa=Ge.SANITIZE_DOM!==!1,po=Ge.SANITIZE_NAMED_PROPS||!1,Ki=Ge.KEEP_CONTENT!==!1,Ga=Ge.IN_PLACE||!1,Ao=Ge.ALLOWED_URI_REGEXP||hs,U=Ge.NAMESPACE||Tt,M=Ge.MATHML_TEXT_INTEGRATION_POINTS||M,$=Ge.HTML_INTEGRATION_POINTS||$,qn=Ge.CUSTOM_ELEMENT_HANDLING||{},Ge.CUSTOM_ELEMENT_HANDLING&&I(Ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(qn.tagNameCheck=Ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ge.CUSTOM_ELEMENT_HANDLING&&I(Ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(qn.attributeNameCheck=Ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ge.CUSTOM_ELEMENT_HANDLING&&typeof Ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(qn.allowCustomizedBuiltInElements=Ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ja&&(el=!1),Ka&&(Wr=!0),Pa&&(fa=De({},Bt),ra=[],Pa.html===!0&&(De(fa,fe),De(ra,We)),Pa.svg===!0&&(De(fa,te),De(ra,Ut),De(ra,ls)),Pa.svgFilters===!0&&(De(fa,ge),De(ra,Ut),De(ra,ls)),Pa.mathMl===!0&&(De(fa,Ve),De(ra,Vt),De(ra,ls))),Ge.ADD_TAGS&&(typeof Ge.ADD_TAGS=="function"?Ci.tagCheck=Ge.ADD_TAGS:(fa===ki&&(fa=he(fa)),De(fa,Ge.ADD_TAGS,N))),Ge.ADD_ATTR&&(typeof Ge.ADD_ATTR=="function"?Ci.attributeCheck=Ge.ADD_ATTR:(ra===Fa&&(ra=he(ra)),De(ra,Ge.ADD_ATTR,N))),Ge.ADD_URI_SAFE_ATTR&&De(mi,Ge.ADD_URI_SAFE_ATTR,N),Ge.FORBID_CONTENTS&&(pi===Uo&&(pi=he(pi)),De(pi,Ge.FORBID_CONTENTS,N)),Ge.ADD_FORBID_CONTENTS&&(pi===Uo&&(pi=he(pi)),De(pi,Ge.ADD_FORBID_CONTENTS,N)),Ki&&(fa["#text"]=!0),si&&De(fa,["html","head","body"]),fa.table&&(De(fa,["tbody"]),delete ho.tbody),Ge.TRUSTED_TYPES_POLICY){if(typeof Ge.TRUSTED_TYPES_POLICY.createHTML!="function")throw pe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ge.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');fr=Ge.TRUSTED_TYPES_POLICY,$r=fr.createHTML("")}else fr===void 0&&(fr=xr(pr,ks)),fr!==null&&typeof $r=="string"&&($r=fr.createHTML(""));w&&w(Ge),v=Ge}},V=De({},[...te,...ge,...Ue]),ce=De({},[...Ve,...kt]),q=function(Ge){let Mt=cs(Ge);(!Mt||!Mt.tagName)&&(Mt={namespaceURI:U,tagName:"template"});const is=ue(Ge.tagName),Ht=ue(Mt.tagName);return J[Ge.namespaceURI]?Ge.namespaceURI===lo?Mt.namespaceURI===Tt?is==="svg":Mt.namespaceURI===Ei?is==="svg"&&(Ht==="annotation-xml"||M[Ht]):!!V[is]:Ge.namespaceURI===Ei?Mt.namespaceURI===Tt?is==="math":Mt.namespaceURI===lo?is==="math"&&$[Ht]:!!ce[is]:Ge.namespaceURI===Tt?Mt.namespaceURI===lo&&!$[Ht]||Mt.namespaceURI===Ei&&!M[Ht]?!1:!ce[is]&&(ie[is]||!V[is]):!!(we==="application/xhtml+xml"&&J[Ge.namespaceURI]):!1},ee=function(Ge){K(Ts.removed,{element:Ge});try{cs(Ge).removeChild(Ge)}catch{La(Ge)}},ke=function(Ge,Mt){try{K(Ts.removed,{attribute:Mt.getAttributeNode(Ge),from:Mt})}catch{K(Ts.removed,{attribute:null,from:Mt})}if(Mt.removeAttribute(Ge),Ge==="is")if(Wr||Ka)try{ee(Mt)}catch{}else try{Mt.setAttribute(Ge,"")}catch{}},Me=function(Ge){let Mt=null,is=null;if(fi)Ge="<remove></remove>"+Ge;else{const es=le(Ge,/^[\r\n\t ]+/);is=es&&es[0]}we==="application/xhtml+xml"&&U===Tt&&(Ge='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ge+"</body></html>");const Ht=fr?fr.createHTML(Ge):Ge;if(U===Tt)try{Mt=new Ks().parseFromString(Ht,we)}catch{}if(!Mt||!Mt.documentElement){Mt=Ps.createDocument(U,"template",null);try{Mt.documentElement.innerHTML=G?$r:Ht}catch{}}const vt=Mt.body||Mt.documentElement;return Ge&&is&&vt.insertBefore(ft.createTextNode(is),vt.childNodes[0]||null),U===Tt?sa.call(Mt,si?"html":"body")[0]:si?Mt.documentElement:vt},$e=function(Ge){return wa.call(Ge.ownerDocument||Ge,Ge,As.SHOW_ELEMENT|As.SHOW_COMMENT|As.SHOW_TEXT|As.SHOW_PROCESSING_INSTRUCTION|As.SHOW_CDATA_SECTION,null)},Je=function(Ge){return Ge instanceof Vs&&(typeof Ge.nodeName!="string"||typeof Ge.textContent!="string"||typeof Ge.removeChild!="function"||!(Ge.attributes instanceof fs)||typeof Ge.removeAttribute!="function"||typeof Ge.setAttribute!="function"||typeof Ge.namespaceURI!="string"||typeof Ge.insertBefore!="function"||typeof Ge.hasChildNodes!="function")},xe=function(Ge){return typeof wt=="function"&&Ge instanceof wt};function ct(gt,Ge,Mt){X(gt,is=>{is.call(Ts,Ge,Mt,v)})}const ot=function(Ge){let Mt=null;if(ct(Rr.beforeSanitizeElements,Ge,null),Je(Ge))return ee(Ge),!0;const is=N(Ge.nodeName);if(ct(Rr.uponSanitizeElement,Ge,{tagName:is,allowedTags:fa}),fo&&Ge.hasChildNodes()&&!xe(Ge.firstElementChild)&&se(/<[/\w!]/g,Ge.innerHTML)&&se(/<[/\w!]/g,Ge.textContent)||Ge.nodeType===Ls.progressingInstruction||fo&&Ge.nodeType===Ls.comment&&se(/<[/\w]/g,Ge.data))return ee(Ge),!0;if(!(Ci.tagCheck instanceof Function&&Ci.tagCheck(is))&&(!fa[is]||ho[is])){if(!ho[is]&&Ye(is)&&(qn.tagNameCheck instanceof RegExp&&se(qn.tagNameCheck,is)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(is)))return!1;if(Ki&&!pi[is]){const Ht=cs(Ge)||Ge.parentNode,vt=xs(Ge)||Ge.childNodes;if(vt&&Ht){const es=vt.length;for(let Xe=es-1;Xe>=0;--Xe){const rt=ya(vt[Xe],!0);rt.__removalCount=(Ge.__removalCount||0)+1,Ht.insertBefore(rt,ps(Ge))}}}return ee(Ge),!0}return Ge instanceof qt&&!q(Ge)||(is==="noscript"||is==="noembed"||is==="noframes")&&se(/<\/no(script|embed|frames)/i,Ge.innerHTML)?(ee(Ge),!0):(ja&&Ge.nodeType===Ls.text&&(Mt=Ge.textContent,X([Gn,Kn,ti],Ht=>{Mt=Ce(Mt,Ht," ")}),Ge.textContent!==Mt&&(K(Ts.removed,{element:Ge.cloneNode()}),Ge.textContent=Mt)),ct(Rr.afterSanitizeElements,Ge,null),!1)},At=function(Ge,Mt,is){if(Qa&&(Mt==="id"||Mt==="name")&&(is in ft||is in S))return!1;if(!(el&&!hi[Mt]&&se(On,Mt))){if(!(hl&&se(mc,Mt))){if(!(Ci.attributeCheck instanceof Function&&Ci.attributeCheck(Mt,Ge))){if(!ra[Mt]||hi[Mt]){if(!(Ye(Ge)&&(qn.tagNameCheck instanceof RegExp&&se(qn.tagNameCheck,Ge)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(Ge))&&(qn.attributeNameCheck instanceof RegExp&&se(qn.attributeNameCheck,Mt)||qn.attributeNameCheck instanceof Function&&qn.attributeNameCheck(Mt,Ge))||Mt==="is"&&qn.allowCustomizedBuiltInElements&&(qn.tagNameCheck instanceof RegExp&&se(qn.tagNameCheck,is)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(is))))return!1}else if(!mi[Mt]){if(!se(Ao,Ce(is,Fo,""))){if(!((Mt==="src"||Mt==="xlink:href"||Mt==="href")&&Ge!=="script"&&oe(is,"data:")===0&&Si[Ge])){if(!(Ll&&!se(li,Ce(is,Fo,"")))){if(is)return!1}}}}}}}return!0},Ye=function(Ge){return Ge!=="annotation-xml"&&le(Ge,Kl)},yt=function(Ge){ct(Rr.beforeSanitizeAttributes,Ge,null);const{attributes:Mt}=Ge;if(!Mt||Je(Ge))return;const is={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ra,forceKeepAttr:void 0};let Ht=Mt.length;for(;Ht--;){const vt=Mt[Ht],{name:es,namespaceURI:Xe,value:rt}=vt,xt=N(es),bt=rt;let rs=es==="value"?bt:Ne(bt);if(is.attrName=xt,is.attrValue=rs,is.keepAttr=!0,is.forceKeepAttr=void 0,ct(Rr.uponSanitizeAttribute,Ge,is),rs=is.attrValue,po&&(xt==="id"||xt==="name")&&(ke(es,Ge),rs=Wn+rs),fo&&se(/((--!?|])>)|<\/(style|title|textarea)/i,rs)){ke(es,Ge);continue}if(xt==="attributename"&&le(rs,"href")){ke(es,Ge);continue}if(is.forceKeepAttr)continue;if(!is.keepAttr){ke(es,Ge);continue}if(!ga&&se(/\/>/i,rs)){ke(es,Ge);continue}ja&&X([Gn,Kn,ti],ys=>{rs=Ce(rs,ys," ")});const us=N(Ge.nodeName);if(!At(us,xt,rs)){ke(es,Ge);continue}if(fr&&typeof pr=="object"&&typeof pr.getAttributeType=="function"&&!Xe)switch(pr.getAttributeType(us,xt)){case"TrustedHTML":{rs=fr.createHTML(rs);break}case"TrustedScriptURL":{rs=fr.createScriptURL(rs);break}}if(rs!==bt)try{Xe?Ge.setAttributeNS(Xe,es,rs):Ge.setAttribute(es,rs),Je(Ge)?ee(Ge):Q(Ts.removed)}catch{ke(es,Ge)}}ct(Rr.afterSanitizeAttributes,Ge,null)},Pt=function gt(Ge){let Mt=null;const is=$e(Ge);for(ct(Rr.beforeSanitizeShadowDOM,Ge,null);Mt=is.nextNode();)ct(Rr.uponSanitizeShadowNode,Mt,null),ot(Mt),yt(Mt),Mt.content instanceof Gs&&gt(Mt.content);ct(Rr.afterSanitizeShadowDOM,Ge,null)};return Ts.sanitize=function(gt){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mt=null,is=null,Ht=null,vt=null;if(G=!gt,G&&(gt="<!-->"),typeof gt!="string"&&!xe(gt))if(typeof gt.toString=="function"){if(gt=gt.toString(),typeof gt!="string")throw pe("dirty is not a string, aborting")}else throw pe("toString is not a function");if(!Ts.isSupported)return gt;if(Di||R(Ge),Ts.removed=[],typeof gt=="string"&&(Ga=!1),Ga){if(gt.nodeName){const rt=N(gt.nodeName);if(!fa[rt]||ho[rt])throw pe("root node is forbidden and cannot be sanitized in-place")}}else if(gt instanceof wt)Mt=Me("<!---->"),is=Mt.ownerDocument.importNode(gt,!0),is.nodeType===Ls.element&&is.nodeName==="BODY"||is.nodeName==="HTML"?Mt=is:Mt.appendChild(is);else{if(!Wr&&!ja&&!si&&gt.indexOf("<")===-1)return fr&&Bi?fr.createHTML(gt):gt;if(Mt=Me(gt),!Mt)return Wr?null:Bi?$r:""}Mt&&fi&&ee(Mt.firstChild);const es=$e(Ga?gt:Mt);for(;Ht=es.nextNode();)ot(Ht),yt(Ht),Ht.content instanceof Gs&&Pt(Ht.content);if(Ga)return gt;if(Wr){if(Ka)for(vt=Vn.call(Mt.ownerDocument);Mt.firstChild;)vt.appendChild(Mt.firstChild);else vt=Mt;return(ra.shadowroot||ra.shadowrootmode)&&(vt=an.call($t,vt,!0)),vt}let Xe=si?Mt.outerHTML:Mt.innerHTML;return si&&fa["!doctype"]&&Mt.ownerDocument&&Mt.ownerDocument.doctype&&Mt.ownerDocument.doctype.name&&se(ir,Mt.ownerDocument.doctype.name)&&(Xe="<!DOCTYPE "+Mt.ownerDocument.doctype.name+`>
`+Xe),ja&&X([Gn,Kn,ti],rt=>{Xe=Ce(Xe,rt," ")}),fr&&Bi?fr.createHTML(Xe):Xe},Ts.setConfig=function(){let gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(gt),Di=!0},Ts.clearConfig=function(){v=null,Di=!1},Ts.isValidAttribute=function(gt,Ge,Mt){v||R({});const is=N(gt),Ht=N(Ge);return At(is,Ht,Mt)},Ts.addHook=function(gt,Ge){typeof Ge=="function"&&K(Rr[gt],Ge)},Ts.removeHook=function(gt,Ge){if(Ge!==void 0){const Mt=Y(Rr[gt],Ge);return Mt===-1?void 0:de(Rr[gt],Mt,1)[0]}return Q(Rr[gt])},Ts.removeHooks=function(gt){Rr[gt]=[]},Ts.removeAllHooks=function(){Rr=en()},Ts}var tr=wr()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return P}});var f=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),p=o("./node_modules/pako/dist/pako.esm.mjs"),m=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),x=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),b=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),w=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),y=o("./node_modules/fast-png/lib-esm/helpers/text.js"),E=o("./node_modules/fast-png/lib-esm/internalTypes.js");class P extends f.IOBuffer{constructor(Q,K={}){super(Q);Va(this,"_checkCrc");Va(this,"_inflator");Va(this,"_png");Va(this,"_apng");Va(this,"_end");Va(this,"_hasPalette");Va(this,"_palette");Va(this,"_hasTransparency");Va(this,"_transparency");Va(this,"_compressionMethod");Va(this,"_filterMethod");Va(this,"_interlaceMethod");Va(this,"_colorType");Va(this,"_isAnimated");Va(this,"_numberOfFrames");Va(this,"_numberOfPlays");Va(this,"_frames");Va(this,"_writingDataChunks");const{checkCrc:de=!1}=K;this._checkCrc=de,this._inflator=new p.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=E.CompressionMethod.UNKNOWN,this._filterMethod=E.FilterMethod.UNKNOWN,this._interlaceMethod=E.InterlaceMethod.UNKNOWN,this._colorType=E.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,w.checkSignature)(this);!this._end;){const Q=this.readUint32(),K=this.readChars(4);this.decodeChunk(Q,K)}return this.decodeImage(),this._png}decodeApng(){for((0,w.checkSignature)(this);!this._end;){const Q=this.readUint32(),K=this.readChars(4);this.decodeApngChunk(Q,K)}return this.decodeApngImage(),this._apng}decodeChunk(Q,K){const de=this.offset;switch(K){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(Q);break;case"IDAT":this.decodeIDAT(Q);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(Q);break;case"iCCP":this.decodeiCCP(Q);break;case y.textChunkName:(0,y.decodetEXt)(this._png.text,this,Q);break;case"pHYs":this.decodepHYs();break;default:this.skip(Q);break}if(this.offset-de!==Q)throw new Error(`Length mismatch while decoding chunk ${K}`);this._checkCrc?(0,m.checkCrc)(this,Q+4,K):this.skip(4)}decodeApngChunk(Q,K){const de=this.offset;switch(K!=="fdAT"&&K!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),K){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(Q);break;default:this.decodeChunk(Q,K),this.offset=de+Q;break}if(this.offset-de!==Q)throw new Error(`Length mismatch while decoding chunk ${K}`);this._checkCrc?(0,m.checkCrc)(this,Q+4,K):this.skip(4)}decodeIHDR(){const Q=this._png;Q.width=this.readUint32(),Q.height=this.readUint32(),Q.depth=z(this.readUint8());const K=this.readUint8();this._colorType=K;let de;switch(K){case E.ColorType.GREYSCALE:de=1;break;case E.ColorType.TRUECOLOUR:de=3;break;case E.ColorType.INDEXED_COLOUR:de=1;break;case E.ColorType.GREYSCALE_ALPHA:de=2;break;case E.ColorType.TRUECOLOUR_ALPHA:de=4;break;case E.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${K}`)}if(this._png.channels=de,this._compressionMethod=this.readUint8(),this._compressionMethod!==E.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const Q={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(Q)}decodePLTE(Q){if(Q%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${Q}`);const K=Q/3;this._hasPalette=!0;const de=[];this._palette=de;for(let ue=0;ue<K;ue++)de.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(Q){this._writingDataChunks=!0;const K=Q,de=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,de,K)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(Q)}decodeFDAT(Q){this._writingDataChunks=!0;let K=Q,de=this.offset+this.byteOffset;if(de+=4,K-=4,this._inflator.push(new Uint8Array(this.buffer,de,K)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(Q)}decodetRNS(Q){switch(this._colorType){case E.ColorType.GREYSCALE:case E.ColorType.TRUECOLOUR:{if(Q%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${Q}`);if(Q/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${Q/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(Q/2);for(let K=0;K<Q/2;K++)this._transparency[K]=this.readUint16();break}case E.ColorType.INDEXED_COLOUR:{if(Q>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${Q} vs ${this._palette.length})`);let K=0;for(;K<Q;K++){const de=this.readByte();this._palette[K].push(de)}for(;K<this._palette.length;K++)this._palette[K].push(255);break}case E.ColorType.UNKNOWN:case E.ColorType.GREYSCALE_ALPHA:case E.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(Q){const K=(0,y.readKeyword)(this),de=this.readUint8();if(de!==E.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${de}`);const ue=this.readBytes(Q-K.length-2);this._png.iccEmbeddedProfile={name:K,profile:(0,p.inflate)(ue)}}decodepHYs(){const Q=this.readUint32(),K=this.readUint32(),de=this.readByte();this._png.resolution={x:Q,y:K,unit:de}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let Q=0;Q<this._numberOfFrames;Q++){const K={sequenceNumber:this._frames[Q].sequenceNumber,delayNumber:this._frames[Q].delayNumber,delayDenominator:this._frames[Q].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},de=this._frames.at(Q);if(de){if(de.data=(0,b.decodeInterlaceNull)({data:de.data,width:de.width,height:de.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),Q===0||de.xOffset===0&&de.yOffset===0&&de.width===this._png.width&&de.height===this._png.height)K.data=de.data;else{const ue=this._apng.frames.at(Q-1);this.disposeFrame(de,ue,K),this.addFrameDataToCanvas(K,de)}this._apng.frames.push(K)}}return this._apng}disposeFrame(Q,K,de){switch(Q.disposeOp){case E.DisposeOpType.NONE:break;case E.DisposeOpType.BACKGROUND:for(let ue=0;ue<this._png.height;ue++)for(let ve=0;ve<this._png.width;ve++){const le=(ue*Q.width+ve)*this._png.channels;for(let Ce=0;Ce<this._png.channels;Ce++)de.data[le+Ce]=0}break;case E.DisposeOpType.PREVIOUS:de.data.set(K.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(Q,K){const de=1<<this._png.depth,ue=(ve,le)=>{const Ce=((ve+K.yOffset)*this._png.width+K.xOffset+le)*this._png.channels,oe=(ve*K.width+le)*this._png.channels;return{index:Ce,frameIndex:oe}};switch(K.blendOp){case E.BlendOpType.SOURCE:for(let ve=0;ve<K.height;ve++)for(let le=0;le<K.width;le++){const{index:Ce,frameIndex:oe}=ue(ve,le);for(let Ne=0;Ne<this._png.channels;Ne++)Q.data[Ce+Ne]=K.data[oe+Ne]}break;case E.BlendOpType.OVER:for(let ve=0;ve<K.height;ve++)for(let le=0;le<K.width;le++){const{index:Ce,frameIndex:oe}=ue(ve,le);for(let Ne=0;Ne<this._png.channels;Ne++){const Ae=K.data[oe+this._png.channels-1]/de,se=Ne%(this._png.channels-1)===0?1:K.data[oe+Ne],pe=Math.floor(Ae*se+(1-Ae)*Q.data[Ce+Ne]);Q.data[Ce+Ne]+=pe}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var K;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const Q=this._isAnimated?((K=this._frames)==null?void 0:K.at(0)).data:this._inflator.result;if(this._filterMethod!==E.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===E.InterlaceMethod.NO_INTERLACE)this._png.data=(0,b.decodeInterlaceNull)({data:Q,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===E.InterlaceMethod.ADAM7)this._png.data=(0,x.decodeInterlaceAdam7)({data:Q,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const Q=this._inflator.result,K=this._frames.at(-1);K?K.data=Q:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:E.DisposeOpType.NONE,blendOp:E.BlendOpType.SOURCE,data:Q}),this._inflator=new p.Inflate,this._writingDataChunks=!1}}function z(X){if(X!==1&&X!==2&&X!==4&&X!==8&&X!==16)throw new Error(`invalid bit depth: ${X}`);return X}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return E}});var f=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),p=o("./node_modules/pako/dist/pako.esm.mjs"),m=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),x=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),b=o("./node_modules/fast-png/lib-esm/helpers/text.js"),w=o("./node_modules/fast-png/lib-esm/internalTypes.js");const y={level:3};class E extends f.IOBuffer{constructor(ue,ve={}){super();Va(this,"_png");Va(this,"_zlibOptions");Va(this,"_colorType");Va(this,"_interlaceMethod");this._colorType=w.ColorType.UNKNOWN,this._zlibOptions={...y,...ve.zlib},this._png=this._checkData(ue),this._interlaceMethod=(ve.interlace==="Adam7"?w.InterlaceMethod.ADAM7:w.InterlaceMethod.NO_INTERLACE)??w.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,x.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[ue,ve]of Object.entries(this._png.text))(0,b.encodetEXt)(this,ue,ve);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(w.CompressionMethod.DEFLATE),this.writeByte(w.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,m.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,m.writeCrc)(this,4)}encodePLTE(){var ve;const ue=((ve=this._png.palette)==null?void 0:ve.length)*3;this.writeUint32(ue),this.writeChars("PLTE");for(const le of this._png.palette)this.writeByte(le[0]),this.writeByte(le[1]),this.writeByte(le[2]);(0,m.writeCrc)(this,4+ue)}encodeTRNS(){const ue=this._png.palette.filter(ve=>ve.at(-1)!==255);this.writeUint32(ue.length),this.writeChars("tRNS");for(const ve of ue)this.writeByte(ve.at(-1));(0,m.writeCrc)(this,4+ue.length)}encodeIDAT(ue){this.writeUint32(ue.length),this.writeChars("IDAT"),this.writeBytes(ue),(0,m.writeCrc)(this,ue.length+4)}encodeData(){const{width:ue,height:ve,channels:le,depth:Ce,data:oe}=this._png,Ne=Ce<=8?Math.ceil(ue*Ce/8)*le:Math.ceil(ue*Ce/8*le/2),Ae=new f.IOBuffer().setBigEndian();let se=0;if(this._interlaceMethod===w.InterlaceMethod.NO_INTERLACE)for(let Ee=0;Ee<ve;Ee++)Ae.writeByte(0),Ce===16?se=Q(oe,Ae,Ne,se):se=X(oe,Ae,Ne,se);else this._interlaceMethod===w.InterlaceMethod.ADAM7&&(se=Y(this._png,oe,Ae,se));const pe=Ae.toArray(),re=(0,p.deflate)(pe,this._zlibOptions);this.encodeIDAT(re)}_checkData(ue){const{colorType:ve,channels:le,depth:Ce}=z(ue,ue.palette),oe={width:P(ue.width,"width"),height:P(ue.height,"height"),channels:le,data:ue.data,depth:Ce,text:ue.text,palette:ue.palette};this._colorType=ve;const Ne=Ce<8?Math.ceil(oe.width*Ce/8)*oe.height*le:oe.width*oe.height*le;if(oe.data.length!==Ne)throw new RangeError(`wrong data size. Found ${oe.data.length}, expected ${Ne}`);return oe}}function P(K,de){if(Number.isInteger(K)&&K>0)return K;throw new TypeError(`${de} must be a positive integer`)}function z(K,de){const{channels:ue=4,depth:ve=8}=K;if(ue!==4&&ue!==3&&ue!==2&&ue!==1)throw new RangeError(`unsupported number of channels: ${ue}`);const le={channels:ue,depth:ve,colorType:w.ColorType.UNKNOWN};switch(ue){case 4:le.colorType=w.ColorType.TRUECOLOUR_ALPHA;break;case 3:le.colorType=w.ColorType.TRUECOLOUR;break;case 1:de?le.colorType=w.ColorType.INDEXED_COLOUR:le.colorType=w.ColorType.GREYSCALE;break;case 2:le.colorType=w.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return le}function X(K,de,ue,ve){for(let le=0;le<ue;le++)de.writeByte(K[ve++]);return ve}function Y(K,de,ue,ve){const le=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:Ce,height:oe,channels:Ne,depth:Ae}=K;let se=0;Ae===16?se=Ne*Ae/8/2:se=Ne*Ae/8;for(let pe=0;pe<7;pe++){const re=le[pe],Ee=Math.floor((Ce-re.x+re.xStep-1)/re.xStep),De=Math.floor((oe-re.y+re.yStep-1)/re.yStep);if(Ee<=0||De<=0)continue;const Se=Ee*se;for(let he=0;he<De;he++){const be=re.y+he*re.yStep,fe=Ae<=8?new Uint8Array(Se):new Uint16Array(Se);let te=0;for(let ge=0;ge<Ee;ge++){const Ue=re.x+ge*re.xStep;if(Ue<Ce&&be<oe){const Ve=(be*Ce+Ue)*se;for(let kt=0;kt<se;kt++)fe[te++]=de[Ve+kt]}}if(ue.writeByte(0),Ae===8)ue.writeBytes(fe);else if(Ae===16)for(const ge of fe)ue.writeByte(ge>>8&255),ue.writeByte(ge&255)}}return ve}function Q(K,de,ue,ve){for(let le=0;le<ue;le++)de.writeUint16(K[ve++]);return ve}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(d,A,o){o.r(A),o.d(A,{convertIndexedToRgb:function(){return f}});function f(m){const x=m.palette,b=m.depth;if(!x)throw new Error("Color palette is undefined.");p(m);const w=m.width*m.height,y=w*x[0].length,E=new Uint8Array(y);let P=0,z=0;const X=new Uint8Array(w);let Y=255;switch(b){case 1:Y=128;break;case 2:Y=192;break;case 4:Y=240;break;case 8:Y=255;break;default:throw new Error("Incorrect depth value")}for(const Q of m.data){let K=Y,de=8;for(;K&&(de-=b,X[P++]=(Q&K)>>de,K=K>>b,P%m.width!==0););}if(m.palette)for(const Q of X){const K=m.palette.at(Q);if(!K)throw new Error("Incorrect index of palette color");E.set(K,z),z+=K.length}return E}function p(m){const x=m.depth<8?Math.ceil(m.width*m.depth/8)*m.height*m.channels:m.width*m.height*m.channels;if(m.data.length!==x)throw new RangeError(`wrong data size. Found ${m.data.length}, expected ${x}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(d,A,o){o.r(A),o.d(A,{applyUnfilter:function(){return p}});var f=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function p(m,x,b,w,y,E){switch(m){case 0:(0,f.unfilterNone)(x,b,y);break;case 1:(0,f.unfilterSub)(x,b,y,E);break;case 2:(0,f.unfilterUp)(x,b,w,y);break;case 3:(0,f.unfilterAverage)(x,b,w,y,E);break;case 4:(0,f.unfilterPaeth)(x,b,w,y,E);break;default:throw new Error(`Unsupported filter: ${m}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(d,A,o){o.r(A),o.d(A,{checkCrc:function(){return b},writeCrc:function(){return w}});const f=[];for(let y=0;y<256;y++){let E=y;for(let P=0;P<8;P++)E&1?E=3988292384^E>>>1:E=E>>>1;f[y]=E}const p=4294967295;function m(y,E,P){let z=y;for(let X=0;X<P;X++)z=f[(z^E[X])&255]^z>>>8;return z}function x(y,E){return(m(p,y,E)^p)>>>0}function b(y,E,P){const z=y.readUint32(),X=x(new Uint8Array(y.buffer,y.byteOffset+y.offset-E-4,E),E);if(X!==z)throw new Error(`CRC mismatch for chunk ${P}. Expected ${z}, found ${X}`)}function w(y,E){y.writeUint32(x(new Uint8Array(y.buffer,y.byteOffset+y.offset-E,E),E))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(d,A,o){o.r(A),o.d(A,{decodeInterlaceAdam7:function(){return b}});var f=o("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const p=new Uint16Array([255]),x=new Uint8Array(p.buffer)[0]===255;function b(y){const{data:E,width:P,height:z,channels:X,depth:Y}=y,Q=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],K=Math.ceil(Y/8)*X,de=new Uint8Array(z*P*K);let ue=0;for(let ve=0;ve<7;ve++){const le=Q[ve],Ce=Math.ceil((P-le.x)/le.xStep),oe=Math.ceil((z-le.y)/le.yStep);if(Ce<=0||oe<=0)continue;const Ne=Ce*K,Ae=new Uint8Array(Ne);for(let se=0;se<oe;se++){const pe=E[ue++],re=E.subarray(ue,ue+Ne);ue+=Ne;const Ee=new Uint8Array(Ne);(0,f.applyUnfilter)(pe,re,Ee,Ae,Ne,K),Ae.set(Ee);for(let De=0;De<Ce;De++){const Se=le.x+De*le.xStep,he=le.y+se*le.yStep;if(!(Se>=P||he>=z))for(let be=0;be<K;be++)de[(he*P+Se)*K+be]=Ee[De*K+be]}}}if(Y===16){const ve=new Uint16Array(de.buffer);if(x)for(let le=0;le<ve.length;le++)ve[le]=w(ve[le]);return ve}else return de}function w(y){return(y&255)<<8|y>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(d,A,o){o.r(A),o.d(A,{decodeInterlaceNull:function(){return w}});var f=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const p=new Uint16Array([255]),x=new Uint8Array(p.buffer)[0]===255,b=new Uint8Array(0);function w(E){const{data:P,width:z,height:X,channels:Y,depth:Q}=E,K=Math.ceil(Q/8)*Y,de=Math.ceil(Q/8*Y*z),ue=new Uint8Array(X*de);let ve=b,le=0,Ce,oe;for(let Ne=0;Ne<X;Ne++){switch(Ce=P.subarray(le+1,le+1+de),oe=ue.subarray(Ne*de,(Ne+1)*de),P[le]){case 0:(0,f.unfilterNone)(Ce,oe,de);break;case 1:(0,f.unfilterSub)(Ce,oe,de,K);break;case 2:(0,f.unfilterUp)(Ce,oe,ve,de);break;case 3:(0,f.unfilterAverage)(Ce,oe,ve,de,K);break;case 4:(0,f.unfilterPaeth)(Ce,oe,ve,de,K);break;default:throw new Error(`Unsupported filter: ${P[le]}`)}ve=oe,le+=de+1}if(Q===16){const Ne=new Uint16Array(ue.buffer);if(x)for(let Ae=0;Ae<Ne.length;Ae++)Ne[Ae]=y(Ne[Ae]);return Ne}else return ue}function y(E){return(E&255)<<8|E>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(d,A,o){o.r(A),o.d(A,{checkSignature:function(){return m},hasPngSignature:function(){return x},writeSignature:function(){return p}});const f=Uint8Array.of(137,80,78,71,13,10,26,10);function p(b){b.writeBytes(f)}function m(b){if(!x(b.readBytes(f.length)))throw new Error("wrong PNG signature")}function x(b){if(b.length<f.length)return!1;for(let w=0;w<f.length;w++)if(b[w]!==f[w])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(d,A,o){o.r(A),o.d(A,{decodetEXt:function(){return E},encodetEXt:function(){return P},readKeyword:function(){return z},readLatin1:function(){return X},textChunkName:function(){return p}});var f=o("./node_modules/fast-png/lib-esm/helpers/crc.js");const p="tEXt",m=0,x=new TextDecoder("latin1");function b(Y){if(y(Y),Y.length===0||Y.length>79)throw new Error("keyword length must be between 1 and 79")}const w=/^[\u0000-\u00FF]*$/;function y(Y){if(!w.test(Y))throw new Error("invalid latin1 text")}function E(Y,Q,K){const de=z(Q);Y[de]=X(Q,K-de.length-1)}function P(Y,Q,K){b(Q),y(K);const de=Q.length+1+K.length;Y.writeUint32(de),Y.writeChars(p),Y.writeChars(Q),Y.writeByte(m),Y.writeChars(K),(0,f.writeCrc)(Y,de+4)}function z(Y){for(Y.mark();Y.readByte()!==m;);const Q=Y.offset;Y.reset();const K=x.decode(Y.readBytes(Q-Y.offset-1));return Y.skip(1),b(K),K}function X(Y,Q){return x.decode(Y.readBytes(Q))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(d,A,o){o.r(A),o.d(A,{unfilterAverage:function(){return x},unfilterNone:function(){return f},unfilterPaeth:function(){return b},unfilterSub:function(){return p},unfilterUp:function(){return m}});function f(y,E,P){for(let z=0;z<P;z++)E[z]=y[z]}function p(y,E,P,z){let X=0;for(;X<z;X++)E[X]=y[X];for(;X<P;X++)E[X]=y[X]+E[X-z]&255}function m(y,E,P,z){let X=0;if(P.length===0)for(;X<z;X++)E[X]=y[X];else for(;X<z;X++)E[X]=y[X]+P[X]&255}function x(y,E,P,z,X){let Y=0;if(P.length===0){for(;Y<X;Y++)E[Y]=y[Y];for(;Y<z;Y++)E[Y]=y[Y]+(E[Y-X]>>1)&255}else{for(;Y<X;Y++)E[Y]=y[Y]+(P[Y]>>1)&255;for(;Y<z;Y++)E[Y]=y[Y]+(E[Y-X]+P[Y]>>1)&255}}function b(y,E,P,z,X){let Y=0;if(P.length===0){for(;Y<X;Y++)E[Y]=y[Y];for(;Y<z;Y++)E[Y]=y[Y]+E[Y-X]&255}else{for(;Y<X;Y++)E[Y]=y[Y]+P[Y]&255;for(;Y<z;Y++)E[Y]=y[Y]+w(E[Y-X],P[Y],P[Y-X])&255}}function w(y,E,P){const z=y+E-P,X=Math.abs(z-y),Y=Math.abs(z-E),Q=Math.abs(z-P);return X<=Y&&X<=Q?y:Y<=Q?E:P}}),"./node_modules/fast-png/lib-esm/index.js":(function(d,A,o){o.r(A),o.d(A,{ResolutionUnitSpecifier:function(){return x.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return b.convertIndexedToRgb},decode:function(){return w},decodeApng:function(){return E},encode:function(){return y},hasPngSignature:function(){return m.hasPngSignature}});var f=o("./node_modules/fast-png/lib-esm/PngDecoder.js"),p=o("./node_modules/fast-png/lib-esm/PngEncoder.js"),m=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=o("./node_modules/fast-png/lib-esm/types.js"),b=o("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function w(P,z){return new f.default(P,z).decode()}function y(P,z){return new p.default(P,z).encode()}function E(P,z){return new f.default(P,z).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(d,A,o){o.r(A),o.d(A,{BlendOpType:function(){return w},ColorType:function(){return f},CompressionMethod:function(){return p},DisposeOpType:function(){return b},FilterMethod:function(){return m},InterlaceMethod:function(){return x}});const f={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},p={UNKNOWN:-1,DEFLATE:0},m={UNKNOWN:-1,ADAPTIVE:0},x={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},b={NONE:0,BACKGROUND:1,PREVIOUS:2},w={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(d,A,o){o.r(A),o.d(A,{ResolutionUnitSpecifier:function(){return f}});var f;(function(p){p[p.UNKNOWN=0]="UNKNOWN",p[p.METRE=1]="METRE"})(f||(f={}))}),"./node_modules/fflate/esm/browser.js":(function(d,A,o){o.r(A),o.d(A,{AsyncCompress:function(){return Rr},AsyncDecompress:function(){return hi},AsyncDeflate:function(){return cs},AsyncGunzip:function(){return On},AsyncGzip:function(){return Rr},AsyncInflate:function(){return wa},AsyncUnzipInflate:function(){return lo},AsyncUnzlib:function(){return ra},AsyncZipDeflate:function(){return Uo},AsyncZlib:function(){return Kl},Compress:function(){return an},DecodeUTF8:function(){return si},Decompress:function(){return ho},Deflate:function(){return xs},EncodeUTF8:function(){return Di},FlateErrorCode:function(){return fe},Gunzip:function(){return ti},Gzip:function(){return an},Inflate:function(){return Ps},Unzip:function(){return Tt},UnzipInflate:function(){return Ei},UnzipPassThrough:function(){return eo},Unzlib:function(){return ki},Zip:function(){return Si},ZipDeflate:function(){return pi},ZipPassThrough:function(){return Pa},Zlib:function(){return Fo},compress:function(){return Gn},compressSync:function(){return Kn},decompress:function(){return Ci},decompressSync:function(){return hl},deflate:function(){return fr},deflateSync:function(){return $r},gunzip:function(){return mc},gunzipSync:function(){return li},gzip:function(){return Gn},gzipSync:function(){return Kn},inflate:function(){return Vn},inflateSync:function(){return sa},strFromU8:function(){return Wr},strToU8:function(){return fi},unzip:function(){return G},unzipSync:function(){return J},unzlib:function(){return Fa},unzlibSync:function(){return qn},zip:function(){return xa},zipSync:function(){return mi},zlib:function(){return Ao},zlibSync:function(){return fa}});var f={},p=(function(T,M,$,ie,we){var Pe=new Worker(f[M]||(f[M]=URL.createObjectURL(new Blob([T+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Pe.onmessage=function(Ze){var N=Ze.data,v=N.$e$;if(v){var S=new Error(v[0]);S.code=v[1],S.stack=v[2],we(S,null)}else we(null,N)},Pe.postMessage($,ie),Pe}),m=Uint8Array,x=Uint16Array,b=Int32Array,w=new m([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y=new m([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),E=new m([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P=function(T,M){for(var $=new x(31),ie=0;ie<31;++ie)$[ie]=M+=1<<T[ie-1];for(var we=new b($[30]),ie=1;ie<30;++ie)for(var Pe=$[ie];Pe<$[ie+1];++Pe)we[Pe]=Pe-$[ie]<<5|ie;return{b:$,r:we}},z=P(w,2),X=z.b,Y=z.r;X[28]=258,Y[258]=28;for(var Q=P(y,0),K=Q.b,de=Q.r,ue=new x(32768),ve=0;ve<32768;++ve){var le=(ve&43690)>>1|(ve&21845)<<1;le=(le&52428)>>2|(le&13107)<<2,le=(le&61680)>>4|(le&3855)<<4,ue[ve]=((le&65280)>>8|(le&255)<<8)>>1}for(var Ce=(function(T,M,$){for(var ie=T.length,we=0,Pe=new x(M);we<ie;++we)T[we]&&++Pe[T[we]-1];var Ze=new x(M);for(we=1;we<M;++we)Ze[we]=Ze[we-1]+Pe[we-1]<<1;var N;if($){N=new x(1<<M);var v=15-M;for(we=0;we<ie;++we)if(T[we])for(var S=we<<4|T[we],I=M-T[we],R=Ze[T[we]-1]++<<I,V=R|(1<<I)-1;R<=V;++R)N[ue[R]>>v]=S}else for(N=new x(ie),we=0;we<ie;++we)T[we]&&(N[we]=ue[Ze[T[we]-1]++]>>15-T[we]);return N}),oe=new m(288),ve=0;ve<144;++ve)oe[ve]=8;for(var ve=144;ve<256;++ve)oe[ve]=9;for(var ve=256;ve<280;++ve)oe[ve]=7;for(var ve=280;ve<288;++ve)oe[ve]=8;for(var Ne=new m(32),ve=0;ve<32;++ve)Ne[ve]=5;var Ae=Ce(oe,9,0),se=Ce(oe,9,1),pe=Ce(Ne,5,0),re=Ce(Ne,5,1),Ee=function(T){for(var M=T[0],$=1;$<T.length;++$)T[$]>M&&(M=T[$]);return M},De=function(T,M,$){var ie=M/8|0;return(T[ie]|T[ie+1]<<8)>>(M&7)&$},Se=function(T,M){var $=M/8|0;return(T[$]|T[$+1]<<8|T[$+2]<<16)>>(M&7)},he=function(T){return(T+7)/8|0},be=function(T,M,$){return(M==null||M<0)&&(M=0),($==null||$>T.length)&&($=T.length),new m(T.subarray(M,$))},fe={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},te=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ge=function(T,M,$){var ie=new Error(M||te[T]);if(ie.code=T,Error.captureStackTrace&&Error.captureStackTrace(ie,ge),!$)throw ie;return ie},Ue=function(T,M,$,ie){var we=T.length,Pe=ie?ie.length:0;if(!we||M.f&&!M.l)return $||new m(0);var Ze=!$,N=Ze||M.i!=2,v=M.i;Ze&&($=new m(we*3));var S=function(ht){var Ot=$.length;if(ht>Ot){var Rt=new m(Math.max(Ot*2,ht));Rt.set($),$=Rt}},I=M.f||0,R=M.p||0,V=M.b||0,ce=M.l,q=M.d,ee=M.m,ke=M.n,Me=we*8;do{if(!ce){I=De(T,R,1);var $e=De(T,R+1,3);if(R+=3,$e)if($e==1)ce=se,q=re,ee=9,ke=5;else if($e==2){var ot=De(T,R,31)+257,At=De(T,R+10,15)+4,Ye=ot+De(T,R+5,31)+1;R+=14;for(var yt=new m(Ye),Pt=new m(19),gt=0;gt<At;++gt)Pt[E[gt]]=De(T,R+gt*3,7);R+=At*3;for(var Ge=Ee(Pt),Mt=(1<<Ge)-1,is=Ce(Pt,Ge,1),gt=0;gt<Ye;){var Ht=is[De(T,R,Mt)];R+=Ht&15;var Je=Ht>>4;if(Je<16)yt[gt++]=Je;else{var vt=0,es=0;for(Je==16?(es=3+De(T,R,3),R+=2,vt=yt[gt-1]):Je==17?(es=3+De(T,R,7),R+=3):Je==18&&(es=11+De(T,R,127),R+=7);es--;)yt[gt++]=vt}}var Xe=yt.subarray(0,ot),rt=yt.subarray(ot);ee=Ee(Xe),ke=Ee(rt),ce=Ce(Xe,ee,1),q=Ce(rt,ke,1)}else ge(1);else{var Je=he(R)+4,xe=T[Je-4]|T[Je-3]<<8,ct=Je+xe;if(ct>we){v&&ge(0);break}N&&S(V+xe),$.set(T.subarray(Je,ct),V),M.b=V+=xe,M.p=R=ct*8,M.f=I;continue}if(R>Me){v&&ge(0);break}}N&&S(V+131072);for(var xt=(1<<ee)-1,bt=(1<<ke)-1,rs=R;;rs=R){var vt=ce[Se(T,R)&xt],us=vt>>4;if(R+=vt&15,R>Me){v&&ge(0);break}if(vt||ge(2),us<256)$[V++]=us;else if(us==256){rs=R,ce=null;break}else{var ys=us-254;if(us>264){var gt=us-257,Kt=w[gt];ys=De(T,R,(1<<Kt)-1)+X[gt],R+=Kt}var ms=q[Se(T,R)&bt],Js=ms>>4;ms||ge(3),R+=ms&15;var rt=K[Js];if(Js>3){var Kt=y[Js];rt+=Se(T,R)&(1<<Kt)-1,R+=Kt}if(R>Me){v&&ge(0);break}N&&S(V+131072);var Hs=V+ys;if(V<rt){var _e=Pe-rt,dt=Math.min(rt,Hs);for(_e+V<0&&ge(3);V<dt;++V)$[V]=ie[_e+V]}for(;V<Hs;++V)$[V]=$[V-rt]}}M.l=ce,M.p=rs,M.b=V,M.f=I,ce&&(I=1,M.m=ee,M.d=q,M.n=ke)}while(!I);return V!=$.length&&Ze?be($,0,V):$.subarray(0,V)},Ve=function(T,M,$){$<<=M&7;var ie=M/8|0;T[ie]|=$,T[ie+1]|=$>>8},kt=function(T,M,$){$<<=M&7;var ie=M/8|0;T[ie]|=$,T[ie+1]|=$>>8,T[ie+2]|=$>>16},Bt=function(T,M){for(var $=[],ie=0;ie<T.length;++ie)T[ie]&&$.push({s:ie,f:T[ie]});var we=$.length,Pe=$.slice();if(!we)return{t:ut,l:0};if(we==1){var Ze=new m($[0].s+1);return Ze[$[0].s]=1,{t:Ze,l:1}}$.sort(function(ct,ot){return ct.f-ot.f}),$.push({s:-1,f:25001});var N=$[0],v=$[1],S=0,I=1,R=2;for($[0]={s:-1,f:N.f+v.f,l:N,r:v};I!=we-1;)N=$[$[S].f<$[R].f?S++:R++],v=$[S!=I&&$[S].f<$[R].f?S++:R++],$[I++]={s:-1,f:N.f+v.f,l:N,r:v};for(var V=Pe[0].s,ie=1;ie<we;++ie)Pe[ie].s>V&&(V=Pe[ie].s);var ce=new x(V+1),q=We($[I-1],ce,0);if(q>M){var ie=0,ee=0,ke=q-M,Me=1<<ke;for(Pe.sort(function(ot,At){return ce[At.s]-ce[ot.s]||ot.f-At.f});ie<we;++ie){var $e=Pe[ie].s;if(ce[$e]>M)ee+=Me-(1<<q-ce[$e]),ce[$e]=M;else break}for(ee>>=ke;ee>0;){var Je=Pe[ie].s;ce[Je]<M?ee-=1<<M-ce[Je]++-1:++ie}for(;ie>=0&&ee;--ie){var xe=Pe[ie].s;ce[xe]==M&&(--ce[xe],++ee)}q=M}return{t:new m(ce),l:q}},We=function(T,M,$){return T.s==-1?Math.max(We(T.l,M,$+1),We(T.r,M,$+1)):M[T.s]=$},Ut=function(T){for(var M=T.length;M&&!T[--M];);for(var $=new x(++M),ie=0,we=T[0],Pe=1,Ze=function(v){$[ie++]=v},N=1;N<=M;++N)if(T[N]==we&&N!=M)++Pe;else{if(!we&&Pe>2){for(;Pe>138;Pe-=138)Ze(32754);Pe>2&&(Ze(Pe>10?Pe-11<<5|28690:Pe-3<<5|12305),Pe=0)}else if(Pe>3){for(Ze(we),--Pe;Pe>6;Pe-=6)Ze(8304);Pe>2&&(Ze(Pe-3<<5|8208),Pe=0)}for(;Pe--;)Ze(we);Pe=1,we=T[N]}return{c:$.subarray(0,ie),n:M}},Vt=function(T,M){for(var $=0,ie=0;ie<M.length;++ie)$+=T[ie]*M[ie];return $},ls=function(T,M,$){var ie=$.length,we=he(M+2);T[we]=ie&255,T[we+1]=ie>>8,T[we+2]=T[we]^255,T[we+3]=T[we+1]^255;for(var Pe=0;Pe<ie;++Pe)T[we+Pe+4]=$[Pe];return(we+4+ie)*8},Fs=function(T,M,$,ie,we,Pe,Ze,N,v,S,I){Ve(M,I++,$),++we[256];for(var R=Bt(we,15),V=R.t,ce=R.l,q=Bt(Pe,15),ee=q.t,ke=q.l,Me=Ut(V),$e=Me.c,Je=Me.n,xe=Ut(ee),ct=xe.c,ot=xe.n,At=new x(19),Ye=0;Ye<$e.length;++Ye)++At[$e[Ye]&31];for(var Ye=0;Ye<ct.length;++Ye)++At[ct[Ye]&31];for(var yt=Bt(At,7),Pt=yt.t,gt=yt.l,Ge=19;Ge>4&&!Pt[E[Ge-1]];--Ge);var Mt=S+5<<3,is=Vt(we,oe)+Vt(Pe,Ne)+Ze,Ht=Vt(we,V)+Vt(Pe,ee)+Ze+14+3*Ge+Vt(At,Pt)+2*At[16]+3*At[17]+7*At[18];if(v>=0&&Mt<=is&&Mt<=Ht)return ls(M,I,T.subarray(v,v+S));var vt,es,Xe,rt;if(Ve(M,I,1+(Ht<is)),I+=2,Ht<is){vt=Ce(V,ce,0),es=V,Xe=Ce(ee,ke,0),rt=ee;var xt=Ce(Pt,gt,0);Ve(M,I,Je-257),Ve(M,I+5,ot-1),Ve(M,I+10,Ge-4),I+=14;for(var Ye=0;Ye<Ge;++Ye)Ve(M,I+3*Ye,Pt[E[Ye]]);I+=3*Ge;for(var bt=[$e,ct],rs=0;rs<2;++rs)for(var us=bt[rs],Ye=0;Ye<us.length;++Ye){var ys=us[Ye]&31;Ve(M,I,xt[ys]),I+=Pt[ys],ys>15&&(Ve(M,I,us[Ye]>>5&127),I+=us[Ye]>>12)}}else vt=Ae,es=oe,Xe=pe,rt=Ne;for(var Ye=0;Ye<N;++Ye){var Kt=ie[Ye];if(Kt>255){var ys=Kt>>18&31;kt(M,I,vt[ys+257]),I+=es[ys+257],ys>7&&(Ve(M,I,Kt>>23&31),I+=w[ys]);var ms=Kt&31;kt(M,I,Xe[ms]),I+=rt[ms],ms>3&&(kt(M,I,Kt>>5&8191),I+=y[ms])}else kt(M,I,vt[Kt]),I+=es[Kt]}return kt(M,I,vt[256]),I+es[256]},Re=new b([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ut=new m(0),St=function(T,M,$,ie,we,Pe){var Ze=Pe.z||T.length,N=new m(ie+Ze+5*(1+Math.ceil(Ze/7e3))+we),v=N.subarray(ie,N.length-we),S=Pe.l,I=(Pe.r||0)&7;if(M){I&&(v[0]=Pe.r>>3);for(var R=Re[M-1],V=R>>13,ce=R&8191,q=(1<<$)-1,ee=Pe.p||new x(32768),ke=Pe.h||new x(q+1),Me=Math.ceil($/3),$e=2*Me,Je=function(Yt){return(T[Yt]^T[Yt+1]<<Me^T[Yt+2]<<$e)&q},xe=new b(25e3),ct=new x(288),ot=new x(32),At=0,Ye=0,yt=Pe.i||0,Pt=0,gt=Pe.w||0,Ge=0;yt+2<Ze;++yt){var Mt=Je(yt),is=yt&32767,Ht=ke[Mt];if(ee[is]=Ht,ke[Mt]=is,gt<=yt){var vt=Ze-yt;if((At>7e3||Pt>24576)&&(vt>423||!S)){I=Fs(T,v,0,xe,ct,ot,Ye,Pt,Ge,yt-Ge,I),Pt=At=Ye=0,Ge=yt;for(var es=0;es<286;++es)ct[es]=0;for(var es=0;es<30;++es)ot[es]=0}var Xe=2,rt=0,xt=ce,bt=is-Ht&32767;if(vt>2&&Mt==Je(yt-bt))for(var rs=Math.min(V,vt)-1,us=Math.min(32767,yt),ys=Math.min(258,vt);bt<=us&&--xt&&is!=Ht;){if(T[yt+Xe]==T[yt+Xe-bt]){for(var Kt=0;Kt<ys&&T[yt+Kt]==T[yt+Kt-bt];++Kt);if(Kt>Xe){if(Xe=Kt,rt=bt,Kt>rs)break;for(var ms=Math.min(bt,Kt-2),Js=0,es=0;es<ms;++es){var Hs=yt-bt+es&32767,_e=ee[Hs],dt=Hs-_e&32767;dt>Js&&(Js=dt,Ht=Hs)}}}is=Ht,Ht=ee[is],bt+=is-Ht&32767}if(rt){xe[Pt++]=268435456|Y[Xe]<<18|de[rt];var ht=Y[Xe]&31,Ot=de[rt]&31;Ye+=w[ht]+y[Ot],++ct[257+ht],++ot[Ot],gt=yt+Xe,++At}else xe[Pt++]=T[yt],++ct[T[yt]]}}for(yt=Math.max(yt,gt);yt<Ze;++yt)xe[Pt++]=T[yt],++ct[T[yt]];I=Fs(T,v,S,xe,ct,ot,Ye,Pt,Ge,yt-Ge,I),S||(Pe.r=I&7|v[I/8|0]<<3,I-=7,Pe.h=ke,Pe.p=ee,Pe.i=yt,Pe.w=gt)}else{for(var yt=Pe.w||0;yt<Ze+S;yt+=65535){var Rt=yt+65535;Rt>=Ze&&(v[I/8|0]=S,Rt=Ze),I=ls(v,I+1,T.subarray(yt,Rt))}Pe.i=Ze}return be(N,0,ie+he(I)+we)},Os=(function(){for(var T=new Int32Array(256),M=0;M<256;++M){for(var $=M,ie=9;--ie;)$=($&1&&-306674912)^$>>>1;T[M]=$}return T})(),hs=function(){var T=-1;return{p:function(M){for(var $=T,ie=0;ie<M.length;++ie)$=Os[$&255^M[ie]]^$>>>8;T=$},d:function(){return~T}}},vr=function(){var T=1,M=0;return{p:function($){for(var ie=T,we=M,Pe=$.length|0,Ze=0;Ze!=Pe;){for(var N=Math.min(Ze+2655,Pe);Ze<N;++Ze)we+=ie+=$[Ze];ie=(ie&65535)+15*(ie>>16),we=(we&65535)+15*(we>>16)}T=ie,M=we},d:function(){return T%=65521,M%=65521,(T&255)<<24|(T&65280)<<8|(M&255)<<8|M>>8}}},hr=function(T,M,$,ie,we){if(!we&&(we={l:1},M.dictionary)){var Pe=M.dictionary.subarray(-32768),Ze=new m(Pe.length+T.length);Ze.set(Pe),Ze.set(T,Pe.length),T=Ze,we.w=Pe.length}return St(T,M.level==null?6:M.level,M.mem==null?we.l?Math.ceil(Math.max(8,Math.min(13,Math.log(T.length)))*1.5):20:12+M.mem,$,ie,we)},ir=function(T,M){var $={};for(var ie in T)$[ie]=T[ie];for(var ie in M)$[ie]=M[ie];return $},Ds=function(T,M,$){for(var ie=T(),we=T.toString(),Pe=we.slice(we.indexOf("[")+1,we.lastIndexOf("]")).replace(/\s+/g,"").split(","),Ze=0;Ze<ie.length;++Ze){var N=ie[Ze],v=Pe[Ze];if(typeof N=="function"){M+=";"+v+"=";var S=N.toString();if(N.prototype)if(S.indexOf("[native code]")!=-1){var I=S.indexOf(" ",8)+1;M+=S.slice(I,S.indexOf("(",I))}else{M+=S;for(var R in N.prototype)M+=";"+v+".prototype."+R+"="+N.prototype[R].toString()}else M+=S}else $[v]=N}return M},Ss=[],Ls=function(T){var M=[];for(var $ in T)T[$].buffer&&M.push((T[$]=new T[$].constructor(T[$])).buffer);return M},rr=function(T,M,$,ie){if(!Ss[$]){for(var we="",Pe={},Ze=T.length-1,N=0;N<Ze;++N)we=Ds(T[N],we,Pe);Ss[$]={c:Ds(T[Ze],we,Pe),e:Pe}}var v=ir({},Ss[$].e);return p(Ss[$].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+M.toString()+"}",$,v,Ls(v),ie)},xr=function(){return[m,x,b,w,y,E,X,K,se,re,ue,te,Ce,Ee,De,Se,he,be,ge,Ue,sa,ft,$t]},en=function(){return[m,x,b,w,y,E,Y,de,Ae,oe,pe,Ne,ue,Re,ut,Ce,Ve,kt,Bt,We,Ut,Vt,ls,Fs,he,be,St,hr,$r,ft]},wr=function(){return[Vs,rn,fs,hs,Os]},tr=function(){return[Ks,pr]},Xs=function(){return[ya,fs,vr]},Ts=function(){return[La]},ft=function(T){return postMessage(T,[T.buffer])},$t=function(T){return T&&{out:T.size&&new m(T.size),dictionary:T.dictionary}},ks=function(T,M,$,ie,we,Pe){var Ze=rr($,ie,we,function(N,v){Ze.terminate(),Pe(N,v)});return Ze.postMessage([T,M],M.consume?[T.buffer]:[]),function(){Ze.terminate()}},Gs=function(T){return T.ondata=function(M,$){return postMessage([M,$],[M.buffer])},function(M){M.data.length?(T.push(M.data[0],M.data[1]),postMessage([M.data[0].length])):T.flush()}},lr=function(T,M,$,ie,we,Pe,Ze){var N,v=rr(T,ie,we,function(S,I){S?(v.terminate(),M.ondata.call(M,S)):Array.isArray(I)?I.length==1?(M.queuedSize-=I[0],M.ondrain&&M.ondrain(I[0])):(I[1]&&v.terminate(),M.ondata.call(M,S,I[0],I[1])):Ze(I)});v.postMessage($),M.queuedSize=0,M.push=function(S,I){M.ondata||ge(5),N&&M.ondata(ge(4,0,1),null,!!I),M.queuedSize+=S.length,v.postMessage([S,N=I],[S.buffer])},M.terminate=function(){v.terminate()},Pe&&(M.flush=function(){v.postMessage([])})},wt=function(T,M){return T[M]|T[M+1]<<8},qt=function(T,M){return(T[M]|T[M+1]<<8|T[M+2]<<16|T[M+3]<<24)>>>0},As=function(T,M){return qt(T,M)+qt(T,M+4)*4294967296},fs=function(T,M,$){for(;$;++M)T[M]=$,$>>>=8},Vs=function(T,M){var $=M.filename;if(T[0]=31,T[1]=139,T[2]=8,T[8]=M.level<2?4:M.level==9?2:0,T[9]=3,M.mtime!=0&&fs(T,4,Math.floor(new Date(M.mtime||Date.now())/1e3)),$){T[3]=8;for(var ie=0;ie<=$.length;++ie)T[ie+10]=$.charCodeAt(ie)}},Ks=function(T){(T[0]!=31||T[1]!=139||T[2]!=8)&&ge(6,"invalid gzip data");var M=T[3],$=10;M&4&&($+=(T[10]|T[11]<<8)+2);for(var ie=(M>>3&1)+(M>>4&1);ie>0;ie-=!T[$++]);return $+(M&2)},pr=function(T){var M=T.length;return(T[M-4]|T[M-3]<<8|T[M-2]<<16|T[M-1]<<24)>>>0},rn=function(T){return 10+(T.filename?T.filename.length+1:0)},ya=function(T,M){var $=M.level,ie=$==0?0:$<6?1:$==9?3:2;if(T[0]=120,T[1]=ie<<6|(M.dictionary&&32),T[1]|=31-(T[0]<<8|T[1])%31,M.dictionary){var we=vr();we.p(M.dictionary),fs(T,2,we.d())}},La=function(T,M){return((T[0]&15)!=8||T[0]>>4>7||(T[0]<<8|T[1])%31)&&ge(6,"invalid zlib data"),(T[1]>>5&1)==+!M&&ge(6,"invalid zlib data: "+(T[1]&32?"need":"unexpected")+" dictionary"),(T[1]>>3&4)+2};function ps(T,M){return typeof T=="function"&&(M=T,T={}),this.ondata=M,T}var xs=(function(){function T(M,$){if(typeof M=="function"&&($=M,M={}),this.ondata=$,this.o=M||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new m(98304),this.o.dictionary){var ie=this.o.dictionary.subarray(-32768);this.b.set(ie,32768-ie.length),this.s.i=32768-ie.length}}return T.prototype.p=function(M,$){this.ondata(hr(M,this.o,0,0,this.s),$)},T.prototype.push=function(M,$){this.ondata||ge(5),this.s.l&&ge(4);var ie=M.length+this.s.z;if(ie>this.b.length){if(ie>2*this.b.length-32768){var we=new m(ie&-32768);we.set(this.b.subarray(0,this.s.z)),this.b=we}var Pe=this.b.length-this.s.z;this.b.set(M.subarray(0,Pe),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(M.subarray(Pe),32768),this.s.z=M.length-Pe+32768,this.s.i=32766,this.s.w=32768}else this.b.set(M,this.s.z),this.s.z+=M.length;this.s.l=$&1,(this.s.z>this.s.w+8191||$)&&(this.p(this.b,$||!1),this.s.w=this.s.i,this.s.i-=2)},T.prototype.flush=function(){this.ondata||ge(5),this.s.l&&ge(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},T})(),cs=(function(){function T(M,$){lr([en,function(){return[Gs,xs]}],this,ps.call(this,M,$),function(ie){var we=new xs(ie.data);onmessage=Gs(we)},6,1)}return T})();function fr(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),ks(T,M,[en],function(ie){return ft($r(ie.data[0],ie.data[1]))},0,$)}function $r(T,M){return hr(T,M||{},0,0)}var Ps=(function(){function T(M,$){typeof M=="function"&&($=M,M={}),this.ondata=$;var ie=M&&M.dictionary&&M.dictionary.subarray(-32768);this.s={i:0,b:ie?ie.length:0},this.o=new m(32768),this.p=new m(0),ie&&this.o.set(ie)}return T.prototype.e=function(M){if(this.ondata||ge(5),this.d&&ge(4),!this.p.length)this.p=M;else if(M.length){var $=new m(this.p.length+M.length);$.set(this.p),$.set(M,this.p.length),this.p=$}},T.prototype.c=function(M){this.s.i=+(this.d=M||!1);var $=this.s.b,ie=Ue(this.p,this.s,this.o);this.ondata(be(ie,$,this.s.b),this.d),this.o=be(ie,this.s.b-32768),this.s.b=this.o.length,this.p=be(this.p,this.s.p/8|0),this.s.p&=7},T.prototype.push=function(M,$){this.e(M),this.c($)},T})(),wa=(function(){function T(M,$){lr([xr,function(){return[Gs,Ps]}],this,ps.call(this,M,$),function(ie){var we=new Ps(ie.data);onmessage=Gs(we)},7,0)}return T})();function Vn(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),ks(T,M,[xr],function(ie){return ft(sa(ie.data[0],$t(ie.data[1])))},1,$)}function sa(T,M){return Ue(T,{i:2},M&&M.out,M&&M.dictionary)}var an=(function(){function T(M,$){this.c=hs(),this.l=0,this.v=1,xs.call(this,M,$)}return T.prototype.push=function(M,$){this.c.p(M),this.l+=M.length,xs.prototype.push.call(this,M,$)},T.prototype.p=function(M,$){var ie=hr(M,this.o,this.v&&rn(this.o),$&&8,this.s);this.v&&(Vs(ie,this.o),this.v=0),$&&(fs(ie,ie.length-8,this.c.d()),fs(ie,ie.length-4,this.l)),this.ondata(ie,$)},T.prototype.flush=function(){xs.prototype.flush.call(this)},T})(),Rr=(function(){function T(M,$){lr([en,wr,function(){return[Gs,xs,an]}],this,ps.call(this,M,$),function(ie){var we=new an(ie.data);onmessage=Gs(we)},8,1)}return T})();function Gn(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),ks(T,M,[en,wr,function(){return[Kn]}],function(ie){return ft(Kn(ie.data[0],ie.data[1]))},2,$)}function Kn(T,M){M||(M={});var $=hs(),ie=T.length;$.p(T);var we=hr(T,M,rn(M),8),Pe=we.length;return Vs(we,M),fs(we,Pe-8,$.d()),fs(we,Pe-4,ie),we}var ti=(function(){function T(M,$){this.v=1,this.r=0,Ps.call(this,M,$)}return T.prototype.push=function(M,$){if(Ps.prototype.e.call(this,M),this.r+=M.length,this.v){var ie=this.p.subarray(this.v-1),we=ie.length>3?Ks(ie):4;if(we>ie.length){if(!$)return}else this.v>1&&this.onmember&&this.onmember(this.r-ie.length);this.p=ie.subarray(we),this.v=0}Ps.prototype.c.call(this,$),this.s.f&&!this.s.l&&!$&&(this.v=he(this.s.p)+9,this.s={i:0},this.o=new m(0),this.push(new m(0),$))},T})(),On=(function(){function T(M,$){var ie=this;lr([xr,tr,function(){return[Gs,Ps,ti]}],this,ps.call(this,M,$),function(we){var Pe=new ti(we.data);Pe.onmember=function(Ze){return postMessage(Ze)},onmessage=Gs(Pe)},9,0,function(we){return ie.onmember&&ie.onmember(we)})}return T})();function mc(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),ks(T,M,[xr,tr,function(){return[li]}],function(ie){return ft(li(ie.data[0],ie.data[1]))},3,$)}function li(T,M){var $=Ks(T);return $+8>T.length&&ge(6,"invalid gzip data"),Ue(T.subarray($,-8),{i:2},M&&M.out||new m(pr(T)),M&&M.dictionary)}var Fo=(function(){function T(M,$){this.c=vr(),this.v=1,xs.call(this,M,$)}return T.prototype.push=function(M,$){this.c.p(M),xs.prototype.push.call(this,M,$)},T.prototype.p=function(M,$){var ie=hr(M,this.o,this.v&&(this.o.dictionary?6:2),$&&4,this.s);this.v&&(ya(ie,this.o),this.v=0),$&&fs(ie,ie.length-4,this.c.d()),this.ondata(ie,$)},T.prototype.flush=function(){xs.prototype.flush.call(this)},T})(),Kl=(function(){function T(M,$){lr([en,Xs,function(){return[Gs,xs,Fo]}],this,ps.call(this,M,$),function(ie){var we=new Fo(ie.data);onmessage=Gs(we)},10,1)}return T})();function Ao(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),ks(T,M,[en,Xs,function(){return[fa]}],function(ie){return ft(fa(ie.data[0],ie.data[1]))},4,$)}function fa(T,M){M||(M={});var $=vr();$.p(T);var ie=hr(T,M,M.dictionary?6:2,4);return ya(ie,M),fs(ie,ie.length-4,$.d()),ie}var ki=(function(){function T(M,$){Ps.call(this,M,$),this.v=M&&M.dictionary?2:1}return T.prototype.push=function(M,$){if(Ps.prototype.e.call(this,M),this.v){if(this.p.length<6&&!$)return;this.p=this.p.subarray(La(this.p,this.v-1)),this.v=0}$&&(this.p.length<4&&ge(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Ps.prototype.c.call(this,$)},T})(),ra=(function(){function T(M,$){lr([xr,Ts,function(){return[Gs,Ps,ki]}],this,ps.call(this,M,$),function(ie){var we=new ki(ie.data);onmessage=Gs(we)},11,0)}return T})();function Fa(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),ks(T,M,[xr,Ts,function(){return[qn]}],function(ie){return ft(qn(ie.data[0],$t(ie.data[1])))},5,$)}function qn(T,M){return Ue(T.subarray(La(T,M&&M.dictionary),-4),{i:2},M&&M.out,M&&M.dictionary)}var ho=(function(){function T(M,$){this.o=ps.call(this,M,$)||{},this.G=ti,this.I=Ps,this.Z=ki}return T.prototype.i=function(){var M=this;this.s.ondata=function($,ie){M.ondata($,ie)}},T.prototype.push=function(M,$){if(this.ondata||ge(5),this.s)this.s.push(M,$);else{if(this.p&&this.p.length){var ie=new m(this.p.length+M.length);ie.set(this.p),ie.set(M,this.p.length)}else this.p=M;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,$),this.p=null)}},T})(),hi=(function(){function T(M,$){ho.call(this,M,$),this.queuedSize=0,this.G=On,this.I=wa,this.Z=ra}return T.prototype.i=function(){var M=this;this.s.ondata=function($,ie,we){M.ondata($,ie,we)},this.s.ondrain=function($){M.queuedSize-=$,M.ondrain&&M.ondrain($)}},T.prototype.push=function(M,$){this.queuedSize+=M.length,ho.prototype.push.call(this,M,$)},T})();function Ci(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),T[0]==31&&T[1]==139&&T[2]==8?mc(T,M,$):(T[0]&15)!=8||T[0]>>4>7||(T[0]<<8|T[1])%31?Vn(T,M,$):Fa(T,M,$)}function hl(T,M){return T[0]==31&&T[1]==139&&T[2]==8?li(T,M):(T[0]&15)!=8||T[0]>>4>7||(T[0]<<8|T[1])%31?sa(T,M):qn(T,M)}var el=function(T,M,$,ie){for(var we in T){var Pe=T[we],Ze=M+we,N=ie;Array.isArray(Pe)&&(N=ir(ie,Pe[1]),Pe=Pe[0]),Pe instanceof m?$[Ze]=[Pe,N]:($[Ze+="/"]=[new m(0),N],el(Pe,Ze,$,ie))}},Ll=typeof TextEncoder<"u"&&new TextEncoder,ga=typeof TextDecoder<"u"&&new TextDecoder,ja=0;try{ga.decode(ut,{stream:!0}),ja=1}catch{}var fo=function(T){for(var M="",$=0;;){var ie=T[$++],we=(ie>127)+(ie>223)+(ie>239);if($+we>T.length)return{s:M,r:be(T,$-1)};we?we==3?(ie=((ie&15)<<18|(T[$++]&63)<<12|(T[$++]&63)<<6|T[$++]&63)-65536,M+=String.fromCharCode(55296|ie>>10,56320|ie&1023)):we&1?M+=String.fromCharCode((ie&31)<<6|T[$++]&63):M+=String.fromCharCode((ie&15)<<12|(T[$++]&63)<<6|T[$++]&63):M+=String.fromCharCode(ie)}},si=(function(){function T(M){this.ondata=M,ja?this.t=new TextDecoder:this.p=ut}return T.prototype.push=function(M,$){if(this.ondata||ge(5),$=!!$,this.t){this.ondata(this.t.decode(M,{stream:!0}),$),$&&(this.t.decode().length&&ge(8),this.t=null);return}this.p||ge(4);var ie=new m(this.p.length+M.length);ie.set(this.p),ie.set(M,this.p.length);var we=fo(ie),Pe=we.s,Ze=we.r;$?(Ze.length&&ge(8),this.p=null):this.p=Ze,this.ondata(Pe,$)},T})(),Di=(function(){function T(M){this.ondata=M}return T.prototype.push=function(M,$){this.ondata||ge(5),this.d&&ge(4),this.ondata(fi(M),this.d=$||!1)},T})();function fi(T,M){if(M){for(var $=new m(T.length),ie=0;ie<T.length;++ie)$[ie]=T.charCodeAt(ie);return $}if(Ll)return Ll.encode(T);for(var we=T.length,Pe=new m(T.length+(T.length>>1)),Ze=0,N=function(I){Pe[Ze++]=I},ie=0;ie<we;++ie){if(Ze+5>Pe.length){var v=new m(Ze+8+(we-ie<<1));v.set(Pe),Pe=v}var S=T.charCodeAt(ie);S<128||M?N(S):S<2048?(N(192|S>>6),N(128|S&63)):S>55295&&S<57344?(S=65536+(S&1047552)|T.charCodeAt(++ie)&1023,N(240|S>>18),N(128|S>>12&63),N(128|S>>6&63),N(128|S&63)):(N(224|S>>12),N(128|S>>6&63),N(128|S&63))}return be(Pe,0,Ze)}function Wr(T,M){if(M){for(var $="",ie=0;ie<T.length;ie+=16384)$+=String.fromCharCode.apply(null,T.subarray(ie,ie+16384));return $}else{if(ga)return ga.decode(T);var we=fo(T),Pe=we.s,$=we.r;return $.length&&ge(8),Pe}}var Ka=function(T){return T==1?3:T<6?2:T==9?1:0},Bi=function(T,M){return M+30+wt(T,M+26)+wt(T,M+28)},Qa=function(T,M,$){var ie=wt(T,M+28),we=Wr(T.subarray(M+46,M+46+ie),!(wt(T,M+8)&2048)),Pe=M+46+ie,Ze=qt(T,M+20),N=$&&Ze==4294967295?po(T,Pe):[Ze,qt(T,M+24),qt(T,M+42)],v=N[0],S=N[1],I=N[2];return[wt(T,M+10),v,S,we,Pe+wt(T,M+30)+wt(T,M+32),I]},po=function(T,M){for(;wt(T,M)!=1;M+=4+wt(T,M+2));return[As(T,M+12),As(T,M+4),As(T,M+20)]},Wn=function(T){var M=0;if(T)for(var $ in T){var ie=T[$].length;ie>65535&&ge(9),M+=ie+4}return M},Ki=function(T,M,$,ie,we,Pe,Ze,N){var v=ie.length,S=$.extra,I=N&&N.length,R=Wn(S);fs(T,M,Ze!=null?33639248:67324752),M+=4,Ze!=null&&(T[M++]=20,T[M++]=$.os),T[M]=20,M+=2,T[M++]=$.flag<<1|(Pe<0&&8),T[M++]=we&&8,T[M++]=$.compression&255,T[M++]=$.compression>>8;var V=new Date($.mtime==null?Date.now():$.mtime),ce=V.getFullYear()-1980;if((ce<0||ce>119)&&ge(10),fs(T,M,ce<<25|V.getMonth()+1<<21|V.getDate()<<16|V.getHours()<<11|V.getMinutes()<<5|V.getSeconds()>>1),M+=4,Pe!=-1&&(fs(T,M,$.crc),fs(T,M+4,Pe<0?-Pe-2:Pe),fs(T,M+8,$.size)),fs(T,M+12,v),fs(T,M+14,R),M+=16,Ze!=null&&(fs(T,M,I),fs(T,M+6,$.attrs),fs(T,M+10,Ze),M+=14),T.set(ie,M),M+=v,R)for(var q in S){var ee=S[q],ke=ee.length;fs(T,M,+q),fs(T,M+2,ke),T.set(ee,M+4),M+=4+ke}return I&&(T.set(N,M),M+=I),M},Ga=function(T,M,$,ie,we){fs(T,M,101010256),fs(T,M+8,$),fs(T,M+10,$),fs(T,M+12,ie),fs(T,M+16,we)},Pa=(function(){function T(M){this.filename=M,this.c=hs(),this.size=0,this.compression=0}return T.prototype.process=function(M,$){this.ondata(null,M,$)},T.prototype.push=function(M,$){this.ondata||ge(5),this.c.p(M),this.size+=M.length,$&&(this.crc=this.c.d()),this.process(M,$||!1)},T})(),pi=(function(){function T(M,$){var ie=this;$||($={}),Pa.call(this,M),this.d=new xs($,function(we,Pe){ie.ondata(null,we,Pe)}),this.compression=8,this.flag=Ka($.level)}return T.prototype.process=function(M,$){try{this.d.push(M,$)}catch(ie){this.ondata(ie,null,$)}},T.prototype.push=function(M,$){Pa.prototype.push.call(this,M,$)},T})(),Uo=(function(){function T(M,$){var ie=this;$||($={}),Pa.call(this,M),this.d=new cs($,function(we,Pe,Ze){ie.ondata(we,Pe,Ze)}),this.compression=8,this.flag=Ka($.level),this.terminate=this.d.terminate}return T.prototype.process=function(M,$){this.d.push(M,$)},T.prototype.push=function(M,$){Pa.prototype.push.call(this,M,$)},T})(),Si=(function(){function T(M){this.ondata=M,this.u=[],this.d=1}return T.prototype.add=function(M){var $=this;if(this.ondata||ge(5),this.d&2)this.ondata(ge(4+(this.d&1)*8,0,1),null,!1);else{var ie=fi(M.filename),we=ie.length,Pe=M.comment,Ze=Pe&&fi(Pe),N=we!=M.filename.length||Ze&&Pe.length!=Ze.length,v=we+Wn(M.extra)+30;we>65535&&this.ondata(ge(11,0,1),null,!1);var S=new m(v);Ki(S,0,M,ie,N,-1);var I=[S],R=function(){for(var ke=0,Me=I;ke<Me.length;ke++){var $e=Me[ke];$.ondata(null,$e,!1)}I=[]},V=this.d;this.d=0;var ce=this.u.length,q=ir(M,{f:ie,u:N,o:Ze,t:function(){M.terminate&&M.terminate()},r:function(){if(R(),V){var ke=$.u[ce+1];ke?ke.r():$.d=1}V=1}}),ee=0;M.ondata=function(ke,Me,$e){if(ke)$.ondata(ke,Me,$e),$.terminate();else if(ee+=Me.length,I.push(Me),$e){var Je=new m(16);fs(Je,0,134695760),fs(Je,4,M.crc),fs(Je,8,ee),fs(Je,12,M.size),I.push(Je),q.c=ee,q.b=v+ee+16,q.crc=M.crc,q.size=M.size,V&&q.r(),V=1}else V&&R()},this.u.push(q)}},T.prototype.end=function(){var M=this;if(this.d&2){this.ondata(ge(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){M.d&1&&(M.u.splice(-1,1),M.e())},t:function(){}}),this.d=3},T.prototype.e=function(){for(var M=0,$=0,ie=0,we=0,Pe=this.u;we<Pe.length;we++){var Ze=Pe[we];ie+=46+Ze.f.length+Wn(Ze.extra)+(Ze.o?Ze.o.length:0)}for(var N=new m(ie+22),v=0,S=this.u;v<S.length;v++){var Ze=S[v];Ki(N,M,Ze,Ze.f,Ze.u,-Ze.c-2,$,Ze.o),M+=46+Ze.f.length+Wn(Ze.extra)+(Ze.o?Ze.o.length:0),$+=Ze.b}Ga(N,M,this.u.length,ie,$),this.ondata(null,N,!0),this.d=2},T.prototype.terminate=function(){for(var M=0,$=this.u;M<$.length;M++){var ie=$[M];ie.t()}this.d=2},T})();function xa(T,M,$){$||($=M,M={}),typeof $!="function"&&ge(7);var ie={};el(T,"",ie,M);var we=Object.keys(ie),Pe=we.length,Ze=0,N=0,v=Pe,S=new Array(Pe),I=[],R=function(){for(var ke=0;ke<I.length;++ke)I[ke]()},V=function(ke,Me){U(function(){$(ke,Me)})};U(function(){V=$});var ce=function(){var ke=new m(N+22),Me=Ze,$e=N-Ze;N=0;for(var Je=0;Je<v;++Je){var xe=S[Je];try{var ct=xe.c.length;Ki(ke,N,xe,xe.f,xe.u,ct);var ot=30+xe.f.length+Wn(xe.extra),At=N+ot;ke.set(xe.c,At),Ki(ke,Ze,xe,xe.f,xe.u,ct,N,xe.m),Ze+=16+ot+(xe.m?xe.m.length:0),N=At+ct}catch(Ye){return V(Ye,null)}}Ga(ke,Ze,S.length,$e,Me),V(null,ke)};Pe||ce();for(var q=function(ke){var Me=we[ke],$e=ie[Me],Je=$e[0],xe=$e[1],ct=hs(),ot=Je.length;ct.p(Je);var At=fi(Me),Ye=At.length,yt=xe.comment,Pt=yt&&fi(yt),gt=Pt&&Pt.length,Ge=Wn(xe.extra),Mt=xe.level==0?0:8,is=function(Ht,vt){if(Ht)R(),V(Ht,null);else{var es=vt.length;S[ke]=ir(xe,{size:ot,crc:ct.d(),c:vt,f:At,m:Pt,u:Ye!=Me.length||Pt&&yt.length!=gt,compression:Mt}),Ze+=30+Ye+Ge+es,N+=76+2*(Ye+Ge)+(gt||0)+es,--Pe||ce()}};if(Ye>65535&&is(ge(11,0,1),null),!Mt)is(null,Je);else if(ot<16e4)try{is(null,$r(Je,xe))}catch(Ht){is(Ht,null)}else I.push(fr(Je,xe,is))},ee=0;ee<v;++ee)q(ee);return R}function mi(T,M){M||(M={});var $={},ie=[];el(T,"",$,M);var we=0,Pe=0;for(var Ze in $){var N=$[Ze],v=N[0],S=N[1],I=S.level==0?0:8,R=fi(Ze),V=R.length,ce=S.comment,q=ce&&fi(ce),ee=q&&q.length,ke=Wn(S.extra);V>65535&&ge(11);var Me=I?$r(v,S):v,$e=Me.length,Je=hs();Je.p(v),ie.push(ir(S,{size:v.length,crc:Je.d(),c:Me,f:R,m:q,u:V!=Ze.length||q&&ce.length!=ee,o:we,compression:I})),we+=30+V+ke+$e,Pe+=76+2*(V+ke)+(ee||0)+$e}for(var xe=new m(Pe+22),ct=we,ot=Pe-we,At=0;At<ie.length;++At){var R=ie[At];Ki(xe,R.o,R,R.f,R.u,R.c.length);var Ye=30+R.f.length+Wn(R.extra);xe.set(R.c,R.o+Ye),Ki(xe,we,R,R.f,R.u,R.c.length,R.o,R.m),we+=16+Ye+(R.m?R.m.length:0)}return Ga(xe,we,ie.length,ot,ct),xe}var eo=(function(){function T(){}return T.prototype.push=function(M,$){this.ondata(null,M,$)},T.compression=0,T})(),Ei=(function(){function T(){var M=this;this.i=new Ps(function($,ie){M.ondata(null,$,ie)})}return T.prototype.push=function(M,$){try{this.i.push(M,$)}catch(ie){this.ondata(ie,null,$)}},T.compression=8,T})(),lo=(function(){function T(M,$){var ie=this;$<32e4?this.i=new Ps(function(we,Pe){ie.ondata(null,we,Pe)}):(this.i=new wa(function(we,Pe,Ze){ie.ondata(we,Pe,Ze)}),this.terminate=this.i.terminate)}return T.prototype.push=function(M,$){this.i.terminate&&(M=be(M,0)),this.i.push(M,$)},T.compression=8,T})(),Tt=(function(){function T(M){this.onfile=M,this.k=[],this.o={0:eo},this.p=ut}return T.prototype.push=function(M,$){var ie=this;if(this.onfile||ge(5),this.p||ge(4),this.c>0){var we=Math.min(this.c,M.length),Pe=M.subarray(0,we);if(this.c-=we,this.d?this.d.push(Pe,!this.c):this.k[0].push(Pe),M=M.subarray(we),M.length)return this.push(M,$)}else{var Ze=0,N=0,v=void 0,S=void 0;this.p.length?M.length?(S=new m(this.p.length+M.length),S.set(this.p),S.set(M,this.p.length)):S=this.p:S=M;for(var I=S.length,R=this.c,V=R&&this.d,ce=function(){var Me,$e=qt(S,N);if($e==67324752){Ze=1,v=N,q.d=null,q.c=0;var Je=wt(S,N+6),xe=wt(S,N+8),ct=Je&2048,ot=Je&8,At=wt(S,N+26),Ye=wt(S,N+28);if(I>N+30+At+Ye){var yt=[];q.k.unshift(yt),Ze=2;var Pt=qt(S,N+18),gt=qt(S,N+22),Ge=Wr(S.subarray(N+30,N+=30+At),!ct);Pt==4294967295?(Me=ot?[-2]:po(S,N),Pt=Me[0],gt=Me[1]):ot&&(Pt=-1),N+=Ye,q.c=Pt;var Mt,is={name:Ge,compression:xe,start:function(){if(is.ondata||ge(5),!Pt)is.ondata(null,ut,!0);else{var Ht=ie.o[xe];Ht||is.ondata(ge(14,"unknown compression type "+xe,1),null,!1),Mt=Pt<0?new Ht(Ge):new Ht(Ge,Pt,gt),Mt.ondata=function(rt,xt,bt){is.ondata(rt,xt,bt)};for(var vt=0,es=yt;vt<es.length;vt++){var Xe=es[vt];Mt.push(Xe,!1)}ie.k[0]==yt&&ie.c?ie.d=Mt:Mt.push(ut,!0)}},terminate:function(){Mt&&Mt.terminate&&Mt.terminate()}};Pt>=0&&(is.size=Pt,is.originalSize=gt),q.onfile(is)}return"break"}else if(R){if($e==134695760)return v=N+=12+(R==-2&&8),Ze=3,q.c=0,"break";if($e==33639248)return v=N-=4,Ze=3,q.c=0,"break"}},q=this;N<I-4;++N){var ee=ce();if(ee==="break")break}if(this.p=ut,R<0){var ke=Ze?S.subarray(0,v-12-(R==-2&&8)-(qt(S,v-16)==134695760&&4)):S.subarray(0,N);V?V.push(ke,!!Ze):this.k[+(Ze==2)].push(ke)}if(Ze&2)return this.push(S.subarray(N),$);this.p=S.subarray(N)}$&&(this.c&&ge(13),this.p=null)},T.prototype.register=function(M){this.o[M.compression]=M},T})(),U=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(T){T()};function G(T,M,$){$||($=M,M={}),typeof $!="function"&&ge(7);var ie=[],we=function(){for(var ke=0;ke<ie.length;++ke)ie[ke]()},Pe={},Ze=function(ke,Me){U(function(){$(ke,Me)})};U(function(){Ze=$});for(var N=T.length-22;qt(T,N)!=101010256;--N)if(!N||T.length-N>65558)return Ze(ge(13,0,1),null),we;var v=wt(T,N+8);if(v){var S=v,I=qt(T,N+16),R=I==4294967295||S==65535;if(R){var V=qt(T,N-12);R=qt(T,V)==101075792,R&&(S=v=qt(T,V+32),I=qt(T,V+48))}for(var ce=M&&M.filter,q=function(ke){var Me=Qa(T,I,R),$e=Me[0],Je=Me[1],xe=Me[2],ct=Me[3],ot=Me[4],At=Me[5],Ye=Bi(T,At);I=ot;var yt=function(gt,Ge){gt?(we(),Ze(gt,null)):(Ge&&(Pe[ct]=Ge),--v||Ze(null,Pe))};if(!ce||ce({name:ct,size:Je,originalSize:xe,compression:$e}))if(!$e)yt(null,be(T,Ye,Ye+Je));else if($e==8){var Pt=T.subarray(Ye,Ye+Je);if(xe<524288||Je>.8*xe)try{yt(null,sa(Pt,{out:new m(xe)}))}catch(gt){yt(gt,null)}else ie.push(Vn(Pt,{size:xe},yt))}else yt(ge(14,"unknown compression type "+$e,1),null);else yt(null,null)},ee=0;ee<S;++ee)q(ee)}else Ze(null,{});return we}function J(T,M){for(var $={},ie=T.length-22;qt(T,ie)!=101010256;--ie)(!ie||T.length-ie>65558)&&ge(13);var we=wt(T,ie+8);if(!we)return{};var Pe=qt(T,ie+16),Ze=Pe==4294967295||we==65535;if(Ze){var N=qt(T,ie-12);Ze=qt(T,N)==101075792,Ze&&(we=qt(T,N+32),Pe=qt(T,N+48))}for(var v=M&&M.filter,S=0;S<we;++S){var I=Qa(T,Pe,Ze),R=I[0],V=I[1],ce=I[2],q=I[3],ee=I[4],ke=I[5],Me=Bi(T,ke);Pe=ee,(!v||v({name:q,size:V,originalSize:ce,compression:R}))&&(R?R==8?$[q]=sa(T.subarray(Me,Me+V),{out:new m(ce)}):ge(14,"unknown compression type "+R):$[q]=be(T,Me,Me+V))}return $}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(d,A,o){o.r(A),o.d(A,{IOBuffer:function(){return b}});var f=o("./node_modules/iobuffer/lib-esm/text.js");const p=1024*8,m=(()=>{const w=new Uint8Array(4),y=new Uint32Array(w.buffer);return!((y[0]=1)&w[0])})(),x={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class b{constructor(y=p,E={}){Va(this,"buffer");Va(this,"byteLength");Va(this,"byteOffset");Va(this,"length");Va(this,"offset");Va(this,"lastWrittenByte");Va(this,"littleEndian");Va(this,"_data");Va(this,"_mark");Va(this,"_marks");let P=!1;typeof y=="number"?y=new ArrayBuffer(y):(P=!0,this.lastWrittenByte=y.byteLength);const z=E.offset?E.offset>>>0:0,X=y.byteLength-z;let Y=z;(ArrayBuffer.isView(y)||y instanceof b)&&(y.byteLength!==y.buffer.byteLength&&(Y=y.byteOffset+z),y=y.buffer),P?this.lastWrittenByte=X:this.lastWrittenByte=0,this.buffer=y,this.length=X,this.byteLength=X,this.byteOffset=Y,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,Y,X),this._mark=0,this._marks=[]}available(y=1){return this.offset+y<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(y=1){return this.offset+=y,this}back(y=1){return this.offset-=y,this}seek(y){return this.offset=y,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const y=this._marks.pop();if(y===void 0)throw new Error("Mark stack empty");return this.seek(y),this}rewind(){return this.offset=0,this}ensureAvailable(y=1){if(!this.available(y)){const P=(this.offset+y)*2,z=new Uint8Array(P);z.set(new Uint8Array(this.buffer)),this.buffer=z.buffer,this.length=P,this.byteLength=P,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(y=1){return this.readArray(y,"uint8")}readArray(y,E){const P=x[E].BYTES_PER_ELEMENT*y,z=this.byteOffset+this.offset,X=this.buffer.slice(z,z+P);if(this.littleEndian===m&&E!=="uint8"&&E!=="int8"){const Q=new Uint8Array(this.buffer.slice(z,z+P));Q.reverse();const K=new x[E](Q.buffer);return this.offset+=P,K.reverse(),K}const Y=new x[E](X);return this.offset+=P,Y}readInt16(){const y=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,y}readUint16(){const y=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,y}readInt32(){const y=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,y}readUint32(){const y=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,y}readFloat32(){const y=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,y}readFloat64(){const y=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,y}readBigInt64(){const y=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,y}readBigUint64(){const y=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,y}readChar(){return String.fromCharCode(this.readInt8())}readChars(y=1){let E="";for(let P=0;P<y;P++)E+=this.readChar();return E}readUtf8(y=1){return(0,f.decode)(this.readBytes(y))}decodeText(y=1,E="utf8"){return(0,f.decode)(this.readBytes(y),E)}writeBoolean(y){return this.writeUint8(y?255:0),this}writeInt8(y){return this.ensureAvailable(1),this._data.setInt8(this.offset++,y),this._updateLastWrittenByte(),this}writeUint8(y){return this.ensureAvailable(1),this._data.setUint8(this.offset++,y),this._updateLastWrittenByte(),this}writeByte(y){return this.writeUint8(y)}writeBytes(y){this.ensureAvailable(y.length);for(let E=0;E<y.length;E++)this._data.setUint8(this.offset++,y[E]);return this._updateLastWrittenByte(),this}writeInt16(y){return this.ensureAvailable(2),this._data.setInt16(this.offset,y,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(y){return this.ensureAvailable(2),this._data.setUint16(this.offset,y,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(y){return this.ensureAvailable(4),this._data.setInt32(this.offset,y,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(y){return this.ensureAvailable(4),this._data.setUint32(this.offset,y,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(y){return this.ensureAvailable(4),this._data.setFloat32(this.offset,y,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(y){return this.ensureAvailable(8),this._data.setFloat64(this.offset,y,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(y){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,y,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(y){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,y,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(y){return this.writeUint8(y.charCodeAt(0))}writeChars(y){for(let E=0;E<y.length;E++)this.writeUint8(y.charCodeAt(E));return this}writeUtf8(y){return this.writeBytes((0,f.encode)(y))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(d,A,o){o.r(A),o.d(A,{decode:function(){return f},encode:function(){return m}});function f(x,b="utf8"){return new TextDecoder(b).decode(x)}const p=new TextEncoder;function m(x){return p.encode(x)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(d,A,o){o.r(A),o.d(A,{AcroForm:function(){return $r},AcroFormAppearance:function(){return cs},AcroFormButton:function(){return Ks},AcroFormCheckBox:function(){return La},AcroFormChoiceField:function(){return qt},AcroFormComboBox:function(){return fs},AcroFormEditBox:function(){return Vs},AcroFormListBox:function(){return As},AcroFormPasswordField:function(){return xs},AcroFormPushButton:function(){return pr},AcroFormRadioButton:function(){return rn},AcroFormTextField:function(){return ps},GState:function(){return Ue},ShadingPattern:function(){return kt},TilingPattern:function(){return Bt},default:function(){return We},jsPDF:function(){return We}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),p=o("./node_modules/fflate/esm/browser.js"),m=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),x=o("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var b=(function(){return typeof window<"u"?window:typeof Mp<"u"?Mp:typeof self<"u"?self:this})();function w(){b.console&&typeof b.console.log=="function"&&b.console.log.apply(b.console,arguments)}var y={log:w,warn:function(N){b.console&&(typeof b.console.warn=="function"?b.console.warn.apply(b.console,arguments):w.call(null,arguments))},error:function(N){b.console&&(typeof b.console.error=="function"?b.console.error.apply(b.console,arguments):w(N))}};function E(N,v,S){var I=new XMLHttpRequest;I.open("GET",N),I.responseType="blob",I.onload=function(){X(I.response,v,S)},I.onerror=function(){y.error("could not download file")},I.send()}function P(N){var v=new XMLHttpRequest;v.open("HEAD",N,!1);try{v.send()}catch{}return v.status>=200&&v.status<=299}function z(N){try{N.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),N.dispatchEvent(v)}}var X=b.saveAs||((typeof window>"u"?"undefined":(0,f.default)(window))!=="object"||window!==b?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(N,v,S){var I=b.URL||b.webkitURL,R=document.createElement("a");v=v||N.name||"download",R.download=v,R.rel="noopener",typeof N=="string"?(R.href=N,R.origin!==location.origin?P(R.href)?E(N,v,S):z(R,R.target="_blank"):z(R)):(R.href=I.createObjectURL(N),setTimeout(function(){I.revokeObjectURL(R.href)},4e4),setTimeout(function(){z(R)},0))}:"msSaveOrOpenBlob"in navigator?function(N,v,S){if(v=v||N.name||"download",typeof N=="string")if(P(N))E(N,v,S);else{var I=document.createElement("a");I.href=N,I.target="_blank",setTimeout(function(){z(I)})}else navigator.msSaveOrOpenBlob((function(R,V){return V===void 0?V={autoBom:!1}:(0,f.default)(V)!=="object"&&(y.warn("Deprecated: Expected third argument to be a object"),V={autoBom:!V}),V.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(R.type)?new Blob(["\uFEFF",R],{type:R.type}):R})(N,S),v)}:function(N,v,S,I){if((I=I||open("","_blank"))&&(I.document.title=I.document.body.innerText="downloading..."),typeof N=="string")return E(N,v,S);var R=N.type==="application/octet-stream",V=/constructor/i.test(b.HTMLElement)||b.safari,ce=/CriOS\/[\d]+/.test(navigator.userAgent);if((ce||R&&V)&&(typeof FileReader>"u"?"undefined":(0,f.default)(FileReader))==="object"){var q=new FileReader;q.onloadend=function(){var Me=q.result;Me=ce?Me:Me.replace(/^data:[^;]*;/,"data:attachment/file;"),I?I.location.href=Me:location=Me,I=null},q.readAsDataURL(N)}else{var ee=b.URL||b.webkitURL,ke=ee.createObjectURL(N);I?I.location=ke:location.href=ke,I=null,setTimeout(function(){ee.revokeObjectURL(ke)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Y(N){var v;N=N||"",this.ok=!1,N.charAt(0)=="#"&&(N=N.substr(1,6)),N={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[N=(N=N.replace(/ /g,"")).toLowerCase()]||N;for(var S=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(q){return[parseInt(q[1]),parseInt(q[2]),parseInt(q[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(q){return[parseInt(q[1],16),parseInt(q[2],16),parseInt(q[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(q){return[parseInt(q[1]+q[1],16),parseInt(q[2]+q[2],16),parseInt(q[3]+q[3],16)]}}],I=0;I<S.length;I++){var R=S[I].re,V=S[I].process,ce=R.exec(N);ce&&(v=V(ce),this.r=v[0],this.g=v[1],this.b=v[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var q=this.r.toString(16),ee=this.g.toString(16),ke=this.b.toString(16);return q.length==1&&(q="0"+q),ee.length==1&&(ee="0"+ee),ke.length==1&&(ke="0"+ke),"#"+q+ee+ke}}var Q=b.atob.bind(b),K=b.btoa.bind(b);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function de(N,v){var S=N[0],I=N[1],R=N[2],V=N[3];S=ve(S,I,R,V,v[0],7,-680876936),V=ve(V,S,I,R,v[1],12,-389564586),R=ve(R,V,S,I,v[2],17,606105819),I=ve(I,R,V,S,v[3],22,-1044525330),S=ve(S,I,R,V,v[4],7,-176418897),V=ve(V,S,I,R,v[5],12,1200080426),R=ve(R,V,S,I,v[6],17,-1473231341),I=ve(I,R,V,S,v[7],22,-45705983),S=ve(S,I,R,V,v[8],7,1770035416),V=ve(V,S,I,R,v[9],12,-1958414417),R=ve(R,V,S,I,v[10],17,-42063),I=ve(I,R,V,S,v[11],22,-1990404162),S=ve(S,I,R,V,v[12],7,1804603682),V=ve(V,S,I,R,v[13],12,-40341101),R=ve(R,V,S,I,v[14],17,-1502002290),S=le(S,I=ve(I,R,V,S,v[15],22,1236535329),R,V,v[1],5,-165796510),V=le(V,S,I,R,v[6],9,-1069501632),R=le(R,V,S,I,v[11],14,643717713),I=le(I,R,V,S,v[0],20,-373897302),S=le(S,I,R,V,v[5],5,-701558691),V=le(V,S,I,R,v[10],9,38016083),R=le(R,V,S,I,v[15],14,-660478335),I=le(I,R,V,S,v[4],20,-405537848),S=le(S,I,R,V,v[9],5,568446438),V=le(V,S,I,R,v[14],9,-1019803690),R=le(R,V,S,I,v[3],14,-187363961),I=le(I,R,V,S,v[8],20,1163531501),S=le(S,I,R,V,v[13],5,-1444681467),V=le(V,S,I,R,v[2],9,-51403784),R=le(R,V,S,I,v[7],14,1735328473),S=Ce(S,I=le(I,R,V,S,v[12],20,-1926607734),R,V,v[5],4,-378558),V=Ce(V,S,I,R,v[8],11,-2022574463),R=Ce(R,V,S,I,v[11],16,1839030562),I=Ce(I,R,V,S,v[14],23,-35309556),S=Ce(S,I,R,V,v[1],4,-1530992060),V=Ce(V,S,I,R,v[4],11,1272893353),R=Ce(R,V,S,I,v[7],16,-155497632),I=Ce(I,R,V,S,v[10],23,-1094730640),S=Ce(S,I,R,V,v[13],4,681279174),V=Ce(V,S,I,R,v[0],11,-358537222),R=Ce(R,V,S,I,v[3],16,-722521979),I=Ce(I,R,V,S,v[6],23,76029189),S=Ce(S,I,R,V,v[9],4,-640364487),V=Ce(V,S,I,R,v[12],11,-421815835),R=Ce(R,V,S,I,v[15],16,530742520),S=oe(S,I=Ce(I,R,V,S,v[2],23,-995338651),R,V,v[0],6,-198630844),V=oe(V,S,I,R,v[7],10,1126891415),R=oe(R,V,S,I,v[14],15,-1416354905),I=oe(I,R,V,S,v[5],21,-57434055),S=oe(S,I,R,V,v[12],6,1700485571),V=oe(V,S,I,R,v[3],10,-1894986606),R=oe(R,V,S,I,v[10],15,-1051523),I=oe(I,R,V,S,v[1],21,-2054922799),S=oe(S,I,R,V,v[8],6,1873313359),V=oe(V,S,I,R,v[15],10,-30611744),R=oe(R,V,S,I,v[6],15,-1560198380),I=oe(I,R,V,S,v[13],21,1309151649),S=oe(S,I,R,V,v[4],6,-145523070),V=oe(V,S,I,R,v[11],10,-1120210379),R=oe(R,V,S,I,v[2],15,718787259),I=oe(I,R,V,S,v[9],21,-343485551),N[0]=Se(S,N[0]),N[1]=Se(I,N[1]),N[2]=Se(R,N[2]),N[3]=Se(V,N[3])}function ue(N,v,S,I,R,V){return v=Se(Se(v,N),Se(I,V)),Se(v<<R|v>>>32-R,S)}function ve(N,v,S,I,R,V,ce){return ue(v&S|~v&I,N,v,R,V,ce)}function le(N,v,S,I,R,V,ce){return ue(v&I|S&~I,N,v,R,V,ce)}function Ce(N,v,S,I,R,V,ce){return ue(v^S^I,N,v,R,V,ce)}function oe(N,v,S,I,R,V,ce){return ue(S^(v|~I),N,v,R,V,ce)}function Ne(N){var v,S=N.length,I=[1732584193,-271733879,-1732584194,271733878];for(v=64;v<=N.length;v+=64)de(I,Ae(N.substring(v-64,v)));N=N.substring(v-64);var R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(v=0;v<N.length;v++)R[v>>2]|=N.charCodeAt(v)<<(v%4<<3);if(R[v>>2]|=128<<(v%4<<3),v>55)for(de(I,R),v=0;v<16;v++)R[v]=0;return R[14]=8*S,de(I,R),I}function Ae(N){var v,S=[];for(v=0;v<64;v+=4)S[v>>2]=N.charCodeAt(v)+(N.charCodeAt(v+1)<<8)+(N.charCodeAt(v+2)<<16)+(N.charCodeAt(v+3)<<24);return S}var se="0123456789abcdef".split("");function pe(N){for(var v="",S=0;S<4;S++)v+=se[N>>8*S+4&15]+se[N>>8*S&15];return v}function re(N){return String.fromCharCode(255&N,(65280&N)>>8,(16711680&N)>>16,(4278190080&N)>>24)}function Ee(N){return Ne(N).map(re).join("")}var De=(function(N){for(var v=0;v<N.length;v++)N[v]=pe(N[v]);return N.join("")})(Ne("hello"))!="5d41402abc4b2a76b9719d911017c592";function Se(N,v){if(De){var S=(65535&N)+(65535&v);return(N>>16)+(v>>16)+(S>>16)<<16|65535&S}return N+v&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function he(N,v){var S,I,R,V;if(N!==S){for(var ce=(R=N,V=1+(256/N.length|0),new Array(V+1).join(R)),q=[],ee=0;ee<256;ee++)q[ee]=ee;var ke=0;for(ee=0;ee<256;ee++){var Me=q[ee];ke=(ke+Me+ce.charCodeAt(ee))%256,q[ee]=q[ke],q[ke]=Me}S=N,I=q}else q=I;var $e=v.length,Je=0,xe=0,ct="";for(ee=0;ee<$e;ee++)xe=(xe+(Me=q[Je=(Je+1)%256]))%256,q[Je]=q[xe],q[xe]=Me,ce=q[(q[Je]+q[xe])%256],ct+=String.fromCharCode(v.charCodeAt(ee)^ce);return ct}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var be={print:4,modify:8,copy:16,"annot-forms":32};function fe(N,v,S,I){this.v=1,this.r=2;var R=192;N.forEach(function(q){if(be.perm!==void 0)throw new Error("Invalid permission: "+q);R+=be[q]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var V=(v+this.padding).substr(0,32),ce=(S+this.padding).substr(0,32);this.O=this.processOwnerPassword(V,ce),this.P=-(1+(255^R)),this.encryptionKey=Ee(V+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(I)).substr(0,5),this.U=he(this.encryptionKey,this.padding)}function te(N){if(/[^\u0000-\u00ff]/.test(N))throw new Error("Invalid PDF Name Object: "+N+", Only accept ASCII characters.");for(var v="",S=N.length,I=0;I<S;I++){var R=N.charCodeAt(I);v+=R<33||R===35||R===37||R===40||R===41||R===47||R===60||R===62||R===91||R===93||R===123||R===125||R>126?"#"+("0"+R.toString(16)).slice(-2):N[I]}return v}function ge(N){if((0,f.default)(N)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var v={};this.subscribe=function(S,I,R){if(R=R||!1,typeof S!="string"||typeof I!="function"||typeof R!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");v.hasOwnProperty(S)||(v[S]={});var V=Math.random().toString(35);return v[S][V]=[I,!!R],V},this.unsubscribe=function(S){for(var I in v)if(v[I][S])return delete v[I][S],Object.keys(v[I]).length===0&&delete v[I],!0;return!1},this.publish=function(S){if(v.hasOwnProperty(S)){var I=Array.prototype.slice.call(arguments,1),R=[];for(var V in v[S]){var ce=v[S][V];try{ce[0].apply(N,I)}catch(q){b.console&&y.error("jsPDF PubSub Error",q.message,q)}ce[1]&&R.push(V)}R.length&&R.forEach(this.unsubscribe)}},this.getTopics=function(){return v}}function Ue(N){if(!(this instanceof Ue))return new Ue(N);var v="opacity,stroke-opacity".split(",");for(var S in N)N.hasOwnProperty(S)&&v.indexOf(S)>=0&&(this[S]=N[S]);this.id="",this.objectNumber=-1}function Ve(N,v){this.gState=N,this.matrix=v,this.id="",this.objectNumber=-1}function kt(N,v,S,I,R){if(!(this instanceof kt))return new kt(N,v,S,I,R);this.type=N==="axial"?2:3,this.coords=v,this.colors=S,Ve.call(this,I,R)}function Bt(N,v,S,I,R){if(!(this instanceof Bt))return new Bt(N,v,S,I,R);this.boundingBox=N,this.xStep=v,this.yStep=S,this.stream="",this.cloneIndex=0,Ve.call(this,I,R)}function We(N){var v,S=typeof arguments[0]=="string"?arguments[0]:"p",I=arguments[1],R=arguments[2],V=arguments[3],ce=[],q=1,ee=16,ke="S",Me=null;(0,f.default)(N=N||{})==="object"&&(S=N.orientation,I=N.unit||I,R=N.format||R,V=N.compress||N.compressPdf||V,(Me=N.encryption||null)!==null&&(Me.userPassword=Me.userPassword||"",Me.ownerPassword=Me.ownerPassword||"",Me.userPermissions=Me.userPermissions||[]),q=typeof N.userUnit=="number"?Math.abs(N.userUnit):1,N.precision!==void 0&&(v=N.precision),N.floatPrecision!==void 0&&(ee=N.floatPrecision),ke=N.defaultPathOperation||"S"),ce=N.filters||(V===!0?["FlateEncode"]:ce),I=I||"mm",S=(""+(S||"P")).toLowerCase();var $e=N.putOnlyUsedFonts||!1,Je={},xe={internal:{},__private__:{}};xe.__private__.PubSub=ge;var ct="1.3",ot=xe.__private__.getPdfVersion=function(){return ct};xe.__private__.setPdfVersion=function(Z){ct=Z};var At={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};xe.__private__.getPageFormats=function(){return At};var Ye=xe.__private__.getPageFormat=function(Z){return At[Z]};R=R||"a4";var yt="compat",Pt="advanced",gt=yt;function Ge(){this.saveGraphicsState(),tt(new on(nn,0,0,-nn,0,rd()*nn).toString()+" cm"),this.setFontSize(this.getFontSize()/nn),ke="n",gt=Pt}function Mt(){this.restoreGraphicsState(),ke="S",gt=yt}var is=xe.__private__.combineFontStyleAndFontWeight=function(Z,Te){if(Z=="bold"&&Te=="normal"||Z=="bold"&&Te==400||Z=="normal"&&Te=="italic"||Z=="bold"&&Te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Te&&(Z=Te==400||Te==="normal"?Z==="italic"?"italic":"normal":Te!=700&&Te!=="bold"||Z!=="normal"?(Te==700?"bold":Te)+""+Z:"bold"),Z};xe.advancedAPI=function(Z){var Te=gt===yt;return Te&&Ge.call(this),typeof Z!="function"||(Z(this),Te&&Mt.call(this)),this},xe.compatAPI=function(Z){var Te=gt===Pt;return Te&&Mt.call(this),typeof Z!="function"||(Z(this),Te&&Ge.call(this)),this},xe.isAdvancedAPI=function(){return gt===Pt};var Ht,vt=function(Z){if(gt!==Pt)throw new Error(Z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},es=xe.roundToPrecision=xe.__private__.roundToPrecision=function(Z,Te){var at=v||Te;if(isNaN(Z)||isNaN(at))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Z.toFixed(at).replace(/0+$/,"")};Ht=xe.hpf=xe.__private__.hpf=typeof ee=="number"?function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.hpf");return es(Z,ee)}:ee==="smart"?function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.hpf");return es(Z,Z>-1&&Z<1?16:5)}:function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.hpf");return es(Z,16)};var Xe=xe.f2=xe.__private__.f2=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.f2");return es(Z,2)},rt=xe.__private__.f3=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.f3");return es(Z,3)},xt=xe.scale=xe.__private__.scale=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.scale");return gt===yt?Z*nn:gt===Pt?Z:void 0},bt=function(Z){return xt((function(Te){return gt===yt?rd()-Te:gt===Pt?Te:void 0})(Z))};xe.__private__.setPrecision=xe.setPrecision=function(Z){typeof parseInt(Z,10)=="number"&&(v=parseInt(Z,10))};var rs,us="00000000000000000000000000000000",ys=xe.__private__.getFileId=function(){return us},Kt=xe.__private__.setFileId=function(Z){return us=Z!==void 0&&/^[a-fA-F0-9]{32}$/.test(Z)?Z.toUpperCase():us.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Me!==null&&(Gi=new fe(Me.userPermissions,Me.userPassword,Me.ownerPassword,us)),us};xe.setFileId=function(Z){return Kt(Z),this},xe.getFileId=function(){return ys()};var ms=xe.__private__.convertDateToPDFDate=function(Z){var Te=Z.getTimezoneOffset(),at=Te<0?"+":"-",pt=Math.floor(Math.abs(Te/60)),Qt=Math.abs(Te%60),Cs=[at,ht(pt),"'",ht(Qt),"'"].join("");return["D:",Z.getFullYear(),ht(Z.getMonth()+1),ht(Z.getDate()),ht(Z.getHours()),ht(Z.getMinutes()),ht(Z.getSeconds()),Cs].join("")},Js=xe.__private__.convertPDFDateToDate=function(Z){var Te=parseInt(Z.substr(2,4),10),at=parseInt(Z.substr(6,2),10)-1,pt=parseInt(Z.substr(8,2),10),Qt=parseInt(Z.substr(10,2),10),Cs=parseInt(Z.substr(12,2),10),Rs=parseInt(Z.substr(14,2),10);return new Date(Te,at,pt,Qt,Cs,Rs,0)},Hs=xe.__private__.setCreationDate=function(Z){var Te;if(Z===void 0&&(Z=new Date),Z instanceof Date)Te=ms(Z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Te=Z}return rs=Te},_e=xe.__private__.getCreationDate=function(Z){var Te=rs;return Z==="jsDate"&&(Te=Js(rs)),Te};xe.setCreationDate=function(Z){return Hs(Z),this},xe.getCreationDate=function(Z){return _e(Z)};var dt,ht=xe.__private__.padd2=function(Z){return("0"+parseInt(Z)).slice(-2)},Ot=xe.__private__.padd2Hex=function(Z){return("00"+(Z=Z.toString())).substr(Z.length)},Rt=0,Yt=[],gs=[],bs=0,Us=[],Zs=[],br=!1,gr=gs;xe.__private__.setCustomOutputDestination=function(Z){br=!0,gr=Z};var Yr=function(Z){br||(gr=Z)};xe.__private__.resetCustomOutputDestination=function(){br=!1,gr=gs};var tt=xe.__private__.out=function(Z){return Z=Z.toString(),bs+=Z.length+1,gr.push(Z),gr},cr=xe.__private__.write=function(Z){return tt(arguments.length===1?Z.toString():Array.prototype.join.call(arguments," "))},un=xe.__private__.getArrayBuffer=function(Z){for(var Te=Z.length,at=new ArrayBuffer(Te),pt=new Uint8Array(at);Te--;)pt[Te]=Z.charCodeAt(Te);return at},nr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];xe.__private__.getStandardFonts=function(){return nr};var zs=N.fontSize||16;xe.__private__.setFontSize=xe.setFontSize=function(Z){return zs=gt===Pt?Z/nn:Z,this};var tn,yr=xe.__private__.getFontSize=xe.getFontSize=function(){return gt===yt?zs:zs*nn},Vr=N.R2L||!1;xe.__private__.setR2L=xe.setR2L=function(Z){return Vr=Z,this},xe.__private__.getR2L=xe.getR2L=function(){return Vr};var Or,Ca=xe.__private__.setZoomMode=function(Z){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Z))tn=Z;else if(isNaN(Z)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Z+'" is not recognized.');tn=Z}else tn=parseInt(Z,10)};xe.__private__.getZoomMode=function(){return tn};var Cn,Cr=xe.__private__.setPageMode=function(Z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Z+'" is not recognized.');Or=Z};xe.__private__.getPageMode=function(){return Or};var _n=xe.__private__.setLayoutMode=function(Z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Z+'" is not recognized.');Cn=Z};xe.__private__.getLayoutMode=function(){return Cn},xe.__private__.setDisplayMode=xe.setDisplayMode=function(Z,Te,at){return Ca(Z),_n(Te),Cr(at),this};var Xr={title:"",subject:"",author:"",keywords:"",creator:""};xe.__private__.getDocumentProperty=function(Z){if(Object.keys(Xr).indexOf(Z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xr[Z]},xe.__private__.getDocumentProperties=function(){return Xr},xe.__private__.setDocumentProperties=xe.setProperties=xe.setDocumentProperties=function(Z){for(var Te in Xr)Xr.hasOwnProperty(Te)&&Z[Te]&&(Xr[Te]=Z[Te]);return this},xe.__private__.setDocumentProperty=function(Z,Te){if(Object.keys(Xr).indexOf(Z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xr[Z]=Te};var Br,nn,Ir,bn,Yn,Bn={},In={},Wa=[],Kr={},_a={},fn={},_r={},Na=null,wn=0,or=[],Ln=new ge(xe),Yc=N.hotfixes||[],Pi={},co={},Gl=[],on=function Z(Te,at,pt,Qt,Cs,Rs){if(!(this instanceof Z))return new Z(Te,at,pt,Qt,Cs,Rs);isNaN(Te)&&(Te=1),isNaN(at)&&(at=0),isNaN(pt)&&(pt=0),isNaN(Qt)&&(Qt=1),isNaN(Cs)&&(Cs=0),isNaN(Rs)&&(Rs=0),this._matrix=[Te,at,pt,Qt,Cs,Rs]};Object.defineProperty(on.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Z){this._matrix[0]=Z}}),Object.defineProperty(on.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Z){this._matrix[1]=Z}}),Object.defineProperty(on.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Z){this._matrix[2]=Z}}),Object.defineProperty(on.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Z){this._matrix[3]=Z}}),Object.defineProperty(on.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Z){this._matrix[4]=Z}}),Object.defineProperty(on.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Z){this._matrix[5]=Z}}),Object.defineProperty(on.prototype,"a",{get:function(){return this._matrix[0]},set:function(Z){this._matrix[0]=Z}}),Object.defineProperty(on.prototype,"b",{get:function(){return this._matrix[1]},set:function(Z){this._matrix[1]=Z}}),Object.defineProperty(on.prototype,"c",{get:function(){return this._matrix[2]},set:function(Z){this._matrix[2]=Z}}),Object.defineProperty(on.prototype,"d",{get:function(){return this._matrix[3]},set:function(Z){this._matrix[3]=Z}}),Object.defineProperty(on.prototype,"e",{get:function(){return this._matrix[4]},set:function(Z){this._matrix[4]=Z}}),Object.defineProperty(on.prototype,"f",{get:function(){return this._matrix[5]},set:function(Z){this._matrix[5]=Z}}),Object.defineProperty(on.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(on.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(on.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(on.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),on.prototype.join=function(Z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Ht).join(Z)},on.prototype.multiply=function(Z){var Te=Z.sx*this.sx+Z.shy*this.shx,at=Z.sx*this.shy+Z.shy*this.sy,pt=Z.shx*this.sx+Z.sy*this.shx,Qt=Z.shx*this.shy+Z.sy*this.sy,Cs=Z.tx*this.sx+Z.ty*this.shx+this.tx,Rs=Z.tx*this.shy+Z.ty*this.sy+this.ty;return new on(Te,at,pt,Qt,Cs,Rs)},on.prototype.decompose=function(){var Z=this.sx,Te=this.shy,at=this.shx,pt=this.sy,Qt=this.tx,Cs=this.ty,Rs=Math.sqrt(Z*Z+Te*Te),Sr=(Z/=Rs)*at+(Te/=Rs)*pt;at-=Z*Sr,pt-=Te*Sr;var Er=Math.sqrt(at*at+pt*pt);return Sr/=Er,Z*(pt/=Er)<Te*(at/=Er)&&(Z=-Z,Te=-Te,Sr=-Sr,Rs=-Rs),{scale:new on(Rs,0,0,Er,0,0),translate:new on(1,0,0,1,Qt,Cs),rotate:new on(Z,Te,-Te,Z,0,0),skew:new on(1,0,Sr,1,0,0)}},on.prototype.toString=function(Z){return this.join(" ")},on.prototype.inversed=function(){var Z=this.sx,Te=this.shy,at=this.shx,pt=this.sy,Qt=this.tx,Cs=this.ty,Rs=1/(Z*pt-Te*at),Sr=pt*Rs,Er=-Te*Rs,pn=-at*Rs,jn=Z*Rs;return new on(Sr,Er,pn,jn,-Sr*Qt-pn*Cs,-Er*Qt-jn*Cs)},on.prototype.applyToPoint=function(Z){var Te=Z.x*this.sx+Z.y*this.shx+this.tx,at=Z.x*this.shy+Z.y*this.sy+this.ty;return new yl(Te,at)},on.prototype.applyToRectangle=function(Z){var Te=this.applyToPoint(Z),at=this.applyToPoint(new yl(Z.x+Z.w,Z.y+Z.h));return new vc(Te.x,Te.y,at.x-Te.x,at.y-Te.y)},on.prototype.clone=function(){var Z=this.sx,Te=this.shy,at=this.shx,pt=this.sy,Qt=this.tx,Cs=this.ty;return new on(Z,Te,at,pt,Qt,Cs)},xe.Matrix=on;var ci=xe.matrixMult=function(Z,Te){return Te.multiply(Z)},gi=new on(1,0,0,1,0,0);xe.unitMatrix=xe.identityMatrix=gi;var tl=function(Z,Te){if(!_a[Z]){var at=(Te instanceof kt?"Sh":"P")+(Object.keys(Kr).length+1).toString(10);Te.id=at,_a[Z]=at,Kr[at]=Te,Ln.publish("addPattern",Te)}};xe.ShadingPattern=kt,xe.TilingPattern=Bt,xe.addShadingPattern=function(Z,Te){return vt("addShadingPattern()"),tl(Z,Te),this},xe.beginTilingPattern=function(Z){vt("beginTilingPattern()"),il(Z.boundingBox[0],Z.boundingBox[1],Z.boundingBox[2]-Z.boundingBox[0],Z.boundingBox[3]-Z.boundingBox[1],Z.matrix)},xe.endTilingPattern=function(Z,Te){vt("endTilingPattern()"),Te.stream=Zs[dt].join(`
`),tl(Z,Te),Ln.publish("endTilingPattern",Te),Gl.pop().restore()};var Mo,Ra=xe.__private__.newObject=function(){var Z=xi();return di(Z,!0),Z},xi=xe.__private__.newObjectDeferred=function(){return Rt++,Yt[Rt]=function(){return bs},Rt},di=function(Z,Te){return Te=typeof Te=="boolean"&&Te,Yt[Z]=bs,Te&&tt(Z+" 0 obj"),Z},Fl=xe.__private__.newAdditionalObject=function(){var Z={objId:xi(),content:""};return Us.push(Z),Z},Ri=xi(),fl=xi(),mo=xe.__private__.decodeColorString=function(Z){var Te=Z.split(" ");if(Te.length!==2||Te[1]!=="g"&&Te[1]!=="G")Te.length!==5||Te[4]!=="k"&&Te[4]!=="K"||(Te=[(1-Te[0])*(1-Te[3]),(1-Te[1])*(1-Te[3]),(1-Te[2])*(1-Te[3]),"r"]);else{var at=parseFloat(Te[0]);Te=[at,at,at,"r"]}for(var pt="#",Qt=0;Qt<3;Qt++)pt+=("0"+Math.floor(255*parseFloat(Te[Qt])).toString(16)).slice(-2);return pt},Ul=xe.__private__.encodeColorString=function(Z){var Te;typeof Z=="string"&&(Z={ch1:Z});var at=Z.ch1,pt=Z.ch2,Qt=Z.ch3,Cs=Z.ch4,Rs=Z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof at=="string"&&at.charAt(0)!=="#"){var Sr=new Y(at);if(Sr.ok)at=Sr.toHex();else if(!/^\d*\.?\d*$/.test(at))throw new Error('Invalid color "'+at+'" passed to jsPDF.encodeColorString.')}if(typeof at=="string"&&/^#[0-9A-Fa-f]{3}$/.test(at)&&(at="#"+at[1]+at[1]+at[2]+at[2]+at[3]+at[3]),typeof at=="string"&&/^#[0-9A-Fa-f]{6}$/.test(at)){var Er=parseInt(at.substr(1),16);at=Er>>16&255,pt=Er>>8&255,Qt=255&Er}if(pt===void 0||Cs===void 0&&at===pt&&pt===Qt)Te=typeof at=="string"?at+" "+Rs[0]:Z.precision===2?Xe(at/255)+" "+Rs[0]:rt(at/255)+" "+Rs[0];else if(Cs===void 0||(0,f.default)(Cs)==="object"){if(Cs&&!isNaN(Cs.a)&&Cs.a===0)return["1.","1.","1.",Rs[1]].join(" ");Te=typeof at=="string"?[at,pt,Qt,Rs[1]].join(" "):Z.precision===2?[Xe(at/255),Xe(pt/255),Xe(Qt/255),Rs[1]].join(" "):[rt(at/255),rt(pt/255),rt(Qt/255),Rs[1]].join(" ")}else Te=typeof at=="string"?[at,pt,Qt,Cs,Rs[2]].join(" "):Z.precision===2?[Xe(at),Xe(pt),Xe(Qt),Xe(Cs),Rs[2]].join(" "):[rt(at),rt(pt),rt(Qt),rt(Cs),Rs[2]].join(" ");return Te},Oo=xe.__private__.getFilters=function(){return ce},pl=xe.__private__.putStream=function(Z){var Te=(Z=Z||{}).data||"",at=Z.filters||Oo(),pt=Z.alreadyAppliedFilters||[],Qt=Z.addLength1||!1,Cs=Te.length,Rs=Z.objectId,Sr=function(Ti){return Ti};if(Me!==null&&Rs===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Me!==null&&(Sr=Gi.encryptor(Rs,0));var Er={};at===!0&&(at=["FlateEncode"]);var pn=Z.additionalKeyValues||[],jn=(Er=We.API.processDataByFilters!==void 0?We.API.processDataByFilters(Te,at):{data:Te,reverseChain:[]}).reverseChain+(Array.isArray(pt)?pt.join(" "):pt.toString());if(Er.data.length!==0&&(pn.push({key:"Length",value:Er.data.length}),Qt===!0&&pn.push({key:"Length1",value:Cs})),jn.length!=0)if(jn.split("/").length-1==1)pn.push({key:"Filter",value:jn});else{pn.push({key:"Filter",value:"["+jn+"]"});for(var na=0;na<pn.length;na+=1)if(pn[na].key==="DecodeParms"){for(var Ua=[],vi=0;vi<Er.reverseChain.split("/").length-1;vi+=1)Ua.push("null");Ua.push(pn[na].value),pn[na].value="["+Ua.join(" ")+"]"}}tt("<<");for(var Ba=0;Ba<pn.length;Ba++)tt("/"+pn[Ba].key+" "+pn[Ba].value);tt(">>"),Er.data.length!==0&&(tt("stream"),tt(Sr(Er.data)),tt("endstream"))},Xc=xe.__private__.putPage=function(Z){var Te=Z.number,at=Z.data,pt=Z.objId,Qt=Z.contentsObjId;di(pt,!0),tt("<</Type /Page"),tt("/Parent "+Z.rootDictionaryObjId+" 0 R"),tt("/Resources "+Z.resourceDictionaryObjId+" 0 R"),tt("/MediaBox ["+parseFloat(Ht(Z.mediaBox.bottomLeftX))+" "+parseFloat(Ht(Z.mediaBox.bottomLeftY))+" "+Ht(Z.mediaBox.topRightX)+" "+Ht(Z.mediaBox.topRightY)+"]"),Z.cropBox!==null&&tt("/CropBox ["+Ht(Z.cropBox.bottomLeftX)+" "+Ht(Z.cropBox.bottomLeftY)+" "+Ht(Z.cropBox.topRightX)+" "+Ht(Z.cropBox.topRightY)+"]"),Z.bleedBox!==null&&tt("/BleedBox ["+Ht(Z.bleedBox.bottomLeftX)+" "+Ht(Z.bleedBox.bottomLeftY)+" "+Ht(Z.bleedBox.topRightX)+" "+Ht(Z.bleedBox.topRightY)+"]"),Z.trimBox!==null&&tt("/TrimBox ["+Ht(Z.trimBox.bottomLeftX)+" "+Ht(Z.trimBox.bottomLeftY)+" "+Ht(Z.trimBox.topRightX)+" "+Ht(Z.trimBox.topRightY)+"]"),Z.artBox!==null&&tt("/ArtBox ["+Ht(Z.artBox.bottomLeftX)+" "+Ht(Z.artBox.bottomLeftY)+" "+Ht(Z.artBox.topRightX)+" "+Ht(Z.artBox.topRightY)+"]"),typeof Z.userUnit=="number"&&Z.userUnit!==1&&tt("/UserUnit "+Z.userUnit),Ln.publish("putPage",{objId:pt,pageContext:or[Te],pageNumber:Te,page:at}),tt("/Contents "+Qt+" 0 R"),tt(">>"),tt("endobj");var Cs=at.join(`
`);return gt===Pt&&(Cs+=`
Q`),di(Qt,!0),pl({data:Cs,filters:Oo(),objectId:Qt}),tt("endobj"),pt},ml=xe.__private__.putPages=function(){var Z,Te,at=[];for(Z=1;Z<=wn;Z++)or[Z].objId=xi(),or[Z].contentsObjId=xi();for(Z=1;Z<=wn;Z++)at.push(Xc({number:Z,data:Zs[Z],objId:or[Z].objId,contentsObjId:or[Z].contentsObjId,mediaBox:or[Z].mediaBox,cropBox:or[Z].cropBox,bleedBox:or[Z].bleedBox,trimBox:or[Z].trimBox,artBox:or[Z].artBox,userUnit:or[Z].userUnit,rootDictionaryObjId:Ri,resourceDictionaryObjId:fl}));di(Ri,!0),tt("<</Type /Pages");var pt="/Kids [";for(Te=0;Te<wn;Te++)pt+=at[Te]+" 0 R ";tt(pt+"]"),tt("/Count "+wn),tt(">>"),tt("endobj"),Ln.publish("postPutPages")},Io=function(Z){Ln.publish("putFont",{font:Z,out:tt,newObject:Ra,putStream:pl}),Z.isAlreadyPutted!==!0&&(Z.objectNumber=Ra(),tt("<<"),tt("/Type /Font"),tt("/BaseFont /"+te(Z.postScriptName)),tt("/Subtype /Type1"),typeof Z.encoding=="string"&&tt("/Encoding /"+Z.encoding),tt("/FirstChar 32"),tt("/LastChar 255"),tt(">>"),tt("endobj"))},Fc=function(Z){Z.objectNumber=Ra();var Te=[];Te.push({key:"Type",value:"/XObject"}),Te.push({key:"Subtype",value:"/Form"}),Te.push({key:"BBox",value:"["+[Ht(Z.x),Ht(Z.y),Ht(Z.x+Z.width),Ht(Z.y+Z.height)].join(" ")+"]"}),Te.push({key:"Matrix",value:"["+Z.matrix.toString()+"]"});var at=Z.pages[1].join(`
`);pl({data:at,additionalKeyValues:Te,objectId:Z.objectNumber}),tt("endobj")},Jc=function(Z,Te){Te||(Te=21);var at=Ra(),pt=(function(Rs,Sr){var Er,pn=[],jn=1/(Sr-1);for(Er=0;Er<1;Er+=jn)pn.push(Er);if(pn.push(1),Rs[0].offset!=0){var na={offset:0,color:Rs[0].color};Rs.unshift(na)}if(Rs[Rs.length-1].offset!=1){var Ua={offset:1,color:Rs[Rs.length-1].color};Rs.push(Ua)}for(var vi="",Ba=0,Ti=0;Ti<pn.length;Ti++){for(Er=pn[Ti];Er>Rs[Ba+1].offset;)Ba++;var k=Rs[Ba].offset,Be=(Er-k)/(Rs[Ba+1].offset-k),H=Rs[Ba].color,Qe=Rs[Ba+1].color;vi+=Ot(Math.round((1-Be)*H[0]+Be*Qe[0]).toString(16))+Ot(Math.round((1-Be)*H[1]+Be*Qe[1]).toString(16))+Ot(Math.round((1-Be)*H[2]+Be*Qe[2]).toString(16))}return vi.trim()})(Z.colors,Te),Qt=[];Qt.push({key:"FunctionType",value:"0"}),Qt.push({key:"Domain",value:"[0.0 1.0]"}),Qt.push({key:"Size",value:"["+Te+"]"}),Qt.push({key:"BitsPerSample",value:"8"}),Qt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pl({data:pt,additionalKeyValues:Qt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:at}),tt("endobj"),Z.objectNumber=Ra(),tt("<< /ShadingType "+Z.type),tt("/ColorSpace /DeviceRGB");var Cs="/Coords ["+Ht(parseFloat(Z.coords[0]))+" "+Ht(parseFloat(Z.coords[1]))+" ";Z.type===2?Cs+=Ht(parseFloat(Z.coords[2]))+" "+Ht(parseFloat(Z.coords[3])):Cs+=Ht(parseFloat(Z.coords[2]))+" "+Ht(parseFloat(Z.coords[3]))+" "+Ht(parseFloat(Z.coords[4]))+" "+Ht(parseFloat(Z.coords[5])),tt(Cs+="]"),Z.matrix&&tt("/Matrix ["+Z.matrix.toString()+"]"),tt("/Function "+at+" 0 R"),tt("/Extend [true true]"),tt(">>"),tt("endobj")},gc=function(Z,Te){var at=xi(),pt=Ra();Te.push({resourcesOid:at,objectOid:pt}),Z.objectNumber=pt;var Qt=[];Qt.push({key:"Type",value:"/Pattern"}),Qt.push({key:"PatternType",value:"1"}),Qt.push({key:"PaintType",value:"1"}),Qt.push({key:"TilingType",value:"1"}),Qt.push({key:"BBox",value:"["+Z.boundingBox.map(Ht).join(" ")+"]"}),Qt.push({key:"XStep",value:Ht(Z.xStep)}),Qt.push({key:"YStep",value:Ht(Z.yStep)}),Qt.push({key:"Resources",value:at+" 0 R"}),Z.matrix&&Qt.push({key:"Matrix",value:"["+Z.matrix.toString()+"]"}),pl({data:Z.stream,additionalKeyValues:Qt,objectId:Z.objectNumber}),tt("endobj")},sl=function(Z){for(var Te in Z.objectNumber=Ra(),tt("<<"),Z)switch(Te){case"opacity":tt("/ca "+Xe(Z[Te]));break;case"stroke-opacity":tt("/CA "+Xe(Z[Te]))}tt(">>"),tt("endobj")},Uc=function(Z){di(Z.resourcesOid,!0),tt("<<"),tt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Te in tt("/Font <<"),Bn)Bn.hasOwnProperty(Te)&&($e===!1||$e===!0&&Je.hasOwnProperty(Te))&&tt("/"+Te+" "+Bn[Te].objectNumber+" 0 R");tt(">>")})(),(function(){if(Object.keys(Kr).length>0){for(var Te in tt("/Shading <<"),Kr)Kr.hasOwnProperty(Te)&&Kr[Te]instanceof kt&&Kr[Te].objectNumber>=0&&tt("/"+Te+" "+Kr[Te].objectNumber+" 0 R");Ln.publish("putShadingPatternDict"),tt(">>")}})(),(function(Te){if(Object.keys(Kr).length>0){for(var at in tt("/Pattern <<"),Kr)Kr.hasOwnProperty(at)&&Kr[at]instanceof xe.TilingPattern&&Kr[at].objectNumber>=0&&Kr[at].objectNumber<Te&&tt("/"+at+" "+Kr[at].objectNumber+" 0 R");Ln.publish("putTilingPatternDict"),tt(">>")}})(Z.objectOid),(function(){if(Object.keys(fn).length>0){var Te;for(Te in tt("/ExtGState <<"),fn)fn.hasOwnProperty(Te)&&fn[Te].objectNumber>=0&&tt("/"+Te+" "+fn[Te].objectNumber+" 0 R");Ln.publish("putGStateDict"),tt(">>")}})(),(function(){for(var Te in tt("/XObject <<"),Pi)Pi.hasOwnProperty(Te)&&Pi[Te].objectNumber>=0&&tt("/"+Te+" "+Pi[Te].objectNumber+" 0 R");Ln.publish("putXobjectDict"),tt(">>")})(),tt(">>"),tt("endobj")},Do=function(Z){In[Z.fontName]=In[Z.fontName]||{},In[Z.fontName][Z.fontStyle]=Z.id},Ml=function(Z,Te,at,pt,Qt){var Cs={id:"F"+(Object.keys(Bn).length+1).toString(10),postScriptName:Z,fontName:Te,fontStyle:at,encoding:pt,isStandardFont:Qt||!1,metadata:{}};return Ln.publish("addFont",{font:Cs,instance:this}),Bn[Cs.id]=Cs,Do(Cs),Cs.id},go=xe.__private__.pdfEscape=xe.pdfEscape=function(Z,Te){return(function(at,pt){var Qt,Cs,Rs,Sr,Er,pn,jn,na,Ua;if(Rs=(pt=pt||{}).sourceEncoding||"Unicode",Er=pt.outputEncoding,(pt.autoencode||Er)&&Bn[Br].metadata&&Bn[Br].metadata[Rs]&&Bn[Br].metadata[Rs].encoding&&(Sr=Bn[Br].metadata[Rs].encoding,!Er&&Bn[Br].encoding&&(Er=Bn[Br].encoding),!Er&&Sr.codePages&&(Er=Sr.codePages[0]),typeof Er=="string"&&(Er=Sr[Er]),Er)){for(jn=!1,pn=[],Qt=0,Cs=at.length;Qt<Cs;Qt++)(na=Er[at.charCodeAt(Qt)])?pn.push(String.fromCharCode(na)):pn.push(at[Qt]),pn[Qt].charCodeAt(0)>>8&&(jn=!0);at=pn.join("")}for(Qt=at.length;jn===void 0&&Qt!==0;)at.charCodeAt(Qt-1)>>8&&(jn=!0),Qt--;if(!jn)return at;for(pn=pt.noBOM?[]:[254,255],Qt=0,Cs=at.length;Qt<Cs;Qt++){if((Ua=(na=at.charCodeAt(Qt))>>8)>>8)throw new Error("Character at position "+Qt+" of string '"+at+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pn.push(Ua),pn.push(na-(Ua<<8))}return String.fromCharCode.apply(void 0,pn)})(Z,Te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xc=xe.__private__.beginPage=function(Z){Zs[++wn]=[],or[wn]={objId:0,contentsObjId:0,userUnit:Number(q),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Z[0]),topRightY:Number(Z[1])}},Wl(wn),Yr(Zs[dt])},Mc=function(Z,Te){var at,pt,Qt;switch(S=Te||S,typeof Z=="string"&&(at=Ye(Z.toLowerCase()),Array.isArray(at)&&(pt=at[0],Qt=at[1])),Array.isArray(Z)&&(pt=Z[0]*nn,Qt=Z[1]*nn),isNaN(pt)&&(pt=R[0],Qt=R[1]),(pt>14400||Qt>14400)&&(y.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pt=Math.min(14400,pt),Qt=Math.min(14400,Qt)),R=[pt,Qt],S.substr(0,1)){case"l":Qt>pt&&(R=[Qt,pt]);break;case"p":pt>Qt&&(R=[Qt,pt])}xc(R),dr(Qi),tt(Yi),_o!==0&&tt(_o+" J"),al!==0&&tt(al+" j"),Ln.publish("addPage",{pageNumber:wn})},Ad=function(Z){Z>0&&Z<=wn&&(Zs.splice(Z,1),or.splice(Z,1),wn--,dt>wn&&(dt=wn),this.setPage(dt))},Wl=function(Z){Z>0&&Z<=wn&&(dt=Z)},Jd=xe.__private__.getNumberOfPages=xe.getNumberOfPages=function(){return Zs.length-1},hd=function(Z,Te,at){var pt,Qt=void 0;return at=at||{},Z=Z!==void 0?Z:Bn[Br].fontName,Te=Te!==void 0?Te:Bn[Br].fontStyle,pt=Z.toLowerCase(),In[pt]!==void 0&&In[pt][Te]!==void 0?Qt=In[pt][Te]:In[Z]!==void 0&&In[Z][Te]!==void 0?Qt=In[Z][Te]:at.disableWarning===!1&&y.warn("Unable to look up font label for font '"+Z+"', '"+Te+"'. Refer to getFontList() for available fonts."),Qt||at.noFallback||(Qt=In.times[Te])==null&&(Qt=In.times.normal),Qt},xo=xe.__private__.putInfo=function(){var Z=Ra(),Te=function(pt){return pt};for(var at in Me!==null&&(Te=Gi.encryptor(Z,0)),tt("<<"),tt("/Producer ("+go(Te("jsPDF "+We.version))+")"),Xr)Xr.hasOwnProperty(at)&&Xr[at]&&tt("/"+at.substr(0,1).toUpperCase()+at.substr(1)+" ("+go(Te(Xr[at]))+")");tt("/CreationDate ("+go(Te(rs))+")"),tt(">>"),tt("endobj")},Id=xe.__private__.putCatalog=function(Z){var Te=(Z=Z||{}).rootDictionaryObjId||Ri;switch(Ra(),tt("<<"),tt("/Type /Catalog"),tt("/Pages "+Te+" 0 R"),tn||(tn="fullwidth"),tn){case"fullwidth":tt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":tt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":tt("/OpenAction [3 0 R /Fit]");break;case"original":tt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var at=""+tn;at.substr(at.length-1)==="%"&&(tn=parseInt(tn)/100),typeof tn=="number"&&tt("/OpenAction [3 0 R /XYZ null null "+Xe(tn)+"]")}switch(Cn||(Cn="continuous"),Cn){case"continuous":tt("/PageLayout /OneColumn");break;case"single":tt("/PageLayout /SinglePage");break;case"two":case"twoleft":tt("/PageLayout /TwoColumnLeft");break;case"tworight":tt("/PageLayout /TwoColumnRight")}Or&&tt("/PageMode /"+Or),Ln.publish("putCatalog"),tt(">>"),tt("endobj")},Po=xe.__private__.putTrailer=function(){tt("trailer"),tt("<<"),tt("/Size "+(Rt+1)),tt("/Root "+Rt+" 0 R"),tt("/Info "+(Rt-1)+" 0 R"),Me!==null&&tt("/Encrypt "+Gi.oid+" 0 R"),tt("/ID [ <"+us+"> <"+us+"> ]"),tt(">>")},An=xe.__private__.putHeader=function(){tt("%PDF-"+ct),tt("%")},Ol=xe.__private__.putXRef=function(){var Z="0000000000";tt("xref"),tt("0 "+(Rt+1)),tt("0000000000 65535 f ");for(var Te=1;Te<=Rt;Te++)typeof Yt[Te]=="function"?tt((Z+Yt[Te]()).slice(-10)+" 00000 n "):Yt[Te]!==void 0?tt((Z+Yt[Te]).slice(-10)+" 00000 n "):tt("0000000000 00000 n ")},Yl=xe.__private__.buildDocument=function(){var Z;Rt=0,bs=0,gs=[],Yt=[],Us=[],Ri=xi(),fl=xi(),Yr(gs),Ln.publish("buildDocument"),An(),ml(),(function(){Ln.publish("putAdditionalObjects");for(var at=0;at<Us.length;at++){var pt=Us[at];di(pt.objId,!0),tt(pt.content),tt("endobj")}Ln.publish("postPutAdditionalObjects")})(),Z=[],(function(){for(var at in Bn)Bn.hasOwnProperty(at)&&($e===!1||$e===!0&&Je.hasOwnProperty(at))&&Io(Bn[at])})(),(function(){var at;for(at in fn)fn.hasOwnProperty(at)&&sl(fn[at])})(),(function(){for(var at in Pi)Pi.hasOwnProperty(at)&&Fc(Pi[at])})(),(function(at){var pt;for(pt in Kr)Kr.hasOwnProperty(pt)&&(Kr[pt]instanceof kt?Jc(Kr[pt]):Kr[pt]instanceof Bt&&gc(Kr[pt],at))})(Z),Ln.publish("putResources"),Z.forEach(Uc),Uc({resourcesOid:fl,objectOid:Number.MAX_SAFE_INTEGER}),Ln.publish("postPutResources"),Me!==null&&(Gi.oid=Ra(),tt("<<"),tt("/Filter /Standard"),tt("/V "+Gi.v),tt("/R "+Gi.r),tt("/U <"+Gi.toHexString(Gi.U)+">"),tt("/O <"+Gi.toHexString(Gi.O)+">"),tt("/P "+Gi.P),tt(">>"),tt("endobj")),xo(),Id();var Te=bs;return Ol(),Po(),tt("startxref"),tt(""+Te),tt("%%EOF"),Yr(Zs[dt]),gs.join(`
`)},Xl=xe.__private__.getBlob=function(Z){return new Blob([un(Z)],{type:"application/pdf"})},Oc=xe.output=xe.__private__.output=(Mo=function(Z,Te){switch(typeof(Te=Te||{})=="string"?Te={filename:Te}:Te.filename=Te.filename||"generated.pdf",Z){case void 0:return Yl();case"save":xe.save(Te.filename);break;case"arraybuffer":return un(Yl());case"blob":return Xl(Yl());case"bloburi":case"bloburl":if(b.URL!==void 0&&typeof b.URL.createObjectURL=="function")return b.URL&&b.URL.createObjectURL(Xl(Yl()))||void 0;y.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var at="",pt=Yl();try{at=K(pt)}catch{at=K(unescape(encodeURIComponent(pt)))}return"data:application/pdf;filename="+Te.filename+";base64,"+at;case"pdfobjectnewwindow":if(Object.prototype.toString.call(b)==="[object Window]"){var Qt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Cs=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Te.pdfObjectUrl&&(Qt=Te.pdfObjectUrl,Cs="");var Rs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qt+'"'+Cs+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Te)+");<\/script></body></html>",Sr=b.open();return Sr!==null&&Sr.document.write(Rs),Sr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(b)==="[object Window]"){var Er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Te.filename+'" width="500px" height="400px" /></body></html>',pn=b.open();if(pn!==null){pn.document.write(Er);var jn=this;pn.document.documentElement.querySelector("#pdfViewer").onload=function(){pn.document.title=Te.filename,pn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jn.output("bloburl"))}}return pn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(b)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var na='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Te)+'"></iframe></body></html>',Ua=b.open();if(Ua!==null&&(Ua.document.write(na),Ua.document.title=Te.filename),Ua||typeof safari>"u")return Ua;break;case"datauri":case"dataurl":return b.document.location.href=this.output("datauristring",Te);default:return null}},Mo.foo=function(){try{return Mo.apply(this,arguments)}catch(at){var Z=at.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var Te="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+at.message;if(!b.console)throw new Error(Te);b.console.error(Te,at),b.alert&&alert(Te)}},Mo.foo.bar=Mo,Mo.foo),Il=function(Z){return Array.isArray(Yc)===!0&&Yc.indexOf(Z)>-1};switch(I){case"pt":nn=1;break;case"mm":nn=2.834645669291339;break;case"cm":nn=28.346456692913385;break;case"in":nn=72;break;case"px":nn=Il("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":nn=12;break;case"ex":nn=6;break;default:if(typeof I!="number")throw new Error("Invalid unit: "+I);nn=I}var Gi=null;Hs(),Kt();var Jl=xe.__private__.getPageInfo=xe.getPageInfo=function(Z){if(isNaN(Z)||Z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:or[Z].objId,pageNumber:Z,pageContext:or[Z]}},fd=xe.__private__.getPageInfoByObjId=function(Z){if(isNaN(Z)||Z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Te in or)if(or[Te].objId===Z)break;return Jl(Te)},Wi=xe.__private__.getCurrentPageInfo=xe.getCurrentPageInfo=function(){return{objId:or[dt].objId,pageNumber:dt,pageContext:or[dt]}};xe.addPage=function(){return Mc.apply(this,arguments),this},xe.setPage=function(){return Wl.apply(this,arguments),Yr.call(this,Zs[dt]),this},xe.insertPage=function(Z){return this.addPage(),this.movePage(dt,Z),this},xe.movePage=function(Z,Te){var at,pt;if(Z>Te){at=Zs[Z],pt=or[Z];for(var Qt=Z;Qt>Te;Qt--)Zs[Qt]=Zs[Qt-1],or[Qt]=or[Qt-1];Zs[Te]=at,or[Te]=pt,this.setPage(Te)}else if(Z<Te){at=Zs[Z],pt=or[Z];for(var Cs=Z;Cs<Te;Cs++)Zs[Cs]=Zs[Cs+1],or[Cs]=or[Cs+1];Zs[Te]=at,or[Te]=pt,this.setPage(Te)}return this},xe.deletePage=function(){return Ad.apply(this,arguments),this},xe.__private__.text=xe.text=function(Z,Te,at,pt,Qt){var Cs,Rs,Sr,Er,pn,jn,na,Ua,vi,Ba=(pt=pt||{}).scope||this;if(typeof Z=="number"&&typeof Te=="number"&&(typeof at=="string"||Array.isArray(at))){var Ti=at;at=Te,Te=Z,Z=Ti}if(arguments[3]instanceof on==0?(Sr=arguments[4],Er=arguments[5],(0,f.default)(na=arguments[3])==="object"&&na!==null||(typeof Sr=="string"&&(Er=Sr,Sr=null),typeof na=="string"&&(Er=na,na=null),typeof na=="number"&&(Sr=na,na=null),pt={flags:na,angle:Sr,align:Er})):(vt("The transform parameter of text() with a Matrix value"),vi=Qt),isNaN(Te)||isNaN(at)||Z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Z.length===0)return Ba;var k,Be="",H=typeof pt.lineHeightFactor=="number"?pt.lineHeightFactor:md,Qe=Ba.internal.scaleFactor;function lt(ia){return ia=ia.split("	").join(Array(pt.TabLen||9).join(" ")),go(ia,na)}function it(ia){for(var za,Pn=ia.concat(),Ji=[],ad=Pn.length;ad--;)typeof(za=Pn.shift())=="string"?Ji.push(za):Array.isArray(ia)&&(za.length===1||za[1]===void 0&&za[2]===void 0)?Ji.push(za[0]):Ji.push([za[0],za[1],za[2]]);return Ji}function Xt(ia,za){var Pn;if(typeof ia=="string")Pn=za(ia)[0];else if(Array.isArray(ia)){for(var Ji,ad,yu=ia.concat(),Dd=[],Ou=yu.length;Ou--;)typeof(Ji=yu.shift())=="string"?Dd.push(za(Ji)[0]):Array.isArray(Ji)&&typeof Ji[0]=="string"&&(ad=za(Ji[0],Ji[1],Ji[2]),Dd.push([ad[0],ad[1],ad[2]]));Pn=Dd}return Pn}var Lt=!1,mr=!0;if(typeof Z=="string")Lt=!0;else if(Array.isArray(Z)){var jt=Z.concat();Rs=[];for(var Jt,mn=jt.length;mn--;)(typeof(Jt=jt.shift())!="string"||Array.isArray(Jt)&&typeof Jt[0]!="string")&&(mr=!1);Lt=mr}if(Lt===!1)throw new Error('Type of text must be string or Array. "'+Z+'" is not recognized.');typeof Z=="string"&&(Z=Z.match(/[\r?\n]/)?Z.split(/\r\n|\r|\n/g):[Z]);var ar=zs/Ba.internal.scaleFactor,_s=ar*(H-1);switch(pt.baseline){case"bottom":at-=_s;break;case"top":at+=ar-_s;break;case"hanging":at+=ar-2*_s;break;case"middle":at+=ar/2-_s}if((jn=pt.maxWidth||0)>0&&(typeof Z=="string"?Z=Ba.splitTextToSize(Z,jn):Object.prototype.toString.call(Z)==="[object Array]"&&(Z=Z.reduce(function(ia,za){return ia.concat(Ba.splitTextToSize(za,jn))},[]))),Cs={text:Z,x:Te,y:at,options:pt,mutex:{pdfEscape:go,activeFontKey:Br,fonts:Bn,activeFontSize:zs}},Ln.publish("preProcessText",Cs),Z=Cs.text,Sr=(pt=Cs.options).angle,vi instanceof on==0&&Sr&&typeof Sr=="number"){Sr*=Math.PI/180,pt.rotationDirection===0&&(Sr=-Sr),gt===Pt&&(Sr=-Sr);var vs=Math.cos(Sr),Ma=Math.sin(Sr);vi=new on(vs,Ma,-Ma,vs,0,0)}else Sr&&Sr instanceof on&&(vi=Sr);gt!==Pt||vi||(vi=gi),(pn=pt.charSpace||nl)!==void 0&&(Be+=Ht(xt(pn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ua=pt.horizontalScale)!==void 0&&(Be+=Ht(100*Ua)+` Tz
`),pt.lang;var hn=-1,Gr=pt.renderingMode!==void 0?pt.renderingMode:pt.stroke,cn=Ba.internal.getCurrentPageInfo().pageContext;switch(Gr){case 0:case!1:case"fill":hn=0;break;case 1:case!0:case"stroke":hn=1;break;case 2:case"fillThenStroke":hn=2;break;case 3:case"invisible":hn=3;break;case 4:case"fillAndAddForClipping":hn=4;break;case 5:case"strokeAndAddPathForClipping":hn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hn=6;break;case 7:case"addToPathForClipping":hn=7}var Sn=cn.usedRenderingMode!==void 0?cn.usedRenderingMode:-1;hn!==-1?Be+=hn+` Tr
`:Sn!==-1&&(Be+=`0 Tr
`),hn!==-1&&(cn.usedRenderingMode=hn),Er=pt.align||"left";var sr,En=zs*H,Oa=Ba.internal.pageSize.getWidth(),Hr=Bn[Br];pn=pt.charSpace||nl,jn=pt.maxWidth||0,na=Object.assign({autoencode:!0,noBOM:!0},pt.flags);var aa=[],Dn=function(ia){return Ba.getStringUnitWidth(ia,{font:Hr,charSpace:pn,fontSize:zs,doKerning:!1})*zs/Qe};if(Object.prototype.toString.call(Z)==="[object Array]"){var Tr;Rs=it(Z),Er!=="left"&&(sr=Rs.map(Dn));var ln,vo=0;if(Er==="right"){Te-=sr[0],Z=[],mn=Rs.length;for(var ec=0;ec<mn;ec++)ec===0?(ln=Qo(Te),Tr=Dc(at)):(ln=xt(vo-sr[ec]),Tr=-En),Z.push([Rs[ec],ln,Tr]),vo=sr[ec]}else if(Er==="center"){Te-=sr[0]/2,Z=[],mn=Rs.length;for(var wl=0;wl<mn;wl++)wl===0?(ln=Qo(Te),Tr=Dc(at)):(ln=xt((vo-sr[wl])/2),Tr=-En),Z.push([Rs[wl],ln,Tr]),vo=sr[wl]}else if(Er==="left"){Z=[],mn=Rs.length;for(var Xi=0;Xi<mn;Xi++)Z.push(Rs[Xi])}else if(Er==="justify"&&Hr.encoding==="Identity-H"){Z=[],mn=Rs.length,jn=jn!==0?jn:Oa;for(var yo=0,Ya=0;Ya<mn;Ya++)if(Tr=Ya===0?Dc(at):-En,ln=Ya===0?Qo(Te):yo,Ya<mn-1){var Mu=xt((jn-sr[Ya])/(Rs[Ya].split(" ").length-1)),nd=Rs[Ya].split(" ");Z.push([nd[0]+" ",ln,Tr]),yo=0;for(var ol=1;ol<nd.length;ol++){var ll=(Dn(nd[ol-1]+" "+nd[ol])-Dn(nd[ol]))*Qe+Mu;ol==nd.length-1?Z.push([nd[ol],ll,0]):Z.push([nd[ol]+" ",ll,0]),yo-=ll}}else Z.push([Rs[Ya],ln,Tr]);Z.push(["",yo,0])}else{if(Er!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Z=[],mn=Rs.length,jn=jn!==0?jn:Oa,Ya=0;Ya<mn;Ya++){Tr=Ya===0?Dc(at):-En,ln=Ya===0?Qo(Te):0;var yi=Rs[Ya].split(" ").length-1,qd=yi>0?(jn-sr[Ya])/yi:0;Ya<mn-1?aa.push(Ht(xt(qd))):aa.push(0),Z.push([Rs[Ya],ln,Tr])}}}(typeof pt.R2L=="boolean"?pt.R2L:Vr)===!0&&(Z=Xt(Z,function(ia,za,Pn){return[ia.split("").reverse().join(""),za,Pn]})),Cs={text:Z,x:Te,y:at,options:pt,mutex:{pdfEscape:go,activeFontKey:Br,fonts:Bn,activeFontSize:zs}},Ln.publish("postProcessText",Cs),Z=Cs.text,k=Cs.mutex.isHex||!1;var yc=Bn[Br].encoding;yc!=="WinAnsiEncoding"&&yc!=="StandardEncoding"||(Z=Xt(Z,function(ia,za,Pn){return[lt(ia),za,Pn]})),Rs=it(Z),Z=[];for(var vn,pa,ni,wd=Array.isArray(Rs[0])?1:0,tc="",wc=function(ia,za,Pn){var Ji="";return Pn instanceof on?(Pn=typeof pt.angle=="number"?ci(Pn,new on(1,0,0,1,ia,za)):ci(new on(1,0,0,1,ia,za),Pn),gt===Pt&&(Pn=ci(new on(1,0,0,-1,0,0),Pn)),Ji=Pn.join(" ")+` Tm
`):Ji=Ht(ia)+" "+Ht(za)+` Td
`,Ji},Ho=0;Ho<Rs.length;Ho++){switch(tc="",wd){case 1:ni=(k?"<":"(")+Rs[Ho][0]+(k?">":")"),vn=parseFloat(Rs[Ho][1]),pa=parseFloat(Rs[Ho][2]);break;case 0:ni=(k?"<":"(")+Rs[Ho]+(k?">":")"),vn=Qo(Te),pa=Dc(at)}aa!==void 0&&aa[Ho]!==void 0&&(tc=aa[Ho]+` Tw
`),Ho===0?Z.push(tc+wc(vn,pa,vi)+ni):wd===0?Z.push(tc+ni):wd===1&&Z.push(tc+wc(vn,pa,vi)+ni)}Z=wd===0?Z.join(` Tj
T* `):Z.join(` Tj
`),Z+=` Tj
`;var sc=`BT
/`;return sc+=Br+" "+zs+` Tf
`,sc+=Ht(zs*H)+` TL
`,sc+=vl+`
`,sc+=Be,sc+=Z,tt(sc+="ET"),Je[Br]=!0,Ba};var Zc=xe.__private__.clip=xe.clip=function(Z){return tt(Z==="evenodd"?"W*":"W"),this};xe.clipEvenOdd=function(){return Zc("evenodd")},xe.__private__.discardPath=xe.discardPath=function(){return tt("n"),this};var Ro=xe.__private__.isValidStyle=function(Z){var Te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Z)!==-1&&(Te=!0),Te};xe.__private__.setDefaultPathOperation=xe.setDefaultPathOperation=function(Z){return Ro(Z)&&(ke=Z),this};var pd=xe.__private__.getStyle=xe.getStyle=function(Z){var Te=ke;switch(Z){case"D":case"S":Te="S";break;case"F":Te="f";break;case"FD":case"DF":Te="B";break;case"f":case"f*":case"B":case"B*":Te=Z}return Te},Zl=xe.close=function(){return tt("h"),this};xe.stroke=function(){return tt("S"),this},xe.fill=function(Z){return bo("f",Z),this},xe.fillEvenOdd=function(Z){return bo("f*",Z),this},xe.fillStroke=function(Z){return bo("B",Z),this},xe.fillStrokeEvenOdd=function(Z){return bo("B*",Z),this};var bo=function(Z,Te){(0,f.default)(Te)==="object"?gl(Te,Z):tt(Z)},to=function(Z){Z===null||gt===Pt&&Z===void 0||(Z=pd(Z),tt(Z))};function ql(Z,Te,at,pt,Qt){var Cs=new Bt(Te||this.boundingBox,at||this.xStep,pt||this.yStep,this.gState,Qt||this.matrix);Cs.stream=this.stream;var Rs=Z+"$$"+this.cloneIndex+++"$$";return tl(Rs,Cs),Cs}var gl=function(Z,Te){var at=_a[Z.key],pt=Kr[at];if(pt instanceof kt)tt("q"),tt(rl(Te)),pt.gState&&xe.setGState(pt.gState),tt(Z.matrix.toString()+" cm"),tt("/"+at+" sh"),tt("Q");else if(pt instanceof Bt){var Qt=new on(1,0,0,-1,0,rd());Z.matrix&&(Qt=Qt.multiply(Z.matrix||gi),at=ql.call(pt,Z.key,Z.boundingBox,Z.xStep,Z.yStep,Qt).id),tt("q"),tt("/Pattern cs"),tt("/"+at+" scn"),pt.gState&&xe.setGState(pt.gState),tt(Te),tt("Q")}},rl=function(Z){switch(Z){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},xl=xe.moveTo=function(Z,Te){return tt(Ht(xt(Z))+" "+Ht(bt(Te))+" m"),this},gu=xe.lineTo=function(Z,Te){return tt(Ht(xt(Z))+" "+Ht(bt(Te))+" l"),this},Dl=xe.curveTo=function(Z,Te,at,pt,Qt,Cs){return tt([Ht(xt(Z)),Ht(bt(Te)),Ht(xt(at)),Ht(bt(pt)),Ht(xt(Qt)),Ht(bt(Cs)),"c"].join(" ")),this};xe.__private__.line=xe.line=function(Z,Te,at,pt,Qt){if(isNaN(Z)||isNaN(Te)||isNaN(at)||isNaN(pt)||!Ro(Qt))throw new Error("Invalid arguments passed to jsPDF.line");return gt===yt?this.lines([[at-Z,pt-Te]],Z,Te,[1,1],Qt||"S"):this.lines([[at-Z,pt-Te]],Z,Te,[1,1]).stroke()},xe.__private__.lines=xe.lines=function(Z,Te,at,pt,Qt,Cs){var Rs,Sr,Er,pn,jn,na,Ua,vi,Ba,Ti,k,Be;if(typeof Z=="number"&&(Be=at,at=Te,Te=Z,Z=Be),pt=pt||[1,1],Cs=Cs||!1,isNaN(Te)||isNaN(at)||!Array.isArray(Z)||!Array.isArray(pt)||!Ro(Qt)||typeof Cs!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xl(Te,at),Rs=pt[0],Sr=pt[1],pn=Z.length,Ti=Te,k=at,Er=0;Er<pn;Er++)(jn=Z[Er]).length===2?(Ti=jn[0]*Rs+Ti,k=jn[1]*Sr+k,gu(Ti,k)):(na=jn[0]*Rs+Ti,Ua=jn[1]*Sr+k,vi=jn[2]*Rs+Ti,Ba=jn[3]*Sr+k,Ti=jn[4]*Rs+Ti,k=jn[5]*Sr+k,Dl(na,Ua,vi,Ba,Ti,k));return Cs&&Zl(),to(Qt),this},xe.path=function(Z){for(var Te=0;Te<Z.length;Te++){var at=Z[Te],pt=at.c;switch(at.op){case"m":xl(pt[0],pt[1]);break;case"l":gu(pt[0],pt[1]);break;case"c":Dl.apply(this,pt);break;case"h":Zl()}}return this},xe.__private__.rect=xe.rect=function(Z,Te,at,pt,Qt){if(isNaN(Z)||isNaN(Te)||isNaN(at)||isNaN(pt)||!Ro(Qt))throw new Error("Invalid arguments passed to jsPDF.rect");return gt===yt&&(pt=-pt),tt([Ht(xt(Z)),Ht(bt(Te)),Ht(xt(at)),Ht(xt(pt)),"re"].join(" ")),to(Qt),this},xe.__private__.triangle=xe.triangle=function(Z,Te,at,pt,Qt,Cs,Rs){if(isNaN(Z)||isNaN(Te)||isNaN(at)||isNaN(pt)||isNaN(Qt)||isNaN(Cs)||!Ro(Rs))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[at-Z,pt-Te],[Qt-at,Cs-pt],[Z-Qt,Te-Cs]],Z,Te,[1,1],Rs,!0),this},xe.__private__.roundedRect=xe.roundedRect=function(Z,Te,at,pt,Qt,Cs,Rs){if(isNaN(Z)||isNaN(Te)||isNaN(at)||isNaN(pt)||isNaN(Qt)||isNaN(Cs)||!Ro(Rs))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Sr=4/3*(Math.SQRT2-1);return Qt=Math.min(Qt,.5*at),Cs=Math.min(Cs,.5*pt),this.lines([[at-2*Qt,0],[Qt*Sr,0,Qt,Cs-Cs*Sr,Qt,Cs],[0,pt-2*Cs],[0,Cs*Sr,-Qt*Sr,Cs,-Qt,Cs],[2*Qt-at,0],[-Qt*Sr,0,-Qt,-Cs*Sr,-Qt,-Cs],[0,2*Cs-pt],[0,-Cs*Sr,Qt*Sr,-Cs,Qt,-Cs]],Z+Qt,Te,[1,1],Rs,!0),this},xe.__private__.ellipse=xe.ellipse=function(Z,Te,at,pt,Qt){if(isNaN(Z)||isNaN(Te)||isNaN(at)||isNaN(pt)||!Ro(Qt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Cs=4/3*(Math.SQRT2-1)*at,Rs=4/3*(Math.SQRT2-1)*pt;return xl(Z+at,Te),Dl(Z+at,Te-Rs,Z+Cs,Te-pt,Z,Te-pt),Dl(Z-Cs,Te-pt,Z-at,Te-Rs,Z-at,Te),Dl(Z-at,Te+Rs,Z-Cs,Te+pt,Z,Te+pt),Dl(Z+Cs,Te+pt,Z+at,Te+Rs,Z+at,Te),to(Qt),this},xe.__private__.circle=xe.circle=function(Z,Te,at,pt){if(isNaN(Z)||isNaN(Te)||isNaN(at)||!Ro(pt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Z,Te,at,at,pt)},xe.setFont=function(Z,Te,at){return at&&(Te=is(Te,at)),Br=hd(Z,Te,{disableWarning:!1}),this};var xu=xe.__private__.getFont=xe.getFont=function(){return Bn[hd.apply(xe,arguments)]};xe.__private__.getFontList=xe.getFontList=function(){var Z,Te,at={};for(Z in In)if(In.hasOwnProperty(Z))for(Te in at[Z]=[],In[Z])In[Z].hasOwnProperty(Te)&&at[Z].push(Te);return at},xe.addFont=function(Z,Te,at,pt,Qt){var Cs=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Cs.indexOf(arguments[3])!==-1?Qt=arguments[3]:arguments[3]&&Cs.indexOf(arguments[3])==-1&&(at=is(at,pt)),Ml.call(this,Z,Te,at,Qt=Qt||"Identity-H")};var md,Qi=N.lineWidth||.200025,Ha=xe.__private__.getLineWidth=xe.getLineWidth=function(){return Qi},dr=xe.__private__.setLineWidth=xe.setLineWidth=function(Z){return Qi=Z,tt(Ht(xt(Z))+" w"),this};xe.__private__.setLineDash=We.API.setLineDash=We.API.setLineDashPattern=function(Z,Te){if(Z=Z||[],Te=Te||0,isNaN(Te)||!Array.isArray(Z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Z=Z.map(function(at){return Ht(xt(at))}).join(" "),Te=Ht(xt(Te)),tt("["+Z+"] "+Te+" d"),this};var Ic=xe.__private__.getLineHeight=xe.getLineHeight=function(){return zs*md};xe.__private__.getLineHeight=xe.getLineHeight=function(){return zs*md};var bl=xe.__private__.setLineHeightFactor=xe.setLineHeightFactor=function(Z){return typeof(Z=Z||1.15)=="number"&&(md=Z),this},gd=xe.__private__.getLineHeightFactor=xe.getLineHeightFactor=function(){return md};bl(N.lineHeight);var Qo=xe.__private__.getHorizontalCoordinate=function(Z){return xt(Z)},Dc=xe.__private__.getVerticalCoordinate=function(Z){return gt===Pt?Z:or[dt].mediaBox.topRightY-or[dt].mediaBox.bottomLeftY-xt(Z)},bu=xe.__private__.getHorizontalCoordinateString=xe.getHorizontalCoordinateString=function(Z){return Ht(Qo(Z))},xd=xe.__private__.getVerticalCoordinateString=xe.getVerticalCoordinateString=function(Z){return Ht(Dc(Z))},Yi=N.strokeColor||"0 G";xe.__private__.getStrokeColor=xe.getDrawColor=function(){return mo(Yi)},xe.__private__.setStrokeColor=xe.setDrawColor=function(Z,Te,at,pt){return Yi=Ul({ch1:Z,ch2:Te,ch3:at,ch4:pt,pdfColorType:"draw",precision:2}),tt(Yi),this};var qc=N.fillColor||"0 g";xe.__private__.getFillColor=xe.getFillColor=function(){return mo(qc)},xe.__private__.setFillColor=xe.setFillColor=function(Z,Te,at,pt){return qc=Ul({ch1:Z,ch2:Te,ch3:at,ch4:pt,pdfColorType:"fill",precision:2}),tt(qc),this};var vl=N.textColor||"0 g",Zd=xe.__private__.getTextColor=xe.getTextColor=function(){return mo(vl)};xe.__private__.setTextColor=xe.setTextColor=function(Z,Te,at,pt){return vl=Ul({ch1:Z,ch2:Te,ch3:at,ch4:pt,pdfColorType:"text",precision:3}),this};var nl=N.charSpace,bc=xe.__private__.getCharSpace=xe.getCharSpace=function(){return parseFloat(nl||0)};xe.__private__.setCharSpace=xe.setCharSpace=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return nl=Z,this};var _o=0;xe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},xe.__private__.setLineCap=xe.setLineCap=function(Z){var Te=xe.CapJoinStyles[Z];if(Te===void 0)throw new Error("Line cap style of '"+Z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _o=Te,tt(Te+" J"),this};var al=0;xe.__private__.setLineJoin=xe.setLineJoin=function(Z){var Te=xe.CapJoinStyles[Z];if(Te===void 0)throw new Error("Line join style of '"+Z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return al=Te,tt(Te+" j"),this},xe.__private__.setLineMiterLimit=xe.__private__.setMiterLimit=xe.setLineMiterLimit=xe.setMiterLimit=function(Z){if(Z=Z||0,isNaN(Z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return tt(Ht(xt(Z))+" M"),this},xe.GState=Ue,xe.setGState=function(Z){(Z=typeof Z=="string"?fn[_r[Z]]:bd(null,Z)).equals(Na)||(tt("/"+Z.id+" gs"),Na=Z)};var bd=function(Z,Te){if(!Z||!_r[Z]){var at=!1;for(var pt in fn)if(fn.hasOwnProperty(pt)&&fn[pt].equals(Te)){at=!0;break}if(at)Te=fn[pt];else{var Qt="GS"+(Object.keys(fn).length+1).toString(10);fn[Qt]=Te,Te.id=Qt}return Z&&(_r[Z]=Te.id),Ln.publish("addGState",Te),Te}};xe.addGState=function(Z,Te){return bd(Z,Te),this},xe.saveGraphicsState=function(){return tt("q"),Wa.push({key:Br,size:zs,color:vl}),this},xe.restoreGraphicsState=function(){tt("Q");var Z=Wa.pop();return Br=Z.key,zs=Z.size,vl=Z.color,Na=null,this},xe.setCurrentTransformationMatrix=function(Z){return tt(Z.toString()+" cm"),this},xe.comment=function(Z){return tt("#"+Z),this};var yl=function(Z,Te){var at=Z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return at},set:function(Cs){isNaN(Cs)||(at=parseFloat(Cs))}});var pt=Te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pt},set:function(Cs){isNaN(Cs)||(pt=parseFloat(Cs))}});var Qt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qt},set:function(Cs){Qt=Cs.toString()}}),this},vc=function(Z,Te,at,pt){yl.call(this,Z,Te),this.type="rect";var Qt=at||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qt},set:function(Rs){isNaN(Rs)||(Qt=parseFloat(Rs))}});var Cs=pt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Cs},set:function(Rs){isNaN(Rs)||(Cs=parseFloat(Rs))}}),this},ed=function(){this.page=wn,this.currentPage=dt,this.pages=Zs.slice(0),this.pagesContext=or.slice(0),this.x=Ir,this.y=bn,this.matrix=Yn,this.width=vd(dt),this.height=Uu(dt),this.outputDestination=gr,this.id="",this.objectNumber=-1};ed.prototype.restore=function(){wn=this.page,dt=this.currentPage,or=this.pagesContext,Zs=this.pages,Ir=this.x,bn=this.y,Yn=this.matrix,vu(dt,this.width),td(dt,this.height),gr=this.outputDestination};var il=function(Z,Te,at,pt,Qt){Gl.push(new ed),wn=dt=0,Zs=[],Ir=Z,bn=Te,Yn=Qt,xc([at,pt])};for(var ri in xe.beginFormObject=function(Z,Te,at,pt,Qt){return il(Z,Te,at,pt,Qt),this},xe.endFormObject=function(Z){return(function(Te){if(co[Te])Gl.pop().restore();else{var at=new ed,pt="Xo"+(Object.keys(Pi).length+1).toString(10);at.id=pt,co[Te]=pt,Pi[pt]=at,Ln.publish("addFormObject",at),Gl.pop().restore()}})(Z),this},xe.doFormObject=function(Z,Te){var at=Pi[co[Z]];return tt("q"),tt(Te.toString()+" cm"),tt("/"+at.id+" Do"),tt("Q"),this},xe.getFormObject=function(Z){var Te=Pi[co[Z]];return{x:Te.x,y:Te.y,width:Te.width,height:Te.height,matrix:Te.matrix}},xe.save=function(Z,Te){return Z=Z||"generated.pdf",(Te=Te||{}).returnPromise=Te.returnPromise||!1,Te.returnPromise===!1?(X(Xl(Yl()),Z),typeof X.unload=="function"&&b.setTimeout&&setTimeout(X.unload,911),this):new Promise(function(at,pt){try{var Qt=X(Xl(Yl()),Z);typeof X.unload=="function"&&b.setTimeout&&setTimeout(X.unload,911),at(Qt)}catch(Cs){pt(Cs.message)}})},We.API)We.API.hasOwnProperty(ri)&&(ri==="events"&&We.API.events.length?(function(Z,Te){var at,pt,Qt;for(Qt=Te.length-1;Qt!==-1;Qt--)at=Te[Qt][0],pt=Te[Qt][1],Z.subscribe.apply(Z,[at].concat(typeof pt=="function"?[pt]:pt))})(Ln,We.API.events):xe[ri]=We.API[ri]);function vd(Z){return or[Z].mediaBox.topRightX-or[Z].mediaBox.bottomLeftX}function vu(Z,Te){or[Z].mediaBox.topRightX=Te+or[Z].mediaBox.bottomLeftX}function Uu(Z){return or[Z].mediaBox.topRightY-or[Z].mediaBox.bottomLeftY}function td(Z,Te){or[Z].mediaBox.topRightY=Te+or[Z].mediaBox.bottomLeftY}var sd=xe.getPageWidth=function(Z){return vd(Z=Z||dt)/nn},bi=xe.setPageWidth=function(Z,Te){vu(Z,Te*nn)},rd=xe.getPageHeight=function(Z){return Uu(Z=Z||dt)/nn},yd=xe.setPageHeight=function(Z,Te){td(Z,Te*nn)};return xe.internal={pdfEscape:go,getStyle:pd,getFont:xu,getFontSize:yr,getCharSpace:bc,getTextColor:Zd,getLineHeight:Ic,getLineHeightFactor:gd,getLineWidth:Ha,write:cr,getHorizontalCoordinate:Qo,getVerticalCoordinate:Dc,getCoordinateString:bu,getVerticalCoordinateString:xd,collections:{},newObject:Ra,newAdditionalObject:Fl,newObjectDeferred:xi,newObjectDeferredBegin:di,getFilters:Oo,putStream:pl,events:Ln,scaleFactor:nn,pageSize:{getWidth:function(){return sd(dt)},setWidth:function(Z){bi(dt,Z)},getHeight:function(){return rd(dt)},setHeight:function(Z){yd(dt,Z)}},encryptionOptions:Me,encryption:Gi,getEncryptor:function(Z){return Me!==null?Gi.encryptor(Z,0):function(Te){return Te}},output:Oc,getNumberOfPages:Jd,get pages(){return Zs},out:tt,f2:Xe,f3:rt,getPageInfo:Jl,getPageInfoByObjId:fd,getCurrentPageInfo:Wi,getPDFVersion:ot,Point:yl,Rectangle:vc,Matrix:on,hasHotfix:Il},Object.defineProperty(xe.internal.pageSize,"width",{get:function(){return sd(dt)},set:function(Z){bi(dt,Z)},enumerable:!0,configurable:!0}),Object.defineProperty(xe.internal.pageSize,"height",{get:function(){return rd(dt)},set:function(Z){yd(dt,Z)},enumerable:!0,configurable:!0}),(function(Z){for(var Te=0,at=nr.length;Te<at;Te++){var pt=Ml.call(this,Z[Te][0],Z[Te][1],Z[Te][2],nr[Te][3],!0);$e===!1&&(Je[pt]=!0);var Qt=Z[Te][0].split("-");Do({id:pt,fontName:Qt[0],fontStyle:Qt[1]||""})}Ln.publish("addFonts",{fonts:Bn,dictionary:In})}).call(xe,nr),Br="F1",Mc(R,S),Ln.publish("initialized"),xe}fe.prototype.lsbFirstWord=function(N){return String.fromCharCode(255&N,N>>8&255,N>>16&255,N>>24&255)},fe.prototype.toHexString=function(N){return N.split("").map(function(v){return("0"+(255&v.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fe.prototype.hexToBytes=function(N){for(var v=[],S=0;S<N.length;S+=2)v.push(String.fromCharCode(parseInt(N.substr(S,2),16)));return v.join("")},fe.prototype.processOwnerPassword=function(N,v){return he(Ee(v).substr(0,5),N)},fe.prototype.encryptor=function(N,v){var S=Ee(this.encryptionKey+String.fromCharCode(255&N,N>>8&255,N>>16&255,255&v,v>>8&255)).substr(0,10);return function(I){return he(S,I)}},Ue.prototype.equals=function(N){var v,S="id,objectNumber,equals";if(!N||(0,f.default)(N)!==(0,f.default)(this))return!1;var I=0;for(v in this)if(!(S.indexOf(v)>=0)){if(this.hasOwnProperty(v)&&!N.hasOwnProperty(v)||this[v]!==N[v])return!1;I++}for(v in N)N.hasOwnProperty(v)&&S.indexOf(v)<0&&I--;return I===0},We.API={events:[]},We.version="4.0.0";var Ut=We.API,Vt=1,ls=function(N){return N.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fs=function(N){return N.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Re=function(N){return N.toFixed(2)},ut=function(N){return N.toFixed(5)};Ut.__acroform__={};var St=function(N,v){N.prototype=Object.create(v.prototype),N.prototype.constructor=N},Os=function(N){return N*Vt},hs=function(N){var v=new Gs,S=cs.internal.getHeight(N)||0,I=cs.internal.getWidth(N)||0;return v.BBox=[0,0,Number(Re(I)),Number(Re(S))],v},vr=Ut.__acroform__.setBit=function(N,v){if(N=N||0,v=v||0,isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return N|1<<v},hr=Ut.__acroform__.clearBit=function(N,v){if(N=N||0,v=v||0,isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return N&~(1<<v)},ir=Ut.__acroform__.getBit=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return N&1<<v?1:0},Ds=Ut.__acroform__.getBitForPdf=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ir(N,v-1)},Ss=Ut.__acroform__.setBitForPdf=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vr(N,v-1)},Ls=Ut.__acroform__.clearBitForPdf=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hr(N,v-1)},rr=Ut.__acroform__.calculateCoordinates=function(N,v){var S=v.internal.getHorizontalCoordinate,I=v.internal.getVerticalCoordinate,R=N[0],V=N[1],ce=N[2],q=N[3],ee={};return ee.lowerLeft_X=S(R)||0,ee.lowerLeft_Y=I(V+q)||0,ee.upperRight_X=S(R+ce)||0,ee.upperRight_Y=I(V)||0,[Number(Re(ee.lowerLeft_X)),Number(Re(ee.lowerLeft_Y)),Number(Re(ee.upperRight_X)),Number(Re(ee.upperRight_Y))]},xr=function(N){if(N.appearanceStreamContent)return N.appearanceStreamContent;if(N.V||N.DV){var v=[],S=N._V||N.DV,I=en(N,S),R=N.scope.internal.getFont(N.fontName,N.fontStyle).id;v.push("/Tx BMC"),v.push("q"),v.push("BT"),v.push(N.scope.__private__.encodeColorString(N.color)),v.push("/"+R+" "+Re(I.fontSize)+" Tf"),v.push("1 0 0 1 0 0 Tm"),v.push(I.text),v.push("ET"),v.push("Q"),v.push("EMC");var V=hs(N);return V.scope=N.scope,V.stream=v.join(`
`),V}},en=function(N,v){var S=N.fontSize===0?N.maxFontSize:N.fontSize,I={text:"",fontSize:""},R=(v=(v=v.substr(0,1)=="("?v.substr(1):v).substr(v.length-1)==")"?v.substr(0,v.length-1):v).split(" ");R=N.multiline?R.map(function(Xe){return Xe.split(`
`)}):R.map(function(Xe){return[Xe]});var V=S,ce=cs.internal.getHeight(N)||0;ce=ce<0?-ce:ce;var q=cs.internal.getWidth(N)||0;q=q<0?-q:q;var ee=function(Xe,rt,xt){if(Xe+1<R.length){var bt=rt+" "+R[Xe+1][0];return wr(bt,N,xt).width<=q-4}return!1};V++;e:for(;V>0;){v="",V--;var ke,Me,$e=wr("3",N,V).height,Je=N.multiline?ce-V:(ce-$e)/2,xe=Je+=2,ct=0,ot=0,At=0;if(V<=0){v=`(...) Tj
`,v+="% Width of Text: "+wr(v,N,V=12).width+", FieldWidth:"+q+`
`;break}for(var Ye="",yt=0,Pt=0;Pt<R.length;Pt++)if(R.hasOwnProperty(Pt)){var gt=!1;if(R[Pt].length!==1&&At!==R[Pt].length-1){if(($e+2)*(yt+2)+2>ce)continue e;Ye+=R[Pt][At],gt=!0,ot=Pt,Pt--}else{Ye=(Ye+=R[Pt][At]+" ").substr(Ye.length-1)==" "?Ye.substr(0,Ye.length-1):Ye;var Ge=parseInt(Pt),Mt=ee(Ge,Ye,V),is=Pt>=R.length-1;if(Mt&&!is){Ye+=" ",At=0;continue}if(Mt||is){if(is)ot=Ge;else if(N.multiline&&($e+2)*(yt+2)+2>ce)continue e}else{if(!N.multiline||($e+2)*(yt+2)+2>ce)continue e;ot=Ge}}for(var Ht="",vt=ct;vt<=ot;vt++){var es=R[vt];if(N.multiline){if(vt===ot){Ht+=es[At]+" ",At=(At+1)%es.length;continue}if(vt===ct){Ht+=es[es.length-1]+" ";continue}}Ht+=es[0]+" "}switch(Ht=Ht.substr(Ht.length-1)==" "?Ht.substr(0,Ht.length-1):Ht,Me=wr(Ht,N,V).width,N.textAlign){case"right":ke=q-Me-2;break;case"center":ke=(q-Me)/2;break;default:ke=2}v+=Re(ke)+" "+Re(xe)+` Td
`,v+="("+ls(Ht)+`) Tj
`,v+=-Re(ke)+` 0 Td
`,xe=-(V+2),Me=0,ct=gt?ot:ot+1,yt++,Ye=""}break}return I.text=v,I.fontSize=V,I},wr=function(N,v,S){var I=v.scope.internal.getFont(v.fontName,v.fontStyle),R=v.scope.getStringUnitWidth(N,{font:I,fontSize:parseFloat(S),charSpace:0})*parseFloat(S);return{height:v.scope.getStringUnitWidth("3",{font:I,fontSize:parseFloat(S),charSpace:0})*parseFloat(S)*1.5,width:R}},tr={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Xs=function(N,v){var S={type:"reference",object:N};v.internal.getPageInfo(N.page).pageContext.annotations.find(function(I){return I.type===S.type&&I.object===S.object})===void 0&&v.internal.getPageInfo(N.page).pageContext.annotations.push(S)},Ts=function(N,v){if(v.scope=N,N.internal!==void 0&&(N.internal.acroformPlugin===void 0||N.internal.acroformPlugin.isInitialized===!1)){if(wt.FieldNum=0,N.internal.acroformPlugin=JSON.parse(JSON.stringify(tr)),N.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vt=N.internal.scaleFactor,N.internal.acroformPlugin.acroFormDictionaryRoot=new lr,N.internal.acroformPlugin.acroFormDictionaryRoot.scope=N,N.internal.acroformPlugin.acroFormDictionaryRoot._eventID=N.internal.events.subscribe("postPutResources",function(){(function(S){S.internal.events.unsubscribe(S.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete S.internal.acroformPlugin.acroFormDictionaryRoot._eventID,S.internal.acroformPlugin.printedOut=!0})(N)}),N.internal.events.subscribe("buildDocument",function(){(function(S){S.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var I=S.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var R in I)if(I.hasOwnProperty(R)){var V=I[R];V.objId=void 0,V.hasAnnotation&&Xs(V,S)}})(N)}),N.internal.events.subscribe("putCatalog",function(){(function(S){if(S.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");S.internal.write("/AcroForm "+S.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(N)}),N.internal.events.subscribe("postPutPages",function(S){(function(I,R){var V=!I;for(var ce in I||(R.internal.newObjectDeferredBegin(R.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),R.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),I=I||R.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(I.hasOwnProperty(ce)){var q=I[ce],ee=[],ke=q.Rect;if(q.Rect&&(q.Rect=rr(q.Rect,R)),R.internal.newObjectDeferredBegin(q.objId,!0),q.DA=cs.createDefaultAppearanceStream(q),(0,f.default)(q)==="object"&&typeof q.getKeyValueListForStream=="function"&&(ee=q.getKeyValueListForStream()),q.Rect=ke,q.hasAppearanceStream&&!q.appearanceStreamContent){var Me=xr(q);ee.push({key:"AP",value:"<</N "+Me+">>"}),R.internal.acroformPlugin.xForms.push(Me)}if(q.appearanceStreamContent){var $e="";for(var Je in q.appearanceStreamContent)if(q.appearanceStreamContent.hasOwnProperty(Je)){var xe=q.appearanceStreamContent[Je];if($e+="/"+Je+" ",$e+="<<",Object.keys(xe).length>=1||Array.isArray(xe)){for(var ce in xe)if(xe.hasOwnProperty(ce)){var ct=xe[ce];typeof ct=="function"&&(ct=ct.call(R,q)),$e+="/"+ce+" "+ct+" ",R.internal.acroformPlugin.xForms.indexOf(ct)>=0||R.internal.acroformPlugin.xForms.push(ct)}}else typeof(ct=xe)=="function"&&(ct=ct.call(R,q)),$e+="/"+ce+" "+ct,R.internal.acroformPlugin.xForms.indexOf(ct)>=0||R.internal.acroformPlugin.xForms.push(ct);$e+=">>"}ee.push({key:"AP",value:`<<
`+$e+">>"})}R.internal.putStream({additionalKeyValues:ee,objectId:q.objId}),R.internal.out("endobj")}V&&(function(ot,At){for(var Ye in ot)if(ot.hasOwnProperty(Ye)){var yt=Ye,Pt=ot[Ye];At.internal.newObjectDeferredBegin(Pt.objId,!0),(0,f.default)(Pt)==="object"&&typeof Pt.putStream=="function"&&Pt.putStream(),delete ot[yt]}})(R.internal.acroformPlugin.xForms,R)})(S,N)}),N.internal.acroformPlugin.isInitialized=!0}},ft=Ut.__acroform__.arrayToPdfArray=function(N,v,S){var I=function(ce){return ce};if(Array.isArray(N)){for(var R="[",V=0;V<N.length;V++)switch(V!==0&&(R+=" "),(0,f.default)(N[V])){case"boolean":case"number":case"object":R+=N[V].toString();break;case"string":N[V].substr(0,1)!=="/"?(v!==void 0&&S&&(I=S.internal.getEncryptor(v)),R+="("+ls(I(N[V].toString()))+")"):R+=N[V].toString()}return R+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$t=function(N,v,S){var I=function(R){return R};return v!==void 0&&S&&(I=S.internal.getEncryptor(v)),(N=N||"").toString(),"("+ls(I(N))+")"},ks=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(N){this._objId=N}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ks.prototype.toString=function(){return this.objId+" 0 R"},ks.prototype.putStream=function(){var N=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:N,objectId:this.objId}),this.scope.internal.out("endobj")},ks.prototype.getKeyValueListForStream=function(){var N=[],v=Object.getOwnPropertyNames(this).filter(function(V){return V!="content"&&V!="appearanceStreamContent"&&V!="scope"&&V!="objId"&&V.substring(0,1)!="_"});for(var S in v)if(Object.getOwnPropertyDescriptor(this,v[S]).configurable===!1){var I=v[S],R=this[I];R&&(Array.isArray(R)?N.push({key:I,value:ft(R,this.objId,this.scope)}):R instanceof ks?(R.scope=this.scope,N.push({key:I,value:R.objId+" 0 R"})):typeof R!="function"&&N.push({key:I,value:R}))}return N};var Gs=function(){ks.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var N,v=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return v},set:function(S){v=S}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(S){N=S.trim()},get:function(){return N||null}})};St(Gs,ks);var lr=function(){ks.call(this);var N,v=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return v.length>0?v:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return v}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(N){var S=function(I){return I};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+ls(S(N))+")"}},set:function(S){N=S}})};St(lr,ks);var wt=function N(){ks.call(this);var v=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return v},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute F supplied.');v=Ye}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ds(v,3)},set:function(Ye){Ye?this.F=Ss(v,3):this.F=Ls(v,3)}});var S=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return S},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute Ff supplied.');S=Ye}});var I=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(I.length!==0)return I},set:function(Ye){I=Ye!==void 0?Ye:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[0])?0:I[0]},set:function(Ye){I[0]=Ye}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[1])?0:I[1]},set:function(Ye){I[1]=Ye}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[2])?0:I[2]},set:function(Ye){I[2]=Ye}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[3])?0:I[3]},set:function(Ye){I[3]=Ye}});var R="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return R},set:function(Ye){switch(Ye){case"/Btn":case"/Tx":case"/Ch":case"/Sig":R=Ye;break;default:throw new Error('Invalid value "'+Ye+'" for attribute FT supplied.')}}});var V=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!V||V.length<1){if(this instanceof ya)return;V="FieldObject"+N.FieldNum++}var Ye=function(yt){return yt};return this.scope&&(Ye=this.scope.internal.getEncryptor(this.objId)),"("+ls(Ye(V))+")"},set:function(Ye){V=Ye.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return V},set:function(Ye){V=Ye}});var ce="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return ce},set:function(Ye){ce=Ye}});var q="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return q},set:function(Ye){q=Ye}});var ee=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return ee},set:function(Ye){ee=Ye}});var ke=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return ke===void 0?50/Vt:ke},set:function(Ye){ke=Ye}});var Me="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Me},set:function(Ye){Me=Ye}});var $e="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!$e||this instanceof ya||this instanceof ps))return $t($e,this.objId,this.scope)},set:function(Ye){Ye=Ye.toString(),$e=Ye}});var Je=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Je)return this instanceof Ks==0?$t(Je,this.objId,this.scope):Je},set:function(Ye){Ye=Ye.toString(),Je=this instanceof Ks==0?Ye.substr(0,1)==="("?Fs(Ye.substr(1,Ye.length-2)):Fs(Ye):Ye}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ks==1?Fs(Je.substr(1,Je.length-1)):Je},set:function(Ye){Ye=Ye.toString(),Je=this instanceof Ks==1?"/"+Ye:Ye}});var xe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(xe)return xe},set:function(Ye){this.V=Ye}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(xe)return this instanceof Ks==0?$t(xe,this.objId,this.scope):xe},set:function(Ye){Ye=Ye.toString(),xe=this instanceof Ks==0?Ye.substr(0,1)==="("?Fs(Ye.substr(1,Ye.length-2)):Fs(Ye):Ye}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ks==1?Fs(xe.substr(1,xe.length-1)):xe},set:function(Ye){Ye=Ye.toString(),xe=this instanceof Ks==1?"/"+Ye:Ye}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ct,ot=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return ot},set:function(Ye){Ye=!!Ye,ot=Ye}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ct)return ct},set:function(Ye){ct=Ye}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,1)},set:function(Ye){Ye?this.Ff=Ss(this.Ff,1):this.Ff=Ls(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,2)},set:function(Ye){Ye?this.Ff=Ss(this.Ff,2):this.Ff=Ls(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,3)},set:function(Ye){Ye?this.Ff=Ss(this.Ff,3):this.Ff=Ls(this.Ff,3)}});var At=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(At!==null)return At},set:function(Ye){if([0,1,2].indexOf(Ye)===-1)throw new Error('Invalid value "'+Ye+'" for attribute Q supplied.');At=Ye}}),Object.defineProperty(this,"textAlign",{get:function(){var Ye;switch(At){case 0:default:Ye="left";break;case 1:Ye="center";break;case 2:Ye="right"}return Ye},configurable:!0,enumerable:!0,set:function(Ye){switch(Ye){case"right":case 2:At=2;break;case"center":case 1:At=1;break;default:At=0}}})};St(wt,ks);var qt=function(){wt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var N=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return N},set:function(S){N=S}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return N},set:function(S){N=S}});var v=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ft(v,this.objId,this.scope)},set:function(S){var I,R;R=[],typeof(I=S)=="string"&&(R=(function(V,ce,q){q||(q=1);for(var ee,ke=[];ee=ce.exec(V);)ke.push(ee[q]);return ke})(I,/\((.*?)\)/g)),v=R}}),this.getOptions=function(){return v},this.setOptions=function(S){v=S,this.sort&&v.sort()},this.addOption=function(S){S=(S=S||"").toString(),v.push(S),this.sort&&v.sort()},this.removeOption=function(S,I){for(I=I||!1,S=(S=S||"").toString();v.indexOf(S)!==-1&&(v.splice(v.indexOf(S),1),I!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,18)},set:function(S){S?this.Ff=Ss(this.Ff,18):this.Ff=Ls(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,19)},set:function(S){this.combo===!0&&(S?this.Ff=Ss(this.Ff,19):this.Ff=Ls(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,20)},set:function(S){S?(this.Ff=Ss(this.Ff,20),v.sort()):this.Ff=Ls(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,22)},set:function(S){S?this.Ff=Ss(this.Ff,22):this.Ff=Ls(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,23)},set:function(S){S?this.Ff=Ss(this.Ff,23):this.Ff=Ls(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,27)},set:function(S){S?this.Ff=Ss(this.Ff,27):this.Ff=Ls(this.Ff,27)}}),this.hasAppearanceStream=!1};St(qt,wt);var As=function(){qt.call(this),this.fontName="helvetica",this.combo=!1};St(As,qt);var fs=function(){As.call(this),this.combo=!0};St(fs,As);var Vs=function(){fs.call(this),this.edit=!0};St(Vs,fs);var Ks=function(){wt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,15)},set:function(S){S?this.Ff=Ss(this.Ff,15):this.Ff=Ls(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,16)},set:function(S){S?this.Ff=Ss(this.Ff,16):this.Ff=Ls(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,17)},set:function(S){S?this.Ff=Ss(this.Ff,17):this.Ff=Ls(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,26)},set:function(S){S?this.Ff=Ss(this.Ff,26):this.Ff=Ls(this.Ff,26)}});var N,v={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var S=function(V){return V};if(this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),Object.keys(v).length!==0){var I,R=[];for(I in R.push("<<"),v)R.push("/"+I+" ("+ls(S(v[I]))+")");return R.push(">>"),R.join(`
`)}},set:function(S){(0,f.default)(S)==="object"&&(v=S)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return v.CA||""},set:function(S){typeof S=="string"&&(v.CA=S)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return N},set:function(S){N=S}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return N.substr(1,N.length-1)},set:function(S){N="/"+S}})};St(Ks,wt);var pr=function(){Ks.call(this),this.pushButton=!0};St(pr,Ks);var rn=function(){Ks.call(this),this.radio=!0,this.pushButton=!1;var N=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return N},set:function(v){N=v!==void 0?v:[]}})};St(rn,Ks);var ya=function(){var N,v;wt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return N},set:function(R){N=R}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return v},set:function(R){v=R}});var S,I={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var R=function(q){return q};this.scope&&(R=this.scope.internal.getEncryptor(this.objId));var V,ce=[];for(V in ce.push("<<"),I)ce.push("/"+V+" ("+ls(R(I[V]))+")");return ce.push(">>"),ce.join(`
`)},set:function(R){(0,f.default)(R)==="object"&&(I=R)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return I.CA||""},set:function(R){typeof R=="string"&&(I.CA=R)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return S},set:function(R){S=R}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return S.substr(1,S.length-1)},set:function(R){S="/"+R}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=cs.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};St(ya,wt),rn.prototype.setAppearance=function(N){if(!("createAppearanceStream"in N)||!("getCA"in N))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var v in this.Kids)if(this.Kids.hasOwnProperty(v)){var S=this.Kids[v];S.appearanceStreamContent=N.createAppearanceStream(S.optionName),S.caption=N.getCA()}},rn.prototype.createOption=function(N){var v=new ya;return v.Parent=this,v.optionName=N,this.Kids.push(v),fr.call(this.scope,v),v};var La=function(){Ks.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=cs.CheckBox.createAppearanceStream()};St(La,Ks);var ps=function(){wt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,13)},set:function(v){v?this.Ff=Ss(this.Ff,13):this.Ff=Ls(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,21)},set:function(v){v?this.Ff=Ss(this.Ff,21):this.Ff=Ls(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,23)},set:function(v){v?this.Ff=Ss(this.Ff,23):this.Ff=Ls(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,24)},set:function(v){v?this.Ff=Ss(this.Ff,24):this.Ff=Ls(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,25)},set:function(v){v?this.Ff=Ss(this.Ff,25):this.Ff=Ls(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,26)},set:function(v){v?this.Ff=Ss(this.Ff,26):this.Ff=Ls(this.Ff,26)}});var N=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return N},set:function(v){N=v}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return N},set:function(v){Number.isInteger(v)&&(N=v)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};St(ps,wt);var xs=function(){ps.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,14)},set:function(N){N?this.Ff=Ss(this.Ff,14):this.Ff=Ls(this.Ff,14)}}),this.password=!0};St(xs,ps);var cs={CheckBox:{createAppearanceStream:function(){return{N:{On:cs.CheckBox.YesNormal},D:{On:cs.CheckBox.YesPushDown,Off:cs.CheckBox.OffPushDown}}},YesPushDown:function(N){var v=hs(N);v.scope=N.scope;var S=[],I=N.scope.internal.getFont(N.fontName,N.fontStyle).id,R=N.scope.__private__.encodeColorString(N.color),V=en(N,N.caption);return S.push("0.749023 g"),S.push("0 0 "+Re(cs.internal.getWidth(N))+" "+Re(cs.internal.getHeight(N))+" re"),S.push("f"),S.push("BMC"),S.push("q"),S.push("0 0 1 rg"),S.push("/"+I+" "+Re(V.fontSize)+" Tf "+R),S.push("BT"),S.push(V.text),S.push("ET"),S.push("Q"),S.push("EMC"),v.stream=S.join(`
`),v},YesNormal:function(N){var v=hs(N);v.scope=N.scope;var S=N.scope.internal.getFont(N.fontName,N.fontStyle).id,I=N.scope.__private__.encodeColorString(N.color),R=[],V=cs.internal.getHeight(N),ce=cs.internal.getWidth(N),q=en(N,N.caption);return R.push("1 g"),R.push("0 0 "+Re(ce)+" "+Re(V)+" re"),R.push("f"),R.push("q"),R.push("0 0 1 rg"),R.push("0 0 "+Re(ce-1)+" "+Re(V-1)+" re"),R.push("W"),R.push("n"),R.push("0 g"),R.push("BT"),R.push("/"+S+" "+Re(q.fontSize)+" Tf "+I),R.push(q.text),R.push("ET"),R.push("Q"),v.stream=R.join(`
`),v},OffPushDown:function(N){var v=hs(N);v.scope=N.scope;var S=[];return S.push("0.749023 g"),S.push("0 0 "+Re(cs.internal.getWidth(N))+" "+Re(cs.internal.getHeight(N))+" re"),S.push("f"),v.stream=S.join(`
`),v}},RadioButton:{Circle:{createAppearanceStream:function(N){var v={D:{Off:cs.RadioButton.Circle.OffPushDown},N:{}};return v.N[N]=cs.RadioButton.Circle.YesNormal,v.D[N]=cs.RadioButton.Circle.YesPushDown,v},getCA:function(){return"l"},YesNormal:function(N){var v=hs(N);v.scope=N.scope;var S=[],I=cs.internal.getWidth(N)<=cs.internal.getHeight(N)?cs.internal.getWidth(N)/4:cs.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var R=cs.internal.Bezier_C,V=Number((I*R).toFixed(5));return S.push("q"),S.push("1 0 0 1 "+ut(cs.internal.getWidth(N)/2)+" "+ut(cs.internal.getHeight(N)/2)+" cm"),S.push(I+" 0 m"),S.push(I+" "+V+" "+V+" "+I+" 0 "+I+" c"),S.push("-"+V+" "+I+" -"+I+" "+V+" -"+I+" 0 c"),S.push("-"+I+" -"+V+" -"+V+" -"+I+" 0 -"+I+" c"),S.push(V+" -"+I+" "+I+" -"+V+" "+I+" 0 c"),S.push("f"),S.push("Q"),v.stream=S.join(`
`),v},YesPushDown:function(N){var v=hs(N);v.scope=N.scope;var S=[],I=cs.internal.getWidth(N)<=cs.internal.getHeight(N)?cs.internal.getWidth(N)/4:cs.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var R=Number((2*I).toFixed(5)),V=Number((R*cs.internal.Bezier_C).toFixed(5)),ce=Number((I*cs.internal.Bezier_C).toFixed(5));return S.push("0.749023 g"),S.push("q"),S.push("1 0 0 1 "+ut(cs.internal.getWidth(N)/2)+" "+ut(cs.internal.getHeight(N)/2)+" cm"),S.push(R+" 0 m"),S.push(R+" "+V+" "+V+" "+R+" 0 "+R+" c"),S.push("-"+V+" "+R+" -"+R+" "+V+" -"+R+" 0 c"),S.push("-"+R+" -"+V+" -"+V+" -"+R+" 0 -"+R+" c"),S.push(V+" -"+R+" "+R+" -"+V+" "+R+" 0 c"),S.push("f"),S.push("Q"),S.push("0 g"),S.push("q"),S.push("1 0 0 1 "+ut(cs.internal.getWidth(N)/2)+" "+ut(cs.internal.getHeight(N)/2)+" cm"),S.push(I+" 0 m"),S.push(I+" "+ce+" "+ce+" "+I+" 0 "+I+" c"),S.push("-"+ce+" "+I+" -"+I+" "+ce+" -"+I+" 0 c"),S.push("-"+I+" -"+ce+" -"+ce+" -"+I+" 0 -"+I+" c"),S.push(ce+" -"+I+" "+I+" -"+ce+" "+I+" 0 c"),S.push("f"),S.push("Q"),v.stream=S.join(`
`),v},OffPushDown:function(N){var v=hs(N);v.scope=N.scope;var S=[],I=cs.internal.getWidth(N)<=cs.internal.getHeight(N)?cs.internal.getWidth(N)/4:cs.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var R=Number((2*I).toFixed(5)),V=Number((R*cs.internal.Bezier_C).toFixed(5));return S.push("0.749023 g"),S.push("q"),S.push("1 0 0 1 "+ut(cs.internal.getWidth(N)/2)+" "+ut(cs.internal.getHeight(N)/2)+" cm"),S.push(R+" 0 m"),S.push(R+" "+V+" "+V+" "+R+" 0 "+R+" c"),S.push("-"+V+" "+R+" -"+R+" "+V+" -"+R+" 0 c"),S.push("-"+R+" -"+V+" -"+V+" -"+R+" 0 -"+R+" c"),S.push(V+" -"+R+" "+R+" -"+V+" "+R+" 0 c"),S.push("f"),S.push("Q"),v.stream=S.join(`
`),v}},Cross:{createAppearanceStream:function(N){var v={D:{Off:cs.RadioButton.Cross.OffPushDown},N:{}};return v.N[N]=cs.RadioButton.Cross.YesNormal,v.D[N]=cs.RadioButton.Cross.YesPushDown,v},getCA:function(){return"8"},YesNormal:function(N){var v=hs(N);v.scope=N.scope;var S=[],I=cs.internal.calculateCross(N);return S.push("q"),S.push("1 1 "+Re(cs.internal.getWidth(N)-2)+" "+Re(cs.internal.getHeight(N)-2)+" re"),S.push("W"),S.push("n"),S.push(Re(I.x1.x)+" "+Re(I.x1.y)+" m"),S.push(Re(I.x2.x)+" "+Re(I.x2.y)+" l"),S.push(Re(I.x4.x)+" "+Re(I.x4.y)+" m"),S.push(Re(I.x3.x)+" "+Re(I.x3.y)+" l"),S.push("s"),S.push("Q"),v.stream=S.join(`
`),v},YesPushDown:function(N){var v=hs(N);v.scope=N.scope;var S=cs.internal.calculateCross(N),I=[];return I.push("0.749023 g"),I.push("0 0 "+Re(cs.internal.getWidth(N))+" "+Re(cs.internal.getHeight(N))+" re"),I.push("f"),I.push("q"),I.push("1 1 "+Re(cs.internal.getWidth(N)-2)+" "+Re(cs.internal.getHeight(N)-2)+" re"),I.push("W"),I.push("n"),I.push(Re(S.x1.x)+" "+Re(S.x1.y)+" m"),I.push(Re(S.x2.x)+" "+Re(S.x2.y)+" l"),I.push(Re(S.x4.x)+" "+Re(S.x4.y)+" m"),I.push(Re(S.x3.x)+" "+Re(S.x3.y)+" l"),I.push("s"),I.push("Q"),v.stream=I.join(`
`),v},OffPushDown:function(N){var v=hs(N);v.scope=N.scope;var S=[];return S.push("0.749023 g"),S.push("0 0 "+Re(cs.internal.getWidth(N))+" "+Re(cs.internal.getHeight(N))+" re"),S.push("f"),v.stream=S.join(`
`),v}}},createDefaultAppearanceStream:function(N){var v=N.scope.internal.getFont(N.fontName,N.fontStyle).id,S=N.scope.__private__.encodeColorString(N.color);return"/"+v+" "+N.fontSize+" Tf "+S}};cs.internal={Bezier_C:.551915024494,calculateCross:function(N){var v=cs.internal.getWidth(N),S=cs.internal.getHeight(N),I=Math.min(v,S);return{x1:{x:(v-I)/2,y:(S-I)/2+I},x2:{x:(v-I)/2+I,y:(S-I)/2},x3:{x:(v-I)/2,y:(S-I)/2},x4:{x:(v-I)/2+I,y:(S-I)/2+I}}}},cs.internal.getWidth=function(N){var v=0;return(0,f.default)(N)==="object"&&(v=Os(N.Rect[2])),v},cs.internal.getHeight=function(N){var v=0;return(0,f.default)(N)==="object"&&(v=Os(N.Rect[3])),v};var fr=Ut.addField=function(N){if(Ts(this,N),!(N instanceof wt))throw new Error("Invalid argument passed to jsPDF.addField.");var v;return(v=N).scope.internal.acroformPlugin.printedOut&&(v.scope.internal.acroformPlugin.printedOut=!1,v.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),v.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(v),N.page=N.scope.internal.getCurrentPageInfo().pageNumber,this};Ut.AcroFormChoiceField=qt,Ut.AcroFormListBox=As,Ut.AcroFormComboBox=fs,Ut.AcroFormEditBox=Vs,Ut.AcroFormButton=Ks,Ut.AcroFormPushButton=pr,Ut.AcroFormRadioButton=rn,Ut.AcroFormCheckBox=La,Ut.AcroFormTextField=ps,Ut.AcroFormPasswordField=xs,Ut.AcroFormAppearance=cs,Ut.AcroForm={ChoiceField:qt,ListBox:As,ComboBox:fs,EditBox:Vs,Button:Ks,PushButton:pr,RadioButton:rn,CheckBox:La,TextField:ps,PasswordField:xs,Appearance:cs},We.AcroForm={ChoiceField:qt,ListBox:As,ComboBox:fs,EditBox:Vs,Button:Ks,PushButton:pr,RadioButton:rn,CheckBox:La,TextField:ps,PasswordField:xs,Appearance:cs};var $r=We.AcroForm;function Ps(N){return N.reduce(function(v,S,I){return v[S]=I,v},{})}(function(N){var v="addImage_";N.__addimage__={};var S="UNKNOWN",I={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},R=N.__addimage__.getImageFileTypeByImageData=function(Xe,rt){var xt,bt,rs,us,ys,Kt=S;if((rt=rt||S)==="RGBA"||Xe.data!==void 0&&Xe.data instanceof Uint8ClampedArray&&"height"in Xe&&"width"in Xe)return"RGBA";if(Mt(Xe))for(ys in I)for(rs=I[ys],xt=0;xt<rs.length;xt+=1){for(us=!0,bt=0;bt<rs[xt].length;bt+=1)if(rs[xt][bt]!==void 0&&rs[xt][bt]!==Xe[bt]){us=!1;break}if(us===!0){Kt=ys;break}}else for(ys in I)for(rs=I[ys],xt=0;xt<rs.length;xt+=1){for(us=!0,bt=0;bt<rs[xt].length;bt+=1)if(rs[xt][bt]!==void 0&&rs[xt][bt]!==Xe.charCodeAt(bt)){us=!1;break}if(us===!0){Kt=ys;break}}return Kt===S&&rt!==S&&(Kt=rt),Kt},V=function Xe(rt){for(var xt=this.internal.write,bt=this.internal.putStream,rs=(0,this.internal.getFilters)();rs.indexOf("FlateEncode")!==-1;)rs.splice(rs.indexOf("FlateEncode"),1);rt.objectId=this.internal.newObject();var us=[];if(us.push({key:"Type",value:"/XObject"}),us.push({key:"Subtype",value:"/Image"}),us.push({key:"Width",value:rt.width}),us.push({key:"Height",value:rt.height}),rt.colorSpace===Ye.INDEXED?us.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(rt.palette.length/3-1)+" "+("sMask"in rt&&rt.sMask!==void 0?rt.objectId+2:rt.objectId+1)+" 0 R]"}):(us.push({key:"ColorSpace",value:"/"+rt.colorSpace}),rt.colorSpace===Ye.DEVICE_CMYK&&us.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),us.push({key:"BitsPerComponent",value:rt.bitsPerComponent}),"decodeParameters"in rt&&rt.decodeParameters!==void 0&&us.push({key:"DecodeParms",value:"<<"+rt.decodeParameters+">>"}),"transparency"in rt&&Array.isArray(rt.transparency)&&rt.transparency.length>0){for(var ys="",Kt=0,ms=rt.transparency.length;Kt<ms;Kt++)ys+=rt.transparency[Kt]+" "+rt.transparency[Kt]+" ";us.push({key:"Mask",value:"["+ys+"]"})}rt.sMask!==void 0&&us.push({key:"SMask",value:rt.objectId+1+" 0 R"});var Js=rt.filter!==void 0?["/"+rt.filter]:void 0;if(bt({data:rt.data,additionalKeyValues:us,alreadyAppliedFilters:Js,objectId:rt.objectId}),xt("endobj"),"sMask"in rt&&rt.sMask!==void 0){var Hs,_e=(Hs=rt.sMaskBitsPerComponent)!==null&&Hs!==void 0?Hs:rt.bitsPerComponent,dt={width:rt.width,height:rt.height,colorSpace:"DeviceGray",bitsPerComponent:_e,data:rt.sMask};"filter"in rt&&(dt.decodeParameters="/Predictor ".concat(rt.predictor," /Colors 1 /BitsPerComponent ").concat(_e," /Columns ").concat(rt.width),dt.filter=rt.filter),Xe.call(this,dt)}if(rt.colorSpace===Ye.INDEXED){var ht=this.internal.newObject();bt({data:Ht(new Uint8Array(rt.palette)),objectId:ht}),xt("endobj")}},ce=function(){var Xe=this.internal.collections[v+"images"];for(var rt in Xe)V.call(this,Xe[rt])},q=function(){var Xe,rt=this.internal.collections[v+"images"],xt=this.internal.write;for(var bt in rt)xt("/I"+(Xe=rt[bt]).index,Xe.objectId,"0","R")},ee=function(){this.internal.collections[v+"images"]||(this.internal.collections[v+"images"]={},this.internal.events.subscribe("putResources",ce),this.internal.events.subscribe("putXobjectDict",q))},ke=function(){var Xe=this.internal.collections[v+"images"];return ee.call(this),Xe},Me=function(){return Object.keys(this.internal.collections[v+"images"]).length},$e=function(Xe){return typeof N["process"+Xe.toUpperCase()]=="function"},Je=function(Xe){return(0,f.default)(Xe)==="object"&&Xe.nodeType===1},xe=function(Xe,rt){if(Xe.nodeName==="IMG"&&Xe.hasAttribute("src")){var xt=""+Xe.getAttribute("src");if(xt.indexOf("data:image/")===0)return Q(unescape(xt).split("base64,").pop());var bt=N.loadFile(xt,!0);if(bt!==void 0)return bt}if(Xe.nodeName==="CANVAS"){if(Xe.width===0||Xe.height===0)throw new Error("Given canvas must have data. Canvas width: "+Xe.width+", height: "+Xe.height);var rs;switch(rt){case"PNG":rs="image/png";break;case"WEBP":rs="image/webp";break;default:rs="image/jpeg"}return Q(Xe.toDataURL(rs,1).split("base64,").pop())}},ct=function(Xe){var rt=this.internal.collections[v+"images"];if(rt){for(var xt in rt)if(Xe===rt[xt].alias)return rt[xt]}},ot=function(Xe,rt,xt){return Xe||rt||(Xe=-96,rt=-96),Xe<0&&(Xe=-1*xt.width*72/Xe/this.internal.scaleFactor),rt<0&&(rt=-1*xt.height*72/rt/this.internal.scaleFactor),Xe===0&&(Xe=rt*xt.width/xt.height),rt===0&&(rt=Xe*xt.height/xt.width),[Xe,rt]},At=function(Xe,rt,xt,bt,rs,us){var ys=ot.call(this,xt,bt,rs),Kt=this.internal.getCoordinateString,ms=this.internal.getVerticalCoordinateString,Js=ke.call(this);if(xt=ys[0],bt=ys[1],Js[rs.index]=rs,us){us*=Math.PI/180;var Hs=Math.cos(us),_e=Math.sin(us),dt=function(Ot){return Ot.toFixed(4)},ht=[dt(Hs),dt(_e),dt(-1*_e),dt(Hs),0,0,"cm"]}this.internal.write("q"),us?(this.internal.write([1,"0","0",1,Kt(Xe),ms(rt+bt),"cm"].join(" ")),this.internal.write(ht.join(" ")),this.internal.write([Kt(xt),"0","0",Kt(bt),"0","0","cm"].join(" "))):this.internal.write([Kt(xt),"0","0",Kt(bt),Kt(Xe),ms(rt+bt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+rs.index+" Do"),this.internal.write("Q")},Ye=N.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};N.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var yt=N.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Pt=N.__addimage__.sHashCode=function(Xe){var rt,xt,bt=0;if(typeof Xe=="string")for(xt=Xe.length,rt=0;rt<xt;rt++)bt=(bt<<5)-bt+Xe.charCodeAt(rt),bt|=0;else if(Mt(Xe))for(xt=Xe.byteLength/2,rt=0;rt<xt;rt++)bt=(bt<<5)-bt+Xe[rt],bt|=0;return bt},gt=N.__addimage__.validateStringAsBase64=function(Xe){(Xe=Xe||"").toString().trim();var rt=!0;return Xe.length===0&&(rt=!1),Xe.length%4!=0&&(rt=!1),/^[A-Za-z0-9+/]+$/.test(Xe.substr(0,Xe.length-2))===!1&&(rt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Xe.substr(-2))===!1&&(rt=!1),rt},Ge=N.__addimage__.extractImageFromDataUrl=function(Xe){if(Xe==null||!(Xe=Xe.trim()).startsWith("data:"))return null;var rt=Xe.indexOf(",");return rt<0?null:Xe.substring(0,rt).trim().endsWith("base64")?Xe.substring(rt+1):null};N.__addimage__.isArrayBuffer=function(Xe){return Xe instanceof ArrayBuffer};var Mt=N.__addimage__.isArrayBufferView=function(Xe){return Xe instanceof Int8Array||Xe instanceof Uint8Array||Xe instanceof Uint8ClampedArray||Xe instanceof Int16Array||Xe instanceof Uint16Array||Xe instanceof Int32Array||Xe instanceof Uint32Array||Xe instanceof Float32Array||Xe instanceof Float64Array},is=N.__addimage__.binaryStringToUint8Array=function(Xe){for(var rt=Xe.length,xt=new Uint8Array(rt),bt=0;bt<rt;bt++)xt[bt]=Xe.charCodeAt(bt);return xt},Ht=N.__addimage__.arrayBufferToBinaryString=function(Xe){for(var rt="",xt=Mt(Xe)?Xe:new Uint8Array(Xe),bt=0;bt<xt.length;bt+=8192)rt+=String.fromCharCode.apply(null,xt.subarray(bt,bt+8192));return rt};N.addImage=function(){var Xe,rt,xt,bt,rs,us,ys,Kt,ms;if(typeof arguments[1]=="number"?(rt=S,xt=arguments[1],bt=arguments[2],rs=arguments[3],us=arguments[4],ys=arguments[5],Kt=arguments[6],ms=arguments[7]):(rt=arguments[1],xt=arguments[2],bt=arguments[3],rs=arguments[4],us=arguments[5],ys=arguments[6],Kt=arguments[7],ms=arguments[8]),(0,f.default)(Xe=arguments[0])==="object"&&!Je(Xe)&&"imageData"in Xe){var Js=Xe;Xe=Js.imageData,rt=Js.format||rt||S,xt=Js.x||xt||0,bt=Js.y||bt||0,rs=Js.w||Js.width||rs,us=Js.h||Js.height||us,ys=Js.alias||ys,Kt=Js.compression||Kt,ms=Js.rotation||Js.angle||ms}var Hs=this.internal.getFilters();if(Kt===void 0&&Hs.indexOf("FlateEncode")!==-1&&(Kt="SLOW"),isNaN(xt)||isNaN(bt))throw new Error("Invalid coordinates passed to jsPDF.addImage");ee.call(this);var _e=vt.call(this,Xe,rt,ys,Kt);return At.call(this,xt,bt,rs,us,_e,ms),this};var vt=function(Xe,rt,xt,bt){var rs,us,ys;if(typeof Xe=="string"&&R(Xe)===S){Xe=unescape(Xe);var Kt=es(Xe,!1);(Kt!==""||(Kt=N.loadFile(Xe,!0))!==void 0)&&(Xe=Kt)}if(Je(Xe)&&(Xe=xe(Xe,rt)),rt=R(Xe,rt),!$e(rt))throw new Error("addImage does not support files of type '"+rt+"', please ensure that a plugin for '"+rt+"' support is added.");if(((ys=xt)==null||ys.length===0)&&(xt=(function(ms){return typeof ms=="string"||Mt(ms)?Pt(ms):Mt(ms.data)?Pt(ms.data):null})(Xe)),(rs=ct.call(this,xt))||(Xe instanceof Uint8Array||rt==="RGBA"||(us=Xe,Xe=is(Xe)),rs=this["process"+rt.toUpperCase()](Xe,Me.call(this),xt,(function(ms){return ms&&typeof ms=="string"&&(ms=ms.toUpperCase()),ms in N.image_compression?ms:yt.NONE})(bt),us)),!rs)throw new Error("An unknown error occurred whilst processing the image.");return rs},es=N.__addimage__.convertBase64ToBinaryString=function(Xe,rt){rt=typeof rt!="boolean"||rt;var xt,bt="";if(typeof Xe=="string"){var rs;xt=(rs=Ge(Xe))!==null&&rs!==void 0?rs:Xe;try{bt=Q(xt)}catch(us){if(rt)throw gt(xt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+us.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return bt};N.getImageProperties=function(Xe){var rt,xt,bt="";if(Je(Xe)&&(Xe=xe(Xe)),typeof Xe=="string"&&R(Xe)===S&&((bt=es(Xe,!1))===""&&(bt=N.loadFile(Xe)||""),Xe=bt),xt=R(Xe),!$e(xt))throw new Error("addImage does not support files of type '"+xt+"', please ensure that a plugin for '"+xt+"' support is added.");if(Xe instanceof Uint8Array||(Xe=is(Xe)),!(rt=this["process"+xt.toUpperCase()](Xe)))throw new Error("An unknown error occurred whilst processing the image");return rt.fileType=xt,rt}})(We.API),(function(N){var v=function(S){if(S!==void 0&&S!="")return!0};We.API.events.push(["addPage",function(S){this.internal.getPageInfo(S.pageNumber).pageContext.annotations=[]}]),N.events.push(["putPage",function(S){for(var I,R,V,ce=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,ee=this.internal.getPageInfoByObjId(S.objId),ke=S.pageContext.annotations,Me=!1,$e=0;$e<ke.length&&!Me;$e++)switch((I=ke[$e]).type){case"link":(v(I.options.url)||v(I.options.pageNumber))&&(Me=!0);break;case"reference":case"text":case"freetext":Me=!0}if(Me!=0){this.internal.write("/Annots [");for(var Je=0;Je<ke.length;Je++){I=ke[Je];var xe=this.internal.pdfEscape,ct=this.internal.getEncryptor(S.objId);switch(I.type){case"reference":this.internal.write(" "+I.object.objId+" 0 R ");break;case"text":var ot=this.internal.newAdditionalObject(),At=this.internal.newAdditionalObject(),Ye=this.internal.getEncryptor(ot.objId),yt=I.title||"Note";V="<</Type /Annot /Subtype /Text "+(R="/Rect ["+ce(I.bounds.x)+" "+q(I.bounds.y+I.bounds.h)+" "+ce(I.bounds.x+I.bounds.w)+" "+q(I.bounds.y)+"] ")+"/Contents ("+xe(Ye(I.contents))+")",V+=" /Popup "+At.objId+" 0 R",V+=" /P "+ee.objId+" 0 R",V+=" /T ("+xe(Ye(yt))+") >>",ot.content=V;var Pt=ot.objId+" 0 R";V="<</Type /Annot /Subtype /Popup "+(R="/Rect ["+ce(I.bounds.x+30)+" "+q(I.bounds.y+I.bounds.h)+" "+ce(I.bounds.x+I.bounds.w+30)+" "+q(I.bounds.y)+"] ")+" /Parent "+Pt,I.open&&(V+=" /Open true"),V+=" >>",At.content=V,this.internal.write(ot.objId,"0 R",At.objId,"0 R");break;case"freetext":R="/Rect ["+ce(I.bounds.x)+" "+q(I.bounds.y)+" "+ce(I.bounds.x+I.bounds.w)+" "+q(I.bounds.y+I.bounds.h)+"] ";var gt=I.color||"#000000";V="<</Type /Annot /Subtype /FreeText "+R+"/Contents ("+xe(ct(I.contents))+")",V+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+gt+")",V+=" /Border [0 0 0]",V+=" >>",this.internal.write(V);break;case"link":if(I.options.name){var Ge=this.annotations._nameMap[I.options.name];I.options.pageNumber=Ge.page,I.options.top=Ge.y}else I.options.top||(I.options.top=0);if(R="/Rect ["+I.finalBounds.x+" "+I.finalBounds.y+" "+I.finalBounds.w+" "+I.finalBounds.h+"] ",V="",I.options.url)V="<</Type /Annot /Subtype /Link "+R+"/Border [0 0 0] /A <</S /URI /URI ("+xe(ct(I.options.url))+") >>";else if(I.options.pageNumber)switch(V="<</Type /Annot /Subtype /Link "+R+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(I.options.pageNumber).objId+" 0 R",I.options.magFactor=I.options.magFactor||"XYZ",I.options.magFactor){case"Fit":V+=" /Fit]";break;case"FitH":V+=" /FitH "+I.options.top+"]";break;case"FitV":I.options.left=I.options.left||0,V+=" /FitV "+I.options.left+"]";break;default:var Mt=q(I.options.top);I.options.left=I.options.left||0,I.options.zoom===void 0&&(I.options.zoom=0),V+=" /XYZ "+I.options.left+" "+Mt+" "+I.options.zoom+"]"}V!=""&&(V+=" >>",this.internal.write(V))}}this.internal.write("]")}}]),N.createAnnotation=function(S){var I=this.internal.getCurrentPageInfo();switch(S.type){case"link":this.link(S.bounds.x,S.bounds.y,S.bounds.w,S.bounds.h,S);break;case"text":case"freetext":I.pageContext.annotations.push(S)}},N.link=function(S,I,R,V,ce){var q=this.internal.getCurrentPageInfo(),ee=this.internal.getCoordinateString,ke=this.internal.getVerticalCoordinateString;q.pageContext.annotations.push({finalBounds:{x:ee(S),y:ke(I),w:ee(S+R),h:ke(I+V)},options:ce,type:"link"})},N.textWithLink=function(S,I,R,V){var ce,q,ee=this.getTextWidth(S),ke=this.internal.getLineHeight()/this.internal.scaleFactor;if(V.maxWidth!==void 0){q=V.maxWidth;var Me=this.splitTextToSize(S,q).length;ce=Math.ceil(ke*Me)}else q=ee,ce=ke;return this.text(S,I,R,V),R+=.2*ke,V.align==="center"&&(I-=ee/2),V.align==="right"&&(I-=ee),this.link(I,R-ke,q,ce,V),ee},N.getTextWidth=function(S){var I=this.internal.getFontSize();return this.getStringUnitWidth(S)*I/this.internal.scaleFactor}})(We.API),(function(N){var v={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},S={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},I={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},R=[1570,1571,1573,1575];N.__arabicParser__={};var V=N.__arabicParser__.isInArabicSubstitutionA=function(ot){return v[ot.charCodeAt(0)]!==void 0},ce=N.__arabicParser__.isArabicLetter=function(ot){return typeof ot=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(ot)},q=N.__arabicParser__.isArabicEndLetter=function(ot){return ce(ot)&&V(ot)&&v[ot.charCodeAt(0)].length<=2},ee=N.__arabicParser__.isArabicAlfLetter=function(ot){return ce(ot)&&R.indexOf(ot.charCodeAt(0))>=0};N.__arabicParser__.arabicLetterHasIsolatedForm=function(ot){return ce(ot)&&V(ot)&&v[ot.charCodeAt(0)].length>=1};var ke=N.__arabicParser__.arabicLetterHasFinalForm=function(ot){return ce(ot)&&V(ot)&&v[ot.charCodeAt(0)].length>=2};N.__arabicParser__.arabicLetterHasInitialForm=function(ot){return ce(ot)&&V(ot)&&v[ot.charCodeAt(0)].length>=3};var Me=N.__arabicParser__.arabicLetterHasMedialForm=function(ot){return ce(ot)&&V(ot)&&v[ot.charCodeAt(0)].length==4},$e=N.__arabicParser__.resolveLigatures=function(ot){var At=0,Ye=S,yt="",Pt=0;for(At=0;At<ot.length;At+=1)Ye[ot.charCodeAt(At)]!==void 0?(Pt++,typeof(Ye=Ye[ot.charCodeAt(At)])=="number"&&(yt+=String.fromCharCode(Ye),Ye=S,Pt=0),At===ot.length-1&&(Ye=S,yt+=ot.charAt(At-(Pt-1)),At-=Pt-1,Pt=0)):(Ye=S,yt+=ot.charAt(At-Pt),At-=Pt,Pt=0);return yt};N.__arabicParser__.isArabicDiacritic=function(ot){return ot!==void 0&&I[ot.charCodeAt(0)]!==void 0};var Je=N.__arabicParser__.getCorrectForm=function(ot,At,Ye){return ce(ot)?V(ot)===!1?-1:!ke(ot)||!ce(At)&&!ce(Ye)||!ce(Ye)&&q(At)||q(ot)&&!ce(At)||q(ot)&&ee(At)||q(ot)&&q(At)?0:Me(ot)&&ce(At)&&!q(At)&&ce(Ye)&&ke(Ye)?3:q(ot)||!ce(Ye)?1:2:-1},xe=function(ot){var At=0,Ye=0,yt=0,Pt="",gt="",Ge="",Mt=(ot=ot||"").split("\\s+"),is=[];for(At=0;At<Mt.length;At+=1){for(is.push(""),Ye=0;Ye<Mt[At].length;Ye+=1)Pt=Mt[At][Ye],gt=Mt[At][Ye-1],Ge=Mt[At][Ye+1],ce(Pt)?(yt=Je(Pt,gt,Ge),is[At]+=yt!==-1?String.fromCharCode(v[Pt.charCodeAt(0)][yt]):Pt):is[At]+=Pt;is[At]=$e(is[At])}return is.join(" ")},ct=N.__arabicParser__.processArabic=N.processArabic=function(){var ot,At=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Ye=[];if(Array.isArray(At)){var yt=0;for(Ye=[],yt=0;yt<At.length;yt+=1)Array.isArray(At[yt])?Ye.push([xe(At[yt][0]),At[yt][1],At[yt][2]]):Ye.push([xe(At[yt])]);ot=Ye}else ot=xe(At);return typeof arguments[0]=="string"?ot:(arguments[0].text=ot,arguments[0])};N.events.push(["preProcessText",ct])})(We.API),We.API.autoPrint=function(N){var v;return(N=N||{}).variant=N.variant||"non-conform",N.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){v=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+v+" 0 R")})),this},(function(N){var v=function(){var S=void 0;Object.defineProperty(this,"pdf",{get:function(){return S},set:function(q){S=q}});var I=150;Object.defineProperty(this,"width",{get:function(){return I},set:function(q){I=isNaN(q)||Number.isInteger(q)===!1||q<0?150:q,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=I+1)}});var R=300;Object.defineProperty(this,"height",{get:function(){return R},set:function(q){R=isNaN(q)||Number.isInteger(q)===!1||q<0?300:q,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=R+1)}});var V=[];Object.defineProperty(this,"childNodes",{get:function(){return V},set:function(q){V=q}});var ce={};Object.defineProperty(this,"style",{get:function(){return ce},set:function(q){ce=q}}),Object.defineProperty(this,"parentNode",{})};v.prototype.getContext=function(S,I){var R;if((S=S||"2d")!=="2d")return null;for(R in I)this.pdf.context2d.hasOwnProperty(R)&&(this.pdf.context2d[R]=I[R]);return this.pdf.context2d._canvas=this,this.pdf.context2d},v.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},N.events.push(["initialized",function(){this.canvas=new v,this.canvas.pdf=this}])})(We.API),(function(N){var v={left:0,top:0,bottom:0,right:0},S=!1,I=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},v),this.internal.__cell__.margins.width=this.getPageWidth(),R.call(this))},R=function(){this.internal.__cell__.lastCell=new V,this.internal.__cell__.pages=1},V=function(){var ee=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(ot){ee=ot}});var ke=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(ot){ke=ot}});var Me=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Me},set:function(ot){Me=ot}});var $e=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return $e},set:function(ot){$e=ot}});var Je=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Je},set:function(ot){Je=ot}});var xe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return xe},set:function(ot){xe=ot}});var ct=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ct},set:function(ot){ct=ot}}),this};V.prototype.clone=function(){return new V(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},V.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},N.setHeaderFunction=function(ee){return I.call(this),this.internal.__cell__.headerFunction=typeof ee=="function"?ee:void 0,this},N.getTextDimensions=function(ee,ke){I.call(this);var Me=(ke=ke||{}).fontSize||this.getFontSize(),$e=ke.font||this.getFont(),Je=ke.scaleFactor||this.internal.scaleFactor,xe=0,ct=0,ot=0,At=this;if(!Array.isArray(ee)&&typeof ee!="string"){if(typeof ee!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");ee=String(ee)}var Ye=ke.maxWidth;Ye>0?typeof ee=="string"?ee=this.splitTextToSize(ee,Ye):Object.prototype.toString.call(ee)==="[object Array]"&&(ee=ee.reduce(function(Pt,gt){return Pt.concat(At.splitTextToSize(gt,Ye))},[])):ee=Array.isArray(ee)?ee:[ee];for(var yt=0;yt<ee.length;yt++)xe<(ot=this.getStringUnitWidth(ee[yt],{font:$e})*Me)&&(xe=ot);return xe!==0&&(ct=ee.length),{w:xe/=Je,h:Math.max((ct*Me*this.getLineHeightFactor()-Me*(this.getLineHeightFactor()-1))/Je,0)}},N.cellAddPage=function(){I.call(this),this.addPage();var ee=this.internal.__cell__.margins||v;return this.internal.__cell__.lastCell=new V(ee.left,ee.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var ce=N.cell=function(){var ee;ee=arguments[0]instanceof V?arguments[0]:new V(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),I.call(this);var ke=this.internal.__cell__.lastCell,Me=this.internal.__cell__.padding,$e=this.internal.__cell__.margins||v,Je=this.internal.__cell__.tableHeaderRow,xe=this.internal.__cell__.printHeaders;return ke.lineNumber!==void 0&&(ke.lineNumber===ee.lineNumber?(ee.x=(ke.x||0)+(ke.width||0),ee.y=ke.y||0):ke.y+ke.height+ee.height+$e.bottom>this.getPageHeight()?(this.cellAddPage(),ee.y=$e.top,xe&&Je&&(this.printHeaderRow(ee.lineNumber,!0),ee.y+=Je[0].height)):ee.y=ke.y+ke.height||ee.y),ee.text[0]!==void 0&&(this.rect(ee.x,ee.y,ee.width,ee.height,S===!0?"FD":void 0),ee.align==="right"?this.text(ee.text,ee.x+ee.width-Me,ee.y+Me,{align:"right",baseline:"top"}):ee.align==="center"?this.text(ee.text,ee.x+ee.width/2,ee.y+Me,{align:"center",baseline:"top",maxWidth:ee.width-Me-Me}):this.text(ee.text,ee.x+Me,ee.y+Me,{align:"left",baseline:"top",maxWidth:ee.width-Me-Me})),this.internal.__cell__.lastCell=ee,this};N.table=function(ee,ke,Me,$e,Je){if(I.call(this),!Me)throw new Error("No data for PDF table.");var xe,ct,ot,At,Ye=[],yt=[],Pt=[],gt={},Ge={},Mt=[],is=[],Ht=(Je=Je||{}).autoSize||!1,vt=Je.printHeaders!==!1,es=Je.css&&Je.css["font-size"]!==void 0?16*Je.css["font-size"]:Je.fontSize||12,Xe=Je.margins||Object.assign({width:this.getPageWidth()},v),rt=typeof Je.padding=="number"?Je.padding:3,xt=Je.headerBackgroundColor||"#c8c8c8",bt=Je.headerTextColor||"#000";if(R.call(this),this.internal.__cell__.printHeaders=vt,this.internal.__cell__.margins=Xe,this.internal.__cell__.table_font_size=es,this.internal.__cell__.padding=rt,this.internal.__cell__.headerBackgroundColor=xt,this.internal.__cell__.headerTextColor=bt,this.setFontSize(es),$e==null)yt=Ye=Object.keys(Me[0]),Pt=Ye.map(function(){return"left"});else if(Array.isArray($e)&&(0,f.default)($e[0])==="object")for(Ye=$e.map(function(Js){return Js.name}),yt=$e.map(function(Js){return Js.prompt||Js.name||""}),Pt=$e.map(function(Js){return Js.align||"left"}),xe=0;xe<$e.length;xe+=1)Ge[$e[xe].name]=.7499990551181103*$e[xe].width;else Array.isArray($e)&&typeof $e[0]=="string"&&(yt=Ye=$e,Pt=Ye.map(function(){return"left"}));if(Ht||Array.isArray($e)&&typeof $e[0]=="string")for(xe=0;xe<Ye.length;xe+=1){for(gt[At=Ye[xe]]=Me.map(function(Js){return Js[At]}),this.setFont(void 0,"bold"),Mt.push(this.getTextDimensions(yt[xe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ct=gt[At],this.setFont(void 0,"normal"),ot=0;ot<ct.length;ot+=1)Mt.push(this.getTextDimensions(ct[ot],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ge[At]=Math.max.apply(null,Mt)+rt+rt,Mt=[]}if(vt){var rs={};for(xe=0;xe<Ye.length;xe+=1)rs[Ye[xe]]={},rs[Ye[xe]].text=yt[xe],rs[Ye[xe]].align=Pt[xe];var us=q.call(this,rs,Ge);is=Ye.map(function(Js){return new V(ee,ke,Ge[Js],us,rs[Js].text,void 0,rs[Js].align)}),this.setTableHeaderRow(is),this.printHeaderRow(1,!1)}var ys=$e.reduce(function(Js,Hs){return Js[Hs.name]=Hs.align,Js},{});for(xe=0;xe<Me.length;xe+=1){"rowStart"in Je&&Je.rowStart instanceof Function&&Je.rowStart({row:xe,data:Me[xe]},this);var Kt=q.call(this,Me[xe],Ge);for(ot=0;ot<Ye.length;ot+=1){var ms=Me[xe][Ye[ot]];"cellStart"in Je&&Je.cellStart instanceof Function&&Je.cellStart({row:xe,col:ot,data:ms},this),ce.call(this,new V(ee,ke,Ge[Ye[ot]],Kt,ms,xe+2,ys[Ye[ot]]))}}return this.internal.__cell__.table_x=ee,this.internal.__cell__.table_y=ke,this};var q=function(ee,ke){var Me=this.internal.__cell__.padding,$e=this.internal.__cell__.table_font_size,Je=this.internal.scaleFactor;return Object.keys(ee).map(function(xe){var ct=ee[xe];return this.splitTextToSize(ct.hasOwnProperty("text")?ct.text:ct,ke[xe]-Me-Me)},this).map(function(xe){return this.getLineHeightFactor()*xe.length*$e/Je+Me+Me},this).reduce(function(xe,ct){return Math.max(xe,ct)},0)};N.setTableHeaderRow=function(ee){I.call(this),this.internal.__cell__.tableHeaderRow=ee},N.printHeaderRow=function(ee,ke){if(I.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Me;if(S=!0,typeof this.internal.__cell__.headerFunction=="function"){var $e=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new V($e[0],$e[1],$e[2],$e[3],void 0,-1)}this.setFont(void 0,"bold");for(var Je=[],xe=0;xe<this.internal.__cell__.tableHeaderRow.length;xe+=1){Me=this.internal.__cell__.tableHeaderRow[xe].clone(),ke&&(Me.y=this.internal.__cell__.margins.top||0,Je.push(Me)),Me.lineNumber=ee;var ct=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),ce.call(this,Me),this.setTextColor(ct)}Je.length>0&&this.setTableHeaderRow(Je),this.setFont(void 0,"normal"),S=!1}})(We.API);var wa={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Vn=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],sa=Ps(Vn),an=[100,200,300,400,500,600,700,800,900],Rr=Ps(an);function Gn(N){var v=N.family.replace(/"|'/g,"").toLowerCase(),S=(function(V){return wa[V=V||"normal"]?V:"normal"})(N.style),I=(function(V){return V?typeof V=="number"?V>=100&&V<=900&&V%100==0?V:400:/^\d00$/.test(V)?parseInt(V):V==="bold"?700:400:400})(N.weight),R=(function(V){return typeof sa[V=V||"normal"]=="number"?V:"normal"})(N.stretch);return{family:v,style:S,weight:I,stretch:R,src:N.src||[],ref:N.ref||{name:v,style:[R,S,I].join(" ")}}}function Kn(N,v,S,I){var R;for(R=S;R>=0&&R<v.length;R+=I)if(N[v[R]])return N[v[R]];for(R=S;R>=0&&R<v.length;R-=I)if(N[v[R]])return N[v[R]]}var ti={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},On={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mc(N){return[N.stretch,N.style,N.weight,N.family].join(" ")}function li(N){return N.trimLeft()}function Fo(N,v){for(var S=0;S<N.length;){if(N.charAt(S)===v)return[N.substring(0,S),N.substring(S+1)];S+=1}return null}function Kl(N){var v=N.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return v===null?null:[v[0],N.substring(v[0].length)]}var Ao,fa,ki,ra,Fa,qn,ho,hi,Ci=["times"];function hl(N,v,S,I,R){var V=4,ce=ga;switch(R){case We.API.image_compression.FAST:V=1,ce=Ll;break;case We.API.image_compression.MEDIUM:V=6,ce=ja;break;case We.API.image_compression.SLOW:V=9,ce=fo}N=(function(ee,ke,Me,$e){for(var Je,xe=ee.length/ke,ct=new Uint8Array(ee.length+xe),ot=[el,Ll,ga,ja,fo],At=0;At<xe;At+=1){var Ye=At*ke,yt=ee.subarray(Ye,Ye+ke);if($e)ct.set($e(yt,Me,Je),Ye+At);else{for(var Pt=ot.length,gt=[],Ge=0;Ge<Pt;Ge+=1)gt[Ge]=ot[Ge](yt,Me,Je);var Mt=Di(gt.concat());ct.set(gt[Mt],Ye+At)}Je=yt}return ct})(N,v,Math.ceil(S*I/8),ce);var q=(0,p.zlibSync)(N,{level:V});return We.API.__addimage__.arrayBufferToBinaryString(q)}function el(N){var v=Array.apply([],N);return v.unshift(0),v}function Ll(N,v){var S=N.length,I=[];I[0]=1;for(var R=0;R<S;R+=1){var V=N[R-v]||0;I[R+1]=N[R]-V+256&255}return I}function ga(N,v,S){var I=N.length,R=[];R[0]=2;for(var V=0;V<I;V+=1){var ce=S&&S[V]||0;R[V+1]=N[V]-ce+256&255}return R}function ja(N,v,S){var I=N.length,R=[];R[0]=3;for(var V=0;V<I;V+=1){var ce=N[V-v]||0,q=S&&S[V]||0;R[V+1]=N[V]+256-(ce+q>>>1)&255}return R}function fo(N,v,S){var I=N.length,R=[];R[0]=4;for(var V=0;V<I;V+=1){var ce=si(N[V-v]||0,S&&S[V]||0,S&&S[V-v]||0);R[V+1]=N[V]-ce+256&255}return R}function si(N,v,S){if(N===v&&v===S)return N;var I=Math.abs(v-S),R=Math.abs(N-S),V=Math.abs(N+v-S-S);return I<=R&&I<=V?N:R<=V?v:S}function Di(N){var v=N.map(function(S){return S.reduce(function(I,R){return I+Math.abs(R)},0)});return v.indexOf(Math.min.apply(null,v))}function fi(N,v,S){var I=v*S,R=Math.floor(I/8),V=16-(I-8*R+S),ce=(1<<S)-1;return Ka(N,R)>>V&ce}function Wr(N,v,S,I){var R=S*I,V=Math.floor(R/8),ce=16-(R-8*V+I),q=(1<<I)-1,ee=(v&q)<<ce;(function(ke,Me,$e){if(Me+1<ke.byteLength)ke.setUint16(Me,$e,!1);else{var Je=$e>>8&255;ke.setUint8(Me,Je)}})(N,V,Ka(N,V)&~(q<<ce)&65535|ee)}function Ka(N,v){return v+1<N.byteLength?N.getUint16(v,!1):N.getUint8(v)<<8}function Bi(N){var v=0;if(N[v++]!==71||N[v++]!==73||N[v++]!==70||N[v++]!==56||(N[v++]+1&253)!=56||N[v++]!==97)throw new Error("Invalid GIF 87a/89a header.");var S=N[v++]|N[v++]<<8,I=N[v++]|N[v++]<<8,R=N[v++],V=R>>7,ce=1<<1+(7&R);N[v++],N[v++];var q=null,ee=null;V&&(q=v,ee=ce,v+=3*ce);var ke=!0,Me=[],$e=0,Je=null,xe=0,ct=null;for(this.width=S,this.height=I;ke&&v<N.length;)switch(N[v++]){case 33:switch(N[v++]){case 255:if(N[v]!==11||N[v+1]==78&&N[v+2]==69&&N[v+3]==84&&N[v+4]==83&&N[v+5]==67&&N[v+6]==65&&N[v+7]==80&&N[v+8]==69&&N[v+9]==50&&N[v+10]==46&&N[v+11]==48&&N[v+12]==3&&N[v+13]==1&&N[v+16]==0)v+=14,ct=N[v++]|N[v++]<<8,v++;else for(v+=12;;){if(!((Xe=N[v++])>=0))throw Error("Invalid block size");if(Xe===0)break;v+=Xe}break;case 249:if(N[v++]!==4||N[v+4]!==0)throw new Error("Invalid graphics extension block.");var ot=N[v++];$e=N[v++]|N[v++]<<8,Je=N[v++],1&ot||(Je=null),xe=ot>>2&7,v++;break;case 254:for(;;){if(!((Xe=N[v++])>=0))throw Error("Invalid block size");if(Xe===0)break;v+=Xe}break;default:throw new Error("Unknown graphic control label: 0x"+N[v-1].toString(16))}break;case 44:var At=N[v++]|N[v++]<<8,Ye=N[v++]|N[v++]<<8,yt=N[v++]|N[v++]<<8,Pt=N[v++]|N[v++]<<8,gt=N[v++],Ge=gt>>6&1,Mt=1<<1+(7&gt),is=q,Ht=ee,vt=!1;gt>>7&&(vt=!0,is=v,Ht=Mt,v+=3*Mt);var es=v;for(v++;;){var Xe;if(!((Xe=N[v++])>=0))throw Error("Invalid block size");if(Xe===0)break;v+=Xe}Me.push({x:At,y:Ye,width:yt,height:Pt,has_local_palette:vt,palette_offset:is,palette_size:Ht,data_offset:es,data_length:v-es,transparent_index:Je,interlaced:!!Ge,delay:$e,disposal:xe});break;case 59:ke=!1;break;default:throw new Error("Unknown gif block: 0x"+N[v-1].toString(16))}this.numFrames=function(){return Me.length},this.loopCount=function(){return ct},this.frameInfo=function(rt){if(rt<0||rt>=Me.length)throw new Error("Frame index out of range.");return Me[rt]},this.decodeAndBlitFrameBGRA=function(rt,xt){var bt=this.frameInfo(rt),rs=bt.width*bt.height,us=new Uint8Array(rs);Qa(N,bt.data_offset,us,rs);var ys=bt.palette_offset,Kt=bt.transparent_index;Kt===null&&(Kt=256);var ms=bt.width,Js=S-ms,Hs=ms,_e=4*(bt.y*S+bt.x),dt=4*((bt.y+bt.height)*S+bt.x),ht=_e,Ot=4*Js;bt.interlaced===!0&&(Ot+=4*S*7);for(var Rt=8,Yt=0,gs=us.length;Yt<gs;++Yt){var bs=us[Yt];if(Hs===0&&(Hs=ms,(ht+=Ot)>=dt&&(Ot=4*Js+4*S*(Rt-1),ht=_e+(ms+Js)*(Rt<<1),Rt>>=1)),bs===Kt)ht+=4;else{var Us=N[ys+3*bs],Zs=N[ys+3*bs+1],br=N[ys+3*bs+2];xt[ht++]=br,xt[ht++]=Zs,xt[ht++]=Us,xt[ht++]=255}--Hs}},this.decodeAndBlitFrameRGBA=function(rt,xt){var bt=this.frameInfo(rt),rs=bt.width*bt.height,us=new Uint8Array(rs);Qa(N,bt.data_offset,us,rs);var ys=bt.palette_offset,Kt=bt.transparent_index;Kt===null&&(Kt=256);var ms=bt.width,Js=S-ms,Hs=ms,_e=4*(bt.y*S+bt.x),dt=4*((bt.y+bt.height)*S+bt.x),ht=_e,Ot=4*Js;bt.interlaced===!0&&(Ot+=4*S*7);for(var Rt=8,Yt=0,gs=us.length;Yt<gs;++Yt){var bs=us[Yt];if(Hs===0&&(Hs=ms,(ht+=Ot)>=dt&&(Ot=4*Js+4*S*(Rt-1),ht=_e+(ms+Js)*(Rt<<1),Rt>>=1)),bs===Kt)ht+=4;else{var Us=N[ys+3*bs],Zs=N[ys+3*bs+1],br=N[ys+3*bs+2];xt[ht++]=Us,xt[ht++]=Zs,xt[ht++]=br,xt[ht++]=255}--Hs}}}function Qa(N,v,S,I){for(var R=N[v++],V=1<<R,ce=V+1,q=ce+1,ee=R+1,ke=(1<<ee)-1,Me=0,$e=0,Je=0,xe=N[v++],ct=new Int32Array(4096),ot=null;;){for(;Me<16&&xe!==0;)$e|=N[v++]<<Me,Me+=8,xe===1?xe=N[v++]:--xe;if(Me<ee)break;var At=$e&ke;if($e>>=ee,Me-=ee,At!==V){if(At===ce)break;for(var Ye=At<q?At:ot,yt=0,Pt=Ye;Pt>V;)Pt=ct[Pt]>>8,++yt;var gt=Pt;if(Je+yt+(Ye!==At?1:0)>I)return void y.log("Warning, gif stream longer than expected.");S[Je++]=gt;var Ge=Je+=yt;for(Ye!==At&&(S[Je++]=gt),Pt=Ye;yt--;)Pt=ct[Pt],S[--Ge]=255&Pt,Pt>>=8;ot!==null&&q<4096&&(ct[q++]=ot<<8|gt,q>=ke+1&&ee<12&&(++ee,ke=ke<<1|1)),ot=At}else q=ce+1,ke=(1<<(ee=R+1))-1,ot=null}return Je!==I&&y.log("Warning, gif stream shorter than expected."),S}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function po(N){var v,S,I,R,V,ce=Math.floor,q=new Array(64),ee=new Array(64),ke=new Array(64),Me=new Array(64),$e=new Array(65535),Je=new Array(65535),xe=new Array(64),ct=new Array(64),ot=[],At=0,Ye=7,yt=new Array(64),Pt=new Array(64),gt=new Array(64),Ge=new Array(256),Mt=new Array(2048),is=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ht=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],vt=[0,1,2,3,4,5,6,7,8,9,10,11],es=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Xe=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],rt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],xt=[0,1,2,3,4,5,6,7,8,9,10,11],bt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],rs=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function us(_e,dt){for(var ht=0,Ot=0,Rt=new Array,Yt=1;Yt<=16;Yt++){for(var gs=1;gs<=_e[Yt];gs++)Rt[dt[Ot]]=[],Rt[dt[Ot]][0]=ht,Rt[dt[Ot]][1]=Yt,Ot++,ht++;ht*=2}return Rt}function ys(_e){for(var dt=_e[0],ht=_e[1]-1;ht>=0;)dt&1<<ht&&(At|=1<<Ye),ht--,--Ye<0&&(At==255?(Kt(255),Kt(0)):Kt(At),Ye=7,At=0)}function Kt(_e){ot.push(_e)}function ms(_e){Kt(_e>>8&255),Kt(255&_e)}function Js(_e,dt,ht,Ot,Rt){for(var Yt,gs=Rt[0],bs=Rt[240],Us=(function(zs,tn){var yr,Vr,Or,Ca,Cn,Cr,_n,Xr,Br,nn,Ir=0;for(Br=0;Br<8;++Br){yr=zs[Ir],Vr=zs[Ir+1],Or=zs[Ir+2],Ca=zs[Ir+3],Cn=zs[Ir+4],Cr=zs[Ir+5],_n=zs[Ir+6];var bn=yr+(Xr=zs[Ir+7]),Yn=yr-Xr,Bn=Vr+_n,In=Vr-_n,Wa=Or+Cr,Kr=Or-Cr,_a=Ca+Cn,fn=Ca-Cn,_r=bn+_a,Na=bn-_a,wn=Bn+Wa,or=Bn-Wa;zs[Ir]=_r+wn,zs[Ir+4]=_r-wn;var Ln=.707106781*(or+Na);zs[Ir+2]=Na+Ln,zs[Ir+6]=Na-Ln;var Yc=.382683433*((_r=fn+Kr)-(or=In+Yn)),Pi=.5411961*_r+Yc,co=1.306562965*or+Yc,Gl=.707106781*(wn=Kr+In),on=Yn+Gl,ci=Yn-Gl;zs[Ir+5]=ci+Pi,zs[Ir+3]=ci-Pi,zs[Ir+1]=on+co,zs[Ir+7]=on-co,Ir+=8}for(Ir=0,Br=0;Br<8;++Br){yr=zs[Ir],Vr=zs[Ir+8],Or=zs[Ir+16],Ca=zs[Ir+24],Cn=zs[Ir+32],Cr=zs[Ir+40],_n=zs[Ir+48];var gi=yr+(Xr=zs[Ir+56]),tl=yr-Xr,Mo=Vr+_n,Ra=Vr-_n,xi=Or+Cr,di=Or-Cr,Fl=Ca+Cn,Ri=Ca-Cn,fl=gi+Fl,mo=gi-Fl,Ul=Mo+xi,Oo=Mo-xi;zs[Ir]=fl+Ul,zs[Ir+32]=fl-Ul;var pl=.707106781*(Oo+mo);zs[Ir+16]=mo+pl,zs[Ir+48]=mo-pl;var Xc=.382683433*((fl=Ri+di)-(Oo=Ra+tl)),ml=.5411961*fl+Xc,Io=1.306562965*Oo+Xc,Fc=.707106781*(Ul=di+Ra),Jc=tl+Fc,gc=tl-Fc;zs[Ir+40]=gc+ml,zs[Ir+24]=gc-ml,zs[Ir+8]=Jc+Io,zs[Ir+56]=Jc-Io,Ir++}for(Br=0;Br<64;++Br)nn=zs[Br]*tn[Br],xe[Br]=nn>0?nn+.5|0:nn-.5|0;return xe})(_e,dt),Zs=0;Zs<64;++Zs)ct[is[Zs]]=Us[Zs];var br=ct[0]-ht;ht=ct[0],br==0?ys(Ot[0]):(ys(Ot[Je[Yt=32767+br]]),ys($e[Yt]));for(var gr=63;gr>0&&ct[gr]==0;)gr--;if(gr==0)return ys(gs),ht;for(var Yr,tt=1;tt<=gr;){for(var cr=tt;ct[tt]==0&&tt<=gr;)++tt;var un=tt-cr;if(un>=16){Yr=un>>4;for(var nr=1;nr<=Yr;++nr)ys(bs);un&=15}Yt=32767+ct[tt],ys(Rt[(un<<4)+Je[Yt]]),ys($e[Yt]),tt++}return gr!=63&&ys(gs),ht}function Hs(_e){_e=Math.min(Math.max(_e,1),100),V!=_e&&((function(dt){for(var ht=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ot=0;Ot<64;Ot++){var Rt=ce((ht[Ot]*dt+50)/100);Rt=Math.min(Math.max(Rt,1),255),q[is[Ot]]=Rt}for(var Yt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],gs=0;gs<64;gs++){var bs=ce((Yt[gs]*dt+50)/100);bs=Math.min(Math.max(bs,1),255),ee[is[gs]]=bs}for(var Us=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Zs=0,br=0;br<8;br++)for(var gr=0;gr<8;gr++)ke[Zs]=1/(q[is[Zs]]*Us[br]*Us[gr]*8),Me[Zs]=1/(ee[is[Zs]]*Us[br]*Us[gr]*8),Zs++})(_e<50?Math.floor(5e3/_e):Math.floor(200-2*_e)),V=_e)}this.encode=function(_e,dt){dt&&Hs(dt),ot=new Array,At=0,Ye=7,ms(65496),ms(65504),ms(16),Kt(74),Kt(70),Kt(73),Kt(70),Kt(0),Kt(1),Kt(1),Kt(0),ms(1),ms(1),Kt(0),Kt(0),(function(){ms(65499),ms(132),Kt(0);for(var Vr=0;Vr<64;Vr++)Kt(q[Vr]);Kt(1);for(var Or=0;Or<64;Or++)Kt(ee[Or])})(),(function(Vr,Or){ms(65472),ms(17),Kt(8),ms(Or),ms(Vr),Kt(3),Kt(1),Kt(17),Kt(0),Kt(2),Kt(17),Kt(1),Kt(3),Kt(17),Kt(1)})(_e.width,_e.height),(function(){ms(65476),ms(418),Kt(0);for(var Vr=0;Vr<16;Vr++)Kt(Ht[Vr+1]);for(var Or=0;Or<=11;Or++)Kt(vt[Or]);Kt(16);for(var Ca=0;Ca<16;Ca++)Kt(es[Ca+1]);for(var Cn=0;Cn<=161;Cn++)Kt(Xe[Cn]);Kt(1);for(var Cr=0;Cr<16;Cr++)Kt(rt[Cr+1]);for(var _n=0;_n<=11;_n++)Kt(xt[_n]);Kt(17);for(var Xr=0;Xr<16;Xr++)Kt(bt[Xr+1]);for(var Br=0;Br<=161;Br++)Kt(rs[Br])})(),ms(65498),ms(12),Kt(3),Kt(1),Kt(0),Kt(2),Kt(17),Kt(3),Kt(17),Kt(0),Kt(63),Kt(0);var ht=0,Ot=0,Rt=0;At=0,Ye=7,this.encode.displayName="_encode_";for(var Yt,gs,bs,Us,Zs,br,gr,Yr,tt,cr=_e.data,un=_e.width,nr=_e.height,zs=4*un,tn=0;tn<nr;){for(Yt=0;Yt<zs;){for(Zs=zs*tn+Yt,gr=-1,Yr=0,tt=0;tt<64;tt++)br=Zs+(Yr=tt>>3)*zs+(gr=4*(7&tt)),tn+Yr>=nr&&(br-=zs*(tn+1+Yr-nr)),Yt+gr>=zs&&(br-=Yt+gr-zs+4),gs=cr[br++],bs=cr[br++],Us=cr[br++],yt[tt]=(Mt[gs]+Mt[bs+256|0]+Mt[Us+512|0]>>16)-128,Pt[tt]=(Mt[gs+768|0]+Mt[bs+1024|0]+Mt[Us+1280|0]>>16)-128,gt[tt]=(Mt[gs+1280|0]+Mt[bs+1536|0]+Mt[Us+1792|0]>>16)-128;ht=Js(yt,ke,ht,v,I),Ot=Js(Pt,Me,Ot,S,R),Rt=Js(gt,Me,Rt,S,R),Yt+=32}tn+=8}if(Ye>=0){var yr=[];yr[1]=Ye+1,yr[0]=(1<<Ye+1)-1,ys(yr)}return ms(65497),new Uint8Array(ot)},N=N||50,(function(){for(var _e=String.fromCharCode,dt=0;dt<256;dt++)Ge[dt]=_e(dt)})(),v=us(Ht,vt),S=us(rt,xt),I=us(es,Xe),R=us(bt,rs),(function(){for(var _e=1,dt=2,ht=1;ht<=15;ht++){for(var Ot=_e;Ot<dt;Ot++)Je[32767+Ot]=ht,$e[32767+Ot]=[],$e[32767+Ot][1]=ht,$e[32767+Ot][0]=Ot;for(var Rt=-(dt-1);Rt<=-_e;Rt++)Je[32767+Rt]=ht,$e[32767+Rt]=[],$e[32767+Rt][1]=ht,$e[32767+Rt][0]=dt-1+Rt;_e<<=1,dt<<=1}})(),(function(){for(var _e=0;_e<256;_e++)Mt[_e]=19595*_e,Mt[_e+256|0]=38470*_e,Mt[_e+512|0]=7471*_e+32768,Mt[_e+768|0]=-11059*_e,Mt[_e+1024|0]=-21709*_e,Mt[_e+1280|0]=32768*_e+8421375,Mt[_e+1536|0]=-27439*_e,Mt[_e+1792|0]=-5329*_e})(),Hs(N)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Wn(N,v){if(this.pos=0,this.buffer=N,this.datav=new DataView(N.buffer),this.is_with_alpha=!!v,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ki(N){function v(vt){if(!vt)throw Error("assert :P")}function S(vt,es,Xe){for(var rt=0;4>rt;rt++)if(vt[es+rt]!=Xe.charCodeAt(rt))return!0;return!1}function I(vt,es,Xe,rt,xt){for(var bt=0;bt<xt;bt++)vt[es+bt]=Xe[rt+bt]}function R(vt,es,Xe,rt){for(var xt=0;xt<rt;xt++)vt[es+xt]=Xe}function V(vt){return new Int32Array(vt)}function ce(vt,es){for(var Xe=[],rt=0;rt<vt;rt++)Xe.push(new es);return Xe}function q(vt,es){var Xe=[];return(function rt(xt,bt,rs){for(var us=rs[bt],ys=0;ys<us&&(xt.push(rs.length>bt+1?[]:new es),!(rs.length<bt+1));ys++)rt(xt[ys],bt+1,rs)})(Xe,0,vt),Xe}var ee=function(){var vt=this;function es(C,D){for(var ne=1<<D-1>>>0;C&ne;)ne>>>=1;return ne?(C&ne-1)+ne:C}function Xe(C,D,ne,me,Le){v(!(me%ne));do C[D+(me-=ne)]=Le;while(0<me)}function rt(C,D,ne,me,Le){if(v(2328>=Le),512>=Le)var Ie=V(512);else if((Ie=V(Le))==null)return 0;return(function(Oe,He,Ke,nt,Ct,Wt){var st,Ft,_t=He,ws=1<<Ke,Zt=V(16),js=V(16);for(v(Ct!=0),v(nt!=null),v(Oe!=null),v(0<Ke),Ft=0;Ft<Ct;++Ft){if(15<nt[Ft])return 0;++Zt[nt[Ft]]}if(Zt[0]==Ct)return 0;for(js[1]=0,st=1;15>st;++st){if(Zt[st]>1<<st)return 0;js[st+1]=js[st]+Zt[st]}for(Ft=0;Ft<Ct;++Ft)st=nt[Ft],0<nt[Ft]&&(Wt[js[st]++]=Ft);if(js[15]==1)return(nt=new xt).g=0,nt.value=Wt[0],Xe(Oe,_t,1,ws,nt),ws;var Bs,$s=-1,Qs=ws-1,zr=0,jr=1,Rn=1,Pr=1<<Ke;for(Ft=0,st=1,Ct=2;st<=Ke;++st,Ct<<=1){if(jr+=Rn<<=1,0>(Rn-=Zt[st]))return 0;for(;0<Zt[st];--Zt[st])(nt=new xt).g=st,nt.value=Wt[Ft++],Xe(Oe,_t+zr,Ct,Pr,nt),zr=es(zr,st)}for(st=Ke+1,Ct=2;15>=st;++st,Ct<<=1){if(jr+=Rn<<=1,0>(Rn-=Zt[st]))return 0;for(;0<Zt[st];--Zt[st]){if(nt=new xt,(zr&Qs)!=$s){for(_t+=Pr,Bs=1<<($s=st)-Ke;15>$s&&!(0>=(Bs-=Zt[$s]));)++$s,Bs<<=1;ws+=Pr=1<<(Bs=$s-Ke),Oe[He+($s=zr&Qs)].g=Bs+Ke,Oe[He+$s].value=_t-He-$s}nt.g=st-Ke,nt.value=Wt[Ft++],Xe(Oe,_t+(zr>>Ke),Ct,Pr,nt),zr=es(zr,st)}}return jr!=2*js[15]-1?0:ws})(C,D,ne,me,Le,Ie)}function xt(){this.value=this.g=0}function bt(){this.value=this.g=0}function rs(){this.G=ce(5,xt),this.H=V(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=ce(Dn,bt)}function us(C,D,ne,me){v(C!=null),v(D!=null),v(2147483648>me),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=D,C.pa=ne,C.Jd=D,C.Yc=ne+me,C.Zc=4<=me?ne+me-4+1:ne,gs(C)}function ys(C,D){for(var ne=0;0<D--;)ne|=Us(C,128)<<D;return ne}function Kt(C,D){var ne=ys(C,D);return bs(C)?-ne:ne}function ms(C,D,ne,me){var Le,Ie=0;for(v(C!=null),v(D!=null),v(4294967288>me),C.Sb=me,C.Ra=0,C.u=0,C.h=0,4<me&&(me=4),Le=0;Le<me;++Le)Ie+=D[ne+Le]<<8*Le;C.Ra=Ie,C.bb=me,C.oa=D,C.pa=ne}function Js(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<vo-8>>>0,++C.bb,C.u-=8;Ot(C)&&(C.h=1,C.u=0)}function Hs(C,D){if(v(0<=D),!C.h&&D<=ln){var ne=ht(C)&Tr[D];return C.u+=D,Js(C),ne}return C.h=1,C.u=0}function _e(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function dt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ht(C){return C.Ra>>>(C.u&vo-1)>>>0}function Ot(C){return v(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>vo}function Rt(C,D){C.u=D,C.h=Ot(C)}function Yt(C){C.u>=ec&&(v(C.u>=ec),Js(C))}function gs(C){v(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(v(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function bs(C){return ys(C,1)}function Us(C,D){var ne=C.Ca;0>C.b&&gs(C);var me=C.b,Le=ne*D>>>8,Ie=(C.I>>>me>Le)+0;for(Ie?(ne-=Le,C.I-=Le+1<<me>>>0):ne=Le+1,me=ne,Le=0;256<=me;)Le+=8,me>>=8;return me=7^Le+wl[me],C.b-=me,C.Ca=(ne<<me)-1,Ie}function Zs(C,D,ne){C[D+0]=ne>>24&255,C[D+1]=ne>>16&255,C[D+2]=ne>>8&255,C[D+3]=255&ne}function br(C,D){return C[D+0]|C[D+1]<<8}function gr(C,D){return br(C,D)|C[D+2]<<16}function Yr(C,D){return br(C,D)|br(C,D+2)<<16}function tt(C,D){var ne=1<<D;return v(C!=null),v(0<D),C.X=V(ne),C.X==null?0:(C.Mb=32-D,C.Xa=D,1)}function cr(C,D){v(C!=null),v(D!=null),v(C.Xa==D.Xa),I(D.X,0,C.X,0,1<<D.Xa)}function un(){this.X=[],this.Xa=this.Mb=0}function nr(C,D,ne,me){v(ne!=null),v(me!=null);var Le=ne[0],Ie=me[0];return Le==0&&(Le=(C*Ie+D/2)/D),Ie==0&&(Ie=(D*Le+C/2)/C),0>=Le||0>=Ie?0:(ne[0]=Le,me[0]=Ie,1)}function zs(C,D){return C+(1<<D)-1>>>D}function tn(C,D){return((4278255360&C)+(4278255360&D)>>>0&4278255360)+((16711935&C)+(16711935&D)>>>0&16711935)>>>0}function yr(C,D){vt[D]=function(ne,me,Le,Ie,Oe,He,Ke){var nt;for(nt=0;nt<Oe;++nt){var Ct=vt[C](He[Ke+nt-1],Le,Ie+nt);He[Ke+nt]=tn(ne[me+nt],Ct)}}}function Vr(){this.ud=this.hd=this.jd=0}function Or(C,D){return((4278124286&(C^D))>>>1)+(C&D)>>>0}function Ca(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Cn(C,D){return Ca(C+(C-D+.5>>1))}function Cr(C,D,ne){return Math.abs(D-ne)-Math.abs(C-ne)}function _n(C,D,ne,me,Le,Ie,Oe){for(me=Ie[Oe-1],ne=0;ne<Le;++ne)Ie[Oe+ne]=me=tn(C[D+ne],me)}function Xr(C,D,ne,me,Le){var Ie;for(Ie=0;Ie<ne;++Ie){var Oe=C[D+Ie],He=Oe>>8&255,Ke=16711935&(Ke=(Ke=16711935&Oe)+((He<<16)+He));me[Le+Ie]=(4278255360&Oe)+Ke>>>0}}function Br(C,D){D.jd=255&C,D.hd=C>>8&255,D.ud=C>>16&255}function nn(C,D,ne,me,Le,Ie){var Oe;for(Oe=0;Oe<me;++Oe){var He=D[ne+Oe],Ke=He>>>8,nt=He,Ct=255&(Ct=(Ct=He>>>16)+((C.jd<<24>>24)*(Ke<<24>>24)>>>5));nt=255&(nt=(nt+=(C.hd<<24>>24)*(Ke<<24>>24)>>>5)+((C.ud<<24>>24)*(Ct<<24>>24)>>>5)),Le[Ie+Oe]=(4278255360&He)+(Ct<<16)+nt}}function Ir(C,D,ne,me,Le){vt[D]=function(Ie,Oe,He,Ke,nt,Ct,Wt,st,Ft){for(Ke=Wt;Ke<st;++Ke)for(Wt=0;Wt<Ft;++Wt)nt[Ct++]=Le(He[me(Ie[Oe++])])},vt[C]=function(Ie,Oe,He,Ke,nt,Ct,Wt){var st=8>>Ie.b,Ft=Ie.Ea,_t=Ie.K[0],ws=Ie.w;if(8>st)for(Ie=(1<<Ie.b)-1,ws=(1<<st)-1;Oe<He;++Oe){var Zt,js=0;for(Zt=0;Zt<Ft;++Zt)Zt&Ie||(js=me(Ke[nt++])),Ct[Wt++]=Le(_t[js&ws]),js>>=st}else vt["VP8LMapColor"+ne](Ke,nt,_t,ws,Ct,Wt,Oe,He,Ft)}}function bn(C,D,ne,me,Le){for(ne=D+ne;D<ne;){var Ie=C[D++];me[Le++]=Ie>>16&255,me[Le++]=Ie>>8&255,me[Le++]=255&Ie}}function Yn(C,D,ne,me,Le){for(ne=D+ne;D<ne;){var Ie=C[D++];me[Le++]=Ie>>16&255,me[Le++]=Ie>>8&255,me[Le++]=255&Ie,me[Le++]=Ie>>24&255}}function Bn(C,D,ne,me,Le){for(ne=D+ne;D<ne;){var Ie=(Oe=C[D++])>>16&240|Oe>>12&15,Oe=240&Oe|Oe>>28&15;me[Le++]=Ie,me[Le++]=Oe}}function In(C,D,ne,me,Le){for(ne=D+ne;D<ne;){var Ie=(Oe=C[D++])>>16&248|Oe>>13&7,Oe=Oe>>5&224|Oe>>3&31;me[Le++]=Ie,me[Le++]=Oe}}function Wa(C,D,ne,me,Le){for(ne=D+ne;D<ne;){var Ie=C[D++];me[Le++]=255&Ie,me[Le++]=Ie>>8&255,me[Le++]=Ie>>16&255}}function Kr(C,D,ne,me,Le,Ie){if(Ie==0)for(ne=D+ne;D<ne;)Zs(me,((Ie=C[D++])[0]>>24|Ie[1]>>8&65280|Ie[2]<<8&16711680|Ie[3]<<24)>>>0),Le+=32;else I(me,Le,C,D,ne)}function _a(C,D){vt[D][0]=vt[C+"0"],vt[D][1]=vt[C+"1"],vt[D][2]=vt[C+"2"],vt[D][3]=vt[C+"3"],vt[D][4]=vt[C+"4"],vt[D][5]=vt[C+"5"],vt[D][6]=vt[C+"6"],vt[D][7]=vt[C+"7"],vt[D][8]=vt[C+"8"],vt[D][9]=vt[C+"9"],vt[D][10]=vt[C+"10"],vt[D][11]=vt[C+"11"],vt[D][12]=vt[C+"12"],vt[D][13]=vt[C+"13"],vt[D][14]=vt[C+"0"],vt[D][15]=vt[C+"0"]}function fn(C){return C==WA||C==pA||C==ju||C==YA}function _r(){this.eb=[],this.size=this.A=this.fb=0}function Na(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _r,this.f.kb=new Na,this.sd=null}function or(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yc(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Pi(C,D){var ne=C.T,me=D.ba.f.RGBA,Le=me.eb,Ie=me.fb+C.ka*me.A,Oe=kc[D.ba.S],He=C.y,Ke=C.O,nt=C.f,Ct=C.N,Wt=C.ea,st=C.W,Ft=D.cc,_t=D.dc,ws=D.Mc,Zt=D.Nc,js=C.ka,Bs=C.ka+C.T,$s=C.U,Qs=$s+1>>1;for(js==0?Oe(He,Ke,null,null,nt,Ct,Wt,st,nt,Ct,Wt,st,Le,Ie,null,null,$s):(Oe(D.ec,D.fc,He,Ke,Ft,_t,ws,Zt,nt,Ct,Wt,st,Le,Ie-me.A,Le,Ie,$s),++ne);js+2<Bs;js+=2)Ft=nt,_t=Ct,ws=Wt,Zt=st,Ct+=C.Rc,st+=C.Rc,Ie+=2*me.A,Oe(He,(Ke+=2*C.fa)-C.fa,He,Ke,Ft,_t,ws,Zt,nt,Ct,Wt,st,Le,Ie-me.A,Le,Ie,$s);return Ke+=C.fa,C.j+Bs<C.o?(I(D.ec,D.fc,He,Ke,$s),I(D.cc,D.dc,nt,Ct,Qs),I(D.Mc,D.Nc,Wt,st,Qs),ne--):1&Bs||Oe(He,Ke,null,null,nt,Ct,Wt,st,nt,Ct,Wt,st,Le,Ie+me.A,null,null,$s),ne}function co(C,D,ne){var me=C.F,Le=[C.J];if(me!=null){var Ie=C.U,Oe=D.ba.S,He=Oe==so||Oe==ju;D=D.ba.f.RGBA;var Ke=[0],nt=C.ka;Ke[0]=C.T,C.Kb&&(nt==0?--Ke[0]:(--nt,Le[0]-=C.width),C.j+C.ka+C.T==C.o&&(Ke[0]=C.o-C.j-nt));var Ct=D.eb;nt=D.fb+nt*D.A,C=Pl(me,Le[0],C.width,Ie,Ke,Ct,nt+(He?0:3),D.A),v(ne==Ke),C&&fn(Oe)&&Pd(Ct,nt,He,Ie,Ke,D.A)}return 0}function Gl(C){var D=C.ma,ne=D.ba.S,me=11>ne,Le=ne==fA||ne==Iu||ne==so||ne==eu||ne==12||fn(ne);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!Oa(D.Oa,C,Le?11:12))return 0;if(Le&&fn(ne)&&it(),C.da)alert("todo:use_scaling");else{if(me){if(D.Ib=Yc,C.Kb){if(ne=C.U+1>>1,D.memory=V(C.U+2*ne),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+C.U,D.Mc=D.cc,D.Nc=D.dc+ne,D.Ib=Pi,it()}}else alert("todo:EmitYUV");Le&&(D.Jb=co,me&&Qe())}if(me&&!Xh){for(C=0;256>C;++C)rh[C]=89858*(C-128)+Cd>>tu,ih[C]=-22014*(C-128)+Cd,ah[C]=-45773*(C-128),nh[C]=113618*(C-128)+Cd>>tu;for(C=Qu;C<sh;++C)D=76283*(C-16)+Cd>>tu,oh[C-Qu]=xo(D,255),Jh[C-Qu]=xo(D+8>>4,15);Xh=1}return 1}function on(C){var D=C.ma,ne=C.U,me=C.T;return v(!(1&C.ka)),0>=ne||0>=me?0:(ne=D.Ib(C,D),D.Jb!=null&&D.Jb(C,D,ne),D.Dc+=ne,1)}function ci(C){C.ma.memory=null}function gi(C,D,ne,me){return Hs(C,8)!=47?0:(D[0]=Hs(C,14)+1,ne[0]=Hs(C,14)+1,me[0]=Hs(C,1),Hs(C,3)!=0?0:!C.h)}function tl(C,D){if(4>C)return C+1;var ne=C-2>>1;return(2+(1&C)<<ne)+Hs(D,ne)+1}function Mo(C,D){return 120<D?D-120:1<=(ne=((ne=XA[D-1])>>4)*C+(8-(15&ne)))?ne:1;var ne}function Ra(C,D,ne){var me=ht(ne),Le=C[D+=255&me].g-8;return 0<Le&&(Rt(ne,ne.u+8),me=ht(ne),D+=C[D].value,D+=me&(1<<Le)-1),Rt(ne,ne.u+C[D].g),C[D].value}function xi(C,D,ne){return ne.g+=C.g,ne.value+=C.value<<D>>>0,v(8>=ne.g),C.g}function di(C,D,ne){var me=C.xc;return v((D=me==0?0:C.vc[C.md*(ne>>me)+(D>>me)])<C.Wb),C.Ya[D]}function Fl(C,D,ne,me){var Le=C.ab,Ie=C.c*D,Oe=C.C;D=Oe+D;var He=ne,Ke=me;for(me=C.Ta,ne=C.Ua;0<Le--;){var nt=C.gc[Le],Ct=Oe,Wt=D,st=He,Ft=Ke,_t=(Ke=me,He=ne,nt.Ea);switch(v(Ct<Wt),v(Wt<=nt.nc),nt.hc){case 2:Ya(st,Ft,(Wt-Ct)*_t,Ke,He);break;case 0:var ws=Ct,Zt=Wt,js=Ke,Bs=He,$s=(Pr=nt).Ea;ws==0&&(Xi(st,Ft,null,null,1,js,Bs),_n(st,Ft+1,0,0,$s-1,js,Bs+1),Ft+=$s,Bs+=$s,++ws);for(var Qs=1<<Pr.b,zr=Qs-1,jr=zs($s,Pr.b),Rn=Pr.K,Pr=Pr.w+(ws>>Pr.b)*jr;ws<Zt;){var ca=Rn,ro=Pr,Fn=1;for(yo(st,Ft,js,Bs-$s,1,js,Bs);Fn<$s;){var Dr=(Fn&~zr)+Qs;Dr>$s&&(Dr=$s),(0,yi[ca[ro++]>>8&15])(st,Ft+ +Fn,js,Bs+Fn-$s,Dr-Fn,js,Bs+Fn),Fn=Dr}Ft+=$s,Bs+=$s,++ws&zr||(Pr+=jr)}Wt!=nt.nc&&I(Ke,He-_t,Ke,He+(Wt-Ct-1)*_t,_t);break;case 1:for(_t=st,Zt=Ft,$s=(st=nt.Ea)-(Bs=st&~(js=(Ft=1<<nt.b)-1)),ws=zs(st,nt.b),Qs=nt.K,nt=nt.w+(Ct>>nt.b)*ws;Ct<Wt;){for(zr=Qs,jr=nt,Rn=new Vr,Pr=Zt+Bs,ca=Zt+st;Zt<Pr;)Br(zr[jr++],Rn),qd(Rn,_t,Zt,Ft,Ke,He),Zt+=Ft,He+=Ft;Zt<ca&&(Br(zr[jr++],Rn),qd(Rn,_t,Zt,$s,Ke,He),Zt+=$s,He+=$s),++Ct&js||(nt+=ws)}break;case 3:if(st==Ke&&Ft==He&&0<nt.b){for(Zt=Ke,st=_t=He+(Wt-Ct)*_t-(Bs=(Wt-Ct)*zs(nt.Ea,nt.b)),Ft=Ke,js=He,ws=[],Bs=($s=Bs)-1;0<=Bs;--Bs)ws[Bs]=Ft[js+Bs];for(Bs=$s-1;0<=Bs;--Bs)Zt[st+Bs]=ws[Bs];Mu(nt,Ct,Wt,Ke,_t,Ke,He)}else Mu(nt,Ct,Wt,st,Ft,Ke,He)}He=me,Ke=ne}Ke!=ne&&I(me,ne,He,Ke,Ie)}function Ri(C,D){var ne=C.V,me=C.Ba+C.c*C.C,Le=D-C.C;if(v(D<=C.l.o),v(16>=Le),0<Le){var Ie=C.l,Oe=C.Ta,He=C.Ua,Ke=Ie.width;if(Fl(C,Le,ne,me),Le=He=[He],v((ne=C.C)<(me=D)),v(Ie.v<Ie.va),me>Ie.o&&(me=Ie.o),ne<Ie.j){var nt=Ie.j-ne;ne=Ie.j,Le[0]+=nt*Ke}if(ne>=me?ne=0:(Le[0]+=4*Ie.v,Ie.ka=ne-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=me-ne,ne=1),ne){if(He=He[0],11>(ne=C.ca).S){var Ct=ne.f.RGBA,Wt=(me=ne.S,Le=Ie.U,Ie=Ie.T,nt=Ct.eb,Ct.A),st=Ie;for(Ct=Ct.fb+C.Ma*Ct.A;0<st--;){var Ft=Oe,_t=He,ws=Le,Zt=nt,js=Ct;switch(me){case wu:yc(Ft,_t,ws,Zt,js);break;case fA:vn(Ft,_t,ws,Zt,js);break;case WA:vn(Ft,_t,ws,Zt,js),Pd(Zt,js,0,ws,1,0);break;case KA:wd(Ft,_t,ws,Zt,js);break;case Iu:Kr(Ft,_t,ws,Zt,js,1);break;case pA:Kr(Ft,_t,ws,Zt,js,1),Pd(Zt,js,0,ws,1,0);break;case so:Kr(Ft,_t,ws,Zt,js,0);break;case ju:Kr(Ft,_t,ws,Zt,js,0),Pd(Zt,js,1,ws,1,0);break;case eu:pa(Ft,_t,ws,Zt,js);break;case YA:pa(Ft,_t,ws,Zt,js),uA(Zt,js,ws,1,0);break;case GA:ni(Ft,_t,ws,Zt,js);break;default:v(0)}He+=Ke,Ct+=Wt}C.Ma+=Ie}else alert("todo:EmitRescaledRowsYUVA");v(C.Ma<=ne.height)}}C.C=D,v(C.C<=C.i)}function fl(C){var D;if(0<C.ua)return 0;for(D=0;D<C.Wb;++D){var ne=C.Ya[D].G,me=C.Ya[D].H;if(0<ne[1][me[1]+0].g||0<ne[2][me[2]+0].g||0<ne[3][me[3]+0].g)return 0}return 1}function mo(C,D,ne,me,Le,Ie){if(C.Z!=0){var Oe=C.qd,He=C.rd;for(v(Nd[C.Z]!=null);D<ne;++D)Nd[C.Z](Oe,He,me,Le,me,Le,Ie),Oe=me,He=Le,Le+=Ie;C.qd=Oe,C.rd=He}}function Ul(C,D){var ne=C.l.ma,me=ne.Z==0||ne.Z==1?C.l.j:C.C;if(me=C.C<me?me:C.C,v(D<=C.l.o),D>me){var Le=C.l.width,Ie=ne.ca,Oe=ne.tb+Le*me,He=C.V,Ke=C.Ba+C.c*me,nt=C.gc;v(C.ab==1),v(nt[0].hc==3),ol(nt[0],me,D,He,Ke,Ie,Oe),mo(ne,me,D,Ie,Oe,Le)}C.C=C.Ma=D}function Oo(C,D,ne,me,Le,Ie,Oe){var He=C.$/me,Ke=C.$%me,nt=C.m,Ct=C.s,Wt=ne+C.$,st=Wt;Le=ne+me*Le;var Ft=ne+me*Ie,_t=280+Ct.ua,ws=C.Pb?He:16777216,Zt=0<Ct.ua?Ct.Wa:null,js=Ct.wc,Bs=Wt<Ft?di(Ct,Ke,He):null;v(C.C<Ie),v(Ft<=Le);var $s=!1;e:for(;;){for(;$s||Wt<Ft;){var Qs=0;if(He>=ws){var zr=Wt-ne;v((ws=C).Pb),ws.wd=ws.m,ws.xd=zr,0<ws.s.ua&&cr(ws.s.Wa,ws.s.vb),ws=He+Kh}if(Ke&js||(Bs=di(Ct,Ke,He)),v(Bs!=null),Bs.Qb&&(D[Wt]=Bs.qb,$s=!0),!$s)if(Yt(nt),Bs.jc){Qs=nt,zr=D;var jr=Wt,Rn=Bs.pd[ht(Qs)&Dn-1];v(Bs.jc),256>Rn.g?(Rt(Qs,Qs.u+Rn.g),zr[jr]=Rn.value,Qs=0):(Rt(Qs,Qs.u+Rn.g-256),v(256<=Rn.value),Qs=Rn.value),Qs==0&&($s=!0)}else Qs=Ra(Bs.G[0],Bs.H[0],nt);if(nt.h)break;if($s||256>Qs){if(!$s)if(Bs.nd)D[Wt]=(Bs.qb|Qs<<8)>>>0;else{if(Yt(nt),$s=Ra(Bs.G[1],Bs.H[1],nt),Yt(nt),zr=Ra(Bs.G[2],Bs.H[2],nt),jr=Ra(Bs.G[3],Bs.H[3],nt),nt.h)break;D[Wt]=(jr<<24|$s<<16|Qs<<8|zr)>>>0}if($s=!1,++Wt,++Ke>=me&&(Ke=0,++He,Oe!=null&&He<=Ie&&!(He%16)&&Oe(C,He),Zt!=null))for(;st<Wt;)Qs=D[st++],Zt.X[(506832829*Qs&4294967295)>>>Zt.Mb]=Qs}else if(280>Qs){if(Qs=tl(Qs-256,nt),zr=Ra(Bs.G[4],Bs.H[4],nt),Yt(nt),zr=Mo(me,zr=tl(zr,nt)),nt.h)break;if(Wt-ne<zr||Le-Wt<Qs)break e;for(jr=0;jr<Qs;++jr)D[Wt+jr]=D[Wt+jr-zr];for(Wt+=Qs,Ke+=Qs;Ke>=me;)Ke-=me,++He,Oe!=null&&He<=Ie&&!(He%16)&&Oe(C,He);if(v(Wt<=Le),Ke&js&&(Bs=di(Ct,Ke,He)),Zt!=null)for(;st<Wt;)Qs=D[st++],Zt.X[(506832829*Qs&4294967295)>>>Zt.Mb]=Qs}else{if(!(Qs<_t))break e;for($s=Qs-280,v(Zt!=null);st<Wt;)Qs=D[st++],Zt.X[(506832829*Qs&4294967295)>>>Zt.Mb]=Qs;Qs=Wt,v(!($s>>>(zr=Zt).Xa)),D[Qs]=zr.X[$s],$s=!0}$s||v(nt.h==Ot(nt))}if(C.Pb&&nt.h&&Wt<Le)v(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&cr(C.s.vb,C.s.Wa);else{if(nt.h)break e;Oe!=null&&Oe(C,He>Ie?Ie:He),C.a=0,C.$=Wt-ne}return 1}return C.a=3,0}function pl(C){v(C!=null),C.vc=null,C.yc=null,C.Ya=null;var D=C.Wa;D!=null&&(D.X=null),C.vb=null,v(C!=null)}function Xc(){var C=new pn;return C==null?null:(C.a=0,C.xb=xA,_a("Predictor","VP8LPredictors"),_a("Predictor","VP8LPredictors_C"),_a("PredictorAdd","VP8LPredictorsAdd"),_a("PredictorAdd","VP8LPredictorsAdd_C"),Ya=Xr,qd=nn,yc=bn,vn=Yn,pa=Bn,ni=In,wd=Wa,vt.VP8LMapColor32b=nd,vt.VP8LMapColor8b=ll,C)}function ml(C,D,ne,me,Le){var Ie=1,Oe=[C],He=[D],Ke=me.m,nt=me.s,Ct=null,Wt=0;e:for(;;){if(ne)for(;Ie&&Hs(Ke,1);){var st=Oe,Ft=He,_t=me,ws=1,Zt=_t.m,js=_t.gc[_t.ab],Bs=Hs(Zt,2);if(_t.Oc&1<<Bs)Ie=0;else{switch(_t.Oc|=1<<Bs,js.hc=Bs,js.Ea=st[0],js.nc=Ft[0],js.K=[null],++_t.ab,v(4>=_t.ab),Bs){case 0:case 1:js.b=Hs(Zt,3)+2,ws=ml(zs(js.Ea,js.b),zs(js.nc,js.b),0,_t,js.K),js.K=js.K[0];break;case 3:var $s,Qs=Hs(Zt,8)+1,zr=16<Qs?0:4<Qs?1:2<Qs?2:3;if(st[0]=zs(js.Ea,zr),js.b=zr,$s=ws=ml(Qs,1,0,_t,js.K)){var jr,Rn=Qs,Pr=js,ca=1<<(8>>Pr.b),ro=V(ca);if(ro==null)$s=0;else{var Fn=Pr.K[0],Dr=Pr.w;for(ro[0]=Pr.K[0][0],jr=1;jr<1*Rn;++jr)ro[jr]=tn(Fn[Dr+jr],ro[jr-1]);for(;jr<4*ca;++jr)ro[jr]=0;Pr.K[0]=null,Pr.K[0]=ro,$s=1}}ws=$s;break;case 2:break;default:v(0)}Ie=ws}}if(Oe=Oe[0],He=He[0],Ie&&Hs(Ke,1)&&!(Ie=1<=(Wt=Hs(Ke,4))&&11>=Wt)){me.a=3;break e}var ur;if(ur=Ie)t:{var _i,Un,Hn,ai=me,wo=Oe,zo=He,Ia=Wt,$o=ne,jl=ai.m,Hi=ai.s,oa=[null],dn=1,Zi=0,$a=JA[Ia];s:for(;;){if($o&&Hs(jl,1)){var Vo=Hs(jl,3)+2,dl=zs(wo,Vo),Xa=zs(zo,Vo),ul=dl*Xa;if(!ml(dl,Xa,0,ai,oa))break s;for(oa=oa[0],Hi.xc=Vo,_i=0;_i<ul;++_i){var Ja=oa[_i]>>8&65535;oa[_i]=Ja,Ja>=dn&&(dn=Ja+1)}}if(jl.h)break s;for(Un=0;5>Un;++Un){var Ys=Vh[Un];!Un&&0<Ia&&(Ys+=1<<Ia),Zi<Ys&&(Zi=Ys)}var ii=ce(dn*$a,xt),jo=dn,ui=ce(jo,rs);if(ui==null)var nc=null;else v(65536>=jo),nc=ui;var Tn=V(Zi);if(nc==null||Tn==null||ii==null){ai.a=1;break s}var ea=ii;for(_i=Hn=0;_i<dn;++_i){var Sa=nc[_i],ac=Sa.G,qi=Sa.H,Ai=0,ic=1,Ko=0;for(Un=0;5>Un;++Un){Ys=Vh[Un],ac[Un]=ea,qi[Un]=Hn,!Un&&0<Ia&&(Ys+=1<<Ia);n:{var no,lh=Ys,jA=ai,ku=Tn,Fi=ea,Rl=Hn,Qc=0,id=jA.m,Zh=Hs(id,1);if(R(ku,0,0,lh),Zh){var If=Hs(id,1)+1,Df=Hs(id,1),NA=Hs(id,Df==0?1:8);ku[NA]=1,If==2&&(ku[NA=Hs(id,8)]=1);var Al=1}else{var _c=V(19),Hu=Hs(id,4)+4;if(19<Hu){jA.a=3;var Za=0;break n}for(no=0;no<Hu;++no)_c[Tf[no]]=Hs(id,3);var kA=void 0,Nl=void 0,su=jA,Qd=_c,ru=lh,_d=ku,kl=0,Hd=su.m,Hc=8,zu=ce(128,xt);r:for(;rt(zu,0,7,Qd,19);){if(Hs(Hd,1)){var CA=2+2*Hs(Hd,3);if((kA=2+Hs(Hd,CA))>ru)break r}else kA=ru;for(Nl=0;Nl<ru&&kA--;){Yt(Hd);var nu=zu[0+(127&ht(Hd))];Rt(Hd,Hd.u+nu.g);var Cu=nu.value;if(16>Cu)_d[Nl++]=Cu,Cu!=0&&(Hc=Cu);else{var qh=Cu==16,$u=Cu-16,Pf=jp[$u],BA=Hs(Hd,Ef[$u])+Pf;if(Nl+BA>ru)break r;for(var Rf=qh?Hc:0;0<BA--;)_d[Nl++]=Rf}}kl=1;break r}kl||(su.a=3),Al=kl}(Al=Al&&!id.h)&&(Qc=rt(Fi,Rl,8,ku,lh)),Al&&Qc!=0?Za=Qc:(jA.a=3,Za=0)}if(Za==0)break s;if(ic&&Du[Un]==1&&(ic=ea[Hn].g==0),Ai+=ea[Hn].g,Hn+=Za,3>=Un){var SA,ef=Tn[0];for(SA=1;SA<Ys;++SA)Tn[SA]>ef&&(ef=Tn[SA]);Ko+=ef}}if(Sa.nd=ic,Sa.Qb=0,ic&&(Sa.qb=(ac[3][qi[3]+0].value<<24|ac[1][qi[1]+0].value<<16|ac[2][qi[2]+0].value)>>>0,Ai==0&&256>ac[0][qi[0]+0].value&&(Sa.Qb=1,Sa.qb+=ac[0][qi[0]+0].value<<8)),Sa.jc=!Sa.Qb&&6>Ko,Sa.jc){var ba,ma=Sa;for(ba=0;ba<Dn;++ba){var Mn=ba,Qn=ma.pd[Mn],Ea=ma.G[0][ma.H[0]+Mn];256<=Ea.value?(Qn.g=Ea.g+256,Qn.value=Ea.value):(Qn.g=0,Qn.value=0,Mn>>=xi(Ea,8,Qn),Mn>>=xi(ma.G[1][ma.H[1]+Mn],16,Qn),Mn>>=xi(ma.G[2][ma.H[2]+Mn],0,Qn),xi(ma.G[3][ma.H[3]+Mn],24,Qn))}}}Hi.vc=oa,Hi.Wb=dn,Hi.Ya=nc,Hi.yc=ii,ur=1;break t}ur=0}if(!(Ie=ur)){me.a=3;break e}if(0<Wt){if(nt.ua=1<<Wt,!tt(nt.Wa,Wt)){me.a=1,Ie=0;break e}}else nt.ua=0;var Ql=me,zd=Oe,Vu=He,B=Ql.s,j=B.xc;if(Ql.c=zd,Ql.i=Vu,B.md=zs(zd,j),B.wc=j==0?-1:(1<<j)-1,ne){me.xb=Uf;break e}if((Ct=V(Oe*He))==null){me.a=1,Ie=0;break e}Ie=(Ie=Oo(me,Ct,0,Oe,He,He,null))&&!Ke.h;break e}return Ie?(Le!=null?Le[0]=Ct:(v(Ct==null),v(ne)),me.$=0,ne||pl(nt)):pl(nt),Ie}function Io(C,D){var ne=C.c*C.i,me=ne+D+16*D;return v(C.c<=D),C.V=V(me),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+ne+D,1)}function Fc(C,D){var ne=C.C,me=D-ne,Le=C.V,Ie=C.Ba+C.c*ne;for(v(D<=C.l.o);0<me;){var Oe=16<me?16:me,He=C.l.ma,Ke=C.l.width,nt=Ke*Oe,Ct=He.ca,Wt=He.tb+Ke*ne,st=C.Ta,Ft=C.Ua;Fl(C,Oe,Le,Ie),Pc(st,Ft,Ct,Wt,nt),mo(He,ne,ne+Oe,Ct,Wt,Ke),me-=Oe,Le+=Oe*C.c,ne+=Oe}v(ne==D),C.C=C.Ma=D}function Jc(){this.ub=this.yd=this.td=this.Rb=0}function gc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function sl(){this.Fb=this.Bb=this.Cb=0,this.Zb=V(4),this.Lb=V(4)}function Uc(){this.Yb=(function(){var C=[];return(function D(ne,me,Le){for(var Ie=Le[me],Oe=0;Oe<Ie&&(ne.push(Le.length>me+1?[]:0),!(Le.length<me+1));Oe++)D(ne[Oe],me+1,Le)})(C,0,[3,11]),C})()}function Do(){this.jb=V(3),this.Wc=q([4,8],Uc),this.Xc=q([4,17],Uc)}function Ml(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new V(4),this.od=new V(4)}function go(){this.ld=this.La=this.dd=this.tc=0}function xc(){this.Na=this.la=0}function Mc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ad(){this.ad=V(384),this.Za=0,this.Ob=V(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wl(){this.uc=this.M=this.Nb=0,this.wa=Array(new go),this.Y=0,this.ya=Array(new Ad),this.aa=0,this.l=new Id}function Jd(){this.y=V(16),this.f=V(8),this.ea=V(8)}function hd(){this.cb=this.a=0,this.sc="",this.m=new _e,this.Od=new Jc,this.Kc=new gc,this.ed=new Ml,this.Qa=new sl,this.Ic=this.$c=this.Aa=0,this.D=new Wl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=ce(8,_e),this.ia=0,this.pb=ce(4,Mc),this.Pa=new Do,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Jd),this.Hd=0,this.rb=Array(new xc),this.sb=0,this.wa=Array(new go),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ad),this.L=this.aa=0,this.gd=q([4,2],go),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xo(C,D){return 0>C?0:C>D?D:C}function Id(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Po(){var C=new hd;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,Nu||(Nu=Xl)),C}function An(C,D,ne){return C.a==0&&(C.a=D,C.sc=ne,C.cb=0),0}function Ol(C,D,ne){return 3<=ne&&C[D+0]==157&&C[D+1]==1&&C[D+2]==42}function Yl(C,D){if(C==null)return 0;if(C.a=0,C.sc="OK",D==null)return An(C,2,"null VP8Io passed to VP8GetHeaders()");var ne=D.data,me=D.w,Le=D.ha;if(4>Le)return An(C,7,"Truncated header.");var Ie=ne[me+0]|ne[me+1]<<8|ne[me+2]<<16,Oe=C.Od;if(Oe.Rb=!(1&Ie),Oe.td=Ie>>1&7,Oe.yd=Ie>>4&1,Oe.ub=Ie>>5,3<Oe.td)return An(C,3,"Incorrect keyframe parameters.");if(!Oe.yd)return An(C,4,"Frame not displayable.");me+=3,Le-=3;var He=C.Kc;if(Oe.Rb){if(7>Le)return An(C,7,"cannot parse picture header");if(!Ol(ne,me,Le))return An(C,3,"Bad code word");He.c=16383&(ne[me+4]<<8|ne[me+3]),He.Td=ne[me+4]>>6,He.i=16383&(ne[me+6]<<8|ne[me+5]),He.Ud=ne[me+6]>>6,me+=7,Le-=7,C.za=He.c+15>>4,C.Ub=He.i+15>>4,D.width=He.c,D.height=He.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,R((Ie=C.Pa).jb,0,255,Ie.jb.length),v((Ie=C.Qa)!=null),Ie.Cb=0,Ie.Bb=0,Ie.Fb=1,R(Ie.Zb,0,0,Ie.Zb.length),R(Ie.Lb,0,0,Ie.Lb)}if(Oe.ub>Le)return An(C,7,"bad partition length");us(Ie=C.m,ne,me,Oe.ub),me+=Oe.ub,Le-=Oe.ub,Oe.Rb&&(He.Ld=bs(Ie),He.Kd=bs(Ie)),He=C.Qa;var Ke,nt=C.Pa;if(v(Ie!=null),v(He!=null),He.Cb=bs(Ie),He.Cb){if(He.Bb=bs(Ie),bs(Ie)){for(He.Fb=bs(Ie),Ke=0;4>Ke;++Ke)He.Zb[Ke]=bs(Ie)?Kt(Ie,7):0;for(Ke=0;4>Ke;++Ke)He.Lb[Ke]=bs(Ie)?Kt(Ie,6):0}if(He.Bb)for(Ke=0;3>Ke;++Ke)nt.jb[Ke]=bs(Ie)?ys(Ie,8):255}else He.Bb=0;if(Ie.Ka)return An(C,3,"cannot parse segment header");if((He=C.ed).zd=bs(Ie),He.Tb=ys(Ie,6),He.wb=ys(Ie,3),He.Pc=bs(Ie),He.Pc&&bs(Ie)){for(nt=0;4>nt;++nt)bs(Ie)&&(He.vd[nt]=Kt(Ie,6));for(nt=0;4>nt;++nt)bs(Ie)&&(He.od[nt]=Kt(Ie,6))}if(C.L=He.Tb==0?0:He.zd?1:2,Ie.Ka)return An(C,3,"cannot parse filter header");var Ct=Le;if(Le=Ke=me,me=Ke+Ct,He=Ct,C.Xb=(1<<ys(C.m,2))-1,Ct<3*(nt=C.Xb))ne=7;else{for(Ke+=3*nt,He-=3*nt,Ct=0;Ct<nt;++Ct){var Wt=ne[Le+0]|ne[Le+1]<<8|ne[Le+2]<<16;Wt>He&&(Wt=He),us(C.Jc[+Ct],ne,Ke,Wt),Ke+=Wt,He-=Wt,Le+=3}us(C.Jc[+nt],ne,Ke,He),ne=Ke<me?0:5}if(ne!=0)return An(C,ne,"cannot parse partitions");for(ne=ys(Ke=C.m,7),Le=bs(Ke)?Kt(Ke,4):0,me=bs(Ke)?Kt(Ke,4):0,He=bs(Ke)?Kt(Ke,4):0,nt=bs(Ke)?Kt(Ke,4):0,Ke=bs(Ke)?Kt(Ke,4):0,Ct=C.Qa,Wt=0;4>Wt;++Wt){if(Ct.Cb){var st=Ct.Zb[Wt];Ct.Fb||(st+=ne)}else{if(0<Wt){C.pb[Wt]=C.pb[0];continue}st=ne}var Ft=C.pb[Wt];Ft.Sc[0]=Pu[xo(st+Le,127)],Ft.Sc[1]=ZA[xo(st+0,127)],Ft.Eb[0]=2*Pu[xo(st+me,127)],Ft.Eb[1]=101581*ZA[xo(st+He,127)]>>16,8>Ft.Eb[1]&&(Ft.Eb[1]=8),Ft.Qc[0]=Pu[xo(st+nt,117)],Ft.Qc[1]=ZA[xo(st+Ke,127)],Ft.lc=st+Ke}if(!Oe.Rb)return An(C,4,"Not a key frame.");for(bs(Ie),Oe=C.Pa,ne=0;4>ne;++ne){for(Le=0;8>Le;++Le)for(me=0;3>me;++me)for(He=0;11>He;++He)nt=Us(Ie,mA[ne][Le][me][He])?ys(Ie,8):Ff[ne][Le][me][He],Oe.Wc[ne][Le].Yb[me][He]=nt;for(Le=0;17>Le;++Le)Oe.Xc[ne][Le]=Oe.Wc[ne][gA[Le]]}return C.kc=bs(Ie),C.kc&&(C.Bd=ys(Ie,8)),C.cb=1}function Xl(C,D,ne,me,Le,Ie,Oe){var He=D[Le].Yb[ne];for(ne=0;16>Le;++Le){if(!Us(C,He[ne+0]))return Le;for(;!Us(C,He[ne+1]);)if(He=D[++Le].Yb[0],ne=0,Le==16)return 16;var Ke=D[Le+1].Yb;if(Us(C,He[ne+2])){var nt=C,Ct=0;if(Us(nt,(st=He)[(Wt=ne)+3]))if(Us(nt,st[Wt+6])){for(He=0,Wt=2*(Ct=Us(nt,st[Wt+8]))+(st=Us(nt,st[Wt+9+Ct])),Ct=0,st=qA[Wt];st[He];++He)Ct+=Ct+Us(nt,st[He]);Ct+=3+(8<<Wt)}else Us(nt,st[Wt+7])?(Ct=7+2*Us(nt,165),Ct+=Us(nt,145)):Ct=5+Us(nt,159);else Ct=Us(nt,st[Wt+4])?3+Us(nt,st[Wt+5]):2;He=Ke[2]}else Ct=1,He=Ke[1];Ke=Oe+Lf[Le],0>(nt=C).b&&gs(nt);var Wt,st=nt.b,Ft=(Wt=nt.Ca>>1)-(nt.I>>st)>>31;--nt.b,nt.Ca+=Ft,nt.Ca|=1,nt.I-=(Wt+1&Ft)<<st,Ie[Ke]=((Ct^Ft)-Ft)*me[(0<Le)+0]}return 16}function Oc(C){var D=C.rb[C.sb-1];D.la=0,D.Na=0,R(C.zc,0,0,C.zc.length),C.ja=0}function Il(C,D,ne,me,Le){Le=C[D+ne+32*me]+(Le>>3),C[D+ne+32*me]=-256&Le?0>Le?0:255:Le}function Gi(C,D,ne,me,Le,Ie){Il(C,D,0,ne,me+Le),Il(C,D,1,ne,me+Ie),Il(C,D,2,ne,me-Ie),Il(C,D,3,ne,me-Le)}function Jl(C){return(20091*C>>16)+C}function fd(C,D,ne,me){var Le,Ie=0,Oe=V(16);for(Le=0;4>Le;++Le){var He=C[D+0]+C[D+8],Ke=C[D+0]-C[D+8],nt=(35468*C[D+4]>>16)-Jl(C[D+12]),Ct=Jl(C[D+4])+(35468*C[D+12]>>16);Oe[Ie+0]=He+Ct,Oe[Ie+1]=Ke+nt,Oe[Ie+2]=Ke-nt,Oe[Ie+3]=He-Ct,Ie+=4,D++}for(Le=Ie=0;4>Le;++Le)He=(C=Oe[Ie+0]+4)+Oe[Ie+8],Ke=C-Oe[Ie+8],nt=(35468*Oe[Ie+4]>>16)-Jl(Oe[Ie+12]),Il(ne,me,0,0,He+(Ct=Jl(Oe[Ie+4])+(35468*Oe[Ie+12]>>16))),Il(ne,me,1,0,Ke+nt),Il(ne,me,2,0,Ke-nt),Il(ne,me,3,0,He-Ct),Ie++,me+=32}function Wi(C,D,ne,me){var Le=C[D+0]+4,Ie=35468*C[D+4]>>16,Oe=Jl(C[D+4]),He=35468*C[D+1]>>16;Gi(ne,me,0,Le+Oe,C=Jl(C[D+1]),He),Gi(ne,me,1,Le+Ie,C,He),Gi(ne,me,2,Le-Ie,C,He),Gi(ne,me,3,Le-Oe,C,He)}function Zc(C,D,ne,me,Le){fd(C,D,ne,me),Le&&fd(C,D+16,ne,me+4)}function Ro(C,D,ne,me){wc(C,D+0,ne,me,1),wc(C,D+32,ne,me+128,1)}function pd(C,D,ne,me){var Le;for(C=C[D+0]+4,Le=0;4>Le;++Le)for(D=0;4>D;++D)Il(ne,me,D,Le,C)}function Zl(C,D,ne,me){C[D+0]&&ia(C,D+0,ne,me),C[D+16]&&ia(C,D+16,ne,me+4),C[D+32]&&ia(C,D+32,ne,me+128),C[D+48]&&ia(C,D+48,ne,me+128+4)}function bo(C,D,ne,me){var Le,Ie=V(16);for(Le=0;4>Le;++Le){var Oe=C[D+0+Le]+C[D+12+Le],He=C[D+4+Le]+C[D+8+Le],Ke=C[D+4+Le]-C[D+8+Le],nt=C[D+0+Le]-C[D+12+Le];Ie[0+Le]=Oe+He,Ie[8+Le]=Oe-He,Ie[4+Le]=nt+Ke,Ie[12+Le]=nt-Ke}for(Le=0;4>Le;++Le)Oe=(C=Ie[0+4*Le]+3)+Ie[3+4*Le],He=Ie[1+4*Le]+Ie[2+4*Le],Ke=Ie[1+4*Le]-Ie[2+4*Le],nt=C-Ie[3+4*Le],ne[me+0]=Oe+He>>3,ne[me+16]=nt+Ke>>3,ne[me+32]=Oe-He>>3,ne[me+48]=nt-Ke>>3,me+=64}function to(C,D,ne){var me,Le=D-32,Ie=rc,Oe=255-C[Le-1];for(me=0;me<ne;++me){var He,Ke=Ie,nt=Oe+C[D-1];for(He=0;He<ne;++He)C[D+He]=Ke[nt+C[Le+He]];D+=32}}function ql(C,D){to(C,D,4)}function gl(C,D){to(C,D,8)}function rl(C,D){to(C,D,16)}function xl(C,D){var ne;for(ne=0;16>ne;++ne)I(C,D+32*ne,C,D-32,16)}function gu(C,D){var ne;for(ne=16;0<ne;--ne)R(C,D,C[D-1],16),D+=32}function Dl(C,D,ne){var me;for(me=0;16>me;++me)R(D,ne+32*me,C,16)}function xu(C,D){var ne,me=16;for(ne=0;16>ne;++ne)me+=C[D-1+32*ne]+C[D+ne-32];Dl(me>>5,C,D)}function md(C,D){var ne,me=8;for(ne=0;16>ne;++ne)me+=C[D-1+32*ne];Dl(me>>4,C,D)}function Qi(C,D){var ne,me=8;for(ne=0;16>ne;++ne)me+=C[D+ne-32];Dl(me>>4,C,D)}function Ha(C,D){Dl(128,C,D)}function dr(C,D,ne){return C+2*D+ne+2>>2}function Ic(C,D){var ne,me=D-32;for(me=new Uint8Array([dr(C[me-1],C[me+0],C[me+1]),dr(C[me+0],C[me+1],C[me+2]),dr(C[me+1],C[me+2],C[me+3]),dr(C[me+2],C[me+3],C[me+4])]),ne=0;4>ne;++ne)I(C,D+32*ne,me,0,me.length)}function bl(C,D){var ne=C[D-1],me=C[D-1+32],Le=C[D-1+64],Ie=C[D-1+96];Zs(C,D+0,16843009*dr(C[D-1-32],ne,me)),Zs(C,D+32,16843009*dr(ne,me,Le)),Zs(C,D+64,16843009*dr(me,Le,Ie)),Zs(C,D+96,16843009*dr(Le,Ie,Ie))}function gd(C,D){var ne,me=4;for(ne=0;4>ne;++ne)me+=C[D+ne-32]+C[D-1+32*ne];for(me>>=3,ne=0;4>ne;++ne)R(C,D+32*ne,me,4)}function Qo(C,D){var ne=C[D-1+0],me=C[D-1+32],Le=C[D-1+64],Ie=C[D-1-32],Oe=C[D+0-32],He=C[D+1-32],Ke=C[D+2-32],nt=C[D+3-32];C[D+0+96]=dr(me,Le,C[D-1+96]),C[D+1+96]=C[D+0+64]=dr(ne,me,Le),C[D+2+96]=C[D+1+64]=C[D+0+32]=dr(Ie,ne,me),C[D+3+96]=C[D+2+64]=C[D+1+32]=C[D+0+0]=dr(Oe,Ie,ne),C[D+3+64]=C[D+2+32]=C[D+1+0]=dr(He,Oe,Ie),C[D+3+32]=C[D+2+0]=dr(Ke,He,Oe),C[D+3+0]=dr(nt,Ke,He)}function Dc(C,D){var ne=C[D+1-32],me=C[D+2-32],Le=C[D+3-32],Ie=C[D+4-32],Oe=C[D+5-32],He=C[D+6-32],Ke=C[D+7-32];C[D+0+0]=dr(C[D+0-32],ne,me),C[D+1+0]=C[D+0+32]=dr(ne,me,Le),C[D+2+0]=C[D+1+32]=C[D+0+64]=dr(me,Le,Ie),C[D+3+0]=C[D+2+32]=C[D+1+64]=C[D+0+96]=dr(Le,Ie,Oe),C[D+3+32]=C[D+2+64]=C[D+1+96]=dr(Ie,Oe,He),C[D+3+64]=C[D+2+96]=dr(Oe,He,Ke),C[D+3+96]=dr(He,Ke,Ke)}function bu(C,D){var ne=C[D-1+0],me=C[D-1+32],Le=C[D-1+64],Ie=C[D-1-32],Oe=C[D+0-32],He=C[D+1-32],Ke=C[D+2-32],nt=C[D+3-32];C[D+0+0]=C[D+1+64]=Ie+Oe+1>>1,C[D+1+0]=C[D+2+64]=Oe+He+1>>1,C[D+2+0]=C[D+3+64]=He+Ke+1>>1,C[D+3+0]=Ke+nt+1>>1,C[D+0+96]=dr(Le,me,ne),C[D+0+64]=dr(me,ne,Ie),C[D+0+32]=C[D+1+96]=dr(ne,Ie,Oe),C[D+1+32]=C[D+2+96]=dr(Ie,Oe,He),C[D+2+32]=C[D+3+96]=dr(Oe,He,Ke),C[D+3+32]=dr(He,Ke,nt)}function xd(C,D){var ne=C[D+0-32],me=C[D+1-32],Le=C[D+2-32],Ie=C[D+3-32],Oe=C[D+4-32],He=C[D+5-32],Ke=C[D+6-32],nt=C[D+7-32];C[D+0+0]=ne+me+1>>1,C[D+1+0]=C[D+0+64]=me+Le+1>>1,C[D+2+0]=C[D+1+64]=Le+Ie+1>>1,C[D+3+0]=C[D+2+64]=Ie+Oe+1>>1,C[D+0+32]=dr(ne,me,Le),C[D+1+32]=C[D+0+96]=dr(me,Le,Ie),C[D+2+32]=C[D+1+96]=dr(Le,Ie,Oe),C[D+3+32]=C[D+2+96]=dr(Ie,Oe,He),C[D+3+64]=dr(Oe,He,Ke),C[D+3+96]=dr(He,Ke,nt)}function Yi(C,D){var ne=C[D-1+0],me=C[D-1+32],Le=C[D-1+64],Ie=C[D-1+96];C[D+0+0]=ne+me+1>>1,C[D+2+0]=C[D+0+32]=me+Le+1>>1,C[D+2+32]=C[D+0+64]=Le+Ie+1>>1,C[D+1+0]=dr(ne,me,Le),C[D+3+0]=C[D+1+32]=dr(me,Le,Ie),C[D+3+32]=C[D+1+64]=dr(Le,Ie,Ie),C[D+3+64]=C[D+2+64]=C[D+0+96]=C[D+1+96]=C[D+2+96]=C[D+3+96]=Ie}function qc(C,D){var ne=C[D-1+0],me=C[D-1+32],Le=C[D-1+64],Ie=C[D-1+96],Oe=C[D-1-32],He=C[D+0-32],Ke=C[D+1-32],nt=C[D+2-32];C[D+0+0]=C[D+2+32]=ne+Oe+1>>1,C[D+0+32]=C[D+2+64]=me+ne+1>>1,C[D+0+64]=C[D+2+96]=Le+me+1>>1,C[D+0+96]=Ie+Le+1>>1,C[D+3+0]=dr(He,Ke,nt),C[D+2+0]=dr(Oe,He,Ke),C[D+1+0]=C[D+3+32]=dr(ne,Oe,He),C[D+1+32]=C[D+3+64]=dr(me,ne,Oe),C[D+1+64]=C[D+3+96]=dr(Le,me,ne),C[D+1+96]=dr(Ie,Le,me)}function vl(C,D){var ne;for(ne=0;8>ne;++ne)I(C,D+32*ne,C,D-32,8)}function Zd(C,D){var ne;for(ne=0;8>ne;++ne)R(C,D,C[D-1],8),D+=32}function nl(C,D,ne){var me;for(me=0;8>me;++me)R(D,ne+32*me,C,8)}function bc(C,D){var ne,me=8;for(ne=0;8>ne;++ne)me+=C[D+ne-32]+C[D-1+32*ne];nl(me>>4,C,D)}function _o(C,D){var ne,me=4;for(ne=0;8>ne;++ne)me+=C[D+ne-32];nl(me>>3,C,D)}function al(C,D){var ne,me=4;for(ne=0;8>ne;++ne)me+=C[D-1+32*ne];nl(me>>3,C,D)}function bd(C,D){nl(128,C,D)}function yl(C,D,ne){var me=C[D-ne],Le=C[D+0],Ie=3*(Le-me)+VA[1020+C[D-2*ne]-C[D+ne]],Oe=hA[112+(Ie+4>>3)];C[D-ne]=rc[255+me+hA[112+(Ie+3>>3)]],C[D+0]=rc[255+Le-Oe]}function vc(C,D,ne,me){var Le=C[D+0],Ie=C[D+ne];return jc[255+C[D-2*ne]-C[D-ne]]>me||jc[255+Ie-Le]>me}function ed(C,D,ne,me){return 4*jc[255+C[D-ne]-C[D+0]]+jc[255+C[D-2*ne]-C[D+ne]]<=me}function il(C,D,ne,me,Le){var Ie=C[D-3*ne],Oe=C[D-2*ne],He=C[D-ne],Ke=C[D+0],nt=C[D+ne],Ct=C[D+2*ne],Wt=C[D+3*ne];return 4*jc[255+He-Ke]+jc[255+Oe-nt]>me?0:jc[255+C[D-4*ne]-Ie]<=Le&&jc[255+Ie-Oe]<=Le&&jc[255+Oe-He]<=Le&&jc[255+Wt-Ct]<=Le&&jc[255+Ct-nt]<=Le&&jc[255+nt-Ke]<=Le}function ri(C,D,ne,me){var Le=2*me+1;for(me=0;16>me;++me)ed(C,D+me,ne,Le)&&yl(C,D+me,ne)}function vd(C,D,ne,me){var Le=2*me+1;for(me=0;16>me;++me)ed(C,D+me*ne,1,Le)&&yl(C,D+me*ne,1)}function vu(C,D,ne,me){var Le;for(Le=3;0<Le;--Le)ri(C,D+=4*ne,ne,me)}function Uu(C,D,ne,me){var Le;for(Le=3;0<Le;--Le)vd(C,D+=4,ne,me)}function td(C,D,ne,me,Le,Ie,Oe,He){for(Ie=2*Ie+1;0<Le--;){if(il(C,D,ne,Ie,Oe))if(vc(C,D,ne,He))yl(C,D,ne);else{var Ke=C,nt=D,Ct=ne,Wt=Ke[nt-2*Ct],st=Ke[nt-Ct],Ft=Ke[nt+0],_t=Ke[nt+Ct],ws=Ke[nt+2*Ct],Zt=27*(Bs=VA[1020+3*(Ft-st)+VA[1020+Wt-_t]])+63>>7,js=18*Bs+63>>7,Bs=9*Bs+63>>7;Ke[nt-3*Ct]=rc[255+Ke[nt-3*Ct]+Bs],Ke[nt-2*Ct]=rc[255+Wt+js],Ke[nt-Ct]=rc[255+st+Zt],Ke[nt+0]=rc[255+Ft-Zt],Ke[nt+Ct]=rc[255+_t-js],Ke[nt+2*Ct]=rc[255+ws-Bs]}D+=me}}function sd(C,D,ne,me,Le,Ie,Oe,He){for(Ie=2*Ie+1;0<Le--;){if(il(C,D,ne,Ie,Oe))if(vc(C,D,ne,He))yl(C,D,ne);else{var Ke=C,nt=D,Ct=ne,Wt=Ke[nt-Ct],st=Ke[nt+0],Ft=Ke[nt+Ct],_t=hA[112+(4+(ws=3*(st-Wt))>>3)],ws=hA[112+(ws+3>>3)],Zt=_t+1>>1;Ke[nt-2*Ct]=rc[255+Ke[nt-2*Ct]+Zt],Ke[nt-Ct]=rc[255+Wt+ws],Ke[nt+0]=rc[255+st-_t],Ke[nt+Ct]=rc[255+Ft-Zt]}D+=me}}function bi(C,D,ne,me,Le,Ie){td(C,D,ne,1,16,me,Le,Ie)}function rd(C,D,ne,me,Le,Ie){td(C,D,1,ne,16,me,Le,Ie)}function yd(C,D,ne,me,Le,Ie){var Oe;for(Oe=3;0<Oe;--Oe)sd(C,D+=4*ne,ne,1,16,me,Le,Ie)}function Z(C,D,ne,me,Le,Ie){var Oe;for(Oe=3;0<Oe;--Oe)sd(C,D+=4,1,ne,16,me,Le,Ie)}function Te(C,D,ne,me,Le,Ie,Oe,He){td(C,D,Le,1,8,Ie,Oe,He),td(ne,me,Le,1,8,Ie,Oe,He)}function at(C,D,ne,me,Le,Ie,Oe,He){td(C,D,1,Le,8,Ie,Oe,He),td(ne,me,1,Le,8,Ie,Oe,He)}function pt(C,D,ne,me,Le,Ie,Oe,He){sd(C,D+4*Le,Le,1,8,Ie,Oe,He),sd(ne,me+4*Le,Le,1,8,Ie,Oe,He)}function Qt(C,D,ne,me,Le,Ie,Oe,He){sd(C,D+4,1,Le,8,Ie,Oe,He),sd(ne,me+4,1,Le,8,Ie,Oe,He)}function Cs(){this.ba=new wn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rs(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Sr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Er(){this.ua=0,this.Wa=new un,this.vb=new un,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new rs,this.yc=new xt}function pn(){this.xb=this.a=0,this.l=new Id,this.ca=new wn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new dt,this.Pb=0,this.wd=new dt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Er,this.ab=0,this.gc=ce(4,Sr),this.Oc=0}function jn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Id,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function na(C,D,ne,me,Le,Ie,Oe){for(C=C==null?0:C[D+0],D=0;D<Oe;++D)Le[Ie+D]=C+ne[me+D]&255,C=Le[Ie+D]}function Ua(C,D,ne,me,Le,Ie,Oe){var He;if(C==null)na(null,null,ne,me,Le,Ie,Oe);else for(He=0;He<Oe;++He)Le[Ie+He]=C[D+He]+ne[me+He]&255}function vi(C,D,ne,me,Le,Ie,Oe){if(C==null)na(null,null,ne,me,Le,Ie,Oe);else{var He,Ke=C[D+0],nt=Ke,Ct=Ke;for(He=0;He<Oe;++He)nt=Ct+(Ke=C[D+He])-nt,Ct=ne[me+He]+(-256&nt?0>nt?0:255:nt)&255,nt=Ke,Le[Ie+He]=Ct}}function Ba(C,D,ne,me){var Le=D.width,Ie=D.o;if(v(C!=null&&D!=null),0>ne||0>=me||ne+me>Ie)return null;if(!C.Cc){if(C.ga==null){var Oe;if(C.ga=new jn,(Oe=C.ga==null)||(Oe=D.width*D.o,v(C.Gb.length==0),C.Gb=V(Oe),C.Uc=0,C.Gb==null?Oe=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,Oe=1),Oe=!Oe),!Oe){Oe=C.ga;var He=C.Fa,Ke=C.P,nt=C.qc,Ct=C.mb,Wt=C.nb,st=Ke+1,Ft=nt-1,_t=Oe.l;if(v(He!=null&&Ct!=null&&D!=null),Nd[0]=null,Nd[1]=na,Nd[2]=Ua,Nd[3]=vi,Oe.ca=Ct,Oe.tb=Wt,Oe.c=D.width,Oe.i=D.height,v(0<Oe.c&&0<Oe.i),1>=nt)D=0;else if(Oe.$a=3&He[Ke+0],Oe.Z=He[Ke+0]>>2&3,Oe.Lc=He[Ke+0]>>4&3,Ke=He[Ke+0]>>6&3,0>Oe.$a||1<Oe.$a||4<=Oe.Z||1<Oe.Lc||Ke)D=0;else if(_t.put=on,_t.ac=Gl,_t.bc=ci,_t.ma=Oe,_t.width=D.width,_t.height=D.height,_t.Da=D.Da,_t.v=D.v,_t.va=D.va,_t.j=D.j,_t.o=D.o,Oe.$a)e:{v(Oe.$a==1),D=Xc();t:for(;;){if(D==null){D=0;break e}if(v(Oe!=null),Oe.mc=D,D.c=Oe.c,D.i=Oe.i,D.l=Oe.l,D.l.ma=Oe,D.l.width=Oe.c,D.l.height=Oe.i,D.a=0,ms(D.m,He,st,Ft),!ml(Oe.c,Oe.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&fl(D.s)?(Oe.ic=1,He=D.c*D.i,D.Ta=null,D.Ua=0,D.V=V(He),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(Oe.ic=0,D=Io(D,Oe.c)),!D))break t;D=1;break e}Oe.mc=null,D=0}else D=Ft>=Oe.c*Oe.i;Oe=!D}if(Oe)return null;C.ga.Lc!=1?C.Ga=0:me=Ie-ne}v(C.ga!=null),v(ne+me<=Ie);e:{if(D=(He=C.ga).c,Ie=He.l.o,He.$a==0){if(st=C.rc,Ft=C.Vc,_t=C.Fa,Ke=C.P+1+ne*D,nt=C.mb,Ct=C.nb+ne*D,v(Ke<=C.P+C.qc),He.Z!=0)for(v(Nd[He.Z]!=null),Oe=0;Oe<me;++Oe)Nd[He.Z](st,Ft,_t,Ke,nt,Ct,D),st=nt,Ft=Ct,Ct+=D,Ke+=D;else for(Oe=0;Oe<me;++Oe)I(nt,Ct,_t,Ke,D),st=nt,Ft=Ct,Ct+=D,Ke+=D;C.rc=st,C.Vc=Ft}else{if(v(He.mc!=null),D=ne+me,v((Oe=He.mc)!=null),v(D<=Oe.i),Oe.C>=D)D=1;else if(He.ic||Qe(),He.ic){He=Oe.V,st=Oe.Ba,Ft=Oe.c;var ws=Oe.i,Zt=(_t=1,Ke=Oe.$/Ft,nt=Oe.$%Ft,Ct=Oe.m,Wt=Oe.s,Oe.$),js=Ft*ws,Bs=Ft*D,$s=Wt.wc,Qs=Zt<Bs?di(Wt,nt,Ke):null;v(Zt<=js),v(D<=ws),v(fl(Wt));t:for(;;){for(;!Ct.h&&Zt<Bs;){if(nt&$s||(Qs=di(Wt,nt,Ke)),v(Qs!=null),Yt(Ct),256>(ws=Ra(Qs.G[0],Qs.H[0],Ct)))He[st+Zt]=ws,++Zt,++nt>=Ft&&(nt=0,++Ke<=D&&!(Ke%16)&&Ul(Oe,Ke));else{if(!(280>ws)){_t=0;break t}ws=tl(ws-256,Ct);var zr,jr=Ra(Qs.G[4],Qs.H[4],Ct);if(Yt(Ct),!(Zt>=(jr=Mo(Ft,jr=tl(jr,Ct)))&&js-Zt>=ws)){_t=0;break t}for(zr=0;zr<ws;++zr)He[st+Zt+zr]=He[st+Zt+zr-jr];for(Zt+=ws,nt+=ws;nt>=Ft;)nt-=Ft,++Ke<=D&&!(Ke%16)&&Ul(Oe,Ke);Zt<Bs&&nt&$s&&(Qs=di(Wt,nt,Ke))}v(Ct.h==Ot(Ct))}Ul(Oe,Ke>D?D:Ke);break t}!_t||Ct.h&&Zt<js?(_t=0,Oe.a=Ct.h?5:3):Oe.$=Zt,D=_t}else D=Oo(Oe,Oe.V,Oe.Ba,Oe.c,Oe.i,D,Fc);if(!D){me=0;break e}}ne+me>=Ie&&(C.Cc=1),me=1}if(!me)return null;if(C.Cc&&((me=C.ga)!=null&&(me.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+ne*Le}function Ti(C,D,ne,me,Le,Ie){for(;0<Le--;){var Oe,He=C,Ke=D+(ne?1:0),nt=C,Ct=D+(ne?0:3);for(Oe=0;Oe<me;++Oe){var Wt=nt[Ct+4*Oe];Wt!=255&&(Wt*=32897,He[Ke+4*Oe+0]=He[Ke+4*Oe+0]*Wt>>23,He[Ke+4*Oe+1]=He[Ke+4*Oe+1]*Wt>>23,He[Ke+4*Oe+2]=He[Ke+4*Oe+2]*Wt>>23)}D+=Ie}}function k(C,D,ne,me,Le){for(;0<me--;){var Ie;for(Ie=0;Ie<ne;++Ie){var Oe=C[D+2*Ie+0],He=15&(nt=C[D+2*Ie+1]),Ke=4369*He,nt=(240&nt|nt>>4)*Ke>>16;C[D+2*Ie+0]=(240&Oe|Oe>>4)*Ke>>16&240|(15&Oe|Oe<<4)*Ke>>16>>4&15,C[D+2*Ie+1]=240&nt|He}D+=Le}}function Be(C,D,ne,me,Le,Ie,Oe,He){var Ke,nt,Ct=255;for(nt=0;nt<Le;++nt){for(Ke=0;Ke<me;++Ke){var Wt=C[D+Ke];Ie[Oe+4*Ke]=Wt,Ct&=Wt}D+=ne,Oe+=He}return Ct!=255}function H(C,D,ne,me,Le){var Ie;for(Ie=0;Ie<Le;++Ie)ne[me+Ie]=C[D+Ie]>>8}function Qe(){Pd=Ti,uA=k,Pl=Be,Pc=H}function lt(C,D,ne){vt[C]=function(me,Le,Ie,Oe,He,Ke,nt,Ct,Wt,st,Ft,_t,ws,Zt,js,Bs,$s){var Qs,zr=$s-1>>1,jr=He[Ke+0]|nt[Ct+0]<<16,Rn=Wt[st+0]|Ft[_t+0]<<16;v(me!=null);var Pr=3*jr+Rn+131074>>2;for(D(me[Le+0],255&Pr,Pr>>16,ws,Zt),Ie!=null&&(Pr=3*Rn+jr+131074>>2,D(Ie[Oe+0],255&Pr,Pr>>16,js,Bs)),Qs=1;Qs<=zr;++Qs){var ca=He[Ke+Qs]|nt[Ct+Qs]<<16,ro=Wt[st+Qs]|Ft[_t+Qs]<<16,Fn=jr+ca+Rn+ro+524296,Dr=Fn+2*(ca+Rn)>>3;Pr=Dr+jr>>1,jr=(Fn=Fn+2*(jr+ro)>>3)+ca>>1,D(me[Le+2*Qs-1],255&Pr,Pr>>16,ws,Zt+(2*Qs-1)*ne),D(me[Le+2*Qs-0],255&jr,jr>>16,ws,Zt+(2*Qs-0)*ne),Ie!=null&&(Pr=Fn+Rn>>1,jr=Dr+ro>>1,D(Ie[Oe+2*Qs-1],255&Pr,Pr>>16,js,Bs+(2*Qs-1)*ne),D(Ie[Oe+2*Qs+0],255&jr,jr>>16,js,Bs+(2*Qs+0)*ne)),jr=ca,Rn=ro}1&$s||(Pr=3*jr+Rn+131074>>2,D(me[Le+$s-1],255&Pr,Pr>>16,ws,Zt+($s-1)*ne),Ie!=null&&(Pr=3*Rn+jr+131074>>2,D(Ie[Oe+$s-1],255&Pr,Pr>>16,js,Bs+($s-1)*ne)))}}function it(){kc[wu]=Ru,kc[fA]=eh,kc[KA]=Yh,kc[Iu]=Mf,kc[so]=Of,kc[eu]=th,kc[GA]=kd,kc[WA]=eh,kc[pA]=Mf,kc[ju]=Of,kc[YA]=th}function Xt(C){return C&-16384?0>C?0:255:C>>bA}function Lt(C,D){return Xt((19077*C>>8)+(26149*D>>8)-14234)}function mr(C,D,ne){return Xt((19077*C>>8)-(6419*D>>8)-(13320*ne>>8)+8708)}function jt(C,D){return Xt((19077*C>>8)+(33050*D>>8)-17685)}function Jt(C,D,ne,me,Le){me[Le+0]=Lt(C,ne),me[Le+1]=mr(C,D,ne),me[Le+2]=jt(C,D)}function mn(C,D,ne,me,Le){me[Le+0]=jt(C,D),me[Le+1]=mr(C,D,ne),me[Le+2]=Lt(C,ne)}function ar(C,D,ne,me,Le){var Ie=mr(C,D,ne);D=Ie<<3&224|jt(C,D)>>3,me[Le+0]=248&Lt(C,ne)|Ie>>5,me[Le+1]=D}function _s(C,D,ne,me,Le){var Ie=240&jt(C,D)|15;me[Le+0]=240&Lt(C,ne)|mr(C,D,ne)>>4,me[Le+1]=Ie}function vs(C,D,ne,me,Le){me[Le+0]=255,Jt(C,D,ne,me,Le+1)}function Ma(C,D,ne,me,Le){mn(C,D,ne,me,Le),me[Le+3]=255}function hn(C,D,ne,me,Le){Jt(C,D,ne,me,Le),me[Le+3]=255}function Gr(C,D,ne){vt[C]=function(me,Le,Ie,Oe,He,Ke,nt,Ct,Wt){for(var st=Ct+(-2&Wt)*ne;Ct!=st;)D(me[Le+0],Ie[Oe+0],He[Ke+0],nt,Ct),D(me[Le+1],Ie[Oe+0],He[Ke+0],nt,Ct+ne),Le+=2,++Oe,++Ke,Ct+=2*ne;1&Wt&&D(me[Le+0],Ie[Oe+0],He[Ke+0],nt,Ct)}}function cn(C,D,ne){return ne==0?C==0?D==0?6:5:D==0?4:0:ne}function Sn(C,D,ne,me,Le){switch(C>>>30){case 3:wc(D,ne,me,Le,0);break;case 2:Ho(D,ne,me,Le);break;case 1:ia(D,ne,me,Le)}}function sr(C,D){var ne,me,Le=D.M,Ie=D.Nb,Oe=C.oc,He=C.pc+40,Ke=C.oc,nt=C.pc+584,Ct=C.oc,Wt=C.pc+600;for(ne=0;16>ne;++ne)Oe[He+32*ne-1]=129;for(ne=0;8>ne;++ne)Ke[nt+32*ne-1]=129,Ct[Wt+32*ne-1]=129;for(0<Le?Oe[He-1-32]=Ke[nt-1-32]=Ct[Wt-1-32]=129:(R(Oe,He-32-1,127,21),R(Ke,nt-32-1,127,9),R(Ct,Wt-32-1,127,9)),me=0;me<C.za;++me){var st=D.ya[D.aa+me];if(0<me){for(ne=-1;16>ne;++ne)I(Oe,He+32*ne-4,Oe,He+32*ne+12,4);for(ne=-1;8>ne;++ne)I(Ke,nt+32*ne-4,Ke,nt+32*ne+4,4),I(Ct,Wt+32*ne-4,Ct,Wt+32*ne+4,4)}var Ft=C.Gd,_t=C.Hd+me,ws=st.ad,Zt=st.Hc;if(0<Le&&(I(Oe,He-32,Ft[_t].y,0,16),I(Ke,nt-32,Ft[_t].f,0,8),I(Ct,Wt-32,Ft[_t].ea,0,8)),st.Za){var js=Oe,Bs=He-32+16;for(0<Le&&(me>=C.za-1?R(js,Bs,Ft[_t].y[15],4):I(js,Bs,Ft[_t+1].y,0,4)),ne=0;4>ne;ne++)js[Bs+128+ne]=js[Bs+256+ne]=js[Bs+384+ne]=js[Bs+0+ne];for(ne=0;16>ne;++ne,Zt<<=2)js=Oe,Bs=He+Rd[ne],Nc[st.Ob[ne]](js,Bs),Sn(Zt,ws,16*+ne,js,Bs)}else if(js=cn(me,Le,st.Ob[0]),jd[js](Oe,He),Zt!=0)for(ne=0;16>ne;++ne,Zt<<=2)Sn(Zt,ws,16*+ne,Oe,He+Rd[ne]);for(ne=st.Gc,js=cn(me,Le,st.Dd),Rc[js](Ke,nt),Rc[js](Ct,Wt),Zt=ws,js=Ke,Bs=nt,255&(st=0|ne)&&(170&st?sc(Zt,256,js,Bs):za(Zt,256,js,Bs)),st=Ct,Zt=Wt,255&(ne>>=8)&&(170&ne?sc(ws,320,st,Zt):za(ws,320,st,Zt)),Le<C.Ub-1&&(I(Ft[_t].y,0,Oe,He+480,16),I(Ft[_t].f,0,Ke,nt+224,8),I(Ft[_t].ea,0,Ct,Wt+224,8)),ne=8*Ie*C.B,Ft=C.sa,_t=C.ta+16*me+16*Ie*C.R,ws=C.qa,st=C.ra+8*me+ne,Zt=C.Ha,js=C.Ia+8*me+ne,ne=0;16>ne;++ne)I(Ft,_t+ne*C.R,Oe,He+32*ne,16);for(ne=0;8>ne;++ne)I(ws,st+ne*C.B,Ke,nt+32*ne,8),I(Zt,js+ne*C.B,Ct,Wt+32*ne,8)}}function En(C,D,ne,me,Le,Ie,Oe,He,Ke){var nt=[0],Ct=[0],Wt=0,st=Ke!=null?Ke.kd:0,Ft=Ke??new Rs;if(C==null||12>ne)return 7;Ft.data=C,Ft.w=D,Ft.ha=ne,D=[D],ne=[ne],Ft.gb=[Ft.gb];e:{var _t=D,ws=ne,Zt=Ft.gb;if(v(C!=null),v(ws!=null),v(Zt!=null),Zt[0]=0,12<=ws[0]&&!S(C,_t[0],"RIFF")){if(S(C,_t[0]+8,"WEBP")){Zt=3;break e}var js=Yr(C,_t[0]+4);if(12>js||4294967286<js){Zt=3;break e}if(st&&js>ws[0]-8){Zt=7;break e}Zt[0]=js,_t[0]+=12,ws[0]-=12}Zt=0}if(Zt!=0)return Zt;for(js=0<Ft.gb[0],ne=ne[0];;){e:{var Bs=C;ws=D,Zt=ne;var $s=nt,Qs=Ct,zr=_t=[0];if((Pr=Wt=[Wt])[0]=0,8>Zt[0])Zt=7;else{if(!S(Bs,ws[0],"VP8X")){if(Yr(Bs,ws[0]+4)!=10){Zt=3;break e}if(18>Zt[0]){Zt=7;break e}var jr=Yr(Bs,ws[0]+8),Rn=1+gr(Bs,ws[0]+12);if(2147483648<=Rn*(Bs=1+gr(Bs,ws[0]+15))){Zt=3;break e}zr!=null&&(zr[0]=jr),$s!=null&&($s[0]=Rn),Qs!=null&&(Qs[0]=Bs),ws[0]+=18,Zt[0]-=18,Pr[0]=1}Zt=0}}if(Wt=Wt[0],_t=_t[0],Zt!=0)return Zt;if(ws=!!(2&_t),!js&&Wt)return 3;if(Ie!=null&&(Ie[0]=!!(16&_t)),Oe!=null&&(Oe[0]=ws),He!=null&&(He[0]=0),Oe=nt[0],_t=Ct[0],Wt&&ws&&Ke==null){Zt=0;break}if(4>ne){Zt=7;break}if(js&&Wt||!js&&!Wt&&!S(C,D[0],"ALPH")){ne=[ne],Ft.na=[Ft.na],Ft.P=[Ft.P],Ft.Sa=[Ft.Sa];e:{jr=C,Zt=D,js=ne;var Pr=Ft.gb;$s=Ft.na,Qs=Ft.P,zr=Ft.Sa,Rn=22,v(jr!=null),v(js!=null),Bs=Zt[0];var ca=js[0];for(v($s!=null),v(zr!=null),$s[0]=null,Qs[0]=null,zr[0]=0;;){if(Zt[0]=Bs,js[0]=ca,8>ca){Zt=7;break e}var ro=Yr(jr,Bs+4);if(4294967286<ro){Zt=3;break e}var Fn=8+ro+1&-2;if(Rn+=Fn,0<Pr&&Rn>Pr){Zt=3;break e}if(!S(jr,Bs,"VP8 ")||!S(jr,Bs,"VP8L")){Zt=0;break e}if(ca[0]<Fn){Zt=7;break e}S(jr,Bs,"ALPH")||($s[0]=jr,Qs[0]=Bs+8,zr[0]=ro),Bs+=Fn,ca-=Fn}}if(ne=ne[0],Ft.na=Ft.na[0],Ft.P=Ft.P[0],Ft.Sa=Ft.Sa[0],Zt!=0)break}ne=[ne],Ft.Ja=[Ft.Ja],Ft.xa=[Ft.xa];e:if(Pr=C,Zt=D,js=ne,$s=Ft.gb[0],Qs=Ft.Ja,zr=Ft.xa,jr=Zt[0],Bs=!S(Pr,jr,"VP8 "),Rn=!S(Pr,jr,"VP8L"),v(Pr!=null),v(js!=null),v(Qs!=null),v(zr!=null),8>js[0])Zt=7;else{if(Bs||Rn){if(Pr=Yr(Pr,jr+4),12<=$s&&Pr>$s-12){Zt=3;break e}if(st&&Pr>js[0]-8){Zt=7;break e}Qs[0]=Pr,Zt[0]+=8,js[0]-=8,zr[0]=Rn}else zr[0]=5<=js[0]&&Pr[jr+0]==47&&!(Pr[jr+4]>>5),Qs[0]=js[0];Zt=0}if(ne=ne[0],Ft.Ja=Ft.Ja[0],Ft.xa=Ft.xa[0],D=D[0],Zt!=0)break;if(4294967286<Ft.Ja)return 3;if(He==null||ws||(He[0]=Ft.xa?2:1),Oe=[Oe],_t=[_t],Ft.xa){if(5>ne){Zt=7;break}He=Oe,st=_t,ws=Ie,C==null||5>ne?C=0:5<=ne&&C[D+0]==47&&!(C[D+4]>>5)?(js=[0],Pr=[0],$s=[0],ms(Qs=new dt,C,D,ne),gi(Qs,js,Pr,$s)?(He!=null&&(He[0]=js[0]),st!=null&&(st[0]=Pr[0]),ws!=null&&(ws[0]=$s[0]),C=1):C=0):C=0}else{if(10>ne){Zt=7;break}He=_t,C==null||10>ne||!Ol(C,D+3,ne-3)?C=0:(st=C[D+0]|C[D+1]<<8|C[D+2]<<16,ws=16383&(C[D+7]<<8|C[D+6]),C=16383&(C[D+9]<<8|C[D+8]),1&st||3<(st>>1&7)||!(st>>4&1)||st>>5>=Ft.Ja||!ws||!C?C=0:(Oe&&(Oe[0]=ws),He&&(He[0]=C),C=1))}if(!C||(Oe=Oe[0],_t=_t[0],Wt&&(nt[0]!=Oe||Ct[0]!=_t)))return 3;Ke!=null&&(Ke[0]=Ft,Ke.offset=D-Ke.w,v(4294967286>D-Ke.w),v(Ke.offset==Ke.ha-ne));break}return Zt==0||Zt==7&&Wt&&Ke==null?(Ie!=null&&(Ie[0]|=Ft.na!=null&&0<Ft.na.length),me!=null&&(me[0]=Oe),Le!=null&&(Le[0]=_t),0):Zt}function Oa(C,D,ne){var me=D.width,Le=D.height,Ie=0,Oe=0,He=me,Ke=Le;if(D.Da=C!=null&&0<C.Da,D.Da&&(He=C.cd,Ke=C.bd,Ie=C.v,Oe=C.j,11>ne||(Ie&=-2,Oe&=-2),0>Ie||0>Oe||0>=He||0>=Ke||Ie+He>me||Oe+Ke>Le))return 0;if(D.v=Ie,D.j=Oe,D.va=Ie+He,D.o=Oe+Ke,D.U=He,D.T=Ke,D.da=C!=null&&0<C.da,D.da){if(!nr(He,Ke,ne=[C.ib],Ie=[C.hb]))return 0;D.ib=ne[0],D.hb=Ie[0]}return D.ob=C!=null&&C.ob,D.Kb=C==null||!C.Sd,D.da&&(D.ob=D.ib<3*me/4&&D.hb<3*Le/4,D.Kb=0),1}function Hr(C){if(C==null)return 2;if(11>C.S){var D=C.f.RGBA;D.fb+=(C.height-1)*D.A,D.A=-D.A}else D=C.f.kb,C=C.height,D.O+=(C-1)*D.fa,D.fa=-D.fa,D.N+=(C-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(C-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(C-1)*D.lb,D.lb=-D.lb);return 0}function aa(C,D,ne,me){if(me==null||0>=C||0>=D)return 2;if(ne!=null){if(ne.Da){var Le=ne.cd,Ie=ne.bd,Oe=-2&ne.v,He=-2&ne.j;if(0>Oe||0>He||0>=Le||0>=Ie||Oe+Le>C||He+Ie>D)return 2;C=Le,D=Ie}if(ne.da){if(!nr(C,D,Le=[ne.ib],Ie=[ne.hb]))return 2;C=Le[0],D=Ie[0]}}me.width=C,me.height=D;e:{var Ke=me.width,nt=me.height;if(C=me.S,0>=Ke||0>=nt||!(C>=wu&&13>C))C=2;else{if(0>=me.Rd&&me.sd==null){Oe=Ie=Le=D=0;var Ct=(He=Ke*_u[C])*nt;if(11>C||(Ie=(nt+1)/2*(D=(Ke+1)/2),C==12&&(Oe=(Le=Ke)*nt)),(nt=V(Ct+2*Ie+Oe))==null){C=1;break e}me.sd=nt,11>C?((Ke=me.f.RGBA).eb=nt,Ke.fb=0,Ke.A=He,Ke.size=Ct):((Ke=me.f.kb).y=nt,Ke.O=0,Ke.fa=He,Ke.Fd=Ct,Ke.f=nt,Ke.N=0+Ct,Ke.Ab=D,Ke.Cd=Ie,Ke.ea=nt,Ke.W=0+Ct+Ie,Ke.Db=D,Ke.Ed=Ie,C==12&&(Ke.F=nt,Ke.J=0+Ct+2*Ie),Ke.Tc=Oe,Ke.lb=Le)}if(D=1,Le=me.S,Ie=me.width,Oe=me.height,Le>=wu&&13>Le)if(11>Le)C=me.f.RGBA,D&=(He=Math.abs(C.A))*(Oe-1)+Ie<=C.size,D&=He>=Ie*_u[Le],D&=C.eb!=null;else{C=me.f.kb,He=(Ie+1)/2,Ct=(Oe+1)/2,Ke=Math.abs(C.fa),nt=Math.abs(C.Ab);var Wt=Math.abs(C.Db),st=Math.abs(C.lb),Ft=st*(Oe-1)+Ie;D&=Ke*(Oe-1)+Ie<=C.Fd,D&=nt*(Ct-1)+He<=C.Cd,D=(D&=Wt*(Ct-1)+He<=C.Ed)&Ke>=Ie&nt>=He&Wt>=He,D&=C.y!=null,D&=C.f!=null,D&=C.ea!=null,Le==12&&(D&=st>=Ie,D&=Ft<=C.Tc,D&=C.F!=null)}else D=0;C=D?0:2}}return C!=0||ne!=null&&ne.fd&&(C=Hr(me)),C}var Dn=64,Tr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ln=24,vo=32,ec=8,wl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];yr("Predictor0","PredictorAdd0"),vt.Predictor0=function(){return 4278190080},vt.Predictor1=function(C){return C},vt.Predictor2=function(C,D,ne){return D[ne+0]},vt.Predictor3=function(C,D,ne){return D[ne+1]},vt.Predictor4=function(C,D,ne){return D[ne-1]},vt.Predictor5=function(C,D,ne){return Or(Or(C,D[ne+1]),D[ne+0])},vt.Predictor6=function(C,D,ne){return Or(C,D[ne-1])},vt.Predictor7=function(C,D,ne){return Or(C,D[ne+0])},vt.Predictor8=function(C,D,ne){return Or(D[ne-1],D[ne+0])},vt.Predictor9=function(C,D,ne){return Or(D[ne+0],D[ne+1])},vt.Predictor10=function(C,D,ne){return Or(Or(C,D[ne-1]),Or(D[ne+0],D[ne+1]))},vt.Predictor11=function(C,D,ne){var me=D[ne+0];return 0>=Cr(me>>24&255,C>>24&255,(D=D[ne-1])>>24&255)+Cr(me>>16&255,C>>16&255,D>>16&255)+Cr(me>>8&255,C>>8&255,D>>8&255)+Cr(255&me,255&C,255&D)?me:C},vt.Predictor12=function(C,D,ne){var me=D[ne+0];return(Ca((C>>24&255)+(me>>24&255)-((D=D[ne-1])>>24&255))<<24|Ca((C>>16&255)+(me>>16&255)-(D>>16&255))<<16|Ca((C>>8&255)+(me>>8&255)-(D>>8&255))<<8|Ca((255&C)+(255&me)-(255&D)))>>>0},vt.Predictor13=function(C,D,ne){var me=D[ne-1];return(Cn((C=Or(C,D[ne+0]))>>24&255,me>>24&255)<<24|Cn(C>>16&255,me>>16&255)<<16|Cn(C>>8&255,me>>8&255)<<8|Cn(255&C,255&me))>>>0};var Xi=vt.PredictorAdd0;vt.PredictorAdd1=_n,yr("Predictor2","PredictorAdd2"),yr("Predictor3","PredictorAdd3"),yr("Predictor4","PredictorAdd4"),yr("Predictor5","PredictorAdd5"),yr("Predictor6","PredictorAdd6"),yr("Predictor7","PredictorAdd7"),yr("Predictor8","PredictorAdd8"),yr("Predictor9","PredictorAdd9"),yr("Predictor10","PredictorAdd10"),yr("Predictor11","PredictorAdd11"),yr("Predictor12","PredictorAdd12"),yr("Predictor13","PredictorAdd13");var yo=vt.PredictorAdd2;Ir("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Ir("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var Ya,Mu=vt.ColorIndexInverseTransform,nd=vt.MapARGB,ol=vt.VP8LColorIndexInverseTransformAlpha,ll=vt.MapAlpha,yi=vt.VP8LPredictorsAdd=[];yi.length=16,(vt.VP8LPredictors=[]).length=16,(vt.VP8LPredictorsAdd_C=[]).length=16,(vt.VP8LPredictors_C=[]).length=16;var qd,yc,vn,pa,ni,wd,tc,wc,Ho,sc,ia,za,Pn,Ji,ad,yu,Dd,Ou,oA,lA,cA,cl,Li,dA,Pd,uA,Pl,Pc,AA=V(511),zA=V(2041),$A=V(225),zh=V(767),$h=0,VA=zA,hA=$A,rc=zh,jc=AA,wu=0,fA=1,KA=2,Iu=3,so=4,eu=5,GA=6,WA=7,pA=8,ju=9,YA=10,Ef=[2,3,7],jp=[3,3,11],Vh=[280,256,256,256,40],Du=[0,1,1,1,0],Tf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],XA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],JA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kh=8,Pu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ZA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nu=null,qA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ff=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],jd=[],Nc=[],Rc=[],Uf=1,xA=2,Nd=[],kc=[];lt("UpsampleRgbLinePair",Jt,3),lt("UpsampleBgrLinePair",mn,3),lt("UpsampleRgbaLinePair",hn,4),lt("UpsampleBgraLinePair",Ma,4),lt("UpsampleArgbLinePair",vs,4),lt("UpsampleRgba4444LinePair",_s,2),lt("UpsampleRgb565LinePair",ar,2);var Ru=vt.UpsampleRgbLinePair,Yh=vt.UpsampleBgrLinePair,eh=vt.UpsampleRgbaLinePair,Mf=vt.UpsampleBgraLinePair,Of=vt.UpsampleArgbLinePair,th=vt.UpsampleRgba4444LinePair,kd=vt.UpsampleRgb565LinePair,tu=16,Cd=1<<tu-1,Qu=-227,sh=482,bA=6,Xh=0,rh=V(256),nh=V(256),ah=V(256),ih=V(256),oh=V(sh-Qu),Jh=V(sh-Qu);Gr("YuvToRgbRow",Jt,3),Gr("YuvToBgrRow",mn,3),Gr("YuvToRgbaRow",hn,4),Gr("YuvToBgraRow",Ma,4),Gr("YuvToArgbRow",vs,4),Gr("YuvToRgba4444Row",_s,2),Gr("YuvToRgb565Row",ar,2);var Rd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vA=[0,2,8],yA=[8,7,6,4,4,2,2,2,1,1,1,1],wA=1;this.WebPDecodeRGBA=function(C,D,ne,me,Le){var Ie=fA,Oe=new Cs,He=new wn;Oe.ba=He,He.S=Ie,He.width=[He.width],He.height=[He.height];var Ke=He.width,nt=He.height,Ct=new or;if(Ct==null||C==null)var Wt=2;else v(Ct!=null),Wt=En(C,D,ne,Ct.width,Ct.height,Ct.Pd,Ct.Qd,Ct.format,null);if(Wt!=0?Ke=0:(Ke!=null&&(Ke[0]=Ct.width[0]),nt!=null&&(nt[0]=Ct.height[0]),Ke=1),Ke){He.width=He.width[0],He.height=He.height[0],me!=null&&(me[0]=He.width),Le!=null&&(Le[0]=He.height);e:{if(me=new Id,(Le=new Rs).data=C,Le.w=D,Le.ha=ne,Le.kd=1,D=[0],v(Le!=null),((C=En(Le.data,Le.w,Le.ha,null,null,null,D,null,Le))==0||C==7)&&D[0]&&(C=4),(D=C)==0){if(v(Oe!=null),me.data=Le.data,me.w=Le.w+Le.offset,me.ha=Le.ha-Le.offset,me.put=on,me.ac=Gl,me.bc=ci,me.ma=Oe,Le.xa){if((C=Xc())==null){Oe=1;break e}if((function(st,Ft){var _t=[0],ws=[0],Zt=[0];t:for(;;){if(st==null)return 0;if(Ft==null)return st.a=2,0;if(st.l=Ft,st.a=0,ms(st.m,Ft.data,Ft.w,Ft.ha),!gi(st.m,_t,ws,Zt)){st.a=3;break t}if(st.xb=xA,Ft.width=_t[0],Ft.height=ws[0],!ml(_t[0],ws[0],1,st,null))break t;return 1}return v(st.a!=0),0})(C,me)){if(me=(D=aa(me.width,me.height,Oe.Oa,Oe.ba))==0){t:{me=C;s:for(;;){if(me==null){me=0;break t}if(v(me.s.yc!=null),v(me.s.Ya!=null),v(0<me.s.Wb),v((ne=me.l)!=null),v((Le=ne.ma)!=null),me.xb!=0){if(me.ca=Le.ba,me.tb=Le.tb,v(me.ca!=null),!Oa(Le.Oa,ne,Iu)){me.a=2;break s}if(!Io(me,ne.width)||ne.da)break s;if((ne.da||fn(me.ca.S))&&Qe(),11>me.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),me.ca.f.kb.F!=null&&Qe()),me.Pb&&0<me.s.ua&&me.s.vb.X==null&&!tt(me.s.vb,me.s.Wa.Xa)){me.a=1;break s}me.xb=0}if(!Oo(me,me.V,me.Ba,me.c,me.i,ne.o,Ri))break s;Le.Dc=me.Ma,me=1;break t}v(me.a!=0),me=0}me=!me}me&&(D=C.a)}else D=C.a}else{if((C=new Po)==null){Oe=1;break e}if(C.Fa=Le.na,C.P=Le.P,C.qc=Le.Sa,Yl(C,me)){if((D=aa(me.width,me.height,Oe.Oa,Oe.ba))==0){if(C.Aa=0,ne=Oe.Oa,v((Le=C)!=null),ne!=null){if(0<(Ke=0>(Ke=ne.Md)?0:100<Ke?255:255*Ke/100)){for(nt=Ct=0;4>nt;++nt)12>(Wt=Le.pb[nt]).lc&&(Wt.ia=Ke*yA[0>Wt.lc?0:Wt.lc]>>3),Ct|=Wt.ia;Ct&&(alert("todo:VP8InitRandom"),Le.ia=1)}Le.Ga=ne.Id,100<Le.Ga?Le.Ga=100:0>Le.Ga&&(Le.Ga=0)}(function(st,Ft){if(st==null)return 0;if(Ft==null)return An(st,2,"NULL VP8Io parameter in VP8Decode().");if(!st.cb&&!Yl(st,Ft))return 0;if(v(st.cb),Ft.ac==null||Ft.ac(Ft)){Ft.ob&&(st.L=0);var _t=vA[st.L];if(st.L==2?(st.yb=0,st.zb=0):(st.yb=Ft.v-_t>>4,st.zb=Ft.j-_t>>4,0>st.yb&&(st.yb=0),0>st.zb&&(st.zb=0)),st.Va=Ft.o+15+_t>>4,st.Hb=Ft.va+15+_t>>4,st.Hb>st.za&&(st.Hb=st.za),st.Va>st.Ub&&(st.Va=st.Ub),0<st.L){var ws=st.ed;for(_t=0;4>_t;++_t){var Zt;if(st.Qa.Cb){var js=st.Qa.Lb[_t];st.Qa.Fb||(js+=ws.Tb)}else js=ws.Tb;for(Zt=0;1>=Zt;++Zt){var Bs=st.gd[_t][Zt],$s=js;if(ws.Pc&&($s+=ws.vd[0],Zt&&($s+=ws.od[0])),0<($s=0>$s?0:63<$s?63:$s)){var Qs=$s;0<ws.wb&&(Qs=4<ws.wb?Qs>>2:Qs>>1)>9-ws.wb&&(Qs=9-ws.wb),1>Qs&&(Qs=1),Bs.dd=Qs,Bs.tc=2*$s+Qs,Bs.ld=40<=$s?2:15<=$s?1:0}else Bs.tc=0;Bs.La=Zt}}}_t=0}else An(st,6,"Frame setup failed"),_t=st.a;if(_t=_t==0){if(_t){st.$c=0,0<st.Aa||(st.Ic=wA);t:{_t=st.Ic,ws=4*(Qs=st.za);var zr=32*Qs,jr=Qs+1,Rn=0<st.L?Qs*(0<st.Aa?2:1):0,Pr=(st.Aa==2?2:1)*Qs;if((Bs=ws+832+(Zt=3*(16*_t+vA[st.L])/2*zr)+(js=st.Fa!=null&&0<st.Fa.length?st.Kc.c*st.Kc.i:0))!=Bs)_t=0;else{if(Bs>st.Vb){if(st.Vb=0,st.Ec=V(Bs),st.Fc=0,st.Ec==null){_t=An(st,1,"no memory during frame initialization.");break t}st.Vb=Bs}Bs=st.Ec,$s=st.Fc,st.Ac=Bs,st.Bc=$s,$s+=ws,st.Gd=ce(zr,Jd),st.Hd=0,st.rb=ce(jr+1,xc),st.sb=1,st.wa=Rn?ce(Rn,go):null,st.Y=0,st.D.Nb=0,st.D.wa=st.wa,st.D.Y=st.Y,0<st.Aa&&(st.D.Y+=Qs),v(!0),st.oc=Bs,st.pc=$s,$s+=832,st.ya=ce(Pr,Ad),st.aa=0,st.D.ya=st.ya,st.D.aa=st.aa,st.Aa==2&&(st.D.aa+=Qs),st.R=16*Qs,st.B=8*Qs,Qs=(zr=vA[st.L])*st.R,zr=zr/2*st.B,st.sa=Bs,st.ta=$s+Qs,st.qa=st.sa,st.ra=st.ta+16*_t*st.R+zr,st.Ha=st.qa,st.Ia=st.ra+8*_t*st.B+zr,st.$c=0,$s+=Zt,st.mb=js?Bs:null,st.nb=js?$s:null,v($s+js<=st.Fc+st.Vb),Oc(st),R(st.Ac,st.Bc,0,ws),_t=1}}if(_t){if(Ft.ka=0,Ft.y=st.sa,Ft.O=st.ta,Ft.f=st.qa,Ft.N=st.ra,Ft.ea=st.Ha,Ft.Vd=st.Ia,Ft.fa=st.R,Ft.Rc=st.B,Ft.F=null,Ft.J=0,!$h){for(_t=-255;255>=_t;++_t)AA[255+_t]=0>_t?-_t:_t;for(_t=-1020;1020>=_t;++_t)zA[1020+_t]=-128>_t?-128:127<_t?127:_t;for(_t=-112;112>=_t;++_t)$A[112+_t]=-16>_t?-16:15<_t?15:_t;for(_t=-255;510>=_t;++_t)zh[255+_t]=0>_t?0:255<_t?255:_t;$h=1}tc=bo,wc=Zc,sc=Ro,ia=pd,za=Zl,Ho=Wi,Pn=bi,Ji=rd,ad=Te,yu=at,Dd=yd,Ou=Z,oA=pt,lA=Qt,cA=ri,cl=vd,Li=vu,dA=Uu,Nc[0]=gd,Nc[1]=ql,Nc[2]=Ic,Nc[3]=bl,Nc[4]=Qo,Nc[5]=bu,Nc[6]=Dc,Nc[7]=xd,Nc[8]=qc,Nc[9]=Yi,jd[0]=xu,jd[1]=rl,jd[2]=xl,jd[3]=gu,jd[4]=md,jd[5]=Qi,jd[6]=Ha,Rc[0]=bc,Rc[1]=gl,Rc[2]=vl,Rc[3]=Zd,Rc[4]=al,Rc[5]=_o,Rc[6]=bd,_t=1}else _t=0}_t&&(_t=(function(ca,ro){for(ca.M=0;ca.M<ca.Va;++ca.M){var Fn,Dr=ca.Jc[ca.M&ca.Xb],ur=ca.m,_i=ca;for(Fn=0;Fn<_i.za;++Fn){var Un=ur,Hn=_i,ai=Hn.Ac,wo=Hn.Bc+4*Fn,zo=Hn.zc,Ia=Hn.ya[Hn.aa+Fn];if(Hn.Qa.Bb?Ia.$b=Us(Un,Hn.Pa.jb[0])?2+Us(Un,Hn.Pa.jb[2]):Us(Un,Hn.Pa.jb[1]):Ia.$b=0,Hn.kc&&(Ia.Ad=Us(Un,Hn.Bd)),Ia.Za=!Us(Un,145)+0,Ia.Za){var $o=Ia.Ob,jl=0;for(Hn=0;4>Hn;++Hn){var Hi,oa=zo[0+Hn];for(Hi=0;4>Hi;++Hi){oa=Wh[ai[wo+Hi]][oa];for(var dn=Gh[Us(Un,oa[0])];0<dn;)dn=Gh[2*dn+Us(Un,oa[dn])];oa=-dn,ai[wo+Hi]=oa}I($o,jl,ai,wo,4),jl+=4,zo[0+Hn]=oa}}else oa=Us(Un,156)?Us(Un,128)?1:3:Us(Un,163)?2:0,Ia.Ob[0]=oa,R(ai,wo,oa,4),R(zo,0,oa,4);Ia.Dd=Us(Un,142)?Us(Un,114)?Us(Un,183)?1:3:2:0}if(_i.m.Ka)return An(ca,7,"Premature end-of-partition0 encountered.");for(;ca.ja<ca.za;++ca.ja){if(_i=Dr,Un=(ur=ca).rb[ur.sb-1],ai=ur.rb[ur.sb+ur.ja],Fn=ur.ya[ur.aa+ur.ja],wo=ur.kc?Fn.Ad:0)Un.la=ai.la=0,Fn.Za||(Un.Na=ai.Na=0),Fn.Hc=0,Fn.Gc=0,Fn.ia=0;else{var Zi,$a;if(Un=ai,ai=_i,wo=ur.Pa.Xc,zo=ur.ya[ur.aa+ur.ja],Ia=ur.pb[zo.$b],Hn=zo.ad,$o=0,jl=ur.rb[ur.sb-1],oa=Hi=0,R(Hn,$o,0,384),zo.Za)var Vo=0,dl=wo[3];else{dn=V(16);var Xa=Un.Na+jl.Na;if(Xa=Nu(ai,wo[1],Xa,Ia.Eb,0,dn,0),Un.Na=jl.Na=(0<Xa)+0,1<Xa)tc(dn,0,Hn,$o);else{var ul=dn[0]+3>>3;for(dn=0;256>dn;dn+=16)Hn[$o+dn]=ul}Vo=1,dl=wo[0]}var Ja=15&Un.la,Ys=15&jl.la;for(dn=0;4>dn;++dn){var ii=1&Ys;for(ul=$a=0;4>ul;++ul)Ja=Ja>>1|(ii=(Xa=Nu(ai,dl,Xa=ii+(1&Ja),Ia.Sc,Vo,Hn,$o))>Vo)<<7,$a=$a<<2|(3<Xa?3:1<Xa?2:Hn[$o+0]!=0),$o+=16;Ja>>=4,Ys=Ys>>1|ii<<7,Hi=(Hi<<8|$a)>>>0}for(dl=Ja,Vo=Ys>>4,Zi=0;4>Zi;Zi+=2){for($a=0,Ja=Un.la>>4+Zi,Ys=jl.la>>4+Zi,dn=0;2>dn;++dn){for(ii=1&Ys,ul=0;2>ul;++ul)Xa=ii+(1&Ja),Ja=Ja>>1|(ii=0<(Xa=Nu(ai,wo[2],Xa,Ia.Qc,0,Hn,$o)))<<3,$a=$a<<2|(3<Xa?3:1<Xa?2:Hn[$o+0]!=0),$o+=16;Ja>>=2,Ys=Ys>>1|ii<<5}oa|=$a<<4*Zi,dl|=Ja<<4<<Zi,Vo|=(240&Ys)<<Zi}Un.la=dl,jl.la=Vo,zo.Hc=Hi,zo.Gc=oa,zo.ia=43690&oa?0:Ia.ia,wo=!(Hi|oa)}if(0<ur.L&&(ur.wa[ur.Y+ur.ja]=ur.gd[Fn.$b][Fn.Za],ur.wa[ur.Y+ur.ja].La|=!wo),_i.Ka)return An(ca,7,"Premature end-of-file encountered.")}if(Oc(ca),ur=ro,_i=1,Fn=(Dr=ca).D,Un=0<Dr.L&&Dr.M>=Dr.zb&&Dr.M<=Dr.Va,Dr.Aa==0)t:{if(Fn.M=Dr.M,Fn.uc=Un,sr(Dr,Fn),_i=1,Fn=($a=Dr.D).Nb,Un=(oa=vA[Dr.L])*Dr.R,ai=oa/2*Dr.B,dn=16*Fn*Dr.R,ul=8*Fn*Dr.B,wo=Dr.sa,zo=Dr.ta-Un+dn,Ia=Dr.qa,Hn=Dr.ra-ai+ul,$o=Dr.Ha,jl=Dr.Ia-ai+ul,Ys=(Ja=$a.M)==0,Hi=Ja>=Dr.Va-1,Dr.Aa==2&&sr(Dr,$a),$a.uc)for(ii=(Xa=Dr).D.M,v(Xa.D.uc),$a=Xa.yb;$a<Xa.Hb;++$a){Vo=$a,dl=ii;var jo=(ui=(Ko=Xa).D).Nb;Zi=Ko.R;var ui=ui.wa[ui.Y+Vo],nc=Ko.sa,Tn=Ko.ta+16*jo*Zi+16*Vo,ea=ui.dd,Sa=ui.tc;if(Sa!=0)if(v(3<=Sa),Ko.L==1)0<Vo&&cl(nc,Tn,Zi,Sa+4),ui.La&&dA(nc,Tn,Zi,Sa),0<dl&&cA(nc,Tn,Zi,Sa+4),ui.La&&Li(nc,Tn,Zi,Sa);else{var ac=Ko.B,qi=Ko.qa,Ai=Ko.ra+8*jo*ac+8*Vo,ic=Ko.Ha,Ko=Ko.Ia+8*jo*ac+8*Vo;jo=ui.ld,0<Vo&&(Ji(nc,Tn,Zi,Sa+4,ea,jo),yu(qi,Ai,ic,Ko,ac,Sa+4,ea,jo)),ui.La&&(Ou(nc,Tn,Zi,Sa,ea,jo),lA(qi,Ai,ic,Ko,ac,Sa,ea,jo)),0<dl&&(Pn(nc,Tn,Zi,Sa+4,ea,jo),ad(qi,Ai,ic,Ko,ac,Sa+4,ea,jo)),ui.La&&(Dd(nc,Tn,Zi,Sa,ea,jo),oA(qi,Ai,ic,Ko,ac,Sa,ea,jo))}}if(Dr.ia&&alert("todo:DitherRow"),ur.put!=null){if($a=16*Ja,Ja=16*(Ja+1),Ys?(ur.y=Dr.sa,ur.O=Dr.ta+dn,ur.f=Dr.qa,ur.N=Dr.ra+ul,ur.ea=Dr.Ha,ur.W=Dr.Ia+ul):($a-=oa,ur.y=wo,ur.O=zo,ur.f=Ia,ur.N=Hn,ur.ea=$o,ur.W=jl),Hi||(Ja-=oa),Ja>ur.o&&(Ja=ur.o),ur.F=null,ur.J=null,Dr.Fa!=null&&0<Dr.Fa.length&&$a<Ja&&(ur.J=Ba(Dr,ur,$a,Ja-$a),ur.F=Dr.mb,ur.F==null&&ur.F.length==0)){_i=An(Dr,3,"Could not decode alpha data.");break t}$a<ur.j&&(oa=ur.j-$a,$a=ur.j,v(!(1&oa)),ur.O+=Dr.R*oa,ur.N+=Dr.B*(oa>>1),ur.W+=Dr.B*(oa>>1),ur.F!=null&&(ur.J+=ur.width*oa)),$a<Ja&&(ur.O+=ur.v,ur.N+=ur.v>>1,ur.W+=ur.v>>1,ur.F!=null&&(ur.J+=ur.v),ur.ka=$a-ur.j,ur.U=ur.va-ur.v,ur.T=Ja-$a,_i=ur.put(ur))}Fn+1!=Dr.Ic||Hi||(I(Dr.sa,Dr.ta-Un,wo,zo+16*Dr.R,Un),I(Dr.qa,Dr.ra-ai,Ia,Hn+8*Dr.B,ai),I(Dr.Ha,Dr.Ia-ai,$o,jl+8*Dr.B,ai))}if(!_i)return An(ca,6,"Output aborted.")}return 1})(st,Ft)),Ft.bc!=null&&Ft.bc(Ft),_t&=1}return _t?(st.cb=0,_t):0})(C,me)||(D=C.a)}}else D=C.a}D==0&&Oe.Oa!=null&&Oe.Oa.fd&&(D=Hr(Oe.ba))}Oe=D}Ie=Oe!=0?null:11>Ie?He.f.RGBA.eb:He.f.kb.y}else Ie=null;return Ie};var _u=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function ke(vt,es){for(var Xe="",rt=0;rt<4;rt++)Xe+=String.fromCharCode(vt[es++]);return Xe}function Me(vt,es){return vt[es+0]|vt[es+1]<<8}function $e(vt,es){return(vt[es+0]|vt[es+1]<<8|vt[es+2]<<16)>>>0}function Je(vt,es){return(vt[es+0]|vt[es+1]<<8|vt[es+2]<<16|vt[es+3]<<24)>>>0}new ee;var xe=[0],ct=[0],ot=[],At=new ee,Ye=N,yt=(function(vt,es){var Xe={},rt=0,xt=!1,bt=0,rs=0;if(Xe.frames=[],!(function(_e,dt){for(var ht=0;ht<4;ht++)if(_e[dt+ht]!="RIFF".charCodeAt(ht))return!0;return!1})(vt,es)){for(Je(vt,es+=4),es+=8;es<vt.length;){var us=ke(vt,es),ys=Je(vt,es+=4);es+=4;var Kt=ys+(1&ys);switch(us){case"VP8 ":case"VP8L":Xe.frames[rt]===void 0&&(Xe.frames[rt]={}),(Hs=Xe.frames[rt]).src_off=xt?rs:es-8,Hs.src_size=bt+ys+8,rt++,xt&&(xt=!1,bt=0,rs=0);break;case"VP8X":(Hs=Xe.header={}).feature_flags=vt[es];var ms=es+4;Hs.canvas_width=1+$e(vt,ms),ms+=3,Hs.canvas_height=1+$e(vt,ms),ms+=3;break;case"ALPH":xt=!0,bt=Kt+8,rs=es-8;break;case"ANIM":(Hs=Xe.header).bgcolor=Je(vt,es),ms=es+4,Hs.loop_count=Me(vt,ms),ms+=2;break;case"ANMF":var Js,Hs;(Hs=Xe.frames[rt]={}).offset_x=2*$e(vt,es),es+=3,Hs.offset_y=2*$e(vt,es),es+=3,Hs.width=1+$e(vt,es),es+=3,Hs.height=1+$e(vt,es),es+=3,Hs.duration=$e(vt,es),es+=3,Js=vt[es++],Hs.dispose=1&Js,Hs.blend=Js>>1&1}us!="ANMF"&&(es+=Kt)}return Xe}})(Ye,0);yt.response=Ye,yt.rgbaoutput=!0,yt.dataurl=!1;var Pt=yt.header?yt.header:null,gt=yt.frames?yt.frames:null;if(Pt){Pt.loop_counter=Pt.loop_count,xe=[Pt.canvas_height],ct=[Pt.canvas_width];for(var Ge=0;Ge<gt.length&&gt[Ge].blend!=0;Ge++);}var Mt=gt[0],is=At.WebPDecodeRGBA(Ye,Mt.src_off,Mt.src_size,ct,xe);Mt.rgba=is,Mt.imgwidth=ct[0],Mt.imgheight=xe[0];for(var Ht=0;Ht<ct[0]*xe[0]*4;Ht++)ot[Ht]=is[Ht];return this.width=ct,this.height=xe,this.data=ot,this}(function(N){var v,S,I,R,V,ce,q,ee,ke,Me=function(_e){return _e=_e||{},this.isStrokeTransparent=_e.isStrokeTransparent||!1,this.strokeOpacity=_e.strokeOpacity||1,this.strokeStyle=_e.strokeStyle||"#000000",this.fillStyle=_e.fillStyle||"#000000",this.isFillTransparent=_e.isFillTransparent||!1,this.fillOpacity=_e.fillOpacity||1,this.font=_e.font||"10px sans-serif",this.textBaseline=_e.textBaseline||"alphabetic",this.textAlign=_e.textAlign||"left",this.lineWidth=_e.lineWidth||1,this.lineJoin=_e.lineJoin||"miter",this.lineCap=_e.lineCap||"butt",this.path=_e.path||[],this.transform=_e.transform!==void 0?_e.transform.clone():new ee,this.globalCompositeOperation=_e.globalCompositeOperation||"normal",this.globalAlpha=_e.globalAlpha||1,this.clip_path=_e.clip_path||[],this.currentPoint=_e.currentPoint||new ce,this.miterLimit=_e.miterLimit||10,this.lastPoint=_e.lastPoint||new ce,this.lineDashOffset=_e.lineDashOffset||0,this.lineDash=_e.lineDash||[],this.margin=_e.margin||[0,0,0,0],this.prevPageLastElemOffset=_e.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _e.ignoreClearRect!="boolean"||_e.ignoreClearRect,this};N.events.push(["initialized",function(){this.context2d=new $e(this),v=this.internal.f2,S=this.internal.getCoordinateString,I=this.internal.getVerticalCoordinateString,R=this.internal.getHorizontalCoordinate,V=this.internal.getVerticalCoordinate,ce=this.internal.Point,q=this.internal.Rectangle,ee=this.internal.Matrix,ke=new Me}]);var $e=function(_e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var dt=_e;Object.defineProperty(this,"pdf",{get:function(){return dt}});var ht=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ht},set:function(tt){ht=!!tt}});var Ot=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ot},set:function(tt){Ot=!!tt}});var Rt=0;Object.defineProperty(this,"posX",{get:function(){return Rt},set:function(tt){isNaN(tt)||(Rt=tt)}});var Yt=0;Object.defineProperty(this,"posY",{get:function(){return Yt},set:function(tt){isNaN(tt)||(Yt=tt)}}),Object.defineProperty(this,"margin",{get:function(){return ke.margin},set:function(tt){var cr;typeof tt=="number"?cr=[tt,tt,tt,tt]:((cr=new Array(4))[0]=tt[0],cr[1]=tt.length>=2?tt[1]:cr[0],cr[2]=tt.length>=3?tt[2]:cr[0],cr[3]=tt.length>=4?tt[3]:cr[1]),ke.margin=cr}});var gs=!1;Object.defineProperty(this,"autoPaging",{get:function(){return gs},set:function(tt){gs=tt}});var bs=0;Object.defineProperty(this,"lastBreak",{get:function(){return bs},set:function(tt){bs=tt}});var Us=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Us},set:function(tt){Us=tt}}),Object.defineProperty(this,"ctx",{get:function(){return ke},set:function(tt){tt instanceof Me&&(ke=tt)}}),Object.defineProperty(this,"path",{get:function(){return ke.path},set:function(tt){ke.path=tt}});var Zs=[];Object.defineProperty(this,"ctxStack",{get:function(){return Zs},set:function(tt){Zs=tt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(tt){var cr;cr=Je(tt),this.ctx.fillStyle=cr.style,this.ctx.isFillTransparent=cr.a===0,this.ctx.fillOpacity=cr.a,this.pdf.setFillColor(cr.r,cr.g,cr.b,{a:cr.a}),this.pdf.setTextColor(cr.r,cr.g,cr.b,{a:cr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(tt){var cr=Je(tt);this.ctx.strokeStyle=cr.style,this.ctx.isStrokeTransparent=cr.a===0,this.ctx.strokeOpacity=cr.a,cr.a===0?this.pdf.setDrawColor(255,255,255):(cr.a,this.pdf.setDrawColor(cr.r,cr.g,cr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(tt){["butt","round","square"].indexOf(tt)!==-1&&(this.ctx.lineCap=tt,this.pdf.setLineCap(tt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(tt){isNaN(tt)||(this.ctx.lineWidth=tt,this.pdf.setLineWidth(tt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(tt){["bevel","round","miter"].indexOf(tt)!==-1&&(this.ctx.lineJoin=tt,this.pdf.setLineJoin(tt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(tt){isNaN(tt)||(this.ctx.miterLimit=tt,this.pdf.setMiterLimit(tt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(tt){this.ctx.textBaseline=tt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(tt){["right","end","center","left","start"].indexOf(tt)!==-1&&(this.ctx.textAlign=tt)}});var br=null,gr=null,Yr=null;Object.defineProperty(this,"fontFaces",{get:function(){return Yr},set:function(tt){br=null,gr=null,Yr=tt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(tt){var cr;if(this.ctx.font=tt,(cr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(tt))!==null){var un=cr[1];cr[2];var nr=cr[3],zs=cr[4];cr[5];var tn=cr[6],yr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(zs)[2];zs=Math.floor(yr==="px"?parseFloat(zs)*this.pdf.internal.scaleFactor:yr==="em"?parseFloat(zs)*this.pdf.getFontSize():parseFloat(zs)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(zs);var Vr=(function(Ir){var bn,Yn,Bn=[],In=Ir.trim();if(In==="")return Ci;if(In in On)return[On[In]];for(;In!=="";){switch(Yn=null,bn=(In=li(In)).charAt(0)){case'"':case"'":Yn=Fo(In.substring(1),bn);break;default:Yn=Kl(In)}if(Yn===null||(Bn.push(Yn[0]),(In=li(Yn[1]))!==""&&In.charAt(0)!==","))return Ci;In=In.replace(/^,/,"")}return Bn})(tn);if(this.fontFaces){var Or=(function(Ir,bn){var Yn=Ir.getFontList(),Bn=JSON.stringify(Yn);if(br===null||gr!==Bn){var In=(function(Wa){var Kr=[];return Object.keys(Wa).forEach(function(_a){Wa[_a].forEach(function(fn){var _r=null;switch(fn){case"bold":_r={family:_a,weight:"bold"};break;case"italic":_r={family:_a,style:"italic"};break;case"bolditalic":_r={family:_a,weight:"bold",style:"italic"};break;case"":case"normal":_r={family:_a}}_r!==null&&(_r.ref={name:_a,style:fn},Kr.push(_r))})}),Kr})(Yn);br=(function(Wa){for(var Kr={},_a=0;_a<Wa.length;++_a){var fn=Gn(Wa[_a]),_r=fn.family,Na=fn.stretch,wn=fn.style,or=fn.weight;Kr[_r]=Kr[_r]||{},Kr[_r][Na]=Kr[_r][Na]||{},Kr[_r][Na][wn]=Kr[_r][Na][wn]||{},Kr[_r][Na][wn][or]=fn}return Kr})(In.concat(bn)),gr=Bn}return br})(this.pdf,this.fontFaces),Ca=Vr.map(function(Ir){return{family:Ir,stretch:"normal",weight:nr,style:un}}),Cn=(function(Ir,bn,Yn){for(var Bn=(Yn=Yn||{}).defaultFontFamily||"times",In=Object.assign({},ti,Yn.genericFontFamilies||{}),Wa=null,Kr=null,_a=0;_a<bn.length;++_a)if(In[(Wa=Gn(bn[_a])).family]&&(Wa.family=In[Wa.family]),Ir.hasOwnProperty(Wa.family)){Kr=Ir[Wa.family];break}if(!(Kr=Kr||Ir[Bn]))throw new Error("Could not find a font-family for the rule '"+mc(Wa)+"' and default family '"+Bn+"'.");if(Kr=(function(fn,_r){if(_r[fn])return _r[fn];var Na=sa[fn],wn=Na<=sa.normal?-1:1,or=Kn(_r,Vn,Na,wn);if(!or)throw new Error("Could not find a matching font-stretch value for "+fn);return or})(Wa.stretch,Kr),Kr=(function(fn,_r){if(_r[fn])return _r[fn];for(var Na=wa[fn],wn=0;wn<Na.length;++wn)if(_r[Na[wn]])return _r[Na[wn]];throw new Error("Could not find a matching font-style for "+fn)})(Wa.style,Kr),!(Kr=(function(fn,_r){if(_r[fn])return _r[fn];if(fn===400&&_r[500])return _r[500];if(fn===500&&_r[400])return _r[400];var Na=Rr[fn],wn=Kn(_r,an,Na,fn<400?-1:1);if(!wn)throw new Error("Could not find a matching font-weight for value "+fn);return wn})(Wa.weight,Kr)))throw new Error("Failed to resolve a font for the rule '"+mc(Wa)+"'.");return Kr})(Or,Ca);this.pdf.setFont(Cn.ref.name,Cn.ref.style)}else{var Cr="";(nr==="bold"||parseInt(nr,10)>=700||un==="bold")&&(Cr="bold"),un==="italic"&&(Cr+="italic"),Cr.length===0&&(Cr="normal");for(var _n="",Xr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Br=0;Br<Vr.length;Br++){if(this.pdf.internal.getFont(Vr[Br],Cr,{noFallback:!0,disableWarning:!0})!==void 0){_n=Vr[Br];break}if(Cr==="bolditalic"&&this.pdf.internal.getFont(Vr[Br],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_n=Vr[Br],Cr="bold";else if(this.pdf.internal.getFont(Vr[Br],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_n=Vr[Br],Cr="normal";break}}if(_n===""){for(var nn=0;nn<Vr.length;nn++)if(Xr[Vr[nn]]){_n=Xr[Vr[nn]];break}}_n=_n===""?"Times":_n,this.pdf.setFont(_n,Cr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(tt){this.ctx.globalCompositeOperation=tt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(tt){this.ctx.globalAlpha=tt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(tt){this.ctx.lineDashOffset=tt,Hs.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(tt){this.ctx.lineDash=tt,Hs.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(tt){this.ctx.ignoreClearRect=!!tt}})};$e.prototype.setLineDash=function(_e){this.lineDash=_e},$e.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},$e.prototype.fill=function(){gt.call(this,"fill",!1)},$e.prototype.stroke=function(){gt.call(this,"stroke",!1)},$e.prototype.beginPath=function(){this.path=[{type:"begin"}]},$e.prototype.moveTo=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw y.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ht=this.ctx.transform.applyToPoint(new ce(_e,dt));this.path.push({type:"mt",x:ht.x,y:ht.y}),this.ctx.lastPoint=new ce(_e,dt)},$e.prototype.closePath=function(){var _e=new ce(0,0),dt=0;for(dt=this.path.length-1;dt!==-1;dt--)if(this.path[dt].type==="begin"&&(0,f.default)(this.path[dt+1])==="object"&&typeof this.path[dt+1].x=="number"){_e=new ce(this.path[dt+1].x,this.path[dt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new ce(_e.x,_e.y)},$e.prototype.lineTo=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw y.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ht=this.ctx.transform.applyToPoint(new ce(_e,dt));this.path.push({type:"lt",x:ht.x,y:ht.y}),this.ctx.lastPoint=new ce(ht.x,ht.y)},$e.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),gt.call(this,null,!0)},$e.prototype.quadraticCurveTo=function(_e,dt,ht,Ot){if(isNaN(ht)||isNaN(Ot)||isNaN(_e)||isNaN(dt))throw y.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Rt=this.ctx.transform.applyToPoint(new ce(ht,Ot)),Yt=this.ctx.transform.applyToPoint(new ce(_e,dt));this.path.push({type:"qct",x1:Yt.x,y1:Yt.y,x:Rt.x,y:Rt.y}),this.ctx.lastPoint=new ce(Rt.x,Rt.y)},$e.prototype.bezierCurveTo=function(_e,dt,ht,Ot,Rt,Yt){if(isNaN(Rt)||isNaN(Yt)||isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot))throw y.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var gs=this.ctx.transform.applyToPoint(new ce(Rt,Yt)),bs=this.ctx.transform.applyToPoint(new ce(_e,dt)),Us=this.ctx.transform.applyToPoint(new ce(ht,Ot));this.path.push({type:"bct",x1:bs.x,y1:bs.y,x2:Us.x,y2:Us.y,x:gs.x,y:gs.y}),this.ctx.lastPoint=new ce(gs.x,gs.y)},$e.prototype.arc=function(_e,dt,ht,Ot,Rt,Yt){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot)||isNaN(Rt))throw y.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Yt=!!Yt,!this.ctx.transform.isIdentity){var gs=this.ctx.transform.applyToPoint(new ce(_e,dt));_e=gs.x,dt=gs.y;var bs=this.ctx.transform.applyToPoint(new ce(0,ht)),Us=this.ctx.transform.applyToPoint(new ce(0,0));ht=Math.sqrt(Math.pow(bs.x-Us.x,2)+Math.pow(bs.y-Us.y,2))}Math.abs(Rt-Ot)>=2*Math.PI&&(Ot=0,Rt=2*Math.PI),this.path.push({type:"arc",x:_e,y:dt,radius:ht,startAngle:Ot,endAngle:Rt,counterclockwise:Yt})},$e.prototype.arcTo=function(_e,dt,ht,Ot,Rt){throw new Error("arcTo not implemented.")},$e.prototype.rect=function(_e,dt,ht,Ot){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot))throw y.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_e,dt),this.lineTo(_e+ht,dt),this.lineTo(_e+ht,dt+Ot),this.lineTo(_e,dt+Ot),this.lineTo(_e,dt),this.lineTo(_e+ht,dt),this.lineTo(_e,dt)},$e.prototype.fillRect=function(_e,dt,ht,Ot){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot))throw y.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!xe.call(this)){var Rt={};this.lineCap!=="butt"&&(Rt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Rt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_e,dt,ht,Ot),this.fill(),Rt.hasOwnProperty("lineCap")&&(this.lineCap=Rt.lineCap),Rt.hasOwnProperty("lineJoin")&&(this.lineJoin=Rt.lineJoin)}},$e.prototype.strokeRect=function(_e,dt,ht,Ot){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot))throw y.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ct.call(this)||(this.beginPath(),this.rect(_e,dt,ht,Ot),this.stroke())},$e.prototype.clearRect=function(_e,dt,ht,Ot){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot))throw y.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_e,dt,ht,Ot))},$e.prototype.save=function(_e){_e=typeof _e!="boolean"||_e;for(var dt=this.pdf.internal.getCurrentPageInfo().pageNumber,ht=0;ht<this.pdf.internal.getNumberOfPages();ht++)this.pdf.setPage(ht+1),this.pdf.internal.out("q");if(this.pdf.setPage(dt),_e){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ot=new Me(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ot}},$e.prototype.restore=function(_e){_e=typeof _e!="boolean"||_e;for(var dt=this.pdf.internal.getCurrentPageInfo().pageNumber,ht=0;ht<this.pdf.internal.getNumberOfPages();ht++)this.pdf.setPage(ht+1),this.pdf.internal.out("Q");this.pdf.setPage(dt),_e&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},$e.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Je=function(_e){var dt,ht,Ot,Rt;if(_e.isCanvasGradient===!0&&(_e=_e.getColor()),!_e)return{r:0,g:0,b:0,a:0,style:_e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_e))dt=0,ht=0,Ot=0,Rt=0;else{var Yt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_e);if(Yt!==null)dt=parseInt(Yt[1]),ht=parseInt(Yt[2]),Ot=parseInt(Yt[3]),Rt=1;else if((Yt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_e))!==null)dt=parseInt(Yt[1]),ht=parseInt(Yt[2]),Ot=parseInt(Yt[3]),Rt=parseFloat(Yt[4]);else{if(Rt=1,typeof _e=="string"&&_e.charAt(0)!=="#"){var gs=new Y(_e);_e=gs.ok?gs.toHex():"#000000"}_e.length===4?(dt=_e.substring(1,2),dt+=dt,ht=_e.substring(2,3),ht+=ht,Ot=_e.substring(3,4),Ot+=Ot):(dt=_e.substring(1,3),ht=_e.substring(3,5),Ot=_e.substring(5,7)),dt=parseInt(dt,16),ht=parseInt(ht,16),Ot=parseInt(Ot,16)}}return{r:dt,g:ht,b:Ot,a:Rt,style:_e}},xe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},ct=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};$e.prototype.fillText=function(_e,dt,ht,Ot){if(isNaN(dt)||isNaN(ht)||typeof _e!="string")throw y.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ot=isNaN(Ot)?void 0:Ot,!xe.call(this)){var Rt=Kt(this.ctx.transform.rotation),Yt=this.ctx.transform.scaleX;rt.call(this,{text:_e,x:dt,y:ht,scale:Yt,angle:Rt,align:this.textAlign,maxWidth:Ot})}},$e.prototype.strokeText=function(_e,dt,ht,Ot){if(isNaN(dt)||isNaN(ht)||typeof _e!="string")throw y.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ct.call(this)){Ot=isNaN(Ot)?void 0:Ot;var Rt=Kt(this.ctx.transform.rotation),Yt=this.ctx.transform.scaleX;rt.call(this,{text:_e,x:dt,y:ht,scale:Yt,renderingMode:"stroke",angle:Rt,align:this.textAlign,maxWidth:Ot})}},$e.prototype.measureText=function(_e){if(typeof _e!="string")throw y.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var dt=this.pdf,ht=this.pdf.internal.scaleFactor,Ot=dt.internal.getFontSize(),Rt=dt.getStringUnitWidth(_e)*Ot/dt.internal.scaleFactor;return new function(Yt){var gs=(Yt=Yt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return gs}}),this}({width:Rt*=Math.round(96*ht/72*1e4)/1e4})},$e.prototype.scale=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw y.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ht=new ee(_e,0,0,dt,0,0);this.ctx.transform=this.ctx.transform.multiply(ht)},$e.prototype.rotate=function(_e){if(isNaN(_e))throw y.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var dt=new ee(Math.cos(_e),Math.sin(_e),-Math.sin(_e),Math.cos(_e),0,0);this.ctx.transform=this.ctx.transform.multiply(dt)},$e.prototype.translate=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw y.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ht=new ee(1,0,0,1,_e,dt);this.ctx.transform=this.ctx.transform.multiply(ht)},$e.prototype.transform=function(_e,dt,ht,Ot,Rt,Yt){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot)||isNaN(Rt)||isNaN(Yt))throw y.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var gs=new ee(_e,dt,ht,Ot,Rt,Yt);this.ctx.transform=this.ctx.transform.multiply(gs)},$e.prototype.setTransform=function(_e,dt,ht,Ot,Rt,Yt){_e=isNaN(_e)?1:_e,dt=isNaN(dt)?0:dt,ht=isNaN(ht)?0:ht,Ot=isNaN(Ot)?1:Ot,Rt=isNaN(Rt)?0:Rt,Yt=isNaN(Yt)?0:Yt,this.ctx.transform=new ee(_e,dt,ht,Ot,Rt,Yt)};var ot=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};$e.prototype.drawImage=function(_e,dt,ht,Ot,Rt,Yt,gs,bs,Us){var Zs=this.pdf.getImageProperties(_e),br=1,gr=1,Yr=1,tt=1;Ot!==void 0&&bs!==void 0&&(Yr=bs/Ot,tt=Us/Rt,br=Zs.width/Ot*bs/Ot,gr=Zs.height/Rt*Us/Rt),Yt===void 0&&(Yt=dt,gs=ht,dt=0,ht=0),Ot!==void 0&&bs===void 0&&(bs=Ot,Us=Rt),Ot===void 0&&bs===void 0&&(bs=Zs.width,Us=Zs.height);var cr=this.ctx.transform.decompose(),un=Kt(cr.rotate.shx),nr=new ee,zs=(nr=(nr=(nr=nr.multiply(cr.translate)).multiply(cr.skew)).multiply(cr.scale)).applyToRectangle(new q(Yt-dt*Yr,gs-ht*tt,Ot*br,Rt*gr));if(this.autoPaging){for(var tn,yr=At.call(this,zs),Vr=[],Or=0;Or<yr.length;Or+=1)Vr.indexOf(yr[Or])===-1&&Vr.push(yr[Or]);Pt(Vr);for(var Ca=Vr[0],Cn=Vr[Vr.length-1],Cr=Ca;Cr<Cn+1;Cr++){this.pdf.setPage(Cr);var _n=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xr=Cr===1?this.posY+this.margin[0]:this.margin[0],Br=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ir=Cr===1?0:Br+(Cr-2)*nn;if(this.ctx.clip_path.length!==0){var bn=this.path;tn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yt(tn,this.posX+this.margin[3],-Ir+Xr+this.ctx.prevPageLastElemOffset),Ge.call(this,"fill",!0),this.path=bn}var Yn=JSON.parse(JSON.stringify(zs));Yn=yt([Yn],this.posX+this.margin[3],-Ir+Xr+this.ctx.prevPageLastElemOffset)[0];var Bn=(Cr>Ca||Cr<Cn)&&ot.call(this);Bn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_n,nn,null).clip().discardPath()),this.pdf.addImage(_e,"JPEG",Yn.x,Yn.y,Yn.w,Yn.h,null,null,un),Bn&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(_e,"JPEG",zs.x,zs.y,zs.w,zs.h,null,null,un)};var At=function(_e,dt,ht){var Ot=[];dt=dt||this.pdf.internal.pageSize.width,ht=ht||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Rt=this.posY+this.ctx.prevPageLastElemOffset;switch(_e.type){default:case"mt":case"lt":Ot.push(Math.floor((_e.y+Rt)/ht)+1);break;case"arc":Ot.push(Math.floor((_e.y+Rt-_e.radius)/ht)+1),Ot.push(Math.floor((_e.y+Rt+_e.radius)/ht)+1);break;case"qct":var Yt=ms(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_e.x1,_e.y1,_e.x,_e.y);Ot.push(Math.floor((Yt.y+Rt)/ht)+1),Ot.push(Math.floor((Yt.y+Yt.h+Rt)/ht)+1);break;case"bct":var gs=Js(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_e.x1,_e.y1,_e.x2,_e.y2,_e.x,_e.y);Ot.push(Math.floor((gs.y+Rt)/ht)+1),Ot.push(Math.floor((gs.y+gs.h+Rt)/ht)+1);break;case"rect":Ot.push(Math.floor((_e.y+Rt)/ht)+1),Ot.push(Math.floor((_e.y+_e.h+Rt)/ht)+1)}for(var bs=0;bs<Ot.length;bs+=1)for(;this.pdf.internal.getNumberOfPages()<Ot[bs];)Ye.call(this);return Ot},Ye=function(){var _e=this.fillStyle,dt=this.strokeStyle,ht=this.font,Ot=this.lineCap,Rt=this.lineWidth,Yt=this.lineJoin;this.pdf.addPage(),this.fillStyle=_e,this.strokeStyle=dt,this.font=ht,this.lineCap=Ot,this.lineWidth=Rt,this.lineJoin=Yt},yt=function(_e,dt,ht){for(var Ot=0;Ot<_e.length;Ot++)switch(_e[Ot].type){case"bct":_e[Ot].x2+=dt,_e[Ot].y2+=ht;case"qct":_e[Ot].x1+=dt,_e[Ot].y1+=ht;default:_e[Ot].x+=dt,_e[Ot].y+=ht}return _e},Pt=function(_e){return _e.sort(function(dt,ht){return dt-ht})},gt=function(_e,dt){var ht=this.fillStyle,Ot=this.strokeStyle,Rt=this.lineCap,Yt=this.lineWidth,gs=Math.abs(Yt*this.ctx.transform.scaleX),bs=this.lineJoin;if(this.autoPaging){for(var Us,Zs,br=JSON.parse(JSON.stringify(this.path)),gr=JSON.parse(JSON.stringify(this.path)),Yr=[],tt=0;tt<gr.length;tt++)if(gr[tt].x!==void 0)for(var cr=At.call(this,gr[tt]),un=0;un<cr.length;un+=1)Yr.indexOf(cr[un])===-1&&Yr.push(cr[un]);for(var nr=0;nr<Yr.length;nr++)for(;this.pdf.internal.getNumberOfPages()<Yr[nr];)Ye.call(this);Pt(Yr);for(var zs=Yr[0],tn=Yr[Yr.length-1],yr=zs;yr<tn+1;yr++){this.pdf.setPage(yr),this.fillStyle=ht,this.strokeStyle=Ot,this.lineCap=Rt,this.lineWidth=gs,this.lineJoin=bs;var Vr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Or=yr===1?this.posY+this.margin[0]:this.margin[0],Ca=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Cn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Cr=yr===1?0:Ca+(yr-2)*Cn;if(this.ctx.clip_path.length!==0){var _n=this.path;Us=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yt(Us,this.posX+this.margin[3],-Cr+Or+this.ctx.prevPageLastElemOffset),Ge.call(this,_e,!0),this.path=_n}if(Zs=JSON.parse(JSON.stringify(br)),this.path=yt(Zs,this.posX+this.margin[3],-Cr+Or+this.ctx.prevPageLastElemOffset),dt===!1||yr===0){var Xr=(yr>zs||yr<tn)&&ot.call(this);Xr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vr,Cn,null).clip().discardPath()),Ge.call(this,_e,dt),Xr&&this.pdf.restoreGraphicsState()}this.lineWidth=Yt}this.path=br}else this.lineWidth=gs,Ge.call(this,_e,dt),this.lineWidth=Yt},Ge=function(_e,dt){if((_e!=="stroke"||dt||!ct.call(this))&&(_e==="stroke"||dt||!xe.call(this))){for(var ht,Ot,Rt=[],Yt=this.path,gs=0;gs<Yt.length;gs++){var bs=Yt[gs];switch(bs.type){case"begin":Rt.push({begin:!0});break;case"close":Rt.push({close:!0});break;case"mt":Rt.push({start:bs,deltas:[],abs:[]});break;case"lt":var Us=Rt.length;if(Yt[gs-1]&&!isNaN(Yt[gs-1].x)&&(ht=[bs.x-Yt[gs-1].x,bs.y-Yt[gs-1].y],Us>0)){for(;Us>=0;Us--)if(Rt[Us-1].close!==!0&&Rt[Us-1].begin!==!0){Rt[Us-1].deltas.push(ht),Rt[Us-1].abs.push(bs);break}}break;case"bct":ht=[bs.x1-Yt[gs-1].x,bs.y1-Yt[gs-1].y,bs.x2-Yt[gs-1].x,bs.y2-Yt[gs-1].y,bs.x-Yt[gs-1].x,bs.y-Yt[gs-1].y],Rt[Rt.length-1].deltas.push(ht);break;case"qct":var Zs=Yt[gs-1].x+2/3*(bs.x1-Yt[gs-1].x),br=Yt[gs-1].y+2/3*(bs.y1-Yt[gs-1].y),gr=bs.x+2/3*(bs.x1-bs.x),Yr=bs.y+2/3*(bs.y1-bs.y),tt=bs.x,cr=bs.y;ht=[Zs-Yt[gs-1].x,br-Yt[gs-1].y,gr-Yt[gs-1].x,Yr-Yt[gs-1].y,tt-Yt[gs-1].x,cr-Yt[gs-1].y],Rt[Rt.length-1].deltas.push(ht);break;case"arc":Rt.push({deltas:[],abs:[],arc:!0}),Array.isArray(Rt[Rt.length-1].abs)&&Rt[Rt.length-1].abs.push(bs)}}Ot=dt?null:_e==="stroke"?"stroke":"fill";for(var un=!1,nr=0;nr<Rt.length;nr++)if(Rt[nr].arc)for(var zs=Rt[nr].abs,tn=0;tn<zs.length;tn++){var yr=zs[tn];yr.type==="arc"?Ht.call(this,yr.x,yr.y,yr.radius,yr.startAngle,yr.endAngle,yr.counterclockwise,void 0,dt,!un):xt.call(this,yr.x,yr.y),un=!0}else if(Rt[nr].close===!0)this.pdf.internal.out("h"),un=!1;else if(Rt[nr].begin!==!0){var Vr=Rt[nr].start.x,Or=Rt[nr].start.y;bt.call(this,Rt[nr].deltas,Vr,Or),un=!0}Ot&&vt.call(this,Ot),dt&&es.call(this)}},Mt=function(_e){var dt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ht=dt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _e-ht;case"top":return _e+dt-ht;case"hanging":return _e+dt-2*ht;case"middle":return _e+dt/2-ht;default:return _e}},is=function(_e){return _e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};$e.prototype.createLinearGradient=function(){var _e=function(){};return _e.colorStops=[],_e.addColorStop=function(dt,ht){this.colorStops.push([dt,ht])},_e.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_e.isCanvasGradient=!0,_e},$e.prototype.createPattern=function(){return this.createLinearGradient()},$e.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ht=function(_e,dt,ht,Ot,Rt,Yt,gs,bs,Us){for(var Zs=us.call(this,ht,Ot,Rt,Yt),br=0;br<Zs.length;br++){var gr=Zs[br];br===0&&(Us?Xe.call(this,gr.x1+_e,gr.y1+dt):xt.call(this,gr.x1+_e,gr.y1+dt)),rs.call(this,_e,dt,gr.x2,gr.y2,gr.x3,gr.y3,gr.x4,gr.y4)}bs?es.call(this):vt.call(this,gs)},vt=function(_e){switch(_e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},es=function(){this.pdf.clip(),this.pdf.discardPath()},Xe=function(_e,dt){this.pdf.internal.out(S(_e)+" "+I(dt)+" m")},rt=function(_e){var dt;switch(_e.align){case"right":case"end":dt="right";break;case"center":dt="center";break;default:dt="left"}var ht,Ot,Rt,Yt=this.pdf.getTextDimensions(_e.text),gs=Mt.call(this,_e.y),bs=is.call(this,gs)-Yt.h,Us=this.ctx.transform.applyToPoint(new ce(_e.x,gs));if(this.autoPaging){var Zs=this.ctx.transform.decompose(),br=new ee;br=(br=(br=br.multiply(Zs.translate)).multiply(Zs.skew)).multiply(Zs.scale);for(var gr=this.ctx.transform.applyToRectangle(new q(_e.x,gs,Yt.w,Yt.h)),Yr=br.applyToRectangle(new q(_e.x,bs,Yt.w,Yt.h)),tt=At.call(this,Yr),cr=[],un=0;un<tt.length;un+=1)cr.indexOf(tt[un])===-1&&cr.push(tt[un]);Pt(cr);for(var nr=cr[0],zs=cr[cr.length-1],tn=nr;tn<zs+1;tn++){this.pdf.setPage(tn);var yr=tn===1?this.posY+this.margin[0]:this.margin[0],Vr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Or=this.pdf.internal.pageSize.height-this.margin[2],Ca=Or-this.margin[0],Cn=this.pdf.internal.pageSize.width-this.margin[1],Cr=Cn-this.margin[3],_n=tn===1?0:Vr+(tn-2)*Ca;if(this.ctx.clip_path.length!==0){var Xr=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yt(ht,this.posX+this.margin[3],-1*_n+yr),Ge.call(this,"fill",!0),this.path=Xr}var Br=yt([JSON.parse(JSON.stringify(Yr))],this.posX+this.margin[3],-_n+yr+this.ctx.prevPageLastElemOffset)[0];_e.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*_e.scale),Rt=this.lineWidth,this.lineWidth=Rt*_e.scale);var nn=this.autoPaging!=="text";if(nn||Br.y+Br.h<=Or){if(nn||Br.y>=yr&&Br.x<=Cn){var Ir=nn?_e.text:this.pdf.splitTextToSize(_e.text,_e.maxWidth||Cn-Br.x)[0],bn=yt([JSON.parse(JSON.stringify(gr))],this.posX+this.margin[3],-_n+yr+this.ctx.prevPageLastElemOffset)[0],Yn=nn&&(tn>nr||tn<zs)&&ot.call(this);Yn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Cr,Ca,null).clip().discardPath()),this.pdf.text(Ir,bn.x,bn.y,{angle:_e.angle,align:dt,renderingMode:_e.renderingMode}),Yn&&this.pdf.restoreGraphicsState()}}else Br.y<Or&&(this.ctx.prevPageLastElemOffset+=Or-Br.y);_e.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=Rt)}}else _e.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*_e.scale),Rt=this.lineWidth,this.lineWidth=Rt*_e.scale),this.pdf.text(_e.text,Us.x+this.posX,Us.y+this.posY,{angle:_e.angle,align:dt,renderingMode:_e.renderingMode,maxWidth:_e.maxWidth}),_e.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=Rt)},xt=function(_e,dt,ht,Ot){ht=ht||0,Ot=Ot||0,this.pdf.internal.out(S(_e+ht)+" "+I(dt+Ot)+" l")},bt=function(_e,dt,ht){return this.pdf.lines(_e,dt,ht,null,null)},rs=function(_e,dt,ht,Ot,Rt,Yt,gs,bs){this.pdf.internal.out([v(R(ht+_e)),v(V(Ot+dt)),v(R(Rt+_e)),v(V(Yt+dt)),v(R(gs+_e)),v(V(bs+dt)),"c"].join(" "))},us=function(_e,dt,ht,Ot){for(var Rt=2*Math.PI,Yt=Math.PI/2;dt>ht;)dt-=Rt;var gs=Math.abs(ht-dt);gs<Rt&&Ot&&(gs=Rt-gs);for(var bs=[],Us=Ot?-1:1,Zs=dt;gs>1e-5;){var br=Zs+Us*Math.min(gs,Yt);bs.push(ys.call(this,_e,Zs,br)),gs-=Math.abs(br-Zs),Zs=br}return bs},ys=function(_e,dt,ht){var Ot=(ht-dt)/2,Rt=_e*Math.cos(Ot),Yt=_e*Math.sin(Ot),gs=Rt,bs=-Yt,Us=gs*gs+bs*bs,Zs=Us+gs*Rt+bs*Yt,br=4/3*(Math.sqrt(2*Us*Zs)-Zs)/(gs*Yt-bs*Rt),gr=gs-br*bs,Yr=bs+br*gs,tt=gr,cr=-Yr,un=Ot+dt,nr=Math.cos(un),zs=Math.sin(un);return{x1:_e*Math.cos(dt),y1:_e*Math.sin(dt),x2:gr*nr-Yr*zs,y2:gr*zs+Yr*nr,x3:tt*nr-cr*zs,y3:tt*zs+cr*nr,x4:_e*Math.cos(ht),y4:_e*Math.sin(ht)}},Kt=function(_e){return 180*_e/Math.PI},ms=function(_e,dt,ht,Ot,Rt,Yt){var gs=_e+.5*(ht-_e),bs=dt+.5*(Ot-dt),Us=Rt+.5*(ht-Rt),Zs=Yt+.5*(Ot-Yt),br=Math.min(_e,Rt,gs,Us),gr=Math.max(_e,Rt,gs,Us),Yr=Math.min(dt,Yt,bs,Zs),tt=Math.max(dt,Yt,bs,Zs);return new q(br,Yr,gr-br,tt-Yr)},Js=function(_e,dt,ht,Ot,Rt,Yt,gs,bs){var Us,Zs,br,gr,Yr,tt,cr,un,nr,zs,tn,yr,Vr,Or,Ca=ht-_e,Cn=Ot-dt,Cr=Rt-ht,_n=Yt-Ot,Xr=gs-Rt,Br=bs-Yt;for(Zs=0;Zs<41;Zs++)nr=(cr=(br=_e+(Us=Zs/40)*Ca)+Us*((Yr=ht+Us*Cr)-br))+Us*(Yr+Us*(Rt+Us*Xr-Yr)-cr),zs=(un=(gr=dt+Us*Cn)+Us*((tt=Ot+Us*_n)-gr))+Us*(tt+Us*(Yt+Us*Br-tt)-un),Zs==0?(tn=nr,yr=zs,Vr=nr,Or=zs):(tn=Math.min(tn,nr),yr=Math.min(yr,zs),Vr=Math.max(Vr,nr),Or=Math.max(Or,zs));return new q(Math.round(tn),Math.round(yr),Math.round(Vr-tn),Math.round(Or-yr))},Hs=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _e,dt,ht=(_e=this.ctx.lineDash,dt=this.ctx.lineDashOffset,JSON.stringify({lineDash:_e,lineDashOffset:dt}));this.prevLineDash!==ht&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ht)}}})(We.API),(function(N){var v=function(ce){var q,ee,ke,Me,$e,Je,xe,ct,ot,At;for(ee=[],ke=0,Me=(ce+=q="\0\0\0\0".slice(ce.length%4||4)).length;Me>ke;ke+=4)($e=(ce.charCodeAt(ke)<<24)+(ce.charCodeAt(ke+1)<<16)+(ce.charCodeAt(ke+2)<<8)+ce.charCodeAt(ke+3))!==0?(Je=($e=(($e=(($e=(($e=($e-(At=$e%85))/85)-(ot=$e%85))/85)-(ct=$e%85))/85)-(xe=$e%85))/85)%85,ee.push(Je+33,xe+33,ct+33,ot+33,At+33)):ee.push(122);return(function(Ye,yt){for(var Pt=yt;Pt>0;Pt--)Ye.pop()})(ee,q.length),String.fromCharCode.apply(String,ee)+"~>"},S=function(ce){var q,ee,ke,Me,$e,Je=String,xe="length",ct=255,ot="charCodeAt",At="slice",Ye="replace";for(ce[At](-2),ce=ce[At](0,-2)[Ye](/\s/g,"")[Ye]("z","!!!!!"),ke=[],Me=0,$e=(ce+=q="uuuuu"[At](ce[xe]%5||5))[xe];$e>Me;Me+=5)ee=52200625*(ce[ot](Me)-33)+614125*(ce[ot](Me+1)-33)+7225*(ce[ot](Me+2)-33)+85*(ce[ot](Me+3)-33)+(ce[ot](Me+4)-33),ke.push(ct&ee>>24,ct&ee>>16,ct&ee>>8,ct&ee);return(function(yt,Pt){for(var gt=Pt;gt>0;gt--)yt.pop()})(ke,q[xe]),Je.fromCharCode.apply(Je,ke)},I=function(ce){return ce.split("").map(function(q){return("0"+q.charCodeAt().toString(16)).slice(-2)}).join("")+">"},R=function(ce){var q=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((ce=ce.replace(/\s/g,"")).indexOf(">")!==-1&&(ce=ce.substr(0,ce.indexOf(">"))),ce.length%2&&(ce+="0"),q.test(ce)===!1)return"";for(var ee="",ke=0;ke<ce.length;ke+=2)ee+=String.fromCharCode("0x"+(ce[ke]+ce[ke+1]));return ee},V=function(ce){for(var q=new Uint8Array(ce.length),ee=ce.length;ee--;)q[ee]=ce.charCodeAt(ee);return(q=(0,p.zlibSync)(q)).reduce(function(ke,Me){return ke+String.fromCharCode(Me)},"")};N.processDataByFilters=function(ce,q){var ee=0,ke=ce||"",Me=[];for(typeof(q=q||[])=="string"&&(q=[q]),ee=0;ee<q.length;ee+=1)switch(q[ee]){case"ASCII85Decode":case"/ASCII85Decode":ke=S(ke),Me.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":ke=v(ke),Me.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":ke=R(ke),Me.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":ke=I(ke),Me.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":ke=V(ke),Me.push("/FlateDecode");break;default:throw new Error('The filter: "'+q[ee]+'" is not implemented')}return{data:ke,reverseChain:Me.reverse().join(" ")}}})(We.API),(function(N){N.loadFile=function(v,S,I){return(function(R,V,ce){V=V!==!1,ce=typeof ce=="function"?ce:function(){};var q=void 0;try{q=(function(ee,ke,Me){var $e=new XMLHttpRequest,Je=0,xe=function(ct){var ot=ct.length,At=[],Ye=String.fromCharCode;for(Je=0;Je<ot;Je+=1)At.push(Ye(255&ct.charCodeAt(Je)));return At.join("")};if($e.open("GET",ee,!ke),$e.overrideMimeType("text/plain; charset=x-user-defined"),ke===!1&&($e.onload=function(){$e.status===200?Me(xe(this.responseText)):Me(void 0)}),$e.send(null),ke&&$e.status===200)return xe($e.responseText)})(R,V,ce)}catch{}return q})(v,S,I)},N.allowFsRead=void 0,N.loadImageFile=N.loadFile})(We.API),(function(N){function v(){return(b.html2canvas?Promise.resolve(b.html2canvas):Promise.resolve().then(o.t.bind(o,"html2canvas",23))).catch(function(q){return Promise.reject(new Error("Could not load html2canvas: "+q))}).then(function(q){return q.default?q.default:q})}function S(){return(b.DOMPurify?Promise.resolve(b.DOMPurify):Promise.resolve().then(o.bind(o,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(q){return Promise.reject(new Error("Could not load dompurify: "+q))}).then(function(q){return q.default?q.default:q})}var I=function(q){var ee=(0,f.default)(q);return ee==="undefined"?"undefined":ee==="string"||q instanceof String?"string":ee==="number"||q instanceof Number?"number":ee==="function"||q instanceof Function?"function":q&&q.constructor===Array?"array":q&&q.nodeType===1?"element":ee==="object"?"object":"unknown"},R=function(q,ee){var ke=document.createElement(q);for(var Me in ee.className&&(ke.className=ee.className),ee.innerHTML&&ee.dompurify&&(ke.innerHTML=ee.dompurify.sanitize(ee.innerHTML)),ee.style)ke.style[Me]=ee.style[Me];return ke},V=function q(ee,ke){for(var Me=ee.nodeType===3?document.createTextNode(ee.nodeValue):ee.cloneNode(!1),$e=ee.firstChild;$e;$e=$e.nextSibling)ke!==!0&&$e.nodeType===1&&$e.nodeName==="SCRIPT"||Me.appendChild(q($e,ke));return ee.nodeType===1&&(ee.nodeName==="CANVAS"?(Me.width=ee.width,Me.height=ee.height,Me.getContext("2d").drawImage(ee,0,0)):ee.nodeName!=="TEXTAREA"&&ee.nodeName!=="SELECT"||(Me.value=ee.value),Me.addEventListener("load",function(){Me.scrollTop=ee.scrollTop,Me.scrollLeft=ee.scrollLeft},!0)),Me},ce=function q(ee){var ke=Object.assign(q.convert(Promise.resolve()),JSON.parse(JSON.stringify(q.template))),Me=q.convert(Promise.resolve(),ke);return(Me=Me.setProgress(1,q,1,[q])).set(ee)};(ce.prototype=Object.create(Promise.prototype)).constructor=ce,ce.convert=function(q,ee){return q.__proto__=ee||ce.prototype,q},ce.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},ce.prototype.from=function(q,ee){return this.then(function(){switch(ee=ee||(function(ke){switch(I(ke)){case"string":return"string";case"element":return ke.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(q),ee){case"string":return this.then(S).then(function(ke){return this.set({src:R("div",{innerHTML:q,dompurify:ke})})});case"element":return this.set({src:q});case"canvas":return this.set({canvas:q});case"img":return this.set({img:q});default:return this.error("Unknown source type.")}})},ce.prototype.to=function(q){switch(q){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},ce.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var q={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ee=V(this.prop.src,this.opt.html2canvas.javascriptEnabled);ee.tagName==="BODY"&&(q.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=R("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=R("div",{className:"html2pdf__container",style:q}),this.prop.container.appendChild(ee),this.prop.container.firstChild.appendChild(R("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},ce.prototype.toCanvas=function(){var q=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(q).then(v).then(function(ee){var ke=Object.assign({},this.opt.html2canvas);return delete ke.onrendered,ee(this.prop.container,ke)}).then(function(ee){(this.opt.html2canvas.onrendered||function(){})(ee),this.prop.canvas=ee,document.body.removeChild(this.prop.overlay)})},ce.prototype.toContext2d=function(){var q=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(q).then(v).then(function(ee){var ke=this.opt.jsPDF,Me=this.opt.fontFaces,$e=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Je=Object.assign({async:!0,allowTaint:!0,scale:$e,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Je.onrendered,ke.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,ke.context2d.posX=this.opt.x,ke.context2d.posY=this.opt.y,ke.context2d.margin=this.opt.margin,ke.context2d.fontFaces=Me,Me)for(var xe=0;xe<Me.length;++xe){var ct=Me[xe],ot=ct.src.find(function(At){return At.format==="truetype"});ot&&ke.addFont(ot.url,ct.ref.name,ct.ref.style)}return Je.windowHeight=Je.windowHeight||0,Je.windowHeight=Je.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Je.windowHeight,ke.context2d.save(!0),ee(this.prop.container,Je)}).then(function(ee){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ee),this.prop.canvas=ee,document.body.removeChild(this.prop.overlay)})},ce.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var q=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=q})},ce.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},ce.prototype.output=function(q,ee,ke){return(ke=ke||"pdf").toLowerCase()==="img"||ke.toLowerCase()==="image"?this.outputImg(q,ee):this.outputPdf(q,ee)},ce.prototype.outputPdf=function(q,ee){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(q,ee)})},ce.prototype.outputImg=function(q){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(q){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+q+'" is not supported.'}})},ce.prototype.save=function(q){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(q?{filename:q}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},ce.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},ce.prototype.set=function(q){if(I(q)!=="object")return this;var ee=Object.keys(q||{}).map(function(ke){if(ke in ce.template.prop)return function(){this.prop[ke]=q[ke]};switch(ke){case"margin":return this.setMargin.bind(this,q.margin);case"jsPDF":return function(){return this.opt.jsPDF=q.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,q.pageSize);default:return function(){this.opt[ke]=q[ke]}}},this);return this.then(function(){return this.thenList(ee)})},ce.prototype.get=function(q,ee){return this.then(function(){var ke=q in ce.template.prop?this.prop[q]:this.opt[q];return ee?ee(ke):ke})},ce.prototype.setMargin=function(q){return this.then(function(){switch(I(q)){case"number":q=[q,q,q,q];case"array":if(q.length===2&&(q=[q[0],q[1],q[0],q[1]]),q.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=q}).then(this.setPageSize)},ce.prototype.setPageSize=function(q){function ee(ke,Me){return Math.floor(ke*Me/72*96)}return this.then(function(){(q=q||We.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(q.inner={width:q.width-this.opt.margin[1]-this.opt.margin[3],height:q.height-this.opt.margin[0]-this.opt.margin[2]},q.inner.px={width:ee(q.inner.width,q.k),height:ee(q.inner.height,q.k)},q.inner.ratio=q.inner.height/q.inner.width),this.prop.pageSize=q})},ce.prototype.setProgress=function(q,ee,ke,Me){return q!=null&&(this.progress.val=q),ee!=null&&(this.progress.state=ee),ke!=null&&(this.progress.n=ke),Me!=null&&(this.progress.stack=Me),this.progress.ratio=this.progress.val/this.progress.state,this},ce.prototype.updateProgress=function(q,ee,ke,Me){return this.setProgress(q?this.progress.val+q:null,ee||null,ke?this.progress.n+ke:null,Me?this.progress.stack.concat(Me):null)},ce.prototype.then=function(q,ee){var ke=this;return this.thenCore(q,ee,function(Me,$e){return ke.updateProgress(null,null,1,[Me]),Promise.prototype.then.call(this,function(Je){return ke.updateProgress(null,Me),Je}).then(Me,$e).then(function(Je){return ke.updateProgress(1),Je})})},ce.prototype.thenCore=function(q,ee,ke){ke=ke||Promise.prototype.then;var Me=this;q&&(q=q.bind(Me)),ee&&(ee=ee.bind(Me));var $e=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Me:ce.convert(Object.assign({},Me),Promise.prototype),Je=ke.call($e,q,ee);return ce.convert(Je,Me.__proto__)},ce.prototype.thenExternal=function(q,ee){return Promise.prototype.then.call(this,q,ee)},ce.prototype.thenList=function(q){var ee=this;return q.forEach(function(ke){ee=ee.thenCore(ke)}),ee},ce.prototype.catch=function(q){q&&(q=q.bind(this));var ee=Promise.prototype.catch.call(this,q);return ce.convert(ee,this)},ce.prototype.catchExternal=function(q){return Promise.prototype.catch.call(this,q)},ce.prototype.error=function(q){return this.then(function(){throw new Error(q)})},ce.prototype.using=ce.prototype.set,ce.prototype.saveAs=ce.prototype.save,ce.prototype.export=ce.prototype.output,ce.prototype.run=ce.prototype.then,We.getPageSize=function(q,ee,ke){if((0,f.default)(q)==="object"){var Me=q;q=Me.orientation,ee=Me.unit||ee,ke=Me.format||ke}ee=ee||"mm",ke=ke||"a4",q=(""+(q||"P")).toLowerCase();var $e,Je=(""+ke).toLowerCase(),xe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ee){case"pt":$e=1;break;case"mm":$e=2.834645669291339;break;case"cm":$e=28.346456692913385;break;case"in":$e=72;break;case"px":$e=.75;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:throw"Invalid unit: "+ee}var ct,ot=0,At=0;if(xe.hasOwnProperty(Je))ot=xe[Je][1]/$e,At=xe[Je][0]/$e;else try{ot=ke[1],At=ke[0]}catch{throw new Error("Invalid format: "+ke)}if(q==="p"||q==="portrait")q="p",At>ot&&(ct=At,At=ot,ot=ct);else{if(q!=="l"&&q!=="landscape")throw"Invalid orientation: "+q;q="l",ot>At&&(ct=At,At=ot,ot=ct)}return{width:At,height:ot,unit:ee,k:$e,orientation:q}},N.html=function(q,ee){(ee=ee||{}).callback=ee.callback||function(){},ee.html2canvas=ee.html2canvas||{},ee.html2canvas.canvas=ee.html2canvas.canvas||this.canvas,ee.jsPDF=ee.jsPDF||this,ee.fontFaces=ee.fontFaces?ee.fontFaces.map(Gn):null;var ke=new ce(ee);return ee.worker?ke:ke.from(q).doCallback()}})(We.API),We.API.addJS=function(N){return ki=N,this.internal.events.subscribe("postPutResources",function(){Ao=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ao+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),fa=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ki+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ao!==void 0&&fa!==void 0&&this.internal.out("/Names <</JavaScript "+Ao+" 0 R>>")}),this},(function(N){var v;N.events.push(["postPutResources",function(){var S=this,I=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var R=S.outline.render().split(/\r\n/),V=0;V<R.length;V++){var ce=R[V],q=I.exec(ce);if(q!=null){var ee=q[1];S.internal.newObjectDeferredBegin(ee,!1)}S.internal.write(ce)}if(this.outline.createNamedDestinations){var ke=this.internal.pages.length,Me=[];for(V=0;V<ke;V++){var $e=S.internal.newObject();Me.push($e);var Je=S.internal.getPageInfo(V+1);S.internal.write("<< /D["+Je.objId+" 0 R /XYZ null null null]>> endobj")}var xe=S.internal.newObject();for(S.internal.write("<< /Names [ "),V=0;V<Me.length;V++)S.internal.write("(page_"+(V+1)+")"+Me[V]+" 0 R");S.internal.write(" ] >>","endobj"),v=S.internal.newObject(),S.internal.write("<< /Dests "+xe+" 0 R"),S.internal.write(">>","endobj")}}]),N.events.push(["putCatalog",function(){var S=this;S.outline.root.children.length>0&&(S.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&S.internal.write("/Names "+v+" 0 R"))}]),N.events.push(["initialized",function(){var S=this;S.outline={createNamedDestinations:!1,root:{children:[]}},S.outline.add=function(I,R,V){var ce={title:R,options:V,children:[]};return I==null&&(I=this.root),I.children.push(ce),ce},S.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=S,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},S.outline.genIds_r=function(I){I.id=S.internal.newObjectDeferred();for(var R=0;R<I.children.length;R++)this.genIds_r(I.children[R])},S.outline.renderRoot=function(I){this.objStart(I),this.line("/Type /Outlines"),I.children.length>0&&(this.line("/First "+this.makeRef(I.children[0])),this.line("/Last "+this.makeRef(I.children[I.children.length-1]))),this.line("/Count "+this.count_r({count:0},I)),this.objEnd()},S.outline.renderItems=function(I){for(var R=this.ctx.pdf.internal.getVerticalCoordinateString,V=0;V<I.children.length;V++){var ce=I.children[V];this.objStart(ce),this.line("/Title "+this.makeString(ce.title)),this.line("/Parent "+this.makeRef(I)),V>0&&this.line("/Prev "+this.makeRef(I.children[V-1])),V<I.children.length-1&&this.line("/Next "+this.makeRef(I.children[V+1])),ce.children.length>0&&(this.line("/First "+this.makeRef(ce.children[0])),this.line("/Last "+this.makeRef(ce.children[ce.children.length-1])));var q=this.count=this.count_r({count:0},ce);if(q>0&&this.line("/Count "+q),ce.options&&ce.options.pageNumber){var ee=S.internal.getPageInfo(ce.options.pageNumber);this.line("/Dest ["+ee.objId+" 0 R /XYZ 0 "+R(0)+" 0]")}this.objEnd()}for(var ke=0;ke<I.children.length;ke++)this.renderItems(I.children[ke])},S.outline.line=function(I){this.ctx.val+=I+`\r
`},S.outline.makeRef=function(I){return I.id+" 0 R"},S.outline.makeString=function(I){return"("+S.internal.pdfEscape(I)+")"},S.outline.objStart=function(I){this.ctx.val+=`\r
`+I.id+` 0 obj\r
<<\r
`},S.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},S.outline.count_r=function(I,R){for(var V=0;V<R.children.length;V++)I.count++,this.count_r(I,R.children[V]);return I.count}}])})(We.API),(function(N){var v=[192,193,194,195,196,197,198,199];N.processJPEG=function(S,I,R,V,ce,q){var ee,ke=this.decode.DCT_DECODE,Me=null;if(typeof S=="string"||this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S)){switch(S=ce||S,S=this.__addimage__.isArrayBuffer(S)?new Uint8Array(S):S,ee=(function($e){for(var Je,xe=256*$e.charCodeAt(4)+$e.charCodeAt(5),ct=$e.length,ot={width:0,height:0,numcomponents:1},At=4;At<ct;At+=2){if(At+=xe,v.indexOf($e.charCodeAt(At+1))!==-1){Je=256*$e.charCodeAt(At+5)+$e.charCodeAt(At+6),ot={width:256*$e.charCodeAt(At+7)+$e.charCodeAt(At+8),height:Je,numcomponents:$e.charCodeAt(At+9)};break}xe=256*$e.charCodeAt(At+2)+$e.charCodeAt(At+3)}return ot})(S=this.__addimage__.isArrayBufferView(S)?this.__addimage__.arrayBufferToBinaryString(S):S),ee.numcomponents){case 1:q=this.color_spaces.DEVICE_GRAY;break;case 4:q=this.color_spaces.DEVICE_CMYK;break;case 3:q=this.color_spaces.DEVICE_RGB}Me={data:S,width:ee.width,height:ee.height,colorSpace:q,bitsPerComponent:8,filter:ke,index:I,alias:R}}return Me}})(We.API),We.API.processPNG=function(N,v,S,I){if(this.__addimage__.isArrayBuffer(N)&&(N=new Uint8Array(N)),this.__addimage__.isArrayBufferView(N)){var R,V=(0,x.decode)(N,{checkCrc:!0}),ce=V.width,q=V.height,ee=V.channels,ke=V.palette,Me=V.depth;R=ke&&ee===1?(function(Ht){for(var vt=Ht.width,es=Ht.height,Xe=Ht.data,rt=Ht.palette,xt=Ht.depth,bt=!1,rs=[],us=[],ys=void 0,Kt=!1,ms=0,Js=0;Js<rt.length;Js++){var Hs=(0,m.default)(rt[Js],4),_e=Hs[0],dt=Hs[1],ht=Hs[2],Ot=Hs[3];rs.push(_e,dt,ht),Ot!=null&&(Ot===0?(ms++,us.length<1&&us.push(Js)):Ot<255&&(Kt=!0))}if(Kt||ms>1){bt=!0,us=void 0;var Rt=vt*es;ys=new Uint8Array(Rt);for(var Yt=new DataView(Xe.buffer),gs=0;gs<Rt;gs++){var bs=fi(Yt,gs,xt),Us=(0,m.default)(rt[bs],4)[3];ys[gs]=Us}}else ms===0&&(us=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:bt?8:void 0,colorBytes:Xe,alphaBytes:ys,needSMask:bt,palette:rs,mask:us}})(V):ee===2||ee===4?(function(Ht){for(var vt=Ht.data,es=Ht.width,Xe=Ht.height,rt=Ht.channels,xt=Ht.depth,bt=rt===2?"DeviceGray":"DeviceRGB",rs=rt-1,us=es*Xe,ys=rs,Kt=us*ys,ms=1*us,Js=Math.ceil(Kt*xt/8),Hs=Math.ceil(ms*xt/8),_e=new Uint8Array(Js),dt=new Uint8Array(Hs),ht=new DataView(vt.buffer),Ot=new DataView(_e.buffer),Rt=new DataView(dt.buffer),Yt=!1,gs=0;gs<us;gs++){for(var bs=gs*rt,Us=0;Us<ys;Us++)Wr(Ot,fi(ht,bs+Us,xt),gs*ys+Us,xt);var Zs=fi(ht,bs+ys,xt);Zs<(1<<xt)-1&&(Yt=!0),Wr(Rt,Zs,1*gs,xt)}return{colorSpace:bt,colorsPerPixel:rs,sMaskBitsPerComponent:Yt?xt:void 0,colorBytes:_e,alphaBytes:dt,needSMask:Yt}})(V):(function(Ht){var vt=Ht.data,es=Ht.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:es,colorsPerPixel:es==="DeviceGray"?1:3,colorBytes:vt instanceof Uint16Array?(function(Xe){for(var rt=Xe.length,xt=new Uint8Array(2*rt),bt=new DataView(xt.buffer,xt.byteOffset,xt.byteLength),rs=0;rs<rt;rs++)bt.setUint16(2*rs,Xe[rs],!1);return xt})(vt):vt,needSMask:!1}})(V);var $e,Je,xe,ct=R,ot=ct.colorSpace,At=ct.colorsPerPixel,Ye=ct.sMaskBitsPerComponent,yt=ct.colorBytes,Pt=ct.alphaBytes,gt=ct.needSMask,Ge=ct.palette,Mt=ct.mask,is=null;return I!==We.API.image_compression.NONE&&typeof p.zlibSync=="function"?(is=(function(Ht){var vt;switch(Ht){case We.API.image_compression.FAST:vt=11;break;case We.API.image_compression.MEDIUM:vt=13;break;case We.API.image_compression.SLOW:vt=14;break;default:vt=12}return vt})(I),$e=this.decode.FLATE_DECODE,Je="/Predictor ".concat(is," /Colors ").concat(At," /BitsPerComponent ").concat(Me," /Columns ").concat(ce),N=hl(yt,Math.ceil(ce*At*Me/8),At,Me,I),gt&&(xe=hl(Pt,Math.ceil(ce*Ye/8),1,Ye,I))):($e=void 0,Je=void 0,N=yt,gt&&(xe=Pt)),(this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),(xe&&this.__addimage__.isArrayBuffer(xe)||this.__addimage__.isArrayBufferView(xe))&&(xe=this.__addimage__.arrayBufferToBinaryString(xe)),{alias:S,data:N,index:v,filter:$e,decodeParameters:Je,transparency:Mt,palette:Ge,sMask:xe,predictor:is,width:ce,height:q,bitsPerComponent:Me,sMaskBitsPerComponent:Ye,colorSpace:ot}}},(function(N){N.processGIF89A=function(v,S,I,R){var V=new Bi(v),ce=V.width,q=V.height,ee=[];V.decodeAndBlitFrameRGBA(0,ee);var ke={data:ee,width:ce,height:q},Me=new po(100).encode(ke,100);return N.processJPEG.call(this,Me,S,I,R)},N.processGIF87A=N.processGIF89A})(We.API),Wn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var N=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(N);for(var v=0;v<N;v++){var S=this.datav.getUint8(this.pos++,!0),I=this.datav.getUint8(this.pos++,!0),R=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0);this.palette[v]={red:R,green:I,blue:S,quad:V}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wn.prototype.parseBGR=function(){this.pos=this.offset;try{var N="bit"+this.bitPP,v=this.width*this.height*4;this.data=new Uint8Array(v),this[N]()}catch(S){y.log("bit decode error:"+S)}},Wn.prototype.bit1=function(){var N,v=Math.ceil(this.width/8),S=v%4;for(N=this.height-1;N>=0;N--){for(var I=this.bottom_up?N:this.height-1-N,R=0;R<v;R++)for(var V=this.datav.getUint8(this.pos++,!0),ce=I*this.width*4+8*R*4,q=0;q<8&&8*R+q<this.width;q++){var ee=this.palette[V>>7-q&1];this.data[ce+4*q]=ee.blue,this.data[ce+4*q+1]=ee.green,this.data[ce+4*q+2]=ee.red,this.data[ce+4*q+3]=255}S!==0&&(this.pos+=4-S)}},Wn.prototype.bit4=function(){for(var N=Math.ceil(this.width/2),v=N%4,S=this.height-1;S>=0;S--){for(var I=this.bottom_up?S:this.height-1-S,R=0;R<N;R++){var V=this.datav.getUint8(this.pos++,!0),ce=I*this.width*4+2*R*4,q=V>>4,ee=15&V,ke=this.palette[q];if(this.data[ce]=ke.blue,this.data[ce+1]=ke.green,this.data[ce+2]=ke.red,this.data[ce+3]=255,2*R+1>=this.width)break;ke=this.palette[ee],this.data[ce+4]=ke.blue,this.data[ce+4+1]=ke.green,this.data[ce+4+2]=ke.red,this.data[ce+4+3]=255}v!==0&&(this.pos+=4-v)}},Wn.prototype.bit8=function(){for(var N=this.width%4,v=this.height-1;v>=0;v--){for(var S=this.bottom_up?v:this.height-1-v,I=0;I<this.width;I++){var R=this.datav.getUint8(this.pos++,!0),V=S*this.width*4+4*I;if(R<this.palette.length){var ce=this.palette[R];this.data[V]=ce.red,this.data[V+1]=ce.green,this.data[V+2]=ce.blue,this.data[V+3]=255}else this.data[V]=255,this.data[V+1]=255,this.data[V+2]=255,this.data[V+3]=255}N!==0&&(this.pos+=4-N)}},Wn.prototype.bit15=function(){for(var N=this.width%3,v=parseInt("11111",2),S=this.height-1;S>=0;S--){for(var I=this.bottom_up?S:this.height-1-S,R=0;R<this.width;R++){var V=this.datav.getUint16(this.pos,!0);this.pos+=2;var ce=(V&v)/v*255|0,q=(V>>5&v)/v*255|0,ee=(V>>10&v)/v*255|0,ke=V>>15?255:0,Me=I*this.width*4+4*R;this.data[Me]=ee,this.data[Me+1]=q,this.data[Me+2]=ce,this.data[Me+3]=ke}this.pos+=N}},Wn.prototype.bit16=function(){for(var N=this.width%3,v=parseInt("11111",2),S=parseInt("111111",2),I=this.height-1;I>=0;I--){for(var R=this.bottom_up?I:this.height-1-I,V=0;V<this.width;V++){var ce=this.datav.getUint16(this.pos,!0);this.pos+=2;var q=(ce&v)/v*255|0,ee=(ce>>5&S)/S*255|0,ke=(ce>>11)/v*255|0,Me=R*this.width*4+4*V;this.data[Me]=ke,this.data[Me+1]=ee,this.data[Me+2]=q,this.data[Me+3]=255}this.pos+=N}},Wn.prototype.bit24=function(){for(var N=this.height-1;N>=0;N--){for(var v=this.bottom_up?N:this.height-1-N,S=0;S<this.width;S++){var I=this.datav.getUint8(this.pos++,!0),R=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0),ce=v*this.width*4+4*S;this.data[ce]=V,this.data[ce+1]=R,this.data[ce+2]=I,this.data[ce+3]=255}this.pos+=this.width%4}},Wn.prototype.bit32=function(){for(var N=this.height-1;N>=0;N--)for(var v=this.bottom_up?N:this.height-1-N,S=0;S<this.width;S++){var I=this.datav.getUint8(this.pos++,!0),R=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0),ce=this.datav.getUint8(this.pos++,!0),q=v*this.width*4+4*S;this.data[q]=V,this.data[q+1]=R,this.data[q+2]=I,this.data[q+3]=ce}},Wn.prototype.getData=function(){return this.data},(function(N){N.processBMP=function(v,S,I,R){var V=new Wn(v,!1),ce=V.width,q=V.height,ee={data:V.getData(),width:ce,height:q},ke=new po(100).encode(ee,100);return N.processJPEG.call(this,ke,S,I,R)}})(We.API),Ki.prototype.getData=function(){return this.data},(function(N){N.processWEBP=function(v,S,I,R){var V=new Ki(v),ce=V.width,q=V.height,ee={data:V.getData(),width:ce,height:q},ke=new po(100).encode(ee,100);return N.processJPEG.call(this,ke,S,I,R)}})(We.API),We.API.processRGBA=function(N,v,S){for(var I=N.data,R=I.length,V=new Uint8Array(R/4*3),ce=new Uint8Array(R/4),q=0,ee=0,ke=0;ke<R;ke+=4){var Me=I[ke],$e=I[ke+1],Je=I[ke+2],xe=I[ke+3];V[q++]=Me,V[q++]=$e,V[q++]=Je,ce[ee++]=xe}var ct=this.__addimage__.arrayBufferToBinaryString(V);return{alpha:this.__addimage__.arrayBufferToBinaryString(ce),data:ct,index:v,alias:S,colorSpace:"DeviceRGB",bitsPerComponent:8,width:N.width,height:N.height}},We.API.setLanguage=function(N){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[N]!==void 0&&(this.internal.languageSettings.languageCode=N,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ra=We.API,Fa=ra.getCharWidthsArray=function(N,v){var S,I,R=(v=v||{}).font||this.internal.getFont(),V=v.fontSize||this.internal.getFontSize(),ce=v.charSpace||this.internal.getCharSpace(),q=v.widths?v.widths:R.metadata.Unicode.widths,ee=q.fof?q.fof:1,ke=v.kerning?v.kerning:R.metadata.Unicode.kerning,Me=ke.fof?ke.fof:1,$e=v.doKerning!==!1,Je=0,xe=N.length,ct=0,ot=q[0]||ee,At=[];for(S=0;S<xe;S++)I=N.charCodeAt(S),typeof R.metadata.widthOfString=="function"?At.push((R.metadata.widthOfGlyph(R.metadata.characterToGlyph(I))+ce*(1e3/V)||0)/1e3):(Je=$e&&(0,f.default)(ke[I])==="object"&&!isNaN(parseInt(ke[I][ct],10))?ke[I][ct]/Me:0,At.push((q[I]||ot)/ee+Je)),ct=I;return At},qn=ra.getStringUnitWidth=function(N,v){var S=(v=v||{}).fontSize||this.internal.getFontSize(),I=v.font||this.internal.getFont(),R=v.charSpace||this.internal.getCharSpace();return ra.processArabic&&(N=ra.processArabic(N)),typeof I.metadata.widthOfString=="function"?I.metadata.widthOfString(N,S,R)/S:Fa.apply(this,arguments).reduce(function(V,ce){return V+ce},0)},ho=function(N,v,S,I){for(var R=[],V=0,ce=N.length,q=0;V!==ce&&q+v[V]<S;)q+=v[V],V++;R.push(N.slice(0,V));var ee=V;for(q=0;V!==ce;)q+v[V]>I&&(R.push(N.slice(ee,V)),q=0,ee=V),q+=v[V],V++;return ee!==V&&R.push(N.slice(ee,V)),R},hi=function(N,v,S){S||(S={});var I,R,V,ce,q,ee,ke,Me=[],$e=[Me],Je=S.textIndent||0,xe=0,ct=0,ot=N.split(" "),At=Fa.apply(this,[" ",S])[0];if(ee=S.lineIndent===-1?ot[0].length+2:S.lineIndent||0){var Ye=Array(ee).join(" "),yt=[];ot.map(function(gt){(gt=gt.split(/\s*\n/)).length>1?yt=yt.concat(gt.map(function(Ge,Mt){return(Mt&&Ge.length?`
`:"")+Ge})):yt.push(gt[0])}),ot=yt,ee=qn.apply(this,[Ye,S])}for(V=0,ce=ot.length;V<ce;V++){var Pt=0;if(I=ot[V],ee&&I[0]==`
`&&(I=I.substr(1),Pt=1),Je+xe+(ct=(R=Fa.apply(this,[I,S])).reduce(function(gt,Ge){return gt+Ge},0))>v||Pt){if(ct>v){for(q=ho.apply(this,[I,R,v-(Je+xe),v]),Me.push(q.shift()),Me=[q.pop()];q.length;)$e.push([q.shift()]);ct=R.slice(I.length-(Me[0]?Me[0].length:0)).reduce(function(gt,Ge){return gt+Ge},0)}else Me=[I];$e.push(Me),Je=ct+ee,xe=At}else Me.push(I),Je+=xe+ct,xe=At}return ke=ee?function(gt,Ge){return(Ge?Ye:"")+gt.join(" ")}:function(gt){return gt.join(" ")},$e.map(ke)},ra.splitTextToSize=function(N,v,S){var I,R=(S=S||{}).fontSize||this.internal.getFontSize(),V=(function(Me){if(Me.widths&&Me.kerning)return{widths:Me.widths,kerning:Me.kerning};var $e=this.internal.getFont(Me.fontName,Me.fontStyle),Je="Unicode";return $e.metadata[Je]?{widths:$e.metadata[Je].widths||{0:1},kerning:$e.metadata[Je].kerning||{}}:{font:$e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,S);I=Array.isArray(N)?N:String(N).split(/\r?\n/);var ce=1*this.internal.scaleFactor*v/R;V.textIndent=S.textIndent?1*S.textIndent*this.internal.scaleFactor/R:0,V.lineIndent=S.lineIndent;var q,ee,ke=[];for(q=0,ee=I.length;q<ee;q++)ke=ke.concat(hi.apply(this,[I[q],ce,V]));return ke},(function(N){N.__fontmetrics__=N.__fontmetrics__||{};for(var v="0123456789abcdef",S="klmnopqrstuvwxyz",I={},R={},V=0;V<16;V++)I[S[V]]=v[V],R[v[V]]=S[V];var ce=function(Je){return"0x"+parseInt(Je,10).toString(16)},q=N.__fontmetrics__.compress=function(Je){var xe,ct,ot,At,Ye=["{"];for(var yt in Je){if(xe=Je[yt],isNaN(parseInt(yt,10))?ct="'"+yt+"'":(yt=parseInt(yt,10),ct=(ct=ce(yt).slice(2)).slice(0,-1)+R[ct.slice(-1)]),typeof xe=="number")xe<0?(ot=ce(xe).slice(3),At="-"):(ot=ce(xe).slice(2),At=""),ot=At+ot.slice(0,-1)+R[ot.slice(-1)];else{if((0,f.default)(xe)!=="object")throw new Error("Don't know what to do with value type "+(0,f.default)(xe)+".");ot=q(xe)}Ye.push(ct+ot)}return Ye.push("}"),Ye.join("")},ee=N.__fontmetrics__.uncompress=function(Je){if(typeof Je!="string")throw new Error("Invalid argument passed to uncompress.");for(var xe,ct,ot,At,Ye={},yt=1,Pt=Ye,gt=[],Ge="",Mt="",is=Je.length-1,Ht=1;Ht<is;Ht+=1)(At=Je[Ht])=="'"?xe?(ot=xe.join(""),xe=void 0):xe=[]:xe?xe.push(At):At=="{"?(gt.push([Pt,ot]),Pt={},ot=void 0):At=="}"?((ct=gt.pop())[0][ct[1]]=Pt,ot=void 0,Pt=ct[0]):At=="-"?yt=-1:ot===void 0?I.hasOwnProperty(At)?(Ge+=I[At],ot=parseInt(Ge,16)*yt,yt=1,Ge=""):Ge+=At:I.hasOwnProperty(At)?(Mt+=I[At],Pt[ot]=parseInt(Mt,16)*yt,yt=1,ot=void 0,Mt=""):Mt+=At;return Ye},ke={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ee("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Me={Unicode:{Courier:ke,"Courier-Bold":ke,"Courier-BoldOblique":ke,"Courier-Oblique":ke,Helvetica:ke,"Helvetica-Bold":ke,"Helvetica-BoldOblique":ke,"Helvetica-Oblique":ke,"Times-Roman":ke,"Times-Bold":ke,"Times-BoldItalic":ke,"Times-Italic":ke}},$e={Unicode:{"Courier-Oblique":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ee("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ee("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ee("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ee("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ee("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ee("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};N.events.push(["addFont",function(Je){var xe=Je.font,ct=$e.Unicode[xe.postScriptName];ct&&(xe.metadata.Unicode={},xe.metadata.Unicode.widths=ct.widths,xe.metadata.Unicode.kerning=ct.kerning);var ot=Me.Unicode[xe.postScriptName];ot&&(xe.metadata.Unicode.encoding=ot,xe.encoding=ot.codePages[0])}])})(We.API),(function(N){var v=function(S){for(var I=S.length,R=new Uint8Array(I),V=0;V<I;V++)R[V]=S.charCodeAt(V);return R};N.API.events.push(["addFont",function(S){var I=void 0,R=S.font,V=S.instance;if(!R.isStandardFont){if(V===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+R.postScriptName+"').");if(typeof(I=V.existsFileInVFS(R.postScriptName)===!1?V.loadFile(R.postScriptName):V.getFileFromVFS(R.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+R.postScriptName+"').");(function(ce,q){q=/^\x00\x01\x00\x00/.test(q)?v(q):v(Q(q)),ce.metadata=N.API.TTFFont.open(q),ce.metadata.Unicode=ce.metadata.Unicode||{encoding:{},kerning:{},widths:[]},ce.metadata.glyIdsUsed=[0]})(R,I)}}])})(We),We.API.addSvgAsImage=function(N,v,S,I,R,V,ce,q){if(isNaN(v)||isNaN(S))throw y.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(I)||isNaN(R))throw y.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ee=document.createElement("canvas");ee.width=I,ee.height=R;var ke=ee.getContext("2d");ke.fillStyle="#fff",ke.fillRect(0,0,ee.width,ee.height);var Me={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},$e=this;return(b.canvg?Promise.resolve(b.canvg):Promise.resolve().then(o.bind(o,"./node_modules/canvg/lib/index.es.js"))).catch(function(Je){return Promise.reject(new Error("Could not load canvg: "+Je))}).then(function(Je){return Je.default?Je.default:Je}).then(function(Je){return Je.fromString(ke,N,Me)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Je){return Je.render(Me)}).then(function(){$e.addImage(ee.toDataURL("image/jpeg",1),v,S,I,R,ce,q)})},We.API.putTotalPages=function(N){var v,S=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(v=new RegExp(N,"g"),S=this.internal.getNumberOfPages()):(v=new RegExp(this.pdfEscape16(N,this.internal.getFont()),"g"),S=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var I=1;I<=this.internal.getNumberOfPages();I++)for(var R=0;R<this.internal.pages[I].length;R++)this.internal.pages[I][R]=this.internal.pages[I][R].replace(v,S);return this},We.API.viewerPreferences=function(N,v){var S;N=N||{},v=v||!1;var I,R,V,ce={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},q=Object.keys(ce),ee=[],ke=0,Me=0,$e=0;function Je(ct,ot){var At,Ye=!1;for(At=0;At<ct.length;At+=1)ct[At]===ot&&(Ye=!0);return Ye}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(ce)),this.internal.viewerpreferences.isSubscribed=!1),S=this.internal.viewerpreferences.configuration,N==="reset"||v===!0){var xe=q.length;for($e=0;$e<xe;$e+=1)S[q[$e]].value=S[q[$e]].defaultValue,S[q[$e]].explicitSet=!1}if((0,f.default)(N)==="object"){for(R in N)if(V=N[R],Je(q,R)&&V!==void 0){if(S[R].type==="boolean"&&typeof V=="boolean")S[R].value=V;else if(S[R].type==="name"&&Je(S[R].valueSet,V))S[R].value=V;else if(S[R].type==="integer"&&Number.isInteger(V))S[R].value=V;else if(S[R].type==="array"){for(ke=0;ke<V.length;ke+=1)if(I=!0,V[ke].length===1&&typeof V[ke][0]=="number")ee.push(String(V[ke]-1));else if(V[ke].length>1){for(Me=0;Me<V[ke].length;Me+=1)typeof V[ke][Me]!="number"&&(I=!1);I===!0&&ee.push([V[ke][0]-1,V[ke][1]-1].join(" "))}S[R].value="["+ee.join(" ")+"]"}else S[R].value=S[R].defaultValue;S[R].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var ct,ot=[];for(ct in S)S[ct].explicitSet===!0&&(S[ct].type==="name"?ot.push("/"+ct+" /"+S[ct].value):ot.push("/"+ct+" "+S[ct].value));ot.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+ot.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=S,this},(function(N){var v=function(){var I='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',R=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),V=unescape(encodeURIComponent(I)),ce=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),q=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),ee=unescape(encodeURIComponent("</x:xmpmeta>")),ke=V.length+ce.length+q.length+R.length+ee.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+ke+" >>"),this.internal.write("stream"),this.internal.write(R+V+ce+q+ee),this.internal.write("endstream"),this.internal.write("endobj")},S=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};N.addMetadata=function(I,R){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:I,namespaceuri:R||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",S),this.internal.events.subscribe("postPutResources",v)),this}})(We.API),(function(N){var v=N.API,S=v.pdfEscape16=function(V,ce){for(var q,ee=ce.metadata.Unicode.widths,ke=["","0","00","000","0000"],Me=[""],$e=0,Je=V.length;$e<Je;++$e){if(q=ce.metadata.characterToGlyph(V.charCodeAt($e)),ce.metadata.glyIdsUsed.push(q),ce.metadata.toUnicode[q]=V.charCodeAt($e),ee.indexOf(q)==-1&&(ee.push(q),ee.push([parseInt(ce.metadata.widthOfGlyph(q),10)])),q=="0")return Me.join("");q=q.toString(16),Me.push(ke[4-q.length],q)}return Me.join("")},I=function(V){var ce,q,ee,ke,Me,$e,Je;for(Me=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,ee=[],$e=0,Je=(q=Object.keys(V).sort(function(xe,ct){return xe-ct})).length;$e<Je;$e++)ce=q[$e],ee.length>=100&&(Me+=`
`+ee.length+` beginbfchar
`+ee.join(`
`)+`
endbfchar`,ee=[]),V[ce]!==void 0&&V[ce]!==null&&typeof V[ce].toString=="function"&&(ke=("0000"+V[ce].toString(16)).slice(-4),ce=("0000"+(+ce).toString(16)).slice(-4),ee.push("<"+ce+"><"+ke+">"));return ee.length&&(Me+=`
`+ee.length+` beginbfchar
`+ee.join(`
`)+`
endbfchar
`),Me+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};v.events.push(["putFont",function(V){(function(ce){var q=ce.font,ee=ce.out,ke=ce.newObject,Me=ce.putStream;if(q.metadata instanceof N.API.TTFFont&&q.encoding==="Identity-H"){for(var $e=q.metadata.Unicode.widths,Je=q.metadata.subset.encode(q.metadata.glyIdsUsed,1),xe="",ct=0;ct<Je.length;ct++)xe+=String.fromCharCode(Je[ct]);var ot=ke();Me({data:xe,addLength1:!0,objectId:ot}),ee("endobj");var At=ke();Me({data:I(q.metadata.toUnicode),addLength1:!0,objectId:At}),ee("endobj");var Ye=ke();ee("<<"),ee("/Type /FontDescriptor"),ee("/FontName /"+te(q.fontName)),ee("/FontFile2 "+ot+" 0 R"),ee("/FontBBox "+N.API.PDFObject.convert(q.metadata.bbox)),ee("/Flags "+q.metadata.flags),ee("/StemV "+q.metadata.stemV),ee("/ItalicAngle "+q.metadata.italicAngle),ee("/Ascent "+q.metadata.ascender),ee("/Descent "+q.metadata.decender),ee("/CapHeight "+q.metadata.capHeight),ee(">>"),ee("endobj");var yt=ke();ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+te(q.fontName)),ee("/FontDescriptor "+Ye+" 0 R"),ee("/W "+N.API.PDFObject.convert($e)),ee("/CIDToGIDMap /Identity"),ee("/DW 1000"),ee("/Subtype /CIDFontType2"),ee("/CIDSystemInfo"),ee("<<"),ee("/Supplement 0"),ee("/Registry (Adobe)"),ee("/Ordering ("+q.encoding+")"),ee(">>"),ee(">>"),ee("endobj"),q.objectNumber=ke(),ee("<<"),ee("/Type /Font"),ee("/Subtype /Type0"),ee("/ToUnicode "+At+" 0 R"),ee("/BaseFont /"+te(q.fontName)),ee("/Encoding /"+q.encoding),ee("/DescendantFonts ["+yt+" 0 R]"),ee(">>"),ee("endobj"),q.isAlreadyPutted=!0}})(V)}]),v.events.push(["putFont",function(V){(function(ce){var q=ce.font,ee=ce.out,ke=ce.newObject,Me=ce.putStream;if(q.metadata instanceof N.API.TTFFont&&q.encoding==="WinAnsiEncoding"){for(var $e=q.metadata.rawData,Je="",xe=0;xe<$e.length;xe++)Je+=String.fromCharCode($e[xe]);var ct=ke();Me({data:Je,addLength1:!0,objectId:ct}),ee("endobj");var ot=ke();Me({data:I(q.metadata.toUnicode),addLength1:!0,objectId:ot}),ee("endobj");var At=ke();ee("<<"),ee("/Descent "+q.metadata.decender),ee("/CapHeight "+q.metadata.capHeight),ee("/StemV "+q.metadata.stemV),ee("/Type /FontDescriptor"),ee("/FontFile2 "+ct+" 0 R"),ee("/Flags 96"),ee("/FontBBox "+N.API.PDFObject.convert(q.metadata.bbox)),ee("/FontName /"+te(q.fontName)),ee("/ItalicAngle "+q.metadata.italicAngle),ee("/Ascent "+q.metadata.ascender),ee(">>"),ee("endobj"),q.objectNumber=ke();for(var Ye=0;Ye<q.metadata.hmtx.widths.length;Ye++)q.metadata.hmtx.widths[Ye]=parseInt(q.metadata.hmtx.widths[Ye]*(1e3/q.metadata.head.unitsPerEm));ee("<</Subtype/TrueType/Type/Font/ToUnicode "+ot+" 0 R/BaseFont/"+te(q.fontName)+"/FontDescriptor "+At+" 0 R/Encoding/"+q.encoding+" /FirstChar 29 /LastChar 255 /Widths "+N.API.PDFObject.convert(q.metadata.hmtx.widths)+">>"),ee("endobj"),q.isAlreadyPutted=!0}})(V)}]);var R=function(V){var ce,q=V.text||"",ee=V.x,ke=V.y,Me=V.options||{},$e=V.mutex||{},Je=$e.pdfEscape,xe=$e.activeFontKey,ct=$e.fonts,ot=xe,At="",Ye=0,yt="",Pt=ct[ot].encoding;if(ct[ot].encoding!=="Identity-H")return{text:q,x:ee,y:ke,options:Me,mutex:$e};for(yt=q,ot=xe,Array.isArray(q)&&(yt=q[0]),Ye=0;Ye<yt.length;Ye+=1)ct[ot].metadata.hasOwnProperty("cmap")&&(ce=ct[ot].metadata.cmap.unicode.codeMap[yt[Ye].charCodeAt(0)]),ce||yt[Ye].charCodeAt(0)<256&&ct[ot].metadata.hasOwnProperty("Unicode")?At+=yt[Ye]:At+="";var gt="";return parseInt(ot.slice(1))<14||Pt==="WinAnsiEncoding"?gt=Je(At,ot).split("").map(function(Ge){return Ge.charCodeAt(0).toString(16)}).join(""):Pt==="Identity-H"&&(gt=S(At,ct[ot])),$e.isHex=!0,{text:gt,x:ee,y:ke,options:Me,mutex:$e}};v.events.push(["postProcessText",function(V){var ce=V.text||"",q=[],ee={text:ce,x:V.x,y:V.y,options:V.options,mutex:V.mutex};if(Array.isArray(ce)){var ke=0;for(ke=0;ke<ce.length;ke+=1)Array.isArray(ce[ke])&&ce[ke].length===3?q.push([R(Object.assign({},ee,{text:ce[ke][0]})).text,ce[ke][1],ce[ke][2]]):q.push(R(Object.assign({},ee,{text:ce[ke]})).text);V.text=q}else V.text=R(Object.assign({},ee,{text:ce})).text}])})(We),(function(N){var v=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};N.existsFileInVFS=function(S){return v.call(this),this.internal.vFS[S]!==void 0},N.addFileToVFS=function(S,I){return v.call(this),this.internal.vFS[S]=I,this},N.getFileFromVFS=function(S){return v.call(this),this.internal.vFS[S]!==void 0?this.internal.vFS[S]:null}})(We.API),(function(N){N.__bidiEngine__=N.prototype.__bidiEngine__=function(I){var R,V,ce,q,ee,ke,Me,$e=v,Je=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],xe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ct={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},ot={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},At=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ye=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),yt=!1,Pt=0;this.__bidiEngine__={};var gt=function(Xe){var rt=Xe.charCodeAt(),xt=rt>>8,bt=ot[xt];return bt!==void 0?$e[256*bt+(255&rt)]:xt===252||xt===253?"AL":Ye.test(xt)?"L":xt===8?"R":"N"},Ge=function(Xe){for(var rt,xt=0;xt<Xe.length;xt++){if((rt=gt(Xe.charAt(xt)))==="L")return!1;if(rt==="R")return!0}return!1},Mt=function(Xe,rt,xt,bt){var rs,us,ys,Kt,ms=rt[bt];switch(ms){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":yt=!1;break;case"N":case"AN":break;case"EN":yt&&(ms="AN");break;case"AL":yt=!0,ms="R";break;case"WS":case"BN":ms="N";break;case"CS":bt<1||bt+1>=rt.length||(rs=xt[bt-1])!=="EN"&&rs!=="AN"||(us=rt[bt+1])!=="EN"&&us!=="AN"?ms="N":yt&&(us="AN"),ms=us===rs?us:"N";break;case"ES":ms=(rs=bt>0?xt[bt-1]:"B")==="EN"&&bt+1<rt.length&&rt[bt+1]==="EN"?"EN":"N";break;case"ET":if(bt>0&&xt[bt-1]==="EN"){ms="EN";break}if(yt){ms="N";break}for(ys=bt+1,Kt=rt.length;ys<Kt&&rt[ys]==="ET";)ys++;ms=ys<Kt&&rt[ys]==="EN"?"EN":"N";break;case"NSM":if(ce&&!q){for(Kt=rt.length,ys=bt+1;ys<Kt&&rt[ys]==="NSM";)ys++;if(ys<Kt){var Js=Xe[bt],Hs=Js>=1425&&Js<=2303||Js===64286;if(rs=rt[ys],Hs&&(rs==="R"||rs==="AL")){ms="R";break}}}ms=bt<1||(rs=rt[bt-1])==="B"?"N":xt[bt-1];break;case"B":yt=!1,R=!0,ms=Pt;break;case"S":V=!0,ms="N"}return ms},is=function(Xe,rt,xt){var bt=Xe.split("");return xt&&Ht(bt,xt,{hiLevel:Pt}),bt.reverse(),rt&&rt.reverse(),bt.join("")},Ht=function(Xe,rt,xt){var bt,rs,us,ys,Kt,ms=-1,Js=Xe.length,Hs=0,_e=[],dt=Pt?xe:Je,ht=[];for(yt=!1,R=!1,V=!1,rs=0;rs<Js;rs++)ht[rs]=gt(Xe[rs]);for(us=0;us<Js;us++){if(Kt=Hs,_e[us]=Mt(Xe,ht,_e,us),bt=240&(Hs=dt[Kt][ct[_e[us]]]),Hs&=15,rt[us]=ys=dt[Hs][5],bt>0)if(bt===16){for(rs=ms;rs<us;rs++)rt[rs]=1;ms=-1}else ms=-1;if(dt[Hs][6])ms===-1&&(ms=us);else if(ms>-1){for(rs=ms;rs<us;rs++)rt[rs]=ys;ms=-1}ht[us]==="B"&&(rt[us]=0),xt.hiLevel|=ys}V&&(function(Ot,Rt,Yt){for(var gs=0;gs<Yt;gs++)if(Ot[gs]==="S"){Rt[gs]=Pt;for(var bs=gs-1;bs>=0&&Ot[bs]==="WS";bs--)Rt[bs]=Pt}})(ht,rt,Js)},vt=function(Xe,rt,xt,bt,rs){if(!(rs.hiLevel<Xe)){if(Xe===1&&Pt===1&&!R)return rt.reverse(),void(xt&&xt.reverse());for(var us,ys,Kt,ms,Js=rt.length,Hs=0;Hs<Js;){if(bt[Hs]>=Xe){for(Kt=Hs+1;Kt<Js&&bt[Kt]>=Xe;)Kt++;for(ms=Hs,ys=Kt-1;ms<ys;ms++,ys--)us=rt[ms],rt[ms]=rt[ys],rt[ys]=us,xt&&(us=xt[ms],xt[ms]=xt[ys],xt[ys]=us);Hs=Kt}Hs++}}},es=function(Xe,rt,xt){var bt=Xe.split(""),rs={hiLevel:Pt};return xt||(xt=[]),Ht(bt,xt,rs),(function(us,ys,Kt){if(Kt.hiLevel!==0&&Me)for(var ms,Js=0;Js<us.length;Js++)ys[Js]===1&&(ms=At.indexOf(us[Js]))>=0&&(us[Js]=At[ms+1])})(bt,xt,rs),vt(2,bt,rt,xt,rs),vt(1,bt,rt,xt,rs),bt.join("")};return this.__bidiEngine__.doBidiReorder=function(Xe,rt,xt){if((function(rs,us){if(us)for(var ys=0;ys<rs.length;ys++)us[ys]=ys;q===void 0&&(q=Ge(rs)),ke===void 0&&(ke=Ge(rs))})(Xe,rt),ce||!ee||ke)if(ce&&ee&&q^ke)Pt=q?1:0,Xe=is(Xe,rt,xt);else if(!ce&&ee&&ke)Pt=q?1:0,Xe=es(Xe,rt,xt),Xe=is(Xe,rt);else if(!ce||q||ee||ke){if(ce&&!ee&&q^ke)Xe=is(Xe,rt),q?(Pt=0,Xe=es(Xe,rt,xt)):(Pt=1,Xe=es(Xe,rt,xt),Xe=is(Xe,rt));else if(ce&&q&&!ee&&ke)Pt=1,Xe=es(Xe,rt,xt),Xe=is(Xe,rt);else if(!ce&&!ee&&q^ke){var bt=Me;q?(Pt=1,Xe=es(Xe,rt,xt),Pt=0,Me=!1,Xe=es(Xe,rt,xt),Me=bt):(Pt=0,Xe=es(Xe,rt,xt),Xe=is(Xe,rt),Pt=1,Me=!1,Xe=es(Xe,rt,xt),Me=bt,Xe=is(Xe,rt))}}else Pt=0,Xe=es(Xe,rt,xt);else Pt=q?1:0,Xe=es(Xe,rt,xt);return Xe},this.__bidiEngine__.setOptions=function(Xe){Xe&&(ce=Xe.isInputVisual,ee=Xe.isOutputVisual,q=Xe.isInputRtl,ke=Xe.isOutputRtl,Me=Xe.isSymmetricSwapping)},this.__bidiEngine__.setOptions(I),this.__bidiEngine__};var v=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],S=new N.__bidiEngine__({isInputVisual:!0});N.API.events.push(["postProcessText",function(I){var R=I.text;I.x,I.y;var V=I.options||{};I.mutex,V.lang;var ce=[];if(V.isInputVisual=typeof V.isInputVisual!="boolean"||V.isInputVisual,S.setOptions(V),Object.prototype.toString.call(R)==="[object Array]"){var q=0;for(ce=[],q=0;q<R.length;q+=1)Object.prototype.toString.call(R[q])==="[object Array]"?ce.push([S.doBidiReorder(R[q][0]),R[q][1],R[q][2]]):ce.push([S.doBidiReorder(R[q])]);I.text=ce}else I.text=S.doBidiReorder(R);S.setOptions({isInputVisual:!0})}])})(We),We.API.TTFFont=(function(){function N(v){var S;if(this.rawData=v,S=this.contents=new Pa(v),this.contents.pos=4,S.readString(4)==="ttcf")throw new Error("TTCF not supported.");S.pos=0,this.parse(),this.subset=new Ze(this),this.registerTTF()}return N.open=function(v){return new N(v)},N.prototype.parse=function(){return this.directory=new pi(this.contents),this.head=new xa(this),this.name=new G(this),this.cmap=new eo(this),this.toUnicode={},this.hhea=new Ei(this),this.maxp=new J(this),this.hmtx=new T(this),this.post=new Tt(this),this.os2=new lo(this),this.loca=new Pe(this),this.glyf=new $(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},N.prototype.registerTTF=function(){var v,S,I,R,V;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var ce,q,ee,ke;for(ke=[],ce=0,q=(ee=this.bbox).length;ce<q;ce++)v=ee[ce],ke.push(Math.round(v*this.scaleFactor));return ke}).call(this),this.stemV=0,this.post.exists?(I=255&(R=this.post.italic_angle),32768&(S=R>>16)&&(S=-(1+(65535^S))),this.italicAngle=+(S+"."+I)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(V=this.familyClass)===1||V===2||V===3||V===4||V===5||V===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},N.prototype.characterToGlyph=function(v){var S;return((S=this.cmap.unicode)!=null?S.codeMap[v]:void 0)||0},N.prototype.widthOfGlyph=function(v){var S;return S=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(v).advance*S},N.prototype.widthOfString=function(v,S,I){var R,V,ce,q;for(ce=0,V=0,q=(v=""+v).length;0<=q?V<q:V>q;V=0<=q?++V:--V)R=v.charCodeAt(V),ce+=this.widthOfGlyph(this.characterToGlyph(R))+I*(1e3/S)||0;return ce*(S/1e3)},N.prototype.lineHeight=function(v,S){var I;return S==null&&(S=!1),I=S?this.lineGap:0,(this.ascender+I-this.decender)/1e3*v},N})();var Ga,Pa=(function(){function N(v){this.data=v??[],this.pos=0,this.length=this.data.length}return N.prototype.readByte=function(){return this.data[this.pos++]},N.prototype.writeByte=function(v){return this.data[this.pos++]=v},N.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},N.prototype.writeUInt32=function(v){return this.writeByte(v>>>24&255),this.writeByte(v>>16&255),this.writeByte(v>>8&255),this.writeByte(255&v)},N.prototype.readInt32=function(){var v;return(v=this.readUInt32())>=2147483648?v-4294967296:v},N.prototype.writeInt32=function(v){return v<0&&(v+=4294967296),this.writeUInt32(v)},N.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},N.prototype.writeUInt16=function(v){return this.writeByte(v>>8&255),this.writeByte(255&v)},N.prototype.readInt16=function(){var v;return(v=this.readUInt16())>=32768?v-65536:v},N.prototype.writeInt16=function(v){return v<0&&(v+=65536),this.writeUInt16(v)},N.prototype.readString=function(v){var S,I;for(I=[],S=0;0<=v?S<v:S>v;S=0<=v?++S:--S)I[S]=String.fromCharCode(this.readByte());return I.join("")},N.prototype.writeString=function(v){var S,I,R;for(R=[],S=0,I=v.length;0<=I?S<I:S>I;S=0<=I?++S:--S)R.push(this.writeByte(v.charCodeAt(S)));return R},N.prototype.readShort=function(){return this.readInt16()},N.prototype.writeShort=function(v){return this.writeInt16(v)},N.prototype.readLongLong=function(){var v,S,I,R,V,ce,q,ee;return v=this.readByte(),S=this.readByte(),I=this.readByte(),R=this.readByte(),V=this.readByte(),ce=this.readByte(),q=this.readByte(),ee=this.readByte(),128&v?-1*(72057594037927940*(255^v)+281474976710656*(255^S)+1099511627776*(255^I)+4294967296*(255^R)+16777216*(255^V)+65536*(255^ce)+256*(255^q)+(255^ee)+1):72057594037927940*v+281474976710656*S+1099511627776*I+4294967296*R+16777216*V+65536*ce+256*q+ee},N.prototype.writeLongLong=function(v){var S,I;return S=Math.floor(v/4294967296),I=4294967295&v,this.writeByte(S>>24&255),this.writeByte(S>>16&255),this.writeByte(S>>8&255),this.writeByte(255&S),this.writeByte(I>>24&255),this.writeByte(I>>16&255),this.writeByte(I>>8&255),this.writeByte(255&I)},N.prototype.readInt=function(){return this.readInt32()},N.prototype.writeInt=function(v){return this.writeInt32(v)},N.prototype.read=function(v){var S,I;for(S=[],I=0;0<=v?I<v:I>v;I=0<=v?++I:--I)S.push(this.readByte());return S},N.prototype.write=function(v){var S,I,R,V;for(V=[],I=0,R=v.length;I<R;I++)S=v[I],V.push(this.writeByte(S));return V},N})(),pi=(function(){var N;function v(S){var I,R,V;for(this.scalarType=S.readInt(),this.tableCount=S.readShort(),this.searchRange=S.readShort(),this.entrySelector=S.readShort(),this.rangeShift=S.readShort(),this.tables={},R=0,V=this.tableCount;0<=V?R<V:R>V;R=0<=V?++R:--R)I={tag:S.readString(4),checksum:S.readInt(),offset:S.readInt(),length:S.readInt()},this.tables[I.tag]=I}return v.prototype.encode=function(S){var I,R,V,ce,q,ee,ke,Me,$e,Je,xe,ct,ot;for(ot in xe=Object.keys(S).length,ee=Math.log(2),$e=16*Math.floor(Math.log(xe)/ee),ce=Math.floor($e/ee),Me=16*xe-$e,(R=new Pa).writeInt(this.scalarType),R.writeShort(xe),R.writeShort($e),R.writeShort(ce),R.writeShort(Me),V=16*xe,ke=R.pos+V,q=null,ct=[],S)for(Je=S[ot],R.writeString(ot),R.writeInt(N(Je)),R.writeInt(ke),R.writeInt(Je.length),ct=ct.concat(Je),ot==="head"&&(q=ke),ke+=Je.length;ke%4;)ct.push(0),ke++;return R.write(ct),I=2981146554-N(R.data),R.pos=q+8,R.writeUInt32(I),R.data},N=function(S){var I,R,V,ce;for(S=M.call(S);S.length%4;)S.push(0);for(V=new Pa(S),R=0,I=0,ce=S.length;I<ce;I=I+=4)R+=V.readUInt32();return 4294967295&R},v})(),Uo={}.hasOwnProperty,Si=function(N,v){for(var S in v)Uo.call(v,S)&&(N[S]=v[S]);function I(){this.constructor=N}return I.prototype=v.prototype,N.prototype=new I,N.__super__=v.prototype,N};Ga=(function(){function N(v){var S;this.file=v,S=this.file.directory.tables[this.tag],this.exists=!!S,S&&(this.offset=S.offset,this.length=S.length,this.parse(this.file.contents))}return N.prototype.parse=function(){},N.prototype.encode=function(){},N.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},N})();var xa=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Si(N,Ga),N.prototype.tag="head",N.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.revision=v.readInt(),this.checkSumAdjustment=v.readInt(),this.magicNumber=v.readInt(),this.flags=v.readShort(),this.unitsPerEm=v.readShort(),this.created=v.readLongLong(),this.modified=v.readLongLong(),this.xMin=v.readShort(),this.yMin=v.readShort(),this.xMax=v.readShort(),this.yMax=v.readShort(),this.macStyle=v.readShort(),this.lowestRecPPEM=v.readShort(),this.fontDirectionHint=v.readShort(),this.indexToLocFormat=v.readShort(),this.glyphDataFormat=v.readShort()},N.prototype.encode=function(v){var S;return(S=new Pa).writeInt(this.version),S.writeInt(this.revision),S.writeInt(this.checkSumAdjustment),S.writeInt(this.magicNumber),S.writeShort(this.flags),S.writeShort(this.unitsPerEm),S.writeLongLong(this.created),S.writeLongLong(this.modified),S.writeShort(this.xMin),S.writeShort(this.yMin),S.writeShort(this.xMax),S.writeShort(this.yMax),S.writeShort(this.macStyle),S.writeShort(this.lowestRecPPEM),S.writeShort(this.fontDirectionHint),S.writeShort(v),S.writeShort(this.glyphDataFormat),S.data},N})(),mi=(function(){function N(v,S){var I,R,V,ce,q,ee,ke,Me,$e,Je,xe,ct,ot,At,Ye,yt,Pt;switch(this.platformID=v.readUInt16(),this.encodingID=v.readShort(),this.offset=S+v.readInt(),$e=v.pos,v.pos=this.offset,this.format=v.readUInt16(),this.length=v.readUInt16(),this.language=v.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(ee=0;ee<256;++ee)this.codeMap[ee]=v.readByte();break;case 4:for(xe=v.readUInt16(),Je=xe/2,v.pos+=6,V=(function(){var gt,Ge;for(Ge=[],ee=gt=0;0<=Je?gt<Je:gt>Je;ee=0<=Je?++gt:--gt)Ge.push(v.readUInt16());return Ge})(),v.pos+=2,ot=(function(){var gt,Ge;for(Ge=[],ee=gt=0;0<=Je?gt<Je:gt>Je;ee=0<=Je?++gt:--gt)Ge.push(v.readUInt16());return Ge})(),ke=(function(){var gt,Ge;for(Ge=[],ee=gt=0;0<=Je?gt<Je:gt>Je;ee=0<=Je?++gt:--gt)Ge.push(v.readUInt16());return Ge})(),Me=(function(){var gt,Ge;for(Ge=[],ee=gt=0;0<=Je?gt<Je:gt>Je;ee=0<=Je?++gt:--gt)Ge.push(v.readUInt16());return Ge})(),R=(this.length-v.pos+this.offset)/2,q=(function(){var gt,Ge;for(Ge=[],ee=gt=0;0<=R?gt<R:gt>R;ee=0<=R?++gt:--gt)Ge.push(v.readUInt16());return Ge})(),ee=Ye=0,Pt=V.length;Ye<Pt;ee=++Ye)for(At=V[ee],I=yt=ct=ot[ee];ct<=At?yt<=At:yt>=At;I=ct<=At?++yt:--yt)Me[ee]===0?ce=I+ke[ee]:(ce=q[Me[ee]/2+(I-ct)-(Je-ee)]||0)!==0&&(ce+=ke[ee]),this.codeMap[I]=65535&ce}v.pos=$e}return N.encode=function(v,S){var I,R,V,ce,q,ee,ke,Me,$e,Je,xe,ct,ot,At,Ye,yt,Pt,gt,Ge,Mt,is,Ht,vt,es,Xe,rt,xt,bt,rs,us,ys,Kt,ms,Js,Hs,_e,dt,ht,Ot,Rt,Yt,gs,bs,Us,Zs,br;switch(bt=new Pa,ce=Object.keys(v).sort(function(gr,Yr){return gr-Yr}),S){case"macroman":for(ot=0,At=(function(){var gr=[];for(ct=0;ct<256;++ct)gr.push(0);return gr})(),yt={0:0},V={},rs=0,ms=ce.length;rs<ms;rs++)yt[bs=v[R=ce[rs]]]==null&&(yt[bs]=++ot),V[R]={old:v[R],new:yt[v[R]]},At[R]=yt[v[R]];return bt.writeUInt16(1),bt.writeUInt16(0),bt.writeUInt32(12),bt.writeUInt16(0),bt.writeUInt16(262),bt.writeUInt16(0),bt.write(At),{charMap:V,subtable:bt.data,maxGlyphID:ot+1};case"unicode":for(rt=[],$e=[],Pt=0,yt={},I={},Ye=ke=null,us=0,Js=ce.length;us<Js;us++)yt[Ge=v[R=ce[us]]]==null&&(yt[Ge]=++Pt),I[R]={old:Ge,new:yt[Ge]},q=yt[Ge]-R,Ye!=null&&q===ke||(Ye&&$e.push(Ye),rt.push(R),ke=q),Ye=R;for(Ye&&$e.push(Ye),$e.push(65535),rt.push(65535),es=2*(vt=rt.length),Ht=2*Math.pow(Math.log(vt)/Math.LN2,2),Je=Math.log(Ht/2)/Math.LN2,is=2*vt-Ht,ee=[],Mt=[],xe=[],ct=ys=0,Hs=rt.length;ys<Hs;ct=++ys){if(Xe=rt[ct],Me=$e[ct],Xe===65535){ee.push(0),Mt.push(0);break}if(Xe-(xt=I[Xe].new)>=32768)for(ee.push(0),Mt.push(2*(xe.length+vt-ct)),R=Kt=Xe;Xe<=Me?Kt<=Me:Kt>=Me;R=Xe<=Me?++Kt:--Kt)xe.push(I[R].new);else ee.push(xt-Xe),Mt.push(0)}for(bt.writeUInt16(3),bt.writeUInt16(1),bt.writeUInt32(12),bt.writeUInt16(4),bt.writeUInt16(16+8*vt+2*xe.length),bt.writeUInt16(0),bt.writeUInt16(es),bt.writeUInt16(Ht),bt.writeUInt16(Je),bt.writeUInt16(is),Yt=0,_e=$e.length;Yt<_e;Yt++)R=$e[Yt],bt.writeUInt16(R);for(bt.writeUInt16(0),gs=0,dt=rt.length;gs<dt;gs++)R=rt[gs],bt.writeUInt16(R);for(Us=0,ht=ee.length;Us<ht;Us++)q=ee[Us],bt.writeUInt16(q);for(Zs=0,Ot=Mt.length;Zs<Ot;Zs++)gt=Mt[Zs],bt.writeUInt16(gt);for(br=0,Rt=xe.length;br<Rt;br++)ot=xe[br],bt.writeUInt16(ot);return{charMap:I,subtable:bt.data,maxGlyphID:Pt+1}}},N})(),eo=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Si(N,Ga),N.prototype.tag="cmap",N.prototype.parse=function(v){var S,I,R;for(v.pos=this.offset,this.version=v.readUInt16(),R=v.readUInt16(),this.tables=[],this.unicode=null,I=0;0<=R?I<R:I>R;I=0<=R?++I:--I)S=new mi(v,this.offset),this.tables.push(S),S.isUnicode&&this.unicode==null&&(this.unicode=S);return!0},N.encode=function(v,S){var I,R;return S==null&&(S="macroman"),I=mi.encode(v,S),(R=new Pa).writeUInt16(0),R.writeUInt16(1),I.table=R.data.concat(I.subtable),I},N})(),Ei=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Si(N,Ga),N.prototype.tag="hhea",N.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.ascender=v.readShort(),this.decender=v.readShort(),this.lineGap=v.readShort(),this.advanceWidthMax=v.readShort(),this.minLeftSideBearing=v.readShort(),this.minRightSideBearing=v.readShort(),this.xMaxExtent=v.readShort(),this.caretSlopeRise=v.readShort(),this.caretSlopeRun=v.readShort(),this.caretOffset=v.readShort(),v.pos+=8,this.metricDataFormat=v.readShort(),this.numberOfMetrics=v.readUInt16()},N})(),lo=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Si(N,Ga),N.prototype.tag="OS/2",N.prototype.parse=function(v){if(v.pos=this.offset,this.version=v.readUInt16(),this.averageCharWidth=v.readShort(),this.weightClass=v.readUInt16(),this.widthClass=v.readUInt16(),this.type=v.readShort(),this.ySubscriptXSize=v.readShort(),this.ySubscriptYSize=v.readShort(),this.ySubscriptXOffset=v.readShort(),this.ySubscriptYOffset=v.readShort(),this.ySuperscriptXSize=v.readShort(),this.ySuperscriptYSize=v.readShort(),this.ySuperscriptXOffset=v.readShort(),this.ySuperscriptYOffset=v.readShort(),this.yStrikeoutSize=v.readShort(),this.yStrikeoutPosition=v.readShort(),this.familyClass=v.readShort(),this.panose=(function(){var S,I;for(I=[],S=0;S<10;++S)I.push(v.readByte());return I})(),this.charRange=(function(){var S,I;for(I=[],S=0;S<4;++S)I.push(v.readInt());return I})(),this.vendorID=v.readString(4),this.selection=v.readShort(),this.firstCharIndex=v.readShort(),this.lastCharIndex=v.readShort(),this.version>0&&(this.ascent=v.readShort(),this.descent=v.readShort(),this.lineGap=v.readShort(),this.winAscent=v.readShort(),this.winDescent=v.readShort(),this.codePageRange=(function(){var S,I;for(I=[],S=0;S<2;S=++S)I.push(v.readInt());return I})(),this.version>1))return this.xHeight=v.readShort(),this.capHeight=v.readShort(),this.defaultChar=v.readShort(),this.breakChar=v.readShort(),this.maxContext=v.readShort()},N})(),Tt=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Si(N,Ga),N.prototype.tag="post",N.prototype.parse=function(v){var S,I,R;switch(v.pos=this.offset,this.format=v.readInt(),this.italicAngle=v.readInt(),this.underlinePosition=v.readShort(),this.underlineThickness=v.readShort(),this.isFixedPitch=v.readInt(),this.minMemType42=v.readInt(),this.maxMemType42=v.readInt(),this.minMemType1=v.readInt(),this.maxMemType1=v.readInt(),this.format){case 65536:case 196608:break;case 131072:var V;for(I=v.readUInt16(),this.glyphNameIndex=[],V=0;0<=I?V<I:V>I;V=0<=I?++V:--V)this.glyphNameIndex.push(v.readUInt16());for(this.names=[],R=[];v.pos<this.offset+this.length;)S=v.readByte(),R.push(this.names.push(v.readString(S)));return R;case 151552:return I=v.readUInt16(),this.offsets=v.read(I);case 262144:return this.map=(function(){var ce,q,ee;for(ee=[],V=ce=0,q=this.file.maxp.numGlyphs;0<=q?ce<q:ce>q;V=0<=q?++ce:--ce)ee.push(v.readUInt32());return ee}).call(this)}},N})(),U=function(N,v){this.raw=N,this.length=N.length,this.platformID=v.platformID,this.encodingID=v.encodingID,this.languageID=v.languageID},G=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Si(N,Ga),N.prototype.tag="name",N.prototype.parse=function(v){var S,I,R,V,ce,q,ee,ke,Me,$e,Je;for(v.pos=this.offset,v.readShort(),S=v.readShort(),q=v.readShort(),I=[],V=0;0<=S?V<S:V>S;V=0<=S?++V:--V)I.push({platformID:v.readShort(),encodingID:v.readShort(),languageID:v.readShort(),nameID:v.readShort(),length:v.readShort(),offset:this.offset+q+v.readShort()});for(ee={},V=Me=0,$e=I.length;Me<$e;V=++Me)R=I[V],v.pos=R.offset,ke=v.readString(R.length),ce=new U(ke,R),ee[Je=R.nameID]==null&&(ee[Je]=[]),ee[R.nameID].push(ce);this.strings=ee,this.copyright=ee[0],this.fontFamily=ee[1],this.fontSubfamily=ee[2],this.uniqueSubfamily=ee[3],this.fontName=ee[4],this.version=ee[5];try{this.postscriptName=ee[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=ee[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=ee[7],this.manufacturer=ee[8],this.designer=ee[9],this.description=ee[10],this.vendorUrl=ee[11],this.designerUrl=ee[12],this.license=ee[13],this.licenseUrl=ee[14],this.preferredFamily=ee[15],this.preferredSubfamily=ee[17],this.compatibleFull=ee[18],this.sampleText=ee[19]},N})(),J=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Si(N,Ga),N.prototype.tag="maxp",N.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.numGlyphs=v.readUInt16(),this.maxPoints=v.readUInt16(),this.maxContours=v.readUInt16(),this.maxCompositePoints=v.readUInt16(),this.maxComponentContours=v.readUInt16(),this.maxZones=v.readUInt16(),this.maxTwilightPoints=v.readUInt16(),this.maxStorage=v.readUInt16(),this.maxFunctionDefs=v.readUInt16(),this.maxInstructionDefs=v.readUInt16(),this.maxStackElements=v.readUInt16(),this.maxSizeOfInstructions=v.readUInt16(),this.maxComponentElements=v.readUInt16(),this.maxComponentDepth=v.readUInt16()},N})(),T=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Si(N,Ga),N.prototype.tag="hmtx",N.prototype.parse=function(v){var S,I,R,V,ce,q,ee;for(v.pos=this.offset,this.metrics=[],S=0,q=this.file.hhea.numberOfMetrics;0<=q?S<q:S>q;S=0<=q?++S:--S)this.metrics.push({advance:v.readUInt16(),lsb:v.readInt16()});for(R=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var ke,Me;for(Me=[],S=ke=0;0<=R?ke<R:ke>R;S=0<=R?++ke:--ke)Me.push(v.readInt16());return Me})(),this.widths=(function(){var ke,Me,$e,Je;for(Je=[],ke=0,Me=($e=this.metrics).length;ke<Me;ke++)V=$e[ke],Je.push(V.advance);return Je}).call(this),I=this.widths[this.widths.length-1],ee=[],S=ce=0;0<=R?ce<R:ce>R;S=0<=R?++ce:--ce)ee.push(this.widths.push(I));return ee},N.prototype.forGlyph=function(v){return v in this.metrics?this.metrics[v]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[v-this.metrics.length]}},N})(),M=[].slice,$=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Si(N,Ga),N.prototype.tag="glyf",N.prototype.parse=function(){return this.cache={}},N.prototype.glyphFor=function(v){var S,I,R,V,ce,q,ee,ke,Me,$e;return v in this.cache?this.cache[v]:(V=this.file.loca,S=this.file.contents,I=V.indexOf(v),(R=V.lengthOf(v))===0?this.cache[v]=null:(S.pos=this.offset+I,ce=(q=new Pa(S.read(R))).readShort(),ke=q.readShort(),$e=q.readShort(),ee=q.readShort(),Me=q.readShort(),this.cache[v]=ce===-1?new we(q,ke,$e,ee,Me):new ie(q,ce,ke,$e,ee,Me),this.cache[v]))},N.prototype.encode=function(v,S,I){var R,V,ce,q,ee;for(ce=[],V=[],q=0,ee=S.length;q<ee;q++)R=v[S[q]],V.push(ce.length),R&&(ce=ce.concat(R.encode(I)));return V.push(ce.length),{table:ce,offsets:V}},N})(),ie=(function(){function N(v,S,I,R,V,ce){this.raw=v,this.numberOfContours=S,this.xMin=I,this.yMin=R,this.xMax=V,this.yMax=ce,this.compound=!1}return N.prototype.encode=function(){return this.raw.data},N})(),we=(function(){function N(v,S,I,R,V){var ce,q;for(this.raw=v,this.xMin=S,this.yMin=I,this.xMax=R,this.yMax=V,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],ce=this.raw;q=ce.readShort(),this.glyphOffsets.push(ce.pos),this.glyphIDs.push(ce.readUInt16()),32&q;)ce.pos+=1&q?4:2,128&q?ce.pos+=8:64&q?ce.pos+=4:8&q&&(ce.pos+=2)}return N.prototype.encode=function(){var v,S,I;for(S=new Pa(M.call(this.raw.data)),v=0,I=this.glyphIDs.length;v<I;++v)S.pos=this.glyphOffsets[v];return S.data},N})(),Pe=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Si(N,Ga),N.prototype.tag="loca",N.prototype.parse=function(v){var S,I;return v.pos=this.offset,S=this.file.head.indexToLocFormat,this.offsets=S===0?(function(){var R,V;for(V=[],I=0,R=this.length;I<R;I+=2)V.push(2*v.readUInt16());return V}).call(this):(function(){var R,V;for(V=[],I=0,R=this.length;I<R;I+=4)V.push(v.readUInt32());return V}).call(this)},N.prototype.indexOf=function(v){return this.offsets[v]},N.prototype.lengthOf=function(v){return this.offsets[v+1]-this.offsets[v]},N.prototype.encode=function(v,S){for(var I=new Uint32Array(this.offsets.length),R=0,V=0,ce=0;ce<I.length;++ce)if(I[ce]=R,V<S.length&&S[V]==ce){++V,I[ce]=R;var q=this.offsets[ce],ee=this.offsets[ce+1]-q;ee>0&&(R+=ee)}for(var ke=new Array(4*I.length),Me=0;Me<I.length;++Me)ke[4*Me+3]=255&I[Me],ke[4*Me+2]=(65280&I[Me])>>8,ke[4*Me+1]=(16711680&I[Me])>>16,ke[4*Me]=(4278190080&I[Me])>>24;return ke},N})(),Ze=(function(){function N(v){this.font=v,this.subset={},this.unicodes={},this.next=33}return N.prototype.generateCmap=function(){var v,S,I,R,V;for(S in R=this.font.cmap.tables[0].codeMap,v={},V=this.subset)I=V[S],v[S]=R[I];return v},N.prototype.glyphsFor=function(v){var S,I,R,V,ce,q,ee;for(R={},ce=0,q=v.length;ce<q;ce++)R[V=v[ce]]=this.font.glyf.glyphFor(V);for(V in S=[],R)(I=R[V])!=null&&I.compound&&S.push.apply(S,I.glyphIDs);if(S.length>0)for(V in ee=this.glyphsFor(S))I=ee[V],R[V]=I;return R},N.prototype.encode=function(v,S){var I,R,V,ce,q,ee,ke,Me,$e,Je,xe,ct,ot,At,Ye;for(R in I=eo.encode(this.generateCmap(),"unicode"),ce=this.glyphsFor(v),xe={0:0},Ye=I.charMap)xe[(ee=Ye[R]).old]=ee.new;for(ct in Je=I.maxGlyphID,ce)ct in xe||(xe[ct]=Je++);return Me=(function(yt){var Pt,gt;for(Pt in gt={},yt)gt[yt[Pt]]=Pt;return gt})(xe),$e=Object.keys(Me).sort(function(yt,Pt){return yt-Pt}),ot=(function(){var yt,Pt,gt;for(gt=[],yt=0,Pt=$e.length;yt<Pt;yt++)q=$e[yt],gt.push(Me[q]);return gt})(),V=this.font.glyf.encode(ce,ot,xe),ke=this.font.loca.encode(V.offsets,ot),At={cmap:this.font.cmap.raw(),glyf:V.table,loca:ke,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(S)},this.font.os2.exists&&(At["OS/2"]=this.font.os2.raw()),this.font.directory.encode(At)},N})();We.API.PDFObject=(function(){var N;function v(){}return N=function(S,I){return(Array(I+1).join("0")+S).slice(-I)},v.convert=function(S){var I,R,V,ce;if(Array.isArray(S))return"["+(function(){var q,ee,ke;for(ke=[],q=0,ee=S.length;q<ee;q++)I=S[q],ke.push(v.convert(I));return ke})().join(" ")+"]";if(typeof S=="string")return"/"+S;if(S!=null&&S.isString)return"("+S+")";if(S instanceof Date)return"(D:"+N(S.getUTCFullYear(),4)+N(S.getUTCMonth(),2)+N(S.getUTCDate(),2)+N(S.getUTCHours(),2)+N(S.getUTCMinutes(),2)+N(S.getUTCSeconds(),2)+"Z)";if({}.toString.call(S)==="[object Object]"){for(R in V=["<<"],S)ce=S[R],V.push("/"+R+" "+v.convert(ce));return V.push(">>"),V.join(`
`)}return""+S},v})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(d,A,o){o.r(A),o.d(A,{Deflate:function(){return Rs},Inflate:function(){return jn},constants:function(){return Ba},default:function(){return Ti},deflate:function(){return Sr},deflateRaw:function(){return Er},gzip:function(){return pn},inflate:function(){return na},inflateRaw:function(){return Ua},ungzip:function(){return vi}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const f=4,p=0,m=1,x=2;function b(k){let Be=k.length;for(;--Be>=0;)k[Be]=0}const w=0,y=1,E=2,P=3,z=258,X=29,Y=256,Q=Y+1+X,K=30,de=19,ue=2*Q+1,ve=15,le=16,Ce=7,oe=256,Ne=16,Ae=17,se=18,pe=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),re=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ee=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),De=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Se=512,he=new Array((Q+2)*2);b(he);const be=new Array(K*2);b(be);const fe=new Array(Se);b(fe);const te=new Array(z-P+1);b(te);const ge=new Array(X);b(ge);const Ue=new Array(K);b(Ue);function Ve(k,Be,H,Qe,lt){this.static_tree=k,this.extra_bits=Be,this.extra_base=H,this.elems=Qe,this.max_length=lt,this.has_stree=k&&k.length}let kt,Bt,We;function Ut(k,Be){this.dyn_tree=k,this.max_code=0,this.stat_desc=Be}const Vt=k=>k<256?fe[k]:fe[256+(k>>>7)],ls=(k,Be)=>{k.pending_buf[k.pending++]=Be&255,k.pending_buf[k.pending++]=Be>>>8&255},Fs=(k,Be,H)=>{k.bi_valid>le-H?(k.bi_buf|=Be<<k.bi_valid&65535,ls(k,k.bi_buf),k.bi_buf=Be>>le-k.bi_valid,k.bi_valid+=H-le):(k.bi_buf|=Be<<k.bi_valid&65535,k.bi_valid+=H)},Re=(k,Be,H)=>{Fs(k,H[Be*2],H[Be*2+1])},ut=(k,Be)=>{let H=0;do H|=k&1,k>>>=1,H<<=1;while(--Be>0);return H>>>1},St=k=>{k.bi_valid===16?(ls(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):k.bi_valid>=8&&(k.pending_buf[k.pending++]=k.bi_buf&255,k.bi_buf>>=8,k.bi_valid-=8)},Os=(k,Be)=>{const H=Be.dyn_tree,Qe=Be.max_code,lt=Be.stat_desc.static_tree,it=Be.stat_desc.has_stree,Xt=Be.stat_desc.extra_bits,Lt=Be.stat_desc.extra_base,mr=Be.stat_desc.max_length;let jt,Jt,mn,ar,_s,vs,Ma=0;for(ar=0;ar<=ve;ar++)k.bl_count[ar]=0;for(H[k.heap[k.heap_max]*2+1]=0,jt=k.heap_max+1;jt<ue;jt++)Jt=k.heap[jt],ar=H[H[Jt*2+1]*2+1]+1,ar>mr&&(ar=mr,Ma++),H[Jt*2+1]=ar,!(Jt>Qe)&&(k.bl_count[ar]++,_s=0,Jt>=Lt&&(_s=Xt[Jt-Lt]),vs=H[Jt*2],k.opt_len+=vs*(ar+_s),it&&(k.static_len+=vs*(lt[Jt*2+1]+_s)));if(Ma!==0){do{for(ar=mr-1;k.bl_count[ar]===0;)ar--;k.bl_count[ar]--,k.bl_count[ar+1]+=2,k.bl_count[mr]--,Ma-=2}while(Ma>0);for(ar=mr;ar!==0;ar--)for(Jt=k.bl_count[ar];Jt!==0;)mn=k.heap[--jt],!(mn>Qe)&&(H[mn*2+1]!==ar&&(k.opt_len+=(ar-H[mn*2+1])*H[mn*2],H[mn*2+1]=ar),Jt--)}},hs=(k,Be,H)=>{const Qe=new Array(ve+1);let lt=0,it,Xt;for(it=1;it<=ve;it++)lt=lt+H[it-1]<<1,Qe[it]=lt;for(Xt=0;Xt<=Be;Xt++){let Lt=k[Xt*2+1];Lt!==0&&(k[Xt*2]=ut(Qe[Lt]++,Lt))}},vr=()=>{let k,Be,H,Qe,lt;const it=new Array(ve+1);for(H=0,Qe=0;Qe<X-1;Qe++)for(ge[Qe]=H,k=0;k<1<<pe[Qe];k++)te[H++]=Qe;for(te[H-1]=Qe,lt=0,Qe=0;Qe<16;Qe++)for(Ue[Qe]=lt,k=0;k<1<<re[Qe];k++)fe[lt++]=Qe;for(lt>>=7;Qe<K;Qe++)for(Ue[Qe]=lt<<7,k=0;k<1<<re[Qe]-7;k++)fe[256+lt++]=Qe;for(Be=0;Be<=ve;Be++)it[Be]=0;for(k=0;k<=143;)he[k*2+1]=8,k++,it[8]++;for(;k<=255;)he[k*2+1]=9,k++,it[9]++;for(;k<=279;)he[k*2+1]=7,k++,it[7]++;for(;k<=287;)he[k*2+1]=8,k++,it[8]++;for(hs(he,Q+1,it),k=0;k<K;k++)be[k*2+1]=5,be[k*2]=ut(k,5);kt=new Ve(he,pe,Y+1,Q,ve),Bt=new Ve(be,re,0,K,ve),We=new Ve(new Array(0),Ee,0,de,Ce)},hr=k=>{let Be;for(Be=0;Be<Q;Be++)k.dyn_ltree[Be*2]=0;for(Be=0;Be<K;Be++)k.dyn_dtree[Be*2]=0;for(Be=0;Be<de;Be++)k.bl_tree[Be*2]=0;k.dyn_ltree[oe*2]=1,k.opt_len=k.static_len=0,k.sym_next=k.matches=0},ir=k=>{k.bi_valid>8?ls(k,k.bi_buf):k.bi_valid>0&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0},Ds=(k,Be,H,Qe)=>{const lt=Be*2,it=H*2;return k[lt]<k[it]||k[lt]===k[it]&&Qe[Be]<=Qe[H]},Ss=(k,Be,H)=>{const Qe=k.heap[H];let lt=H<<1;for(;lt<=k.heap_len&&(lt<k.heap_len&&Ds(Be,k.heap[lt+1],k.heap[lt],k.depth)&&lt++,!Ds(Be,Qe,k.heap[lt],k.depth));)k.heap[H]=k.heap[lt],H=lt,lt<<=1;k.heap[H]=Qe},Ls=(k,Be,H)=>{let Qe,lt,it=0,Xt,Lt;if(k.sym_next!==0)do Qe=k.pending_buf[k.sym_buf+it++]&255,Qe+=(k.pending_buf[k.sym_buf+it++]&255)<<8,lt=k.pending_buf[k.sym_buf+it++],Qe===0?Re(k,lt,Be):(Xt=te[lt],Re(k,Xt+Y+1,Be),Lt=pe[Xt],Lt!==0&&(lt-=ge[Xt],Fs(k,lt,Lt)),Qe--,Xt=Vt(Qe),Re(k,Xt,H),Lt=re[Xt],Lt!==0&&(Qe-=Ue[Xt],Fs(k,Qe,Lt)));while(it<k.sym_next);Re(k,oe,Be)},rr=(k,Be)=>{const H=Be.dyn_tree,Qe=Be.stat_desc.static_tree,lt=Be.stat_desc.has_stree,it=Be.stat_desc.elems;let Xt,Lt,mr=-1,jt;for(k.heap_len=0,k.heap_max=ue,Xt=0;Xt<it;Xt++)H[Xt*2]!==0?(k.heap[++k.heap_len]=mr=Xt,k.depth[Xt]=0):H[Xt*2+1]=0;for(;k.heap_len<2;)jt=k.heap[++k.heap_len]=mr<2?++mr:0,H[jt*2]=1,k.depth[jt]=0,k.opt_len--,lt&&(k.static_len-=Qe[jt*2+1]);for(Be.max_code=mr,Xt=k.heap_len>>1;Xt>=1;Xt--)Ss(k,H,Xt);jt=it;do Xt=k.heap[1],k.heap[1]=k.heap[k.heap_len--],Ss(k,H,1),Lt=k.heap[1],k.heap[--k.heap_max]=Xt,k.heap[--k.heap_max]=Lt,H[jt*2]=H[Xt*2]+H[Lt*2],k.depth[jt]=(k.depth[Xt]>=k.depth[Lt]?k.depth[Xt]:k.depth[Lt])+1,H[Xt*2+1]=H[Lt*2+1]=jt,k.heap[1]=jt++,Ss(k,H,1);while(k.heap_len>=2);k.heap[--k.heap_max]=k.heap[1],Os(k,Be),hs(H,mr,k.bl_count)},xr=(k,Be,H)=>{let Qe,lt=-1,it,Xt=Be[1],Lt=0,mr=7,jt=4;for(Xt===0&&(mr=138,jt=3),Be[(H+1)*2+1]=65535,Qe=0;Qe<=H;Qe++)it=Xt,Xt=Be[(Qe+1)*2+1],!(++Lt<mr&&it===Xt)&&(Lt<jt?k.bl_tree[it*2]+=Lt:it!==0?(it!==lt&&k.bl_tree[it*2]++,k.bl_tree[Ne*2]++):Lt<=10?k.bl_tree[Ae*2]++:k.bl_tree[se*2]++,Lt=0,lt=it,Xt===0?(mr=138,jt=3):it===Xt?(mr=6,jt=3):(mr=7,jt=4))},en=(k,Be,H)=>{let Qe,lt=-1,it,Xt=Be[1],Lt=0,mr=7,jt=4;for(Xt===0&&(mr=138,jt=3),Qe=0;Qe<=H;Qe++)if(it=Xt,Xt=Be[(Qe+1)*2+1],!(++Lt<mr&&it===Xt)){if(Lt<jt)do Re(k,it,k.bl_tree);while(--Lt!==0);else it!==0?(it!==lt&&(Re(k,it,k.bl_tree),Lt--),Re(k,Ne,k.bl_tree),Fs(k,Lt-3,2)):Lt<=10?(Re(k,Ae,k.bl_tree),Fs(k,Lt-3,3)):(Re(k,se,k.bl_tree),Fs(k,Lt-11,7));Lt=0,lt=it,Xt===0?(mr=138,jt=3):it===Xt?(mr=6,jt=3):(mr=7,jt=4)}},wr=k=>{let Be;for(xr(k,k.dyn_ltree,k.l_desc.max_code),xr(k,k.dyn_dtree,k.d_desc.max_code),rr(k,k.bl_desc),Be=de-1;Be>=3&&k.bl_tree[De[Be]*2+1]===0;Be--);return k.opt_len+=3*(Be+1)+5+5+4,Be},tr=(k,Be,H,Qe)=>{let lt;for(Fs(k,Be-257,5),Fs(k,H-1,5),Fs(k,Qe-4,4),lt=0;lt<Qe;lt++)Fs(k,k.bl_tree[De[lt]*2+1],3);en(k,k.dyn_ltree,Be-1),en(k,k.dyn_dtree,H-1)},Xs=k=>{let Be=4093624447,H;for(H=0;H<=31;H++,Be>>>=1)if(Be&1&&k.dyn_ltree[H*2]!==0)return p;if(k.dyn_ltree[18]!==0||k.dyn_ltree[20]!==0||k.dyn_ltree[26]!==0)return m;for(H=32;H<Y;H++)if(k.dyn_ltree[H*2]!==0)return m;return p};let Ts=!1;const ft=k=>{Ts||(vr(),Ts=!0),k.l_desc=new Ut(k.dyn_ltree,kt),k.d_desc=new Ut(k.dyn_dtree,Bt),k.bl_desc=new Ut(k.bl_tree,We),k.bi_buf=0,k.bi_valid=0,hr(k)},$t=(k,Be,H,Qe)=>{Fs(k,(w<<1)+(Qe?1:0),3),ir(k),ls(k,H),ls(k,~H),H&&k.pending_buf.set(k.window.subarray(Be,Be+H),k.pending),k.pending+=H},ks=k=>{Fs(k,y<<1,3),Re(k,oe,he),St(k)},Gs=(k,Be,H,Qe)=>{let lt,it,Xt=0;k.level>0?(k.strm.data_type===x&&(k.strm.data_type=Xs(k)),rr(k,k.l_desc),rr(k,k.d_desc),Xt=wr(k),lt=k.opt_len+3+7>>>3,it=k.static_len+3+7>>>3,it<=lt&&(lt=it)):lt=it=H+5,H+4<=lt&&Be!==-1?$t(k,Be,H,Qe):k.strategy===f||it===lt?(Fs(k,(y<<1)+(Qe?1:0),3),Ls(k,he,be)):(Fs(k,(E<<1)+(Qe?1:0),3),tr(k,k.l_desc.max_code+1,k.d_desc.max_code+1,Xt+1),Ls(k,k.dyn_ltree,k.dyn_dtree)),hr(k),Qe&&ir(k)},lr=(k,Be,H)=>(k.pending_buf[k.sym_buf+k.sym_next++]=Be,k.pending_buf[k.sym_buf+k.sym_next++]=Be>>8,k.pending_buf[k.sym_buf+k.sym_next++]=H,Be===0?k.dyn_ltree[H*2]++:(k.matches++,Be--,k.dyn_ltree[(te[H]+Y+1)*2]++,k.dyn_dtree[Vt(Be)*2]++),k.sym_next===k.sym_end);var wt=ft,qt=$t,As=Gs,fs=lr,Vs=ks,Ks={_tr_init:wt,_tr_stored_block:qt,_tr_flush_block:As,_tr_tally:fs,_tr_align:Vs},rn=(k,Be,H,Qe)=>{let lt=k&65535|0,it=k>>>16&65535|0,Xt=0;for(;H!==0;){Xt=H>2e3?2e3:H,H-=Xt;do lt=lt+Be[Qe++]|0,it=it+lt|0;while(--Xt);lt%=65521,it%=65521}return lt|it<<16|0};const ya=()=>{let k,Be=[];for(var H=0;H<256;H++){k=H;for(var Qe=0;Qe<8;Qe++)k=k&1?3988292384^k>>>1:k>>>1;Be[H]=k}return Be},La=new Uint32Array(ya());var xs=(k,Be,H,Qe)=>{const lt=La,it=Qe+H;k^=-1;for(let Xt=Qe;Xt<it;Xt++)k=k>>>8^lt[(k^Be[Xt])&255];return k^-1},cs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:$r,_tr_stored_block:Ps,_tr_flush_block:wa,_tr_tally:Vn,_tr_align:sa}=Ks,{Z_NO_FLUSH:an,Z_PARTIAL_FLUSH:Rr,Z_FULL_FLUSH:Gn,Z_FINISH:Kn,Z_BLOCK:ti,Z_OK:On,Z_STREAM_END:mc,Z_STREAM_ERROR:li,Z_DATA_ERROR:Fo,Z_BUF_ERROR:Kl,Z_DEFAULT_COMPRESSION:Ao,Z_FILTERED:fa,Z_HUFFMAN_ONLY:ki,Z_RLE:ra,Z_FIXED:Fa,Z_DEFAULT_STRATEGY:qn,Z_UNKNOWN:ho,Z_DEFLATED:hi}=fr,Ci=9,hl=15,el=8,ja=256+1+29,fo=30,si=19,Di=2*ja+1,fi=15,Wr=3,Ka=258,Bi=Ka+Wr+1,Qa=32,po=42,Wn=57,Ki=69,Ga=73,Pa=91,pi=103,Uo=113,Si=666,xa=1,mi=2,eo=3,Ei=4,lo=3,Tt=(k,Be)=>(k.msg=cs[Be],Be),U=k=>k*2-(k>4?9:0),G=k=>{let Be=k.length;for(;--Be>=0;)k[Be]=0},J=k=>{let Be,H,Qe,lt=k.w_size;Be=k.hash_size,Qe=Be;do H=k.head[--Qe],k.head[Qe]=H>=lt?H-lt:0;while(--Be);Be=lt,Qe=Be;do H=k.prev[--Qe],k.prev[Qe]=H>=lt?H-lt:0;while(--Be)};let M=(k,Be,H)=>(Be<<k.hash_shift^H)&k.hash_mask;const $=k=>{const Be=k.state;let H=Be.pending;H>k.avail_out&&(H=k.avail_out),H!==0&&(k.output.set(Be.pending_buf.subarray(Be.pending_out,Be.pending_out+H),k.next_out),k.next_out+=H,Be.pending_out+=H,k.total_out+=H,k.avail_out-=H,Be.pending-=H,Be.pending===0&&(Be.pending_out=0))},ie=(k,Be)=>{wa(k,k.block_start>=0?k.block_start:-1,k.strstart-k.block_start,Be),k.block_start=k.strstart,$(k.strm)},we=(k,Be)=>{k.pending_buf[k.pending++]=Be},Pe=(k,Be)=>{k.pending_buf[k.pending++]=Be>>>8&255,k.pending_buf[k.pending++]=Be&255},Ze=(k,Be,H,Qe)=>{let lt=k.avail_in;return lt>Qe&&(lt=Qe),lt===0?0:(k.avail_in-=lt,Be.set(k.input.subarray(k.next_in,k.next_in+lt),H),k.state.wrap===1?k.adler=rn(k.adler,Be,lt,H):k.state.wrap===2&&(k.adler=xs(k.adler,Be,lt,H)),k.next_in+=lt,k.total_in+=lt,lt)},N=(k,Be)=>{let H=k.max_chain_length,Qe=k.strstart,lt,it,Xt=k.prev_length,Lt=k.nice_match;const mr=k.strstart>k.w_size-Bi?k.strstart-(k.w_size-Bi):0,jt=k.window,Jt=k.w_mask,mn=k.prev,ar=k.strstart+Ka;let _s=jt[Qe+Xt-1],vs=jt[Qe+Xt];k.prev_length>=k.good_match&&(H>>=2),Lt>k.lookahead&&(Lt=k.lookahead);do if(lt=Be,!(jt[lt+Xt]!==vs||jt[lt+Xt-1]!==_s||jt[lt]!==jt[Qe]||jt[++lt]!==jt[Qe+1])){Qe+=2,lt++;do;while(jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&Qe<ar);if(it=Ka-(ar-Qe),Qe=ar-Ka,it>Xt){if(k.match_start=Be,Xt=it,it>=Lt)break;_s=jt[Qe+Xt-1],vs=jt[Qe+Xt]}}while((Be=mn[Be&Jt])>mr&&--H!==0);return Xt<=k.lookahead?Xt:k.lookahead},v=k=>{const Be=k.w_size;let H,Qe,lt;do{if(Qe=k.window_size-k.lookahead-k.strstart,k.strstart>=Be+(Be-Bi)&&(k.window.set(k.window.subarray(Be,Be+Be-Qe),0),k.match_start-=Be,k.strstart-=Be,k.block_start-=Be,k.insert>k.strstart&&(k.insert=k.strstart),J(k),Qe+=Be),k.strm.avail_in===0)break;if(H=Ze(k.strm,k.window,k.strstart+k.lookahead,Qe),k.lookahead+=H,k.lookahead+k.insert>=Wr)for(lt=k.strstart-k.insert,k.ins_h=k.window[lt],k.ins_h=M(k,k.ins_h,k.window[lt+1]);k.insert&&(k.ins_h=M(k,k.ins_h,k.window[lt+Wr-1]),k.prev[lt&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=lt,lt++,k.insert--,!(k.lookahead+k.insert<Wr)););}while(k.lookahead<Bi&&k.strm.avail_in!==0)},S=(k,Be)=>{let H=k.pending_buf_size-5>k.w_size?k.w_size:k.pending_buf_size-5,Qe,lt,it,Xt=0,Lt=k.strm.avail_in;do{if(Qe=65535,it=k.bi_valid+42>>3,k.strm.avail_out<it||(it=k.strm.avail_out-it,lt=k.strstart-k.block_start,Qe>lt+k.strm.avail_in&&(Qe=lt+k.strm.avail_in),Qe>it&&(Qe=it),Qe<H&&(Qe===0&&Be!==Kn||Be===an||Qe!==lt+k.strm.avail_in)))break;Xt=Be===Kn&&Qe===lt+k.strm.avail_in?1:0,Ps(k,0,0,Xt),k.pending_buf[k.pending-4]=Qe,k.pending_buf[k.pending-3]=Qe>>8,k.pending_buf[k.pending-2]=~Qe,k.pending_buf[k.pending-1]=~Qe>>8,$(k.strm),lt&&(lt>Qe&&(lt=Qe),k.strm.output.set(k.window.subarray(k.block_start,k.block_start+lt),k.strm.next_out),k.strm.next_out+=lt,k.strm.avail_out-=lt,k.strm.total_out+=lt,k.block_start+=lt,Qe-=lt),Qe&&(Ze(k.strm,k.strm.output,k.strm.next_out,Qe),k.strm.next_out+=Qe,k.strm.avail_out-=Qe,k.strm.total_out+=Qe)}while(Xt===0);return Lt-=k.strm.avail_in,Lt&&(Lt>=k.w_size?(k.matches=2,k.window.set(k.strm.input.subarray(k.strm.next_in-k.w_size,k.strm.next_in),0),k.strstart=k.w_size,k.insert=k.strstart):(k.window_size-k.strstart<=Lt&&(k.strstart-=k.w_size,k.window.set(k.window.subarray(k.w_size,k.w_size+k.strstart),0),k.matches<2&&k.matches++,k.insert>k.strstart&&(k.insert=k.strstart)),k.window.set(k.strm.input.subarray(k.strm.next_in-Lt,k.strm.next_in),k.strstart),k.strstart+=Lt,k.insert+=Lt>k.w_size-k.insert?k.w_size-k.insert:Lt),k.block_start=k.strstart),k.high_water<k.strstart&&(k.high_water=k.strstart),Xt?Ei:Be!==an&&Be!==Kn&&k.strm.avail_in===0&&k.strstart===k.block_start?mi:(it=k.window_size-k.strstart,k.strm.avail_in>it&&k.block_start>=k.w_size&&(k.block_start-=k.w_size,k.strstart-=k.w_size,k.window.set(k.window.subarray(k.w_size,k.w_size+k.strstart),0),k.matches<2&&k.matches++,it+=k.w_size,k.insert>k.strstart&&(k.insert=k.strstart)),it>k.strm.avail_in&&(it=k.strm.avail_in),it&&(Ze(k.strm,k.window,k.strstart,it),k.strstart+=it,k.insert+=it>k.w_size-k.insert?k.w_size-k.insert:it),k.high_water<k.strstart&&(k.high_water=k.strstart),it=k.bi_valid+42>>3,it=k.pending_buf_size-it>65535?65535:k.pending_buf_size-it,H=it>k.w_size?k.w_size:it,lt=k.strstart-k.block_start,(lt>=H||(lt||Be===Kn)&&Be!==an&&k.strm.avail_in===0&&lt<=it)&&(Qe=lt>it?it:lt,Xt=Be===Kn&&k.strm.avail_in===0&&Qe===lt?1:0,Ps(k,k.block_start,Qe,Xt),k.block_start+=Qe,$(k.strm)),Xt?eo:xa)},I=(k,Be)=>{let H,Qe;for(;;){if(k.lookahead<Bi){if(v(k),k.lookahead<Bi&&Be===an)return xa;if(k.lookahead===0)break}if(H=0,k.lookahead>=Wr&&(k.ins_h=M(k,k.ins_h,k.window[k.strstart+Wr-1]),H=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),H!==0&&k.strstart-H<=k.w_size-Bi&&(k.match_length=N(k,H)),k.match_length>=Wr)if(Qe=Vn(k,k.strstart-k.match_start,k.match_length-Wr),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=Wr){k.match_length--;do k.strstart++,k.ins_h=M(k,k.ins_h,k.window[k.strstart+Wr-1]),H=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart;while(--k.match_length!==0);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=M(k,k.ins_h,k.window[k.strstart+1]);else Qe=Vn(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(Qe&&(ie(k,!1),k.strm.avail_out===0))return xa}return k.insert=k.strstart<Wr-1?k.strstart:Wr-1,Be===Kn?(ie(k,!0),k.strm.avail_out===0?eo:Ei):k.sym_next&&(ie(k,!1),k.strm.avail_out===0)?xa:mi},R=(k,Be)=>{let H,Qe,lt;for(;;){if(k.lookahead<Bi){if(v(k),k.lookahead<Bi&&Be===an)return xa;if(k.lookahead===0)break}if(H=0,k.lookahead>=Wr&&(k.ins_h=M(k,k.ins_h,k.window[k.strstart+Wr-1]),H=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=Wr-1,H!==0&&k.prev_length<k.max_lazy_match&&k.strstart-H<=k.w_size-Bi&&(k.match_length=N(k,H),k.match_length<=5&&(k.strategy===fa||k.match_length===Wr&&k.strstart-k.match_start>4096)&&(k.match_length=Wr-1)),k.prev_length>=Wr&&k.match_length<=k.prev_length){lt=k.strstart+k.lookahead-Wr,Qe=Vn(k,k.strstart-1-k.prev_match,k.prev_length-Wr),k.lookahead-=k.prev_length-1,k.prev_length-=2;do++k.strstart<=lt&&(k.ins_h=M(k,k.ins_h,k.window[k.strstart+Wr-1]),H=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart);while(--k.prev_length!==0);if(k.match_available=0,k.match_length=Wr-1,k.strstart++,Qe&&(ie(k,!1),k.strm.avail_out===0))return xa}else if(k.match_available){if(Qe=Vn(k,0,k.window[k.strstart-1]),Qe&&ie(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return xa}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(Qe=Vn(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<Wr-1?k.strstart:Wr-1,Be===Kn?(ie(k,!0),k.strm.avail_out===0?eo:Ei):k.sym_next&&(ie(k,!1),k.strm.avail_out===0)?xa:mi},V=(k,Be)=>{let H,Qe,lt,it;const Xt=k.window;for(;;){if(k.lookahead<=Ka){if(v(k),k.lookahead<=Ka&&Be===an)return xa;if(k.lookahead===0)break}if(k.match_length=0,k.lookahead>=Wr&&k.strstart>0&&(lt=k.strstart-1,Qe=Xt[lt],Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt])){it=k.strstart+Ka;do;while(Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&lt<it);k.match_length=Ka-(it-lt),k.match_length>k.lookahead&&(k.match_length=k.lookahead)}if(k.match_length>=Wr?(H=Vn(k,1,k.match_length-Wr),k.lookahead-=k.match_length,k.strstart+=k.match_length,k.match_length=0):(H=Vn(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++),H&&(ie(k,!1),k.strm.avail_out===0))return xa}return k.insert=0,Be===Kn?(ie(k,!0),k.strm.avail_out===0?eo:Ei):k.sym_next&&(ie(k,!1),k.strm.avail_out===0)?xa:mi},ce=(k,Be)=>{let H;for(;;){if(k.lookahead===0&&(v(k),k.lookahead===0)){if(Be===an)return xa;break}if(k.match_length=0,H=Vn(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++,H&&(ie(k,!1),k.strm.avail_out===0))return xa}return k.insert=0,Be===Kn?(ie(k,!0),k.strm.avail_out===0?eo:Ei):k.sym_next&&(ie(k,!1),k.strm.avail_out===0)?xa:mi};function q(k,Be,H,Qe,lt){this.good_length=k,this.max_lazy=Be,this.nice_length=H,this.max_chain=Qe,this.func=lt}const ee=[new q(0,0,0,0,S),new q(4,4,8,4,I),new q(4,5,16,8,I),new q(4,6,32,32,I),new q(4,4,16,16,R),new q(8,16,32,32,R),new q(8,16,128,128,R),new q(8,32,128,256,R),new q(32,128,258,1024,R),new q(32,258,258,4096,R)],ke=k=>{k.window_size=2*k.w_size,G(k.head),k.max_lazy_match=ee[k.level].max_lazy,k.good_match=ee[k.level].good_length,k.nice_match=ee[k.level].nice_length,k.max_chain_length=ee[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=Wr-1,k.match_available=0,k.ins_h=0};function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=hi,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Di*2),this.dyn_dtree=new Uint16Array((2*fo+1)*2),this.bl_tree=new Uint16Array((2*si+1)*2),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(fi+1),this.heap=new Uint16Array(2*ja+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ja+1),G(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const $e=k=>{if(!k)return 1;const Be=k.state;return!Be||Be.strm!==k||Be.status!==po&&Be.status!==Wn&&Be.status!==Ki&&Be.status!==Ga&&Be.status!==Pa&&Be.status!==pi&&Be.status!==Uo&&Be.status!==Si?1:0},Je=k=>{if($e(k))return Tt(k,li);k.total_in=k.total_out=0,k.data_type=ho;const Be=k.state;return Be.pending=0,Be.pending_out=0,Be.wrap<0&&(Be.wrap=-Be.wrap),Be.status=Be.wrap===2?Wn:Be.wrap?po:Uo,k.adler=Be.wrap===2?0:1,Be.last_flush=-2,$r(Be),On},xe=k=>{const Be=Je(k);return Be===On&&ke(k.state),Be},ct=(k,Be)=>$e(k)||k.state.wrap!==2?li:(k.state.gzhead=Be,On),ot=(k,Be,H,Qe,lt,it)=>{if(!k)return li;let Xt=1;if(Be===Ao&&(Be=6),Qe<0?(Xt=0,Qe=-Qe):Qe>15&&(Xt=2,Qe-=16),lt<1||lt>Ci||H!==hi||Qe<8||Qe>15||Be<0||Be>9||it<0||it>Fa||Qe===8&&Xt!==1)return Tt(k,li);Qe===8&&(Qe=9);const Lt=new Me;return k.state=Lt,Lt.strm=k,Lt.status=po,Lt.wrap=Xt,Lt.gzhead=null,Lt.w_bits=Qe,Lt.w_size=1<<Lt.w_bits,Lt.w_mask=Lt.w_size-1,Lt.hash_bits=lt+7,Lt.hash_size=1<<Lt.hash_bits,Lt.hash_mask=Lt.hash_size-1,Lt.hash_shift=~~((Lt.hash_bits+Wr-1)/Wr),Lt.window=new Uint8Array(Lt.w_size*2),Lt.head=new Uint16Array(Lt.hash_size),Lt.prev=new Uint16Array(Lt.w_size),Lt.lit_bufsize=1<<lt+6,Lt.pending_buf_size=Lt.lit_bufsize*4,Lt.pending_buf=new Uint8Array(Lt.pending_buf_size),Lt.sym_buf=Lt.lit_bufsize,Lt.sym_end=(Lt.lit_bufsize-1)*3,Lt.level=Be,Lt.strategy=it,Lt.method=H,xe(k)},At=(k,Be)=>ot(k,Be,hi,hl,el,qn),Ye=(k,Be)=>{if($e(k)||Be>ti||Be<0)return k?Tt(k,li):li;const H=k.state;if(!k.output||k.avail_in!==0&&!k.input||H.status===Si&&Be!==Kn)return Tt(k,k.avail_out===0?Kl:li);const Qe=H.last_flush;if(H.last_flush=Be,H.pending!==0){if($(k),k.avail_out===0)return H.last_flush=-1,On}else if(k.avail_in===0&&U(Be)<=U(Qe)&&Be!==Kn)return Tt(k,Kl);if(H.status===Si&&k.avail_in!==0)return Tt(k,Kl);if(H.status===po&&H.wrap===0&&(H.status=Uo),H.status===po){let lt=hi+(H.w_bits-8<<4)<<8,it=-1;if(H.strategy>=ki||H.level<2?it=0:H.level<6?it=1:H.level===6?it=2:it=3,lt|=it<<6,H.strstart!==0&&(lt|=Qa),lt+=31-lt%31,Pe(H,lt),H.strstart!==0&&(Pe(H,k.adler>>>16),Pe(H,k.adler&65535)),k.adler=1,H.status=Uo,$(k),H.pending!==0)return H.last_flush=-1,On}if(H.status===Wn){if(k.adler=0,we(H,31),we(H,139),we(H,8),H.gzhead)we(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),we(H,H.gzhead.time&255),we(H,H.gzhead.time>>8&255),we(H,H.gzhead.time>>16&255),we(H,H.gzhead.time>>24&255),we(H,H.level===9?2:H.strategy>=ki||H.level<2?4:0),we(H,H.gzhead.os&255),H.gzhead.extra&&H.gzhead.extra.length&&(we(H,H.gzhead.extra.length&255),we(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(k.adler=xs(k.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=Ki;else if(we(H,0),we(H,0),we(H,0),we(H,0),we(H,0),we(H,H.level===9?2:H.strategy>=ki||H.level<2?4:0),we(H,lo),H.status=Uo,$(k),H.pending!==0)return H.last_flush=-1,On}if(H.status===Ki){if(H.gzhead.extra){let lt=H.pending,it=(H.gzhead.extra.length&65535)-H.gzindex;for(;H.pending+it>H.pending_buf_size;){let Lt=H.pending_buf_size-H.pending;if(H.pending_buf.set(H.gzhead.extra.subarray(H.gzindex,H.gzindex+Lt),H.pending),H.pending=H.pending_buf_size,H.gzhead.hcrc&&H.pending>lt&&(k.adler=xs(k.adler,H.pending_buf,H.pending-lt,lt)),H.gzindex+=Lt,$(k),H.pending!==0)return H.last_flush=-1,On;lt=0,it-=Lt}let Xt=new Uint8Array(H.gzhead.extra);H.pending_buf.set(Xt.subarray(H.gzindex,H.gzindex+it),H.pending),H.pending+=it,H.gzhead.hcrc&&H.pending>lt&&(k.adler=xs(k.adler,H.pending_buf,H.pending-lt,lt)),H.gzindex=0}H.status=Ga}if(H.status===Ga){if(H.gzhead.name){let lt=H.pending,it;do{if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>lt&&(k.adler=xs(k.adler,H.pending_buf,H.pending-lt,lt)),$(k),H.pending!==0)return H.last_flush=-1,On;lt=0}H.gzindex<H.gzhead.name.length?it=H.gzhead.name.charCodeAt(H.gzindex++)&255:it=0,we(H,it)}while(it!==0);H.gzhead.hcrc&&H.pending>lt&&(k.adler=xs(k.adler,H.pending_buf,H.pending-lt,lt)),H.gzindex=0}H.status=Pa}if(H.status===Pa){if(H.gzhead.comment){let lt=H.pending,it;do{if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>lt&&(k.adler=xs(k.adler,H.pending_buf,H.pending-lt,lt)),$(k),H.pending!==0)return H.last_flush=-1,On;lt=0}H.gzindex<H.gzhead.comment.length?it=H.gzhead.comment.charCodeAt(H.gzindex++)&255:it=0,we(H,it)}while(it!==0);H.gzhead.hcrc&&H.pending>lt&&(k.adler=xs(k.adler,H.pending_buf,H.pending-lt,lt))}H.status=pi}if(H.status===pi){if(H.gzhead.hcrc){if(H.pending+2>H.pending_buf_size&&($(k),H.pending!==0))return H.last_flush=-1,On;we(H,k.adler&255),we(H,k.adler>>8&255),k.adler=0}if(H.status=Uo,$(k),H.pending!==0)return H.last_flush=-1,On}if(k.avail_in!==0||H.lookahead!==0||Be!==an&&H.status!==Si){let lt=H.level===0?S(H,Be):H.strategy===ki?ce(H,Be):H.strategy===ra?V(H,Be):ee[H.level].func(H,Be);if((lt===eo||lt===Ei)&&(H.status=Si),lt===xa||lt===eo)return k.avail_out===0&&(H.last_flush=-1),On;if(lt===mi&&(Be===Rr?sa(H):Be!==ti&&(Ps(H,0,0,!1),Be===Gn&&(G(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),$(k),k.avail_out===0))return H.last_flush=-1,On}return Be!==Kn?On:H.wrap<=0?mc:(H.wrap===2?(we(H,k.adler&255),we(H,k.adler>>8&255),we(H,k.adler>>16&255),we(H,k.adler>>24&255),we(H,k.total_in&255),we(H,k.total_in>>8&255),we(H,k.total_in>>16&255),we(H,k.total_in>>24&255)):(Pe(H,k.adler>>>16),Pe(H,k.adler&65535)),$(k),H.wrap>0&&(H.wrap=-H.wrap),H.pending!==0?On:mc)},yt=k=>{if($e(k))return li;const Be=k.state.status;return k.state=null,Be===Uo?Tt(k,Fo):On},Pt=(k,Be)=>{let H=Be.length;if($e(k))return li;const Qe=k.state,lt=Qe.wrap;if(lt===2||lt===1&&Qe.status!==po||Qe.lookahead)return li;if(lt===1&&(k.adler=rn(k.adler,Be,H,0)),Qe.wrap=0,H>=Qe.w_size){lt===0&&(G(Qe.head),Qe.strstart=0,Qe.block_start=0,Qe.insert=0);let mr=new Uint8Array(Qe.w_size);mr.set(Be.subarray(H-Qe.w_size,H),0),Be=mr,H=Qe.w_size}const it=k.avail_in,Xt=k.next_in,Lt=k.input;for(k.avail_in=H,k.next_in=0,k.input=Be,v(Qe);Qe.lookahead>=Wr;){let mr=Qe.strstart,jt=Qe.lookahead-(Wr-1);do Qe.ins_h=M(Qe,Qe.ins_h,Qe.window[mr+Wr-1]),Qe.prev[mr&Qe.w_mask]=Qe.head[Qe.ins_h],Qe.head[Qe.ins_h]=mr,mr++;while(--jt);Qe.strstart=mr,Qe.lookahead=Wr-1,v(Qe)}return Qe.strstart+=Qe.lookahead,Qe.block_start=Qe.strstart,Qe.insert=Qe.lookahead,Qe.lookahead=0,Qe.match_length=Qe.prev_length=Wr-1,Qe.match_available=0,k.next_in=Xt,k.input=Lt,k.avail_in=it,Qe.wrap=lt,On};var gt=At,Ge=ot,Mt=xe,is=Je,Ht=ct,vt=Ye,es=yt,Xe=Pt,rt="pako deflate (from Nodeca project)",xt={deflateInit:gt,deflateInit2:Ge,deflateReset:Mt,deflateResetKeep:is,deflateSetHeader:Ht,deflate:vt,deflateEnd:es,deflateSetDictionary:Xe,deflateInfo:rt};const bt=(k,Be)=>Object.prototype.hasOwnProperty.call(k,Be);var rs=function(k){const Be=Array.prototype.slice.call(arguments,1);for(;Be.length;){const H=Be.shift();if(H){if(typeof H!="object")throw new TypeError(H+"must be non-object");for(const Qe in H)bt(H,Qe)&&(k[Qe]=H[Qe])}}return k},us=k=>{let Be=0;for(let Qe=0,lt=k.length;Qe<lt;Qe++)Be+=k[Qe].length;const H=new Uint8Array(Be);for(let Qe=0,lt=0,it=k.length;Qe<it;Qe++){let Xt=k[Qe];H.set(Xt,lt),lt+=Xt.length}return H},ys={assign:rs,flattenChunks:us};let Kt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Kt=!1}const ms=new Uint8Array(256);for(let k=0;k<256;k++)ms[k]=k>=252?6:k>=248?5:k>=240?4:k>=224?3:k>=192?2:1;ms[254]=ms[254]=1;var Js=k=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(k);let Be,H,Qe,lt,it,Xt=k.length,Lt=0;for(lt=0;lt<Xt;lt++)H=k.charCodeAt(lt),(H&64512)===55296&&lt+1<Xt&&(Qe=k.charCodeAt(lt+1),(Qe&64512)===56320&&(H=65536+(H-55296<<10)+(Qe-56320),lt++)),Lt+=H<128?1:H<2048?2:H<65536?3:4;for(Be=new Uint8Array(Lt),it=0,lt=0;it<Lt;lt++)H=k.charCodeAt(lt),(H&64512)===55296&&lt+1<Xt&&(Qe=k.charCodeAt(lt+1),(Qe&64512)===56320&&(H=65536+(H-55296<<10)+(Qe-56320),lt++)),H<128?Be[it++]=H:H<2048?(Be[it++]=192|H>>>6,Be[it++]=128|H&63):H<65536?(Be[it++]=224|H>>>12,Be[it++]=128|H>>>6&63,Be[it++]=128|H&63):(Be[it++]=240|H>>>18,Be[it++]=128|H>>>12&63,Be[it++]=128|H>>>6&63,Be[it++]=128|H&63);return Be};const Hs=(k,Be)=>{if(Be<65534&&k.subarray&&Kt)return String.fromCharCode.apply(null,k.length===Be?k:k.subarray(0,Be));let H="";for(let Qe=0;Qe<Be;Qe++)H+=String.fromCharCode(k[Qe]);return H};var _e=(k,Be)=>{const H=Be||k.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(k.subarray(0,Be));let Qe,lt;const it=new Array(H*2);for(lt=0,Qe=0;Qe<H;){let Xt=k[Qe++];if(Xt<128){it[lt++]=Xt;continue}let Lt=ms[Xt];if(Lt>4){it[lt++]=65533,Qe+=Lt-1;continue}for(Xt&=Lt===2?31:Lt===3?15:7;Lt>1&&Qe<H;)Xt=Xt<<6|k[Qe++]&63,Lt--;if(Lt>1){it[lt++]=65533;continue}Xt<65536?it[lt++]=Xt:(Xt-=65536,it[lt++]=55296|Xt>>10&1023,it[lt++]=56320|Xt&1023)}return Hs(it,lt)},dt=(k,Be)=>{Be=Be||k.length,Be>k.length&&(Be=k.length);let H=Be-1;for(;H>=0&&(k[H]&192)===128;)H--;return H<0||H===0?Be:H+ms[k[H]]>Be?H:Be},ht={string2buf:Js,buf2string:_e,utf8border:dt};function Ot(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Rt=Ot;const Yt=Object.prototype.toString,{Z_NO_FLUSH:gs,Z_SYNC_FLUSH:bs,Z_FULL_FLUSH:Us,Z_FINISH:Zs,Z_OK:br,Z_STREAM_END:gr,Z_DEFAULT_COMPRESSION:Yr,Z_DEFAULT_STRATEGY:tt,Z_DEFLATED:cr}=fr;function un(k){this.options=ys.assign({level:Yr,method:cr,chunkSize:16384,windowBits:15,memLevel:8,strategy:tt},k||{});let Be=this.options;Be.raw&&Be.windowBits>0?Be.windowBits=-Be.windowBits:Be.gzip&&Be.windowBits>0&&Be.windowBits<16&&(Be.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Rt,this.strm.avail_out=0;let H=xt.deflateInit2(this.strm,Be.level,Be.method,Be.windowBits,Be.memLevel,Be.strategy);if(H!==br)throw new Error(cs[H]);if(Be.header&&xt.deflateSetHeader(this.strm,Be.header),Be.dictionary){let Qe;if(typeof Be.dictionary=="string"?Qe=ht.string2buf(Be.dictionary):Yt.call(Be.dictionary)==="[object ArrayBuffer]"?Qe=new Uint8Array(Be.dictionary):Qe=Be.dictionary,H=xt.deflateSetDictionary(this.strm,Qe),H!==br)throw new Error(cs[H]);this._dict_set=!0}}un.prototype.push=function(k,Be){const H=this.strm,Qe=this.options.chunkSize;let lt,it;if(this.ended)return!1;for(Be===~~Be?it=Be:it=Be===!0?Zs:gs,typeof k=="string"?H.input=ht.string2buf(k):Yt.call(k)==="[object ArrayBuffer]"?H.input=new Uint8Array(k):H.input=k,H.next_in=0,H.avail_in=H.input.length;;){if(H.avail_out===0&&(H.output=new Uint8Array(Qe),H.next_out=0,H.avail_out=Qe),(it===bs||it===Us)&&H.avail_out<=6){this.onData(H.output.subarray(0,H.next_out)),H.avail_out=0;continue}if(lt=xt.deflate(H,it),lt===gr)return H.next_out>0&&this.onData(H.output.subarray(0,H.next_out)),lt=xt.deflateEnd(this.strm),this.onEnd(lt),this.ended=!0,lt===br;if(H.avail_out===0){this.onData(H.output);continue}if(it>0&&H.next_out>0){this.onData(H.output.subarray(0,H.next_out)),H.avail_out=0;continue}if(H.avail_in===0)break}return!0},un.prototype.onData=function(k){this.chunks.push(k)},un.prototype.onEnd=function(k){k===br&&(this.result=ys.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg};function nr(k,Be){const H=new un(Be);if(H.push(k,!0),H.err)throw H.msg||cs[H.err];return H.result}function zs(k,Be){return Be=Be||{},Be.raw=!0,nr(k,Be)}function tn(k,Be){return Be=Be||{},Be.gzip=!0,nr(k,Be)}var yr=un,Vr=nr,Or=zs,Ca=tn,Cn={Deflate:yr,deflate:Vr,deflateRaw:Or,gzip:Ca};const Cr=16209,_n=16191;var Xr=function(Be,H){let Qe,lt,it,Xt,Lt,mr,jt,Jt,mn,ar,_s,vs,Ma,hn,Gr,cn,Sn,sr,En,Oa,Hr,aa,Dn,Tr;const ln=Be.state;Qe=Be.next_in,Dn=Be.input,lt=Qe+(Be.avail_in-5),it=Be.next_out,Tr=Be.output,Xt=it-(H-Be.avail_out),Lt=it+(Be.avail_out-257),mr=ln.dmax,jt=ln.wsize,Jt=ln.whave,mn=ln.wnext,ar=ln.window,_s=ln.hold,vs=ln.bits,Ma=ln.lencode,hn=ln.distcode,Gr=(1<<ln.lenbits)-1,cn=(1<<ln.distbits)-1;e:do{vs<15&&(_s+=Dn[Qe++]<<vs,vs+=8,_s+=Dn[Qe++]<<vs,vs+=8),Sn=Ma[_s&Gr];t:for(;;){if(sr=Sn>>>24,_s>>>=sr,vs-=sr,sr=Sn>>>16&255,sr===0)Tr[it++]=Sn&65535;else if(sr&16){En=Sn&65535,sr&=15,sr&&(vs<sr&&(_s+=Dn[Qe++]<<vs,vs+=8),En+=_s&(1<<sr)-1,_s>>>=sr,vs-=sr),vs<15&&(_s+=Dn[Qe++]<<vs,vs+=8,_s+=Dn[Qe++]<<vs,vs+=8),Sn=hn[_s&cn];s:for(;;){if(sr=Sn>>>24,_s>>>=sr,vs-=sr,sr=Sn>>>16&255,sr&16){if(Oa=Sn&65535,sr&=15,vs<sr&&(_s+=Dn[Qe++]<<vs,vs+=8,vs<sr&&(_s+=Dn[Qe++]<<vs,vs+=8)),Oa+=_s&(1<<sr)-1,Oa>mr){Be.msg="invalid distance too far back",ln.mode=Cr;break e}if(_s>>>=sr,vs-=sr,sr=it-Xt,Oa>sr){if(sr=Oa-sr,sr>Jt&&ln.sane){Be.msg="invalid distance too far back",ln.mode=Cr;break e}if(Hr=0,aa=ar,mn===0){if(Hr+=jt-sr,sr<En){En-=sr;do Tr[it++]=ar[Hr++];while(--sr);Hr=it-Oa,aa=Tr}}else if(mn<sr){if(Hr+=jt+mn-sr,sr-=mn,sr<En){En-=sr;do Tr[it++]=ar[Hr++];while(--sr);if(Hr=0,mn<En){sr=mn,En-=sr;do Tr[it++]=ar[Hr++];while(--sr);Hr=it-Oa,aa=Tr}}}else if(Hr+=mn-sr,sr<En){En-=sr;do Tr[it++]=ar[Hr++];while(--sr);Hr=it-Oa,aa=Tr}for(;En>2;)Tr[it++]=aa[Hr++],Tr[it++]=aa[Hr++],Tr[it++]=aa[Hr++],En-=3;En&&(Tr[it++]=aa[Hr++],En>1&&(Tr[it++]=aa[Hr++]))}else{Hr=it-Oa;do Tr[it++]=Tr[Hr++],Tr[it++]=Tr[Hr++],Tr[it++]=Tr[Hr++],En-=3;while(En>2);En&&(Tr[it++]=Tr[Hr++],En>1&&(Tr[it++]=Tr[Hr++]))}}else if((sr&64)===0){Sn=hn[(Sn&65535)+(_s&(1<<sr)-1)];continue s}else{Be.msg="invalid distance code",ln.mode=Cr;break e}break}}else if((sr&64)===0){Sn=Ma[(Sn&65535)+(_s&(1<<sr)-1)];continue t}else if(sr&32){ln.mode=_n;break e}else{Be.msg="invalid literal/length code",ln.mode=Cr;break e}break}}while(Qe<lt&&it<Lt);En=vs>>3,Qe-=En,vs-=En<<3,_s&=(1<<vs)-1,Be.next_in=Qe,Be.next_out=it,Be.avail_in=Qe<lt?5+(lt-Qe):5-(Qe-lt),Be.avail_out=it<Lt?257+(Lt-it):257-(it-Lt),ln.hold=_s,ln.bits=vs};const Br=15,nn=852,Ir=592,bn=0,Yn=1,Bn=2,In=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Wa=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Kr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_a=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var _r=(k,Be,H,Qe,lt,it,Xt,Lt)=>{const mr=Lt.bits;let jt=0,Jt=0,mn=0,ar=0,_s=0,vs=0,Ma=0,hn=0,Gr=0,cn=0,Sn,sr,En,Oa,Hr,aa=null,Dn;const Tr=new Uint16Array(Br+1),ln=new Uint16Array(Br+1);let vo=null,ec,wl,Xi;for(jt=0;jt<=Br;jt++)Tr[jt]=0;for(Jt=0;Jt<Qe;Jt++)Tr[Be[H+Jt]]++;for(_s=mr,ar=Br;ar>=1&&Tr[ar]===0;ar--);if(_s>ar&&(_s=ar),ar===0)return lt[it++]=1<<24|64<<16|0,lt[it++]=1<<24|64<<16|0,Lt.bits=1,0;for(mn=1;mn<ar&&Tr[mn]===0;mn++);for(_s<mn&&(_s=mn),hn=1,jt=1;jt<=Br;jt++)if(hn<<=1,hn-=Tr[jt],hn<0)return-1;if(hn>0&&(k===bn||ar!==1))return-1;for(ln[1]=0,jt=1;jt<Br;jt++)ln[jt+1]=ln[jt]+Tr[jt];for(Jt=0;Jt<Qe;Jt++)Be[H+Jt]!==0&&(Xt[ln[Be[H+Jt]]++]=Jt);if(k===bn?(aa=vo=Xt,Dn=20):k===Yn?(aa=In,vo=Wa,Dn=257):(aa=Kr,vo=_a,Dn=0),cn=0,Jt=0,jt=mn,Hr=it,vs=_s,Ma=0,En=-1,Gr=1<<_s,Oa=Gr-1,k===Yn&&Gr>nn||k===Bn&&Gr>Ir)return 1;for(;;){ec=jt-Ma,Xt[Jt]+1<Dn?(wl=0,Xi=Xt[Jt]):Xt[Jt]>=Dn?(wl=vo[Xt[Jt]-Dn],Xi=aa[Xt[Jt]-Dn]):(wl=96,Xi=0),Sn=1<<jt-Ma,sr=1<<vs,mn=sr;do sr-=Sn,lt[Hr+(cn>>Ma)+sr]=ec<<24|wl<<16|Xi|0;while(sr!==0);for(Sn=1<<jt-1;cn&Sn;)Sn>>=1;if(Sn!==0?(cn&=Sn-1,cn+=Sn):cn=0,Jt++,--Tr[jt]===0){if(jt===ar)break;jt=Be[H+Xt[Jt]]}if(jt>_s&&(cn&Oa)!==En){for(Ma===0&&(Ma=_s),Hr+=mn,vs=jt-Ma,hn=1<<vs;vs+Ma<ar&&(hn-=Tr[vs+Ma],!(hn<=0));)vs++,hn<<=1;if(Gr+=1<<vs,k===Yn&&Gr>nn||k===Bn&&Gr>Ir)return 1;En=cn&Oa,lt[En]=_s<<24|vs<<16|Hr-it|0}}return cn!==0&&(lt[Hr+cn]=jt-Ma<<24|64<<16|0),Lt.bits=_s,0};const Na=0,wn=1,or=2,{Z_FINISH:Ln,Z_BLOCK:Yc,Z_TREES:Pi,Z_OK:co,Z_STREAM_END:Gl,Z_NEED_DICT:on,Z_STREAM_ERROR:ci,Z_DATA_ERROR:gi,Z_MEM_ERROR:tl,Z_BUF_ERROR:Mo,Z_DEFLATED:Ra}=fr,xi=16180,di=16181,Fl=16182,Ri=16183,fl=16184,mo=16185,Ul=16186,Oo=16187,pl=16188,Xc=16189,ml=16190,Io=16191,Fc=16192,Jc=16193,gc=16194,sl=16195,Uc=16196,Do=16197,Ml=16198,go=16199,xc=16200,Mc=16201,Ad=16202,Wl=16203,Jd=16204,hd=16205,xo=16206,Id=16207,Po=16208,An=16209,Ol=16210,Yl=16211,Xl=852,Oc=592,Gi=15,Jl=k=>(k>>>24&255)+(k>>>8&65280)+((k&65280)<<8)+((k&255)<<24);function fd(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wi=k=>{if(!k)return 1;const Be=k.state;return!Be||Be.strm!==k||Be.mode<xi||Be.mode>Yl?1:0},Zc=k=>{if(Wi(k))return ci;const Be=k.state;return k.total_in=k.total_out=Be.total=0,k.msg="",Be.wrap&&(k.adler=Be.wrap&1),Be.mode=xi,Be.last=0,Be.havedict=0,Be.flags=-1,Be.dmax=32768,Be.head=null,Be.hold=0,Be.bits=0,Be.lencode=Be.lendyn=new Int32Array(Xl),Be.distcode=Be.distdyn=new Int32Array(Oc),Be.sane=1,Be.back=-1,co},Ro=k=>{if(Wi(k))return ci;const Be=k.state;return Be.wsize=0,Be.whave=0,Be.wnext=0,Zc(k)},pd=(k,Be)=>{let H;if(Wi(k))return ci;const Qe=k.state;return Be<0?(H=0,Be=-Be):(H=(Be>>4)+5,Be<48&&(Be&=15)),Be&&(Be<8||Be>15)?ci:(Qe.window!==null&&Qe.wbits!==Be&&(Qe.window=null),Qe.wrap=H,Qe.wbits=Be,Ro(k))},Zl=(k,Be)=>{if(!k)return ci;const H=new fd;k.state=H,H.strm=k,H.window=null,H.mode=xi;const Qe=pd(k,Be);return Qe!==co&&(k.state=null),Qe},bo=k=>Zl(k,Gi);let to=!0,ql,gl;const rl=k=>{if(to){ql=new Int32Array(512),gl=new Int32Array(32);let Be=0;for(;Be<144;)k.lens[Be++]=8;for(;Be<256;)k.lens[Be++]=9;for(;Be<280;)k.lens[Be++]=7;for(;Be<288;)k.lens[Be++]=8;for(_r(wn,k.lens,0,288,ql,0,k.work,{bits:9}),Be=0;Be<32;)k.lens[Be++]=5;_r(or,k.lens,0,32,gl,0,k.work,{bits:5}),to=!1}k.lencode=ql,k.lenbits=9,k.distcode=gl,k.distbits=5},xl=(k,Be,H,Qe)=>{let lt;const it=k.state;return it.window===null&&(it.wsize=1<<it.wbits,it.wnext=0,it.whave=0,it.window=new Uint8Array(it.wsize)),Qe>=it.wsize?(it.window.set(Be.subarray(H-it.wsize,H),0),it.wnext=0,it.whave=it.wsize):(lt=it.wsize-it.wnext,lt>Qe&&(lt=Qe),it.window.set(Be.subarray(H-Qe,H-Qe+lt),it.wnext),Qe-=lt,Qe?(it.window.set(Be.subarray(H-Qe,H),0),it.wnext=Qe,it.whave=it.wsize):(it.wnext+=lt,it.wnext===it.wsize&&(it.wnext=0),it.whave<it.wsize&&(it.whave+=lt))),0},gu=(k,Be)=>{let H,Qe,lt,it,Xt,Lt,mr,jt,Jt,mn,ar,_s,vs,Ma,hn=0,Gr,cn,Sn,sr,En,Oa,Hr,aa;const Dn=new Uint8Array(4);let Tr,ln;const vo=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wi(k)||!k.output||!k.input&&k.avail_in!==0)return ci;H=k.state,H.mode===Io&&(H.mode=Fc),Xt=k.next_out,lt=k.output,mr=k.avail_out,it=k.next_in,Qe=k.input,Lt=k.avail_in,jt=H.hold,Jt=H.bits,mn=Lt,ar=mr,aa=co;e:for(;;)switch(H.mode){case xi:if(H.wrap===0){H.mode=Fc;break}for(;Jt<16;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}if(H.wrap&2&&jt===35615){H.wbits===0&&(H.wbits=15),H.check=0,Dn[0]=jt&255,Dn[1]=jt>>>8&255,H.check=xs(H.check,Dn,2,0),jt=0,Jt=0,H.mode=di;break}if(H.head&&(H.head.done=!1),!(H.wrap&1)||(((jt&255)<<8)+(jt>>8))%31){k.msg="incorrect header check",H.mode=An;break}if((jt&15)!==Ra){k.msg="unknown compression method",H.mode=An;break}if(jt>>>=4,Jt-=4,Hr=(jt&15)+8,H.wbits===0&&(H.wbits=Hr),Hr>15||Hr>H.wbits){k.msg="invalid window size",H.mode=An;break}H.dmax=1<<H.wbits,H.flags=0,k.adler=H.check=1,H.mode=jt&512?Xc:Io,jt=0,Jt=0;break;case di:for(;Jt<16;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}if(H.flags=jt,(H.flags&255)!==Ra){k.msg="unknown compression method",H.mode=An;break}if(H.flags&57344){k.msg="unknown header flags set",H.mode=An;break}H.head&&(H.head.text=jt>>8&1),H.flags&512&&H.wrap&4&&(Dn[0]=jt&255,Dn[1]=jt>>>8&255,H.check=xs(H.check,Dn,2,0)),jt=0,Jt=0,H.mode=Fl;case Fl:for(;Jt<32;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}H.head&&(H.head.time=jt),H.flags&512&&H.wrap&4&&(Dn[0]=jt&255,Dn[1]=jt>>>8&255,Dn[2]=jt>>>16&255,Dn[3]=jt>>>24&255,H.check=xs(H.check,Dn,4,0)),jt=0,Jt=0,H.mode=Ri;case Ri:for(;Jt<16;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}H.head&&(H.head.xflags=jt&255,H.head.os=jt>>8),H.flags&512&&H.wrap&4&&(Dn[0]=jt&255,Dn[1]=jt>>>8&255,H.check=xs(H.check,Dn,2,0)),jt=0,Jt=0,H.mode=fl;case fl:if(H.flags&1024){for(;Jt<16;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}H.length=jt,H.head&&(H.head.extra_len=jt),H.flags&512&&H.wrap&4&&(Dn[0]=jt&255,Dn[1]=jt>>>8&255,H.check=xs(H.check,Dn,2,0)),jt=0,Jt=0}else H.head&&(H.head.extra=null);H.mode=mo;case mo:if(H.flags&1024&&(_s=H.length,_s>Lt&&(_s=Lt),_s&&(H.head&&(Hr=H.head.extra_len-H.length,H.head.extra||(H.head.extra=new Uint8Array(H.head.extra_len)),H.head.extra.set(Qe.subarray(it,it+_s),Hr)),H.flags&512&&H.wrap&4&&(H.check=xs(H.check,Qe,_s,it)),Lt-=_s,it+=_s,H.length-=_s),H.length))break e;H.length=0,H.mode=Ul;case Ul:if(H.flags&2048){if(Lt===0)break e;_s=0;do Hr=Qe[it+_s++],H.head&&Hr&&H.length<65536&&(H.head.name+=String.fromCharCode(Hr));while(Hr&&_s<Lt);if(H.flags&512&&H.wrap&4&&(H.check=xs(H.check,Qe,_s,it)),Lt-=_s,it+=_s,Hr)break e}else H.head&&(H.head.name=null);H.length=0,H.mode=Oo;case Oo:if(H.flags&4096){if(Lt===0)break e;_s=0;do Hr=Qe[it+_s++],H.head&&Hr&&H.length<65536&&(H.head.comment+=String.fromCharCode(Hr));while(Hr&&_s<Lt);if(H.flags&512&&H.wrap&4&&(H.check=xs(H.check,Qe,_s,it)),Lt-=_s,it+=_s,Hr)break e}else H.head&&(H.head.comment=null);H.mode=pl;case pl:if(H.flags&512){for(;Jt<16;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}if(H.wrap&4&&jt!==(H.check&65535)){k.msg="header crc mismatch",H.mode=An;break}jt=0,Jt=0}H.head&&(H.head.hcrc=H.flags>>9&1,H.head.done=!0),k.adler=H.check=0,H.mode=Io;break;case Xc:for(;Jt<32;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}k.adler=H.check=Jl(jt),jt=0,Jt=0,H.mode=ml;case ml:if(H.havedict===0)return k.next_out=Xt,k.avail_out=mr,k.next_in=it,k.avail_in=Lt,H.hold=jt,H.bits=Jt,on;k.adler=H.check=1,H.mode=Io;case Io:if(Be===Yc||Be===Pi)break e;case Fc:if(H.last){jt>>>=Jt&7,Jt-=Jt&7,H.mode=xo;break}for(;Jt<3;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}switch(H.last=jt&1,jt>>>=1,Jt-=1,jt&3){case 0:H.mode=Jc;break;case 1:if(rl(H),H.mode=go,Be===Pi){jt>>>=2,Jt-=2;break e}break;case 2:H.mode=Uc;break;case 3:k.msg="invalid block type",H.mode=An}jt>>>=2,Jt-=2;break;case Jc:for(jt>>>=Jt&7,Jt-=Jt&7;Jt<32;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}if((jt&65535)!==(jt>>>16^65535)){k.msg="invalid stored block lengths",H.mode=An;break}if(H.length=jt&65535,jt=0,Jt=0,H.mode=gc,Be===Pi)break e;case gc:H.mode=sl;case sl:if(_s=H.length,_s){if(_s>Lt&&(_s=Lt),_s>mr&&(_s=mr),_s===0)break e;lt.set(Qe.subarray(it,it+_s),Xt),Lt-=_s,it+=_s,mr-=_s,Xt+=_s,H.length-=_s;break}H.mode=Io;break;case Uc:for(;Jt<14;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}if(H.nlen=(jt&31)+257,jt>>>=5,Jt-=5,H.ndist=(jt&31)+1,jt>>>=5,Jt-=5,H.ncode=(jt&15)+4,jt>>>=4,Jt-=4,H.nlen>286||H.ndist>30){k.msg="too many length or distance symbols",H.mode=An;break}H.have=0,H.mode=Do;case Do:for(;H.have<H.ncode;){for(;Jt<3;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}H.lens[vo[H.have++]]=jt&7,jt>>>=3,Jt-=3}for(;H.have<19;)H.lens[vo[H.have++]]=0;if(H.lencode=H.lendyn,H.lenbits=7,Tr={bits:H.lenbits},aa=_r(Na,H.lens,0,19,H.lencode,0,H.work,Tr),H.lenbits=Tr.bits,aa){k.msg="invalid code lengths set",H.mode=An;break}H.have=0,H.mode=Ml;case Ml:for(;H.have<H.nlen+H.ndist;){for(;hn=H.lencode[jt&(1<<H.lenbits)-1],Gr=hn>>>24,cn=hn>>>16&255,Sn=hn&65535,!(Gr<=Jt);){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}if(Sn<16)jt>>>=Gr,Jt-=Gr,H.lens[H.have++]=Sn;else{if(Sn===16){for(ln=Gr+2;Jt<ln;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}if(jt>>>=Gr,Jt-=Gr,H.have===0){k.msg="invalid bit length repeat",H.mode=An;break}Hr=H.lens[H.have-1],_s=3+(jt&3),jt>>>=2,Jt-=2}else if(Sn===17){for(ln=Gr+3;Jt<ln;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}jt>>>=Gr,Jt-=Gr,Hr=0,_s=3+(jt&7),jt>>>=3,Jt-=3}else{for(ln=Gr+7;Jt<ln;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}jt>>>=Gr,Jt-=Gr,Hr=0,_s=11+(jt&127),jt>>>=7,Jt-=7}if(H.have+_s>H.nlen+H.ndist){k.msg="invalid bit length repeat",H.mode=An;break}for(;_s--;)H.lens[H.have++]=Hr}}if(H.mode===An)break;if(H.lens[256]===0){k.msg="invalid code -- missing end-of-block",H.mode=An;break}if(H.lenbits=9,Tr={bits:H.lenbits},aa=_r(wn,H.lens,0,H.nlen,H.lencode,0,H.work,Tr),H.lenbits=Tr.bits,aa){k.msg="invalid literal/lengths set",H.mode=An;break}if(H.distbits=6,H.distcode=H.distdyn,Tr={bits:H.distbits},aa=_r(or,H.lens,H.nlen,H.ndist,H.distcode,0,H.work,Tr),H.distbits=Tr.bits,aa){k.msg="invalid distances set",H.mode=An;break}if(H.mode=go,Be===Pi)break e;case go:H.mode=xc;case xc:if(Lt>=6&&mr>=258){k.next_out=Xt,k.avail_out=mr,k.next_in=it,k.avail_in=Lt,H.hold=jt,H.bits=Jt,Xr(k,ar),Xt=k.next_out,lt=k.output,mr=k.avail_out,it=k.next_in,Qe=k.input,Lt=k.avail_in,jt=H.hold,Jt=H.bits,H.mode===Io&&(H.back=-1);break}for(H.back=0;hn=H.lencode[jt&(1<<H.lenbits)-1],Gr=hn>>>24,cn=hn>>>16&255,Sn=hn&65535,!(Gr<=Jt);){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}if(cn&&(cn&240)===0){for(sr=Gr,En=cn,Oa=Sn;hn=H.lencode[Oa+((jt&(1<<sr+En)-1)>>sr)],Gr=hn>>>24,cn=hn>>>16&255,Sn=hn&65535,!(sr+Gr<=Jt);){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}jt>>>=sr,Jt-=sr,H.back+=sr}if(jt>>>=Gr,Jt-=Gr,H.back+=Gr,H.length=Sn,cn===0){H.mode=hd;break}if(cn&32){H.back=-1,H.mode=Io;break}if(cn&64){k.msg="invalid literal/length code",H.mode=An;break}H.extra=cn&15,H.mode=Mc;case Mc:if(H.extra){for(ln=H.extra;Jt<ln;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}H.length+=jt&(1<<H.extra)-1,jt>>>=H.extra,Jt-=H.extra,H.back+=H.extra}H.was=H.length,H.mode=Ad;case Ad:for(;hn=H.distcode[jt&(1<<H.distbits)-1],Gr=hn>>>24,cn=hn>>>16&255,Sn=hn&65535,!(Gr<=Jt);){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}if((cn&240)===0){for(sr=Gr,En=cn,Oa=Sn;hn=H.distcode[Oa+((jt&(1<<sr+En)-1)>>sr)],Gr=hn>>>24,cn=hn>>>16&255,Sn=hn&65535,!(sr+Gr<=Jt);){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}jt>>>=sr,Jt-=sr,H.back+=sr}if(jt>>>=Gr,Jt-=Gr,H.back+=Gr,cn&64){k.msg="invalid distance code",H.mode=An;break}H.offset=Sn,H.extra=cn&15,H.mode=Wl;case Wl:if(H.extra){for(ln=H.extra;Jt<ln;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}H.offset+=jt&(1<<H.extra)-1,jt>>>=H.extra,Jt-=H.extra,H.back+=H.extra}if(H.offset>H.dmax){k.msg="invalid distance too far back",H.mode=An;break}H.mode=Jd;case Jd:if(mr===0)break e;if(_s=ar-mr,H.offset>_s){if(_s=H.offset-_s,_s>H.whave&&H.sane){k.msg="invalid distance too far back",H.mode=An;break}_s>H.wnext?(_s-=H.wnext,vs=H.wsize-_s):vs=H.wnext-_s,_s>H.length&&(_s=H.length),Ma=H.window}else Ma=lt,vs=Xt-H.offset,_s=H.length;_s>mr&&(_s=mr),mr-=_s,H.length-=_s;do lt[Xt++]=Ma[vs++];while(--_s);H.length===0&&(H.mode=xc);break;case hd:if(mr===0)break e;lt[Xt++]=H.length,mr--,H.mode=xc;break;case xo:if(H.wrap){for(;Jt<32;){if(Lt===0)break e;Lt--,jt|=Qe[it++]<<Jt,Jt+=8}if(ar-=mr,k.total_out+=ar,H.total+=ar,H.wrap&4&&ar&&(k.adler=H.check=H.flags?xs(H.check,lt,ar,Xt-ar):rn(H.check,lt,ar,Xt-ar)),ar=mr,H.wrap&4&&(H.flags?jt:Jl(jt))!==H.check){k.msg="incorrect data check",H.mode=An;break}jt=0,Jt=0}H.mode=Id;case Id:if(H.wrap&&H.flags){for(;Jt<32;){if(Lt===0)break e;Lt--,jt+=Qe[it++]<<Jt,Jt+=8}if(H.wrap&4&&jt!==(H.total&4294967295)){k.msg="incorrect length check",H.mode=An;break}jt=0,Jt=0}H.mode=Po;case Po:aa=Gl;break e;case An:aa=gi;break e;case Ol:return tl;case Yl:default:return ci}return k.next_out=Xt,k.avail_out=mr,k.next_in=it,k.avail_in=Lt,H.hold=jt,H.bits=Jt,(H.wsize||ar!==k.avail_out&&H.mode<An&&(H.mode<xo||Be!==Ln))&&xl(k,k.output,k.next_out,ar-k.avail_out),mn-=k.avail_in,ar-=k.avail_out,k.total_in+=mn,k.total_out+=ar,H.total+=ar,H.wrap&4&&ar&&(k.adler=H.check=H.flags?xs(H.check,lt,ar,k.next_out-ar):rn(H.check,lt,ar,k.next_out-ar)),k.data_type=H.bits+(H.last?64:0)+(H.mode===Io?128:0)+(H.mode===go||H.mode===gc?256:0),(mn===0&&ar===0||Be===Ln)&&aa===co&&(aa=Mo),aa},Dl=k=>{if(Wi(k))return ci;let Be=k.state;return Be.window&&(Be.window=null),k.state=null,co},xu=(k,Be)=>{if(Wi(k))return ci;const H=k.state;return(H.wrap&2)===0?ci:(H.head=Be,Be.done=!1,co)},md=(k,Be)=>{const H=Be.length;let Qe,lt,it;return Wi(k)||(Qe=k.state,Qe.wrap!==0&&Qe.mode!==ml)?ci:Qe.mode===ml&&(lt=1,lt=rn(lt,Be,H,0),lt!==Qe.check)?gi:(it=xl(k,Be,H,H),it?(Qe.mode=Ol,tl):(Qe.havedict=1,co))};var Qi=Ro,Ha=pd,dr=Zc,Ic=bo,bl=Zl,gd=gu,Qo=Dl,Dc=xu,bu=md,xd="pako inflate (from Nodeca project)",Yi={inflateReset:Qi,inflateReset2:Ha,inflateResetKeep:dr,inflateInit:Ic,inflateInit2:bl,inflate:gd,inflateEnd:Qo,inflateGetHeader:Dc,inflateSetDictionary:bu,inflateInfo:xd};function qc(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vl=qc;const Zd=Object.prototype.toString,{Z_NO_FLUSH:nl,Z_FINISH:bc,Z_OK:_o,Z_STREAM_END:al,Z_NEED_DICT:bd,Z_STREAM_ERROR:yl,Z_DATA_ERROR:vc,Z_MEM_ERROR:ed}=fr;function il(k){this.options=ys.assign({chunkSize:65536,windowBits:15,to:""},k||{});const Be=this.options;Be.raw&&Be.windowBits>=0&&Be.windowBits<16&&(Be.windowBits=-Be.windowBits,Be.windowBits===0&&(Be.windowBits=-15)),Be.windowBits>=0&&Be.windowBits<16&&!(k&&k.windowBits)&&(Be.windowBits+=32),Be.windowBits>15&&Be.windowBits<48&&(Be.windowBits&15)===0&&(Be.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Rt,this.strm.avail_out=0;let H=Yi.inflateInit2(this.strm,Be.windowBits);if(H!==_o)throw new Error(cs[H]);if(this.header=new vl,Yi.inflateGetHeader(this.strm,this.header),Be.dictionary&&(typeof Be.dictionary=="string"?Be.dictionary=ht.string2buf(Be.dictionary):Zd.call(Be.dictionary)==="[object ArrayBuffer]"&&(Be.dictionary=new Uint8Array(Be.dictionary)),Be.raw&&(H=Yi.inflateSetDictionary(this.strm,Be.dictionary),H!==_o)))throw new Error(cs[H])}il.prototype.push=function(k,Be){const H=this.strm,Qe=this.options.chunkSize,lt=this.options.dictionary;let it,Xt,Lt;if(this.ended)return!1;for(Be===~~Be?Xt=Be:Xt=Be===!0?bc:nl,Zd.call(k)==="[object ArrayBuffer]"?H.input=new Uint8Array(k):H.input=k,H.next_in=0,H.avail_in=H.input.length;;){for(H.avail_out===0&&(H.output=new Uint8Array(Qe),H.next_out=0,H.avail_out=Qe),it=Yi.inflate(H,Xt),it===bd&&lt&&(it=Yi.inflateSetDictionary(H,lt),it===_o?it=Yi.inflate(H,Xt):it===vc&&(it=bd));H.avail_in>0&&it===al&&H.state.wrap>0&&k[H.next_in]!==0;)Yi.inflateReset(H),it=Yi.inflate(H,Xt);switch(it){case yl:case vc:case bd:case ed:return this.onEnd(it),this.ended=!0,!1}if(Lt=H.avail_out,H.next_out&&(H.avail_out===0||it===al))if(this.options.to==="string"){let mr=ht.utf8border(H.output,H.next_out),jt=H.next_out-mr,Jt=ht.buf2string(H.output,mr);H.next_out=jt,H.avail_out=Qe-jt,jt&&H.output.set(H.output.subarray(mr,mr+jt),0),this.onData(Jt)}else this.onData(H.output.length===H.next_out?H.output:H.output.subarray(0,H.next_out));if(!(it===_o&&Lt===0)){if(it===al)return it=Yi.inflateEnd(this.strm),this.onEnd(it),this.ended=!0,!0;if(H.avail_in===0)break}}return!0},il.prototype.onData=function(k){this.chunks.push(k)},il.prototype.onEnd=function(k){k===_o&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ys.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg};function ri(k,Be){const H=new il(Be);if(H.push(k),H.err)throw H.msg||cs[H.err];return H.result}function vd(k,Be){return Be=Be||{},Be.raw=!0,ri(k,Be)}var vu=il,Uu=ri,td=vd,sd=ri,bi={Inflate:vu,inflate:Uu,inflateRaw:td,ungzip:sd};const{Deflate:rd,deflate:yd,deflateRaw:Z,gzip:Te}=Cn,{Inflate:at,inflate:pt,inflateRaw:Qt,ungzip:Cs}=bi;var Rs=rd,Sr=yd,Er=Z,pn=Te,jn=at,na=pt,Ua=Qt,vi=Cs,Ba=fr,Ti={Deflate:Rs,deflate:Sr,deflateRaw:Er,gzip:pn,Inflate:jn,inflate:na,inflateRaw:Ua,ungzip:vi,constants:Ba}}),"./node_modules/performance-now/lib/performance-now.js":(function(d){(function(){var A,o,f,p,m,x;typeof performance<"u"&&performance!==null&&performance.now?d.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(d.exports=function(){return(A()-m)/1e6},o=process.hrtime,A=function(){var b;return b=o(),b[0]*1e9+b[1]},p=A(),x=process.uptime()*1e9,m=p-x):Date.now?(d.exports=function(){return Date.now()-f},f=Date.now()):(d.exports=function(){return new Date().getTime()-f},f=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(d,A,o){for(var f=o("./node_modules/performance-now/lib/performance-now.js"),p=typeof window>"u"?Mp:window,m=["moz","webkit"],x="AnimationFrame",b=p["request"+x],w=p["cancel"+x]||p["cancelRequest"+x],y=0;!b&&y<m.length;y++)b=p[m[y]+"Request"+x],w=p[m[y]+"Cancel"+x]||p[m[y]+"CancelRequest"+x];if(!b||!w){var E=0,P=0,z=[],X=1e3/60;b=function(Y){if(z.length===0){var Q=f(),K=Math.max(0,X-(Q-E));E=K+Q,setTimeout(function(){var de=z.slice(0);z.length=0;for(var ue=0;ue<de.length;ue++)if(!de[ue].cancelled)try{de[ue].callback(E)}catch(ve){setTimeout(function(){throw ve},0)}},Math.round(K))}return z.push({handle:++P,callback:Y,cancelled:!1}),P},w=function(Y){for(var Q=0;Q<z.length;Q++)z[Q].handle===Y&&(z[Q].cancelled=!0)}}d.exports=function(Y){return b.call(p,Y)},d.exports.cancel=function(){w.apply(p,arguments)},d.exports.polyfill=function(Y){Y||(Y=p),Y.requestAnimationFrame=b,Y.cancelAnimationFrame=w}}),"./node_modules/rgbcolor/index.js":(function(d){d.exports=function(A){this.ok=!1,this.alpha=1,A.charAt(0)=="#"&&(A=A.substr(1,6)),A=A.replace(/ /g,""),A=A.toLowerCase();var o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};A=o[A]||A;for(var f=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(y){return[parseInt(y[1]),parseInt(y[2]),parseInt(y[3]),parseFloat(y[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(y){return[parseInt(y[1]),parseInt(y[2]),parseInt(y[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(y){return[parseInt(y[1],16),parseInt(y[2],16),parseInt(y[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(y){return[parseInt(y[1]+y[1],16),parseInt(y[2]+y[2],16),parseInt(y[3]+y[3],16)]}}],p=0;p<f.length;p++){var m=f[p].re,x=f[p].process,b=m.exec(A);if(b){var w=x(b);this.r=w[0],this.g=w[1],this.b=w[2],w.length>3&&(this.alpha=w[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var y=this.r.toString(16),E=this.g.toString(16),P=this.b.toString(16);return y.length==1&&(y="0"+y),E.length==1&&(E="0"+E),P.length==1&&(P="0"+P),"#"+y+E+P},this.getHelpXML=function(){for(var y=new Array,E=0;E<f.length;E++)for(var P=f[E].example,z=0;z<P.length;z++)y[y.length]=P[z];for(var X in o)y[y.length]=X;var Y=document.createElement("ul");Y.setAttribute("id","rgbcolor-examples");for(var E=0;E<y.length;E++)try{var Q=document.createElement("li"),K=new RGBColor(y[E]),de=document.createElement("div");de.style.cssText="margin: 3px; border: 1px solid black; background:"+K.toHex()+"; color:"+K.toHex(),de.appendChild(document.createTextNode("test"));var ue=document.createTextNode(" "+y[E]+" -> "+K.toRGB()+" -> "+K.toHex());Q.appendChild(de),Q.appendChild(ue),Y.appendChild(Q)}catch{}return Y}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(d,A,o){o.r(A),o.d(A,{BlurStack:function(){return X},canvasRGB:function(){return P},canvasRGBA:function(){return y},image:function(){return b},imageDataRGB:function(){return z},imageDataRGBA:function(){return E}});function f(Y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(Q){return typeof Q}:f=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},f(Y)}function p(Y,Q){if(!(Y instanceof Q))throw new TypeError("Cannot call a class as a function")}var m=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],x=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function b(Y,Q,K,de,ue,ve){if(typeof Y=="string"&&(Y=document.getElementById(Y)),!(!Y||Object.prototype.toString.call(Y).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in Y))){var le=ue?"offset":"natural",Ce=Y[le+"Width"],oe=Y[le+"Height"];if(Object.prototype.toString.call(Y).slice(8,-1)==="ImageBitmap"&&(Ce=Y.width,oe=Y.height),typeof Q=="string"&&(Q=document.getElementById(Q)),!(!Q||!("getContext"in Q))){ve||(Q.style.width=Ce+"px",Q.style.height=oe+"px"),Q.width=Ce,Q.height=oe;var Ne=Q.getContext("2d");Ne.clearRect(0,0,Ce,oe),Ne.drawImage(Y,0,0,Y.naturalWidth,Y.naturalHeight,0,0,Ce,oe),!(isNaN(K)||K<1)&&(de?y(Q,0,0,Ce,oe,K):P(Q,0,0,Ce,oe,K))}}}function w(Y,Q,K,de,ue){if(typeof Y=="string"&&(Y=document.getElementById(Y)),!Y||f(Y)!=="object"||!("getContext"in Y))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var ve=Y.getContext("2d");try{return ve.getImageData(Q,K,de,ue)}catch(le){throw new Error("unable to access image data: "+le)}}function y(Y,Q,K,de,ue,ve){if(!(isNaN(ve)||ve<1)){ve|=0;var le=w(Y,Q,K,de,ue);le=E(le,Q,K,de,ue,ve),Y.getContext("2d").putImageData(le,Q,K)}}function E(Y,Q,K,de,ue,ve){for(var le=Y.data,Ce=2*ve+1,oe=de-1,Ne=ue-1,Ae=ve+1,se=Ae*(Ae+1)/2,pe=new X,re=pe,Ee,De=1;De<Ce;De++)re=re.next=new X,De===Ae&&(Ee=re);re.next=pe;for(var Se=null,he=null,be=0,fe=0,te=m[ve],ge=x[ve],Ue=0;Ue<ue;Ue++){re=pe;for(var Ve=le[fe],kt=le[fe+1],Bt=le[fe+2],We=le[fe+3],Ut=0;Ut<Ae;Ut++)re.r=Ve,re.g=kt,re.b=Bt,re.a=We,re=re.next;for(var Vt=0,ls=0,Fs=0,Re=0,ut=Ae*Ve,St=Ae*kt,Os=Ae*Bt,hs=Ae*We,vr=se*Ve,hr=se*kt,ir=se*Bt,Ds=se*We,Ss=1;Ss<Ae;Ss++){var Ls=fe+((oe<Ss?oe:Ss)<<2),rr=le[Ls],xr=le[Ls+1],en=le[Ls+2],wr=le[Ls+3],tr=Ae-Ss;vr+=(re.r=rr)*tr,hr+=(re.g=xr)*tr,ir+=(re.b=en)*tr,Ds+=(re.a=wr)*tr,Vt+=rr,ls+=xr,Fs+=en,Re+=wr,re=re.next}Se=pe,he=Ee;for(var Xs=0;Xs<de;Xs++){var Ts=Ds*te>>>ge;if(le[fe+3]=Ts,Ts!==0){var ft=255/Ts;le[fe]=(vr*te>>>ge)*ft,le[fe+1]=(hr*te>>>ge)*ft,le[fe+2]=(ir*te>>>ge)*ft}else le[fe]=le[fe+1]=le[fe+2]=0;vr-=ut,hr-=St,ir-=Os,Ds-=hs,ut-=Se.r,St-=Se.g,Os-=Se.b,hs-=Se.a;var $t=Xs+ve+1;$t=be+($t<oe?$t:oe)<<2,Vt+=Se.r=le[$t],ls+=Se.g=le[$t+1],Fs+=Se.b=le[$t+2],Re+=Se.a=le[$t+3],vr+=Vt,hr+=ls,ir+=Fs,Ds+=Re,Se=Se.next;var ks=he,Gs=ks.r,lr=ks.g,wt=ks.b,qt=ks.a;ut+=Gs,St+=lr,Os+=wt,hs+=qt,Vt-=Gs,ls-=lr,Fs-=wt,Re-=qt,he=he.next,fe+=4}be+=de}for(var As=0;As<de;As++){fe=As<<2;var fs=le[fe],Vs=le[fe+1],Ks=le[fe+2],pr=le[fe+3],rn=Ae*fs,ya=Ae*Vs,La=Ae*Ks,ps=Ae*pr,xs=se*fs,cs=se*Vs,fr=se*Ks,$r=se*pr;re=pe;for(var Ps=0;Ps<Ae;Ps++)re.r=fs,re.g=Vs,re.b=Ks,re.a=pr,re=re.next;for(var wa=de,Vn=0,sa=0,an=0,Rr=0,Gn=1;Gn<=ve;Gn++){fe=wa+As<<2;var Kn=Ae-Gn;xs+=(re.r=fs=le[fe])*Kn,cs+=(re.g=Vs=le[fe+1])*Kn,fr+=(re.b=Ks=le[fe+2])*Kn,$r+=(re.a=pr=le[fe+3])*Kn,Rr+=fs,Vn+=Vs,sa+=Ks,an+=pr,re=re.next,Gn<Ne&&(wa+=de)}fe=As,Se=pe,he=Ee;for(var ti=0;ti<ue;ti++){var On=fe<<2;le[On+3]=pr=$r*te>>>ge,pr>0?(pr=255/pr,le[On]=(xs*te>>>ge)*pr,le[On+1]=(cs*te>>>ge)*pr,le[On+2]=(fr*te>>>ge)*pr):le[On]=le[On+1]=le[On+2]=0,xs-=rn,cs-=ya,fr-=La,$r-=ps,rn-=Se.r,ya-=Se.g,La-=Se.b,ps-=Se.a,On=As+((On=ti+Ae)<Ne?On:Ne)*de<<2,xs+=Rr+=Se.r=le[On],cs+=Vn+=Se.g=le[On+1],fr+=sa+=Se.b=le[On+2],$r+=an+=Se.a=le[On+3],Se=Se.next,rn+=fs=he.r,ya+=Vs=he.g,La+=Ks=he.b,ps+=pr=he.a,Rr-=fs,Vn-=Vs,sa-=Ks,an-=pr,he=he.next,fe+=de}}return Y}function P(Y,Q,K,de,ue,ve){if(!(isNaN(ve)||ve<1)){ve|=0;var le=w(Y,Q,K,de,ue);le=z(le,Q,K,de,ue,ve),Y.getContext("2d").putImageData(le,Q,K)}}function z(Y,Q,K,de,ue,ve){for(var le=Y.data,Ce=2*ve+1,oe=de-1,Ne=ue-1,Ae=ve+1,se=Ae*(Ae+1)/2,pe=new X,re=pe,Ee,De=1;De<Ce;De++)re=re.next=new X,De===Ae&&(Ee=re);re.next=pe;for(var Se=null,he=null,be=m[ve],fe=x[ve],te,ge,Ue=0,Ve=0,kt=0;kt<ue;kt++){var Bt=le[Ve],We=le[Ve+1],Ut=le[Ve+2],Vt=Ae*Bt,ls=Ae*We,Fs=Ae*Ut,Re=se*Bt,ut=se*We,St=se*Ut;re=pe;for(var Os=0;Os<Ae;Os++)re.r=Bt,re.g=We,re.b=Ut,re=re.next;for(var hs=0,vr=0,hr=0,ir=1;ir<Ae;ir++)te=Ve+((oe<ir?oe:ir)<<2),Re+=(re.r=Bt=le[te])*(ge=Ae-ir),ut+=(re.g=We=le[te+1])*ge,St+=(re.b=Ut=le[te+2])*ge,hs+=Bt,vr+=We,hr+=Ut,re=re.next;Se=pe,he=Ee;for(var Ds=0;Ds<de;Ds++)le[Ve]=Re*be>>>fe,le[Ve+1]=ut*be>>>fe,le[Ve+2]=St*be>>>fe,Re-=Vt,ut-=ls,St-=Fs,Vt-=Se.r,ls-=Se.g,Fs-=Se.b,te=Ue+((te=Ds+ve+1)<oe?te:oe)<<2,hs+=Se.r=le[te],vr+=Se.g=le[te+1],hr+=Se.b=le[te+2],Re+=hs,ut+=vr,St+=hr,Se=Se.next,Vt+=Bt=he.r,ls+=We=he.g,Fs+=Ut=he.b,hs-=Bt,vr-=We,hr-=Ut,he=he.next,Ve+=4;Ue+=de}for(var Ss=0;Ss<de;Ss++){Ve=Ss<<2;var Ls=le[Ve],rr=le[Ve+1],xr=le[Ve+2],en=Ae*Ls,wr=Ae*rr,tr=Ae*xr,Xs=se*Ls,Ts=se*rr,ft=se*xr;re=pe;for(var $t=0;$t<Ae;$t++)re.r=Ls,re.g=rr,re.b=xr,re=re.next;for(var ks=0,Gs=0,lr=0,wt=1,qt=de;wt<=ve;wt++)Ve=qt+Ss<<2,Xs+=(re.r=Ls=le[Ve])*(ge=Ae-wt),Ts+=(re.g=rr=le[Ve+1])*ge,ft+=(re.b=xr=le[Ve+2])*ge,ks+=Ls,Gs+=rr,lr+=xr,re=re.next,wt<Ne&&(qt+=de);Ve=Ss,Se=pe,he=Ee;for(var As=0;As<ue;As++)te=Ve<<2,le[te]=Xs*be>>>fe,le[te+1]=Ts*be>>>fe,le[te+2]=ft*be>>>fe,Xs-=en,Ts-=wr,ft-=tr,en-=Se.r,wr-=Se.g,tr-=Se.b,te=Ss+((te=As+Ae)<Ne?te:Ne)*de<<2,Xs+=ks+=Se.r=le[te],Ts+=Gs+=Se.g=le[te+1],ft+=lr+=Se.b=le[te+2],Se=Se.next,en+=Ls=he.r,wr+=rr=he.g,tr+=xr=he.b,ks-=Ls,Gs-=rr,lr-=xr,he=he.next,Ve+=de}return Y}var X=function Y(){p(this,Y),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(d,A,o){o.r(A),o.d(A,{COMMAND_ARG_COUNTS:function(){return Ne},SVGPathData:function(){return oe},SVGPathDataParser:function(){return Ce},SVGPathDataTransformer:function(){return P},encodeSVGPath:function(){return m}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var f=function(Ae,se){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pe,re){pe.__proto__=re}||function(pe,re){for(var Ee in re)Object.prototype.hasOwnProperty.call(re,Ee)&&(pe[Ee]=re[Ee])})(Ae,se)};function p(Ae,se){if(typeof se!="function"&&se!==null)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function pe(){this.constructor=Ae}f(Ae,se),Ae.prototype=se===null?Object.create(se):(pe.prototype=se.prototype,new pe)}function m(Ae){var se="";Array.isArray(Ae)||(Ae=[Ae]);for(var pe=0;pe<Ae.length;pe++){var re=Ae[pe];if(re.type===oe.CLOSE_PATH)se+="z";else if(re.type===oe.HORIZ_LINE_TO)se+=(re.relative?"h":"H")+re.x;else if(re.type===oe.VERT_LINE_TO)se+=(re.relative?"v":"V")+re.y;else if(re.type===oe.MOVE_TO)se+=(re.relative?"m":"M")+re.x+" "+re.y;else if(re.type===oe.LINE_TO)se+=(re.relative?"l":"L")+re.x+" "+re.y;else if(re.type===oe.CURVE_TO)se+=(re.relative?"c":"C")+re.x1+" "+re.y1+" "+re.x2+" "+re.y2+" "+re.x+" "+re.y;else if(re.type===oe.SMOOTH_CURVE_TO)se+=(re.relative?"s":"S")+re.x2+" "+re.y2+" "+re.x+" "+re.y;else if(re.type===oe.QUAD_TO)se+=(re.relative?"q":"Q")+re.x1+" "+re.y1+" "+re.x+" "+re.y;else if(re.type===oe.SMOOTH_QUAD_TO)se+=(re.relative?"t":"T")+re.x+" "+re.y;else{if(re.type!==oe.ARC)throw new Error('Unexpected command type "'+re.type+'" at index '+pe+".");se+=(re.relative?"a":"A")+re.rX+" "+re.rY+" "+re.xRot+" "+ +re.lArcFlag+" "+ +re.sweepFlag+" "+re.x+" "+re.y}}return se}function x(Ae,se){var pe=Ae[0],re=Ae[1];return[pe*Math.cos(se)-re*Math.sin(se),pe*Math.sin(se)+re*Math.cos(se)]}function b(){for(var Ae=[],se=0;se<arguments.length;se++)Ae[se]=arguments[se];for(var pe=0;pe<Ae.length;pe++)if(typeof Ae[pe]!="number")throw new Error("assertNumbers arguments["+pe+"] is not a number. "+typeof Ae[pe]+" == typeof "+Ae[pe]);return!0}var w=Math.PI;function y(Ae,se,pe){Ae.lArcFlag=Ae.lArcFlag===0?0:1,Ae.sweepFlag=Ae.sweepFlag===0?0:1;var re=Ae.rX,Ee=Ae.rY,De=Ae.x,Se=Ae.y;re=Math.abs(Ae.rX),Ee=Math.abs(Ae.rY);var he=x([(se-De)/2,(pe-Se)/2],-Ae.xRot/180*w),be=he[0],fe=he[1],te=Math.pow(be,2)/Math.pow(re,2)+Math.pow(fe,2)/Math.pow(Ee,2);1<te&&(re*=Math.sqrt(te),Ee*=Math.sqrt(te)),Ae.rX=re,Ae.rY=Ee;var ge=Math.pow(re,2)*Math.pow(fe,2)+Math.pow(Ee,2)*Math.pow(be,2),Ue=(Ae.lArcFlag!==Ae.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(re,2)*Math.pow(Ee,2)-ge)/ge)),Ve=re*fe/Ee*Ue,kt=-Ee*be/re*Ue,Bt=x([Ve,kt],Ae.xRot/180*w);Ae.cX=Bt[0]+(se+De)/2,Ae.cY=Bt[1]+(pe+Se)/2,Ae.phi1=Math.atan2((fe-kt)/Ee,(be-Ve)/re),Ae.phi2=Math.atan2((-fe-kt)/Ee,(-be-Ve)/re),Ae.sweepFlag===0&&Ae.phi2>Ae.phi1&&(Ae.phi2-=2*w),Ae.sweepFlag===1&&Ae.phi2<Ae.phi1&&(Ae.phi2+=2*w),Ae.phi1*=180/w,Ae.phi2*=180/w}function E(Ae,se,pe){b(Ae,se,pe);var re=Ae*Ae+se*se-pe*pe;if(0>re)return[];if(re===0)return[[Ae*pe/(Ae*Ae+se*se),se*pe/(Ae*Ae+se*se)]];var Ee=Math.sqrt(re);return[[(Ae*pe+se*Ee)/(Ae*Ae+se*se),(se*pe-Ae*Ee)/(Ae*Ae+se*se)],[(Ae*pe-se*Ee)/(Ae*Ae+se*se),(se*pe+Ae*Ee)/(Ae*Ae+se*se)]]}var P,z=Math.PI/180;function X(Ae,se,pe){return(1-pe)*Ae+pe*se}function Y(Ae,se,pe,re){return Ae+Math.cos(re/180*w)*se+Math.sin(re/180*w)*pe}function Q(Ae,se,pe,re){var Ee=1e-6,De=se-Ae,Se=pe-se,he=3*De+3*(re-pe)-6*Se,be=6*(Se-De),fe=3*De;return Math.abs(he)<Ee?[-fe/be]:(function(te,ge,Ue){var Ve=te*te/4-ge;if(Ve<-Ue)return[];if(Ve<=Ue)return[-te/2];var kt=Math.sqrt(Ve);return[-te/2-kt,-te/2+kt]})(be/he,fe/he,Ee)}function K(Ae,se,pe,re,Ee){var De=1-Ee;return Ae*(De*De*De)+se*(3*De*De*Ee)+pe*(3*De*Ee*Ee)+re*(Ee*Ee*Ee)}(function(Ae){function se(){return Ee((function(he,be,fe){return he.relative&&(he.x1!==void 0&&(he.x1+=be),he.y1!==void 0&&(he.y1+=fe),he.x2!==void 0&&(he.x2+=be),he.y2!==void 0&&(he.y2+=fe),he.x!==void 0&&(he.x+=be),he.y!==void 0&&(he.y+=fe),he.relative=!1),he}))}function pe(){var he=NaN,be=NaN,fe=NaN,te=NaN;return Ee((function(ge,Ue,Ve){return ge.type&oe.SMOOTH_CURVE_TO&&(ge.type=oe.CURVE_TO,he=isNaN(he)?Ue:he,be=isNaN(be)?Ve:be,ge.x1=ge.relative?Ue-he:2*Ue-he,ge.y1=ge.relative?Ve-be:2*Ve-be),ge.type&oe.CURVE_TO?(he=ge.relative?Ue+ge.x2:ge.x2,be=ge.relative?Ve+ge.y2:ge.y2):(he=NaN,be=NaN),ge.type&oe.SMOOTH_QUAD_TO&&(ge.type=oe.QUAD_TO,fe=isNaN(fe)?Ue:fe,te=isNaN(te)?Ve:te,ge.x1=ge.relative?Ue-fe:2*Ue-fe,ge.y1=ge.relative?Ve-te:2*Ve-te),ge.type&oe.QUAD_TO?(fe=ge.relative?Ue+ge.x1:ge.x1,te=ge.relative?Ve+ge.y1:ge.y1):(fe=NaN,te=NaN),ge}))}function re(){var he=NaN,be=NaN;return Ee((function(fe,te,ge){if(fe.type&oe.SMOOTH_QUAD_TO&&(fe.type=oe.QUAD_TO,he=isNaN(he)?te:he,be=isNaN(be)?ge:be,fe.x1=fe.relative?te-he:2*te-he,fe.y1=fe.relative?ge-be:2*ge-be),fe.type&oe.QUAD_TO){he=fe.relative?te+fe.x1:fe.x1,be=fe.relative?ge+fe.y1:fe.y1;var Ue=fe.x1,Ve=fe.y1;fe.type=oe.CURVE_TO,fe.x1=((fe.relative?0:te)+2*Ue)/3,fe.y1=((fe.relative?0:ge)+2*Ve)/3,fe.x2=(fe.x+2*Ue)/3,fe.y2=(fe.y+2*Ve)/3}else he=NaN,be=NaN;return fe}))}function Ee(he){var be=0,fe=0,te=NaN,ge=NaN;return function(Ue){if(isNaN(te)&&!(Ue.type&oe.MOVE_TO))throw new Error("path must start with moveto");var Ve=he(Ue,be,fe,te,ge);return Ue.type&oe.CLOSE_PATH&&(be=te,fe=ge),Ue.x!==void 0&&(be=Ue.relative?be+Ue.x:Ue.x),Ue.y!==void 0&&(fe=Ue.relative?fe+Ue.y:Ue.y),Ue.type&oe.MOVE_TO&&(te=be,ge=fe),Ve}}function De(he,be,fe,te,ge,Ue){return b(he,be,fe,te,ge,Ue),Ee((function(Ve,kt,Bt,We){var Ut=Ve.x1,Vt=Ve.x2,ls=Ve.relative&&!isNaN(We),Fs=Ve.x!==void 0?Ve.x:ls?0:kt,Re=Ve.y!==void 0?Ve.y:ls?0:Bt;function ut(Ts){return Ts*Ts}Ve.type&oe.HORIZ_LINE_TO&&be!==0&&(Ve.type=oe.LINE_TO,Ve.y=Ve.relative?0:Bt),Ve.type&oe.VERT_LINE_TO&&fe!==0&&(Ve.type=oe.LINE_TO,Ve.x=Ve.relative?0:kt),Ve.x!==void 0&&(Ve.x=Ve.x*he+Re*fe+(ls?0:ge)),Ve.y!==void 0&&(Ve.y=Fs*be+Ve.y*te+(ls?0:Ue)),Ve.x1!==void 0&&(Ve.x1=Ve.x1*he+Ve.y1*fe+(ls?0:ge)),Ve.y1!==void 0&&(Ve.y1=Ut*be+Ve.y1*te+(ls?0:Ue)),Ve.x2!==void 0&&(Ve.x2=Ve.x2*he+Ve.y2*fe+(ls?0:ge)),Ve.y2!==void 0&&(Ve.y2=Vt*be+Ve.y2*te+(ls?0:Ue));var St=he*te-be*fe;if(Ve.xRot!==void 0&&(he!==1||be!==0||fe!==0||te!==1))if(St===0)delete Ve.rX,delete Ve.rY,delete Ve.xRot,delete Ve.lArcFlag,delete Ve.sweepFlag,Ve.type=oe.LINE_TO;else{var Os=Ve.xRot*Math.PI/180,hs=Math.sin(Os),vr=Math.cos(Os),hr=1/ut(Ve.rX),ir=1/ut(Ve.rY),Ds=ut(vr)*hr+ut(hs)*ir,Ss=2*hs*vr*(hr-ir),Ls=ut(hs)*hr+ut(vr)*ir,rr=Ds*te*te-Ss*be*te+Ls*be*be,xr=Ss*(he*te+be*fe)-2*(Ds*fe*te+Ls*he*be),en=Ds*fe*fe-Ss*he*fe+Ls*he*he,wr=(Math.atan2(xr,rr-en)+Math.PI)%Math.PI/2,tr=Math.sin(wr),Xs=Math.cos(wr);Ve.rX=Math.abs(St)/Math.sqrt(rr*ut(Xs)+xr*tr*Xs+en*ut(tr)),Ve.rY=Math.abs(St)/Math.sqrt(rr*ut(tr)-xr*tr*Xs+en*ut(Xs)),Ve.xRot=180*wr/Math.PI}return Ve.sweepFlag!==void 0&&0>St&&(Ve.sweepFlag=+!Ve.sweepFlag),Ve}))}function Se(){return function(he){var be={};for(var fe in he)be[fe]=he[fe];return be}}Ae.ROUND=function(he){function be(fe){return Math.round(fe*he)/he}return he===void 0&&(he=1e13),b(he),function(fe){return fe.x1!==void 0&&(fe.x1=be(fe.x1)),fe.y1!==void 0&&(fe.y1=be(fe.y1)),fe.x2!==void 0&&(fe.x2=be(fe.x2)),fe.y2!==void 0&&(fe.y2=be(fe.y2)),fe.x!==void 0&&(fe.x=be(fe.x)),fe.y!==void 0&&(fe.y=be(fe.y)),fe.rX!==void 0&&(fe.rX=be(fe.rX)),fe.rY!==void 0&&(fe.rY=be(fe.rY)),fe}},Ae.TO_ABS=se,Ae.TO_REL=function(){return Ee((function(he,be,fe){return he.relative||(he.x1!==void 0&&(he.x1-=be),he.y1!==void 0&&(he.y1-=fe),he.x2!==void 0&&(he.x2-=be),he.y2!==void 0&&(he.y2-=fe),he.x!==void 0&&(he.x-=be),he.y!==void 0&&(he.y-=fe),he.relative=!0),he}))},Ae.NORMALIZE_HVZ=function(he,be,fe){return he===void 0&&(he=!0),be===void 0&&(be=!0),fe===void 0&&(fe=!0),Ee((function(te,ge,Ue,Ve,kt){if(isNaN(Ve)&&!(te.type&oe.MOVE_TO))throw new Error("path must start with moveto");return be&&te.type&oe.HORIZ_LINE_TO&&(te.type=oe.LINE_TO,te.y=te.relative?0:Ue),fe&&te.type&oe.VERT_LINE_TO&&(te.type=oe.LINE_TO,te.x=te.relative?0:ge),he&&te.type&oe.CLOSE_PATH&&(te.type=oe.LINE_TO,te.x=te.relative?Ve-ge:Ve,te.y=te.relative?kt-Ue:kt),te.type&oe.ARC&&(te.rX===0||te.rY===0)&&(te.type=oe.LINE_TO,delete te.rX,delete te.rY,delete te.xRot,delete te.lArcFlag,delete te.sweepFlag),te}))},Ae.NORMALIZE_ST=pe,Ae.QT_TO_C=re,Ae.INFO=Ee,Ae.SANITIZE=function(he){he===void 0&&(he=0),b(he);var be=NaN,fe=NaN,te=NaN,ge=NaN;return Ee((function(Ue,Ve,kt,Bt,We){var Ut=Math.abs,Vt=!1,ls=0,Fs=0;if(Ue.type&oe.SMOOTH_CURVE_TO&&(ls=isNaN(be)?0:Ve-be,Fs=isNaN(fe)?0:kt-fe),Ue.type&(oe.CURVE_TO|oe.SMOOTH_CURVE_TO)?(be=Ue.relative?Ve+Ue.x2:Ue.x2,fe=Ue.relative?kt+Ue.y2:Ue.y2):(be=NaN,fe=NaN),Ue.type&oe.SMOOTH_QUAD_TO?(te=isNaN(te)?Ve:2*Ve-te,ge=isNaN(ge)?kt:2*kt-ge):Ue.type&oe.QUAD_TO?(te=Ue.relative?Ve+Ue.x1:Ue.x1,ge=Ue.relative?kt+Ue.y1:Ue.y2):(te=NaN,ge=NaN),Ue.type&oe.LINE_COMMANDS||Ue.type&oe.ARC&&(Ue.rX===0||Ue.rY===0||!Ue.lArcFlag)||Ue.type&oe.CURVE_TO||Ue.type&oe.SMOOTH_CURVE_TO||Ue.type&oe.QUAD_TO||Ue.type&oe.SMOOTH_QUAD_TO){var Re=Ue.x===void 0?0:Ue.relative?Ue.x:Ue.x-Ve,ut=Ue.y===void 0?0:Ue.relative?Ue.y:Ue.y-kt;ls=isNaN(te)?Ue.x1===void 0?ls:Ue.relative?Ue.x:Ue.x1-Ve:te-Ve,Fs=isNaN(ge)?Ue.y1===void 0?Fs:Ue.relative?Ue.y:Ue.y1-kt:ge-kt;var St=Ue.x2===void 0?0:Ue.relative?Ue.x:Ue.x2-Ve,Os=Ue.y2===void 0?0:Ue.relative?Ue.y:Ue.y2-kt;Ut(Re)<=he&&Ut(ut)<=he&&Ut(ls)<=he&&Ut(Fs)<=he&&Ut(St)<=he&&Ut(Os)<=he&&(Vt=!0)}return Ue.type&oe.CLOSE_PATH&&Ut(Ve-Bt)<=he&&Ut(kt-We)<=he&&(Vt=!0),Vt?[]:Ue}))},Ae.MATRIX=De,Ae.ROTATE=function(he,be,fe){be===void 0&&(be=0),fe===void 0&&(fe=0),b(he,be,fe);var te=Math.sin(he),ge=Math.cos(he);return De(ge,te,-te,ge,be-be*ge+fe*te,fe-be*te-fe*ge)},Ae.TRANSLATE=function(he,be){return be===void 0&&(be=0),b(he,be),De(1,0,0,1,he,be)},Ae.SCALE=function(he,be){return be===void 0&&(be=he),b(he,be),De(he,0,0,be,0,0)},Ae.SKEW_X=function(he){return b(he),De(1,0,Math.atan(he),1,0,0)},Ae.SKEW_Y=function(he){return b(he),De(1,Math.atan(he),0,1,0,0)},Ae.X_AXIS_SYMMETRY=function(he){return he===void 0&&(he=0),b(he),De(-1,0,0,1,he,0)},Ae.Y_AXIS_SYMMETRY=function(he){return he===void 0&&(he=0),b(he),De(1,0,0,-1,0,he)},Ae.A_TO_C=function(){return Ee((function(he,be,fe){return oe.ARC===he.type?(function(te,ge,Ue){var Ve,kt,Bt,We;te.cX||y(te,ge,Ue);for(var Ut=Math.min(te.phi1,te.phi2),Vt=Math.max(te.phi1,te.phi2)-Ut,ls=Math.ceil(Vt/90),Fs=new Array(ls),Re=ge,ut=Ue,St=0;St<ls;St++){var Os=X(te.phi1,te.phi2,St/ls),hs=X(te.phi1,te.phi2,(St+1)/ls),vr=hs-Os,hr=4/3*Math.tan(vr*z/4),ir=[Math.cos(Os*z)-hr*Math.sin(Os*z),Math.sin(Os*z)+hr*Math.cos(Os*z)],Ds=ir[0],Ss=ir[1],Ls=[Math.cos(hs*z),Math.sin(hs*z)],rr=Ls[0],xr=Ls[1],en=[rr+hr*Math.sin(hs*z),xr-hr*Math.cos(hs*z)],wr=en[0],tr=en[1];Fs[St]={relative:te.relative,type:oe.CURVE_TO};var Xs=function(Ts,ft){var $t=x([Ts*te.rX,ft*te.rY],te.xRot),ks=$t[0],Gs=$t[1];return[te.cX+ks,te.cY+Gs]};Ve=Xs(Ds,Ss),Fs[St].x1=Ve[0],Fs[St].y1=Ve[1],kt=Xs(wr,tr),Fs[St].x2=kt[0],Fs[St].y2=kt[1],Bt=Xs(rr,xr),Fs[St].x=Bt[0],Fs[St].y=Bt[1],te.relative&&(Fs[St].x1-=Re,Fs[St].y1-=ut,Fs[St].x2-=Re,Fs[St].y2-=ut,Fs[St].x-=Re,Fs[St].y-=ut),Re=(We=[Fs[St].x,Fs[St].y])[0],ut=We[1]}return Fs})(he,he.relative?0:be,he.relative?0:fe):he}))},Ae.ANNOTATE_ARCS=function(){return Ee((function(he,be,fe){return he.relative&&(be=0,fe=0),oe.ARC===he.type&&y(he,be,fe),he}))},Ae.CLONE=Se,Ae.CALCULATE_BOUNDS=function(){var he=function(Ue){var Ve={};for(var kt in Ue)Ve[kt]=Ue[kt];return Ve},be=se(),fe=re(),te=pe(),ge=Ee((function(Ue,Ve,kt){var Bt=te(fe(be(he(Ue))));function We(tr){tr>ge.maxX&&(ge.maxX=tr),tr<ge.minX&&(ge.minX=tr)}function Ut(tr){tr>ge.maxY&&(ge.maxY=tr),tr<ge.minY&&(ge.minY=tr)}if(Bt.type&oe.DRAWING_COMMANDS&&(We(Ve),Ut(kt)),Bt.type&oe.HORIZ_LINE_TO&&We(Bt.x),Bt.type&oe.VERT_LINE_TO&&Ut(Bt.y),Bt.type&oe.LINE_TO&&(We(Bt.x),Ut(Bt.y)),Bt.type&oe.CURVE_TO){We(Bt.x),Ut(Bt.y);for(var Vt=0,ls=Q(Ve,Bt.x1,Bt.x2,Bt.x);Vt<ls.length;Vt++)0<(wr=ls[Vt])&&1>wr&&We(K(Ve,Bt.x1,Bt.x2,Bt.x,wr));for(var Fs=0,Re=Q(kt,Bt.y1,Bt.y2,Bt.y);Fs<Re.length;Fs++)0<(wr=Re[Fs])&&1>wr&&Ut(K(kt,Bt.y1,Bt.y2,Bt.y,wr))}if(Bt.type&oe.ARC){We(Bt.x),Ut(Bt.y),y(Bt,Ve,kt);for(var ut=Bt.xRot/180*Math.PI,St=Math.cos(ut)*Bt.rX,Os=Math.sin(ut)*Bt.rX,hs=-Math.sin(ut)*Bt.rY,vr=Math.cos(ut)*Bt.rY,hr=Bt.phi1<Bt.phi2?[Bt.phi1,Bt.phi2]:-180>Bt.phi2?[Bt.phi2+360,Bt.phi1+360]:[Bt.phi2,Bt.phi1],ir=hr[0],Ds=hr[1],Ss=function(tr){var Xs=tr[0],Ts=tr[1],ft=180*Math.atan2(Ts,Xs)/Math.PI;return ft<ir?ft+360:ft},Ls=0,rr=E(hs,-St,0).map(Ss);Ls<rr.length;Ls++)(wr=rr[Ls])>ir&&wr<Ds&&We(Y(Bt.cX,St,hs,wr));for(var xr=0,en=E(vr,-Os,0).map(Ss);xr<en.length;xr++){var wr;(wr=en[xr])>ir&&wr<Ds&&Ut(Y(Bt.cY,Os,vr,wr))}}return Ue}));return ge.minX=1/0,ge.maxX=-1/0,ge.minY=1/0,ge.maxY=-1/0,ge}})(P||(P={}));var de,ue=(function(){function Ae(){}return Ae.prototype.round=function(se){return this.transform(P.ROUND(se))},Ae.prototype.toAbs=function(){return this.transform(P.TO_ABS())},Ae.prototype.toRel=function(){return this.transform(P.TO_REL())},Ae.prototype.normalizeHVZ=function(se,pe,re){return this.transform(P.NORMALIZE_HVZ(se,pe,re))},Ae.prototype.normalizeST=function(){return this.transform(P.NORMALIZE_ST())},Ae.prototype.qtToC=function(){return this.transform(P.QT_TO_C())},Ae.prototype.aToC=function(){return this.transform(P.A_TO_C())},Ae.prototype.sanitize=function(se){return this.transform(P.SANITIZE(se))},Ae.prototype.translate=function(se,pe){return this.transform(P.TRANSLATE(se,pe))},Ae.prototype.scale=function(se,pe){return this.transform(P.SCALE(se,pe))},Ae.prototype.rotate=function(se,pe,re){return this.transform(P.ROTATE(se,pe,re))},Ae.prototype.matrix=function(se,pe,re,Ee,De,Se){return this.transform(P.MATRIX(se,pe,re,Ee,De,Se))},Ae.prototype.skewX=function(se){return this.transform(P.SKEW_X(se))},Ae.prototype.skewY=function(se){return this.transform(P.SKEW_Y(se))},Ae.prototype.xSymmetry=function(se){return this.transform(P.X_AXIS_SYMMETRY(se))},Ae.prototype.ySymmetry=function(se){return this.transform(P.Y_AXIS_SYMMETRY(se))},Ae.prototype.annotateArcs=function(){return this.transform(P.ANNOTATE_ARCS())},Ae})(),ve=function(Ae){return Ae===" "||Ae==="	"||Ae==="\r"||Ae===`
`},le=function(Ae){return 48<=Ae.charCodeAt(0)&&Ae.charCodeAt(0)<=57},Ce=(function(Ae){function se(){var pe=Ae.call(this)||this;return pe.curNumber="",pe.curCommandType=-1,pe.curCommandRelative=!1,pe.canParseCommandOrComma=!0,pe.curNumberHasExp=!1,pe.curNumberHasExpDigits=!1,pe.curNumberHasDecimal=!1,pe.curArgs=[],pe}return p(se,Ae),se.prototype.finish=function(pe){if(pe===void 0&&(pe=[]),this.parse(" ",pe),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return pe},se.prototype.parse=function(pe,re){var Ee=this;re===void 0&&(re=[]);for(var De=function(ge){re.push(ge),Ee.curArgs.length=0,Ee.canParseCommandOrComma=!0},Se=0;Se<pe.length;Se++){var he=pe[Se],be=!(this.curCommandType!==oe.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),fe=le(he)&&(this.curNumber==="0"&&he==="0"||be);if(!le(he)||fe)if(he!=="e"&&he!=="E")if(he!=="-"&&he!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(he!=="."||this.curNumberHasExp||this.curNumberHasDecimal||be){if(this.curNumber&&this.curCommandType!==-1){var te=Number(this.curNumber);if(isNaN(te))throw new SyntaxError("Invalid number ending at "+Se);if(this.curCommandType===oe.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>te)throw new SyntaxError('Expected positive number, got "'+te+'" at index "'+Se+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+Se+'"')}this.curArgs.push(te),this.curArgs.length===Ne[this.curCommandType]&&(oe.HORIZ_LINE_TO===this.curCommandType?De({type:oe.HORIZ_LINE_TO,relative:this.curCommandRelative,x:te}):oe.VERT_LINE_TO===this.curCommandType?De({type:oe.VERT_LINE_TO,relative:this.curCommandRelative,y:te}):this.curCommandType===oe.MOVE_TO||this.curCommandType===oe.LINE_TO||this.curCommandType===oe.SMOOTH_QUAD_TO?(De({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),oe.MOVE_TO===this.curCommandType&&(this.curCommandType=oe.LINE_TO)):this.curCommandType===oe.CURVE_TO?De({type:oe.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===oe.SMOOTH_CURVE_TO?De({type:oe.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===oe.QUAD_TO?De({type:oe.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===oe.ARC&&De({type:oe.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!ve(he))if(he===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(he!=="+"&&he!=="-"&&he!==".")if(fe)this.curNumber=he,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+Se+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+he+'" at index '+Se+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,he!=="z"&&he!=="Z")if(he==="h"||he==="H")this.curCommandType=oe.HORIZ_LINE_TO,this.curCommandRelative=he==="h";else if(he==="v"||he==="V")this.curCommandType=oe.VERT_LINE_TO,this.curCommandRelative=he==="v";else if(he==="m"||he==="M")this.curCommandType=oe.MOVE_TO,this.curCommandRelative=he==="m";else if(he==="l"||he==="L")this.curCommandType=oe.LINE_TO,this.curCommandRelative=he==="l";else if(he==="c"||he==="C")this.curCommandType=oe.CURVE_TO,this.curCommandRelative=he==="c";else if(he==="s"||he==="S")this.curCommandType=oe.SMOOTH_CURVE_TO,this.curCommandRelative=he==="s";else if(he==="q"||he==="Q")this.curCommandType=oe.QUAD_TO,this.curCommandRelative=he==="q";else if(he==="t"||he==="T")this.curCommandType=oe.SMOOTH_QUAD_TO,this.curCommandRelative=he==="t";else{if(he!=="a"&&he!=="A")throw new SyntaxError('Unexpected character "'+he+'" at index '+Se+".");this.curCommandType=oe.ARC,this.curCommandRelative=he==="a"}else re.push({type:oe.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=he,this.curNumberHasDecimal=he==="."}else this.curNumber+=he,this.curNumberHasDecimal=!0;else this.curNumber+=he;else this.curNumber+=he,this.curNumberHasExp=!0;else this.curNumber+=he,this.curNumberHasExpDigits=this.curNumberHasExp}return re},se.prototype.transform=function(pe){return Object.create(this,{parse:{value:function(re,Ee){Ee===void 0&&(Ee=[]);for(var De=0,Se=Object.getPrototypeOf(this).parse.call(this,re);De<Se.length;De++){var he=Se[De],be=pe(he);Array.isArray(be)?Ee.push.apply(Ee,be):Ee.push(be)}return Ee}}})},se})(ue),oe=(function(Ae){function se(pe){var re=Ae.call(this)||this;return re.commands=typeof pe=="string"?se.parse(pe):pe,re}return p(se,Ae),se.prototype.encode=function(){return se.encode(this.commands)},se.prototype.getBounds=function(){var pe=P.CALCULATE_BOUNDS();return this.transform(pe),pe},se.prototype.transform=function(pe){for(var re=[],Ee=0,De=this.commands;Ee<De.length;Ee++){var Se=pe(De[Ee]);Array.isArray(Se)?re.push.apply(re,Se):re.push(Se)}return this.commands=re,this},se.encode=function(pe){return m(pe)},se.parse=function(pe){var re=new Ce,Ee=[];return re.parse(pe,Ee),re.finish(Ee),Ee},se.CLOSE_PATH=1,se.MOVE_TO=2,se.HORIZ_LINE_TO=4,se.VERT_LINE_TO=8,se.LINE_TO=16,se.CURVE_TO=32,se.SMOOTH_CURVE_TO=64,se.QUAD_TO=128,se.SMOOTH_QUAD_TO=256,se.ARC=512,se.LINE_COMMANDS=se.LINE_TO|se.HORIZ_LINE_TO|se.VERT_LINE_TO,se.DRAWING_COMMANDS=se.HORIZ_LINE_TO|se.VERT_LINE_TO|se.LINE_TO|se.CURVE_TO|se.SMOOTH_CURVE_TO|se.QUAD_TO|se.SMOOTH_QUAD_TO|se.ARC,se})(ue),Ne=((de={})[oe.MOVE_TO]=2,de[oe.LINE_TO]=2,de[oe.HORIZ_LINE_TO]=1,de[oe.VERT_LINE_TO]=1,de[oe.CLOSE_PATH]=0,de[oe.QUAD_TO]=4,de[oe.SMOOTH_QUAD_TO]=2,de[oe.CURVE_TO]=6,de[oe.SMOOTH_CURVE_TO]=4,de[oe.ARC]=7,de)}),"./src/plugin/hyperlinks.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.link.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var f=o("./src/worker.js"),p=o("./src/utils.js"),m=[],x={toContainer:f.default.prototype.toContainer,toPdf:f.default.prototype.toPdf};f.default.prototype.toContainer=function(){return x.toContainer.call(this).then(function(){if(this.opt.enableLinks){var y=this.prop.container,E=y.querySelectorAll("a"),P=(0,p.unitConvert)(y.getBoundingClientRect(),this.prop.pageSize.k);m=[],Array.prototype.forEach.call(E,function(z){for(var X=z.getClientRects(),Y=0;Y<X.length;Y++){var Q=(0,p.unitConvert)(X[Y],this.prop.pageSize.k);Q.left-=P.left,Q.top-=P.top;var K=Math.floor(Q.top/this.prop.pageSize.inner.height)+1,de=this.opt.margin[0]+Q.top%this.prop.pageSize.inner.height,ue=this.opt.margin[1]+Q.left;m.push({page:K,top:de,left:ue,clientRect:Q,link:z})}},this)}})},f.default.prototype.toPdf=function(){return x.toPdf.call(this).then(function(){if(this.opt.enableLinks){m.forEach(function(E){this.prop.pdf.setPage(E.page),this.prop.pdf.link(E.left,E.top,E.clientRect.width,E.clientRect.height,{url:E.link.href})},this);var y=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(y)}})}}),"./src/plugin/jspdf-plugin.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var f=o("./node_modules/jspdf/dist/jspdf.es.min.js");function p(m){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},p(m)}f.jsPDF.getPageSize=function(m,x,b){if(p(m)==="object"){var w=m;m=w.orientation,x=w.unit||x,b=w.format||b}x=x||"mm",b=b||"a4",m=(""+(m||"P")).toLowerCase();var y=(""+b).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(x){case"pt":var P=1;break;case"mm":var P=72/25.4;break;case"cm":var P=72/2.54;break;case"in":var P=72;break;case"px":var P=72/96;break;case"pc":var P=12;break;case"em":var P=12;break;case"ex":var P=6;break;default:throw"Invalid unit: "+x}if(E.hasOwnProperty(y))var z=E[y][1]/P,X=E[y][0]/P;else try{var z=b[1],X=b[0]}catch{throw new Error("Invalid format: "+b)}if(m==="p"||m==="portrait"){if(m="p",X>z){var Y=X;X=z,z=Y}}else if(m==="l"||m==="landscape"){if(m="l",z>X){var Y=X;X=z,z=Y}}else throw"Invalid orientation: "+m;var Q={width:X,height:z,unit:x,k:P};return Q},A.default=f.jsPDF}),"./src/plugin/pagebreaks.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var f=o("./src/worker.js"),p=o("./src/utils.js"),m={toContainer:f.default.prototype.toContainer};f.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},f.default.prototype.toContainer=function(){return m.toContainer.call(this).then(function(){var w=this.prop.container,y=this.prop.pageSize.inner.px.height,E=[].concat(this.opt.pagebreak.mode),P={avoidAll:E.indexOf("avoid-all")!==-1,css:E.indexOf("css")!==-1,legacy:E.indexOf("legacy")!==-1},z={},X=this;["before","after","avoid"].forEach(function(K){var de=P.avoidAll&&K==="avoid";z[K]=de?[]:[].concat(X.opt.pagebreak[K]||[]),z[K].length>0&&(z[K]=Array.prototype.slice.call(w.querySelectorAll(z[K].join(", "))))});var Y=w.querySelectorAll(".html2pdf__page-break");Y=Array.prototype.slice.call(Y);var Q=w.querySelectorAll("*");Array.prototype.forEach.call(Q,function(de){var ue={before:!1,after:P.legacy&&Y.indexOf(de)!==-1,avoid:P.avoidAll};if(P.css){var ve=window.getComputedStyle(de),le=["always","page","left","right"],Ce=["avoid","avoid-page"];ue={before:ue.before||le.indexOf(ve.breakBefore||ve.pageBreakBefore)!==-1,after:ue.after||le.indexOf(ve.breakAfter||ve.pageBreakAfter)!==-1,avoid:ue.avoid||Ce.indexOf(ve.breakInside||ve.pageBreakInside)!==-1}}Object.keys(ue).forEach(function(re){ue[re]=ue[re]||z[re].indexOf(de)!==-1});var oe=de.getBoundingClientRect();if(ue.avoid&&!ue.before){var Ne=Math.floor(oe.top/y),Ae=Math.floor(oe.bottom/y),se=Math.abs(oe.bottom-oe.top)/y;Ae!==Ne&&se<=1&&(ue.before=!0)}if(ue.before){var pe=(0,p.createElement)("div",{style:{display:"block",height:y-oe.top%y+"px"}});de.parentNode.insertBefore(pe,de)}if(ue.after){var pe=(0,p.createElement)("div",{style:{display:"block",height:y-oe.bottom%y+"px"}});de.parentNode.insertBefore(pe,de.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(d,A,o){o.r(A),o.d(A,{deepCloneBasic:function(){return b}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.regexp.test.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.set.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/esnext.set.add-all.js"),o("./node_modules/core-js/modules/esnext.set.delete-all.js"),o("./node_modules/core-js/modules/esnext.set.difference.js"),o("./node_modules/core-js/modules/esnext.set.every.js"),o("./node_modules/core-js/modules/esnext.set.filter.js"),o("./node_modules/core-js/modules/esnext.set.find.js"),o("./node_modules/core-js/modules/esnext.set.intersection.js"),o("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),o("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),o("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),o("./node_modules/core-js/modules/esnext.set.join.js"),o("./node_modules/core-js/modules/esnext.set.map.js"),o("./node_modules/core-js/modules/esnext.set.reduce.js"),o("./node_modules/core-js/modules/esnext.set.some.js"),o("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),o("./node_modules/core-js/modules/esnext.set.union.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function f(w,y){var E=typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(!E){if(Array.isArray(w)||(E=p(w))||y){E&&(w=E);var P=0,z=function(){};return{s:z,n:function(){return P>=w.length?{done:!0}:{done:!1,value:w[P++]}},e:function(de){throw de},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X,Y=!0,Q=!1;return{s:function(){E=E.call(w)},n:function(){var de=E.next();return Y=de.done,de},e:function(de){Q=!0,X=de},f:function(){try{Y||E.return==null||E.return()}finally{if(Q)throw X}}}}function p(w,y){if(w){if(typeof w=="string")return m(w,y);var E={}.toString.call(w).slice(8,-1);return E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set"?Array.from(w):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?m(w,y):void 0}}function m(w,y){(y==null||y>w.length)&&(y=w.length);for(var E=0,P=Array(y);E<y;E++)P[E]=w[E];return P}function x(w,y){try{var E=w.currentSrc||w.src||"";if(!E)return;y.setAttribute("src",E),y.removeAttribute("srcset"),y.removeAttribute("sizes"),y.loading="eager",y.decoding="sync"}catch{}}function b(w){if(!w)throw new Error("Invalid node");var y=new Set,E=null;if(w.nodeType===Node.TEXT_NODE||w.nodeType!==Node.ELEMENT_NODE)return w.cloneNode(!0);if(w.tagName==="IFRAME"){var P=document.createElement("div");return P.style.cssText="width:".concat(w.offsetWidth,"px;height:").concat(w.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),P}if(w.tagName==="CANVAS"){var z=w.toDataURL(),X=document.createElement("img");return X.src=z,X.width=w.width,X.height=w.height,X}var Y;try{Y=w.cloneNode(!1),w.tagName==="IMG"&&x(w,Y)}catch(Ut){throw console.error("[Snapdom] Failed to clone node:",w,Ut),Ut}if(w instanceof HTMLTextAreaElement){Y.textContent=w.value,Y.value=w.value;var Q=w.getBoundingClientRect();return Y.style.boxSizing="border-box",Y.style.width="".concat(Q.width,"px"),Y.style.height="".concat(Q.height,"px"),Y}if(w instanceof HTMLInputElement&&(w.hasAttribute("value")&&(Y.value=w.value,Y.setAttribute("value",w.value)),w.checked!==void 0&&(Y.checked=w.checked,w.checked&&Y.setAttribute("checked",""),w.indeterminate&&(Y.indeterminate=w.indeterminate))),w instanceof HTMLSelectElement&&(E=w.value),w.shadowRoot){var K=Array.from(w.shadowRoot.querySelectorAll("slot")).length>0;if(!K){var de=document.createDocumentFragment(),ue=f(w.shadowRoot.childNodes),ve;try{for(ue.s();!(ve=ue.n()).done;){var le=ve.value;if(!(le.nodeType===Node.ELEMENT_NODE&&le.tagName==="STYLE")){var Ce=b(le);Ce&&de.appendChild(Ce)}}}catch(Ut){ue.e(Ut)}finally{ue.f()}Y.appendChild(de)}}if(w.tagName==="SLOT"){var oe,Ne=((oe=w.assignedNodes)===null||oe===void 0?void 0:oe.call(w,{flatten:!0}))||[],Ae=Ne.length>0?Ne:Array.from(w.childNodes),se=document.createDocumentFragment(),pe=f(Ae),re;try{for(pe.s();!(re=pe.n()).done;){var Ee=re.value,De=b(Ee);De&&se.appendChild(De)}}catch(Ut){pe.e(Ut)}finally{pe.f()}return se}var Se=f(w.childNodes),he;try{for(Se.s();!(he=Se.n()).done;){var be=he.value;if(!y.has(be)){var fe=b(be);fe&&Y.appendChild(fe)}}}catch(Ut){Se.e(Ut)}finally{Se.f()}if(E!==null&&Y instanceof HTMLSelectElement){Y.value=E;var te=f(Y.options),ge;try{for(te.s();!(ge=te.n()).done;){var Ue=ge.value;Ue.value===E?Ue.setAttribute("selected",""):Ue.removeAttribute("selected")}}catch(Ut){te.e(Ut)}finally{te.f()}}var Ve=w.scrollLeft,kt=w.scrollTop,Bt=Ve||kt;if(Bt&&Y instanceof HTMLElement){Y.style.overflow="hidden",Y.style.scrollbarWidth="none",Y.style.msOverflowStyle="none";var We=document.createElement("div");for(We.style.transform="translate(".concat(-Ve,"px, ").concat(-kt,"px)"),We.style.willChange="transform",We.style.display="inline-block",We.style.width="100%";Y.firstChild;)We.appendChild(Y.firstChild);Y.appendChild(We)}return Y}}),"./src/utils.js":(function(d,A,o){o.r(A),o.d(A,{createElement:function(){return x},objType:function(){return m},toPx:function(){return w},unitConvert:function(){return b}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var f=o("./node_modules/dompurify/dist/purify.es.mjs");function p(y){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},p(y)}var m=function(E){var P=p(E);return P==="undefined"?"undefined":P==="string"||E instanceof String?"string":P==="number"||E instanceof Number?"number":P==="function"||E instanceof Function?"function":E&&E.constructor===Array?"array":E&&E.nodeType===1?"element":P==="object"?"object":"unknown"},x=function(E,P){var z=document.createElement(E);P.className&&(z.className=P.className),P.innerHTML&&(z.innerHTML=f.default.sanitize(P.innerHTML));for(var X in P.style)z.style[X]=P.style[X];return z},b=function(E,P){if(m(E)==="number")return E*72/96/P;var z={};for(var X in E)z[X]=E[X]*72/96/P;return z},w=function(E,P){return Math.floor(E*P/72*96)}}),"./src/worker.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/esnext.iterator.map.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/web.timers.js");var f=o("./node_modules/jspdf/dist/jspdf.es.min.js"),p=o("html2canvas"),m=o.n(p),x=o("./src/snapdom/clone.js"),b=o("./src/utils.js"),w=function y(E){var P=Object.assign(y.convert(Promise.resolve()),JSON.parse(JSON.stringify(y.template))),z=y.convert(Promise.resolve(),P);return z=z.setProgress(1,y,1,[y]),z=z.set(E),z};w.prototype=Object.create(Promise.prototype),w.prototype.constructor=w,w.convert=function(E,P){return E.__proto__=P||w.prototype,E},w.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},w.prototype.from=function(E,P){function z(X){switch((0,b.objType)(X)){case"string":return"string";case"element":return X.nodeName.toLowerCase&&X.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(P=P||z(E),P){case"string":return this.set({src:(0,b.createElement)("div",{innerHTML:E})});case"element":return this.set({src:E});case"canvas":return this.set({canvas:E});case"img":return this.set({img:E});default:return this.error("Unknown source type.")}})},w.prototype.to=function(E){switch(E){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},w.prototype.toContainer=function(){var E=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var z={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},X={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};z.opacity=0;var Y=(0,x.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,b.createElement)("div",{className:"html2pdf__overlay",style:z}),this.prop.container=(0,b.createElement)("div",{className:"html2pdf__container",style:X}),this.prop.container.appendChild(Y),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(Q){return setTimeout(Q,10)})})},w.prototype.toCanvas=function(){var E=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(E).then(function(){var z=Object.assign({},this.opt.html2canvas);return delete z.onrendered,m()(this.prop.container,z)}).then(function(z){var X=this.opt.html2canvas.onrendered||function(){};X(z),this.prop.canvas=z,document.body.removeChild(this.prop.overlay)})},w.prototype.toImg=function(){var E=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(E).then(function(){var z=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=z})},w.prototype.toPdf=function(){var E=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var z=this.prop.canvas,X=this.opt,Y=z.height,Q=Math.floor(z.width*this.prop.pageSize.inner.ratio),K=Math.ceil(Y/Q),de=this.prop.pageSize.inner.height,ue=document.createElement("canvas"),ve=ue.getContext("2d");ue.width=z.width,ue.height=Q,this.prop.pdf=this.prop.pdf||new f.jsPDF(X.jsPDF);for(var le=0;le<K;le++){le===K-1&&Y%Q!==0&&(ue.height=Y%Q,de=ue.height*this.prop.pageSize.inner.width/ue.width);var Ce=ue.width,oe=ue.height;ve.fillStyle="white",ve.fillRect(0,0,Ce,oe),ve.drawImage(z,0,le*Q,Ce,oe,0,0,Ce,oe),le&&this.prop.pdf.addPage();var Ne=ue.toDataURL("image/"+X.image.type,X.image.quality);this.prop.pdf.addImage(Ne,X.image.type,X.margin[1],X.margin[0],this.prop.pageSize.inner.width,de)}})},w.prototype.output=function(E,P,z){return z=z||"pdf",z.toLowerCase()==="img"||z.toLowerCase()==="image"?this.outputImg(E,P):this.outputPdf(E,P)},w.prototype.outputPdf=function(E,P){var z=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(z).then(function(){return this.prop.pdf.output(E,P)})},w.prototype.outputImg=function(E,P){var z=[function(){return this.prop.img||this.toImg()}];return this.thenList(z).then(function(){switch(E){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+E+'" is not supported.'}})},w.prototype.save=function(E){var P=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(P).set(E?{filename:E}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},w.prototype.set=function(E){if((0,b.objType)(E)!=="object")return this;var P=Object.keys(E||{}).map(function(z){switch(z){case"margin":return this.setMargin.bind(this,E.margin);case"jsPDF":return function(){return this.opt.jsPDF=E.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,E.pageSize);default:return z in w.template.prop?function(){this.prop[z]=E[z]}:function(){this.opt[z]=E[z]}}},this);return this.then(function(){return this.thenList(P)})},w.prototype.get=function(E,P){return this.then(function(){var X=E in w.template.prop?this.prop[E]:this.opt[E];return P?P(X):X})},w.prototype.setMargin=function(E){return this.then(function(){switch((0,b.objType)(E)){case"number":E=[E,E,E,E];case"array":if(E.length===2&&(E=[E[0],E[1],E[0],E[1]]),E.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=E}).then(this.setPageSize)},w.prototype.setPageSize=function(E){return this.then(function(){E=E||f.jsPDF.getPageSize(this.opt.jsPDF),E.hasOwnProperty("inner")||(E.inner={width:E.width-this.opt.margin[1]-this.opt.margin[3],height:E.height-this.opt.margin[0]-this.opt.margin[2]},E.inner.px={width:(0,b.toPx)(E.inner.width,E.k),height:(0,b.toPx)(E.inner.height,E.k)},E.inner.ratio=E.inner.height/E.inner.width),this.prop.pageSize=E})},w.prototype.setProgress=function(E,P,z,X){return E!=null&&(this.progress.val=E),P!=null&&(this.progress.state=P),z!=null&&(this.progress.n=z),X!=null&&(this.progress.stack=X),this.progress.ratio=this.progress.val/this.progress.state,this},w.prototype.updateProgress=function(E,P,z,X){return this.setProgress(E?this.progress.val+E:null,P||null,z?this.progress.n+z:null,X?this.progress.stack.concat(X):null)},w.prototype.then=function(E,P){var z=this;return this.thenCore(E,P,function(Y,Q){return z.updateProgress(null,null,1,[Y]),Promise.prototype.then.call(this,function(de){return z.updateProgress(null,Y),de}).then(Y,Q).then(function(de){return z.updateProgress(1),de})})},w.prototype.thenCore=function(E,P,z){z=z||Promise.prototype.then;var X=this;E&&(E=E.bind(X)),P&&(P=P.bind(X));var Y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",Q=Y?X:w.convert(Object.assign({},X),Promise.prototype),K=z.call(Q,E,P);return w.convert(K,X.__proto__)},w.prototype.thenExternal=function(E,P){return Promise.prototype.then.call(this,E,P)},w.prototype.thenList=function(E){var P=this;return E.forEach(function(X){P=P.thenCore(X)}),P},w.prototype.catch=function(y){y&&(y=y.bind(this));var E=Promise.prototype.catch.call(this,y);return w.convert(E,this)},w.prototype.catchExternal=function(E){return Promise.prototype.catch.call(this,E)},w.prototype.error=function(E){return this.then(function(){throw new Error(E)})},w.prototype.using=w.prototype.set,w.prototype.saveAs=w.prototype.save,w.prototype.export=w.prototype.output,w.prototype.run=w.prototype.then,A.default=w}),html2canvas:(function(d){d.exports=r})},a={};function l(d){var A=a[d];if(A!==void 0)return A.exports;if(n[d]===void 0){var o=new Error("Cannot find module '"+d+"'");throw o.code="MODULE_NOT_FOUND",o}var f=a[d]={exports:{}};return n[d].call(f.exports,f,f.exports,l),f.exports}(function(){l.n=function(d){var A=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(A,{a:A}),A}})(),(function(){var d=Object.getPrototypeOf?function(o){return Object.getPrototypeOf(o)}:function(o){return o.__proto__},A;l.t=function(o,f){if(f&1&&(o=this(o)),f&8||typeof o=="object"&&o&&(f&4&&o.__esModule||f&16&&typeof o.then=="function"))return o;var p=Object.create(null);l.r(p);var m={};A=A||[null,d({}),d([]),d(d)];for(var x=f&2&&o;(typeof x=="object"||typeof x=="function")&&!~A.indexOf(x);x=d(x))Object.getOwnPropertyNames(x).forEach(function(b){m[b]=function(){return o[b]}});return m.default=function(){return o},l.d(p,m),p}})(),(function(){l.d=function(d,A){for(var o in A)l.o(A,o)&&!l.o(d,o)&&Object.defineProperty(d,o,{enumerable:!0,get:A[o]})}})(),(function(){l.o=function(d,A){return Object.prototype.hasOwnProperty.call(d,A)}})(),(function(){l.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})}})();var u={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/l.r(u);var d=l("./src/worker.js");l("./src/plugin/jspdf-plugin.js"),l("./src/plugin/pagebreaks.js"),l("./src/plugin/hyperlinks.js");var A=function o(f,p){var m=new o.Worker(p);return f?m.from(f).save():m};A.Worker=d.default,u.default=A})(),u=u.default,u})()})})(gb)),gb.exports}var ER=SR();const TR=Kg(ER),LR=()=>{const s=$l(),e=W.useRef(null),{t:r}=To(["receipt","common"]),[n]=W.useState(()=>new URLSearchParams(window.location.search).get("order_id")),[a,l]=W.useState(null),[u,d]=W.useState(!0),[A,o]=W.useState(!1),[f,p]=W.useState(null),[m,x]=W.useState(!1),[b,w]=W.useState(null),y=(ve,le="success")=>{w({message:ve,type:le}),setTimeout(()=>w(null),3e3)};W.useEffect(()=>{if(!n){p(r("receipt:errors.orderNotFound")),d(!1);return}E(),setTimeout(()=>P(),2e3)},[n]);const E=async()=>{try{const ve=await fetch(`${It}/api/payment/order/${n}`,{credentials:"include"});if(ve.ok)l(await ve.json());else{const le=await ve.json();p(le.error||r("receipt:errors.loadFailed"))}}catch{p(r("receipt:errors.networkError"))}finally{d(!1)}},P=async()=>{if(n){o(!0);try{(await(await fetch(`${It}/api/payment/verify-order/${n}`,{method:"POST",credentials:"include"})).json()).success&&await E()}catch{console.error("Verification failed")}finally{o(!1)}}},z=()=>{s("/billing")},X=()=>{window.print()},Y=()=>{const ve=document.getElementById("receipt-container");if(!ve)return;x(!0),ve.classList.add("download-mode");const le={margin:.3,filename:`GogoTrip_Receipt_${(a==null?void 0:a.order.orderReference)||"download"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,scrollY:0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"},pagebreak:{mode:"avoid-all"}};TR().set(le).from(ve).save().then(()=>{ve.classList.remove("download-mode"),x(!1),y(r("receipt:messages.downloadSuccess"))}).catch(Ce=>{console.error("PDF generation failed:",Ce),ve.classList.remove("download-mode"),x(!1),y(r("receipt:messages.downloadFailed"),"error")})},Q=({status:ve})=>{const le={paid:{icon:t.jsx(Bo,{className:"w-5 h-5"}),text:r("receipt:status.paymentSuccessful"),bgColor:"bg-emerald-50 dark:bg-emerald-900/20",textColor:"text-emerald-700 dark:text-emerald-400"},active:{icon:t.jsx(Bo,{className:"w-5 h-5"}),text:r("receipt:status.paymentSuccessful"),bgColor:"bg-emerald-50",textColor:"text-emerald-700"},pending:{icon:t.jsx(Vi,{className:"w-5 h-5"}),text:r("receipt:status.paymentPending"),bgColor:"bg-amber-50 dark:bg-amber-900/20",textColor:"text-amber-700 dark:text-amber-400"},failed:{icon:t.jsx(hu,{className:"w-5 h-5"}),text:r("receipt:status.paymentFailed"),bgColor:"bg-red-50 dark:bg-red-900/20",textColor:"text-red-700 dark:text-red-400"},cancelled:{icon:t.jsx(hu,{className:"w-5 h-5"}),text:r("receipt:status.paymentCancelled"),bgColor:"bg-slate-50 dark:bg-slate-900/20",textColor:"text-slate-700 dark:text-slate-400"}},Ce=le[ve]||le.pending;return t.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${Ce.bgColor} ${Ce.textColor} font-medium`,children:[Ce.icon,t.jsx("span",{children:Ce.text})]})};if(u)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950",children:t.jsx(Lr,{className:"w-12 h-12 text-blue-600 animate-spin"})});if(f||!a)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950 p-6",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-8 max-w-md w-full border border-slate-200 dark:border-slate-800 text-center",children:[t.jsx(Da,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold mb-2 dark:text-white",children:r("receipt:errors.error")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:f||r("receipt:errors.orderNotFound")}),t.jsxs("button",{onClick:z,className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 flex items-center gap-2 mx-auto",children:[t.jsx(rA,{className:"w-5 h-5"})," ",r("receipt:actions.backToBilling")]})]})});const{order:K,plan:de,user:ue}=a;return t.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 py-8 px-4 relative animate-fade-in-up",children:[b&&t.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[100] flex items-center gap-3 px-5 py-3 rounded-full shadow-2xl animate-fade-in-down transition-all ${b.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/80 dark:text-red-100 dark:border-red-800 backdrop-blur-md":b.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/80 dark:text-emerald-100 dark:border-emerald-800 backdrop-blur-md":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800/80 dark:text-white dark:border-slate-700 backdrop-blur-md"}`,children:[b.type==="error"?t.jsx(Da,{className:"w-5 h-5"}):b.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(El,{className:"w-5 h-5 text-sky-500"}),t.jsx("span",{className:"font-bold text-sm",children:b.message}),t.jsx("button",{onClick:()=>w(null),className:"ml-2 hover:opacity-70 p-1 bg-black/5 rounded-full",children:t.jsx(qr,{className:"w-3 h-3"})})]}),A&&t.jsxs("div",{className:"fixed top-4 right-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4 shadow-lg z-50 flex items-center gap-3",children:[t.jsx(Lr,{className:"w-5 h-5 text-blue-600 animate-spin"}),t.jsx("p",{className:"text-blue-700 dark:text-blue-400 font-medium",children:r("receipt:actions.verifying")})]}),t.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex flex-wrap gap-4 print:hidden",children:[t.jsxs("button",{onClick:z,className:"px-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-50 transition-colors flex items-center gap-2",children:[t.jsx(rA,{className:"w-5 h-5"})," ",r("receipt:actions.backToBilling")]}),K.status==="pending"&&t.jsxs("button",{onClick:P,disabled:A,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[t.jsx(cd,{className:`w-5 h-5 ${A?"animate-spin":""}`})," ",r("receipt:actions.refreshStatus")]}),t.jsx("div",{className:"flex-1"}),t.jsxs("button",{onClick:X,className:"px-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-50 transition-colors flex items-center gap-2",children:[t.jsx(kE,{className:"w-5 h-5"})," ",r("receipt:actions.print")]}),t.jsxs("button",{onClick:Y,disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-70",children:[m?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsx(Xp,{className:"w-5 h-5"})," ",r("receipt:actions.downloadPdf")]})]}),t.jsxs("div",{id:"receipt-container",ref:e,className:"max-w-4xl mx-auto bg-white dark:bg-slate-900 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-800 overflow-hidden print:shadow-none print:border-slate-400",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-8 header-section",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:r("receipt:header.title")}),t.jsx("p",{className:"text-blue-100",children:r("receipt:header.subtitle")})]})}),t.jsx("div",{className:"flex justify-center",children:t.jsx(Q,{status:K.status})})]}),t.jsxs("div",{className:"p-8 content-section",children:[t.jsxs("div",{className:"mb-8 info-group",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(m5,{className:"w-5 h-5"})," ",r("receipt:sections.orderInfo")]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 grid-section",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.customerName")}),t.jsx("div",{className:"font-medium dark:text-white",children:ue.name})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.email")}),t.jsx("div",{className:"font-medium dark:text-white",children:ue.email})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.orderReference")}),t.jsx("div",{className:"font-mono text-sm font-medium dark:text-white",children:K.orderReference})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.orderDate")}),t.jsx("div",{className:"font-medium dark:text-white",children:new Date(K.createdAt).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-8 mb-8 info-group",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:r("receipt:sections.subscriptionDetails")}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-6 sub-card",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:de.name}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:de.description})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["RM ",K.amount.toFixed(2)]})})]}),K.status==="active"&&K.startDate&&t.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-4",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.validFrom")}),t.jsx("div",{className:"font-medium dark:text-white",children:new Date(K.startDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.validUntil")}),t.jsx("div",{className:"font-medium dark:text-white",children:K.endDate?new Date(K.endDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"}):t.jsx("span",{className:"text-amber-600 font-bold",children:r("receipt:fields.lifetime")})})]})]})})]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-8 info-group",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:r("receipt:pricing.subtotal")}),t.jsxs("span",{className:"font-medium dark:text-white",children:["RM ",K.amount.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:r("receipt:pricing.tax")}),t.jsx("span",{className:"font-medium dark:text-white",children:"RM 0.00"})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-4 flex justify-between items-center",children:[t.jsx("span",{className:"text-xl font-bold dark:text-white",children:r("receipt:pricing.total")}),t.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["RM ",K.amount.toFixed(2)]})]})]}),t.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-200 dark:border-slate-800 text-center footer-section",children:[t.jsx("p",{className:"text-sm text-slate-500 mb-2",children:r("receipt:footer.thankYou")}),t.jsx("p",{className:"text-xs text-slate-400",children:r("receipt:footer.support")})]})]})]}),t.jsx("style",{children:`
        /* DOWNLOAD MODE */
        .download-mode .header-section { padding: 1.5rem !important; }
        .download-mode .content-section { padding: 1.5rem !important; }
        .download-mode .info-group { margin-bottom: 1rem !important; padding-top: 1rem !important; }
        .download-mode .sub-card { padding: 1rem !important; }
        .download-mode .grid-section { gap: 0.5rem !important; }
        .download-mode h1 { font-size: 1.5rem !important; margin-bottom: 0.25rem !important; }
        .download-mode h2 { font-size: 1.1rem !important; margin-bottom: 0.5rem !important; }
        .download-mode .text-3xl { font-size: 1.5rem !important; }
        .download-mode .text-2xl { font-size: 1.25rem !important; }
        .download-mode .text-xl { font-size: 1.125rem !important; }
        .download-mode .text-lg { font-size: 1rem !important; }
        .download-mode .text-base { font-size: 0.875rem !important; }
        .download-mode .footer-section { margin-top: 1.5rem !important; padding-top: 1rem !important; }

        /* PRINT MODE */
        @media print {
          body { 
            -webkit-print-color-adjust: exact !important; 
            print-color-adjust: exact !important; 
            background-color: white !important; 
            height: 100vh;
            overflow: hidden;
          }
          
          body * { visibility: hidden; }
          #receipt-container, #receipt-container * { visibility: visible; }
          
          #receipt-container {
            position: absolute !important;
            left: 50% !important;
            top: 20px !important; 
            transform: translateX(-50%) scale(0.85) !important;
            transform-origin: top center !important;
            
            width: 800px !important;
            max-width: 100% !important;
            
            margin: 0 !important;
            padding: 0 !important;
            border: 1px solid #e2e8f0 !important;
            box-shadow: none !important;
          }

          #receipt-container .header-section { padding: 1.5rem !important; }
          #receipt-container .content-section { padding: 1.5rem !important; }
          #receipt-container .info-group { margin-bottom: 0.5rem !important; padding-top: 0.5rem !important; }
          #receipt-container .sub-card { padding: 0.8rem !important; }
          #receipt-container h1 { font-size: 1.8rem !important; margin-bottom: 5px !important; }
          #receipt-container h2 { font-size: 1.2rem !important; margin-bottom: 5px !important; }
          
          @page { size: auto; margin: 0mm; } 
        }
      `})]})},Y5=({category:s="announcement"})=>{const e={announcement:{icon:t.jsx(eA,{className:"w-3 h-3"}),color:"blue",label:"Announcement"},promotion:{icon:t.jsx(xf,{className:"w-3 h-3"}),color:"purple",label:"Promotion"},update:{icon:t.jsx(oo,{className:"w-3 h-3"}),color:"green",label:"Update"},alert:{icon:t.jsx(qo,{className:"w-3 h-3"}),color:"red",label:"Alert"}},{icon:r,color:n,label:a}=e[s]||e.announcement,l={blue:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",purple:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",green:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",red:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"};return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${l[n]}`,children:[r,a]})},FR=({audience:s="all"})=>{const e={all:{icon:t.jsx(Md,{className:"w-3 h-3"}),label:"All Users"},premium:{icon:t.jsx(Gd,{className:"w-3 h-3"}),label:"Premium"},free:{icon:t.jsx(Md,{className:"w-3 h-3"}),label:"Free Users"},new_users:{icon:t.jsx(oo,{className:"w-3 h-3"}),label:"New Users"}},{icon:r,label:n}=e[s]||e.all;return t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800",children:[r,n]})},UR=({content:s})=>{const e=(r,n)=>{if(r.startsWith("### "))return t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mt-6 mb-2",children:r.slice(4)},n);if(r.startsWith("## "))return t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mt-8 mb-3",children:r.slice(3)},n);if(r.startsWith("# "))return t.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-8 mb-4",children:r.slice(2)},n);if(r.startsWith("- ")||r.startsWith("* "))return t.jsx("li",{className:"ml-4 text-slate-700 dark:text-slate-300 mb-1 list-disc",children:r.slice(2)},n);if(r.trim()==="")return t.jsx("div",{className:"h-4"},n);let a=r.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/__(.*?)__/g,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 dark:text-blue-400 hover:underline" target="_blank" rel="noopener noreferrer">$1</a>');return t.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-3 leading-relaxed",dangerouslySetInnerHTML:{__html:a}},n)};return t.jsx("div",{className:"prose-custom",children:s.split(`
`).map((r,n)=>e(r,n))})},MR=()=>{const s=$l(),[e,r]=W.useState([]),[n,a]=W.useState(!0),[l,u]=W.useState(null);W.useEffect(()=>{d()},[]);const d=async()=>{try{const A=await fetch(`${It}/api/announcements`,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch announcements");const o=await A.json();r(o.announcements||[])}catch{u("Unable to load announcements")}finally{a(!1)}};return n?t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-sky-600"})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto space-y-6 animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("button",{onClick:()=>s(-1),className:"md:hidden",children:t.jsx(rA,{className:"w-5 h-5 text-slate-500"})}),t.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-3",children:[t.jsx(eA,{className:"w-6 h-6 md:w-8 md:h-8 text-sky-600"}),"Announcements"]})]}),l?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-red-500 gap-2",children:[t.jsx(Da,{className:"w-8 h-8"}),t.jsx("p",{children:l})]}):e.length===0?t.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800",children:[t.jsx(Au,{className:"w-16 h-16 text-slate-200 dark:text-slate-700 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500",children:"No announcements available at the moment."})]}):t.jsx("div",{className:"space-y-4",children:e.map(A=>t.jsx("div",{onClick:()=>s(`/announcements/${A.id}`),className:"bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-200 dark:border-slate-800 hover:shadow-lg hover:border-sky-300 dark:hover:border-sky-700 hover:-translate-y-0.5 transition-all cursor-pointer group",children:t.jsxs("div",{className:"flex gap-4",children:[A.coverImage?t.jsx("img",{src:A.coverImage,alt:"",className:"w-24 h-24 rounded-xl object-cover shrink-0"}):t.jsx("div",{className:"w-24 h-24 rounded-xl bg-gradient-to-br from-sky-100 to-sky-50 dark:from-sky-900/30 dark:to-slate-800 flex items-center justify-center shrink-0",children:t.jsx(eA,{className:"w-8 h-8 text-sky-500"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"flex items-center gap-2 mb-2",children:t.jsx(Y5,{category:A.category})}),t.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-white group-hover:text-sky-600 dark:group-hover:text-sky-400 transition-colors truncate",children:A.title}),A.subtitle&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate mt-1",children:A.subtitle}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 text-xs text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Co,{className:"w-3 h-3"}),new Date(A.createdAt).toLocaleDateString()]}),A.views!==void 0&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(io,{className:"w-3 h-3"}),A.views," views"]})]})]}),t.jsx(hc,{className:"w-5 h-5 text-slate-300 dark:text-slate-600 group-hover:text-sky-500 group-hover:translate-x-1 transition-all self-center"})]})},A.id))})]})},OR=()=>{var m;const{id:s}=Wg(),e=$l(),[r,n]=W.useState(null),[a,l]=W.useState(!0),[u,d]=W.useState(null);W.useEffect(()=>{A()},[s]);const A=async()=>{try{const x=await fetch(`${It}/api/announcements/${s}`,{credentials:"include"});if(!x.ok)throw new Error("Not found");const b=await x.json();n(b.announcement)}catch{d("Announcement not found or has expired.")}finally{l(!1)}},o=async()=>{if(!r)return;const x=window.location.href;if(navigator.share)try{await navigator.share({title:r.title,url:x})}catch{}else await navigator.clipboard.writeText(x),alert("Link copied to clipboard!")},f=()=>{r!=null&&r.ctaLink&&(r.ctaLink.startsWith("http")?window.open(r.ctaLink,"_blank"):e(r.ctaLink))};if(a)return t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-sky-600"})});if(u||!r)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] gap-4",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:t.jsx(Au,{className:"w-8 h-8 text-slate-400"})}),t.jsx("p",{className:"text-slate-500",children:u||"Announcement not found"}),t.jsx("button",{onClick:()=>e("/announcements"),className:"text-sky-600 font-medium hover:underline",children:"Back to list"})]});const p=()=>{switch(r.ctaStyle){case"secondary":return"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return"bg-gradient-to-r from-sky-500 to-sky-600 text-white hover:from-sky-600 hover:to-sky-700"}};return t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto space-y-6 animate-fade-in-up",children:[t.jsxs("button",{onClick:()=>e("/announcements"),className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-sky-600 dark:hover:text-white transition-colors",children:[t.jsx(rA,{className:"w-4 h-4"}),"Back to announcements"]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[(r.bannerImage||r.coverImage)&&t.jsx("div",{className:"h-48 md:h-64 overflow-hidden",children:t.jsx("img",{src:r.bannerImage||r.coverImage,alt:r.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[t.jsx(Y5,{category:r.category}),t.jsx(FR,{audience:r.targetAudience}),r.priority===2&&t.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs font-medium rounded",children:" Urgent"})]}),t.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white mb-2",children:r.title}),r.subtitle&&t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-4",children:r.subtitle}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx(Co,{className:"w-4 h-4"}),new Date(r.createdAt).toLocaleDateString()]}),r.views!==void 0&&t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx(io,{className:"w-4 h-4"}),r.views.toLocaleString()," views"]}),r.endAt&&t.jsxs("span",{className:"flex items-center gap-1.5 text-orange-500",children:[t.jsx(Vi,{className:"w-4 h-4"}),"Expires: ",new Date(r.endAt).toLocaleDateString()]})]})]})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 md:p-8",children:r.contentType==="html"?t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:r.content}}):r.contentType==="markdown"?t.jsx(UR,{content:r.content}):t.jsx("div",{className:"whitespace-pre-wrap text-slate-700 dark:text-slate-300 leading-relaxed",children:r.content})}),(r.ctaText||r.ctaLink)&&t.jsx("div",{className:"bg-gradient-to-r from-slate-100 to-slate-50 dark:from-slate-800/50 dark:to-slate-900/50 rounded-3xl p-6 md:p-8 border border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Ready to take action?"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:r.category==="promotion"?"Don't miss this opportunity!":"Click the button to proceed"})]}),t.jsxs("button",{onClick:f,className:`px-8 py-4 rounded-2xl font-semibold transition-all flex items-center gap-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 ${p()}`,children:[r.ctaText||"Learn More",(m=r.ctaLink)!=null&&m.startsWith("http")?t.jsx(ip,{className:"w-4 h-4"}):t.jsx(hc,{className:"w-4 h-4"})]})]})}),t.jsx("div",{className:"flex items-center justify-center pb-8",children:t.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-6 py-3 text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:[t.jsx(Gm,{className:"w-4 h-4"})," Share this announcement"]})})]})},IR=({blog:s,onClick:e})=>t.jsxs("div",{onClick:e,className:"group cursor-pointer bg-white dark:bg-slate-800 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-slate-100 dark:border-slate-700",children:[t.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.coverImage?t.jsx("img",{src:s.coverImage,alt:s.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500"}),t.jsx("div",{className:"absolute top-4 left-4",children:t.jsx("span",{className:"px-3 py-1 bg-black/50 backdrop-blur-md text-white text-xs font-bold rounded-full uppercase tracking-wider",children:s.category})})]}),t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden flex items-center justify-center",children:s.authorAvatar?t.jsx("img",{src:s.authorAvatar,alt:s.authorName,className:"w-full h-full object-cover"}):t.jsx(Jo,{className:"w-4 h-4 text-slate-500"})}),t.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:s.authorName}),t.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:""}),t.jsx("span",{className:"text-xs text-slate-400",children:s.publishedAt?new Date(s.publishedAt).toLocaleDateString():"Draft"})]}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 line-clamp-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:s.title}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm line-clamp-2 mb-4",children:s.excerpt}),t.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-4 text-slate-400 text-xs font-medium",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(io,{className:"w-4 h-4"}),s.views]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(bf,{className:`w-4 h-4 ${s.isLiked?"fill-rose-500 text-rose-500":""}`}),s.likesCount]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(mu,{className:"w-4 h-4"}),s.commentsCount]})]})})]})]}),Zn=({className:s="",variant:e="text",width:r,height:n,animation:a="pulse"})=>{const l={text:"rounded",circular:"rounded-full",rectangular:"rounded-none",rounded:"rounded-xl"},u={pulse:"animate-pulse",wave:"animate-shimmer bg-gradient-to-r from-slate-200 via-slate-100 to-slate-200 dark:from-slate-700 dark:via-slate-600 dark:to-slate-700 bg-[length:200%_100%]",none:""},d={};return r&&(d.width=typeof r=="number"?`${r}px`:r),n&&(d.height=typeof n=="number"?`${n}px`:n),t.jsx("div",{className:`
        bg-slate-200 dark:bg-slate-700
        ${l[e]}
        ${u[a]}
        ${s}
      `,style:d})},DR=({className:s=""})=>t.jsxs("div",{className:`max-w-4xl mx-auto p-6 md:p-8 space-y-8 ${s}`,children:[t.jsx(Zn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Zn,{variant:"rounded",className:"w-full h-64 md:h-96"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Zn,{variant:"rounded",className:"w-20 h-6"}),t.jsx(Zn,{variant:"text",className:"w-32 h-4"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Zn,{variant:"text",className:"w-full h-10"}),t.jsx(Zn,{variant:"text",className:"w-3/4 h-10"})]}),t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(Zn,{variant:"circular",className:"w-14 h-14"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(Zn,{variant:"text",className:"w-32 h-5"}),t.jsx(Zn,{variant:"text",className:"w-48 h-4"})]}),t.jsx(Zn,{variant:"rounded",className:"w-24 h-10"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-11/12 h-5"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-4/5 h-5"}),t.jsx("div",{className:"py-4"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-3/4 h-5"}),t.jsx("div",{className:"py-4"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-5/6 h-5"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-2/3 h-5"})]}),t.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[t.jsx(Zn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Zn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Zn,{variant:"rounded",className:"w-24 h-10"})]}),t.jsxs("div",{className:"space-y-6 pt-8",children:[t.jsx(Zn,{variant:"text",className:"w-40 h-8"}),t.jsx(Zn,{variant:"rounded",className:"w-full h-24"}),[1,2,3].map(e=>t.jsxs("div",{className:"flex gap-4 p-4 bg-slate-50 dark:bg-slate-800/30 rounded-xl",children:[t.jsx(Zn,{variant:"circular",className:"w-10 h-10 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zn,{variant:"text",className:"w-24 h-4"}),t.jsx(Zn,{variant:"text",className:"w-20 h-3"})]}),t.jsx(Zn,{variant:"text",className:"w-full h-4"}),t.jsx(Zn,{variant:"text",className:"w-4/5 h-4"})]})]},e))]})]});function Sc(s){this.content=s}Sc.prototype={constructor:Sc,find:function(s){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===s)return e;return-1},get:function(s){var e=this.find(s);return e==-1?void 0:this.content[e+1]},update:function(s,e,r){var n=r&&r!=s?this.remove(r):this,a=n.find(s),l=n.content.slice();return a==-1?l.push(r||s,e):(l[a+1]=e,r&&(l[a]=r)),new Sc(l)},remove:function(s){var e=this.find(s);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Sc(r)},addToStart:function(s,e){return new Sc([s,e].concat(this.remove(s).content))},addToEnd:function(s,e){var r=this.remove(s).content.slice();return r.push(s,e),new Sc(r)},addBefore:function(s,e,r){var n=this.remove(e),a=n.content.slice(),l=n.find(s);return a.splice(l==-1?a.length:l,0,e,r),new Sc(a)},forEach:function(s){for(var e=0;e<this.content.length;e+=2)s(this.content[e],this.content[e+1])},prepend:function(s){return s=Sc.from(s),s.size?new Sc(s.content.concat(this.subtract(s).content)):this},append:function(s){return s=Sc.from(s),s.size?new Sc(this.subtract(s).content.concat(s.content)):this},subtract:function(s){var e=this;s=Sc.from(s);for(var r=0;r<s.content.length;r+=2)e=e.remove(s.content[r]);return e},toObject:function(){var s={};return this.forEach(function(e,r){s[e]=r}),s},get size(){return this.content.length>>1}};Sc.from=function(s){if(s instanceof Sc)return s;var e=[];if(s)for(var r in s)e.push(r,s[r]);return new Sc(e)};function X5(s,e,r){for(let n=0;;n++){if(n==s.childCount||n==e.childCount)return s.childCount==e.childCount?null:r;let a=s.child(n),l=e.child(n);if(a==l){r+=a.nodeSize;continue}if(!a.sameMarkup(l))return r;if(a.isText&&a.text!=l.text){for(let u=0;a.text[u]==l.text[u];u++)r++;return r}if(a.content.size||l.content.size){let u=X5(a.content,l.content,r+1);if(u!=null)return u}r+=a.nodeSize}}function J5(s,e,r,n){for(let a=s.childCount,l=e.childCount;;){if(a==0||l==0)return a==l?null:{a:r,b:n};let u=s.child(--a),d=e.child(--l),A=u.nodeSize;if(u==d){r-=A,n-=A;continue}if(!u.sameMarkup(d))return{a:r,b:n};if(u.isText&&u.text!=d.text){let o=0,f=Math.min(u.text.length,d.text.length);for(;o<f&&u.text[u.text.length-o-1]==d.text[d.text.length-o-1];)o++,r--,n--;return{a:r,b:n}}if(u.content.size||d.content.size){let o=J5(u.content,d.content,r-1,n-1);if(o)return o}r-=A,n-=A}}class Ws{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,a=0,l){for(let u=0,d=0;d<r;u++){let A=this.content[u],o=d+A.nodeSize;if(o>e&&n(A,a+d,l||null,u)!==!1&&A.content.size){let f=d+1;A.nodesBetween(Math.max(0,e-f),Math.min(A.content.size,r-f),n,a+f)}d=o}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,a){let l="",u=!0;return this.nodesBetween(e,r,(d,A)=>{let o=d.isText?d.text.slice(Math.max(e,A)-A,r-A):d.isLeaf?a?typeof a=="function"?a(d):a:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&o||d.isTextblock)&&n&&(u?u=!1:l+=n),l+=o},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,a=this.content.slice(),l=0;for(r.isText&&r.sameMarkup(n)&&(a[a.length-1]=r.withText(r.text+n.text),l=1);l<e.content.length;l++)a.push(e.content[l]);return new Ws(a,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],a=0;if(r>e)for(let l=0,u=0;u<r;l++){let d=this.content[l],A=u+d.nodeSize;A>e&&((u<e||A>r)&&(d.isText?d=d.cut(Math.max(0,e-u),Math.min(d.text.length,r-u)):d=d.cut(Math.max(0,e-u-1),Math.min(d.content.size,r-u-1))),n.push(d),a+=d.nodeSize),u=A}return new Ws(n,a)}cutByIndex(e,r){return e==r?Ws.empty:e==0&&r==this.content.length?this:new Ws(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let a=this.content.slice(),l=this.size+r.nodeSize-n.nodeSize;return a[e]=r,new Ws(a,l)}addToStart(e){return new Ws([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ws(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let a=this.content[r];e(a,n,r),n+=a.nodeSize}}findDiffStart(e,r=0){return X5(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return J5(this,e,r,n)}findIndex(e){if(e==0)return om(0,e);if(e==this.size)return om(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let a=this.child(r),l=n+a.nodeSize;if(l>=e)return l==e?om(r+1,l):om(r,n);n=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Ws.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ws(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ws.empty;let r,n=0;for(let a=0;a<e.length;a++){let l=e[a];n+=l.nodeSize,a&&l.isText&&e[a-1].sameMarkup(l)?(r||(r=e.slice(0,a)),r[r.length-1]=l.withText(r[r.length-1].text+l.text)):r&&r.push(l)}return new Ws(r||e,n)}static from(e){if(!e)return Ws.empty;if(e instanceof Ws)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ws([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ws.empty=new Ws([],0);const xb={index:0,offset:0};function om(s,e){return xb.index=s,xb.offset=e,xb}function tg(s,e){if(s===e)return!0;if(!(s&&typeof s=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(s);if(Array.isArray(e)!=r)return!1;if(r){if(s.length!=e.length)return!1;for(let n=0;n<s.length;n++)if(!tg(s[n],e[n]))return!1}else{for(let n in s)if(!(n in e)||!tg(s[n],e[n]))return!1;for(let n in e)if(!(n in s))return!1}return!0}let zi=class pv{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let a=0;a<e.length;a++){let l=e[a];if(this.eq(l))return e;if(this.type.excludes(l.type))r||(r=e.slice(0,a));else{if(l.type.excludes(this.type))return e;!n&&l.type.rank>this.type.rank&&(r||(r=e.slice(0,a)),r.push(this),n=!0),r&&r.push(l)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&tg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let a=n.create(r.attrs);return n.checkAttrs(a.attrs),a}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return pv.none;if(e instanceof pv)return[e];let r=e.slice();return r.sort((n,a)=>n.type.rank-a.type.rank),r}};zi.none=[];class sg extends Error{}class Mr{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=q5(this.content,e+this.openStart,r);return n&&new Mr(n,this.openStart,this.openEnd)}removeBetween(e,r){return new Mr(Z5(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return Mr.empty;let n=r.openStart||0,a=r.openEnd||0;if(typeof n!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Mr(Ws.fromJSON(e,r.content),n,a)}static maxOpen(e,r=!0){let n=0,a=0;for(let l=e.firstChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.firstChild)n++;for(let l=e.lastChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.lastChild)a++;return new Mr(e,n,a)}}Mr.empty=new Mr(Ws.empty,0,0);function Z5(s,e,r){let{index:n,offset:a}=s.findIndex(e),l=s.maybeChild(n),{index:u,offset:d}=s.findIndex(r);if(a==e||l.isText){if(d!=r&&!s.child(u).isText)throw new RangeError("Removing non-flat range");return s.cut(0,e).append(s.cut(r))}if(n!=u)throw new RangeError("Removing non-flat range");return s.replaceChild(n,l.copy(Z5(l.content,e-a-1,r-a-1)))}function q5(s,e,r,n){let{index:a,offset:l}=s.findIndex(e),u=s.maybeChild(a);if(l==e||u.isText)return n&&!n.canReplace(a,a,r)?null:s.cut(0,e).append(r).append(s.cut(e));let d=q5(u.content,e-l-1,r,u);return d&&s.replaceChild(a,u.copy(d))}function PR(s,e,r){if(r.openStart>s.depth)throw new sg("Inserted content deeper than insertion position");if(s.depth-r.openStart!=e.depth-r.openEnd)throw new sg("Inconsistent open depths");return eN(s,e,r,0)}function eN(s,e,r,n){let a=s.index(n),l=s.node(n);if(a==e.index(n)&&n<s.depth-r.openStart){let u=eN(s,e,r,n+1);return l.copy(l.content.replaceChild(a,u))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&s.depth==n&&e.depth==n){let u=s.parent,d=u.content;return ff(u,d.cut(0,s.parentOffset).append(r.content).append(d.cut(e.parentOffset)))}else{let{start:u,end:d}=RR(r,s);return ff(l,sN(s,u,d,e,n))}else return ff(l,rg(s,e,n))}function tN(s,e){if(!e.type.compatibleContent(s.type))throw new sg("Cannot join "+e.type.name+" onto "+s.type.name)}function mv(s,e,r){let n=s.node(r);return tN(n,e.node(r)),n}function hf(s,e){let r=e.length-1;r>=0&&s.isText&&s.sameMarkup(e[r])?e[r]=s.withText(e[r].text+s.text):e.push(s)}function e0(s,e,r,n){let a=(e||s).node(r),l=0,u=e?e.index(r):a.childCount;s&&(l=s.index(r),s.depth>r?l++:s.textOffset&&(hf(s.nodeAfter,n),l++));for(let d=l;d<u;d++)hf(a.child(d),n);e&&e.depth==r&&e.textOffset&&hf(e.nodeBefore,n)}function ff(s,e){return s.type.checkContent(e),s.copy(e)}function sN(s,e,r,n,a){let l=s.depth>a&&mv(s,e,a+1),u=n.depth>a&&mv(r,n,a+1),d=[];return e0(null,s,a,d),l&&u&&e.index(a)==r.index(a)?(tN(l,u),hf(ff(l,sN(s,e,r,n,a+1)),d)):(l&&hf(ff(l,rg(s,e,a+1)),d),e0(e,r,a,d),u&&hf(ff(u,rg(r,n,a+1)),d)),e0(n,null,a,d),new Ws(d)}function rg(s,e,r){let n=[];if(e0(null,s,r,n),s.depth>r){let a=mv(s,e,r+1);hf(ff(a,rg(s,e,r+1)),n)}return e0(e,null,r,n),new Ws(n)}function RR(s,e){let r=e.depth-s.openStart,a=e.node(r).copy(s.content);for(let l=r-1;l>=0;l--)a=e.node(l).copy(Ws.from(a));return{start:a.resolveNoCache(s.openStart+r),end:a.resolveNoCache(a.content.size-s.openEnd-r)}}class m0{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],a=e.child(r);return n?e.child(r).cut(n):a}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],a=r==0?0:this.path[r*3-1]+1;for(let l=0;l<e;l++)a+=n.child(l).nodeSize;return a}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return zi.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),a=e.maybeChild(r);if(!n){let d=n;n=a,a=d}let l=n.marks;for(var u=0;u<l.length;u++)l[u].type.spec.inclusive===!1&&(!a||!l[u].isInSet(a.marks))&&(l=l[u--].removeFromSet(l));return l}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,a=e.parent.maybeChild(e.index());for(var l=0;l<n.length;l++)n[l].type.spec.inclusive===!1&&(!a||!n[l].isInSet(a.marks))&&(n=n[l--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new ng(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],a=0,l=r;for(let u=e;;){let{index:d,offset:A}=u.content.findIndex(l),o=l-A;if(n.push(u,d,a+A),!o||(u=u.child(d),u.isText))break;l=o-1,a+=A+1}return new m0(r,n,l)}static resolveCached(e,r){let n=a2.get(e);if(n)for(let l=0;l<n.elts.length;l++){let u=n.elts[l];if(u.pos==r)return u}else a2.set(e,n=new QR);let a=n.elts[n.i]=m0.resolve(e,r);return n.i=(n.i+1)%_R,a}}class QR{constructor(){this.elts=[],this.i=0}}const _R=12,a2=new WeakMap;class ng{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const HR=Object.create(null);let Th=class gv{constructor(e,r,n,a=zi.none){this.type=e,this.attrs=r,this.marks=a,this.content=n||Ws.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,a=0){this.content.nodesBetween(e,r,n,a,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,a){return this.content.textBetween(e,r,n,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&tg(this.attrs,r||e.defaultAttrs||HR)&&zi.sameSet(this.marks,n||zi.none)}copy(e=null){return e==this.content?this:new gv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new gv(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return Mr.empty;let a=this.resolve(e),l=this.resolve(r),u=n?0:a.sharedDepth(r),d=a.start(u),o=a.node(u).content.cut(a.pos-d,l.pos-d);return new Mr(o,a.depth-u,l.depth-u)}replace(e,r,n){return PR(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:a}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(a==e||r.isText)return r;e-=a+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let a=this.content.child(r-1);return{node:a,index:r-1,offset:n-a.nodeSize}}resolve(e){return m0.resolveCached(this,e)}resolveNoCache(e){return m0.resolve(this,e)}rangeHasMark(e,r,n){let a=!1;return r>e&&this.nodesBetween(e,r,l=>(n.isInSet(l.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),rN(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Ws.empty,a=0,l=n.childCount){let u=this.contentMatchAt(e).matchFragment(n,a,l),d=u&&u.matchFragment(this.content,r);if(!d||!d.validEnd)return!1;for(let A=a;A<l;A++)if(!this.type.allowsMarks(n.child(A).marks))return!1;return!0}canReplaceWith(e,r,n,a){if(a&&!this.type.allowsMarks(a))return!1;let l=this.contentMatchAt(e).matchType(n),u=l&&l.matchFragment(this.content,r);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=zi.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!zi.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let a=Ws.fromJSON(e,r.content),l=e.nodeType(r.type).create(r.attrs,a,n);return l.type.checkAttrs(l.attrs),l}};Th.prototype.text=void 0;class ag extends Th{constructor(e,r,n,a){if(super(e,r,null,a),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):rN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ag(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ag(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function rN(s,e){for(let r=s.length-1;r>=0;r--)e=s[r].type.name+"("+e+")";return e}class yf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new zR(e,r);if(n.next==null)return yf.empty;let a=nN(n);n.next&&n.err("Unexpected trailing text");let l=XR(YR(a));return JR(l,n),l}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let a=this;for(let l=r;a&&l<n;l++)a=a.matchType(e.child(l).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let a=[this];function l(u,d){let A=u.matchFragment(e,n);if(A&&(!r||A.validEnd))return Ws.from(d.map(o=>o.createAndFill()));for(let o=0;o<u.next.length;o++){let{type:f,next:p}=u.next[o];if(!(f.isText||f.hasRequiredAttrs())&&a.indexOf(p)==-1){a.push(p);let m=l(p,d.concat(f));if(m)return m}}return null}return l(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let a=n.shift(),l=a.match;if(l.matchType(e)){let u=[];for(let d=a;d.type;d=d.via)u.push(d.type);return u.reverse()}for(let u=0;u<l.next.length;u++){let{type:d,next:A}=l.next[u];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in r)&&(!a.type||A.validEnd)&&(n.push({match:d.contentMatch,type:d,via:a}),r[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let a=0;a<n.next.length;a++)e.indexOf(n.next[a].next)==-1&&r(n.next[a].next)}return r(this),e.map((n,a)=>{let l=a+(n.validEnd?"*":" ")+" ";for(let u=0;u<n.next.length;u++)l+=(u?", ":"")+n.next[u].type.name+"->"+e.indexOf(n.next[u].next);return l}).join(`
`)}}yf.empty=new yf(!0);class zR{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function nN(s){let e=[];do e.push($R(s));while(s.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function $R(s){let e=[];do e.push(VR(s));while(s.next&&s.next!=")"&&s.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function VR(s){let e=WR(s);for(;;)if(s.eat("+"))e={type:"plus",expr:e};else if(s.eat("*"))e={type:"star",expr:e};else if(s.eat("?"))e={type:"opt",expr:e};else if(s.eat("{"))e=KR(s,e);else break;return e}function i2(s){/\D/.test(s.next)&&s.err("Expected number, got '"+s.next+"'");let e=Number(s.next);return s.pos++,e}function KR(s,e){let r=i2(s),n=r;return s.eat(",")&&(s.next!="}"?n=i2(s):n=-1),s.eat("}")||s.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function GR(s,e){let r=s.nodeTypes,n=r[e];if(n)return[n];let a=[];for(let l in r){let u=r[l];u.isInGroup(e)&&a.push(u)}return a.length==0&&s.err("No node type or group '"+e+"' found"),a}function WR(s){if(s.eat("(")){let e=nN(s);return s.eat(")")||s.err("Missing closing paren"),e}else if(/\W/.test(s.next))s.err("Unexpected token '"+s.next+"'");else{let e=GR(s,s.next).map(r=>(s.inline==null?s.inline=r.isInline:s.inline!=r.isInline&&s.err("Mixing inline and block content"),{type:"name",value:r}));return s.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function YR(s){let e=[[]];return a(l(s,0),r()),e;function r(){return e.push([])-1}function n(u,d,A){let o={term:A,to:d};return e[u].push(o),o}function a(u,d){u.forEach(A=>A.to=d)}function l(u,d){if(u.type=="choice")return u.exprs.reduce((A,o)=>A.concat(l(o,d)),[]);if(u.type=="seq")for(let A=0;;A++){let o=l(u.exprs[A],d);if(A==u.exprs.length-1)return o;a(o,d=r())}else if(u.type=="star"){let A=r();return n(d,A),a(l(u.expr,A),A),[n(A)]}else if(u.type=="plus"){let A=r();return a(l(u.expr,d),A),a(l(u.expr,A),A),[n(A)]}else{if(u.type=="opt")return[n(d)].concat(l(u.expr,d));if(u.type=="range"){let A=d;for(let o=0;o<u.min;o++){let f=r();a(l(u.expr,A),f),A=f}if(u.max==-1)a(l(u.expr,A),A);else for(let o=u.min;o<u.max;o++){let f=r();n(A,f),a(l(u.expr,A),f),A=f}return[n(A)]}else{if(u.type=="name")return[n(d,void 0,u.value)];throw new Error("Unknown expr type")}}}}function aN(s,e){return e-s}function o2(s,e){let r=[];return n(e),r.sort(aN);function n(a){let l=s[a];if(l.length==1&&!l[0].term)return n(l[0].to);r.push(a);for(let u=0;u<l.length;u++){let{term:d,to:A}=l[u];!d&&r.indexOf(A)==-1&&n(A)}}}function XR(s){let e=Object.create(null);return r(o2(s,0));function r(n){let a=[];n.forEach(u=>{s[u].forEach(({term:d,to:A})=>{if(!d)return;let o;for(let f=0;f<a.length;f++)a[f][0]==d&&(o=a[f][1]);o2(s,A).forEach(f=>{o||a.push([d,o=[]]),o.indexOf(f)==-1&&o.push(f)})})});let l=e[n.join(",")]=new yf(n.indexOf(s.length-1)>-1);for(let u=0;u<a.length;u++){let d=a[u][1].sort(aN);l.next.push({type:a[u][0],next:e[d.join(",")]||r(d)})}return l}}function JR(s,e){for(let r=0,n=[s];r<n.length;r++){let a=n[r],l=!a.validEnd,u=[];for(let d=0;d<a.next.length;d++){let{type:A,next:o}=a.next[d];u.push(A.name),l&&!(A.isText||A.hasRequiredAttrs())&&(l=!1),n.indexOf(o)==-1&&n.push(o)}l&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function iN(s){let e=Object.create(null);for(let r in s){let n=s[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function oN(s,e){let r=Object.create(null);for(let n in s){let a=e&&e[n];if(a===void 0){let l=s[n];if(l.hasDefault)a=l.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=a}return r}function lN(s,e,r,n){for(let a in e)if(!(a in s))throw new RangeError(`Unsupported attribute ${a} for ${r} of type ${a}`);for(let a in s){let l=s[a];l.validate&&l.validate(e[a])}}function cN(s,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new qR(s,n,e[n]);return r}let l2=class dN{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=cN(e,n.attrs),this.defaultAttrs=iN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:oN(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Th(this,this.computeAttrs(e),Ws.from(r),zi.setFrom(n))}createChecked(e=null,r,n){return r=Ws.from(r),this.checkContent(r),new Th(this,this.computeAttrs(e),r,zi.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Ws.from(r),r.size){let u=this.contentMatch.fillBefore(r);if(!u)return null;r=u.append(r)}let a=this.contentMatch.matchFragment(r),l=a&&a.fillBefore(Ws.empty,!0);return l?new Th(this,e,r.append(l),zi.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){lN(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:zi.none:e}static compile(e,r){let n=Object.create(null);e.forEach((l,u)=>n[l]=new dN(l,r,u));let a=r.spec.topNode||"doc";if(!n[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let l in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function ZR(s,e,r){let n=r.split("|");return a=>{let l=a===null?"null":typeof a;if(n.indexOf(l)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${s}, got ${l}`)}}class qR{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?ZR(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class cx{constructor(e,r,n,a){this.name=e,this.rank=r,this.schema=n,this.spec=a,this.attrs=cN(e,a.attrs),this.excluded=null;let l=iN(this.attrs);this.instance=l?new zi(this,l):null}create(e=null){return!e&&this.instance?this.instance:new zi(this,oN(this.attrs,e))}static compile(e,r){let n=Object.create(null),a=0;return e.forEach((l,u)=>n[l]=new cx(l,a++,r,u)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){lN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class uN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let a in e)r[a]=e[a];r.nodes=Sc.from(e.nodes),r.marks=Sc.from(e.marks||{}),this.nodes=l2.compile(this.spec.nodes,this),this.marks=cx.compile(this.spec.marks,this);let n=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let l=this.nodes[a],u=l.spec.content||"",d=l.spec.marks;if(l.contentMatch=n[u]||(n[u]=yf.parse(u,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=d=="_"?null:d?c2(this,d.split(" ")):d==""||!l.inlineContent?[]:null}for(let a in this.marks){let l=this.marks[a],u=l.spec.excludes;l.excluded=u==null?[l]:u==""?[]:c2(this,u.split(" "))}this.nodeFromJSON=a=>Th.fromJSON(this,a),this.markFromJSON=a=>zi.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,a){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof l2){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,a)}text(e,r){let n=this.nodes.text;return new ag(n,n.defaultAttrs,e,zi.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function c2(s,e){let r=[];for(let n=0;n<e.length;n++){let a=e[n],l=s.marks[a],u=l;if(l)r.push(l);else for(let d in s.marks){let A=s.marks[d];(a=="_"||A.spec.group&&A.spec.group.split(" ").indexOf(a)>-1)&&r.push(u=A)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function e7(s){return s.tag!=null}function t7(s){return s.style!=null}let t0=class xv{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(a=>{if(e7(a))this.tags.push(a);else if(t7(a)){let l=/[^=]*/.exec(a.style)[0];n.indexOf(l)<0&&n.push(l),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let l=e.nodes[a.node];return l.contentMatch.matchType(l)})}parse(e,r={}){let n=new u2(this,r,!1);return n.addAll(e,zi.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new u2(this,r,!0);return n.addAll(e,zi.none,r.from,r.to),Mr.maxOpen(n.finish())}matchTag(e,r,n){for(let a=n?this.tags.indexOf(n)+1:0;a<this.tags.length;a++){let l=this.tags[a];if(n7(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||r.matchesContext(l.context))){if(l.getAttrs){let u=l.getAttrs(e);if(u===!1)continue;l.attrs=u||void 0}return l}}}matchStyle(e,r,n,a){for(let l=a?this.styles.indexOf(a)+1:0;l<this.styles.length;l++){let u=this.styles[l],d=u.style;if(!(d.indexOf(e)!=0||u.context&&!n.matchesContext(u.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=r))){if(u.getAttrs){let A=u.getAttrs(r);if(A===!1)continue;u.attrs=A||void 0}return u}}}static schemaRules(e){let r=[];function n(a){let l=a.priority==null?50:a.priority,u=0;for(;u<r.length;u++){let d=r[u];if((d.priority==null?50:d.priority)<l)break}r.splice(u,0,a)}for(let a in e.marks){let l=e.marks[a].spec.parseDOM;l&&l.forEach(u=>{n(u=A2(u)),u.mark||u.ignore||u.clearMark||(u.mark=a)})}for(let a in e.nodes){let l=e.nodes[a].spec.parseDOM;l&&l.forEach(u=>{n(u=A2(u)),u.node||u.ignore||u.mark||(u.node=a)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new xv(e,xv.schemaRules(e)))}};const AN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},s7={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},hN={ol:!0,ul:!0},g0=1,bv=2,s0=4;function d2(s,e,r){return e!=null?(e?g0:0)|(e==="full"?bv:0):s&&s.whitespace=="pre"?g0|bv:r&~s0}class lm{constructor(e,r,n,a,l,u){this.type=e,this.attrs=r,this.marks=n,this.solid=a,this.options=u,this.content=[],this.activeMarks=zi.none,this.match=l||(u&s0?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Ws.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,a;return(a=n.findWrapping(e.type))?(this.match=n,a):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&g0)){let n=this.content[this.content.length-1],a;if(n&&n.isText&&(a=/[ \t\r\n\u000c]+$/.exec(n.text))){let l=n;n.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-a[0].length))}}let r=Ws.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Ws.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!AN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class u2{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let a=r.topNode,l,u=d2(null,r.preserveWhitespace,0)|(n?s0:0);a?l=new lm(a.type,a.attrs,zi.none,!0,r.topMatch||a.type.contentMatch,u):n?l=new lm(null,null,zi.none,!0,null,u):l=new lm(e.schema.topNodeType,null,zi.none,!0,null,u),this.nodes=[l],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,a=this.top,l=a.options&bv?"full":this.localPreserveWS||(a.options&g0)>0,{schema:u}=this.parser;if(l==="full"||a.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(l)if(l==="full")n=n.replace(/\r\n?/g,`
`);else if(u.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(u.linebreakReplacement.create())){let d=n.split(/\r?\n|\r/);for(let A=0;A<d.length;A++)A&&this.insertNode(u.linebreakReplacement.create(),r,!0),d[A]&&this.insertNode(u.text(d[A]),r,!/\S/.test(d[A]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let d=a.content[a.content.length-1],A=e.previousSibling;(!d||A&&A.nodeName=="BR"||d.isText&&/[ \t\r\n\u000c]$/.test(d.text))&&(n=n.slice(1))}n&&this.insertNode(u.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let a=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),d;hN.hasOwnProperty(u)&&this.parser.normalizeLists&&r7(e);let A=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,n));e:if(A?A.ignore:s7.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,r);else if(!A||A.skip||A.closeParent){A&&A.closeParent?this.open=Math.max(0,this.open-1):A&&A.skip.nodeType&&(e=A.skip);let o,f=this.needsBlock;if(AN.hasOwnProperty(u))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),o=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let p=A&&A.skip?r:this.readStyles(e,r);p&&this.addAll(e,p),o&&this.sync(l),this.needsBlock=f}else{let o=this.readStyles(e,r);o&&this.addElementByRule(e,A,o,A.consuming===!1?d:void 0)}this.localPreserveWS=a}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let l=this.parser.matchedStyles[a],u=n.getPropertyValue(l);if(u)for(let d=void 0;;){let A=this.parser.matchStyle(l,u,this,d);if(!A)break;if(A.ignore)return null;if(A.clearMark?r=r.filter(o=>!A.clearMark(o)):r=r.concat(this.parser.schema.marks[A.mark].create(A.attrs)),A.consuming===!1)d=A;else break}}return r}addElementByRule(e,r,n,a){let l,u;if(r.node)if(u=this.parser.schema.nodes[r.node],u.isLeaf)this.insertNode(u.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let A=this.enter(u,r.attrs||null,n,r.preserveWhitespace);A&&(l=!0,n=A)}else{let A=this.parser.schema.marks[r.mark];n=n.concat(A.create(r.attrs))}let d=this.top;if(u&&u.isLeaf)this.findInside(e);else if(a)this.addElement(e,n,a);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(A=>this.insertNode(A,n,!1));else{let A=e;typeof r.contentElement=="string"?A=e.querySelector(r.contentElement):typeof r.contentElement=="function"?A=r.contentElement(e):r.contentElement&&(A=r.contentElement),this.findAround(e,A,!0),this.addAll(A,n),this.findAround(e,A,!1)}l&&this.sync(d)&&this.open--}addAll(e,r,n,a){let l=n||0;for(let u=n?e.childNodes[n]:e.firstChild,d=a==null?null:e.childNodes[a];u!=d;u=u.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(u,r);this.findAtPoint(e,l)}findPlace(e,r,n){let a,l;for(let u=this.open,d=0;u>=0;u--){let A=this.nodes[u],o=A.findWrapping(e);if(o&&(!a||a.length>o.length+d)&&(a=o,l=A,!o.length))break;if(A.solid){if(n)break;d+=2}}if(!a)return null;this.sync(l);for(let u=0;u<a.length;u++)r=this.enterInner(a[u],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(r=this.enterInner(l,null,r))}let a=this.findPlace(e,r,n);if(a){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let u=zi.none;for(let d of a.concat(e.marks))(l.type?l.type.allowsMarkType(d.type):h2(d.type,e.type))&&(u=d.addToSet(u));return l.content.push(e.mark(u)),!0}return!1}enter(e,r,n,a){let l=this.findPlace(e.create(r),n,!1);return l&&(l=this.enterInner(e,r,n,!0,a)),l}enterInner(e,r,n,a=!1,l){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let d=d2(e,l,u.options);u.options&s0&&u.content.length==0&&(d|=s0);let A=zi.none;return n=n.filter(o=>(u.type?u.type.allowsMarkType(o.type):h2(o.type,e))?(A=o.addToSet(A),!1):!0),this.nodes.push(new lm(e,r,A,a,null,d)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=g0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let a=n.length-1;a>=0;a--)e+=n[a].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&r.compareDocumentPosition(this.find[a].node)&(n?2:4)&&(this.find[a].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,a=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),l=-(n?n.depth+1:0)+(a?0:1),u=(d,A)=>{for(;d>=0;d--){let o=r[d];if(o==""){if(d==r.length-1||d==0)continue;for(;A>=l;A--)if(u(d-1,A))return!0;return!1}else{let f=A>0||A==0&&a?this.nodes[A].type:n&&A>=l?n.node(A-l).type:null;if(!f||f.name!=o&&!f.isInGroup(o))return!1;A--}}return!0};return u(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function r7(s){for(let e=s.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&hN.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function n7(s,e){return(s.matches||s.msMatchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector).call(s,e)}function A2(s){let e={};for(let r in s)e[r]=s[r];return e}function h2(s,e){let r=e.schema.nodes;for(let n in r){let a=r[n];if(!a.allowsMarkType(s))continue;let l=[],u=d=>{l.push(d);for(let A=0;A<d.edgeCount;A++){let{type:o,next:f}=d.edge(A);if(o==e||l.indexOf(f)<0&&u(f))return!0}};if(u(a.contentMatch))return!0}}class Bf{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=bb(r).createDocumentFragment());let a=n,l=[];return e.forEach(u=>{if(l.length||u.marks.length){let d=0,A=0;for(;d<l.length&&A<u.marks.length;){let o=u.marks[A];if(!this.marks[o.type.name]){A++;continue}if(!o.eq(l[d][0])||o.type.spec.spanning===!1)break;d++,A++}for(;d<l.length;)a=l.pop()[1];for(;A<u.marks.length;){let o=u.marks[A++],f=this.serializeMark(o,u.isInline,r);f&&(l.push([o,a]),a.appendChild(f.dom),a=f.contentDOM||f.dom)}}a.appendChild(this.serializeNodeInner(u,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:a}=Sm(bb(r),this.nodes[e.type.name](e),null,e.attrs);if(a){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,a)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let a=e.marks.length-1;a>=0;a--){let l=this.serializeMark(e.marks[a],e.isInline,r);l&&((l.contentDOM||l.dom).appendChild(n),n=l.dom)}return n}serializeMark(e,r,n={}){let a=this.marks[e.type.name];return a&&Sm(bb(n),a(e,r),null,e.attrs)}static renderSpec(e,r,n=null,a){return Sm(e,r,n,a)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Bf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=f2(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return f2(e.marks)}}function f2(s){let e={};for(let r in s){let n=s[r].spec.toDOM;n&&(e[r]=n)}return e}function bb(s){return s.document||window.document}const p2=new WeakMap;function a7(s){let e=p2.get(s);return e===void 0&&p2.set(s,e=i7(s)),e}function i7(s){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let a=0;a<n.length;a++)r(n[a]);else for(let a in n)r(n[a])}return r(s),e}function Sm(s,e,r,n){if(typeof e=="string")return{dom:s.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let a=e[0],l;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(l=a7(n))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=a.indexOf(" ");u>0&&(r=a.slice(0,u),a=a.slice(u+1));let d,A=r?s.createElementNS(r,a):s.createElement(a),o=e[1],f=1;if(o&&typeof o=="object"&&o.nodeType==null&&!Array.isArray(o)){f=2;for(let p in o)if(o[p]!=null){let m=p.indexOf(" ");m>0?A.setAttributeNS(p.slice(0,m),p.slice(m+1),o[p]):p=="style"&&A.style?A.style.cssText=o[p]:A.setAttribute(p,o[p])}}for(let p=f;p<e.length;p++){let m=e[p];if(m===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:A,contentDOM:A}}else{let{dom:x,contentDOM:b}=Sm(s,m,r,n);if(A.appendChild(x),b){if(d)throw new RangeError("Multiple content holes");d=b}}}return{dom:A,contentDOM:d}}const fN=65535,pN=Math.pow(2,16);function o7(s,e){return s+e*pN}function m2(s){return s&fN}function l7(s){return(s-(s&fN))/pN}const mN=1,gN=2,Em=4,xN=8;class vv{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&xN)>0}get deletedBefore(){return(this.delInfo&(mN|Em))>0}get deletedAfter(){return(this.delInfo&(gN|Em))>0}get deletedAcross(){return(this.delInfo&Em)>0}}class Kd{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Kd.empty)return Kd.empty}recover(e){let r=0,n=m2(e);if(!this.inverted)for(let a=0;a<n;a++)r+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[n*3]+r+l7(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let a=0,l=this.inverted?2:1,u=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let A=this.ranges[d]-(this.inverted?a:0);if(A>e)break;let o=this.ranges[d+l],f=this.ranges[d+u],p=A+o;if(e<=p){let m=o?e==A?-1:e==p?1:r:r,x=A+a+(m<0?0:f);if(n)return x;let b=e==(r<0?A:p)?null:o7(d/3,e-A),w=e==A?gN:e==p?mN:Em;return(r<0?e!=A:e!=p)&&(w|=xN),new vv(x,w,b)}a+=f-o}return n?e+a:new vv(e+a,0,null)}touches(e,r){let n=0,a=m2(r),l=this.inverted?2:1,u=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let A=this.ranges[d]-(this.inverted?n:0);if(A>e)break;let o=this.ranges[d+l],f=A+o;if(e<=f&&d==a*3)return!0;n+=this.ranges[d+u]-o}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let a=0,l=0;a<this.ranges.length;a+=3){let u=this.ranges[a],d=u-(this.inverted?l:0),A=u+(this.inverted?0:l),o=this.ranges[a+r],f=this.ranges[a+n];e(d,d+o,A,A+f),l+=f-o}}invert(){return new Kd(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Kd.empty:new Kd(e<0?[0,-e,0]:[0,0,e])}}Kd.empty=new Kd([]);class x0{constructor(e,r,n=0,a=e?e.length:0){this.mirror=r,this.from=n,this.to=a,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new x0(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let a=e.getMirror(r);this.appendMap(e._maps[r],a!=null&&a<r?n+a:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let a=e.getMirror(r);this.appendMap(e._maps[r].invert(),a!=null&&a>r?n-a-1:void 0)}}invert(){let e=new x0;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let a=0;for(let l=this.from;l<this.to;l++){let u=this._maps[l],d=u.mapResult(e,r);if(d.recover!=null){let A=this.getMirror(l);if(A!=null&&A>l&&A<this.to){l=A,e=this._maps[A].recover(d.recover);continue}}a|=d.delInfo,e=d.pos}return n?e:new vv(e,a,null)}}const vb=Object.create(null);class Wc{getMap(){return Kd.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=vb[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in vb)throw new RangeError("Duplicate use of step JSON ID "+e);return vb[e]=r,r.prototype.jsonID=e,r}}class Bl{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Bl(e,null)}static fail(e){return new Bl(null,e)}static fromReplace(e,r,n,a){try{return Bl.ok(e.replace(r,n,a))}catch(l){if(l instanceof sg)return Bl.fail(l.message);throw l}}}function Ay(s,e,r){let n=[];for(let a=0;a<s.childCount;a++){let l=s.child(a);l.content.size&&(l=l.copy(Ay(l.content,e,l))),l.isInline&&(l=e(l,r,a)),n.push(l)}return Ws.fromArray(n)}class kh extends Wc{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),a=n.node(n.sharedDepth(this.to)),l=new Mr(Ay(r.content,(u,d)=>!u.isAtom||!d.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),a),r.openStart,r.openEnd);return Bl.fromReplace(e,this.from,this.to,l)}invert(){return new Fu(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new kh(r.pos,n.pos,this.mark)}merge(e){return e instanceof kh&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new kh(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new kh(r.from,r.to,e.markFromJSON(r.mark))}}Wc.jsonID("addMark",kh);class Fu extends Wc{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new Mr(Ay(r.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),r.openStart,r.openEnd);return Bl.fromReplace(e,this.from,this.to,n)}invert(){return new kh(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Fu(r.pos,n.pos,this.mark)}merge(e){return e instanceof Fu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fu(r.from,r.to,e.markFromJSON(r.mark))}}Wc.jsonID("removeMark",Fu);class Ch extends Wc{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Bl.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Bl.fromReplace(e,this.pos,this.pos+1,new Mr(Ws.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let a=0;a<r.marks.length;a++)if(!r.marks[a].isInSet(n))return new Ch(this.pos,r.marks[a]);return new Ch(this.pos,this.mark)}}return new wf(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ch(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ch(r.pos,e.markFromJSON(r.mark))}}Wc.jsonID("addNodeMark",Ch);class wf extends Wc{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Bl.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Bl.fromReplace(e,this.pos,this.pos+1,new Mr(Ws.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Ch(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new wf(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new wf(r.pos,e.markFromJSON(r.mark))}}Wc.jsonID("removeNodeMark",wf);class cc extends Wc{constructor(e,r,n,a=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=a}apply(e){return this.structure&&yv(e,this.from,this.to)?Bl.fail("Structure replace would overwrite content"):Bl.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Kd([this.from,this.to-this.from,this.slice.size])}invert(e){return new cc(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new cc(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof cc)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?Mr.empty:new Mr(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new cc(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?Mr.empty:new Mr(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new cc(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new cc(r.from,r.to,Mr.fromJSON(e,r.slice),!!r.structure)}}Wc.jsonID("replace",cc);class uc extends Wc{constructor(e,r,n,a,l,u,d=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=a,this.slice=l,this.insert=u,this.structure=d}apply(e){if(this.structure&&(yv(e,this.from,this.gapFrom)||yv(e,this.gapTo,this.to)))return Bl.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Bl.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Bl.fromReplace(e,this.from,this.to,n):Bl.fail("Content does not fit in gap")}getMap(){return new Kd([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new uc(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),a=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||a<r.pos||l>n.pos?null:new uc(r.pos,n.pos,a,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new uc(r.from,r.to,r.gapFrom,r.gapTo,Mr.fromJSON(e,r.slice),r.insert,!!r.structure)}}Wc.jsonID("replaceAround",uc);function yv(s,e,r){let n=s.resolve(e),a=r-e,l=n.depth;for(;a>0&&l>0&&n.indexAfter(l)==n.node(l).childCount;)l--,a--;if(a>0){let u=n.node(l).maybeChild(n.indexAfter(l));for(;a>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,a--}}return!1}function c7(s,e,r,n){let a=[],l=[],u,d;s.doc.nodesBetween(e,r,(A,o,f)=>{if(!A.isInline)return;let p=A.marks;if(!n.isInSet(p)&&f.type.allowsMarkType(n.type)){let m=Math.max(o,e),x=Math.min(o+A.nodeSize,r),b=n.addToSet(p);for(let w=0;w<p.length;w++)p[w].isInSet(b)||(u&&u.to==m&&u.mark.eq(p[w])?u.to=x:a.push(u=new Fu(m,x,p[w])));d&&d.to==m?d.to=x:l.push(d=new kh(m,x,n))}}),a.forEach(A=>s.step(A)),l.forEach(A=>s.step(A))}function d7(s,e,r,n){let a=[],l=0;s.doc.nodesBetween(e,r,(u,d)=>{if(!u.isInline)return;l++;let A=null;if(n instanceof cx){let o=u.marks,f;for(;f=n.isInSet(o);)(A||(A=[])).push(f),o=f.removeFromSet(o)}else n?n.isInSet(u.marks)&&(A=[n]):A=u.marks;if(A&&A.length){let o=Math.min(d+u.nodeSize,r);for(let f=0;f<A.length;f++){let p=A[f],m;for(let x=0;x<a.length;x++){let b=a[x];b.step==l-1&&p.eq(a[x].style)&&(m=b)}m?(m.to=o,m.step=l):a.push({style:p,from:Math.max(d,e),to:o,step:l})}}}),a.forEach(u=>s.step(new Fu(u.from,u.to,u.style)))}function hy(s,e,r,n=r.contentMatch,a=!0){let l=s.doc.nodeAt(e),u=[],d=e+1;for(let A=0;A<l.childCount;A++){let o=l.child(A),f=d+o.nodeSize,p=n.matchType(o.type);if(!p)u.push(new cc(d,f,Mr.empty));else{n=p;for(let m=0;m<o.marks.length;m++)r.allowsMarkType(o.marks[m].type)||s.step(new Fu(d,f,o.marks[m]));if(a&&o.isText&&r.whitespace!="pre"){let m,x=/\r?\n|\r/g,b;for(;m=x.exec(o.text);)b||(b=new Mr(Ws.from(r.schema.text(" ",r.allowedMarks(o.marks))),0,0)),u.push(new cc(d+m.index,d+m.index+m[0].length,b))}}d=f}if(!n.validEnd){let A=n.fillBefore(Ws.empty,!0);s.replace(d,d,new Mr(A,0,0))}for(let A=u.length-1;A>=0;A--)s.step(u[A])}function u7(s,e,r){return(e==0||s.canReplace(e,s.childCount))&&(r==s.childCount||s.canReplace(0,r))}function wp(s){let r=s.parent.content.cutByIndex(s.startIndex,s.endIndex);for(let n=s.depth,a=0,l=0;;--n){let u=s.$from.node(n),d=s.$from.index(n)+a,A=s.$to.indexAfter(n)-l;if(n<s.depth&&u.canReplace(d,A,r))return n;if(n==0||u.type.spec.isolating||!u7(u,d,A))break;d&&(a=1),A<u.childCount&&(l=1)}return null}function A7(s,e,r){let{$from:n,$to:a,depth:l}=e,u=n.before(l+1),d=a.after(l+1),A=u,o=d,f=Ws.empty,p=0;for(let b=l,w=!1;b>r;b--)w||n.index(b)>0?(w=!0,f=Ws.from(n.node(b).copy(f)),p++):A--;let m=Ws.empty,x=0;for(let b=l,w=!1;b>r;b--)w||a.after(b+1)<a.end(b)?(w=!0,m=Ws.from(a.node(b).copy(m)),x++):o++;s.step(new uc(A,o,u,d,new Mr(f.append(m),p,x),f.size-p,!0))}function fy(s,e,r=null,n=s){let a=h7(s,e),l=a&&f7(n,e);return l?a.map(g2).concat({type:e,attrs:r}).concat(l.map(g2)):null}function g2(s){return{type:s,attrs:null}}function h7(s,e){let{parent:r,startIndex:n,endIndex:a}=s,l=r.contentMatchAt(n).findWrapping(e);if(!l)return null;let u=l.length?l[0]:e;return r.canReplaceWith(n,a,u)?l:null}function f7(s,e){let{parent:r,startIndex:n,endIndex:a}=s,l=r.child(n),u=e.contentMatch.findWrapping(l.type);if(!u)return null;let A=(u.length?u[u.length-1]:e).contentMatch;for(let o=n;A&&o<a;o++)A=A.matchType(r.child(o).type);return!A||!A.validEnd?null:u}function p7(s,e,r){let n=Ws.empty;for(let u=r.length-1;u>=0;u--){if(n.size){let d=r[u].type.contentMatch.matchFragment(n);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Ws.from(r[u].type.create(r[u].attrs,n))}let a=e.start,l=e.end;s.step(new uc(a,l,a,l,new Mr(n,0,0),r.length,!0))}function m7(s,e,r,n,a){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=s.steps.length;s.doc.nodesBetween(e,r,(u,d)=>{let A=typeof a=="function"?a(u):a;if(u.isTextblock&&!u.hasMarkup(n,A)&&g7(s.doc,s.mapping.slice(l).map(d),n)){let o=null;if(n.schema.linebreakReplacement){let x=n.whitespace=="pre",b=!!n.contentMatch.matchType(n.schema.linebreakReplacement);x&&!b?o=!1:!x&&b&&(o=!0)}o===!1&&vN(s,u,d,l),hy(s,s.mapping.slice(l).map(d,1),n,void 0,o===null);let f=s.mapping.slice(l),p=f.map(d,1),m=f.map(d+u.nodeSize,1);return s.step(new uc(p,m,p+1,m-1,new Mr(Ws.from(n.create(A,null,u.marks)),0,0),1,!0)),o===!0&&bN(s,u,d,l),!1}})}function bN(s,e,r,n){e.forEach((a,l)=>{if(a.isText){let u,d=/\r?\n|\r/g;for(;u=d.exec(a.text);){let A=s.mapping.slice(n).map(r+1+l+u.index);s.replaceWith(A,A+1,e.type.schema.linebreakReplacement.create())}}})}function vN(s,e,r,n){e.forEach((a,l)=>{if(a.type==a.type.schema.linebreakReplacement){let u=s.mapping.slice(n).map(r+1+l);s.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function g7(s,e,r){let n=s.resolve(e),a=n.index();return n.parent.canReplaceWith(a,a+1,r)}function x7(s,e,r,n,a){let l=s.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");r||(r=l.type);let u=r.create(n,null,a||l.marks);if(l.isLeaf)return s.replaceWith(e,e+l.nodeSize,u);if(!r.validContent(l.content))throw new RangeError("Invalid content for node type "+r.name);s.step(new uc(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new Mr(Ws.from(u),0,0),1,!0))}function DA(s,e,r=1,n){let a=s.resolve(e),l=a.depth-r,u=n&&n[n.length-1]||a.parent;if(l<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!u.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let o=a.depth-1,f=r-2;o>l;o--,f--){let p=a.node(o),m=a.index(o);if(p.type.spec.isolating)return!1;let x=p.content.cutByIndex(m,p.childCount),b=n&&n[f+1];b&&(x=x.replaceChild(0,b.type.create(b.attrs)));let w=n&&n[f]||p;if(!p.canReplace(m+1,p.childCount)||!w.type.validContent(x))return!1}let d=a.indexAfter(l),A=n&&n[0];return a.node(l).canReplaceWith(d,d,A?A.type:a.node(l+1).type)}function b7(s,e,r=1,n){let a=s.doc.resolve(e),l=Ws.empty,u=Ws.empty;for(let d=a.depth,A=a.depth-r,o=r-1;d>A;d--,o--){l=Ws.from(a.node(d).copy(l));let f=n&&n[o];u=Ws.from(f?f.type.create(f.attrs,u):a.node(d).copy(u))}s.step(new cc(e,e,new Mr(l.append(u),r,r),!0))}function Qh(s,e){let r=s.resolve(e),n=r.index();return yN(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function v7(s,e){e.content.size||s.type.compatibleContent(e.type);let r=s.contentMatchAt(s.childCount),{linebreakReplacement:n}=s.type.schema;for(let a=0;a<e.childCount;a++){let l=e.child(a),u=l.type==n?s.type.schema.nodes.text:l.type;if(r=r.matchType(u),!r||!s.type.allowsMarks(l.marks))return!1}return r.validEnd}function yN(s,e){return!!(s&&e&&!s.isLeaf&&v7(s,e))}function dx(s,e,r=-1){let n=s.resolve(e);for(let a=n.depth;;a--){let l,u,d=n.index(a);if(a==n.depth?(l=n.nodeBefore,u=n.nodeAfter):r>0?(l=n.node(a+1),d++,u=n.node(a).maybeChild(d)):(l=n.node(a).maybeChild(d-1),u=n.node(a+1)),l&&!l.isTextblock&&yN(l,u)&&n.node(a).canReplace(d,d+1))return e;if(a==0)break;e=r<0?n.before(a):n.after(a)}}function y7(s,e,r){let n=null,{linebreakReplacement:a}=s.doc.type.schema,l=s.doc.resolve(e-r),u=l.node().type;if(a&&u.inlineContent){let f=u.whitespace=="pre",p=!!u.contentMatch.matchType(a);f&&!p?n=!1:!f&&p&&(n=!0)}let d=s.steps.length;if(n===!1){let f=s.doc.resolve(e+r);vN(s,f.node(),f.before(),d)}u.inlineContent&&hy(s,e+r-1,u,l.node().contentMatchAt(l.index()),n==null);let A=s.mapping.slice(d),o=A.map(e-r);if(s.step(new cc(o,A.map(e+r,-1),Mr.empty,!0)),n===!0){let f=s.doc.resolve(o);bN(s,f.node(),f.before(),s.steps.length)}return s}function w7(s,e,r){let n=s.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let a=n.depth-1;a>=0;a--){let l=n.index(a);if(n.node(a).canReplaceWith(l,l,r))return n.before(a+1);if(l>0)return null}if(n.parentOffset==n.parent.content.size)for(let a=n.depth-1;a>=0;a--){let l=n.indexAfter(a);if(n.node(a).canReplaceWith(l,l,r))return n.after(a+1);if(l<n.node(a).childCount)return null}return null}function wN(s,e,r){let n=s.resolve(e);if(!r.content.size)return e;let a=r.content;for(let l=0;l<r.openStart;l++)a=a.firstChild.content;for(let l=1;l<=(r.openStart==0&&r.size?2:1);l++)for(let u=n.depth;u>=0;u--){let d=u==n.depth?0:n.pos<=(n.start(u+1)+n.end(u+1))/2?-1:1,A=n.index(u)+(d>0?1:0),o=n.node(u),f=!1;if(l==1)f=o.canReplace(A,A,a);else{let p=o.contentMatchAt(A).findWrapping(a.firstChild.type);f=p&&o.canReplaceWith(A,A,p[0])}if(f)return d==0?n.pos:d<0?n.before(u+1):n.after(u+1)}return null}function ux(s,e,r=e,n=Mr.empty){if(e==r&&!n.size)return null;let a=s.resolve(e),l=s.resolve(r);return jN(a,l,n)?new cc(e,r,n):new j7(a,l,n).fit()}function jN(s,e,r){return!r.openStart&&!r.openEnd&&s.start()==e.start()&&s.parent.canReplace(s.index(),e.index(),r.content)}class j7{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Ws.empty;for(let a=0;a<=e.depth;a++){let l=e.node(a);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=Ws.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let o=this.findFittable();o?this.placeNodes(o):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(e<0?this.$to:n.doc.resolve(e));if(!a)return null;let l=this.placed,u=n.depth,d=a.depth;for(;u&&d&&l.childCount==1;)l=l.firstChild.content,u--,d--;let A=new Mr(l,u,d);return e>-1?new uc(n.pos,e,this.$to.pos,this.$to.end(),A,r):A.size||n.pos!=this.$to.pos?new cc(n.pos,a.pos,A):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,a=this.unplaced.openEnd;n<e;n++){let l=r.firstChild;if(r.childCount>1&&(a=0),l.type.spec.isolating&&a<=n){e=n;break}r=l.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let a,l=null;n?(l=yb(this.unplaced.content,n-1).firstChild,a=l.content):a=this.unplaced.content;let u=a.firstChild;for(let d=this.depth;d>=0;d--){let{type:A,match:o}=this.frontier[d],f,p=null;if(r==1&&(u?o.matchType(u.type)||(p=o.fillBefore(Ws.from(u),!1)):l&&A.compatibleContent(l.type)))return{sliceDepth:n,frontierDepth:d,parent:l,inject:p};if(r==2&&u&&(f=o.findWrapping(u.type)))return{sliceDepth:n,frontierDepth:d,parent:l,wrap:f};if(l&&o.matchType(l.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=yb(e,r);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new Mr(e,r+1,Math.max(n,a.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=yb(e,r);if(a.childCount<=1&&r>0){let l=e.size-r<=r+a.size;this.unplaced=new Mr(Kp(e,r-1,1),r-1,l?r-1:n)}else this.unplaced=new Mr(Kp(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:a,wrap:l}){for(;this.depth>r;)this.closeFrontierNode();if(l)for(let w=0;w<l.length;w++)this.openFrontierNode(l[w]);let u=this.unplaced,d=n?n.content:u.content,A=u.openStart-e,o=0,f=[],{match:p,type:m}=this.frontier[r];if(a){for(let w=0;w<a.childCount;w++)f.push(a.child(w));p=p.matchFragment(a)}let x=d.size+e-(u.content.size-u.openEnd);for(;o<d.childCount;){let w=d.child(o),y=p.matchType(w.type);if(!y)break;o++,(o>1||A==0||w.content.size)&&(p=y,f.push(NN(w.mark(m.allowedMarks(w.marks)),o==1?A:0,o==d.childCount?x:-1)))}let b=o==d.childCount;b||(x=-1),this.placed=Gp(this.placed,r,Ws.from(f)),this.frontier[r].match=p,b&&x<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,y=d;w<x;w++){let E=y.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),y=E.content}this.unplaced=b?e==0?Mr.empty:new Mr(Kp(u.content,e-1,1),e-1,x<0?u.openEnd:e-1):new Mr(Kp(u.content,e,o),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!wb(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,a=this.$to.after(n);for(;n>1&&a==this.$to.end(--n);)++a;return a}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:a}=this.frontier[r],l=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),u=wb(e,r,a,n,l);if(u){for(let d=r-1;d>=0;d--){let{match:A,type:o}=this.frontier[d],f=wb(e,d,o,A,!0);if(!f||f.childCount)continue e}return{depth:r,fit:u,move:l?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Gp(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let a=e.node(n),l=a.type.contentMatch.fillBefore(a.content,!0,e.index(n));this.openFrontierNode(a.type,a.attrs,l)}return e}openFrontierNode(e,r=null,n){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=Gp(this.placed,this.depth,Ws.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Ws.empty,!0);r.childCount&&(this.placed=Gp(this.placed,this.frontier.length,r))}}function Kp(s,e,r){return e==0?s.cutByIndex(r,s.childCount):s.replaceChild(0,s.firstChild.copy(Kp(s.firstChild.content,e-1,r)))}function Gp(s,e,r){return e==0?s.append(r):s.replaceChild(s.childCount-1,s.lastChild.copy(Gp(s.lastChild.content,e-1,r)))}function yb(s,e){for(let r=0;r<e;r++)s=s.firstChild.content;return s}function NN(s,e,r){if(e<=0)return s;let n=s.content;return e>1&&(n=n.replaceChild(0,NN(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=s.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(s.type.contentMatch.matchFragment(n).fillBefore(Ws.empty,!0)))),s.copy(n)}function wb(s,e,r,n,a){let l=s.node(e),u=a?s.indexAfter(e):s.index(e);if(u==l.childCount&&!r.compatibleContent(l.type))return null;let d=n.fillBefore(l.content,!0,u);return d&&!N7(r,l.content,u)?d:null}function N7(s,e,r){for(let n=r;n<e.childCount;n++)if(!s.allowsMarks(e.child(n).marks))return!0;return!1}function k7(s){return s.spec.defining||s.spec.definingForContent}function C7(s,e,r,n){if(!n.size)return s.deleteRange(e,r);let a=s.doc.resolve(e),l=s.doc.resolve(r);if(jN(a,l,n))return s.step(new cc(e,r,n));let u=CN(a,l);u[u.length-1]==0&&u.pop();let d=-(a.depth+1);u.unshift(d);for(let m=a.depth,x=a.pos-1;m>0;m--,x--){let b=a.node(m).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;u.indexOf(m)>-1?d=m:a.before(m)==x&&u.splice(1,0,-m)}let A=u.indexOf(d),o=[],f=n.openStart;for(let m=n.content,x=0;;x++){let b=m.firstChild;if(o.push(b),x==n.openStart)break;m=b.content}for(let m=f-1;m>=0;m--){let x=o[m],b=k7(x.type);if(b&&!x.sameMarkup(a.node(Math.abs(d)-1)))f=m;else if(b||!x.type.isTextblock)break}for(let m=n.openStart;m>=0;m--){let x=(m+f+1)%(n.openStart+1),b=o[x];if(b)for(let w=0;w<u.length;w++){let y=u[(w+A)%u.length],E=!0;y<0&&(E=!1,y=-y);let P=a.node(y-1),z=a.index(y-1);if(P.canReplaceWith(z,z,b.type,b.marks))return s.replace(a.before(y),E?l.after(y):r,new Mr(kN(n.content,0,n.openStart,x),x,n.openEnd))}}let p=s.steps.length;for(let m=u.length-1;m>=0&&(s.replace(e,r,n),!(s.steps.length>p));m--){let x=u[m];x<0||(e=a.before(x),r=l.after(x))}}function kN(s,e,r,n,a){if(e<r){let l=s.firstChild;s=s.replaceChild(0,l.copy(kN(l.content,e+1,r,n,l)))}if(e>n){let l=a.contentMatchAt(0),u=l.fillBefore(s).append(s);s=u.append(l.matchFragment(u).fillBefore(Ws.empty,!0))}return s}function B7(s,e,r,n){if(!n.isInline&&e==r&&s.doc.resolve(e).parent.content.size){let a=w7(s.doc,e,n.type);a!=null&&(e=r=a)}s.replaceRange(e,r,new Mr(Ws.from(n),0,0))}function S7(s,e,r){let n=s.doc.resolve(e),a=s.doc.resolve(r),l=CN(n,a);for(let u=0;u<l.length;u++){let d=l[u],A=u==l.length-1;if(A&&d==0||n.node(d).type.contentMatch.validEnd)return s.delete(n.start(d),a.end(d));if(d>0&&(A||n.node(d-1).canReplace(n.index(d-1),a.indexAfter(d-1))))return s.delete(n.before(d),a.after(d))}for(let u=1;u<=n.depth&&u<=a.depth;u++)if(e-n.start(u)==n.depth-u&&r>n.end(u)&&a.end(u)-r!=a.depth-u&&n.start(u-1)==a.start(u-1)&&n.node(u-1).canReplace(n.index(u-1),a.index(u-1)))return s.delete(n.before(u),r);s.delete(e,r)}function CN(s,e){let r=[],n=Math.min(s.depth,e.depth);for(let a=n;a>=0;a--){let l=s.start(a);if(l<s.pos-(s.depth-a)||e.end(a)>e.pos+(e.depth-a)||s.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(l==e.start(a)||a==s.depth&&a==e.depth&&s.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==l-1)&&r.push(a)}return r}class sp extends Wc{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Bl.fail("No node at attribute step's position");let n=Object.create(null);for(let l in r.attrs)n[l]=r.attrs[l];n[this.attr]=this.value;let a=r.type.create(n,null,r.marks);return Bl.fromReplace(e,this.pos,this.pos+1,new Mr(Ws.from(a),0,r.isLeaf?0:1))}getMap(){return Kd.empty}invert(e){return new sp(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new sp(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new sp(r.pos,r.attr,r.value)}}Wc.jsonID("attr",sp);class b0 extends Wc{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let a in e.attrs)r[a]=e.attrs[a];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Bl.ok(n)}getMap(){return Kd.empty}invert(e){return new b0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new b0(r.attr,r.value)}}Wc.jsonID("docAttr",b0);let dp=class extends Error{};dp=function s(e){let r=Error.call(this,e);return r.__proto__=s.prototype,r};dp.prototype=Object.create(Error.prototype);dp.prototype.constructor=dp;dp.prototype.name="TransformError";class BN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new x0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new dp(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=Mr.empty){let a=ux(this.doc,e,r,n);return a&&this.step(a),this}replaceWith(e,r,n){return this.replace(e,r,new Mr(Ws.from(n),0,0))}delete(e,r){return this.replace(e,r,Mr.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return C7(this,e,r,n),this}replaceRangeWith(e,r,n){return B7(this,e,r,n),this}deleteRange(e,r){return S7(this,e,r),this}lift(e,r){return A7(this,e,r),this}join(e,r=1){return y7(this,e,r),this}wrap(e,r){return p7(this,e,r),this}setBlockType(e,r=e,n,a=null){return m7(this,e,r,n,a),this}setNodeMarkup(e,r,n=null,a){return x7(this,e,r,n,a),this}setNodeAttribute(e,r,n){return this.step(new sp(e,r,n)),this}setDocAttribute(e,r){return this.step(new b0(e,r)),this}addNodeMark(e,r){return this.step(new Ch(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof zi)r.isInSet(n.marks)&&this.step(new wf(e,r));else{let a=n.marks,l,u=[];for(;l=r.isInSet(a);)u.push(new wf(e,l)),a=l.removeFromSet(a);for(let d=u.length-1;d>=0;d--)this.step(u[d])}return this}split(e,r=1,n){return b7(this,e,r,n),this}addMark(e,r,n){return c7(this,e,r,n),this}removeMark(e,r,n){return d7(this,e,r,n),this}clearIncompatible(e,r,n){return hy(this,e,r,n),this}}const jb=Object.create(null);class ha{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new E7(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=Mr.empty){let n=r.content.lastChild,a=null;for(let d=0;d<r.openEnd;d++)a=n,n=n.lastChild;let l=e.steps.length,u=this.ranges;for(let d=0;d<u.length;d++){let{$from:A,$to:o}=u[d],f=e.mapping.slice(l);e.replaceRange(f.map(A.pos),f.map(o.pos),d?Mr.empty:r),d==0&&v2(e,l,(n?n.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:d}=a[l],A=e.mapping.slice(n),o=A.map(u.pos),f=A.map(d.pos);l?e.deleteRange(o,f):(e.replaceRangeWith(o,f,r),v2(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let a=e.parent.inlineContent?new $n(e):Jf(e.node(0),e.parent,e.pos,e.index(),r,n);if(a)return a;for(let l=e.depth-1;l>=0;l--){let u=r<0?Jf(e.node(0),e.node(l),e.before(l+1),e.index(l),r,n):Jf(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,r,n);if(u)return u}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Yd(e.node(0))}static atStart(e){return Jf(e,e,0,0,1)||new Yd(e)}static atEnd(e){return Jf(e,e,e.content.size,e.childCount,-1)||new Yd(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=jb[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in jb)throw new RangeError("Duplicate use of selection JSON ID "+e);return jb[e]=r,r.prototype.jsonID=e,r}getBookmark(){return $n.between(this.$anchor,this.$head).getBookmark()}}ha.prototype.visible=!0;class E7{constructor(e,r){this.$from=e,this.$to=r}}let x2=!1;function b2(s){!x2&&!s.parent.inlineContent&&(x2=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+s.parent.type.name+")"))}class $n extends ha{constructor(e,r=e){b2(e),b2(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return ha.near(n);let a=e.resolve(r.map(this.anchor));return new $n(a.parent.inlineContent?a:n,n)}replace(e,r=Mr.empty){if(super.replace(e,r),r==Mr.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof $n&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ax(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new $n(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let a=e.resolve(r);return new this(a,n==r?a:e.resolve(n))}static between(e,r,n){let a=e.pos-r.pos;if((!n||a)&&(n=a>=0?1:-1),!r.parent.inlineContent){let l=ha.findFrom(r,n,!0)||ha.findFrom(r,-n,!0);if(l)r=l.$head;else return ha.near(r,n)}return e.parent.inlineContent||(a==0?e=r:(e=(ha.findFrom(e,-n,!0)||ha.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=a<0&&(e=r))),new $n(e,r)}}ha.jsonID("text",$n);class Ax{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Ax(e.map(this.anchor),e.map(this.head))}resolve(e){return $n.between(e.resolve(this.anchor),e.resolve(this.head))}}class yn extends ha{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:a}=r.mapResult(this.anchor),l=e.resolve(a);return n?ha.near(l):new yn(l)}content(){return new Mr(Ws.from(this.node),0,0)}eq(e){return e instanceof yn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new py(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new yn(e.resolve(r.anchor))}static create(e,r){return new yn(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}yn.prototype.visible=!1;ha.jsonID("node",yn);class py{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Ax(n,n):new py(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&yn.isSelectable(n)?new yn(r):ha.near(r)}}class Yd extends ha{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=Mr.empty){if(r==Mr.empty){e.delete(0,e.doc.content.size);let n=ha.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Yd(e)}map(e){return new Yd(e)}eq(e){return e instanceof Yd}getBookmark(){return T7}}ha.jsonID("all",Yd);const T7={map(){return this},resolve(s){return new Yd(s)}};function Jf(s,e,r,n,a,l=!1){if(e.inlineContent)return $n.create(s,r);for(let u=n-(a>0?0:1);a>0?u<e.childCount:u>=0;u+=a){let d=e.child(u);if(d.isAtom){if(!l&&yn.isSelectable(d))return yn.create(s,r-(a<0?d.nodeSize:0))}else{let A=Jf(s,d,r+a,a<0?d.childCount:0,a,l);if(A)return A}r+=d.nodeSize*a}return null}function v2(s,e,r){let n=s.steps.length-1;if(n<e)return;let a=s.steps[n];if(!(a instanceof cc||a instanceof uc))return;let l=s.mapping.maps[n],u;l.forEach((d,A,o,f)=>{u==null&&(u=f)}),s.setSelection(ha.near(s.doc.resolve(u),r))}const y2=1,cm=2,w2=4;class L7 extends BN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|y2)&~cm,this.storedMarks=null,this}get selectionSet(){return(this.updated&y2)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=cm,this}ensureMarks(e){return zi.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&cm)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~cm,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||zi.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let a=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(a.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let l=this.storedMarks;if(!l){let u=this.doc.resolve(r);l=n==r?u.marks():u.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,a.text(e,l)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(ha.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=w2,this}get scrolledIntoView(){return(this.updated&w2)>0}}function j2(s,e){return!e||!s?s:s.bind(e)}class Wp{constructor(e,r,n){this.name=e,this.init=j2(r.init,n),this.apply=j2(r.apply,n)}}const F7=[new Wp("doc",{init(s){return s.doc||s.schema.topNodeType.createAndFill()},apply(s){return s.doc}}),new Wp("selection",{init(s,e){return s.selection||ha.atStart(e.doc)},apply(s){return s.selection}}),new Wp("storedMarks",{init(s){return s.storedMarks||null},apply(s,e,r,n){return n.selection.$cursor?s.storedMarks:null}}),new Wp("scrollToSelection",{init(){return 0},apply(s,e){return s.scrolledIntoView?e+1:e}})];class Nb{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=F7.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Wp(n.key,n.spec.state,n))})}}class tp{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let a=this.config.plugins[n];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),a=null;for(;;){let l=!1;for(let u=0;u<this.config.plugins.length;u++){let d=this.config.plugins[u];if(d.spec.appendTransaction){let A=a?a[u].n:0,o=a?a[u].state:this,f=A<r.length&&d.spec.appendTransaction.call(d,A?r.slice(A):r,o,n);if(f&&n.filterTransaction(f,u)){if(f.setMeta("appendedTransaction",e),!a){a=[];for(let p=0;p<this.config.plugins.length;p++)a.push(p<u?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),l=!0}a&&(a[u]={state:n,n:r.length})}}if(!l)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new tp(this.config),n=this.config.fields;for(let a=0;a<n.length;a++){let l=n[a];r[l.name]=l.apply(e,this[l.name],this,r)}return r}get tr(){return new L7(this)}static create(e){let r=new Nb(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new tp(r);for(let a=0;a<r.fields.length;a++)n[r.fields[a].name]=r.fields[a].init(e,n);return n}reconfigure(e){let r=new Nb(this.schema,e.plugins),n=r.fields,a=new tp(r);for(let l=0;l<n.length;l++){let u=n[l].name;a[u]=this.hasOwnProperty(u)?this[u]:n[l].init(e,a)}return a}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=e[n],l=a.spec.state;l&&l.toJSON&&(r[n]=l.toJSON.call(a,this[a.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let a=new Nb(e.schema,e.plugins),l=new tp(a);return a.fields.forEach(u=>{if(u.name=="doc")l.doc=Th.fromJSON(e.schema,r.doc);else if(u.name=="selection")l.selection=ha.fromJSON(l.doc,r.selection);else if(u.name=="storedMarks")r.storedMarks&&(l.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let d in n){let A=n[d],o=A.spec.state;if(A.key==u.name&&o&&o.fromJSON&&Object.prototype.hasOwnProperty.call(r,d)){l[u.name]=o.fromJSON.call(A,e,r[d],l);return}}l[u.name]=u.init(e,l)}}),l}}function SN(s,e,r){for(let n in s){let a=s[n];a instanceof Function?a=a.bind(e):n=="handleDOMEvents"&&(a=SN(a,e,{})),r[n]=a}return r}class Lo{constructor(e){this.spec=e,this.props={},e.props&&SN(e.props,this,this.props),this.key=e.key?e.key.key:EN("plugin")}getState(e){return e[this.key]}}const kb=Object.create(null);function EN(s){return s in kb?s+"$"+ ++kb[s]:(kb[s]=0,s+"$")}class Vl{constructor(e="key"){this.key=EN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const my=(s,e)=>s.selection.empty?!1:(e&&e(s.tr.deleteSelection().scrollIntoView()),!0);function TN(s,e){let{$cursor:r}=s.selection;return!r||(e?!e.endOfTextblock("backward",s):r.parentOffset>0)?null:r}const LN=(s,e,r)=>{let n=TN(s,r);if(!n)return!1;let a=gy(n);if(!a){let u=n.blockRange(),d=u&&wp(u);return d==null?!1:(e&&e(s.tr.lift(u,d).scrollIntoView()),!0)}let l=a.nodeBefore;if(QN(s,a,e,-1))return!0;if(n.parent.content.size==0&&(up(l,"end")||yn.isSelectable(l)))for(let u=n.depth;;u--){let d=ux(s.doc,n.before(u),n.after(u),Mr.empty);if(d&&d.slice.size<d.to-d.from){if(e){let A=s.tr.step(d);A.setSelection(up(l,"end")?ha.findFrom(A.doc.resolve(A.mapping.map(a.pos,-1)),-1):yn.create(A.doc,a.pos-l.nodeSize)),e(A.scrollIntoView())}return!0}if(u==1||n.node(u-1).childCount>1)break}return l.isAtom&&a.depth==n.depth-1?(e&&e(s.tr.delete(a.pos-l.nodeSize,a.pos).scrollIntoView()),!0):!1},U7=(s,e,r)=>{let n=TN(s,r);if(!n)return!1;let a=gy(n);return a?FN(s,a,e):!1},M7=(s,e,r)=>{let n=MN(s,r);if(!n)return!1;let a=xy(n);return a?FN(s,a,e):!1};function FN(s,e,r){let n=e.nodeBefore,a=n,l=e.pos-1;for(;!a.isTextblock;l--){if(a.type.spec.isolating)return!1;let f=a.lastChild;if(!f)return!1;a=f}let u=e.nodeAfter,d=u,A=e.pos+1;for(;!d.isTextblock;A++){if(d.type.spec.isolating)return!1;let f=d.firstChild;if(!f)return!1;d=f}let o=ux(s.doc,l,A,Mr.empty);if(!o||o.from!=l||o instanceof cc&&o.slice.size>=A-l)return!1;if(r){let f=s.tr.step(o);f.setSelection($n.create(f.doc,l)),r(f.scrollIntoView())}return!0}function up(s,e,r=!1){for(let n=s;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const UN=(s,e,r)=>{let{$head:n,empty:a}=s.selection,l=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",s):n.parentOffset>0)return!1;l=gy(n)}let u=l&&l.nodeBefore;return!u||!yn.isSelectable(u)?!1:(e&&e(s.tr.setSelection(yn.create(s.doc,l.pos-u.nodeSize)).scrollIntoView()),!0)};function gy(s){if(!s.parent.type.spec.isolating)for(let e=s.depth-1;e>=0;e--){if(s.index(e)>0)return s.doc.resolve(s.before(e+1));if(s.node(e).type.spec.isolating)break}return null}function MN(s,e){let{$cursor:r}=s.selection;return!r||(e?!e.endOfTextblock("forward",s):r.parentOffset<r.parent.content.size)?null:r}const ON=(s,e,r)=>{let n=MN(s,r);if(!n)return!1;let a=xy(n);if(!a)return!1;let l=a.nodeAfter;if(QN(s,a,e,1))return!0;if(n.parent.content.size==0&&(up(l,"start")||yn.isSelectable(l))){let u=ux(s.doc,n.before(),n.after(),Mr.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=s.tr.step(u);d.setSelection(up(l,"start")?ha.findFrom(d.doc.resolve(d.mapping.map(a.pos)),1):yn.create(d.doc,d.mapping.map(a.pos))),e(d.scrollIntoView())}return!0}}return l.isAtom&&a.depth==n.depth-1?(e&&e(s.tr.delete(a.pos,a.pos+l.nodeSize).scrollIntoView()),!0):!1},IN=(s,e,r)=>{let{$head:n,empty:a}=s.selection,l=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",s):n.parentOffset<n.parent.content.size)return!1;l=xy(n)}let u=l&&l.nodeAfter;return!u||!yn.isSelectable(u)?!1:(e&&e(s.tr.setSelection(yn.create(s.doc,l.pos)).scrollIntoView()),!0)};function xy(s){if(!s.parent.type.spec.isolating)for(let e=s.depth-1;e>=0;e--){let r=s.node(e);if(s.index(e)+1<r.childCount)return s.doc.resolve(s.after(e+1));if(r.type.spec.isolating)break}return null}const O7=(s,e)=>{let r=s.selection,n=r instanceof yn,a;if(n){if(r.node.isTextblock||!Qh(s.doc,r.from))return!1;a=r.from}else if(a=dx(s.doc,r.from,-1),a==null)return!1;if(e){let l=s.tr.join(a);n&&l.setSelection(yn.create(l.doc,a-s.doc.resolve(a).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},I7=(s,e)=>{let r=s.selection,n;if(r instanceof yn){if(r.node.isTextblock||!Qh(s.doc,r.to))return!1;n=r.to}else if(n=dx(s.doc,r.to,1),n==null)return!1;return e&&e(s.tr.join(n).scrollIntoView()),!0},D7=(s,e)=>{let{$from:r,$to:n}=s.selection,a=r.blockRange(n),l=a&&wp(a);return l==null?!1:(e&&e(s.tr.lift(a,l).scrollIntoView()),!0)},DN=(s,e)=>{let{$head:r,$anchor:n}=s.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(s.tr.insertText(`
`).scrollIntoView()),!0)};function by(s){for(let e=0;e<s.edgeCount;e++){let{type:r}=s.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const P7=(s,e)=>{let{$head:r,$anchor:n}=s.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let a=r.node(-1),l=r.indexAfter(-1),u=by(a.contentMatchAt(l));if(!u||!a.canReplaceWith(l,l,u))return!1;if(e){let d=r.after(),A=s.tr.replaceWith(d,d,u.createAndFill());A.setSelection(ha.near(A.doc.resolve(d),1)),e(A.scrollIntoView())}return!0},PN=(s,e)=>{let r=s.selection,{$from:n,$to:a}=r;if(r instanceof Yd||n.parent.inlineContent||a.parent.inlineContent)return!1;let l=by(a.parent.contentMatchAt(a.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let u=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,d=s.tr.insert(u,l.createAndFill());d.setSelection($n.create(d.doc,u+1)),e(d.scrollIntoView())}return!0},RN=(s,e)=>{let{$cursor:r}=s.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let l=r.before();if(DA(s.doc,l))return e&&e(s.tr.split(l).scrollIntoView()),!0}let n=r.blockRange(),a=n&&wp(n);return a==null?!1:(e&&e(s.tr.lift(n,a).scrollIntoView()),!0)};function R7(s){return(e,r)=>{let{$from:n,$to:a}=e.selection;if(e.selection instanceof yn&&e.selection.node.isBlock)return!n.parentOffset||!DA(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let l=[],u,d,A=!1,o=!1;for(let x=n.depth;;x--)if(n.node(x).isBlock){A=n.end(x)==n.pos+(n.depth-x),o=n.start(x)==n.pos-(n.depth-x),d=by(n.node(x-1).contentMatchAt(n.indexAfter(x-1))),l.unshift(A&&d?{type:d}:null),u=x;break}else{if(x==1)return!1;l.unshift(null)}let f=e.tr;(e.selection instanceof $n||e.selection instanceof Yd)&&f.deleteSelection();let p=f.mapping.map(n.pos),m=DA(f.doc,p,l.length,l);if(m||(l[0]=d?{type:d}:null,m=DA(f.doc,p,l.length,l)),!m)return!1;if(f.split(p,l.length,l),!A&&o&&n.node(u).type!=d){let x=f.mapping.map(n.before(u)),b=f.doc.resolve(x);d&&n.node(u-1).canReplaceWith(b.index(),b.index()+1,d)&&f.setNodeMarkup(f.mapping.map(n.before(u)),d)}return r&&r(f.scrollIntoView()),!0}}const Q7=R7(),_7=(s,e)=>{let{$from:r,to:n}=s.selection,a,l=r.sharedDepth(n);return l==0?!1:(a=r.before(l),e&&e(s.tr.setSelection(yn.create(s.doc,a))),!0)};function H7(s,e,r){let n=e.nodeBefore,a=e.nodeAfter,l=e.index();return!n||!a||!n.type.compatibleContent(a.type)?!1:!n.content.size&&e.parent.canReplace(l-1,l)?(r&&r(s.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(a.isTextblock||Qh(s.doc,e.pos))?!1:(r&&r(s.tr.join(e.pos).scrollIntoView()),!0)}function QN(s,e,r,n){let a=e.nodeBefore,l=e.nodeAfter,u,d,A=a.type.spec.isolating||l.type.spec.isolating;if(!A&&H7(s,e,r))return!0;let o=!A&&e.parent.canReplace(e.index(),e.index()+1);if(o&&(u=(d=a.contentMatchAt(a.childCount)).findWrapping(l.type))&&d.matchType(u[0]||l.type).validEnd){if(r){let x=e.pos+l.nodeSize,b=Ws.empty;for(let E=u.length-1;E>=0;E--)b=Ws.from(u[E].create(null,b));b=Ws.from(a.copy(b));let w=s.tr.step(new uc(e.pos-1,x,e.pos,x,new Mr(b,1,0),u.length,!0)),y=w.doc.resolve(x+2*u.length);y.nodeAfter&&y.nodeAfter.type==a.type&&Qh(w.doc,y.pos)&&w.join(y.pos),r(w.scrollIntoView())}return!0}let f=l.type.spec.isolating||n>0&&A?null:ha.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),m=p&&wp(p);if(m!=null&&m>=e.depth)return r&&r(s.tr.lift(p,m).scrollIntoView()),!0;if(o&&up(l,"start",!0)&&up(a,"end")){let x=a,b=[];for(;b.push(x),!x.isTextblock;)x=x.lastChild;let w=l,y=1;for(;!w.isTextblock;w=w.firstChild)y++;if(x.canReplace(x.childCount,x.childCount,w.content)){if(r){let E=Ws.empty;for(let z=b.length-1;z>=0;z--)E=Ws.from(b[z].copy(E));let P=s.tr.step(new uc(e.pos-b.length,e.pos+l.nodeSize,e.pos+y,e.pos+l.nodeSize-y,new Mr(E,b.length,0),0,!0));r(P.scrollIntoView())}return!0}}return!1}function _N(s){return function(e,r){let n=e.selection,a=s<0?n.$from:n.$to,l=a.depth;for(;a.node(l).isInline;){if(!l)return!1;l--}return a.node(l).isTextblock?(r&&r(e.tr.setSelection($n.create(e.doc,s<0?a.start(l):a.end(l)))),!0):!1}}const z7=_N(-1),$7=_N(1);function V7(s,e=null){return function(r,n){let{$from:a,$to:l}=r.selection,u=a.blockRange(l),d=u&&fy(u,s,e);return d?(n&&n(r.tr.wrap(u,d).scrollIntoView()),!0):!1}}function N2(s,e=null){return function(r,n){let a=!1;for(let l=0;l<r.selection.ranges.length&&!a;l++){let{$from:{pos:u},$to:{pos:d}}=r.selection.ranges[l];r.doc.nodesBetween(u,d,(A,o)=>{if(a)return!1;if(!(!A.isTextblock||A.hasMarkup(s,e)))if(A.type==s)a=!0;else{let f=r.doc.resolve(o),p=f.index();a=f.parent.canReplaceWith(p,p+1,s)}})}if(!a)return!1;if(n){let l=r.tr;for(let u=0;u<r.selection.ranges.length;u++){let{$from:{pos:d},$to:{pos:A}}=r.selection.ranges[u];l.setBlockType(d,A,s,e)}n(l.scrollIntoView())}return!0}}function vy(...s){return function(e,r,n){for(let a=0;a<s.length;a++)if(s[a](e,r,n))return!0;return!1}}vy(my,LN,UN);vy(my,ON,IN);vy(DN,PN,RN,Q7);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function K7(s,e=null){return function(r,n){let{$from:a,$to:l}=r.selection,u=a.blockRange(l);if(!u)return!1;let d=n?r.tr:null;return G7(d,u,s,e)?(n&&n(d.scrollIntoView()),!0):!1}}function G7(s,e,r,n=null){let a=!1,l=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let A=u.resolve(e.start-2);l=new ng(A,A,e.depth),e.endIndex<e.parent.childCount&&(e=new ng(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),a=!0}let d=fy(l,r,n,e);return d?(s&&W7(s,e,d,a,r),!0):!1}function W7(s,e,r,n,a){let l=Ws.empty;for(let f=r.length-1;f>=0;f--)l=Ws.from(r[f].type.create(r[f].attrs,l));s.step(new uc(e.start-(n?2:0),e.end,e.start,e.end,new Mr(l,0,0),r.length,!0));let u=0;for(let f=0;f<r.length;f++)r[f].type==a&&(u=f+1);let d=r.length-u,A=e.start+r.length-(n?2:0),o=e.parent;for(let f=e.startIndex,p=e.endIndex,m=!0;f<p;f++,m=!1)!m&&DA(s.doc,A,d)&&(s.split(A,d),A+=2*d),A+=o.child(f).nodeSize;return s}function Y7(s){return function(e,r){let{$from:n,$to:a}=e.selection,l=n.blockRange(a,u=>u.childCount>0&&u.firstChild.type==s);return l?r?n.node(l.depth-1).type==s?X7(e,r,s,l):J7(e,r,l):!0:!1}}function X7(s,e,r,n){let a=s.tr,l=n.end,u=n.$to.end(n.depth);l<u&&(a.step(new uc(l-1,u,l,u,new Mr(Ws.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new ng(a.doc.resolve(n.$from.pos),a.doc.resolve(u),n.depth));const d=wp(n);if(d==null)return!1;a.lift(n,d);let A=a.doc.resolve(a.mapping.map(l,-1)-1);return Qh(a.doc,A.pos)&&A.nodeBefore.type==A.nodeAfter.type&&a.join(A.pos),e(a.scrollIntoView()),!0}function J7(s,e,r){let n=s.tr,a=r.parent;for(let x=r.end,b=r.endIndex-1,w=r.startIndex;b>w;b--)x-=a.child(b).nodeSize,n.delete(x-1,x+1);let l=n.doc.resolve(r.start),u=l.nodeAfter;if(n.mapping.map(r.end)!=r.start+l.nodeAfter.nodeSize)return!1;let d=r.startIndex==0,A=r.endIndex==a.childCount,o=l.node(-1),f=l.index(-1);if(!o.canReplace(f+(d?0:1),f+1,u.content.append(A?Ws.empty:Ws.from(a))))return!1;let p=l.pos,m=p+u.nodeSize;return n.step(new uc(p-(d?1:0),m+(A?1:0),p+1,m-1,new Mr((d?Ws.empty:Ws.from(a.copy(Ws.empty))).append(A?Ws.empty:Ws.from(a.copy(Ws.empty))),d?0:1,A?0:1),d?0:1)),e(n.scrollIntoView()),!0}function Z7(s){return function(e,r){let{$from:n,$to:a}=e.selection,l=n.blockRange(a,o=>o.childCount>0&&o.firstChild.type==s);if(!l)return!1;let u=l.startIndex;if(u==0)return!1;let d=l.parent,A=d.child(u-1);if(A.type!=s)return!1;if(r){let o=A.lastChild&&A.lastChild.type==d.type,f=Ws.from(o?s.create():null),p=new Mr(Ws.from(s.create(null,Ws.from(d.type.create(null,f)))),o?3:1,0),m=l.start,x=l.end;r(e.tr.step(new uc(m-(o?3:1),x,m,x,p,1,!0)).scrollIntoView())}return!0}}const Ec=function(s){for(var e=0;;e++)if(s=s.previousSibling,!s)return e},Ap=function(s){let e=s.assignedSlot||s.parentNode;return e&&e.nodeType==11?e.host:e};let wv=null;const MA=function(s,e,r){let n=wv||(wv=document.createRange());return n.setEnd(s,r??s.nodeValue.length),n.setStart(s,e||0),n},q7=function(){wv=null},jf=function(s,e,r,n){return r&&(k2(s,e,r,n,-1)||k2(s,e,r,n,1))},eQ=/^(img|br|input|textarea|hr)$/i;function k2(s,e,r,n,a){for(var l;;){if(s==r&&e==n)return!0;if(e==(a<0?0:uu(s))){let u=s.parentNode;if(!u||u.nodeType!=1||F0(s)||eQ.test(s.nodeName)||s.contentEditable=="false")return!1;e=Ec(s)+(a<0?0:1),s=u}else if(s.nodeType==1){let u=s.childNodes[e+(a<0?-1:0)];if(u.nodeType==1&&u.contentEditable=="false")if(!((l=u.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)e+=a;else return!1;else s=u,e=a<0?uu(s):0}else return!1}}function uu(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function tQ(s,e){for(;;){if(s.nodeType==3&&e)return s;if(s.nodeType==1&&e>0){if(s.contentEditable=="false")return null;s=s.childNodes[e-1],e=uu(s)}else if(s.parentNode&&!F0(s))e=Ec(s),s=s.parentNode;else return null}}function sQ(s,e){for(;;){if(s.nodeType==3&&e<s.nodeValue.length)return s;if(s.nodeType==1&&e<s.childNodes.length){if(s.contentEditable=="false")return null;s=s.childNodes[e],e=0}else if(s.parentNode&&!F0(s))e=Ec(s)+1,s=s.parentNode;else return null}}function rQ(s,e,r){for(let n=e==0,a=e==uu(s);n||a;){if(s==r)return!0;let l=Ec(s);if(s=s.parentNode,!s)return!1;n=n&&l==0,a=a&&l==uu(s)}}function F0(s){let e;for(let r=s;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==s||e.contentDOM==s)}const hx=function(s){return s.focusNode&&jf(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)};function of(s,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=s,r.key=r.code=e,r}function nQ(s){let e=s.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function aQ(s,e,r){if(s.caretPositionFromPoint)try{let n=s.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(uu(n.offsetNode),n.offset)}}catch{}if(s.caretRangeFromPoint){let n=s.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(uu(n.startContainer),n.startOffset)}}}const aA=typeof navigator<"u"?navigator:null,C2=typeof document<"u"?document:null,_h=aA&&aA.userAgent||"",jv=/Edge\/(\d+)/.exec(_h),HN=/MSIE \d/.exec(_h),Nv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_h),Ud=!!(HN||Nv||jv),Lh=HN?document.documentMode:Nv?+Nv[1]:jv?+jv[1]:0,fu=!Ud&&/gecko\/(\d+)/i.test(_h);fu&&+(/Firefox\/(\d+)/.exec(_h)||[0,0])[1];const kv=!Ud&&/Chrome\/(\d+)/.exec(_h),dc=!!kv,zN=kv?+kv[1]:0,Gc=!Ud&&!!aA&&/Apple Computer/.test(aA.vendor),hp=Gc&&(/Mobile\/\w+/.test(_h)||!!aA&&aA.maxTouchPoints>2),cu=hp||(aA?/Mac/.test(aA.platform):!1),$N=aA?/Win/.test(aA.platform):!1,OA=/Android \d/.test(_h),U0=!!C2&&"webkitFontSmoothing"in C2.documentElement.style,iQ=U0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function oQ(s){let e=s.defaultView&&s.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:s.documentElement.clientWidth,top:0,bottom:s.documentElement.clientHeight}}function TA(s,e){return typeof s=="number"?s:s[e]}function lQ(s){let e=s.getBoundingClientRect(),r=e.width/s.offsetWidth||1,n=e.height/s.offsetHeight||1;return{left:e.left,right:e.left+s.clientWidth*r,top:e.top,bottom:e.top+s.clientHeight*n}}function B2(s,e,r){let n=s.someProp("scrollThreshold")||0,a=s.someProp("scrollMargin")||5,l=s.dom.ownerDocument;for(let u=r||s.dom;u;){if(u.nodeType!=1){u=Ap(u);continue}let d=u,A=d==l.body,o=A?oQ(l):lQ(d),f=0,p=0;if(e.top<o.top+TA(n,"top")?p=-(o.top-e.top+TA(a,"top")):e.bottom>o.bottom-TA(n,"bottom")&&(p=e.bottom-e.top>o.bottom-o.top?e.top+TA(a,"top")-o.top:e.bottom-o.bottom+TA(a,"bottom")),e.left<o.left+TA(n,"left")?f=-(o.left-e.left+TA(a,"left")):e.right>o.right-TA(n,"right")&&(f=e.right-o.right+TA(a,"right")),f||p)if(A)l.defaultView.scrollBy(f,p);else{let x=d.scrollLeft,b=d.scrollTop;p&&(d.scrollTop+=p),f&&(d.scrollLeft+=f);let w=d.scrollLeft-x,y=d.scrollTop-b;e={left:e.left-w,top:e.top-y,right:e.right-w,bottom:e.bottom-y}}let m=A?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(m))break;u=m=="absolute"?u.offsetParent:Ap(u)}}function cQ(s){let e=s.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,a;for(let l=(e.left+e.right)/2,u=r+1;u<Math.min(innerHeight,e.bottom);u+=5){let d=s.root.elementFromPoint(l,u);if(!d||d==s.dom||!s.dom.contains(d))continue;let A=d.getBoundingClientRect();if(A.top>=r-20){n=d,a=A.top;break}}return{refDOM:n,refTop:a,stack:VN(s.dom)}}function VN(s){let e=[],r=s.ownerDocument;for(let n=s;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),s!=r);n=Ap(n));return e}function dQ({refDOM:s,refTop:e,stack:r}){let n=s?s.getBoundingClientRect().top:0;KN(r,n==0?0:n-e)}function KN(s,e){for(let r=0;r<s.length;r++){let{dom:n,top:a,left:l}=s[r];n.scrollTop!=a+e&&(n.scrollTop=a+e),n.scrollLeft!=l&&(n.scrollLeft=l)}}let Yf=null;function uQ(s){if(s.setActive)return s.setActive();if(Yf)return s.focus(Yf);let e=VN(s);s.focus(Yf==null?{get preventScroll(){return Yf={preventScroll:!0},!0}}:void 0),Yf||(Yf=!1,KN(e,0))}function GN(s,e){let r,n=2e8,a,l=0,u=e.top,d=e.top,A,o;for(let f=s.firstChild,p=0;f;f=f.nextSibling,p++){let m;if(f.nodeType==1)m=f.getClientRects();else if(f.nodeType==3)m=MA(f).getClientRects();else continue;for(let x=0;x<m.length;x++){let b=m[x];if(b.top<=u&&b.bottom>=d){u=Math.max(b.bottom,u),d=Math.min(b.top,d);let w=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(w<n){r=f,n=w,a=w&&r.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&w&&(l=p+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!A&&b.left<=e.left&&b.right>=e.left&&(A=f,o={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!r&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(l=p+1)}}return!r&&A&&(r=A,a=o,n=0),r&&r.nodeType==3?AQ(r,a):!r||n&&r.nodeType==1?{node:s,offset:l}:GN(r,a)}function AQ(s,e){let r=s.nodeValue.length,n=document.createRange(),a;for(let l=0;l<r;l++){n.setEnd(s,l+1),n.setStart(s,l);let u=xh(n,1);if(u.top!=u.bottom&&yy(e,u)){a={node:s,offset:l+(e.left>=(u.left+u.right)/2?1:0)};break}}return n.detach(),a||{node:s,offset:0}}function yy(s,e){return s.left>=e.left-1&&s.left<=e.right+1&&s.top>=e.top-1&&s.top<=e.bottom+1}function hQ(s,e){let r=s.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<s.getBoundingClientRect().left?r:s}function fQ(s,e,r){let{node:n,offset:a}=GN(e,r),l=-1;if(n.nodeType==1&&!n.firstChild){let u=n.getBoundingClientRect();l=u.left!=u.right&&r.left>(u.left+u.right)/2?1:-1}return s.docView.posFromDOM(n,a,l)}function pQ(s,e,r,n){let a=-1;for(let l=e,u=!1;l!=s.dom;){let d=s.docView.nearestDesc(l,!0),A;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((A=d.dom.getBoundingClientRect()).width||A.height)&&(d.node.isBlock&&d.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(d.dom.nodeName)&&(!u&&A.left>n.left||A.top>n.top?a=d.posBefore:(!u&&A.right<n.left||A.bottom<n.top)&&(a=d.posAfter),u=!0),!d.contentDOM&&a<0&&!d.node.isText))return(d.node.isBlock?n.top<(A.top+A.bottom)/2:n.left<(A.left+A.right)/2)?d.posBefore:d.posAfter;l=d.dom.parentNode}return a>-1?a:s.docView.posFromDOM(e,r,-1)}function WN(s,e,r){let n=s.childNodes.length;if(n&&r.top<r.bottom)for(let a=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),l=a;;){let u=s.childNodes[l];if(u.nodeType==1){let d=u.getClientRects();for(let A=0;A<d.length;A++){let o=d[A];if(yy(e,o))return WN(u,e,o)}}if((l=(l+1)%n)==a)break}return s}function mQ(s,e){let r=s.dom.ownerDocument,n,a=0,l=aQ(r,e.left,e.top);l&&({node:n,offset:a}=l);let u=(s.root.elementFromPoint?s.root:r).elementFromPoint(e.left,e.top),d;if(!u||!s.dom.contains(u.nodeType!=1?u.parentNode:u)){let o=s.dom.getBoundingClientRect();if(!yy(e,o)||(u=WN(s.dom,e,o),!u))return null}if(Gc)for(let o=u;n&&o;o=Ap(o))o.draggable&&(n=void 0);if(u=hQ(u,e),n){if(fu&&n.nodeType==1&&(a=Math.min(a,n.childNodes.length),a<n.childNodes.length)){let f=n.childNodes[a],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&a++}let o;U0&&a&&n.nodeType==1&&(o=n.childNodes[a-1]).nodeType==1&&o.contentEditable=="false"&&o.getBoundingClientRect().top>=e.top&&a--,n==s.dom&&a==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?d=s.state.doc.content.size:(a==0||n.nodeType!=1||n.childNodes[a-1].nodeName!="BR")&&(d=pQ(s,n,a,e))}d==null&&(d=fQ(s,u,e));let A=s.docView.nearestDesc(u,!0);return{pos:d,inside:A?A.posAtStart-A.border:-1}}function S2(s){return s.top<s.bottom||s.left<s.right}function xh(s,e){let r=s.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(S2(n))return n}return Array.prototype.find.call(r,S2)||s.getBoundingClientRect()}const gQ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function YN(s,e,r){let{node:n,offset:a,atom:l}=s.docView.domFromPos(e,r<0?-1:1),u=U0||fu;if(n.nodeType==3)if(u&&(gQ.test(n.nodeValue)||(r<0?!a:a==n.nodeValue.length))){let A=xh(MA(n,a,a),r);if(fu&&a&&/\s/.test(n.nodeValue[a-1])&&a<n.nodeValue.length){let o=xh(MA(n,a-1,a-1),-1);if(o.top==A.top){let f=xh(MA(n,a,a+1),-1);if(f.top!=A.top)return Qp(f,f.left<o.left)}}return A}else{let A=a,o=a,f=r<0?1:-1;return r<0&&!a?(o++,f=-1):r>=0&&a==n.nodeValue.length?(A--,f=1):r<0?A--:o++,Qp(xh(MA(n,A,o),f),f<0)}if(!s.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&a&&(r<0||a==uu(n))){let A=n.childNodes[a-1];if(A.nodeType==1)return Cb(A.getBoundingClientRect(),!1)}if(l==null&&a<uu(n)){let A=n.childNodes[a];if(A.nodeType==1)return Cb(A.getBoundingClientRect(),!0)}return Cb(n.getBoundingClientRect(),r>=0)}if(l==null&&a&&(r<0||a==uu(n))){let A=n.childNodes[a-1],o=A.nodeType==3?MA(A,uu(A)-(u?0:1)):A.nodeType==1&&(A.nodeName!="BR"||!A.nextSibling)?A:null;if(o)return Qp(xh(o,1),!1)}if(l==null&&a<uu(n)){let A=n.childNodes[a];for(;A.pmViewDesc&&A.pmViewDesc.ignoreForCoords;)A=A.nextSibling;let o=A?A.nodeType==3?MA(A,0,u?0:1):A.nodeType==1?A:null:null;if(o)return Qp(xh(o,-1),!0)}return Qp(xh(n.nodeType==3?MA(n):n,-r),r>=0)}function Qp(s,e){if(s.width==0)return s;let r=e?s.left:s.right;return{top:s.top,bottom:s.bottom,left:r,right:r}}function Cb(s,e){if(s.height==0)return s;let r=e?s.top:s.bottom;return{top:r,bottom:r,left:s.left,right:s.right}}function XN(s,e,r){let n=s.state,a=s.root.activeElement;n!=e&&s.updateState(e),a!=s.dom&&s.focus();try{return r()}finally{n!=e&&s.updateState(n),a!=s.dom&&a&&a.focus()}}function xQ(s,e,r){let n=e.selection,a=r=="up"?n.$from:n.$to;return XN(s,e,()=>{let{node:l}=s.docView.domFromPos(a.pos,r=="up"?-1:1);for(;;){let d=s.docView.nearestDesc(l,!0);if(!d)break;if(d.node.isBlock){l=d.contentDOM||d.dom;break}l=d.dom.parentNode}let u=YN(s,a.pos,1);for(let d=l.firstChild;d;d=d.nextSibling){let A;if(d.nodeType==1)A=d.getClientRects();else if(d.nodeType==3)A=MA(d,0,d.nodeValue.length).getClientRects();else continue;for(let o=0;o<A.length;o++){let f=A[o];if(f.bottom>f.top+1&&(r=="up"?u.top-f.top>(f.bottom-u.top)*2:f.bottom-u.bottom>(u.bottom-f.top)*2))return!1}}return!0})}const bQ=/[\u0590-\u08ac]/;function vQ(s,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let a=n.parentOffset,l=!a,u=a==n.parent.content.size,d=s.domSelection();return d?!bQ.test(n.parent.textContent)||!d.modify?r=="left"||r=="backward"?l:u:XN(s,e,()=>{let{focusNode:A,focusOffset:o,anchorNode:f,anchorOffset:p}=s.domSelectionRange(),m=d.caretBidiLevel;d.modify("move",r,"character");let x=n.depth?s.docView.domAfterPos(n.before()):s.dom,{focusNode:b,focusOffset:w}=s.domSelectionRange(),y=b&&!x.contains(b.nodeType==1?b:b.parentNode)||A==b&&o==w;try{d.collapse(f,p),A&&(A!=f||o!=p)&&d.extend&&d.extend(A,o)}catch{}return m!=null&&(d.caretBidiLevel=m),y}):n.pos==n.start()||n.pos==n.end()}let E2=null,T2=null,L2=!1;function yQ(s,e,r){return E2==e&&T2==r?L2:(E2=e,T2=r,L2=r=="up"||r=="down"?xQ(s,e,r):vQ(s,e,r))}const pu=0,F2=1,lf=2,iA=3;class M0{constructor(e,r,n,a){this.parent=e,this.children=r,this.dom=n,this.contentDOM=a,this.dirty=pu,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let a=this.children[r];if(a==e)return n;n+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let l,u;if(e==this.contentDOM)l=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((u=l.pmViewDesc)&&u.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(u)+u.size:this.posAtStart}else{let l,u;if(e==this.contentDOM)l=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((u=l.pmViewDesc)&&u.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(u):this.posAtEnd}let a;if(e==this.dom&&this.contentDOM)a=r>Ec(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.previousSibling)break}if(a==null&&r==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.nextSibling)break}}return a??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,a=e;a;a=a.parentNode){let l=this.getDesc(a),u;if(l&&(!r||l.node))if(n&&(u=l.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))n=!1;else return l}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let a=e;a;a=a.parentNode){let l=this.getDesc(a);if(l)return l.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let a=this.children[r],l=n+a.size;if(n==e&&l!=n){for(;!a.border&&a.children.length;)for(let u=0;u<a.children.length;u++){let d=a.children[u];if(d.size){a=d;break}}return a}if(e<l)return a.descAt(e-n-a.border);n=l}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,a=0;for(let l=0;n<this.children.length;n++){let u=this.children[n],d=l+u.size;if(d>e||u instanceof ZN){a=e-l;break}l=d}if(a)return this.children[n].domFromPos(a-this.children[n].border,r);for(let l;n&&!(l=this.children[n-1]).size&&l instanceof JN&&l.side>=0;n--);if(r<=0){let l,u=!0;for(;l=n?this.children[n-1]:null,!(!l||l.dom.parentNode==this.contentDOM);n--,u=!1);return l&&r&&u&&!l.border&&!l.domAtom?l.domFromPos(l.size,r):{node:this.contentDOM,offset:l?Ec(l.dom)+1:0}}else{let l,u=!0;for(;l=n<this.children.length?this.children[n]:null,!(!l||l.dom.parentNode==this.contentDOM);n++,u=!1);return l&&u&&!l.border&&!l.domAtom?l.domFromPos(0,r):{node:this.contentDOM,offset:l?Ec(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,l=-1;for(let u=n,d=0;;d++){let A=this.children[d],o=u+A.size;if(a==-1&&e<=o){let f=u+A.border;if(e>=f&&r<=o-A.border&&A.node&&A.contentDOM&&this.contentDOM.contains(A.contentDOM))return A.parseRange(e,r,f);e=u;for(let p=d;p>0;p--){let m=this.children[p-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){a=Ec(m.dom)+1;break}e-=m.size}a==-1&&(a=0)}if(a>-1&&(o>r||d==this.children.length-1)){r=o;for(let f=d+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){l=Ec(p.dom);break}r+=p.size}l==-1&&(l=this.contentDOM.childNodes.length);break}u=o}return{node:this.contentDOM,from:e,to:r,fromOffset:a,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,a=!1){let l=Math.min(e,r),u=Math.max(e,r);for(let x=0,b=0;x<this.children.length;x++){let w=this.children[x],y=b+w.size;if(l>b&&u<y)return w.setSelection(e-b-w.border,r-b-w.border,n,a);b=y}let d=this.domFromPos(e,e?-1:1),A=r==e?d:this.domFromPos(r,r?-1:1),o=n.root.getSelection(),f=n.domSelectionRange(),p=!1;if((fu||Gc)&&e==r){let{node:x,offset:b}=d;if(x.nodeType==3){if(p=!!(b&&x.nodeValue[b-1]==`
`),p&&b==x.nodeValue.length)for(let w=x,y;w;w=w.parentNode){if(y=w.nextSibling){y.nodeName=="BR"&&(d=A={node:y.parentNode,offset:Ec(y)+1});break}let E=w.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let w=x.childNodes[b-1];p=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(fu&&f.focusNode&&f.focusNode!=A.node&&f.focusNode.nodeType==1){let x=f.focusNode.childNodes[f.focusOffset];x&&x.contentEditable=="false"&&(a=!0)}if(!(a||p&&Gc)&&jf(d.node,d.offset,f.anchorNode,f.anchorOffset)&&jf(A.node,A.offset,f.focusNode,f.focusOffset))return;let m=!1;if((o.extend||e==r)&&!(p&&fu)){o.collapse(d.node,d.offset);try{e!=r&&o.extend(A.node,A.offset),m=!0}catch{}}if(!m){if(e>r){let b=d;d=A,A=b}let x=document.createRange();x.setEnd(A.node,A.offset),x.setStart(d.node,d.offset),o.removeAllRanges(),o.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,a=0;a<this.children.length;a++){let l=this.children[a],u=n+l.size;if(n==u?e<=u&&r>=n:e<u&&r>n){let d=n+l.border,A=u-l.border;if(e>=d&&r<=A){this.dirty=e==n||r==u?lf:F2,e==d&&r==A&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=iA:l.markDirty(e-d,r-d);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?lf:iA}n=u}this.dirty=lf}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?lf:F2;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class JN extends M0{constructor(e,r,n,a){let l,u=r.type.toDOM;if(typeof u=="function"&&(u=u(n,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!r.type.spec.raw){if(u.nodeType!=1){let d=document.createElement("span");d.appendChild(u),u=d}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=r,this.widget=r,l=this}matchesWidget(e){return this.dirty==pu&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class wQ extends M0{constructor(e,r,n,a){super(e,[],r,null),this.textDOM=n,this.text=a}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Nf extends M0{constructor(e,r,n,a,l){super(e,[],n,a),this.mark=r,this.spec=l}static create(e,r,n,a){let l=a.nodeViews[r.type.name],u=l&&l(r,a,n);return(!u||!u.dom)&&(u=Bf.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Nf(e,r,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&iA||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=iA&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=pu){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=pu}}slice(e,r,n){let a=Nf.create(this.parent,this.mark,!0,n),l=this.children,u=this.size;r<u&&(l=Bv(l,r,u,n)),e>0&&(l=Bv(l,0,e,n));for(let d=0;d<l.length;d++)l[d].parent=a;return a.children=l,a}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Fh extends M0{constructor(e,r,n,a,l,u,d,A,o){super(e,[],l,u),this.node=r,this.outerDeco=n,this.innerDeco=a,this.nodeDOM=d}static create(e,r,n,a,l,u){let d=l.nodeViews[r.type.name],A,o=d&&d(r,l,()=>{if(!A)return u;if(A.parent)return A.parent.posBeforeChild(A)},n,a),f=o&&o.dom,p=o&&o.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=Bf.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!p&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let m=f;return f=tk(f,n,r),o?A=new jQ(e,r,n,a,f,p||null,m,o,l,u+1):r.isText?new fx(e,r,n,a,f,m,l):new Fh(e,r,n,a,f,p||null,m,l,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ws.empty)}return e}matchesNode(e,r,n){return this.dirty==pu&&e.eq(this.node)&&ig(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,a=r,l=e.composing?this.localCompositionInfo(e,r):null,u=l&&l.pos>-1?l:null,d=l&&l.pos<0,A=new kQ(this,u&&u.node,e);SQ(this.node,this.innerDeco,(o,f,p)=>{o.spec.marks?A.syncToMarks(o.spec.marks,n,e):o.type.side>=0&&!p&&A.syncToMarks(f==this.node.childCount?zi.none:this.node.child(f).marks,n,e),A.placeWidget(o,e,a)},(o,f,p,m)=>{A.syncToMarks(o.marks,n,e);let x;A.findNodeMatch(o,f,p,m)||d&&e.state.selection.from>a&&e.state.selection.to<a+o.nodeSize&&(x=A.findIndexWithChild(l.node))>-1&&A.updateNodeAt(o,f,p,x,e)||A.updateNextNode(o,f,p,e,m,a)||A.addNode(o,f,p,e,a),a+=o.nodeSize}),A.syncToMarks([],n,e),this.node.isTextblock&&A.addTextblockHacks(),A.destroyRest(),(A.changed||this.dirty==lf)&&(u&&this.protectLocalComposition(e,u),qN(this.contentDOM,this.children,e),hp&&EQ(this.dom))}localCompositionInfo(e,r){let{from:n,to:a}=e.state.selection;if(!(e.state.selection instanceof $n)||n<r||a>r+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let u=l.nodeValue,d=TQ(this.node.content,u,n-r,a-r);return d<0?null:{node:l,pos:d,text:u}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:a}){if(this.getDesc(r))return;let l=r;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let u=new wQ(this,l,r,a);e.input.compositionNodes.push(u),this.children=Bv(this.children,n,n+a.length,e,u)}update(e,r,n,a){return this.dirty==iA||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,a),!0)}updateInner(e,r,n,a){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=pu}updateOuterDeco(e){if(ig(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=ek(this.dom,this.nodeDOM,Cv(this.outerDeco,this.node,r),Cv(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function U2(s,e,r,n,a){tk(n,e,s);let l=new Fh(void 0,s,e,r,n,n,n,a,0);return l.contentDOM&&l.updateChildren(a,0),l}class fx extends Fh{constructor(e,r,n,a,l,u,d){super(e,r,n,a,l,null,u,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,a){return this.dirty==iA||this.dirty!=pu&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=pu||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=e,this.dirty=pu,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let a=this.node.cut(e,r),l=document.createTextNode(a.text);return new fx(this.parent,a,this.outerDeco,this.innerDeco,l,l,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=iA)}get domAtom(){return!1}isText(e){return this.node.text==e}}class ZN extends M0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==pu&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class jQ extends Fh{constructor(e,r,n,a,l,u,d,A,o,f){super(e,r,n,a,l,u,d,o,f),this.spec=A}update(e,r,n,a){if(this.dirty==iA)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,r,n);return l&&this.updateInner(e,r,n,a),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,a){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function qN(s,e,r){let n=s.firstChild,a=!1;for(let l=0;l<e.length;l++){let u=e[l],d=u.dom;if(d.parentNode==s){for(;d!=n;)n=M2(n),a=!0;n=n.nextSibling}else a=!0,s.insertBefore(d,n);if(u instanceof Nf){let A=n?n.previousSibling:s.lastChild;qN(u.contentDOM,u.children,r),n=A?A.nextSibling:s.firstChild}}for(;n;)n=M2(n),a=!0;a&&r.trackWrites==s&&(r.trackWrites=null)}const r0=function(s){s&&(this.nodeName=s)};r0.prototype=Object.create(null);const cf=[new r0];function Cv(s,e,r){if(s.length==0)return cf;let n=r?cf[0]:new r0,a=[n];for(let l=0;l<s.length;l++){let u=s[l].type.attrs;if(u){u.nodeName&&a.push(n=new r0(u.nodeName));for(let d in u){let A=u[d];A!=null&&(r&&a.length==1&&a.push(n=new r0(e.isInline?"span":"div")),d=="class"?n.class=(n.class?n.class+" ":"")+A:d=="style"?n.style=(n.style?n.style+";":"")+A:d!="nodeName"&&(n[d]=A))}}}return a}function ek(s,e,r,n){if(r==cf&&n==cf)return e;let a=e;for(let l=0;l<n.length;l++){let u=n[l],d=r[l];if(l){let A;d&&d.nodeName==u.nodeName&&a!=s&&(A=a.parentNode)&&A.nodeName.toLowerCase()==u.nodeName||(A=document.createElement(u.nodeName),A.pmIsDeco=!0,A.appendChild(a),d=cf[0]),a=A}NQ(a,d||cf[0],u)}return a}function NQ(s,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&s.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&s.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],a=r.class?r.class.split(" ").filter(Boolean):[];for(let l=0;l<n.length;l++)a.indexOf(n[l])==-1&&s.classList.remove(n[l]);for(let l=0;l<a.length;l++)n.indexOf(a[l])==-1&&s.classList.add(a[l]);s.classList.length==0&&s.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=n.exec(e.style);)s.style.removeProperty(a[1])}r.style&&(s.style.cssText+=r.style)}}function tk(s,e,r){return ek(s,s,cf,Cv(e,r,s.nodeType!=1))}function ig(s,e){if(s.length!=e.length)return!1;for(let r=0;r<s.length;r++)if(!s[r].type.eq(e[r].type))return!1;return!0}function M2(s){let e=s.nextSibling;return s.parentNode.removeChild(s),e}class kQ{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=CQ(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let a=0,l=this.stack.length>>1,u=Math.min(l,e.length);for(;a<u&&(a==l-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<l;)this.destroyRest(),this.top.dirty=pu,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let A=this.index;A<Math.min(this.index+3,this.top.children.length);A++){let o=this.top.children[A];if(o.matchesMark(e[l])&&!this.isLocked(o.dom)){d=A;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let A=Nf.create(this.top,e[l],r,n);this.top.children.splice(this.index,0,A),this.top=A,this.changed=!0}this.index=0,l++}}findNodeMatch(e,r,n,a){let l=-1,u;if(a>=this.preMatch.index&&(u=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&u.matchesNode(e,r,n))l=this.top.children.indexOf(u,this.index);else for(let d=this.index,A=Math.min(this.top.children.length,d+5);d<A;d++){let o=this.top.children[d];if(o.matchesNode(e,r,n)&&!this.preMatch.matched.has(o)){l=d;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,r,n,a,l){let u=this.top.children[a];return u.dirty==iA&&u.dom==u.contentDOM&&(u.dirty=lf),u.update(e,r,n,l)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==n)return a}return-1}e=r}}updateNextNode(e,r,n,a,l,u){for(let d=this.index;d<this.top.children.length;d++){let A=this.top.children[d];if(A instanceof Fh){let o=this.preMatch.matched.get(A);if(o!=null&&o!=l)return!1;let f=A.dom,p,m=this.isLocked(f)&&!(e.isText&&A.node&&A.node.isText&&A.nodeDOM.nodeValue==e.text&&A.dirty!=iA&&ig(r,A.outerDeco));if(!m&&A.update(e,r,n,a))return this.destroyBetween(this.index,d),A.dom!=f&&(this.changed=!0),this.index++,!0;if(!m&&(p=this.recreateWrapper(A,e,r,n,a,u)))return this.destroyBetween(this.index,d),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=lf,p.updateChildren(a,u+1),p.dirty=pu),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,a,l,u){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!ig(n,e.outerDeco)||!a.eq(e.innerDeco))return null;let d=Fh.create(this.top,r,n,a,l,u);if(d.contentDOM){d.children=e.children,e.children=[];for(let A of d.children)A.parent=d}return e.destroy(),d}addNode(e,r,n,a,l){let u=Fh.create(this.top,e,r,n,a,l);u.contentDOM&&u.updateChildren(a,l+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,r,n){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(e)&&(e==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let l=new JN(this.top,e,r,n);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Nf;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof fx)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Gc||dc)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let a=new ZN(this.top,[],n,null);r!=this.top?r.children.push(a):r.children.splice(this.index++,0,a),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function CQ(s,e){let r=e,n=r.children.length,a=s.childCount,l=new Map,u=[];e:for(;a>0;){let d;for(;;)if(n){let o=r.children[n-1];if(o instanceof Nf)r=o,n=o.children.length;else{d=o,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let A=d.node;if(A){if(A!=s.child(a-1))break;--a,l.set(d,a),u.push(d)}}return{index:a,matched:l,matches:u.reverse()}}function BQ(s,e){return s.type.side-e.type.side}function SQ(s,e,r,n){let a=e.locals(s),l=0;if(a.length==0){for(let o=0;o<s.childCount;o++){let f=s.child(o);n(f,a,e.forChild(l,f),o),l+=f.nodeSize}return}let u=0,d=[],A=null;for(let o=0;;){let f,p;for(;u<a.length&&a[u].to==l;){let y=a[u++];y.widget&&(f?(p||(p=[f])).push(y):f=y)}if(f)if(p){p.sort(BQ);for(let y=0;y<p.length;y++)r(p[y],o,!!A)}else r(f,o,!!A);let m,x;if(A)x=-1,m=A,A=null;else if(o<s.childCount)x=o,m=s.child(o++);else break;for(let y=0;y<d.length;y++)d[y].to<=l&&d.splice(y--,1);for(;u<a.length&&a[u].from<=l&&a[u].to>l;)d.push(a[u++]);let b=l+m.nodeSize;if(m.isText){let y=b;u<a.length&&a[u].from<y&&(y=a[u].from);for(let E=0;E<d.length;E++)d[E].to<y&&(y=d[E].to);y<b&&(A=m.cut(y-l),m=m.cut(0,y-l),b=y,x=-1)}else for(;u<a.length&&a[u].to<b;)u++;let w=m.isInline&&!m.isLeaf?d.filter(y=>!y.inline):d.slice();n(m,w,e.forChild(l,m),x),l=b}}function EQ(s){if(s.nodeName=="UL"||s.nodeName=="OL"){let e=s.style.cssText;s.style.cssText=e+"; list-style: square !important",window.getComputedStyle(s).listStyle,s.style.cssText=e}}function TQ(s,e,r,n){for(let a=0,l=0;a<s.childCount&&l<=n;){let u=s.child(a++),d=l;if(l+=u.nodeSize,!u.isText)continue;let A=u.text;for(;a<s.childCount;){let o=s.child(a++);if(l+=o.nodeSize,!o.isText)break;A+=o.text}if(l>=r){if(l>=n&&A.slice(n-e.length-d,n-d)==e)return n-e.length;let o=d<n?A.lastIndexOf(e,n-d-1):-1;if(o>=0&&o+e.length+d>=r)return d+o;if(r==n&&A.length>=n+e.length-d&&A.slice(n-d,n-d+e.length)==e)return n}}return-1}function Bv(s,e,r,n,a){let l=[];for(let u=0,d=0;u<s.length;u++){let A=s[u],o=d,f=d+=A.size;o>=r||f<=e?l.push(A):(o<e&&l.push(A.slice(0,e-o,n)),a&&(l.push(a),a=void 0),f>r&&l.push(A.slice(r-o,A.size,n)))}return l}function wy(s,e=null){let r=s.domSelectionRange(),n=s.state.doc;if(!r.focusNode)return null;let a=s.docView.nearestDesc(r.focusNode),l=a&&a.size==0,u=s.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(u<0)return null;let d=n.resolve(u),A,o;if(hx(r)){for(A=u;a&&!a.node;)a=a.parent;let p=a.node;if(a&&p.isAtom&&yn.isSelectable(p)&&a.parent&&!(p.isInline&&rQ(r.focusNode,r.focusOffset,a.dom))){let m=a.posBefore;o=new yn(u==m?d:n.resolve(m))}}else{if(r instanceof s.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let p=u,m=u;for(let x=0;x<r.rangeCount;x++){let b=r.getRangeAt(x);p=Math.min(p,s.docView.posFromDOM(b.startContainer,b.startOffset,1)),m=Math.max(m,s.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(p<0)return null;[A,u]=m==s.state.selection.anchor?[m,p]:[p,m],d=n.resolve(u)}else A=s.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(A<0)return null}let f=n.resolve(A);if(!o){let p=e=="pointer"||s.state.selection.head<d.pos&&!l?1:-1;o=jy(s,f,d,p)}return o}function sk(s){return s.editable?s.hasFocus():nk(s)&&document.activeElement&&document.activeElement.contains(s.dom)}function PA(s,e=!1){let r=s.state.selection;if(rk(s,r),!!sk(s)){if(!e&&s.input.mouseDown&&s.input.mouseDown.allowDefault&&dc){let n=s.domSelectionRange(),a=s.domObserver.currentSelection;if(n.anchorNode&&a.anchorNode&&jf(n.anchorNode,n.anchorOffset,a.anchorNode,a.anchorOffset)){s.input.mouseDown.delayedSelectionSync=!0,s.domObserver.setCurSelection();return}}if(s.domObserver.disconnectSelection(),s.cursorWrapper)FQ(s);else{let{anchor:n,head:a}=r,l,u;O2&&!(r instanceof $n)&&(r.$from.parent.inlineContent||(l=I2(s,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(u=I2(s,r.to))),s.docView.setSelection(n,a,s,e),O2&&(l&&D2(l),u&&D2(u)),r.visible?s.dom.classList.remove("ProseMirror-hideselection"):(s.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&LQ(s))}s.domObserver.setCurSelection(),s.domObserver.connectSelection()}}const O2=Gc||dc&&zN<63;function I2(s,e){let{node:r,offset:n}=s.docView.domFromPos(e,0),a=n<r.childNodes.length?r.childNodes[n]:null,l=n?r.childNodes[n-1]:null;if(Gc&&a&&a.contentEditable=="false")return Bb(a);if((!a||a.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(a)return Bb(a);if(l)return Bb(l)}}function Bb(s){return s.contentEditable="true",Gc&&s.draggable&&(s.draggable=!1,s.wasDraggable=!0),s}function D2(s){s.contentEditable="false",s.wasDraggable&&(s.draggable=!0,s.wasDraggable=null)}function LQ(s){let e=s.dom.ownerDocument;e.removeEventListener("selectionchange",s.input.hideSelectionGuard);let r=s.domSelectionRange(),n=r.anchorNode,a=r.anchorOffset;e.addEventListener("selectionchange",s.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=a)&&(e.removeEventListener("selectionchange",s.input.hideSelectionGuard),setTimeout(()=>{(!sk(s)||s.state.selection.visible)&&s.dom.classList.remove("ProseMirror-hideselection")},20))})}function FQ(s){let e=s.domSelection();if(!e)return;let r=s.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Ec(r)+1):e.collapse(r,0),!n&&!s.state.selection.visible&&Ud&&Lh<=11&&(r.disabled=!0,r.disabled=!1)}function rk(s,e){if(e instanceof yn){let r=s.docView.descAt(e.from);r!=s.lastSelectedViewDesc&&(P2(s),r&&r.selectNode(),s.lastSelectedViewDesc=r)}else P2(s)}function P2(s){s.lastSelectedViewDesc&&(s.lastSelectedViewDesc.parent&&s.lastSelectedViewDesc.deselectNode(),s.lastSelectedViewDesc=void 0)}function jy(s,e,r,n){return s.someProp("createSelectionBetween",a=>a(s,e,r))||$n.between(e,r,n)}function R2(s){return s.editable&&!s.hasFocus()?!1:nk(s)}function nk(s){let e=s.domSelectionRange();if(!e.anchorNode)return!1;try{return s.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(s.editable||s.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function UQ(s){let e=s.docView.domFromPos(s.state.selection.anchor,0),r=s.domSelectionRange();return jf(e.node,e.offset,r.anchorNode,r.anchorOffset)}function Sv(s,e){let{$anchor:r,$head:n}=s.selection,a=e>0?r.max(n):r.min(n),l=a.parent.inlineContent?a.depth?s.doc.resolve(e>0?a.after():a.before()):null:a;return l&&ha.findFrom(l,e)}function bh(s,e){return s.dispatch(s.state.tr.setSelection(e).scrollIntoView()),!0}function Q2(s,e,r){let n=s.state.selection;if(n instanceof $n)if(r.indexOf("s")>-1){let{$head:a}=n,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let u=s.state.doc.resolve(a.pos+l.nodeSize*(e<0?-1:1));return bh(s,new $n(n.$anchor,u))}else if(n.empty){if(s.endOfTextblock(e>0?"forward":"backward")){let a=Sv(s.state,e);return a&&a instanceof yn?bh(s,a):!1}else if(!(cu&&r.indexOf("m")>-1)){let a=n.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter,u;if(!l||l.isText)return!1;let d=e<0?a.pos-l.nodeSize:a.pos;return l.isAtom||(u=s.docView.descAt(d))&&!u.contentDOM?yn.isSelectable(l)?bh(s,new yn(e<0?s.state.doc.resolve(a.pos-l.nodeSize):a)):U0?bh(s,new $n(s.state.doc.resolve(e<0?d:d+l.nodeSize))):!1:!1}}else return!1;else{if(n instanceof yn&&n.node.isInline)return bh(s,new $n(e>0?n.$to:n.$from));{let a=Sv(s.state,e);return a?bh(s,a):!1}}}function og(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function n0(s,e){let r=s.pmViewDesc;return r&&r.size==0&&(e<0||s.nextSibling||s.nodeName!="BR")}function Xf(s,e){return e<0?MQ(s):OQ(s)}function MQ(s){let e=s.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a,l,u=!1;for(fu&&r.nodeType==1&&n<og(r)&&n0(r.childNodes[n],-1)&&(u=!0);;)if(n>0){if(r.nodeType!=1)break;{let d=r.childNodes[n-1];if(n0(d,-1))a=r,l=--n;else if(d.nodeType==3)r=d,n=r.nodeValue.length;else break}}else{if(ak(r))break;{let d=r.previousSibling;for(;d&&n0(d,-1);)a=r.parentNode,l=Ec(d),d=d.previousSibling;if(d)r=d,n=og(r);else{if(r=r.parentNode,r==s.dom)break;n=0}}}u?Ev(s,r,n):a&&Ev(s,a,l)}function OQ(s){let e=s.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a=og(r),l,u;for(;;)if(n<a){if(r.nodeType!=1)break;let d=r.childNodes[n];if(n0(d,1))l=r,u=++n;else break}else{if(ak(r))break;{let d=r.nextSibling;for(;d&&n0(d,1);)l=d.parentNode,u=Ec(d)+1,d=d.nextSibling;if(d)r=d,n=0,a=og(r);else{if(r=r.parentNode,r==s.dom)break;n=a=0}}}l&&Ev(s,l,u)}function ak(s){let e=s.pmViewDesc;return e&&e.node&&e.node.isBlock}function IQ(s,e){for(;s&&e==s.childNodes.length&&!F0(s);)e=Ec(s)+1,s=s.parentNode;for(;s&&e<s.childNodes.length;){let r=s.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;s=r,e=0}}function DQ(s,e){for(;s&&!e&&!F0(s);)e=Ec(s),s=s.parentNode;for(;s&&e;){let r=s.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;s=r,e=s.childNodes.length}}function Ev(s,e,r){if(e.nodeType!=3){let l,u;(u=IQ(e,r))?(e=u,r=0):(l=DQ(e,r))&&(e=l,r=l.nodeValue.length)}let n=s.domSelection();if(!n)return;if(hx(n)){let l=document.createRange();l.setEnd(e,r),l.setStart(e,r),n.removeAllRanges(),n.addRange(l)}else n.extend&&n.extend(e,r);s.domObserver.setCurSelection();let{state:a}=s;setTimeout(()=>{s.state==a&&PA(s)},50)}function _2(s,e){let r=s.state.doc.resolve(e);if(!(dc||$N)&&r.parent.inlineContent){let a=s.coordsAtPos(e);if(e>r.start()){let l=s.coordsAtPos(e-1),u=(l.top+l.bottom)/2;if(u>a.top&&u<a.bottom&&Math.abs(l.left-a.left)>1)return l.left<a.left?"ltr":"rtl"}if(e<r.end()){let l=s.coordsAtPos(e+1),u=(l.top+l.bottom)/2;if(u>a.top&&u<a.bottom&&Math.abs(l.left-a.left)>1)return l.left>a.left?"ltr":"rtl"}}return getComputedStyle(s.dom).direction=="rtl"?"rtl":"ltr"}function H2(s,e,r){let n=s.state.selection;if(n instanceof $n&&!n.empty||r.indexOf("s")>-1||cu&&r.indexOf("m")>-1)return!1;let{$from:a,$to:l}=n;if(!a.parent.inlineContent||s.endOfTextblock(e<0?"up":"down")){let u=Sv(s.state,e);if(u&&u instanceof yn)return bh(s,u)}if(!a.parent.inlineContent){let u=e<0?a:l,d=n instanceof Yd?ha.near(u,e):ha.findFrom(u,e);return d?bh(s,d):!1}return!1}function z2(s,e){if(!(s.state.selection instanceof $n))return!0;let{$head:r,$anchor:n,empty:a}=s.state.selection;if(!r.sameParent(n))return!0;if(!a)return!1;if(s.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(l&&!l.isText){let u=s.state.tr;return e<0?u.delete(r.pos-l.nodeSize,r.pos):u.delete(r.pos,r.pos+l.nodeSize),s.dispatch(u),!0}return!1}function $2(s,e,r){s.domObserver.stop(),e.contentEditable=r,s.domObserver.start()}function PQ(s){if(!Gc||s.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=s.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;$2(s,n,"true"),setTimeout(()=>$2(s,n,"false"),20)}return!1}function RQ(s){let e="";return s.ctrlKey&&(e+="c"),s.metaKey&&(e+="m"),s.altKey&&(e+="a"),s.shiftKey&&(e+="s"),e}function QQ(s,e){let r=e.keyCode,n=RQ(e);if(r==8||cu&&r==72&&n=="c")return z2(s,-1)||Xf(s,-1);if(r==46&&!e.shiftKey||cu&&r==68&&n=="c")return z2(s,1)||Xf(s,1);if(r==13||r==27)return!0;if(r==37||cu&&r==66&&n=="c"){let a=r==37?_2(s,s.state.selection.from)=="ltr"?-1:1:-1;return Q2(s,a,n)||Xf(s,a)}else if(r==39||cu&&r==70&&n=="c"){let a=r==39?_2(s,s.state.selection.from)=="ltr"?1:-1:1;return Q2(s,a,n)||Xf(s,a)}else{if(r==38||cu&&r==80&&n=="c")return H2(s,-1,n)||Xf(s,-1);if(r==40||cu&&r==78&&n=="c")return PQ(s)||H2(s,1,n)||Xf(s,1);if(n==(cu?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function Ny(s,e){s.someProp("transformCopied",x=>{e=x(e,s)});let r=[],{content:n,openStart:a,openEnd:l}=e;for(;a>1&&l>1&&n.childCount==1&&n.firstChild.childCount==1;){a--,l--;let x=n.firstChild;r.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),n=x.content}let u=s.someProp("clipboardSerializer")||Bf.fromSchema(s.state.schema),d=uk(),A=d.createElement("div");A.appendChild(u.serializeFragment(n,{document:d}));let o=A.firstChild,f,p=0;for(;o&&o.nodeType==1&&(f=dk[o.nodeName.toLowerCase()]);){for(let x=f.length-1;x>=0;x--){let b=d.createElement(f[x]);for(;A.firstChild;)b.appendChild(A.firstChild);A.appendChild(b),p++}o=A.firstChild}o&&o.nodeType==1&&o.setAttribute("data-pm-slice",`${a} ${l}${p?` -${p}`:""} ${JSON.stringify(r)}`);let m=s.someProp("clipboardTextSerializer",x=>x(e,s))||e.content.textBetween(0,e.content.size,`

`);return{dom:A,text:m,slice:e}}function ik(s,e,r,n,a){let l=a.parent.type.spec.code,u,d;if(!r&&!e)return null;let A=!!e&&(n||l||!r);if(A){if(s.someProp("transformPastedText",m=>{e=m(e,l||n,s)}),l)return d=new Mr(Ws.from(s.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),s.someProp("transformPasted",m=>{d=m(d,s,!0)}),d;let p=s.someProp("clipboardTextParser",m=>m(e,a,n,s));if(p)d=p;else{let m=a.marks(),{schema:x}=s.state,b=Bf.fromSchema(x);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let y=u.appendChild(document.createElement("p"));w&&y.appendChild(b.serializeNode(x.text(w,m)))})}}else s.someProp("transformPastedHTML",p=>{r=p(r,s)}),u=$Q(r),U0&&VQ(u);let o=u&&u.querySelector("[data-pm-slice]"),f=o&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(o.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let m=u.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;u=m}if(d||(d=(s.someProp("clipboardParser")||s.someProp("domParser")||t0.fromSchema(s.state.schema)).parseSlice(u,{preserveWhitespace:!!(A||f),context:a,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!_Q.test(m.parentNode.nodeName)?{ignore:!0}:null}})),f)d=KQ(V2(d,+f[1],+f[2]),f[4]);else if(d=Mr.maxOpen(HQ(d.content,a),!0),d.openStart||d.openEnd){let p=0,m=0;for(let x=d.content.firstChild;p<d.openStart&&!x.type.spec.isolating;p++,x=x.firstChild);for(let x=d.content.lastChild;m<d.openEnd&&!x.type.spec.isolating;m++,x=x.lastChild);d=V2(d,p,m)}return s.someProp("transformPasted",p=>{d=p(d,s,A)}),d}const _Q=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function HQ(s,e){if(s.childCount<2)return s;for(let r=e.depth;r>=0;r--){let a=e.node(r).contentMatchAt(e.index(r)),l,u=[];if(s.forEach(d=>{if(!u)return;let A=a.findWrapping(d.type),o;if(!A)return u=null;if(o=u.length&&l.length&&lk(A,l,d,u[u.length-1],0))u[u.length-1]=o;else{u.length&&(u[u.length-1]=ck(u[u.length-1],l.length));let f=ok(d,A);u.push(f),a=a.matchType(f.type),l=A}}),u)return Ws.from(u)}return s}function ok(s,e,r=0){for(let n=e.length-1;n>=r;n--)s=e[n].create(null,Ws.from(s));return s}function lk(s,e,r,n,a){if(a<s.length&&a<e.length&&s[a]==e[a]){let l=lk(s,e,r,n.lastChild,a+1);if(l)return n.copy(n.content.replaceChild(n.childCount-1,l));if(n.contentMatchAt(n.childCount).matchType(a==s.length-1?r.type:s[a+1]))return n.copy(n.content.append(Ws.from(ok(r,s,a+1))))}}function ck(s,e){if(e==0)return s;let r=s.content.replaceChild(s.childCount-1,ck(s.lastChild,e-1)),n=s.contentMatchAt(s.childCount).fillBefore(Ws.empty,!0);return s.copy(r.append(n))}function Tv(s,e,r,n,a,l){let u=e<0?s.firstChild:s.lastChild,d=u.content;return s.childCount>1&&(l=0),a<n-1&&(d=Tv(d,e,r,n,a+1,l)),a>=r&&(d=e<0?u.contentMatchAt(0).fillBefore(d,l<=a).append(d):d.append(u.contentMatchAt(u.childCount).fillBefore(Ws.empty,!0))),s.replaceChild(e<0?0:s.childCount-1,u.copy(d))}function V2(s,e,r){return e<s.openStart&&(s=new Mr(Tv(s.content,-1,e,s.openStart,0,s.openEnd),e,s.openEnd)),r<s.openEnd&&(s=new Mr(Tv(s.content,1,r,s.openEnd,0,0),s.openStart,r)),s}const dk={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let K2=null;function uk(){return K2||(K2=document.implementation.createHTMLDocument("title"))}let Sb=null;function zQ(s){let e=window.trustedTypes;return e?(Sb||(Sb=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),Sb.createHTML(s)):s}function $Q(s){let e=/^(\s*<meta [^>]*>)*/.exec(s);e&&(s=s.slice(e[0].length));let r=uk().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(s),a;if((a=n&&dk[n[1].toLowerCase()])&&(s=a.map(l=>"<"+l+">").join("")+s+a.map(l=>"</"+l+">").reverse().join("")),r.innerHTML=zQ(s),a)for(let l=0;l<a.length;l++)r=r.querySelector(a[l])||r;return r}function VQ(s){let e=s.querySelectorAll(dc?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(s.ownerDocument.createTextNode(" "),n)}}function KQ(s,e){if(!s.size)return s;let r=s.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return s}let{content:a,openStart:l,openEnd:u}=s;for(let d=n.length-2;d>=0;d-=2){let A=r.nodes[n[d]];if(!A||A.hasRequiredAttrs())break;a=Ws.from(A.create(n[d+1],a)),l++,u++}return new Mr(a,l,u)}const dd={},ud={},GQ={touchstart:!0,touchmove:!0};class WQ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function YQ(s){for(let e in dd){let r=dd[e];s.dom.addEventListener(e,s.input.eventHandlers[e]=n=>{JQ(s,n)&&!ky(s,n)&&(s.editable||!(n.type in ud))&&r(s,n)},GQ[e]?{passive:!0}:void 0)}Gc&&s.dom.addEventListener("input",()=>null),Lv(s)}function Bh(s,e){s.input.lastSelectionOrigin=e,s.input.lastSelectionTime=Date.now()}function XQ(s){s.domObserver.stop();for(let e in s.input.eventHandlers)s.dom.removeEventListener(e,s.input.eventHandlers[e]);clearTimeout(s.input.composingTimeout),clearTimeout(s.input.lastIOSEnterFallbackTimeout)}function Lv(s){s.someProp("handleDOMEvents",e=>{for(let r in e)s.input.eventHandlers[r]||s.dom.addEventListener(r,s.input.eventHandlers[r]=n=>ky(s,n))})}function ky(s,e){return s.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(s,e)||e.defaultPrevented:!1})}function JQ(s,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=s.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function ZQ(s,e){!ky(s,e)&&dd[e.type]&&(s.editable||!(e.type in ud))&&dd[e.type](s,e)}ud.keydown=(s,e)=>{let r=e;if(s.input.shiftKey=r.keyCode==16||r.shiftKey,!hk(s,r)&&(s.input.lastKeyCode=r.keyCode,s.input.lastKeyCodeTime=Date.now(),!(OA&&dc&&r.keyCode==13)))if(r.keyCode!=229&&s.domObserver.forceFlush(),hp&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();s.input.lastIOSEnter=n,s.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{s.input.lastIOSEnter==n&&(s.someProp("handleKeyDown",a=>a(s,of(13,"Enter"))),s.input.lastIOSEnter=0)},200)}else s.someProp("handleKeyDown",n=>n(s,r))||QQ(s,r)?r.preventDefault():Bh(s,"key")};ud.keyup=(s,e)=>{e.keyCode==16&&(s.input.shiftKey=!1)};ud.keypress=(s,e)=>{let r=e;if(hk(s,r)||!r.charCode||r.ctrlKey&&!r.altKey||cu&&r.metaKey)return;if(s.someProp("handleKeyPress",a=>a(s,r))){r.preventDefault();return}let n=s.state.selection;if(!(n instanceof $n)||!n.$from.sameParent(n.$to)){let a=String.fromCharCode(r.charCode),l=()=>s.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!s.someProp("handleTextInput",u=>u(s,n.$from.pos,n.$to.pos,a,l))&&s.dispatch(l()),r.preventDefault()}};function px(s){return{left:s.clientX,top:s.clientY}}function qQ(s,e){let r=e.x-s.clientX,n=e.y-s.clientY;return r*r+n*n<100}function Cy(s,e,r,n,a){if(n==-1)return!1;let l=s.state.doc.resolve(n);for(let u=l.depth+1;u>0;u--)if(s.someProp(e,d=>u>l.depth?d(s,r,l.nodeAfter,l.before(u),a,!0):d(s,r,l.node(u),l.before(u),a,!1)))return!0;return!1}function rp(s,e,r){if(s.focused||s.focus(),s.state.selection.eq(e))return;let n=s.state.tr.setSelection(e);n.setMeta("pointer",!0),s.dispatch(n)}function e_(s,e){if(e==-1)return!1;let r=s.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&yn.isSelectable(n)?(rp(s,new yn(r)),!0):!1}function t_(s,e){if(e==-1)return!1;let r=s.state.selection,n,a;r instanceof yn&&(n=r.node);let l=s.state.doc.resolve(e);for(let u=l.depth+1;u>0;u--){let d=u>l.depth?l.nodeAfter:l.node(u);if(yn.isSelectable(d)){n&&r.$from.depth>0&&u>=r.$from.depth&&l.before(r.$from.depth+1)==r.$from.pos?a=l.before(r.$from.depth):a=l.before(u);break}}return a!=null?(rp(s,yn.create(s.state.doc,a)),!0):!1}function s_(s,e,r,n,a){return Cy(s,"handleClickOn",e,r,n)||s.someProp("handleClick",l=>l(s,e,n))||(a?t_(s,r):e_(s,r))}function r_(s,e,r,n){return Cy(s,"handleDoubleClickOn",e,r,n)||s.someProp("handleDoubleClick",a=>a(s,e,n))}function n_(s,e,r,n){return Cy(s,"handleTripleClickOn",e,r,n)||s.someProp("handleTripleClick",a=>a(s,e,n))||a_(s,r,n)}function a_(s,e,r){if(r.button!=0)return!1;let n=s.state.doc;if(e==-1)return n.inlineContent?(rp(s,$n.create(n,0,n.content.size)),!0):!1;let a=n.resolve(e);for(let l=a.depth+1;l>0;l--){let u=l>a.depth?a.nodeAfter:a.node(l),d=a.before(l);if(u.inlineContent)rp(s,$n.create(n,d+1,d+1+u.content.size));else if(yn.isSelectable(u))rp(s,yn.create(n,d));else continue;return!0}}function By(s){return lg(s)}const Ak=cu?"metaKey":"ctrlKey";dd.mousedown=(s,e)=>{let r=e;s.input.shiftKey=r.shiftKey;let n=By(s),a=Date.now(),l="singleClick";a-s.input.lastClick.time<500&&qQ(r,s.input.lastClick)&&!r[Ak]&&s.input.lastClick.button==r.button&&(s.input.lastClick.type=="singleClick"?l="doubleClick":s.input.lastClick.type=="doubleClick"&&(l="tripleClick")),s.input.lastClick={time:a,x:r.clientX,y:r.clientY,type:l,button:r.button};let u=s.posAtCoords(px(r));u&&(l=="singleClick"?(s.input.mouseDown&&s.input.mouseDown.done(),s.input.mouseDown=new i_(s,u,r,!!n)):(l=="doubleClick"?r_:n_)(s,u.pos,u.inside,r)?r.preventDefault():Bh(s,"pointer"))};class i_{constructor(e,r,n,a){this.view=e,this.pos=r,this.event=n,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Ak],this.allowDefault=n.shiftKey;let l,u;if(r.inside>-1)l=e.state.doc.nodeAt(r.inside),u=r.inside;else{let f=e.state.doc.resolve(r.pos);l=f.parent,u=f.depth?f.before():0}const d=a?null:n.target,A=d?e.docView.nearestDesc(d,!0):null;this.target=A&&A.nodeDOM.nodeType==1?A.nodeDOM:null;let{selection:o}=e.state;(n.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||o instanceof yn&&o.from<=u&&o.to>u)&&(this.mightDrag={node:l,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fu&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Bh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>PA(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(px(e))),this.updateAllowDefault(e),this.allowDefault||!r?Bh(this.view,"pointer"):s_(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Gc&&this.mightDrag&&!this.mightDrag.node.isAtom||dc&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(rp(this.view,ha.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Bh(this.view,"pointer")}move(e){this.updateAllowDefault(e),Bh(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}dd.touchstart=s=>{s.input.lastTouch=Date.now(),By(s),Bh(s,"pointer")};dd.touchmove=s=>{s.input.lastTouch=Date.now(),Bh(s,"pointer")};dd.contextmenu=s=>By(s);function hk(s,e){return s.composing?!0:Gc&&Math.abs(e.timeStamp-s.input.compositionEndedAt)<500?(s.input.compositionEndedAt=-2e8,!0):!1}const o_=OA?5e3:-1;ud.compositionstart=ud.compositionupdate=s=>{if(!s.composing){s.domObserver.flush();let{state:e}=s,r=e.selection.$to;if(e.selection instanceof $n&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||dc&&$N&&l_(s)))s.markCursor=s.state.storedMarks||r.marks(),lg(s,!0),s.markCursor=null;else if(lg(s,!e.selection.empty),fu&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=s.domSelectionRange();for(let a=n.focusNode,l=n.focusOffset;a&&a.nodeType==1&&l!=0;){let u=l<0?a.lastChild:a.childNodes[l-1];if(!u)break;if(u.nodeType==3){let d=s.domSelection();d&&d.collapse(u,u.nodeValue.length);break}else a=u,l=-1}}s.input.composing=!0}fk(s,o_)};function l_(s){let{focusNode:e,focusOffset:r}=s.domSelectionRange();if(!e||e.nodeType!=1||r>=e.childNodes.length)return!1;let n=e.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}ud.compositionend=(s,e)=>{s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=e.timeStamp,s.input.compositionPendingChanges=s.domObserver.pendingRecords().length?s.input.compositionID:0,s.input.compositionNode=null,s.input.compositionPendingChanges&&Promise.resolve().then(()=>s.domObserver.flush()),s.input.compositionID++,fk(s,20))};function fk(s,e){clearTimeout(s.input.composingTimeout),e>-1&&(s.input.composingTimeout=setTimeout(()=>lg(s),e))}function pk(s){for(s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=d_());s.input.compositionNodes.length>0;)s.input.compositionNodes.pop().markParentsDirty()}function c_(s){let e=s.domSelectionRange();if(!e.focusNode)return null;let r=tQ(e.focusNode,e.focusOffset),n=sQ(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let a=n.pmViewDesc,l=s.domObserver.lastChangedTextNode;if(r==l||n==l)return l;if(!a||!a.isText(n.nodeValue))return n;if(s.input.compositionNode==n){let u=r.pmViewDesc;if(!(!u||!u.isText(r.nodeValue)))return n}}return r||n}function d_(){let s=document.createEvent("Event");return s.initEvent("event",!0,!0),s.timeStamp}function lg(s,e=!1){if(!(OA&&s.domObserver.flushingSoon>=0)){if(s.domObserver.forceFlush(),pk(s),e||s.docView&&s.docView.dirty){let r=wy(s),n=s.state.selection;return r&&!r.eq(n)?s.dispatch(s.state.tr.setSelection(r)):(s.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?s.dispatch(s.state.tr.deleteSelection()):s.updateState(s.state),!0}return!1}}function u_(s,e){if(!s.dom.parentNode)return;let r=s.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),a=document.createRange();a.selectNodeContents(e),s.dom.blur(),n.removeAllRanges(),n.addRange(a),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),s.focus()},50)}const v0=Ud&&Lh<15||hp&&iQ<604;dd.copy=ud.cut=(s,e)=>{let r=e,n=s.state.selection,a=r.type=="cut";if(n.empty)return;let l=v0?null:r.clipboardData,u=n.content(),{dom:d,text:A}=Ny(s,u);l?(r.preventDefault(),l.clearData(),l.setData("text/html",d.innerHTML),l.setData("text/plain",A)):u_(s,d),a&&s.dispatch(s.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function A_(s){return s.openStart==0&&s.openEnd==0&&s.content.childCount==1?s.content.firstChild:null}function h_(s,e){if(!s.dom.parentNode)return;let r=s.input.shiftKey||s.state.selection.$from.parent.type.spec.code,n=s.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let a=s.input.shiftKey&&s.input.lastKeyCode!=45;setTimeout(()=>{s.focus(),n.parentNode&&n.parentNode.removeChild(n),r?y0(s,n.value,null,a,e):y0(s,n.textContent,n.innerHTML,a,e)},50)}function y0(s,e,r,n,a){let l=ik(s,e,r,n,s.state.selection.$from);if(s.someProp("handlePaste",A=>A(s,a,l||Mr.empty)))return!0;if(!l)return!1;let u=A_(l),d=u?s.state.tr.replaceSelectionWith(u,n):s.state.tr.replaceSelection(l);return s.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function mk(s){let e=s.getData("text/plain")||s.getData("Text");if(e)return e;let r=s.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}ud.paste=(s,e)=>{let r=e;if(s.composing&&!OA)return;let n=v0?null:r.clipboardData,a=s.input.shiftKey&&s.input.lastKeyCode!=45;n&&y0(s,mk(n),n.getData("text/html"),a,r)?r.preventDefault():h_(s,r)};class gk{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const f_=cu?"altKey":"ctrlKey";function xk(s,e){let r=s.someProp("dragCopies",n=>!n(e));return r??!e[f_]}dd.dragstart=(s,e)=>{let r=e,n=s.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let a=s.state.selection,l=a.empty?null:s.posAtCoords(px(r)),u;if(!(l&&l.pos>=a.from&&l.pos<=(a instanceof yn?a.to-1:a.to))){if(n&&n.mightDrag)u=yn.create(s.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let p=s.docView.nearestDesc(r.target,!0);p&&p.node.type.spec.draggable&&p!=s.docView&&(u=yn.create(s.state.doc,p.posBefore))}}let d=(u||s.state.selection).content(),{dom:A,text:o,slice:f}=Ny(s,d);(!r.dataTransfer.files.length||!dc||zN>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(v0?"Text":"text/html",A.innerHTML),r.dataTransfer.effectAllowed="copyMove",v0||r.dataTransfer.setData("text/plain",o),s.dragging=new gk(f,xk(s,r),u)};dd.dragend=s=>{let e=s.dragging;window.setTimeout(()=>{s.dragging==e&&(s.dragging=null)},50)};ud.dragover=ud.dragenter=(s,e)=>e.preventDefault();ud.drop=(s,e)=>{try{p_(s,e,s.dragging)}finally{s.dragging=null}};function p_(s,e,r){if(!e.dataTransfer)return;let n=s.posAtCoords(px(e));if(!n)return;let a=s.state.doc.resolve(n.pos),l=r&&r.slice;l?s.someProp("transformPasted",x=>{l=x(l,s,!1)}):l=ik(s,mk(e.dataTransfer),v0?null:e.dataTransfer.getData("text/html"),!1,a);let u=!!(r&&xk(s,e));if(s.someProp("handleDrop",x=>x(s,e,l||Mr.empty,u))){e.preventDefault();return}if(!l)return;e.preventDefault();let d=l?wN(s.state.doc,a.pos,l):a.pos;d==null&&(d=a.pos);let A=s.state.tr;if(u){let{node:x}=r;x?x.replace(A):A.deleteSelection()}let o=A.mapping.map(d),f=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,p=A.doc;if(f?A.replaceRangeWith(o,o,l.content.firstChild):A.replaceRange(o,o,l),A.doc.eq(p))return;let m=A.doc.resolve(o);if(f&&yn.isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild))A.setSelection(new yn(m));else{let x=A.mapping.map(d);A.mapping.maps[A.mapping.maps.length-1].forEach((b,w,y,E)=>x=E),A.setSelection(jy(s,m,A.doc.resolve(x)))}s.focus(),s.dispatch(A.setMeta("uiEvent","drop"))}dd.focus=s=>{s.input.lastFocus=Date.now(),s.focused||(s.domObserver.stop(),s.dom.classList.add("ProseMirror-focused"),s.domObserver.start(),s.focused=!0,setTimeout(()=>{s.docView&&s.hasFocus()&&!s.domObserver.currentSelection.eq(s.domSelectionRange())&&PA(s)},20))};dd.blur=(s,e)=>{let r=e;s.focused&&(s.domObserver.stop(),s.dom.classList.remove("ProseMirror-focused"),s.domObserver.start(),r.relatedTarget&&s.dom.contains(r.relatedTarget)&&s.domObserver.currentSelection.clear(),s.focused=!1)};dd.beforeinput=(s,e)=>{if(dc&&OA&&e.inputType=="deleteContentBackward"){s.domObserver.flushSoon();let{domChangeCount:n}=s.input;setTimeout(()=>{if(s.input.domChangeCount!=n||(s.dom.blur(),s.focus(),s.someProp("handleKeyDown",l=>l(s,of(8,"Backspace")))))return;let{$cursor:a}=s.state.selection;a&&a.pos>0&&s.dispatch(s.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let s in ud)dd[s]=ud[s];function w0(s,e){if(s==e)return!0;for(let r in s)if(s[r]!==e[r])return!1;for(let r in e)if(!(r in s))return!1;return!0}class cg{constructor(e,r){this.toDOM=e,this.spec=r||pf,this.side=this.spec.side||0}map(e,r,n,a){let{pos:l,deleted:u}=e.mapResult(r.from+a,this.side<0?-1:1);return u?null:new ld(l-n,l-n,this)}valid(){return!0}eq(e){return this==e||e instanceof cg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&w0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Uh{constructor(e,r){this.attrs=e,this.spec=r||pf}map(e,r,n,a){let l=e.map(r.from+a,this.spec.inclusiveStart?-1:1)-n,u=e.map(r.to+a,this.spec.inclusiveEnd?1:-1)-n;return l>=u?null:new ld(l,u,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Uh&&w0(this.attrs,e.attrs)&&w0(this.spec,e.spec)}static is(e){return e.type instanceof Uh}destroy(){}}class Sy{constructor(e,r){this.attrs=e,this.spec=r||pf}map(e,r,n,a){let l=e.mapResult(r.from+a,1);if(l.deleted)return null;let u=e.mapResult(r.to+a,-1);return u.deleted||u.pos<=l.pos?null:new ld(l.pos-n,u.pos-n,this)}valid(e,r){let{index:n,offset:a}=e.content.findIndex(r.from),l;return a==r.from&&!(l=e.child(n)).isText&&a+l.nodeSize==r.to}eq(e){return this==e||e instanceof Sy&&w0(this.attrs,e.attrs)&&w0(this.spec,e.spec)}destroy(){}}class ld{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new ld(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new ld(e,e,new cg(r,n))}static inline(e,r,n,a){return new ld(e,r,new Uh(n,a))}static node(e,r,n,a){return new ld(e,r,new Sy(n,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Uh}get widget(){return this.type instanceof cg}}const Zf=[],pf={};class ko{constructor(e,r){this.local=e.length?e:Zf,this.children=r.length?r:Zf}static create(e,r){return r.length?dg(r,e,0,pf):Vc}find(e,r,n){let a=[];return this.findInner(e??0,r??1e9,a,0,n),a}findInner(e,r,n,a,l){for(let u=0;u<this.local.length;u++){let d=this.local[u];d.from<=r&&d.to>=e&&(!l||l(d.spec))&&n.push(d.copy(d.from+a,d.to+a))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<r&&this.children[u+1]>e){let d=this.children[u]+1;this.children[u+2].findInner(e-d,r-d,n,a+d,l)}}map(e,r,n){return this==Vc||e.maps.length==0?this:this.mapInner(e,r,0,0,n||pf)}mapInner(e,r,n,a,l){let u;for(let d=0;d<this.local.length;d++){let A=this.local[d].map(e,n,a);A&&A.type.valid(r,A)?(u||(u=[])).push(A):l.onRemove&&l.onRemove(this.local[d].spec)}return this.children.length?m_(this.children,u||[],e,r,n,a,l):u?new ko(u.sort(mf),Zf):Vc}add(e,r){return r.length?this==Vc?ko.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let a,l=0;e.forEach((d,A)=>{let o=A+n,f;if(f=vk(r,d,o)){for(a||(a=this.children.slice());l<a.length&&a[l]<A;)l+=3;a[l]==A?a[l+2]=a[l+2].addInner(d,f,o+1):a.splice(l,0,A,A+d.nodeSize,dg(f,d,o+1,pf)),l+=3}});let u=bk(l?yk(r):r,-n);for(let d=0;d<u.length;d++)u[d].type.valid(e,u[d])||u.splice(d--,1);return new ko(u.length?this.local.concat(u).sort(mf):this.local,a||this.children)}remove(e){return e.length==0||this==Vc?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,a=this.local;for(let l=0;l<n.length;l+=3){let u,d=n[l]+r,A=n[l+1]+r;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>d&&p.to<A&&(e[f]=null,(u||(u=[])).push(p));if(!u)continue;n==this.children&&(n=this.children.slice());let o=n[l+2].removeInner(u,d+1);o!=Vc?n[l+2]=o:(n.splice(l,3),l-=3)}if(a.length){for(let l=0,u;l<e.length;l++)if(u=e[l])for(let d=0;d<a.length;d++)a[d].eq(u,r)&&(a==this.local&&(a=this.local.slice()),a.splice(d--,1))}return n==this.children&&a==this.local?this:a.length||n.length?new ko(a,n):Vc}forChild(e,r){if(this==Vc)return this;if(r.isLeaf)return ko.empty;let n,a;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(n=this.children[d+2]);break}let l=e+1,u=l+r.content.size;for(let d=0;d<this.local.length;d++){let A=this.local[d];if(A.from<u&&A.to>l&&A.type instanceof Uh){let o=Math.max(l,A.from)-l,f=Math.min(u,A.to)-l;o<f&&(a||(a=[])).push(A.copy(o,f))}}if(a){let d=new ko(a.sort(mf),Zf);return n?new wh([d,n]):d}return n||Vc}eq(e){if(this==e)return!0;if(!(e instanceof ko)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Ey(this.localsInner(e))}localsInner(e){if(this==Vc)return Zf;if(e.inlineContent||!this.local.some(Uh.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Uh||r.push(this.local[n]);return r}forEachSet(e){e(this)}}ko.empty=new ko([],[]);ko.removeOverlap=Ey;const Vc=ko.empty;class wh{constructor(e){this.members=e}map(e,r){const n=this.members.map(a=>a.map(e,r,pf));return wh.from(n)}forChild(e,r){if(r.isLeaf)return ko.empty;let n=[];for(let a=0;a<this.members.length;a++){let l=this.members[a].forChild(e,r);l!=Vc&&(l instanceof wh?n=n.concat(l.members):n.push(l))}return wh.from(n)}eq(e){if(!(e instanceof wh)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let a=0;a<this.members.length;a++){let l=this.members[a].localsInner(e);if(l.length)if(!r)r=l;else{n&&(r=r.slice(),n=!1);for(let u=0;u<l.length;u++)r.push(l[u])}}return r?Ey(n?r:r.sort(mf)):Zf}static from(e){switch(e.length){case 0:return Vc;case 1:return e[0];default:return new wh(e.every(r=>r instanceof ko)?e:e.reduce((r,n)=>r.concat(n instanceof ko?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function m_(s,e,r,n,a,l,u){let d=s.slice();for(let o=0,f=l;o<r.maps.length;o++){let p=0;r.maps[o].forEach((m,x,b,w)=>{let y=w-b-(x-m);for(let E=0;E<d.length;E+=3){let P=d[E+1];if(P<0||m>P+f-p)continue;let z=d[E]+f-p;x>=z?d[E+1]=m<=z?-2:-1:m>=f&&y&&(d[E]+=y,d[E+1]+=y)}p+=y}),f=r.maps[o].map(f,-1)}let A=!1;for(let o=0;o<d.length;o+=3)if(d[o+1]<0){if(d[o+1]==-2){A=!0,d[o+1]=-1;continue}let f=r.map(s[o]+l),p=f-a;if(p<0||p>=n.content.size){A=!0;continue}let m=r.map(s[o+1]+l,-1),x=m-a,{index:b,offset:w}=n.content.findIndex(p),y=n.maybeChild(b);if(y&&w==p&&w+y.nodeSize==x){let E=d[o+2].mapInner(r,y,f+1,s[o]+l+1,u);E!=Vc?(d[o]=p,d[o+1]=x,d[o+2]=E):(d[o+1]=-2,A=!0)}else A=!0}if(A){let o=g_(d,s,e,r,a,l,u),f=dg(o,n,0,u);e=f.local;for(let p=0;p<d.length;p+=3)d[p+1]<0&&(d.splice(p,3),p-=3);for(let p=0,m=0;p<f.children.length;p+=3){let x=f.children[p];for(;m<d.length&&d[m]<x;)m+=3;d.splice(m,0,f.children[p],f.children[p+1],f.children[p+2])}}return new ko(e.sort(mf),d)}function bk(s,e){if(!e||!s.length)return s;let r=[];for(let n=0;n<s.length;n++){let a=s[n];r.push(new ld(a.from+e,a.to+e,a.type))}return r}function g_(s,e,r,n,a,l,u){function d(A,o){for(let f=0;f<A.local.length;f++){let p=A.local[f].map(n,a,o);p?r.push(p):u.onRemove&&u.onRemove(A.local[f].spec)}for(let f=0;f<A.children.length;f+=3)d(A.children[f+2],A.children[f]+o+1)}for(let A=0;A<s.length;A+=3)s[A+1]==-1&&d(s[A+2],e[A]+l+1);return r}function vk(s,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,a=null;for(let l=0,u;l<s.length;l++)(u=s[l])&&u.from>r&&u.to<n&&((a||(a=[])).push(u),s[l]=null);return a}function yk(s){let e=[];for(let r=0;r<s.length;r++)s[r]!=null&&e.push(s[r]);return e}function dg(s,e,r,n){let a=[],l=!1;e.forEach((d,A)=>{let o=vk(s,d,A+r);if(o){l=!0;let f=dg(o,d,r+A+1,n);f!=Vc&&a.push(A,A+d.nodeSize,f)}});let u=bk(l?yk(s):s,-r).sort(mf);for(let d=0;d<u.length;d++)u[d].type.valid(e,u[d])||(n.onRemove&&n.onRemove(u[d].spec),u.splice(d--,1));return u.length||a.length?new ko(u,a):Vc}function mf(s,e){return s.from-e.from||s.to-e.to}function Ey(s){let e=s;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let a=r+1;a<e.length;a++){let l=e[a];if(l.from==n.from){l.to!=n.to&&(e==s&&(e=s.slice()),e[a]=l.copy(l.from,n.to),G2(e,a+1,l.copy(n.to,l.to)));continue}else{l.from<n.to&&(e==s&&(e=s.slice()),e[r]=n.copy(n.from,l.from),G2(e,a,n.copy(l.from,n.to)));break}}}return e}function G2(s,e,r){for(;e<s.length&&mf(r,s[e])>0;)e++;s.splice(e,0,r)}function Eb(s){let e=[];return s.someProp("decorations",r=>{let n=r(s.state);n&&n!=Vc&&e.push(n)}),s.cursorWrapper&&e.push(ko.create(s.state.doc,[s.cursorWrapper.deco])),wh.from(e)}const x_={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},b_=Ud&&Lh<=11;class v_{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class y_{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new v_,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let a=0;a<n.length;a++)this.queue.push(n[a]);Ud&&Lh<=11&&n.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),b_&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,x_)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(R2(this.view)){if(this.suppressingSelectionUpdates)return PA(this.view);if(Ud&&Lh<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&jf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let l=e.focusNode;l;l=Ap(l))r.add(l);for(let l=e.anchorNode;l;l=Ap(l))if(r.has(l)){n=l;break}let a=n&&this.view.docView.nearestDesc(n);if(a&&a.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&R2(e)&&!this.ignoreSelectionChange(n),l=-1,u=-1,d=!1,A=[];if(e.editable)for(let f=0;f<r.length;f++){let p=this.registerMutation(r[f],A);p&&(l=l<0?p.from:Math.min(p.from,l),u=u<0?p.to:Math.max(p.to,u),p.typeOver&&(d=!0))}if(fu&&A.length){let f=A.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,m]=f;p.parentNode&&p.parentNode.parentNode==m.parentNode?m.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let m of f){let x=m.parentNode;x&&x.nodeName=="LI"&&(!p||N_(e,p)!=x)&&m.remove()}}}else if((dc||Gc)&&A.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of A)if(f.nodeName=="BR"&&f.parentNode){let p=f.nextSibling;p&&p.nodeType==1&&p.contentEditable=="false"&&f.parentNode.removeChild(f)}}let o=null;l<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&hx(n)&&(o=wy(e))&&o.eq(ha.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,PA(e),this.currentSelection.set(n),e.scrollToSelection()):(l>-1||a)&&(l>-1&&(e.docView.markDirty(l,u),w_(e)),this.handleDOMChange(l,u,d,A),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||PA(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];r.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let a=e.previousSibling,l=e.nextSibling;if(Ud&&Lh<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:m}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(a=p),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(l=m)}let u=a&&a.parentNode==e.target?Ec(a)+1:0,d=n.localPosFromDOM(e.target,u,-1),A=l&&l.parentNode==e.target?Ec(l):e.target.childNodes.length,o=n.localPosFromDOM(e.target,A,1);return{from:d,to:o}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let W2=new WeakMap,Y2=!1;function w_(s){if(!W2.has(s)&&(W2.set(s,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(s.dom).whiteSpace)!==-1)){if(s.requiresGeckoHackNode=fu,Y2)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Y2=!0}}function X2(s,e){let r=e.startContainer,n=e.startOffset,a=e.endContainer,l=e.endOffset,u=s.domAtPos(s.state.selection.anchor);return jf(u.node,u.offset,a,l)&&([r,n,a,l]=[a,l,r,n]),{anchorNode:r,anchorOffset:n,focusNode:a,focusOffset:l}}function j_(s,e){if(e.getComposedRanges){let a=e.getComposedRanges(s.root)[0];if(a)return X2(s,a)}let r;function n(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return s.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),s.dom.removeEventListener("beforeinput",n,!0),r?X2(s,r):null}function N_(s,e){for(let r=e.parentNode;r&&r!=s.dom;r=r.parentNode){let n=s.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function k_(s,e,r){let{node:n,fromOffset:a,toOffset:l,from:u,to:d}=s.docView.parseRange(e,r),A=s.domSelectionRange(),o,f=A.anchorNode;if(f&&s.dom.contains(f.nodeType==1?f:f.parentNode)&&(o=[{node:f,offset:A.anchorOffset}],hx(A)||o.push({node:A.focusNode,offset:A.focusOffset})),dc&&s.input.lastKeyCode===8)for(let y=l;y>a;y--){let E=n.childNodes[y-1],P=E.pmViewDesc;if(E.nodeName=="BR"&&!P){l=y;break}if(!P||P.size)break}let p=s.state.doc,m=s.someProp("domParser")||t0.fromSchema(s.state.schema),x=p.resolve(u),b=null,w=m.parse(n,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:a,to:l,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:o,ruleFromNode:C_,context:x});if(o&&o[0].pos!=null){let y=o[0].pos,E=o[1]&&o[1].pos;E==null&&(E=y),b={anchor:y+u,head:E+u}}return{doc:w,sel:b,from:u,to:d}}function C_(s){let e=s.pmViewDesc;if(e)return e.parseRule();if(s.nodeName=="BR"&&s.parentNode){if(Gc&&/^(ul|ol)$/i.test(s.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(s.parentNode.lastChild==s||Gc&&/^(tr|table)$/i.test(s.parentNode.nodeName))return{ignore:!0}}else if(s.nodeName=="IMG"&&s.getAttribute("mark-placeholder"))return{ignore:!0};return null}const B_=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function S_(s,e,r,n,a){let l=s.input.compositionPendingChanges||(s.composing?s.input.compositionID:0);if(s.input.compositionPendingChanges=0,e<0){let K=s.input.lastSelectionTime>Date.now()-50?s.input.lastSelectionOrigin:null,de=wy(s,K);if(de&&!s.state.selection.eq(de)){if(dc&&OA&&s.input.lastKeyCode===13&&Date.now()-100<s.input.lastKeyCodeTime&&s.someProp("handleKeyDown",ve=>ve(s,of(13,"Enter"))))return;let ue=s.state.tr.setSelection(de);K=="pointer"?ue.setMeta("pointer",!0):K=="key"&&ue.scrollIntoView(),l&&ue.setMeta("composition",l),s.dispatch(ue)}return}let u=s.state.doc.resolve(e),d=u.sharedDepth(r);e=u.before(d+1),r=s.state.doc.resolve(r).after(d+1);let A=s.state.selection,o=k_(s,e,r),f=s.state.doc,p=f.slice(o.from,o.to),m,x;s.input.lastKeyCode===8&&Date.now()-100<s.input.lastKeyCodeTime?(m=s.state.selection.to,x="end"):(m=s.state.selection.from,x="start"),s.input.lastKeyCode=null;let b=L_(p.content,o.doc.content,o.from,m,x);if(b&&s.input.domChangeCount++,(hp&&s.input.lastIOSEnter>Date.now()-225||OA)&&a.some(K=>K.nodeType==1&&!B_.test(K.nodeName))&&(!b||b.endA>=b.endB)&&s.someProp("handleKeyDown",K=>K(s,of(13,"Enter")))){s.input.lastIOSEnter=0;return}if(!b)if(n&&A instanceof $n&&!A.empty&&A.$head.sameParent(A.$anchor)&&!s.composing&&!(o.sel&&o.sel.anchor!=o.sel.head))b={start:A.from,endA:A.to,endB:A.to};else{if(o.sel){let K=J2(s,s.state.doc,o.sel);if(K&&!K.eq(s.state.selection)){let de=s.state.tr.setSelection(K);l&&de.setMeta("composition",l),s.dispatch(de)}}return}s.state.selection.from<s.state.selection.to&&b.start==b.endB&&s.state.selection instanceof $n&&(b.start>s.state.selection.from&&b.start<=s.state.selection.from+2&&s.state.selection.from>=o.from?b.start=s.state.selection.from:b.endA<s.state.selection.to&&b.endA>=s.state.selection.to-2&&s.state.selection.to<=o.to&&(b.endB+=s.state.selection.to-b.endA,b.endA=s.state.selection.to)),Ud&&Lh<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>o.from&&o.doc.textBetween(b.start-o.from-1,b.start-o.from+1)==" "&&(b.start--,b.endA--,b.endB--);let w=o.doc.resolveNoCache(b.start-o.from),y=o.doc.resolveNoCache(b.endB-o.from),E=f.resolve(b.start),P=w.sameParent(y)&&w.parent.inlineContent&&E.end()>=b.endA;if((hp&&s.input.lastIOSEnter>Date.now()-225&&(!P||a.some(K=>K.nodeName=="DIV"||K.nodeName=="P"))||!P&&w.pos<o.doc.content.size&&(!w.sameParent(y)||!w.parent.inlineContent)&&w.pos<y.pos&&!/\S/.test(o.doc.textBetween(w.pos,y.pos,"","")))&&s.someProp("handleKeyDown",K=>K(s,of(13,"Enter")))){s.input.lastIOSEnter=0;return}if(s.state.selection.anchor>b.start&&T_(f,b.start,b.endA,w,y)&&s.someProp("handleKeyDown",K=>K(s,of(8,"Backspace")))){OA&&dc&&s.domObserver.suppressSelectionUpdates();return}dc&&b.endB==b.start&&(s.input.lastChromeDelete=Date.now()),OA&&!P&&w.start()!=y.start()&&y.parentOffset==0&&w.depth==y.depth&&o.sel&&o.sel.anchor==o.sel.head&&o.sel.head==b.endA&&(b.endB-=2,y=o.doc.resolveNoCache(b.endB-o.from),setTimeout(()=>{s.someProp("handleKeyDown",function(K){return K(s,of(13,"Enter"))})},20));let z=b.start,X=b.endA,Y=K=>{let de=K||s.state.tr.replace(z,X,o.doc.slice(b.start-o.from,b.endB-o.from));if(o.sel){let ue=J2(s,de.doc,o.sel);ue&&!(dc&&s.composing&&ue.empty&&(b.start!=b.endB||s.input.lastChromeDelete<Date.now()-100)&&(ue.head==z||ue.head==de.mapping.map(X)-1)||Ud&&ue.empty&&ue.head==z)&&de.setSelection(ue)}return l&&de.setMeta("composition",l),de.scrollIntoView()},Q;if(P)if(w.pos==y.pos){Ud&&Lh<=11&&w.parentOffset==0&&(s.domObserver.suppressSelectionUpdates(),setTimeout(()=>PA(s),20));let K=Y(s.state.tr.delete(z,X)),de=f.resolve(b.start).marksAcross(f.resolve(b.endA));de&&K.ensureMarks(de),s.dispatch(K)}else if(b.endA==b.endB&&(Q=E_(w.parent.content.cut(w.parentOffset,y.parentOffset),E.parent.content.cut(E.parentOffset,b.endA-E.start())))){let K=Y(s.state.tr);Q.type=="add"?K.addMark(z,X,Q.mark):K.removeMark(z,X,Q.mark),s.dispatch(K)}else if(w.parent.child(w.index()).isText&&w.index()==y.index()-(y.textOffset?0:1)){let K=w.parent.textBetween(w.parentOffset,y.parentOffset),de=()=>Y(s.state.tr.insertText(K,z,X));s.someProp("handleTextInput",ue=>ue(s,z,X,K,de))||s.dispatch(de())}else s.dispatch(Y());else s.dispatch(Y())}function J2(s,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:jy(s,e.resolve(r.anchor),e.resolve(r.head))}function E_(s,e){let r=s.firstChild.marks,n=e.firstChild.marks,a=r,l=n,u,d,A;for(let f=0;f<n.length;f++)a=n[f].removeFromSet(a);for(let f=0;f<r.length;f++)l=r[f].removeFromSet(l);if(a.length==1&&l.length==0)d=a[0],u="add",A=f=>f.mark(d.addToSet(f.marks));else if(a.length==0&&l.length==1)d=l[0],u="remove",A=f=>f.mark(d.removeFromSet(f.marks));else return null;let o=[];for(let f=0;f<e.childCount;f++)o.push(A(e.child(f)));if(Ws.from(o).eq(s))return{mark:d,type:u}}function T_(s,e,r,n,a){if(r-e<=a.pos-n.pos||Tb(n,!0,!1)<a.pos)return!1;let l=s.resolve(e);if(!n.parent.isTextblock){let d=l.nodeAfter;return d!=null&&r==e+d.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let u=s.resolve(Tb(l,!0,!0));return!u.parent.isTextblock||u.pos>r||Tb(u,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(u.parent.content)}function Tb(s,e,r){let n=s.depth,a=e?s.end():s.pos;for(;n>0&&(e||s.indexAfter(n)==s.node(n).childCount);)n--,a++,e=!1;if(r){let l=s.node(n).maybeChild(s.indexAfter(n));for(;l&&!l.isLeaf;)l=l.firstChild,a++}return a}function L_(s,e,r,n,a){let l=s.findDiffStart(e,r);if(l==null)return null;let{a:u,b:d}=s.findDiffEnd(e,r+s.size,r+e.size);if(a=="end"){let A=Math.max(0,l-Math.min(u,d));n-=u+A-l}if(u<l&&s.size<e.size){let A=n<=l&&n>=u?l-n:0;l-=A,l&&l<e.size&&Z2(e.textBetween(l-1,l+1))&&(l+=A?1:-1),d=l+(d-u),u=l}else if(d<l){let A=n<=l&&n>=d?l-n:0;l-=A,l&&l<s.size&&Z2(s.textBetween(l-1,l+1))&&(l+=A?1:-1),u=l+(u-d),d=l}return{start:l,endA:u,endB:d}}function Z2(s){if(s.length!=2)return!1;let e=s.charCodeAt(0),r=s.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class wk{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new WQ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(rj),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=tj(this),ej(this),this.nodeViews=sj(this),this.docView=U2(this.state.doc,q2(this),Eb(this),this.dom,this),this.domObserver=new y_(this,(n,a,l,u)=>S_(this,n,a,l,u)),this.domObserver.start(),YQ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Lv(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(rj),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let a=this.state,l=!1,u=!1;e.storedMarks&&this.composing&&(pk(this),u=!0),this.state=e;let d=a.plugins!=e.plugins||this._props.plugins!=r.plugins;if(d||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let x=sj(this);U_(x,this.nodeViews)&&(this.nodeViews=x,l=!0)}(d||r.handleDOMEvents!=this._props.handleDOMEvents)&&Lv(this),this.editable=tj(this),ej(this);let A=Eb(this),o=q2(this),f=a.plugins!=e.plugins&&!a.doc.eq(e.doc)?"reset":e.scrollToSelection>a.scrollToSelection?"to selection":"preserve",p=l||!this.docView.matchesNode(e.doc,o,A);(p||!e.selection.eq(a.selection))&&(u=!0);let m=f=="preserve"&&u&&this.dom.style.overflowAnchor==null&&cQ(this);if(u){this.domObserver.stop();let x=p&&(Ud||dc)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&F_(a.selection,e.selection);if(p){let b=dc?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=c_(this)),(l||!this.docView.update(e.doc,o,A,this))&&(this.docView.updateOuterDeco(o),this.docView.destroy(),this.docView=U2(e.doc,o,A,this.dom,this)),b&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&UQ(this))?PA(this,x):(rk(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((n=this.dragging)===null||n===void 0)&&n.node&&!a.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,a),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&dQ(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof yn){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&B2(this,r.getBoundingClientRect(),e)}else B2(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,a=-1;if(this.state.doc.nodeAt(n.from)==n.node)a=n.from;else{let l=n.from+(this.state.doc.content.size-r.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==n.node&&(a=l)}this.dragging=new gk(e.slice,e.move,a<0?void 0:yn.create(this.state.doc,a))}someProp(e,r){let n=this._props&&this._props[e],a;if(n!=null&&(a=r?r(n):n))return a;for(let u=0;u<this.directPlugins.length;u++){let d=this.directPlugins[u].props[e];if(d!=null&&(a=r?r(d):d))return a}let l=this.state.plugins;if(l)for(let u=0;u<l.length;u++){let d=l[u].props[e];if(d!=null&&(a=r?r(d):d))return a}}hasFocus(){if(Ud){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&uQ(this.dom),PA(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return mQ(this,e)}coordsAtPos(e,r=1){return YN(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let a=this.docView.posFromDOM(e,r,n);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(e,r){return yQ(this,r||this.state,e)}pasteHTML(e,r){return y0(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return y0(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return Ny(this,e)}destroy(){this.docView&&(XQ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Eb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,q7())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ZQ(this,e)}domSelectionRange(){let e=this.domSelection();return e?Gc&&this.root.nodeType===11&&nQ(this.dom.ownerDocument)==this.dom&&j_(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}wk.prototype.dispatch=function(s){let e=this._props.dispatchTransaction;e?e.call(this,s):this.updateState(this.state.apply(s))};function q2(s){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(s.editable),s.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(s.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[ld.node(0,s.state.doc.content.size,e)]}function ej(s){if(s.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),s.cursorWrapper={dom:e,deco:ld.widget(s.state.selection.from,e,{raw:!0,marks:s.markCursor})}}else s.cursorWrapper=null}function tj(s){return!s.someProp("editable",e=>e(s.state)===!1)}function F_(s,e){let r=Math.min(s.$anchor.sharedDepth(s.head),e.$anchor.sharedDepth(e.head));return s.$anchor.start(r)!=e.$anchor.start(r)}function sj(s){let e=Object.create(null);function r(n){for(let a in n)Object.prototype.hasOwnProperty.call(e,a)||(e[a]=n[a])}return s.someProp("nodeViews",r),s.someProp("markViews",r),e}function U_(s,e){let r=0,n=0;for(let a in s){if(s[a]!=e[a])return!0;r++}for(let a in e)n++;return r!=n}function rj(s){if(s.spec.state||s.spec.filterTransaction||s.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Oh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ug={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},M_=typeof navigator<"u"&&/Mac/.test(navigator.platform),O_=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Tc=0;Tc<10;Tc++)Oh[48+Tc]=Oh[96+Tc]=String(Tc);for(var Tc=1;Tc<=24;Tc++)Oh[Tc+111]="F"+Tc;for(var Tc=65;Tc<=90;Tc++)Oh[Tc]=String.fromCharCode(Tc+32),ug[Tc]=String.fromCharCode(Tc);for(var Lb in Oh)ug.hasOwnProperty(Lb)||(ug[Lb]=Oh[Lb]);function I_(s){var e=M_&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||O_&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",r=!e&&s.key||(s.shiftKey?ug:Oh)[s.keyCode]||s.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const D_=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),P_=typeof navigator<"u"&&/Win/.test(navigator.platform);function R_(s){let e=s.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,a,l,u;for(let d=0;d<e.length-1;d++){let A=e[d];if(/^(cmd|meta|m)$/i.test(A))u=!0;else if(/^a(lt)?$/i.test(A))n=!0;else if(/^(c|ctrl|control)$/i.test(A))a=!0;else if(/^s(hift)?$/i.test(A))l=!0;else if(/^mod$/i.test(A))D_?u=!0:a=!0;else throw new Error("Unrecognized modifier name: "+A)}return n&&(r="Alt-"+r),a&&(r="Ctrl-"+r),u&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function Q_(s){let e=Object.create(null);for(let r in s)e[R_(r)]=s[r];return e}function Fb(s,e,r=!0){return e.altKey&&(s="Alt-"+s),e.ctrlKey&&(s="Ctrl-"+s),e.metaKey&&(s="Meta-"+s),r&&e.shiftKey&&(s="Shift-"+s),s}function __(s){return new Lo({props:{handleKeyDown:jk(s)}})}function jk(s){let e=Q_(s);return function(r,n){let a=I_(n),l,u=e[Fb(a,n)];if(u&&u(r.state,r.dispatch,r))return!0;if(a.length==1&&a!=" "){if(n.shiftKey){let d=e[Fb(a,n,!1)];if(d&&d(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(P_&&n.ctrlKey&&n.altKey)&&(l=Oh[n.keyCode])&&l!=a){let d=e[Fb(l,n)];if(d&&d(r.state,r.dispatch,r))return!0}}return!1}}var H_=Object.defineProperty,Ty=(s,e)=>{for(var r in e)H_(s,r,{get:e[r],enumerable:!0})};function mx(s){const{state:e,transaction:r}=s;let{selection:n}=r,{doc:a}=r,{storedMarks:l}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return n},get doc(){return a},get tr(){return n=r.selection,a=r.doc,l=r.storedMarks,r}}}var gx=class{constructor(s){this.editor=s.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=s.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:s,editor:e,state:r}=this,{view:n}=e,{tr:a}=r,l=this.buildProps(a);return Object.fromEntries(Object.entries(s).map(([u,d])=>[u,(...o)=>{const f=d(...o)(l);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(a),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(s,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:l}=n,u=[],d=!!s,A=s||a.tr,o=()=>(!d&&e&&!A.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(A),u.every(p=>p===!0)),f={...Object.fromEntries(Object.entries(r).map(([p,m])=>[p,(...b)=>{const w=this.buildProps(A,e),y=m(...b)(w);return u.push(y),f}])),run:o};return f}createCan(s){const{rawCommands:e,state:r}=this,n=!1,a=s||r.tr,l=this.buildProps(a,n);return{...Object.fromEntries(Object.entries(e).map(([d,A])=>[d,(...o)=>A(...o)({...l,dispatch:void 0})])),chain:()=>this.createChain(a,n)}}buildProps(s,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:l}=n,u={tr:s,editor:n,view:l,state:mx({state:a,transaction:s}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(s,e),can:()=>this.createCan(s),get commands(){return Object.fromEntries(Object.entries(r).map(([d,A])=>[d,(...o)=>A(...o)(u)]))}};return u}},Nk={};Ty(Nk,{blur:()=>z_,clearContent:()=>$_,clearNodes:()=>V_,command:()=>K_,createParagraphNear:()=>G_,cut:()=>W_,deleteCurrentNode:()=>Y_,deleteNode:()=>X_,deleteRange:()=>J_,deleteSelection:()=>Z_,enter:()=>q_,exitCode:()=>eH,extendMarkRange:()=>tH,first:()=>sH,focus:()=>nH,forEach:()=>aH,insertContent:()=>iH,insertContentAt:()=>cH,joinBackward:()=>AH,joinDown:()=>uH,joinForward:()=>hH,joinItemBackward:()=>fH,joinItemForward:()=>pH,joinTextblockBackward:()=>mH,joinTextblockForward:()=>gH,joinUp:()=>dH,keyboardShortcut:()=>bH,lift:()=>vH,liftEmptyBlock:()=>yH,liftListItem:()=>wH,newlineInCode:()=>jH,resetAttributes:()=>NH,scrollIntoView:()=>kH,selectAll:()=>CH,selectNodeBackward:()=>BH,selectNodeForward:()=>SH,selectParentNode:()=>EH,selectTextblockEnd:()=>TH,selectTextblockStart:()=>LH,setContent:()=>FH,setMark:()=>ZH,setMeta:()=>qH,setNode:()=>e9,setNodeSelection:()=>t9,setTextDirection:()=>s9,setTextSelection:()=>r9,sinkListItem:()=>n9,splitBlock:()=>a9,splitListItem:()=>i9,toggleList:()=>o9,toggleMark:()=>l9,toggleNode:()=>c9,toggleWrap:()=>d9,undoInputRule:()=>u9,unsetAllMarks:()=>A9,unsetMark:()=>h9,unsetTextDirection:()=>f9,updateAttributes:()=>p9,wrapIn:()=>m9,wrapInList:()=>g9});var z_=()=>({editor:s,view:e})=>(requestAnimationFrame(()=>{var r;s.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),$_=(s=!0)=>({commands:e})=>e.setContent("",{emitUpdate:s}),V_=()=>({state:s,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:a}=n;return r&&a.forEach(({$from:l,$to:u})=>{s.doc.nodesBetween(l.pos,u.pos,(d,A)=>{if(d.type.isText)return;const{doc:o,mapping:f}=e,p=o.resolve(f.map(A)),m=o.resolve(f.map(A+d.nodeSize)),x=p.blockRange(m);if(!x)return;const b=wp(x);if(d.type.isTextblock){const{defaultType:w}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(x.start,w)}(b||b===0)&&e.lift(x,b)})}),!0},K_=s=>e=>s(e),G_=()=>({state:s,dispatch:e})=>PN(s,e),W_=(s,e)=>({editor:r,tr:n})=>{const{state:a}=r,l=a.doc.slice(s.from,s.to);n.deleteRange(s.from,s.to);const u=n.mapping.map(e);return n.insert(u,l.content),n.setSelection(new $n(n.doc.resolve(Math.max(u-1,0)))),!0},Y_=()=>({tr:s,dispatch:e})=>{const{selection:r}=s,n=r.$anchor.node();if(n.content.size>0)return!1;const a=s.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===n.type){if(e){const d=a.before(l),A=a.after(l);s.delete(d,A).scrollIntoView()}return!0}return!1};function Tl(s,e){if(typeof s=="string"){if(!e.nodes[s])throw Error(`There is no node type named '${s}'. Maybe you forgot to add the extension?`);return e.nodes[s]}return s}var X_=s=>({tr:e,state:r,dispatch:n})=>{const a=Tl(s,r.schema),l=e.selection.$anchor;for(let u=l.depth;u>0;u-=1)if(l.node(u).type===a){if(n){const A=l.before(u),o=l.after(u);e.delete(A,o).scrollIntoView()}return!0}return!1},J_=s=>({tr:e,dispatch:r})=>{const{from:n,to:a}=s;return r&&e.delete(n,a),!0},Z_=()=>({state:s,dispatch:e})=>my(s,e),q_=()=>({commands:s})=>s.keyboardShortcut("Enter"),eH=()=>({state:s,dispatch:e})=>P7(s,e);function Ly(s){return Object.prototype.toString.call(s)==="[object RegExp]"}function Ag(s,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(a=>r.strict?e[a]===s[a]:Ly(e[a])?e[a].test(s[a]):e[a]===s[a]):!0}function kk(s,e,r={}){return s.find(n=>n.type===e&&Ag(Object.fromEntries(Object.keys(r).map(a=>[a,n.attrs[a]])),r))}function nj(s,e,r={}){return!!kk(s,e,r)}function Fy(s,e,r){var n;if(!s||!e)return;let a=s.parent.childAfter(s.parentOffset);if((!a.node||!a.node.marks.some(f=>f.type===e))&&(a=s.parent.childBefore(s.parentOffset)),!a.node||!a.node.marks.some(f=>f.type===e)||(r=r||((n=a.node.marks[0])==null?void 0:n.attrs),!kk([...a.node.marks],e,r)))return;let u=a.index,d=s.start()+a.offset,A=u+1,o=d+a.node.nodeSize;for(;u>0&&nj([...s.parent.child(u-1).marks],e,r);)u-=1,d-=s.parent.child(u).nodeSize;for(;A<s.parent.childCount&&nj([...s.parent.child(A).marks],e,r);)o+=s.parent.child(A).nodeSize,A+=1;return{from:d,to:o}}function _A(s,e){if(typeof s=="string"){if(!e.marks[s])throw Error(`There is no mark type named '${s}'. Maybe you forgot to add the extension?`);return e.marks[s]}return s}var tH=(s,e={})=>({tr:r,state:n,dispatch:a})=>{const l=_A(s,n.schema),{doc:u,selection:d}=r,{$from:A,from:o,to:f}=d;if(a){const p=Fy(A,l,e);if(p&&p.from<=o&&p.to>=f){const m=$n.create(u,p.from,p.to);r.setSelection(m)}}return!0},sH=s=>e=>{const r=typeof s=="function"?s(e):s;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function Ck(s){return s instanceof $n}function df(s=0,e=0,r=0){return Math.min(Math.max(s,e),r)}function Bk(s,e=null){if(!e)return null;const r=ha.atStart(s),n=ha.atEnd(s);if(e==="start"||e===!0)return r;if(e==="end")return n;const a=r.from,l=n.to;return e==="all"?$n.create(s,df(0,a,l),df(s.content.size,a,l)):$n.create(s,df(e,a,l),df(e,a,l))}function rH(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Uy(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var nH=(s=null,e={})=>({editor:r,view:n,tr:a,dispatch:l})=>{e={scrollIntoView:!0,...e};const u=()=>{(Uy()||rH())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&s===null||s===!1)return!0;if(l&&s===null&&!Ck(r.state.selection))return u(),!0;const d=Bk(a.doc,s)||r.state.selection,A=r.state.selection.eq(d);return l&&(A||a.setSelection(d),A&&a.storedMarks&&a.setStoredMarks(a.storedMarks),u()),!0},aH=(s,e)=>r=>s.every((n,a)=>e(n,{...r,index:a})),iH=(s,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},s,e),Sk=s=>{const e=s.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?s.removeChild(n):n.nodeType===1&&Sk(n)}return s};function dm(s){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${s}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return Sk(r)}function j0(s,e,r){if(s instanceof Th||s instanceof Ws)return s;r={slice:!0,parseOptions:{},...r};const n=typeof s=="object"&&s!==null,a=typeof s=="string";if(n)try{if(Array.isArray(s)&&s.length>0)return Ws.fromArray(s.map(d=>e.nodeFromJSON(d)));const u=e.nodeFromJSON(s);return r.errorOnInvalidContent&&u.check(),u}catch(l){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",s,"Error:",l),j0("",e,r)}if(a){if(r.errorOnInvalidContent){let u=!1,d="";const A=new uN({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:o=>(u=!0,d=typeof o=="string"?o:o.outerHTML,null)}]}})});if(r.slice?t0.fromSchema(A).parseSlice(dm(s),r.parseOptions):t0.fromSchema(A).parse(dm(s),r.parseOptions),r.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const l=t0.fromSchema(e);return r.slice?l.parseSlice(dm(s),r.parseOptions).content:l.parse(dm(s),r.parseOptions)}return j0("",e,r)}function oH(s,e,r){const n=s.steps.length-1;if(n<e)return;const a=s.steps[n];if(!(a instanceof cc||a instanceof uc))return;const l=s.mapping.maps[n];let u=0;l.forEach((d,A,o,f)=>{u===0&&(u=f)}),s.setSelection(ha.near(s.doc.resolve(u),r))}var lH=s=>!("type"in s),cH=(s,e,r)=>({tr:n,dispatch:a,editor:l})=>{var u;if(a){r={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let d;const A=y=>{l.emit("contentError",{editor:l,error:y,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},o={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{j0(e,l.schema,{parseOptions:o,errorOnInvalidContent:!0})}catch(y){A(y)}try{d=j0(e,l.schema,{parseOptions:o,errorOnInvalidContent:(u=r.errorOnInvalidContent)!=null?u:l.options.enableContentCheck})}catch(y){return A(y),!1}let{from:f,to:p}=typeof s=="number"?{from:s,to:s}:{from:s.from,to:s.to},m=!0,x=!0;if((lH(d)?d:[d]).forEach(y=>{y.check(),m=m?y.isText&&y.marks.length===0:!1,x=x?y.isBlock:!1}),f===p&&x){const{parent:y}=n.doc.resolve(f);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(f-=1,p+=1)}let w;if(m){if(Array.isArray(e))w=e.map(y=>y.text||"").join("");else if(e instanceof Ws){let y="";e.forEach(E=>{E.text&&(y+=E.text)}),w=y}else typeof e=="object"&&e&&e.text?w=e.text:w=e;n.insertText(w,f,p)}else{w=d;const y=n.doc.resolve(f),E=y.node(),P=y.parentOffset===0,z=E.isText||E.isTextblock,X=E.content.size>0;P&&z&&X&&(f=Math.max(0,f-1)),n.replaceWith(f,p,w)}r.updateSelection&&oH(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:w}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:w})}return!0},dH=()=>({state:s,dispatch:e})=>O7(s,e),uH=()=>({state:s,dispatch:e})=>I7(s,e),AH=()=>({state:s,dispatch:e})=>LN(s,e),hH=()=>({state:s,dispatch:e})=>ON(s,e),fH=()=>({state:s,dispatch:e,tr:r})=>{try{const n=dx(s.doc,s.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},pH=()=>({state:s,dispatch:e,tr:r})=>{try{const n=dx(s.doc,s.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},mH=()=>({state:s,dispatch:e})=>U7(s,e),gH=()=>({state:s,dispatch:e})=>M7(s,e);function Ek(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function xH(s){const e=s.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,a,l,u;for(let d=0;d<e.length-1;d+=1){const A=e[d];if(/^(cmd|meta|m)$/i.test(A))u=!0;else if(/^a(lt)?$/i.test(A))n=!0;else if(/^(c|ctrl|control)$/i.test(A))a=!0;else if(/^s(hift)?$/i.test(A))l=!0;else if(/^mod$/i.test(A))Uy()||Ek()?u=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${A}`)}return n&&(r=`Alt-${r}`),a&&(r=`Ctrl-${r}`),u&&(r=`Meta-${r}`),l&&(r=`Shift-${r}`),r}var bH=s=>({editor:e,view:r,tr:n,dispatch:a})=>{const l=xH(s).split(/-(?!$)/),u=l.find(o=>!["Alt","Ctrl","Meta","Shift"].includes(o)),d=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),A=e.captureTransaction(()=>{r.someProp("handleKeyDown",o=>o(r,d))});return A==null||A.steps.forEach(o=>{const f=o.map(n.mapping);f&&a&&n.maybeStep(f)}),!0};function Ih(s,e,r={}){const{from:n,to:a,empty:l}=s.selection,u=e?Tl(e,s.schema):null,d=[];s.doc.nodesBetween(n,a,(p,m)=>{if(p.isText)return;const x=Math.max(n,m),b=Math.min(a,m+p.nodeSize);d.push({node:p,from:x,to:b})});const A=a-n,o=d.filter(p=>u?u.name===p.node.type.name:!0).filter(p=>Ag(p.node.attrs,r,{strict:!1}));return l?!!o.length:o.reduce((p,m)=>p+m.to-m.from,0)>=A}var vH=(s,e={})=>({state:r,dispatch:n})=>{const a=Tl(s,r.schema);return Ih(r,a,e)?D7(r,n):!1},yH=()=>({state:s,dispatch:e})=>RN(s,e),wH=s=>({state:e,dispatch:r})=>{const n=Tl(s,e.schema);return Y7(n)(e,r)},jH=()=>({state:s,dispatch:e})=>DN(s,e);function xx(s,e){return e.nodes[s]?"node":e.marks[s]?"mark":null}function aj(s,e){const r=typeof e=="string"?[e]:e;return Object.keys(s).reduce((n,a)=>(r.includes(a)||(n[a]=s[a]),n),{})}var NH=(s,e)=>({tr:r,state:n,dispatch:a})=>{let l=null,u=null;const d=xx(typeof s=="string"?s:s.name,n.schema);if(!d)return!1;d==="node"&&(l=Tl(s,n.schema)),d==="mark"&&(u=_A(s,n.schema));let A=!1;return r.selection.ranges.forEach(o=>{n.doc.nodesBetween(o.$from.pos,o.$to.pos,(f,p)=>{l&&l===f.type&&(A=!0,a&&r.setNodeMarkup(p,void 0,aj(f.attrs,e))),u&&f.marks.length&&f.marks.forEach(m=>{u===m.type&&(A=!0,a&&r.addMark(p,p+f.nodeSize,u.create(aj(m.attrs,e))))})})}),A},kH=()=>({tr:s,dispatch:e})=>(e&&s.scrollIntoView(),!0),CH=()=>({tr:s,dispatch:e})=>{if(e){const r=new Yd(s.doc);s.setSelection(r)}return!0},BH=()=>({state:s,dispatch:e})=>UN(s,e),SH=()=>({state:s,dispatch:e})=>IN(s,e),EH=()=>({state:s,dispatch:e})=>_7(s,e),TH=()=>({state:s,dispatch:e})=>$7(s,e),LH=()=>({state:s,dispatch:e})=>z7(s,e);function Fv(s,e,r={},n={}){return j0(s,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var FH=(s,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:a,tr:l,dispatch:u,commands:d})=>{const{doc:A}=l;if(n.preserveWhitespace!=="full"){const o=Fv(s,a.schema,n,{errorOnInvalidContent:e??a.options.enableContentCheck});return u&&l.replaceWith(0,A.content.size,o).setMeta("preventUpdate",!r),!0}return u&&l.setMeta("preventUpdate",!r),d.insertContentAt({from:0,to:A.content.size},s,{parseOptions:n,errorOnInvalidContent:e??a.options.enableContentCheck})};function Tk(s,e){const r=_A(e,s.schema),{from:n,to:a,empty:l}=s.selection,u=[];l?(s.storedMarks&&u.push(...s.storedMarks),u.push(...s.selection.$head.marks())):s.doc.nodesBetween(n,a,A=>{u.push(...A.marks)});const d=u.find(A=>A.type.name===r.name);return d?{...d.attrs}:{}}function Lk(s,e){const r=new BN(s);return e.forEach(n=>{n.steps.forEach(a=>{r.step(a)})}),r}function UH(s){for(let e=0;e<s.edgeCount;e+=1){const{type:r}=s.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function MH(s,e,r){const n=[];return s.nodesBetween(e.from,e.to,(a,l)=>{r(a)&&n.push({node:a,pos:l})}),n}function OH(s,e){for(let r=s.depth;r>0;r-=1){const n=s.node(r);if(e(n))return{pos:r>0?s.before(r):0,start:s.start(r),depth:r,node:n}}}function bx(s){return e=>OH(e.$from,s)}function xn(s,e,r){return s.config[e]===void 0&&s.parent?xn(s.parent,e,r):typeof s.config[e]=="function"?s.config[e].bind({...r,parent:s.parent?xn(s.parent,e,r):null}):s.config[e]}function My(s){return s.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=xn(e,"addExtensions",r);return n?[e,...My(n())]:e}).flat(10)}function Oy(s,e){const r=Bf.fromSchema(e).serializeFragment(s),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(r),a.innerHTML}function Fk(s){return typeof s=="function"}function Ni(s,e=void 0,...r){return Fk(s)?e?s.bind(e)(...r):s(...r):s}function IH(s={}){return Object.keys(s).length===0&&s.constructor===Object}function fp(s){const e=s.filter(a=>a.type==="extension"),r=s.filter(a=>a.type==="node"),n=s.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function Uk(s){const e=[],{nodeExtensions:r,markExtensions:n}=fp(s),a=[...r,...n],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return s.forEach(u=>{const d={name:u.name,options:u.options,storage:u.storage,extensions:a},A=xn(u,"addGlobalAttributes",d);if(!A)return;A().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([m,x])=>{e.push({type:p,name:m,attribute:{...l,...x}})})})})}),a.forEach(u=>{const d={name:u.name,options:u.options,storage:u.storage},A=xn(u,"addAttributes",d);if(!A)return;const o=A();Object.entries(o).forEach(([f,p])=>{const m={...l,...p};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,e.push({type:u.name,name:f,attribute:m})})}),e}function Eo(...s){return s.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([a,l])=>{if(!n[a]){n[a]=l;return}if(a==="class"){const d=l?String(l).split(" "):[],A=n[a]?n[a].split(" "):[],o=d.filter(f=>!A.includes(f));n[a]=[...A,...o].join(" ")}else if(a==="style"){const d=l?l.split(";").map(f=>f.trim()).filter(Boolean):[],A=n[a]?n[a].split(";").map(f=>f.trim()).filter(Boolean):[],o=new Map;A.forEach(f=>{const[p,m]=f.split(":").map(x=>x.trim());o.set(p,m)}),d.forEach(f=>{const[p,m]=f.split(":").map(x=>x.trim());o.set(p,m)}),n[a]=Array.from(o.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else n[a]=l}),n},{})}function hg(s,e){return e.filter(r=>r.type===s.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(s.attrs)||{}:{[r.name]:s.attrs[r.name]}).reduce((r,n)=>Eo(r,n),{})}function DH(s){return typeof s!="string"?s:s.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(s):s==="true"?!0:s==="false"?!1:s}function ij(s,e){return"style"in s?s:{...s,getAttrs:r=>{const n=s.getAttrs?s.getAttrs(r):s.attrs;if(n===!1)return!1;const a=e.reduce((l,u)=>{const d=u.attribute.parseHTML?u.attribute.parseHTML(r):DH(r.getAttribute(u.name));return d==null?l:{...l,[u.name]:d}},{});return{...n,...a}}}}function oj(s){return Object.fromEntries(Object.entries(s).filter(([e,r])=>e==="attrs"&&IH(r)?!1:r!=null))}function lj(s){var e,r;const n={};return!((e=s==null?void 0:s.attribute)!=null&&e.isRequired)&&"default"in((s==null?void 0:s.attribute)||{})&&(n.default=s.attribute.default),((r=s==null?void 0:s.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=s.attribute.validate),[s.name,n]}function PH(s,e){var r;const n=Uk(s),{nodeExtensions:a,markExtensions:l}=fp(s),u=(r=a.find(o=>xn(o,"topNode")))==null?void 0:r.name,d=Object.fromEntries(a.map(o=>{const f=n.filter(E=>E.type===o.name),p={name:o.name,options:o.options,storage:o.storage,editor:e},m=s.reduce((E,P)=>{const z=xn(P,"extendNodeSchema",p);return{...E,...z?z(o):{}}},{}),x=oj({...m,content:Ni(xn(o,"content",p)),marks:Ni(xn(o,"marks",p)),group:Ni(xn(o,"group",p)),inline:Ni(xn(o,"inline",p)),atom:Ni(xn(o,"atom",p)),selectable:Ni(xn(o,"selectable",p)),draggable:Ni(xn(o,"draggable",p)),code:Ni(xn(o,"code",p)),whitespace:Ni(xn(o,"whitespace",p)),linebreakReplacement:Ni(xn(o,"linebreakReplacement",p)),defining:Ni(xn(o,"defining",p)),isolating:Ni(xn(o,"isolating",p)),attrs:Object.fromEntries(f.map(lj))}),b=Ni(xn(o,"parseHTML",p));b&&(x.parseDOM=b.map(E=>ij(E,f)));const w=xn(o,"renderHTML",p);w&&(x.toDOM=E=>w({node:E,HTMLAttributes:hg(E,f)}));const y=xn(o,"renderText",p);return y&&(x.toText=y),[o.name,x]})),A=Object.fromEntries(l.map(o=>{const f=n.filter(y=>y.type===o.name),p={name:o.name,options:o.options,storage:o.storage,editor:e},m=s.reduce((y,E)=>{const P=xn(E,"extendMarkSchema",p);return{...y,...P?P(o):{}}},{}),x=oj({...m,inclusive:Ni(xn(o,"inclusive",p)),excludes:Ni(xn(o,"excludes",p)),group:Ni(xn(o,"group",p)),spanning:Ni(xn(o,"spanning",p)),code:Ni(xn(o,"code",p)),attrs:Object.fromEntries(f.map(lj))}),b=Ni(xn(o,"parseHTML",p));b&&(x.parseDOM=b.map(y=>ij(y,f)));const w=xn(o,"renderHTML",p);return w&&(x.toDOM=y=>w({mark:y,HTMLAttributes:hg(y,f)})),[o.name,x]}));return new uN({topNode:u,nodes:d,marks:A})}function RH(s){const e=s.filter((r,n)=>s.indexOf(r)!==n);return Array.from(new Set(e))}function Iy(s){return s.sort((r,n)=>{const a=xn(r,"priority")||100,l=xn(n,"priority")||100;return a>l?-1:a<l?1:0})}function Mk(s){const e=Iy(My(s)),r=RH(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function Ok(s,e,r){const{from:n,to:a}=e,{blockSeparator:l=`

`,textSerializers:u={}}=r||{};let d="";return s.nodesBetween(n,a,(A,o,f,p)=>{var m;A.isBlock&&o>n&&(d+=l);const x=u==null?void 0:u[A.type.name];if(x)return f&&(d+=x({node:A,pos:o,parent:f,index:p,range:e})),!1;A.isText&&(d+=(m=A==null?void 0:A.text)==null?void 0:m.slice(Math.max(n,o)-o,a-o))}),d}function QH(s,e){const r={from:0,to:s.content.size};return Ok(s,r,e)}function Ik(s){return Object.fromEntries(Object.entries(s.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function _H(s,e){const r=Tl(e,s.schema),{from:n,to:a}=s.selection,l=[];s.doc.nodesBetween(n,a,d=>{l.push(d)});const u=l.reverse().find(d=>d.type.name===r.name);return u?{...u.attrs}:{}}function Dk(s,e){const r=xx(typeof e=="string"?e:e.name,s.schema);return r==="node"?_H(s,e):r==="mark"?Tk(s,e):{}}function HH(s,e=JSON.stringify){const r={};return s.filter(n=>{const a=e(n);return Object.prototype.hasOwnProperty.call(r,a)?!1:r[a]=!0})}function zH(s){const e=HH(s);return e.length===1?e:e.filter((r,n)=>!e.filter((l,u)=>u!==n).some(l=>r.oldRange.from>=l.oldRange.from&&r.oldRange.to<=l.oldRange.to&&r.newRange.from>=l.newRange.from&&r.newRange.to<=l.newRange.to))}function Pk(s){const{mapping:e,steps:r}=s,n=[];return e.maps.forEach((a,l)=>{const u=[];if(a.ranges.length)a.forEach((d,A)=>{u.push({from:d,to:A})});else{const{from:d,to:A}=r[l];if(d===void 0||A===void 0)return;u.push({from:d,to:A})}u.forEach(({from:d,to:A})=>{const o=e.slice(l).map(d,-1),f=e.slice(l).map(A),p=e.invert().map(o,-1),m=e.invert().map(f);n.push({oldRange:{from:p,to:m},newRange:{from:o,to:f}})})}),zH(n)}function Dy(s,e,r){const n=[];return s===e?r.resolve(s).marks().forEach(a=>{const l=r.resolve(s),u=Fy(l,a.type);u&&n.push({mark:a,...u})}):r.nodesBetween(s,e,(a,l)=>{!a||(a==null?void 0:a.nodeSize)===void 0||n.push(...a.marks.map(u=>({from:l,to:l+a.nodeSize,mark:u})))}),n}var $H=(s,e,r,n=20)=>{const a=s.doc.resolve(r);let l=n,u=null;for(;l>0&&u===null;){const d=a.node(l);(d==null?void 0:d.type.name)===e?u=d:l-=1}return[u,l]};function Ub(s,e){return e.nodes[s]||e.marks[s]||null}function Tm(s,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const a=s.find(l=>l.type===e&&l.name===n);return a?a.attribute.keepOnSplit:!1}))}var VH=(s,e=500)=>{let r="";const n=s.parentOffset;return s.parent.nodesBetween(Math.max(0,n-e),n,(a,l,u,d)=>{var A,o;const f=((o=(A=a.type.spec).toText)==null?void 0:o.call(A,{node:a,pos:l,parent:u,index:d}))||a.textContent||"%leaf%";r+=a.isAtom&&!a.isText?f:f.slice(0,Math.max(0,n-l))}),r};function Uv(s,e,r={}){const{empty:n,ranges:a}=s.selection,l=e?_A(e,s.schema):null;if(n)return!!(s.storedMarks||s.selection.$from.marks()).filter(p=>l?l.name===p.type.name:!0).find(p=>Ag(p.attrs,r,{strict:!1}));let u=0;const d=[];if(a.forEach(({$from:p,$to:m})=>{const x=p.pos,b=m.pos;s.doc.nodesBetween(x,b,(w,y)=>{if(!w.isText&&!w.marks.length)return;const E=Math.max(x,y),P=Math.min(b,y+w.nodeSize),z=P-E;u+=z,d.push(...w.marks.map(X=>({mark:X,from:E,to:P})))})}),u===0)return!1;const A=d.filter(p=>l?l.name===p.mark.type.name:!0).filter(p=>Ag(p.mark.attrs,r,{strict:!1})).reduce((p,m)=>p+m.to-m.from,0),o=d.filter(p=>l?p.mark.type!==l&&p.mark.type.excludes(l):!0).reduce((p,m)=>p+m.to-m.from,0);return(A>0?A+o:A)>=u}function KH(s,e,r={}){if(!e)return Ih(s,null,r)||Uv(s,null,r);const n=xx(e,s.schema);return n==="node"?Ih(s,e,r):n==="mark"?Uv(s,e,r):!1}var GH=(s,e)=>{const{$from:r,$to:n,$anchor:a}=s.selection;if(e){const l=bx(d=>d.type.name===e)(s.selection);if(!l)return!1;const u=s.doc.resolve(l.pos+1);return a.pos+1===u.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},WH=s=>{const{$from:e,$to:r}=s.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function cj(s,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===s.name):e}function dj(s,e){const{nodeExtensions:r}=fp(e),n=r.find(u=>u.name===s);if(!n)return!1;const a={name:n.name,options:n.options,storage:n.storage},l=Ni(xn(n,"group",a));return typeof l!="string"?!1:l.split(" ").includes("list")}function vx(s,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(s.type.name==="hardBreak")return!0;if(s.isText)return/^\s*$/m.test((n=s.text)!=null?n:"")}if(s.isText)return!s.text;if(s.isAtom||s.isLeaf)return!1;if(s.content.childCount===0)return!0;if(e){let a=!0;return s.content.forEach(l=>{a!==!1&&(vx(l,{ignoreWhitespace:r,checkChildren:e})||(a=!1))}),a}return!1}function Rk(s){return s instanceof yn}var Qk=class _k{constructor(e){this.position=e}static fromJSON(e){return new _k(e.position)}toJSON(){return{position:this.position}}};function YH(s,e){const r=e.mapping.mapResult(s.position);return{position:new Qk(r.pos),mapResult:r}}function XH(s){return new Qk(s)}function JH(s,e,r){var n;const{selection:a}=e;let l=null;if(Ck(a)&&(l=a.$cursor),l){const d=(n=s.storedMarks)!=null?n:l.marks();return l.parent.type.allowsMarkType(r)&&(!!r.isInSet(d)||!d.some(o=>o.type.excludes(r)))}const{ranges:u}=a;return u.some(({$from:d,$to:A})=>{let o=d.depth===0?s.doc.inlineContent&&s.doc.type.allowsMarkType(r):!1;return s.doc.nodesBetween(d.pos,A.pos,(f,p,m)=>{if(o)return!1;if(f.isInline){const x=!m||m.type.allowsMarkType(r),b=!!r.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(r));o=x&&b}return!o}),o})}var ZH=(s,e={})=>({tr:r,state:n,dispatch:a})=>{const{selection:l}=r,{empty:u,ranges:d}=l,A=_A(s,n.schema);if(a)if(u){const o=Tk(n,A);r.addStoredMark(A.create({...o,...e}))}else d.forEach(o=>{const f=o.$from.pos,p=o.$to.pos;n.doc.nodesBetween(f,p,(m,x)=>{const b=Math.max(x,f),w=Math.min(x+m.nodeSize,p);m.marks.find(E=>E.type===A)?m.marks.forEach(E=>{A===E.type&&r.addMark(b,w,A.create({...E.attrs,...e}))}):r.addMark(b,w,A.create(e))})});return JH(n,r,A)},qH=(s,e)=>({tr:r})=>(r.setMeta(s,e),!0),e9=(s,e={})=>({state:r,dispatch:n,chain:a})=>{const l=Tl(s,r.schema);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),l.isTextblock?a().command(({commands:d})=>N2(l,{...u,...e})(r)?!0:d.clearNodes()).command(({state:d})=>N2(l,{...u,...e})(d,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},t9=s=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,a=df(s,0,n.content.size),l=yn.create(n,a);e.setSelection(l)}return!0},s9=(s,e)=>({tr:r,state:n,dispatch:a})=>{const{selection:l}=n;let u,d;return typeof e=="number"?(u=e,d=e):e&&"from"in e&&"to"in e?(u=e.from,d=e.to):(u=l.from,d=l.to),a&&r.doc.nodesBetween(u,d,(A,o)=>{A.isText||r.setNodeMarkup(o,void 0,{...A.attrs,dir:s})}),!0},r9=s=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:a,to:l}=typeof s=="number"?{from:s,to:s}:s,u=$n.atStart(n).from,d=$n.atEnd(n).to,A=df(a,u,d),o=df(l,u,d),f=$n.create(n,A,o);e.setSelection(f)}return!0},n9=s=>({state:e,dispatch:r})=>{const n=Tl(s,e.schema);return Z7(n)(e,r)};function uj(s,e){const r=s.storedMarks||s.selection.$to.parentOffset&&s.selection.$from.marks();if(r){const n=r.filter(a=>e==null?void 0:e.includes(a.type.name));s.tr.ensureMarks(n)}}var a9=({keepMarks:s=!0}={})=>({tr:e,state:r,dispatch:n,editor:a})=>{const{selection:l,doc:u}=e,{$from:d,$to:A}=l,o=a.extensionManager.attributes,f=Tm(o,d.node().type.name,d.node().attrs);if(l instanceof yn&&l.node.isBlock)return!d.parentOffset||!DA(u,d.pos)?!1:(n&&(s&&uj(r,a.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const p=A.parentOffset===A.parent.content.size,m=d.depth===0?void 0:UH(d.node(-1).contentMatchAt(d.indexAfter(-1)));let x=p&&m?[{type:m,attrs:f}]:void 0,b=DA(e.doc,e.mapping.map(d.pos),1,x);if(!x&&!b&&DA(e.doc,e.mapping.map(d.pos),1,m?[{type:m}]:void 0)&&(b=!0,x=m?[{type:m,attrs:f}]:void 0),n){if(b&&(l instanceof $n&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,x),m&&!p&&!d.parentOffset&&d.parent.type!==m)){const w=e.mapping.map(d.before()),y=e.doc.resolve(w);d.node(-1).canReplaceWith(y.index(),y.index()+1,m)&&e.setNodeMarkup(e.mapping.map(d.before()),m)}s&&uj(r,a.extensionManager.splittableMarks),e.scrollIntoView()}return b},i9=(s,e={})=>({tr:r,state:n,dispatch:a,editor:l})=>{var u;const d=Tl(s,n.schema),{$from:A,$to:o}=n.selection,f=n.selection.node;if(f&&f.isBlock||A.depth<2||!A.sameParent(o))return!1;const p=A.node(-1);if(p.type!==d)return!1;const m=l.extensionManager.attributes;if(A.parent.content.size===0&&A.node(-1).childCount===A.indexAfter(-1)){if(A.depth===2||A.node(-3).type!==d||A.index(-2)!==A.node(-2).childCount-1)return!1;if(a){let E=Ws.empty;const P=A.index(-1)?1:A.index(-2)?2:3;for(let de=A.depth-P;de>=A.depth-3;de-=1)E=Ws.from(A.node(de).copy(E));const z=A.indexAfter(-1)<A.node(-2).childCount?1:A.indexAfter(-2)<A.node(-3).childCount?2:3,X={...Tm(m,A.node().type.name,A.node().attrs),...e},Y=((u=d.contentMatch.defaultType)==null?void 0:u.createAndFill(X))||void 0;E=E.append(Ws.from(d.createAndFill(null,Y)||void 0));const Q=A.before(A.depth-(P-1));r.replace(Q,A.after(-z),new Mr(E,4-P,0));let K=-1;r.doc.nodesBetween(Q,r.doc.content.size,(de,ue)=>{if(K>-1)return!1;de.isTextblock&&de.content.size===0&&(K=ue+1)}),K>-1&&r.setSelection($n.near(r.doc.resolve(K))),r.scrollIntoView()}return!0}const x=o.pos===A.end()?p.contentMatchAt(0).defaultType:null,b={...Tm(m,p.type.name,p.attrs),...e},w={...Tm(m,A.node().type.name,A.node().attrs),...e};r.delete(A.pos,o.pos);const y=x?[{type:d,attrs:b},{type:x,attrs:w}]:[{type:d,attrs:b}];if(!DA(r.doc,A.pos,2))return!1;if(a){const{selection:E,storedMarks:P}=n,{splittableMarks:z}=l.extensionManager,X=P||E.$to.parentOffset&&E.$from.marks();if(r.split(A.pos,2,y).scrollIntoView(),!X||!a)return!0;const Y=X.filter(Q=>z.includes(Q.type.name));r.ensureMarks(Y)}return!0},Mb=(s,e)=>{const r=bx(u=>u.type===e)(s.selection);if(!r)return!0;const n=s.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const a=s.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&Qh(s.doc,r.pos)&&s.join(r.pos),!0},Ob=(s,e)=>{const r=bx(u=>u.type===e)(s.selection);if(!r)return!0;const n=s.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const a=s.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&Qh(s.doc,n)&&s.join(n),!0},o9=(s,e,r,n={})=>({editor:a,tr:l,state:u,dispatch:d,chain:A,commands:o,can:f})=>{const{extensions:p,splittableMarks:m}=a.extensionManager,x=Tl(s,u.schema),b=Tl(e,u.schema),{selection:w,storedMarks:y}=u,{$from:E,$to:P}=w,z=E.blockRange(P),X=y||w.$to.parentOffset&&w.$from.marks();if(!z)return!1;const Y=bx(Q=>dj(Q.type.name,p))(w);if(z.depth>=1&&Y&&z.depth-Y.depth<=1){if(Y.node.type===x)return o.liftListItem(b);if(dj(Y.node.type.name,p)&&x.validContent(Y.node.content)&&d)return A().command(()=>(l.setNodeMarkup(Y.pos,x),!0)).command(()=>Mb(l,x)).command(()=>Ob(l,x)).run()}return!r||!X||!d?A().command(()=>f().wrapInList(x,n)?!0:o.clearNodes()).wrapInList(x,n).command(()=>Mb(l,x)).command(()=>Ob(l,x)).run():A().command(()=>{const Q=f().wrapInList(x,n),K=X.filter(de=>m.includes(de.type.name));return l.ensureMarks(K),Q?!0:o.clearNodes()}).wrapInList(x,n).command(()=>Mb(l,x)).command(()=>Ob(l,x)).run()},l9=(s,e={},r={})=>({state:n,commands:a})=>{const{extendEmptyMarkRange:l=!1}=r,u=_A(s,n.schema);return Uv(n,u,e)?a.unsetMark(u,{extendEmptyMarkRange:l}):a.setMark(u,e)},c9=(s,e,r={})=>({state:n,commands:a})=>{const l=Tl(s,n.schema),u=Tl(e,n.schema),d=Ih(n,l,r);let A;return n.selection.$anchor.sameParent(n.selection.$head)&&(A=n.selection.$anchor.parent.attrs),d?a.setNode(u,A):a.setNode(l,{...A,...r})},d9=(s,e={})=>({state:r,commands:n})=>{const a=Tl(s,r.schema);return Ih(r,a,e)?n.lift(a):n.wrapIn(a,e)},u9=()=>({state:s,dispatch:e})=>{const r=s.plugins;for(let n=0;n<r.length;n+=1){const a=r[n];let l;if(a.spec.isInputRules&&(l=a.getState(s))){if(e){const u=s.tr,d=l.transform;for(let A=d.steps.length-1;A>=0;A-=1)u.step(d.steps[A].invert(d.docs[A]));if(l.text){const A=u.doc.resolve(l.from).marks();u.replaceWith(l.from,l.to,s.schema.text(l.text,A))}else u.delete(l.from,l.to)}return!0}}return!1},A9=()=>({tr:s,dispatch:e})=>{const{selection:r}=s,{empty:n,ranges:a}=r;return n||e&&a.forEach(l=>{s.removeMark(l.$from.pos,l.$to.pos)}),!0},h9=(s,e={})=>({tr:r,state:n,dispatch:a})=>{var l;const{extendEmptyMarkRange:u=!1}=e,{selection:d}=r,A=_A(s,n.schema),{$from:o,empty:f,ranges:p}=d;if(!a)return!0;if(f&&u){let{from:m,to:x}=d;const b=(l=o.marks().find(y=>y.type===A))==null?void 0:l.attrs,w=Fy(o,A,b);w&&(m=w.from,x=w.to),r.removeMark(m,x,A)}else p.forEach(m=>{r.removeMark(m.$from.pos,m.$to.pos,A)});return r.removeStoredMark(A),!0},f9=s=>({tr:e,state:r,dispatch:n})=>{const{selection:a}=r;let l,u;return typeof s=="number"?(l=s,u=s):s&&"from"in s&&"to"in s?(l=s.from,u=s.to):(l=a.from,u=a.to),n&&e.doc.nodesBetween(l,u,(d,A)=>{if(d.isText)return;const o={...d.attrs};delete o.dir,e.setNodeMarkup(A,void 0,o)}),!0},p9=(s,e={})=>({tr:r,state:n,dispatch:a})=>{let l=null,u=null;const d=xx(typeof s=="string"?s:s.name,n.schema);if(!d)return!1;d==="node"&&(l=Tl(s,n.schema)),d==="mark"&&(u=_A(s,n.schema));let A=!1;return r.selection.ranges.forEach(o=>{const f=o.$from.pos,p=o.$to.pos;let m,x,b,w;r.selection.empty?n.doc.nodesBetween(f,p,(y,E)=>{l&&l===y.type&&(A=!0,b=Math.max(E,f),w=Math.min(E+y.nodeSize,p),m=E,x=y)}):n.doc.nodesBetween(f,p,(y,E)=>{E<f&&l&&l===y.type&&(A=!0,b=Math.max(E,f),w=Math.min(E+y.nodeSize,p),m=E,x=y),E>=f&&E<=p&&(l&&l===y.type&&(A=!0,a&&r.setNodeMarkup(E,void 0,{...y.attrs,...e})),u&&y.marks.length&&y.marks.forEach(P=>{if(u===P.type&&(A=!0,a)){const z=Math.max(E,f),X=Math.min(E+y.nodeSize,p);r.addMark(z,X,u.create({...P.attrs,...e}))}}))}),x&&(m!==void 0&&a&&r.setNodeMarkup(m,void 0,{...x.attrs,...e}),u&&x.marks.length&&x.marks.forEach(y=>{u===y.type&&a&&r.addMark(b,w,u.create({...y.attrs,...e}))}))}),A},m9=(s,e={})=>({state:r,dispatch:n})=>{const a=Tl(s,r.schema);return V7(a,e)(r,n)},g9=(s,e={})=>({state:r,dispatch:n})=>{const a=Tl(s,r.schema);return K7(a,e)(r,n)},x9=class{constructor(){this.callbacks={}}on(s,e){return this.callbacks[s]||(this.callbacks[s]=[]),this.callbacks[s].push(e),this}emit(s,...e){const r=this.callbacks[s];return r&&r.forEach(n=>n.apply(this,e)),this}off(s,e){const r=this.callbacks[s];return r&&(e?this.callbacks[s]=r.filter(n=>n!==e):delete this.callbacks[s]),this}once(s,e){const r=(...n)=>{this.off(s,r),e.apply(this,n)};return this.on(s,r)}removeAllListeners(){this.callbacks={}}},yx=class{constructor(s){var e;this.find=s.find,this.handler=s.handler,this.undoable=(e=s.undoable)!=null?e:!0}},b9=(s,e)=>{if(Ly(e))return e.exec(s);const r=e(s);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=s,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function um(s){var e;const{editor:r,from:n,to:a,text:l,rules:u,plugin:d}=s,{view:A}=r;if(A.composing)return!1;const o=A.state.doc.resolve(n);if(o.parent.type.spec.code||(e=o.nodeBefore||o.nodeAfter)!=null&&e.marks.find(m=>m.type.spec.code))return!1;let f=!1;const p=VH(o)+l;return u.forEach(m=>{if(f)return;const x=b9(p,m.find);if(!x)return;const b=A.state.tr,w=mx({state:A.state,transaction:b}),y={from:n-(x[0].length-l.length),to:a},{commands:E,chain:P,can:z}=new gx({editor:r,state:w});m.handler({state:w,range:y,match:x,commands:E,chain:P,can:z})===null||!b.steps.length||(m.undoable&&b.setMeta(d,{transform:b,from:n,to:a,text:l}),A.dispatch(b),f=!0)}),f}function v9(s){const{editor:e,rules:r}=s,n=new Lo({state:{init(){return null},apply(a,l,u){const d=a.getMeta(n);if(d)return d;const A=a.getMeta("applyInputRules");return!!A&&setTimeout(()=>{let{text:f}=A;typeof f=="string"?f=f:f=Oy(Ws.from(f),u.schema);const{from:p}=A,m=p+f.length;um({editor:e,from:p,to:m,text:f,rules:r,plugin:n})}),a.selectionSet||a.docChanged?null:l}},props:{handleTextInput(a,l,u,d){return um({editor:e,from:l,to:u,text:d,rules:r,plugin:n})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:l}=a.state.selection;l&&um({editor:e,from:l.pos,to:l.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(a,l){if(l.key!=="Enter")return!1;const{$cursor:u}=a.state.selection;return u?um({editor:e,from:u.pos,to:u.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function y9(s){return Object.prototype.toString.call(s).slice(8,-1)}function Am(s){return y9(s)!=="Object"?!1:s.constructor===Object&&Object.getPrototypeOf(s)===Object.prototype}function Hk(s,e){const r={...s};return Am(s)&&Am(e)&&Object.keys(e).forEach(n=>{Am(e[n])&&Am(s[n])?r[n]=Hk(s[n],e[n]):r[n]=e[n]}),r}var Py=class{constructor(s={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...s},this.name=this.config.name}get options(){return{...Ni(xn(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ni(xn(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(s={}){const e=this.extend({...this.config,addOptions:()=>Hk(this.options,s)});return e.name=this.name,e.parent=this.parent,e}extend(s={}){const e=new this.constructor({...this.config,...s});return e.parent=this,this.child=e,e.name="name"in s?s.name:e.parent.name,e}},HA=class zk extends Py{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new zk(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,a=e.state.selection.$from;if(a.pos===a.end()){const u=a.marks();if(!!!u.find(o=>(o==null?void 0:o.type.name)===r.name))return!1;const A=u.find(o=>(o==null?void 0:o.type.name)===r.name);return A&&n.removeStoredMark(A),n.insertText(" ",a.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function w9(s){return typeof s=="number"}var j9=class{constructor(s){this.find=s.find,this.handler=s.handler}},N9=(s,e,r)=>{if(Ly(e))return[...s.matchAll(e)];const n=e(s,r);return n?n.map(a=>{const l=[a.text];return l.index=a.index,l.input=s,l.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(a.replaceWith)),l}):[]};function k9(s){const{editor:e,state:r,from:n,to:a,rule:l,pasteEvent:u,dropEvent:d}=s,{commands:A,chain:o,can:f}=new gx({editor:e,state:r}),p=[];return r.doc.nodesBetween(n,a,(x,b)=>{var w,y,E,P,z;if((y=(w=x.type)==null?void 0:w.spec)!=null&&y.code||!(x.isText||x.isTextblock||x.isInline))return;const X=(z=(P=(E=x.content)==null?void 0:E.size)!=null?P:x.nodeSize)!=null?z:0,Y=Math.max(n,b),Q=Math.min(a,b+X);if(Y>=Q)return;const K=x.isText?x.text||"":x.textBetween(Y-b,Q-b,void 0,"");N9(K,l.find,u).forEach(ue=>{if(ue.index===void 0)return;const ve=Y+ue.index+1,le=ve+ue[0].length,Ce={from:r.tr.mapping.map(ve),to:r.tr.mapping.map(le)},oe=l.handler({state:r,range:Ce,match:ue,commands:A,chain:o,can:f,pasteEvent:u,dropEvent:d});p.push(oe)})}),p.every(x=>x!==null)}var hm=null,C9=s=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",s),r};function B9(s){const{editor:e,rules:r}=s;let n=null,a=!1,l=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const A=({state:f,from:p,to:m,rule:x,pasteEvt:b})=>{const w=f.tr,y=mx({state:f,transaction:w});if(!(!k9({editor:e,state:y,from:Math.max(p-1,0),to:m.b-1,rule:x,pasteEvent:b,dropEvent:d})||!w.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return r.map(f=>new Lo({view(p){const m=b=>{var w;n=(w=p.dom.parentElement)!=null&&w.contains(b.target)?p.dom.parentElement:null,n&&(hm=e)},x=()=>{hm&&(hm=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(p,m)=>{if(l=n===p.dom.parentElement,d=m,!l){const x=hm;x!=null&&x.isEditable&&setTimeout(()=>{const b=x.state.selection;b&&x.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(p,m)=>{var x;const b=(x=m.clipboardData)==null?void 0:x.getData("text/html");return u=m,a=!!(b!=null&&b.includes("data-pm-slice")),!1}}},appendTransaction:(p,m,x)=>{const b=p[0],w=b.getMeta("uiEvent")==="paste"&&!a,y=b.getMeta("uiEvent")==="drop"&&!l,E=b.getMeta("applyPasteRules"),P=!!E;if(!w&&!y&&!P)return;if(P){let{text:Y}=E;typeof Y=="string"?Y=Y:Y=Oy(Ws.from(Y),x.schema);const{from:Q}=E,K=Q+Y.length,de=C9(Y);return A({rule:f,state:x,from:Q,to:{b:K},pasteEvt:de})}const z=m.doc.content.findDiffStart(x.doc.content),X=m.doc.content.findDiffEnd(x.doc.content);if(!(!w9(z)||!X||z===X.b))return A({rule:f,state:x,from:z,to:X,pasteEvt:u})}}))}var wx=class{constructor(s,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=s,this.extensions=Mk(s),this.schema=PH(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((s,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ub(e.name,this.schema)},n=xn(e,"addCommands",r);return n?{...s,...n()}:s},{})}get plugins(){const{editor:s}=this;return Iy([...this.extensions].reverse()).flatMap(n=>{const a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:s,type:Ub(n.name,this.schema)},l=[],u=xn(n,"addKeyboardShortcuts",a);let d={};if(n.type==="mark"&&xn(n,"exitable",a)&&(d.ArrowRight=()=>HA.handleExit({editor:s,mark:n})),u){const m=Object.fromEntries(Object.entries(u()).map(([x,b])=>[x,()=>b({editor:s})]));d={...d,...m}}const A=__(d);l.push(A);const o=xn(n,"addInputRules",a);if(cj(n,s.options.enableInputRules)&&o){const m=o();if(m&&m.length){const x=v9({editor:s,rules:m}),b=Array.isArray(x)?x:[x];l.push(...b)}}const f=xn(n,"addPasteRules",a);if(cj(n,s.options.enablePasteRules)&&f){const m=f();if(m&&m.length){const x=B9({editor:s,rules:m});l.push(...x)}}const p=xn(n,"addProseMirrorPlugins",a);if(p){const m=p();l.push(...m)}return l})}get attributes(){return Uk(this.extensions)}get nodeViews(){const{editor:s}=this,{nodeExtensions:e}=fp(this.extensions);return Object.fromEntries(e.filter(r=>!!xn(r,"addNodeView")).map(r=>{const n=this.attributes.filter(A=>A.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:s,type:Tl(r.name,this.schema)},l=xn(r,"addNodeView",a);if(!l)return[];const u=l();if(!u)return[];const d=(A,o,f,p,m)=>{const x=hg(A,n);return u({node:A,view:o,getPos:f,decorations:p,innerDecorations:m,editor:s,extension:r,HTMLAttributes:x})};return[r.name,d]}))}get markViews(){const{editor:s}=this,{markExtensions:e}=fp(this.extensions);return Object.fromEntries(e.filter(r=>!!xn(r,"addMarkView")).map(r=>{const n=this.attributes.filter(d=>d.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:s,type:_A(r.name,this.schema)},l=xn(r,"addMarkView",a);if(!l)return[];const u=(d,A,o)=>{const f=hg(d,n);return l()({mark:d,view:A,inline:o,editor:s,extension:r,HTMLAttributes:f,updateAttributes:p=>{H9(d,s,p)}})};return[r.name,u]}))}setupExtensions(){const s=this.extensions;this.editor.extensionStorage=Object.fromEntries(s.map(e=>[e.name,e.storage])),s.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ub(e.name,this.schema)};e.type==="mark"&&((r=Ni(xn(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const a=xn(e,"onBeforeCreate",n),l=xn(e,"onCreate",n),u=xn(e,"onUpdate",n),d=xn(e,"onSelectionUpdate",n),A=xn(e,"onTransaction",n),o=xn(e,"onFocus",n),f=xn(e,"onBlur",n),p=xn(e,"onDestroy",n);a&&this.editor.on("beforeCreate",a),l&&this.editor.on("create",l),u&&this.editor.on("update",u),d&&this.editor.on("selectionUpdate",d),A&&this.editor.on("transaction",A),o&&this.editor.on("focus",o),f&&this.editor.on("blur",f),p&&this.editor.on("destroy",p)})}};wx.resolve=Mk;wx.sort=Iy;wx.flatten=My;var S9={};Ty(S9,{ClipboardTextSerializer:()=>Vk,Commands:()=>Kk,Delete:()=>Gk,Drop:()=>Wk,Editable:()=>Yk,FocusEvents:()=>Jk,Keymap:()=>Zk,Paste:()=>qk,Tabindex:()=>eC,TextDirection:()=>tC,focusEventsPluginKey:()=>Xk});var Ii=class $k extends Py{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new $k(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},Vk=Ii.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Lo({key:new Vl("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:s}=this,{state:e,schema:r}=s,{doc:n,selection:a}=e,{ranges:l}=a,u=Math.min(...l.map(f=>f.$from.pos)),d=Math.max(...l.map(f=>f.$to.pos)),A=Ik(r);return Ok(n,{from:u,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:A})}}})]}}),Kk=Ii.create({name:"commands",addCommands(){return{...Nk}}}),Gk=Ii.create({name:"delete",onUpdate({transaction:s,appendedTransactions:e}){var r,n,a;const l=()=>{var u,d,A,o;if((o=(A=(d=(u=this.editor.options.coreExtensionOptions)==null?void 0:u.delete)==null?void 0:d.filterTransaction)==null?void 0:A.call(d,s))!=null?o:s.getMeta("y-sync$"))return;const f=Lk(s.before,[s,...e]);Pk(f).forEach(x=>{f.mapping.mapResult(x.oldRange.from).deletedAfter&&f.mapping.mapResult(x.oldRange.to).deletedBefore&&f.before.nodesBetween(x.oldRange.from,x.oldRange.to,(b,w)=>{const y=w+b.nodeSize-2,E=x.oldRange.from<=w&&y<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:w,to:y,newFrom:f.mapping.map(w),newTo:f.mapping.map(y),deletedRange:x.oldRange,newRange:x.newRange,partial:!E,editor:this.editor,transaction:s,combinedTransform:f})})});const m=f.mapping;f.steps.forEach((x,b)=>{var w,y;if(x instanceof Fu){const E=m.slice(b).map(x.from,-1),P=m.slice(b).map(x.to),z=m.invert().map(E,-1),X=m.invert().map(P),Y=(w=f.doc.nodeAt(E-1))==null?void 0:w.marks.some(K=>K.eq(x.mark)),Q=(y=f.doc.nodeAt(P))==null?void 0:y.marks.some(K=>K.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:z,to:X},newRange:{from:E,to:P},partial:!!(Q||Y),editor:this.editor,transaction:s,combinedTransform:f})}})};(a=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||a?setTimeout(l,0):l()}}),Wk=Ii.create({name:"drop",addProseMirrorPlugins(){return[new Lo({key:new Vl("tiptapDrop"),props:{handleDrop:(s,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),Yk=Ii.create({name:"editable",addProseMirrorPlugins(){return[new Lo({key:new Vl("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Xk=new Vl("focusEvents"),Jk=Ii.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:s}=this;return[new Lo({key:Xk,props:{handleDOMEvents:{focus:(e,r)=>{s.isFocused=!0;const n=s.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{s.isFocused=!1;const n=s.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),Zk=Ii.create({name:"keymap",addKeyboardShortcuts(){const s=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:d})=>{const{selection:A,doc:o}=d,{empty:f,$anchor:p}=A,{pos:m,parent:x}=p,b=p.parent.isTextblock&&m>0?d.doc.resolve(m-1):p,w=b.parent.type.spec.isolating,y=p.pos-p.parentOffset,E=w&&b.parent.childCount===1?y===p.pos:ha.atStart(o).from===m;return!f||!x.type.isTextblock||x.textContent.length||!E||E&&p.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:s,"Mod-Backspace":s,"Shift-Backspace":s,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...n},l={...n,"Ctrl-h":s,"Alt-Backspace":s,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Uy()||Ek()?l:a},addProseMirrorPlugins(){return[new Lo({key:new Vl("clearDocument"),appendTransaction:(s,e,r)=>{if(s.some(w=>w.getMeta("composition")))return;const n=s.some(w=>w.docChanged)&&!e.doc.eq(r.doc),a=s.some(w=>w.getMeta("preventClearDocument"));if(!n||a)return;const{empty:l,from:u,to:d}=e.selection,A=ha.atStart(e.doc).from,o=ha.atEnd(e.doc).to;if(l||!(u===A&&d===o)||!vx(r.doc))return;const m=r.tr,x=mx({state:r,transaction:m}),{commands:b}=new gx({editor:this.editor,state:x});if(b.clearNodes(),!!m.steps.length)return m}})]}}),qk=Ii.create({name:"paste",addProseMirrorPlugins(){return[new Lo({key:new Vl("tiptapPaste"),props:{handlePaste:(s,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),eC=Ii.create({name:"tabindex",addProseMirrorPlugins(){return[new Lo({key:new Vl("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),tC=Ii.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:s}=fp(this.extensions);return[{types:s.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const r=e.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Lo({key:new Vl("textDirection"),props:{attributes:()=>{const s=this.options.direction;return s?{dir:s}:{}}}})]}}),E9=class qf{constructor(e,r,n=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new qf(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new qf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new qf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const a=r.isBlock&&!r.isTextblock,l=r.isAtom&&!r.isText,u=this.pos+n+(l?0:1);if(u<0||u>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(u);if(!a&&d.depth<=this.depth)return;const A=new qf(d,this.editor,a,a?r:null);a&&(A.actualDepth=this.depth+1),e.push(new qf(d,this.editor,a,a?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,a=this.parent;for(;a&&!n;){if(a.node.type.name===e)if(Object.keys(r).length>0){const l=a.node.attrs,u=Object.keys(r);for(let d=0;d<u.length;d+=1){const A=u[d];if(l[A]!==r[A])break}}else n=a;a=a.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let a=[];if(!this.children||this.children.length===0)return a;const l=Object.keys(r);return this.children.forEach(u=>{n&&a.length>0||(u.node.type.name===e&&l.every(A=>r[A]===u.node.attrs[A])&&a.push(u),!(n&&a.length>0)&&(a=a.concat(u.querySelectorAll(e,r,n))))}),a}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},T9=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function L9(s,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.setAttribute("data-tiptap-style",""),a.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(a),a}var F9=class extends x9{constructor(s={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:YH,createMappablePosition:XH},this.setOptions(s),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:a,moved:l})=>this.options.onDrop(n,a,l)),this.on("paste",({event:n,slice:a})=>this.options.onPaste(n,a)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=Bk(e,this.options.autofocus);this.editorState=tp.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(s){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(s),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const s=this.editorView.dom;s!=null&&s.editor&&delete s.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(s){console.warn("Failed to remove CSS element:",s)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=L9(T9,this.options.injectNonce))}setOptions(s={}){this.options={...this.options,...s},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(s,e=!0){this.setOptions({editable:s}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:s=>{this.editorState=s},dispatch:s=>{this.dispatchTransaction(s)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(s,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in s)return Reflect.get(s,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(s,e){const r=Fk(e)?e(s,[...this.state.plugins]):[...this.state.plugins,s],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(s){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(s).forEach(a=>{const l=typeof a=="string"?`${a}$`:a.key;r=r.filter(u=>!u.key.startsWith(l))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var s,e;const n=[...this.options.enableCoreExtensions?[Yk,Vk.configure({blockSeparator:(e=(s=this.options.coreExtensionOptions)==null?void 0:s.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Kk,Jk,Zk,eC,Wk,qk,Gk,tC.configure({direction:this.options.textDirection})].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new wx(n,this)}createCommandManager(){this.commandManager=new gx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let s;try{s=Fv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),s=Fv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return s}createView(s){var e;this.editorView=new wk(s,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(s){this.isCapturingTransaction=!0,s(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(s){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=s;return}s.steps.forEach(o=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(o)});return}const{state:e,transactions:r}=this.state.applyTransaction(s),n=!this.state.selection.eq(e.selection),a=r.includes(s),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:s,nextState:e}),!a)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:s,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:s});const u=r.findLast(o=>o.getMeta("focus")||o.getMeta("blur")),d=u==null?void 0:u.getMeta("focus"),A=u==null?void 0:u.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:u}),A&&this.emit("blur",{editor:this,event:A.event,transaction:u}),!(s.getMeta("preventUpdate")||!r.some(o=>o.docChanged)||l.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:s,appendedTransactions:r.slice(1)})}getAttributes(s){return Dk(this.state,s)}isActive(s,e){const r=typeof s=="string"?s:null,n=typeof s=="string"?e:s;return KH(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Oy(this.state.doc.content,this.schema)}getText(s){const{blockSeparator:e=`

`,textSerializers:r={}}=s||{};return QH(this.state.doc,{blockSeparator:e,textSerializers:{...Ik(this.schema),...r}})}get isEmpty(){return vx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var s,e;return(e=(s=this.editorView)==null?void 0:s.isDestroyed)!=null?e:!0}$node(s,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(s,e))||null}$nodes(s,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(s,e))||null}$pos(s){const e=this.state.doc.resolve(s);return new E9(e,this)}get $doc(){return this.$pos(0)}};function kf(s){return new yx({find:s.find,handler:({state:e,range:r,match:n})=>{const a=Ni(s.getAttributes,void 0,n);if(a===!1||a===null)return null;const{tr:l}=e,u=n[n.length-1],d=n[0];if(u){const A=d.search(/\S/),o=r.from+d.indexOf(u),f=o+u.length;if(Dy(r.from,r.to,e.doc).filter(x=>x.mark.type.excluded.find(w=>w===s.type&&w!==x.mark.type)).filter(x=>x.to>o).length)return null;f<r.to&&l.delete(f,r.to),o>r.from&&l.delete(r.from+A,o);const m=r.from+A+u.length;l.addMark(r.from+A,m,s.type.create(a||{})),l.removeStoredMark(s.type)}},undoable:s.undoable})}function sC(s){return new yx({find:s.find,handler:({state:e,range:r,match:n})=>{const a=Ni(s.getAttributes,void 0,n)||{},{tr:l}=e,u=r.from;let d=r.to;const A=s.type.create(a);if(n[1]){const o=n[0].lastIndexOf(n[1]);let f=u+o;f>d?f=d:d=f+n[1].length;const p=n[0][n[0].length-1];l.insertText(p,u+n[0].length-1),l.replaceWith(f,d,A)}else if(n[0]){const o=s.type.isInline?u:u-1;l.insert(o,s.type.create(a)).delete(l.mapping.map(u),l.mapping.map(d))}l.scrollIntoView()},undoable:s.undoable})}function Mv(s){return new yx({find:s.find,handler:({state:e,range:r,match:n})=>{const a=e.doc.resolve(r.from),l=Ni(s.getAttributes,void 0,n)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),s.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,s.type,l)},undoable:s.undoable})}function pp(s){return new yx({find:s.find,handler:({state:e,range:r,match:n,chain:a})=>{const l=Ni(s.getAttributes,void 0,n)||{},u=e.tr.delete(r.from,r.to),A=u.doc.resolve(r.from).blockRange(),o=A&&fy(A,s.type,l);if(!o)return null;if(u.wrap(A,o),s.keepMarks&&s.editor){const{selection:p,storedMarks:m}=e,{splittableMarks:x}=s.editor.extensionManager,b=m||p.$to.parentOffset&&p.$from.marks();if(b){const w=b.filter(y=>x.includes(y.type.name));u.ensureMarks(w)}}if(s.keepAttributes){const p=s.type.name==="bulletList"||s.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(p,l).run()}const f=u.doc.resolve(r.from-1).nodeBefore;f&&f.type===s.type&&Qh(u.doc,r.from-1)&&(!s.joinPredicate||s.joinPredicate(n,f))&&u.join(r.from-1)},undoable:s.undoable})}var U9=s=>"touches"in s,M9=class{constructor(s){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=d=>{if(!this.isResizing||!this.activeHandle)return;const A=d.clientX-this.startX,o=d.clientY-this.startY;this.handleResize(A,o)},this.handleTouchMove=d=>{if(!this.isResizing||!this.activeHandle)return;const A=d.touches[0];if(!A)return;const o=A.clientX-this.startX,f=A.clientY-this.startY;this.handleResize(o,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const d=this.element.offsetWidth,A=this.element.offsetHeight;this.onCommit(d,A),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,r,n,a,l,u;this.node=s.node,this.editor=s.editor,this.element=s.element,this.contentElement=s.contentElement,this.getPos=s.getPos,this.onResize=s.onResize,this.onCommit=s.onCommit,this.onUpdate=s.onUpdate,(e=s.options)!=null&&e.min&&(this.minSize={...this.minSize,...s.options.min}),(r=s.options)!=null&&r.max&&(this.maxSize=s.options.max),(n=s==null?void 0:s.options)!=null&&n.directions&&(this.directions=s.options.directions),(a=s.options)!=null&&a.preserveAspectRatio&&(this.preserveAspectRatio=s.options.preserveAspectRatio),(l=s.options)!=null&&l.className&&(this.classNames={container:s.options.className.container||"",wrapper:s.options.className.wrapper||"",handle:s.options.className.handle||"",resizing:s.options.className.resizing||""}),(u=s.options)!=null&&u.createCustomHandle&&(this.createCustomHandle=s.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const s=this.editor.isEditable;s!==this.lastEditableState&&(this.lastEditableState=s,s?s&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(s,e,r){return s.type!==this.node.type?!1:(this.node=s,this.onUpdate?this.onUpdate(s,e,r):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const s=document.createElement("div");return s.dataset.resizeContainer="",s.dataset.node=this.node.type.name,s.style.display="flex",this.classNames.container&&(s.className=this.classNames.container),s.appendChild(this.wrapper),s}createWrapper(){const s=document.createElement("div");return s.style.position="relative",s.style.display="block",s.dataset.resizeWrapper="",this.classNames.wrapper&&(s.className=this.classNames.wrapper),s.appendChild(this.element),s}createHandle(s){const e=document.createElement("div");return e.dataset.resizeHandle=s,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(s,e){const r=e.includes("top"),n=e.includes("bottom"),a=e.includes("left"),l=e.includes("right");r&&(s.style.top="0"),n&&(s.style.bottom="0"),a&&(s.style.left="0"),l&&(s.style.right="0"),(e==="top"||e==="bottom")&&(s.style.left="0",s.style.right="0"),(e==="left"||e==="right")&&(s.style.top="0",s.style.bottom="0")}attachHandles(){this.directions.forEach(s=>{let e;this.createCustomHandle?e=this.createCustomHandle(s):e=this.createHandle(s),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${s}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(s)),this.createCustomHandle||this.positionHandle(e,s),e.addEventListener("mousedown",r=>this.handleResizeStart(r,s)),e.addEventListener("touchstart",r=>this.handleResizeStart(r,s)),this.handleMap.set(s,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(s=>s.remove()),this.handleMap.clear()}applyInitialSize(){const s=this.node.attrs.width,e=this.node.attrs.height;s?(this.element.style.width=`${s}px`,this.initialWidth=s):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(s,e){s.preventDefault(),s.stopPropagation(),this.isResizing=!0,this.activeHandle=e,U9(s)?(this.startX=s.touches[0].clientX,this.startY=s.touches[0].clientY):(this.startX=s.clientX,this.startY=s.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(s,e){if(!this.activeHandle)return;const r=this.preserveAspectRatio||this.isShiftKeyPressed,{width:n,height:a}=this.calculateNewDimensions(this.activeHandle,s,e),l=this.applyConstraints(n,a,r);this.element.style.width=`${l.width}px`,this.element.style.height=`${l.height}px`,this.onResize&&this.onResize(l.width,l.height)}calculateNewDimensions(s,e,r){let n=this.startWidth,a=this.startHeight;const l=s.includes("right"),u=s.includes("left"),d=s.includes("bottom"),A=s.includes("top");return l?n=this.startWidth+e:u&&(n=this.startWidth-e),d?a=this.startHeight+r:A&&(a=this.startHeight-r),(s==="right"||s==="left")&&(n=this.startWidth+(l?e:-e)),(s==="top"||s==="bottom")&&(a=this.startHeight+(d?r:-r)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(n,a,s):{width:n,height:a}}applyConstraints(s,e,r){var n,a,l,u;if(!r){let o=Math.max(this.minSize.width,s),f=Math.max(this.minSize.height,e);return(n=this.maxSize)!=null&&n.width&&(o=Math.min(this.maxSize.width,o)),(a=this.maxSize)!=null&&a.height&&(f=Math.min(this.maxSize.height,f)),{width:o,height:f}}let d=s,A=e;return d<this.minSize.width&&(d=this.minSize.width,A=d/this.aspectRatio),A<this.minSize.height&&(A=this.minSize.height,d=A*this.aspectRatio),(l=this.maxSize)!=null&&l.width&&d>this.maxSize.width&&(d=this.maxSize.width,A=d/this.aspectRatio),(u=this.maxSize)!=null&&u.height&&A>this.maxSize.height&&(A=this.maxSize.height,d=A*this.aspectRatio),{width:d,height:A}}applyAspectRatio(s,e,r){const n=r==="left"||r==="right",a=r==="top"||r==="bottom";return n?{width:s,height:s/this.aspectRatio}:a?{width:e*this.aspectRatio,height:e}:{width:s,height:s/this.aspectRatio}}};function O9(s,e){const{selection:r}=s,{$from:n}=r;if(r instanceof yn){const l=n.index();return n.parent.canReplaceWith(l,l+1,e)}let a=n.depth;for(;a>=0;){const l=n.index(a);if(n.node(a).contentMatchAt(l).matchType(e))return!0;a-=1}return!1}var I9={};Ty(I9,{createAtomBlockMarkdownSpec:()=>D9,createBlockMarkdownSpec:()=>P9,createInlineMarkdownSpec:()=>_9,parseAttributes:()=>Ry,parseIndentedBlocks:()=>Ov,renderNestedMarkdownContent:()=>_y,serializeAttributes:()=>Qy});function Ry(s){if(!(s!=null&&s.trim()))return{};const e={},r=[],n=s.replace(/["']([^"']*)["']/g,o=>(r.push(o),`__QUOTED_${r.length-1}__`)),a=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const o=a.map(f=>f.trim().slice(1));e.class=o.join(" ")}const l=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(e.id=l[1]);const u=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(u)).forEach(([,o,f])=>{var p;const m=parseInt(((p=f.match(/__QUOTED_(\d+)__/))==null?void 0:p[1])||"0",10),x=r[m];x&&(e[o]=x.slice(1,-1))});const A=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return A&&A.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function Qy(s){if(!s||Object.keys(s).length===0)return"";const e=[];return s.class&&String(s.class).split(/\s+/).filter(Boolean).forEach(n=>e.push(`.${n}`)),s.id&&e.push(`#${s.id}`),Object.entries(s).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?e.push(r):n!==!1&&n!=null&&e.push(`${r}="${String(n)}"`))}),e.join(" ")}function D9(s){const{nodeName:e,name:r,parseAttributes:n=Ry,serializeAttributes:a=Qy,defaultAttributes:l={},requiredAttributes:u=[],allowedAttributes:d}=s,A=r||e,o=f=>{if(!d)return f;const p={};return d.forEach(m=>{m in f&&(p[m]=f[m])}),p};return{parseMarkdown:(f,p)=>{const m={...l,...f.attributes};return p.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(f){var p;const m=new RegExp(`^:::${A}(?:\\s|$)`,"m"),x=(p=f.match(m))==null?void 0:p.index;return x!==void 0?x:-1},tokenize(f,p,m){const x=new RegExp(`^:::${A}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=f.match(x);if(!b)return;const w=b[1]||"",y=n(w);if(!u.find(P=>!(P in y)))return{type:e,raw:b[0],attributes:y}}},renderMarkdown:f=>{const p=o(f.attrs||{}),m=a(p),x=m?` {${m}}`:"";return`:::${A}${x} :::`}}}function P9(s){const{nodeName:e,name:r,getContent:n,parseAttributes:a=Ry,serializeAttributes:l=Qy,defaultAttributes:u={},content:d="block",allowedAttributes:A}=s,o=r||e,f=p=>{if(!A)return p;const m={};return A.forEach(x=>{x in p&&(m[x]=p[x])}),m};return{parseMarkdown:(p,m)=>{let x;if(n){const w=n(p);x=typeof w=="string"?[{type:"text",text:w}]:w}else d==="block"?x=m.parseChildren(p.tokens||[]):x=m.parseInline(p.tokens||[]);const b={...u,...p.attributes};return m.createNode(e,b,x)},markdownTokenizer:{name:e,level:"block",start(p){var m;const x=new RegExp(`^:::${o}`,"m"),b=(m=p.match(x))==null?void 0:m.index;return b!==void 0?b:-1},tokenize(p,m,x){var b;const w=new RegExp(`^:::${o}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),y=p.match(w);if(!y)return;const[E,P=""]=y,z=a(P);let X=1;const Y=E.length;let Q="";const K=/^:::([\w-]*)(\s.*)?/gm,de=p.slice(Y);for(K.lastIndex=0;;){const ue=K.exec(de);if(ue===null)break;const ve=ue.index,le=ue[1];if(!((b=ue[2])!=null&&b.endsWith(":::"))){if(le)X+=1;else if(X-=1,X===0){const Ce=de.slice(0,ve);Q=Ce.trim();const oe=p.slice(0,Y+ve+ue[0].length);let Ne=[];if(Q)if(d==="block")for(Ne=x.blockTokens(Ce),Ne.forEach(Ae=>{Ae.text&&(!Ae.tokens||Ae.tokens.length===0)&&(Ae.tokens=x.inlineTokens(Ae.text))});Ne.length>0;){const Ae=Ne[Ne.length-1];if(Ae.type==="paragraph"&&(!Ae.text||Ae.text.trim()===""))Ne.pop();else break}else Ne=x.inlineTokens(Q);return{type:e,raw:oe,attributes:z,content:Q,tokens:Ne}}}}}},renderMarkdown:(p,m)=>{const x=f(p.attrs||{}),b=l(x),w=b?` {${b}}`:"",y=m.renderChildren(p.content||[],`

`);return`:::${o}${w}

${y}

:::`}}}function R9(s){if(!s.trim())return{};const e={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(s);for(;n!==null;){const[,a,l,u]=n;e[a]=l||u,n=r.exec(s)}return e}function Q9(s){return Object.entries(s).filter(([,e])=>e!=null).map(([e,r])=>`${e}="${r}"`).join(" ")}function _9(s){const{nodeName:e,name:r,getContent:n,parseAttributes:a=R9,serializeAttributes:l=Q9,defaultAttributes:u={},selfClosing:d=!1,allowedAttributes:A}=s,o=r||e,f=m=>{if(!A)return m;const x={};return A.forEach(b=>{const w=typeof b=="string"?b:b.name,y=typeof b=="string"?void 0:b.skipIfDefault;if(w in m){const E=m[w];if(y!==void 0&&E===y)return;x[w]=E}}),x},p=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,x)=>{const b={...u,...m.attributes};if(d)return x.createNode(e,b);const w=n?n(m):m.content||"";return w?x.createNode(e,b,[x.createTextNode(w)]):x.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(m){const x=d?new RegExp(`\\[${p}\\s*[^\\]]*\\]`):new RegExp(`\\[${p}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${p}\\]`),b=m.match(x),w=b==null?void 0:b.index;return w!==void 0?w:-1},tokenize(m,x,b){const w=d?new RegExp(`^\\[${p}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${p}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${p}\\]`),y=m.match(w);if(!y)return;let E="",P="";if(d){const[,X]=y;P=X}else{const[,X,Y]=y;P=X,E=Y||""}const z=a(P.trim());return{type:e,raw:y[0],content:E.trim(),attributes:z}}},renderMarkdown:m=>{let x="";n?x=n(m):m.content&&m.content.length>0&&(x=m.content.filter(E=>E.type==="text").map(E=>E.text).join(""));const b=f(m.attrs||{}),w=l(b),y=w?` ${w}`:"";return d?`[${o}${y}]`:`[${o}${y}]${x}[/${o}]`}}}function Ov(s,e,r){var n,a,l,u;const d=s.split(`
`),A=[];let o="",f=0;const p=e.baseIndentSize||2;for(;f<d.length;){const m=d[f],x=m.match(e.itemPattern);if(!x){if(A.length>0)break;if(m.trim()===""){f+=1,o=`${o}${m}
`;continue}else return}const b=e.extractItemData(x),{indentLevel:w,mainContent:y}=b;o=`${o}${m}
`;const E=[y];for(f+=1;f<d.length;){const Y=d[f];if(Y.trim()===""){const K=d.slice(f+1).findIndex(ve=>ve.trim()!=="");if(K===-1)break;if((((a=(n=d[f+1+K].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:a.length)||0)>w){E.push(Y),o=`${o}${Y}
`,f+=1;continue}else break}if((((u=(l=Y.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:u.length)||0)>w)E.push(Y),o=`${o}${Y}
`,f+=1;else break}let P;const z=E.slice(1);if(z.length>0){const Y=z.map(Q=>Q.slice(w+p)).join(`
`);Y.trim()&&(e.customNestedParser?P=e.customNestedParser(Y):P=r.blockTokens(Y))}const X=e.createToken(b,P);A.push(X)}if(A.length!==0)return{items:A,raw:o}}function _y(s,e,r,n){if(!s||!Array.isArray(s.content))return"";const a=typeof r=="function"?r(n):r,[l,...u]=s.content,d=e.renderChildren([l]),A=[`${a}${d}`];return u&&u.length>0&&u.forEach(o=>{const f=e.renderChildren([o]);if(f){const p=f.split(`
`).map(m=>m?e.indent(m):"").join(`
`);A.push(p)}}),A.join(`
`)}function H9(s,e,r={}){const{state:n}=e,{doc:a,tr:l}=n,u=s;a.descendants((d,A)=>{const o=l.mapping.map(A),f=l.mapping.map(A)+d.nodeSize;let p=null;if(d.marks.forEach(x=>{if(x!==u)return!1;p=x}),!p)return;let m=!1;if(Object.keys(r).forEach(x=>{r[x]!==p.attrs[x]&&(m=!0)}),m){const x=s.type.create({...s.attrs,...r});l.removeMark(o,f,s.type),l.addMark(o,f,x)}}),l.docChanged&&e.view.dispatch(l)}var Od=class rC extends Py{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new rC(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function Dh(s){return new j9({find:s.find,handler:({state:e,range:r,match:n,pasteEvent:a})=>{const l=Ni(s.getAttributes,void 0,n,a);if(l===!1||l===null)return null;const{tr:u}=e,d=n[n.length-1],A=n[0];let o=r.to;if(d){const f=A.search(/\S/),p=r.from+A.indexOf(d),m=p+d.length;if(Dy(r.from,r.to,e.doc).filter(b=>b.mark.type.excluded.find(y=>y===s.type&&y!==b.mark.type)).filter(b=>b.to>p).length)return null;m<r.to&&u.delete(m,r.to),p>r.from&&u.delete(r.from+f,p),o=r.from+f+d.length,u.addMark(r.from+f,o,s.type.create(l||{})),u.removeStoredMark(s.type)}}})}const{getOwnPropertyNames:z9,getOwnPropertySymbols:$9}=Object,{hasOwnProperty:V9}=Object.prototype;function Ib(s,e){return function(n,a,l){return s(n,a,l)&&e(n,a,l)}}function fm(s){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return s(r,n,a);const{cache:l}=a,u=l.get(r),d=l.get(n);if(u&&d)return u===n&&d===r;l.set(r,n),l.set(n,r);const A=s(r,n,a);return l.delete(r),l.delete(n),A}}function K9(s){return s!=null?s[Symbol.toStringTag]:void 0}function Aj(s){return z9(s).concat($9(s))}const G9=Object.hasOwn||((s,e)=>V9.call(s,e));function Sf(s,e){return s===e||!s&&!e&&s!==s&&e!==e}const W9="__v",Y9="__o",X9="_owner",{getOwnPropertyDescriptor:hj,keys:fj}=Object;function J9(s,e){return s.byteLength===e.byteLength&&fg(new Uint8Array(s),new Uint8Array(e))}function Z9(s,e,r){let n=s.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(s[n],e[n],n,n,s,e,r))return!1;return!0}function q9(s,e){return s.byteLength===e.byteLength&&fg(new Uint8Array(s.buffer,s.byteOffset,s.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function ez(s,e){return Sf(s.getTime(),e.getTime())}function tz(s,e){return s.name===e.name&&s.message===e.message&&s.cause===e.cause&&s.stack===e.stack}function sz(s,e){return s===e}function pj(s,e,r){const n=s.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),l=s.entries();let u,d,A=0;for(;(u=l.next())&&!u.done;){const o=e.entries();let f=!1,p=0;for(;(d=o.next())&&!d.done;){if(a[p]){p++;continue}const m=u.value,x=d.value;if(r.equals(m[0],x[0],A,p,s,e,r)&&r.equals(m[1],x[1],m[0],x[0],s,e,r)){f=a[p]=!0;break}p++}if(!f)return!1;A++}return!0}const rz=Sf;function nz(s,e,r){const n=fj(s);let a=n.length;if(fj(e).length!==a)return!1;for(;a-- >0;)if(!nC(s,e,r,n[a]))return!1;return!0}function _p(s,e,r){const n=Aj(s);let a=n.length;if(Aj(e).length!==a)return!1;let l,u,d;for(;a-- >0;)if(l=n[a],!nC(s,e,r,l)||(u=hj(s,l),d=hj(e,l),(u||d)&&(!u||!d||u.configurable!==d.configurable||u.enumerable!==d.enumerable||u.writable!==d.writable)))return!1;return!0}function az(s,e){return Sf(s.valueOf(),e.valueOf())}function iz(s,e){return s.source===e.source&&s.flags===e.flags}function mj(s,e,r){const n=s.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),l=s.values();let u,d;for(;(u=l.next())&&!u.done;){const A=e.values();let o=!1,f=0;for(;(d=A.next())&&!d.done;){if(!a[f]&&r.equals(u.value,d.value,u.value,d.value,s,e,r)){o=a[f]=!0;break}f++}if(!o)return!1}return!0}function fg(s,e){let r=s.byteLength;if(e.byteLength!==r||s.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(s[r]!==e[r])return!1;return!0}function oz(s,e){return s.hostname===e.hostname&&s.pathname===e.pathname&&s.protocol===e.protocol&&s.port===e.port&&s.hash===e.hash&&s.username===e.username&&s.password===e.password}function nC(s,e,r,n){return(n===X9||n===Y9||n===W9)&&(s.$$typeof||e.$$typeof)?!0:G9(e,n)&&r.equals(s[n],e[n],n,n,s,e,r)}const lz="[object ArrayBuffer]",cz="[object Arguments]",dz="[object Boolean]",uz="[object DataView]",Az="[object Date]",hz="[object Error]",fz="[object Map]",pz="[object Number]",mz="[object Object]",gz="[object RegExp]",xz="[object Set]",bz="[object String]",vz={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},yz="[object URL]",wz=Object.prototype.toString;function jz({areArrayBuffersEqual:s,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:l,areMapsEqual:u,areNumbersEqual:d,areObjectsEqual:A,arePrimitiveWrappersEqual:o,areRegExpsEqual:f,areSetsEqual:p,areTypedArraysEqual:m,areUrlsEqual:x,unknownTagComparators:b}){return function(y,E,P){if(y===E)return!0;if(y==null||E==null)return!1;const z=typeof y;if(z!==typeof E)return!1;if(z!=="object")return z==="number"?d(y,E,P):z==="function"?l(y,E,P):!1;const X=y.constructor;if(X!==E.constructor)return!1;if(X===Object)return A(y,E,P);if(Array.isArray(y))return e(y,E,P);if(X===Date)return n(y,E,P);if(X===RegExp)return f(y,E,P);if(X===Map)return u(y,E,P);if(X===Set)return p(y,E,P);const Y=wz.call(y);if(Y===Az)return n(y,E,P);if(Y===gz)return f(y,E,P);if(Y===fz)return u(y,E,P);if(Y===xz)return p(y,E,P);if(Y===mz)return typeof y.then!="function"&&typeof E.then!="function"&&A(y,E,P);if(Y===yz)return x(y,E,P);if(Y===hz)return a(y,E,P);if(Y===cz)return A(y,E,P);if(vz[Y])return m(y,E,P);if(Y===lz)return s(y,E,P);if(Y===uz)return r(y,E,P);if(Y===dz||Y===pz||Y===bz)return o(y,E,P);if(b){let Q=b[Y];if(!Q){const K=K9(y);K&&(Q=b[K])}if(Q)return Q(y,E,P)}return!1}}function Nz({circular:s,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:J9,areArraysEqual:r?_p:Z9,areDataViewsEqual:q9,areDatesEqual:ez,areErrorsEqual:tz,areFunctionsEqual:sz,areMapsEqual:r?Ib(pj,_p):pj,areNumbersEqual:rz,areObjectsEqual:r?_p:nz,arePrimitiveWrappersEqual:az,areRegExpsEqual:iz,areSetsEqual:r?Ib(mj,_p):mj,areTypedArraysEqual:r?Ib(fg,_p):fg,areUrlsEqual:oz,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),s){const a=fm(n.areArraysEqual),l=fm(n.areMapsEqual),u=fm(n.areObjectsEqual),d=fm(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return n}function kz(s){return function(e,r,n,a,l,u,d){return s(e,r,d)}}function Cz({circular:s,comparator:e,createState:r,equals:n,strict:a}){if(r)return function(d,A){const{cache:o=s?new WeakMap:void 0,meta:f}=r();return e(d,A,{cache:o,equals:n,meta:f,strict:a})};if(s)return function(d,A){return e(d,A,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const l={cache:void 0,equals:n,meta:void 0,strict:a};return function(d,A){return e(d,A,l)}}const Bz=Hh();Hh({strict:!0});Hh({circular:!0});Hh({circular:!0,strict:!0});Hh({createInternalComparator:()=>Sf});Hh({strict:!0,createInternalComparator:()=>Sf});Hh({circular:!0,createInternalComparator:()=>Sf});Hh({circular:!0,createInternalComparator:()=>Sf,strict:!0});function Hh(s={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:a=!1}=s,l=Nz(s),u=jz(l),d=r?r(u):kz(u);return Cz({circular:e,comparator:u,createState:n,equals:d,strict:a})}var Db={exports:{}},Pb={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj;function Sz(){if(gj)return Pb;gj=1;var s=C0(),e=k5();function r(o,f){return o===f&&(o!==0||1/o===1/f)||o!==o&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,l=s.useRef,u=s.useEffect,d=s.useMemo,A=s.useDebugValue;return Pb.useSyncExternalStoreWithSelector=function(o,f,p,m,x){var b=l(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=d(function(){function E(Q){if(!P){if(P=!0,z=Q,Q=m(Q),x!==void 0&&w.hasValue){var K=w.value;if(x(K,Q))return X=K}return X=Q}if(K=X,n(z,Q))return K;var de=m(Q);return x!==void 0&&x(K,de)?(z=Q,K):(z=Q,X=de)}var P=!1,z,X,Y=p===void 0?null:p;return[function(){return E(f())},Y===null?void 0:function(){return E(Y())}]},[f,p,m,x]);var y=a(o,b[0],b[1]);return u(function(){w.hasValue=!0,w.value=y},[y]),A(y),y},Pb}var xj;function Ez(){return xj||(xj=1,Db.exports=Sz()),Db.exports}var Tz=Ez(),Lz=(...s)=>e=>{s.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},Fz=({contentComponent:s})=>{const e=ay.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getServerSnapshot);return t.jsx(t.Fragment,{children:Object.values(e)})};function Uz(){const s=new Set;let e={};return{subscribe(r){return s.add(r),()=>{s.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:Gj.createPortal(n.reactElement,n.element,r)},s.forEach(a=>a())},removeRenderer(r){const n={...e};delete n[r],e=n,s.forEach(a=>a())}}}var Mz=class extends Lc.Component{constructor(s){var e;super(s),this.editorContentRef=Lc.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=s.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var s;const e=this.props.editor;if(e&&!e.isDestroyed&&((s=e.view.dom)!=null&&s.parentNode)){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r}),e.contentComponent=Uz(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var s;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((s=e.view.dom)!=null&&s.parentNode))return;const r=document.createElement("div");r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r})}catch{}}}render(){const{editor:s,innerRef:e,...r}=this.props;return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:Lz(e,this.editorContentRef),...r}),(s==null?void 0:s.contentComponent)&&t.jsx(Fz,{contentComponent:s.contentComponent})]})}},Oz=W.forwardRef((s,e)=>{const r=Lc.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[s.editor]);return Lc.createElement(Mz,{key:r,innerRef:e,...s})}),Iz=Lc.memo(Oz),Dz=typeof window<"u"?W.useLayoutEffect:W.useEffect,Pz=class{constructor(s){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=s,this.lastSnapshot={editor:s,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(s){return this.subscribers.add(s),()=>{this.subscribers.delete(s)}}watch(s){if(this.editor=s,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function Rz(s){var e;const[r]=W.useState(()=>new Pz(s.editor)),n=Tz.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,s.selector,(e=s.equalityFn)!=null?e:Bz);return Dz(()=>r.watch(s.editor),[s.editor,r]),W.useDebugValue(n),n}var Qz=!1,Iv=typeof window>"u",_z=Iv||!!(typeof window<"u"&&window.next),Hz=class aC{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Iv||_z?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var a,l;return(l=(a=this.options.current).onBeforeCreate)==null?void 0:l.call(a,...n)},onBlur:(...n)=>{var a,l;return(l=(a=this.options.current).onBlur)==null?void 0:l.call(a,...n)},onCreate:(...n)=>{var a,l;return(l=(a=this.options.current).onCreate)==null?void 0:l.call(a,...n)},onDestroy:(...n)=>{var a,l;return(l=(a=this.options.current).onDestroy)==null?void 0:l.call(a,...n)},onFocus:(...n)=>{var a,l;return(l=(a=this.options.current).onFocus)==null?void 0:l.call(a,...n)},onSelectionUpdate:(...n)=>{var a,l;return(l=(a=this.options.current).onSelectionUpdate)==null?void 0:l.call(a,...n)},onTransaction:(...n)=>{var a,l;return(l=(a=this.options.current).onTransaction)==null?void 0:l.call(a,...n)},onUpdate:(...n)=>{var a,l;return(l=(a=this.options.current).onUpdate)==null?void 0:l.call(a,...n)},onContentError:(...n)=>{var a,l;return(l=(a=this.options.current).onContentError)==null?void 0:l.call(a,...n)},onDrop:(...n)=>{var a,l;return(l=(a=this.options.current).onDrop)==null?void 0:l.call(a,...n)},onPaste:(...n)=>{var a,l;return(l=(a=this.options.current).onPaste)==null?void 0:l.call(a,...n)},onDelete:(...n)=>{var a,l;return(l=(a=this.options.current).onDelete)==null?void 0:l.call(a,...n)}};return new F9(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((a,l)=>{var u;return a===((u=r.extensions)==null?void 0:u[l])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?aC.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,a)=>n===e[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function zz(s={},e=[]){const r=W.useRef(s);r.current=s;const[n]=W.useState(()=>new Hz(r)),a=ay.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return W.useDebugValue(a),W.useEffect(n.onRender(e)),Rz({editor:a,selector:({transactionNumber:l})=>s.shouldRerenderOnTransaction===!1||s.shouldRerenderOnTransaction===void 0?null:s.immediatelyRender&&l===0?0:l+1}),a}var $z=W.createContext({editor:null});$z.Consumer;var Vz=W.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Kz=()=>W.useContext(Vz);Lc.forwardRef((s,e)=>{const{onDragStart:r}=Kz(),n=s.as||"div";return t.jsx(n,{...s,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...s.style}})});Lc.createContext({markViewContentRef:()=>{}});var pg=(s,e)=>{if(s==="slot")return 0;if(s instanceof Function)return s(e);const{children:r,...n}=e??{};if(s==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[s,n,r]},Gz=/^\s*>\s$/,Wz=Od.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:s}){return pg("blockquote",{...Eo(this.options.HTMLAttributes,s),children:pg("slot",{})})},parseMarkdown:(s,e)=>e.createNode("blockquote",void 0,e.parseChildren(s.tokens||[])),renderMarkdown:(s,e)=>{if(!s.content)return"";const r=">",n=[];return s.content.forEach(a=>{const d=e.renderChildren([a]).split(`
`).map(A=>A.trim()===""?r:`${r} ${A}`);n.push(d.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:s})=>s.wrapIn(this.name),toggleBlockquote:()=>({commands:s})=>s.toggleWrap(this.name),unsetBlockquote:()=>({commands:s})=>s.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[pp({find:Gz,type:this.type})]}}),Yz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Xz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Jz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Zz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,qz=HA.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:s=>s.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:s=>s.type.name===this.name},{style:"font-weight",getAttrs:s=>/^(bold(er)?|[5-9]\d{2,})$/.test(s)&&null}]},renderHTML({HTMLAttributes:s}){return pg("strong",{...Eo(this.options.HTMLAttributes,s),children:pg("slot",{})})},markdownTokenName:"strong",parseMarkdown:(s,e)=>e.applyMark("bold",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`**${e.renderChildren(s)}**`,addCommands(){return{setBold:()=>({commands:s})=>s.setMark(this.name),toggleBold:()=>({commands:s})=>s.toggleMark(this.name),unsetBold:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[kf({find:Yz,type:this.type}),kf({find:Jz,type:this.type})]},addPasteRules(){return[Dh({find:Xz,type:this.type}),Dh({find:Zz,type:this.type})]}}),e$=/(^|[^`])`([^`]+)`(?!`)$/,t$=/(^|[^`])`([^`]+)`(?!`)/g,s$=HA.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:s}){return["code",Eo(this.options.HTMLAttributes,s),0]},markdownTokenName:"codespan",parseMarkdown:(s,e)=>e.applyMark("code",[{type:"text",text:s.text||""}]),renderMarkdown:(s,e)=>s.content?`\`${e.renderChildren(s.content)}\``:"",addCommands(){return{setCode:()=>({commands:s})=>s.setMark(this.name),toggleCode:()=>({commands:s})=>s.toggleMark(this.name),unsetCode:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[kf({find:e$,type:this.type})]},addPasteRules(){return[Dh({find:t$,type:this.type})]}}),Rb=4,r$=/^```([a-z]+)?[\s\n]$/,n$=/^~~~([a-z]+)?[\s\n]$/,a$=Od.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Rb,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:s=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const l=[...((e=s.firstElementChild)==null?void 0:e.classList)||[]].filter(u=>u.startsWith(r)).map(u=>u.replace(r,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:s,HTMLAttributes:e}){return["pre",Eo(this.options.HTMLAttributes,e),["code",{class:s.attrs.language?this.options.languageClassPrefix+s.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(s,e)=>{var r;return((r=s.raw)==null?void 0:r.startsWith("```"))===!1&&s.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:s.lang||null},s.text?[e.createTextNode(s.text)]:[])},renderMarkdown:(s,e)=>{var r;let n="";const a=((r=s.attrs)==null?void 0:r.language)||"";return s.content?n=[`\`\`\`${a}`,e.renderChildren(s.content),"```"].join(`
`):n=`\`\`\`${a}

\`\`\``,n},addCommands(){return{setCodeBlock:s=>({commands:e})=>e.setNode(this.name,s),toggleCodeBlock:s=>({commands:e})=>e.toggleNode(this.name,"paragraph",s)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:s,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!s||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:s})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Rb,{state:n}=s,{selection:a}=n,{$from:l,empty:u}=a;if(l.parent.type!==this.type)return!1;const d=" ".repeat(r);return u?s.commands.insertContent(d):s.commands.command(({tr:A})=>{const{from:o,to:f}=a,x=n.doc.textBetween(o,f,`
`,`
`).split(`
`).map(b=>d+b).join(`
`);return A.replaceWith(o,f,n.schema.text(x)),!0})},"Shift-Tab":({editor:s})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Rb,{state:n}=s,{selection:a}=n,{$from:l,empty:u}=a;return l.parent.type!==this.type?!1:u?s.commands.command(({tr:d})=>{var A;const{pos:o}=l,f=l.start(),p=l.end(),x=n.doc.textBetween(f,p,`
`,`
`).split(`
`);let b=0,w=0;const y=o-f;for(let Q=0;Q<x.length;Q+=1){if(w+x[Q].length>=y){b=Q;break}w+=x[Q].length+1}const P=((A=x[b].match(/^ */))==null?void 0:A[0])||"",z=Math.min(P.length,r);if(z===0)return!0;let X=f;for(let Q=0;Q<b;Q+=1)X+=x[Q].length+1;return d.delete(X,X+z),o-X<=z&&d.setSelection($n.create(d.doc,X)),!0}):s.commands.command(({tr:d})=>{const{from:A,to:o}=a,m=n.doc.textBetween(A,o,`
`,`
`).split(`
`).map(x=>{var b;const w=((b=x.match(/^ */))==null?void 0:b[0])||"",y=Math.min(w.length,r);return x.slice(y)}).join(`
`);return d.replaceWith(A,o,n.schema.text(m)),!0})},Enter:({editor:s})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=s,{selection:r}=e,{$from:n,empty:a}=r;if(!a||n.parent.type!==this.type)return!1;const l=n.parentOffset===n.parent.nodeSize-2,u=n.parent.textContent.endsWith(`

`);return!l||!u?!1:s.chain().command(({tr:d})=>(d.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:s})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=s,{selection:r,doc:n}=e,{$from:a,empty:l}=r;if(!l||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const d=a.after();return d===void 0?!1:n.nodeAt(d)?s.commands.command(({tr:o})=>(o.setSelection(ha.near(n.resolve(d))),!0)):s.commands.exitCode()}}},addInputRules(){return[Mv({find:r$,type:this.type,getAttributes:s=>({language:s[1]})}),Mv({find:n$,type:this.type,getAttributes:s=>({language:s[1]})})]},addProseMirrorPlugins(){return[new Lo({key:new Vl("codeBlockVSCodeHandler"),props:{handlePaste:(s,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),a=n?JSON.parse(n):void 0,l=a==null?void 0:a.mode;if(!r||!l)return!1;const{tr:u,schema:d}=s.state,A=d.text(r.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:l},A)),u.selection.$from.parent.type!==this.type&&u.setSelection($n.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),s.dispatch(u),!0}}})]}}),i$=Od.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`

`):""}),o$=Od.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:s}){return["br",Eo(this.options.HTMLAttributes,s)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:s,chain:e,state:r,editor:n})=>s.first([()=>s.exitCode(),()=>s.command(()=>{const{selection:a,storedMarks:l}=r;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:d}=n.extensionManager,A=l||a.$to.parentOffset&&a.$from.marks();return e().insertContent({type:this.name}).command(({tr:o,dispatch:f})=>{if(f&&A&&u){const p=A.filter(m=>d.includes(m.type.name));o.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),l$=Od.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(s=>({tag:`h${s}`,attrs:{level:s}}))},renderHTML({node:s,HTMLAttributes:e}){return[`h${this.options.levels.includes(s.attrs.level)?s.attrs.level:this.options.levels[0]}`,Eo(this.options.HTMLAttributes,e),0]},parseMarkdown:(s,e)=>e.createNode("heading",{level:s.depth||1},e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>{var r;const n=(r=s.attrs)!=null&&r.level?parseInt(s.attrs.level,10):1,a="#".repeat(n);return s.content?`${a} ${e.renderChildren(s.content)}`:""},addCommands(){return{setHeading:s=>({commands:e})=>this.options.levels.includes(s.level)?e.setNode(this.name,s):!1,toggleHeading:s=>({commands:e})=>this.options.levels.includes(s.level)?e.toggleNode(this.name,"paragraph",s):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((s,e)=>({...s,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(s=>Mv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${s}})\\s$`),type:this.type,getAttributes:{level:s}}))}}),c$=Od.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:s}){return["hr",Eo(this.options.HTMLAttributes,s)]},markdownTokenName:"hr",parseMarkdown:(s,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:s,state:e})=>{if(!O9(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,a=s();return Rk(r)?a.insertContentAt(n.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:l,tr:u,dispatch:d})=>{if(d){const{$to:A}=u.selection,o=A.end();if(A.nodeAfter)A.nodeAfter.isTextblock?u.setSelection($n.create(u.doc,A.pos+1)):A.nodeAfter.isBlock?u.setSelection(yn.create(u.doc,A.pos)):u.setSelection($n.create(u.doc,A.pos));else{const f=l.schema.nodes[this.options.nextNodeType]||A.parent.type.contentMatch.defaultType,p=f==null?void 0:f.create();p&&(u.insert(o,p),u.setSelection($n.create(u.doc,o+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[sC({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),d$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,u$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,A$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,h$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,f$=HA.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:s=>s.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:s=>s.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:s}){return["em",Eo(this.options.HTMLAttributes,s),0]},addCommands(){return{setItalic:()=>({commands:s})=>s.setMark(this.name),toggleItalic:()=>({commands:s})=>s.toggleMark(this.name),unsetItalic:()=>({commands:s})=>s.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(s,e)=>e.applyMark("italic",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`*${e.renderChildren(s)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[kf({find:d$,type:this.type}),kf({find:A$,type:this.type})]},addPasteRules(){return[Dh({find:u$,type:this.type}),Dh({find:h$,type:this.type})]}});const p$="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",m$="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Dv="numeric",Pv="ascii",Rv="alpha",a0="asciinumeric",Yp="alphanumeric",Qv="domain",iC="emoji",g$="scheme",x$="slashscheme",Qb="whitespace";function b$(s,e){return s in e||(e[s]=[]),e[s]}function uf(s,e,r){e[Dv]&&(e[a0]=!0,e[Yp]=!0),e[Pv]&&(e[a0]=!0,e[Rv]=!0),e[a0]&&(e[Yp]=!0),e[Rv]&&(e[Yp]=!0),e[Yp]&&(e[Qv]=!0),e[iC]&&(e[Qv]=!0);for(const n in e){const a=b$(n,r);a.indexOf(s)<0&&a.push(s)}}function v$(s,e){const r={};for(const n in e)e[n].indexOf(s)>=0&&(r[n]=!0);return r}function Ed(s=null){this.j={},this.jr=[],this.jd=null,this.t=s}Ed.groups={};Ed.prototype={accepts(){return!!this.t},go(s){const e=this,r=e.j[s];if(r)return r;for(let n=0;n<e.jr.length;n++){const a=e.jr[n][0],l=e.jr[n][1];if(l&&a.test(s))return l}return e.jd},has(s,e=!1){return e?s in this.j:!!this.go(s)},ta(s,e,r,n){for(let a=0;a<s.length;a++)this.tt(s[a],e,r,n)},tr(s,e,r,n){n=n||Ed.groups;let a;return e&&e.j?a=e:(a=new Ed(e),r&&n&&uf(e,r,n)),this.jr.push([s,a]),a},ts(s,e,r,n){let a=this;const l=s.length;if(!l)return a;for(let u=0;u<l-1;u++)a=a.tt(s[u]);return a.tt(s[l-1],e,r,n)},tt(s,e,r,n){n=n||Ed.groups;const a=this;if(e&&e.j)return a.j[s]=e,e;const l=e;let u,d=a.go(s);if(d?(u=new Ed,Object.assign(u.j,d.j),u.jr.push.apply(u.jr,d.jr),u.jd=d.jd,u.t=d.t):u=new Ed,l){if(n)if(u.t&&typeof u.t=="string"){const A=Object.assign(v$(u.t,n),r);uf(l,A,n)}else r&&uf(l,r,n);u.t=l}return a.j[s]=u,u}};const ua=(s,e,r,n,a)=>s.ta(e,r,n,a),Go=(s,e,r,n,a)=>s.tr(e,r,n,a),bj=(s,e,r,n,a)=>s.ts(e,r,n,a),er=(s,e,r,n,a)=>s.tt(e,r,n,a),UA="WORD",_v="UWORD",oC="ASCIINUMERICAL",lC="ALPHANUMERICAL",N0="LOCALHOST",Hv="TLD",zv="UTLD",Lm="SCHEME",ep="SLASH_SCHEME",Hy="NUM",$v="WS",zy="NL",i0="OPENBRACE",o0="CLOSEBRACE",mg="OPENBRACKET",gg="CLOSEBRACKET",xg="OPENPAREN",bg="CLOSEPAREN",vg="OPENANGLEBRACKET",yg="CLOSEANGLEBRACKET",wg="FULLWIDTHLEFTPAREN",jg="FULLWIDTHRIGHTPAREN",Ng="LEFTCORNERBRACKET",kg="RIGHTCORNERBRACKET",Cg="LEFTWHITECORNERBRACKET",Bg="RIGHTWHITECORNERBRACKET",Sg="FULLWIDTHLESSTHAN",Eg="FULLWIDTHGREATERTHAN",Tg="AMPERSAND",Lg="APOSTROPHE",Fg="ASTERISK",vh="AT",Ug="BACKSLASH",Mg="BACKTICK",Og="CARET",jh="COLON",$y="COMMA",Ig="DOLLAR",Yu="DOT",Dg="EQUALS",Vy="EXCLAMATION",lu="HYPHEN",l0="PERCENT",Pg="PIPE",Rg="PLUS",Qg="POUND",c0="QUERY",Ky="QUOTE",cC="FULLWIDTHMIDDLEDOT",Gy="SEMI",Xu="SLASH",d0="TILDE",_g="UNDERSCORE",dC="EMOJI",Hg="SYM";var uC=Object.freeze({__proto__:null,ALPHANUMERICAL:lC,AMPERSAND:Tg,APOSTROPHE:Lg,ASCIINUMERICAL:oC,ASTERISK:Fg,AT:vh,BACKSLASH:Ug,BACKTICK:Mg,CARET:Og,CLOSEANGLEBRACKET:yg,CLOSEBRACE:o0,CLOSEBRACKET:gg,CLOSEPAREN:bg,COLON:jh,COMMA:$y,DOLLAR:Ig,DOT:Yu,EMOJI:dC,EQUALS:Dg,EXCLAMATION:Vy,FULLWIDTHGREATERTHAN:Eg,FULLWIDTHLEFTPAREN:wg,FULLWIDTHLESSTHAN:Sg,FULLWIDTHMIDDLEDOT:cC,FULLWIDTHRIGHTPAREN:jg,HYPHEN:lu,LEFTCORNERBRACKET:Ng,LEFTWHITECORNERBRACKET:Cg,LOCALHOST:N0,NL:zy,NUM:Hy,OPENANGLEBRACKET:vg,OPENBRACE:i0,OPENBRACKET:mg,OPENPAREN:xg,PERCENT:l0,PIPE:Pg,PLUS:Rg,POUND:Qg,QUERY:c0,QUOTE:Ky,RIGHTCORNERBRACKET:kg,RIGHTWHITECORNERBRACKET:Bg,SCHEME:Lm,SEMI:Gy,SLASH:Xu,SLASH_SCHEME:ep,SYM:Hg,TILDE:d0,TLD:Hv,UNDERSCORE:_g,UTLD:zv,UWORD:_v,WORD:UA,WS:$v});const LA=/[a-z]/,Hp=new RegExp("\\p{L}","u"),_b=new RegExp("\\p{Emoji}","u"),FA=/\d/,Hb=/\s/,vj="\r",zb=`
`,y$="",w$="",$b="";let pm=null,mm=null;function j$(s=[]){const e={};Ed.groups=e;const r=new Ed;pm==null&&(pm=yj(p$)),mm==null&&(mm=yj(m$)),er(r,"'",Lg),er(r,"{",i0),er(r,"}",o0),er(r,"[",mg),er(r,"]",gg),er(r,"(",xg),er(r,")",bg),er(r,"<",vg),er(r,">",yg),er(r,"",wg),er(r,"",jg),er(r,"",Ng),er(r,"",kg),er(r,"",Cg),er(r,"",Bg),er(r,"",Sg),er(r,"",Eg),er(r,"&",Tg),er(r,"*",Fg),er(r,"@",vh),er(r,"`",Mg),er(r,"^",Og),er(r,":",jh),er(r,",",$y),er(r,"$",Ig),er(r,".",Yu),er(r,"=",Dg),er(r,"!",Vy),er(r,"-",lu),er(r,"%",l0),er(r,"|",Pg),er(r,"+",Rg),er(r,"#",Qg),er(r,"?",c0),er(r,'"',Ky),er(r,"/",Xu),er(r,";",Gy),er(r,"~",d0),er(r,"_",_g),er(r,"\\",Ug),er(r,"",cC);const n=Go(r,FA,Hy,{[Dv]:!0});Go(n,FA,n);const a=Go(n,LA,oC,{[a0]:!0}),l=Go(n,Hp,lC,{[Yp]:!0}),u=Go(r,LA,UA,{[Pv]:!0});Go(u,FA,a),Go(u,LA,u),Go(a,FA,a),Go(a,LA,a);const d=Go(r,Hp,_v,{[Rv]:!0});Go(d,LA),Go(d,FA,l),Go(d,Hp,d),Go(l,FA,l),Go(l,LA),Go(l,Hp,l);const A=er(r,zb,zy,{[Qb]:!0}),o=er(r,vj,$v,{[Qb]:!0}),f=Go(r,Hb,$v,{[Qb]:!0});er(r,$b,f),er(o,zb,A),er(o,$b,f),Go(o,Hb,f),er(f,vj),er(f,zb),Go(f,Hb,f),er(f,$b,f);const p=Go(r,_b,dC,{[iC]:!0});er(p,"#"),Go(p,_b,p),er(p,y$,p);const m=er(p,w$);er(m,"#"),Go(m,_b,p);const x=[[LA,u],[FA,a]],b=[[LA,null],[Hp,d],[FA,l]];for(let w=0;w<pm.length;w++)gh(r,pm[w],Hv,UA,x);for(let w=0;w<mm.length;w++)gh(r,mm[w],zv,_v,b);uf(Hv,{tld:!0,ascii:!0},e),uf(zv,{utld:!0,alpha:!0},e),gh(r,"file",Lm,UA,x),gh(r,"mailto",Lm,UA,x),gh(r,"http",ep,UA,x),gh(r,"https",ep,UA,x),gh(r,"ftp",ep,UA,x),gh(r,"ftps",ep,UA,x),uf(Lm,{scheme:!0,ascii:!0},e),uf(ep,{slashscheme:!0,ascii:!0},e),s=s.sort((w,y)=>w[0]>y[0]?1:-1);for(let w=0;w<s.length;w++){const y=s[w][0],P=s[w][1]?{[g$]:!0}:{[x$]:!0};y.indexOf("-")>=0?P[Qv]=!0:LA.test(y)?FA.test(y)?P[a0]=!0:P[Pv]=!0:P[Dv]=!0,bj(r,y,y,P)}return bj(r,"localhost",N0,{ascii:!0}),r.jd=new Ed(Hg),{start:r,tokens:Object.assign({groups:e},uC)}}function AC(s,e){const r=N$(e.replace(/[A-Z]/g,d=>d.toLowerCase())),n=r.length,a=[];let l=0,u=0;for(;u<n;){let d=s,A=null,o=0,f=null,p=-1,m=-1;for(;u<n&&(A=d.go(r[u]));)d=A,d.accepts()?(p=0,m=0,f=d):p>=0&&(p+=r[u].length,m++),o+=r[u].length,l+=r[u].length,u++;l-=p,u-=m,o-=p,a.push({t:f.t,v:e.slice(l-o,l),s:l-o,e:l})}return a}function N$(s){const e=[],r=s.length;let n=0;for(;n<r;){let a=s.charCodeAt(n),l,u=a<55296||a>56319||n+1===r||(l=s.charCodeAt(n+1))<56320||l>57343?s[n]:s.slice(n,n+2);e.push(u),n+=u.length}return e}function gh(s,e,r,n,a){let l;const u=e.length;for(let d=0;d<u-1;d++){const A=e[d];s.j[A]?l=s.j[A]:(l=new Ed(n),l.jr=a.slice(),s.j[A]=l),s=l}return l=new Ed(r),l.jr=a.slice(),s.j[e[u-1]]=l,l}function yj(s){const e=[],r=[];let n=0,a="0123456789";for(;n<s.length;){let l=0;for(;a.indexOf(s[n+l])>=0;)l++;if(l>0){e.push(r.join(""));for(let u=parseInt(s.substring(n,n+l),10);u>0;u--)r.pop();n+=l}else r.push(s[n]),n++}return e}const k0={defaultProtocol:"http",events:null,format:wj,formatHref:wj,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Wy(s,e=null){let r=Object.assign({},k0);s&&(r=Object.assign(r,s instanceof Wy?s.o:s));const n=r.ignoreTags,a=[];for(let l=0;l<n.length;l++)a.push(n[l].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=a}Wy.prototype={o:k0,ignoreTags:[],defaultRender(s){return s},check(s){return this.get("validate",s.toString(),s)},get(s,e,r){const n=e!=null;let a=this.o[s];return a&&(typeof a=="object"?(a=r.t in a?a[r.t]:k0[s],typeof a=="function"&&n&&(a=a(e,r))):typeof a=="function"&&n&&(a=a(e,r.t,r)),a)},getObj(s,e,r){let n=this.o[s];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(s){const e=s.render(this);return(this.get("render",null,s)||this.defaultRender)(e,s.t,s)}};function wj(s){return s}function hC(s,e){this.t="token",this.v=s,this.tk=e}hC.prototype={isLink:!1,toString(){return this.v},toHref(s){return this.toString()},toFormattedString(s){const e=this.toString(),r=s.get("truncate",e,this),n=s.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(s){return s.get("formatHref",this.toHref(s.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(s=k0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(s),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(s){return{type:this.t,value:this.toFormattedString(s),isLink:this.isLink,href:this.toFormattedHref(s),start:this.startIndex(),end:this.endIndex()}},validate(s){return s.get("validate",this.toString(),this)},render(s){const e=this,r=this.toHref(s.get("defaultProtocol")),n=s.get("formatHref",r,this),a=s.get("tagName",r,e),l=this.toFormattedString(s),u={},d=s.get("className",r,e),A=s.get("target",r,e),o=s.get("rel",r,e),f=s.getObj("attributes",r,e),p=s.getObj("events",r,e);return u.href=n,d&&(u.class=d),A&&(u.target=A),o&&(u.rel=o),f&&Object.assign(u,f),{tagName:a,attributes:u,content:l,eventListeners:p}}};function jx(s,e){class r extends hC{constructor(a,l){super(a,l),this.t=s}}for(const n in e)r.prototype[n]=e[n];return r.t=s,r}const jj=jx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Nj=jx("text"),k$=jx("nl"),gm=jx("url",{isLink:!0,toHref(s=k0.defaultProtocol){return this.hasProtocol()?this.v:`${s}://${this.v}`},hasProtocol(){const s=this.tk;return s.length>=2&&s[0].t!==N0&&s[1].t===jh}}),ou=s=>new Ed(s);function C$({groups:s}){const e=s.domain.concat([Tg,Fg,vh,Ug,Mg,Og,Ig,Dg,lu,Hy,l0,Pg,Rg,Qg,Xu,Hg,d0,_g]),r=[Lg,jh,$y,Yu,Vy,l0,c0,Ky,Gy,vg,yg,i0,o0,gg,mg,xg,bg,wg,jg,Ng,kg,Cg,Bg,Sg,Eg],n=[Tg,Lg,Fg,Ug,Mg,Og,Ig,Dg,lu,i0,o0,l0,Pg,Rg,Qg,c0,Xu,Hg,d0,_g],a=ou(),l=er(a,d0);ua(l,n,l),ua(l,s.domain,l);const u=ou(),d=ou(),A=ou();ua(a,s.domain,u),ua(a,s.scheme,d),ua(a,s.slashscheme,A),ua(u,n,l),ua(u,s.domain,u);const o=er(u,vh);er(l,vh,o),er(d,vh,o),er(A,vh,o);const f=er(l,Yu);ua(f,n,l),ua(f,s.domain,l);const p=ou();ua(o,s.domain,p),ua(p,s.domain,p);const m=er(p,Yu);ua(m,s.domain,p);const x=ou(jj);ua(m,s.tld,x),ua(m,s.utld,x),er(o,N0,x);const b=er(p,lu);er(b,lu,b),ua(b,s.domain,p),ua(x,s.domain,p),er(x,Yu,m),er(x,lu,b);const w=er(x,jh);ua(w,s.numeric,jj);const y=er(u,lu),E=er(u,Yu);er(y,lu,y),ua(y,s.domain,u),ua(E,n,l),ua(E,s.domain,u);const P=ou(gm);ua(E,s.tld,P),ua(E,s.utld,P),ua(P,s.domain,u),ua(P,n,l),er(P,Yu,E),er(P,lu,y),er(P,vh,o);const z=er(P,jh),X=ou(gm);ua(z,s.numeric,X);const Y=ou(gm),Q=ou();ua(Y,e,Y),ua(Y,r,Q),ua(Q,e,Y),ua(Q,r,Q),er(P,Xu,Y),er(X,Xu,Y);const K=er(d,jh),de=er(A,jh),ue=er(de,Xu),ve=er(ue,Xu);ua(d,s.domain,u),er(d,Yu,E),er(d,lu,y),ua(A,s.domain,u),er(A,Yu,E),er(A,lu,y),ua(K,s.domain,Y),er(K,Xu,Y),er(K,c0,Y),ua(ve,s.domain,Y),ua(ve,e,Y),er(ve,Xu,Y);const le=[[i0,o0],[mg,gg],[xg,bg],[vg,yg],[wg,jg],[Ng,kg],[Cg,Bg],[Sg,Eg]];for(let Ce=0;Ce<le.length;Ce++){const[oe,Ne]=le[Ce],Ae=er(Y,oe);er(Q,oe,Ae),er(Ae,Ne,Y);const se=ou(gm);ua(Ae,e,se);const pe=ou();ua(Ae,r),ua(se,e,se),ua(se,r,pe),ua(pe,e,se),ua(pe,r,pe),er(se,Ne,Y),er(pe,Ne,Y)}return er(a,N0,P),er(a,zy,k$),{start:a,tokens:uC}}function B$(s,e,r){let n=r.length,a=0,l=[],u=[];for(;a<n;){let d=s,A=null,o=null,f=0,p=null,m=-1;for(;a<n&&!(A=d.go(r[a].t));)u.push(r[a++]);for(;a<n&&(o=A||d.go(r[a].t));)A=null,d=o,d.accepts()?(m=0,p=d):m>=0&&m++,a++,f++;if(m<0)a-=f,a<n&&(u.push(r[a]),a++);else{u.length>0&&(l.push(Vb(Nj,e,u)),u=[]),a-=m,f-=m;const x=p.t,b=r.slice(a-f,a);l.push(Vb(x,e,b))}}return u.length>0&&l.push(Vb(Nj,e,u)),l}function Vb(s,e,r){const n=r[0].s,a=r[r.length-1].e,l=e.slice(n,a);return new s(l,r)}const S$=typeof console<"u"&&console&&console.warn||(()=>{}),E$="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ao={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function T$(){return Ed.groups={},ao.scanner=null,ao.parser=null,ao.tokenQueue=[],ao.pluginQueue=[],ao.customSchemes=[],ao.initialized=!1,ao}function kj(s,e=!1){if(ao.initialized&&S$(`linkifyjs: already initialized - will not register custom scheme "${s}" ${E$}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(s))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ao.customSchemes.push([s,e])}function L$(){ao.scanner=j$(ao.customSchemes);for(let s=0;s<ao.tokenQueue.length;s++)ao.tokenQueue[s][1]({scanner:ao.scanner});ao.parser=C$(ao.scanner.tokens);for(let s=0;s<ao.pluginQueue.length;s++)ao.pluginQueue[s][1]({scanner:ao.scanner,parser:ao.parser});return ao.initialized=!0,ao}function Yy(s){return ao.initialized||L$(),B$(ao.parser.start,s,AC(ao.scanner.start,s))}Yy.scan=AC;function fC(s,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new Wy(r),a=Yy(s),l=[];for(let u=0;u<a.length;u++){const d=a[u];d.isLink&&(!e||d.t===e)&&n.check(d)&&l.push(d.toFormattedObject(n))}return l}var Xy="[\0- -\u2029]",F$=new RegExp(Xy),U$=new RegExp(`${Xy}$`),M$=new RegExp(Xy,"g");function O$(s){return s.length===1?s[0].isLink:s.length===3&&s[1].isLink?["()","[]"].includes(s[0].value+s[2].value):!1}function I$(s){return new Lo({key:new Vl("autolink"),appendTransaction:(e,r,n)=>{const a=e.some(o=>o.docChanged)&&!r.doc.eq(n.doc),l=e.some(o=>o.getMeta("preventAutolink"));if(!a||l)return;const{tr:u}=n,d=Lk(r.doc,[...e]);if(Pk(d).forEach(({newRange:o})=>{const f=MH(n.doc,o,x=>x.isTextblock);let p,m;if(f.length>1)p=f[0],m=n.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");else if(f.length){const x=n.doc.textBetween(o.from,o.to," "," ");if(!U$.test(x))return;p=f[0],m=n.doc.textBetween(p.pos,o.to,void 0," ")}if(p&&m){const x=m.split(F$).filter(Boolean);if(x.length<=0)return!1;const b=x[x.length-1],w=p.pos+m.lastIndexOf(b);if(!b)return!1;const y=Yy(b).map(E=>E.toObject(s.defaultProtocol));if(!O$(y))return!1;y.filter(E=>E.isLink).map(E=>({...E,from:w+E.start+1,to:w+E.end+1})).filter(E=>n.schema.marks.code?!n.doc.rangeHasMark(E.from,E.to,n.schema.marks.code):!0).filter(E=>s.validate(E.value)).filter(E=>s.shouldAutoLink(E.value)).forEach(E=>{Dy(E.from,E.to,n.doc).some(P=>P.mark.type===s.type)||u.addMark(E.from,E.to,s.type.create({href:E.href}))})}}),!!u.steps.length)return u}})}function D$(s){return new Lo({key:new Vl("handleClickLink"),props:{handleClick:(e,r,n)=>{var a,l;if(n.button!==0||!e.editable)return!1;let u=!1;if(s.enableClickSelection&&(u=s.editor.commands.extendMarkRange(s.type.name)),s.openOnClick){let d=null;if(n.target instanceof HTMLAnchorElement)d=n.target;else{let p=n.target;const m=[];for(;p.nodeName!=="DIV";)m.push(p),p=p.parentNode;d=m.find(x=>x.nodeName==="A")}if(!d)return u;const A=Dk(e.state,s.type.name),o=(a=d==null?void 0:d.href)!=null?a:A.href,f=(l=d==null?void 0:d.target)!=null?l:A.target;d&&o&&(window.open(o,f),u=!0)}return u}}})}function P$(s){return new Lo({key:new Vl("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{shouldAutoLink:a}=s,{state:l}=e,{selection:u}=l,{empty:d}=u;if(d)return!1;let A="";n.content.forEach(f=>{A+=f.textContent});const o=fC(A,{defaultProtocol:s.defaultProtocol}).find(f=>f.isLink&&f.value===A);return!A||!o||a!==void 0&&!a(o.href)?!1:s.editor.commands.setMark(s.type,{href:o.href})}}})}function rf(s,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const a=typeof n=="string"?n:n.scheme;a&&r.push(a)}),!s||s.replace(M$,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var pC=HA.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(s=>{if(typeof s=="string"){kj(s);return}kj(s.scheme,s.optionalSlashes)})},onDestroy(){T$()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(s,e)=>!!rf(s,e.protocols),validate:s=>!!s,shouldAutoLink:s=>!!s}},addAttributes(){return{href:{default:null,parseHTML(s){return s.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:s=>{const e=s.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!rf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:s}){return this.options.isAllowedUri(s.href,{defaultValidate:e=>!!rf(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Eo(this.options.HTMLAttributes,s),0]:["a",Eo(this.options.HTMLAttributes,{...s,href:""}),0]},markdownTokenName:"link",parseMarkdown:(s,e)=>e.applyMark("link",e.parseInline(s.tokens||[]),{href:s.href,title:s.title||null}),renderMarkdown:(s,e)=>{var r;const n=((r=s.attrs)==null?void 0:r.href)||"";return`[${e.renderChildren(s)}](${n})`},addCommands(){return{setLink:s=>({chain:e})=>{const{href:r}=s;return this.options.isAllowedUri(r,{defaultValidate:n=>!!rf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,s).setMeta("preventAutolink",!0).run():!1},toggleLink:s=>({chain:e})=>{const{href:r}=s||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!rf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,s,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:s})=>s().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Dh({find:s=>{const e=[];if(s){const{protocols:r,defaultProtocol:n}=this.options,a=fC(s).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:u=>!!rf(u,r),protocols:r,defaultProtocol:n}));a.length&&a.forEach(l=>{this.options.shouldAutoLink(l.value)&&e.push({text:l.value,data:{href:l.href},index:l.start})})}return e},type:this.type,getAttributes:s=>{var e;return{href:(e=s.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const s=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&s.push(I$({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:a=>!!rf(a,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),s.push(D$({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&s.push(P$({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),s}}),R$=Object.defineProperty,Q$=(s,e)=>{for(var r in e)R$(s,r,{get:e[r],enumerable:!0})},_$="listItem",Cj="textStyle",Bj=/^\s*([-+*])\s$/,mC=Od.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:s}){return["ul",Eo(this.options.HTMLAttributes,s),0]},markdownTokenName:"list",parseMarkdown:(s,e)=>s.type!=="list"||s.ordered?[]:{type:"bulletList",content:s.items?e.parseChildren(s.items):[]},renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:s,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(_$,this.editor.getAttributes(Cj)).run():s.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let s=pp({find:Bj,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(s=pp({find:Bj,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Cj),editor:this.editor})),[s]}}),gC=Od.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:s}){return["li",Eo(this.options.HTMLAttributes,s),0]},markdownTokenName:"list_item",parseMarkdown:(s,e)=>{if(s.type!=="list_item")return[];let r=[];if(s.tokens&&s.tokens.length>0)if(s.tokens.some(a=>a.type==="paragraph"))r=e.parseChildren(s.tokens);else{const a=s.tokens[0];if(a&&a.type==="text"&&a.tokens&&a.tokens.length>0){if(r=[{type:"paragraph",content:e.parseInline(a.tokens)}],s.tokens.length>1){const u=s.tokens.slice(1),d=e.parseChildren(u);r.push(...d)}}else r=e.parseChildren(s.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(s,e,r)=>_y(s,e,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),H$={};Q$(H$,{findListItemPos:()=>O0,getNextListDepth:()=>Jy,handleBackspace:()=>Vv,handleDelete:()=>Kv,hasListBefore:()=>xC,hasListItemAfter:()=>z$,hasListItemBefore:()=>bC,listItemHasSubList:()=>vC,nextListIsDeeper:()=>yC,nextListIsHigher:()=>wC});var O0=(s,e)=>{const{$from:r}=e.selection,n=Tl(s,e.schema);let a=null,l=r.depth,u=r.pos,d=null;for(;l>0&&d===null;)a=r.node(l),a.type===n?d=l:(l-=1,u-=1);return d===null?null:{$pos:e.doc.resolve(u),depth:d}},Jy=(s,e)=>{const r=O0(s,e);if(!r)return!1;const[,n]=$H(e,s,r.$pos.pos+4);return n},xC=(s,e,r)=>{const{$anchor:n}=s.selection,a=Math.max(0,n.pos-2),l=s.doc.resolve(a).node();return!(!l||!r.includes(l.type.name))},bC=(s,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-2);return!(a.index()===0||((r=a.nodeBefore)==null?void 0:r.type.name)!==s)},vC=(s,e,r)=>{if(!r)return!1;const n=Tl(s,e.schema);let a=!1;return r.descendants(l=>{l.type===n&&(a=!0)}),a},Vv=(s,e,r)=>{if(s.commands.undoInputRule())return!0;if(s.state.selection.from!==s.state.selection.to)return!1;if(!Ih(s.state,e)&&xC(s.state,e,r)){const{$anchor:d}=s.state.selection,A=s.state.doc.resolve(d.before()-1),o=[];A.node().descendants((m,x)=>{m.type.name===e&&o.push({node:m,pos:x})});const f=o.at(-1);if(!f)return!1;const p=s.state.doc.resolve(A.start()+f.pos+1);return s.chain().cut({from:d.start()-1,to:d.end()+1},p.end()).joinForward().run()}if(!Ih(s.state,e)||!WH(s.state))return!1;const n=O0(e,s.state);if(!n)return!1;const l=s.state.doc.resolve(n.$pos.pos-2).node(n.depth),u=vC(e,s.state,l);return bC(e,s.state)&&!u?s.commands.joinItemBackward():s.chain().liftListItem(e).run()},yC=(s,e)=>{const r=Jy(s,e),n=O0(s,e);return!n||!r?!1:r>n.depth},wC=(s,e)=>{const r=Jy(s,e),n=O0(s,e);return!n||!r?!1:r<n.depth},Kv=(s,e)=>{if(!Ih(s.state,e)||!GH(s.state,e))return!1;const{selection:r}=s.state,{$from:n,$to:a}=r;return!r.empty&&n.sameParent(a)?!1:yC(e,s.state)?s.chain().focus(s.state.selection.from+4).lift(e).joinBackward().run():wC(e,s.state)?s.chain().joinForward().joinBackward().run():s.commands.joinItemForward()},z$=(s,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-n.parentOffset-2);return!(a.index()===a.parent.childCount-1||((r=a.nodeAfter)==null?void 0:r.type.name)!==s)},jC=Ii.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{s.state.schema.nodes[r]!==void 0&&Kv(s,r)&&(e=!0)}),e},"Mod-Delete":({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{s.state.schema.nodes[r]!==void 0&&Kv(s,r)&&(e=!0)}),e},Backspace:({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{s.state.schema.nodes[r]!==void 0&&Vv(s,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{s.state.schema.nodes[r]!==void 0&&Vv(s,r,n)&&(e=!0)}),e}}}}),Sj=/^(\s*)(\d+)\.\s+(.*)$/,$$=/^\s/;function V$(s){const e=[];let r=0,n=0;for(;r<s.length;){const a=s[r],l=a.match(Sj);if(!l)break;const[,u,d,A]=l,o=u.length;let f=A,p=r+1;const m=[a];for(;p<s.length;){const x=s[p];if(x.match(Sj))break;if(x.trim()==="")m.push(x),f+=`
`,p+=1;else if(x.match($$))m.push(x),f+=`
${x.slice(o+2)}`,p+=1;else break}e.push({indent:o,number:parseInt(d,10),content:f.trim(),raw:m.join(`
`)}),n=p,r=p}return[e,n]}function NC(s,e,r){var n;const a=[];let l=0;for(;l<s.length;){const u=s[l];if(u.indent===e){const d=u.content.split(`
`),A=((n=d[0])==null?void 0:n.trim())||"",o=[];A&&o.push({type:"paragraph",raw:A,tokens:r.inlineTokens(A)});const f=d.slice(1).join(`
`).trim();if(f){const x=r.blockTokens(f);o.push(...x)}let p=l+1;const m=[];for(;p<s.length&&s[p].indent>e;)m.push(s[p]),p+=1;if(m.length>0){const x=Math.min(...m.map(w=>w.indent)),b=NC(m,x,r);o.push({type:"list",ordered:!0,start:m[0].number,items:b,raw:m.map(w=>w.raw).join(`
`)})}a.push({type:"list_item",raw:u.raw,tokens:o}),l=p}else l+=1}return a}function K$(s,e){return s.map(r=>{if(r.type!=="list_item")return e.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(a=>{if(a.type==="paragraph"||a.type==="list"||a.type==="blockquote"||a.type==="code")n.push(...e.parseChildren([a]));else if(a.type==="text"&&a.tokens){const l=e.parseChildren([a]);n.push({type:"paragraph",content:l})}else{const l=e.parseChildren([a]);l.length>0&&n.push(...l)}}),{type:"listItem",content:n}})}var G$="listItem",Ej="textStyle",Tj=/^(\d+)\.\s$/,kC=Od.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:s=>s.hasAttribute("start")?parseInt(s.getAttribute("start")||"",10):1},type:{default:null,parseHTML:s=>s.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:s}){const{start:e,...r}=s;return e===1?["ol",Eo(this.options.HTMLAttributes,r),0]:["ol",Eo(this.options.HTMLAttributes,s),0]},markdownTokenName:"list",parseMarkdown:(s,e)=>{if(s.type!=="list"||!s.ordered)return[];const r=s.start||1,n=s.items?K$(s.items,e):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:s=>{const e=s.match(/^(\s*)(\d+)\.\s+/),r=e==null?void 0:e.index;return r!==void 0?r:-1},tokenize:(s,e,r)=>{var n;const a=s.split(`
`),[l,u]=V$(a);if(l.length===0)return;const d=NC(l,0,r);return d.length===0?void 0:{type:"list",ordered:!0,start:((n=l[0])==null?void 0:n.number)||1,items:d,raw:a.slice(0,u).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:s,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(G$,this.editor.getAttributes(Ej)).run():s.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let s=pp({find:Tj,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(s=pp({find:Tj,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Ej)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[s]}}),W$=/^\s*(\[([( |x])?\])\s$/,Y$=Od.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:s=>{const e=s.getAttribute("data-checked");return e===""||e==="true"},renderHTML:s=>({"data-checked":s.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:s,HTMLAttributes:e}){return["li",Eo(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:s.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(s,e)=>{const r=[];if(s.tokens&&s.tokens.length>0?r.push(e.createNode("paragraph",{},e.parseInline(s.tokens))):s.text?r.push(e.createNode("paragraph",{},[e.createNode("text",{text:s.text})])):r.push(e.createNode("paragraph",{},[])),s.nestedTokens&&s.nestedTokens.length>0){const n=e.parseChildren(s.nestedTokens);r.push(...n)}return e.createNode("taskItem",{checked:s.checked||!1},r)},renderMarkdown:(s,e)=>{var r;const a=`- [${(r=s.attrs)!=null&&r.checked?"x":" "}] `;return _y(s,e,a)},addKeyboardShortcuts(){const s={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...s,Tab:()=>this.editor.commands.sinkListItem(this.name)}:s},addNodeView(){return({node:s,HTMLAttributes:e,getPos:r,editor:n})=>{const a=document.createElement("li"),l=document.createElement("label"),u=document.createElement("span"),d=document.createElement("input"),A=document.createElement("div"),o=f=>{var p,m;d.ariaLabel=((m=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:m.call(p,f,d.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return o(s),l.contentEditable="false",d.type="checkbox",d.addEventListener("mousedown",f=>f.preventDefault()),d.addEventListener("change",f=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){d.checked=!d.checked;return}const{checked:p}=f.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:m})=>{const x=r();if(typeof x!="number")return!1;const b=m.doc.nodeAt(x);return m.setNodeMarkup(x,void 0,{...b==null?void 0:b.attrs,checked:p}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(s,p)||(d.checked=!d.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,p])=>{a.setAttribute(f,p)}),a.dataset.checked=s.attrs.checked,d.checked=s.attrs.checked,l.append(d,u),a.append(l,A),Object.entries(e).forEach(([f,p])=>{a.setAttribute(f,p)}),{dom:a,contentDOM:A,update:f=>f.type!==this.type?!1:(a.dataset.checked=f.attrs.checked,d.checked=f.attrs.checked,o(f),!0)}}},addInputRules(){return[pp({find:W$,type:this.type,getAttributes:s=>({checked:s[s.length-1]==="x"})})]}}),X$=Od.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:s}){return["ul",Eo(this.options.HTMLAttributes,s,{"data-type":this.name}),0]},parseMarkdown:(s,e)=>e.createNode("taskList",{},e.parseChildren(s.items||[])),renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(s){var e;const r=(e=s.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return r!==void 0?r:-1},tokenize(s,e,r){const n=l=>{const u=Ov(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:d=>({indentLevel:d[1].length,mainContent:d[4],checked:d[3].toLowerCase()==="x"}),createToken:(d,A)=>({type:"taskItem",raw:"",mainContent:d.mainContent,indentLevel:d.indentLevel,checked:d.checked,text:d.mainContent,tokens:r.inlineTokens(d.mainContent),nestedTokens:A}),customNestedParser:n},r);return u?[{type:"taskList",raw:u.raw,items:u.items}]:r.blockTokens(l)},a=Ov(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,u)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:r.inlineTokens(l.mainContent),nestedTokens:u}),customNestedParser:n},r);if(a)return{type:"taskList",raw:a.raw,items:a.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:s})=>s.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Ii.create({name:"listKit",addExtensions(){const s=[];return this.options.bulletList!==!1&&s.push(mC.configure(this.options.bulletList)),this.options.listItem!==!1&&s.push(gC.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(jC.configure(this.options.listKeymap)),this.options.orderedList!==!1&&s.push(kC.configure(this.options.orderedList)),this.options.taskItem!==!1&&s.push(Y$.configure(this.options.taskItem)),this.options.taskList!==!1&&s.push(X$.configure(this.options.taskList)),s}});var J$=Od.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:s}){return["p",Eo(this.options.HTMLAttributes,s),0]},parseMarkdown:(s,e)=>{const r=s.tokens||[];return r.length===1&&r[0].type==="image"?e.parseChildren([r[0]]):e.createNode("paragraph",void 0,e.parseInline(r))},renderMarkdown:(s,e)=>!s||!Array.isArray(s.content)?"":e.renderChildren(s.content),addCommands(){return{setParagraph:()=>({commands:s})=>s.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Z$=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,q$=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,eV=HA.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:s=>s.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:s}){return["s",Eo(this.options.HTMLAttributes,s),0]},markdownTokenName:"del",parseMarkdown:(s,e)=>e.applyMark("strike",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`~~${e.renderChildren(s)}~~`,addCommands(){return{setStrike:()=>({commands:s})=>s.setMark(this.name),toggleStrike:()=>({commands:s})=>s.toggleMark(this.name),unsetStrike:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[kf({find:Z$,type:this.type})]},addPasteRules(){return[Dh({find:q$,type:this.type})]}}),tV=Od.create({name:"text",group:"inline",parseMarkdown:s=>({type:"text",text:s.text||""}),renderMarkdown:s=>s.text||""}),CC=HA.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:s=>s.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:s}){return["u",Eo(this.options.HTMLAttributes,s),0]},parseMarkdown(s,e){return e.applyMark(this.name||"underline",e.parseInline(s.tokens||[]))},renderMarkdown(s,e){return`++${e.renderChildren(s)}++`},markdownTokenizer:{name:"underline",level:"inline",start(s){return s.indexOf("++")},tokenize(s,e,r){const a=/^(\+\+)([\s\S]+?)(\+\+)/.exec(s);if(!a)return;const l=a[2].trim();return{type:"underline",raw:a[0],text:l,tokens:r.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:s})=>s.setMark(this.name),toggleUnderline:()=>({commands:s})=>s.toggleMark(this.name),unsetUnderline:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function sV(s={}){return new Lo({view(e){return new rV(e,s)}})}class rV{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let l=u=>{this[a](u)};return e.dom.addEventListener(a,l),{name:a,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,a=this.editorView.dom,l=a.getBoundingClientRect(),u=l.width/a.offsetWidth,d=l.height/a.offsetHeight;if(r){let p=e.nodeBefore,m=e.nodeAfter;if(p||m){let x=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(x){let b=x.getBoundingClientRect(),w=p?b.bottom:b.top;p&&m&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*d;n={left:b.left,right:b.right,top:w-y,bottom:w+y}}}}if(!n){let p=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*u;n={left:p.left-m,right:p.left+m,top:p.top,bottom:p.bottom}}let A=this.editorView.dom.offsetParent;this.element||(this.element=A.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let o,f;if(!A||A==document.body&&getComputedStyle(A).position=="static")o=-pageXOffset,f=-pageYOffset;else{let p=A.getBoundingClientRect(),m=p.width/A.offsetWidth,x=p.height/A.offsetHeight;o=p.left-A.scrollLeft*m,f=p.top-A.scrollTop*x}this.element.style.left=(n.left-o)/u+"px",this.element.style.top=(n.top-f)/d+"px",this.element.style.width=(n.right-n.left)/u+"px",this.element.style.height=(n.bottom-n.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),a=n&&n.type.spec.disableDropCursor,l=typeof a=="function"?a(this.editorView,r,e):a;if(r&&!l){let u=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=wN(this.editorView.state.doc,u,this.editorView.dragging.slice);d!=null&&(u=d)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Yo extends ha{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return Yo.valid(n)?new Yo(n):ha.near(n)}content(){return Mr.empty}eq(e){return e instanceof Yo&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Yo(e.resolve(r.pos))}getBookmark(){return new Zy(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!nV(e)||!aV(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let a=r.contentMatchAt(e.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&Yo.valid(e))return e;let a=e.pos,l=null;for(let u=e.depth;;u--){let d=e.node(u);if(r>0?e.indexAfter(u)<d.childCount:e.index(u)>0){l=d.child(r>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;a+=r;let A=e.doc.resolve(a);if(Yo.valid(A))return A}for(;;){let u=r>0?l.firstChild:l.lastChild;if(!u){if(l.isAtom&&!l.isText&&!yn.isSelectable(l)){e=e.doc.resolve(a+l.nodeSize*r),n=!1;continue e}break}l=u,a+=r;let d=e.doc.resolve(a);if(Yo.valid(d))return d}return null}}}Yo.prototype.visible=!1;Yo.findFrom=Yo.findGapCursorFrom;ha.jsonID("gapcursor",Yo);class Zy{constructor(e){this.pos=e}map(e){return new Zy(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return Yo.valid(r)?new Yo(r):ha.near(r)}}function BC(s){return s.isAtom||s.spec.isolating||s.spec.createGapCursor}function nV(s){for(let e=s.depth;e>=0;e--){let r=s.index(e),n=s.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||BC(a.type))return!0;if(a.inlineContent)return!1}}return!0}function aV(s){for(let e=s.depth;e>=0;e--){let r=s.indexAfter(e),n=s.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||BC(a.type))return!0;if(a.inlineContent)return!1}}return!0}function iV(){return new Lo({props:{decorations:dV,createSelectionBetween(s,e,r){return e.pos==r.pos&&Yo.valid(r)?new Yo(r):null},handleClick:lV,handleKeyDown:oV,handleDOMEvents:{beforeinput:cV}}})}const oV=jk({ArrowLeft:xm("horiz",-1),ArrowRight:xm("horiz",1),ArrowUp:xm("vert",-1),ArrowDown:xm("vert",1)});function xm(s,e){const r=s=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,a,l){let u=n.selection,d=e>0?u.$to:u.$from,A=u.empty;if(u instanceof $n){if(!l.endOfTextblock(r)||d.depth==0)return!1;A=!1,d=n.doc.resolve(e>0?d.after():d.before())}let o=Yo.findGapCursorFrom(d,e,A);return o?(a&&a(n.tr.setSelection(new Yo(o))),!0):!1}}function lV(s,e,r){if(!s||!s.editable)return!1;let n=s.state.doc.resolve(e);if(!Yo.valid(n))return!1;let a=s.posAtCoords({left:r.clientX,top:r.clientY});return a&&a.inside>-1&&yn.isSelectable(s.state.doc.nodeAt(a.inside))?!1:(s.dispatch(s.state.tr.setSelection(new Yo(n))),!0)}function cV(s,e){if(e.inputType!="insertCompositionText"||!(s.state.selection instanceof Yo))return!1;let{$from:r}=s.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(s.state.schema.nodes.text);if(!n)return!1;let a=Ws.empty;for(let u=n.length-1;u>=0;u--)a=Ws.from(n[u].createAndFill(null,a));let l=s.state.tr.replace(r.pos,r.pos,new Mr(a,0,0));return l.setSelection($n.near(l.doc.resolve(r.pos+1))),s.dispatch(l),!1}function dV(s){if(!(s.selection instanceof Yo))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ko.create(s.doc,[ld.widget(s.selection.head,e,{key:"gapcursor"})])}var zg=200,Ac=function(){};Ac.prototype.append=function(e){return e.length?(e=Ac.from(e),!this.length&&e||e.length<zg&&this.leafAppend(e)||this.length<zg&&e.leafPrepend(this)||this.appendInner(e)):this};Ac.prototype.prepend=function(e){return e.length?Ac.from(e).append(this):this};Ac.prototype.appendInner=function(e){return new uV(this,e)};Ac.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Ac.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Ac.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ac.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Ac.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var a=[];return this.forEach(function(l,u){return a.push(e(l,u))},r,n),a};Ac.from=function(e){return e instanceof Ac?e:e&&e.length?new SC(e):Ac.empty};var SC=(function(s){function e(n){s.call(this),this.values=n}s&&(e.__proto__=s),e.prototype=Object.create(s&&s.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,l){return a==0&&l==this.length?this:new e(this.values.slice(a,l))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,l,u,d){for(var A=l;A<u;A++)if(a(this.values[A],d+A)===!1)return!1},e.prototype.forEachInvertedInner=function(a,l,u,d){for(var A=l-1;A>=u;A--)if(a(this.values[A],d+A)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=zg)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=zg)return new e(a.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(Ac);Ac.empty=new SC([]);var uV=(function(s){function e(r,n){s.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return s&&(e.__proto__=s),e.prototype=Object.create(s&&s.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,a,l,u){var d=this.left.length;if(a<d&&this.left.forEachInner(n,a,Math.min(l,d),u)===!1||l>d&&this.right.forEachInner(n,Math.max(a-d,0),Math.min(this.length,l)-d,u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(n,a,l,u){var d=this.left.length;if(a>d&&this.right.forEachInvertedInner(n,a-d,Math.max(l,d)-d,u+d)===!1||l<d&&this.left.forEachInvertedInner(n,Math.min(a,d),l,u)===!1)return!1},e.prototype.sliceInner=function(n,a){if(n==0&&a==this.length)return this;var l=this.left.length;return a<=l?this.left.slice(n,a):n>=l?this.right.slice(n-l,a-l):this.left.slice(n,l).append(this.right.slice(0,a-l))},e.prototype.leafAppend=function(n){var a=this.right.leafAppend(n);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(n){var a=this.left.leafPrepend(n);if(a)return new e(a,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Ac);const AV=500;class Lu{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let a,l;r&&(a=this.remapping(n,this.items.length),l=a.maps.length);let u=e.tr,d,A,o=[],f=[];return this.items.forEach((p,m)=>{if(!p.step){a||(a=this.remapping(n,m+1),l=a.maps.length),l--,f.push(p);return}if(a){f.push(new Ju(p.map));let x=p.step.map(a.slice(l)),b;x&&u.maybeStep(x).doc&&(b=u.mapping.maps[u.mapping.maps.length-1],o.push(new Ju(b,void 0,void 0,o.length+f.length))),l--,b&&a.appendMap(b,l)}else u.maybeStep(p.step);if(p.selection)return d=a?p.selection.map(a.slice(l)):p.selection,A=new Lu(this.items.slice(0,n).append(f.reverse().concat(o)),this.eventCount-1),!1},this.items.length,0),{remaining:A,transform:u,selection:d}}addTransform(e,r,n,a){let l=[],u=this.eventCount,d=this.items,A=!a&&d.length?d.get(d.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),m=new Ju(e.mapping.maps[f],p,r),x;(x=A&&A.merge(m))&&(m=x,f?l.pop():d=d.slice(0,d.length-1)),l.push(m),r&&(u++,r=void 0),a||(A=m)}let o=u-n.depth;return o>fV&&(d=hV(d,o),u-=o),new Lu(d.append(l),u)}remapping(e,r){let n=new x0;return this.items.forEach((a,l)=>{let u=a.mirrorOffset!=null&&l-a.mirrorOffset>=e?n.maps.length-a.mirrorOffset:void 0;n.appendMap(a.map,u)},e,r),n}addMaps(e){return this.eventCount==0?this:new Lu(this.items.append(e.map(r=>new Ju(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],a=Math.max(0,this.items.length-r),l=e.mapping,u=e.steps.length,d=this.eventCount;this.items.forEach(m=>{m.selection&&d--},a);let A=r;this.items.forEach(m=>{let x=l.getMirror(--A);if(x==null)return;u=Math.min(u,x);let b=l.maps[x];if(m.step){let w=e.steps[x].invert(e.docs[x]),y=m.selection&&m.selection.map(l.slice(A+1,x));y&&d++,n.push(new Ju(b,w,y))}else n.push(new Ju(b))},a);let o=[];for(let m=r;m<u;m++)o.push(new Ju(l.maps[m]));let f=this.items.slice(0,a).append(o).append(n),p=new Lu(f,d);return p.emptyItemCount()>AV&&(p=p.compress(this.items.length-n.length)),p}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,a=[],l=0;return this.items.forEach((u,d)=>{if(d>=e)a.push(u),u.selection&&l++;else if(u.step){let A=u.step.map(r.slice(n)),o=A&&A.getMap();if(n--,o&&r.appendMap(o,n),A){let f=u.selection&&u.selection.map(r.slice(n));f&&l++;let p=new Ju(o.invert(),A,f),m,x=a.length-1;(m=a.length&&a[x].merge(p))?a[x]=m:a.push(p)}}else u.map&&n--},this.items.length,0),new Lu(Ac.from(a.reverse()),l)}}Lu.empty=new Lu(Ac.empty,0);function hV(s,e){let r;return s.forEach((n,a)=>{if(n.selection&&e--==0)return r=a,!1}),s.slice(r)}class Ju{constructor(e,r,n,a){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Ju(r.getMap().invert(),r,this.selection)}}}class yh{constructor(e,r,n,a,l){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=a,this.prevComposition=l}}const fV=20;function pV(s,e,r,n){let a=r.getMeta(gf),l;if(a)return a.historyState;r.getMeta(xV)&&(s=new yh(s.done,s.undone,null,0,-1));let u=r.getMeta("appendedTransaction");if(r.steps.length==0)return s;if(u&&u.getMeta(gf))return u.getMeta(gf).redo?new yh(s.done.addTransform(r,void 0,n,Fm(e)),s.undone,Lj(r.mapping.maps),s.prevTime,s.prevComposition):new yh(s.done,s.undone.addTransform(r,void 0,n,Fm(e)),null,s.prevTime,s.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let d=r.getMeta("composition"),A=s.prevTime==0||!u&&s.prevComposition!=d&&(s.prevTime<(r.time||0)-n.newGroupDelay||!mV(r,s.prevRanges)),o=u?Kb(s.prevRanges,r.mapping):Lj(r.mapping.maps);return new yh(s.done.addTransform(r,A?e.selection.getBookmark():void 0,n,Fm(e)),Lu.empty,o,r.time,d??s.prevComposition)}else return(l=r.getMeta("rebased"))?new yh(s.done.rebased(r,l),s.undone.rebased(r,l),Kb(s.prevRanges,r.mapping),s.prevTime,s.prevComposition):new yh(s.done.addMaps(r.mapping.maps),s.undone.addMaps(r.mapping.maps),Kb(s.prevRanges,r.mapping),s.prevTime,s.prevComposition)}function mV(s,e){if(!e)return!1;if(!s.docChanged)return!0;let r=!1;return s.mapping.maps[0].forEach((n,a)=>{for(let l=0;l<e.length;l+=2)n<=e[l+1]&&a>=e[l]&&(r=!0)}),r}function Lj(s){let e=[];for(let r=s.length-1;r>=0&&e.length==0;r--)s[r].forEach((n,a,l,u)=>e.push(l,u));return e}function Kb(s,e){if(!s)return null;let r=[];for(let n=0;n<s.length;n+=2){let a=e.map(s[n],1),l=e.map(s[n+1],-1);a<=l&&r.push(a,l)}return r}function gV(s,e,r){let n=Fm(e),a=gf.get(e).spec.config,l=(r?s.undone:s.done).popEvent(e,n);if(!l)return null;let u=l.selection.resolve(l.transform.doc),d=(r?s.done:s.undone).addTransform(l.transform,e.selection.getBookmark(),a,n),A=new yh(r?d:l.remaining,r?l.remaining:d,null,0,-1);return l.transform.setSelection(u).setMeta(gf,{redo:r,historyState:A})}let Gb=!1,Fj=null;function Fm(s){let e=s.plugins;if(Fj!=e){Gb=!1,Fj=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Gb=!0;break}}return Gb}const gf=new Vl("history"),xV=new Vl("closeHistory");function bV(s={}){return s={depth:s.depth||100,newGroupDelay:s.newGroupDelay||500},new Lo({key:gf,state:{init(){return new yh(Lu.empty,Lu.empty,null,0,-1)},apply(e,r,n){return pV(r,n,e,s)}},config:s,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,a=n=="historyUndo"?TC:n=="historyRedo"?LC:null;return!a||!e.editable?!1:(r.preventDefault(),a(e.state,e.dispatch))}}}})}function EC(s,e){return(r,n)=>{let a=gf.getState(r);if(!a||(s?a.undone:a.done).eventCount==0)return!1;if(n){let l=gV(a,r,s);l&&n(e?l.scrollIntoView():l)}return!0}}const TC=EC(!1,!0),LC=EC(!0,!0);Ii.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:s=>s.length,wordCounter:s=>s.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=s=>{const e=(s==null?void 0:s.node)||this.editor.state.doc;if(((s==null?void 0:s.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=s=>{const e=(s==null?void 0:s.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let s=!1;return[new Lo({key:new Vl("characterCount"),appendTransaction:(e,r,n)=>{if(s)return;const a=this.options.limit;if(a==null||a===0){s=!0;return}const l=this.storage.characters({node:n.doc});if(l>a){const u=l-a,d=0,A=u;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const o=n.tr.deleteRange(d,A);return s=!0,o}s=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const a=this.storage.characters({node:r.doc}),l=this.storage.characters({node:e.doc});if(l<=n||a>n&&l>n&&l<=a)return!0;if(a>n&&l>n&&l>a||!e.getMeta("paste"))return!1;const d=e.selection.$head.pos,A=l-n,o=d-A,f=d;return e.deleteRange(o,f),!(this.storage.characters({node:e.doc})>n)}})]}});var vV=Ii.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[sV(this.options)]}});Ii.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Lo({key:new Vl("focus"),props:{decorations:({doc:s,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:a}=e,l=[];if(!r||!n)return ko.create(s,[]);let u=0;this.options.mode==="deepest"&&s.descendants((A,o)=>{if(A.isText)return;if(!(a>=o&&a<=o+A.nodeSize-1))return!1;u+=1});let d=0;return s.descendants((A,o)=>{if(A.isText||!(a>=o&&a<=o+A.nodeSize-1))return!1;if(d+=1,this.options.mode==="deepest"&&u-d>0||this.options.mode==="shallowest"&&d>1)return this.options.mode==="deepest";l.push(ld.node(o,o+A.nodeSize,{class:this.options.className}))}),ko.create(s,l)}}})]}});var yV=Ii.create({name:"gapCursor",addProseMirrorPlugins(){return[iV()]},extendNodeSchema(s){var e;const r={name:s.name,options:s.options,storage:s.storage};return{allowGapCursor:(e=Ni(xn(s,"allowGapCursor",r)))!=null?e:null}}}),wV=Ii.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Lo({key:new Vl("placeholder"),props:{decorations:({doc:s,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,a=[];if(!r)return null;const l=this.editor.isEmpty;return s.descendants((u,d)=>{const A=n>=d&&n<=d+u.nodeSize,o=!u.isLeaf&&vx(u);if((A||!this.options.showOnlyCurrent)&&o){const f=[this.options.emptyNodeClass];l&&f.push(this.options.emptyEditorClass);const p=ld.node(d,d+u.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:u,pos:d,hasAnchor:A}):this.options.placeholder});a.push(p)}return this.options.includeChildren}),ko.create(s,a)}}})]}});Ii.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:s,options:e}=this;return[new Lo({key:new Vl("selection"),props:{decorations(r){return r.selection.empty||s.isFocused||!s.isEditable||Rk(r.selection)||s.view.dragging?null:ko.create(r.doc,[ld.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function Uj({types:s,node:e}){return e&&Array.isArray(s)&&s.includes(e.type)||(e==null?void 0:e.type)===s}var jV=Ii.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var s;const e=new Vl(this.name),r=this.options.node||((s=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:s.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,a])=>a).filter(a=>(this.options.notAfter||[]).concat(r).includes(a.name));return[new Lo({key:e,appendTransaction:(a,l,u)=>{const{doc:d,tr:A,schema:o}=u,f=e.getState(u),p=d.content.size,m=o.nodes[r];if(f)return A.insert(p,m.create())},state:{init:(a,l)=>{const u=l.tr.doc.lastChild;return!Uj({node:u,types:n})},apply:(a,l)=>{if(!a.docChanged||a.getMeta("__uniqueIDTransaction"))return l;const u=a.doc.lastChild;return!Uj({node:u,types:n})}}})]}}),NV=Ii.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:s,dispatch:e})=>TC(s,e),redo:()=>({state:s,dispatch:e})=>LC(s,e)}},addProseMirrorPlugins(){return[bV(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),kV=Ii.create({name:"starterKit",addExtensions(){var s,e,r,n;const a=[];return this.options.bold!==!1&&a.push(qz.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(Wz.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(mC.configure(this.options.bulletList)),this.options.code!==!1&&a.push(s$.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(a$.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(i$.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(vV.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(yV.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(o$.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(l$.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(NV.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(c$.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(f$.configure(this.options.italic)),this.options.listItem!==!1&&a.push(gC.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(jC.configure((s=this.options)==null?void 0:s.listKeymap)),this.options.link!==!1&&a.push(pC.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&a.push(kC.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(J$.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(eV.configure(this.options.strike)),this.options.text!==!1&&a.push(tV.configure(this.options.text)),this.options.underline!==!1&&a.push(CC.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&a.push(jV.configure((n=this.options)==null?void 0:n.trailingNode)),a}}),CV=kV,BV=Ii.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:s=>{const e=s.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:s=>s.textAlign?{style:`text-align: ${s.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:s=>({commands:e})=>this.options.alignments.includes(s)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:s})).some(r=>r):!1,unsetTextAlign:()=>({commands:s})=>this.options.types.map(e=>s.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:s=>({editor:e,commands:r})=>this.options.alignments.includes(s)?e.isActive({textAlign:s})?r.unsetTextAlign():r.setTextAlign(s):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),SV=20,FC=(s,e=0)=>{const r=[];return!s.children.length||e>SV||Array.from(s.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...FC(n,e+1))}),r},EV=s=>{if(!s.children.length)return;const e=FC(s);e&&e.forEach(r=>{var n,a;const l=r.getAttribute("style"),u=(a=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:a.getAttribute("style");r.setAttribute("style",`${u};${l}`)})},UC=HA.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:s=>s.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&EV(s),{}):!1}]},renderHTML({HTMLAttributes:s}){return["span",Eo(this.options.HTMLAttributes,s),0]},addCommands(){return{toggleTextStyle:s=>({commands:e})=>e.toggleMark(this.name,s),removeEmptyTextStyle:()=>({tr:s})=>{const{selection:e}=s;return s.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(a=>a.type===this.type).some(a=>Object.values(a.attrs).some(l=>!!l))||s.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),TV=Ii.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:s=>{var e;const r=s.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const l=n[a].split(":");if(l.length>=2){const u=l[0].trim().toLowerCase(),d=l.slice(1).join(":").trim();if(u==="background-color")return d.replace(/['"]+/g,"")}}}return(e=s.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:s=>s.backgroundColor?{style:`background-color: ${s.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:s=>({chain:e})=>e().setMark("textStyle",{backgroundColor:s}).run(),unsetBackgroundColor:()=>({chain:s})=>s().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),MC=Ii.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:s=>{var e;const r=s.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const l=n[a].split(":");if(l.length>=2){const u=l[0].trim().toLowerCase(),d=l.slice(1).join(":").trim();if(u==="color")return d.replace(/['"]+/g,"")}}}return(e=s.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:s=>s.color?{style:`color: ${s.color}`}:{}}}}]},addCommands(){return{setColor:s=>({chain:e})=>e().setMark("textStyle",{color:s}).run(),unsetColor:()=>({chain:s})=>s().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),LV=Ii.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:s=>s.style.fontFamily,renderHTML:s=>s.fontFamily?{style:`font-family: ${s.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:s=>({chain:e})=>e().setMark("textStyle",{fontFamily:s}).run(),unsetFontFamily:()=>({chain:s})=>s().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),FV=Ii.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:s=>s.style.fontSize,renderHTML:s=>s.fontSize?{style:`font-size: ${s.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:s=>({chain:e})=>e().setMark("textStyle",{fontSize:s}).run(),unsetFontSize:()=>({chain:s})=>s().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),UV=Ii.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:s=>s.style.lineHeight,renderHTML:s=>s.lineHeight?{style:`line-height: ${s.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:s=>({chain:e})=>e().setMark("textStyle",{lineHeight:s}).run(),unsetLineHeight:()=>({chain:s})=>s().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Ii.create({name:"textStyleKit",addExtensions(){const s=[];return this.options.backgroundColor!==!1&&s.push(TV.configure(this.options.backgroundColor)),this.options.color!==!1&&s.push(MC.configure(this.options.color)),this.options.fontFamily!==!1&&s.push(LV.configure(this.options.fontFamily)),this.options.fontSize!==!1&&s.push(FV.configure(this.options.fontSize)),this.options.lineHeight!==!1&&s.push(UV.configure(this.options.lineHeight)),this.options.textStyle!==!1&&s.push(UC.configure(this.options.textStyle)),s}});var MV=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,OV=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,IV=HA.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:s=>s.getAttribute("data-color")||s.style.backgroundColor,renderHTML:s=>s.color?{"data-color":s.color,style:`background-color: ${s.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:s}){return["mark",Eo(this.options.HTMLAttributes,s),0]},renderMarkdown:(s,e)=>`==${e.renderChildren(s)}==`,parseMarkdown:(s,e)=>e.applyMark("highlight",e.parseInline(s.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:s=>s.indexOf("=="),tokenize(s,e,r){const a=/^(==)([^=]+)(==)/.exec(s);if(a){const l=a[2].trim(),u=r.inlineTokens(l);return{type:"highlight",raw:a[0],text:l,tokens:u}}}},addCommands(){return{setHighlight:s=>({commands:e})=>e.setMark(this.name,s),toggleHighlight:s=>({commands:e})=>e.toggleMark(this.name,s),unsetHighlight:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[kf({find:MV,type:this.type})]},addPasteRules(){return[Dh({find:OV,type:this.type})]}}),DV=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,PV=Od.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:s}){return["img",Eo(this.options.HTMLAttributes,s)]},parseMarkdown:(s,e)=>e.createNode("image",{src:s.href,title:s.title,alt:s.text}),renderMarkdown:s=>{var e,r,n,a,l,u;const d=(r=(e=s.attrs)==null?void 0:e.src)!=null?r:"",A=(a=(n=s.attrs)==null?void 0:n.alt)!=null?a:"",o=(u=(l=s.attrs)==null?void 0:l.title)!=null?u:"";return o?`![${A}](${d} "${o}")`:`![${A}](${d})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:s,minWidth:e,minHeight:r,alwaysPreserveAspectRatio:n}=this.options.resize;return({node:a,getPos:l,HTMLAttributes:u,editor:d})=>{const A=document.createElement("img");Object.entries(u).forEach(([p,m])=>{if(m!=null)switch(p){case"width":case"height":break;default:A.setAttribute(p,m);break}}),A.src=u.src;const o=new M9({element:A,editor:d,node:a,getPos:l,onResize:(p,m)=>{A.style.width=`${p}px`,A.style.height=`${m}px`},onCommit:(p,m)=>{const x=l();x!==void 0&&this.editor.chain().setNodeSelection(x).updateAttributes(this.name,{width:p,height:m}).run()},onUpdate:(p,m,x)=>p.type===a.type,options:{directions:s,min:{width:e,height:r},preserveAspectRatio:n===!0}}),f=o.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",A.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},o}},addCommands(){return{setImage:s=>({commands:e})=>e.insertContent({type:this.name,attrs:s})}},addInputRules(){return[sC({find:DV,type:this.type,getAttributes:s=>{const[,,e,r,n]=s;return{src:r,alt:e,title:n}}})]}});const Wo=({onClick:s,isActive:e,disabled:r,children:n,title:a})=>t.jsx("button",{type:"button",onClick:s,disabled:r,title:a,className:`p-1.5 rounded-lg transition-all ${e?"bg-blue-100 text-blue-600":"text-slate-500 hover:bg-slate-100 hover:text-slate-700"} ${r?"opacity-40 cursor-not-allowed":""}`,children:n}),RV=({editor:s})=>{const[e,r]=W.useState(!1),[n,a]=W.useState(!1);if(!s)return null;const l=()=>{const A=window.prompt("Enter image URL:");A&&s.chain().focus().setImage({src:A}).run()},u=()=>{const A=s.getAttributes("link").href,o=window.prompt("Enter URL:",A);if(o!==null){if(o===""){s.chain().focus().extendMarkRange("link").unsetLink().run();return}s.chain().focus().extendMarkRange("link").setLink({href:o}).run()}},d=["#000000","#374151","#6b7280","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"];return t.jsxs("div",{className:"flex flex-wrap items-center gap-0.5 p-2 border-b border-slate-200 bg-slate-50/80",children:[t.jsx(Wo,{onClick:()=>s.chain().focus().undo().run(),disabled:!s.can().undo(),title:"Undo",children:t.jsx(ST,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().redo().run(),disabled:!s.can().redo(),title:"Redo",children:t.jsx(TE,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Wo,{onClick:()=>s.chain().focus().toggleHeading({level:1}).run(),isActive:s.isActive("heading",{level:1}),title:"Heading 1",children:t.jsx(l3,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().toggleHeading({level:2}).run(),isActive:s.isActive("heading",{level:2}),title:"Heading 2",children:t.jsx(d3,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().toggleHeading({level:3}).run(),isActive:s.isActive("heading",{level:3}),title:"Heading 3",children:t.jsx(A3,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Wo,{onClick:()=>s.chain().focus().toggleBold().run(),isActive:s.isActive("bold"),title:"Bold",children:t.jsx(lS,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().toggleItalic().run(),isActive:s.isActive("italic"),title:"Italic",children:t.jsx(j3,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().toggleUnderline().run(),isActive:s.isActive("underline"),title:"Underline",children:t.jsx(CT,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().toggleStrike().run(),isActive:s.isActive("strike"),title:"Strikethrough",children:t.jsx(sT,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsxs("div",{className:"relative",children:[t.jsx(Wo,{onClick:()=>r(!e),title:"Text Color",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(NT,{size:14}),t.jsx("div",{className:"w-3 h-1 rounded-sm mt-0.5",style:{backgroundColor:s.getAttributes("textStyle").color||"#000"}})]})}),e&&t.jsxs("div",{className:"absolute top-full left-0 mt-1 p-3 bg-white rounded-xl shadow-xl border border-slate-200 z-50 grid grid-cols-5 gap-2 w-[180px]",children:[d.map(A=>t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().setColor(A).run(),r(!1)},className:"w-6 h-6 rounded-full border border-slate-200 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:A},title:A},A)),t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().unsetColor().run(),r(!1)},className:"w-6 h-6 rounded-full border border-slate-200 text-xs text-slate-400 hover:bg-slate-100 flex items-center justify-center",title:"Reset Color",children:""})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Wo,{onClick:()=>a(!n),isActive:s.isActive("highlight"),title:"Highlight",children:t.jsx(cE,{size:16})}),n&&t.jsxs("div",{className:"absolute top-full left-0 mt-1 p-3 bg-white rounded-xl shadow-xl border border-slate-200 z-50 grid grid-cols-5 gap-2 w-[180px]",children:[["#fef08a","#bbf7d0","#bfdbfe","#ddd6fe","#fecdd3"].map(A=>t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().toggleHighlight({color:A}).run(),a(!1)},className:"w-6 h-6 rounded-full border border-slate-200 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:A}},A)),t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().unsetHighlight().run(),a(!1)},className:"w-6 h-6 rounded-full border border-slate-200 text-xs text-slate-400 hover:bg-slate-100 flex items-center justify-center",title:"Reset Highlight",children:""})]})]}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Wo,{onClick:()=>s.chain().focus().setTextAlign("left").run(),isActive:s.isActive({textAlign:"left"}),title:"Align Left",children:t.jsx(fT,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().setTextAlign("center").run(),isActive:s.isActive({textAlign:"center"}),title:"Align Center",children:t.jsx(lT,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().setTextAlign("right").run(),isActive:s.isActive({textAlign:"right"}),title:"Align Right",children:t.jsx(dT,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().setTextAlign("justify").run(),isActive:s.isActive({textAlign:"justify"}),title:"Justify",children:t.jsx(AT,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Wo,{onClick:()=>s.chain().focus().toggleBulletList().run(),isActive:s.isActive("bulletList"),title:"Bullet List",children:t.jsx(R3,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().toggleOrderedList().run(),isActive:s.isActive("orderedList"),title:"Ordered List",children:t.jsx(D3,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Wo,{onClick:()=>s.chain().focus().toggleBlockquote().run(),isActive:s.isActive("blockquote"),title:"Quote",children:t.jsx(BE,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().toggleCodeBlock().run(),isActive:s.isActive("codeBlock"),title:"Code Block",children:t.jsx(OS,{size:16})}),t.jsx(Wo,{onClick:()=>s.chain().focus().setHorizontalRule().run(),title:"Horizontal Rule",children:t.jsx(tE,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Wo,{onClick:u,isActive:s.isActive("link"),title:"Link",children:t.jsx(qg,{size:16})}),t.jsx(Wo,{onClick:l,title:"Image",children:t.jsx(op,{size:16})})]})},OC=({content:s,onChange:e,placeholder:r="Write your article content here..."})=>{const n=zz({extensions:[CV.configure({heading:{levels:[1,2,3]}}),CC,BV.configure({types:["heading","paragraph"]}),UC,MC,IV.configure({multicolor:!0}),pC.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline"}}),PV.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}}),wV.configure({placeholder:r})],content:s,onUpdate:({editor:a})=>{e(a.getHTML())}});return W.useEffect(()=>{n&&s!==n.getHTML()&&n.commands.setContent(s)},[s,n]),t.jsxs("div",{className:"tiptap-editor-wrapper bg-white border border-slate-200 rounded-xl overflow-hidden focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all",children:[t.jsx(RV,{editor:n}),t.jsx(Iz,{editor:n,className:"tiptap-content"})]})},QV=({value:s,onChange:e,className:r=""})=>{const[n,a]=W.useState(!1),[l,u]=W.useState(!1),[d,A]=W.useState(""),[o,f]=W.useState(!1),[p,m]=W.useState(""),[x,b]=W.useState(""),w=W.useRef(null);Lc.useEffect(()=>{s&&!n&&b(s)},[s,n]);const y=async Q=>{if(!["image/jpeg","image/png","image/gif","image/webp"].includes(Q.type)){m("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}if(Q.size>5*1024*1024){m("Image must be less than 5MB");return}m(""),a(!0);const de=URL.createObjectURL(Q);b(de);try{const ue=new FormData;ue.append("image",Q);const ve=await fetch(`${It}/api/blogs/upload-image`,{method:"POST",credentials:"include",body:ue});if(ve.ok){const le=await ve.json();if(le.success&&le.url)e(le.url);else throw new Error(le.error||"Upload failed")}else throw new Error("Upload failed")}catch(ue){console.error("Image upload failed:",ue),m("Failed to upload image. Please try again."),b(""),e("")}finally{a(!1)}},E=Q=>{Q.preventDefault(),f(!1);const K=Q.dataTransfer.files[0];K&&y(K)},P=Q=>{Q.preventDefault(),f(!0)},z=()=>{f(!1)},X=()=>{d.trim()&&(e(d.trim()),A(""),u(!1))},Y=()=>{e(""),m("")};return x||s?t.jsxs("div",{className:`relative group aspect-video rounded-2xl overflow-hidden ${r}`,children:[t.jsx("img",{src:x||s,alt:"Cover",className:"w-full h-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[t.jsx("button",{type:"button",onClick:()=>{var Q;return(Q=w.current)==null?void 0:Q.click()},className:"p-3 bg-white/20 hover:bg-white/30 rounded-full transition-colors",title:"Change image",children:t.jsx(cp,{className:"w-5 h-5 text-white"})}),t.jsx("button",{type:"button",onClick:Y,className:"p-3 bg-red-500/80 hover:bg-red-500 rounded-full transition-colors",title:"Remove image",children:t.jsx(qr,{className:"w-5 h-5 text-white"})})]}),n&&t.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:t.jsx(Lr,{className:"w-8 h-8 text-white animate-spin"})}),t.jsx("input",{ref:w,type:"file",accept:"image/*",onChange:Q=>{var K;return((K=Q.target.files)==null?void 0:K[0])&&y(Q.target.files[0])},className:"hidden"})]}):t.jsxs("div",{className:`${r}`,children:[t.jsxs("div",{onDrop:E,onDragOver:P,onDragLeave:z,className:`relative aspect-video rounded-2xl border-2 border-dashed transition-all cursor-pointer ${o?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-700 hover:border-indigo-500 bg-slate-50 dark:bg-slate-800"}`,children:[n?t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx(Lr,{className:"w-10 h-10 text-indigo-600 animate-spin mb-2"}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Uploading..."})]}):l?t.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md space-y-3",children:[t.jsx("input",{type:"url",value:d,onChange:Q=>A(Q.target.value),placeholder:"Paste image URL...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:X,disabled:!d.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-500 transition-colors disabled:opacity-50",children:"Add Image"}),t.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-xl font-medium hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancel"})]})]})}):t.jsxs("div",{onClick:()=>{var Q;return(Q=w.current)==null?void 0:Q.click()},className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx(op,{className:"w-10 h-10 text-slate-400 mb-3"}),t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Drop an image here or click to upload"}),t.jsx("p",{className:"text-xs text-slate-400",children:"JPEG, PNG, GIF, WebP up to 5MB"}),t.jsxs("div",{className:"flex gap-3 mt-4",children:[t.jsxs("button",{type:"button",onClick:Q=>{var K;Q.stopPropagation(),(K=w.current)==null||K.click()},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-500 transition-colors",children:[t.jsx(cp,{className:"w-4 h-4"}),"Upload"]}),t.jsxs("button",{type:"button",onClick:Q=>{Q.stopPropagation(),u(!0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-xl text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:[t.jsx(qg,{className:"w-4 h-4"}),"URL"]})]})]}),t.jsx("input",{ref:w,type:"file",accept:"image/*",onChange:Q=>{var K;return((K=Q.target.files)==null?void 0:K[0])&&y(Q.target.files[0])},className:"hidden"})]}),p&&t.jsx("p",{className:"mt-2 text-sm text-red-500",children:p})]})},qy=({onClose:s,onSuccess:e,initialData:r})=>{var f;const[n,a]=W.useState(!1),l=nx(),[u,d]=W.useState({title:(r==null?void 0:r.title)||"",content:(r==null?void 0:r.content)||"",category:(r==null?void 0:r.category)||"",tags:((f=r==null?void 0:r.tags)==null?void 0:f.join(", "))||"",coverImage:(r==null?void 0:r.coverImage)||""}),A=["Travel","Food","Tips","Experience","Culture","Gear"],o=async(p,m)=>{p.preventDefault();const x=document.createElement("div");x.innerHTML=u.content;const b=x.textContent||x.innerText||"",w=b.trim().length>0;if(!u.title.trim()){l.error("Please enter a title");return}if(!w){l.error("Please enter some content for your story");return}a(!0);try{const y=b.slice(0,150)+(b.length>150?"...":""),E=r?`${It}/api/blogs/${r.id}`:`${It}/api/blogs/create`;(await fetch(E,{method:r?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...u,excerpt:y,status:m,tags:u.tags.split(",").map(X=>X.trim()).filter(Boolean)})})).ok?(l.success(r?"Story updated successfully!":m==="draft"?"Draft saved successfully!":"Story submitted for review!"),e()):l.error(r?"Failed to update story.":"Failed to save story. Please try again.")}catch(y){console.error(r?"Failed to update blog:":"Failed to create blog:",y),l.error("An error occurred. Please try again.")}finally{a(!1)}};return Gj.createPortal(t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-4xl h-[90vh] rounded-3xl shadow-2xl flex flex-col overflow-hidden animate-scale-in",children:[t.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r?"Edit Story":"Write a Story"}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-6 h-6 text-slate-500"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[t.jsx(QV,{value:u.coverImage,onChange:p=>d({...u,coverImage:p})}),t.jsx("input",{type:"text",placeholder:"Article Title...",className:"w-full text-4xl font-bold bg-transparent border-none placeholder:text-slate-300 dark:placeholder:text-slate-700 focus:ring-0 px-0 text-slate-900 dark:text-white",value:u.title,onChange:p=>d({...u,title:p.target.value})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-800 rounded-xl border-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",value:u.category,onChange:p=>d({...u,category:p.target.value}),children:[t.jsx("option",{value:"",children:"Select Category"}),A.map(p=>t.jsx("option",{value:p,children:p},p))]}),t.jsx("input",{type:"text",placeholder:"Tags (comma separated)...",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-800 rounded-xl border-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",value:u.tags,onChange:p=>d({...u,tags:p.target.value})})]}),t.jsx(OC,{content:u.content,onChange:p=>d({...u,content:p}),placeholder:"Tell your story..."},(r==null?void 0:r.id)||"new")]})}),t.jsxs("div",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-800 flex justify-end gap-3 bg-white dark:bg-slate-900",children:[t.jsx("button",{onClick:p=>o(p,"draft"),disabled:n,className:"px-6 py-2.5 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):"Save as Draft"}),t.jsx("button",{onClick:p=>o(p,"pending"),disabled:n,className:"px-8 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:n?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):r?"Save Changes":"Submit for Review"})]})]})}),document.body)},_V=({blogId:s,user:e,onBack:r})=>{$l();const[n,a]=W.useState(null),[l,u]=W.useState([]),[d,A]=W.useState(!0),[o,f]=W.useState(""),[p,m]=W.useState(!1),[x,b]=W.useState(!1),[w,y]=W.useState(!1),[E,P]=W.useState(!1),[z,X]=W.useState("inappropriate"),[Y,Q]=W.useState(""),K=nx();W.useEffect(()=>{de()},[s]);const de=async()=>{try{const se=await fetch(`${It}/api/blogs/${s}`,{credentials:"include"});if(se.ok){const re=await se.json();re.success&&re.blog&&a(re.blog)}const pe=await fetch(`${It}/api/blogs/${s}/comments`,{credentials:"include"});if(pe.ok){const re=await pe.json();re.success&&re.comments&&u(re.comments)}}catch(se){console.error("Error fetching blog details:",se),K.error("Failed to load story details")}finally{A(!1)}},ue=()=>{y(!0)},ve=async()=>{if(n)try{const se=await fetch(`${It}/api/blogs/${s}/report`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:z,description:Y})}),pe=await se.json();se.ok&&pe.success?(K.success("Report submitted successfully"),P(!1),Q(""),X("inappropriate")):K.error(pe.error||"Failed to submit report")}catch{K.error("Failed to submit report")}},le=async()=>{if(n)try{navigator.share?await navigator.share({title:n.title,text:n.excerpt,url:window.location.href}):(await navigator.clipboard.writeText(window.location.href),K.success("Link copied to clipboard!"))}catch(se){console.error("Error sharing:",se)}},Ce=async()=>{if(!(!n||!window.confirm("Are you sure you want to delete this story?")))try{(await fetch(`${It}/api/blogs/${s}`,{method:"DELETE",credentials:"include"})).ok?(K.success("Story deleted successfully"),r()):K.error("Failed to delete story")}catch(se){console.error("Error deleting blog:",se),K.error("Failed to delete story")}},oe=async()=>{if(!n)return;const se=n.isLiked;try{a(pe=>pe?{...pe,isLiked:!pe.isLiked,likesCount:pe.isLiked?pe.likesCount-1:pe.likesCount+1}:null),await fetch(`${It}/api/blogs/${s}/like`,{method:"POST",credentials:"include"}),K.success(se?"Removed from favorites":"Added to favorites")}catch(pe){console.error("Error toggling like:",pe),a(re=>re?{...re,isLiked:se,likesCount:se?re.likesCount+1:re.likesCount-1}:null),K.error("Failed to update. Please try again.")}},Ne=async()=>{if(o.trim()){m(!0);try{const se=await fetch(`${It}/api/blogs/${s}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content:o})});if(se.ok){const pe=await se.json();pe.success&&pe.comment&&(u(re=>[pe.comment,...re]),f(""),a(re=>re?{...re,commentsCount:re.commentsCount+1}:null),K.success("Comment posted!"))}else K.error("Failed to post comment")}catch(se){console.error("Error posting comment:",se),K.error("Failed to post comment. Please try again.")}finally{m(!1)}}},Ae=async()=>{if(!n)return;const se=x;try{b(pe=>!pe),await fetch(`${It}/api/blogs/authors/${n.authorId}/subscribe`,{method:"POST",credentials:"include"}),K.success(se?`Unfollowed ${n.authorName}`:`Now following ${n.authorName}`)}catch(pe){console.error("Error toggling follow:",pe),b(re=>!re),K.error("Failed to update subscription")}};return d?t.jsx(DR,{}):n?t.jsxs("div",{className:"max-w-4xl mx-auto pb-20 animate-fade-in-up",children:[t.jsxs("button",{onClick:r,className:"mb-6 flex items-center gap-2 text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors",children:[t.jsx(rA,{className:"w-5 h-5"}),t.jsx("span",{className:"font-bold",children:"Back to Feed"})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"flex gap-2 mb-4",children:t.jsx("span",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full text-xs font-bold uppercase tracking-wide",children:n.category})}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6 leading-tight",children:n.title}),t.jsxs("div",{className:"flex items-center justify-between py-6 border-b border-slate-100 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden",children:n.authorAvatar&&t.jsx("img",{src:n.authorAvatar,alt:n.authorName,className:"w-full h-full object-cover"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:n.authorName}),t.jsx("button",{onClick:Ae,className:`text-xs font-bold hover:underline ${x?"text-slate-500":"text-indigo-600 dark:text-indigo-400"}`,children:x?"Following":"Follow"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm",children:[t.jsx("span",{children:new Date(n.publishedAt||"").toLocaleDateString()}),t.jsx("span",{children:""}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{className:"w-3 h-3"})," 5 min read"]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e&&n.authorId===e.id&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:ue,className:"p-2 text-slate-400 hover:bg-blue-50 hover:text-blue-600 rounded-full transition-colors",title:"Edit Story",children:t.jsx(ry,{className:"w-5 h-5"})}),t.jsx("button",{onClick:Ce,className:"p-2 text-slate-400 hover:bg-red-50 hover:text-red-500 rounded-full transition-colors",title:"Delete Story",children:t.jsx(Zo,{className:"w-5 h-5"})})]}),t.jsx("button",{onClick:le,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(Gm,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>P(!0),className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(Vm,{className:"w-5 h-5"})})]})]})]}),n.coverImage&&t.jsx("div",{className:"rounded-3xl overflow-hidden mb-10 shadow-lg",children:t.jsx("img",{src:n.coverImage,alt:n.title,className:"w-full h-auto object-cover"})}),t.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-12 text-slate-600 dark:text-slate-300",dangerouslySetInnerHTML:{__html:n.content}}),t.jsx("div",{className:"flex items-center justify-between py-6 border-t border-b border-slate-100 dark:border-slate-800 mb-12",children:t.jsxs("div",{className:"flex gap-6",children:[t.jsxs("button",{onClick:oe,className:`flex items-center gap-2 font-bold transition-colors ${n.isLiked?"text-rose-500":"text-slate-500 hover:text-rose-500"}`,children:[t.jsx(bf,{className:`w-6 h-6 ${n.isLiked?"fill-current":""}`}),n.likesCount]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold",children:[t.jsx(mu,{className:"w-6 h-6"}),n.commentsCount]})]})}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["Comments (",l.length,")"]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden shrink-0",children:(e==null?void 0:e.avatarUrl)&&t.jsx("img",{src:e.avatarUrl,alt:"Me",className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("textarea",{value:o,onChange:se=>f(se.target.value),placeholder:"Share your thoughts...",className:"w-full bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white rounded-2xl p-4 border-none focus:ring-2 focus:ring-indigo-500 min-h-[100px] resize-none"}),t.jsx("div",{className:"flex justify-end mt-2",children:t.jsx("button",{onClick:Ne,disabled:!o.trim()||p,className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-500 transition-colors disabled:opacity-50",children:"Post Comment"})})]})]}),t.jsx("div",{className:"space-y-6",children:l.map(se=>t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden shrink-0",children:se.userAvatar&&t.jsx("img",{src:se.userAvatar,alt:se.userName,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl rounded-tl-none",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:se.userName}),t.jsx("span",{className:"text-xs text-slate-400",children:new Date(se.createdAt||"").toLocaleDateString()})]}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:se.content})]}),t.jsxs("div",{className:"flex gap-4 mt-2 pl-4",children:[t.jsx("button",{className:"text-xs font-bold text-slate-500 hover:text-indigo-600",children:"Reply"}),t.jsx("button",{className:"text-xs font-bold text-slate-500 hover:text-indigo-600",children:"Like"})]})]})]},se.id))})]}),w&&n&&t.jsx(qy,{initialData:n,onClose:()=>y(!1),onSuccess:()=>{y(!1),de()}}),E&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-xl p-6 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(qo,{className:"w-5 h-5 text-amber-500"}),"Report Story"]}),t.jsx("button",{onClick:()=>P(!1),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Reason"}),t.jsxs("select",{value:z,onChange:se=>X(se.target.value),className:"w-full p-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"spam",children:"Spam"}),t.jsx("option",{value:"inappropriate",children:"Inappropriate Content"}),t.jsx("option",{value:"harassment",children:"Harassment"}),t.jsx("option",{value:"misinformation",children:"Misinformation"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),t.jsx("textarea",{value:Y,onChange:se=>Q(se.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white min-h-[100px] focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Please provide more details..."})]}),t.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[t.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{onClick:ve,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors shadow-lg shadow-red-500/20",children:"Submit Report"})]})]})]})})]}):t.jsx("div",{className:"p-8 text-center text-slate-500",children:"Story not found"})},HV=({className:s=""})=>t.jsxs("div",{className:`bg-white dark:bg-slate-800/60 rounded-3xl overflow-hidden shadow-sm border border-slate-100 dark:border-slate-700/50 ${s}`,children:[t.jsx(Zn,{variant:"rectangular",className:"w-full h-48"}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx(Zn,{variant:"rounded",className:"w-20 h-6"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Zn,{variant:"text",className:"w-full h-6"}),t.jsx(Zn,{variant:"text",className:"w-3/4 h-6"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Zn,{variant:"text",className:"w-full h-4"}),t.jsx(Zn,{variant:"text",className:"w-5/6 h-4"})]}),t.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[t.jsx(Zn,{variant:"circular",className:"w-10 h-10"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(Zn,{variant:"text",className:"w-24 h-4"}),t.jsx(Zn,{variant:"text",className:"w-32 h-3"})]})]}),t.jsxs("div",{className:"flex items-center gap-4 pt-2 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsx(Zn,{variant:"rounded",className:"w-16 h-5"}),t.jsx(Zn,{variant:"rounded",className:"w-16 h-5"}),t.jsx(Zn,{variant:"rounded",className:"w-16 h-5"})]})]})]}),zV=({user:s,onBack:e})=>{const[r,n]=W.useState([]),[a,l]=W.useState(!0),[u,d]=W.useState(""),[A,o]=W.useState("all"),[f,p]=W.useState(!1),[m,x]=W.useState(null),b=nx();W.useEffect(()=>{w()},[]);const w=async()=>{l(!0);try{const Q=await fetch(`${It}/api/blogs/my?status=all`,{credentials:"include"});if(Q.ok){const K=await Q.json();K.success&&n(K.blogs||[])}}catch(Q){console.error("Failed to fetch my blogs:",Q),b.error("Failed to load your stories")}finally{l(!1)}},y=async Q=>{if(window.confirm("Are you sure you want to delete this story? This action cannot be undone."))try{(await fetch(`${It}/api/blogs/${Q}`,{method:"DELETE",credentials:"include"})).ok?(b.success("Story deleted successfully"),n(de=>de.filter(ue=>ue.id!==Q))):b.error("Failed to delete story")}catch{b.error("Failed to delete story")}},E=r.filter(Q=>{const K=Q.title.toLowerCase().includes(u.toLowerCase()),de=A==="all"||Q.status===A;return K&&de}),P=r.reduce((Q,K)=>Q+(K.views||0),0),z=r.reduce((Q,K)=>Q+(K.likesCount||0),0),X=r.reduce((Q,K)=>Q+(K.commentsCount||0),0),Y=Q=>{switch(Q){case"published":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"rejected":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}};return t.jsxs("div",{className:"animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(rA,{className:"w-6 h-6 text-slate-500"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Story Studio"}),t.jsx("p",{className:"text-slate-500",children:"Manage your content and analytics"})]})]}),t.jsxs("button",{onClick:()=>{x(null),p(!0)},className:"px-5 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 transition-all flex items-center gap-2",children:[t.jsx($i,{className:"w-5 h-5"}),"Create New"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:t.jsx(Td,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Stories"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:r.length})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:t.jsx(io,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Views"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:P})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-rose-50 dark:bg-rose-900/20 rounded-lg",children:t.jsx(bf,{className:"w-5 h-5 text-rose-600 dark:text-rose-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Likes"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:z})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:t.jsx(mu,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Comments"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:X})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex flex-col md:flex-row gap-4 justify-between",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search your stories...",value:u,onChange:Q=>d(Q.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white"})]}),t.jsxs("select",{value:A,onChange:Q=>o(Q.target.value),className:"px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-left",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Story"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Stats"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:a?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"Loading stories..."})}):E.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"No stories found"})}):E.map(Q=>t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-10 rounded-lg bg-slate-200 dark:bg-slate-700 overflow-hidden flex-shrink-0",children:Q.coverImage?t.jsx("img",{src:Q.coverImage,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-400 to-purple-500"})}),t.jsxs("div",{className:"min-w-0 max-w-xs",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:Q.title}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:Q.category})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${Y(Q.status)}`,children:Q.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:Q.createdAt?new Date(Q.createdAt).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",title:"Views",children:[t.jsx(io,{className:"w-4 h-4"})," ",Q.views]}),t.jsxs("span",{className:"flex items-center gap-1",title:"Likes",children:[t.jsx(bf,{className:"w-4 h-4"})," ",Q.likesCount]})]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>{x(Q),p(!0)},className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Edit",children:t.jsx(ry,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>y(Q.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:t.jsx(Zo,{className:"w-4 h-4"})})]})})]},Q.id))})]})})]}),f&&t.jsx(qy,{initialData:m||void 0,onClose:()=>{p(!1),x(null)},onSuccess:()=>{p(!1),x(null),w()}})]})},$V=({user:s})=>{const[e,r]=W.useState("list"),[n,a]=W.useState(null),[l,u]=W.useState(!1),[d,A]=W.useState([]),[o,f]=W.useState(!0),[p,m]=W.useState("All"),[x,b]=W.useState(""),w=nx(),y=["All","Travel","Food","Tips","Experience"];W.useEffect(()=>{E()},[p,x]);const E=async()=>{f(!0);try{const z=new URLSearchParams;p!=="All"&&z.append("category",p),x&&z.append("search",x);const X=`${It}/api/blogs/feed${z.toString()?"?"+z.toString():""}`,Y=await fetch(X,{credentials:"include"});if(Y.ok){const Q=await Y.json();Q.success?A(Q.blogs||[]):A([])}else A([])}catch(z){console.error("Failed to fetch blogs:",z),A([]),w.error("Failed to load stories. Please try again.")}finally{f(!1)}},P=z=>{a(z),r("detail")};return e==="studio"?t.jsx(zV,{user:s,onBack:()=>r("list")}):e==="detail"&&n?t.jsx(_V,{blogId:n,user:s,onBack:()=>{r("list"),a(null)}}):t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-8 animate-fade-in-up",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-4xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-3",children:[t.jsx(Hm,{className:"w-10 h-10 text-indigo-500"}),"Travel Stories"]}),t.jsx("p",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mt-2",children:"Discover and share adventures from around the world."})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>r("studio"),className:"px-5 py-3 bg-white dark:bg-slate-800 text-slate-700 dark:text-white rounded-2xl font-bold shadow-sm border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all flex items-center gap-2",children:[t.jsx(sy,{className:"w-5 h-5"}),"My Studio"]}),t.jsxs("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl font-bold shadow-lg shadow-indigo-500/20 transition-all active:scale-95 flex items-center gap-2",children:[t.jsx($i,{className:"w-5 h-5"}),"Write Story"]})]})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-center bg-white dark:bg-slate-800/50 p-2 rounded-3xl border border-slate-100 dark:border-slate-700/50 shadow-sm",children:[t.jsx("div",{className:"flex gap-1 overflow-x-auto w-full lg:w-auto p-1 no-scrollbar",children:y.map(z=>t.jsx("button",{onClick:()=>m(z),className:`px-5 py-2.5 rounded-xl text-sm font-bold whitespace-nowrap transition-all ${p===z?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 shadow-md":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:z},z))}),t.jsxs("div",{className:"relative w-full lg:w-96 group",children:[t.jsx(Kc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"}),t.jsx("input",{type:"text",placeholder:"Search stories, authors, tags...",value:x,onChange:z=>b(z.target.value),onKeyDown:z=>z.key==="Enter"&&E(),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl pl-12 pr-4 py-3 font-medium focus:ring-2 focus:ring-indigo-500 transition-all text-slate-900 dark:text-white"})]})]}),o?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(z=>t.jsx(HV,{},z))}):d.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((z,X)=>t.jsx("div",{style:{animationDelay:`${X*50}ms`},className:"animate-fade-in-up",children:t.jsx(IR,{blog:z,onClick:()=>P(z.id)})},z.id))}):t.jsxs("div",{className:"text-center py-20 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-dashed border-slate-200 dark:border-slate-700",children:[t.jsx(Hm,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"No stories found"}),t.jsx("p",{className:"text-slate-500",children:"Be the first to share your adventure in this category!"})]}),l&&t.jsx(qy,{onClose:()=>u(!1),onSuccess:()=>{u(!1),E(),w.success("Your story has been submitted for review!")}})]})},VV=(s,e,r)=>e?`${It}/proxy_image?place_id=${e}`:r?`${It}/proxy_image?name=${encodeURIComponent(r)}`:`${It}/proxy_image/default`,KV=({type:s,className:e="w-4 h-4"})=>{switch(s){case"food":return t.jsx(Fd,{className:e});case"attraction":return t.jsx(Xg,{className:e});case"cafe":return t.jsx(E0,{className:e});case"hotel":return t.jsx(Zg,{className:e});case"shopping":return t.jsx(sx,{className:e});case"transport":return t.jsx(Yg,{className:e});default:return t.jsx(So,{className:e})}},GV=({slot:s})=>{const e={morning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",lunch:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",afternoon:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400",evening:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400",night:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${e[s]||e.morning}`,children:s})},WV=({plan:s,onClose:e})=>{const[r,n]=W.useState(0),a=s.days[r],l=()=>n(d=>Math.max(0,d-1)),u=()=>n(d=>Math.min(s.days.length-1,d+1));return t.jsxs("div",{className:"fixed inset-0 z-[100] bg-white dark:bg-slate-900 flex flex-col overflow-hidden animate-in fade-in duration-200",children:[t.jsx("div",{className:"shrink-0 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white line-clamp-1",children:s.title}),t.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2",children:[t.jsx("span",{children:s.duration}),t.jsx("span",{children:""}),t.jsx("span",{children:s.total_budget_estimate})]})]})]}),t.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider bg-slate-100 dark:bg-slate-800 px-3 py-1.5 rounded-full",children:"Read Only"})]})}),t.jsx("div",{className:"shrink-0 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:l,disabled:r===0,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Rh,{className:"w-5 h-5"})}),t.jsx("div",{className:"flex-1 flex gap-2 overflow-x-auto py-1 [&::-webkit-scrollbar]:hidden",children:s.days.map((d,A)=>t.jsx("button",{onClick:()=>n(A),className:`shrink-0 px-4 py-2 rounded-xl font-medium text-sm transition-all ${r===A?"bg-sky-500 text-white shadow-md shadow-sky-500/20":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-sky-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("span",{className:"font-bold",children:["Day ",d.day_number]}),t.jsx("span",{className:"text-[10px] opacity-75",children:d.theme})]})},d.day_number))}),t.jsx("button",{onClick:u,disabled:r===s.days.length-1,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(hc,{className:"w-5 h-5"})})]})})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-8",children:[a.top_locations&&a.top_locations.length>0&&t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(oo,{className:"w-4 h-4"})," Highlights"]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.top_locations.map((d,A)=>t.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden group shadow-lg",children:[t.jsx("img",{src:VV(d.image_url,d.place_id,d.name),alt:d.name,className:"w-full h-full object-cover",onError:o=>{o.currentTarget.src=`${It}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:d.name}),t.jsx("p",{className:"text-white/80 text-xs",children:d.highlight_reason})]})]},A))})]}),t.jsx("section",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-5 border border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-wrap gap-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-900/30 rounded-lg",children:t.jsx(Co,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Activities"}),t.jsxs("p",{className:"font-bold text-slate-900 dark:text-white",children:[a.day_summary.total_activities," Items"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:t.jsx(Cf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Est. Budget"}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:a.day_summary.total_budget})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:t.jsx(Yg,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Transport"}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:a.day_summary.transport_notes})]})]})]})}),t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4"})," Itinerary"]}),t.jsx("div",{className:"space-y-4",children:a.activities.map((d,A)=>t.jsxs("div",{className:"relative pl-8 group",children:[A<a.activities.length-1&&t.jsx("div",{className:"absolute left-[11px] top-10 bottom-0 w-0.5 bg-slate-200 dark:bg-slate-700"}),t.jsx("div",{className:`absolute left-0 top-2 w-6 h-6 rounded-full flex items-center justify-center shadow-md ${d.activity_type==="food"?"bg-orange-500":d.activity_type==="attraction"?"bg-sky-500":d.activity_type==="cafe"?"bg-amber-500":"bg-slate-500"}`,children:t.jsx(KV,{type:d.activity_type,className:"w-3 h-3 text-white"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-5 shadow-sm",children:[t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(GV,{slot:d.time_slot}),t.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[d.start_time," - ",d.end_time]})]})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:d.place_name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-1 mb-3",children:[t.jsx(So,{className:"w-3 h-3"}),d.place_address]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed mb-4",children:d.description}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[t.jsx("span",{className:"px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 rounded-lg font-bold",children:d.budget_estimate}),d.dietary_info&&t.jsx("span",{className:"px-2 py-1 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-400 rounded-lg font-medium",children:d.dietary_info}),d.tips&&t.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[t.jsx(El,{className:"w-3 h-3"})," ",d.tips]})]})]})]},A))})]}),s.practical_info&&t.jsxs("section",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-2xl p-5 border border-amber-100 dark:border-amber-800/30",children:[t.jsxs("h2",{className:"text-sm font-bold text-amber-800 dark:text-amber-400 mb-3 flex items-center gap-2",children:[t.jsx(El,{className:"w-4 h-4"})," Practical Info"]}),t.jsxs("div",{className:"space-y-2 text-sm text-amber-700 dark:text-amber-300",children:[s.practical_info.best_transport&&t.jsxs("p",{children:[t.jsx("strong",{children:"Transport:"})," ",s.practical_info.best_transport]}),s.practical_info.weather_advisory&&t.jsxs("p",{children:[t.jsx("strong",{children:"Weather:"})," ",s.practical_info.weather_advisory]}),s.practical_info.booking_recommendations&&s.practical_info.booking_recommendations.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:"Booking Tips:"}),t.jsx("ul",{className:"list-disc list-inside mt-1",children:s.practical_info.booking_recommendations.map((d,A)=>t.jsx("li",{children:d},A))})]})]})]})]})})]})},YV=({suggestion:s})=>{var e;return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[280px] md:max-w-[320px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl flex-shrink-0 snap-start",children:[t.jsxs("div",{className:"h-36 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:s.imageUrl||`${It}/proxy_image/default`,alt:s.title,className:"w-full h-full object-cover",onError:r=>{r.currentTarget.src=`${It}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),t.jsx("div",{className:"absolute bottom-3 left-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(e=s.tags)==null?void 0:e.slice(0,3).map(r=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:r},r))}),s.priceEstimate&&t.jsxs("div",{className:"pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Cost"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.priceEstimate})]})]})]})},XV=({plan:s,onViewDetails:e})=>{var a,l,u;const r=((a=s.days)==null?void 0:a.reduce((d,A)=>{var o;return d+(((o=A.activities)==null?void 0:o.length)||0)},0))||0,n=()=>{var A,o,f;const d=(f=(o=(A=s.days)==null?void 0:A[0])==null?void 0:o.top_locations)==null?void 0:f[0];return d!=null&&d.place_id?`${It}/proxy_image?place_id=${d.place_id}`:d!=null&&d.name?`${It}/proxy_image?name=${encodeURIComponent(d.name)}`:`${It}/proxy_image/default`};return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[320px] md:max-w-[380px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl flex-shrink-0 snap-start transition-all hover:shadow-lg",children:[t.jsxs("div",{className:"h-40 overflow-hidden relative rounded-t-2xl bg-gradient-to-br from-sky-400 to-blue-600",children:[t.jsx("img",{src:n(),alt:s.title,className:"w-full h-full object-cover",onError:d=>{d.currentTarget.src=`${It}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1 bg-sky-500/90 backdrop-blur-sm rounded-full text-white text-xs font-bold flex items-center gap-1.5",children:[t.jsx(Co,{className:"w-3 h-3"}),s.duration]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight drop-shadow-md",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(l=s.tags)==null?void 0:l.slice(0,4).map(d=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:d},d))}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Co,{className:"w-3.5 h-3.5"}),((u=s.days)==null?void 0:u.length)||0," days"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(So,{className:"w-3.5 h-3.5"}),r," activities"]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Budget"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.total_budget_estimate})]}),t.jsxs("button",{onClick:()=>e(s),className:"flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold bg-sky-600 hover:bg-sky-500 text-white transition-all",children:[t.jsx(El,{className:"w-3.5 h-3.5"}),"View Itinerary"]})]})]})]})},JV=({place:s})=>t.jsxs("div",{className:"bg-white dark:bg-slate-900/80 border border-slate-200 dark:border-slate-700/50 rounded-xl p-4",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:s.name}),s.address&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:s.address}),t.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.rating&&t.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[t.jsx(tA,{className:"w-4 h-4 text-amber-400 fill-current"}),s.rating]}),s.cuisine&&t.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:s.cuisine}),s.price_level&&t.jsx("span",{className:"text-xs text-emerald-600",children:s.price_level})]})]}),ZV=s=>s.map((e,r)=>{const n=()=>e.id||e.place_id?`${It}/proxy_image?place_id=${e.id||e.place_id}`:e.name?`${It}/proxy_image?name=${encodeURIComponent(e.name)}`:`${It}/proxy_image/default`;return{id:e.id||`shared-place-${r}`,title:e.title||e.name||"Unknown",description:e.description||e.address||"",duration:e.duration||"Place",priceEstimate:e.priceEstimate||(e.price_level?"$".repeat(e.price_level.length):"N/A"),tags:e.tags||(e.business_status==="OPERATIONAL"?["Open","Place"]:["Place"]),imageUrl:n(),itinerary:e.itinerary||null,reviews:e.review_list||[],fullAddress:e.address,rating:e.rating}}),qV=s=>{let e=s.content,r,n,a;if(e.startsWith("DAILY_PLAN::"))try{const l=JSON.parse(e.substring(12));n=[l],e=`Generated a ${l.duration} trip plan:`}catch(l){console.error("Failed to parse daily plan:",l)}else if(e.startsWith("FOOD_DATA::"))try{const l=JSON.parse(e.substring(11));l.recommendations&&(a=l.recommendations,e=`Found ${l.recommendations.length} food recommendations:`)}catch(l){console.error("Failed to parse food data:",l)}else if(e.startsWith("POPUP_DATA::"))try{const l=JSON.parse(e.substring(12));r=ZV(l),e=`Found ${r.length} recommendations:`}catch(l){console.error("Failed to parse places data:",l)}return{text:e,suggestions:r,dailyPlans:n,foodRecommendations:a}},eK=()=>{const{shareToken:s}=Wg(),e=$l(),[r,n]=W.useState(null),[a,l]=W.useState(!0),[u,d]=W.useState(null),[A,o]=W.useState(null),f=W.useRef(null);return W.useEffect(()=>{(async()=>{if(!s){d("Invalid share link"),l(!1);return}try{const m=await fetch(`${It}/api/shared/${s}`);if(!m.ok){m.status===404?d("This conversation is no longer available or has been unshared."):d("Failed to load conversation"),l(!1);return}const x=await m.json();n(x.conversation)}catch(m){console.error("Failed to fetch shared conversation:",m),d("Failed to load conversation. Please try again.")}finally{l(!1)}})()},[s]),W.useEffect(()=>{var p;r&&((p=f.current)==null||p.scrollIntoView({behavior:"smooth"}))},[r]),a?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx(Lr,{className:"w-10 h-10 text-sky-500 animate-spin mx-auto"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading shared conversation..."})]})}):u||!r?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900 p-4",children:t.jsxs("div",{className:"text-center space-y-6 max-w-md",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto",children:t.jsx(Da,{className:"w-8 h-8 text-red-500"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Conversation Not Found"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:u||"This shared conversation could not be found."})]}),t.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-xl transition-colors",children:[t.jsx(rA,{className:"w-4 h-4"}),"Go to Home"]})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[t.jsx("div",{className:"sticky top-0 z-10 px-4 py-3 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[t.jsx("button",{onClick:()=>e("/"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(rA,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white truncate",children:r.title}),t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Shared conversation - ",r.messageCount," messages"]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-full",children:[t.jsx(Km,{className:"w-3.5 h-3.5 text-sky-500"}),t.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"GogoTrip"})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-8 py-8",children:[t.jsx("div",{className:"flex flex-col space-y-8",children:r.messages.map(p=>{const m=p.role==="user",{text:x,suggestions:b,dailyPlans:w,foodRecommendations:y}=qV(p);return t.jsxs("div",{className:`flex w-full flex-col ${m?"items-end":"items-start"}`,children:[t.jsxs("div",{className:`flex gap-4 max-w-[90%] md:max-w-[70%] ${m?"flex-row-reverse":"flex-row"}`,children:[t.jsx("div",{className:"flex-shrink-0 mt-2",children:m?t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-300 dark:bg-slate-700 flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:"U"})}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md",children:t.jsx(zm,{className:"w-5 h-5 text-white"})})}),t.jsxs("div",{className:`flex flex-col gap-1 p-5 rounded-[1.5rem] shadow-sm ${m?"bg-sky-600 dark:bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 border border-slate-100 dark:border-slate-800 rounded-tl-sm"}`,children:[t.jsx("p",{className:"text-[15px] leading-relaxed whitespace-pre-wrap font-medium",children:x}),t.jsx("span",{className:`text-[10px] font-bold ${m?"text-sky-100":"text-slate-400"} self-end mt-1`,children:new Date(p.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),b&&b.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:b.map((E,P)=>t.jsx(YV,{suggestion:E},E.id||P))})}),w&&w.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:w.map((E,P)=>t.jsx(XV,{plan:E,onViewDetails:o},`${E.title}-${P}`))})}),y&&y.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:y.slice(0,6).map((E,P)=>t.jsx(JV,{place:E},`${E.name}-${P}`))})})]},p.id)})}),t.jsx("div",{ref:f})]}),t.jsx("div",{className:"border-t border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 text-center",children:[t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"This is a shared conversation. Want to plan your own trip?"}),t.jsxs("button",{onClick:()=>e("/chat"),className:"inline-flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-xl transition-colors",children:[t.jsx(Km,{className:"w-4 h-4"}),"Start Planning"]})]})}),A&&t.jsx(WV,{plan:A,onClose:()=>o(null)})]})},od={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},tK={Administrator:od.SUPER_ADMIN,Admin:od.ADMIN,User:od.USER,administrator:od.SUPER_ADMIN,ADMIN:od.ADMIN,USER:od.USER,admin:od.ADMIN,user:od.USER,super_admin:od.SUPER_ADMIN};function $g(s){return s?Object.values(od).includes(s)?s:tK[s]??od.USER:od.USER}function Gv(s){const e=$g(s);return e===od.SUPER_ADMIN||e===od.ADMIN}function Wv(s){return $g(s)===od.SUPER_ADMIN}const zp=({className:s})=>t.jsxs("svg",{viewBox:"0 0 100 100",className:s,fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeWidth:"0.8",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsxs("g",{opacity:"0.8",children:[t.jsx("path",{d:"M50 45 C55 35 65 25 50 10 C35 25 45 35 50 45Z"}),t.jsx("path",{d:"M55 48 C65 45 80 35 90 50 C80 65 65 55 55 48Z"}),t.jsx("path",{d:"M53 53 C60 63 65 85 45 90 C35 80 45 65 53 53Z"}),t.jsx("path",{d:"M47 53 C40 65 15 85 10 65 C20 50 40 50 47 53Z"}),t.jsx("path",{d:"M45 48 C35 45 10 35 15 20 C30 15 40 35 45 48Z"})]}),t.jsxs("g",{fill:"currentColor",fillOpacity:"0.03",children:[t.jsx("path",{d:"M50 45 C55 35 65 25 50 10 C35 25 45 35 50 45Z",stroke:"none"}),t.jsx("path",{d:"M55 48 C65 45 80 35 90 50 C80 65 65 55 55 48Z",stroke:"none"}),t.jsx("path",{d:"M53 53 C60 63 65 85 45 90 C35 80 45 65 53 53Z",stroke:"none"}),t.jsx("path",{d:"M47 53 C40 65 15 85 10 65 C20 50 40 50 47 53Z",stroke:"none"}),t.jsx("path",{d:"M45 48 C35 45 10 35 15 20 C30 15 40 35 45 48Z",stroke:"none"})]}),t.jsxs("g",{strokeWidth:"0.4",opacity:"0.3",children:[t.jsx("path",{d:"M50 45 L50 25"}),t.jsx("path",{d:"M55 48 L75 42"}),t.jsx("path",{d:"M53 53 L58 75"}),t.jsx("path",{d:"M47 53 L25 65"}),t.jsx("path",{d:"M45 48 L25 35"})]}),t.jsxs("g",{children:[t.jsx("path",{d:"M50 50 Q65 35 85 15",strokeWidth:"1.2"}),t.jsx("circle",{cx:"85",cy:"15",r:"1.5",fill:"currentColor",stroke:"none"}),t.jsxs("g",{strokeWidth:"0.5",opacity:"0.6",children:[t.jsx("path",{d:"M78 22 L80 20"}),t.jsx("path",{d:"M82 18 L84 16"}),t.jsx("path",{d:"M85 12 L87 10"})]})]})]}),sK=({user:s,onLogout:e,onSwitchToAdmin:r,onUpdateUser:n})=>{const a=$l();gp();const[l,u]=W.useState(!1),[d,A]=W.useState(!1),[o,f]=W.useState([]),[p,m]=W.useState(!1);W.useEffect(()=>{const z=localStorage.getItem("gogotrip_language");z&&["en","zh","ms"].includes(z)&&z!==fc.language&&lx(z),s!=null&&s.preferredLanguage&&s.preferredLanguage!==z&&fv(s.preferredLanguage)},[s]),W.useEffect(()=>{(async()=>{try{const X=await fetch(`${It}/api/notifications/user`,{credentials:"include"});if(X.ok){const Y=await X.json();Y.success&&f(Y.notifications||[])}}catch(X){console.error("Failed to fetch notifications",X)}})()},[]);const x=()=>A(z=>!z),b=()=>m(!0),w=()=>{m(!1),e()},y=z=>{a(z),u(!1)},E=s?{...s,subscription:s.subscription??(s.isPremium?{status:"active"}:void 0)}:null,P=Gv(s.role);return t.jsx(JT,{children:t.jsx("div",{className:`${d?"dark":""} h-full`,children:t.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-blue-100 via-sky-50 to-white dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 text-slate-900 dark:text-slate-200 relative overflow-hidden",children:[t.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[t.jsx(zp,{className:"absolute -top-20 -right-20 w-96 h-96 text-sky-400/20 dark:text-sky-600/10 rotate-12"}),t.jsx(zp,{className:"absolute -bottom-32 -left-32 w-[500px] h-[500px] text-blue-400/15 dark:text-blue-600/10 -rotate-45"}),t.jsx(zp,{className:"absolute top-32 left-12 w-64 h-64 text-sky-300/20 dark:text-sky-700/10 rotate-90"}),t.jsx(zp,{className:"absolute bottom-20 right-24 w-72 h-72 text-blue-300/15 dark:text-blue-700/10 -rotate-12"}),t.jsx(zp,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] text-sky-200/10 dark:text-sky-800/5 rotate-45"})]}),t.jsx(O6,{isOpen:l,isAdminUser:P,onSwitchToAdmin:r,onChangeView:y}),t.jsxs("main",{className:"flex-1 flex flex-col min-w-0 relative",children:[t.jsx(I6,{onToggleSidebar:()=>u(z=>!z),title:"GogoTrip",isDarkMode:d,onToggleTheme:x,user:s,notifications:o,onLogout:b,onNavigate:y}),t.jsx("div",{className:"flex-1 overflow-y-auto relative pt-28",children:t.jsx("div",{className:"relative",children:t.jsxs(IB,{children:[t.jsx(zl,{path:"/",element:t.jsx(_L,{user:E})}),t.jsx(zl,{path:"/chat",element:t.jsx(e2,{user:E})}),t.jsx(zl,{path:"/chat/:conversationId",element:t.jsx(e2,{user:E})}),t.jsx(zl,{path:"/shared/:shareToken",element:t.jsx(eK,{})}),t.jsx(zl,{path:"/trips",element:t.jsx(fR,{user:E})}),t.jsx(zl,{path:"/blogs",element:t.jsx($V,{user:E})}),t.jsx(zl,{path:"/calendar",element:t.jsx(dR,{user:E})}),t.jsx(zl,{path:"/scheduler",element:t.jsx(mR,{user:E})}),t.jsx(zl,{path:"/translate",element:t.jsx(vR,{user:E})}),t.jsx(zl,{path:"/expenses",element:t.jsx(jR,{user:E})}),t.jsx(zl,{path:"/support",element:t.jsx(IL,{user:E})}),t.jsx(zl,{path:"/support/:id",element:t.jsx(PL,{user:E})}),t.jsx(zl,{path:"/settings",element:t.jsx(NR,{user:s,onUpdateUser:n})}),t.jsx(zl,{path:"/billing",element:t.jsx(kR,{user:s,onUpdateUser:n,onNavigate:y})}),t.jsx(zl,{path:"/receipt",element:t.jsx(LR,{})}),t.jsx(zl,{path:"/announcements",element:t.jsx(MR,{})}),t.jsx(zl,{path:"/announcements/:id",element:t.jsx(OR,{})}),t.jsx(zl,{path:"*",element:t.jsx(MB,{to:"/",replace:!0})})]})})})]}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:()=>u(!1)}),p&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 max-w-sm w-full",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(qo,{})}),t.jsx("h3",{className:"text-lg font-bold mb-2",children:"Sign Out"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to sign out?"}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 rounded-xl bg-slate-100",children:"Cancel"}),t.jsxs("button",{onClick:w,className:"flex-1 px-4 py-2 rounded-xl bg-red-600 text-white flex items-center justify-center gap-2",children:[t.jsx(ex,{size:18}),"Sign Out"]})]})]})})})]})})})},rK=({activeItem:s,onNavigate:e,onSwitchToUser:r,onLogout:n})=>{const a=[{id:"Home",label:"Dashboard",icon:t.jsx(sy,{size:20})},{id:"Info Blog",label:"Info Blog",icon:t.jsx(Td,{size:20})},{id:"Blog Moderation",label:"Blog Moderation",icon:t.jsx(Hm,{size:20})},{id:"Blog Reports",label:"Blog Reports",icon:t.jsx(Vm,{size:20})},{id:"Notifications",label:"Notifications",icon:t.jsx(Au,{size:20})},{id:"Advertisement",label:"Advertisements",icon:t.jsx(op,{size:20})},{id:"Login Hero",label:"Login Background",icon:t.jsx(op,{size:20})},{id:"Subscription",label:"Subscriptions",icon:t.jsx(ap,{size:20})},{id:"Support Tickets",label:"Support Tickets",icon:t.jsx(mu,{size:20})},{id:"Voucher Managment",label:"Voucher Managment",icon:t.jsx(mT,{size:20})},{id:"Plan Managment",label:"Plan Managment",icon:t.jsx(eA,{size:20})},{id:"Admin Messages",label:"Admin Messages",icon:t.jsx(Xd,{size:20})},{id:"Admin Chat",label:"Admin Chat",icon:t.jsx(mu,{size:20})},{id:"Inquiries",label:"Inquiries",icon:t.jsx(f0,{size:20})}],l=[{id:"User",label:"Users",icon:t.jsx(Md,{size:20})},{id:"Place",label:"Places",icon:t.jsx(So,{size:20})},{id:"Trip",label:"Trips",icon:t.jsx(RA,{size:20})}],u=[{id:"Settings",label:"Settings",icon:t.jsx(T0,{size:20})}],d=A=>{const o=s===A.id;return t.jsxs("button",{onClick:()=>e(A.id),className:`
          w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200
          ${o?"bg-blue-50 text-blue-600 shadow-sm":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}
        `,children:[t.jsx("span",{className:`${o?"text-blue-500":"text-slate-400"} transition-colors`,children:A.icon}),t.jsx("span",{className:"flex-1 text-left",children:A.label}),A.badge&&t.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-600 text-xs font-bold rounded-full",children:A.badge}),o&&t.jsx(hc,{size:16,className:"text-blue-400"})]},A.id)};return t.jsxs("aside",{className:"w-64 h-screen bg-white border-r border-slate-200 flex flex-col",children:[t.jsx("div",{className:"p-6 border-b border-slate-100",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:ov,alt:"GogoTrip Logo",className:"w-10 h-10 rounded-xl"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"GogoTrip"}),t.jsx("p",{className:"text-xs text-slate-400",children:"Admin Panel"})]})]})}),t.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Main Menu"}),t.jsx("div",{className:"space-y-1",children:a.map(d)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Data Management"}),t.jsx("div",{className:"space-y-1",children:l.map(d)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"System"}),t.jsx("div",{className:"space-y-1",children:u.map(d)})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-100 space-y-2",children:[t.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors",children:[t.jsx(YB,{size:20,className:"text-slate-400"}),"Switch to User View"]}),t.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[t.jsx(ex,{size:20}),"Sign Out"]})]})]})},nK=({onLogout:s,onNavigate:e,user:r})=>{const[n,a]=W.useState(!1),[l,u]=W.useState(!1),[d,A]=W.useState(""),[o,f]=W.useState(null),p=W.useRef(null),m=W.useRef(null);W.useEffect(()=>{const P=z=>{p.current&&!p.current.contains(z.target)&&a(!1),m.current&&!m.current.contains(z.target)&&u(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const x=P=>{e("Settings"),a(!1)},b=[{id:1,text:"New user registered: Sarah J.",time:"2 min ago",unread:!0},{id:2,text:"System backup completed successfully.",time:"1 hour ago",unread:!1},{id:3,text:"Trip #1029 reported by user.",time:"3 hours ago",unread:!0}],w=P=>{switch(P){case"success":return t.jsx(Bo,{size:18});case"warning":return t.jsx(qo,{size:18});default:return t.jsx(El,{size:18})}},y=P=>{switch(P){case"success":return"bg-white border-green-100 text-green-800";case"warning":return"bg-white border-amber-100 text-amber-800";default:return"bg-white border-blue-100 text-blue-800"}},E=P=>{switch(P){case"success":return"bg-green-100 text-green-600";case"warning":return"bg-amber-100 text-amber-600";default:return"bg-blue-100 text-blue-600"}};return t.jsxs("header",{className:"flex flex-col md:flex-row items-center justify-between gap-4 py-4 px-8 bg-white border-b border-slate-200 z-20 relative",children:[o&&t.jsxs("div",{className:`fixed top-24 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${y(o.type)}`,children:[t.jsx("div",{className:`p-1 rounded-full ${E(o.type)}`,children:w(o.type)}),t.jsx("p",{className:"text-sm font-medium",children:o.message}),t.jsx("button",{onClick:()=>f(null),className:"ml-2 opacity-50 hover:opacity-100 transition-opacity",children:t.jsx(qr,{size:16})})]}),t.jsx("div",{children:t.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"Admin Dashboard"})}),t.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[t.jsx("div",{className:"relative",ref:m,children:l&&t.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-200 z-50",children:[t.jsxs("div",{className:"p-4 border-b border-slate-50 flex justify-between items-center",children:[t.jsx("h3",{className:"font-semibold text-slate-800 text-sm",children:"Notifications"}),t.jsx("button",{className:"text-xs text-blue-600 hover:underline",children:"Mark all read"})]}),t.jsx("div",{className:"max-h-64 overflow-y-auto",children:b.map(P=>t.jsxs("div",{className:`p-4 border-b border-slate-50 hover:bg-slate-50 transition-colors cursor-pointer flex gap-3 ${P.unread?"bg-blue-50/30":""}`,children:[t.jsx("div",{className:`w-2 h-2 mt-1.5 rounded-full shrink-0 ${P.unread?"bg-blue-500":"bg-slate-300"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-700",children:P.text}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:P.time})]})]},P.id))}),t.jsx("div",{className:"p-3 text-center border-t border-slate-50",children:t.jsx("button",{className:"text-xs text-slate-500 hover:text-slate-800 font-medium",children:"View All"})})]})}),t.jsxs("div",{className:"relative pl-2 border-l border-slate-200",ref:p,children:[t.jsxs("button",{onClick:()=>a(!n),className:"flex items-center gap-3 hover:bg-slate-50 rounded-lg p-1.5 transition-colors group",children:[t.jsxs("div",{className:"text-right hidden md:block",children:[t.jsx("p",{className:"text-sm font-medium text-slate-700 group-hover:text-slate-900",children:(r==null?void 0:r.name)||"Admin User"}),t.jsx("p",{className:"text-xs text-slate-400",children:(r==null?void 0:r.email)||"admin@gogotrip.com"})]}),t.jsx("div",{className:"w-9 h-9 rounded-full bg-slate-200 overflow-hidden shrink-0 ring-2 ring-transparent group-hover:ring-slate-100 transition-all",children:t.jsx("img",{src:(r==null?void 0:r.avatarUrl)||"https://api.dicebear.com/7.x/avataaars/svg?seed=Admin",alt:"User",className:"w-full h-full object-cover"})})]}),t.jsxs("div",{className:`
                   absolute top-full right-0 mt-3 w-64 bg-white dark:bg-slate-900 rounded-[1.5rem] shadow-2xl border border-slate-100 dark:border-slate-800 overflow-hidden transition-all duration-300 origin-top-right z-50
                   ${n?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}
                `,children:[t.jsxs("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800",children:[t.jsx("p",{className:"text-base font-bold text-slate-900 dark:text-white truncate",children:r.name}),t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mt-0.5 truncate",children:r.email||"alex.chen@example.com"})]}),t.jsx("div",{className:"p-2 space-y-0.5",children:t.jsxs("button",{onClick:()=>x(),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group",children:[t.jsx(Jo,{className:"w-4 h-4 text-slate-400 group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors"}),"Account Settings"]})}),t.jsx("div",{className:"p-2 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/20",children:t.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t.jsx(ex,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]})]})},aK=({data:s})=>{const e=Math.max(...s,1),r=s.map((n,a)=>{const l=a/(s.length-1)*100,u=100-n/e*100;return`${l},${u}`}).join(" ");return t.jsxs("div",{className:"w-full h-64 relative animate-in fade-in duration-500",children:[t.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"w-full h-full overflow-visible",children:[t.jsx("line",{x1:"0",y1:"25",x2:"100",y2:"25",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("line",{x1:"0",y1:"75",x2:"100",y2:"75",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("polyline",{fill:"none",stroke:"#3B82F6",strokeWidth:"2",points:r,vectorEffect:"non-scaling-stroke",className:"drop-shadow-sm transition-all duration-500 ease-in-out"}),t.jsx("polygon",{fill:"url(#gradient)",points:`0,100 ${r} 100,100`,opacity:"0.1",className:"transition-all duration-500 ease-in-out"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),t.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0"})]})})]}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-2 font-medium",children:[t.jsx("span",{children:"Start"}),t.jsx("span",{children:"Mid"}),t.jsx("span",{children:"End"})]})]})},iK=({onNavigate:s})=>{const[e,r]=W.useState("Last 12 Months"),[n,a]=W.useState({totalUsers:0,verifiedUsers:0,totalTrips:0,totalArticles:0,totalSubscriptions:0,revenueThisMonth:0,userGrowth:0,verifiedGrowth:0,tripGrowth:0,chartData:[0,0,0,0,0,0,0,0,0,0,0,0]}),[l,u]=W.useState(!0);W.useEffect(()=>{d(e)},[e]);const d=async o=>{u(!0);try{const f=new URLSearchParams({range:o}),p=await fetch(`${It}/api/admin/dashboard-stats?${f}`,{credentials:"include"});if(p.ok){const m=await p.json(),x={totalUsers:m.total_users??m.totalUsers??0,verifiedUsers:m.active_users??m.verifiedUsers??0,totalTrips:m.total_trips??m.totalTrips??0,totalArticles:m.total_articles??m.totalArticles??0,totalSubscriptions:m.total_subscriptions??m.totalSubscriptions??0,revenueThisMonth:m.revenue_this_month??m.revenueThisMonth??0,userGrowth:m.user_growth??m.userGrowth??0,verifiedGrowth:m.verified_growth??m.verifiedGrowth??0,tripGrowth:m.trip_growth??m.tripGrowth??0,chartData:m.chart_data??m.chartData??[0,0,0,0,0,0,0,0,0,0,0,0]};console.log("Dashboard stats loaded:",x),a(x)}else console.error("Failed to fetch dashboard stats:",p.status)}catch(f){console.error("Error fetching dashboard stats:",f)}finally{u(!1)}},A=o=>{r(o.target.value)};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("User"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:t.jsx(Md,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.userGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.userGrowth??0)>=0?t.jsx(jm,{size:12,className:"mr-1"}):t.jsx(wm,{size:12,className:"mr-1"}),Math.abs(n.userGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalUsers??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Total Registered Users"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("User"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:t.jsx(lp,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.verifiedGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.verifiedGrowth??0)>=0?t.jsx(jm,{size:12,className:"mr-1"}):t.jsx(wm,{size:12,className:"mr-1"}),Math.abs(n.verifiedGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.verifiedUsers??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Verified Accounts"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("Trip"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:t.jsx(RA,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.tripGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.tripGrowth??0)>=0?t.jsx(jm,{size:12,className:"mr-1"}):t.jsx(wm,{size:12,className:"mr-1"}),Math.abs(n.tripGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalTrips??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Total Trips Created"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("Info Blog"),children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:t.jsx(Td,{size:20})})}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalArticles??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Published Articles"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:t.jsx(Zb,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Revenue This Month"}),t.jsx("p",{className:"text-sm text-slate-500",children:"From premium subscriptions"})]})]}),t.jsxs("p",{className:"text-3xl font-bold text-slate-800",children:["RM ",(n.revenueThisMonth??0).toFixed(2)]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:t.jsx(Md,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Active Subscriptions"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Premium members"})]})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-800",children:(n.totalSubscriptions??0).toLocaleString()})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"User Growth"}),t.jsxs("p",{className:"text-sm text-slate-500",children:["New signups over ",e.toLowerCase()]})]}),t.jsxs("select",{className:"text-sm border-slate-200 rounded-lg text-slate-600 focus:ring-blue-500 focus:border-blue-500 p-2 border bg-white cursor-pointer",onChange:A,value:e,children:[t.jsx("option",{children:"Last 12 Months"}),t.jsx("option",{children:"Last 30 Days"}),t.jsx("option",{children:"Last 7 Days"})]})]}),t.jsx(aK,{data:n.chartData??[0,0,0,0,0,0,0,0,0,0,0,0]})]})]})},lc={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},Mj={[lc.SUPER_ADMIN]:{label:"Super Admin",color:"text-purple-700",bgColor:"bg-purple-50 border-purple-200",icon:t.jsx(lp,{className:"w-3 h-3"})},[lc.ADMIN]:{label:"Admin",color:"text-blue-700",bgColor:"bg-blue-50 border-blue-200",icon:t.jsx(Wd,{className:"w-3 h-3"})},[lc.USER]:{label:"User",color:"text-slate-600",bgColor:"bg-slate-50 border-slate-200",icon:t.jsx(UT,{className:"w-3 h-3"})}},oK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState([]),[a,l]=W.useState(!0),[u,d]=W.useState(""),[A,o]=W.useState(1),f=10,[p,m]=W.useState(lc.ADMIN),[x,b]=W.useState(!1),[w,y]=W.useState([{value:lc.USER,label:"User",description:"Regular user"}]),[E,P]=W.useState(!1),[z,X]=W.useState(null),[Y,Q]=W.useState(!1),[K,de]=W.useState({email:"",role:lc.USER,status:"active"}),[ue,ve]=W.useState({isOpen:!1,user:null,type:null}),[le,Ce]=W.useState(null),[oe,Ne]=W.useState(null);W.useEffect(()=>{pe(),se()},[]);const Ae=(Re,ut)=>{Ne({type:Re,message:ut}),setTimeout(()=>Ne(null),4e3)},se=async()=>{try{const Re=await fetch("/api/admin/available-roles");if(Re.ok){const ut=await Re.json();y(ut.availableRoles||[{value:lc.USER,label:"User",description:"Regular user"}]),m(ut.currentRole||lc.ADMIN),b(ut.canManageAdmins||!1)}}catch(Re){console.error("Failed to fetch available roles:",Re)}},pe=async()=>{try{const Re=await fetch("/api/admin/users");if(Re.ok){const ut=await Re.json();e(Array.isArray(ut)?ut:ut.users||[]),ut.currentAdminRole&&m(ut.currentAdminRole),typeof ut.canManageAdmins=="boolean"&&b(ut.canManageAdmins)}else console.error("Failed to fetch users"),Ae("error","Failed to fetch user list")}catch(Re){console.error("Error:",Re),Ae("error","Network error")}finally{l(!1)}},re=Re=>{const ut=(Re==null?void 0:Re.toLowerCase())||"user",St=Mj[ut]||Mj[lc.USER];return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border ${St.bgColor} ${St.color}`,children:[St.icon,St.label]})},Ee=(Re,ut)=>Re==="pending_verification"||!ut?{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",icon:t.jsx(Vi,{className:"w-3 h-3"}),label:"Pending Verification"}:Re==="active"?{bg:"bg-green-50",text:"text-green-700",border:"border-green-200",icon:t.jsx(Bo,{className:"w-3 h-3"}),label:"Active"}:Re==="suspended"?{bg:"bg-red-50",text:"text-red-700",border:"border-red-200",icon:t.jsx(hu,{className:"w-3 h-3"}),label:"Suspended"}:{bg:"bg-slate-50",text:"text-slate-700",border:"border-slate-200",icon:t.jsx(qo,{className:"w-3 h-3"}),label:Re},De=Re=>{if(!Re)return"N/A";const ut=new Date(Re),Os=new Date().getTime()-ut.getTime(),hs=Math.floor(Os/(1e3*60*60*24));return hs===0?"Today":hs===1?"Yesterday":hs<7?`${hs} days ago`:hs<30?`${Math.floor(hs/7)} weeks ago`:hs<365?`${Math.floor(hs/30)} months ago`:ut.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},Se=async Re=>{if(Re.status!=="pending_verification"){Ae("error","User is already verified");return}Ce(Re.id);try{const ut=await fetch(`/api/admin/users/${Re.id}/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"}});if(ut.ok)Ae("success",`Verification email sent to ${Re.email}`);else{const St=await ut.json();Ae("error",St.message||"Failed to send verification email")}}catch(ut){console.error("Error:",ut),Ae("error","Network error occurred")}finally{Ce(null)}},he=Re=>{var Os;const ut=(Os=Re.role)==null?void 0:Os.toLowerCase();if(!x&&(ut===lc.ADMIN||ut===lc.SUPER_ADMIN)){Ae("error","Permission denied: Cannot delete admin users");return}const St=Re.status==="pending_verification"?"pending":"active";ve({isOpen:!0,user:Re,type:St})},be=async()=>{const{user:Re}=ue;if(Re)try{const ut=await fetch(`/api/admin/users/${Re.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(ut.ok)e(s.filter(St=>St.id!==Re.id)),Ae("success",`User ${Re.email} deleted successfully`),ve({isOpen:!1,user:null,type:null});else{const St=await ut.json();Ae("error",St.error||"Failed to delete user")}}catch(ut){console.error("Error:",ut),Ae("error","Network error occurred")}},fe=Re=>{var St;const ut=(St=Re.role)==null?void 0:St.toLowerCase();if(!x&&(ut===lc.ADMIN||ut===lc.SUPER_ADMIN)){Ae("error","Permission denied: Cannot edit admin users");return}X({...Re}),P(!0)},te=async()=>{if(z)try{const Re=await fetch(`/api/admin/users/${z.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:z.email,role:z.role,status:z.status})});if(Re.ok){const ut=await Re.json();e(s.map(St=>St.id===z.id?{...St,...ut}:St)),P(!1),X(null),Ae("success","User updated successfully")}else{const ut=await Re.json();Ae("error",ut.error||"Failed to update user")}}catch(Re){console.error("Update error:",Re),Ae("error","Update failed due to network error")}},ge=()=>{de({email:"",role:lc.USER,status:"active"}),Q(!0)},Ue=async()=>{if(K.email)try{const Re={email:K.email,role:K.role||lc.USER,status:K.status||"active"},ut=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Re)});if(ut.ok){const St=await ut.json();e([St,...s]),Q(!1),de({email:"",role:lc.USER,status:"active"}),Ae("success","User added successfully. Temporary password sent via email.")}else{const St=await ut.json();Ae("error",St.error||"Failed to add user")}}catch(Re){console.error("Add error:",Re),Ae("error","Network error occurred")}},Ve=()=>{const Re=r.length>0?s.filter(Ss=>r.includes(Ss.id)):s,ut=["User ID","Email","Full Name","Role","Status","Email Verified","Last Login","Created At","Updated At","Deleted At","Is Premium","Plan Name","Plan Level","Sub End Date","Is Lifetime","Remaining Days","Stripe Customer ID","Has Google Calendar","Has Password","Has Google ID","Total Trips","Total Expenses","Total Calendar Events","Scheduler Items","Total Notifications"],St=Re.map(Ss=>{var xr,en,wr,tr,Xs;const Ls=Ts=>{if(Ts==null)return"";const ft=String(Ts);return ft.includes(",")?`"${ft}"`:ft},rr=Ts=>Ts?"Yes":"No";return[Ls(Ss.id),Ls(Ss.email),Ls(Ss.name),Ls(Ss.role),Ls(Ss.status),rr(Ss.isVerified),Ls(Ss.lastLogin),Ls(Ss.createdAt),Ls(Ss.updatedAt),Ls(Ss.deletedAt),rr(Ss.isPremium),Ls(Ss.currentPlanName),Ls(Ss.currentPlanLevel),Ls(Ss.subscriptionEndDate),rr(Ss.isLifetime),Ls(Ss.remainingDays),Ls(Ss.stripeCustomerId),rr(Ss.hasGoogleCalendar),rr(Ss.hasPassword),rr(Ss.hasGoogleId),Ls(((xr=Ss.relatedData)==null?void 0:xr.trips)||0),Ls(((en=Ss.relatedData)==null?void 0:en.expenses)||0),Ls(((wr=Ss.relatedData)==null?void 0:wr.calendarEvents)||0),Ls(((tr=Ss.relatedData)==null?void 0:tr.schedulerItems)||0),Ls(((Xs=Ss.relatedData)==null?void 0:Xs.notifications)||0)].join(",")}).join(`
`),Os=`${ut.join(",")}
${St}`,hs=new Blob([Os],{type:"text/csv;charset=utf-8;"}),vr=URL.createObjectURL(hs),hr=document.createElement("a");hr.href=vr;const ir=r.length>0?"selected":"full_database",Ds=new Date().toISOString().split("T")[0];hr.setAttribute("download",`gogotrip_users_${ir}_${Ds}.csv`),document.body.appendChild(hr),hr.click(),document.body.removeChild(hr),Ae("success",`Export completed (${Re.length} records)`)},kt=Re=>{o(Re)},Bt=()=>{r.length===ls.length?n([]):n(ls.map(Re=>Re.id))},We=Re=>{r.includes(Re)?n(r.filter(ut=>ut!==Re)):n([...r,Re])},Ut=s.filter(Re=>Re.email.toLowerCase().includes(u.toLowerCase())||Re.role.toLowerCase().includes(u.toLowerCase())||Re.status.toLowerCase().includes(u.toLowerCase())),Vt=Math.ceil(Ut.length/f),ls=Ut.slice((A-1)*f,A*f),Fs=Re=>{var St;if(x)return!0;const ut=(St=Re.role)==null?void 0:St.toLowerCase();return ut!==lc.ADMIN&&ut!==lc.SUPER_ADMIN};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(cd,{className:"w-8 h-8 text-blue-500 animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[oe&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg animate-in slide-in-from-right duration-300 ${oe.type==="success"?"bg-green-50 border border-green-200 text-green-800":oe.type==="error"?"bg-red-50 border border-red-200 text-red-800":oe.type==="info"?"bg-blue-50 border border-blue-200 text-blue-800":"bg-amber-50 border border-amber-200 text-amber-800"}`,children:[oe.type==="success"&&t.jsx(uo,{className:"w-5 h-5"}),oe.type==="error"&&t.jsx(Da,{className:"w-5 h-5"}),oe.type==="warning"&&t.jsx(qo,{className:"w-5 h-5"}),oe.type==="info"&&t.jsx(El,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium",children:oe.message}),t.jsx("button",{onClick:()=>Ne(null),children:t.jsx(qr,{className:"w-4 h-4 opacity-60 hover:opacity-100"})})]}),t.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border ${x?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:[x?t.jsx(lp,{className:"w-5 h-5 text-purple-600"}):t.jsx(Wd,{className:"w-5 h-5 text-blue-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:`text-sm font-medium ${x?"text-purple-800":"text-blue-800"}`,children:x?"Super Admin Access":"Admin Access"}),t.jsx("span",{className:`text-sm ml-2 ${x?"text-purple-600":"text-blue-600"}`,children:x?" You can view and manage all users including other admins":" You can only view and manage regular users"})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${x?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:p})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"User Management"}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[Ut.length," ",Ut.length===1?"user":"users"," found",!x&&" (regular users only)"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:Ve,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50 flex items-center gap-2",children:[t.jsx(Xp,{size:16}),"Export ",r.length>0?`(${r.length})`:"All"]}),t.jsxs("button",{onClick:ge,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2",children:[t.jsx($i,{size:16}),"Add User"]})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Search by email, role, or status...",value:u,onChange:Re=>{d(Re.target.value),o(1)},className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[t.jsx("th",{className:"px-4 py-3 text-left",children:t.jsx("input",{type:"checkbox",checked:r.length===ls.length&&ls.length>0,onChange:Bt,className:"rounded border-slate-300"})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Role"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Created"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:ls.map(Re=>{const ut=Ee(Re.status,Re.isVerified??!0),St=Fs(Re);return t.jsxs("tr",{className:`hover:bg-slate-50/50 transition-colors ${St?"":"bg-slate-50/30"}`,children:[t.jsx("td",{className:"px-4 py-4",children:t.jsx("input",{type:"checkbox",checked:r.includes(Re.id),onChange:()=>We(Re.id),className:"rounded border-slate-300"})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-medium text-sm",children:Re.email.charAt(0).toUpperCase()}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-800",children:Re.email}),t.jsxs("div",{className:"text-xs text-slate-400",children:["ID: ",Re.id]})]})]})}),t.jsx("td",{className:"px-4 py-4",children:re(Re.role)}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border ${ut.bg} ${ut.text} ${ut.border}`,children:[ut.icon,ut.label]}),Re.status==="pending_verification"&&t.jsxs("button",{onClick:()=>Se(Re),disabled:le===Re.id,className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 disabled:opacity-50",children:[le===Re.id?t.jsx(cd,{className:"w-3 h-3 animate-spin"}):t.jsx(Xd,{className:"w-3 h-3"}),"Resend Email"]})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-500",children:[t.jsx(Co,{className:"w-3.5 h-3.5"}),De(Re.createdAt)]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("div",{className:"flex items-center justify-end gap-1",children:St?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>fe(Re),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit user",children:t.jsx(tx,{size:16})}),t.jsx("button",{onClick:()=>he(Re),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete user",children:t.jsx(Zo,{size:16})})]}):t.jsx("span",{className:"text-xs text-slate-400 px-2 py-1 bg-slate-100 rounded",children:"Protected"})})})]},Re.id)})})]})}),Vt>1&&t.jsxs("div",{className:"px-4 py-3 border-t border-slate-200 flex items-center justify-between bg-slate-50/50",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing ",(A-1)*f+1," to ",Math.min(A*f,Ut.length)," of ",Ut.length]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>kt(A-1),disabled:A===1,className:"px-3 py-1 text-sm border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-100",children:"Previous"}),Array.from({length:Math.min(5,Vt)},(Re,ut)=>{let St;return Vt<=5||A<=3?St=ut+1:A>=Vt-2?St=Vt-4+ut:St=A-2+ut,t.jsx("button",{onClick:()=>kt(St),className:`px-3 py-1 text-sm border rounded-lg ${A===St?"bg-blue-600 text-white border-blue-600":"border-slate-200 hover:bg-slate-100"}`,children:St},St)}),t.jsx("button",{onClick:()=>kt(A+1),disabled:A===Vt,className:"px-3 py-1 text-sm border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-100",children:"Next"})]})]})]}),ue.isOpen&&ue.user&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:`p-6 flex items-start gap-4 ${ue.type==="active"?"bg-red-50":"bg-amber-50"}`,children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${ue.type==="active"?"bg-red-100 text-red-600":"bg-amber-100 text-amber-600"}`,children:ue.type==="active"?t.jsx(QE,{size:20}):t.jsx(qo,{size:20})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:ue.type==="active"?"Delete Active User?":"Delete Pending User?"}),t.jsx("p",{className:"text-sm text-slate-600",children:ue.type==="active"?"This user has an active account with data. This action cannot be undone.":"This user has not completed email verification yet."})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"You are about to delete:"}),t.jsx("div",{className:"font-medium text-slate-900",children:ue.user.email}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Status: ",ue.user.status," | Role: ",ue.user.role]})]}),ue.type==="active"&&t.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Da,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("div",{className:"font-medium mb-1",children:"Warning: Active User"}),t.jsx("div",{className:"text-xs text-red-700",children:"This will permanently delete all associated data including trips, expenses, and scheduler items. Consider suspending instead of deleting."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>ve({isOpen:!1,user:null,type:null}),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:be,className:`px-4 py-2 rounded-lg text-sm font-medium text-white flex items-center gap-2 ${ue.type==="active"?"bg-red-600 hover:bg-red-700":"bg-amber-600 hover:bg-amber-700"}`,children:[t.jsx(Zo,{size:16}),ue.type==="active"?"Delete User":"Delete Pending User"]})]})]})}),E&&z&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Edit User"}),t.jsx("button",{onClick:()=>P(!1),children:t.jsx(qr,{size:20,className:"text-slate-400"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",value:z.email,onChange:Re=>X({...z,email:Re.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),t.jsx("select",{value:z.role,onChange:Re=>X({...z,role:Re.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:w.map(Re=>t.jsx("option",{value:Re.value,children:Re.label},Re.value))}),!x&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Only super_admin can assign admin roles"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:z.status,onChange:Re=>X({...z,status:Re.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending_verification",children:"Pending Verification"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})]}),t.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:te,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2",children:[t.jsx(QA,{size:16})," Save Changes"]})]})]})}),Y&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Add New User"}),t.jsx("button",{onClick:()=>Q(!1),children:t.jsx(qr,{size:20,className:"text-slate-400"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",placeholder:"e.g. user@example.com",value:K.email,onChange:Re=>de({...K,email:Re.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),t.jsx("select",{value:K.role,onChange:Re=>de({...K,role:Re.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:w.map(Re=>t.jsx("option",{value:Re.value,children:Re.label},Re.value))}),!x&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Only super_admin can create admin users"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:K.status,onChange:Re=>de({...K,status:Re.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending_verification",children:"Pending Verification"})]})]})]}),t.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Xd,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-blue-800",children:[t.jsx("div",{className:"font-medium mb-1",children:"Automatic Email"}),t.jsx("div",{className:"text-xs text-blue-700",children:"A temporary password will be automatically generated and sent to the user's email."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:Ue,disabled:!K.email,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed flex items-center gap-2",children:[t.jsx($i,{size:16})," Create User"]})]})]})})]})},lK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(""),[u,d]=W.useState(1),A=10,[o,f]=W.useState(null),[p,m]=W.useState(null);W.useEffect(()=>{b()},[]);const x=(X,Y)=>{f({type:X,message:Y}),setTimeout(()=>f(null),3e3)},b=async()=>{try{const X=await fetch("/api/admin/email_verifications");if(X.ok){const Y=await X.json();e(Y)}}catch(X){console.error("Error fetching data:",X),x("error","Failed to fetch data")}finally{n(!1)}},w=X=>{m(X)},y=async()=>{if(p)try{(await fetch(`/api/admin/email_verifications/${p}`,{method:"DELETE"})).ok?(e(s.filter(Y=>Y.id!==p)),x("success","Record deleted successfully")):x("error","Failed to delete record")}catch(X){console.error(X),x("error","An error occurred")}finally{m(null)}},E=s.filter(X=>X.email.toLowerCase().includes(a.toLowerCase())||X.code.includes(a)),P=Math.ceil(E.length/A),z=E.slice((u-1)*A,u*A);return r?t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-10 flex justify-center items-center h-full min-h-[400px]",children:t.jsx("div",{className:"text-slate-500 animate-pulse",children:"Loading verification data..."})}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[o&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${o.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${o.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:o.type==="success"?t.jsx(Bo,{size:18}):t.jsx(hu,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:o.message}),t.jsx("button",{onClick:()=>f(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Email Verifications"}),t.jsx("p",{className:"text-sm text-slate-500",children:"View and manage OTP codes."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search email...",className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64",value:a,onChange:X=>l(X.target.value)}),t.jsx(Kc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsx("button",{onClick:b,className:"p-2 border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-600",children:t.jsx(cd,{size:16})})]})]}),t.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:[t.jsx("th",{className:"p-4",children:"ID"}),t.jsx("th",{className:"p-4",children:"Email Address"}),t.jsx("th",{className:"p-4",children:"Code"}),t.jsx("th",{className:"p-4",children:"Status"}),t.jsx("th",{className:"p-4",children:"Created / Expires"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:z.map(X=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4 text-slate-500",children:["#",X.id]}),t.jsxs("td",{className:"p-4 font-medium text-slate-800 flex items-center gap-2",children:[t.jsx(Xd,{size:14,className:"text-slate-400"})," ",X.email]}),t.jsx("td",{className:"p-4 font-mono text-slate-600 bg-slate-50 w-fit px-2 rounded border border-slate-100",children:X.code}),t.jsx("td",{className:"p-4",children:X.is_verified?t.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 bg-green-50 px-2 py-1 rounded-full text-xs font-medium",children:[t.jsx(Bo,{size:12})," Verified"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-slate-500 bg-slate-100 px-2 py-1 rounded-full text-xs font-medium",children:[t.jsx(hu,{size:12})," Pending"]})}),t.jsxs("td",{className:"p-4 text-xs text-slate-500",children:[t.jsxs("div",{children:["C: ",new Date(X.created_at).toLocaleString()]}),t.jsxs("div",{className:"text-red-400",children:["E: ",new Date(X.expires_at).toLocaleString()]})]}),t.jsx("td",{className:"p-4 text-right",children:t.jsx("button",{onClick:()=>w(X.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete",children:t.jsx(Zo,{size:16})})})]},X.id))})]})}),t.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end gap-2",children:[t.jsx("button",{disabled:u===1,onClick:()=>d(X=>X-1),className:"px-3 py-1 border rounded disabled:opacity-50 hover:bg-slate-50 transition-colors",children:"Prev"}),t.jsxs("span",{className:"px-3 py-1 text-sm text-slate-500",children:["Page ",u," of ",P]}),t.jsx("button",{disabled:u===P,onClick:()=>d(X=>X+1),className:"px-3 py-1 border rounded disabled:opacity-50 hover:bg-slate-50 transition-colors",children:"Next"})]}),p&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(qo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Verification?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this verification record? This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>m(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:y,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})})]})},cK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(""),[u,d]=W.useState(!1),[A,o]=W.useState("select"),[f,p]=W.useState(null),[m,x]=W.useState(""),[b,w]=W.useState([]),[y,E]=W.useState(!1),[P,z]=W.useState(null),[X,Y]=W.useState(!1),Q=W.useRef(null),[K,de]=W.useState({name:"",address:"",rating:"",phone:"",website:"",price_level:"",lat:"",lng:""}),[ue,ve]=W.useState(!1),[le,Ce]=W.useState(null),[oe,Ne]=W.useState(null);W.useEffect(()=>{se()},[]),W.useEffect(()=>{if(A!=="google"||m.length<2){w([]);return}return Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{pe(m)},400),()=>{Q.current&&clearTimeout(Q.current)}},[m,A]);const Ae=(ge,Ue)=>{Ce({type:ge,message:Ue}),setTimeout(()=>Ce(null),3500)},se=async()=>{try{const ge=await fetch(`/api/admin/places?t=${Date.now()}`);if(ge.ok){const Ue=await ge.json();e(Ue.places||Ue)}}catch(ge){console.error(ge),Ae("error","Failed to load places")}finally{n(!1)}},pe=async ge=>{E(!0);try{const Ue=await fetch(`/api/admin/places/google/search?q=${encodeURIComponent(ge)}`);if(Ue.ok){const Ve=await Ue.json();w(Ve)}}catch(Ue){console.error(Ue)}finally{E(!1)}},re=async()=>{if(P){Y(!0);try{const ge=await fetch("/api/admin/places/google/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({place_id:P.place_id})}),Ue=await ge.json();ge.ok?(Ae("success",Ue.is_new?"Place imported successfully!":"Place already exists"),be(),se()):Ae("error",Ue.error||"Import failed")}catch{Ae("error","Network error during import")}finally{Y(!1)}}},Ee=ge=>{var Ue,Ve,kt;p(ge),o("manual"),de({name:ge.name,address:ge.address,rating:((Ue=ge.rating)==null?void 0:Ue.toString())||"",phone:ge.phone||"",website:ge.website||"",price_level:ge.price_level||"",lat:((Ve=ge.coordinates)==null?void 0:Ve.lat.toString())||"",lng:((kt=ge.coordinates)==null?void 0:kt.lng.toString())||""}),d(!0)},De=async()=>{if(f){if(!K.name.trim()||!K.address.trim()){Ae("error","Name and Address are required");return}ve(!0);try{const ge={name:K.name.trim(),address:K.address.trim(),is_manual:!0,rating:K.rating?parseFloat(K.rating):null,phone:K.phone?K.phone.trim():null,website:K.website?K.website.trim():null,price_level:K.price_level||null};K.lat&&K.lng&&(ge.coordinates={lat:parseFloat(K.lat),lng:parseFloat(K.lng)});const Ue=await fetch(`/api/admin/places/${f.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)});if(Ue.ok)Ae("success","Place updated successfully!"),be(),se();else{const Ve=await Ue.json();Ae("error",Ve.error||"Update failed")}}catch{Ae("error","Network error")}finally{ve(!1)}}},Se=async()=>{if(!K.name.trim()||!K.address.trim()){Ae("error","Name and Address are required");return}ve(!0);try{const ge={name:K.name.trim(),address:K.address.trim(),is_manual:!0};K.rating&&(ge.rating=parseFloat(K.rating)),K.phone&&(ge.phone=K.phone.trim()),K.website&&(ge.website=K.website.trim()),K.price_level&&(ge.price_level=K.price_level),K.lat&&K.lng&&(ge.coordinates={lat:parseFloat(K.lat),lng:parseFloat(K.lng)});const Ue=await fetch("/api/admin/places/manual",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)}),Ve=await Ue.json();Ue.ok?(Ae("success","Place created successfully!"),be(),se()):Ae("error",Ve.error||"Creation failed")}catch{Ae("error","Network error")}finally{ve(!1)}},he=async()=>{if(oe)try{(await fetch(`/api/admin/places/${oe}`,{method:"DELETE"})).ok?(e(s.filter(Ue=>Ue.id!==oe)),Ae("success","Place deleted successfully")):Ae("error","Failed to delete place")}catch{Ae("error","Network error")}finally{Ne(null)}},be=()=>{d(!1),o("select"),p(null),x(""),w([]),z(null),de({name:"",address:"",rating:"",phone:"",website:"",price_level:"",lat:"",lng:""})},fe=ge=>({"Food & Drink":"bg-orange-100 text-orange-700",Accommodation:"bg-purple-100 text-purple-700",Culture:"bg-indigo-100 text-indigo-700",Nature:"bg-emerald-100 text-emerald-700",Shopping:"bg-pink-100 text-pink-700",Landmark:"bg-amber-100 text-amber-700"})[ge||""]||"bg-slate-100 text-slate-600",te=s.filter(ge=>{var Ue,Ve;return((Ue=ge.name)==null?void 0:Ue.toLowerCase().includes(a.toLowerCase()))||((Ve=ge.address)==null?void 0:Ve.toLowerCase().includes(a.toLowerCase()))});return r?t.jsx("div",{className:"flex items-center justify-center h-64 bg-white rounded-xl border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Lr,{className:"w-8 h-8 animate-spin text-blue-500"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"Loading places..."})]})}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[le&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${le.type==="success"?"bg-white border-emerald-200 text-emerald-800":"bg-white border-red-200 text-red-800"}`,children:[t.jsx("div",{className:`p-1.5 rounded-full ${le.type==="success"?"bg-emerald-100":"bg-red-100"}`,children:le.type==="success"?t.jsx(Bo,{size:16}):t.jsx(Da,{size:16})}),t.jsx("p",{className:"text-sm font-medium",children:le.message}),t.jsx("button",{onClick:()=>Ce(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:14})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center gap-4 bg-gradient-to-r from-slate-50 to-white",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[t.jsx(o5,{size:20,className:"text-blue-600"}),"Places Management"]}),t.jsxs("p",{className:"text-sm text-slate-500 mt-0.5",children:[s.length," destinations in database"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search places...",className:"pl-9 pr-4 py-2.5 w-64 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",value:a,onChange:ge=>l(ge.target.value)}),t.jsx(Kc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white text-sm font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 flex items-center gap-2 transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:[t.jsx($i,{size:16,strokeWidth:2.5})," Add Place"]})]})]}),t.jsx("div",{className:"overflow-x-auto flex-1",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50/80 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase tracking-wide",children:[t.jsx("th",{className:"p-4",children:"Place Name"}),t.jsx("th",{className:"p-4",children:"Address"}),t.jsx("th",{className:"p-4",children:"Category"}),t.jsx("th",{className:"p-4",children:"Rating"}),t.jsx("th",{className:"p-4",children:"Source"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:te.length===0?t.jsx("tr",{children:t.jsxs("td",{colSpan:6,className:"p-12 text-center text-slate-400",children:[t.jsx(So,{size:32,className:"mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No places found"})]})}):te.map(ge=>{var Ue;return t.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[t.jsx("td",{className:"p-4",children:t.jsx("span",{className:"font-medium text-slate-800",children:ge.name})}),t.jsx("td",{className:"p-4 text-slate-500 max-w-xs",children:t.jsxs("div",{className:"flex items-center gap-2 truncate",children:[t.jsx(So,{size:13,className:"shrink-0 text-slate-400"}),t.jsx("span",{className:"truncate",children:ge.address})]})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${fe(ge.category)}`,children:ge.category||"General"})}),t.jsx("td",{className:"p-4",children:ge.rating?t.jsxs("div",{className:"flex items-center gap-1.5 text-amber-500 font-medium",children:[t.jsx(tA,{size:13,fill:"currentColor"}),t.jsx("span",{children:ge.rating.toFixed(1)})]}):t.jsx("span",{className:"text-slate-300",children:""})}),t.jsx("td",{className:"p-4",children:ge.is_manual===!0||(Ue=ge.google_place_id)!=null&&Ue.startsWith("manual_")?t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded",children:[t.jsx(ww,{size:11})," Manual"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:[t.jsx(h0,{size:11})," Google"]})}),t.jsx("td",{className:"p-4 text-right",children:t.jsxs("div",{className:"flex justify-end gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>Ee(ge),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:t.jsx(tx,{size:14})}),t.jsx("button",{onClick:()=>Ne(ge.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:t.jsx(Zo,{size:14})})]})})]},ge.id)})})]})}),oe&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-14 h-14 bg-red-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(qo,{size:26,className:"text-red-600"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Place?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This action cannot be undone. The place will be permanently removed."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>Ne(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:he,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all",children:"Delete"})]})]})})}),u&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:f?"Edit Place":"Add New Place"}),t.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:f?"Update place details manually":"Choose how you want to add a place"})]}),t.jsx("button",{onClick:be,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-white/80 rounded-lg transition-all",children:t.jsx(qr,{size:20})})]}),A==="select"&&!f&&t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>o("google"),className:"group relative p-5 rounded-xl border-2 border-slate-200 hover:border-blue-400 hover:bg-blue-50/50 transition-all text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center mb-4 shadow-lg shadow-blue-500/25",children:t.jsx(h0,{size:22,className:"text-white"})}),t.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Google Places"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Search and import from Google Maps with full details"}),t.jsx(hc,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]}),t.jsxs("button",{onClick:()=>o("manual"),className:"group relative p-5 rounded-xl border-2 border-slate-200 hover:border-emerald-400 hover:bg-emerald-50/50 transition-all text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center mb-4 shadow-lg shadow-emerald-500/25",children:t.jsx(ww,{size:22,className:"text-white"})}),t.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Manual Entry"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Enter place details manually without API"}),t.jsx(hc,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 group-hover:text-emerald-500 group-hover:translate-x-1 transition-all"})]})]})}),A==="google"&&t.jsxs("div",{className:"p-6",children:[t.jsx("button",{onClick:()=>o("select"),className:"text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1 mb-4",children:" Back to options"}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx("input",{type:"text",placeholder:"Search Google Places...",value:m,onChange:ge=>x(ge.target.value),className:"w-full pl-11 pr-4 py-3 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0}),y?t.jsx(Lr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500 animate-spin"}):t.jsx(Kc,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsxs("div",{className:"max-h-72 overflow-y-auto space-y-2",children:[b.length===0&&m.length>=2&&!y&&t.jsx("p",{className:"text-center text-slate-400 py-8 text-sm",children:"No results found"}),b.map(ge=>t.jsx("button",{onClick:()=>z(ge),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${(P==null?void 0:P.place_id)===ge.place_id?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300 hover:bg-slate-50"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${(P==null?void 0:P.place_id)===ge.place_id?"bg-blue-500 text-white":"bg-slate-100 text-slate-500"}`,children:t.jsx(So,{size:18})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h5",{className:"font-medium text-slate-800 truncate",children:ge.name}),t.jsx("p",{className:"text-sm text-slate-500 truncate",children:ge.address}),t.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[ge.rating&&t.jsxs("span",{className:"flex items-center gap-1 text-xs text-amber-600",children:[t.jsx(tA,{size:11,fill:"currentColor"})," ",ge.rating]}),ge.types[0]&&t.jsx("span",{className:"text-xs text-slate-400",children:ge.types[0].replace(/_/g," ")})]})]}),(P==null?void 0:P.place_id)===ge.place_id&&t.jsx(Bo,{size:20,className:"text-blue-500 shrink-0"})]})},ge.place_id))]}),P&&t.jsx("button",{onClick:re,disabled:X,className:"mt-4 w-full py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg shadow-blue-500/25 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:X?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{size:18,className:"animate-spin"}),"Importing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(oo,{size:18}),'Import "',P.name,'"']})})]}),A==="manual"&&t.jsxs("div",{className:"p-6",children:[!f&&t.jsx("button",{onClick:()=>o("select"),className:"text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1 mb-4",children:" Back to options"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Place Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",placeholder:"e.g. Petronas Twin Towers",value:K.name,onChange:ge=>de({...K,name:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",placeholder:"Full address",value:K.address,onChange:ge=>de({...K,address:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Rating"}),t.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",placeholder:"0.0 - 5.0",value:K.rating,onChange:ge=>de({...K,rating:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Price Level"}),t.jsxs("select",{value:K.price_level,onChange:ge=>de({...K,price_level:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all bg-white",children:[t.jsx("option",{value:"",children:"Select..."}),t.jsx("option",{value:"Free",children:"Free"}),t.jsx("option",{value:"$",children:"$ Budget"}),t.jsx("option",{value:"$$",children:"$$ Moderate"}),t.jsx("option",{value:"$$$",children:"$$$ Expensive"}),t.jsx("option",{value:"$$$$",children:"$$$$ Luxury"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Phone"}),t.jsx("input",{type:"tel",placeholder:"+60 12-345 6789",value:K.phone,onChange:ge=>de({...K,phone:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Website"}),t.jsx("input",{type:"url",placeholder:"https://...",value:K.website,onChange:ge=>de({...K,website:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Coordinates ",t.jsx("span",{className:"text-slate-400 font-normal",children:"(optional)"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("input",{type:"number",step:"any",placeholder:"Latitude",value:K.lat,onChange:ge=>de({...K,lat:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"}),t.jsx("input",{type:"number",step:"any",placeholder:"Longitude",value:K.lng,onChange:ge=>de({...K,lng:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]})]}),t.jsx("button",{onClick:f?De:Se,disabled:ue||!K.name.trim()||!K.address.trim(),className:"mt-2 w-full py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-700 hover:to-teal-700 transition-all shadow-lg shadow-emerald-500/25 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ue?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{size:18,className:"animate-spin"}),f?"Updating...":"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(QA,{size:18}),f?"Update Place":"Save Place"]})})]})]})]})})]})},dK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0);return W.useEffect(()=>{fetch("/api/admin/trip_items").then(a=>a.ok?a.json():[]).then(a=>e(a)).catch(console.error).finally(()=>n(!1))},[]),r?t.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading itinerary items..."}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full",children:[t.jsxs("div",{className:"p-5 border-b border-slate-200",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Trip Itinerary Items"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Granular view of all scheduled activities."})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase",children:[t.jsx("th",{className:"p-4",children:"Item ID"}),t.jsx("th",{className:"p-4",children:"Trip Ref"}),t.jsx("th",{className:"p-4",children:"Place / Activity"}),t.jsx("th",{className:"p-4",children:"Timing"}),t.jsx("th",{className:"p-4",children:"Notes"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:s.map(a=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4 text-slate-400",children:["#",a.id]}),t.jsx("td",{className:"p-4",children:t.jsxs("span",{className:"flex items-center gap-1 text-blue-600 hover:underline cursor-pointer",children:[t.jsx(ip,{size:12})," Trip #",a.trip_id]})}),t.jsxs("td",{className:"p-4 font-medium text-slate-800 flex items-center gap-2",children:[t.jsx(So,{size:14,className:"text-purple-500"})," ",a.place_name]}),t.jsxs("td",{className:"p-4 text-slate-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Vi,{size:12})," Day ",a.day_number]}),t.jsxs("div",{className:"text-xs text-slate-400",children:["Order: ",a.order_index]})]}),t.jsx("td",{className:"p-4 text-slate-500 italic truncate max-w-xs",children:a.notes||"-"})]},a.id))})]})})]})},uK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(""),[u,d]=W.useState(null),[A,o]=W.useState(null);W.useEffect(()=>{(async()=>{try{const w=await fetch("/api/admin/trips");w.ok&&e(await w.json())}catch(w){console.error(w)}finally{n(!1)}})()},[]);const f=(b,w)=>{d({type:b,message:w}),setTimeout(()=>d(null),3e3)},p=b=>{o(b)},m=async()=>{if(A)try{e(s.filter(b=>b.id!==A)),f("success","Trip deleted successfully")}catch{f("error","Failed to delete trip")}finally{o(null)}},x=s.filter(b=>b.title.toLowerCase().includes(a.toLowerCase()));return r?t.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading trips..."}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[u&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${u.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${u.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:u.type==="success"?t.jsx(Bo,{size:18}):t.jsx(Da,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:u.message}),t.jsx("button",{onClick:()=>d(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Trips"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Overview of user travel plans."})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search trips...",className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:a,onChange:b=>l(b.target.value)}),t.jsx(Kc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase",children:[t.jsx("th",{className:"p-4",children:"Trip Details"}),t.jsx("th",{className:"p-4",children:"User"}),t.jsx("th",{className:"p-4",children:"Dates"}),t.jsx("th",{className:"p-4",children:"Status"}),t.jsx("th",{className:"p-4",children:"Est. Budget"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:x.map(b=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4",children:[t.jsx("div",{className:"font-bold text-slate-800",children:b.title}),t.jsxs("div",{className:"text-xs text-slate-400",children:["ID: #",b.id]})]}),t.jsxs("td",{className:"p-4 text-slate-600 flex items-center gap-2",children:[t.jsx(Jo,{size:14,className:"text-slate-400"})," ",b.user_email]}),t.jsxs("td",{className:"p-4 text-slate-500 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Co,{size:12})," ",b.start_date]}),t.jsxs("div",{className:"pl-4",children:["to ",b.end_date]})]}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.status==="Completed"?"bg-green-100 text-green-700":b.status==="Cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:b.status})}),t.jsxs("td",{className:"p-4 font-mono text-slate-600",children:["$",b.total_expenses]}),t.jsxs("td",{className:"p-4 text-right",children:[t.jsx("button",{className:"text-slate-400 hover:text-blue-600 p-1 mr-1 transition-colors",children:t.jsx(io,{size:16})}),t.jsx("button",{onClick:()=>p(b.id),className:"text-slate-400 hover:text-red-600 p-1 transition-colors",children:t.jsx(Zo,{size:16})})]})]},b.id))})]})}),A&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(qo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Trip?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this trip? This will remove all associated itinerary items and expenses."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>o(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:m,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})})]})},AK=({user:s,onUpdateUser:e})=>{const[r,n]=W.useState({name:s.name,email:s.email||"alex.chen@example.com",avatarUrl:s.avatarUrl}),[a,l]=W.useState({currentPassword:"",newPassword:""}),[u,d]=W.useState("idle"),[A,o]=W.useState(""),[f,p]=W.useState(!0),[m,x]=W.useState(!0),[b,w]=W.useState(null),[y,E]=W.useState(!1),[P,z]=W.useState(!1),[X,Y]=W.useState(null),Q=W.useRef(null),K=(le,Ce)=>{Y({type:le,message:Ce}),setTimeout(()=>Y(null),3e3)},de=async()=>{if(!a.currentPassword||!a.newPassword){d("error"),o("Please fill in both fields.");return}d("loading");try{const le=await fetch(`${It}/auth/change-password`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}),Ce=await le.json();le.ok&&Ce.status==="success"?(d("success"),o("Password changed successfully!"),l({currentPassword:"",newPassword:""}),setTimeout(()=>{d("idle"),o("")},3e3),K("success","Password updated successfully")):(d("error"),o(Ce.message||"Failed to update password."))}catch{d("error"),o("Network error.")}},ue=le=>{var oe;const Ce=(oe=le.target.files)==null?void 0:oe[0];if(Ce){if(Ce.size>1048576){K("error","File is too large! Please upload an image smaller than 1MB."),le.target.value="";return}w(Ce);const Ae=new FileReader;Ae.onloadend=()=>{n(se=>({...se,avatarUrl:Ae.result}))},Ae.readAsDataURL(Ce)}},ve=async()=>{E(!0);try{const le=new FormData;le.append("name",r.name),b&&le.append("avatar",b);const Ce=await fetch(`${It}/user/update-profile`,{method:"PUT",headers:{},credentials:"include",body:le}),oe=await Ce.json();Ce.ok?(z(!0),K("success","Profile updated successfully!"),setTimeout(()=>z(!1),3e3),oe.user&&e(oe.user),w(null)):K("error",oe.message||"Update failed")}catch(le){console.error("Upload error:",le),K("error","Network error occurred")}finally{E(!1)}};return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-4xl mx-auto animate-fade-in-up relative",children:[X&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${X.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${X.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:X.type==="success"?t.jsx(uo,{size:18}):t.jsx(Da,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:X.message}),t.jsx("button",{onClick:()=>Y(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(Jo,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"General Settings"})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-10 pb-10 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var le;return(le=Q.current)==null?void 0:le.click()},children:[t.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white dark:border-slate-800 shadow-xl ring-2 ring-slate-100 dark:ring-slate-700",children:t.jsx("img",{src:r.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx(Xg,{className:"w-8 h-8 text-white"})}),t.jsx("input",{type:"file",ref:Q,className:"hidden",accept:"image/*",onChange:ue})]}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Profile Photo"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 mb-4",children:"Click the image to upload a new photo. JPG, GIF or PNG."}),t.jsx("button",{onClick:()=>{var le;return(le=Q.current)==null?void 0:le.click()},className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Change Photo"})]})]}),t.jsxs("div",{className:"space-y-6 max-w-2xl",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Personal Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Jo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:r.name,onChange:le=>n({...r,name:le.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",value:r.email,onChange:le=>n({...r,email:le.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:"Security"}),s.authProvider==="google"||!s.email?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 flex items-center gap-3 text-slate-500 border border-slate-200 dark:border-slate-700",children:[t.jsx(Wd,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm",children:"You are logged in via Google. Password change is not applicable."})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ld,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"",value:a.currentPassword,onChange:le=>l({...a,currentPassword:le.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ld,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Min 8 characters",value:a.newPassword,onChange:le=>l({...a,newPassword:le.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[u==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:A}),u==="success"&&t.jsx("p",{className:"text-xs font-bold text-emerald-500",children:A})]}),t.jsx("button",{onClick:de,disabled:u==="loading",className:"px-5 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-white rounded-xl text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-600 transition-all shadow-sm flex items-center gap-2",children:u==="loading"?t.jsx(Lr,{className:"w-3 h-3 animate-spin"}):"Update Password"})]})]})]}),t.jsx("div",{className:"pt-6 mt-6 flex justify-end",children:t.jsxs("button",{onClick:ve,disabled:y,className:"px-8 py-3 bg-gradient-to-r from-sky-500 to-indigo-600 hover:from-sky-600 hover:to-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-sky-500/20 transition-all flex items-center gap-2 active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed",children:[y?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):P?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(QA,{className:"w-5 h-5"}),P?"Saved":y?"Saving...":"Save Changes"]})})]})]})]})},hK=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,a]=W.useState(!0),[l,u]=W.useState(""),[d,A]=W.useState(!1),[o,f]=W.useState(null),[p,m]=W.useState(""),[x,b]=W.useState(null),[w,y]=W.useState(null),[E,P]=W.useState(null),[z,X]=W.useState({title:"",category:"",status:"Published",content:"",coverImage:null}),Y=["Travel Tips","Destinations","Food & Dining","Accommodation","Events & News","Safety Guides"],Q=(Ee,De)=>{y({message:Ee,type:De}),setTimeout(()=>y(null),3e3)},K=async()=>{try{const Ee=await fetch("/api/articles/list");if(Ee.ok){const De=await Ee.json();r(De)}}catch(Ee){console.error("Failed to fetch articles",Ee),Q("Failed to load articles","error")}finally{a(!1)}};W.useEffect(()=>{K()},[]);const de=Ee=>{const{name:De,value:Se}=Ee.target;X(he=>({...he,[De]:Se}))},ue=Ee=>{X(De=>({...De,content:Ee}))},ve=Ee=>{Ee.target.files&&Ee.target.files[0]&&X(De=>({...De,coverImage:Ee.target.files[0]}))},le=()=>{f(null),b(null),X({title:"",category:"",status:"Published",content:"",coverImage:null}),A(!0)},Ce=Ee=>{f(Ee.id),b(Ee.coverImage),X({title:Ee.title,category:Ee.category,status:Ee.status,content:Ee.content||"",coverImage:null}),A(!0)},oe=Ee=>{P(Ee)},Ne=async()=>{if(E)try{(await fetch(`/api/articles/${E}`,{method:"DELETE"})).ok?(Q("Article deleted successfully","success"),K()):Q("Failed to delete article","error")}catch(Ee){console.error("Error deleting:",Ee),Q("Error occurred while deleting","error")}finally{P(null)}},Ae=async Ee=>{Ee.preventDefault();const De=new FormData;De.append("title",z.title),De.append("category",z.category),De.append("status",z.status),De.append("content",z.content),z.coverImage&&De.append("coverImage",z.coverImage);try{const Se=o?`/api/articles/${o}`:"/api/articles/create",be=await fetch(Se,{method:o?"PUT":"POST",body:De}),fe=await be.json();be.ok?(Q(o?"Article Updated!":"Article Created!","success"),A(!1),K(),f(null),X({title:"",category:"",status:"Published",content:"",coverImage:null})):Q(fe.message||"Operation failed","error")}catch(Se){console.error("Error saving article",Se),Q("Network error occurred","error")}},se=e.filter(Ee=>{var he,be;const De=((he=Ee.title)==null?void 0:he.toLowerCase().includes(p.toLowerCase()))||((be=Ee.category)==null?void 0:be.toLowerCase().includes(p.toLowerCase())),Se=!l||Ee.category===l;return De&&Se}),pe=Ee=>Ee?Ee.startsWith("http")?Ee:`${It}${Ee}`:null,re=Ee=>Ee&&new DOMParser().parseFromString(Ee,"text/html").body.textContent||"";return t.jsxs("div",{className:"p-6 space-y-6",children:[w&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-5 py-3 rounded-xl shadow-2xl text-white text-sm font-medium animate-in slide-in-from-right-10 duration-300
          ${w.type==="success"?"bg-gradient-to-r from-emerald-500 to-teal-500":"bg-gradient-to-r from-red-500 to-rose-500"}`,children:[w.type==="success"?t.jsx(uo,{size:18}):t.jsx(hu,{size:18}),w.message]}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[t.jsx(Td,{className:"w-8 h-8 text-blue-500"}),"Info Website Manager"]}),t.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Manage and publish articles for your public-facing site."})]}),t.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/30 transition-all duration-200 active:scale-95",children:[t.jsx($i,{size:18}),"New Article"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-blue-500",children:t.jsx(Td,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.length}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Total Articles"})]})]}),t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-xl flex items-center justify-center text-green-500",children:t.jsx(uo,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.filter(Ee=>Ee.status==="Published").length}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Published"})]})]}),t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-xl flex items-center justify-center text-amber-500",children:t.jsx(c5,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.reduce((Ee,De)=>Ee+(De.views||0),0).toLocaleString()}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Total Views"})]})]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[t.jsxs("div",{className:"relative flex-1 w-full",children:[t.jsx(Kc,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400",size:18}),t.jsx("input",{type:"text",placeholder:"Search by title...",value:p,onChange:Ee=>m(Ee.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm\r
            focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all`})]}),t.jsxs("select",{value:l,onChange:Ee=>u(Ee.target.value),className:`w-full md:w-56 px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm\r
          focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer`,children:[t.jsx("option",{value:"",children:"All Categories"}),Y.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50/50",children:[t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Article"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Views"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:"Loading..."})}):se.length>0?se.map(Ee=>t.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-12 bg-slate-100 rounded-lg overflow-hidden shrink-0",children:Ee.coverImage?t.jsx("img",{src:pe(Ee.coverImage),alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:t.jsx(Td,{size:20})})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800 line-clamp-1",children:Ee.title}),t.jsxs("p",{className:"text-xs text-slate-400 line-clamp-1",children:[re(Ee.content).substring(0,60),"..."]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-full
                      ${Ee.status==="Published"?"bg-green-100 text-green-700":Ee.status==="Draft"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:Ee.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:Ee.date}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-500 font-medium flex items-center gap-1.5",children:[t.jsx(io,{size:14}),Ee.views]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>Ce(Ee),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit",children:t.jsx(xp,{size:16})}),t.jsx("button",{onClick:()=>oe(Ee.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete",children:t.jsx(Zo,{size:16})})]})})]},Ee.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Kc,{size:32,className:"mb-2 opacity-20"}),t.jsx("p",{children:"No articles found matching your criteria."})]})})})})]})})}),E&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(qo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Article?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this article? This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>P(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:Ne,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})}),d&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:o?"Edit Article":"Create New Article"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Fill in the details to publish content to your info site."})]}),t.jsx("button",{onClick:()=>A(!1),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200/50 rounded-full transition-all",children:t.jsx(qr,{size:20})})]}),t.jsxs("form",{onSubmit:Ae,children:[t.jsxs("div",{className:"p-6 space-y-5 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[t.jsxs("div",{className:"group relative h-48 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center hover:border-blue-400 hover:bg-blue-50/30 transition-all cursor-pointer overflow-hidden",children:[z.coverImage?t.jsx("img",{src:URL.createObjectURL(z.coverImage),className:"w-full h-full object-cover",alt:"New Preview"}):x?t.jsx("img",{src:pe(x),className:"w-full h-full object-cover",alt:"Existing"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-3 bg-white rounded-full shadow-sm text-slate-400 mb-2 group-hover:scale-110 transition-transform",children:t.jsx(cp,{size:24})}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Click to upload cover image"}),t.jsx("p",{className:"text-xs text-slate-400",children:"JPG, PNG or WEBP (Max. 2MB)"})]}),t.jsx("input",{type:"file",onChange:ve,accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Title"}),t.jsx("input",{type:"text",name:"title",placeholder:"e.g. Exploring New Frontiers",value:z.title,onChange:de,required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Category"}),t.jsxs("select",{name:"category",value:z.category,onChange:de,required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer appearance-none",children:[t.jsx("option",{value:"",disabled:!0,children:"Select a category"}),Y.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Status"}),t.jsxs("select",{name:"status",value:z.status,onChange:de,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer",children:[t.jsx("option",{value:"Published",children:"Published"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Archived",children:"Archived"})]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Content"}),t.jsx(OC,{content:z.content,onChange:ue}),t.jsx("p",{className:"text-xs text-slate-400 mt-1.5",children:"Use the toolbar above to format your content with headings, lists, colors, and more."})]})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-xs font-medium",children:[t.jsx(Da,{size:14}),"Changes will be visible immediately."]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>A(!1),className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white text-sm font-semibold rounded-xl hover:bg-blue-700 transition-all flex items-center gap-2 shadow-lg shadow-blue-500/20",children:[t.jsx(QA,{size:18}),o?"Save Changes":"Publish Article"]})]})]})]})]})})]})},bm={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},fK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(null),[a,l]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState(""),[f,p]=W.useState(!1),[m,x]=W.useState(!1),[b,w]=W.useState(bm.ADMIN),[y,E]=W.useState(!1),[P,z]=W.useState(null),[X,Y]=W.useState(null),[Q,K]=W.useState("preset"),[de,ue]=W.useState("monthly"),[ve,le]=W.useState("30"),[Ce,oe]=W.useState("0.00"),[Ne,Ae]=W.useState("");W.useEffect(()=>{se(),pe()},[]);const se=async()=>{try{const fe=await fetch(`${It}/api/admin-subscription/statistics`,{credentials:"include"});if(fe.ok){const te=await fe.json();d(te),te.currentAdminRole&&(w(te.currentAdminRole),E(te.currentAdminRole===bm.SUPER_ADMIN))}}catch(fe){console.error("Error fetching statistics:",fe)}},pe=async(fe="")=>{try{p(!0);const te=fe?`${It}/api/admin-subscription/users?search=${encodeURIComponent(fe)}`:`${It}/api/admin-subscription/users`,ge=await fetch(te,{credentials:"include"});if(ge.ok){const Ue=await ge.json();e(Ue.users),Ue.currentAdminRole&&(w(Ue.currentAdminRole),E(Ue.canManageAdmins||!1))}else ge.status===403&&he("error","Admin access required")}catch(te){console.error("Error fetching users:",te),he("error","Failed to load users")}finally{p(!1)}},re=async fe=>{try{const te=await fetch(`${It}/api/admin-subscription/users/${fe}/subscriptions`,{credentials:"include"});if(te.ok){const ge=await te.json();l(ge.subscriptions),n(ge.user)}else te.status===403&&he("error","Permission denied: Cannot access admin users")}catch(te){console.error("Error fetching user subscriptions:",te)}},Ee=async()=>{if(r)try{p(!0);const fe={user_id:r.id,subscription_type:Q,amount:parseFloat(Ce)||0};Q==="preset"?fe.plan_type=de:fe.custom_days=parseInt(ve);const te=await fetch(`${It}/api/admin-subscription/add-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(fe)}),ge=await te.json();te.ok?(he("success","Subscription added successfully!"),x(!1),re(r.id),se(),pe(A),K("preset"),ue("monthly"),le("30"),oe("0.00")):te.status===403?he("error","Permission denied: Cannot modify admin users"):he("error",ge.error||"Failed to add subscription")}catch{he("error","Network error occurred")}finally{p(!1)}},De=fe=>{Y(fe)},Se=async()=>{if(X)try{const fe=await fetch(`${It}/api/admin-subscription/cancel-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user_id:X})});fe.ok?(he("success","Subscription cancelled successfully"),(r==null?void 0:r.id)===X&&re(X),pe(A),se()):fe.status===403?he("error","Permission denied: Cannot modify admin users"):he("error","Failed to cancel subscription")}catch{he("error","Network error occurred")}finally{Y(null)}},he=(fe,te)=>{z({type:fe,text:te}),setTimeout(()=>z(null),5e3)},be=fe=>{const te=(fe==null?void 0:fe.toLowerCase())||"user";return te===bm.SUPER_ADMIN?t.jsx("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 text-xs font-medium rounded-full",children:"Super Admin"}):te===bm.ADMIN?t.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full",children:"Admin"}):null};return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-7xl mx-auto relative",children:[P&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${P.type==="success"?"bg-white border-emerald-100 text-emerald-800 dark:bg-slate-800 dark:border-emerald-900/50 dark:text-emerald-400":P.type==="info"?"bg-white border-blue-100 text-blue-800 dark:bg-slate-800 dark:border-blue-900/50 dark:text-blue-400":"bg-white border-red-100 text-red-800 dark:bg-slate-800 dark:border-red-900/50 dark:text-red-400"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${P.type==="success"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":P.type==="info"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"bg-red-100 text-red-600 dark:bg-red-900/30"}`,children:P.type==="success"?t.jsx(Xo,{className:"w-4 h-4"}):P.type==="info"?t.jsx(El,{className:"w-4 h-4"}):t.jsx(Da,{className:"w-4 h-4"})}),t.jsx("p",{className:"text-sm font-medium",children:P.text}),t.jsx("button",{onClick:()=>z(null),className:"ml-2 opacity-50 hover:opacity-100 transition-opacity",children:t.jsx(qr,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Subscription Management"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Manage user subscriptions and premium access"})]}),t.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border mb-6 ${y?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800":"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800"}`,children:[y?t.jsx(lp,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}):t.jsx(Wd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:`text-sm font-medium ${y?"text-purple-800 dark:text-purple-300":"text-blue-800 dark:text-blue-300"}`,children:y?"Super Admin Access":"Admin Access"}),t.jsx("span",{className:`text-sm ml-2 ${y?"text-purple-600 dark:text-purple-400":"text-blue-600 dark:text-blue-400"}`,children:y?" You can view and manage subscriptions for all users":" You can only view and manage subscriptions for regular users"})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${y?"bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300"}`,children:b})]}),u&&t.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Md,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Users"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:u.total_users}),!y&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Regular users only"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-6 border border-amber-200 dark:border-amber-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Gd,{className:"w-5 h-5 text-amber-600"}),t.jsx("span",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Premium Users"})]}),t.jsx("p",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:u.premium_users}),t.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-500 mt-1",children:[u.premium_percentage,"% of total"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(rx,{className:"w-5 h-5 text-emerald-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monthly Revenue"})]}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:["RM ",u.monthly_revenue.toFixed(2)]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Vi,{className:"w-5 h-5 text-orange-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Expiring Soon"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:u.expiring_soon}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Within 7 days"})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(Kc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search users by email or name...",value:A,onChange:fe=>{o(fe.target.value),pe(fe.target.value)},className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h2",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Users"}),t.jsxs("span",{className:"text-sm text-slate-500",children:[s.length," ",s.length===1?"user":"users"]})]}),t.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-800 max-h-[600px] overflow-y-auto",children:f?t.jsx("div",{className:"p-8 text-center",children:t.jsx(Lr,{className:"w-6 h-6 animate-spin mx-auto text-slate-400"})}):s.length===0?t.jsx("div",{className:"p-8 text-center text-slate-500",children:"No users found"}):s.map(fe=>t.jsx("div",{onClick:()=>re(fe.id),className:`p-4 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors ${(r==null?void 0:r.id)===fe.id?"bg-amber-50 dark:bg-amber-900/20":""}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:fe.full_name||"No name"}),fe.is_premium&&t.jsx(Gd,{className:"w-4 h-4 text-amber-600"}),be(fe.role)]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:fe.email}),fe.subscription_end_date&&t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:["Expires: ",new Date(fe.subscription_end_date).toLocaleDateString()]})]}),fe.is_premium&&t.jsx("span",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 text-xs font-medium rounded-full",children:"Premium"})]})},fe.id))})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:r?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"font-bold text-lg text-slate-900 dark:text-white",children:r.full_name}),be(r.role)]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:r.email})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>x(!0),className:"px-3 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",children:[t.jsx($i,{className:"w-4 h-4"}),"Add"]}),r.is_premium&&t.jsxs("button",{onClick:()=>De(r.id),className:"px-3 py-2 bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 dark:hover:bg-red-900/50 dark:text-red-400 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",children:[t.jsx(rS,{className:"w-4 h-4"}),"Cancel"]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Status:"}),r.is_premium?t.jsxs("span",{className:"flex items-center gap-1 text-amber-600",children:[t.jsx(Gd,{className:"w-4 h-4"})," Premium"]}):t.jsx("span",{className:"text-slate-500",children:"Free"})]}),r.subscription_end_date&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Expires:"}),t.jsx("span",{className:"text-slate-900 dark:text-white",children:new Date(r.subscription_end_date).toLocaleDateString()})]})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-medium text-slate-900 dark:text-white mb-3",children:"Subscription History"}),t.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:a.length===0?t.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No subscription history"}):a.map(fe=>t.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-slate-900 dark:text-white capitalize",children:[fe.plan_type," Plan"]}),t.jsx("p",{className:"text-xs text-slate-500",children:fe.order_reference})]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${fe.status==="active"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":fe.status==="cancelled"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:fe.status})]}),t.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Amount:"})," RM ",fe.amount.toFixed(2)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Start:"})," ",new Date(fe.start_date).toLocaleDateString()]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"End:"})," ",fe.end_date?new Date(fe.end_date).toLocaleDateString():"Lifetime"]})]})]},fe.id))})]})]}):t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(Md,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),t.jsx("p",{children:"Select a user to view details"})]})})]}),X&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4 text-red-600 dark:text-red-400",children:t.jsx(qo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Cancel Subscription?"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:"Are you sure you want to cancel this user's premium status? This action will immediately revert them to a free user."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>Y(null),className:"flex-1 px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-semibold rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-all",children:"Keep It"}),t.jsx("button",{onClick:Se,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Yes, Cancel"})]})]})})}),m&&r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Add Subscription"}),t.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:r.full_name}),be(r.role)]}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:r.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Subscription Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("button",{onClick:()=>K("preset"),className:`p-3 rounded-lg border-2 transition-all ${Q==="preset"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(xf,{className:"w-5 h-5 mx-auto mb-1 text-amber-600"}),t.jsx("p",{className:"text-sm font-medium",children:"Preset Plans"})]}),t.jsxs("button",{onClick:()=>K("custom"),className:`p-3 rounded-lg border-2 transition-all ${Q==="custom"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(Co,{className:"w-5 h-5 mx-auto mb-1 text-amber-600"}),t.jsx("p",{className:"text-sm font-medium",children:"Custom Days"})]})]})]}),Q==="preset"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Select Plan"}),t.jsx("div",{className:"space-y-2",children:[{value:"monthly",label:"Monthly",days:"30 days",price:"RM 29.90"},{value:"yearly",label:"Yearly",days:"365 days",price:"RM 299.00"},{value:"lifetime",label:"Lifetime",days:"Forever",price:"RM 999.00"}].map(fe=>t.jsx("button",{onClick:()=>ue(fe.value),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${de===fe.value?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:fe.label}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:fe.days})]}),t.jsx("p",{className:"text-sm font-medium text-amber-600",children:fe.price})]})},fe.value))})]}),Q==="custom"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Number of Days"}),t.jsx("input",{type:"number",min:"1",value:ve,onChange:fe=>le(fe.target.value),className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"e.g., 7, 14, 30..."}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Subscription will expire in ",ve||"0"," days"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Amount (RM)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:Ce,onChange:fe=>oe(fe.target.value),className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"0.00"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Set to 0.00 for free/gifted subscriptions"})]}),t.jsx("button",{onClick:Ee,disabled:f,className:"w-full py-3 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white font-bold rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:f?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-5 h-5 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx($i,{className:"w-5 h-5"}),"Add Subscription"]})})]})]})})]})},pK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(!1),[u,d]=W.useState(null),[A,o]=W.useState({title:"",description:"",link:"",status:"active",priority:1}),[f,p]=W.useState(null),[m,x]=W.useState(""),[b,w]=W.useState(null),[y,E]=W.useState(null);W.useEffect(()=>{z()},[]);const P=(le,Ce)=>{w({type:le,message:Ce}),setTimeout(()=>w(null),3e3)},z=async()=>{try{const le=await fetch(`${It}/api/advertisements/list`,{credentials:"include"});if(le.ok){const Ce=await le.json();e(Ce)}}catch(le){console.error("Error fetching advertisements:",le),P("error","Failed to fetch advertisements")}finally{n(!1)}},X=le=>{var oe;const Ce=(oe=le.target.files)==null?void 0:oe[0];if(Ce){p(Ce);const Ne=new FileReader;Ne.onloadend=()=>{x(Ne.result)},Ne.readAsDataURL(Ce)}},Y=async le=>{le.preventDefault();const Ce=new FormData;Ce.append("title",A.title),Ce.append("description",A.description),Ce.append("link",A.link),Ce.append("status",A.status),Ce.append("priority",A.priority.toString()),f&&Ce.append("image",f);try{const oe=u?`${It}/api/advertisements/${u.id}`:`${It}/api/advertisements/create`;(await fetch(oe,{method:u?"PUT":"POST",credentials:"include",body:Ce})).ok?(P("success",u?"Advertisement updated successfully!":"Advertisement created successfully!"),await z(),ue()):P("error","Failed to save advertisement.")}catch(oe){console.error("Error saving advertisement:",oe),P("error","Network error occurred.")}},Q=le=>{E(le)},K=async()=>{if(y)try{(await fetch(`${It}/api/advertisements/${y}`,{method:"DELETE",credentials:"include"})).ok?(P("success","Advertisement deleted successfully"),await z()):P("error","Failed to delete advertisement")}catch(le){console.error("Error deleting advertisement:",le),P("error","Error occurred while deleting")}finally{E(null)}},de=le=>{d(le),o({title:le.title,description:le.description,link:le.link,status:le.status,priority:le.priority}),x(le.imageUrl?`${It}${le.imageUrl}`:""),l(!0)},ue=()=>{l(!1),d(null),o({title:"",description:"",link:"",status:"active",priority:0}),p(null),x("")},ve=async le=>{const Ce=le.status==="active"?"paused":"active",oe=new FormData;oe.append("title",le.title),oe.append("description",le.description),oe.append("link",le.link),oe.append("status",Ce),oe.append("priority",le.priority.toString());try{(await fetch(`${It}/api/advertisements/${le.id}`,{method:"PUT",credentials:"include",body:oe})).ok?(P("success",`Advertisement ${Ce==="active"?"activated":"paused"}`),await z()):P("error","Failed to update status")}catch(Ne){console.error("Error toggling advertisement status:",Ne),P("error","Network error")}};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6 relative animate-in fade-in slide-in-from-bottom-2 duration-500",children:[b&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${b.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${b.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:b.type==="success"?t.jsx(Bo,{size:18}):t.jsx(Da,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:b.message}),t.jsx("button",{onClick:()=>w(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Advertisement Management"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Manage advertisements shown to non-premium users"})]}),t.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/20 active:scale-95",children:[t.jsx($i,{size:20}),"Create Advertisement"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:t.jsx(rx,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Ads"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.length})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:t.jsx(qb,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.filter(le=>le.status==="active").length})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:t.jsx(io,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Views"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.reduce((le,Ce)=>le+Ce.views,0).toLocaleString()})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-orange-50 text-orange-600 rounded-lg",children:t.jsx(kw,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Clicks"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.reduce((le,Ce)=>le+Ce.clicks,0).toLocaleString()})]})]})})]}),t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Advertisement"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Link"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Status"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Priority"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Stats"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Actions"})]})}),t.jsx("tbody",{children:s.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center p-8 text-slate-500",children:"No advertisements yet. Create your first one!"})}):s.map(le=>t.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition-colors",children:[t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[le.imageUrl&&t.jsx("img",{src:`${It}${le.imageUrl}`,alt:le.title,className:"w-16 h-16 object-cover rounded-lg border border-slate-200"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:le.title}),t.jsx("p",{className:"text-sm text-slate-500 line-clamp-1",children:le.description})]})]})}),t.jsx("td",{className:"p-4",children:t.jsxs("a",{href:le.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1 text-sm",children:["View Link",t.jsx(ip,{size:14})]})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${le.status==="active"?"bg-green-100 text-green-700":le.status==="paused"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:le.status.charAt(0).toUpperCase()+le.status.slice(1)})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:"text-slate-700 font-medium",children:le.priority})}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[t.jsx(io,{size:14,className:"text-slate-400"}),t.jsxs("span",{children:[le.views.toLocaleString()," views"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[t.jsx(kw,{size:14,className:"text-slate-400"}),t.jsxs("span",{children:[le.clicks.toLocaleString()," clicks"]})]}),t.jsxs("div",{className:"text-slate-500 text-xs mt-1",children:["CTR: ",le.ctr,"%"]})]})}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>ve(le),className:`p-2 rounded-lg transition-colors ${le.status==="active"?"hover:bg-amber-50 text-amber-600":"hover:bg-green-50 text-green-600"}`,title:le.status==="active"?"Pause":"Activate",children:le.status==="active"?t.jsx(f5,{size:18}):t.jsx(qb,{size:18})}),t.jsx("button",{onClick:()=>de(le),className:"p-2 hover:bg-blue-50 text-blue-600 rounded-lg transition-colors",title:"Edit",children:t.jsx(xp,{size:18})}),t.jsx("button",{onClick:()=>Q(le.id),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg transition-colors",title:"Delete",children:t.jsx(Zo,{size:18})})]})})]},le.id))})]})}),y&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(qo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Advertisement?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this ad? This action cannot be undone and tracking data will be lost."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>E(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:K,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})}),a&&t.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-800",children:u?"Edit Advertisement":"Create New Advertisement"}),t.jsx("button",{onClick:ue,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200/50 rounded-full transition-all",children:t.jsx(qr,{size:20})})]}),t.jsxs("form",{onSubmit:Y,className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Title *"}),t.jsx("input",{type:"text",required:!0,value:A.title,onChange:le=>o({...A,title:le.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"Enter advertisement title"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Description"}),t.jsx("textarea",{value:A.description,onChange:le=>o({...A,description:le.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all resize-none",rows:3,placeholder:"Enter advertisement description"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Target Link *"}),t.jsxs("div",{className:"relative",children:[t.jsx(ip,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),t.jsx("input",{type:"url",required:!0,value:A.link,onChange:le=>o({...A,link:le.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"https://example.com"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Status"}),t.jsxs("select",{value:A.status,onChange:le=>o({...A,status:le.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"paused",children:"Paused"}),t.jsx("option",{value:"expired",children:"Expired"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Priority"}),t.jsx("input",{type:"number",value:A.priority,onChange:le=>o({...A,priority:parseInt(le.target.value)||0}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"0",min:"1"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Advertisement Image"}),t.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-4 hover:bg-slate-50 transition-colors",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:X,className:`block w-full text-sm text-slate-500\r
                      file:mr-4 file:py-2 file:px-4\r
                      file:rounded-full file:border-0\r
                      file:text-sm file:font-semibold\r
                      file:bg-blue-50 file:text-blue-700\r
                      hover:file:bg-blue-100\r
                    `}),m&&t.jsx("div",{className:"mt-4 relative rounded-lg overflow-hidden border border-slate-200",children:t.jsx("img",{src:m,alt:"Preview",className:"w-full h-48 object-cover"})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:ue,className:"flex-1 px-4 py-2.5 border border-slate-200 text-slate-700 font-semibold rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/20",children:u?"Update Advertisement":"Create Advertisement"})]})]})]})})]})},mK=()=>{var he;const[s,e]=W.useState([]),[r,n]=W.useState([]),[a,l]=W.useState([]),[u,d]=W.useState(!0),[A,o]=W.useState("configs"),[f,p]=W.useState(null),[m,x]=W.useState(!1),[b,w]=W.useState(null),[y,E]=W.useState(null),[P,z]=W.useState(!1),[X,Y]=W.useState(null),[Q,K]=W.useState(null),de=W.useRef(null);W.useEffect(()=>{ue()},[]),W.useEffect(()=>{const be=()=>K(null);return Q!==null&&document.addEventListener("click",be),()=>document.removeEventListener("click",be)},[Q]);const ue=async()=>{try{d(!0);const[be,fe,te]=await Promise.all([fetch(`${It}/api/admin/login-hero/configs`,{credentials:"include"}),fetch(`${It}/api/admin/login-hero/images`,{credentials:"include"}),fetch(`${It}/api/admin/login-hero/available-places`,{credentials:"include"})]),ge=await be.json(),Ue=await fe.json(),Ve=await te.json();ge.status==="success"&&e(ge.configs),Ue.status==="success"&&n(Ue.images),Ve.status==="success"&&l(Ve.places)}catch{w("Failed to load data")}finally{d(!1)}},ve=()=>{x(!0),p({displayMode:"single",transitionInterval:5,autoPlay:!0,imageSource:"url",imagesConfig:[{url:"",alt:""}],title:null,subtitle:null,description:null,enableGradient:!0,isActive:!1})},le=async()=>{if(f)try{d(!0),w(null);const be=m?`${It}/api/admin/login-hero/configs`:`${It}/api/admin/login-hero/configs/${f.id}`,ge=await(await fetch(be,{method:m?"POST":"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)})).json();ge.status==="success"?(E(m?"Configuration created!":"Configuration updated!"),p(null),x(!1),ue()):w(ge.message)}catch{w("Failed to save configuration")}finally{d(!1)}},Ce=async be=>{try{d(!0),(await(await fetch(`${It}/api/admin/login-hero/configs/${be}/activate`,{method:"POST",credentials:"include"})).json()).status==="success"&&(E("Configuration activated!"),ue())}catch{w("Failed to activate configuration")}finally{d(!1)}},oe=async be=>{if(confirm("Are you sure you want to delete this configuration?"))try{d(!0),(await(await fetch(`${It}/api/admin/login-hero/configs/${be}`,{method:"DELETE",credentials:"include"})).json()).status==="success"&&(E("Configuration deleted!"),ue())}catch{w("Failed to delete configuration")}finally{d(!1)}},Ne=()=>{if(!f)return;const be=f.imageSource==="url"?{url:"",alt:""}:f.imageSource==="database"?{image_id:null}:{place_id:null};p({...f,imagesConfig:[...f.imagesConfig||[],be]})},Ae=be=>{if(!f)return;const fe=[...f.imagesConfig||[]];fe.splice(be,1),p({...f,imagesConfig:fe})},se=(be,fe)=>{if(!f)return;const te=[...f.imagesConfig||[]];te[be]={...te[be],...fe},p({...f,imagesConfig:te})},pe=async be=>{var ge;const fe=(ge=be.target.files)==null?void 0:ge[0];if(!fe)return;if(!["image/png","image/jpeg","image/jpg","image/gif","image/webp"].includes(fe.type)){w("Invalid file type. Please upload PNG, JPG, GIF, or WebP images.");return}if(fe.size>5*1024*1024){w("File size too large. Maximum 5MB allowed.");return}try{z(!0),w(null);const Ue=new FormData;Ue.append("file",fe),Ue.append("title",fe.name.replace(/\.[^/.]+$/,"")),Ue.append("altText",fe.name);const kt=await(await fetch(`${It}/api/admin/login-hero/images/upload`,{method:"POST",credentials:"include",body:Ue})).json();kt.status==="success"?(E("Image uploaded successfully!"),ue(),de.current&&(de.current.value="")):w(kt.message)}catch{w("Failed to upload image")}finally{z(!1)}},re=async(be,fe)=>{try{d(!0),w(null);const ge=await(await fetch(`${It}/api/admin/login-hero/images/from-place`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({placeId:be,title:fe,altText:fe})})).json();ge.status==="success"?(E("Image added from place!"),ue()):w(ge.message)}catch{w("Failed to add image from place")}finally{d(!1)}},Ee=async be=>{if(confirm("Delete this image from library?"))try{d(!0),(await(await fetch(`${It}/api/admin/login-hero/images/${be}`,{method:"DELETE",credentials:"include"})).json()).status==="success"&&(E("Image deleted from library!"),ue())}catch{w("Failed to delete image")}finally{d(!1)}},De=async(be,fe)=>{try{d(!0),(await(await fetch(`${It}/api/admin/login-hero/images/${be}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isActive:!fe})})).json()).status==="success"&&(E(`Image ${fe?"deactivated":"activated"}!`),ue())}catch{w("Failed to update image status")}finally{d(!1)}},Se=(be,fe,te)=>{const ge=fe.startsWith("/")?`${It}${fe}`:fe,Ue=260,Ve=180,kt=15;let Bt=be.clientX+kt,We=be.clientY+kt;Bt+Ue>window.innerWidth&&(Bt=be.clientX-Ue-kt),We+Ve>window.innerHeight&&(We=be.clientY-Ve-kt),Y({url:ge,title:te,x:Bt,y:We})};return u&&s.length===0?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Login Background Management"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Configure the hero section of the login page"})]}),A==="configs"&&t.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx($i,{size:20}),"New Configuration"]})]}),b&&t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 text-red-700",children:[t.jsx(Da,{size:20}),b]}),y&&t.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3 text-green-700",children:[t.jsx(Xo,{size:20}),y]}),t.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[t.jsxs("button",{onClick:()=>o("configs"),className:`px-4 py-2 font-medium transition-colors ${A==="configs"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-800"}`,children:[t.jsx(T0,{className:"w-4 h-4 inline mr-2"}),"Configurations"]}),t.jsxs("button",{onClick:()=>o("images"),className:`px-4 py-2 font-medium transition-colors ${A==="images"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-800"}`,children:[t.jsx(op,{className:"w-4 h-4 inline mr-2"}),"Image Library"]})]}),A==="configs"?t.jsxs("div",{className:"space-y-4",children:[f&&t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:m?"Create New Configuration":"Edit Configuration"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Display Mode"}),t.jsxs("select",{value:f.displayMode,onChange:be=>p({...f,displayMode:be.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"single",children:"Single Image"}),t.jsx("option",{value:"carousel",children:"Carousel"}),t.jsx("option",{value:"fade",children:"Fade Transition"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Image Source"}),t.jsxs("select",{value:f.imageSource,onChange:be=>p({...f,imageSource:be.target.value,imagesConfig:[]}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"url",children:"External URL - Direct image links"}),t.jsx("option",{value:"database",children:"Image Library - Uploaded or saved images"}),t.jsx("option",{value:"places",children:"Places - Images from Places database"})]}),t.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:[f.imageSource==="url"&&" Enter direct image URLs (e.g., from Unsplash, Pexels)",f.imageSource==="database"&&" Select from your uploaded images or images added from Places in the Image Library",f.imageSource==="places"&&" Directly select images from Places database (loaded via proxy API)"]})]}),f.displayMode!=="single"&&t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Transition Interval (seconds)"}),t.jsx("input",{type:"number",min:"1",max:"60",value:f.transitionInterval,onChange:be=>p({...f,transitionInterval:parseInt(be.target.value)}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Auto Play"}),t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.autoPlay,onChange:be=>p({...f,autoPlay:be.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Enable"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Images"}),t.jsxs("button",{onClick:Ne,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[t.jsx($i,{size:16}),"Add Image"]})]}),t.jsx("div",{className:"space-y-3",children:(he=f.imagesConfig)==null?void 0:he.map((be,fe)=>{var te,ge;return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg relative",children:[f.imageSource==="url"&&t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"text",placeholder:"Image URL",value:be.url||"",onChange:Ue=>se(fe,{url:Ue.target.value}),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm"}),t.jsx("input",{type:"text",placeholder:"Alt text",value:be.alt||"",onChange:Ue=>se(fe,{alt:Ue.target.value}),className:"w-32 px-3 py-2 border border-slate-200 rounded-lg text-sm"})]}),f.imageSource==="database"&&t.jsxs("div",{className:"flex-1 relative",children:[t.jsxs("div",{onClick:Ue=>{Ue.stopPropagation(),K(Q===fe?null:fe)},className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm cursor-pointer flex items-center justify-between hover:border-blue-400 transition-colors",children:[t.jsx("span",{className:be.image_id?"text-slate-800 truncate":"text-slate-400",children:be.image_id?((te=r.find(Ue=>Ue.id===be.image_id))==null?void 0:te.title)||"Unknown Image":"Select an image from library"}),t.jsx(np,{size:16,className:"text-slate-500"})]}),Q===fe&&t.jsxs("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-lg shadow-xl py-1",children:[t.jsx("div",{onClick:()=>{se(fe,{image_id:null}),K(null)},className:"px-3 py-2 text-sm text-slate-500 hover:bg-slate-50 cursor-pointer",children:"Select an image from library"}),r.filter(Ue=>Ue.isActive).map(Ue=>{var Ve;return t.jsxs("div",{onClick:()=>{se(fe,{image_id:Ue.id}),K(null)},onMouseEnter:kt=>Se(kt,Ue.imageUrl,Ue.title),onMouseLeave:()=>Y(null),className:`px-3 py-2 text-sm cursor-pointer flex items-center justify-between ${be.image_id===Ue.id?"bg-blue-50 text-blue-700":"text-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{className:"truncate",children:Ue.title}),t.jsx("span",{className:"text-xs text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded ml-2",children:(Ve=Ue.source)==null?void 0:Ve.toUpperCase()})]},Ue.id)})]})]}),f.imageSource==="places"&&t.jsxs("div",{className:"flex-1 relative",children:[t.jsxs("div",{onClick:Ue=>{Ue.stopPropagation(),K(Q===fe?null:fe)},className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm cursor-pointer flex items-center justify-between hover:border-blue-400 transition-colors",children:[t.jsx("span",{className:be.place_id?"text-slate-800 truncate":"text-slate-400",children:be.place_id?((ge=a.find(Ue=>Ue.id===be.place_id))==null?void 0:ge.name)||"Unknown Place":"Select a place"}),t.jsx(np,{size:16,className:"text-slate-500"})]}),Q===fe&&t.jsxs("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-lg shadow-xl py-1",children:[t.jsx("div",{onClick:()=>{se(fe,{place_id:null}),K(null)},className:"px-3 py-2 text-sm text-slate-500 hover:bg-slate-50 cursor-pointer",children:"Select a place"}),a.map(Ue=>t.jsx("div",{onClick:()=>{se(fe,{place_id:Ue.id}),K(null)},onMouseEnter:Ve=>Se(Ve,`${It}/proxy_image?ref=${Ue.photoUrl}`,Ue.name),onMouseLeave:()=>Y(null),className:`px-3 py-2 text-sm cursor-pointer flex items-center justify-between ${be.place_id===Ue.id?"bg-blue-50 text-blue-700":"text-slate-700 hover:bg-slate-50"}`,children:t.jsx("span",{className:"truncate",children:Ue.name})},Ue.id))]})]}),t.jsx("button",{onClick:()=>Ae(fe),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:t.jsx(Zo,{size:16})})]},fe)})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Title (Optional - overrides default)"}),t.jsx("input",{type:"text",value:f.title||"",onChange:be=>p({...f,title:be.target.value}),placeholder:"Plan your next great adventure...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (Optional)"}),t.jsx("textarea",{value:f.description||"",onChange:be=>p({...f,description:be.target.value}),placeholder:"Join thousands of travelers...",rows:3,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.enableGradient,onChange:be=>p({...f,enableGradient:be.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Enable Gradient Overlay"})]}),t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.isActive,onChange:be=>p({...f,isActive:be.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Set as Active"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{onClick:le,disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[t.jsx(QA,{size:18}),u?"Saving...":"Save Configuration"]}),t.jsx("button",{onClick:()=>{p(null),x(!1)},className:"px-6 py-2 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})]}),t.jsx("div",{className:"grid gap-4",children:s.map(be=>t.jsx("div",{className:`bg-white rounded-xl border p-6 shadow-sm ${be.isActive?"border-green-500 ring-2 ring-green-100":"border-slate-200"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:[be.displayMode.charAt(0).toUpperCase()+be.displayMode.slice(1)," ","Mode"]}),be.isActive&&t.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:"ACTIVE"})]}),t.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Source:"})," ",be.imageSource.toUpperCase()]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Images:"})," ",be.imagesConfig.length]}),be.displayMode!=="single"&&t.jsxs("p",{children:[t.jsx("strong",{children:"Interval:"})," ",be.transitionInterval,"s"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Updated:"})," ",be.updatedAt]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[!be.isActive&&t.jsx("button",{onClick:()=>Ce(be.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Activate",children:t.jsx(io,{size:18})}),t.jsx("button",{onClick:()=>{p(be),x(!1)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:t.jsx(ry,{size:18})}),t.jsx("button",{onClick:()=>oe(be.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",disabled:be.isActive,children:t.jsx(Zo,{size:18})})]})]})},be.id))})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Hero Image Library"}),t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Upload images or add from Places to reuse in configurations"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:de,type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",onChange:pe,className:"hidden"}),t.jsx("button",{onClick:()=>{var be;return(be=de.current)==null?void 0:be.click()},disabled:P,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:P?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{size:20,className:"animate-spin"}),"Uploading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(cp,{size:20}),"Upload Image"]})})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.length===0?t.jsxs("div",{className:"col-span-full p-8 text-center text-slate-500",children:[t.jsx(op,{size:48,className:"mx-auto mb-4 text-slate-300"}),t.jsx("p",{children:"No images in library yet"}),t.jsx("p",{className:"text-sm mt-2",children:"Add images to reuse them in configurations"})]}):r.map(be=>{var fe;return t.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"relative h-48 bg-slate-100",children:[t.jsx("img",{src:be.imageUrl.startsWith("/")?`${It}${be.imageUrl}`:be.imageUrl,alt:be.altText,className:"w-full h-full object-cover",onError:te=>{te.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}}),!be.isActive&&t.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-red-500 text-white text-xs font-bold rounded",children:"INACTIVE"}),t.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-blue-600 text-white text-xs font-bold rounded flex items-center gap-1",children:[be.source==="places"&&t.jsx(So,{size:12}),be.source==="external"&&t.jsx(qg,{size:12}),be.source==="uploaded"&&t.jsx(cp,{size:12}),((fe=be.source)==null?void 0:fe.toUpperCase())||"UNKNOWN"]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:be.title}),t.jsx("p",{className:"text-xs text-slate-500 mb-2 line-clamp-2",children:be.description||be.altText}),be.place&&t.jsxs("p",{className:"text-xs text-blue-600 mb-2",children:[t.jsx(So,{size:10,className:"inline mr-1"}),be.place.name]}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[t.jsxs("button",{onClick:()=>Ee(be.id),className:"flex-1 py-2 px-3 text-sm bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[t.jsx(Zo,{size:14,className:"inline mr-1"}),"Delete"]}),t.jsx("button",{onClick:()=>De(be.id,be.isActive),className:`flex-1 py-2 px-3 text-sm rounded-lg transition-colors ${be.isActive?"bg-slate-50 text-slate-600 hover:bg-slate-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:be.isActive?t.jsxs(t.Fragment,{children:[t.jsx(Zu,{size:14,className:"inline mr-1"}),"Deactivate"]}):t.jsxs(t.Fragment,{children:[t.jsx(io,{size:14,className:"inline mr-1"}),"Activate"]})})]})]})]},be.id)})}),a.length>0&&t.jsxs("div",{className:"mt-8",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Quick Add from Places"}),t.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Add place images to your library with one click"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:a.slice(0,12).map(be=>t.jsxs("button",{onClick:()=>{confirm(`Add "${be.name}" to image library?`)&&re(be.id,be.name)},onMouseEnter:fe=>Se(fe,`${It}/proxy_image?ref=${be.photoUrl}`,be.name),onMouseLeave:()=>Y(null),disabled:P||u,className:"relative group rounded-lg overflow-hidden border-2 border-slate-200 hover:border-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("div",{className:"aspect-square bg-slate-100",children:t.jsx("img",{src:`${It}/proxy_image?ref=${be.photoUrl}`,alt:be.name,className:"w-full h-full object-cover",onError:fe=>{fe.target.style.display="none"}})}),t.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx($i,{size:32,className:"text-white"})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2",children:t.jsx("p",{className:"text-white text-xs font-medium truncate",children:be.name})})]},be.id))})]})]}),X&&t.jsxs("div",{className:"fixed z-[9999] bg-white rounded-lg shadow-2xl border border-slate-200 overflow-hidden pointer-events-none transition-all duration-150",style:{top:X.y,left:X.x,width:"260px"},children:[t.jsx("div",{className:"aspect-video w-full bg-slate-100 relative",children:t.jsx("img",{src:X.url,alt:"Preview",className:"w-full h-full object-cover",onError:be=>{be.target.src="https://via.placeholder.com/260x146?text=Preview+Error"}})}),t.jsx("div",{className:"p-2 bg-white",children:t.jsx("p",{className:"text-xs font-bold text-slate-800 truncate",children:X.title})})]})]})},nf=`${It}/api/notifications`,af={getTabs:async(s="all")=>(await fetch(`${nf}/admin/tabs?status=${s}`,{credentials:"include"})).json(),createTab:async s=>(await fetch(`${nf}/admin/tabs`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)})).json(),updateTab:async(s,e)=>(await fetch(`${nf}/admin/tabs/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})).json(),deleteTab:async s=>(await fetch(`${nf}/admin/tabs/${s}`,{method:"DELETE",credentials:"include"})).json(),sendNotification:async s=>(await fetch(`${nf}/admin/send`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)})).json(),getNotifications:async()=>(await fetch(`${nf}/admin/list`,{credentials:"include"})).json(),getStats:async()=>(await fetch(`${nf}/admin/stats`,{credentials:"include"})).json()},gK=()=>{const[s,e]=W.useState("overview"),[r,n]=W.useState([]),[a,l]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState(!0),[f,p]=W.useState(!1),[m,x]=W.useState(null);W.useEffect(()=>{b()},[]);const b=async()=>{o(!0);try{const[Q,K,de]=await Promise.all([af.getTabs(),af.getNotifications(),af.getStats()]);Q.success&&n(Q.tabs||[]),K.success&&l(K.notifications||[]),de.success&&d(de.stats)}catch(Q){console.error("Failed to load data:",Q)}o(!1)},w=async Q=>{if(!confirm("Tab"))return;(await af.deleteTab(Q)).success&&n(r.filter(de=>de.id!==Q))},y=()=>t.jsx("div",{className:"flex gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6",children:[{key:"overview",label:"Overview",icon:c5},{key:"tabs",label:"Content Tabs",icon:Td},{key:"send",label:"Send Notification",icon:Sh},{key:"history",label:"History",icon:Vi}].map(({key:Q,label:K,icon:de})=>t.jsxs("button",{onClick:()=>e(Q),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg text-sm font-medium transition-all ${s===Q?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}`,children:[t.jsx(de,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:K})]},Q))}),E=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Tabs",value:(u==null?void 0:u.totalTabs)||0,icon:Td,color:"blue"},{label:"Active Tabs",value:(u==null?void 0:u.activeTabs)||0,icon:Bo,color:"green"},{label:"Total Sent",value:(u==null?void 0:u.totalNotifications)||0,icon:Sh,color:"purple"},{label:"This Week",value:(u==null?void 0:u.recentNotifications)||0,icon:Co,color:"orange"}].map(({label:Q,value:K,icon:de,color:ue})=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl bg-${ue}-100 dark:bg-${ue}-900/30 flex items-center justify-center mb-3`,children:t.jsx(de,{className:`text-${ue}-600 dark:text-${ue}-400`,size:20})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:K}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:Q})]},Q))}),(u==null?void 0:u.topTabs)&&u.topTabs.length>0&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(io,{size:20}),"Most Viewed Tabs"]}),t.jsx("div",{className:"space-y-3",children:u.topTabs.map((Q,K)=>t.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 dark:border-slate-700 last:border-0",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${K===0?"bg-yellow-100 text-yellow-700":K===1?"bg-slate-200 text-slate-600":K===2?"bg-orange-100 text-orange-700":"bg-slate-100 text-slate-500"}`,children:K+1}),t.jsx("span",{className:"text-slate-800 dark:text-slate-200",children:Q.title})]}),t.jsxs("span",{className:"text-sm text-slate-500",children:[Q.views," views"]})]},Q.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>{x(null),p(!0)},className:"flex items-center gap-4 p-5 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl text-white hover:from-blue-600 hover:to-blue-700 transition-all group",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx($i,{size:24})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-semibold",children:"Create New Tab"}),t.jsx("p",{className:"text-sm text-blue-100",children:"Build announcement content"})]}),t.jsx(hc,{className:"ml-auto opacity-50 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),t.jsxs("button",{onClick:()=>e("send"),className:"flex items-center gap-4 p-5 bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl text-white hover:from-purple-600 hover:to-purple-700 transition-all group",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(eA,{size:24})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-semibold",children:"Send Notification"}),t.jsx("p",{className:"text-sm text-purple-100",children:"Broadcast to users"})]}),t.jsx(hc,{className:"ml-auto opacity-50 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})]})]}),P=()=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Content Tabs"}),t.jsxs("button",{onClick:()=>{x(null),p(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[t.jsx($i,{size:16}),"New Tab"]})]}),r.length===0?t.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(Td,{className:"mx-auto text-slate-300 dark:text-slate-600 mb-4",size:48}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No content tabs yet"}),t.jsx("button",{onClick:()=>{x(null),p(!0)},className:"mt-4 text-blue-600 hover:underline",children:"Create your first tab"})]}):t.jsx("div",{className:"grid gap-4",children:r.map(Q=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[Q.coverImage?t.jsx("img",{src:Q.coverImage,alt:"",className:"w-20 h-20 rounded-xl object-cover"}):t.jsx("div",{className:"w-20 h-20 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center",children:t.jsx(Td,{className:"text-slate-400",size:24})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white truncate",children:Q.title}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Q.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":Q.status==="draft"?"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300":Q.status==="scheduled"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-slate-100 text-slate-500"}`,children:Q.status})]}),Q.subtitle&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2 truncate",children:Q.subtitle}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(io,{size:12})," ",Q.views]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Sw,{size:12})," ",Q.targetAudience]}),t.jsx("span",{children:Q.createdAt})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{x(Q),p(!0)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:t.jsx(xp,{size:16})}),t.jsx("button",{onClick:()=>w(Q.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:t.jsx(Zo,{size:16})})]})]})},Q.id))})]}),z=()=>{const[Q,K]=W.useState({sendType:"broadcast",title:"",text:"",type:"info",icon:"",tabId:"",targetAudience:"all",targetUserIds:"",sendEmail:!1}),[de,ue]=W.useState(!1),[ve,le]=W.useState(null),Ce=async()=>{if(!Q.text.trim()){alert("Please enter notification text");return}ue(!0),le(null);try{const oe={...Q,tabId:Q.tabId?parseInt(Q.tabId):null,targetUserIds:Q.targetUserIds?Q.targetUserIds.split(",").map(Ae=>parseInt(Ae.trim())).filter(Ae=>!isNaN(Ae)):[],sendEmail:Q.sendEmail},Ne=await af.sendNotification(oe);le({success:Ne.success,message:Ne.message||Ne.error}),Ne.success&&(K({...Q,title:"",text:"",sendEmail:!1}),b())}catch{le({success:!1,message:"Failed to send notification"})}ue(!1)};return t.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[t.jsx(eA,{size:20}),"Send Notification"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Send Type"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"broadcast",label:"Broadcast All",icon:eA},{value:"targeted",label:"By Audience",icon:Md},{value:"single",label:"Specific Users",icon:Sw}].map(({value:oe,label:Ne,icon:Ae})=>t.jsxs("button",{onClick:()=>K({...Q,sendType:oe}),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all flex flex-col items-center gap-2 ${Q.sendType===oe?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-slate-200 dark:border-slate-700 hover:border-slate-300 text-slate-600 dark:text-slate-400"}`,children:[t.jsx(Ae,{size:20}),Ne]},oe))})]}),Q.sendType==="targeted"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Audience"}),t.jsxs("select",{value:Q.targetAudience,onChange:oe=>K({...Q,targetAudience:oe.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Users"}),t.jsx("option",{value:"premium",children:"Premium Users Only"}),t.jsx("option",{value:"free",children:"Free Users Only"})]})]}),Q.sendType==="single"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"User IDs (comma separated)"}),t.jsx("input",{type:"text",value:Q.targetUserIds,onChange:oe=>K({...Q,targetUserIds:oe.target.value}),placeholder:"1, 2, 3",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Title (optional)"}),t.jsx("input",{type:"text",value:Q.title,onChange:oe=>K({...Q,title:oe.target.value}),placeholder:" Special Announcement",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Message *"}),t.jsx("textarea",{value:Q.text,onChange:oe=>K({...Q,text:oe.target.value}),placeholder:"Enter your notification message...",rows:3,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Type"}),t.jsx("div",{className:"flex gap-2",children:[{value:"info",label:"Info",color:"blue"},{value:"success",label:"Success",color:"green"},{value:"warning",label:"Warning",color:"yellow"},{value:"alert",label:"Alert",color:"red"}].map(({value:oe,label:Ne,color:Ae})=>t.jsx("button",{onClick:()=>K({...Q,type:oe}),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Q.type===oe?`bg-${Ae}-100 text-${Ae}-700 dark:bg-${Ae}-900/30 dark:text-${Ae}-400 ring-2 ring-${Ae}-500`:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-200"}`,children:Ne},oe))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Link to Content Tab (optional)"}),t.jsxs("select",{value:Q.tabId,onChange:oe=>K({...Q,tabId:oe.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"No linked tab"}),r.filter(oe=>oe.status==="active").map(oe=>t.jsx("option",{value:oe.id,children:oe.title},oe.id))]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:'Users will see "View Details" when a tab is linked'})]}),t.jsx("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:Q.sendEmail,onChange:oe=>K({...Q,sendEmail:oe.target.checked}),className:"w-5 h-5 mt-0.5 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:" Also Send Email"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Send email notification to users who have opted in to email notifications. Users who have disabled email notifications in Settings will not receive emails."})]})]})}),ve&&t.jsx("div",{className:`p-4 rounded-xl mb-4 ${ve.success?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400"}`,children:ve.message}),t.jsx("button",{onClick:Ce,disabled:de||!Q.text.trim(),className:"w-full py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:de?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Sh,{size:18}),"Send Notification"]})})]})})},X=()=>t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Notification History"}),a.length===0?t.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(Au,{className:"mx-auto text-slate-300 dark:text-slate-600 mb-4",size:48}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No notifications sent yet"})]}):t.jsx("div",{className:"space-y-3",children:a.map(Q=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700 flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Q.type==="success"?"bg-green-100 text-green-600":Q.type==="warning"?"bg-yellow-100 text-yellow-600":Q.type==="alert"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:t.jsx(Au,{size:18})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[Q.title&&t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:Q.title}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate",children:Q.text})]}),t.jsxs("div",{className:"text-right text-xs text-slate-400",children:[t.jsx("p",{children:Q.isBroadcast?"Broadcast":"Single"}),t.jsx("p",{children:Q.createdAt})]})]},Q.id))})]}),Y=()=>{const[Q,K]=W.useState(m||{title:"",subtitle:"",content:"",contentType:"markdown",coverImage:"",bannerImage:"",ctaText:"",ctaLink:"",ctaStyle:"primary",targetAudience:"all",category:"announcement",priority:0,status:"draft",startAt:"",endAt:""}),[de,ue]=W.useState(!1),ve=async()=>{if(!Q.title||!Q.content){alert("Title and content are required");return}ue(!0);try{let le;m?le=await af.updateTab(m.id,Q):le=await af.createTab(Q),le.success?(p(!1),b()):alert(le.error||"Failed to save")}catch{alert("Failed to save tab")}ue(!1)};return f?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-3xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-800",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:m?"Edit Content Tab":"Create Content Tab"}),t.jsx("button",{onClick:()=>p(!1),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{size:20})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)] space-y-5",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Title *"}),t.jsx("input",{type:"text",value:Q.title||"",onChange:le=>K({...Q,title:le.target.value}),placeholder:"Announcement Title",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subtitle"}),t.jsx("input",{type:"text",value:Q.subtitle||"",onChange:le=>K({...Q,subtitle:le.target.value}),placeholder:"Brief description",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Content * (Markdown supported)"}),t.jsx("textarea",{value:Q.content||"",onChange:le=>K({...Q,content:le.target.value}),placeholder:"Write your announcement content here...",rows:8,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cover Image URL"}),t.jsx("input",{type:"text",value:Q.coverImage||"",onChange:le=>K({...Q,coverImage:le.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Banner Image URL"}),t.jsx("input",{type:"text",value:Q.bannerImage||"",onChange:le=>K({...Q,bannerImage:le.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Button Text"}),t.jsx("input",{type:"text",value:Q.ctaText||"",onChange:le=>K({...Q,ctaText:le.target.value}),placeholder:"Learn More",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Link"}),t.jsx("input",{type:"text",value:Q.ctaLink||"",onChange:le=>K({...Q,ctaLink:le.target.value}),placeholder:"/billing",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Style"}),t.jsxs("select",{value:Q.ctaStyle||"primary",onChange:le=>K({...Q,ctaStyle:le.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"primary",children:"Primary (Blue)"}),t.jsx("option",{value:"secondary",children:"Secondary (Gray)"}),t.jsx("option",{value:"danger",children:"Danger (Red)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category"}),t.jsxs("select",{value:Q.category||"announcement",onChange:le=>K({...Q,category:le.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"announcement",children:" Announcement"}),t.jsx("option",{value:"promotion",children:" Promotion"}),t.jsx("option",{value:"update",children:" Update"}),t.jsx("option",{value:"alert",children:" Alert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Target Audience"}),t.jsxs("select",{value:Q.targetAudience||"all",onChange:le=>K({...Q,targetAudience:le.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:" All Users"}),t.jsx("option",{value:"premium",children:" Premium Only"}),t.jsx("option",{value:"free",children:" Free Users"}),t.jsx("option",{value:"new_users",children:" New Users"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Status"}),t.jsxs("select",{value:Q.status||"draft",onChange:le=>K({...Q,status:le.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"draft",children:" Draft"}),t.jsx("option",{value:"active",children:" Active"}),t.jsx("option",{value:"scheduled",children:" Scheduled"}),t.jsx("option",{value:"archived",children:" Archived"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Start Date (optional)"}),t.jsx("input",{type:"datetime-local",value:Q.startAt?Q.startAt.slice(0,16):"",onChange:le=>K({...Q,startAt:le.target.value?new Date(le.target.value).toISOString():void 0}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"End Date (optional)"}),t.jsx("input",{type:"datetime-local",value:Q.endAt?Q.endAt.slice(0,16):"",onChange:le=>K({...Q,endAt:le.target.value?new Date(le.target.value).toISOString():void 0}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:[t.jsx("button",{onClick:()=>p(!1),className:"px-6 py-3 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl font-medium transition-colors",children:"Cancel"}),t.jsx("button",{onClick:ve,disabled:de,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:de?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Bo,{size:18}),m?"Update Tab":"Create Tab"]})})]})]})}):null};return A?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"})}):t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[t.jsx(Au,{className:"text-blue-500"}),"Notification Center"]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Create announcements and send notifications to users"})]}),t.jsx(y,{}),s==="overview"&&t.jsx(E,{}),s==="tabs"&&t.jsx(P,{}),s==="send"&&t.jsx(z,{}),s==="history"&&t.jsx(X,{}),t.jsx(Y,{})]})},$p={getTickets:async(s={})=>{const e=new URLSearchParams(s),n=await(await fetch(`${It}/api/tickets/admin?${e}`,{credentials:"include"})).json();return n.success?{tickets:n.tickets,stats:n.stats}:{tickets:[],stats:{}}},getTicketDetail:async s=>{const r=await(await fetch(`${It}/api/tickets/admin/${s}`,{credentials:"include"})).json();return r.success?{ticket:r.ticket,messages:r.messages}:null},acceptTicket:async s=>(await fetch(`${It}/api/tickets/admin/${s}/accept`,{method:"POST",credentials:"include"})).json(),resolveTicket:async s=>(await fetch(`${It}/api/tickets/admin/${s}/resolve`,{method:"POST",credentials:"include"})).json()},Oj=({status:s,size:e="md"})=>{const r={pending:{color:"yellow",icon:t.jsx(Vi,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Pending"},accepted:{color:"blue",icon:t.jsx(Bo,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Accepted"},in_progress:{color:"indigo",icon:t.jsx(mu,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"In Progress"},resolved:{color:"green",icon:t.jsx(vS,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Resolved"},expired:{color:"red",icon:t.jsx(qo,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Expired"},closed:{color:"slate",icon:t.jsx(hu,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Closed"}},{color:n,icon:a,label:l}=r[s]||r.pending,u={yellow:"bg-yellow-100 text-yellow-700 border-yellow-200",blue:"bg-blue-100 text-blue-700 border-blue-200",indigo:"bg-indigo-100 text-indigo-700 border-indigo-200",green:"bg-green-100 text-green-700 border-green-200",red:"bg-red-100 text-red-700 border-red-200",slate:"bg-slate-100 text-slate-700 border-slate-200"};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium border ${u[n]}`,children:[a,l]})},xK=({priority:s})=>{const e={urgent:"bg-red-500 text-white",high:"bg-orange-500 text-white",normal:"bg-slate-200 text-slate-700",low:"bg-slate-100 text-slate-500"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${e[s]||e.normal}`,children:s.charAt(0).toUpperCase()+s.slice(1)})},Ij=s=>{if(s<=0)return"Expired";const e=Math.floor(s/3600),r=Math.floor(s%3600/60);return e>0?`${e}h ${r}m`:`${r}m`},bK=()=>{const{isConnected:s,joinTicket:e,leaveTicket:r,sendTicketMessage:n,sendTypingStatus:a,onNewTicketMessage:l,onUserTyping:u,onNewTicket:d,onTicketActivity:A}=L0(),[o,f]=W.useState([]),[p,m]=W.useState(null),[x,b]=W.useState(!0),[w,y]=W.useState(null),[E,P]=W.useState([]),[z,X]=W.useState(""),[Y,Q]=W.useState(!1),[K,de]=W.useState(null),[ue,ve]=W.useState("all"),[le,Ce]=W.useState("all"),[oe,Ne]=W.useState(""),Ae=W.useRef(null),se=W.useRef(null),pe=W.useRef();W.useEffect(()=>{re()},[ue,le]),W.useEffect(()=>{const te=d(ge=>{f(Ue=>[{id:ge.ticketId,subject:ge.subject,userName:ge.userName,userAvatar:ge.userAvatar,category:ge.category,priority:ge.priority,status:"pending",timeRemaining:86400,isExpired:!1,createdAt:ge.createdAt},...Ue]),m(Ue=>Ue&&{...Ue,pending:Ue.pending+1,total:Ue.total+1})});return()=>te()},[d]),W.useEffect(()=>{const te=A(ge=>{f(Ue=>Ue.map(Ve=>Ve.id===ge.ticketId?{...Ve,lastMessage:{text:ge.preview,senderType:"user",time:"now"}}:Ve))});return()=>te()},[A]),W.useEffect(()=>{if(w&&s)return e(w.id),()=>{r(w.id)}},[w==null?void 0:w.id,s,e,r]),W.useEffect(()=>{const te=l(ge=>{w&&ge.ticketId===w.id&&(P(Ue=>Ue.some(Ve=>Ve.id===ge.id)?Ue:[...Ue,ge]),de(null))});return()=>te()},[w==null?void 0:w.id,l]),W.useEffect(()=>{const te=u(ge=>{w&&ge.ticketId===w.id&&!ge.isAdmin&&(ge.isTyping?de(ge.userName):de(null))});return()=>te()},[w==null?void 0:w.id,u]),W.useEffect(()=>{var te;(te=Ae.current)==null||te.scrollIntoView({behavior:"smooth"})},[E,K]);const re=async()=>{const te={};ue!=="all"&&(te.status=ue),le!=="all"&&(te.assigned=le);const ge=await $p.getTickets(te);f(ge.tickets),m(ge.stats),b(!1)},Ee=async te=>{const ge=await $p.getTicketDetail(te);ge&&(y(ge.ticket),P(ge.messages))},De=async()=>{if(!w)return;const te=await $p.acceptTicket(w.id);if(te.success){y(te.ticket),re();const ge=await $p.getTicketDetail(w.id);ge&&P(ge.messages)}},Se=W.useCallback(()=>{var te;!w||!z.trim()||!s||(Q(!0),n(w.id,z.trim()),X(""),Q(!1),(te=se.current)==null||te.focus(),a(w.id,!1))},[w,z,s,n,a]),he=te=>{X(te.target.value),w&&s&&(a(w.id,!0),pe.current&&clearTimeout(pe.current),pe.current=setTimeout(()=>{a(w.id,!1)},2e3))},be=async()=>{if(!w||!confirm("Mark this ticket as resolved?"))return;(await $p.resolveTicket(w.id)).success&&(re(),y(null))},fe=o.filter(te=>te.subject.toLowerCase().includes(oe.toLowerCase())||te.userName.toLowerCase().includes(oe.toLowerCase()));return t.jsxs("div",{className:"flex h-[calc(100vh-180px)] bg-white rounded-xl border border-slate-200 overflow-hidden",children:[t.jsxs("div",{className:`${w?"hidden md:flex":"flex"} flex-col w-full md:w-96 border-r border-slate-200`,children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Support Tickets"}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${s?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[s?t.jsx(vp,{className:"w-3 h-3"}):t.jsx(bp,{className:"w-3 h-3"}),s?"Live":"Offline"]})]}),t.jsx("button",{onClick:re,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(cd,{className:"w-4 h-4 text-slate-500"})})]}),t.jsxs("div",{className:"relative mb-3",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search tickets...",value:oe,onChange:te=>Ne(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:ue,onChange:te=>ve(te.target.value),className:"flex-1 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"accepted",children:"Accepted"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"})]}),t.jsxs("select",{value:le,onChange:te=>Ce(te.target.value),className:"flex-1 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs",children:[t.jsx("option",{value:"all",children:"All Tickets"}),t.jsx("option",{value:"me",children:"My Tickets"}),t.jsx("option",{value:"unassigned",children:"Unassigned"})]})]})]}),p&&t.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-100 flex gap-4 text-xs",children:[t.jsxs("span",{className:"text-yellow-600",children:[p.pending," pending"]}),t.jsxs("span",{className:"text-blue-600",children:[p.inProgress," active"]}),t.jsxs("span",{className:"text-green-600",children:[p.resolved," resolved"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:x?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(cd,{className:"w-6 h-6 animate-spin text-slate-400"})}):fe.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(f0,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No tickets found"})]}):fe.map(te=>t.jsx("div",{onClick:()=>Ee(te.id),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${(w==null?void 0:w.id)===te.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden shrink-0",children:te.userAvatar?t.jsx("img",{src:te.userAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Jo,{className:"w-5 h-5 text-slate-400"})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Oj,{status:te.status,size:"sm"}),t.jsx(xK,{priority:te.priority})]}),t.jsx("h3",{className:"font-medium text-slate-800 text-sm truncate",children:te.subject}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:te.userName}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-400",children:[t.jsx("span",{children:te.createdAt}),te.status==="pending"&&!te.isExpired&&t.jsxs("span",{className:"flex items-center gap-1 text-orange-500",children:[t.jsx(ev,{className:"w-3 h-3"}),Ij(te.timeRemaining)]})]})]})]})},te.id))})]}),t.jsx("div",{className:`${w?"flex":"hidden md:flex"} flex-1 flex-col`,children:w?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>y(null),className:"md:hidden p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-4 h-4"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-semibold text-slate-800",children:w.subject}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",w.id]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Oj,{status:w.status,size:"sm"}),t.jsx("span",{className:"text-sm text-slate-500",children:w.userName})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[w.status==="pending"&&!w.isExpired&&t.jsx("button",{onClick:De,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Accept Ticket"}),["accepted","in_progress"].includes(w.status)&&t.jsx("button",{onClick:be,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Mark Resolved"})]})]}),w.status!=="resolved"&&w.status!=="closed"&&!w.isExpired&&t.jsxs("div",{className:"mt-3 p-2 bg-orange-50 rounded-lg flex items-center gap-2 text-xs text-orange-600",children:[t.jsx(ev,{className:"w-4 h-4"}),t.jsxs("span",{children:["Time remaining: ",Ij(w.timeRemaining)]})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[E.map(te=>t.jsx("div",{className:`flex ${te.senderType==="admin"?"justify-end":"justify-start"}`,children:te.senderType==="system"?t.jsx("div",{className:"text-center text-xs text-slate-400 py-2 w-full",children:te.content}):t.jsxs("div",{className:`flex items-end gap-2 max-w-[70%] ${te.senderType==="admin"?"flex-row-reverse":""}`,children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 overflow-hidden shrink-0",children:te.senderAvatar?t.jsx("img",{src:te.senderAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Jo,{className:"w-4 h-4 text-slate-400"})})}),t.jsxs("div",{children:[t.jsx("div",{className:`px-4 py-3 rounded-2xl ${te.senderType==="admin"?"bg-blue-600 text-white rounded-br-md":"bg-white border border-slate-200 rounded-bl-md"}`,children:t.jsx("p",{className:"text-sm",children:te.content})}),t.jsx("div",{className:`text-xs text-slate-400 mt-1 ${te.senderType==="admin"?"text-right":""}`,children:new Date(te.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},te.id)),K&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white border border-slate-200 px-4 py-3 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[K," is typing..."]})]})})}),t.jsx("div",{ref:Ae})]}),["accepted","in_progress"].includes(w.status)?t.jsx("div",{className:"p-4 border-t border-slate-100",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{ref:se,type:"text",value:z,onChange:he,onKeyDown:te=>te.key==="Enter"&&!te.shiftKey&&Se(),placeholder:s?"Type your reply...":"Connecting...",disabled:!s,className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:Se,disabled:Y||!z.trim()||!s,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:t.jsx(Sh,{className:"w-5 h-5"})})]})}):w.status==="pending"?t.jsx("div",{className:"p-4 bg-yellow-50 text-center text-sm text-yellow-700",children:"Accept this ticket to start chatting"}):t.jsxs("div",{className:"p-4 bg-slate-100 text-center text-sm text-slate-500",children:["This ticket is ",w.status]})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mu,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a ticket to view details"})]})})})]})},vm={getMessages:async(s="all")=>{const r=await(await fetch(`${It}/api/admin-messages?type=${s}`,{credentials:"include"})).json();return r.success?{messages:r.messages,unreadCount:r.unreadCount}:{messages:[],unreadCount:0}},getAdmins:async()=>{const e=await(await fetch(`${It}/api/admin-messages/admins`,{credentials:"include"})).json();return e.success?e.admins:[]},markRead:async s=>{await fetch(`${It}/api/admin-messages/${s}/read`,{method:"POST",credentials:"include"})},getSystemNotifications:async()=>{const e=await(await fetch(`${It}/api/admin-messages/system-notifications`,{credentials:"include"})).json();return e.success?{notifications:e.notifications,unreadCount:e.unreadCount}:{notifications:[],unreadCount:0}}},Dj=({priority:s})=>{const e={urgent:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",normal:"bg-slate-100 text-slate-600",low:"bg-slate-50 text-slate-400"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${e[s]||e.normal}`,children:s})},vK=()=>{const{isConnected:s,sendAdminMessage:e,onNewAdminMessage:r}=L0(),[n,a]=W.useState("messages"),[l,u]=W.useState("all"),[d,A]=W.useState([]),[o,f]=W.useState([]),[p,m]=W.useState([]),[x,b]=W.useState(0),[w,y]=W.useState(0),[E,P]=W.useState(!0),[z,X]=W.useState(!1),[Y,Q]=W.useState(null);W.useEffect(()=>{K()},[l]),W.useEffect(()=>{const ue=r(ve=>{const le={id:ve.id,senderId:ve.senderId,senderName:ve.senderName,senderAvatar:ve.senderAvatar,recipientId:ve.recipientId,recipientName:ve.recipientName,isBroadcast:ve.isBroadcast,subject:ve.subject,content:ve.content,messageType:"message",priority:ve.priority,createdAt:ve.createdAt,isRead:!1};A(Ce=>[le,...Ce]),b(Ce=>Ce+1)});return()=>ue()},[r]);const K=async()=>{P(!0);const[ue,ve,le]=await Promise.all([vm.getMessages(l),vm.getSystemNotifications(),vm.getAdmins()]);A(ue.messages),b(ue.unreadCount),f(ve.notifications),y(ve.unreadCount),m(le),P(!1)},de=async ue=>{Q(ue),ue.isRead||(await vm.markRead(ue.id),A(ve=>ve.map(le=>le.id===ue.id?{...le,isRead:!0}:le)),b(ve=>Math.max(0,ve-1)))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Admin Communications"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Internal messages and system notifications"})]}),t.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs ${s?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[s?t.jsx(vp,{className:"w-3 h-3"}):t.jsx(bp,{className:"w-3 h-3"}),s?"Live":"Offline"]})]}),t.jsxs("button",{onClick:()=>X(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:[t.jsx($i,{className:"w-4 h-4"}),"New Message"]})]}),t.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[t.jsx("button",{onClick:()=>a("messages"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${n==="messages"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Mh,{className:"w-4 h-4"}),"Messages",x>0&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:x})]})}),t.jsx("button",{onClick:()=>a("notifications"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${n==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Au,{className:"w-4 h-4"}),"System Notifications",w>0&&t.jsx("span",{className:"px-1.5 py-0.5 bg-red-500 text-white text-xs rounded-full",children:w})]})})]}),t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:n==="messages"?t.jsxs("div",{className:"flex h-[500px]",children:[t.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 border-r border-slate-200 flex flex-col",children:[t.jsx("div",{className:"p-3 border-b border-slate-100 flex gap-2",children:["all","received","sent"].map(ue=>t.jsx("button",{onClick:()=>u(ue),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${l===ue?"bg-blue-100 text-blue-700":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:ue.charAt(0).toUpperCase()+ue.slice(1)},ue))}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:E?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(cd,{className:"w-6 h-6 animate-spin text-slate-400"})}):d.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(Xd,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No messages"})]}):d.map(ue=>t.jsx("div",{onClick:()=>de(ue),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${ue.isRead?"":"bg-blue-50/50"} ${(Y==null?void 0:Y.id)===ue.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden shrink-0 flex items-center justify-center",children:ue.senderAvatar?t.jsx("img",{src:ue.senderAvatar,alt:"",className:"w-full h-full object-cover"}):ue.isBroadcast?t.jsx(eA,{className:"w-5 h-5 text-slate-500"}):t.jsx(Jo,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ue.isBroadcast&&t.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"Broadcast"}),t.jsx(Dj,{priority:ue.priority})]}),t.jsx("h4",{className:`text-sm truncate ${ue.isRead?"":"font-semibold"}`,children:ue.subject||"No subject"}),t.jsxs("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:[ue.senderName,"  ",ue.isBroadcast?"All Admins":ue.recipientName]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(ue.createdAt).toLocaleString()})]}),!ue.isRead&&t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shrink-0 mt-2"})]})},ue.id))})]}),t.jsx("div",{className:"hidden md:flex flex-1 flex-col",children:Y?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Y.isBroadcast&&t.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-lg flex items-center gap-1",children:[t.jsx(eA,{className:"w-3 h-3"}),"Broadcast"]}),t.jsx(Dj,{priority:Y.priority})]}),t.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:Y.subject||"No subject"}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-slate-500",children:[t.jsxs("span",{children:["From: ",Y.senderName]}),t.jsx("span",{children:""}),t.jsxs("span",{children:["To: ",Y.isBroadcast?"All Admins":Y.recipientName]})]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(Y.createdAt).toLocaleString()})]}),t.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:t.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:Y.content})})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Xd,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a message to view"})]})})})]}):t.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:E?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(cd,{className:"w-6 h-6 animate-spin text-slate-400"})}):o.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(Au,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No notifications"})]}):o.map(ue=>t.jsx("div",{className:`p-4 border-b border-slate-100 hover:bg-slate-50 transition-colors ${ue.isRead?"":"bg-blue-50/50"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${ue.notificationType.includes("ticket")?"bg-blue-100 text-blue-600":ue.notificationType==="new_user"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-600"}`,children:t.jsx(Au,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:`text-sm ${ue.isRead?"":"font-semibold"}`,children:ue.title}),ue.content&&t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:ue.content}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:new Date(ue.createdAt).toLocaleString()})]})]})},ue.id))})}),z&&t.jsx(yK,{admins:p,isConnected:s,onSend:e,onClose:()=>X(!1),onSent:()=>{X(!1),K()}})]})},yK=({admins:s,isConnected:e,onSend:r,onClose:n,onSent:a})=>{const[l,u]=W.useState(!0),[d,A]=W.useState(null),[o,f]=W.useState(""),[p,m]=W.useState(""),[x,b]=W.useState("normal"),[w,y]=W.useState(""),E=()=>{if(!p.trim()){y("Please enter a message");return}if(!l&&!d){y("Please select a recipient");return}if(!e){y("Not connected to server");return}r(l?null:d,p,o,x),a()},P=s.filter(z=>!z.isCurrentUser);return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"New Message"}),t.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[w&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg text-sm flex items-center gap-2",children:[t.jsx(Da,{className:"w-4 h-4"}),w]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Send To"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{type:"button",onClick:()=>{u(!0),A(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors ${l?"border-blue-500 bg-blue-50 text-blue-600":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx(eA,{className:"w-4 h-4"}),"All Admins"]}),t.jsxs("button",{type:"button",onClick:()=>u(!1),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors ${l?"border-slate-200 hover:border-slate-300":"border-blue-500 bg-blue-50 text-blue-600"}`,children:[t.jsx(Jo,{className:"w-4 h-4"}),"Specific Admin"]})]})]}),!l&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Recipient"}),t.jsxs("select",{value:d||"",onChange:z=>A(Number(z.target.value)||null),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white",children:[t.jsx("option",{value:"",children:"Select admin..."}),P.map(z=>t.jsxs("option",{value:z.id,children:[z.name," (",z.email,")"]},z.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Subject (optional)"}),t.jsx("input",{type:"text",value:o,onChange:z=>f(z.target.value),placeholder:"Message subject",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Priority"}),t.jsx("div",{className:"flex gap-2",children:["low","normal","high","urgent"].map(z=>t.jsx("button",{type:"button",onClick:()=>b(z),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x===z?z==="urgent"?"bg-red-100 text-red-700":z==="high"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:z.charAt(0).toUpperCase()+z.slice(1)},z))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Message *"}),t.jsx("textarea",{value:p,onChange:z=>m(z.target.value),placeholder:"Type your message...",rows:5,className:"w-full px-4 py-3 rounded-xl border border-slate-200 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-200 flex gap-3",children:[t.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-slate-100 rounded-xl font-medium hover:bg-slate-200 transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:E,disabled:!e,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[t.jsx(Sh,{className:"w-4 h-4"}),"Send ",l?"Broadcast":"Message"]})]})]})})},ym={getRooms:async()=>{const e=await(await fetch(`${It}/api/admin-chat/rooms`,{credentials:"include"})).json();return e.success?e.rooms:[]},getAdmins:async()=>{const e=await(await fetch(`${It}/api/admin-chat/admins`,{credentials:"include"})).json();return e.success?e.admins:[]},startChat:async s=>{const r=await(await fetch(`${It}/api/admin-chat/start/${s}`,{method:"POST",credentials:"include"})).json();return r.success?r.room:null},getMessages:async(s,e)=>{const r=e?`${It}/api/admin-chat/rooms/${s}/messages?before=${e}`:`${It}/api/admin-chat/rooms/${s}/messages`,a=await(await fetch(r,{credentials:"include"})).json();return a.success?{messages:a.messages,hasMore:a.hasMore}:{messages:[],hasMore:!1}},markRead:async s=>{await fetch(`${It}/api/admin-chat/rooms/${s}/read`,{method:"POST",credentials:"include"})}},wK=()=>{var Ae,se;const{socket:s,isConnected:e}=L0(),[r,n]=W.useState([]),[a,l]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState([]),[f,p]=W.useState(""),[m,x]=W.useState(!0),[b,w]=W.useState(!1),[y,E]=W.useState(""),[P,z]=W.useState(null),X=W.useRef(null),Y=W.useRef(null),Q=W.useRef(null);W.useEffect(()=>{K(),de()},[]),W.useEffect(()=>{if(!s)return;const pe=De=>{u&&De.roomId===u.id&&(o(Se=>Se.some(he=>he.id===De.id)?Se:[...Se,De]),z(null)),n(Se=>Se.map(he=>he.id===De.roomId?{...he,lastMessagePreview:De.content.slice(0,50),lastMessageAt:De.createdAt,unreadCount:(u==null?void 0:u.id)===De.roomId?0:he.unreadCount+1}:he).sort((he,be)=>new Date(be.lastMessageAt||0).getTime()-new Date(he.lastMessageAt||0).getTime()))},re=De=>{u&&De.roomId===u.id&&z(De.isTyping?De.userName:null)},Ee=De=>{console.log(` New message from ${De.senderName}`)};return s.on("new_admin_chat_message",pe),s.on("admin_chat_user_typing",re),s.on("admin_chat_notification",Ee),()=>{s.off("new_admin_chat_message",pe),s.off("admin_chat_user_typing",re),s.off("admin_chat_notification",Ee)}},[s,u]),W.useEffect(()=>{if(!(!s||!u))return s.emit("join_admin_chat",{roomId:u.id}),()=>{s.emit("leave_admin_chat",{roomId:u.id})}},[s,u==null?void 0:u.id]),W.useEffect(()=>{var pe;(pe=X.current)==null||pe.scrollIntoView({behavior:"smooth"})},[A,P]);const K=async()=>{const pe=await ym.getRooms();n(pe),x(!1)},de=async()=>{const pe=await ym.getAdmins();l(pe)},ue=async pe=>{d(pe);const re=await ym.getMessages(pe.id);o(re.messages),n(Ee=>Ee.map(De=>De.id===pe.id?{...De,unreadCount:0}:De)),setTimeout(()=>{var Ee;return(Ee=Y.current)==null?void 0:Ee.focus()},100)},ve=async pe=>{const re=await ym.startChat(pe.id);re&&(r.find(De=>De.id===re.id)||n(De=>[re,...De]),ue(re),w(!1))},le=W.useCallback(()=>{var pe;!f.trim()||!u||!s||!e||(s.emit("admin_chat_message",{roomId:u.id,content:f.trim()}),p(""),(pe=Y.current)==null||pe.focus(),s.emit("admin_chat_typing",{roomId:u.id,isTyping:!1}))},[f,u,s,e]),Ce=pe=>{p(pe.target.value),u&&s&&e&&(s.emit("admin_chat_typing",{roomId:u.id,isTyping:!0}),Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{s.emit("admin_chat_typing",{roomId:u.id,isTyping:!1})},2e3))},oe=pe=>{const re=new Date(pe),De=new Date().getTime()-re.getTime();return De<6e4?"Just now":De<36e5?`${Math.floor(De/6e4)}m ago`:De<864e5?re.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):re.toLocaleDateString([],{month:"short",day:"numeric"})},Ne=a.filter(pe=>pe.name.toLowerCase().includes(y.toLowerCase())||pe.email.toLowerCase().includes(y.toLowerCase()));return t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden h-[600px] flex",children:[t.jsxs("div",{className:`${u?"hidden md:flex":"flex"} flex-col w-full md:w-80 border-r border-slate-200`,children:[t.jsx("div",{className:"p-4 border-b border-slate-100",children:t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Admin Chat"}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${e?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[e?t.jsx(vp,{className:"w-3 h-3"}):t.jsx(bp,{className:"w-3 h-3"}),e?"Live":"Offline"]})]}),t.jsx("button",{onClick:()=>w(!0),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:t.jsx($i,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:m?t.jsx("div",{className:"flex items-center justify-center h-40 text-slate-400",children:"Loading..."}):r.length===0?t.jsxs("div",{className:"text-center py-12 px-4",children:[t.jsx(mu,{className:"w-12 h-12 mx-auto mb-3 text-slate-200"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"No conversations yet"}),t.jsx("button",{onClick:()=>w(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Start a Chat"})]}):r.map(pe=>{var re;return t.jsx("div",{onClick:()=>ue(pe),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${(u==null?void 0:u.id)===pe.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:(re=pe.otherMember)!=null&&re.avatar?t.jsx("img",{src:pe.otherMember.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Jo,{className:"w-6 h-6 text-slate-400"})}),pe.unreadCount>0&&t.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-600 text-white text-xs rounded-full flex items-center justify-center",children:pe.unreadCount>9?"9+":pe.unreadCount})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:`font-medium truncate ${pe.unreadCount>0?"text-slate-900":"text-slate-700"}`,children:pe.name}),pe.lastMessageAt&&t.jsx("span",{className:"text-xs text-slate-400",children:oe(pe.lastMessageAt)})]}),pe.lastMessagePreview&&t.jsx("p",{className:`text-sm truncate mt-0.5 ${pe.unreadCount>0?"text-slate-600 font-medium":"text-slate-400"}`,children:pe.lastMessagePreview})]})]})},pe.id)})})]}),t.jsx("div",{className:`${u?"flex":"hidden md:flex"} flex-1 flex-col`,children:u?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center gap-3",children:[t.jsx("button",{onClick:()=>d(null),className:"md:hidden p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(rA,{className:"w-5 h-5"})}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:(Ae=u.otherMember)!=null&&Ae.avatar?t.jsx("img",{src:u.otherMember.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Jo,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-800",children:u.name}),t.jsx("p",{className:"text-xs text-slate-400",children:(se=u.otherMember)==null?void 0:se.role})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-slate-50",children:[A.map(pe=>{var re,Ee,De,Se,he;return t.jsx("div",{className:`flex ${pe.senderId===((re=u.otherMember)==null?void 0:re.id)?"justify-start":"justify-end"}`,children:t.jsxs("div",{className:`flex items-end gap-2 max-w-[75%] ${pe.senderId!==((Ee=u.otherMember)==null?void 0:Ee.id)?"flex-row-reverse":""}`,children:[pe.senderId===((De=u.otherMember)==null?void 0:De.id)&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 overflow-hidden shrink-0",children:pe.senderAvatar?t.jsx("img",{src:pe.senderAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Jo,{className:"w-4 h-4 text-slate-400"})})}),t.jsxs("div",{children:[t.jsx("div",{className:`px-4 py-2.5 rounded-2xl ${pe.senderId===((Se=u.otherMember)==null?void 0:Se.id)?"bg-white border border-slate-200 rounded-bl-md":"bg-blue-600 text-white rounded-br-md"}`,children:t.jsx("p",{className:"text-sm",children:pe.content})}),t.jsx("p",{className:`text-xs text-slate-400 mt-1 ${pe.senderId!==((he=u.otherMember)==null?void 0:he.id)?"text-right":""}`,children:oe(pe.createdAt)})]})]})},pe.id)}),P&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white border border-slate-200 px-4 py-2.5 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[P," is typing..."]})]})})}),t.jsx("div",{ref:X})]}),t.jsx("div",{className:"p-4 border-t border-slate-100",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:Y,type:"text",value:f,onChange:Ce,onKeyDown:pe=>pe.key==="Enter"&&!pe.shiftKey&&le(),placeholder:e?"Type a message...":"Connecting...",disabled:!e,className:"flex-1 px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:le,disabled:!f.trim()||!e,className:"px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:t.jsx(Sh,{className:"w-5 h-5"})})]})})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mu,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a conversation or start a new chat"})]})})}),b&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"New Conversation"}),t.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-4 border-b border-slate-100",children:t.jsxs("div",{className:"relative",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search admins...",value:y,onChange:pe=>E(pe.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),t.jsx("div",{className:"max-h-80 overflow-y-auto",children:Ne.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-400",children:[t.jsx(Jo,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No admins found"})]}):Ne.map(pe=>t.jsx("div",{onClick:()=>ve(pe),className:"p-4 hover:bg-slate-50 cursor-pointer transition-colors border-b border-slate-100 last:border-0",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:pe.avatar?t.jsx("img",{src:pe.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Jo,{className:"w-6 h-6 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-slate-800",children:pe.name}),t.jsx("p",{className:"text-sm text-slate-500",children:pe.email}),t.jsx("span",{className:"text-xs text-slate-400",children:pe.role})]})]})},pe.id))})]})})]})},Pj={code:"",name:"",description:"",voucherType:"discount",discountType:"percentage",discountValue:10,minAmount:0,maxDiscount:null,activationDays:30,activationPlanId:null,maxUses:100,maxUsesPerUser:1,applicablePlans:[],validFrom:"",validUntil:"",status:"active"},jK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState([]),[a,l]=W.useState(!0),[u,d]=W.useState(!1),[A,o]=W.useState(null),[f,p]=W.useState(Pj),[m,x]=W.useState(""),[b,w]=W.useState(!1),[y,E]=W.useState("all"),[P,z]=W.useState("all"),[X,Y]=W.useState(""),[Q,K]=W.useState(!1),[de,ue]=W.useState(null),[ve,le]=W.useState([]),[Ce,oe]=W.useState(!1);W.useEffect(()=>{Ae(),Ne()},[y,P]);const Ne=async()=>{try{const ge=await(await fetch(`${It}/api/admin-subscription/plans?include_inactive=true`,{credentials:"include"})).json();n(ge.plans||[])}catch(te){console.error("Error fetching plans:",te)}},Ae=async()=>{l(!0);try{let te=`${It}/api/admin-subscription/vouchers`;const ge=new URLSearchParams;y!=="all"&&ge.append("status",y),P!=="all"&&ge.append("type",P),ge.toString()&&(te+=`?${ge.toString()}`);const Ve=await(await fetch(te,{credentials:"include"})).json();e(Ve.vouchers||[])}catch(te){console.error("Error fetching vouchers:",te)}finally{l(!1)}},se=async te=>{oe(!0);try{const Ue=await(await fetch(`${It}/api/admin-subscription/vouchers/${te}/usages`,{credentials:"include"})).json();le(Ue.usages||[])}catch(ge){console.error("Error fetching usages:",ge)}finally{oe(!1)}},pe=te=>{var ge,Ue;te?(o(te),p({code:te.code,name:te.name||"",description:te.description||"",voucherType:te.voucherType,discountType:te.discountType||"percentage",discountValue:te.discountValue||10,minAmount:te.minAmount||0,maxDiscount:te.maxDiscount,activationDays:te.activationDays||30,activationPlanId:te.activationPlanId,maxUses:te.maxUses,maxUsesPerUser:te.maxUsesPerUser,applicablePlans:te.applicablePlans||[],validFrom:((ge=te.validFrom)==null?void 0:ge.split(" ")[0])||"",validUntil:((Ue=te.validUntil)==null?void 0:Ue.split(" ")[0])||"",status:te.status})):(o(null),p(Pj)),x(""),d(!0)},re=()=>{d(!1),o(null),x("")},Ee=async()=>{if(!f.code.trim()){x("Voucher code is required");return}if(f.voucherType==="discount"&&(!f.discountValue||f.discountValue<=0)){x("Discount value must be greater than 0");return}w(!0),x("");try{const te=A?`${It}/api/admin-subscription/vouchers/${A.id}`:`${It}/api/admin-subscription/vouchers`,Ue=await fetch(te,{method:A?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:f.code.toUpperCase().trim(),name:f.name,description:f.description,voucherType:f.voucherType,discountType:f.discountType,discountValue:f.discountValue,minAmount:f.minAmount,maxDiscount:f.maxDiscount,activationDays:f.voucherType==="activation"?f.activationDays:null,activationPlanId:f.voucherType==="activation"?f.activationPlanId:null,maxUses:f.maxUses,maxUsesPerUser:f.maxUsesPerUser,applicablePlans:f.applicablePlans,validFrom:f.validFrom||null,validUntil:f.validUntil||null,status:f.status})}),Ve=await Ue.json();Ue.ok?(Ae(),re()):x(Ve.error||"Failed to save voucher")}catch{x("Failed to save voucher")}finally{w(!1)}},De=async te=>{try{await fetch(`${It}/api/admin-subscription/vouchers/${te}/toggle-status`,{method:"POST",credentials:"include"}),Ae()}catch(ge){console.error("Error toggling status:",ge)}},Se=te=>{ue(te.id),K(!0),se(te.id)},he=s.filter(te=>{var ge;if(X){const Ue=X.toLowerCase();return te.code.toLowerCase().includes(Ue)||((ge=te.name)==null?void 0:ge.toLowerCase().includes(Ue))}return!0}),be=te=>te==="discount"?t.jsx(Bw,{className:"w-5 h-5 text-green-500"}):t.jsx(Nw,{className:"w-5 h-5 text-purple-500"}),fe=te=>{const ge={active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",inactive:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",exhausted:"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"};return ge[te]||ge.inactive};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Voucher Management"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Create and manage discount codes and activation codes"})]}),t.jsxs("button",{onClick:()=>pe(),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors",children:[t.jsx($i,{size:18})," Create Voucher"]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search by code or name...",value:X,onChange:te=>Y(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("select",{value:P,onChange:te=>z(te.target.value),className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"discount",children:"Discount"}),t.jsx("option",{value:"activation",children:"Activation"})]}),t.jsxs("select",{value:y,onChange:te=>E(te.target.value),className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"exhausted",children:"Exhausted"})]})]}),a?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-amber-500"})}):he.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-500",children:[t.jsx(xf,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No vouchers found"})]}):t.jsx("div",{className:"grid gap-4",children:he.map(te=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[be(te.voucherType),t.jsx("span",{className:"font-mono font-bold text-lg text-slate-900 dark:text-white",children:te.code}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${fe(te.status)}`,children:te.status}),!te.isValid&&te.status==="active"&&t.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded-full text-xs",children:"Expired"})]}),te.name&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:te.name}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-500 dark:text-slate-400",children:[te.voucherType==="discount"?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Wm,{size:14}),te.discountType==="percentage"?`${te.discountValue}% off`:`RM${te.discountValue} off`]}):t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{size:14}),te.activationDays?`${te.activationDays} days`:"Lifetime"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Md,{size:14}),te.currentUses,"/",te.maxUses," used"]}),te.validUntil&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Co,{size:14}),"Until ",te.validUntil.split(" ")[0]]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Se(te),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Usages",children:t.jsx(io,{size:18})}),t.jsx("button",{onClick:()=>pe(te),className:"p-2 text-slate-500 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit",children:t.jsx(xp,{size:18})}),t.jsx("button",{onClick:()=>De(te.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${te.status==="active"?"bg-red-100 text-red-600 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400":"bg-green-100 text-green-600 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-400"}`,children:te.status==="active"?"Deactivate":"Activate"})]})]})},te.id))}),u&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 w-full max-w-lg my-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:A?"Edit Voucher":"Create Voucher"}),t.jsx("button",{onClick:re,className:"text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:20})})]}),m&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[t.jsx(Da,{size:16}),m]}),t.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Voucher Code *"}),t.jsx("input",{type:"text",value:f.code,onChange:te=>p({...f,code:te.target.value.toUpperCase()}),placeholder:"e.g., SAVE20",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg font-mono uppercase",disabled:!!A})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Display Name"}),t.jsx("input",{type:"text",value:f.name,onChange:te=>p({...f,name:te.target.value}),placeholder:"e.g., New Year Promotion",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Voucher Type *"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>p({...f,voucherType:"discount"}),className:`p-3 rounded-lg border-2 flex items-center gap-2 transition-colors ${f.voucherType==="discount"?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(Bw,{size:18,className:f.voucherType==="discount"?"text-green-500":"text-slate-400"}),t.jsx("span",{className:"font-medium",children:"Discount"})]}),t.jsxs("button",{type:"button",onClick:()=>p({...f,voucherType:"activation"}),className:`p-3 rounded-lg border-2 flex items-center gap-2 transition-colors ${f.voucherType==="activation"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(Nw,{size:18,className:f.voucherType==="activation"?"text-purple-500":"text-slate-400"}),t.jsx("span",{className:"font-medium",children:"Activation"})]})]})]}),f.voucherType==="discount"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Discount Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("button",{type:"button",onClick:()=>p({...f,discountType:"percentage"}),className:`p-2 rounded-lg border text-center transition-colors ${f.discountType==="percentage"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:"Percentage (%)"}),t.jsx("button",{type:"button",onClick:()=>p({...f,discountType:"fixed"}),className:`p-2 rounded-lg border text-center transition-colors ${f.discountType==="fixed"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:"Fixed (RM)"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Discount Value *"}),t.jsx("input",{type:"number",value:f.discountValue,onChange:te=>p({...f,discountValue:parseFloat(te.target.value)||0}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Min Amount (RM)"}),t.jsx("input",{type:"number",value:f.minAmount,onChange:te=>p({...f,minAmount:parseFloat(te.target.value)||0}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),f.discountType==="percentage"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Max Discount (RM) - Optional"}),t.jsx("input",{type:"number",value:f.maxDiscount||"",onChange:te=>p({...f,maxDiscount:te.target.value?parseFloat(te.target.value):null}),placeholder:"No limit",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),f.voucherType==="activation"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Activation Days (leave empty for lifetime)"}),t.jsx("input",{type:"number",value:f.activationDays||"",onChange:te=>p({...f,activationDays:te.target.value?parseInt(te.target.value):null}),placeholder:"e.g., 30 (or leave empty for lifetime)",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Total Uses"}),t.jsx("input",{type:"number",value:f.maxUses,onChange:te=>p({...f,maxUses:parseInt(te.target.value)||1}),min:"1",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Per User Limit"}),t.jsx("input",{type:"number",value:f.maxUsesPerUser,onChange:te=>p({...f,maxUsesPerUser:parseInt(te.target.value)||1}),min:"1",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Valid From"}),t.jsx("input",{type:"date",value:f.validFrom,onChange:te=>p({...f,validFrom:te.target.value}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Valid Until"}),t.jsx("input",{type:"date",value:f.validUntil,onChange:te=>p({...f,validUntil:te.target.value}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description"}),t.jsx("textarea",{value:f.description,onChange:te=>p({...f,description:te.target.value}),placeholder:"Internal notes or description...",rows:2,className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg resize-none"})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:[t.jsx("button",{onClick:re,className:"flex-1 py-2.5 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ee,disabled:b,className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:b?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):A?"Update Voucher":"Create Voucher"})]})]})}),Q&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 w-full max-w-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Usage History"}),t.jsx("button",{onClick:()=>K(!1),className:"text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:20})})]}),Ce?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(Lr,{className:"w-6 h-6 animate-spin text-amber-500"})}):ve.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Md,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No usage history yet"})]}):t.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:ve.map(te=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:te.userName||te.userEmail||`User #${te.userId}`}),t.jsx("p",{className:"text-xs text-slate-500",children:te.createdAt})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:`text-xs px-2 py-1 rounded ${te.usageType==="activation"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:te.usageType}),te.discountAmount>0&&t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["-RM ",te.discountAmount.toFixed(2)]})]})]},te.id))})]})})]})},Rj={name:"",slug:"",description:"",price:0,currency:"MYR",durationDays:30,durationType:"days",status:"active",isFeatured:!1,sortOrder:0},NK=s=>s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),kK=(s,e)=>s===null?"Lifetime":e==="months"||s===30?s===30?"1 Month":`${Math.round(s/30)} Months`:e==="years"||s===365?s===365?"1 Year":`${Math.round(s/365)} Years`:`${s} Days`,CK=(s,e="MYR")=>`${e} ${s.toFixed(2)}`,Qj=[{label:"7 Days",days:7,type:"days"},{label:"14 Days",days:14,type:"days"},{label:"1 Month",days:30,type:"months"},{label:"3 Months",days:90,type:"months"},{label:"6 Months",days:180,type:"months"},{label:"1 Year",days:365,type:"years"},{label:"Lifetime",days:null,type:"lifetime"}],BK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(!1),[u,d]=W.useState(!0),[A,o]=W.useState(""),[f,p]=W.useState(!1),[m,x]=W.useState(null),[b,w]=W.useState(Rj),[y,E]=W.useState(!1),[P,z]=W.useState(""),[X,Y]=W.useState(null),Q=async(re=!0)=>{re?n(!0):l(!0);try{const De=await(await fetch(`${It}/api/admin-subscription/plans?include_inactive=${u}`,{credentials:"include"})).json();De.plans&&e(De.plans)}catch(Ee){console.error("Error fetching plans:",Ee),K("error","Failed to load plans")}finally{n(!1),l(!1)}};W.useEffect(()=>{Q()},[u]);const K=(re,Ee)=>{Y({type:re,text:Ee}),setTimeout(()=>Y(null),3e3)},de=re=>{re?(x(re),w({name:re.name,slug:re.slug,description:re.description||"",price:re.price,currency:re.currency,durationDays:re.durationDays,durationType:re.durationType,status:re.status,isFeatured:re.isFeatured,sortOrder:re.sortOrder})):(x(null),w({...Rj,sortOrder:s.length})),z(""),p(!0)},ue=()=>{p(!1),x(null),z("")},ve=re=>{w(Ee=>({...Ee,name:re,slug:m?Ee.slug:NK(re)}))},le=re=>{w(Ee=>({...Ee,durationDays:re.days,durationType:re.type}))},Ce=async()=>{if(!b.name.trim()){z("Plan name is required");return}if(!b.slug.trim()){z("Plan slug is required");return}if(b.price<0){z("Price must be 0 or greater");return}E(!0),z("");try{const re=m?`${It}/api/admin-subscription/plans/${m.id}`:`${It}/api/admin-subscription/plans`,De=await fetch(re,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(b)}),Se=await De.json();De.ok&&Se.success?(K("success",m?"Plan updated successfully":"Plan created successfully"),Q(!1),ue()):z(Se.error||"Failed to save plan")}catch{z("Network error occurred")}finally{E(!1)}},oe=async re=>{try{const Ee=await fetch(`${It}/api/admin-subscription/plans/${re}/toggle-status`,{method:"POST",credentials:"include"}),De=await Ee.json();Ee.ok&&De.success?(K("success",De.message||"Status updated"),Q(!1)):K("error",De.error||"Failed to update status")}catch{K("error","Network error occurred")}},Ne=async re=>{try{(await fetch(`${It}/api/admin-subscription/plans/${re.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isFeatured:!re.isFeatured})})).ok&&(K("success",re.isFeatured?"Removed from featured":"Marked as featured"),Q(!1))}catch{K("error","Failed to update")}},Ae=async(re,Ee)=>{try{await fetch(`${It}/api/admin-subscription/plans/${re}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({sortOrder:Ee})}),Q(!1)}catch{console.error("Failed to update sort order")}},se=s.filter(re=>{if(!A)return!0;const Ee=A.toLowerCase();return re.name.toLowerCase().includes(Ee)||re.slug.toLowerCase().includes(Ee)}).sort((re,Ee)=>re.sortOrder-Ee.sortOrder),pe={total:s.length,active:s.filter(re=>re.status==="active").length,inactive:s.filter(re=>re.status==="inactive").length,featured:s.filter(re=>re.isFeatured).length};return t.jsxs("div",{className:"space-y-6",children:[X&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-top ${X.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[X.type==="success"?t.jsx(Bo,{size:18}):t.jsx(Da,{size:18}),X.text]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(ab,{className:"w-6 h-6 text-amber-500"}),"Subscription Plans"]}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Manage your subscription plans and pricing"})]}),t.jsxs("button",{onClick:()=>de(),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors shadow-lg shadow-amber-500/20",children:[t.jsx($i,{size:18})," Create Plan"]})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:t.jsx(ab,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:pe.total}),t.jsx("p",{className:"text-xs text-slate-500",children:"Total Plans"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:t.jsx(io,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:pe.active}),t.jsx("p",{className:"text-xs text-slate-500",children:"Active"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:t.jsx(Zu,{className:"w-5 h-5 text-gray-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-500",children:pe.inactive}),t.jsx("p",{className:"text-xs text-slate-500",children:"Inactive"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center",children:t.jsx(tA,{className:"w-5 h-5 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:pe.featured}),t.jsx("p",{className:"text-xs text-slate-500",children:"Featured"})]})]})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search plans...",value:A,onChange:re=>o(re.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:re=>d(re.target.checked),className:"rounded border-slate-300"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Show Inactive"})]}),t.jsx("button",{onClick:()=>Q(!1),disabled:a,className:"p-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700",children:t.jsx(cd,{className:`w-5 h-5 text-slate-500 ${a?"animate-spin":""}`})})]}),r?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-amber-500"})}):se.length===0?t.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[t.jsx(ab,{className:"w-12 h-12 mx-auto mb-3 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:A?"No plans found":"No subscription plans yet"}),t.jsx("button",{onClick:()=>de(),className:"mt-4 px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600",children:"Create First Plan"})]}):t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700",children:[t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Order"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Plan"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Price"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Duration"}),t.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Featured"}),t.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:se.map((re,Ee)=>t.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-900/30 transition-colors ${re.status==="inactive"?"opacity-60":""}`,children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>Ee>0&&Ae(re.id,re.sortOrder-1),disabled:Ee===0,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded disabled:opacity-30",children:t.jsx(jm,{size:14})}),t.jsx("span",{className:"text-sm text-slate-500 w-6 text-center",children:re.sortOrder}),t.jsx("button",{onClick:()=>Ee<se.length-1&&Ae(re.id,re.sortOrder+1),disabled:Ee===se.length-1,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded disabled:opacity-30",children:t.jsx(wm,{size:14})})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:re.name}),t.jsx("p",{className:"text-xs text-slate-500 font-mono",children:re.slug})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:CK(re.price,re.currency)})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[re.isLifetime?t.jsx(v3,{className:"w-4 h-4 text-amber-500"}):t.jsx(Vi,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:kK(re.durationDays,re.durationType)})]})}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsx("button",{onClick:()=>oe(re.id),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium transition-colors ${re.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 hover:bg-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-200"}`,children:re.status==="active"?t.jsxs(t.Fragment,{children:[t.jsx(io,{size:12})," Active"]}):t.jsxs(t.Fragment,{children:[t.jsx(Zu,{size:12})," Inactive"]})})}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsx("button",{onClick:()=>Ne(re),className:`p-2 rounded-lg transition-colors ${re.isFeatured?"text-amber-500 bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100":"text-slate-400 hover:text-amber-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:re.isFeatured?t.jsx(tA,{size:18,fill:"currentColor"}):t.jsx(JE,{size:18})})}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsxs("button",{onClick:()=>de(re),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-amber-600 hover:text-amber-700 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded-lg transition-colors",children:[t.jsx(xp,{size:14}),"Edit"]})})]},re.id))})]})})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between sticky top-0 bg-white dark:bg-slate-900",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:m?"Edit Plan":"Create New Plan"}),t.jsx("button",{onClick:ue,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(qr,{size:20})})]}),t.jsxs("div",{className:"p-6 space-y-5",children:[P&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[t.jsx(Da,{size:16}),P]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Plan Name *"}),t.jsx("input",{type:"text",value:b.name,onChange:re=>ve(re.target.value),placeholder:"e.g., Monthly Premium",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Slug *"}),t.jsx("input",{type:"text",value:b.slug,onChange:re=>w({...b,slug:re.target.value}),placeholder:"e.g., monthly",disabled:!!m,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent font-mono text-sm disabled:opacity-50 disabled:cursor-not-allowed"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"URL-friendly identifier. Cannot be changed after creation."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Price (MYR) *"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:"RM"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:b.price,onChange:re=>w({...b,price:parseFloat(re.target.value)||0}),className:"w-full pl-14 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Duration"}),t.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:Qj.slice(0,4).map(re=>t.jsx("button",{type:"button",onClick:()=>le(re),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${b.durationDays===re.days?"border-amber-500 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:re.label},re.label))}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:Qj.slice(4).map(re=>t.jsx("button",{type:"button",onClick:()=>le(re),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${b.durationDays===re.days?"border-amber-500 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:re.label},re.label))}),b.durationDays!==null&&t.jsxs("div",{className:"mt-3",children:[t.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Custom Days"}),t.jsx("input",{type:"number",min:"1",value:b.durationDays||"",onChange:re=>w({...b,durationDays:parseInt(re.target.value)||null,durationType:"days"}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Description"}),t.jsx("textarea",{value:b.description,onChange:re=>w({...b,description:re.target.value}),placeholder:"Brief description of this plan...",rows:3,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Status"}),t.jsxs("select",{value:b.status,onChange:re=>w({...b,status:re.target.value}),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Sort Order"}),t.jsx("input",{type:"number",min:"0",value:b.sortOrder,onChange:re=>w({...b,sortOrder:parseInt(re.target.value)||0}),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:b.isFeatured,onChange:re=>w({...b,isFeatured:re.target.checked}),className:"w-5 h-5 rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(tA,{size:16,className:"text-amber-500"}),"Mark as Featured"]}),t.jsx("p",{className:"text-xs text-slate-500",children:"Featured plans are highlighted to users"})]})]})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-800 flex gap-3",children:[t.jsx("button",{onClick:ue,className:"flex-1 py-2.5 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ce,disabled:y,className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:y?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(QA,{size:16}),m?"Update Plan":"Create Plan"]})})]})]})})]})};async function SK(){try{const s=await fetch(`${It}/check_login_status`,{credentials:"include"});if(!s.ok)return null;const e=await s.json();if(!e.logged_in)return null;const r=e.user;return{id:r.id,name:r.full_name||r.name||r.email||"Admin",email:r.email||"",role:e.role||r.role||"admin"}}catch{return null}}async function EK(s){const e=new URLSearchParams;s.type&&s.type!=="all"&&e.set("type",s.type),s.status&&s.status!=="all"&&e.set("status",s.status),s.page&&e.set("page",s.page.toString()),s.limit&&e.set("limit",s.limit.toString()),s.assignedTo&&e.set("assigned_to",s.assignedTo.toString());const r=await fetch(`${It}/api/admin/inquiries?${e}`,{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch inquiries");return r.json()}async function TK(s){const e=await fetch(`${It}/api/admin/inquiries/${s}`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch inquiry");return(await e.json()).data}async function LK(s,e){const r=await fetch(`${It}/api/admin/inquiries/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!r.ok){const a=await r.json().catch(()=>({}));throw new Error(a.error||"Failed to update inquiry")}return(await r.json()).data}async function FK(){const s=await fetch(`${It}/api/admin/inquiries/stats`,{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch stats");return(await s.json()).data}async function UK(){try{const s=await fetch(`${It}/api/admin/users/admins`,{credentials:"include"});return s.ok?(await s.json()).data||[]:[]}catch{return[]}}const IC=({status:s})=>{const e={pending:{bg:"bg-amber-50",text:"text-amber-700",icon:t.jsx(Vi,{className:"w-3 h-3"})},in_progress:{bg:"bg-blue-50",text:"text-blue-700",icon:t.jsx(Lr,{className:"w-3 h-3"})},resolved:{bg:"bg-green-50",text:"text-green-700",icon:t.jsx(uo,{className:"w-3 h-3"})},closed:{bg:"bg-slate-100",text:"text-slate-600",icon:t.jsx(qr,{className:"w-3 h-3"})}},{bg:r,text:n,icon:a}=e[s]||e.pending;return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${r} ${n}`,children:[a,s.replace("_"," ").replace(/\b\w/g,l=>l.toUpperCase())]})},MK=({priority:s})=>{const e={low:{bg:"bg-slate-100",text:"text-slate-600"},normal:{bg:"bg-blue-50",text:"text-blue-600"},high:{bg:"bg-red-50",text:"text-red-600"}},{bg:r,text:n}=e[s]||e.normal;return t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${r} ${n}`,children:s.charAt(0).toUpperCase()+s.slice(1)})},DC=({type:s})=>{const e=s==="contact";return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium ${e?"bg-purple-50 text-purple-700":"bg-emerald-50 text-emerald-700"}`,children:[e?t.jsx(Mh,{className:"w-3 h-3"}):t.jsx(ny,{className:"w-3 h-3"}),e?"Contact":"Merchant"]})},OK=({stats:s,loading:e})=>{var n,a;if(e||!s)return t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(l=>t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 animate-pulse",children:[t.jsx("div",{className:"h-4 bg-slate-200 rounded w-20 mb-2"}),t.jsx("div",{className:"h-8 bg-slate-200 rounded w-12"})]},l))});const r=[{label:"Total Inquiries",value:s.total,icon:f0,color:"text-slate-600",bg:"bg-slate-50"},{label:"Pending",value:s.pending,icon:Vi,color:"text-amber-600",bg:"bg-amber-50"},{label:"Contact",value:((n=s.byType)==null?void 0:n.contact)||0,icon:Mh,color:"text-purple-600",bg:"bg-purple-50"},{label:"Merchant",value:((a=s.byType)==null?void 0:a.merchant)||0,icon:ny,color:"text-emerald-600",bg:"bg-emerald-50"}];return t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:r.map((l,u)=>t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-slate-500",children:l.label}),t.jsx("div",{className:`w-8 h-8 rounded-lg ${l.bg} flex items-center justify-center`,children:t.jsx(l.icon,{className:`w-4 h-4 ${l.color}`})})]}),t.jsx("div",{className:"text-2xl font-bold text-slate-800",children:l.value})]},u))})},IK=({inquiry:s,isOpen:e,onClose:r,onUpdate:n,admins:a,currentUser:l})=>{const[u,d]=W.useState(!1),[A,o]=W.useState({status:"",priority:"",assignedAdminId:"",adminNotes:""}),[f,p]=W.useState(!1),[m,x]=W.useState(null),b=Wv(l.role),w=b||(s==null?void 0:s.assignedAdminId)===l.id;W.useEffect(()=>{var z;s&&(o({status:s.status,priority:s.priority,assignedAdminId:((z=s.assignedAdminId)==null?void 0:z.toString())||"",adminNotes:s.adminNotes||""}),d(!1),x(null))},[s]);const y=async()=>{if(s){x(null),p(!0);try{const z={status:A.status,priority:A.priority,adminNotes:A.adminNotes};b&&(z.assignedAdminId=A.assignedAdminId?parseInt(A.assignedAdminId):null),await n(s.id,z),d(!1)}catch(z){x(z.message||"Failed to update inquiry")}finally{p(!1)}}};if(!e||!s)return null;const E=s.assignedAdminId===l.id,P=!s.assignedAdminId;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:r}),t.jsxs("div",{className:"fixed right-0 top-0 h-full w-full max-w-xl bg-white shadow-2xl z-50 overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(DC,{type:s.inquiryType}),t.jsxs("span",{className:"text-slate-400",children:["#",s.id]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[!b&&!E&&!P&&t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[t.jsx(Ld,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-amber-800",children:"View Only"}),t.jsx("p",{className:"text-sm text-amber-700",children:"This inquiry is assigned to another admin."})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Contact Information"}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Jo,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"font-medium text-slate-800",children:s.name})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Xd,{className:"w-4 h-4 text-slate-400"}),t.jsx("a",{href:`mailto:${s.email}`,className:"text-blue-600 hover:underline",children:s.email})]}),s.businessName&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(o5,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-slate-700",children:s.businessName})]}),s.subject&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Wm,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-slate-700",children:s.subject})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Message"}),t.jsx("div",{className:"bg-slate-50 rounded-xl p-4",children:t.jsx("p",{className:"text-slate-700 whitespace-pre-wrap leading-relaxed",children:s.message})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Status & Assignment"}),!u&&w&&t.jsx("button",{onClick:()=>d(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Edit"})]}),m&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:m}),u?t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:A.status,onChange:z=>o({...A,status:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"closed",children:"Closed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Priority"}),t.jsxs("select",{value:A.priority,onChange:z=>o({...A,priority:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"normal",children:"Normal"}),t.jsx("option",{value:"high",children:"High"})]})]}),b?t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t.jsxs("span",{className:"flex items-center gap-2",children:["Assigned Admin",t.jsx(Wd,{className:"w-3 h-3 text-purple-500"})]})}),t.jsxs("select",{value:A.assignedAdminId,onChange:z=>o({...A,assignedAdminId:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"",children:"Unassigned"}),a.map(z=>t.jsxs("option",{value:z.id,children:[z.name," (",z.email,")"]},z.id))]})]}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t.jsxs("span",{className:"flex items-center gap-2",children:["Assigned Admin",t.jsx(Ld,{className:"w-3 h-3 text-slate-400"})]})}),t.jsxs("div",{className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-slate-100 text-slate-600",children:[s.assignedAdminName||"Unassigned",t.jsx("span",{className:"text-xs text-slate-400 ml-2",children:"(Super Admin only)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Admin Notes"}),t.jsx("textarea",{value:A.adminNotes,onChange:z=>o({...A,adminNotes:z.target.value}),rows:3,placeholder:"Internal notes...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white"})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs("button",{onClick:y,disabled:f,className:"flex-1 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[f?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(uo,{className:"w-4 h-4"}),"Save Changes"]}),t.jsx("button",{onClick:()=>{d(!1),x(null)},className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 font-medium rounded-lg hover:bg-slate-50",children:"Cancel"})]})]}):t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Status"}),t.jsx(IC,{status:s.status})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Priority"}),t.jsx(MK,{priority:s.priority})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Assigned To"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[s.assignedAdminName||"Unassigned",E&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"You"})]})]}),s.adminNotes&&t.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[t.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-1 mb-1",children:[t.jsx(g5,{className:"w-3 h-3"})," Admin Notes"]}),t.jsx("p",{className:"text-sm text-slate-600",children:s.adminNotes})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Timeline"}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-slate-500 flex items-center gap-2",children:[t.jsx(Co,{className:"w-3 h-3"})," Created"]}),t.jsx("span",{className:"text-slate-700",children:new Date(s.createdAt).toLocaleString()})]}),s.resolvedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-slate-500 flex items-center gap-2",children:[t.jsx(uo,{className:"w-3 h-3 text-green-500"})," Resolved"]}),t.jsx("span",{className:"text-green-600 font-medium",children:new Date(s.resolvedAt).toLocaleString()})]})]})]})]}),t.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:t.jsxs("a",{href:`mailto:${s.email}?subject=Re: ${s.subject||"Your Inquiry"}`,className:"w-full px-4 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 flex items-center justify-center gap-2",children:[t.jsx(Xd,{className:"w-4 h-4"}),"Reply via Email",t.jsx(eS,{className:"w-4 h-4"})]})})]})]})},DK=()=>{const[s,e]=W.useState(null),[r,n]=W.useState(!0),[a,l]=W.useState("all"),[u,d]=W.useState("all"),[A,o]=W.useState("all"),[f,p]=W.useState(""),[m,x]=W.useState([]),[b,w]=W.useState(null),[y,E]=W.useState([]),[P,z]=W.useState(!0),[X,Y]=W.useState(!0),[Q,K]=W.useState(null),[de,ue]=W.useState(!1),[ve,le]=W.useState(1),[Ce,oe]=W.useState(null),Ne=s?Wv(s.role):!1,Ae=s?Wv(s.role):!1;W.useEffect(()=>{(async()=>{n(!0);const fe=await SK();e(fe),n(!1)})()},[]);const se=async()=>{if(s){z(!0);try{let be;(!Ne&&A==="all"||A==="mine")&&(be=s.id);const fe=await EK({type:a,status:u,page:ve,limit:20,assignedTo:be});x(fe.data||[]),oe(fe.pagination)}catch(be){console.error("Failed to load inquiries:",be)}finally{z(!1)}}},pe=async()=>{Y(!0);try{const be=await FK();w(be)}catch(be){console.error("Failed to load stats:",be)}finally{Y(!1)}},re=async()=>{if(Ae){const be=await UK();E(be)}};W.useEffect(()=>{s&&se()},[s,a,u,A,ve]),W.useEffect(()=>{s&&(pe(),re())},[s]);const Ee=async be=>{try{const fe=await TK(be.id);K(fe),ue(!0)}catch(fe){console.error("Failed to load inquiry detail:",fe)}},De=async(be,fe)=>{const te=await LK(be,fe);K(te),se(),pe()},Se=()=>{se(),pe()},he=m.filter(be=>{var te,ge;if(!f)return!0;const fe=f.toLowerCase();return be.name.toLowerCase().includes(fe)||be.email.toLowerCase().includes(fe)||((te=be.businessName)==null?void 0:te.toLowerCase().includes(fe))||((ge=be.subject)==null?void 0:ge.toLowerCase().includes(fe))||be.message.toLowerCase().includes(fe)});return r?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Lr,{className:"w-8 h-8 text-blue-600 animate-spin"})}):s?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:["Inquiry Management",Ae&&t.jsxs("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs font-medium rounded-full flex items-center gap-1",children:[t.jsx(Wd,{className:"w-3 h-3"})," Super Admin"]})]}),t.jsx("p",{className:"text-slate-500 text-sm mt-1",children:Ne?"Manage contact and merchant partnership inquiries":"View and handle inquiries assigned to you"})]}),t.jsxs("button",{onClick:Se,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-600",children:[t.jsx(cd,{className:"w-4 h-4"}),"Refresh"]})]}),t.jsx(OK,{stats:b,loading:X}),t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[t.jsx("div",{className:"flex border-b border-slate-200",children:[{id:"all",label:"All Inquiries",icon:f0},{id:"contact",label:"Contact",icon:Mh},{id:"merchant",label:"Merchant",icon:ny}].map(be=>{var fe;return t.jsxs("button",{onClick:()=>{l(be.id),le(1)},className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 -mb-px ${a===be.id?"border-blue-600 text-blue-600 bg-blue-50/50":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[t.jsx(be.icon,{className:"w-4 h-4"}),be.label,be.id!=="all"&&b&&t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${a===be.id?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600"}`,children:((fe=b.byType)==null?void 0:fe[be.id])||0})]},be.id)})}),t.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search by name, email, or message...",value:f,onChange:be=>p(be.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg"})]}),Ne&&t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:A,onChange:be=>{o(be.target.value),le(1)},className:"appearance-none px-4 py-2 pr-10 border border-slate-200 rounded-lg bg-white text-slate-600",children:[t.jsx("option",{value:"all",children:"All Assignments"}),t.jsx("option",{value:"mine",children:"Assigned to Me"}),t.jsx("option",{value:"unassigned",children:"Unassigned"})]}),t.jsx(np,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:u,onChange:be=>{d(be.target.value),le(1)},className:"appearance-none px-4 py-2 pr-10 border border-slate-200 rounded-lg bg-white text-slate-600",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"closed",children:"Closed"})]}),t.jsx(np,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:P?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(Lr,{className:"w-8 h-8 text-blue-600 animate-spin"})}):he.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500",children:[t.jsx(f0,{className:"w-12 h-12 text-slate-300 mb-3"}),t.jsx("p",{className:"font-medium",children:"No inquiries found"}),t.jsx("p",{className:"text-sm",children:Ne?"Try adjusting your filters":"No inquiries are assigned to you yet"})]}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Type"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Contact"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Subject / Business"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Status"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Assigned"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Created"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:he.map(be=>{const fe=be.assignedAdminId===s.id;return t.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>Ee(be),children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx(DC,{type:be.inquiryType})}),t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium text-slate-800",children:be.name}),t.jsx("div",{className:"text-sm text-slate-500",children:be.email})]}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"max-w-xs truncate text-slate-600",children:be.inquiryType==="merchant"?be.businessName:be.subject||"-"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(IC,{status:be.status})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:"text-sm text-slate-600 flex items-center gap-1",children:[be.assignedAdminName||t.jsx("span",{className:"text-slate-400 italic",children:"Unassigned"}),fe&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded ml-1",children:"You"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-sm text-slate-500",children:new Date(be.createdAt).toLocaleDateString()})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("button",{onClick:te=>{te.stopPropagation(),Ee(be)},className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(io,{className:"w-4 h-4 text-slate-400"})})})]},be.id)})})]})}),Ce&&Ce.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("span",{className:"text-sm text-slate-500",children:["Showing ",(ve-1)*20+1," - ",Math.min(ve*20,Ce.total)," of ",Ce.total]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>le(be=>Math.max(1,be-1)),disabled:ve===1,className:"px-3 py-1 border border-slate-200 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),t.jsx("button",{onClick:()=>le(be=>Math.min(Ce.pages,be+1)),disabled:ve===Ce.pages,className:"px-3 py-1 border border-slate-200 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]}),s&&t.jsx(IK,{inquiry:Q,isOpen:de,onClose:()=>{ue(!1),K(null)},onUpdate:De,admins:y,currentUser:s})]}):t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[t.jsx(Da,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),t.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Authentication Required"}),t.jsx("p",{className:"text-red-600 mt-1",children:"Please log in to access the inquiry management."})]})},PK=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,a]=W.useState(null),[l,u]=W.useState(null),[d,A]=W.useState(!0),[o,f]=W.useState(null),[p,m]=W.useState("all"),[x,b]=W.useState(""),[w,y]=W.useState(1),[E,P]=W.useState(null),[z,X]=W.useState(""),[Y,Q]=W.useState(!1),[K,de]=W.useState(null);W.useEffect(()=>{ue()},[p,w]);const ue=async()=>{A(!0);try{const Ne=new URLSearchParams({page:w.toString(),per_page:"20"});p&&p!=="all"&&Ne.append("status",p),x&&Ne.append("search",x);const Ae=await fetch(`${It}/api/blogs/admin/all?${Ne}`,{credentials:"include"});if(Ae.ok){const se=await Ae.json();se.success&&(r(se.blogs||[]),a(se.stats||null),u(se.pagination||null))}}catch(Ne){console.error("Failed to fetch blogs:",Ne)}finally{A(!1)}},ve=async Ne=>{P(Ne);try{(await fetch(`${It}/api/blogs/admin/${Ne}/approve`,{method:"POST",credentials:"include"})).ok&&ue()}catch(Ae){console.error("Failed to approve blog:",Ae)}finally{P(null)}},le=async()=>{if(K){P(K);try{(await fetch(`${It}/api/blogs/admin/${K}/reject`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:z||"Content does not meet community guidelines"})})).ok&&(Q(!1),de(null),X(""),ue())}catch(Ne){console.error("Failed to reject blog:",Ne)}finally{P(null)}}},Ce=async Ne=>{P(Ne);try{(await fetch(`${It}/api/blogs/admin/${Ne}/hide`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:"Hidden by admin"})})).ok&&ue()}catch(Ae){console.error("Failed to hide blog:",Ae)}finally{P(null)}},oe=Ne=>{const Ae={draft:{color:"bg-slate-100 text-slate-600",icon:t.jsx(Vi,{className:"w-3 h-3"}),text:"Draft"},pending:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Da,{className:"w-3 h-3"}),text:"Pending Review"},published:{color:"bg-green-100 text-green-700",icon:t.jsx(Bo,{className:"w-3 h-3"}),text:"Published"},rejected:{color:"bg-red-100 text-red-700",icon:t.jsx(hu,{className:"w-3 h-3"}),text:"Rejected"},hidden:{color:"bg-orange-100 text-orange-700",icon:t.jsx(Zu,{className:"w-3 h-3"}),text:"Hidden"}},se=Ae[Ne]||Ae.draft;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${se.color}`,children:[se.icon,se.text]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[t.jsx(Td,{className:"w-7 h-7 text-blue-600"}),"Blog Moderation"]}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Review and manage user blog posts"})]})}),n&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900",children:n.total}),t.jsx("div",{className:"text-sm text-slate-500",children:"Total Blogs"})]}),t.jsxs("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-100",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:n.pending}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Pending Review"})]}),t.jsxs("div",{className:"bg-green-50 rounded-2xl p-4 border border-green-100",children:[t.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.published}),t.jsx("div",{className:"text-sm text-green-600",children:"Published"})]}),t.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-700",children:n.draft}),t.jsx("div",{className:"text-sm text-slate-500",children:"Drafts"})]}),t.jsxs("div",{className:"bg-red-50 rounded-2xl p-4 border border-red-100",children:[t.jsx("div",{className:"text-2xl font-bold text-red-700",children:n.rejected}),t.jsx("div",{className:"text-sm text-red-600",children:"Rejected"})]})]}),t.jsx("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search blogs by title or content...",value:x,onChange:Ne=>b(Ne.target.value),onKeyDown:Ne=>Ne.key==="Enter"&&ue(),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(d5,{className:"w-5 h-5 text-slate-400"}),t.jsxs("select",{value:p,onChange:Ne=>{m(Ne.target.value),y(1)},className:"px-4 py-2.5 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending Review"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"rejected",children:"Rejected"}),t.jsx("option",{value:"hidden",children:"Hidden"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[d?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Lr,{className:"w-8 h-8 text-blue-600 animate-spin"})}):e.length===0?t.jsxs("div",{className:"text-center py-20",children:[t.jsx(Td,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No blogs found"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Adjust your filters or check back later"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:e.map(Ne=>t.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl bg-slate-100 overflow-hidden flex-shrink-0",children:Ne.coverImage?t.jsx("img",{src:Ne.coverImage,alt:Ne.title,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 to-purple-500"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 line-clamp-1",children:Ne.title}),t.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Jo,{className:"w-4 h-4"}),Ne.authorName]}),t.jsx("span",{children:Ne.createdAt}),t.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-xs",children:Ne.category})]}),t.jsx("p",{className:"text-sm text-slate-500 mt-2 line-clamp-2",children:Ne.excerpt})]}),oe(Ne.status)]}),t.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-100",children:[t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[t.jsxs("span",{children:[Ne.views," views"]}),t.jsxs("span",{children:[Ne.likesCount," likes"]}),t.jsxs("span",{children:[Ne.commentsCount," comments"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>f(Ne),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:t.jsx(io,{className:"w-4 h-4"})}),(Ne.status==="pending"||Ne.status==="draft")&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>ve(Ne.id),disabled:E===Ne.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[E===Ne.id?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(Xo,{className:"w-4 h-4"}),Ne.status==="draft"?"Publish":"Approve"]}),t.jsxs("button",{onClick:()=>{de(Ne.id),Q(!0)},disabled:E===Ne.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[t.jsx(qr,{className:"w-4 h-4"}),"Reject"]})]}),Ne.status==="published"&&t.jsxs("button",{onClick:()=>Ce(Ne.id),disabled:E===Ne.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50",children:[E===Ne.id?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(Zu,{className:"w-4 h-4"}),"Hide"]})]})]})]})]})},Ne.id))}),l&&l.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-100",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing page ",l.page," of ",l.pages," (",l.total," total)"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>y(Ne=>Math.max(1,Ne-1)),disabled:!l.hasPrev,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(Rh,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>y(Ne=>Math.min(l.pages,Ne+1)),disabled:!l.hasNext,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(hc,{className:"w-4 h-4"})})]})]})]}),o&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Blog Details"}),t.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[o.coverImage&&t.jsx("img",{src:o.coverImage,alt:o.title,className:"w-full h-64 object-cover rounded-xl mb-6"}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[oe(o.status),t.jsx("span",{className:"px-2.5 py-1 bg-slate-100 rounded-full text-xs font-medium text-slate-600",children:o.category})]}),t.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-4",children:o.title}),t.jsxs("div",{className:"flex items-center gap-4 mb-6 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Jo,{className:"w-4 h-4"}),o.authorName]}),t.jsx("span",{children:o.createdAt})]}),t.jsx("div",{className:"prose prose-slate max-w-none",dangerouslySetInnerHTML:{__html:o.content}}),o.rejectionReason&&t.jsxs("div",{className:"mt-6 p-4 bg-red-50 rounded-xl border border-red-100",children:[t.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),t.jsx("p",{className:"text-red-600 text-sm",children:o.rejectionReason})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50",children:[(o.status==="pending"||o.status==="draft")&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>{ve(o.id),f(null)},className:"px-4 py-2 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors",children:o.status==="draft"?"Publish":"Approve & Publish"}),t.jsx("button",{onClick:()=>{de(o.id),Q(!0),f(null)},className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors",children:"Reject"})]}),t.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Close"})]})]})}),Y&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[t.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Reject Blog"})}),t.jsxs("div",{className:"p-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Reason for rejection (optional)"}),t.jsx("textarea",{value:z,onChange:Ne=>X(Ne.target.value),placeholder:"Content does not meet community guidelines...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all resize-none",rows:4})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50 rounded-b-2xl",children:[t.jsx("button",{onClick:()=>{Q(!1),de(null),X("")},className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:le,disabled:E!==null,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50",children:E?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):"Reject Blog"})]})]})})]})},RK=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,a]=W.useState(null),[l,u]=W.useState(null),[d,A]=W.useState(!0),[o,f]=W.useState(null),[p,m]=W.useState("pending"),[x,b]=W.useState(1),[w,y]=W.useState(null),[E,P]=W.useState(!1),[z,X]=W.useState(null),[Y,Q]=W.useState(""),[K,de]=W.useState("none");W.useEffect(()=>{ue()},[p,x]);const ue=async()=>{A(!0);try{const Ne=new URLSearchParams({page:x.toString(),per_page:"20"});p&&p!=="all"&&Ne.append("status",p);const Ae=await fetch(`${It}/api/blogs/admin/reports?${Ne}`,{credentials:"include"});if(Ae.ok){const se=await Ae.json();se.success&&(r(se.reports||[]),a(se.stats||null),u(se.pagination||null))}}catch(Ne){console.error("Failed to fetch reports:",Ne)}finally{A(!1)}},ve=async Ne=>{if(z){y(z.id);try{(await fetch(`${It}/api/blogs/admin/reports/${z.id}/review`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:K,adminNotes:Y,status:Ne})})).ok&&(P(!1),X(null),Q(""),de("none"),ue())}catch(Ae){console.error("Failed to review report:",Ae)}finally{y(null)}}},le=Ne=>{const Ae={pending:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Vi,{className:"w-3 h-3"}),text:"Pending"},reviewed:{color:"bg-blue-100 text-blue-700",icon:t.jsx(io,{className:"w-3 h-3"}),text:"Reviewed"},resolved:{color:"bg-green-100 text-green-700",icon:t.jsx(Bo,{className:"w-3 h-3"}),text:"Resolved"},dismissed:{color:"bg-slate-100 text-slate-600",icon:t.jsx(hu,{className:"w-3 h-3"}),text:"Dismissed"}},se=Ae[Ne]||Ae.pending;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${se.color}`,children:[se.icon,se.text]})},Ce=Ne=>{const Ae={spam:{color:"bg-orange-100 text-orange-700",text:"Spam"},inappropriate:{color:"bg-red-100 text-red-700",text:"Inappropriate"},harassment:{color:"bg-purple-100 text-purple-700",text:"Harassment"},misinformation:{color:"bg-blue-100 text-blue-700",text:"Misinformation"},other:{color:"bg-slate-100 text-slate-600",text:"Other"}},se=Ae[Ne]||Ae.other;return t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${se.color}`,children:se.text})},oe=Ne=>{if(!Ne||Ne==="none")return null;const se={warning:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Da,{className:"w-3 h-3"}),text:"Warning Sent"},hidden:{color:"bg-orange-100 text-orange-700",icon:t.jsx(Zu,{className:"w-3 h-3"}),text:"Content Hidden"},deleted:{color:"bg-red-100 text-red-700",icon:t.jsx(Zo,{className:"w-3 h-3"}),text:"Content Deleted"}}[Ne];return se?t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${se.color}`,children:[se.icon,se.text]}):null};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[t.jsx(Vm,{className:"w-7 h-7 text-red-600"}),"Blog Reports"]}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Review and manage user-reported blog content"})]})}),n&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900",children:n.total}),t.jsx("div",{className:"text-sm text-slate-500",children:"Total Reports"})]}),t.jsxs("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-100",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:n.pending}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Pending"})]}),t.jsxs("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-100",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-700",children:n.reviewed}),t.jsx("div",{className:"text-sm text-blue-600",children:"Reviewed"})]}),t.jsxs("div",{className:"bg-green-50 rounded-2xl p-4 border border-green-100",children:[t.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.resolved}),t.jsx("div",{className:"text-sm text-green-600",children:"Resolved"})]}),t.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-700",children:n.dismissed}),t.jsx("div",{className:"text-sm text-slate-500",children:"Dismissed"})]})]}),t.jsx("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(d5,{className:"w-5 h-5 text-slate-400"}),t.jsxs("select",{value:p,onChange:Ne=>{m(Ne.target.value),b(1)},className:"px-4 py-2.5 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all",children:[t.jsx("option",{value:"all",children:"All Reports"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"reviewed",children:"Reviewed"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"dismissed",children:"Dismissed"})]})]})}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[d?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Lr,{className:"w-8 h-8 text-red-600 animate-spin"})}):e.length===0?t.jsxs("div",{className:"text-center py-20",children:[t.jsx(Vm,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No reports found"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"All clear! No reports match your filters."})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:e.map(Ne=>t.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[le(Ne.status),Ce(Ne.reason),oe(Ne.actionTaken)]}),t.jsxs("h3",{className:"font-semibold text-slate-900 mt-2 flex items-center gap-2",children:[t.jsx(Td,{className:"w-4 h-4 text-slate-400"}),Ne.blogTitle]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Jo,{className:"w-4 h-4"}),"Reported by: ",Ne.reporterName]}),t.jsxs("span",{children:["Blog Author: ",Ne.blogAuthorName]}),t.jsx("span",{children:Ne.createdAt})]}),Ne.description&&t.jsxs("p",{className:"text-sm text-slate-600 mt-2 bg-slate-50 p-3 rounded-lg",children:['"',Ne.description,'"']}),Ne.adminNotes&&t.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[t.jsx("p",{className:"text-xs font-medium text-blue-700 mb-1",children:"Admin Notes:"}),t.jsx("p",{className:"text-sm text-blue-600",children:Ne.adminNotes}),Ne.reviewerName&&t.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["Reviewed by ",Ne.reviewerName," on ",Ne.reviewedAt]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>f(Ne),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:t.jsx(io,{className:"w-4 h-4"})}),Ne.status==="pending"&&t.jsxs("button",{onClick:()=>{X(Ne),P(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors",children:[t.jsx(Wd,{className:"w-4 h-4"}),"Review"]})]})]})},Ne.id))}),l&&l.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-100",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing page ",l.page," of ",l.pages," (",l.total," total)"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>b(Ne=>Math.max(1,Ne-1)),disabled:!l.hasPrev,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(Rh,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>b(Ne=>Math.min(l.pages,Ne+1)),disabled:!l.hasNext,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(hc,{className:"w-4 h-4"})})]})]})]}),o&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Report Details"}),t.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)] space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[le(o.status),Ce(o.reason),oe(o.actionTaken)]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-1",children:"Reported Blog"}),t.jsx("p",{className:"font-semibold text-slate-900",children:o.blogTitle}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["By ",o.blogAuthorName]})]}),t.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-1",children:"Reporter"}),t.jsx("p",{className:"font-semibold text-slate-900",children:o.reporterName}),t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.createdAt})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Report Reason"}),t.jsxs("p",{className:"text-slate-600 bg-red-50 p-4 rounded-xl",children:[t.jsx("span",{className:"font-medium",children:o.reason}),o.description&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("span",{className:"text-sm mt-2 block",children:o.description})]})]})]}),o.adminNotes&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Admin Notes"}),t.jsx("p",{className:"text-slate-600 bg-blue-50 p-4 rounded-xl",children:o.adminNotes}),o.reviewerName&&t.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Reviewed by ",o.reviewerName," on ",o.reviewedAt]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50",children:[o.status==="pending"&&t.jsx("button",{onClick:()=>{X(o),P(!0),f(null)},className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors",children:"Take Action"}),t.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Close"})]})]})}),E&&z&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Review Report"}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Report on: ",z.blogTitle]})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Action to take"}),t.jsxs("select",{value:K,onChange:Ne=>de(Ne.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all",children:[t.jsx("option",{value:"none",children:"No action needed"}),t.jsx("option",{value:"warning",children:"Send warning to author"}),t.jsx("option",{value:"hidden",children:"Hide the blog post"}),t.jsx("option",{value:"deleted",children:"Delete the blog post"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Admin notes"}),t.jsx("textarea",{value:Y,onChange:Ne=>Q(Ne.target.value),placeholder:"Add notes about this report...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all resize-none",rows:4})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50 rounded-b-2xl",children:[t.jsx("button",{onClick:()=>{P(!1),X(null),Q(""),de("none")},className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>ve("dismissed"),disabled:w!==null,className:"px-4 py-2 bg-slate-600 text-white font-medium rounded-xl hover:bg-slate-700 transition-colors disabled:opacity-50",children:"Dismiss"}),t.jsx("button",{onClick:()=>ve("resolved"),disabled:w!==null,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:w?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):"Resolve"})]})]})})]})},QK=({user:s,onSwitchToUser:e,onLogout:r})=>{const[n,a]=W.useState("Home"),[l,u]=W.useState(!1),d=o=>{console.log("Admin updated profile:",o)},A=()=>{switch(n){case"Home":return t.jsx(iK,{onNavigate:a});case"Info Blog":return t.jsx(hK,{onNavigate:a});case"Blog Moderation":return t.jsx(PK,{});case"Blog Reports":return t.jsx(RK,{});case"Subscription":return t.jsx(fK,{});case"Advertisement":return t.jsx(pK,{});case"Login Hero":return t.jsx(mK,{});case"Notifications":return t.jsx(gK,{});case"Admin Chat":return t.jsx(wK,{});case"Support Tickets":return t.jsx(bK,{});case"Admin Messages":return t.jsx(vK,{});case"Plan Managment":return t.jsx(BK,{});case"Voucher Managment":return t.jsx(jK,{});case"Inquiries":return t.jsx(DK,{});case"User":return t.jsx(oK,{});case"Email Verification":return t.jsx(lK,{});case"Place":return t.jsx(cK,{});case"Trip":return t.jsx(uK,{});case"Trip Item":return t.jsx(dK,{});case"Settings":return t.jsx(AK,{user:s,onUpdateUser:d});default:return t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-12 text-center shadow-sm min-h-[400px] flex flex-col items-center justify-center animate-in fade-in duration-300",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center mb-4",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:n}),t.jsx("p",{className:"text-slate-500 max-w-sm mx-auto mb-6",children:"This module is currently in development."}),t.jsx("button",{onClick:()=>a("Home"),className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors",children:"Back to Dashboard"})]})}};return t.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans text-slate-600",children:[t.jsx("div",{className:"md:hidden fixed top-4 right-20 z-50",children:t.jsx("button",{onClick:()=>u(!l),className:"p-2 bg-white rounded-lg shadow border border-slate-200 text-slate-700",children:t.jsx(A5,{size:24})})}),t.jsx("div",{className:`${l?"flex fixed inset-0 z-40 bg-white/95 p-0":"hidden"} md:flex md:relative`,children:t.jsx(rK,{activeItem:n,onNavigate:o=>{a(o),u(!1)},onSwitchToUser:e,onLogout:r})}),t.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[t.jsx(nK,{user:s,onLogout:r,onNavigate:a}),t.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:[t.jsx("div",{className:"max-w-7xl mx-auto flex flex-col gap-6 animate-in fade-in duration-300",children:A()}),t.jsxs("footer",{className:"py-8 text-center text-xs text-slate-400",children:[" ",new Date().getFullYear()," GogoTrip Admin Panel."]})]})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Yv=function(){return Yv=Object.assign||function(s){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s},Yv.apply(this,arguments)},Xv,_K=function(s){var e;s?(function(r){if(r)for(;r.lastChild;)r.lastChild.remove()})(typeof s=="string"?document.getElementById(s):s):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},HK=function(s,e){_K(e),window.___grecaptcha_cfg=void 0;var r=document.querySelector("#"+s);r&&r.remove(),(function(){var n=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');n&&n.remove()})()},zK=function(s){var e=s.render,r=s.onLoadCallbackName,n=s.language,a=s.onLoad,l=s.useRecaptchaNet,u=s.useEnterprise,d=s.scriptProps,A=d===void 0?{}:d,o=A.nonce,f=o===void 0?"":o,p=A.defer,m=p!==void 0&&p,x=A.async,b=x!==void 0&&x,w=A.id,y=w===void 0?"":w,E=A.appendTo,P=y||"google-recaptcha-v3";if((function(Y){return!!document.querySelector("#"+Y)})(P))a();else{var z=(function(Y){return"https://www."+(Y.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(Y.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:u,useRecaptchaNet:l}),X=document.createElement("script");X.id=P,X.src=z+"?render="+e+(e==="explicit"?"&onload="+r:"")+(n?"&hl="+n:""),f&&(X.nonce=f),X.defer=!!m,X.async=!!b,X.onload=a,(E==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(X)}},_j=function(s){console.warn(s)};(function(s){s.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Xv||(Xv={}));var e1=W.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});e1.Consumer;function $K(s){var e=s.reCaptchaKey,r=s.useEnterprise,n=r!==void 0&&r,a=s.useRecaptchaNet,l=a!==void 0&&a,u=s.scriptProps,d=s.language,A=s.container,o=s.children,f=W.useState(null),p=f[0],m=f[1],x=W.useRef(e),b=JSON.stringify(u),w=JSON.stringify(A==null?void 0:A.parameters);W.useEffect((function(){if(e){var P=(u==null?void 0:u.id)||"google-recaptcha-v3",z=(u==null?void 0:u.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[z]=function(){var X=n?window.grecaptcha.enterprise:window.grecaptcha,Y=Yv({badge:"inline",size:"invisible",sitekey:e},(A==null?void 0:A.parameters)||{});x.current=X.render(A==null?void 0:A.element,Y)},zK({render:A!=null&&A.element?"explicit":e,onLoadCallbackName:z,useEnterprise:n,useRecaptchaNet:l,scriptProps:u,language:d,onLoad:function(){if(window&&window.grecaptcha){var X=n?window.grecaptcha.enterprise:window.grecaptcha;X.ready((function(){m(X)}))}else _j("<GoogleRecaptchaProvider /> "+Xv.SCRIPT_NOT_AVAILABLE)}}),function(){HK(P,A==null?void 0:A.element)}}_j("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[n,l,b,w,d,e,A==null?void 0:A.element]);var y=W.useCallback((function(P){if(!p||!p.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return p.execute(x.current,{action:P})}),[p,x]),E=W.useMemo((function(){return{executeRecaptcha:p?y:void 0,container:A==null?void 0:A.element}}),[y,p,A==null?void 0:A.element]);return Lc.createElement(e1.Provider,{value:E},o)}var VK=function(){return W.useContext(e1)};function PC(s,e){return s(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var pc=typeof Symbol=="function"&&Symbol.for,Jv=pc?Symbol.for("react.element"):60103,Zv=pc?Symbol.for("react.portal"):60106,Um=pc?Symbol.for("react.fragment"):60107,Mm=pc?Symbol.for("react.strict_mode"):60108,Om=pc?Symbol.for("react.profiler"):60114,Im=pc?Symbol.for("react.provider"):60109,Dm=pc?Symbol.for("react.context"):60110,qv=pc?Symbol.for("react.async_mode"):60111,Vg=pc?Symbol.for("react.concurrent_mode"):60111,Pm=pc?Symbol.for("react.forward_ref"):60112,Rm=pc?Symbol.for("react.suspense"):60113,KK=pc?Symbol.for("react.suspense_list"):60120,Qm=pc?Symbol.for("react.memo"):60115,_m=pc?Symbol.for("react.lazy"):60116,GK=pc?Symbol.for("react.block"):60121,WK=pc?Symbol.for("react.fundamental"):60117,YK=pc?Symbol.for("react.responder"):60118,XK=pc?Symbol.for("react.scope"):60119;function Vd(s){if(typeof s=="object"&&s!==null){var e=s.$$typeof;switch(e){case Jv:switch(s=s.type){case qv:case Vg:case Um:case Om:case Mm:case Rm:return s;default:switch(s=s&&s.$$typeof){case Dm:case Pm:case _m:case Qm:case Im:return s;default:return e}}case Zv:return e}}}function Hj(s){return Vd(s)===Vg}var JK={AsyncMode:qv,ConcurrentMode:Vg,ContextConsumer:Dm,ContextProvider:Im,Element:Jv,ForwardRef:Pm,Fragment:Um,Lazy:_m,Memo:Qm,Portal:Zv,Profiler:Om,StrictMode:Mm,Suspense:Rm,isAsyncMode:function(s){return Hj(s)||Vd(s)===qv},isConcurrentMode:Hj,isContextConsumer:function(s){return Vd(s)===Dm},isContextProvider:function(s){return Vd(s)===Im},isElement:function(s){return typeof s=="object"&&s!==null&&s.$$typeof===Jv},isForwardRef:function(s){return Vd(s)===Pm},isFragment:function(s){return Vd(s)===Um},isLazy:function(s){return Vd(s)===_m},isMemo:function(s){return Vd(s)===Qm},isPortal:function(s){return Vd(s)===Zv},isProfiler:function(s){return Vd(s)===Om},isStrictMode:function(s){return Vd(s)===Mm},isSuspense:function(s){return Vd(s)===Rm},isValidElementType:function(s){return typeof s=="string"||typeof s=="function"||s===Um||s===Vg||s===Om||s===Mm||s===Rm||s===KK||typeof s=="object"&&s!==null&&(s.$$typeof===_m||s.$$typeof===Qm||s.$$typeof===Im||s.$$typeof===Dm||s.$$typeof===Pm||s.$$typeof===WK||s.$$typeof===YK||s.$$typeof===XK||s.$$typeof===GK)},typeOf:Vd},Oi=PC((function(s,e){})),zj=(Oi.AsyncMode,Oi.ConcurrentMode,Oi.ContextConsumer,Oi.ContextProvider,Oi.Element,Oi.ForwardRef,Oi.Fragment,Oi.Lazy,Oi.Memo,Oi.Portal,Oi.Profiler,Oi.StrictMode,Oi.Suspense,Oi.isAsyncMode,Oi.isConcurrentMode,Oi.isContextConsumer,Oi.isContextProvider,Oi.isElement,Oi.isForwardRef,Oi.isFragment,Oi.isLazy,Oi.isMemo,Oi.isPortal,Oi.isProfiler,Oi.isStrictMode,Oi.isSuspense,Oi.isValidElementType,Oi.typeOf,PC((function(s){s.exports=JK}))),ZK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$j={};$j[zj.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$j[zj.Memo]=ZK;const RC=Lc.memo(({config:s})=>{const[e,r]=W.useState(0),n=(a,l)=>l||a.startsWith("/proxy_image")?`${It}${a}`:a;return W.useEffect(()=>{if(!s||s.displayMode==="single"||!s.autoPlay)return;const a=setInterval(()=>{r(l=>(l+1)%s.images.length)},s.transitionInterval*1e3);return()=>clearInterval(a)},[s]),s?t.jsxs("div",{className:"hidden lg:flex lg:w-1/2 flex-shrink-0 relative overflow-hidden",children:[s.displayMode==="single"?t.jsx("img",{src:n(s.images[0].url,s.images[0].isProxy),alt:s.images[0].alt,className:"absolute inset-0 w-full h-full object-cover"}):s.images.map((a,l)=>t.jsx("img",{src:n(a.url,a.isProxy),alt:a.alt,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ${l===e?"opacity-100":"opacity-0"}`},`hero-img-${l}`)),s.enableGradient&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/60 via-slate-900/40 to-transparent"}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-start justify-end p-16 text-white z-10",children:[s.title&&t.jsx("h1",{className:"text-5xl font-black leading-tight mb-4 max-w-xl drop-shadow-2xl",children:s.title}),s.description&&t.jsx("p",{className:"text-lg text-white/90 max-w-md leading-relaxed drop-shadow-lg",children:s.description})]})]}):t.jsx("div",{className:"hidden lg:flex lg:w-1/2 flex-shrink-0 relative overflow-hidden bg-gradient-to-br from-slate-200 to-slate-300",children:t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"text-slate-400 text-sm",children:"Loading..."})})})});RC.displayName="HeroSection";const qK=({email:s,onRedirect:e})=>{const{t:r}=To("auth"),[n,a]=W.useState(3);return W.useEffect(()=>{const l=setInterval(()=>{a(u=>u<=1?(clearInterval(l),setTimeout(e,500),0):u-1)},1e3);return()=>clearInterval(l)},[e]),t.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50",children:t.jsxs("div",{className:"max-w-md w-full",children:[t.jsx("div",{className:"text-center mb-8 animate-in zoom-in-95 fade-in duration-500",children:t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full blur-3xl opacity-30 animate-pulse"}),t.jsx("div",{className:"relative bg-gradient-to-br from-green-500 to-emerald-600 w-32 h-32 rounded-full flex items-center justify-center shadow-2xl",children:t.jsx(uo,{className:"w-16 h-16 text-white animate-in zoom-in duration-300 delay-200"})}),t.jsx("div",{className:"absolute -top-2 -right-2 animate-in zoom-in duration-300 delay-300",children:t.jsx(oo,{className:"w-8 h-8 text-yellow-400"})}),t.jsx("div",{className:"absolute -bottom-2 -left-2 animate-in zoom-in duration-300 delay-400",children:t.jsx(pE,{className:"w-8 h-8 text-pink-400"})})]})}),t.jsxs("div",{className:"text-center space-y-4 animate-in fade-in-up duration-500 delay-300",children:[t.jsxs("h1",{className:"text-4xl font-black text-slate-900 mb-2",children:[r("verification.verified")," "]}),t.jsx("p",{className:"text-lg text-slate-600 font-medium",children:"Welcome aboard! Your account has been successfully verified."}),t.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-sm border border-green-200 rounded-xl",children:t.jsxs("p",{className:"text-sm text-slate-700",children:[t.jsx("strong",{className:"text-green-700",children:s})," is now verified and ready to go!"]})})]}),t.jsx("div",{className:"mt-8 text-center animate-in fade-in duration-500 delay-500",children:t.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 bg-white/80 backdrop-blur-sm border border-slate-200 rounded-full shadow-lg",children:[t.jsx(Lr,{className:"w-5 h-5 text-green-600 animate-spin"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[r("verification.redirecting")," ",t.jsx("span",{className:"text-green-600 font-bold text-lg",children:n}),"s..."]})]})}),t.jsx("div",{className:"mt-6 text-center animate-in fade-in duration-500 delay-700",children:t.jsx("button",{onClick:e,className:"text-sm text-slate-600 hover:text-slate-900 font-medium underline decoration-dotted underline-offset-4",children:"Skip waiting and go now "})})]})})},eG=()=>{const{t:s}=To("auth");return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-blue-50 via-sky-50 to-cyan-50",children:t.jsxs("div",{className:"max-w-md w-full text-center",children:[t.jsx("div",{className:"mb-8 animate-in zoom-in-95 fade-in duration-500",children:t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"w-32 h-32 rounded-full border-8 border-blue-100 border-t-blue-600 animate-spin"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(Wd,{className:"w-12 h-12 text-blue-600 animate-pulse"})})]})}),t.jsxs("div",{className:"space-y-4 animate-in fade-in-up duration-500 delay-200",children:[t.jsx("h2",{className:"text-3xl font-black text-slate-900",children:s("verification.verifying")}),t.jsx("p",{className:"text-lg text-slate-600",children:"Please wait while we confirm your account."}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500 mt-6",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})})},tG=({email:s,token:e,verificationConfig:r,onVerified:n,onResend:a,onBack:l})=>{const{t:u}=To("auth"),[d,A]=W.useState(""),[o,f]=W.useState(!1),[p,m]=W.useState(null),[x,b]=W.useState(null),[w,y]=W.useState(!1),[E,P]=W.useState(0),[z,X]=W.useState(e),[Y,Q]=W.useState(!1),K=W.useRef(null),de=W.useRef(null);W.useEffect(()=>{if(E>0){const le=setTimeout(()=>{P(Ce=>Ce-1)},1e3);return()=>clearTimeout(le)}},[E]),W.useEffect(()=>{try{de.current=new BroadcastChannel("gogotrip_verification"),de.current.onmessage=Ce=>{Ce.data.type==="VERIFICATION_COMPLETE"&&Ce.data.email===s&&(console.log(" Received verification complete from another tab"),b(" Email verified in another tab! Redirecting..."),setTimeout(()=>{Ce.data.user&&n(Ce.data.user)},1500))}}catch{console.log("BroadcastChannel not supported, using polling only")}const le=async()=>{try{Q(!0);const oe=await(await fetch(`${It}/auth/check-verification-status`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s,token:z})})).json();oe.verified&&oe.user&&(console.log(" Email verified detected via polling"),b(" Email verified! Redirecting..."),de.current&&de.current.postMessage({type:"VERIFICATION_COMPLETE",email:s,user:oe.user}),K.current&&clearInterval(K.current),setTimeout(()=>{n(oe.user)},1500))}catch(Ce){console.log("Status check failed:",Ce)}finally{Q(!1)}};return K.current=setInterval(le,5e3),()=>{K.current&&clearInterval(K.current),de.current&&de.current.close()}},[s,z,n]);const ue=async le=>{if(le.preventDefault(),!d||d.length!==r.codeLength){m(`Please enter a ${r.codeLength}-digit code`);return}f(!0),m(null);try{const oe=await(await fetch(`${It}/auth/signup-verify-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:z,code:d})})).json();oe.status==="success"?(b(" Email verified successfully!"),de.current&&de.current.postMessage({type:"VERIFICATION_COMPLETE",email:s,user:oe.user}),setTimeout(()=>{n(oe.user)},1500)):m(oe.message||"Verification failed")}catch{m("Network error. Please try again.")}finally{f(!1)}},ve=async()=>{var le;if(!(E>0||w)){y(!0),m(null),b(null);try{const Ce=await a();if(Ce.success)Ce.token&&X(Ce.token),b(" Verification email sent! Check your inbox."),P(60);else{if((le=Ce.message)!=null&&le.includes("wait")){const oe=Ce.message.match(/(\d+)/);oe&&P(parseInt(oe[1]))}m(Ce.message||"Failed to resend")}}catch{m("Failed to resend verification email")}finally{y(!1)}}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Xd,{className:"w-8 h-8 text-white"})}),t.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:u("verification.title")}),t.jsxs("p",{className:"text-slate-600",children:[u("verification.subtitle"),t.jsx("br",{}),t.jsx("strong",{className:"text-slate-900",children:s})]})]}),p&&t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(Da,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-red-700",children:p})]}),x&&t.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(uo,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-green-700",children:x})]}),Y&&t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),t.jsx("span",{children:"Checking verification status..."})]}),t.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:u("verification.enterCode")}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",required:!0,value:d,onChange:le=>{const Ce=le.target.value.toUpperCase();r.codeType==="numeric"?/^\d*$/.test(Ce)&&A(Ce):A(Ce)},maxLength:r.codeLength,placeholder:u("verification.codePlaceholder",{length:r.codeLength}),className:"w-full bg-white border border-slate-200 rounded-xl py-4 px-4 font-mono text-2xl tracking-[0.5em] text-center font-bold focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all uppercase"})}),t.jsx("p",{className:"text-xs text-slate-500 text-center mt-2",children:u("verification.enterCodeDesc")})]}),t.jsx("button",{type:"submit",disabled:o||d.length!==r.codeLength,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[u("verification.verify"),t.jsx(IA,{className:"w-4 h-4"})]})})]}),t.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-3",children:u("verification.didntReceive")}),t.jsx("button",{type:"button",onClick:ve,disabled:w||E>0,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${E>0?"bg-slate-100 text-slate-400 cursor-not-allowed":w?"bg-slate-100 text-slate-500":"bg-sky-50 text-sky-600 hover:bg-sky-100"}`,children:w?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),u("forgotPassword.sending")]}):E>0?t.jsxs(t.Fragment,{children:[t.jsx(Vi,{className:"w-4 h-4"}),u("verification.resendIn",{seconds:E})]}):t.jsxs(t.Fragment,{children:[t.jsx(cd,{className:"w-4 h-4"}),u("verification.resendCode")]})})]}),t.jsx("div",{className:"text-center",children:t.jsxs("button",{type:"button",onClick:l,className:"text-sm text-slate-500 hover:text-slate-700 font-medium",children:[" ",u("register.backToSignUp")]})})]})},sG=({onLogin:s})=>{const{t:e}=To("auth"),[r,n]=W.useState("LOGIN"),[a,l]=W.useState(!1),[u,d]=W.useState(null),[A,o]=W.useState(null),[f,p]=W.useState(!1),[m,x]=W.useState({codeType:"numeric",codeLength:6,expiryMinutes:10}),[b,w]=W.useState(null),[y,E]=W.useState(""),[P,z]=W.useState(""),[X,Y]=W.useState(""),[Q,K]=W.useState(!1),[de,ue]=W.useState(!1),{executeRecaptcha:ve}=VK(),[le,Ce]=W.useState(null),[oe,Ne]=W.useState({name:"",email:"",password:"",verificationCode:""}),[Ae,se]=W.useState({hasLength:!1,hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpecial:!1}),[pe,re]=W.useState(!1),Ee=W.useRef(!1),De=We=>{const Ut={hasLength:We.length>=8,hasUpper:/[A-Z]/.test(We),hasLower:/[a-z]/.test(We),hasNumber:/[0-9]/.test(We),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(We)};se(Ut),re(Object.values(Ut).every(Boolean))};W.useEffect(()=>{r==="SIGNUP"?De(oe.password):r==="FORGOT_VERIFY"&&De(P)},[oe.password,P,r]),W.useEffect(()=>{(async()=>{try{const Vt=await(await fetch(`${It}/api/login-hero/active`)).json();Vt.status==="success"&&Vt.config&&Ce(Vt.config)}catch(Ut){console.error("Failed to load hero config:",Ut),Ce({displayMode:"single",transitionInterval:5,autoPlay:!0,imageSource:"url",enableGradient:!0,images:[{url:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?auto=format&fit=crop&q=80&w=2000",alt:"Travel"}],title:"Plan your next great adventure in seconds.",subtitle:null,description:"Join thousands of travelers using AI to craft the perfect itinerary, track expenses, and explore the world."})}})()},[]),W.useEffect(()=>{if(Ee.current)return;const We=new URLSearchParams(window.location.search),Ut=We.get("token"),Vt=We.get("error");if(Vt){Vt==="account_suspended"?d("Your account has been suspended. Please contact support."):Vt==="account_deleted"?d("This account has been deleted."):Vt==="oauth_failed"&&d("Google login failed. Please try again."),window.history.replaceState({},"",window.location.pathname);return}Ut&&(console.log(" Detected token in URL, starting One-Click verification..."),Ee.current=!0,n("VERIFYING"),Se(Ut))},[]);const Se=async We=>{try{console.log(" Starting One-Click verification...");const Vt=await(await fetch(`${It}/auth/verify-onetap`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:We})})).json();if(console.log(" Token info:",Vt),Vt.status!=="success")throw new Error(Vt.message||"Invalid verification link");const Fs=await(await fetch(`${It}/auth/signup-verify-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:We,code:Vt.data.code})})).json();if(console.log(" Verification result:",Fs),Fs.status==="success"){E(Vt.data.email),window.history.replaceState({},"",window.location.pathname),n("VERIFIED");try{const Re=new BroadcastChannel("gogotrip_verification");Re.postMessage({type:"VERIFICATION_COMPLETE",email:Vt.data.email,user:Fs.user}),Re.close()}catch{console.log("BroadcastChannel not available")}setTimeout(()=>{s(Fs.user)},3e3)}else throw new Error(Fs.message||"Verification failed")}catch(Ut){console.error(" One-Click verification failed:",Ut),n("LOGIN"),d(Ut.message||"Verification link expired or invalid. Please try again.")}},he=W.useCallback(()=>{y&&console.log("Redirecting...")},[y]),be=()=>{l(!0),d(null),window.location.href=`${It}/authorize`},fe=async We=>{if(We.preventDefault(),!pe){d("Password is too weak. Please follow the requirements below.");return}if(oe.password!==X){d("Passwords do not match.");return}if(!oe.email||!oe.password||!oe.name){d("Please fill in all fields.");return}l(!0),d(null),o(null);try{if(!ve){d("reCAPTCHA not ready"),l(!1);return}const Ut=await ve("signup"),ls=await(await fetch(`${It}/auth/send-code-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:oe.email,password:oe.password,name:oe.name,code_type:m.codeType,code_length:m.codeLength,expiry_minutes:m.expiryMinutes,recaptcha_token:Ut})})).json();ls.status==="success"?(w(ls.token),n("VERIFY")):d(ls.message||"Failed to send code")}catch{d("Network error. Please try again.")}finally{l(!1)}},te=async()=>{try{if(!ve)return{success:!1,message:"reCAPTCHA not ready"};const We=await ve("resend"),Vt=await(await fetch(`${It}/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:oe.email,token:b,recaptcha_token:We})})).json();return Vt.status==="success"?{success:!0,token:Vt.token}:{success:!1,message:Vt.message}}catch{return{success:!1,message:"Network error"}}},ge=async We=>{We.preventDefault(),l(!0),d(null);try{const Vt=await(await fetch(`${It}/auth/login-email`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:oe.email,password:oe.password})})).json();Vt.status==="success"?s(Vt.user):Vt.needs_verification?d("Please verify your email first. Check your inbox for the verification link."):d(Vt.message||"Login failed")}catch{d("Network error. Please try again.")}finally{l(!1)}},Ue=async We=>{We.preventDefault(),l(!0),d(null),o(null);try{if(!ve){d("reCAPTCHA not ready"),l(!1);return}const Ut=await ve("forgot_password"),ls=await(await fetch(`${It}/auth/forgot-password/send-code-v2`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:oe.email,code_type:m.codeType,code_length:m.codeLength,expiry_minutes:m.expiryMinutes,recaptcha_token:Ut})})).json();ls.status==="success"?(w(ls.token),n("FORGOT_VERIFY"),o(` Verification code sent to ${oe.email}!`)):d(ls.message||"Failed to send code")}catch{d("Network error. Please try again.")}finally{l(!1)}},Ve=async We=>{if(We.preventDefault(),!pe){d("Password is too weak.");return}if(P!==X){d("Passwords do not match.");return}l(!0),d(null);try{const Vt=await(await fetch(`${It}/auth/reset-password-v2`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:b,code:oe.verificationCode,new_password:P})})).json();Vt.status==="success"?(o(" Password reset successful! Please login."),setTimeout(()=>n("LOGIN"),2e3)):d(Vt.message||"Reset failed")}catch{d("Network error. Please try again.")}finally{l(!1)}},kt=()=>t.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-br from-blue-50 to-sky-50 rounded-xl border border-sky-200",children:[t.jsxs("button",{type:"button",onClick:()=>p(!f),className:"w-full flex items-center justify-between text-sm font-bold text-slate-700 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wd,{className:"w-4 h-4 text-sky-600"}),t.jsx("span",{children:"Verification Options"})]}),t.jsx("span",{className:"text-xs text-sky-600",children:f?" Hide":" Customize"})]}),f&&t.jsxs("div",{className:"space-y-4 animate-in fade-in-down",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(jw,{className:"w-3 h-3"}),"Code Type"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["numeric","alphanumeric","alpha"].map(We=>t.jsxs("button",{type:"button",onClick:()=>x(Ut=>({...Ut,codeType:We})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${m.codeType===We?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[We==="numeric"&&"123456",We==="alphanumeric"&&"A1B2C3",We==="alpha"&&"ABCDEF"]},We))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(jw,{className:"w-3 h-3"}),"Code Length"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[4,6,8].map(We=>t.jsxs("button",{type:"button",onClick:()=>x(Ut=>({...Ut,codeLength:We})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${m.codeLength===We?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[We," digits"]},We))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-3 h-3"}),"Expiry Time"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[5,10,15].map(We=>t.jsxs("button",{type:"button",onClick:()=>x(Ut=>({...Ut,expiryMinutes:We})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${m.expiryMinutes===We?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[We," min"]},We))})]})]})]}),Bt=()=>t.jsxs("div",{className:"mt-2 space-y-2",children:[t.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Password Requirements:"}),Object.entries({hasLength:"At least 8 characters",hasUpper:"One uppercase letter",hasLower:"One lowercase letter",hasNumber:"One number",hasSpecial:"One special character (!@#$...)"}).map(([We,Ut])=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[Ae[We]?t.jsx(Xo,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):t.jsx(qr,{className:"w-4 h-4 text-slate-300 flex-shrink-0"}),t.jsx("span",{className:Ae[We]?"text-green-700 font-medium":"text-slate-500",children:Ut})]},We))]});return r==="VERIFYING"?t.jsx(eG,{}):r==="VERIFIED"?t.jsx(qK,{email:y,onRedirect:he}):t.jsxs("div",{className:"min-h-screen flex overflow-hidden bg-slate-50",children:[t.jsx(RC,{config:le}),t.jsx("div",{className:"flex-1 min-w-0 flex items-center justify-center p-6 lg:p-12 relative overflow-y-auto",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsxs("h2",{className:"text-3xl font-black text-slate-900 mb-2",children:[r==="LOGIN"&&e("login.title"),r==="SIGNUP"&&e("register.title"),r==="VERIFY"&&e("verification.title"),r==="FORGOT"&&e("forgotPassword.title"),r==="FORGOT_VERIFY"&&e("resetPassword.title")]}),t.jsxs("p",{className:"text-slate-500 font-medium",children:[r==="LOGIN"&&e("login.subtitle"),r==="SIGNUP"&&e("register.subtitle"),r==="VERIFY"&&e("verification.checkEmail"),r==="FORGOT"&&e("forgotPassword.subtitle"),r==="FORGOT_VERIFY"&&e("resetPassword.subtitle")]})]}),u&&r!=="VERIFY"&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(Da,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-red-700",children:u})]}),A&&r!=="VERIFY"&&t.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(uo,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-green-700",children:A})]}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8 shadow-xl",children:[r==="VERIFY"&&b&&t.jsx(tG,{email:oe.email,token:b,verificationConfig:m,onVerified:s,onResend:te,onBack:()=>{n("SIGNUP"),d(null),o(null)}}),r==="FORGOT_VERIFY"&&t.jsxs("form",{onSubmit:Ve,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("verification.enterCode")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",required:!0,value:oe.verificationCode,onChange:We=>{const Ut=We.target.value.toUpperCase();m.codeType==="numeric"?/^\d*$/.test(Ut)&&Ne({...oe,verificationCode:Ut}):Ne({...oe,verificationCode:Ut})},maxLength:m.codeLength,placeholder:e("verification.codePlaceholder",{length:m.codeLength}),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-12 font-mono text-lg tracking-widest text-center font-bold focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all uppercase"}),t.jsx(Wd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("resetPassword.newPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Ld,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:Q?"text":"password",required:!0,value:P,onChange:We=>z(We.target.value),placeholder:"",className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${!pe&&P.length>0?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>K(!Q),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:Q?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),t.jsx(Bt,{})]}),pe&&t.jsxs("div",{className:"space-y-1 animate-in fade-in-down",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("resetPassword.confirmPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Ld,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:de?"text":"password",required:!0,value:X,onChange:We=>Y(We.target.value),placeholder:e("resetPassword.confirmPasswordPlaceholder"),className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${X.length>0&&X!==P?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>ue(!de),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:de?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),X.length>0&&X!==P&&t.jsx("p",{className:"text-xs text-red-500 font-bold ml-1",children:e("errors.passwordMismatch")})]}),t.jsx("button",{type:"submit",disabled:a||!pe||P!==X,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[e("resetPassword.resetPassword"),t.jsx(IA,{className:"w-4 h-4"})]})})]}),r==="FORGOT"&&t.jsxs("form",{onSubmit:Ue,className:"space-y-6",children:[t.jsx(kt,{}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("login.email")}),t.jsxs("div",{className:"relative",children:[t.jsx(Xd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",required:!0,value:oe.email,onChange:We=>Ne({...oe,email:We.target.value}),placeholder:e("login.emailPlaceholder"),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsx("button",{type:"submit",disabled:a,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[e("forgotPassword.sendLink"),t.jsx(IA,{className:"w-4 h-4"})]})}),t.jsxs("button",{type:"button",onClick:()=>{n("LOGIN"),d(null)},className:"w-full text-sm text-sky-600 font-bold hover:underline",children:[" ",e("forgotPassword.backToLogin")]})]}),(r==="LOGIN"||r==="SIGNUP")&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{type:"button",onClick:be,disabled:a,className:"w-full py-3.5 bg-white border border-slate-200 rounded-xl font-bold text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center justify-center gap-3 relative group overflow-hidden",children:[t.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5 relative z-10"}),t.jsx("span",{className:"relative z-10",children:e("login.googleSignIn")})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-slate-200"})}),t.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:t.jsx("span",{className:"bg-white px-2 text-slate-400 font-bold",children:e("login.orContinueWithEmail")})})]}),r==="SIGNUP"&&t.jsx(kt,{}),t.jsxs("form",{onSubmit:r==="LOGIN"?ge:fe,className:"space-y-4",children:[r==="SIGNUP"&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("register.fullName")}),t.jsxs("div",{className:"relative",children:[t.jsx(Jo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",required:!0,value:oe.name,onChange:We=>Ne({...oe,name:We.target.value}),placeholder:e("register.fullNamePlaceholder"),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("login.email")}),t.jsxs("div",{className:"relative",children:[t.jsx(Xd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",required:!0,value:oe.email,onChange:We=>Ne({...oe,email:We.target.value}),placeholder:e("login.emailPlaceholder"),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("login.password")}),t.jsxs("div",{className:"relative",children:[t.jsx(Ld,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:Q?"text":"password",required:!0,value:oe.password,onChange:We=>Ne({...oe,password:We.target.value}),placeholder:e(r==="SIGNUP"?"register.passwordPlaceholder":"login.passwordPlaceholder"),className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${r==="SIGNUP"&&!pe&&oe.password.length>0?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>K(!Q),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:Q?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),r==="SIGNUP"&&t.jsx(Bt,{})]}),r==="SIGNUP"&&pe&&t.jsxs("div",{className:"space-y-1 animate-in fade-in-down",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("register.confirmPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Ld,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:de?"text":"password",required:!0,value:X,onChange:We=>Y(We.target.value),placeholder:e("register.confirmPasswordPlaceholder"),className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${X.length>0&&X!==oe.password?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>ue(!de),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:de?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),X.length>0&&X!==oe.password&&t.jsx("p",{className:"text-xs text-red-500 font-bold ml-1",children:e("errors.passwordMismatch")})]}),r==="LOGIN"&&t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"button",onClick:()=>{n("FORGOT"),d(null)},className:"text-sm font-bold text-sky-600 hover:text-sky-700",children:e("login.forgotPassword")})}),t.jsx("button",{type:"submit",disabled:a||r==="SIGNUP"&&(!pe||oe.password!==X),className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[e(r==="LOGIN"?"login.signIn":"register.signUp"),t.jsx(IA,{className:"w-4 h-4"})]})})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-slate-500 text-sm",children:[e(r==="LOGIN"?"login.noAccount":"register.hasAccount")," ",t.jsx("button",{onClick:()=>{n(r==="LOGIN"?"SIGNUP":"LOGIN"),d(null),o(null),Ne({name:"",email:"",password:"",verificationCode:""}),Y("")},className:"font-bold text-sky-600 hover:text-sky-700",children:e(r==="LOGIN"?"login.signUpLink":"register.signInLink")})]})})]})]})]})})]})};try{const s=localStorage.getItem(uy);s&&["en","zh","ms"].includes(s)&&lx(s)}catch(s){console.error("Failed to hydrate language preference:",s)}const rG=()=>{const[s,e]=W.useState(null),[r,n]=W.useState(!1),[a,l]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const A=await fetch(`${It}/check_login_status`,{credentials:"include"});if(A.ok){const o=await A.json();if(o.logged_in&&o.user){const f={...o.user,role:$g(o.user.role||o.role)};e(f),fv(f.preferredLanguage),Gv(f.role)&&n(!0)}}}catch(A){console.error("Auth check failed:",A)}finally{l(!1)}})()},[]);const u=async()=>{try{await fetch(`${It}/auth/logout`,{method:"POST",credentials:"include"})}catch(d){console.error("Logout request failed",d)}finally{e(null),n(!1),window.location.href="/"}};return a?t.jsx("div",{className:"h-screen flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),t.jsx("span",{className:"text-slate-500 text-sm",children:"Loading..."})]})}):s?t.jsx(ML,{userId:s.id,isAuthenticated:!!s,children:r?t.jsx(QK,{user:s,onSwitchToUser:()=>n(!1),onLogout:u}):t.jsx(sK,{user:s,onLogout:u,onSwitchToAdmin:()=>n(!0),onUpdateUser:d=>e(A=>A&&{...A,...d})})}):t.jsx($K,{reCaptchaKey:"6LewjjUsAAAAAKFHuvd4JdyTZ06TK14FTHZSZSTF",scriptProps:{async:!1,defer:!1,appendTo:"head"},children:t.jsx(sG,{onLogin:d=>{const A={...d,role:$g(d.role)};e(A),fv(A.preferredLanguage),Gv(A.role)&&n(!0)}})})},QC=document.getElementById("root");if(!QC)throw new Error("Root not found");const nG=$4.createRoot(QC);nG.render(t.jsx(Lc.StrictMode,{children:t.jsx(QB,{children:t.jsx(rG,{})})}));
