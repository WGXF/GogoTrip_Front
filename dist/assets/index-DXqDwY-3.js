var T4=Object.defineProperty;var U4=(s,e,r)=>e in s?T4(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var Va=(s,e,r)=>U4(s,typeof e!="symbol"?e+"":e,r);function F4(s,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in s)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(s,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Xx={exports:{}},Ip={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function L4(){if(q1)return Ip;q1=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:s,type:n,key:u,ref:a!==void 0?a:null,props:l}}return Ip.Fragment=e,Ip.jsx=r,Ip.jsxs=r,Ip}var ew;function M4(){return ew||(ew=1,Xx.exports=L4()),Xx.exports}var t=M4(),Jx={exports:{}},Jn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function O4(){if(tw)return Jn;tw=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function x(Se){return Se===null||typeof Se!="object"?null:(Se=m&&Se[m]||Se["@@iterator"],typeof Se=="function"?Se:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,y={};function T(Se,fe,be){this.props=Se,this.context=fe,this.refs=y,this.updater=be||b}T.prototype.isReactComponent={},T.prototype.setState=function(Se,fe){if(typeof Se!="object"&&typeof Se!="function"&&Se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Se,fe,"setState")},T.prototype.forceUpdate=function(Se){this.updater.enqueueForceUpdate(this,Se,"forceUpdate")};function R(){}R.prototype=T.prototype;function z(Se,fe,be){this.props=Se,this.context=fe,this.refs=y,this.updater=be||b}var X=z.prototype=new R;X.constructor=z,j(X,T.prototype),X.isPureReactComponent=!0;var Y=Array.isArray;function Q(){}var K={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function ue(Se,fe,be){var he=be.ref;return{$$typeof:s,type:Se,key:fe,ref:he!==void 0?he:null,props:be}}function Ne(Se,fe){return ue(Se.type,fe,Se.props)}function le(Se){return typeof Se=="object"&&Se!==null&&Se.$$typeof===s}function Ce(Se){var fe={"=":"=0",":":"=2"};return"$"+Se.replace(/[=:]/g,function(be){return fe[be]})}var oe=/\/+/g;function je(Se,fe){return typeof Se=="object"&&Se!==null&&Se.key!=null?Ce(""+Se.key):fe.toString(36)}function Ae(Se){switch(Se.status){case"fulfilled":return Se.value;case"rejected":throw Se.reason;default:switch(typeof Se.status=="string"?Se.then(Q,Q):(Se.status="pending",Se.then(function(fe){Se.status==="pending"&&(Se.status="fulfilled",Se.value=fe)},function(fe){Se.status==="pending"&&(Se.status="rejected",Se.reason=fe)})),Se.status){case"fulfilled":return Se.value;case"rejected":throw Se.reason}}throw Se}function se(Se,fe,be,he,te){var ge=typeof Se;(ge==="undefined"||ge==="boolean")&&(Se=null);var Le=!1;if(Se===null)Le=!0;else switch(ge){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(Se.$$typeof){case s:case e:Le=!0;break;case f:return Le=Se._init,se(Le(Se._payload),fe,be,he,te)}}if(Le)return te=te(Se),Le=he===""?"."+je(Se,0):he,Y(te)?(be="",Le!=null&&(be=Le.replace(oe,"$&/")+"/"),se(te,fe,be,"",function(Bt){return Bt})):te!=null&&(le(te)&&(te=Ne(te,be+(te.key==null||Se&&Se.key===te.key?"":(""+te.key).replace(oe,"$&/")+"/")+Le)),fe.push(te)),1;Le=0;var Ve=he===""?".":he+":";if(Y(Se))for(var kt=0;kt<Se.length;kt++)he=Se[kt],ge=Ve+je(he,kt),Le+=se(he,fe,be,ge,te);else if(kt=x(Se),typeof kt=="function")for(Se=kt.call(Se),kt=0;!(he=Se.next()).done;)he=he.value,ge=Ve+je(he,kt++),Le+=se(he,fe,be,ge,te);else if(ge==="object"){if(typeof Se.then=="function")return se(Ae(Se),fe,be,he,te);throw fe=String(Se),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(Se).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return Le}function pe(Se,fe,be){if(Se==null)return Se;var he=[],te=0;return se(Se,he,"","",function(ge){return fe.call(be,ge,te++)}),he}function re(Se){if(Se._status===-1){var fe=Se._result;fe=fe(),fe.then(function(be){(Se._status===0||Se._status===-1)&&(Se._status=1,Se._result=be)},function(be){(Se._status===0||Se._status===-1)&&(Se._status=2,Se._result=be)}),Se._status===-1&&(Se._status=0,Se._result=fe)}if(Se._status===1)return Se._result.default;throw Se._result}var Ee=typeof reportError=="function"?reportError:function(Se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Se=="object"&&Se!==null&&typeof Se.message=="string"?String(Se.message):String(Se),error:Se});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Se);return}console.error(Se)},De={map:pe,forEach:function(Se,fe,be){pe(Se,function(){fe.apply(this,arguments)},be)},count:function(Se){var fe=0;return pe(Se,function(){fe++}),fe},toArray:function(Se){return pe(Se,function(fe){return fe})||[]},only:function(Se){if(!le(Se))throw Error("React.Children.only expected to receive a single React element child.");return Se}};return Jn.Activity=p,Jn.Children=De,Jn.Component=T,Jn.Fragment=r,Jn.Profiler=a,Jn.PureComponent=z,Jn.StrictMode=n,Jn.Suspense=A,Jn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Jn.__COMPILER_RUNTIME={__proto__:null,c:function(Se){return K.H.useMemoCache(Se)}},Jn.cache=function(Se){return function(){return Se.apply(null,arguments)}},Jn.cacheSignal=function(){return null},Jn.cloneElement=function(Se,fe,be){if(Se==null)throw Error("The argument must be a React element, but you passed "+Se+".");var he=j({},Se.props),te=Se.key;if(fe!=null)for(ge in fe.key!==void 0&&(te=""+fe.key),fe)!ce.call(fe,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&fe.ref===void 0||(he[ge]=fe[ge]);var ge=arguments.length-2;if(ge===1)he.children=be;else if(1<ge){for(var Le=Array(ge),Ve=0;Ve<ge;Ve++)Le[Ve]=arguments[Ve+2];he.children=Le}return ue(Se.type,te,he)},Jn.createContext=function(Se){return Se={$$typeof:u,_currentValue:Se,_currentValue2:Se,_threadCount:0,Provider:null,Consumer:null},Se.Provider=Se,Se.Consumer={$$typeof:l,_context:Se},Se},Jn.createElement=function(Se,fe,be){var he,te={},ge=null;if(fe!=null)for(he in fe.key!==void 0&&(ge=""+fe.key),fe)ce.call(fe,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(te[he]=fe[he]);var Le=arguments.length-2;if(Le===1)te.children=be;else if(1<Le){for(var Ve=Array(Le),kt=0;kt<Le;kt++)Ve[kt]=arguments[kt+2];te.children=Ve}if(Se&&Se.defaultProps)for(he in Le=Se.defaultProps,Le)te[he]===void 0&&(te[he]=Le[he]);return ue(Se,ge,te)},Jn.createRef=function(){return{current:null}},Jn.forwardRef=function(Se){return{$$typeof:d,render:Se}},Jn.isValidElement=le,Jn.lazy=function(Se){return{$$typeof:f,_payload:{_status:-1,_result:Se},_init:re}},Jn.memo=function(Se,fe){return{$$typeof:o,type:Se,compare:fe===void 0?null:fe}},Jn.startTransition=function(Se){var fe=K.T,be={};K.T=be;try{var he=Se(),te=K.S;te!==null&&te(be,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Q,Ee)}catch(ge){Ee(ge)}finally{fe!==null&&be.types!==null&&(fe.types=be.types),K.T=fe}},Jn.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Jn.use=function(Se){return K.H.use(Se)},Jn.useActionState=function(Se,fe,be){return K.H.useActionState(Se,fe,be)},Jn.useCallback=function(Se,fe){return K.H.useCallback(Se,fe)},Jn.useContext=function(Se){return K.H.useContext(Se)},Jn.useDebugValue=function(){},Jn.useDeferredValue=function(Se,fe){return K.H.useDeferredValue(Se,fe)},Jn.useEffect=function(Se,fe){return K.H.useEffect(Se,fe)},Jn.useEffectEvent=function(Se){return K.H.useEffectEvent(Se)},Jn.useId=function(){return K.H.useId()},Jn.useImperativeHandle=function(Se,fe,be){return K.H.useImperativeHandle(Se,fe,be)},Jn.useInsertionEffect=function(Se,fe){return K.H.useInsertionEffect(Se,fe)},Jn.useLayoutEffect=function(Se,fe){return K.H.useLayoutEffect(Se,fe)},Jn.useMemo=function(Se,fe){return K.H.useMemo(Se,fe)},Jn.useOptimistic=function(Se,fe){return K.H.useOptimistic(Se,fe)},Jn.useReducer=function(Se,fe,be){return K.H.useReducer(Se,fe,be)},Jn.useRef=function(Se){return K.H.useRef(Se)},Jn.useState=function(Se){return K.H.useState(Se)},Jn.useSyncExternalStore=function(Se,fe,be){return K.H.useSyncExternalStore(Se,fe,be)},Jn.useTransition=function(){return K.H.useTransition()},Jn.version="19.2.3",Jn}var sw;function Cm(){return sw||(sw=1,Jx.exports=O4()),Jx.exports}var W=Cm();const Uc=Vg(W),I4=F4({__proto__:null,default:Uc},[W]);var Zx={exports:{}},Dp={},qx={exports:{}},eb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function D4(){return rw||(rw=1,(function(s){function e(se,pe){var re=se.length;se.push(pe);e:for(;0<re;){var Ee=re-1>>>1,De=se[Ee];if(0<a(De,pe))se[Ee]=pe,se[re]=De,re=Ee;else break e}}function r(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var pe=se[0],re=se.pop();if(re!==pe){se[0]=re;e:for(var Ee=0,De=se.length,Se=De>>>1;Ee<Se;){var fe=2*(Ee+1)-1,be=se[fe],he=fe+1,te=se[he];if(0>a(be,re))he<De&&0>a(te,be)?(se[Ee]=te,se[he]=re,Ee=he):(se[Ee]=be,se[fe]=re,Ee=fe);else if(he<De&&0>a(te,re))se[Ee]=te,se[he]=re,Ee=he;else break e}}return pe}function a(se,pe){var re=se.sortIndex-pe.sortIndex;return re!==0?re:se.id-pe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();s.unstable_now=function(){return u.now()-d}}var A=[],o=[],f=1,p=null,m=3,x=!1,b=!1,j=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function X(se){for(var pe=r(o);pe!==null;){if(pe.callback===null)n(o);else if(pe.startTime<=se)n(o),pe.sortIndex=pe.expirationTime,e(A,pe);else break;pe=r(o)}}function Y(se){if(j=!1,X(se),!b)if(r(A)!==null)b=!0,Q||(Q=!0,Ce());else{var pe=r(o);pe!==null&&Ae(Y,pe.startTime-se)}}var Q=!1,K=-1,ce=5,ue=-1;function Ne(){return y?!0:!(s.unstable_now()-ue<ce)}function le(){if(y=!1,Q){var se=s.unstable_now();ue=se;var pe=!0;try{e:{b=!1,j&&(j=!1,R(K),K=-1),x=!0;var re=m;try{t:{for(X(se),p=r(A);p!==null&&!(p.expirationTime>se&&Ne());){var Ee=p.callback;if(typeof Ee=="function"){p.callback=null,m=p.priorityLevel;var De=Ee(p.expirationTime<=se);if(se=s.unstable_now(),typeof De=="function"){p.callback=De,X(se),pe=!0;break t}p===r(A)&&n(A),X(se)}else n(A);p=r(A)}if(p!==null)pe=!0;else{var Se=r(o);Se!==null&&Ae(Y,Se.startTime-se),pe=!1}}break e}finally{p=null,m=re,x=!1}pe=void 0}}finally{pe?Ce():Q=!1}}}var Ce;if(typeof z=="function")Ce=function(){z(le)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,je=oe.port2;oe.port1.onmessage=le,Ce=function(){je.postMessage(null)}}else Ce=function(){T(le,0)};function Ae(se,pe){K=T(function(){se(s.unstable_now())},pe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(se){se.callback=null},s.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<se?Math.floor(1e3/se):5},s.unstable_getCurrentPriorityLevel=function(){return m},s.unstable_next=function(se){switch(m){case 1:case 2:case 3:var pe=3;break;default:pe=m}var re=m;m=pe;try{return se()}finally{m=re}},s.unstable_requestPaint=function(){y=!0},s.unstable_runWithPriority=function(se,pe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var re=m;m=se;try{return pe()}finally{m=re}},s.unstable_scheduleCallback=function(se,pe,re){var Ee=s.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ee+re:Ee):re=Ee,se){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=re+De,se={id:f++,callback:pe,priorityLevel:se,startTime:re,expirationTime:De,sortIndex:-1},re>Ee?(se.sortIndex=re,e(o,se),r(A)===null&&se===r(o)&&(j?(R(K),K=-1):j=!0,Ae(Y,re-Ee))):(se.sortIndex=De,e(A,se),b||x||(b=!0,Q||(Q=!0,Ce()))),se},s.unstable_shouldYield=Ne,s.unstable_wrapCallback=function(se){var pe=m;return function(){var re=m;m=pe;try{return se.apply(this,arguments)}finally{m=re}}}})(eb)),eb}var nw;function R4(){return nw||(nw=1,qx.exports=D4()),qx.exports}var tb={exports:{}},$c={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function P4(){if(aw)return $c;aw=1;var s=Cm();function e(A){var o="https://react.dev/errors/"+A;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+A+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(A,o,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:A,containerInfo:o,implementation:f}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(A,o){if(A==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return $c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,$c.createPortal=function(A,o){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(e(299));return l(A,o,null,f)},$c.flushSync=function(A){var o=u.T,f=n.p;try{if(u.T=null,n.p=2,A)return A()}finally{u.T=o,n.p=f,n.d.f()}},$c.preconnect=function(A,o){typeof A=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,n.d.C(A,o))},$c.prefetchDNS=function(A){typeof A=="string"&&n.d.D(A)},$c.preinit=function(A,o){if(typeof A=="string"&&o&&typeof o.as=="string"){var f=o.as,p=d(f,o.crossOrigin),m=typeof o.integrity=="string"?o.integrity:void 0,x=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;f==="style"?n.d.S(A,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:x}):f==="script"&&n.d.X(A,{crossOrigin:p,integrity:m,fetchPriority:x,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},$c.preinitModule=function(A,o){if(typeof A=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var f=d(o.as,o.crossOrigin);n.d.M(A,{crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&n.d.M(A)},$c.preload=function(A,o){if(typeof A=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var f=o.as,p=d(f,o.crossOrigin);n.d.L(A,f,{crossOrigin:p,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},$c.preloadModule=function(A,o){if(typeof A=="string")if(o){var f=d(o.as,o.crossOrigin);n.d.m(A,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else n.d.m(A)},$c.requestFormReset=function(A){n.d.r(A)},$c.unstable_batchedUpdates=function(A,o){return A(o)},$c.useFormState=function(A,o,f){return u.H.useFormState(A,o,f)},$c.useFormStatus=function(){return u.H.useHostTransitionStatus()},$c.version="19.2.3",$c}var iw;function zj(){if(iw)return tb.exports;iw=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),tb.exports=P4(),tb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function Q4(){if(ow)return Dp;ow=1;var s=R4(),e=Cm(),r=zj();function n(i){var c="https://react.dev/errors/"+i;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var c=i,h=i;if(i.alternate)for(;c.return;)c=c.return;else{i=c;do c=i,(c.flags&4098)!==0&&(h=c.return),i=c.return;while(i)}return c.tag===3?h:null}function u(i){if(i.tag===13){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function d(i){if(i.tag===31){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function A(i){if(l(i)!==i)throw Error(n(188))}function o(i){var c=i.alternate;if(!c){if(c=l(i),c===null)throw Error(n(188));return c!==i?null:i}for(var h=i,g=c;;){var O=h.return;if(O===null)break;var _=O.alternate;if(_===null){if(g=O.return,g!==null){h=g;continue}break}if(O.child===_.child){for(_=O.child;_;){if(_===h)return A(O),i;if(_===g)return A(O),c;_=_.sibling}throw Error(n(188))}if(h.return!==g.return)h=O,g=_;else{for(var ve=!1,ze=O.child;ze;){if(ze===h){ve=!0,h=O,g=_;break}if(ze===g){ve=!0,g=O,h=_;break}ze=ze.sibling}if(!ve){for(ze=_.child;ze;){if(ze===h){ve=!0,h=_,g=O;break}if(ze===g){ve=!0,g=_,h=O;break}ze=ze.sibling}if(!ve)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?i:c}function f(i){var c=i.tag;if(c===5||c===26||c===27||c===6)return i;for(i=i.child;i!==null;){if(c=f(i),c!==null)return c;i=i.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function Ce(i){return i===null||typeof i!="object"?null:(i=le&&i[le]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Symbol.for("react.client.reference");function je(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===oe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case T:return"Profiler";case y:return"StrictMode";case Y:return"Suspense";case Q:return"SuspenseList";case ue:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case z:return i.displayName||"Context";case R:return(i._context.displayName||"Context")+".Consumer";case X:var c=i.render;return i=i.displayName,i||(i=c.displayName||c.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return c=i.displayName||null,c!==null?c:je(i.type)||"Memo";case ce:c=i._payload,i=i._init;try{return je(i(c))}catch{}}return null}var Ae=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ee=[],De=-1;function Se(i){return{current:i}}function fe(i){0>De||(i.current=Ee[De],Ee[De]=null,De--)}function be(i,c){De++,Ee[De]=i.current,i.current=c}var he=Se(null),te=Se(null),ge=Se(null),Le=Se(null);function Ve(i,c){switch(be(ge,c),be(te,i),be(he,null),c.nodeType){case 9:case 11:i=(i=c.documentElement)&&(i=i.namespaceURI)?w1(i):0;break;default:if(i=c.tagName,c=c.namespaceURI)c=w1(c),i=j1(c,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}fe(he),be(he,i)}function kt(){fe(he),fe(te),fe(ge)}function Bt(i){i.memoizedState!==null&&be(Le,i);var c=he.current,h=j1(c,i.type);c!==h&&(be(te,i),be(he,h))}function We(i){te.current===i&&(fe(he),fe(te)),Le.current===i&&(fe(Le),Up._currentValue=re)}var Lt,$t;function ls(i){if(Lt===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Lt=c&&c[1]||"",$t=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lt+i+$t}var Ts=!1;function Pe(i,c){if(!i||Ts)return"";Ts=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Os=function(){throw Error()};if(Object.defineProperty(Os.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Os,[])}catch(cs){var as=cs}Reflect.construct(i,[],Os)}else{try{Os.call()}catch(cs){as=cs}i.call(Os.prototype)}}else{try{throw Error()}catch(cs){as=cs}(Os=i())&&typeof Os.catch=="function"&&Os.catch(function(){})}}catch(cs){if(cs&&as&&typeof cs.stack=="string")return[cs.stack,as.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=g.DetermineComponentFrameRoot(),ve=_[0],ze=_[1];if(ve&&ze){var mt=ve.split(`
`),ns=ze.split(`
`);for(O=g=0;g<mt.length&&!mt[g].includes("DetermineComponentFrameRoot");)g++;for(;O<ns.length&&!ns[O].includes("DetermineComponentFrameRoot");)O++;if(g===mt.length||O===ns.length)for(g=mt.length-1,O=ns.length-1;1<=g&&0<=O&&mt[g]!==ns[O];)O--;for(;1<=g&&0<=O;g--,O--)if(mt[g]!==ns[O]){if(g!==1||O!==1)do if(g--,O--,0>O||mt[g]!==ns[O]){var Ss=`
`+mt[g].replace(" at new "," at ");return i.displayName&&Ss.includes("<anonymous>")&&(Ss=Ss.replace("<anonymous>",i.displayName)),Ss}while(1<=g&&0<=O);break}}}finally{Ts=!1,Error.prepareStackTrace=h}return(h=i?i.displayName||i.name:"")?ls(h):""}function ut(i,c){switch(i.tag){case 26:case 27:case 5:return ls(i.type);case 16:return ls("Lazy");case 13:return i.child!==c&&c!==null?ls("Suspense Fallback"):ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return Pe(i.type,!1);case 11:return Pe(i.type.render,!1);case 1:return Pe(i.type,!0);case 31:return ls("Activity");default:return""}}function St(i){try{var c="",h=null;do c+=ut(i,h),h=i,i=i.return;while(i);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Is=Object.prototype.hasOwnProperty,us=s.unstable_scheduleCallback,br=s.unstable_cancelCallback,hr=s.unstable_shouldYield,ar=s.unstable_requestPaint,Fs=s.unstable_now,Cs=s.unstable_getCurrentPriorityLevel,Bs=s.unstable_ImmediatePriority,vr=s.unstable_UserBlockingPriority,gr=s.unstable_NormalPriority,en=s.unstable_LowPriority,Nr=s.unstable_IdlePriority,er=s.log,Ys=s.unstable_setDisableYieldValue,Es=null,ft=null;function Vt(i){if(typeof er=="function"&&Ys(i),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Es,i)}catch{}}var js=Math.clz32?Math.clz32:yt,Vs=Math.log,or=Math.LN2;function yt(i){return i>>>=0,i===0?32:31-(Vs(i)/or|0)|0}var qt=256,As=262144,hs=4194304;function Ks(i){var c=i&42;if(c!==0)return c;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function $s(i,c,h){var g=i.pendingLanes;if(g===0)return 0;var O=0,_=i.suspendedLanes,ve=i.pingedLanes;i=i.warmLanes;var ze=g&134217727;return ze!==0?(g=ze&~_,g!==0?O=Ks(g):(ve&=ze,ve!==0?O=Ks(ve):h||(h=ze&~i,h!==0&&(O=Ks(h))))):(ze=g&~_,ze!==0?O=Ks(ze):ve!==0?O=Ks(ve):h||(h=g&~i,h!==0&&(O=Ks(h)))),O===0?0:c!==0&&c!==O&&(c&_)===0&&(_=O&-O,h=c&-c,_>=h||_===32&&(h&4194048)!==0)?c:O}function fr(i,c){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&c)===0}function tn(i,c){switch(i){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wa(){var i=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),i}function Us(i){for(var c=[],h=0;31>h;h++)c.push(i);return c}function Ds(i,c){i.pendingLanes|=c,c!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sr(i,c,h,g,O,_){var ve=i.pendingLanes;i.pendingLanes=h,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=h,i.entangledLanes&=h,i.errorRecoveryDisabledLanes&=h,i.shellSuspendCounter=0;var ze=i.entanglements,mt=i.expirationTimes,ns=i.hiddenUpdates;for(h=ve&~h;0<h;){var Ss=31-js(h),Os=1<<Ss;ze[Ss]=0,mt[Ss]=-1;var as=ns[Ss];if(as!==null)for(ns[Ss]=null,Ss=0;Ss<as.length;Ss++){var cs=as[Ss];cs!==null&&(cs.lane&=-536870913)}h&=~Os}g!==0&&ms(i,g,0),_!==0&&O===0&&i.tag!==0&&(i.suspendedLanes|=_&~(ve&~c))}function ms(i,c,h){i.pendingLanes|=c,i.suspendedLanes&=~c;var g=31-js(c);i.entangledLanes|=c,i.entanglements[g]=i.entanglements[g]|1073741824|h&261930}function Or(i,c){var h=i.entangledLanes|=c;for(i=i.entanglements;h;){var g=31-js(h),O=1<<g;O&c|i[g]&c&&(i[g]|=c),h&=~O}}function Pr(i,c){var h=c&-c;return h=(h&42)!==0?1:Ar(h),(h&(i.suspendedLanes|c))!==0?0:h}function Ar(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Da(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function fa(){var i=pe.p;return i!==0?i:(i=window.event,i===void 0?32:K1(i.type))}function fn(i,c){var h=pe.p;try{return pe.p=i,c()}finally{pe.p=h}}var jn=Math.random().toString(36).slice(2),dn="__reactFiber$"+jn,la="__reactProps$"+jn,Dn="__reactContainer$"+jn,Ii="__reactEvents$"+jn,Rn="__reactListeners$"+jn,mc="__reactHandles$"+jn,oi="__reactResources$"+jn,Uo="__reactMarker$"+jn;function Kl(i){delete i[dn],delete i[la],delete i[Ii],delete i[Rn],delete i[mc]}function ho(i){var c=i[dn];if(c)return c;for(var h=i.parentNode;h;){if(c=h[Dn]||h[dn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(i=T1(i);i!==null;){if(h=i[dn])return h;i=T1(i)}return c}i=h,h=i.parentNode}return null}function pa(i){if(i=i[dn]||i[Dn]){var c=i.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return i}return null}function Ni(i){var c=i.tag;if(c===5||c===26||c===27||c===6)return i.stateNode;throw Error(n(33))}function sa(i){var c=i[oi];return c||(c=i[oi]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ua(i){i[Uo]=!0}var qn=new Set,fo={};function Ai(i,c){ki(i,c),ki(i+"Capture",c)}function ki(i,c){for(fo[i]=c,i=0;i<c.length;i++)qn.add(c[i])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},Ul={};function xa(i){return Is.call(Ul,i)?!0:Is.call(el,i)?!1:hl.test(i)?Ul[i]=!0:(el[i]=!0,!1)}function ja(i,c,h){if(xa(c))if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":i.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){i.removeAttribute(c);return}}i.setAttribute(c,""+h)}}function po(i,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttribute(c,""+h)}}function ti(i,c,h,g){if(g===null)i.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(h);return}i.setAttributeNS(c,h,""+g)}}function Di(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hi(i){var c=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Wr(i,c,h){var g=Object.getOwnPropertyDescriptor(i.constructor.prototype,c);if(!i.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var O=g.get,_=g.set;return Object.defineProperty(i,c,{configurable:!0,get:function(){return O.call(this)},set:function(ve){h=""+ve,_.call(this,ve)}}),Object.defineProperty(i,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(ve){h=""+ve},stopTracking:function(){i._valueTracker=null,delete i[c]}}}}function Ka(i){if(!i._valueTracker){var c=hi(i)?"checked":"value";i._valueTracker=Wr(i,c,""+i[c])}}function Ci(i){if(!i)return!1;var c=i._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return i&&(g=hi(i)?i.checked?"true":"false":i.value),i=g,i!==h?(c.setValue(i),!0):!1}function Qa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var mo=/[\n"\\]/g;function Wn(i){return i.replace(mo,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ki(i,c,h,g,O,_,ve,ze){i.name="",ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?i.type=ve:i.removeAttribute("type"),c!=null?ve==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+Di(c)):i.value!==""+Di(c)&&(i.value=""+Di(c)):ve!=="submit"&&ve!=="reset"||i.removeAttribute("value"),c!=null?Ra(i,ve,Di(c)):h!=null?Ra(i,ve,Di(h)):g!=null&&i.removeAttribute("value"),O==null&&_!=null&&(i.defaultChecked=!!_),O!=null&&(i.checked=O&&typeof O!="function"&&typeof O!="symbol"),ze!=null&&typeof ze!="function"&&typeof ze!="symbol"&&typeof ze!="boolean"?i.name=""+Di(ze):i.removeAttribute("name")}function Ga(i,c,h,g,O,_,ve,ze){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),c!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||c!=null)){Ka(i);return}h=h!=null?""+Di(h):"",c=c!=null?""+Di(c):h,ze||c===i.value||(i.value=c),i.defaultValue=c}g=g??O,g=typeof g!="function"&&typeof g!="symbol"&&!!g,i.checked=ze?i.checked:!!g,i.defaultChecked=!!g,ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"&&(i.name=ve),Ka(i)}function Ra(i,c,h){c==="number"&&Qa(i.ownerDocument)===i||i.defaultValue===""+h||(i.defaultValue=""+h)}function fi(i,c,h,g){if(i=i.options,c){c={};for(var O=0;O<h.length;O++)c["$"+h[O]]=!0;for(h=0;h<i.length;h++)O=c.hasOwnProperty("$"+i[h].value),i[h].selected!==O&&(i[h].selected=O),O&&g&&(i[h].defaultSelected=!0)}else{for(h=""+Di(h),c=null,O=0;O<i.length;O++){if(i[O].value===h){i[O].selected=!0,g&&(i[O].defaultSelected=!0);return}c!==null||i[O].disabled||(c=i[O])}c!==null&&(c.selected=!0)}}function Fo(i,c,h){if(c!=null&&(c=""+Di(c),c!==i.value&&(i.value=c),h==null)){i.defaultValue!==c&&(i.defaultValue=c);return}i.defaultValue=h!=null?""+Di(h):""}function Bi(i,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(n(92));if(Ae(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=Di(c),i.defaultValue=h,g=i.textContent,g===h&&g!==""&&g!==null&&(i.value=g),Ka(i)}function ba(i,c){if(c){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=c;return}}i.textContent=c}var pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eo(i,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="":g?i.setProperty(c,h):typeof h!="number"||h===0||pi.has(c)?c==="float"?i.cssFloat=h:i[c]=(""+h).trim():i[c]=h+"px"}function Si(i,c,h){if(c!=null&&typeof c!="object")throw Error(n(62));if(i=i.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?i.setProperty(g,""):g==="float"?i.cssFloat="":i[g]="");for(var O in c)g=c[O],c.hasOwnProperty(O)&&h[O]!==g&&eo(i,O,g)}else for(var _ in c)c.hasOwnProperty(_)&&eo(i,_,c[_])}function oo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function G(i){return L.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function J(){}var E=null;function M(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $=null,ie=null;function ye(i){var c=pa(i);if(c&&(i=c.stateNode)){var h=i[la]||null;e:switch(i=c.stateNode,c.type){case"input":if(Ki(i,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Wn(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==i&&g.form===i.form){var O=g[la]||null;if(!O)throw Error(n(90));Ki(g,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===i.form&&Ci(g)}break e;case"textarea":Fo(i,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&fi(i,!!h.multiple,c,!1)}}}var Re=!1;function Ze(i,c,h){if(Re)return i(c,h);Re=!0;try{var g=i(c);return g}finally{if(Re=!1,($!==null||ie!==null)&&(Hl(),$&&(c=$,i=ie,ie=$=null,ye(c),i)))for(c=0;c<i.length;c++)ye(i[c])}}function N(i,c){var h=i.stateNode;if(h===null)return null;var g=h[la]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S=!1;if(v)try{var I={};Object.defineProperty(I,"passive",{get:function(){S=!0}}),window.addEventListener("test",I,I),window.removeEventListener("test",I,I)}catch{S=!1}var P=null,V=null,de=null;function q(){if(de)return de;var i,c=V,h=c.length,g,O="value"in P?P.value:P.textContent,_=O.length;for(i=0;i<h&&c[i]===O[i];i++);var ve=h-i;for(g=1;g<=ve&&c[h-g]===O[_-g];g++);return de=O.slice(i,1<g?1-g:void 0)}function ee(i){var c=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&c===13&&(i=13)):i=c,i===10&&(i=13),32<=i||i===13?i:0}function ke(){return!0}function Me(){return!1}function $e(i){function c(h,g,O,_,ve){this._reactName=h,this._targetInst=O,this.type=g,this.nativeEvent=_,this.target=ve,this.currentTarget=null;for(var ze in i)i.hasOwnProperty(ze)&&(h=i[ze],this[ze]=h?h(_):_[ze]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ke:Me,this.isPropagationStopped=Me,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ke)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ke)},persist:function(){},isPersistent:ke}),c}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=$e(Je),ct=p({},Je,{view:0,detail:0}),ot=$e(ct),At,Ye,wt,Rt=p({},ct,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wt&&(wt&&i.type==="mousemove"?(At=i.screenX-wt.screenX,Ye=i.screenY-wt.screenY):Ye=At=0,wt=i),At)},movementY:function(i){return"movementY"in i?i.movementY:Ye}}),gt=$e(Rt),Ge=p({},Rt,{dataTransfer:0}),Mt=$e(Ge),is=p({},ct,{relatedTarget:0}),Ht=$e(is),vt=p({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),ts=$e(vt),Xe=p({},Je,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rt=$e(Xe),xt=p({},Je,{data:0}),bt=$e(xt),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ds={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kt(i){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(i):(i=bs[i])?!!c[i]:!1}function fs(){return Kt}var Xs=p({},ct,{key:function(i){if(i.key){var c=rs[i.key]||i.key;if(c!=="Unidentified")return c}return i.type==="keypress"?(i=ee(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ds[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(i){return i.type==="keypress"?ee(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ee(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_s=$e(Xs),_e=p({},Rt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dt=$e(_e),ht=p({},ct,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),Ot=$e(ht),Pt=p({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yt=$e(Pt),ps=p({},Rt,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),gs=$e(ps),Ls=p({},Je,{newState:0,oldState:0}),Js=$e(Ls),xr=[9,13,27,32],mr=v&&"CompositionEvent"in window,Yr=null;v&&"documentMode"in document&&(Yr=document.documentMode);var tt=v&&"TextEvent"in window&&!Yr,lr=v&&(!mr||Yr&&8<Yr&&11>=Yr),un=" ",rr=!1;function Hs(i,c){switch(i){case"keyup":return xr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sn(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yr=!1;function Vr(i,c){switch(i){case"compositionend":return sn(c);case"keypress":return c.which!==32?null:(rr=!0,un);case"textInput":return i=c.data,i===un&&rr?null:i;default:return null}}function Ir(i,c){if(yr)return i==="compositionend"||!mr&&Hs(i,c)?(i=q(),de=V=P=null,yr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return lr&&c.locale!=="ko"?null:c.data;default:return null}}var Ca={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sn(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c==="input"?!!Ca[i.type]:c==="textarea"}function Cr(i,c,h,g){$?ie?ie.push(g):ie=[g]:$=g,c=_m(c,"onChange"),0<c.length&&(h=new xe("onChange","change",null,h,g),i.push({event:h,listeners:c}))}var $n=null,Xr=null;function Br(i){m1(i,0)}function nn(i){var c=Ni(i);if(Ci(c))return i}function Dr(i,c){if(i==="change")return c}var vn=!1;if(v){var Yn;if(v){var En="oninput"in document;if(!En){var Pn=document.createElement("div");Pn.setAttribute("oninput","return;"),En=typeof Pn.oninput=="function"}Yn=En}else Yn=!1;vn=Yn&&(!document.documentMode||9<document.documentMode)}function Wa(){$n&&($n.detachEvent("onpropertychange",Kr),Xr=$n=null)}function Kr(i){if(i.propertyName==="value"&&nn(Xr)){var c=[];Cr(c,Xr,i,M(i)),Ze(Br,c)}}function _a(i,c,h){i==="focusin"?(Wa(),$n=c,Xr=h,$n.attachEvent("onpropertychange",Kr)):i==="focusout"&&Wa()}function pn(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nn(Xr)}function Hr(i,c){if(i==="click")return nn(c)}function Na(i,c){if(i==="input"||i==="change")return nn(c)}function Nn(i,c){return i===c&&(i!==0||1/i===1/c)||i!==i&&c!==c}var ir=typeof Object.is=="function"?Object.is:Nn;function Ln(i,c){if(ir(i,c))return!0;if(typeof i!="object"||i===null||typeof c!="object"||c===null)return!1;var h=Object.keys(i),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var O=h[g];if(!Is.call(c,O)||!ir(i[O],c[O]))return!1}return!0}function Yc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ri(i,c){var h=Yc(i);i=0;for(var g;h;){if(h.nodeType===3){if(g=i+h.textContent.length,i<=c&&g>=c)return{node:h,offset:c-i};i=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Yc(h)}}function lo(i,c){return i&&c?i===c?!0:i&&i.nodeType===3?!1:c&&c.nodeType===3?lo(i,c.parentNode):"contains"in i?i.contains(c):i.compareDocumentPosition?!!(i.compareDocumentPosition(c)&16):!1:!1}function Gl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var c=Qa(i.document);c instanceof i.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)i=c.contentWindow;else break;c=Qa(i.document)}return c}function an(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c&&(c==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||c==="textarea"||i.contentEditable==="true")}var li=v&&"documentMode"in document&&11>=document.documentMode,mi=null,tl=null,Lo=null,Pa=!1;function gi(i,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Pa||mi==null||mi!==Qa(g)||(g=mi,"selectionStart"in g&&an(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Lo&&Ln(Lo,g)||(Lo=g,g=_m(tl,"onSelect"),0<g.length&&(c=new xe("onSelect","select",null,c,h),i.push({event:c,listeners:g}),c.target=mi)))}function ci(i,c){var h={};return h[i.toLowerCase()]=c.toLowerCase(),h["Webkit"+i]="webkit"+c,h["Moz"+i]="moz"+c,h}var Fl={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},Pi={},fl={};v&&(fl=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function go(i){if(Pi[i])return Pi[i];if(!Fl[i])return i;var c=Fl[i],h;for(h in c)if(c.hasOwnProperty(h)&&h in fl)return Pi[i]=c[h];return i}var Ll=go("animationend"),Mo=go("animationiteration"),pl=go("animationstart"),Xc=go("transitionrun"),ml=go("transitionstart"),Oo=go("transitioncancel"),Fc=go("transitionend"),Jc=new Map,gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gc.push("scrollEnd");function sl(i,c){Jc.set(i,c),Ai(c,[i])}var Lc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Io=[],Ml=0,xo=0;function xc(){for(var i=Ml,c=xo=Ml=0;c<i;){var h=Io[c];Io[c++]=null;var g=Io[c];Io[c++]=null;var O=Io[c];Io[c++]=null;var _=Io[c];if(Io[c++]=null,g!==null&&O!==null){var ve=g.pending;ve===null?O.next=O:(O.next=ve.next,ve.next=O),g.pending=O}_!==0&&Jd(h,O,_)}}function Mc(i,c,h,g){Io[Ml++]=i,Io[Ml++]=c,Io[Ml++]=h,Io[Ml++]=g,xo|=g,i.lanes|=g,i=i.alternate,i!==null&&(i.lanes|=g)}function Ad(i,c,h,g){return Mc(i,c,h,g),hd(i)}function Wl(i,c){return Mc(i,null,null,c),hd(i)}function Jd(i,c,h){i.lanes|=h;var g=i.alternate;g!==null&&(g.lanes|=h);for(var O=!1,_=i.return;_!==null;)_.childLanes|=h,g=_.alternate,g!==null&&(g.childLanes|=h),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(O=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,O&&c!==null&&(O=31-js(h),i=_.hiddenUpdates,g=i[O],g===null?i[O]=[c]:g.push(c),c.lane=h|536870912),_):null}function hd(i){if(50<da)throw da=0,ya=null,Error(n(185));for(var c=i.return;c!==null;)i=c,c=i.return;return i.tag===3?i.stateNode:null}var bo={};function Od(i,c,h,g){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(i,c,h,g){return new Od(i,c,h,g)}function An(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ol(i,c){var h=i.alternate;return h===null?(h=Do(i.tag,c,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=c,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&65011712,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,c=i.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h.refCleanup=i.refCleanup,h}function Yl(i,c){i.flags&=65011714;var h=i.alternate;return h===null?(i.childLanes=0,i.lanes=c,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,c=h.dependencies,i.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),i}function Xl(i,c,h,g,O,_){var ve=0;if(g=i,typeof i=="function")An(i)&&(ve=1);else if(typeof i=="string")ve=x4(i,h,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ue:return i=Do(31,h,c,O),i.elementType=ue,i.lanes=_,i;case j:return Oc(h.children,O,_,c);case y:ve=8,O|=24;break;case T:return i=Do(12,h,c,O|2),i.elementType=T,i.lanes=_,i;case Y:return i=Do(13,h,c,O),i.elementType=Y,i.lanes=_,i;case Q:return i=Do(19,h,c,O),i.elementType=Q,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:ve=10;break e;case R:ve=9;break e;case X:ve=11;break e;case K:ve=14;break e;case ce:ve=16,g=null;break e}ve=29,h=Error(n(130,i===null?"null":typeof i,"")),g=null}return c=Do(ve,h,c,O),c.elementType=i,c.type=g,c.lanes=_,c}function Oc(i,c,h,g){return i=Do(7,i,g,c),i.lanes=h,i}function Il(i,c,h){return i=Do(6,i,null,c),i.lanes=h,i}function Gi(i){var c=Do(18,null,null,0);return c.stateNode=i,c}function Jl(i,c,h){return c=Do(4,i.children!==null?i.children:[],i.key,c),c.lanes=h,c.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},c}var fd=new WeakMap;function Wi(i,c){if(typeof i=="object"&&i!==null){var h=fd.get(i);return h!==void 0?h:(c={value:i,source:c,stack:St(c)},fd.set(i,c),c)}return{value:i,source:c,stack:St(c)}}var Zc=[],Ro=0,pd=null,Zl=0,vo=[],to=0,ql=null,gl=1,rl="";function xl(i,c){Zc[Ro++]=Zl,Zc[Ro++]=pd,pd=i,Zl=c}function gu(i,c,h){vo[to++]=gl,vo[to++]=rl,vo[to++]=ql,ql=i;var g=gl;i=rl;var O=32-js(g)-1;g&=~(1<<O),h+=1;var _=32-js(c)+O;if(30<_){var ve=O-O%5;_=(g&(1<<ve)-1).toString(32),g>>=ve,O-=ve,gl=1<<32-js(c)+O|h<<O|g,rl=_+i}else gl=1<<_|h<<O|g,rl=i}function Dl(i){i.return!==null&&(xl(i,1),gu(i,1,0))}function xu(i){for(;i===pd;)pd=Zc[--Ro],Zc[Ro]=null,Zl=Zc[--Ro],Zc[Ro]=null;for(;i===ql;)ql=vo[--to],vo[to]=null,rl=vo[--to],vo[to]=null,gl=vo[--to],vo[to]=null}function md(i,c){vo[to++]=gl,vo[to++]=rl,vo[to++]=ql,gl=c.id,rl=c.overflow,ql=i}var Qi=null,Ha=null,cr=!1,Ic=null,bl=!1,gd=Error(n(519));function Po(i){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Wi(c,i)),gd}function Dc(i){var c=i.stateNode,h=i.type,g=i.memoizedProps;switch(c[dn]=i,c[la]=g,h){case"dialog":ka("cancel",c),ka("close",c);break;case"iframe":case"object":case"embed":ka("load",c);break;case"video":case"audio":for(h=0;h<Cp.length;h++)ka(Cp[h],c);break;case"source":ka("error",c);break;case"img":case"image":case"link":ka("error",c),ka("load",c);break;case"details":ka("toggle",c);break;case"input":ka("invalid",c),Ga(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":ka("invalid",c);break;case"textarea":ka("invalid",c),Bi(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||v1(c.textContent,h)?(g.popover!=null&&(ka("beforetoggle",c),ka("toggle",c)),g.onScroll!=null&&ka("scroll",c),g.onScrollEnd!=null&&ka("scrollend",c),g.onClick!=null&&(c.onclick=J),c=!0):c=!1,c||Po(i,!0)}function bu(i){for(Qi=i.return;Qi;)switch(Qi.tag){case 5:case 31:case 13:bl=!1;return;case 27:case 3:bl=!0;return;default:Qi=Qi.return}}function xd(i){if(i!==Qi)return!1;if(!cr)return bu(i),cr=!0,!1;var c=i.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=i.type,h=!(h!=="form"&&h!=="button")||Ox(i.type,i.memoizedProps)),h=!h),h&&Ha&&Po(i),bu(i),c===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ha=E1(i)}else if(c===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ha=E1(i)}else c===27?(c=Ha,uh(i.type)?(i=Qx,Qx=null,Ha=i):Ha=c):Ha=Qi?au(i.stateNode.nextSibling):null;return!0}function Yi(){Ha=Qi=null,cr=!1}function qc(){var i=Ic;return i!==null&&(Nt===null?Nt=i:Nt.push.apply(Nt,i),Ic=null),i}function vl(i){Ic===null?Ic=[i]:Ic.push(i)}var Zd=Se(null),nl=null,bc=null;function Qo(i,c,h){be(Zd,c._currentValue),c._currentValue=h}function al(i){i._currentValue=Zd.current,fe(Zd)}function bd(i,c,h){for(;i!==null;){var g=i.alternate;if((i.childLanes&c)!==c?(i.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),i===h)break;i=i.return}}function yl(i,c,h,g){var O=i.child;for(O!==null&&(O.return=i);O!==null;){var _=O.dependencies;if(_!==null){var ve=O.child;_=_.firstContext;e:for(;_!==null;){var ze=_;_=O;for(var mt=0;mt<c.length;mt++)if(ze.context===c[mt]){_.lanes|=h,ze=_.alternate,ze!==null&&(ze.lanes|=h),bd(_.return,h,i),g||(ve=null);break e}_=ze.next}}else if(O.tag===18){if(ve=O.return,ve===null)throw Error(n(341));ve.lanes|=h,_=ve.alternate,_!==null&&(_.lanes|=h),bd(ve,h,i),ve=null}else ve=O.child;if(ve!==null)ve.return=O;else for(ve=O;ve!==null;){if(ve===i){ve=null;break}if(O=ve.sibling,O!==null){O.return=ve.return,ve=O;break}ve=ve.return}O=ve}}function vc(i,c,h,g){i=null;for(var O=c,_=!1;O!==null;){if(!_){if((O.flags&524288)!==0)_=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var ve=O.alternate;if(ve===null)throw Error(n(387));if(ve=ve.memoizedProps,ve!==null){var ze=O.type;ir(O.pendingProps.value,ve.value)||(i!==null?i.push(ze):i=[ze])}}else if(O===Le.current){if(ve=O.alternate,ve===null)throw Error(n(387));ve.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(i!==null?i.push(Up):i=[Up])}O=O.return}i!==null&&yl(c,i,h,g),c.flags|=262144}function ed(i){for(i=i.firstContext;i!==null;){if(!ir(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function il(i){nl=i,bc=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function si(i){return vu(nl,i)}function vd(i,c){return nl===null&&il(i),vu(i,c)}function vu(i,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},bc===null){if(i===null)throw Error(n(308));bc=c,i.dependencies={lanes:0,firstContext:c},i.flags|=524288}else bc=bc.next=c;return h}var Lu=typeof AbortController<"u"?AbortController:function(){var i=[],c=this.signal={aborted:!1,addEventListener:function(h,g){i.push(g)}};this.abort=function(){c.aborted=!0,i.forEach(function(h){return h()})}},td=s.unstable_scheduleCallback,sd=s.unstable_NormalPriority,xi={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new Lu,data:new Map,refCount:0}}function yd(i){i.refCount--,i.refCount===0&&td(sd,function(){i.controller.abort()})}var Z=null,Te=0,at=0,pt=null;function Qt(i,c){if(Z===null){var h=Z=[];Te=0,at=Cx(),pt={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Te++,c.then(Ns,Ns),c}function Ns(){if(--Te===0&&Z!==null){pt!==null&&(pt.status="fulfilled");var i=Z;Z=null,at=0,pt=null;for(var c=0;c<i.length;c++)(0,i[c])()}}function Rs(i,c){var h=[],g={status:"pending",value:null,reason:null,then:function(O){h.push(O)}};return i.then(function(){g.status="fulfilled",g.value=c;for(var O=0;O<h.length;O++)(0,h[O])(c)},function(O){for(g.status="rejected",g.reason=O,O=0;O<h.length;O++)(0,h[O])(void 0)}),g}var Sr=se.S;se.S=function(i,c){ws=Fs(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Qt(i,c),Sr!==null&&Sr(i,c)};var Er=Se(null);function mn(){var i=Er.current;return i!==null?i:ga.pooledCache}function kn(i,c){c===null?be(Er,Er.current):be(Er,c.pool)}function ra(){var i=mn();return i===null?null:{parent:xi._currentValue,pool:i}}var Fa=Error(n(460)),bi=Error(n(474)),Ba=Error(n(542)),Ei={then:function(){}};function k(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Be(i,c,h){switch(h=i[h],h===void 0?i.push(c):h!==c&&(c.then(J,J),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw i=c.reason,it(i),i;default:if(typeof c.status=="string")c.then(J,J);else{if(i=ga,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=c,i.status="pending",i.then(function(g){if(c.status==="pending"){var O=c;O.status="fulfilled",O.value=g}},function(g){if(c.status==="pending"){var O=c;O.status="rejected",O.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw i=c.reason,it(i),i}throw Qe=c,Fa}}function H(i){try{var c=i._init;return c(i._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Qe=h,Fa):h}}var Qe=null;function lt(){if(Qe===null)throw Error(n(459));var i=Qe;return Qe=null,i}function it(i){if(i===Fa||i===Ba)throw Error(n(483))}var Xt=null,Ut=0;function pr(i){var c=Ut;return Ut+=1,Xt===null&&(Xt=[]),Be(Xt,i,c)}function jt(i,c){c=c.props.ref,i.ref=c!==void 0?c:null}function Jt(i,c){throw c.$$typeof===m?Error(n(525)):(i=Object.prototype.toString.call(c),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":i)))}function gn(i){function c(zt,Et){if(i){var ss=zt.deletions;ss===null?(zt.deletions=[Et],zt.flags|=16):ss.push(Et)}}function h(zt,Et){if(!i)return null;for(;Et!==null;)c(zt,Et),Et=Et.sibling;return null}function g(zt){for(var Et=new Map;zt!==null;)zt.key!==null?Et.set(zt.key,zt):Et.set(zt.index,zt),zt=zt.sibling;return Et}function O(zt,Et){return zt=Ol(zt,Et),zt.index=0,zt.sibling=null,zt}function _(zt,Et,ss){return zt.index=ss,i?(ss=zt.alternate,ss!==null?(ss=ss.index,ss<Et?(zt.flags|=67108866,Et):ss):(zt.flags|=67108866,Et)):(zt.flags|=1048576,Et)}function ve(zt){return i&&zt.alternate===null&&(zt.flags|=67108866),zt}function ze(zt,Et,ss,Ms){return Et===null||Et.tag!==6?(Et=Il(ss,zt.mode,Ms),Et.return=zt,Et):(Et=O(Et,ss),Et.return=zt,Et)}function mt(zt,Et,ss,Ms){var xn=ss.type;return xn===j?Ss(zt,Et,ss.props.children,Ms,ss.key):Et!==null&&(Et.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===ce&&H(xn)===Et.type)?(Et=O(Et,ss.props),jt(Et,ss),Et.return=zt,Et):(Et=Xl(ss.type,ss.key,ss.props,null,zt.mode,Ms),jt(Et,ss),Et.return=zt,Et)}function ns(zt,Et,ss,Ms){return Et===null||Et.tag!==4||Et.stateNode.containerInfo!==ss.containerInfo||Et.stateNode.implementation!==ss.implementation?(Et=Jl(ss,zt.mode,Ms),Et.return=zt,Et):(Et=O(Et,ss.children||[]),Et.return=zt,Et)}function Ss(zt,Et,ss,Ms,xn){return Et===null||Et.tag!==7?(Et=Oc(ss,zt.mode,Ms,xn),Et.return=zt,Et):(Et=O(Et,ss),Et.return=zt,Et)}function Os(zt,Et,ss){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return Et=Il(""+Et,zt.mode,ss),Et.return=zt,Et;if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case x:return ss=Xl(Et.type,Et.key,Et.props,null,zt.mode,ss),jt(ss,Et),ss.return=zt,ss;case b:return Et=Jl(Et,zt.mode,ss),Et.return=zt,Et;case ce:return Et=H(Et),Os(zt,Et,ss)}if(Ae(Et)||Ce(Et))return Et=Oc(Et,zt.mode,ss,null),Et.return=zt,Et;if(typeof Et.then=="function")return Os(zt,pr(Et),ss);if(Et.$$typeof===z)return Os(zt,vd(zt,Et),ss);Jt(zt,Et)}return null}function as(zt,Et,ss,Ms){var xn=Et!==null?Et.key:null;if(typeof ss=="string"&&ss!==""||typeof ss=="number"||typeof ss=="bigint")return xn!==null?null:ze(zt,Et,""+ss,Ms);if(typeof ss=="object"&&ss!==null){switch(ss.$$typeof){case x:return ss.key===xn?mt(zt,Et,ss,Ms):null;case b:return ss.key===xn?ns(zt,Et,ss,Ms):null;case ce:return ss=H(ss),as(zt,Et,ss,Ms)}if(Ae(ss)||Ce(ss))return xn!==null?null:Ss(zt,Et,ss,Ms,null);if(typeof ss.then=="function")return as(zt,Et,pr(ss),Ms);if(ss.$$typeof===z)return as(zt,Et,vd(zt,ss),Ms);Jt(zt,ss)}return null}function cs(zt,Et,ss,Ms,xn){if(typeof Ms=="string"&&Ms!==""||typeof Ms=="number"||typeof Ms=="bigint")return zt=zt.get(ss)||null,ze(Et,zt,""+Ms,xn);if(typeof Ms=="object"&&Ms!==null){switch(Ms.$$typeof){case x:return zt=zt.get(Ms.key===null?ss:Ms.key)||null,mt(Et,zt,Ms,xn);case b:return zt=zt.get(Ms.key===null?ss:Ms.key)||null,ns(Et,zt,Ms,xn);case ce:return Ms=H(Ms),cs(zt,Et,ss,Ms,xn)}if(Ae(Ms)||Ce(Ms))return zt=zt.get(ss)||null,Ss(Et,zt,Ms,xn,null);if(typeof Ms.then=="function")return cs(zt,Et,ss,pr(Ms),xn);if(Ms.$$typeof===z)return cs(zt,Et,ss,vd(Et,Ms),xn);Jt(Et,Ms)}return null}function _r(zt,Et,ss,Ms){for(var xn=null,qa=null,Zr=Et,oa=Et=0,Ta=null;Zr!==null&&oa<ss.length;oa++){Zr.index>oa?(Ta=Zr,Zr=null):Ta=Zr.sibling;var ei=as(zt,Zr,ss[oa],Ms);if(ei===null){Zr===null&&(Zr=Ta);break}i&&Zr&&ei.alternate===null&&c(zt,Zr),Et=_(ei,Et,oa),qa===null?xn=ei:qa.sibling=ei,qa=ei,Zr=Ta}if(oa===ss.length)return h(zt,Zr),cr&&xl(zt,oa),xn;if(Zr===null){for(;oa<ss.length;oa++)Zr=Os(zt,ss[oa],Ms),Zr!==null&&(Et=_(Zr,Et,oa),qa===null?xn=Zr:qa.sibling=Zr,qa=Zr);return cr&&xl(zt,oa),xn}for(Zr=g(Zr);oa<ss.length;oa++)Ta=cs(Zr,zt,oa,ss[oa],Ms),Ta!==null&&(i&&Ta.alternate!==null&&Zr.delete(Ta.key===null?oa:Ta.key),Et=_(Ta,Et,oa),qa===null?xn=Ta:qa.sibling=Ta,qa=Ta);return i&&Zr.forEach(function(mh){return c(zt,mh)}),cr&&xl(zt,oa),xn}function Bn(zt,Et,ss,Ms){if(ss==null)throw Error(n(151));for(var xn=null,qa=null,Zr=Et,oa=Et=0,Ta=null,ei=ss.next();Zr!==null&&!ei.done;oa++,ei=ss.next()){Zr.index>oa?(Ta=Zr,Zr=null):Ta=Zr.sibling;var mh=as(zt,Zr,ei.value,Ms);if(mh===null){Zr===null&&(Zr=Ta);break}i&&Zr&&mh.alternate===null&&c(zt,Zr),Et=_(mh,Et,oa),qa===null?xn=mh:qa.sibling=mh,qa=mh,Zr=Ta}if(ei.done)return h(zt,Zr),cr&&xl(zt,oa),xn;if(Zr===null){for(;!ei.done;oa++,ei=ss.next())ei=Os(zt,ei.value,Ms),ei!==null&&(Et=_(ei,Et,oa),qa===null?xn=ei:qa.sibling=ei,qa=ei);return cr&&xl(zt,oa),xn}for(Zr=g(Zr);!ei.done;oa++,ei=ss.next())ei=cs(Zr,zt,oa,ei.value,Ms),ei!==null&&(i&&ei.alternate!==null&&Zr.delete(ei.key===null?oa:ei.key),Et=_(ei,Et,oa),qa===null?xn=ei:qa.sibling=ei,qa=ei);return i&&Zr.forEach(function(E4){return c(zt,E4)}),cr&&xl(zt,oa),xn}function Li(zt,Et,ss,Ms){if(typeof ss=="object"&&ss!==null&&ss.type===j&&ss.key===null&&(ss=ss.props.children),typeof ss=="object"&&ss!==null){switch(ss.$$typeof){case x:e:{for(var xn=ss.key;Et!==null;){if(Et.key===xn){if(xn=ss.type,xn===j){if(Et.tag===7){h(zt,Et.sibling),Ms=O(Et,ss.props.children),Ms.return=zt,zt=Ms;break e}}else if(Et.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===ce&&H(xn)===Et.type){h(zt,Et.sibling),Ms=O(Et,ss.props),jt(Ms,ss),Ms.return=zt,zt=Ms;break e}h(zt,Et);break}else c(zt,Et);Et=Et.sibling}ss.type===j?(Ms=Oc(ss.props.children,zt.mode,Ms,ss.key),Ms.return=zt,zt=Ms):(Ms=Xl(ss.type,ss.key,ss.props,null,zt.mode,Ms),jt(Ms,ss),Ms.return=zt,zt=Ms)}return ve(zt);case b:e:{for(xn=ss.key;Et!==null;){if(Et.key===xn)if(Et.tag===4&&Et.stateNode.containerInfo===ss.containerInfo&&Et.stateNode.implementation===ss.implementation){h(zt,Et.sibling),Ms=O(Et,ss.children||[]),Ms.return=zt,zt=Ms;break e}else{h(zt,Et);break}else c(zt,Et);Et=Et.sibling}Ms=Jl(ss,zt.mode,Ms),Ms.return=zt,zt=Ms}return ve(zt);case ce:return ss=H(ss),Li(zt,Et,ss,Ms)}if(Ae(ss))return _r(zt,Et,ss,Ms);if(Ce(ss)){if(xn=Ce(ss),typeof xn!="function")throw Error(n(150));return ss=xn.call(ss),Bn(zt,Et,ss,Ms)}if(typeof ss.then=="function")return Li(zt,Et,pr(ss),Ms);if(ss.$$typeof===z)return Li(zt,Et,vd(zt,ss),Ms);Jt(zt,ss)}return typeof ss=="string"&&ss!==""||typeof ss=="number"||typeof ss=="bigint"?(ss=""+ss,Et!==null&&Et.tag===6?(h(zt,Et.sibling),Ms=O(Et,ss),Ms.return=zt,zt=Ms):(h(zt,Et),Ms=Il(ss,zt.mode,Ms),Ms.return=zt,zt=Ms),ve(zt)):h(zt,Et)}return function(zt,Et,ss,Ms){try{Ut=0;var xn=Li(zt,Et,ss,Ms);return Xt=null,xn}catch(Zr){if(Zr===Fa||Zr===Ba)throw Zr;var qa=Do(29,Zr,null,zt.mode);return qa.lanes=Ms,qa.return=zt,qa}finally{}}}var nr=gn(!0),Qs=gn(!1),xs=!1;function La(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hn(i,c){i=i.updateQueue,c.updateQueue===i&&(c.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Gr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ln(i,c,h){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(va&2)!==0){var O=g.pending;return O===null?c.next=c:(c.next=O.next,O.next=c),g.pending=c,c=hd(i),Jd(i,null,h),c}return Mc(i,g,c,h),hd(i)}function Tn(i,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=i.pendingLanes,h|=g,c.lanes=h,Or(i,h)}}function tr(i,c){var h=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var O=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var ve={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?O=_=ve:_=_.next=ve,h=h.next}while(h!==null);_===null?O=_=c:_=_.next=c}else O=_=c;h={baseState:g.baseState,firstBaseUpdate:O,lastBaseUpdate:_,shared:g.shared,callbacks:g.callbacks},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=c:i.next=c,h.lastBaseUpdate=c}var Un=!1;function Ma(){if(Un){var i=pt;if(i!==null)throw i}}function zr(i,c,h,g){Un=!1;var O=i.updateQueue;xs=!1;var _=O.firstBaseUpdate,ve=O.lastBaseUpdate,ze=O.shared.pending;if(ze!==null){O.shared.pending=null;var mt=ze,ns=mt.next;mt.next=null,ve===null?_=ns:ve.next=ns,ve=mt;var Ss=i.alternate;Ss!==null&&(Ss=Ss.updateQueue,ze=Ss.lastBaseUpdate,ze!==ve&&(ze===null?Ss.firstBaseUpdate=ns:ze.next=ns,Ss.lastBaseUpdate=mt))}if(_!==null){var Os=O.baseState;ve=0,Ss=ns=mt=null,ze=_;do{var as=ze.lane&-536870913,cs=as!==ze.lane;if(cs?(zn&as)===as:(g&as)===as){as!==0&&as===at&&(Un=!0),Ss!==null&&(Ss=Ss.next={lane:0,tag:ze.tag,payload:ze.payload,callback:null,next:null});e:{var _r=i,Bn=ze;as=c;var Li=h;switch(Bn.tag){case 1:if(_r=Bn.payload,typeof _r=="function"){Os=_r.call(Li,Os,as);break e}Os=_r;break e;case 3:_r.flags=_r.flags&-65537|128;case 0:if(_r=Bn.payload,as=typeof _r=="function"?_r.call(Li,Os,as):_r,as==null)break e;Os=p({},Os,as);break e;case 2:xs=!0}}as=ze.callback,as!==null&&(i.flags|=64,cs&&(i.flags|=8192),cs=O.callbacks,cs===null?O.callbacks=[as]:cs.push(as))}else cs={lane:as,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null},Ss===null?(ns=Ss=cs,mt=Os):Ss=Ss.next=cs,ve|=as;if(ze=ze.next,ze===null){if(ze=O.shared.pending,ze===null)break;cs=ze,ze=cs.next,cs.next=null,O.lastBaseUpdate=cs,O.shared.pending=null}}while(!0);Ss===null&&(mt=Os),O.baseState=mt,O.firstBaseUpdate=ns,O.lastBaseUpdate=Ss,_===null&&(O.shared.lanes=0),U|=ve,i.lanes=ve,i.memoizedState=Os}}function na(i,c){if(typeof i!="function")throw Error(n(191,i));i.call(c)}function Qn(i,c){var h=i.callbacks;if(h!==null)for(i.callbacks=null,i=0;i<h.length;i++)na(h[i],c)}var Tr=Se(null),on=Se(0);function yo(i,c){i=w,be(on,i),be(Tr,c),w=i|c.baseLanes}function ec(){be(on,w),be(Tr,Tr.current)}function wl(){w=on.current,fe(Tr),fe(on)}var Xi=Se(null),wo=null;function Ya(i){var c=i.alternate;be(vi,vi.current&1),be(Xi,i),wo===null&&(c===null||Tr.current!==null||c.memoizedState!==null)&&(wo=i)}function Mu(i){be(vi,vi.current),be(Xi,i),wo===null&&(wo=i)}function nd(i){i.tag===22?(be(vi,vi.current),be(Xi,i),wo===null&&(wo=i)):ol()}function ol(){be(vi,vi.current),be(Xi,Xi.current)}function ll(i){fe(Xi),wo===i&&(wo=null),fe(vi)}var vi=Se(0);function qd(i){for(var c=i;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Rx(h)||Px(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var yc=0,yn=null,ma=null,ri=null,wd=!1,tc=!1,wc=!1,_o=0,sc=0,aa=null,za=0;function _n(){throw Error(n(321))}function Ji(i,c){if(c===null)return!1;for(var h=0;h<c.length&&h<i.length;h++)if(!ir(i[h],c[h]))return!1;return!0}function ad(i,c,h,g,O,_){return yc=_,yn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,se.H=i===null||i.memoizedState===null?Xh:rh,wc=!1,_=h(g,O),wc=!1,tc&&(_=Id(c,h,g,O)),yu(i),_}function yu(i){se.H=vA;var c=ma!==null&&ma.next!==null;if(yc=0,ri=ma=yn=null,wd=!1,sc=0,aa=null,c)throw Error(n(300));i===null||Oe||(i=i.dependencies,i!==null&&ed(i)&&(Oe=!0))}function Id(i,c,h,g){yn=i;var O=0;do{if(tc&&(aa=null),sc=0,tc=!1,25<=O)throw Error(n(301));if(O+=1,ri=ma=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}se.H=nh,_=c(h,g)}while(tc);return _}function Ou(){var i=se.H,c=i.useState()[0];return c=typeof c.then=="function"?Dd(c):c,i=i.useState()[0],(ma!==null?ma.memoizedState:null)!==i&&(yn.flags|=1024),c}function lA(){var i=_o!==0;return _o=0,i}function cA(i,c,h){c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~h}function dA(i){if(wd){for(i=i.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}wd=!1}yc=0,ri=ma=yn=null,tc=!1,sc=_o=0,aa=null}function cl(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?yn.memoizedState=ri=i:ri=ri.next=i,ri}function Ti(){if(ma===null){var i=yn.alternate;i=i!==null?i.memoizedState:null}else i=ma.next;var c=ri===null?yn.memoizedState:ri.next;if(c!==null)ri=c,ma=i;else{if(i===null)throw yn.alternate===null?Error(n(467)):Error(n(310));ma=i,i={memoizedState:ma.memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},ri===null?yn.memoizedState=ri=i:ri=ri.next=i}return ri}function uA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dd(i){var c=sc;return sc+=1,aa===null&&(aa=[]),i=Be(aa,i,c),c=yn,(ri===null?c.memoizedState:ri.next)===null&&(c=c.alternate,se.H=c===null||c.memoizedState===null?Xh:rh),i}function AA(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Dd(i);if(i.$$typeof===z)return si(i)}throw Error(n(438,String(i)))}function Rl(i){var c=null,h=yn.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=yn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(O){return O.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=uA(),yn.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(i),g=0;g<i;g++)h[g]=Ne;return c.index++,h}function Rc(i,c){return typeof c=="function"?c(i):c}function hA(i){var c=Ti();return zA(c,ma,i)}function zA(i,c,h){var g=i.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=h;var O=i.baseQueue,_=g.pending;if(_!==null){if(O!==null){var ve=O.next;O.next=_.next,_.next=ve}c.baseQueue=O=_,g.pending=null}if(_=i.baseState,O===null)i.memoizedState=_;else{c=O.next;var ze=ve=null,mt=null,ns=c,Ss=!1;do{var Os=ns.lane&-536870913;if(Os!==ns.lane?(zn&Os)===Os:(yc&Os)===Os){var as=ns.revertLane;if(as===0)mt!==null&&(mt=mt.next={lane:0,revertLane:0,gesture:null,action:ns.action,hasEagerState:ns.hasEagerState,eagerState:ns.eagerState,next:null}),Os===at&&(Ss=!0);else if((yc&as)===as){ns=ns.next,as===at&&(Ss=!0);continue}else Os={lane:0,revertLane:ns.revertLane,gesture:null,action:ns.action,hasEagerState:ns.hasEagerState,eagerState:ns.eagerState,next:null},mt===null?(ze=mt=Os,ve=_):mt=mt.next=Os,yn.lanes|=as,U|=as;Os=ns.action,wc&&h(_,Os),_=ns.hasEagerState?ns.eagerState:h(_,Os)}else as={lane:Os,revertLane:ns.revertLane,gesture:ns.gesture,action:ns.action,hasEagerState:ns.hasEagerState,eagerState:ns.eagerState,next:null},mt===null?(ze=mt=as,ve=_):mt=mt.next=as,yn.lanes|=Os,U|=Os;ns=ns.next}while(ns!==null&&ns!==c);if(mt===null?ve=_:mt.next=ze,!ir(_,i.memoizedState)&&(Oe=!0,Ss&&(h=pt,h!==null)))throw h;i.memoizedState=_,i.baseState=ve,i.baseQueue=mt,g.lastRenderedState=_}return O===null&&(g.lanes=0),[i.memoizedState,g.dispatch]}function $A(i){var c=Ti(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=i;var g=h.dispatch,O=h.pending,_=c.memoizedState;if(O!==null){h.pending=null;var ve=O=O.next;do _=i(_,ve.action),ve=ve.next;while(ve!==O);ir(_,c.memoizedState)||(Oe=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),h.lastRenderedState=_}return[_,g]}function zh(i,c,h){var g=yn,O=Ti(),_=cr;if(_){if(h===void 0)throw Error(n(407));h=h()}else h=c();var ve=!ir((ma||O).memoizedState,h);if(ve&&(O.memoizedState=h,Oe=!0),O=O.queue,Ru(fA.bind(null,g,O,i),[i]),O.getSnapshot!==c||ve||ri!==null&&ri.memoizedState.tag&1){if(g.flags|=2048,Du(9,{destroy:void 0},VA.bind(null,g,O,h,c),null),ga===null)throw Error(n(349));_||(yc&127)!==0||$h(g,c,h)}return h}function $h(i,c,h){i.flags|=16384,i={getSnapshot:c,value:h},c=yn.updateQueue,c===null?(c=uA(),yn.updateQueue=c,c.stores=[i]):(h=c.stores,h===null?c.stores=[i]:h.push(i))}function VA(i,c,h,g){c.value=h,c.getSnapshot=g,rc(c)&&jc(i)}function fA(i,c,h){return h(function(){rc(c)&&jc(i)})}function rc(i){var c=i.getSnapshot;i=i.value;try{var h=c();return!ir(i,h)}catch{return!0}}function jc(i){var c=Wl(i,2);c!==null&&yi(c,i,2)}function wu(i){var c=cl();if(typeof i=="function"){var h=i;if(i=h(),wc){Vt(!0);try{h()}finally{Vt(!1)}}}return c.memoizedState=c.baseState=i,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:i},c}function pA(i,c,h,g){return i.baseState=h,zA(i,ma,typeof g=="function"?g:Rc)}function KA(i,c,h,g,O){if(Cd(i))throw Error(n(485));if(i=c.action,i!==null){var _={payload:O,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ve){_.listeners.push(ve)}};se.T!==null?h(!0):_.isTransition=!1,g(_),h=c.pending,h===null?(_.next=c.pending=_,Iu(c,_)):(_.next=h.next,c.pending=h.next=_)}}function Iu(i,c){var h=c.action,g=c.payload,O=i.state;if(c.isTransition){var _=se.T,ve={};se.T=ve;try{var ze=h(O,g),mt=se.S;mt!==null&&mt(ve,ze),so(i,c,ze)}catch(ns){GA(i,c,ns)}finally{_!==null&&ve.types!==null&&(_.types=ve.types),se.T=_}}else try{_=h(O,g),so(i,c,_)}catch(ns){GA(i,c,ns)}}function so(i,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){eu(i,c,g)},function(g){return GA(i,c,g)}):eu(i,c,h)}function eu(i,c,h){c.status="fulfilled",c.value=h,WA(c),i.state=h,c=i.pending,c!==null&&(h=c.next,h===c?i.pending=null:(h=h.next,c.next=h,Iu(i,h)))}function GA(i,c,h){var g=i.pending;if(i.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,WA(c),c=c.next;while(c!==g)}i.action=null}function WA(i){i=i.listeners;for(var c=0;c<i.length;c++)(0,i[c])()}function mA(i,c){return c}function ju(i,c){if(cr){var h=ga.formState;if(h!==null){e:{var g=yn;if(cr){if(Ha){t:{for(var O=Ha,_=bl;O.nodeType!==8;){if(!_){O=null;break t}if(O=au(O.nextSibling),O===null){O=null;break t}}_=O.data,O=_==="F!"||_==="F"?O:null}if(O){Ha=au(O.nextSibling),g=O.data==="F!";break e}}Po(g)}g=!1}g&&(c=h[0])}}return h=cl(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mA,lastRenderedState:c},h.queue=g,h=th.bind(null,yn,g),g.dispatch=h,g=wu(!1),_=tu.bind(null,yn,!1,g.queue),g=cl(),O={state:c,dispatch:null,action:i,pending:null},g.queue=O,h=KA.bind(null,yn,O,_,h),O.dispatch=h,g.memoizedState=i,[c,h,!1]}function YA(i){var c=Ti();return Ef(c,ma,i)}function Ef(i,c,h){if(c=zA(i,c,mA)[0],i=hA(Rc)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Dd(c)}catch(ve){throw ve===Fa?Ba:ve}else g=c;c=Ti();var O=c.queue,_=O.dispatch;return h!==c.memoizedState&&(yn.flags|=2048,Du(9,{destroy:void 0},Np.bind(null,O,h),null)),[g,_,i]}function Np(i,c){i.action=c}function Vh(i){var c=Ti(),h=ma;if(h!==null)return Ef(c,h,i);Ti(),c=c.memoizedState,h=Ti();var g=h.queue.dispatch;return h.memoizedState=i,[c,g,!1]}function Du(i,c,h,g){return i={tag:i,create:h,deps:g,inst:c,next:null},c=yn.updateQueue,c===null&&(c=uA(),yn.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=i.next=i:(g=h.next,h.next=i,i.next=g,c.lastEffect=i),i}function Tf(){return Ti().memoizedState}function XA(i,c,h,g){var O=cl();yn.flags|=i,O.memoizedState=Du(1|c,{destroy:void 0},h,g===void 0?null:g)}function JA(i,c,h,g){var O=Ti();g=g===void 0?null:g;var _=O.memoizedState.inst;ma!==null&&g!==null&&Ji(g,ma.memoizedState.deps)?O.memoizedState=Du(c,_,h,g):(yn.flags|=i,O.memoizedState=Du(1|c,_,h,g))}function Kh(i,c){XA(8390656,8,i,c)}function Ru(i,c){JA(2048,8,i,c)}function ZA(i){yn.flags|=4;var c=yn.updateQueue;if(c===null)c=uA(),yn.updateQueue=c,c.events=[i];else{var h=c.events;h===null?c.events=[i]:h.push(i)}}function Nu(i){var c=Ti().memoizedState;return ZA({ref:c,nextImpl:i}),function(){if((va&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function qA(i,c){return JA(4,2,i,c)}function Uf(i,c){return JA(4,4,i,c)}function Gh(i,c){if(typeof c=="function"){i=i();var h=c(i);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return i=i(),c.current=i,function(){c.current=null}}function Ff(i,c,h){h=h!=null?h.concat([i]):null,JA(4,4,Gh.bind(null,c,i),h)}function Wh(){}function gA(i,c){var h=Ti();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&Ji(c,g[1])?g[0]:(h.memoizedState=[i,c],i)}function xA(i,c){var h=Ti();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&Ji(c,g[1]))return g[0];if(g=i(),wc){Vt(!0);try{i()}finally{Vt(!1)}}return h.memoizedState=[g,c],g}function jd(i,c,h){return h===void 0||(yc&1073741824)!==0&&(zn&261930)===0?i.memoizedState=c:(i.memoizedState=h,i=ko(),yn.lanes|=i,U|=i,h)}function Nc(i,c,h,g){return ir(h,c)?h:Tr.current!==null?(i=jd(i,h,g),ir(i,c)||(Oe=!0),i):(yc&42)===0||(yc&1073741824)!==0&&(zn&261930)===0?(Oe=!0,i.memoizedState=h):(i=ko(),yn.lanes|=i,U|=i,c)}function Pc(i,c,h,g,O){var _=pe.p;pe.p=_!==0&&8>_?_:8;var ve=se.T,ze={};se.T=ze,tu(i,!1,c,h);try{var mt=O(),ns=se.S;if(ns!==null&&ns(ze,mt),mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var Ss=Rs(mt,g);kd(i,c,Ss,rn(i))}else kd(i,c,g,rn(i))}catch(Os){kd(i,c,{then:function(){},status:"rejected",reason:Os},rn())}finally{pe.p=_,ve!==null&&ze.types!==null&&(ve.types=ze.types),se.T=ve}}function Lf(){}function bA(i,c,h,g){if(i.tag!==5)throw Error(n(476));var O=Nd(i).queue;Pc(i,O,c,re,h===null?Lf:function(){return kc(i),h(g)})}function Nd(i){var c=i.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:re},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:h},next:null},i.memoizedState=c,i=i.alternate,i!==null&&(i.memoizedState=c),c}function kc(i){var c=Nd(i);c.next===null&&(c=i.alternate.memoizedState),kd(i,c.next.queue,{},rn())}function Pu(){return si(Up)}function Yh(){return Ti().memoizedState}function eh(){return Ti().memoizedState}function Mf(i){for(var c=i.return;c!==null;){switch(c.tag){case 24:case 3:var h=rn();i=Gr(h);var g=ln(c,i,h);g!==null&&(yi(g,c,h),Tn(g,c,h)),c={cache:rd()},i.payload=c;return}c=c.return}}function Of(i,c,h){var g=rn();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Cd(i)?Qu(c,h):(h=Ad(i,c,h,g),h!==null&&(yi(h,i,g),sh(h,c,g)))}function th(i,c,h){var g=rn();kd(i,c,h,g)}function kd(i,c,h,g){var O={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Cd(i))Qu(c,O);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var ve=c.lastRenderedState,ze=_(ve,h);if(O.hasEagerState=!0,O.eagerState=ze,ir(ze,ve))return Mc(i,c,O,0),ga===null&&xc(),!1}catch{}finally{}if(h=Ad(i,c,O,g),h!==null)return yi(h,i,g),sh(h,c,g),!0}return!1}function tu(i,c,h,g){if(g={lane:2,revertLane:Cx(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Cd(i)){if(c)throw Error(n(479))}else c=Ad(i,h,g,2),c!==null&&yi(c,i,2)}function Cd(i){var c=i.alternate;return i===yn||c!==null&&c===yn}function Qu(i,c){tc=wd=!0;var h=i.pending;h===null?c.next=c:(c.next=h.next,h.next=c),i.pending=c}function sh(i,c,h){if((h&4194048)!==0){var g=c.lanes;g&=i.pendingLanes,h|=g,c.lanes=h,Or(i,h)}}var vA={readContext:si,use:AA,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};vA.useEffectEvent=_n;var Xh={readContext:si,use:AA,useCallback:function(i,c){return cl().memoizedState=[i,c===void 0?null:c],i},useContext:si,useEffect:Kh,useImperativeHandle:function(i,c,h){h=h!=null?h.concat([i]):null,XA(4194308,4,Gh.bind(null,c,i),h)},useLayoutEffect:function(i,c){return XA(4194308,4,i,c)},useInsertionEffect:function(i,c){XA(4,2,i,c)},useMemo:function(i,c){var h=cl();c=c===void 0?null:c;var g=i();if(wc){Vt(!0);try{i()}finally{Vt(!1)}}return h.memoizedState=[g,c],g},useReducer:function(i,c,h){var g=cl();if(h!==void 0){var O=h(c);if(wc){Vt(!0);try{h(c)}finally{Vt(!1)}}}else O=c;return g.memoizedState=g.baseState=O,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:O},g.queue=i,i=i.dispatch=Of.bind(null,yn,i),[g.memoizedState,i]},useRef:function(i){var c=cl();return i={current:i},c.memoizedState=i},useState:function(i){i=wu(i);var c=i.queue,h=th.bind(null,yn,c);return c.dispatch=h,[i.memoizedState,h]},useDebugValue:Wh,useDeferredValue:function(i,c){var h=cl();return jd(h,i,c)},useTransition:function(){var i=wu(!1);return i=Pc.bind(null,yn,i.queue,!0,!1),cl().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,c,h){var g=yn,O=cl();if(cr){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),ga===null)throw Error(n(349));(zn&127)!==0||$h(g,c,h)}O.memoizedState=h;var _={value:h,getSnapshot:c};return O.queue=_,Kh(fA.bind(null,g,_,i),[i]),g.flags|=2048,Du(9,{destroy:void 0},VA.bind(null,g,_,h,c),null),h},useId:function(){var i=cl(),c=ga.identifierPrefix;if(cr){var h=rl,g=gl;h=(g&~(1<<32-js(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=_o++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=za++,c="_"+c+"r_"+h.toString(32)+"_";return i.memoizedState=c},useHostTransitionStatus:Pu,useFormState:ju,useActionState:ju,useOptimistic:function(i){var c=cl();c.memoizedState=c.baseState=i;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=tu.bind(null,yn,!0,h),h.dispatch=c,[i,c]},useMemoCache:Rl,useCacheRefresh:function(){return cl().memoizedState=Mf.bind(null,yn)},useEffectEvent:function(i){var c=cl(),h={impl:i};return c.memoizedState=h,function(){if((va&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},rh={readContext:si,use:AA,useCallback:gA,useContext:si,useEffect:Ru,useImperativeHandle:Ff,useInsertionEffect:qA,useLayoutEffect:Uf,useMemo:xA,useReducer:hA,useRef:Tf,useState:function(){return hA(Rc)},useDebugValue:Wh,useDeferredValue:function(i,c){var h=Ti();return Nc(h,ma.memoizedState,i,c)},useTransition:function(){var i=hA(Rc)[0],c=Ti().memoizedState;return[typeof i=="boolean"?i:Dd(i),c]},useSyncExternalStore:zh,useId:Yh,useHostTransitionStatus:Pu,useFormState:YA,useActionState:YA,useOptimistic:function(i,c){var h=Ti();return pA(h,ma,i,c)},useMemoCache:Rl,useCacheRefresh:eh};rh.useEffectEvent=Nu;var nh={readContext:si,use:AA,useCallback:gA,useContext:si,useEffect:Ru,useImperativeHandle:Ff,useInsertionEffect:qA,useLayoutEffect:Uf,useMemo:xA,useReducer:$A,useRef:Tf,useState:function(){return $A(Rc)},useDebugValue:Wh,useDeferredValue:function(i,c){var h=Ti();return ma===null?jd(h,i,c):Nc(h,ma.memoizedState,i,c)},useTransition:function(){var i=$A(Rc)[0],c=Ti().memoizedState;return[typeof i=="boolean"?i:Dd(i),c]},useSyncExternalStore:zh,useId:Yh,useHostTransitionStatus:Pu,useFormState:Vh,useActionState:Vh,useOptimistic:function(i,c){var h=Ti();return ma!==null?pA(h,ma,i,c):(h.baseState=i,[i,h.queue.dispatch])},useMemoCache:Rl,useCacheRefresh:eh};nh.useEffectEvent=Nu;function ah(i,c,h,g){c=i.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var ih={enqueueSetState:function(i,c,h){i=i._reactInternals;var g=rn(),O=Gr(g);O.payload=c,h!=null&&(O.callback=h),c=ln(i,O,g),c!==null&&(yi(c,i,g),Tn(c,i,g))},enqueueReplaceState:function(i,c,h){i=i._reactInternals;var g=rn(),O=Gr(g);O.tag=1,O.payload=c,h!=null&&(O.callback=h),c=ln(i,O,g),c!==null&&(yi(c,i,g),Tn(c,i,g))},enqueueForceUpdate:function(i,c){i=i._reactInternals;var h=rn(),g=Gr(h);g.tag=2,c!=null&&(g.callback=c),c=ln(i,g,h),c!==null&&(yi(c,i,h),Tn(c,i,h))}};function oh(i,c,h,g,O,_,ve){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,_,ve):c.prototype&&c.prototype.isPureReactComponent?!Ln(h,g)||!Ln(O,_):!0}function Jh(i,c,h,g){i=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==i&&ih.enqueueReplaceState(c,c.state,null)}function Rd(i,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(i=i.defaultProps){h===c&&(h=p({},h));for(var O in i)h[O]===void 0&&(h[O]=i[O])}return h}function yA(i){Lc(i)}function wA(i){console.error(i)}function jA(i){Lc(i)}function _u(i,c){try{var h=i.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function C(i,c,h){try{var g=i.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function D(i,c,h){return h=Gr(h),h.tag=3,h.payload={element:null},h.callback=function(){_u(i,c)},h}function ne(i){return i=Gr(i),i.tag=3,i}function me(i,c,h,g){var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var _=g.value;i.payload=function(){return O(_)},i.callback=function(){C(c,h,g)}}var ve=h.stateNode;ve!==null&&typeof ve.componentDidCatch=="function"&&(i.callback=function(){C(c,h,g),typeof O!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var ze=g.stack;this.componentDidCatch(g.value,{componentStack:ze!==null?ze:""})})}function Ue(i,c,h,g,O){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&vc(c,h,O,!0),h=Xi.current,h!==null){switch(h.tag){case 31:case 13:return wo===null?Sd():h.alternate===null&&F===0&&(F=3),h.flags&=-257,h.flags|=65536,h.lanes=O,g===Ei?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),jx(i,g,O)),!1;case 22:return h.flags|=65536,g===Ei?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),jx(i,g,O)),!1}throw Error(n(435,h.tag))}return jx(i,g,O),Sd(),!1}if(cr)return c=Xi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=O,g!==gd&&(i=Error(n(422),{cause:g}),vl(Wi(i,h)))):(g!==gd&&(c=Error(n(423),{cause:g}),vl(Wi(c,h))),i=i.current.alternate,i.flags|=65536,O&=-O,i.lanes|=O,g=Wi(g,h),O=D(i.stateNode,g,O),tr(i,O),F!==4&&(F=2)),!1;var _=Error(n(520),{cause:g});if(_=Wi(_,h),et===null?et=[_]:et.push(_),F!==4&&(F=2),c===null)return!0;g=Wi(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,i=O&-O,h.lanes|=i,i=D(h.stateNode,g,i),tr(h,i),!1;case 1:if(c=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ur===null||!ur.has(_))))return h.flags|=65536,O&=-O,h.lanes|=O,O=ne(O),me(O,i,h,g),tr(h,O),!1}h=h.return}while(h!==null);return!1}var Ie=Error(n(461)),Oe=!1;function He(i,c,h,g){c.child=i===null?Qs(c,null,h,g):nr(c,i.child,h,g)}function Ke(i,c,h,g,O){h=h.render;var _=c.ref;if("ref"in g){var ve={};for(var ze in g)ze!=="ref"&&(ve[ze]=g[ze])}else ve=g;return il(c),g=ad(i,c,h,ve,_,O),ze=lA(),i!==null&&!Oe?(cA(i,c,O),Vn(i,c,O)):(cr&&ze&&Dl(c),c.flags|=1,He(i,c,g,O),c.child)}function nt(i,c,h,g,O){if(i===null){var _=h.type;return typeof _=="function"&&!An(_)&&_.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=_,Ct(i,c,_,g,O)):(i=Xl(h.type,null,g,c,c.mode,O),i.ref=c.ref,i.return=c,c.child=i)}if(_=i.child,!ni(i,O)){var ve=_.memoizedProps;if(h=h.compare,h=h!==null?h:Ln,h(ve,g)&&i.ref===c.ref)return Vn(i,c,O)}return c.flags|=1,i=Ol(_,g),i.ref=c.ref,i.return=c,c.child=i}function Ct(i,c,h,g,O){if(i!==null){var _=i.memoizedProps;if(Ln(_,g)&&i.ref===c.ref)if(Oe=!1,c.pendingProps=g=_,ni(i,O))(i.flags&131072)!==0&&(Oe=!0);else return c.lanes=i.lanes,Vn(i,c,O)}return ks(i,c,h,g,O)}function Wt(i,c,h,g){var O=g.children,_=i!==null?i.memoizedState:null;if(i===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(_=_!==null?_.baseLanes|h:h,i!==null){for(g=c.child=i.child,O=0;g!==null;)O=O|g.lanes|g.childLanes,g=g.sibling;g=O&~_}else g=0,c.child=null;return Ft(i,c,_,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},i!==null&&kn(c,_!==null?_.cachePool:null),_!==null?yo(c,_):ec(),nd(c);else return g=c.lanes=536870912,Ft(i,c,_!==null?_.baseLanes|h:h,h,g)}else _!==null?(kn(c,_.cachePool),yo(c,_),ol(),c.memoizedState=null):(i!==null&&kn(c,null),ec(),ol());return He(i,c,O,h),c.child}function st(i,c){return i!==null&&i.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Ft(i,c,h,g,O){var _=mn();return _=_===null?null:{parent:xi._currentValue,pool:_},c.memoizedState={baseLanes:h,cachePool:_},i!==null&&kn(c,null),ec(),nd(c),i!==null&&vc(i,c,g,!0),c.childLanes=O,null}function _t(i,c){return c=Mn({mode:c.mode,children:c.children},i.mode),c.ref=i.ref,i.child=c,c.return=i,c}function vs(i,c,h){return nr(c,i.child,null,h),i=_t(c,c.pendingProps),i.flags|=2,ll(c),c.memoizedState=null,i}function Zt(i,c,h){var g=c.pendingProps,O=(c.flags&128)!==0;if(c.flags&=-129,i===null){if(cr){if(g.mode==="hidden")return i=_t(c,g),c.lanes=536870912,st(null,i);if(Mu(c),(i=Ha)?(i=S1(i,bl),i=i!==null&&i.data==="&"?i:null,i!==null&&(c.memoizedState={dehydrated:i,treeContext:ql!==null?{id:gl,overflow:rl}:null,retryLane:536870912,hydrationErrors:null},h=Gi(i),h.return=c,c.child=h,Qi=c,Ha=null)):i=null,i===null)throw Po(c);return c.lanes=536870912,null}return _t(c,g)}var _=i.memoizedState;if(_!==null){var ve=_.dehydrated;if(Mu(c),O)if(c.flags&256)c.flags&=-257,c=vs(i,c,h);else if(c.memoizedState!==null)c.child=i.child,c.flags|=128,c=null;else throw Error(n(558));else if(Oe||vc(i,c,h,!1),O=(h&i.childLanes)!==0,Oe||O){if(g=ga,g!==null&&(ve=Pr(g,h),ve!==0&&ve!==_.retryLane))throw _.retryLane=ve,Wl(i,ve),yi(g,i,ve),Ie;Sd(),c=vs(i,c,h)}else i=_.treeContext,Ha=au(ve.nextSibling),Qi=c,cr=!0,Ic=null,bl=!1,i!==null&&md(c,i),c=_t(c,g),c.flags|=4096;return c}return i=Ol(i.child,{mode:g.mode,children:g.children}),i.ref=c.ref,c.child=i,i.return=c,i}function ys(i,c){var h=c.ref;if(h===null)i!==null&&i.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(i===null||i.ref!==h)&&(c.flags|=4194816)}}function ks(i,c,h,g,O){return il(c),h=ad(i,c,h,g,void 0,O),g=lA(),i!==null&&!Oe?(cA(i,c,O),Vn(i,c,O)):(cr&&g&&Dl(c),c.flags|=1,He(i,c,h,O),c.child)}function zs(i,c,h,g,O,_){return il(c),c.updateQueue=null,h=Id(c,g,h,O),yu(i),g=lA(),i!==null&&!Oe?(cA(i,c,_),Vn(i,c,_)):(cr&&g&&Dl(c),c.flags|=1,He(i,c,h,_),c.child)}function Ps(i,c,h,g,O){if(il(c),c.stateNode===null){var _=bo,ve=h.contextType;typeof ve=="object"&&ve!==null&&(_=si(ve)),_=new h(g,_),c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=ih,c.stateNode=_,_._reactInternals=c,_=c.stateNode,_.props=g,_.state=c.memoizedState,_.refs={},La(c),ve=h.contextType,_.context=typeof ve=="object"&&ve!==null?si(ve):bo,_.state=c.memoizedState,ve=h.getDerivedStateFromProps,typeof ve=="function"&&(ah(c,h,ve,g),_.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(ve=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),ve!==_.state&&ih.enqueueReplaceState(_,_.state,null),zr(c,g,_,O),Ma(),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(i===null){_=c.stateNode;var ze=c.memoizedProps,mt=Rd(h,ze);_.props=mt;var ns=_.context,Ss=h.contextType;ve=bo,typeof Ss=="object"&&Ss!==null&&(ve=si(Ss));var Os=h.getDerivedStateFromProps;Ss=typeof Os=="function"||typeof _.getSnapshotBeforeUpdate=="function",ze=c.pendingProps!==ze,Ss||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(ze||ns!==ve)&&Jh(c,_,g,ve),xs=!1;var as=c.memoizedState;_.state=as,zr(c,g,_,O),Ma(),ns=c.memoizedState,ze||as!==ns||xs?(typeof Os=="function"&&(ah(c,h,Os,g),ns=c.memoizedState),(mt=xs||oh(c,h,mt,g,as,ns,ve))?(Ss||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=ns),_.props=g,_.state=ns,_.context=ve,g=mt):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{_=c.stateNode,hn(i,c),ve=c.memoizedProps,Ss=Rd(h,ve),_.props=Ss,Os=c.pendingProps,as=_.context,ns=h.contextType,mt=bo,typeof ns=="object"&&ns!==null&&(mt=si(ns)),ze=h.getDerivedStateFromProps,(ns=typeof ze=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(ve!==Os||as!==mt)&&Jh(c,_,g,mt),xs=!1,as=c.memoizedState,_.state=as,zr(c,g,_,O),Ma();var cs=c.memoizedState;ve!==Os||as!==cs||xs||i!==null&&i.dependencies!==null&&ed(i.dependencies)?(typeof ze=="function"&&(ah(c,h,ze,g),cs=c.memoizedState),(Ss=xs||oh(c,h,Ss,g,as,cs,mt)||i!==null&&i.dependencies!==null&&ed(i.dependencies))?(ns||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,cs,mt),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,cs,mt)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||ve===i.memoizedProps&&as===i.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||ve===i.memoizedProps&&as===i.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=cs),_.props=g,_.state=cs,_.context=mt,g=Ss):(typeof _.componentDidUpdate!="function"||ve===i.memoizedProps&&as===i.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||ve===i.memoizedProps&&as===i.memoizedState||(c.flags|=1024),g=!1)}return _=g,ys(i,c),g=(c.flags&128)!==0,_||g?(_=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:_.render(),c.flags|=1,i!==null&&g?(c.child=nr(c,i.child,null,O),c.child=nr(c,null,h,O)):He(i,c,h,O),c.memoizedState=_.state,i=c.child):i=Vn(i,c,O),i}function $r(i,c,h,g){return Yi(),c.flags|=256,He(i,c,h,g),c.child}var wr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hn(i){return{baseLanes:i,cachePool:ra()}}function Qr(i,c,h){return i=i!==null?i.childLanes&~h:0,c&&(i|=Fe),i}function ca(i,c,h){var g=c.pendingProps,O=!1,_=(c.flags&128)!==0,ve;if((ve=_)||(ve=i!==null&&i.memoizedState===null?!1:(vi.current&2)!==0),ve&&(O=!0,c.flags&=-129),ve=(c.flags&32)!==0,c.flags&=-33,i===null){if(cr){if(O?Ya(c):ol(),(i=Ha)?(i=S1(i,bl),i=i!==null&&i.data!=="&"?i:null,i!==null&&(c.memoizedState={dehydrated:i,treeContext:ql!==null?{id:gl,overflow:rl}:null,retryLane:536870912,hydrationErrors:null},h=Gi(i),h.return=c,c.child=h,Qi=c,Ha=null)):i=null,i===null)throw Po(c);return Px(i)?c.lanes=32:c.lanes=536870912,null}var ze=g.children;return g=g.fallback,O?(ol(),O=c.mode,ze=Mn({mode:"hidden",children:ze},O),g=Oc(g,O,h,null),ze.return=c,g.return=c,ze.sibling=g,c.child=ze,g=c.child,g.memoizedState=Hn(h),g.childLanes=Qr(i,ve,h),c.memoizedState=wr,st(null,g)):(Ya(c),ro(c,ze))}var mt=i.memoizedState;if(mt!==null&&(ze=mt.dehydrated,ze!==null)){if(_)c.flags&256?(Ya(c),c.flags&=-257,c=Rr(i,c,h)):c.memoizedState!==null?(ol(),c.child=i.child,c.flags|=128,c=null):(ol(),ze=g.fallback,O=c.mode,g=Mn({mode:"visible",children:g.children},O),ze=Oc(ze,O,h,null),ze.flags|=2,g.return=c,ze.return=c,g.sibling=ze,c.child=g,nr(c,i.child,null,h),g=c.child,g.memoizedState=Hn(h),g.childLanes=Qr(i,ve,h),c.memoizedState=wr,c=st(null,g));else if(Ya(c),Px(ze)){if(ve=ze.nextSibling&&ze.nextSibling.dataset,ve)var ns=ve.dgst;ve=ns,g=Error(n(419)),g.stack="",g.digest=ve,vl({value:g,source:null,stack:null}),c=Rr(i,c,h)}else if(Oe||vc(i,c,h,!1),ve=(h&i.childLanes)!==0,Oe||ve){if(ve=ga,ve!==null&&(g=Pr(ve,h),g!==0&&g!==mt.retryLane))throw mt.retryLane=g,Wl(i,g),yi(ve,i,g),Ie;Rx(ze)||Sd(),c=Rr(i,c,h)}else Rx(ze)?(c.flags|=192,c.child=i.child,c=null):(i=mt.treeContext,Ha=au(ze.nextSibling),Qi=c,cr=!0,Ic=null,bl=!1,i!==null&&md(c,i),c=ro(c,g.children),c.flags|=4096);return c}return O?(ol(),ze=g.fallback,O=c.mode,mt=i.child,ns=mt.sibling,g=Ol(mt,{mode:"hidden",children:g.children}),g.subtreeFlags=mt.subtreeFlags&65011712,ns!==null?ze=Ol(ns,ze):(ze=Oc(ze,O,h,null),ze.flags|=2),ze.return=c,g.return=c,g.sibling=ze,c.child=g,st(null,g),g=c.child,ze=i.child.memoizedState,ze===null?ze=Hn(h):(O=ze.cachePool,O!==null?(mt=xi._currentValue,O=O.parent!==mt?{parent:mt,pool:mt}:O):O=ra(),ze={baseLanes:ze.baseLanes|h,cachePool:O}),g.memoizedState=ze,g.childLanes=Qr(i,ve,h),c.memoizedState=wr,st(i.child,g)):(Ya(c),h=i.child,i=h.sibling,h=Ol(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,i!==null&&(ve=c.deletions,ve===null?(c.deletions=[i],c.flags|=16):ve.push(i)),c.child=h,c.memoizedState=null,h)}function ro(i,c){return c=Mn({mode:"visible",children:c},i.mode),c.return=i,i.child=c}function Mn(i,c){return i=Do(22,i,null,c),i.lanes=0,i}function Rr(i,c,h){return nr(c,i.child,null,h),i=ro(c,c.pendingProps.children),i.flags|=2,c.memoizedState=null,i}function dr(i,c,h){i.lanes|=c;var g=i.alternate;g!==null&&(g.lanes|=c),bd(i.return,c,h)}function _i(i,c,h,g,O,_){var ve=i.memoizedState;ve===null?i.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:O,treeForkCount:_}:(ve.isBackwards=c,ve.rendering=null,ve.renderingStartTime=0,ve.last=g,ve.tail=h,ve.tailMode=O,ve.treeForkCount=_)}function On(i,c,h){var g=c.pendingProps,O=g.revealOrder,_=g.tail;g=g.children;var ve=vi.current,ze=(ve&2)!==0;if(ze?(ve=ve&1|2,c.flags|=128):ve&=1,be(vi,ve),He(i,c,g,h),g=cr?Zl:0,!ze&&i!==null&&(i.flags&128)!==0)e:for(i=c.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&dr(i,h,c);else if(i.tag===19)dr(i,h,c);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===c)break e;for(;i.sibling===null;){if(i.return===null||i.return===c)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(O){case"forwards":for(h=c.child,O=null;h!==null;)i=h.alternate,i!==null&&qd(i)===null&&(O=h),h=h.sibling;h=O,h===null?(O=c.child,c.child=null):(O=h.sibling,h.sibling=null),_i(c,!1,O,h,_,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,O=c.child,c.child=null;O!==null;){if(i=O.alternate,i!==null&&qd(i)===null){c.child=O;break}i=O.sibling,O.sibling=h,h=O,O=i}_i(c,!0,h,null,_,g);break;case"together":_i(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Vn(i,c,h){if(i!==null&&(c.dependencies=i.dependencies),U|=c.lanes,(h&c.childLanes)===0)if(i!==null){if(vc(i,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(i!==null&&c.child!==i.child)throw Error(n(153));if(c.child!==null){for(i=c.child,h=Ol(i,i.pendingProps),c.child=h,h.return=c;i.sibling!==null;)i=i.sibling,h=h.sibling=Ol(i,i.pendingProps),h.return=c;h.sibling=null}return c.child}function ni(i,c){return(i.lanes&c)!==0?!0:(i=i.dependencies,!!(i!==null&&ed(i)))}function jo(i,c,h){switch(c.tag){case 3:Ve(c,c.stateNode.containerInfo),Qo(c,xi,i.memoizedState.cache),Yi();break;case 27:case 5:Bt(c);break;case 4:Ve(c,c.stateNode.containerInfo);break;case 10:Qo(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Mu(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Ya(c),c.flags|=128,null):(h&c.child.childLanes)!==0?ca(i,c,h):(Ya(c),i=Vn(i,c,h),i!==null?i.sibling:null);Ya(c);break;case 19:var O=(i.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(vc(i,c,h,!1),g=(h&c.childLanes)!==0),O){if(g)return On(i,c,h);c.flags|=128}if(O=c.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),be(vi,vi.current),g)break;return null;case 22:return c.lanes=0,Wt(i,c,h,c.pendingProps);case 24:Qo(c,xi,i.memoizedState.cache)}return Vn(i,c,h)}function Ho(i,c,h){if(i!==null)if(i.memoizedProps!==c.pendingProps)Oe=!0;else{if(!ni(i,h)&&(c.flags&128)===0)return Oe=!1,jo(i,c,h);Oe=(i.flags&131072)!==0}else Oe=!1,cr&&(c.flags&1048576)!==0&&gu(c,Zl,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(i=H(c.elementType),c.type=i,typeof i=="function")An(i)?(g=Rd(i,g),c.tag=1,c=Ps(null,c,i,g,h)):(c.tag=0,c=ks(null,c,i,g,h));else{if(i!=null){var O=i.$$typeof;if(O===X){c.tag=11,c=Ke(null,c,i,g,h);break e}else if(O===K){c.tag=14,c=nt(null,c,i,g,h);break e}}throw c=je(i)||i,Error(n(306,c,""))}}return c;case 0:return ks(i,c,c.type,c.pendingProps,h);case 1:return g=c.type,O=Rd(g,c.pendingProps),Ps(i,c,g,O,h);case 3:e:{if(Ve(c,c.stateNode.containerInfo),i===null)throw Error(n(387));g=c.pendingProps;var _=c.memoizedState;O=_.element,hn(i,c),zr(c,g,null,h);var ve=c.memoizedState;if(g=ve.cache,Qo(c,xi,g),g!==_.cache&&yl(c,[xi],h,!0),Ma(),g=ve.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:ve.cache},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){c=$r(i,c,g,h);break e}else if(g!==O){O=Wi(Error(n(424)),c),vl(O),c=$r(i,c,g,h);break e}else{switch(i=c.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ha=au(i.firstChild),Qi=c,cr=!0,Ic=null,bl=!0,h=Qs(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Yi(),g===O){c=Vn(i,c,h);break e}He(i,c,g,h)}c=c.child}return c;case 26:return ys(i,c),i===null?(h=M1(c.type,null,c.pendingProps,null))?c.memoizedState=h:cr||(h=c.type,i=c.pendingProps,g=Hm(ge.current).createElement(h),g[dn]=c,g[la]=i,Bc(g,h,i),Ua(g),c.stateNode=g):c.memoizedState=M1(c.type,i.memoizedProps,c.pendingProps,i.memoizedState),null;case 27:return Bt(c),i===null&&cr&&(g=c.stateNode=U1(c.type,c.pendingProps,ge.current),Qi=c,bl=!0,O=Ha,uh(c.type)?(Qx=O,Ha=au(g.firstChild)):Ha=O),He(i,c,c.pendingProps.children,h),ys(i,c),i===null&&(c.flags|=4194304),c.child;case 5:return i===null&&cr&&((O=g=Ha)&&(g=a4(g,c.type,c.pendingProps,bl),g!==null?(c.stateNode=g,Qi=c,Ha=au(g.firstChild),bl=!1,O=!0):O=!1),O||Po(c)),Bt(c),O=c.type,_=c.pendingProps,ve=i!==null?i.memoizedProps:null,g=_.children,Ox(O,_)?g=null:ve!==null&&Ox(O,ve)&&(c.flags|=32),c.memoizedState!==null&&(O=ad(i,c,Ou,null,null,h),Up._currentValue=O),ys(i,c),He(i,c,g,h),c.child;case 6:return i===null&&cr&&((i=h=Ha)&&(h=i4(h,c.pendingProps,bl),h!==null?(c.stateNode=h,Qi=c,Ha=null,i=!0):i=!1),i||Po(c)),null;case 13:return ca(i,c,h);case 4:return Ve(c,c.stateNode.containerInfo),g=c.pendingProps,i===null?c.child=nr(c,null,g,h):He(i,c,g,h),c.child;case 11:return Ke(i,c,c.type,c.pendingProps,h);case 7:return He(i,c,c.pendingProps,h),c.child;case 8:return He(i,c,c.pendingProps.children,h),c.child;case 12:return He(i,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,Qo(c,c.type,g.value),He(i,c,g.children,h),c.child;case 9:return O=c.type._context,g=c.pendingProps.children,il(c),O=si(O),g=g(O),c.flags|=1,He(i,c,g,h),c.child;case 14:return nt(i,c,c.type,c.pendingProps,h);case 15:return Ct(i,c,c.type,c.pendingProps,h);case 19:return On(i,c,h);case 31:return Zt(i,c,h);case 22:return Wt(i,c,h,c.pendingProps);case 24:return il(c),g=si(xi),i===null?(O=mn(),O===null&&(O=ga,_=rd(),O.pooledCache=_,_.refCount++,_!==null&&(O.pooledCacheLanes|=h),O=_),c.memoizedState={parent:g,cache:O},La(c),Qo(c,xi,O)):((i.lanes&h)!==0&&(hn(i,c),zr(c,null,null,h),Ma()),O=i.memoizedState,_=c.memoizedState,O.parent!==g?(O={parent:g,cache:g},c.memoizedState=O,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=O),Qo(c,xi,g)):(g=_.cache,Qo(c,xi,g),g!==O.cache&&yl(c,[xi],h,!0))),He(i,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Oa(i){i.flags|=4}function zo(i,c,h,g,O){if((c=(i.mode&32)!==0)&&(c=!1),c){if(i.flags|=16777216,(O&335544128)===O)if(i.stateNode.complete)i.flags|=8192;else if(Bu())i.flags|=8192;else throw Qe=Ei,bi}else i.flags&=-16777217}function jl(i,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!P1(c))if(Bu())i.flags|=8192;else throw Qe=Ei,bi}function Hi(i,c){c!==null&&(i.flags|=4),i.flags&16384&&(c=i.tag!==22?wa():536870912,i.lanes|=c,qe|=c)}function ia(i,c){if(!cr)switch(i.tailMode){case"hidden":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function cn(i){var c=i.alternate!==null&&i.alternate.child===i.child,h=0,g=0;if(c)for(var O=i.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags&65011712,g|=O.flags&65011712,O.return=i,O=O.sibling;else for(O=i.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags,g|=O.flags,O.return=i,O=O.sibling;return i.subtreeFlags|=g,i.childLanes=h,c}function Zi(i,c,h){var g=c.pendingProps;switch(xu(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(c),null;case 1:return cn(c),null;case 3:return h=c.stateNode,g=null,i!==null&&(g=i.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),al(xi),kt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(xd(c)?Oa(c):i===null||i.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,qc())),cn(c),null;case 26:var O=c.type,_=c.memoizedState;return i===null?(Oa(c),_!==null?(cn(c),jl(c,_)):(cn(c),zo(c,O,null,g,h))):_?_!==i.memoizedState?(Oa(c),cn(c),jl(c,_)):(cn(c),c.flags&=-16777217):(i=i.memoizedProps,i!==g&&Oa(c),cn(c),zo(c,O,i,g,h)),null;case 27:if(We(c),h=ge.current,O=c.type,i!==null&&c.stateNode!=null)i.memoizedProps!==g&&Oa(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return cn(c),null}i=he.current,xd(c)?Dc(c):(i=U1(O,g,h),c.stateNode=i,Oa(c))}return cn(c),null;case 5:if(We(c),O=c.type,i!==null&&c.stateNode!=null)i.memoizedProps!==g&&Oa(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return cn(c),null}if(_=he.current,xd(c))Dc(c);else{var ve=Hm(ge.current);switch(_){case 1:_=ve.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:_=ve.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":_=ve.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":_=ve.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":_=ve.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof g.is=="string"?ve.createElement("select",{is:g.is}):ve.createElement("select"),g.multiple?_.multiple=!0:g.size&&(_.size=g.size);break;default:_=typeof g.is=="string"?ve.createElement(O,{is:g.is}):ve.createElement(O)}}_[dn]=c,_[la]=g;e:for(ve=c.child;ve!==null;){if(ve.tag===5||ve.tag===6)_.appendChild(ve.stateNode);else if(ve.tag!==4&&ve.tag!==27&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===c)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===c)break e;ve=ve.return}ve.sibling.return=ve.return,ve=ve.sibling}c.stateNode=_;e:switch(Bc(_,O,g),O){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Oa(c)}}return cn(c),zo(c,c.type,i===null?null:i.memoizedProps,c.pendingProps,h),null;case 6:if(i&&c.stateNode!=null)i.memoizedProps!==g&&Oa(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(i=ge.current,xd(c)){if(i=c.stateNode,h=c.memoizedProps,g=null,O=Qi,O!==null)switch(O.tag){case 27:case 5:g=O.memoizedProps}i[dn]=c,i=!!(i.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||v1(i.nodeValue,h)),i||Po(c,!0)}else i=Hm(i).createTextNode(g),i[dn]=c,c.stateNode=i}return cn(c),null;case 31:if(h=c.memoizedState,i===null||i.memoizedState!==null){if(g=xd(c),h!==null){if(i===null){if(!g)throw Error(n(318));if(i=c.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[dn]=c}else Yi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;cn(c),i=!1}else h=qc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),i=!0;if(!i)return c.flags&256?(ll(c),c):(ll(c),null);if((c.flags&128)!==0)throw Error(n(558))}return cn(c),null;case 13:if(g=c.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(O=xd(c),g!==null&&g.dehydrated!==null){if(i===null){if(!O)throw Error(n(318));if(O=c.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[dn]=c}else Yi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;cn(c),O=!1}else O=qc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=O),O=!0;if(!O)return c.flags&256?(ll(c),c):(ll(c),null)}return ll(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,i=i!==null&&i.memoizedState!==null,h&&(g=c.child,O=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(O=g.alternate.memoizedState.cachePool.pool),_=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==O&&(g.flags|=2048)),h!==i&&h&&(c.child.flags|=8192),Hi(c,c.updateQueue),cn(c),null);case 4:return kt(),i===null&&Tx(c.stateNode.containerInfo),cn(c),null;case 10:return al(c.type),cn(c),null;case 19:if(fe(vi),g=c.memoizedState,g===null)return cn(c),null;if(O=(c.flags&128)!==0,_=g.rendering,_===null)if(O)ia(g,!1);else{if(F!==0||i!==null&&(i.flags&128)!==0)for(i=c.child;i!==null;){if(_=qd(i),_!==null){for(c.flags|=128,ia(g,!1),i=_.updateQueue,c.updateQueue=i,Hi(c,i),c.subtreeFlags=0,i=h,h=c.child;h!==null;)Yl(h,i),h=h.sibling;return be(vi,vi.current&1|2),cr&&xl(c,g.treeForkCount),c.child}i=i.sibling}g.tail!==null&&Fs()>jr&&(c.flags|=128,O=!0,ia(g,!1),c.lanes=4194304)}else{if(!O)if(i=qd(_),i!==null){if(c.flags|=128,O=!0,i=i.updateQueue,c.updateQueue=i,Hi(c,i),ia(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!cr)return cn(c),null}else 2*Fs()-g.renderingStartTime>jr&&h!==536870912&&(c.flags|=128,O=!0,ia(g,!1),c.lanes=4194304);g.isBackwards?(_.sibling=c.child,c.child=_):(i=g.last,i!==null?i.sibling=_:c.child=_,g.last=_)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Fs(),i.sibling=null,h=vi.current,be(vi,O?h&1|2:h&1),cr&&xl(c,g.treeForkCount),i):(cn(c),null);case 22:case 23:return ll(c),wl(),g=c.memoizedState!==null,i!==null?i.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(cn(c),c.subtreeFlags&6&&(c.flags|=8192)):cn(c),h=c.updateQueue,h!==null&&Hi(c,h.retryQueue),h=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),i!==null&&fe(Er),null;case 24:return h=null,i!==null&&(h=i.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),al(xi),cn(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function $a(i,c){switch(xu(c),c.tag){case 1:return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 3:return al(xi),kt(),i=c.flags,(i&65536)!==0&&(i&128)===0?(c.flags=i&-65537|128,c):null;case 26:case 27:case 5:return We(c),null;case 31:if(c.memoizedState!==null){if(ll(c),c.alternate===null)throw Error(n(340));Yi()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 13:if(ll(c),i=c.memoizedState,i!==null&&i.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Yi()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 19:return fe(vi),null;case 4:return kt(),null;case 10:return al(c.type),null;case 22:case 23:return ll(c),wl(),i!==null&&fe(Er),i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 24:return al(xi),null;case 25:return null;default:return null}}function $o(i,c){switch(xu(c),c.tag){case 3:al(xi),kt();break;case 26:case 27:case 5:We(c);break;case 4:kt();break;case 31:c.memoizedState!==null&&ll(c);break;case 13:ll(c);break;case 19:fe(vi);break;case 10:al(c.type);break;case 22:case 23:ll(c),wl(),i!==null&&fe(Er);break;case 24:al(xi)}}function dl(i,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var O=g.next;h=O;do{if((h.tag&i)===i){g=void 0;var _=h.create,ve=h.inst;g=_(),ve.destroy=g}h=h.next}while(h!==O)}}catch(ze){wi(c,c.return,ze)}}function Xa(i,c,h){try{var g=c.updateQueue,O=g!==null?g.lastEffect:null;if(O!==null){var _=O.next;g=_;do{if((g.tag&i)===i){var ve=g.inst,ze=ve.destroy;if(ze!==void 0){ve.destroy=void 0,O=c;var mt=h,ns=ze;try{ns()}catch(Ss){wi(O,mt,Ss)}}}g=g.next}while(g!==_)}}catch(Ss){wi(c,c.return,Ss)}}function ul(i){var c=i.updateQueue;if(c!==null){var h=i.stateNode;try{Qn(c,h)}catch(g){wi(i,i.return,g)}}}function Ja(i,c,h){h.props=Rd(i.type,i.memoizedProps),h.state=i.memoizedState;try{h.componentWillUnmount()}catch(g){wi(i,c,g)}}function Ws(i,c){try{var h=i.ref;if(h!==null){switch(i.tag){case 26:case 27:case 5:var g=i.stateNode;break;case 30:g=i.stateNode;break;default:g=i.stateNode}typeof h=="function"?i.refCleanup=h(g):h.current=g}}catch(O){wi(i,c,O)}}function ai(i,c){var h=i.ref,g=i.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(O){wi(i,c,O)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(O){wi(i,c,O)}else h.current=null}function No(i){var c=i.type,h=i.memoizedProps,g=i.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(O){wi(i,i.return,O)}}function di(i,c,h){try{var g=i.stateNode;qC(g,i.type,h,c),g[la]=c}catch(O){wi(i,i.return,O)}}function nc(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&uh(i.type)||i.tag===4}function Fn(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||nc(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&uh(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ea(i,c,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(i,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(i),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=J));else if(g!==4&&(g===27&&uh(i.type)&&(h=i.stateNode,c=null),i=i.child,i!==null))for(ea(i,c,h),i=i.sibling;i!==null;)ea(i,c,h),i=i.sibling}function Sa(i,c,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,c?h.insertBefore(i,c):h.appendChild(i);else if(g!==4&&(g===27&&uh(i.type)&&(h=i.stateNode),i=i.child,i!==null))for(Sa(i,c,h),i=i.sibling;i!==null;)Sa(i,c,h),i=i.sibling}function ac(i){var c=i.stateNode,h=i.memoizedProps;try{for(var g=i.type,O=c.attributes;O.length;)c.removeAttributeNode(O[0]);Bc(c,g,h),c[dn]=i,c[la]=h}catch(_){wi(i,i.return,_)}}var qi=!1,ui=!1,ic=!1,Vo=typeof WeakSet=="function"?WeakSet:Set,no=null;function lh(i,c){if(i=i.containerInfo,Lx=Ym,i=Gl(i),an(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var O=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var ve=0,ze=-1,mt=-1,ns=0,Ss=0,Os=i,as=null;t:for(;;){for(var cs;Os!==h||O!==0&&Os.nodeType!==3||(ze=ve+O),Os!==_||g!==0&&Os.nodeType!==3||(mt=ve+g),Os.nodeType===3&&(ve+=Os.nodeValue.length),(cs=Os.firstChild)!==null;)as=Os,Os=cs;for(;;){if(Os===i)break t;if(as===h&&++ns===O&&(ze=ve),as===_&&++Ss===g&&(mt=ve),(cs=Os.nextSibling)!==null)break;Os=as,as=Os.parentNode}Os=cs}h=ze===-1||mt===-1?null:{start:ze,end:mt}}else h=null}h=h||{start:0,end:0}}else h=null;for(Mx={focusedElem:i,selectionRange:h},Ym=!1,no=c;no!==null;)if(c=no,i=c.child,(c.subtreeFlags&1028)!==0&&i!==null)i.return=c,no=i;else for(;no!==null;){switch(c=no,_=c.alternate,i=c.flags,c.tag){case 0:if((i&4)!==0&&(i=c.updateQueue,i=i!==null?i.events:null,i!==null))for(h=0;h<i.length;h++)O=i[h],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,h=c,O=_.memoizedProps,_=_.memoizedState,g=h.stateNode;try{var _r=Rd(h.type,O);i=g.getSnapshotBeforeUpdate(_r,_),g.__reactInternalSnapshotBeforeUpdate=i}catch(Bn){wi(h,h.return,Bn)}}break;case 3:if((i&1024)!==0){if(i=c.stateNode.containerInfo,h=i.nodeType,h===9)Dx(i);else if(h===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=c.sibling,i!==null){i.return=c.return,no=i;break}no=c.return}}function NA(i,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Nl(i,h),g&4&&dl(5,h);break;case 1:if(Nl(i,h),g&4)if(i=h.stateNode,c===null)try{i.componentDidMount()}catch(ve){wi(h,h.return,ve)}else{var O=Rd(h.type,c.memoizedProps);c=c.memoizedState;try{i.componentDidUpdate(O,c,i.__reactInternalSnapshotBeforeUpdate)}catch(ve){wi(h,h.return,ve)}}g&64&&ul(h),g&512&&Ws(h,h.return);break;case 3:if(Nl(i,h),g&64&&(i=h.updateQueue,i!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{Qn(i,c)}catch(ve){wi(h,h.return,ve)}}break;case 27:c===null&&g&4&&ac(h);case 26:case 5:Nl(i,h),c===null&&g&4&&No(h),g&512&&Ws(h,h.return);break;case 12:Nl(i,h);break;case 31:Nl(i,h),g&4&&Zh(i,h);break;case 13:Nl(i,h),g&4&&If(i,h),g&64&&(i=h.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(h=_C.bind(null,h),o4(i,h))));break;case 22:if(g=h.memoizedState!==null||qi,!g){c=c!==null&&c.memoizedState!==null||ui,O=qi;var _=ui;qi=g,(ui=c)&&!_?Pd(i,h,(h.subtreeFlags&8772)!==0):Nl(i,h),qi=O,ui=_}break;case 30:break;default:Nl(i,h)}}function ku(i){var c=i.alternate;c!==null&&(i.alternate=null,ku(c)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(c=i.stateNode,c!==null&&Kl(c)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ui=null,Pl=!1;function Qc(i,c,h){for(h=h.child;h!==null;)id(i,c,h),h=h.sibling}function id(i,c,h){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Es,h)}catch{}switch(h.tag){case 26:ui||ai(h,c),Qc(i,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ui||ai(h,c);var g=Ui,O=Pl;uh(h.type)&&(Ui=h.stateNode,Pl=!1),Qc(i,c,h),Sp(h.stateNode),Ui=g,Pl=O;break;case 5:ui||ai(h,c);case 6:if(g=Ui,O=Pl,Ui=null,Qc(i,c,h),Ui=g,Pl=O,Ui!==null)if(Pl)try{(Ui.nodeType===9?Ui.body:Ui.nodeName==="HTML"?Ui.ownerDocument.body:Ui).removeChild(h.stateNode)}catch(_){wi(h,c,_)}else try{Ui.removeChild(h.stateNode)}catch(_){wi(h,c,_)}break;case 18:Ui!==null&&(Pl?(i=Ui,C1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,h.stateNode),Vf(i)):C1(Ui,h.stateNode));break;case 4:g=Ui,O=Pl,Ui=h.stateNode.containerInfo,Pl=!0,Qc(i,c,h),Ui=g,Pl=O;break;case 0:case 11:case 14:case 15:Xa(2,h,c),ui||Xa(4,h,c),Qc(i,c,h);break;case 1:ui||(ai(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&Ja(h,c,g)),Qc(i,c,h);break;case 21:Qc(i,c,h);break;case 22:ui=(g=ui)||h.memoizedState!==null,Qc(i,c,h),ui=g;break;default:Qc(i,c,h)}}function Zh(i,c){if(c.memoizedState===null&&(i=c.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Vf(i)}catch(h){wi(c,c.return,h)}}}function If(i,c){if(c.memoizedState===null&&(i=c.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Vf(i)}catch(h){wi(c,c.return,h)}}function Df(i){switch(i.tag){case 31:case 13:case 19:var c=i.stateNode;return c===null&&(c=i.stateNode=new Vo),c;case 22:return i=i.stateNode,c=i._retryCache,c===null&&(c=i._retryCache=new Vo),c;default:throw Error(n(435,i.tag))}}function kA(i,c){var h=Df(i);c.forEach(function(g){if(!h.has(g)){h.add(g);var O=HC.bind(null,i,g);g.then(O,O)}})}function Al(i,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var O=h[g],_=i,ve=c,ze=ve;e:for(;ze!==null;){switch(ze.tag){case 27:if(uh(ze.type)){Ui=ze.stateNode,Pl=!1;break e}break;case 5:Ui=ze.stateNode,Pl=!1;break e;case 3:case 4:Ui=ze.stateNode.containerInfo,Pl=!0;break e}ze=ze.return}if(Ui===null)throw Error(n(160));id(_,ve,O),Ui=null,Pl=!1,_=O.alternate,_!==null&&(_.return=null),O.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Hu(c,i),c=c.sibling}var _c=null;function Hu(i,c){var h=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Al(c,i),Za(i),g&4&&(Xa(3,i,i.return),dl(3,i),Xa(5,i,i.return));break;case 1:Al(c,i),Za(i),g&512&&(ui||h===null||ai(h,h.return)),g&64&&qi&&(i=i.updateQueue,i!==null&&(g=i.callbacks,g!==null&&(h=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var O=_c;if(Al(c,i),Za(i),g&512&&(ui||h===null||ai(h,h.return)),g&4){var _=h!==null?h.memoizedState:null;if(g=i.memoizedState,h===null)if(g===null)if(i.stateNode===null){e:{g=i.type,h=i.memoizedProps,O=O.ownerDocument||O;t:switch(g){case"title":_=O.getElementsByTagName("title")[0],(!_||_[Uo]||_[dn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=O.createElement(g),O.head.insertBefore(_,O.querySelector("head > title"))),Bc(_,g,h),_[dn]=i,Ua(_),g=_;break e;case"link":var ve=D1("link","href",O).get(g+(h.href||""));if(ve){for(var ze=0;ze<ve.length;ze++)if(_=ve[ze],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){ve.splice(ze,1);break t}}_=O.createElement(g),Bc(_,g,h),O.head.appendChild(_);break;case"meta":if(ve=D1("meta","content",O).get(g+(h.content||""))){for(ze=0;ze<ve.length;ze++)if(_=ve[ze],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){ve.splice(ze,1);break t}}_=O.createElement(g),Bc(_,g,h),O.head.appendChild(_);break;default:throw Error(n(468,g))}_[dn]=i,Ua(_),g=_}i.stateNode=g}else R1(O,i.type,i.stateNode);else i.stateNode=I1(O,g,i.memoizedProps);else _!==g?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,g===null?R1(O,i.type,i.stateNode):I1(O,g,i.memoizedProps)):g===null&&i.stateNode!==null&&di(i,i.memoizedProps,h.memoizedProps)}break;case 27:Al(c,i),Za(i),g&512&&(ui||h===null||ai(h,h.return)),h!==null&&g&4&&di(i,i.memoizedProps,h.memoizedProps);break;case 5:if(Al(c,i),Za(i),g&512&&(ui||h===null||ai(h,h.return)),i.flags&32){O=i.stateNode;try{ba(O,"")}catch(_r){wi(i,i.return,_r)}}g&4&&i.stateNode!=null&&(O=i.memoizedProps,di(i,O,h!==null?h.memoizedProps:O)),g&1024&&(ic=!0);break;case 6:if(Al(c,i),Za(i),g&4){if(i.stateNode===null)throw Error(n(162));g=i.memoizedProps,h=i.stateNode;try{h.nodeValue=g}catch(_r){wi(i,i.return,_r)}}break;case 3:if(Vm=null,O=_c,_c=zm(c.containerInfo),Al(c,i),_c=O,Za(i),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Vf(c.containerInfo)}catch(_r){wi(i,i.return,_r)}ic&&(ic=!1,CA(i));break;case 4:g=_c,_c=zm(i.stateNode.containerInfo),Al(c,i),Za(i),_c=g;break;case 12:Al(c,i),Za(i);break;case 31:Al(c,i),Za(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,kA(i,g)));break;case 13:Al(c,i),Za(i),i.child.flags&8192&&i.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Gt=Fs()),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,kA(i,g)));break;case 22:O=i.memoizedState!==null;var mt=h!==null&&h.memoizedState!==null,ns=qi,Ss=ui;if(qi=ns||O,ui=Ss||mt,Al(c,i),ui=Ss,qi=ns,Za(i),g&8192)e:for(c=i.stateNode,c._visibility=O?c._visibility&-2:c._visibility|1,O&&(h===null||mt||qi||ui||su(i)),h=null,c=i;;){if(c.tag===5||c.tag===26){if(h===null){mt=h=c;try{if(_=mt.stateNode,O)ve=_.style,typeof ve.setProperty=="function"?ve.setProperty("display","none","important"):ve.display="none";else{ze=mt.stateNode;var Os=mt.memoizedProps.style,as=Os!=null&&Os.hasOwnProperty("display")?Os.display:null;ze.style.display=as==null||typeof as=="boolean"?"":(""+as).trim()}}catch(_r){wi(mt,mt.return,_r)}}}else if(c.tag===6){if(h===null){mt=c;try{mt.stateNode.nodeValue=O?"":mt.memoizedProps}catch(_r){wi(mt,mt.return,_r)}}}else if(c.tag===18){if(h===null){mt=c;try{var cs=mt.stateNode;O?B1(cs,!0):B1(mt.stateNode,!1)}catch(_r){wi(mt,mt.return,_r)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===i)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break e;for(;c.sibling===null;){if(c.return===null||c.return===i)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=i.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,kA(i,h))));break;case 19:Al(c,i),Za(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,kA(i,g)));break;case 30:break;case 21:break;default:Al(c,i),Za(i)}}function Za(i){var c=i.flags;if(c&2){try{for(var h,g=i.return;g!==null;){if(nc(g)){h=g;break}g=g.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var O=h.stateNode,_=Fn(i);Sa(i,_,O);break;case 5:var ve=h.stateNode;h.flags&32&&(ba(ve,""),h.flags&=-33);var ze=Fn(i);Sa(i,ze,ve);break;case 3:case 4:var mt=h.stateNode.containerInfo,ns=Fn(i);ea(i,ns,mt);break;default:throw Error(n(161))}}catch(Ss){wi(i,i.return,Ss)}i.flags&=-3}c&4096&&(i.flags&=-4097)}function CA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var c=i;CA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),i=i.sibling}}function Nl(i,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)NA(i,c.alternate,c),c=c.sibling}function su(i){for(i=i.child;i!==null;){var c=i;switch(c.tag){case 0:case 11:case 14:case 15:Xa(4,c,c.return),su(c);break;case 1:ai(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&Ja(c,c.return,h),su(c);break;case 27:Sp(c.stateNode);case 26:case 5:ai(c,c.return),su(c);break;case 22:c.memoizedState===null&&su(c);break;case 30:su(c);break;default:su(c)}i=i.sibling}}function Pd(i,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,O=i,_=c,ve=_.flags;switch(_.tag){case 0:case 11:case 15:Pd(O,_,h),dl(4,_);break;case 1:if(Pd(O,_,h),g=_,O=g.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(ns){wi(g,g.return,ns)}if(g=_,O=g.updateQueue,O!==null){var ze=g.stateNode;try{var mt=O.shared.hiddenCallbacks;if(mt!==null)for(O.shared.hiddenCallbacks=null,O=0;O<mt.length;O++)na(mt[O],ze)}catch(ns){wi(g,g.return,ns)}}h&&ve&64&&ul(_),Ws(_,_.return);break;case 27:ac(_);case 26:case 5:Pd(O,_,h),h&&g===null&&ve&4&&No(_),Ws(_,_.return);break;case 12:Pd(O,_,h);break;case 31:Pd(O,_,h),h&&ve&4&&Zh(O,_);break;case 13:Pd(O,_,h),h&&ve&4&&If(O,_);break;case 22:_.memoizedState===null&&Pd(O,_,h),Ws(_,_.return);break;case 30:break;default:Pd(O,_,h)}c=c.sibling}}function ru(i,c){var h=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),i=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(i=c.memoizedState.cachePool.pool),i!==h&&(i!=null&&i.refCount++,h!=null&&yd(h))}function Qd(i,c){i=null,c.alternate!==null&&(i=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==i&&(c.refCount++,i!=null&&yd(i))}function kl(i,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)_d(i,c,h,g),c=c.sibling}function _d(i,c,h,g){var O=c.flags;switch(c.tag){case 0:case 11:case 15:kl(i,c,h,g),O&2048&&dl(9,c);break;case 1:kl(i,c,h,g);break;case 3:kl(i,c,h,g),O&2048&&(i=null,c.alternate!==null&&(i=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==i&&(c.refCount++,i!=null&&yd(i)));break;case 12:if(O&2048){kl(i,c,h,g),i=c.stateNode;try{var _=c.memoizedProps,ve=_.id,ze=_.onPostCommit;typeof ze=="function"&&ze(ve,c.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(mt){wi(c,c.return,mt)}}else kl(i,c,h,g);break;case 31:kl(i,c,h,g);break;case 13:kl(i,c,h,g);break;case 23:break;case 22:_=c.stateNode,ve=c.alternate,c.memoizedState!==null?_._visibility&2?kl(i,c,h,g):zu(i,c):_._visibility&2?kl(i,c,h,g):(_._visibility|=2,Hc(i,c,h,g,(c.subtreeFlags&10256)!==0||!1)),O&2048&&ru(ve,c);break;case 24:kl(i,c,h,g),O&2048&&Qd(c.alternate,c);break;default:kl(i,c,h,g)}}function Hc(i,c,h,g,O){for(O=O&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var _=i,ve=c,ze=h,mt=g,ns=ve.flags;switch(ve.tag){case 0:case 11:case 15:Hc(_,ve,ze,mt,O),dl(8,ve);break;case 23:break;case 22:var Ss=ve.stateNode;ve.memoizedState!==null?Ss._visibility&2?Hc(_,ve,ze,mt,O):zu(_,ve):(Ss._visibility|=2,Hc(_,ve,ze,mt,O)),O&&ns&2048&&ru(ve.alternate,ve);break;case 24:Hc(_,ve,ze,mt,O),O&&ns&2048&&Qd(ve.alternate,ve);break;default:Hc(_,ve,ze,mt,O)}c=c.sibling}}function zu(i,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=i,g=c,O=g.flags;switch(g.tag){case 22:zu(h,g),O&2048&&ru(g.alternate,g);break;case 24:zu(h,g),O&2048&&Qd(g.alternate,g);break;default:zu(h,g)}c=c.sibling}}var BA=8192;function nu(i,c,h){if(i.subtreeFlags&BA)for(i=i.child;i!==null;)Cu(i,c,h),i=i.sibling}function Cu(i,c,h){switch(i.tag){case 26:nu(i,c,h),i.flags&BA&&i.memoizedState!==null&&b4(h,_c,i.memoizedState,i.memoizedProps);break;case 5:nu(i,c,h);break;case 3:case 4:var g=_c;_c=zm(i.stateNode.containerInfo),nu(i,c,h),_c=g;break;case 22:i.memoizedState===null&&(g=i.alternate,g!==null&&g.memoizedState!==null?(g=BA,BA=16777216,nu(i,c,h),BA=g):nu(i,c,h));break;default:nu(i,c,h)}}function qh(i){var c=i.alternate;if(c!==null&&(i=c.child,i!==null)){c.child=null;do c=i.sibling,i.sibling=null,i=c;while(i!==null)}}function $u(i){var c=i.deletions;if((i.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];no=g,Pf(g,i)}qh(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rf(i),i=i.sibling}function Rf(i){switch(i.tag){case 0:case 11:case 15:$u(i),i.flags&2048&&Xa(9,i,i.return);break;case 3:$u(i);break;case 12:$u(i);break;case 22:var c=i.stateNode;i.memoizedState!==null&&c._visibility&2&&(i.return===null||i.return.tag!==13)?(c._visibility&=-3,SA(i)):$u(i);break;default:$u(i)}}function SA(i){var c=i.deletions;if((i.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];no=g,Pf(g,i)}qh(i)}for(i=i.child;i!==null;){switch(c=i,c.tag){case 0:case 11:case 15:Xa(8,c,c.return),SA(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,SA(c));break;default:SA(c)}i=i.sibling}}function Pf(i,c){for(;no!==null;){var h=no;switch(h.tag){case 0:case 11:case 15:Xa(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:yd(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,no=g;else e:for(h=i;no!==null;){g=no;var O=g.sibling,_=g.return;if(ku(g),g===h){no=null;break e}if(O!==null){O.return=_,no=O;break e}no=_}}}var EA={getCacheForType:function(i){var c=si(xi),h=c.data.get(i);return h===void 0&&(h=i(),c.data.set(i,h)),h},cacheSignal:function(){return si(xi).controller.signal}},ef=typeof WeakMap=="function"?WeakMap:Map,va=0,ga=null,In=null,zn=0,Ea=0,Ql=null,Hd=!1,Vu=!1,B=!1,w=0,F=0,U=0,ae=0,we=0,Fe=0,qe=0,et=null,Nt=null,Dt=!1,Gt=0,ws=0,jr=1/0,Zs=null,ur=null,Jr=0,Lr=null,Ur=null,ta=0,Xn=0,Cn=null,kr=null,da=0,ya=null;function rn(){return(va&2)!==0&&zn!==0?zn&-zn:se.T!==null?Cx():fa()}function ko(){if(Fe===0)if((zn&536870912)===0||cr){var i=As;As<<=1,(As&3932160)===0&&(As=262144),Fe=i}else Fe=536870912;return i=Xi.current,i!==null&&(i.flags|=32),Fe}function yi(i,c,h){(i===ga&&(Ea===2||Ea===9)||i.cancelPendingCommit!==null)&&(Bd(i,0),Cc(i,zn,Fe,!1)),Ds(i,h),((va&2)===0||i!==ga)&&(i===ga&&((va&2)===0&&(ae|=h),F===4&&Cc(i,zn,Fe,!1)),Wu(i))}function zc(i,c,h){if((va&6)!==0)throw Error(n(327));var g=!h&&(c&127)===0&&(c&i.expiredLanes)===0||fr(i,c),O=g?ch(i,c):Su(i,c,!0),_=g;do{if(O===0){Vu&&!g&&Cc(i,c,0,!1);break}else{if(h=i.current.alternate,_&&!_l(h)){O=Su(i,c,!1),_=!1;continue}if(O===2){if(_=c,i.errorRecoveryDisabledLanes&_)var ve=0;else ve=i.pendingLanes&-536870913,ve=ve!==0?ve:ve&536870912?536870912:0;if(ve!==0){c=ve;e:{var ze=i;O=et;var mt=ze.current.memoizedState.isDehydrated;if(mt&&(Bd(ze,ve).flags|=256),ve=Su(ze,ve,!1),ve!==2){if(B&&!mt){ze.errorRecoveryDisabledLanes|=_,ae|=_,O=4;break e}_=Nt,Nt=O,_!==null&&(Nt===null?Nt=_:Nt.push.apply(Nt,_))}O=ve}if(_=!1,O!==2)continue}}if(O===1){Bd(i,0),Cc(i,c,0,!0);break}e:{switch(g=i,_=O,_){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Cc(g,c,Fe,!Hd);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(O=Gt+300-Fs(),10<O)){if(Cc(g,c,Fe,!Hd),$s(g,0,!0)!==0)break e;ta=c,g.timeoutHandle=N1(ii.bind(null,g,h,Nt,Zs,Dt,c,Fe,ae,qe,Hd,_,"Throttled",-0,0),O);break e}ii(g,h,Nt,Zs,Dt,c,Fe,ae,qe,Hd,_,null,-0,0)}}break}while(!0);Wu(i)}function ii(i,c,h,g,O,_,ve,ze,mt,ns,Ss,Os,as,cs){if(i.timeoutHandle=-1,Os=c.subtreeFlags,Os&8192||(Os&16785408)===16785408){Os={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:J},Cu(c,_,Os);var _r=(_&62914560)===_?Gt-Fs():(_&4194048)===_?ws-Fs():0;if(_r=v4(Os,_r),_r!==null){ta=_,i.cancelPendingCommit=_r(s1.bind(null,i,c,_,h,g,O,ve,ze,mt,Ss,Os,null,as,cs)),Cc(i,_,ve,!ns);return}}s1(i,c,_,h,g,O,ve,ze,mt)}function _l(i){for(var c=i;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var O=h[g],_=O.getSnapshot;O=O.value;try{if(!ir(_(),O))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Cc(i,c,h,g){c&=~we,c&=~ae,i.suspendedLanes|=c,i.pingedLanes&=~c,g&&(i.warmLanes|=c),g=i.expirationTimes;for(var O=c;0<O;){var _=31-js(O),ve=1<<_;g[_]=-1,O&=~ve}h!==0&&ms(i,h,c)}function Hl(){return(va&6)===0?(kp(0),!1):!0}function oc(){if(In!==null){if(Ea===0)var i=In.return;else i=In,bc=nl=null,dA(i),Xt=null,Ut=0,i=In;for(;i!==null;)$o(i.alternate,i),i=i.return;In=null}}function Bd(i,c){var h=i.timeoutHandle;h!==-1&&(i.timeoutHandle=-1,s4(h)),h=i.cancelPendingCommit,h!==null&&(i.cancelPendingCommit=null,h()),ta=0,oc(),ga=i,In=h=Ol(i.current,null),zn=c,Ea=0,Ql=null,Hd=!1,Vu=fr(i,c),B=!1,qe=Fe=we=ae=U=F=0,Nt=et=null,Dt=!1,(c&8)!==0&&(c|=c&32);var g=i.entangledLanes;if(g!==0)for(i=i.entanglements,g&=c;0<g;){var O=31-js(g),_=1<<O;c|=i[O],g&=~_}return w=c,xc(),h}function zd(i,c){yn=null,se.H=vA,c===Fa||c===Ba?(c=lt(),Ea=3):c===bi?(c=lt(),Ea=4):Ea=c===Ie?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ql=c,In===null&&(F=1,_u(i,Wi(c,i.current)))}function Bu(){var i=Xi.current;return i===null?!0:(zn&4194048)===zn?wo===null:(zn&62914560)===zn||(zn&536870912)!==0?i===wo:!1}function Ku(){var i=se.H;return se.H=vA,i===null?vA:i}function Gu(){var i=se.A;return se.A=EA,i}function Sd(){F=4,Hd||(zn&4194048)!==zn&&Xi.current!==null||(Vu=!0),(U&134217727)===0&&(ae&134217727)===0||ga===null||Cc(ga,zn,Fe,!1)}function Su(i,c,h){var g=va;va|=2;var O=Ku(),_=Gu();(ga!==i||zn!==c)&&(Zs=null,Bd(i,c)),c=!1;var ve=F;e:do try{if(Ea!==0&&In!==null){var ze=In,mt=Ql;switch(Ea){case 8:oc(),ve=6;break e;case 3:case 2:case 9:case 6:Xi.current===null&&(c=!0);var ns=Ea;if(Ea=0,Ql=null,Qf(i,ze,mt,ns),h&&Vu){ve=0;break e}break;default:ns=Ea,Ea=0,Ql=null,Qf(i,ze,mt,ns)}}Eu(),ve=F;break}catch(Ss){zd(i,Ss)}while(!0);return c&&i.shellSuspendCounter++,bc=nl=null,va=g,se.H=O,se.A=_,In===null&&(ga=null,zn=0,xc()),ve}function Eu(){for(;In!==null;)qy(In)}function ch(i,c){var h=va;va|=2;var g=Ku(),O=Gu();ga!==i||zn!==c?(Zs=null,jr=Fs()+500,Bd(i,c)):Vu=fr(i,c);e:do try{if(Ea!==0&&In!==null){c=In;var _=Ql;t:switch(Ea){case 1:Ea=0,Ql=null,Qf(i,c,_,1);break;case 2:case 9:if(k(_)){Ea=0,Ql=null,e1(c);break}c=function(){Ea!==2&&Ea!==9||ga!==i||(Ea=7),Wu(i)},_.then(c,c);break e;case 3:Ea=7;break e;case 4:Ea=5;break e;case 7:k(_)?(Ea=0,Ql=null,e1(c)):(Ea=0,Ql=null,Qf(i,c,_,7));break;case 5:var ve=null;switch(In.tag){case 26:ve=In.memoizedState;case 5:case 27:var ze=In;if(ve?P1(ve):ze.stateNode.complete){Ea=0,Ql=null;var mt=ze.sibling;if(mt!==null)In=mt;else{var ns=ze.return;ns!==null?(In=ns,Im(ns)):In=null}break t}}Ea=0,Ql=null,Qf(i,c,_,5);break;case 6:Ea=0,Ql=null,Qf(i,c,_,6);break;case 8:oc(),F=6;break e;default:throw Error(n(462))}}tf();break}catch(Ss){zd(i,Ss)}while(!0);return bc=nl=null,se.H=g,se.A=O,va=h,In!==null?0:(ga=null,zn=0,xc(),F)}function tf(){for(;In!==null&&!hr();)qy(In)}function qy(i){var c=Ho(i.alternate,i,w);i.memoizedProps=i.pendingProps,c===null?Im(i):In=c}function e1(i){var c=i,h=c.alternate;switch(c.tag){case 15:case 0:c=zs(h,c,c.pendingProps,c.type,void 0,zn);break;case 11:c=zs(h,c,c.pendingProps,c.type.render,c.ref,zn);break;case 5:dA(c);default:$o(h,c),c=In=Yl(c,w),c=Ho(h,c,w)}i.memoizedProps=i.pendingProps,c===null?Im(i):In=c}function Qf(i,c,h,g){bc=nl=null,dA(c),Xt=null,Ut=0;var O=c.return;try{if(Ue(i,O,c,h,zn)){F=1,_u(i,Wi(h,i.current)),In=null;return}}catch(_){if(O!==null)throw In=O,_;F=1,_u(i,Wi(h,i.current)),In=null;return}c.flags&32768?(cr||g===1?i=!0:Vu||(zn&536870912)!==0?i=!1:(Hd=i=!0,(g===2||g===9||g===3||g===6)&&(g=Xi.current,g!==null&&g.tag===13&&(g.flags|=16384))),t1(c,i)):Im(c)}function Im(i){var c=i;do{if((c.flags&32768)!==0){t1(c,Hd);return}i=c.return;var h=Zi(c.alternate,c,w);if(h!==null){In=h;return}if(c=c.sibling,c!==null){In=c;return}In=c=i}while(c!==null);F===0&&(F=5)}function t1(i,c){do{var h=$a(i.alternate,i);if(h!==null){h.flags&=32767,In=h;return}if(h=i.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(i=i.sibling,i!==null)){In=i;return}In=i=h}while(i!==null);F=6,In=null}function s1(i,c,h,g,O,_,ve,ze,mt){i.cancelPendingCommit=null;do Dm();while(Jr!==0);if((va&6)!==0)throw Error(n(327));if(c!==null){if(c===i.current)throw Error(n(177));if(_=c.lanes|c.childLanes,_|=xo,sr(i,h,_,ve,ze,mt),i===ga&&(In=ga=null,zn=0),Ur=c,Lr=i,ta=h,Xn=_,Cn=O,kr=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,zC(gr,function(){return o1(),null})):(i.callbackNode=null,i.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=se.T,se.T=null,O=pe.p,pe.p=2,ve=va,va|=4;try{lh(i,c,h)}finally{va=ve,pe.p=O,se.T=g}}Jr=1,r1(),n1(),a1()}}function r1(){if(Jr===1){Jr=0;var i=Lr,c=Ur,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=se.T,se.T=null;var g=pe.p;pe.p=2;var O=va;va|=4;try{Hu(c,i);var _=Mx,ve=Gl(i.containerInfo),ze=_.focusedElem,mt=_.selectionRange;if(ve!==ze&&ze&&ze.ownerDocument&&lo(ze.ownerDocument.documentElement,ze)){if(mt!==null&&an(ze)){var ns=mt.start,Ss=mt.end;if(Ss===void 0&&(Ss=ns),"selectionStart"in ze)ze.selectionStart=ns,ze.selectionEnd=Math.min(Ss,ze.value.length);else{var Os=ze.ownerDocument||document,as=Os&&Os.defaultView||window;if(as.getSelection){var cs=as.getSelection(),_r=ze.textContent.length,Bn=Math.min(mt.start,_r),Li=mt.end===void 0?Bn:Math.min(mt.end,_r);!cs.extend&&Bn>Li&&(ve=Li,Li=Bn,Bn=ve);var zt=Ri(ze,Bn),Et=Ri(ze,Li);if(zt&&Et&&(cs.rangeCount!==1||cs.anchorNode!==zt.node||cs.anchorOffset!==zt.offset||cs.focusNode!==Et.node||cs.focusOffset!==Et.offset)){var ss=Os.createRange();ss.setStart(zt.node,zt.offset),cs.removeAllRanges(),Bn>Li?(cs.addRange(ss),cs.extend(Et.node,Et.offset)):(ss.setEnd(Et.node,Et.offset),cs.addRange(ss))}}}}for(Os=[],cs=ze;cs=cs.parentNode;)cs.nodeType===1&&Os.push({element:cs,left:cs.scrollLeft,top:cs.scrollTop});for(typeof ze.focus=="function"&&ze.focus(),ze=0;ze<Os.length;ze++){var Ms=Os[ze];Ms.element.scrollLeft=Ms.left,Ms.element.scrollTop=Ms.top}}Ym=!!Lx,Mx=Lx=null}finally{va=O,pe.p=g,se.T=h}}i.current=c,Jr=2}}function n1(){if(Jr===2){Jr=0;var i=Lr,c=Ur,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=se.T,se.T=null;var g=pe.p;pe.p=2;var O=va;va|=4;try{NA(i,c.alternate,c)}finally{va=O,pe.p=g,se.T=h}}Jr=3}}function a1(){if(Jr===4||Jr===3){Jr=0,ar();var i=Lr,c=Ur,h=ta,g=kr;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Jr=5:(Jr=0,Ur=Lr=null,i1(i,i.pendingLanes));var O=i.pendingLanes;if(O===0&&(ur=null),Da(h),c=c.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Es,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=se.T,O=pe.p,pe.p=2,se.T=null;try{for(var _=i.onRecoverableError,ve=0;ve<g.length;ve++){var ze=g[ve];_(ze.value,{componentStack:ze.stack})}}finally{se.T=c,pe.p=O}}(ta&3)!==0&&Dm(),Wu(i),O=i.pendingLanes,(h&261930)!==0&&(O&42)!==0?i===ya?da++:(da=0,ya=i):da=0,kp(0)}}function i1(i,c){(i.pooledCacheLanes&=c)===0&&(c=i.pooledCache,c!=null&&(i.pooledCache=null,yd(c)))}function Dm(){return r1(),n1(),a1(),o1()}function o1(){if(Jr!==5)return!1;var i=Lr,c=Xn;Xn=0;var h=Da(ta),g=se.T,O=pe.p;try{pe.p=32>h?32:h,se.T=null,h=Cn,Cn=null;var _=Lr,ve=ta;if(Jr=0,Ur=Lr=null,ta=0,(va&6)!==0)throw Error(n(331));var ze=va;if(va|=4,Rf(_.current),_d(_,_.current,ve,h),va=ze,kp(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Es,_)}catch{}return!0}finally{pe.p=O,se.T=g,i1(i,c)}}function l1(i,c,h){c=Wi(h,c),c=D(i.stateNode,c,2),i=ln(i,c,2),i!==null&&(Ds(i,2),Wu(i))}function wi(i,c,h){if(i.tag===3)l1(i,i,h);else for(;c!==null;){if(c.tag===3){l1(c,i,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ur===null||!ur.has(g))){i=Wi(h,i),h=ne(2),g=ln(c,h,2),g!==null&&(me(h,g,c,i),Ds(g,2),Wu(g));break}}c=c.return}}function jx(i,c,h){var g=i.pingCache;if(g===null){g=i.pingCache=new ef;var O=new Set;g.set(c,O)}else O=g.get(c),O===void 0&&(O=new Set,g.set(c,O));O.has(h)||(B=!0,O.add(h),i=QC.bind(null,i,c,h),c.then(i,i))}function QC(i,c,h){var g=i.pingCache;g!==null&&g.delete(c),i.pingedLanes|=i.suspendedLanes&h,i.warmLanes&=~h,ga===i&&(zn&h)===h&&(F===4||F===3&&(zn&62914560)===zn&&300>Fs()-Gt?(va&2)===0&&Bd(i,0):we|=h,qe===zn&&(qe=0)),Wu(i)}function c1(i,c){c===0&&(c=wa()),i=Wl(i,c),i!==null&&(Ds(i,c),Wu(i))}function _C(i){var c=i.memoizedState,h=0;c!==null&&(h=c.retryLane),c1(i,h)}function HC(i,c){var h=0;switch(i.tag){case 31:case 13:var g=i.stateNode,O=i.memoizedState;O!==null&&(h=O.retryLane);break;case 19:g=i.stateNode;break;case 22:g=i.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),c1(i,h)}function zC(i,c){return us(i,c)}var Rm=null,_f=null,Nx=!1,Pm=!1,kx=!1,dh=0;function Wu(i){i!==_f&&i.next===null&&(_f===null?Rm=_f=i:_f=_f.next=i),Pm=!0,Nx||(Nx=!0,VC())}function kp(i,c){if(!kx&&Pm){kx=!0;do for(var h=!1,g=Rm;g!==null;){if(i!==0){var O=g.pendingLanes;if(O===0)var _=0;else{var ve=g.suspendedLanes,ze=g.pingedLanes;_=(1<<31-js(42|i)+1)-1,_&=O&~(ve&~ze),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,h1(g,_))}else _=zn,_=$s(g,g===ga?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(_&3)===0||fr(g,_)||(h=!0,h1(g,_));g=g.next}while(h);kx=!1}}function $C(){d1()}function d1(){Pm=Nx=!1;var i=0;dh!==0&&t4()&&(i=dh);for(var c=Fs(),h=null,g=Rm;g!==null;){var O=g.next,_=u1(g,c);_===0?(g.next=null,h===null?Rm=O:h.next=O,O===null&&(_f=h)):(h=g,(i!==0||(_&3)!==0)&&(Pm=!0)),g=O}Jr!==0&&Jr!==5||kp(i),dh!==0&&(dh=0)}function u1(i,c){for(var h=i.suspendedLanes,g=i.pingedLanes,O=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var ve=31-js(_),ze=1<<ve,mt=O[ve];mt===-1?((ze&h)===0||(ze&g)!==0)&&(O[ve]=tn(ze,c)):mt<=c&&(i.expiredLanes|=ze),_&=~ze}if(c=ga,h=zn,h=$s(i,i===c?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g=i.callbackNode,h===0||i===c&&(Ea===2||Ea===9)||i.cancelPendingCommit!==null)return g!==null&&g!==null&&br(g),i.callbackNode=null,i.callbackPriority=0;if((h&3)===0||fr(i,h)){if(c=h&-h,c===i.callbackPriority)return c;switch(g!==null&&br(g),Da(h)){case 2:case 8:h=vr;break;case 32:h=gr;break;case 268435456:h=Nr;break;default:h=gr}return g=A1.bind(null,i),h=us(h,g),i.callbackPriority=c,i.callbackNode=h,c}return g!==null&&g!==null&&br(g),i.callbackPriority=2,i.callbackNode=null,2}function A1(i,c){if(Jr!==0&&Jr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var h=i.callbackNode;if(Dm()&&i.callbackNode!==h)return null;var g=zn;return g=$s(i,i===ga?g:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g===0?null:(zc(i,g,c),u1(i,Fs()),i.callbackNode!=null&&i.callbackNode===h?A1.bind(null,i):null)}function h1(i,c){if(Dm())return null;zc(i,c,!0)}function VC(){r4(function(){(va&6)!==0?us(Bs,$C):d1()})}function Cx(){if(dh===0){var i=at;i===0&&(i=qt,qt<<=1,(qt&261888)===0&&(qt=256)),dh=i}return dh}function f1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:G(""+i)}function p1(i,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,i.id&&h.setAttribute("form",i.id),c.parentNode.insertBefore(h,c),i=new FormData(i),h.parentNode.removeChild(h),i}function KC(i,c,h,g,O){if(c==="submit"&&h&&h.stateNode===O){var _=f1((O[la]||null).action),ve=g.submitter;ve&&(c=(c=ve[la]||null)?f1(c.formAction):ve.getAttribute("formAction"),c!==null&&(_=c,ve=null));var ze=new xe("action","action",null,g,O);i.push({event:ze,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(dh!==0){var mt=ve?p1(O,ve):new FormData(O);bA(h,{pending:!0,data:mt,method:O.method,action:_},null,mt)}}else typeof _=="function"&&(ze.preventDefault(),mt=ve?p1(O,ve):new FormData(O),bA(h,{pending:!0,data:mt,method:O.method,action:_},_,mt))},currentTarget:O}]})}}for(var Bx=0;Bx<gc.length;Bx++){var Sx=gc[Bx],GC=Sx.toLowerCase(),WC=Sx[0].toUpperCase()+Sx.slice(1);sl(GC,"on"+WC)}sl(Ll,"onAnimationEnd"),sl(Mo,"onAnimationIteration"),sl(pl,"onAnimationStart"),sl("dblclick","onDoubleClick"),sl("focusin","onFocus"),sl("focusout","onBlur"),sl(Xc,"onTransitionRun"),sl(ml,"onTransitionStart"),sl(Oo,"onTransitionCancel"),sl(Fc,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cp));function m1(i,c){c=(c&4)!==0;for(var h=0;h<i.length;h++){var g=i[h],O=g.event;g=g.listeners;e:{var _=void 0;if(c)for(var ve=g.length-1;0<=ve;ve--){var ze=g[ve],mt=ze.instance,ns=ze.currentTarget;if(ze=ze.listener,mt!==_&&O.isPropagationStopped())break e;_=ze,O.currentTarget=ns;try{_(O)}catch(Ss){Lc(Ss)}O.currentTarget=null,_=mt}else for(ve=0;ve<g.length;ve++){if(ze=g[ve],mt=ze.instance,ns=ze.currentTarget,ze=ze.listener,mt!==_&&O.isPropagationStopped())break e;_=ze,O.currentTarget=ns;try{_(O)}catch(Ss){Lc(Ss)}O.currentTarget=null,_=mt}}}}function ka(i,c){var h=c[Ii];h===void 0&&(h=c[Ii]=new Set);var g=i+"__bubble";h.has(g)||(g1(c,i,2,!1),h.add(g))}function Ex(i,c,h){var g=0;c&&(g|=4),g1(h,i,g,c)}var Qm="_reactListening"+Math.random().toString(36).slice(2);function Tx(i){if(!i[Qm]){i[Qm]=!0,qn.forEach(function(h){h!=="selectionchange"&&(YC.has(h)||Ex(h,!1,i),Ex(h,!0,i))});var c=i.nodeType===9?i:i.ownerDocument;c===null||c[Qm]||(c[Qm]=!0,Ex("selectionchange",!1,c))}}function g1(i,c,h,g){switch(K1(c)){case 2:var O=j4;break;case 8:O=N4;break;default:O=Vx}h=O.bind(null,c,h,i),O=void 0,!S||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(O=!0),g?O!==void 0?i.addEventListener(c,h,{capture:!0,passive:O}):i.addEventListener(c,h,!0):O!==void 0?i.addEventListener(c,h,{passive:O}):i.addEventListener(c,h,!1)}function Ux(i,c,h,g,O){var _=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var ve=g.tag;if(ve===3||ve===4){var ze=g.stateNode.containerInfo;if(ze===O)break;if(ve===4)for(ve=g.return;ve!==null;){var mt=ve.tag;if((mt===3||mt===4)&&ve.stateNode.containerInfo===O)return;ve=ve.return}for(;ze!==null;){if(ve=ho(ze),ve===null)return;if(mt=ve.tag,mt===5||mt===6||mt===26||mt===27){g=_=ve;continue e}ze=ze.parentNode}}g=g.return}Ze(function(){var ns=_,Ss=M(h),Os=[];e:{var as=Jc.get(i);if(as!==void 0){var cs=xe,_r=i;switch(i){case"keypress":if(ee(h)===0)break e;case"keydown":case"keyup":cs=_s;break;case"focusin":_r="focus",cs=Ht;break;case"focusout":_r="blur",cs=Ht;break;case"beforeblur":case"afterblur":cs=Ht;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":cs=gt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":cs=Mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":cs=Ot;break;case Ll:case Mo:case pl:cs=ts;break;case Fc:cs=Yt;break;case"scroll":case"scrollend":cs=ot;break;case"wheel":cs=gs;break;case"copy":case"cut":case"paste":cs=rt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":cs=dt;break;case"toggle":case"beforetoggle":cs=Js}var Bn=(c&4)!==0,Li=!Bn&&(i==="scroll"||i==="scrollend"),zt=Bn?as!==null?as+"Capture":null:as;Bn=[];for(var Et=ns,ss;Et!==null;){var Ms=Et;if(ss=Ms.stateNode,Ms=Ms.tag,Ms!==5&&Ms!==26&&Ms!==27||ss===null||zt===null||(Ms=N(Et,zt),Ms!=null&&Bn.push(Bp(Et,Ms,ss))),Li)break;Et=Et.return}0<Bn.length&&(as=new cs(as,_r,null,h,Ss),Os.push({event:as,listeners:Bn}))}}if((c&7)===0){e:{if(as=i==="mouseover"||i==="pointerover",cs=i==="mouseout"||i==="pointerout",as&&h!==E&&(_r=h.relatedTarget||h.fromElement)&&(ho(_r)||_r[Dn]))break e;if((cs||as)&&(as=Ss.window===Ss?Ss:(as=Ss.ownerDocument)?as.defaultView||as.parentWindow:window,cs?(_r=h.relatedTarget||h.toElement,cs=ns,_r=_r?ho(_r):null,_r!==null&&(Li=l(_r),Bn=_r.tag,_r!==Li||Bn!==5&&Bn!==27&&Bn!==6)&&(_r=null)):(cs=null,_r=ns),cs!==_r)){if(Bn=gt,Ms="onMouseLeave",zt="onMouseEnter",Et="mouse",(i==="pointerout"||i==="pointerover")&&(Bn=dt,Ms="onPointerLeave",zt="onPointerEnter",Et="pointer"),Li=cs==null?as:Ni(cs),ss=_r==null?as:Ni(_r),as=new Bn(Ms,Et+"leave",cs,h,Ss),as.target=Li,as.relatedTarget=ss,Ms=null,ho(Ss)===ns&&(Bn=new Bn(zt,Et+"enter",_r,h,Ss),Bn.target=ss,Bn.relatedTarget=Li,Ms=Bn),Li=Ms,cs&&_r)t:{for(Bn=XC,zt=cs,Et=_r,ss=0,Ms=zt;Ms;Ms=Bn(Ms))ss++;Ms=0;for(var xn=Et;xn;xn=Bn(xn))Ms++;for(;0<ss-Ms;)zt=Bn(zt),ss--;for(;0<Ms-ss;)Et=Bn(Et),Ms--;for(;ss--;){if(zt===Et||Et!==null&&zt===Et.alternate){Bn=zt;break t}zt=Bn(zt),Et=Bn(Et)}Bn=null}else Bn=null;cs!==null&&x1(Os,as,cs,Bn,!1),_r!==null&&Li!==null&&x1(Os,Li,_r,Bn,!0)}}e:{if(as=ns?Ni(ns):window,cs=as.nodeName&&as.nodeName.toLowerCase(),cs==="select"||cs==="input"&&as.type==="file")var qa=Dr;else if(Sn(as))if(vn)qa=Na;else{qa=pn;var Zr=_a}else cs=as.nodeName,!cs||cs.toLowerCase()!=="input"||as.type!=="checkbox"&&as.type!=="radio"?ns&&oo(ns.elementType)&&(qa=Dr):qa=Hr;if(qa&&(qa=qa(i,ns))){Cr(Os,qa,h,Ss);break e}Zr&&Zr(i,as,ns),i==="focusout"&&ns&&as.type==="number"&&ns.memoizedProps.value!=null&&Ra(as,"number",as.value)}switch(Zr=ns?Ni(ns):window,i){case"focusin":(Sn(Zr)||Zr.contentEditable==="true")&&(mi=Zr,tl=ns,Lo=null);break;case"focusout":Lo=tl=mi=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,gi(Os,h,Ss);break;case"selectionchange":if(li)break;case"keydown":case"keyup":gi(Os,h,Ss)}var oa;if(mr)e:{switch(i){case"compositionstart":var Ta="onCompositionStart";break e;case"compositionend":Ta="onCompositionEnd";break e;case"compositionupdate":Ta="onCompositionUpdate";break e}Ta=void 0}else yr?Hs(i,h)&&(Ta="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(Ta="onCompositionStart");Ta&&(lr&&h.locale!=="ko"&&(yr||Ta!=="onCompositionStart"?Ta==="onCompositionEnd"&&yr&&(oa=q()):(P=Ss,V="value"in P?P.value:P.textContent,yr=!0)),Zr=_m(ns,Ta),0<Zr.length&&(Ta=new bt(Ta,i,null,h,Ss),Os.push({event:Ta,listeners:Zr}),oa?Ta.data=oa:(oa=sn(h),oa!==null&&(Ta.data=oa)))),(oa=tt?Vr(i,h):Ir(i,h))&&(Ta=_m(ns,"onBeforeInput"),0<Ta.length&&(Zr=new bt("onBeforeInput","beforeinput",null,h,Ss),Os.push({event:Zr,listeners:Ta}),Zr.data=oa)),KC(Os,i,ns,h,Ss)}m1(Os,c)})}function Bp(i,c,h){return{instance:i,listener:c,currentTarget:h}}function _m(i,c){for(var h=c+"Capture",g=[];i!==null;){var O=i,_=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||_===null||(O=N(i,h),O!=null&&g.unshift(Bp(i,O,_)),O=N(i,c),O!=null&&g.push(Bp(i,O,_))),i.tag===3)return g;i=i.return}return[]}function XC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function x1(i,c,h,g,O){for(var _=c._reactName,ve=[];h!==null&&h!==g;){var ze=h,mt=ze.alternate,ns=ze.stateNode;if(ze=ze.tag,mt!==null&&mt===g)break;ze!==5&&ze!==26&&ze!==27||ns===null||(mt=ns,O?(ns=N(h,_),ns!=null&&ve.unshift(Bp(h,ns,mt))):O||(ns=N(h,_),ns!=null&&ve.push(Bp(h,ns,mt)))),h=h.return}ve.length!==0&&i.push({event:c,listeners:ve})}var JC=/\r\n?/g,ZC=/\u0000|\uFFFD/g;function b1(i){return(typeof i=="string"?i:""+i).replace(JC,`
`).replace(ZC,"")}function v1(i,c){return c=b1(c),b1(i)===c}function Fi(i,c,h,g,O,_){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||ba(i,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&ba(i,""+g);break;case"className":po(i,"class",g);break;case"tabIndex":po(i,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":po(i,h,g);break;case"style":Si(i,g,_);break;case"data":if(c!=="object"){po(i,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){i.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(h);break}g=G(""+g),i.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){i.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(c!=="input"&&Fi(i,c,"name",O.name,O,null),Fi(i,c,"formEncType",O.formEncType,O,null),Fi(i,c,"formMethod",O.formMethod,O,null),Fi(i,c,"formTarget",O.formTarget,O,null)):(Fi(i,c,"encType",O.encType,O,null),Fi(i,c,"method",O.method,O,null),Fi(i,c,"target",O.target,O,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(h);break}g=G(""+g),i.setAttribute(h,g);break;case"onClick":g!=null&&(i.onclick=J);break;case"onScroll":g!=null&&ka("scroll",i);break;case"onScrollEnd":g!=null&&ka("scrollend",i);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(n(60));i.innerHTML=h}}break;case"multiple":i.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":i.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){i.removeAttribute("xlink:href");break}h=G(""+g),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(h,""+g):i.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(h,""):i.removeAttribute(h);break;case"capture":case"download":g===!0?i.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(h,g):i.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?i.setAttribute(h,g):i.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?i.removeAttribute(h):i.setAttribute(h,g);break;case"popover":ka("beforetoggle",i),ka("toggle",i),ja(i,"popover",g);break;case"xlinkActuate":ti(i,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ti(i,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ti(i,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ti(i,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ti(i,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ti(i,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ti(i,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ti(i,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ti(i,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ja(i,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Tt.get(h)||h,ja(i,h,g))}}function Fx(i,c,h,g,O,_){switch(h){case"style":Si(i,g,_);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(n(60));i.innerHTML=h}}break;case"children":typeof g=="string"?ba(i,g):(typeof g=="number"||typeof g=="bigint")&&ba(i,""+g);break;case"onScroll":g!=null&&ka("scroll",i);break;case"onScrollEnd":g!=null&&ka("scrollend",i);break;case"onClick":g!=null&&(i.onclick=J);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fo.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(O=h.endsWith("Capture"),c=h.slice(2,O?h.length-7:void 0),_=i[la]||null,_=_!=null?_[h]:null,typeof _=="function"&&i.removeEventListener(c,_,O),typeof g=="function")){typeof _!="function"&&_!==null&&(h in i?i[h]=null:i.hasAttribute(h)&&i.removeAttribute(h)),i.addEventListener(c,g,O);break e}h in i?i[h]=g:g===!0?i.setAttribute(h,""):ja(i,h,g)}}}function Bc(i,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ka("error",i),ka("load",i);var g=!1,O=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var ve=h[_];if(ve!=null)switch(_){case"src":g=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Fi(i,c,_,ve,h,null)}}O&&Fi(i,c,"srcSet",h.srcSet,h,null),g&&Fi(i,c,"src",h.src,h,null);return;case"input":ka("invalid",i);var ze=_=ve=O=null,mt=null,ns=null;for(g in h)if(h.hasOwnProperty(g)){var Ss=h[g];if(Ss!=null)switch(g){case"name":O=Ss;break;case"type":ve=Ss;break;case"checked":mt=Ss;break;case"defaultChecked":ns=Ss;break;case"value":_=Ss;break;case"defaultValue":ze=Ss;break;case"children":case"dangerouslySetInnerHTML":if(Ss!=null)throw Error(n(137,c));break;default:Fi(i,c,g,Ss,h,null)}}Ga(i,_,ze,mt,ns,ve,O,!1);return;case"select":ka("invalid",i),g=ve=_=null;for(O in h)if(h.hasOwnProperty(O)&&(ze=h[O],ze!=null))switch(O){case"value":_=ze;break;case"defaultValue":ve=ze;break;case"multiple":g=ze;default:Fi(i,c,O,ze,h,null)}c=_,h=ve,i.multiple=!!g,c!=null?fi(i,!!g,c,!1):h!=null&&fi(i,!!g,h,!0);return;case"textarea":ka("invalid",i),_=O=g=null;for(ve in h)if(h.hasOwnProperty(ve)&&(ze=h[ve],ze!=null))switch(ve){case"value":g=ze;break;case"defaultValue":O=ze;break;case"children":_=ze;break;case"dangerouslySetInnerHTML":if(ze!=null)throw Error(n(91));break;default:Fi(i,c,ve,ze,h,null)}Bi(i,g,O,_);return;case"option":for(mt in h)if(h.hasOwnProperty(mt)&&(g=h[mt],g!=null))switch(mt){case"selected":i.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Fi(i,c,mt,g,h,null)}return;case"dialog":ka("beforetoggle",i),ka("toggle",i),ka("cancel",i),ka("close",i);break;case"iframe":case"object":ka("load",i);break;case"video":case"audio":for(g=0;g<Cp.length;g++)ka(Cp[g],i);break;case"image":ka("error",i),ka("load",i);break;case"details":ka("toggle",i);break;case"embed":case"source":case"link":ka("error",i),ka("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ns in h)if(h.hasOwnProperty(ns)&&(g=h[ns],g!=null))switch(ns){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Fi(i,c,ns,g,h,null)}return;default:if(oo(c)){for(Ss in h)h.hasOwnProperty(Ss)&&(g=h[Ss],g!==void 0&&Fx(i,c,Ss,g,h,void 0));return}}for(ze in h)h.hasOwnProperty(ze)&&(g=h[ze],g!=null&&Fi(i,c,ze,g,h,null))}function qC(i,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,_=null,ve=null,ze=null,mt=null,ns=null,Ss=null;for(cs in h){var Os=h[cs];if(h.hasOwnProperty(cs)&&Os!=null)switch(cs){case"checked":break;case"value":break;case"defaultValue":mt=Os;default:g.hasOwnProperty(cs)||Fi(i,c,cs,null,g,Os)}}for(var as in g){var cs=g[as];if(Os=h[as],g.hasOwnProperty(as)&&(cs!=null||Os!=null))switch(as){case"type":_=cs;break;case"name":O=cs;break;case"checked":ns=cs;break;case"defaultChecked":Ss=cs;break;case"value":ve=cs;break;case"defaultValue":ze=cs;break;case"children":case"dangerouslySetInnerHTML":if(cs!=null)throw Error(n(137,c));break;default:cs!==Os&&Fi(i,c,as,cs,g,Os)}}Ki(i,ve,ze,mt,ns,Ss,_,O);return;case"select":cs=ve=ze=as=null;for(_ in h)if(mt=h[_],h.hasOwnProperty(_)&&mt!=null)switch(_){case"value":break;case"multiple":cs=mt;default:g.hasOwnProperty(_)||Fi(i,c,_,null,g,mt)}for(O in g)if(_=g[O],mt=h[O],g.hasOwnProperty(O)&&(_!=null||mt!=null))switch(O){case"value":as=_;break;case"defaultValue":ze=_;break;case"multiple":ve=_;default:_!==mt&&Fi(i,c,O,_,g,mt)}c=ze,h=ve,g=cs,as!=null?fi(i,!!h,as,!1):!!g!=!!h&&(c!=null?fi(i,!!h,c,!0):fi(i,!!h,h?[]:"",!1));return;case"textarea":cs=as=null;for(ze in h)if(O=h[ze],h.hasOwnProperty(ze)&&O!=null&&!g.hasOwnProperty(ze))switch(ze){case"value":break;case"children":break;default:Fi(i,c,ze,null,g,O)}for(ve in g)if(O=g[ve],_=h[ve],g.hasOwnProperty(ve)&&(O!=null||_!=null))switch(ve){case"value":as=O;break;case"defaultValue":cs=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:O!==_&&Fi(i,c,ve,O,g,_)}Fo(i,as,cs);return;case"option":for(var _r in h)if(as=h[_r],h.hasOwnProperty(_r)&&as!=null&&!g.hasOwnProperty(_r))switch(_r){case"selected":i.selected=!1;break;default:Fi(i,c,_r,null,g,as)}for(mt in g)if(as=g[mt],cs=h[mt],g.hasOwnProperty(mt)&&as!==cs&&(as!=null||cs!=null))switch(mt){case"selected":i.selected=as&&typeof as!="function"&&typeof as!="symbol";break;default:Fi(i,c,mt,as,g,cs)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bn in h)as=h[Bn],h.hasOwnProperty(Bn)&&as!=null&&!g.hasOwnProperty(Bn)&&Fi(i,c,Bn,null,g,as);for(ns in g)if(as=g[ns],cs=h[ns],g.hasOwnProperty(ns)&&as!==cs&&(as!=null||cs!=null))switch(ns){case"children":case"dangerouslySetInnerHTML":if(as!=null)throw Error(n(137,c));break;default:Fi(i,c,ns,as,g,cs)}return;default:if(oo(c)){for(var Li in h)as=h[Li],h.hasOwnProperty(Li)&&as!==void 0&&!g.hasOwnProperty(Li)&&Fx(i,c,Li,void 0,g,as);for(Ss in g)as=g[Ss],cs=h[Ss],!g.hasOwnProperty(Ss)||as===cs||as===void 0&&cs===void 0||Fx(i,c,Ss,as,g,cs);return}}for(var zt in h)as=h[zt],h.hasOwnProperty(zt)&&as!=null&&!g.hasOwnProperty(zt)&&Fi(i,c,zt,null,g,as);for(Os in g)as=g[Os],cs=h[Os],!g.hasOwnProperty(Os)||as===cs||as==null&&cs==null||Fi(i,c,Os,as,g,cs)}function y1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e4(){if(typeof performance.getEntriesByType=="function"){for(var i=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var O=h[g],_=O.transferSize,ve=O.initiatorType,ze=O.duration;if(_&&ze&&y1(ve)){for(ve=0,ze=O.responseEnd,g+=1;g<h.length;g++){var mt=h[g],ns=mt.startTime;if(ns>ze)break;var Ss=mt.transferSize,Os=mt.initiatorType;Ss&&y1(Os)&&(mt=mt.responseEnd,ve+=Ss*(mt<ze?1:(ze-ns)/(mt-ns)))}if(--g,c+=8*(_+ve)/(O.duration/1e3),i++,10<i)break}}if(0<i)return c/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lx=null,Mx=null;function Hm(i){return i.nodeType===9?i:i.ownerDocument}function w1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j1(i,c){if(i===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&c==="foreignObject"?0:i}function Ox(i,c){return i==="textarea"||i==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ix=null;function t4(){var i=window.event;return i&&i.type==="popstate"?i===Ix?!1:(Ix=i,!0):(Ix=null,!1)}var N1=typeof setTimeout=="function"?setTimeout:void 0,s4=typeof clearTimeout=="function"?clearTimeout:void 0,k1=typeof Promise=="function"?Promise:void 0,r4=typeof queueMicrotask=="function"?queueMicrotask:typeof k1<"u"?function(i){return k1.resolve(null).then(i).catch(n4)}:N1;function n4(i){setTimeout(function(){throw i})}function uh(i){return i==="head"}function C1(i,c){var h=c,g=0;do{var O=h.nextSibling;if(i.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"||h==="/&"){if(g===0){i.removeChild(O),Vf(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")Sp(i.ownerDocument.documentElement);else if(h==="head"){h=i.ownerDocument.head,Sp(h);for(var _=h.firstChild;_;){var ve=_.nextSibling,ze=_.nodeName;_[Uo]||ze==="SCRIPT"||ze==="STYLE"||ze==="LINK"&&_.rel.toLowerCase()==="stylesheet"||h.removeChild(_),_=ve}}else h==="body"&&Sp(i.ownerDocument.body);h=O}while(h);Vf(c)}function B1(i,c){var h=i;i=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(i===0)break;i--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||i++;h=g}while(h)}function Dx(i){var c=i.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Dx(h),Kl(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}i.removeChild(h)}}function a4(i,c,h,g){for(;i.nodeType===1;){var O=h;if(i.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(g){if(!i[Uo])switch(c){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==O.rel||i.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||i.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||i.getAttribute("title")!==(O.title==null?null:O.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(O.src==null?null:O.src)||i.getAttribute("type")!==(O.type==null?null:O.type)||i.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(c==="input"&&i.type==="hidden"){var _=O.name==null?null:""+O.name;if(O.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=au(i.nextSibling),i===null)break}return null}function i4(i,c,h){if(c==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!h||(i=au(i.nextSibling),i===null))return null;return i}function S1(i,c){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=au(i.nextSibling),i===null))return null;return i}function Rx(i){return i.data==="$?"||i.data==="$~"}function Px(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function o4(i,c){var h=i.ownerDocument;if(i.data==="$~")i._reactRetry=c;else if(i.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),i._reactRetry=g}}function au(i){for(;i!=null;i=i.nextSibling){var c=i.nodeType;if(c===1||c===3)break;if(c===8){if(c=i.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return i}var Qx=null;function E1(i){i=i.nextSibling;for(var c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"||h==="/&"){if(c===0)return au(i.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}i=i.nextSibling}return null}function T1(i){i=i.previousSibling;for(var c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return i;c--}else h!=="/$"&&h!=="/&"||c++}i=i.previousSibling}return null}function U1(i,c,h){switch(c=Hm(h),i){case"html":if(i=c.documentElement,!i)throw Error(n(452));return i;case"head":if(i=c.head,!i)throw Error(n(453));return i;case"body":if(i=c.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Sp(i){for(var c=i.attributes;c.length;)i.removeAttributeNode(c[0]);Kl(i)}var iu=new Map,F1=new Set;function zm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var TA=pe.d;pe.d={f:l4,r:c4,D:d4,C:u4,L:A4,m:h4,X:p4,S:f4,M:m4};function l4(){var i=TA.f(),c=Hl();return i||c}function c4(i){var c=pa(i);c!==null&&c.tag===5&&c.type==="form"?kc(c):TA.r(i)}var Hf=typeof document>"u"?null:document;function L1(i,c,h){var g=Hf;if(g&&typeof c=="string"&&c){var O=Wn(c);O='link[rel="'+i+'"][href="'+O+'"]',typeof h=="string"&&(O+='[crossorigin="'+h+'"]'),F1.has(O)||(F1.add(O),i={rel:i,crossOrigin:h,href:c},g.querySelector(O)===null&&(c=g.createElement("link"),Bc(c,"link",i),Ua(c),g.head.appendChild(c)))}}function d4(i){TA.D(i),L1("dns-prefetch",i,null)}function u4(i,c){TA.C(i,c),L1("preconnect",i,c)}function A4(i,c,h){TA.L(i,c,h);var g=Hf;if(g&&i&&c){var O='link[rel="preload"][as="'+Wn(c)+'"]';c==="image"&&h&&h.imageSrcSet?(O+='[imagesrcset="'+Wn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(O+='[imagesizes="'+Wn(h.imageSizes)+'"]')):O+='[href="'+Wn(i)+'"]';var _=O;switch(c){case"style":_=zf(i);break;case"script":_=$f(i)}iu.has(_)||(i=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:i,as:c},h),iu.set(_,i),g.querySelector(O)!==null||c==="style"&&g.querySelector(Ep(_))||c==="script"&&g.querySelector(Tp(_))||(c=g.createElement("link"),Bc(c,"link",i),Ua(c),g.head.appendChild(c)))}}function h4(i,c){TA.m(i,c);var h=Hf;if(h&&i){var g=c&&typeof c.as=="string"?c.as:"script",O='link[rel="modulepreload"][as="'+Wn(g)+'"][href="'+Wn(i)+'"]',_=O;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=$f(i)}if(!iu.has(_)&&(i=p({rel:"modulepreload",href:i},c),iu.set(_,i),h.querySelector(O)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Tp(_)))return}g=h.createElement("link"),Bc(g,"link",i),Ua(g),h.head.appendChild(g)}}}function f4(i,c,h){TA.S(i,c,h);var g=Hf;if(g&&i){var O=sa(g).hoistableStyles,_=zf(i);c=c||"default";var ve=O.get(_);if(!ve){var ze={loading:0,preload:null};if(ve=g.querySelector(Ep(_)))ze.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":c},h),(h=iu.get(_))&&_x(i,h);var mt=ve=g.createElement("link");Ua(mt),Bc(mt,"link",i),mt._p=new Promise(function(ns,Ss){mt.onload=ns,mt.onerror=Ss}),mt.addEventListener("load",function(){ze.loading|=1}),mt.addEventListener("error",function(){ze.loading|=2}),ze.loading|=4,$m(ve,c,g)}ve={type:"stylesheet",instance:ve,count:1,state:ze},O.set(_,ve)}}}function p4(i,c){TA.X(i,c);var h=Hf;if(h&&i){var g=sa(h).hoistableScripts,O=$f(i),_=g.get(O);_||(_=h.querySelector(Tp(O)),_||(i=p({src:i,async:!0},c),(c=iu.get(O))&&Hx(i,c),_=h.createElement("script"),Ua(_),Bc(_,"link",i),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(O,_))}}function m4(i,c){TA.M(i,c);var h=Hf;if(h&&i){var g=sa(h).hoistableScripts,O=$f(i),_=g.get(O);_||(_=h.querySelector(Tp(O)),_||(i=p({src:i,async:!0,type:"module"},c),(c=iu.get(O))&&Hx(i,c),_=h.createElement("script"),Ua(_),Bc(_,"link",i),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(O,_))}}function M1(i,c,h,g){var O=(O=ge.current)?zm(O):null;if(!O)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=zf(h.href),h=sa(O).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){i=zf(h.href);var _=sa(O).hoistableStyles,ve=_.get(i);if(ve||(O=O.ownerDocument||O,ve={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,ve),(_=O.querySelector(Ep(i)))&&!_._p&&(ve.instance=_,ve.state.loading=5),iu.has(i)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},iu.set(i,h),_||g4(O,i,h,ve.state))),c&&g===null)throw Error(n(528,""));return ve}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=$f(h),h=sa(O).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function zf(i){return'href="'+Wn(i)+'"'}function Ep(i){return'link[rel="stylesheet"]['+i+"]"}function O1(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function g4(i,c,h,g){i.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=i.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Bc(c,"link",h),Ua(c),i.head.appendChild(c))}function $f(i){return'[src="'+Wn(i)+'"]'}function Tp(i){return"script[async]"+i}function I1(i,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=i.querySelector('style[data-href~="'+Wn(h.href)+'"]');if(g)return c.instance=g,Ua(g),g;var O=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(i.ownerDocument||i).createElement("style"),Ua(g),Bc(g,"style",O),$m(g,h.precedence,i),c.instance=g;case"stylesheet":O=zf(h.href);var _=i.querySelector(Ep(O));if(_)return c.state.loading|=4,c.instance=_,Ua(_),_;g=O1(h),(O=iu.get(O))&&_x(g,O),_=(i.ownerDocument||i).createElement("link"),Ua(_);var ve=_;return ve._p=new Promise(function(ze,mt){ve.onload=ze,ve.onerror=mt}),Bc(_,"link",g),c.state.loading|=4,$m(_,h.precedence,i),c.instance=_;case"script":return _=$f(h.src),(O=i.querySelector(Tp(_)))?(c.instance=O,Ua(O),O):(g=h,(O=iu.get(_))&&(g=p({},h),Hx(g,O)),i=i.ownerDocument||i,O=i.createElement("script"),Ua(O),Bc(O,"link",g),i.head.appendChild(O),c.instance=O);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,$m(g,h.precedence,i));return c.instance}function $m(i,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=g.length?g[g.length-1]:null,_=O,ve=0;ve<g.length;ve++){var ze=g[ve];if(ze.dataset.precedence===c)_=ze;else if(_!==O)break}_?_.parentNode.insertBefore(i,_.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(i,c.firstChild))}function _x(i,c){i.crossOrigin==null&&(i.crossOrigin=c.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=c.referrerPolicy),i.title==null&&(i.title=c.title)}function Hx(i,c){i.crossOrigin==null&&(i.crossOrigin=c.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=c.referrerPolicy),i.integrity==null&&(i.integrity=c.integrity)}var Vm=null;function D1(i,c,h){if(Vm===null){var g=new Map,O=Vm=new Map;O.set(h,g)}else O=Vm,g=O.get(h),g||(g=new Map,O.set(h,g));if(g.has(i))return g;for(g.set(i,null),h=h.getElementsByTagName(i),O=0;O<h.length;O++){var _=h[O];if(!(_[Uo]||_[dn]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var ve=_.getAttribute(c)||"";ve=i+ve;var ze=g.get(ve);ze?ze.push(_):g.set(ve,[_])}}return g}function R1(i,c,h){i=i.ownerDocument||i,i.head.insertBefore(h,c==="title"?i.querySelector("head > title"):null)}function x4(i,c,h){if(h===1||c.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return i=c.disabled,typeof c.precedence=="string"&&i==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function P1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function b4(i,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=zf(g.href),_=c.querySelector(Ep(O));if(_){c=_._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(i.count++,i=Km.bind(i),c.then(i,i)),h.state.loading|=4,h.instance=_,Ua(_);return}_=c.ownerDocument||c,g=O1(g),(O=iu.get(O))&&_x(g,O),_=_.createElement("link"),Ua(_);var ve=_;ve._p=new Promise(function(ze,mt){ve.onload=ze,ve.onerror=mt}),Bc(_,"link",g),h.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(i.count++,h=Km.bind(i),c.addEventListener("load",h),c.addEventListener("error",h))}}var zx=0;function v4(i,c){return i.stylesheets&&i.count===0&&Wm(i,i.stylesheets),0<i.count||0<i.imgCount?function(h){var g=setTimeout(function(){if(i.stylesheets&&Wm(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+c);0<i.imgBytes&&zx===0&&(zx=62500*e4());var O=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Wm(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>zx?50:800)+c);return i.unsuspend=h,function(){i.unsuspend=null,clearTimeout(g),clearTimeout(O)}}:null}function Km(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gm=null;function Wm(i,c){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gm=new Map,c.forEach(y4,i),Gm=null,Km.call(i))}function y4(i,c){if(!(c.state.loading&4)){var h=Gm.get(i);if(h)var g=h.get(null);else{h=new Map,Gm.set(i,h);for(var O=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<O.length;_++){var ve=O[_];(ve.nodeName==="LINK"||ve.getAttribute("media")!=="not all")&&(h.set(ve.dataset.precedence,ve),g=ve)}g&&h.set(null,g)}O=c.instance,ve=O.getAttribute("data-precedence"),_=h.get(ve)||g,_===g&&h.set(null,O),h.set(ve,O),this.count++,g=Km.bind(this),O.addEventListener("load",g),O.addEventListener("error",g),_?_.parentNode.insertBefore(O,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(O,i.firstChild)),c.state.loading|=4}}var Up={$$typeof:z,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function w4(i,c,h,g,O,_,ve,ze,mt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.hiddenUpdates=Us(null),this.identifierPrefix=g,this.onUncaughtError=O,this.onCaughtError=_,this.onRecoverableError=ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=mt,this.incompleteTransitions=new Map}function Q1(i,c,h,g,O,_,ve,ze,mt,ns,Ss,Os){return i=new w4(i,c,h,ve,mt,ns,Ss,Os,ze),c=1,_===!0&&(c|=24),_=Do(3,null,null,c),i.current=_,_.stateNode=i,c=rd(),c.refCount++,i.pooledCache=c,c.refCount++,_.memoizedState={element:g,isDehydrated:h,cache:c},La(_),i}function _1(i){return i?(i=bo,i):bo}function H1(i,c,h,g,O,_){O=_1(O),g.context===null?g.context=O:g.pendingContext=O,g=Gr(c),g.payload={element:h},_=_===void 0?null:_,_!==null&&(g.callback=_),h=ln(i,g,c),h!==null&&(yi(h,i,c),Tn(h,i,c))}function z1(i,c){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<c?h:c}}function $x(i,c){z1(i,c),(i=i.alternate)&&z1(i,c)}function $1(i){if(i.tag===13||i.tag===31){var c=Wl(i,67108864);c!==null&&yi(c,i,67108864),$x(i,67108864)}}function V1(i){if(i.tag===13||i.tag===31){var c=rn();c=Ar(c);var h=Wl(i,c);h!==null&&yi(h,i,c),$x(i,c)}}var Ym=!0;function j4(i,c,h,g){var O=se.T;se.T=null;var _=pe.p;try{pe.p=2,Vx(i,c,h,g)}finally{pe.p=_,se.T=O}}function N4(i,c,h,g){var O=se.T;se.T=null;var _=pe.p;try{pe.p=8,Vx(i,c,h,g)}finally{pe.p=_,se.T=O}}function Vx(i,c,h,g){if(Ym){var O=Kx(g);if(O===null)Ux(i,c,g,Xm,h),G1(i,g);else if(C4(O,i,c,h,g))g.stopPropagation();else if(G1(i,g),c&4&&-1<k4.indexOf(i)){for(;O!==null;){var _=pa(O);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var ve=Ks(_.pendingLanes);if(ve!==0){var ze=_;for(ze.pendingLanes|=2,ze.entangledLanes|=2;ve;){var mt=1<<31-js(ve);ze.entanglements[1]|=mt,ve&=~mt}Wu(_),(va&6)===0&&(jr=Fs()+500,kp(0))}}break;case 31:case 13:ze=Wl(_,2),ze!==null&&yi(ze,_,2),Hl(),$x(_,2)}if(_=Kx(g),_===null&&Ux(i,c,g,Xm,h),_===O)break;O=_}O!==null&&g.stopPropagation()}else Ux(i,c,g,null,h)}}function Kx(i){return i=M(i),Gx(i)}var Xm=null;function Gx(i){if(Xm=null,i=ho(i),i!==null){var c=l(i);if(c===null)i=null;else{var h=c.tag;if(h===13){if(i=u(c),i!==null)return i;i=null}else if(h===31){if(i=d(c),i!==null)return i;i=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;i=null}else c!==i&&(i=null)}}return Xm=i,null}function K1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case Bs:return 2;case vr:return 8;case gr:case en:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var Wx=!1,Ah=null,hh=null,fh=null,Fp=new Map,Lp=new Map,ph=[],k4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G1(i,c){switch(i){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":Fp.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lp.delete(c.pointerId)}}function Mp(i,c,h,g,O,_){return i===null||i.nativeEvent!==_?(i={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:_,targetContainers:[O]},c!==null&&(c=pa(c),c!==null&&$1(c)),i):(i.eventSystemFlags|=g,c=i.targetContainers,O!==null&&c.indexOf(O)===-1&&c.push(O),i)}function C4(i,c,h,g,O){switch(c){case"focusin":return Ah=Mp(Ah,i,c,h,g,O),!0;case"dragenter":return hh=Mp(hh,i,c,h,g,O),!0;case"mouseover":return fh=Mp(fh,i,c,h,g,O),!0;case"pointerover":var _=O.pointerId;return Fp.set(_,Mp(Fp.get(_)||null,i,c,h,g,O)),!0;case"gotpointercapture":return _=O.pointerId,Lp.set(_,Mp(Lp.get(_)||null,i,c,h,g,O)),!0}return!1}function W1(i){var c=ho(i.target);if(c!==null){var h=l(c);if(h!==null){if(c=h.tag,c===13){if(c=u(h),c!==null){i.blockedOn=c,fn(i.priority,function(){V1(h)});return}}else if(c===31){if(c=d(h),c!==null){i.blockedOn=c,fn(i.priority,function(){V1(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Jm(i){if(i.blockedOn!==null)return!1;for(var c=i.targetContainers;0<c.length;){var h=Kx(i.nativeEvent);if(h===null){h=i.nativeEvent;var g=new h.constructor(h.type,h);E=g,h.target.dispatchEvent(g),E=null}else return c=pa(h),c!==null&&$1(c),i.blockedOn=h,!1;c.shift()}return!0}function Y1(i,c,h){Jm(i)&&h.delete(c)}function B4(){Wx=!1,Ah!==null&&Jm(Ah)&&(Ah=null),hh!==null&&Jm(hh)&&(hh=null),fh!==null&&Jm(fh)&&(fh=null),Fp.forEach(Y1),Lp.forEach(Y1)}function Zm(i,c){i.blockedOn===c&&(i.blockedOn=null,Wx||(Wx=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,B4)))}var qm=null;function X1(i){qm!==i&&(qm=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qm===i&&(qm=null);for(var c=0;c<i.length;c+=3){var h=i[c],g=i[c+1],O=i[c+2];if(typeof g!="function"){if(Gx(g||h)===null)continue;break}var _=pa(h);_!==null&&(i.splice(c,3),c-=3,bA(_,{pending:!0,data:O,method:h.method,action:g},g,O))}}))}function Vf(i){function c(mt){return Zm(mt,i)}Ah!==null&&Zm(Ah,i),hh!==null&&Zm(hh,i),fh!==null&&Zm(fh,i),Fp.forEach(c),Lp.forEach(c);for(var h=0;h<ph.length;h++){var g=ph[h];g.blockedOn===i&&(g.blockedOn=null)}for(;0<ph.length&&(h=ph[0],h.blockedOn===null);)W1(h),h.blockedOn===null&&ph.shift();if(h=(i.ownerDocument||i).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var O=h[g],_=h[g+1],ve=O[la]||null;if(typeof _=="function")ve||X1(h);else if(ve){var ze=null;if(_&&_.hasAttribute("formAction")){if(O=_,ve=_[la]||null)ze=ve.formAction;else if(Gx(O)!==null)continue}else ze=ve.action;typeof ze=="function"?h[g+1]=ze:(h.splice(g,3),g-=3),X1(h)}}}function J1(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(ve){return O=ve})},focusReset:"manual",scroll:"manual"})}function c(){O!==null&&(O(),O=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,O=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),O!==null&&(O(),O=null)}}}function Yx(i){this._internalRoot=i}e0.prototype.render=Yx.prototype.render=function(i){var c=this._internalRoot;if(c===null)throw Error(n(409));var h=c.current,g=rn();H1(h,g,i,c,null,null)},e0.prototype.unmount=Yx.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var c=i.containerInfo;H1(i.current,2,null,i,null,null),Hl(),c[Dn]=null}};function e0(i){this._internalRoot=i}e0.prototype.unstable_scheduleHydration=function(i){if(i){var c=fa();i={blockedOn:null,target:i,priority:c};for(var h=0;h<ph.length&&c!==0&&c<ph[h].priority;h++);ph.splice(h,0,i),h===0&&W1(i)}};var Z1=e.version;if(Z1!=="19.2.3")throw Error(n(527,Z1,"19.2.3"));pe.findDOMNode=function(i){var c=i._reactInternals;if(c===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=o(c),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var S4={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t0.isDisabled&&t0.supportsFiber)try{Es=t0.inject(S4),ft=t0}catch{}}return Dp.createRoot=function(i,c){if(!a(i))throw Error(n(299));var h=!1,g="",O=yA,_=wA,ve=jA;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(O=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(ve=c.onRecoverableError)),c=Q1(i,1,!1,null,null,h,g,null,O,_,ve,J1),i[Dn]=c.current,Tx(i),new Yx(c)},Dp.hydrateRoot=function(i,c,h){if(!a(i))throw Error(n(299));var g=!1,O="",_=yA,ve=wA,ze=jA,mt=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(ve=h.onCaughtError),h.onRecoverableError!==void 0&&(ze=h.onRecoverableError),h.formState!==void 0&&(mt=h.formState)),c=Q1(i,1,!0,c,h??null,g,O,mt,_,ve,ze,J1),c.context=_1(null),h=c.current,g=rn(),g=Ar(g),O=Gr(g),O.callback=null,ln(h,O,g),h=g,c.current.lanes=h,Ds(c,h),Wu(c),i[Dn]=c.current,Tx(i),new e0(c)},Dp.version="19.2.3",Dp}var lw;function _4(){if(lw)return Zx.exports;lw=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Zx.exports=Q4(),Zx.exports}var H4=_4();const z4=Vg(H4);var $j=zj();const Vj=Vg($j);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function um(){return um=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},um.apply(this,arguments)}var Nh;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Nh||(Nh={}));const cw="popstate";function $4(s){s===void 0&&(s={});function e(n,a){let{pathname:l,search:u,hash:d}=n.location;return Gb("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Kj(a)}return K4(e,r,null,s)}function Sl(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Zv(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V4(){return Math.random().toString(36).substr(2,8)}function dw(s,e){return{usr:s.state,key:s.key,idx:e}}function Gb(s,e,r,n){return r===void 0&&(r=null),um({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?gp(e):e,{state:r,key:e&&e.key||n||V4()})}function Kj(s){let{pathname:e="/",search:r="",hash:n=""}=s;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gp(s){let e={};if(s){let r=s.indexOf("#");r>=0&&(e.hash=s.substr(r),s=s.substr(0,r));let n=s.indexOf("?");n>=0&&(e.search=s.substr(n),s=s.substr(0,n)),s&&(e.pathname=s)}return e}function K4(s,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,u=a.history,d=Nh.Pop,A=null,o=f();o==null&&(o=0,u.replaceState(um({},u.state,{idx:o}),""));function f(){return(u.state||{idx:null}).idx}function p(){d=Nh.Pop;let y=f(),T=y==null?null:y-o;o=y,A&&A({action:d,location:j.location,delta:T})}function m(y,T){d=Nh.Push;let R=Gb(j.location,y,T);o=f()+1;let z=dw(R,o),X=j.createHref(R);try{u.pushState(z,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;a.location.assign(X)}l&&A&&A({action:d,location:j.location,delta:1})}function x(y,T){d=Nh.Replace;let R=Gb(j.location,y,T);o=f();let z=dw(R,o),X=j.createHref(R);u.replaceState(z,"",X),l&&A&&A({action:d,location:j.location,delta:0})}function b(y){let T=a.location.origin!=="null"?a.location.origin:a.location.href,R=typeof y=="string"?y:Kj(y);return R=R.replace(/ $/,"%20"),Sl(T,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,T)}let j={get action(){return d},get location(){return s(a,u)},listen(y){if(A)throw new Error("A history only accepts one active listener");return a.addEventListener(cw,p),A=y,()=>{a.removeEventListener(cw,p),A=null}},createHref(y){return e(a,y)},createURL:b,encodeLocation(y){let T=b(y);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:x,go(y){return u.go(y)}};return j}var uw;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(uw||(uw={}));function G4(s,e,r){return r===void 0&&(r="/"),W4(s,e,r)}function W4(s,e,r,n){let a=typeof e=="string"?gp(e):e,l=Yj(a.pathname||"/",r);if(l==null)return null;let u=Gj(s);Y4(u);let d=null;for(let A=0;d==null&&A<u.length;++A){let o=oB(l);d=nB(u[A],o)}return d}function Gj(s,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,u,d)=>{let A={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};A.relativePath.startsWith("/")&&(Sl(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let o=Af([n,A.relativePath]),f=r.concat(A);l.children&&l.children.length>0&&(Sl(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),Gj(l.children,e,f,o)),!(l.path==null&&!l.index)&&e.push({path:o,score:sB(o,l.index),routesMeta:f})};return s.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let A of Wj(l.path))a(l,u,A)}),e}function Wj(s){let e=s.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let u=Wj(n.join("/")),d=[];return d.push(...u.map(A=>A===""?l:[l,A].join("/"))),a&&d.push(...u),d.map(A=>s.startsWith("/")&&A===""?"/":A)}function Y4(s){s.sort((e,r)=>e.score!==r.score?r.score-e.score:rB(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const X4=/^:[\w-]+$/,J4=3,Z4=2,q4=1,eB=10,tB=-2,Aw=s=>s==="*";function sB(s,e){let r=s.split("/"),n=r.length;return r.some(Aw)&&(n+=tB),e&&(n+=Z4),r.filter(a=>!Aw(a)).reduce((a,l)=>a+(X4.test(l)?J4:l===""?q4:eB),n)}function rB(s,e){return s.length===e.length&&s.slice(0,-1).every((n,a)=>n===e[a])?s[s.length-1]-e[e.length-1]:0}function nB(s,e,r){let{routesMeta:n}=s,a={},l="/",u=[];for(let d=0;d<n.length;++d){let A=n[d],o=d===n.length-1,f=l==="/"?e:e.slice(l.length)||"/",p=aB({path:A.relativePath,caseSensitive:A.caseSensitive,end:o},f),m=A.route;if(!p)return null;Object.assign(a,p.params),u.push({params:a,pathname:Af([l,p.pathname]),pathnameBase:AB(Af([l,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(l=Af([l,p.pathnameBase]))}return u}function aB(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,n]=iB(s.path,s.caseSensitive,s.end),a=e.match(r);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((o,f,p)=>{let{paramName:m,isOptional:x}=f;if(m==="*"){let j=d[p]||"";u=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[p];return x&&!b?o[m]=void 0:o[m]=(b||"").replace(/%2F/g,"/"),o},{}),pathname:l,pathnameBase:u,pattern:s}}function iB(s,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Zv(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let n=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,A)=>(n.push({paramName:d,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function oB(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zv(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function Yj(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=s.charAt(r);return n&&n!=="/"?null:s.slice(r)||"/"}const lB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cB=s=>lB.test(s);function dB(s,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof s=="string"?gp(s):s,l;if(r)if(cB(r))l=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),Zv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+r))}r.startsWith("/")?l=hw(r.substring(1),"/"):l=hw(r,e)}else l=e;return{pathname:l,search:hB(n),hash:fB(a)}}function hw(s,e){let r=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function sb(s,e,r,n){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uB(s){return s.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Xj(s,e){let r=uB(s);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jj(s,e,r,n){n===void 0&&(n=!1);let a;typeof s=="string"?a=gp(s):(a=um({},s),Sl(!a.pathname||!a.pathname.includes("?"),sb("?","pathname","search",a)),Sl(!a.pathname||!a.pathname.includes("#"),sb("#","pathname","hash",a)),Sl(!a.search||!a.search.includes("#"),sb("#","search","hash",a)));let l=s===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=r;else{let p=e.length-1;if(!n&&u.startsWith("..")){let m=u.split("/");for(;m[0]==="..";)m.shift(),p-=1;a.pathname=m.join("/")}d=p>=0?e[p]:"/"}let A=dB(a,d),o=u&&u!=="/"&&u.endsWith("/"),f=(l||u===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(o||f)&&(A.pathname+="/"),A}const Af=s=>s.join("/").replace(/\/\/+/g,"/"),AB=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),hB=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,fB=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function pB(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Zj=["post","put","patch","delete"];new Set(Zj);const mB=["get",...Zj];new Set(mB);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Am(){return Am=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},Am.apply(this,arguments)}const qv=W.createContext(null),gB=W.createContext(null),Bm=W.createContext(null),Kg=W.createContext(null),Rh=W.createContext({outlet:null,matches:[],isDataRoute:!1}),qj=W.createContext(null);function Sm(){return W.useContext(Kg)!=null}function xp(){return Sm()||Sl(!1),W.useContext(Kg).location}function e5(s){W.useContext(Bm).static||W.useLayoutEffect(s)}function $l(){let{isDataRoute:s}=W.useContext(Rh);return s?TB():xB()}function xB(){Sm()||Sl(!1);let s=W.useContext(qv),{basename:e,future:r,navigator:n}=W.useContext(Bm),{matches:a}=W.useContext(Rh),{pathname:l}=xp(),u=JSON.stringify(Xj(a,r.v7_relativeSplatPath)),d=W.useRef(!1);return e5(()=>{d.current=!0}),W.useCallback(function(o,f){if(f===void 0&&(f={}),!d.current)return;if(typeof o=="number"){n.go(o);return}let p=Jj(o,JSON.parse(u),l,f.relative==="path");s==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Af([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,u,l,s])}function Gg(){let{matches:s}=W.useContext(Rh),e=s[s.length-1];return e?e.params:{}}function bB(s,e){return vB(s,e)}function vB(s,e,r,n){Sm()||Sl(!1);let{navigator:a}=W.useContext(Bm),{matches:l}=W.useContext(Rh),u=l[l.length-1],d=u?u.params:{};u&&u.pathname;let A=u?u.pathnameBase:"/";u&&u.route;let o=xp(),f;if(e){var p;let y=typeof e=="string"?gp(e):e;A==="/"||(p=y.pathname)!=null&&p.startsWith(A)||Sl(!1),f=y}else f=o;let m=f.pathname||"/",x=m;if(A!=="/"){let y=A.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=G4(s,{pathname:x}),j=kB(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},d,y.params),pathname:Af([A,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?A:Af([A,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),l,r,n);return e&&j?W.createElement(Kg.Provider,{value:{location:Am({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Nh.Pop}},j):j}function yB(){let s=EB(),e=pB(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),r?W.createElement("pre",{style:a},r):null,null)}const wB=W.createElement(yB,null);class jB extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?W.createElement(Rh.Provider,{value:this.props.routeContext},W.createElement(qj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NB(s){let{routeContext:e,match:r,children:n}=s,a=W.useContext(qv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),W.createElement(Rh.Provider,{value:e},n)}function kB(s,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),s==null){var l;if(!r)return null;if(r.errors)s=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=(a=r)==null?void 0:a.errors;if(d!=null){let f=u.findIndex(p=>p.route.id&&(d==null?void 0:d[p.route.id])!==void 0);f>=0||Sl(!1),u=u.slice(0,Math.min(u.length,f+1))}let A=!1,o=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<u.length;f++){let p=u[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(o=f),p.route.id){let{loaderData:m,errors:x}=r,b=p.route.loader&&m[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){A=!0,o>=0?u=u.slice(0,o+1):u=[u[0]];break}}}return u.reduceRight((f,p,m)=>{let x,b=!1,j=null,y=null;r&&(x=d&&p.route.id?d[p.route.id]:void 0,j=p.route.errorElement||wB,A&&(o<0&&m===0?(UB("route-fallback"),b=!0,y=null):o===m&&(b=!0,y=p.route.hydrateFallbackElement||null)));let T=e.concat(u.slice(0,m+1)),R=()=>{let z;return x?z=j:b?z=y:p.route.Component?z=W.createElement(p.route.Component,null):p.route.element?z=p.route.element:z=f,W.createElement(NB,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:r!=null},children:z})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?W.createElement(jB,{location:r.location,revalidation:r.revalidation,component:j,error:x,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}var t5=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(t5||{}),s5=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(s5||{});function CB(s){let e=W.useContext(qv);return e||Sl(!1),e}function BB(s){let e=W.useContext(gB);return e||Sl(!1),e}function SB(s){let e=W.useContext(Rh);return e||Sl(!1),e}function r5(s){let e=SB(),r=e.matches[e.matches.length-1];return r.route.id||Sl(!1),r.route.id}function EB(){var s;let e=W.useContext(qj),r=BB(),n=r5();return e!==void 0?e:(s=r.errors)==null?void 0:s[n]}function TB(){let{router:s}=CB(t5.UseNavigateStable),e=r5(s5.UseNavigateStable),r=W.useRef(!1);return e5(()=>{r.current=!0}),W.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?s.navigate(a):s.navigate(a,Am({fromRouteId:e},l)))},[s,e])}const fw={};function UB(s,e,r){fw[s]||(fw[s]=!0)}function FB(s,e){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function LB(s){let{to:e,replace:r,state:n,relative:a}=s;Sm()||Sl(!1);let{future:l,static:u}=W.useContext(Bm),{matches:d}=W.useContext(Rh),{pathname:A}=xp(),o=$l(),f=Jj(e,Xj(d,l.v7_relativeSplatPath),A,a==="path"),p=JSON.stringify(f);return W.useEffect(()=>o(JSON.parse(p),{replace:r,state:n,relative:a}),[o,p,a,r,n]),null}function zl(s){Sl(!1)}function MB(s){let{basename:e="/",children:r=null,location:n,navigationType:a=Nh.Pop,navigator:l,static:u=!1,future:d}=s;Sm()&&Sl(!1);let A=e.replace(/^\/*/,"/"),o=W.useMemo(()=>({basename:A,navigator:l,static:u,future:Am({v7_relativeSplatPath:!1},d)}),[A,d,l,u]);typeof n=="string"&&(n=gp(n));let{pathname:f="/",search:p="",hash:m="",state:x=null,key:b="default"}=n,j=W.useMemo(()=>{let y=Yj(f,A);return y==null?null:{location:{pathname:y,search:p,hash:m,state:x,key:b},navigationType:a}},[A,f,p,m,x,b,a]);return j==null?null:W.createElement(Bm.Provider,{value:o},W.createElement(Kg.Provider,{children:r,value:j}))}function OB(s){let{children:e,location:r}=s;return bB(Wb(e),r)}new Promise(()=>{});function Wb(s,e){e===void 0&&(e=[]);let r=[];return W.Children.forEach(s,(n,a)=>{if(!W.isValidElement(n))return;let l=[...e,a];if(n.type===W.Fragment){r.push.apply(r,Wb(n.props.children,l));return}n.type!==zl&&Sl(!1),!n.props.index||!n.props.children||Sl(!1);let u={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Wb(n.props.children,l)),r.push(u)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yb(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,r)=>{let n=s[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function IB(s,e){let r=Yb(s);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(l=>{r.append(a,l)})}),r}const DB="6";try{window.__reactRouterVersion=DB}catch{}const RB="startTransition",pw=I4[RB];function PB(s){let{basename:e,children:r,future:n,window:a}=s,l=W.useRef();l.current==null&&(l.current=$4({window:a,v5Compat:!0}));let u=l.current,[d,A]=W.useState({action:u.action,location:u.location}),{v7_startTransition:o}=n||{},f=W.useCallback(p=>{o&&pw?pw(()=>A(p)):A(p)},[A,o]);return W.useLayoutEffect(()=>u.listen(f),[u,f]),W.useEffect(()=>FB(n),[n]),W.createElement(MB,{basename:e,children:r,location:d.location,navigationType:d.action,navigator:u,future:n})}var mw;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(mw||(mw={}));var gw;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(gw||(gw={}));function QB(s){let e=W.useRef(Yb(s)),r=W.useRef(!1),n=xp(),a=W.useMemo(()=>IB(n.search,r.current?null:e.current),[n.search]),l=$l(),u=W.useCallback((d,A)=>{const o=Yb(typeof d=="function"?d(a):d);r.current=!0,l("?"+o,A)},[l,a]);return[a,u]}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HB=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),xw=s=>{const e=HB(s);return e.charAt(0).toUpperCase()+e.slice(1)},n5=(...s)=>s.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),zB=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $B={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=W.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:u,...d},A)=>W.createElement("svg",{ref:A,...$B,width:e,height:e,stroke:s,strokeWidth:n?Number(r)*24/Number(e):r,className:n5("lucide",a),...!l&&!zB(d)&&{"aria-hidden":"true"},...d},[...u.map(([o,f])=>W.createElement(o,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=(s,e)=>{const r=W.forwardRef(({className:n,...a},l)=>W.createElement(VB,{ref:l,iconNode:e,className:n5(`lucide-${_B(xw(s))}`,`lucide-${s}`,n),...a}));return r.displayName=xw(s),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],w0=es("arrow-down",KB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],WB=es("arrow-left-right",GB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rA=es("arrow-left",YB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],rb=es("arrow-right-left",XB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],DA=es("arrow-right",JB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],qB=es("arrow-up-right",ZB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],j0=es("arrow-up",eS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sS=es("ban",tS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],nS=es("bed-double",rS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Au=es("bell",aS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],oS=es("bold",iS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],H0=es("book-open",lS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],np=es("bot",cS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],a5=es("building-2",dS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Wg=es("bus",uS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],hS=es("calendar-days",AS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],co=es("calendar",fS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Yg=es("camera",pS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],i5=es("car",mS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],o5=es("chart-column",gS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],bS=es("check-check",xS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Yo=es("check",vS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ap=es("chevron-down",yS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ph=es("chevron-left",wS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hc=es("chevron-right",jS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ia=es("circle-alert",NS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bo=es("circle-check-big",kS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uo=es("circle-check",CS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Xg=es("circle-plus",BS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],z0=es("circle-question-mark",SS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hu=es("circle-x",ES);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],US=es("circle",TS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vi=es("clock",FS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],MS=es("code",LS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Em=es("coffee",OS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Xb=es("copy",IS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],RS=es("cpu",DS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ip=es("credit-card",PS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Kd=es("crown",QS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Jb=es("dollar-sign",_S);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Xp=es("download",HS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],$S=es("ellipsis",zS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],op=es("external-link",VS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Zu=es("eye-off",KS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],io=es("eye",GS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],bw=es("file-headphone",WS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],vw=es("file-pen",YS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Td=es("file-text",XS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],ZS=es("film",JS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],$0=es("flag",qS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],t3=es("footprints",e3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],l5=es("funnel",s3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],xf=es("gift",r3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hm=es("globe",n3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],yw=es("hash",a3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],o3=es("heading-1",i3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],c3=es("heading-2",l3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],u3=es("heading-3",d3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bf=es("heart",A3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],f3=es("history",h3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Jg=es("hotel",p3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],lp=es("image",m3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],fm=es("inbox",g3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],b3=es("infinity",x3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],El=es("info",v3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],w3=es("italic",y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],N3=es("key-round",j3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ww=es("key",k3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],B3=es("landmark",C3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],E3=es("languages",S3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ey=es("layout-dashboard",T3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],F3=es("leaf",U3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],c5=es("link-2",L3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Zg=es("link",M3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],I3=es("list-ordered",O3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],R3=es("list",D3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fr=es("loader-circle",P3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ud=es("lock",Q3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qg=es("log-out",_3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M6 20a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2",key:"1m57jg"}],["path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14",key:"1l99gc"}],["path",{d:"M10 20h4",key:"ni2waw"}],["circle",{cx:"16",cy:"20",r:"2",key:"1vifvg"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]],z3=es("luggage",H3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Xd=es("mail",$3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Jo=es("map-pin",V3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],V0=es("map",K3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],eA=es("megaphone",G3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],d5=es("menu",W3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],mu=es("message-circle",Y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Mh=es("message-square",X3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],u5=es("mic",J3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M5 12h14",key:"1ays0h"}]],q3=es("minus",Z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],tE=es("moon",eE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],jw=es("mouse-pointer-click",sE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],A5=es("navigation",rE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],Nw=es("notebook-pen",nE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],nb=es("package",aE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],oE=es("palette",iE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],cE=es("panel-left-close",lE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],uE=es("panel-left",dE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],hE=es("paperclip",AE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],pE=es("party-popper",fE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],h5=es("pause",mE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],f5=es("pen-line",gE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bp=es("pen",xE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ex=es("pencil",bE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],kw=es("percent",vE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],nA=es("plane",yE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Zb=es("play",wE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$i=es("plus",jE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],kE=es("printer",NE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],BE=es("quote",CE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],p5=es("receipt",SE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],TE=es("redo",EE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cd=es("refresh-cw",UE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],LE=es("rotate-ccw",FE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QA=es("save",ME);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kc=es("search",OE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Sh=es("send",IE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tm=es("settings",DE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],K0=es("share-2",RE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],QE=es("shield-alert",PE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cp=es("shield-check",_E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Gd=es("shield",HE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],tx=es("shopping-bag",zE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ao=es("sparkles",$E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KE=es("square-check-big",VE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ty=es("square-pen",GE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],YE=es("square",WE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],JE=es("star-off",XE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tA=es("star",ZE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],m5=es("sticky-note",qE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],sy=es("store",eT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],sT=es("strikethrough",tT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],nT=es("sun",rT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],G0=es("tag",aT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Cw=es("target",iT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],lT=es("text-align-center",oT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],dT=es("text-align-end",cT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],AT=es("text-align-justify",uT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],fT=es("text-align-start",hT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],mT=es("ticket",pT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],qb=es("timer",gT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zo=es("trash-2",xT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],vT=es("trending-down",bT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sx=es("trending-up",yT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qo=es("triangle-alert",wT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],NT=es("type",jT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],CT=es("underline",kT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],ST=es("undo",BT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],TT=es("unlink",ET);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dp=es("upload",UT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LT=es("user-cog",FT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xo=es("user",MT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ld=es("users",OT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Wd=es("utensils",IT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ev=es("volume-2",DT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Cf=es("wallet",RT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],tv=es("wand-sparkles",PT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vp=es("wifi-off",QT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],yp=es("wifi",_T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qr=es("x",HT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$T=es("zap",zT),VT={success:Bo,error:Ia,warning:qo,info:El},KT={success:"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-200 dark:border-emerald-700 text-emerald-800 dark:text-emerald-200",error:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700 text-red-800 dark:text-red-200",warning:"bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-700 text-amber-800 dark:text-amber-200",info:"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-200"},GT={success:"text-emerald-500",error:"text-red-500",warning:"text-amber-500",info:"text-blue-500"},WT=({id:s,message:e,type:r,duration:n=4e3,onClose:a})=>{const[l,u]=W.useState(!1);W.useEffect(()=>{const o=setTimeout(()=>{u(!0)},n-300),f=setTimeout(()=>{a(s)},n);return()=>{clearTimeout(o),clearTimeout(f)}},[s,n,a]);const d=()=>{u(!0),setTimeout(()=>a(s),300)},A=VT[r];return t.jsxs("div",{className:`
        flex items-center gap-3 p-4 rounded-xl border shadow-lg backdrop-blur-sm
        ${KT[r]}
        ${l?"animate-slide-out-right":"animate-slide-in-right"}
        transition-all duration-300
      `,children:[t.jsx(A,{className:`w-5 h-5 flex-shrink-0 ${GT[r]}`}),t.jsx("span",{className:"font-medium text-sm flex-1",children:e}),t.jsx("button",{onClick:d,className:"p-1 rounded-lg hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:t.jsx(qr,{className:"w-4 h-4"})})]})},YT=({toasts:s,onClose:e})=>t.jsx("div",{className:"fixed top-4 right-4 z-[200] flex flex-col gap-2 max-w-sm w-full pointer-events-none",children:s.map(r=>t.jsx("div",{className:"pointer-events-auto",children:t.jsx(WT,{id:r.id,message:r.message,type:r.type,duration:r.duration,onClose:e})},r.id))}),g5=W.createContext(null);let XT=0;const JT=({children:s})=>{const[e,r]=W.useState([]),n=W.useCallback(o=>{r(f=>f.filter(p=>p.id!==o))},[]),a=W.useCallback((o,f="info",p=4e3)=>{const m=`toast-${++XT}`;r(x=>[...x,{id:m,message:o,type:f,duration:p}])},[]),l=W.useCallback((o,f)=>{a(o,"success",f)},[a]),u=W.useCallback((o,f)=>{a(o,"error",f)},[a]),d=W.useCallback((o,f)=>{a(o,"warning",f)},[a]),A=W.useCallback((o,f)=>{a(o,"info",f)},[a]);return t.jsxs(g5.Provider,{value:{showToast:a,success:l,error:u,warning:d,info:A},children:[s,t.jsx(YT,{toasts:e,onClose:n})]})},rx=()=>{const s=W.useContext(g5);if(!s)throw new Error("useToast must be used within a ToastProvider");return s},Kn=s=>typeof s=="string",Rp=()=>{let s,e;const r=new Promise((n,a)=>{s=n,e=a});return r.resolve=s,r.reject=e,r},Bw=s=>s==null?"":""+s,ZT=(s,e,r)=>{s.forEach(n=>{e[n]&&(r[n]=e[n])})},qT=/###/g,Sw=s=>s&&s.indexOf("###")>-1?s.replace(qT,"."):s,Ew=s=>!s||Kn(s),Jp=(s,e,r)=>{const n=Kn(e)?e.split("."):e;let a=0;for(;a<n.length-1;){if(Ew(s))return{};const l=Sw(n[a]);!s[l]&&r&&(s[l]=new r),Object.prototype.hasOwnProperty.call(s,l)?s=s[l]:s={},++a}return Ew(s)?{}:{obj:s,k:Sw(n[a])}},Tw=(s,e,r)=>{const{obj:n,k:a}=Jp(s,e,Object);if(n!==void 0||e.length===1){n[a]=r;return}let l=e[e.length-1],u=e.slice(0,e.length-1),d=Jp(s,u,Object);for(;d.obj===void 0&&u.length;)l=`${u[u.length-1]}.${l}`,u=u.slice(0,u.length-1),d=Jp(s,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=r},e6=(s,e,r,n)=>{const{obj:a,k:l}=Jp(s,e,Object);a[l]=a[l]||[],a[l].push(r)},W0=(s,e)=>{const{obj:r,k:n}=Jp(s,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},t6=(s,e,r)=>{const n=W0(s,r);return n!==void 0?n:W0(e,r)},x5=(s,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in s?Kn(s[n])||s[n]instanceof String||Kn(e[n])||e[n]instanceof String?r&&(s[n]=e[n]):x5(s[n],e[n],r):s[n]=e[n]);return s},Kf=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var s6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const r6=s=>Kn(s)?s.replace(/[&<>"'\/]/g,e=>s6[e]):s;class n6{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const a6=[" ",",","?","!",";"],i6=new n6(20),o6=(s,e,r)=>{e=e||"",r=r||"";const n=a6.filter(u=>e.indexOf(u)<0&&r.indexOf(u)<0);if(n.length===0)return!0;const a=i6.getRegExp(`(${n.map(u=>u==="?"?"\\?":u).join("|")})`);let l=!a.test(s);if(!l){const u=s.indexOf(r);u>0&&!a.test(s.substring(0,u))&&(l=!0)}return l},sv=(s,e,r=".")=>{if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const n=e.split(r);let a=s;for(let l=0;l<n.length;){if(!a||typeof a!="object")return;let u,d="";for(let A=l;A<n.length;++A)if(A!==l&&(d+=r),d+=n[A],u=a[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&A<n.length-1)continue;l+=A-l+1;break}a=u}return a},pm=s=>s==null?void 0:s.replace("_","-"),l6={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){var r,n;(n=(r=console==null?void 0:console[s])==null?void 0:r.apply)==null||n.call(r,console,e)}};class Y0{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||l6,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,a){return a&&!this.debug?null:(Kn(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Y0(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Y0(this.logger,e)}}var qu=new Y0;let nx=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a.apply(a,[e,...r])})}};class Uw extends nx{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,a={}){var o,f;const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,r],n&&(Array.isArray(n)?d.push(...n):Kn(n)&&l?d.push(...n.split(l)):d.push(n)));const A=W0(this.data,d);return!A&&!r&&!n&&e.indexOf(".")>-1&&(e=d[0],r=d[1],n=d.slice(2).join(".")),A||!u||!Kn(n)?A:sv((f=(o=this.data)==null?void 0:o[e])==null?void 0:f[r],n,l)}addResource(e,r,n,a,l={silent:!1}){const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,r];n&&(d=d.concat(u?n.split(u):n)),e.indexOf(".")>-1&&(d=e.split("."),a=r,r=d[1]),this.addNamespaces(r),Tw(this.data,d,a),l.silent||this.emit("added",e,r,n,a)}addResources(e,r,n,a={silent:!1}){for(const l in n)(Kn(n[l])||Array.isArray(n[l]))&&this.addResource(e,r,l,n[l],{silent:!0});a.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,a,l,u={silent:!1,skipCopy:!1}){let d=[e,r];e.indexOf(".")>-1&&(d=e.split("."),a=n,n=r,r=d[1]),this.addNamespaces(r);let A=W0(this.data,d)||{};u.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?x5(A,n,l):A={...A,...n},Tw(this.data,d,A),u.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var b5={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,r,n,a){return s.forEach(l=>{var u;e=((u=this.processors[l])==null?void 0:u.process(e,r,n,a))??e}),e}};const v5=Symbol("i18next/PATH_KEY");function c6(){const s=[],e=Object.create(null);let r;return e.get=(n,a)=>{var l;return(l=r==null?void 0:r.revoke)==null||l.call(r),a===v5?s:(s.push(a),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function rv(s,e){const{[v5]:r}=s(c6());return r.join((e==null?void 0:e.keySeparator)??".")}const Fw={},ab=s=>!Kn(s)&&typeof s!="boolean"&&typeof s!="number";class X0 extends nx{constructor(e,r={}){super(),ZT(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=qu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const a=this.resolve(e,n);if((a==null?void 0:a.res)===void 0)return!1;const l=ab(a.res);return!(n.returnObjects===!1&&l)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let l=r.ns||this.options.defaultNS||[];const u=n&&e.indexOf(n)>-1,d=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!o6(e,n,a);if(u&&!d){const A=e.match(this.interpolator.nestingRegexp);if(A&&A.length>0)return{key:e,namespaces:Kn(l)?[l]:l};const o=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(o[0])>-1)&&(l=o.shift()),e=o.join(a)}return{key:e,namespaces:Kn(l)?[l]:l}}translate(e,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=rv(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:A}=this.extractFromKey(e[e.length-1],a),o=A[A.length-1];let f=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const p=a.lng||this.language,m=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((p==null?void 0:p.toLowerCase())==="cimode")return m?l?{res:`${o}${f}${d}`,usedKey:d,exactUsedKey:d,usedLng:p,usedNS:o,usedParams:this.getUsedParamsDetails(a)}:`${o}${f}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:p,usedNS:o,usedParams:this.getUsedParamsDetails(a)}:d;const x=this.resolve(e,a);let b=x==null?void 0:x.res;const j=(x==null?void 0:x.usedKey)||d,y=(x==null?void 0:x.exactUsedKey)||d,T=["[object Number]","[object Function]","[object RegExp]"],R=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,z=!this.i18nFormat||this.i18nFormat.handleAsObject,X=a.count!==void 0&&!Kn(a.count),Y=X0.hasDefaultValue(a),Q=X?this.pluralResolver.getSuffix(p,a.count,a):"",K=a.ordinal&&X?this.pluralResolver.getSuffix(p,a.count,{ordinal:!1}):"",ce=X&&!a.ordinal&&a.count===0,ue=ce&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${Q}`]||a[`defaultValue${K}`]||a.defaultValue;let Ne=b;z&&!b&&Y&&(Ne=ue);const le=ab(Ne),Ce=Object.prototype.toString.apply(Ne);if(z&&Ne&&le&&T.indexOf(Ce)<0&&!(Kn(R)&&Array.isArray(Ne))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const oe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,Ne,{...a,ns:A}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(x.res=oe,x.usedParams=this.getUsedParamsDetails(a),x):oe}if(u){const oe=Array.isArray(Ne),je=oe?[]:{},Ae=oe?y:j;for(const se in Ne)if(Object.prototype.hasOwnProperty.call(Ne,se)){const pe=`${Ae}${u}${se}`;Y&&!b?je[se]=this.translate(pe,{...a,defaultValue:ab(ue)?ue[se]:void 0,joinArrays:!1,ns:A}):je[se]=this.translate(pe,{...a,joinArrays:!1,ns:A}),je[se]===pe&&(je[se]=Ne[se])}b=je}}else if(z&&Kn(R)&&Array.isArray(b))b=b.join(R),b&&(b=this.extendTranslation(b,e,a,n));else{let oe=!1,je=!1;!this.isValidLookup(b)&&Y&&(oe=!0,b=ue),this.isValidLookup(b)||(je=!0,b=d);const se=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&je?void 0:b,pe=Y&&ue!==b&&this.options.updateMissing;if(je||oe||pe){if(this.logger.log(pe?"updateKey":"missingKey",p,o,d,pe?ue:b),u){const Se=this.resolve(d,{...a,keySeparator:!1});Se&&Se.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const Ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ee&&Ee[0])for(let Se=0;Se<Ee.length;Se++)re.push(Ee[Se]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(a.lng||this.language):re.push(a.lng||this.language);const De=(Se,fe,be)=>{var te;const he=Y&&be!==b?be:se;this.options.missingKeyHandler?this.options.missingKeyHandler(Se,o,fe,he,pe,a):(te=this.backendConnector)!=null&&te.saveMissing&&this.backendConnector.saveMissing(Se,o,fe,he,pe,a),this.emit("missingKey",Se,o,fe,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&X?re.forEach(Se=>{const fe=this.pluralResolver.getSuffixes(Se,a);ce&&a[`defaultValue${this.options.pluralSeparator}zero`]&&fe.indexOf(`${this.options.pluralSeparator}zero`)<0&&fe.push(`${this.options.pluralSeparator}zero`),fe.forEach(be=>{De([Se],d+be,a[`defaultValue${be}`]||ue)})}):De(re,d,ue))}b=this.extendTranslation(b,e,a,x,n),je&&b===d&&this.options.appendNamespaceToMissingKey&&(b=`${o}${f}${d}`),(je||oe)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}${f}${d}`:d,oe?b:void 0,a))}return l?(x.res=b,x.usedParams=this.getUsedParamsDetails(a),x):b}extendTranslation(e,r,n,a,l){var A,o;if((A=this.i18nFormat)!=null&&A.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const f=Kn(e)&&(((o=n==null?void 0:n.interpolation)==null?void 0:o.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(f){const x=e.match(this.interpolator.nestingRegexp);p=x&&x.length}let m=n.replace&&!Kn(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||a.usedLng,n),f){const x=e.match(this.interpolator.nestingRegexp),b=x&&x.length;p<b&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...x)=>(l==null?void 0:l[0])===x[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${r[0]}`),null):this.translate(...x,r),n)),n.interpolation&&this.interpolator.reset()}const u=n.postProcess||this.options.postProcess,d=Kn(u)?[u]:u;return e!=null&&(d!=null&&d.length)&&n.applyPostProcessor!==!1&&(e=b5.handle(d,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,a,l,u,d;return Kn(e)&&(e=[e]),e.forEach(A=>{if(this.isValidLookup(n))return;const o=this.extractFromKey(A,r),f=o.key;a=f;let p=o.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const m=r.count!==void 0&&!Kn(r.count),x=m&&!r.ordinal&&r.count===0,b=r.context!==void 0&&(Kn(r.context)||typeof r.context=="number")&&r.context!=="",j=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);p.forEach(y=>{var T,R;this.isValidLookup(n)||(d=y,!Fw[`${j[0]}-${y}`]&&((T=this.utils)!=null&&T.hasLoadedNamespace)&&!((R=this.utils)!=null&&R.hasLoadedNamespace(d))&&(Fw[`${j[0]}-${y}`]=!0,this.logger.warn(`key "${a}" for languages "${j.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(z=>{var Q;if(this.isValidLookup(n))return;u=z;const X=[f];if((Q=this.i18nFormat)!=null&&Q.addLookupKeys)this.i18nFormat.addLookupKeys(X,f,z,y,r);else{let K;m&&(K=this.pluralResolver.getSuffix(z,r.count,r));const ce=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(r.ordinal&&K.indexOf(ue)===0&&X.push(f+K.replace(ue,this.options.pluralSeparator)),X.push(f+K),x&&X.push(f+ce)),b){const Ne=`${f}${this.options.contextSeparator||"_"}${r.context}`;X.push(Ne),m&&(r.ordinal&&K.indexOf(ue)===0&&X.push(Ne+K.replace(ue,this.options.pluralSeparator)),X.push(Ne+K),x&&X.push(Ne+ce))}}let Y;for(;Y=X.pop();)this.isValidLookup(n)||(l=Y,n=this.getResource(z,y,Y,r))}))})}),{res:n,usedKey:a,exactUsedKey:l,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,a={}){var l;return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(e,r,n,a):this.resourceStore.getResource(e,r,n,a)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Kn(e.replace);let a=n?e.replace:e;if(n&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const l of r)delete a[l]}return a}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class Lw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=qu.create("languageUtils")}getScriptPartFromCode(e){if(e=pm(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=pm(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Kn(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const l=this.getLanguagePartFromCode(n);if(this.isSupportedCode(l))return r=l;r=this.options.supportedLngs.find(u=>{if(u===l)return u;if(!(u.indexOf("-")<0&&l.indexOf("-")<0)&&(u.indexOf("-")>0&&l.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===l||u.indexOf(l)===0&&l.length>1))return u})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Kn(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),a=[],l=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Kn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Kn(e)&&l(this.formatLanguageCode(e)),n.forEach(u=>{a.indexOf(u)<0&&l(this.formatLanguageCode(u))}),a}}const Mw={zero:0,one:1,two:2,few:3,many:4,other:5},Ow={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class d6{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=qu.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=pm(e==="dev"?"en":e),a=r.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:n,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let u;try{u=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ow;if(!e.match(/-|_/))return Ow;const A=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(A,r)}return this.pluralRulesCache[l]=u,u}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(a=>`${r}${a}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,l)=>Mw[a]-Mw[l]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,r,n={}){const a=this.getRule(e,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Iw=(s,e,r,n=".",a=!0)=>{let l=t6(s,e,r);return!l&&a&&Kn(r)&&(l=sv(s,r,n),l===void 0&&(l=sv(e,r,n))),l},ib=s=>s.replace(/\$/g,"$$$$");class Dw{constructor(e={}){var r;this.logger=qu.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:l,prefixEscaped:u,suffix:d,suffixEscaped:A,formatSeparator:o,unescapeSuffix:f,unescapePrefix:p,nestingPrefix:m,nestingPrefixEscaped:x,nestingSuffix:b,nestingSuffixEscaped:j,nestingOptionsSeparator:y,maxReplaces:T,alwaysFormat:R}=e.interpolation;this.escape=r!==void 0?r:r6,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Kf(l):u||"{{",this.suffix=d?Kf(d):A||"}}",this.formatSeparator=o||",",this.unescapePrefix=f?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=m?Kf(m):x||Kf("$t("),this.nestingSuffix=b?Kf(b):j||Kf(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=T||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,a){var x;let l,u,d;const A=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},o=b=>{if(b.indexOf(this.formatSeparator)<0){const R=Iw(r,A,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,n,{...a,...r,interpolationkey:b}):R}const j=b.split(this.formatSeparator),y=j.shift().trim(),T=j.join(this.formatSeparator).trim();return this.format(Iw(r,A,y,this.options.keySeparator,this.options.ignoreJSONStructure),T,n,{...a,...r,interpolationkey:y})};this.resetRegExp();const f=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((x=a==null?void 0:a.interpolation)==null?void 0:x.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>ib(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?ib(this.escape(b)):ib(b)}].forEach(b=>{for(d=0;l=b.regex.exec(e);){const j=l[1].trim();if(u=o(j),u===void 0)if(typeof f=="function"){const T=f(e,l,a);u=Kn(T)?T:""}else if(a&&Object.prototype.hasOwnProperty.call(a,j))u="";else if(p){u=l[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${e}`),u="";else!Kn(u)&&!this.useRawValueToEscape&&(u=Bw(u));const y=b.safeValue(u);if(e=e.replace(l[0],y),p?(b.regex.lastIndex+=u.length,b.regex.lastIndex-=l[0].length):b.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,r,n={}){let a,l,u;const d=(A,o)=>{const f=this.nestingOptionsSeparator;if(A.indexOf(f)<0)return A;const p=A.split(new RegExp(`${f}[ ]*{`));let m=`{${p[1]}`;A=p[0],m=this.interpolate(m,u);const x=m.match(/'/g),b=m.match(/"/g);(((x==null?void 0:x.length)??0)%2===0&&!b||b.length%2!==0)&&(m=m.replace(/'/g,'"'));try{u=JSON.parse(m),o&&(u={...o,...u})}catch(j){return this.logger.warn(`failed parsing options string in nesting for key ${A}`,j),`${A}${f}${m}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,A};for(;a=this.nestingRegexp.exec(e);){let A=[];u={...n},u=u.replace&&!Kn(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const o=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(o!==-1&&(A=a[1].slice(o).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),a[1]=a[1].slice(0,o)),l=r(d.call(this,a[1].trim(),u),u),l&&a[0]===e&&!Kn(l))return l;Kn(l)||(l=Bw(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),A.length&&(l=A.reduce((f,p)=>this.format(f,p,n.lng,{...n,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const u6=s=>{let e=s.toLowerCase().trim();const r={};if(s.indexOf("(")>-1){const n=s.split("(");e=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);e==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(u=>{if(u){const[d,...A]=u.split(":"),o=A.join(":").trim().replace(/^'+|'+$/g,""),f=d.trim();r[f]||(r[f]=o),o==="false"&&(r[f]=!1),o==="true"&&(r[f]=!0),isNaN(o)||(r[f]=parseInt(o,10))}})}return{formatName:e,formatOptions:r}},Rw=s=>{const e={};return(r,n,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const u=n+JSON.stringify(l);let d=e[u];return d||(d=s(pm(n),a),e[u]=d),d(r)}},A6=s=>(e,r,n)=>s(pm(r),n)(e);class h6{constructor(e={}){this.logger=qu.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?Rw:A6;this.formats={number:n((a,l)=>{const u=new Intl.NumberFormat(a,{...l});return d=>u.format(d)}),currency:n((a,l)=>{const u=new Intl.NumberFormat(a,{...l,style:"currency"});return d=>u.format(d)}),datetime:n((a,l)=>{const u=new Intl.DateTimeFormat(a,{...l});return d=>u.format(d)}),relativetime:n((a,l)=>{const u=new Intl.RelativeTimeFormat(a,{...l});return d=>u.format(d,l.range||"day")}),list:n((a,l)=>{const u=new Intl.ListFormat(a,{...l});return d=>u.format(d)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Rw(r)}format(e,r,n,a={}){const l=r.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(A=>A.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,A)=>{var p;const{formatName:o,formatOptions:f}=u6(A);if(this.formats[o]){let m=d;try{const x=((p=a==null?void 0:a.formatParams)==null?void 0:p[a.interpolationkey])||{},b=x.locale||x.lng||a.locale||a.lng||n;m=this.formats[o](d,b,{...f,...a,...x})}catch(x){this.logger.warn(x)}return m}else this.logger.warn(`there was no format function for ${o}`);return d},e)}}const f6=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class p6 extends nx{constructor(e,r,n,a={}){var l,u;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=qu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(u=(l=this.backend)==null?void 0:l.init)==null||u.call(l,n,a.backend,a)}queueLoad(e,r,n,a){const l={},u={},d={},A={};return e.forEach(o=>{let f=!0;r.forEach(p=>{const m=`${o}|${p}`;!n.reload&&this.store.hasResourceBundle(o,p)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?u[m]===void 0&&(u[m]=!0):(this.state[m]=1,f=!1,u[m]===void 0&&(u[m]=!0),l[m]===void 0&&(l[m]=!0),A[p]===void 0&&(A[p]=!0)))}),f||(d[o]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(A)}}loaded(e,r,n){const a=e.split("|"),l=a[0],u=a[1];r&&this.emit("failedLoading",l,u,r),!r&&n&&this.store.addResourceBundle(l,u,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const d={};this.queue.forEach(A=>{e6(A.loaded,[l],u),f6(A,e),r&&A.errors.push(r),A.pendingCount===0&&!A.done&&(Object.keys(A.loaded).forEach(o=>{d[o]||(d[o]={});const f=A.loaded[o];f.length&&f.forEach(p=>{d[o][p]===void 0&&(d[o][p]=!0)})}),A.done=!0,A.errors.length?A.callback(A.errors):A.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(A=>!A.done)}read(e,r,n,a=0,l=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:a,wait:l,callback:u});return}this.readingCalls++;const d=(o,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(o&&f&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,a+1,l*2,u)},l);return}u(o,f)},A=this.backend[n].bind(this.backend);if(A.length===2){try{const o=A(e,r);o&&typeof o.then=="function"?o.then(f=>d(null,f)).catch(d):d(null,o)}catch(o){d(o)}return}return A(e,r,d)}prepareLoading(e,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Kn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Kn(r)&&(r=[r]);const l=this.queueLoad(e,r,n,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(u=>{this.loadOne(u)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),a=n[0],l=n[1];this.read(a,l,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${r}loading namespace ${l} for language ${a} failed`,u),!u&&d&&this.logger.log(`${r}loaded namespace ${l} for language ${a}`,d),this.loaded(e,u,d)})}saveMissing(e,r,n,a,l,u={},d=()=>{}){var A,o,f,p,m;if((o=(A=this.services)==null?void 0:A.utils)!=null&&o.hasLoadedNamespace&&!((p=(f=this.services)==null?void 0:f.utils)!=null&&p.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((m=this.backend)!=null&&m.create){const x={...u,isUpdate:l},b=this.backend.create.bind(this.backend);if(b.length<6)try{let j;b.length===5?j=b(e,r,n,a,x):j=b(e,r,n,a),j&&typeof j.then=="function"?j.then(y=>d(null,y)).catch(d):d(null,j)}catch(j){d(j)}else b(e,r,n,a,d,x)}!e||!e[0]||this.store.addResource(e[0],r,n,a)}}}const ob=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),Kn(s[1])&&(e.defaultValue=s[1]),Kn(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const r=s[3]||s[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Pw=s=>{var e,r;return Kn(s.ns)&&(s.ns=[s.ns]),Kn(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),Kn(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),((r=(e=s.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s},s0=()=>{},m6=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(r=>{typeof s[r]=="function"&&(s[r]=s[r].bind(s))})};class Zp extends nx{constructor(e={},r){if(super(),this.options=Pw(e),this.services={},this.logger=qu,this.modules={external:[]},m6(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Kn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=ob();this.options={...n,...this.options,...Pw(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);const a=o=>o?typeof o=="function"?new o:o:null;if(!this.options.isClone){this.modules.logger?qu.init(a(this.modules.logger),this.options):qu.init(null,this.options);let o;this.modules.formatter?o=this.modules.formatter:o=h6;const f=new Lw(this.options);this.store=new Uw(this.options.resources,this.options);const p=this.services;p.logger=qu,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new d6(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),o&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(p.formatter=a(o),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new Dw(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new p6(a(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(x,...b)=>{this.emit(x,...b)}),this.modules.languageDetector&&(p.languageDetector=a(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=a(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new X0(this.services,this.options),this.translator.on("*",(x,...b)=>{this.emit(x,...b)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,r||(r=s0),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.length>0&&o[0]!=="dev"&&(this.options.lng=o[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(o=>{this[o]=(...f)=>this.store[o](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(o=>{this[o]=(...f)=>(this.store[o](...f),this)});const d=Rp(),A=()=>{const o=(f,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(p),r(f,p)};if(this.languages&&!this.isInitialized)return o(null,this.t.bind(this));this.changeLanguage(this.options.lng,o)};return this.options.resources||!this.options.initAsync?A():setTimeout(A,0),d}loadResources(e,r=s0){var l,u;let n=r;const a=Kn(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const d=[],A=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(p=>{p!=="cimode"&&d.indexOf(p)<0&&d.push(p)})};a?A(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>A(f)),(u=(l=this.options.preload)==null?void 0:l.forEach)==null||u.call(l,o=>A(o)),this.services.backendConnector.load(d,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,r,n){const a=Rp();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=s0),this.services.backendConnector.reload(e,r,l=>{a.resolve(),n(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&b5.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=Rp();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,A)=>{A?this.isLanguageChangingTo===e&&(a(A),this.translator.changeLanguage(A),this.isLanguageChangingTo=void 0,this.emit("languageChanged",A),this.logger.log("languageChanged",A)):this.isLanguageChangingTo=void 0,n.resolve((...o)=>this.t(...o)),r&&r(d,(...o)=>this.t(...o))},u=d=>{var f,p;!e&&!d&&this.services.languageDetector&&(d=[]);const A=Kn(d)?d:d&&d[0],o=this.store.hasLanguageSomeTranslations(A)?A:this.services.languageUtils.getBestMatchFromCodes(Kn(d)?[d]:d);o&&(this.language||a(o),this.translator.language||this.translator.changeLanguage(o),(p=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||p.call(f,o)),this.loadResources(o,m=>{l(m,o)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),n}getFixedT(e,r,n){const a=(l,u,...d)=>{let A;typeof u!="object"?A=this.options.overloadTranslationOptionHandler([l,u].concat(d)):A={...u},A.lng=A.lng||a.lng,A.lngs=A.lngs||a.lngs,A.ns=A.ns||a.ns,A.keyPrefix!==""&&(A.keyPrefix=A.keyPrefix||n||a.keyPrefix);const o=this.options.keySeparator||".";let f;return A.keyPrefix&&Array.isArray(l)?f=l.map(p=>(typeof p=="function"&&(p=rv(p,{...this.options,...u})),`${A.keyPrefix}${o}${p}`)):(typeof l=="function"&&(l=rv(l,{...this.options,...u})),f=A.keyPrefix?`${A.keyPrefix}${o}${l}`:l),this.t(f,A)};return Kn(e)?a.lng=e:a.lngs=e,a.ns=r,a.keyPrefix=n,a}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const u=(d,A)=>{const o=this.services.backendConnector.state[`${d}|${A}`];return o===-1||o===0||o===2};if(r.precheck){const d=r.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(n,e)&&(!a||u(l,e)))}loadNamespaces(e,r){const n=Rp();return this.options.ns?(Kn(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Rp();Kn(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return l.length?(this.options.preload=a.concat(l),this.loadResources(u=>{n.resolve(),r&&r(u)}),n):(r&&r(),Promise.resolve())}dir(e){var a,l;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const u=new Intl.Locale(e);if(u&&u.getTextInfo){const d=u.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((l=this.services)==null?void 0:l.languageUtils)||new Lw(ob());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new Zp(e,r);return n.createInstance=Zp.createInstance,n}cloneInstance(e={},r=s0){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new Zp(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},n){const d=Object.keys(this.store.data).reduce((A,o)=>(A[o]={...this.store.data[o]},A[o]=Object.keys(A[o]).reduce((f,p)=>(f[p]={...A[o][p]},f),A[o]),A),{});l.store=new Uw(d,a),l.services.resourceStore=l.store}if(e.interpolation){const A={...ob().interpolation,...this.options.interpolation,...e.interpolation},o={...a,interpolation:A};l.services.interpolator=new Dw(o)}return l.translator=new X0(l.services,a),l.translator.on("*",(d,...A)=>{l.emit(d,...A)}),l.init(a,r),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const fc=Zp.createInstance();fc.createInstance;fc.dir;fc.init;fc.loadResources;fc.reloadResources;fc.use;fc.changeLanguage;fc.getFixedT;fc.t;fc.exists;fc.setDefaultNamespace;fc.hasLoadedNamespace;fc.loadNamespaces;fc.loadLanguages;const g6=(s,e,r,n)=>{var l,u,d,A;const a=[r,{code:e,...n||{}}];if((u=(l=s==null?void 0:s.services)==null?void 0:l.logger)!=null&&u.forward)return s.services.logger.forward(a,"warn","react-i18next::",!0);vf(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(A=(d=s==null?void 0:s.services)==null?void 0:d.logger)!=null&&A.warn?s.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},Qw={},y5=(s,e,r,n)=>{vf(r)&&Qw[r]||(vf(r)&&(Qw[r]=new Date),g6(s,e,r,n))},w5=(s,e)=>()=>{if(s.isInitialized)e();else{const r=()=>{setTimeout(()=>{s.off("initialized",r)},0),e()};s.on("initialized",r)}},nv=(s,e,r)=>{s.loadNamespaces(e,w5(s,r))},_w=(s,e,r,n)=>{if(vf(r)&&(r=[r]),s.options.preload&&s.options.preload.indexOf(e)>-1)return nv(s,r,n);r.forEach(a=>{s.options.ns.indexOf(a)<0&&s.options.ns.push(a)}),s.loadLanguages(e,w5(s,n))},x6=(s,e,r={})=>!e.languages||!e.languages.length?(y5(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(s,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,s))return!1}}),vf=s=>typeof s=="string",b6=s=>typeof s=="object"&&s!==null,v6=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,y6={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},w6=s=>y6[s],j6=s=>s.replace(v6,w6);let av={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:j6,transDefaultProps:void 0};const N6=(s={})=>{av={...av,...s}},k6=()=>av;let j5;const C6=s=>{j5=s},B6=()=>j5,S6={type:"3rdParty",init(s){N6(s.options.react),C6(s)}},E6=W.createContext();class T6{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var lb={exports:{}},cb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function U6(){if(Hw)return cb;Hw=1;var s=Cm();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=s.useState,a=s.useEffect,l=s.useLayoutEffect,u=s.useDebugValue;function d(p,m){var x=m(),b=n({inst:{value:x,getSnapshot:m}}),j=b[0].inst,y=b[1];return l(function(){j.value=x,j.getSnapshot=m,A(j)&&y({inst:j})},[p,x,m]),a(function(){return A(j)&&y({inst:j}),p(function(){A(j)&&y({inst:j})})},[p]),u(x),x}function A(p){var m=p.getSnapshot;p=p.value;try{var x=m();return!r(p,x)}catch{return!0}}function o(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o:d;return cb.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:f,cb}var zw;function N5(){return zw||(zw=1,lb.exports=U6()),lb.exports}var ry=N5();const F6=(s,e)=>vf(e)?e:b6(e)&&vf(e.defaultValue)?e.defaultValue:Array.isArray(s)?s[s.length-1]:s,L6={t:F6,ready:!1},M6=()=>()=>{},Eo=(s,e={})=>{var ue,Ne,le;const{i18n:r}=e,{i18n:n,defaultNS:a}=W.useContext(E6)||{},l=r||n||B6();l&&!l.reportNamespaces&&(l.reportNamespaces=new T6),l||y5(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=W.useMemo(()=>{var Ce;return{...k6(),...(Ce=l==null?void 0:l.options)==null?void 0:Ce.react,...e}},[l,e]),{useSuspense:d,keyPrefix:A}=u,o=s||a||((ue=l==null?void 0:l.options)==null?void 0:ue.defaultNS),f=vf(o)?[o]:o||["translation"],p=W.useMemo(()=>f,f);(le=(Ne=l==null?void 0:l.reportNamespaces)==null?void 0:Ne.addUsedNamespaces)==null||le.call(Ne,p);const m=W.useRef(0),x=W.useCallback(Ce=>{if(!l)return M6;const{bindI18n:oe,bindI18nStore:je}=u,Ae=()=>{m.current+=1,Ce()};return oe&&l.on(oe,Ae),je&&l.store.on(je,Ae),()=>{oe&&oe.split(" ").forEach(se=>l.off(se,Ae)),je&&je.split(" ").forEach(se=>l.store.off(se,Ae))}},[l,u]),b=W.useRef(),j=W.useCallback(()=>{if(!l)return L6;const Ce=!!(l.isInitialized||l.initializedStoreOnce)&&p.every(re=>x6(re,l,u)),oe=e.lng||l.language,je=m.current,Ae=b.current;if(Ae&&Ae.ready===Ce&&Ae.lng===oe&&Ae.keyPrefix===A&&Ae.revision===je)return Ae;const pe={t:l.getFixedT(oe,u.nsMode==="fallback"?p:p[0],A),ready:Ce,lng:oe,keyPrefix:A,revision:je};return b.current=pe,pe},[l,p,A,u,e.lng]),[y,T]=W.useState(0),{t:R,ready:z}=ry.useSyncExternalStore(x,j,j);W.useEffect(()=>{if(l&&!z&&!d){const Ce=()=>T(oe=>oe+1);e.lng?_w(l,e.lng,p,Ce):nv(l,p,Ce)}},[l,e.lng,p,z,d,y]);const X=l||{},Y=W.useRef(null),Q=W.useRef(),K=Ce=>{const oe=Object.getOwnPropertyDescriptors(Ce);oe.__original&&delete oe.__original;const je=Object.create(Object.getPrototypeOf(Ce),oe);if(!Object.prototype.hasOwnProperty.call(je,"__original"))try{Object.defineProperty(je,"__original",{value:Ce,writable:!1,enumerable:!1,configurable:!1})}catch{}return je},ce=W.useMemo(()=>{const Ce=X,oe=Ce==null?void 0:Ce.language;let je=Ce;Ce&&(Y.current&&Y.current.__original===Ce?Q.current!==oe?(je=K(Ce),Y.current=je,Q.current=oe):je=Y.current:(je=K(Ce),Y.current=je,Q.current=oe));const Ae=[R,je,z];return Ae.t=R,Ae.i18n=je,Ae.ready=z,Ae},[R,X,z,X.resolvedLanguage,X.language,X.languages]);if(l&&d&&!z)throw new Promise(Ce=>{const oe=()=>Ce();e.lng?_w(l,e.lng,p,oe):nv(l,p,oe)});return ce},O6=({isOpen:s,isAdminUser:e,onSwitchToAdmin:r})=>{const n=$l(),a=xp(),{t:l}=Eo("nav"),[u,d]=W.useState(!1),[A,o]=W.useState(!1),[f,p]=W.useState(!1),m=W.useRef(null),x=[{path:"/",labelKey:"sidebar.dashboard",icon:ey},{path:"/chat",labelKey:"sidebar.aiPlanner",icon:Ao},{path:"/trips",labelKey:"sidebar.myTrips",icon:nA},{path:"/blogs",labelKey:"sidebar.travelStories",icon:H0},{path:"/translate",labelKey:"sidebar.translate",icon:E3},{path:"/expenses",labelKey:"sidebar.expenses",icon:Cf},{path:"/calendar",labelKey:"sidebar.calendar",icon:hS}];W.useEffect(()=>{const T=R=>{m.current&&!m.current.contains(R.target)&&o(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const b=()=>{n("/support")},j=()=>{alert(`GogoTrip v2.0 Beta

AI-Powered Travel Companion.`)},y=T=>T==="/"||T==="/dashboard"?a.pathname==="/"||a.pathname==="/dashboard":a.pathname.startsWith(T);return t.jsxs(t.Fragment,{children:[t.jsx("aside",{className:`
          fixed inset-y-0 left-0 z-50 w-72 bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl transition-transform duration-500 ease-apple
          ${s?"translate-x-0":"-translate-x-full"}
          md:hidden shadow-2xl overflow-y-auto
        `,children:t.jsxs("div",{className:"flex flex-col h-full p-4",children:[t.jsxs("div",{className:`mb-6 transition-all duration-500 delay-100 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[t.jsxs("button",{onClick:()=>p(!f),className:`w-full flex items-center justify-between p-2 rounded-2xl transition-all duration-300 active:scale-95 active:bg-slate-100 active:scale-95 ${f?"bg-slate-100 dark:bg-slate-800":""}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-lg shadow-sky-500/30",children:t.jsx(np,{className:"w-6 h-6 text-white"})}),t.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"GogoTrip"})]}),t.jsx(ap,{className:`w-5 h-5 text-slate-400 transition-transform duration-300 ${f?"rotate-180":""}`})]}),t.jsx("div",{className:`
                overflow-hidden transition-all duration-300 ease-in-out
                ${f?"max-h-48 opacity-100 mt-2":"max-h-0 opacity-0"}
             `,children:t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-2 space-y-1",children:[t.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-700 transition-colors active:scale-95",children:[t.jsx(z0,{className:"w-4 h-4"}),l("sidebar.helpSupport")]}),t.jsxs("button",{onClick:j,className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-700 transition-colors active:scale-95",children:[t.jsx(El,{className:"w-4 h-4"}),l("sidebar.about")]})]})})]}),t.jsxs("nav",{className:"space-y-2",children:[x.map((T,R)=>t.jsxs("button",{onClick:()=>n(T.path),style:{animationDelay:`${R*100}ms`},className:`
                  w-full flex items-center gap-4 px-4 py-4 rounded-2xl transition-all duration-300 origin-left
                  ${s?"animate-fade-in-up":"opacity-0"}
                  ${y(T.path)?"bg-sky-50 text-sky-600 dark:bg-indigo-500/20 dark:text-indigo-300 font-bold shadow-sm scale-100":"text-slate-500 hover:bg-slate-50 hover:text-slate-900 dark:text-slate-400 dark:hover:bg-slate-800/50 dark:hover:text-slate-200 font-medium"}
                  active:scale-105 active:bg-slate-100 dark:active:bg-slate-800
                `,children:[t.jsx(T.icon,{className:`w-6 h-6 ${y(T.path)?"text-sky-600 dark:text-indigo-400":"text-slate-400"}`}),t.jsx("span",{className:"text-base",children:l(T.labelKey)})]},T.path)),e&&r&&t.jsxs("button",{onClick:r,className:"w-full flex items-center gap-4 px-4 py-4 rounded-2xl transition-all duration-300 origin-left mt-4 bg-violet-50 text-violet-700 dark:bg-violet-900/20 dark:text-violet-300 font-bold active:scale-95",children:[t.jsx(cp,{className:"w-6 h-6"}),t.jsx("span",{className:"text-base",children:l("sidebar.adminPortal")})]})]})]})}),t.jsx("div",{className:"hidden md:flex flex-col z-50 fixed left-4 top-4 bottom-4",onMouseEnter:()=>d(!0),onMouseLeave:()=>{d(!1),o(!1)},children:t.jsxs("div",{className:`
            h-full bg-white/90 dark:bg-slate-900/90 backdrop-blur-2xl shadow-xl dark:shadow-black/50 rounded-[2.5rem] flex flex-col transition-all duration-500 ease-apple border-none
            ${u?"w-[280px]":"w-[88px]"}
          `,children:[t.jsxs("div",{className:"relative pt-6 px-4 mb-2",ref:m,children:[t.jsxs("button",{onClick:()=>o(!A),className:`w-full flex items-center gap-4 p-4 rounded-2xl hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-all duration-300 group ${A?"bg-slate-100 dark:bg-slate-800":""}`,children:[t.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-sky-500 to-blue-600 flex-shrink-0 flex items-center justify-center shadow-lg shadow-sky-500/30 transition-transform duration-500 group-hover:scale-110",children:t.jsx(np,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{className:`flex flex-col items-start transition-all duration-300 delay-75 origin-left ${u?"opacity-100 translate-x-0 scale-100":"opacity-0 -translate-x-4 scale-95 pointer-events-none fixed"}`,children:[t.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight leading-none group-hover:scale-105 origin-left transition-transform",children:"GogoTrip"}),t.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase tracking-wider mt-1",children:"v2.0 Beta"})]}),u&&t.jsx(hc,{className:`ml-auto w-4 h-4 text-slate-400 transition-transform duration-300 ${A?"rotate-90":""}`})]}),t.jsx("div",{className:`
                absolute top-full left-4 right-4 mt-2 bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden transition-all duration-300 origin-top z-50
                ${A&&u?"opacity-100 scale-100 translate-y-0 max-h-40":"opacity-0 scale-95 -translate-y-2 max-h-0 pointer-events-none"}
             `,children:t.jsxs("div",{className:"p-1.5 space-y-0.5",children:[t.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[t.jsx(z0,{className:"w-4 h-4"}),l("sidebar.helpSupport")]}),t.jsxs("button",{onClick:j,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[t.jsx(El,{className:"w-4 h-4"}),l("sidebar.about")]})]})})]}),t.jsxs("nav",{className:"flex-1 px-4 space-y-2 py-2 overflow-y-auto scrollbar-none",children:[x.map(T=>{const R=T.icon,z=y(T.path);return t.jsxs("button",{onClick:()=>n(T.path),className:`
                    relative w-full flex items-center h-14 rounded-full transition-all duration-300 group
                    ${z?"bg-sky-50 dark:bg-indigo-500/20":"hover:bg-slate-50 dark:hover:bg-slate-800/40"}
                  `,children:[t.jsx("div",{className:"absolute left-0 w-[56px] flex justify-center items-center transition-all duration-300",children:t.jsx(R,{className:`w-6 h-6 transition-colors duration-300 ${z?"text-sky-600 dark:text-indigo-400":"text-slate-400 group-hover:text-slate-600 dark:text-slate-500 dark:group-hover:text-slate-300"}`})}),t.jsx("span",{className:`
                    ml-[60px] text-sm font-medium whitespace-nowrap transition-all duration-300 ease-apple origin-left
                    ${u?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}
                    ${z?"text-sky-600 dark:text-indigo-300":"text-slate-600 dark:text-slate-400"}
                    group-hover:scale-105
                  `,children:l(T.labelKey)}),z&&t.jsx("div",{className:"absolute right-4 w-1.5 h-1.5 rounded-full bg-sky-500 dark:bg-indigo-400 shadow-[0_0_10px_rgba(14,165,233,0.6)]"})]},T.path)}),e&&r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"my-2 border-t border-slate-100 dark:border-slate-800/50 mx-2"}),t.jsxs("button",{onClick:r,className:`
                    relative w-full flex items-center h-14 rounded-full transition-all duration-300 group
                    hover:bg-violet-50 dark:hover:bg-violet-900/20
                  `,title:"Back to Admin Dashboard",children:[t.jsx("div",{className:"absolute left-0 w-[56px] flex justify-center items-center transition-all duration-300",children:t.jsx(cp,{className:"w-6 h-6 text-violet-600 dark:text-violet-400"})}),t.jsx("span",{className:`
                    ml-[60px] text-sm font-bold whitespace-nowrap transition-all duration-300 ease-apple origin-left
                    text-violet-700 dark:text-violet-300
                    ${u?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}
                  `,children:l("sidebar.adminPortal")})]})]})]}),t.jsx("div",{className:"h-4"})]})}),t.jsx("div",{className:"hidden md:block w-[120px] flex-shrink-0"})]})},It="https://gogotrip.teocodes.com",r0=`${It}/api/notifications`,n0={getNotifications:async()=>{try{const e=await(await fetch(`${r0}/user`,{credentials:"include"})).json();return e.success?{notifications:e.notifications,unreadCount:e.unreadCount}:{notifications:[],unreadCount:0}}catch{return{notifications:[],unreadCount:0}}},markAsRead:async s=>{try{return(await(await fetch(`${r0}/user/${s}/read`,{method:"POST",credentials:"include"})).json()).success}catch{return!1}},markAllAsRead:async()=>{try{return(await(await fetch(`${r0}/user/read-all`,{method:"POST",credentials:"include"})).json()).success}catch{return!1}},deleteNotification:async s=>{try{return(await(await fetch(`${r0}/user/${s}`,{method:"DELETE",credentials:"include"})).json()).success}catch{return!1}}},I6=({onToggleSidebar:s,title:e,isDarkMode:r,onToggleTheme:n,user:a,onLogout:l})=>{const u=$l(),{t:d,i18n:A}=Eo(["nav","common"]),[o,f]=W.useState(!1),[p,m]=W.useState(!1),[x,b]=W.useState([]),[j,y]=W.useState(0),[T,R]=W.useState(!0),z=W.useRef(null),X=W.useRef(null),Y=W.useCallback(async()=>{const oe=await n0.getNotifications();b(oe.notifications),y(oe.unreadCount),R(!1)},[]);W.useEffect(()=>{Y();const oe=setInterval(Y,3e4);return()=>clearInterval(oe)},[Y]),W.useEffect(()=>{const oe=je=>{z.current&&!z.current.contains(je.target)&&f(!1),X.current&&!X.current.contains(je.target)&&m(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[]);const Q=async oe=>{await n0.markAsRead(oe)&&(b(Ae=>Ae.map(se=>se.id===oe?{...se,unread:!1}:se)),y(Ae=>Math.max(0,Ae-1)))},K=async()=>{await n0.markAllAsRead()&&(b(je=>je.map(Ae=>({...Ae,unread:!1}))),y(0))},ce=async oe=>{const je=x.find(se=>se.id===oe);await n0.deleteNotification(oe)&&(b(se=>se.filter(pe=>pe.id!==oe)),je!=null&&je.unread&&y(se=>Math.max(0,se-1)))},ue=async oe=>{oe.unread&&await Q(oe.id),oe.hasTab&&oe.tabId&&(m(!1),u(`/announcements/${oe.tabId}`))},Ne=oe=>{oe==="Account"||oe==="Preferences"?u("/settings"):oe==="Billing"&&u("/billing"),f(!1)},le=oe=>{switch(oe){case"success":return t.jsx(Ao,{className:"w-4 h-4 text-green-500"});case"warning":return t.jsx(qo,{className:"w-4 h-4 text-yellow-500"});case"alert":return t.jsx(qo,{className:"w-4 h-4 text-red-500"});case"promotion":return t.jsx(xf,{className:"w-4 h-4 text-purple-500"});default:return t.jsx(El,{className:"w-4 h-4 text-blue-500"})}},Ce=(oe,je)=>{const Ae=je?"bg-opacity-50":"";switch(oe){case"success":return`${Ae} ${je?"bg-green-50 dark:bg-green-900/10":""}`;case"warning":return`${Ae} ${je?"bg-yellow-50 dark:bg-yellow-900/10":""}`;case"alert":return`${Ae} ${je?"bg-red-50 dark:bg-red-900/10":""} border-l-4 border-l-red-500`;default:return`${Ae} ${je?"bg-sky-50 dark:bg-indigo-900/10":""}`}};return t.jsx("header",{className:"absolute top-0 left-0 right-0 z-20 px-3 md:px-4 pt-4 pb-2 transition-all duration-300 pointer-events-none",children:t.jsxs("div",{className:"mx-auto bg-slate-100/80 dark:bg-slate-900/80 backdrop-blur-xl border border-transparent hover:border-slate-300 dark:hover:border-slate-600 rounded-[2rem] shadow-sm shadow-slate-200/50 dark:shadow-black/20 pointer-events-auto h-20 px-4 md:px-8 flex items-center justify-between transition-all duration-300 ease-out hover:shadow-xl hover:-translate-y-0.5 hover:scale-[1.005]",children:[t.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0 flex-1 mr-2",children:[t.jsx("button",{onClick:s,className:"p-2 -ml-2 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 rounded-full md:hidden transition-colors active:scale-95",children:t.jsx(d5,{size:24})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-black text-slate-900 dark:text-white tracking-tight truncate bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-slate-300",children:e}),t.jsx("span",{className:"text-[10px] md:text-xs font-bold text-slate-400 uppercase tracking-widest hidden sm:block",children:new Date().toLocaleDateString(A.language==="zh"?"zh-CN":A.language==="ms"?"ms-MY":"en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[t.jsxs("div",{className:"relative",ref:X,children:[t.jsxs("button",{onClick:()=>m(!p),className:"p-3 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 hover:text-sky-600 dark:hover:text-indigo-400 rounded-full transition-all duration-200 relative active:scale-95 group",children:[t.jsx(Au,{size:20,className:"transition-transform group-hover:rotate-12"}),j>0&&t.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full ring-2 ring-slate-100 dark:ring-slate-900 animate-pulse"})]}),p&&t.jsxs("div",{className:"absolute right-0 mt-4 w-80 md:w-96 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden z-50 animate-in zoom-in-95 origin-top-right",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:d("nav:topBar.notifications")}),j>0&&t.jsxs("button",{onClick:K,className:"text-xs font-bold text-sky-600 hover:text-sky-700 dark:text-indigo-400 flex items-center gap-1 px-2 py-1 rounded-lg hover:bg-sky-50 dark:hover:bg-indigo-900/20 transition-colors",children:[t.jsx(Yo,{className:"w-3 h-3"})," ",d("nav:topBar.markAllRead")]})]}),t.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar",children:T?t.jsx("div",{className:"p-8 text-center text-slate-400",children:d("common:loading")}):x.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-3 text-slate-300",children:t.jsx(Au,{className:"w-6 h-6"})}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:d("nav:topBar.noNotifications")})]}):t.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:x.map(oe=>t.jsx("div",{className:`p-4 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800/50 cursor-pointer group ${Ce(oe.type,oe.unread)}`,onClick:()=>ue(oe),children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"mt-1 w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 bg-white dark:bg-slate-800 shadow-sm border border-slate-100 dark:border-slate-700",children:le(oe.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm ${oe.unread?"font-bold text-slate-900 dark:text-white":"font-medium text-slate-600 dark:text-slate-300"}`,children:oe.title}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 line-clamp-2 leading-relaxed",children:oe.message}),t.jsx("p",{className:"text-[10px] text-slate-400 mt-2 font-medium",children:new Date(oe.createdAt).toLocaleDateString()})]}),t.jsx("button",{onClick:je=>{je.stopPropagation(),ce(oe.id)},className:"self-start p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(qr,{className:"w-3 h-3"})})]})},oe.id))})}),t.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-800 text-center",children:t.jsxs("button",{onClick:()=>{m(!1),u("/announcements")},className:"text-xs font-bold text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 transition-colors flex items-center justify-center gap-1 w-full py-1",children:[d("nav:topBar.viewAllAnnouncements")," ",t.jsx(hc,{className:"w-3 h-3"})]})})]})]}),t.jsx("button",{onClick:n,className:"p-3 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 hover:text-amber-500 dark:hover:text-yellow-400 rounded-full transition-all duration-200 active:scale-95",children:r?t.jsx(nT,{size:20}):t.jsx(tE,{size:20})}),t.jsxs("div",{className:"relative ml-2",ref:z,children:[t.jsxs("button",{onClick:()=>f(!o),className:"flex items-center gap-3 pl-1 pr-2 py-1 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-full border border-slate-200 dark:border-slate-700 transition-all duration-200 active:scale-95",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center text-white shadow-md ring-2 ring-white dark:ring-slate-800 overflow-hidden",children:a.avatarUrl?t.jsx("img",{src:a.avatarUrl,alt:a.name,className:"w-full h-full object-cover"}):t.jsx("span",{className:"font-bold text-sm",children:a.name.charAt(0)})}),t.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 max-w-[80px] truncate hidden md:block",children:a.name})]}),o&&t.jsxs("div",{className:"absolute right-0 mt-4 w-64 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden z-50 animate-in zoom-in-95 origin-top-right",children:[t.jsxs("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:a.name}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:a.email}),a.isPremium&&t.jsx("div",{className:"mt-2 inline-flex items-center gap-1.5 px-2 py-1 bg-gradient-to-r from-amber-200 to-yellow-400 rounded-lg shadow-sm",children:t.jsxs("span",{className:"text-[10px] font-black text-yellow-900 uppercase tracking-wider flex items-center gap-1",children:[t.jsx(xf,{className:"w-3 h-3"})," ",d("nav:sidebar.premium")]})})]}),t.jsxs("div",{className:"p-2 space-y-1",children:[t.jsxs("button",{onClick:()=>Ne("Account"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[t.jsx(Xo,{size:16}),d("nav:userMenu.account")]}),t.jsxs("button",{onClick:()=>Ne("Billing"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[t.jsx(ip,{size:16}),d("nav:userMenu.billing")]})]}),t.jsx("div",{className:"p-2 border-t border-slate-100 dark:border-slate-800",children:t.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-bold text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t.jsx(qg,{size:16}),d("nav:userMenu.signOut")]})})]})]})]})]})})},aA=Object.create(null);aA.open="0";aA.close="1";aA.ping="2";aA.pong="3";aA.message="4";aA.upgrade="5";aA.noop="6";const N0=Object.create(null);Object.keys(aA).forEach(s=>{N0[aA[s]]=s});const iv={type:"error",data:"parser error"},k5=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",C5=typeof ArrayBuffer=="function",B5=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,ny=({type:s,data:e},r,n)=>k5&&e instanceof Blob?r?n(e):$w(e,n):C5&&(e instanceof ArrayBuffer||B5(e))?r?n(e):$w(new Blob([e]),n):n(aA[s]+(e||"")),$w=(s,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(s)};function Vw(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let db;function D6(s,e){if(k5&&s.data instanceof Blob)return s.data.arrayBuffer().then(Vw).then(e);if(C5&&(s.data instanceof ArrayBuffer||B5(s.data)))return e(Vw(s.data));ny(s,!1,r=>{db||(db=new TextEncoder),e(db.encode(r))})}const Kw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<Kw.length;s++)Vp[Kw.charCodeAt(s)]=s;const R6=s=>{let e=s.length*.75,r=s.length,n,a=0,l,u,d,A;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const o=new ArrayBuffer(e),f=new Uint8Array(o);for(n=0;n<r;n+=4)l=Vp[s.charCodeAt(n)],u=Vp[s.charCodeAt(n+1)],d=Vp[s.charCodeAt(n+2)],A=Vp[s.charCodeAt(n+3)],f[a++]=l<<2|u>>4,f[a++]=(u&15)<<4|d>>2,f[a++]=(d&3)<<6|A&63;return o},P6=typeof ArrayBuffer=="function",ay=(s,e)=>{if(typeof s!="string")return{type:"message",data:S5(s,e)};const r=s.charAt(0);return r==="b"?{type:"message",data:Q6(s.substring(1),e)}:N0[r]?s.length>1?{type:N0[r],data:s.substring(1)}:{type:N0[r]}:iv},Q6=(s,e)=>{if(P6){const r=R6(s);return S5(r,e)}else return{base64:!0,data:s}},S5=(s,e)=>{switch(e){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},E5="",_6=(s,e)=>{const r=s.length,n=new Array(r);let a=0;s.forEach((l,u)=>{ny(l,!1,d=>{n[u]=d,++a===r&&e(n.join(E5))})})},H6=(s,e)=>{const r=s.split(E5),n=[];for(let a=0;a<r.length;a++){const l=ay(r[a],e);if(n.push(l),l.type==="error")break}return n};function z6(){return new TransformStream({transform(s,e){D6(s,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const l=new DataView(a.buffer);l.setUint8(0,126),l.setUint16(1,n)}else{a=new Uint8Array(9);const l=new DataView(a.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(n))}s.data&&typeof s.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(r)})}})}let ub;function a0(s){return s.reduce((e,r)=>e+r.length,0)}function i0(s,e){if(s[0].length===e)return s.shift();const r=new Uint8Array(e);let n=0;for(let a=0;a<e;a++)r[a]=s[0][n++],n===s[0].length&&(s.shift(),n=0);return s.length&&n<s[0].length&&(s[0]=s[0].slice(n)),r}function $6(s,e){ub||(ub=new TextDecoder);const r=[];let n=0,a=-1,l=!1;return new TransformStream({transform(u,d){for(r.push(u);;){if(n===0){if(a0(r)<1)break;const A=i0(r,1);l=(A[0]&128)===128,a=A[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(a0(r)<2)break;const A=i0(r,2);a=new DataView(A.buffer,A.byteOffset,A.length).getUint16(0),n=3}else if(n===2){if(a0(r)<8)break;const A=i0(r,8),o=new DataView(A.buffer,A.byteOffset,A.length),f=o.getUint32(0);if(f>Math.pow(2,21)-1){d.enqueue(iv);break}a=f*Math.pow(2,32)+o.getUint32(4),n=3}else{if(a0(r)<a)break;const A=i0(r,a);d.enqueue(ay(l?A:ub.decode(A),e)),n=0}if(a===0||a>s){d.enqueue(iv);break}}}})}const T5=4;function Cl(s){if(s)return V6(s)}function V6(s){for(var e in Cl.prototype)s[e]=Cl.prototype[e];return s}Cl.prototype.on=Cl.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this};Cl.prototype.once=function(s,e){function r(){this.off(s,r),e.apply(this,arguments)}return r.fn=e,this.on(s,r),this};Cl.prototype.off=Cl.prototype.removeListener=Cl.prototype.removeAllListeners=Cl.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+s];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===e||n.fn===e){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+s],this};Cl.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+s],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,e)}return this};Cl.prototype.emitReserved=Cl.prototype.emit;Cl.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};Cl.prototype.hasListeners=function(s){return!!this.listeners(s).length};const ax=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),du=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),K6="arraybuffer";function U5(s,...e){return e.reduce((r,n)=>(s.hasOwnProperty(n)&&(r[n]=s[n]),r),{})}const G6=du.setTimeout,W6=du.clearTimeout;function ix(s,e){e.useNativeTimers?(s.setTimeoutFn=G6.bind(du),s.clearTimeoutFn=W6.bind(du)):(s.setTimeoutFn=du.setTimeout.bind(du),s.clearTimeoutFn=du.clearTimeout.bind(du))}const Y6=1.33;function X6(s){return typeof s=="string"?J6(s):Math.ceil((s.byteLength||s.size)*Y6)}function J6(s){let e=0,r=0;for(let n=0,a=s.length;n<a;n++)e=s.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function F5(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Z6(s){let e="";for(let r in s)s.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(s[r]));return e}function q6(s){let e={},r=s.split("&");for(let n=0,a=r.length;n<a;n++){let l=r[n].split("=");e[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return e}class eU extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class iy extends Cl{constructor(e){super(),this.writable=!1,ix(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new eU(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=ay(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=Z6(e);return r.length?"?"+r:""}}class tU extends iy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};H6(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,_6(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=F5()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let L5=!1;try{L5=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const sU=L5;function rU(){}class nU extends tU{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(a,l)=>{this.onError("xhr post error",a,l)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class sA extends Cl{constructor(e,r,n){super(),this.createRequest=e,ix(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=U5(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=sA.requestsCount++,sA.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=rU,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete sA.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}sA.requestsCount=0;sA.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Gw);else if(typeof addEventListener=="function"){const s="onpagehide"in du?"pagehide":"unload";addEventListener(s,Gw,!1)}}function Gw(){for(let s in sA.requests)sA.requests.hasOwnProperty(s)&&sA.requests[s].abort()}const aU=(function(){const s=M5({xdomain:!1});return s&&s.responseType!==null})();class iU extends nU{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=aU&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new sA(M5,this.uri(),e)}}function M5(s){const e=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||sU))return new XMLHttpRequest}catch{}if(!e)try{return new du[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const O5=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class oU extends iy{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=O5?{}:U5(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],a=r===e.length-1;ny(n,this.supportsBinary,l=>{try{this.doWrite(n,l)}catch{}a&&ax(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=F5()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const Ab=du.WebSocket||du.MozWebSocket;let lU=class extends oU{createSocket(e,r,n){return O5?new Ab(e,r,n):r?new Ab(e,r):new Ab(e)}doWrite(e,r){this.ws.send(r)}};class cU extends iy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=$6(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),a=z6();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const l=()=>{n.read().then(({done:d,value:A})=>{d||(this.onPacket(A),l())}).catch(d=>{})};l();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],a=r===e.length-1;this._writer.write(n).then(()=>{a&&ax(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const dU={websocket:lU,webtransport:cU,polling:iU},uU=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,AU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ov(s){if(s.length>8e3)throw"URI too long";const e=s,r=s.indexOf("["),n=s.indexOf("]");r!=-1&&n!=-1&&(s=s.substring(0,r)+s.substring(r,n).replace(/:/g,";")+s.substring(n,s.length));let a=uU.exec(s||""),l={},u=14;for(;u--;)l[AU[u]]=a[u]||"";return r!=-1&&n!=-1&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=hU(l,l.path),l.queryKey=fU(l,l.query),l}function hU(s,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function fU(s,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,l){a&&(r[a]=l)}),r}const lv=typeof addEventListener=="function"&&typeof removeEventListener=="function",k0=[];lv&&addEventListener("offline",()=>{k0.forEach(s=>s())},!1);class Eh extends Cl{constructor(e,r){if(super(),this.binaryType=K6,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=ov(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=ov(r.host).host);ix(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=q6(this.opts.query)),lv&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},k0.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=T5,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Eh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Eh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=X6(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ax(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const l={type:e,data:r,options:n};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Eh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),lv&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=k0.indexOf(this._offlineEventListener);n!==-1&&k0.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}Eh.protocol=T5;class pU extends Eh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;Eh.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Eh.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function l(){n||(n=!0,f(),r.close(),r=null)}const u=p=>{const m=new Error("probe error: "+p);m.transport=r.name,l(),this.emitReserved("upgradeError",m)};function d(){u("transport closed")}function A(){u("socket closed")}function o(p){r&&p.name!==r.name&&l()}const f=()=>{r.removeListener("open",a),r.removeListener("error",u),r.removeListener("close",d),this.off("close",A),this.off("upgrading",o)};r.once("open",a),r.once("error",u),r.once("close",d),this.once("close",A),this.once("upgrading",o),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let mU=class extends pU{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>dU[a]).filter(a=>!!a)),super(e,n)}};function gU(s,e="",r){let n=s;r=r||typeof location<"u"&&location,s==null&&(s=r.protocol+"//"+r.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=r.protocol+s:s=r.host+s),/^(https?|wss?):\/\//.test(s)||(typeof r<"u"?s=r.protocol+"//"+s:s="https://"+s),n=ov(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const l=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+l+":"+n.port+e,n.href=n.protocol+"://"+l+(r&&r.port===n.port?"":":"+n.port),n}const xU=typeof ArrayBuffer=="function",bU=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,I5=Object.prototype.toString,vU=typeof Blob=="function"||typeof Blob<"u"&&I5.call(Blob)==="[object BlobConstructor]",yU=typeof File=="function"||typeof File<"u"&&I5.call(File)==="[object FileConstructor]";function oy(s){return xU&&(s instanceof ArrayBuffer||bU(s))||vU&&s instanceof Blob||yU&&s instanceof File}function C0(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let r=0,n=s.length;r<n;r++)if(C0(s[r]))return!0;return!1}if(oy(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return C0(s.toJSON(),!0);for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&C0(s[r]))return!0;return!1}function wU(s){const e=[],r=s.data,n=s;return n.data=cv(r,e),n.attachments=e.length,{packet:n,buffers:e}}function cv(s,e){if(!s)return s;if(oy(s)){const r={_placeholder:!0,num:e.length};return e.push(s),r}else if(Array.isArray(s)){const r=new Array(s.length);for(let n=0;n<s.length;n++)r[n]=cv(s[n],e);return r}else if(typeof s=="object"&&!(s instanceof Date)){const r={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=cv(s[n],e));return r}return s}function jU(s,e){return s.data=dv(s.data,e),delete s.attachments,s}function dv(s,e){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<e.length)return e[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let r=0;r<s.length;r++)s[r]=dv(s[r],e);else if(typeof s=="object")for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(s[r]=dv(s[r],e));return s}const D5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],NU=5;var Aa;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(Aa||(Aa={}));class kU{constructor(e){this.replacer=e}encode(e){return(e.type===Aa.EVENT||e.type===Aa.ACK)&&C0(e)?this.encodeAsBinary({type:e.type===Aa.EVENT?Aa.BINARY_EVENT:Aa.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Aa.BINARY_EVENT||e.type===Aa.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=wU(e),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}class ly extends Cl{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Aa.BINARY_EVENT;n||r.type===Aa.BINARY_ACK?(r.type=n?Aa.EVENT:Aa.ACK,this.reconstructor=new CU(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(oy(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Aa[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Aa.BINARY_EVENT||n.type===Aa.BINARY_ACK){const l=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const u=e.substring(l,r);if(u!=Number(u)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(u)}if(e.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(l,r)}else n.nsp="/";const a=e.charAt(r+1);if(a!==""&&Number(a)==a){const l=r+1;for(;++r;){const u=e.charAt(r);if(u==null||Number(u)!=u){--r;break}if(r===e.length)break}n.id=Number(e.substring(l,r+1))}if(e.charAt(++r)){const l=this.tryParse(e.substr(r));if(ly.isPayloadValid(n.type,l))n.data=l;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Aa.CONNECT:return J0(r);case Aa.DISCONNECT:return r===void 0;case Aa.CONNECT_ERROR:return typeof r=="string"||J0(r);case Aa.EVENT:case Aa.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&D5.indexOf(r[0])===-1);case Aa.ACK:case Aa.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class CU{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=jU(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function BU(s){return typeof s=="string"}const SU=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s};function EU(s){return s===void 0||SU(s)}function J0(s){return Object.prototype.toString.call(s)==="[object Object]"}function TU(s,e){switch(s){case Aa.CONNECT:return e===void 0||J0(e);case Aa.DISCONNECT:return e===void 0;case Aa.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&D5.indexOf(e[0])===-1);case Aa.ACK:return Array.isArray(e);case Aa.CONNECT_ERROR:return typeof e=="string"||J0(e);default:return!1}}function UU(s){return BU(s.nsp)&&EU(s.id)&&TU(s.type,s.data)}const FU=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ly,Encoder:kU,get PacketType(){return Aa},isPacketValid:UU,protocol:NU},Symbol.toStringTag,{value:"Module"}));function Tu(s,e,r){return s.on(e,r),function(){s.off(e,r)}}const LU=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class R5 extends Cl{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Tu(e,"open",this.onopen.bind(this)),Tu(e,"packet",this.onpacket.bind(this)),Tu(e,"error",this.onerror.bind(this)),Tu(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,a,l;if(LU.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const u={type:Aa.EVENT,data:r};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,p=r.pop();this._registerAckCallback(f,p),u.id=f}const d=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,A=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!d||(A?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[e]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===e&&this.sendBuffer.splice(d,1);r.call(this,new Error("operation has timed out"))},a),u=(...d)=>{this.io.clearTimeoutFn(l),r.apply(this,d)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...r){return new Promise((n,a)=>{const l=(u,d)=>u?a(u):n(d);l.withError=!0,r.push(l),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...l)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...l)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Aa.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Aa.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Aa.EVENT:case Aa.BINARY_EVENT:this.onevent(e);break;case Aa.ACK:case Aa.BINARY_ACK:this.onack(e);break;case Aa.DISCONNECT:this.ondisconnect();break;case Aa.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:Aa.ACK,id:e,data:a}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Aa.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function wp(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}wp.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*s);s=(Math.floor(e*10)&1)==0?s-r:s+r}return Math.min(s,this.max)|0};wp.prototype.reset=function(){this.attempts=0};wp.prototype.setMin=function(s){this.ms=s};wp.prototype.setMax=function(s){this.max=s};wp.prototype.setJitter=function(s){this.jitter=s};class uv extends Cl{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,ix(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new wp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const a=r.parser||FU;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new mU(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Tu(r,"open",function(){n.onopen(),e&&e()}),l=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),e?e(d):this.maybeReconnectOnOpen()},u=Tu(r,"error",l);if(this._timeout!==!1){const d=this._timeout,A=this.setTimeoutFn(()=>{a(),l(new Error("timeout")),r.close()},d);this.opts.autoUnref&&A.unref(),this.subs.push(()=>{this.clearTimeoutFn(A)})}return this.subs.push(a),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Tu(e,"ping",this.onping.bind(this)),Tu(e,"data",this.ondata.bind(this)),Tu(e,"error",this.onerror.bind(this)),Tu(e,"close",this.onclose.bind(this)),Tu(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){ax(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new R5(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Pp={};function qp(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const r=gU(s,e.path||"/socket.io"),n=r.source,a=r.id,l=r.path,u=Pp[a]&&l in Pp[a].nsps,d=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let A;return d?A=new uv(n,e):(Pp[a]||(Pp[a]=new uv(n,e)),A=Pp[a]),r.query&&!e.query&&(e.query=r.queryKey),A.socket(r.path,e)}Object.assign(qp,{Manager:uv,Socket:R5,io:qp,connect:qp});const P5=W.createContext(null),MU=({children:s,userId:e,isAuthenticated:r})=>{const[n,a]=W.useState(null),[l,u]=W.useState(!1),d=W.useRef(null);W.useEffect(()=>{if(!r||!e){d.current&&(d.current.disconnect(),d.current=null,a(null),u(!1));return}const Q=qp(It,{withCredentials:!0,transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3});return d.current=Q,a(Q),Q.on("connect",()=>{console.log(" Socket connected:",Q.id),u(!0)}),Q.on("disconnect",K=>{console.log(" Socket disconnected:",K),u(!1)}),Q.on("connect_error",K=>{console.error(" Socket connection error:",K),u(!1)}),Q.on("connected",K=>{console.log(" Authenticated connection:",K)}),Q.on("error",K=>{console.error(" Socket error:",K.message)}),()=>{console.log(" Cleaning up socket connection"),Q.disconnect(),d.current=null}},[r,e]);const A=W.useCallback(Q=>{var K;(K=d.current)!=null&&K.connected&&d.current.emit("join_ticket",{ticketId:Q})},[]),o=W.useCallback(Q=>{var K;(K=d.current)!=null&&K.connected&&d.current.emit("leave_ticket",{ticketId:Q})},[]),f=W.useCallback((Q,K)=>{var ce;(ce=d.current)!=null&&ce.connected&&d.current.emit("ticket_message",{ticketId:Q,content:K})},[]),p=W.useCallback((Q,K)=>{var ce;(ce=d.current)!=null&&ce.connected&&d.current.emit("ticket_typing",{ticketId:Q,isTyping:K})},[]),m=W.useCallback((Q,K,ce,ue)=>{var Ne;(Ne=d.current)!=null&&Ne.connected&&d.current.emit("admin_message",{recipientId:Q,isBroadcast:Q===null,content:K,subject:ce,priority:ue||"normal"})},[]),x=W.useCallback(Q=>K=>d.current?(d.current.on(Q,K),()=>{var ce;(ce=d.current)==null||ce.off(Q,K)}):()=>{},[]),b=W.useCallback(x("new_ticket_message"),[x]),j=W.useCallback(x("ticket_activity"),[x]),y=W.useCallback(x("user_typing"),[x]),T=W.useCallback(x("new_admin_message"),[x]),R=W.useCallback(x("new_ticket"),[x]),z=W.useCallback(x("ticket_accepted"),[x]),X=W.useCallback(x("ticket_resolved"),[x]),Y={socket:n,isConnected:l,joinTicket:A,leaveTicket:o,sendTicketMessage:f,sendTypingStatus:p,sendAdminMessage:m,onNewTicketMessage:b,onTicketActivity:j,onUserTyping:y,onNewAdminMessage:T,onNewTicket:R,onTicketAccepted:z,onTicketResolved:X};return t.jsx(P5.Provider,{value:Y,children:s})},Um=()=>{const s=W.useContext(P5);if(!s)throw new Error("useSocket must be used within a SocketProvider");return s},Z0={getTickets:async()=>{const e=await(await fetch(`${It}/api/tickets/user`,{credentials:"include"})).json();return e.success?e.tickets:[]},getTicketDetail:async s=>{const r=await(await fetch(`${It}/api/tickets/user/${s}`,{credentials:"include"})).json();return r.success?{ticket:r.ticket,messages:r.messages}:null},createTicket:async(s,e,r,n)=>(await fetch(`${It}/api/tickets/user`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({subject:s,category:e,priority:r,message:n})})).json(),closeTicket:async s=>(await fetch(`${It}/api/tickets/user/${s}/close`,{method:"POST",credentials:"include"})).json()},Q5=({status:s})=>{const e={pending:{color:"yellow",icon:t.jsx(Vi,{className:"w-3 h-3"}),label:"Waiting"},accepted:{color:"blue",icon:t.jsx(Bo,{className:"w-3 h-3"}),label:"Accepted"},in_progress:{color:"indigo",icon:t.jsx(mu,{className:"w-3 h-3"}),label:"In Progress"},resolved:{color:"green",icon:t.jsx(Bo,{className:"w-3 h-3"}),label:"Resolved"},expired:{color:"red",icon:t.jsx(qo,{className:"w-3 h-3"}),label:"Expired"},closed:{color:"slate",icon:t.jsx(qr,{className:"w-3 h-3"}),label:"Closed"}},{color:r,icon:n,label:a}=e[s]||e.pending,l={yellow:"bg-yellow-100 text-yellow-700",blue:"bg-blue-100 text-blue-700",indigo:"bg-indigo-100 text-indigo-700",green:"bg-green-100 text-green-700",red:"bg-red-100 text-red-700",slate:"bg-slate-100 text-slate-700"};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${l[r]}`,children:[n,a]})},OU=({category:s})=>{const e={general:t.jsx(z0,{className:"w-5 h-5"}),billing:t.jsx(ip,{className:"w-5 h-5"}),technical:t.jsx(Tm,{className:"w-5 h-5"}),feedback:t.jsx(Mh,{className:"w-5 h-5"})};return t.jsx(t.Fragment,{children:e[s]||e.general})},_5=s=>{if(s<=0)return"Expired";const e=Math.floor(s/3600),r=Math.floor(s%3600/60);return e>0?`${e}h ${r}m remaining`:`${r}m remaining`},IU=()=>{const s=$l(),{onTicketAccepted:e,onTicketResolved:r,isConnected:n}=Um(),[a,l]=W.useState([]),[u,d]=W.useState(!0),[A,o]=W.useState(!1);W.useEffect(()=>{f()},[]),W.useEffect(()=>{const p=e(x=>{l(b=>b.map(j=>j.id===x.ticketId?{...j,status:"accepted",assignedAdminName:x.adminName}:j))}),m=r(x=>{l(b=>b.map(j=>j.id===x.ticketId?{...j,status:"resolved"}:j))});return()=>{p(),m()}},[e,r]);const f=async()=>{d(!0);const p=await Z0.getTickets();l(p),d(!1)};return u?t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Fr,{className:"w-8 h-8 animate-spin text-blue-500"})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Support Tickets"}),t.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs ${n?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[n?t.jsx(yp,{className:"w-3 h-3"}):t.jsx(vp,{className:"w-3 h-3"}),n?"Live":"Offline"]})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Get help from our support team"})]}),t.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:[t.jsx($i,{className:"w-4 h-4"}),"New Ticket"]})]}),a.length===0?t.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800",children:[t.jsx(mu,{className:"w-16 h-16 text-slate-200 dark:text-slate-700 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No tickets yet"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Create a ticket to get support from our team"}),t.jsx("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:"Create Your First Ticket"})]}):t.jsx("div",{className:"space-y-3",children:a.map(p=>t.jsx("div",{onClick:()=>s(`/support/${p.id}`),className:"bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-200 dark:border-slate-800 hover:shadow-lg hover:-translate-y-0.5 transition-all cursor-pointer group",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${p.status==="expired"?"bg-red-100 text-red-600":p.status==="resolved"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:t.jsx(OU,{category:p.category})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Q5,{status:p.status}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",p.id]})]}),t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white group-hover:text-blue-600 transition-colors truncate",children:p.subject}),p.lastMessage&&t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate mt-1",children:[p.lastMessage.senderType==="admin"?" ":"",p.lastMessage.text]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-400",children:[t.jsx("span",{children:p.createdAt}),p.status==="pending"&&!p.isExpired&&t.jsxs("span",{className:"flex items-center gap-1 text-orange-500",children:[t.jsx(qb,{className:"w-3 h-3"}),_5(p.timeRemaining)]})]})]}),t.jsx(hc,{className:"w-5 h-5 text-slate-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all self-center"})]})},p.id))}),A&&t.jsx(DU,{onClose:()=>o(!1),onCreated:()=>{o(!1),f()}})]})},DU=({onClose:s,onCreated:e})=>{const[r,n]=W.useState(""),[a,l]=W.useState("general"),[u,d]=W.useState("normal"),[A,o]=W.useState(""),[f,p]=W.useState(!1),[m,x]=W.useState(""),b=async()=>{if(!r.trim()||!A.trim()){x("Please fill in all required fields");return}p(!0),x("");const j=await Z0.createTicket(r,a,u,A);j.success?e():x(j.error||"Failed to create ticket"),p(!1)};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Create Support Ticket"}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:t.jsx(qr,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"p-6 space-y-5",children:[m&&t.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-xl text-sm",children:m}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Subject *"}),t.jsx("input",{type:"text",value:r,onChange:j=>n(j.target.value),placeholder:"Brief description of your issue",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"general",label:"General",icon:t.jsx(z0,{className:"w-4 h-4"})},{id:"billing",label:"Billing",icon:t.jsx(ip,{className:"w-4 h-4"})},{id:"technical",label:"Technical",icon:t.jsx(Tm,{className:"w-4 h-4"})},{id:"feedback",label:"Feedback",icon:t.jsx(Mh,{className:"w-4 h-4"})}].map(j=>t.jsxs("button",{type:"button",onClick:()=>l(j.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl border transition-colors ${a===j.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[j.icon,j.label]},j.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:u,onChange:j=>d(j.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"normal",children:"Normal"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"urgent",children:"Urgent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description *"}),t.jsx("textarea",{value:A,onChange:j=>o(j.target.value),placeholder:"Please describe your issue in detail...",rows:4,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Vi,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),t.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-400",children:[t.jsx("p",{className:"font-medium",children:"24-Hour Response Window"}),t.jsx("p",{className:"mt-1 opacity-80",children:"Your ticket will be active for 24 hours. If not resolved within this time, it will expire automatically."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-800 flex gap-3",children:[t.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl font-medium hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:b,disabled:f,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:f?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx($i,{className:"w-4 h-4"}),"Create Ticket"]})})]})]})})},RU=()=>{const{id:s}=Gg(),e=$l(),r=W.useRef(null),n=W.useRef(null),{isConnected:a,joinTicket:l,leaveTicket:u,sendTicketMessage:d,sendTypingStatus:A,onNewTicketMessage:o,onUserTyping:f,onTicketAccepted:p,onTicketResolved:m}=Um(),[x,b]=W.useState(null),[j,y]=W.useState([]),[T,R]=W.useState(!0),[z,X]=W.useState(""),[Y,Q]=W.useState(!1),[K,ce]=W.useState(null),ue=W.useRef();W.useEffect(()=>{s&&Ne()},[s]),W.useEffect(()=>{if(s&&a)return l(Number(s)),()=>{u(Number(s))}},[s,a,l,u]),W.useEffect(()=>{const se=o(pe=>{pe.ticketId===Number(s)&&(y(re=>re.some(Ee=>Ee.id===pe.id)?re:[...re,pe]),ce(null))});return()=>se()},[s,o]),W.useEffect(()=>{const se=f(pe=>{pe.ticketId===Number(s)&&pe.isAdmin&&(pe.isTyping?ce(pe.userName):ce(null))});return()=>se()},[s,f]),W.useEffect(()=>{const se=p(re=>{re.ticketId===Number(s)&&b(Ee=>Ee&&{...Ee,status:"accepted",assignedAdminName:re.adminName})}),pe=m(re=>{re.ticketId===Number(s)&&b(Ee=>Ee&&{...Ee,status:"resolved"})});return()=>{se(),pe()}},[s,p,m]),W.useEffect(()=>{le()},[j,K]);const Ne=async()=>{R(!0);const se=await Z0.getTicketDetail(Number(s));se&&(b(se.ticket),y(se.messages)),R(!1)},le=()=>{var se;(se=r.current)==null||se.scrollIntoView({behavior:"smooth"})},Ce=W.useCallback(()=>{var se;!z.trim()||!x||!a||(Q(!0),d(x.id,z.trim()),X(""),Q(!1),(se=n.current)==null||se.focus(),A(x.id,!1))},[z,x,a,d,A]),oe=se=>{X(se.target.value),x&&a&&(A(x.id,!0),ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{A(x.id,!1)},2e3))},je=async()=>{if(!x||!confirm("Are you sure you want to close this ticket?"))return;(await Z0.closeTicket(x.id)).success&&Ne()};if(T)return t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Fr,{className:"w-8 h-8 animate-spin text-blue-500"})});if(!x)return t.jsxs("div",{className:"text-center py-16",children:[t.jsx("p",{className:"text-slate-500",children:"Ticket not found"}),t.jsx("button",{onClick:()=>e("/support"),className:"mt-4 text-blue-600",children:"Back to tickets"})]});const Ae=["accepted","in_progress"].includes(x.status);return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)] max-w-4xl mx-auto",children:[t.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>e("/support"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:t.jsx(rA,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Q5,{status:x.status}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",x.id]}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${a?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[a?t.jsx(yp,{className:"w-3 h-3"}):t.jsx(vp,{className:"w-3 h-3"}),a?"Live":"Reconnecting..."]})]}),t.jsx("h1",{className:"font-bold text-slate-900 dark:text-white truncate",children:x.subject})]}),x.status!=="closed"&&x.status!=="expired"&&t.jsx("button",{onClick:je,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:"Close Ticket"})]}),x.status==="pending"&&t.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl text-sm text-yellow-700 dark:text-yellow-400",children:[t.jsx("p",{children:" Waiting for an admin to accept your ticket..."}),t.jsx("p",{className:"text-xs mt-1 opacity-80",children:_5(x.timeRemaining)})]}),x.assignedAdminName&&t.jsxs("div",{className:"mt-3 text-sm text-slate-500",children:["Assigned to: ",t.jsx("span",{className:"font-medium",children:x.assignedAdminName})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-950",children:[j.map(se=>t.jsx("div",{className:`flex ${se.senderType==="user"?"justify-end":"justify-start"}`,children:se.senderType==="system"?t.jsx("div",{className:"text-center text-xs text-slate-400 py-2 w-full",children:se.content}):t.jsxs("div",{className:`max-w-[80%] ${se.senderType==="user"?"order-1":""}`,children:[t.jsx("div",{className:`px-4 py-3 rounded-2xl ${se.senderType==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white dark:bg-slate-800 rounded-bl-md"}`,children:t.jsx("p",{className:"text-sm",children:se.content})}),t.jsxs("div",{className:`flex items-center gap-2 mt-1 text-xs text-slate-400 ${se.senderType==="user"?"justify-end":""}`,children:[t.jsx("span",{children:se.senderName}),t.jsx("span",{children:""}),t.jsx("span",{children:new Date(se.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},se.id)),K&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[K," is typing..."]})]})})}),t.jsx("div",{ref:r})]}),Ae?t.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{ref:n,type:"text",value:z,onChange:oe,onKeyDown:se=>se.key==="Enter"&&!se.shiftKey&&Ce(),placeholder:a?"Type your message...":"Connecting...",disabled:!a,className:"flex-1 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:Ce,disabled:Y||!z.trim()||!a,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:Y?t.jsx(Fr,{className:"w-5 h-5 animate-spin"}):t.jsx(Sh,{className:"w-5 h-5"})})]})}):t.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 text-center text-sm text-slate-500",children:x.status==="pending"?"You can send messages once an admin accepts your ticket":"This ticket is closed"})]})},PU=({isPremium:s})=>{const e=$l(),{i18n:r}=Eo(),[n,a]=W.useState([]),[l,u]=W.useState(0),[d,A]=W.useState(!0),[o,f]=W.useState(!1);W.useEffect(()=>{s||p()},[s]),W.useEffect(()=>{if(n.length===0||s)return;m(n[l].id);const X=setInterval(()=>{u(Y=>(Y+1)%n.length)},3e4);return()=>clearInterval(X)},[n,l,s]);const p=async()=>{try{const X=await fetch(`${It}/api/advertisements/active`);if(X.ok){const Y=await X.json();Y.length>0?(a(Y),f(!1)):(a([]),f(!0))}else a([]),f(!0)}catch(X){console.error("Error fetching advertisements:",X),a([]),f(!0)}},m=async X=>{try{await fetch(`${It}/api/advertisements/${X}/view`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(Y){console.error("Error recording view:",Y)}},x=async X=>{try{await fetch(`${It}/api/advertisements/${X}/click`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(Y){console.error("Error recording click:",Y)}},b=X=>{x(X.id),window.open(X.link,"_blank","noopener,noreferrer")},j=()=>{A(!1),sessionStorage.setItem("adDismissed","true")},y=X=>{const Y=r.language;let Q=X.title,K=X.description;return Y==="zh"&&X.title_zh?(Q=X.title_zh,K=X.description_zh||K):Y==="ms"&&X.title_ms&&(Q=X.title_ms,K=X.description_ms||K),{title:Q,description:K}};if(s||!d||sessionStorage.getItem("adDismissed")==="true")return null;const T=n.length>0?n[l]:null,{title:R,description:z}=T?y(T):{title:"",description:""};return t.jsxs("div",{className:"relative bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-6 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out overflow-hidden group",children:[t.jsx("button",{onClick:j,className:"absolute top-4 right-4 z-10 p-2 bg-white/80 dark:bg-slate-800/80 hover:bg-white dark:hover:bg-slate-800 rounded-full transition-colors shadow-sm",title:"Dismiss ad",children:t.jsx(qr,{size:16,className:"text-slate-600 dark:text-slate-400"})}),o?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-4",children:t.jsx(Ia,{size:32,className:"text-slate-400 dark:text-slate-500"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2 text-center",children:""}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center",children:""})]}):T?t.jsxs("div",{onClick:()=>b(T),className:"cursor-pointer",children:[T.imageUrl&&t.jsx("div",{className:"mb-4 rounded-2xl overflow-hidden",children:t.jsx("img",{src:`${It}${T.imageUrl}`,alt:T.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"flex items-start justify-between gap-2",children:t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:R})}),z&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2",children:z}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium",children:"Sponsored"}),n.length>1&&t.jsx("div",{className:"flex gap-1",children:n.map((X,Y)=>t.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${Y===l?"bg-sky-600 dark:bg-indigo-400 w-4":"bg-slate-300 dark:bg-slate-600"}`},Y))})]})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsx("div",{className:"w-10 h-10 border-4 border-slate-200 dark:border-slate-700 border-t-sky-600 dark:border-t-indigo-600 rounded-full animate-spin mb-4"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"..."})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:["Upgrade to Premium to remove ads "," ",t.jsx("button",{onClick:()=>e("/billing"),className:"text-sky-600 dark:text-indigo-400 hover:underline font-medium cursor-pointer bg-transparent border-none p-0 inline",children:"Learn more"})]})})]})},hb=({title:s,value:e,badgeText:r,badgeColor:n="default",icon:a})=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-5 shadow-sm border border-transparent hover:border-sky-400 dark:hover:border-indigo-400 transition-all duration-300 ease-out group relative overflow-hidden hover:-translate-y-2 hover:scale-105 hover:shadow-2xl hover:shadow-sky-100 dark:hover:shadow-indigo-900/20",children:[t.jsxs("div",{className:"flex justify-between items-start mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-700/50 flex items-center justify-center text-slate-600 dark:text-slate-300 group-hover:bg-sky-50 group-hover:text-sky-600 dark:group-hover:bg-indigo-500/20 dark:group-hover:text-indigo-400 transition-colors",children:a}),r&&t.jsx("span",{className:`
          text-[10px] font-bold uppercase tracking-wider px-2.5 py-1 rounded-full
          ${n==="green"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/10 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}
        `,children:r})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:e})]})]}),QU=({appointment:s})=>{const e=new Date(s.date),r=()=>{switch(s.type){case"flight":return t.jsx(nA,{className:"w-4 h-4"});case"activity":return t.jsx(Wd,{className:"w-4 h-4"});case"stay":return t.jsx(nS,{className:"w-4 h-4"});default:return t.jsx(Vi,{className:"w-4 h-4"})}},n=s.status==="confirmed"?"bg-emerald-500":"bg-amber-500",a=s.status==="confirmed"?"bg-emerald-50 dark:bg-emerald-500/10":"bg-amber-50 dark:bg-amber-500/10",l=s.status==="confirmed"?"text-emerald-700 dark:text-emerald-400":"text-amber-700 dark:text-amber-400";return t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 hover:shadow-2xl hover:shadow-sky-100 dark:hover:shadow-indigo-900/20 transition-all duration-300 ease-out group cursor-pointer hover:-translate-y-1 hover:scale-[1.02]",children:[t.jsxs("div",{className:`flex flex-col items-center justify-center w-14 h-14 rounded-2xl ${a} relative overflow-hidden flex-shrink-0 transition-transform group-hover:scale-110 duration-300`,children:[t.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${n}`}),t.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${l} mb-0.5`,children:e.toLocaleString("en-US",{month:"short"})}),t.jsx("span",{className:`text-xl font-bold ${s.status==="confirmed"?"text-emerald-900 dark:text-emerald-200":"text-amber-900 dark:text-amber-200"}`,children:e.getDate()})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-base font-bold text-slate-900 dark:text-white truncate group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:s.title}),t.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-sm font-medium text-slate-500 dark:text-slate-400",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Vi,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.location&&t.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[t.jsx(Jo,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"truncate",children:s.location})]})]})]}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-700/50 flex items-center justify-center text-slate-400 dark:text-slate-500 group-hover:bg-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 dark:group-hover:bg-slate-700 transition-all shadow-sm group-hover:scale-110 group-hover:rotate-12",children:r()})]})},_U=({user:s})=>{var f;const e=$l(),{t:r}=Eo("dashboard"),[n,a]=W.useState({upcomingTrips:0,countriesVisited:0,savedItineraries:0,nextTrip:null,upcomingAppointments:[],savedDrafts:[]}),[l,u]=W.useState(!0);W.useEffect(()=>{d()},[]);const d=async()=>{try{const p=await fetch(`${It}/api/user/dashboard`,{credentials:"include"});if(p.ok){const m=await p.json();a(m)}}catch(p){console.error("Error fetching dashboard data:",p)}finally{u(!1)}};if(!s)return t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("div",{className:"text-slate-500",children:"Loading user data..."})});if(l)return t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-sky-600"})});const A=n.nextTrip?r("nextTrip.badge",{destination:n.nextTrip.destination.toUpperCase(),days:n.nextTrip.daysUntil}):r("nextTrip.badgeEmpty"),o=n.nextTrip?r("nextTrip.countdown",{destination:n.nextTrip.destination,days:n.nextTrip.daysUntil}):r("nextTrip.empty");return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-8 animate-fade-in-up",children:[t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 relative overflow-hidden shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-br from-white/40 to-transparent dark:from-indigo-500/10 dark:to-transparent rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-6 mb-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight mb-2",children:r("title")}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-lg",children:o})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>e("/trips"),className:"px-5 py-3 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-xl text-sm font-bold hover:bg-slate-50 dark:hover:bg-slate-700 transition-all shadow-sm active:scale-95 border border-transparent hover:border-slate-300 dark:hover:border-slate-500 hover:-translate-y-1 hover:shadow-md",children:r("viewAllTrips")}),t.jsxs("button",{onClick:()=>e("/chat"),className:"px-5 py-3 bg-sky-600 dark:bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-all shadow-lg shadow-sky-600/30 dark:shadow-indigo-600/30 flex items-center gap-2 active:scale-95 hover:-translate-y-1 hover:shadow-xl",children:[t.jsx(Ao,{className:"w-4 h-4"}),r("startAiPlanning")]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(hb,{title:r("stats.upcomingTrips"),value:n.upcomingTrips.toString(),badgeText:A,icon:t.jsx(nA,{className:"w-5 h-5"})}),t.jsx(hb,{title:r("stats.countriesVisited"),value:n.countriesVisited.toString(),badgeText:r("badges.explored"),badgeColor:"green",icon:t.jsx(hm,{className:"w-5 h-5"})}),t.jsx(hb,{title:r("stats.savedItineraries"),value:n.savedItineraries.toString(),badgeText:r("badges.ready"),badgeColor:"green",icon:t.jsx(V0,{className:"w-5 h-5"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 h-fit shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:r("upcomingItinerary.title")}),t.jsx("button",{onClick:()=>e("/calendar"),className:"text-sm text-sky-600 hover:text-sky-500 dark:text-indigo-400 dark:hover:text-indigo-300 font-bold hover:underline",children:r("upcomingItinerary.viewFull")})]}),t.jsx("div",{className:"space-y-4",children:n.upcomingAppointments.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("upcomingItinerary.empty")}),t.jsx("button",{onClick:()=>e("/chat"),className:"mt-4 text-sky-600 dark:text-indigo-400 hover:underline font-medium",children:r("upcomingItinerary.planFirst")})]}):n.upcomingAppointments.map((p,m)=>t.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${(m+1)*100}ms`},children:t.jsx(QU,{appointment:p})},p.id))})]}),t.jsxs("div",{className:"space-y-8 animate-fade-in-up",style:{animationDelay:"300ms"},children:[t.jsx(PU,{isPremium:((f=s.subscription)==null?void 0:f.status)==="active"||s.isPremium||!1}),t.jsxs("div",{className:"bg-gradient-to-b from-sky-500 to-blue-600 dark:from-indigo-600 dark:to-violet-700 rounded-[2.5rem] p-8 relative overflow-hidden shadow-xl shadow-sky-500/20 dark:shadow-indigo-500/20 group text-center border border-transparent hover:border-white/50 transition-all duration-300 hover:-translate-y-2 hover:scale-[1.02] hover:shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 dark:bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none group-hover:scale-125 transition-transform duration-700"}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-2 relative z-10 tracking-tight",children:r("tripIdea.title")}),t.jsx("p",{className:"text-sky-100 dark:text-indigo-100 font-medium leading-relaxed mb-8 relative z-10 px-4",children:r("tripIdea.description")}),t.jsx("div",{className:"relative z-10",children:t.jsx("button",{onClick:()=>e("/chat"),className:"w-full py-3.5 bg-white text-sky-600 hover:bg-sky-50 dark:bg-white/10 dark:backdrop-blur-md dark:text-white dark:hover:bg-white/20 text-sm font-bold rounded-xl transition-all shadow-lg active:scale-95 border border-transparent hover:border-sky-100 hover:shadow-xl hover:-translate-y-1",children:r("tripIdea.button")})})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:r("savedDrafts.title")}),t.jsx("div",{className:"space-y-3",children:n.savedDrafts.length===0?t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-4",children:r("savedDrafts.empty")}):n.savedDrafts.map(p=>t.jsxs("div",{onClick:()=>e("/chat"),className:"flex gap-4 p-4 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-2xl transition-all cursor-pointer group border border-slate-100 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 hover:shadow-xl hover:-translate-y-1 hover:scale-[1.02] duration-300",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-50 dark:bg-slate-700 flex-shrink-0 flex items-center justify-center group-hover:scale-110 group-hover:bg-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-all ease-out",children:t.jsx(Jo,{className:"w-6 h-6 text-slate-400 dark:text-slate-300 group-hover:text-sky-500 dark:group-hover:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-900 dark:text-white font-bold group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:p.title}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 font-medium",children:p.details})]})]},p.id))})]})]})]})]})},HU=({isOpen:s,onClose:e})=>{const r=$l(),{i18n:n}=Eo(),[a,l]=W.useState(null),[u,d]=W.useState(5),[A,o]=W.useState(!1),[f,p]=W.useState(!1);W.useEffect(()=>{s&&(d(5),o(!1),p(!1),m())},[s]),W.useEffect(()=>{if(!s||u===0)return;const Y=setInterval(()=>{d(Q=>Q<=1?(o(!0),0):Q-1)},1e3);return()=>clearInterval(Y)},[s,u]);const m=async()=>{try{const Y=await fetch(`${It}/api/advertisements/active`);if(!Y.ok)throw new Error;const Q=await Y.json();if(Q.length>0){const K=Q[Math.floor(Math.random()*Q.length)];l(K),p(!1),x(K.id)}else l(null),p(!0)}catch{l(null),p(!0)}},x=async Y=>{try{await fetch(`${It}/api/advertisements/${Y}/view`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch{}},b=async Y=>{try{await fetch(`${It}/api/advertisements/${Y}/click`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch{}},j=Y=>{const Q=n.language;let K=Y.title,ce=Y.description;return Q==="zh"&&Y.title_zh?(K=Y.title_zh,ce=Y.description_zh||ce):Q==="ms"&&Y.title_ms&&(K=Y.title_ms,ce=Y.description_ms||ce),{title:K,description:ce}},{title:y,description:T}=a?j(a):{title:"",description:""},R=Y=>{Y&&(Y.preventDefault(),Y.stopPropagation()),a&&(b(a.id),window.open(a.link,"_blank","noopener,noreferrer"))},z=Y=>{Y&&(Y.preventDefault(),Y.stopPropagation()),e(),r("/billing")},X=Y=>{Y&&(Y.preventDefault(),Y.stopPropagation()),A&&e()};return s?t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",onClick:Y=>Y.stopPropagation(),children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl max-w-md w-full shadow-2xl relative animate-in zoom-in-95 duration-300",onClick:Y=>Y.stopPropagation(),children:[t.jsx("button",{type:"button",onClick:X,disabled:!A,className:`absolute top-4 right-4 z-10 p-2 rounded-full transition-all ${A?"bg-white/80 dark:bg-slate-700/80 hover:bg-white dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400 cursor-pointer":"bg-slate-100 dark:bg-slate-700/50 text-slate-400 dark:text-slate-500 cursor-not-allowed"}`,title:A?"Close":`Wait ${u}s`,children:A?t.jsx(qr,{size:20}):t.jsx("span",{className:"text-sm font-bold w-5 h-5 flex items-center justify-center",children:u})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-semibold uppercase tracking-wider",children:f?"Notice":"Sponsored Content"}),!A&&!f&&t.jsxs("span",{className:"text-xs text-sky-600 dark:text-indigo-400 font-semibold",children:["Closing in ",u,"s"]})]}),f?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[t.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-6",children:t.jsx(Ia,{size:48,className:"text-slate-400 dark:text-slate-500"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 text-center",children:""}),t.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center mb-6",children:["",t.jsx("br",{}),""]}),t.jsx("div",{className:"w-full max-w-xs",children:t.jsx("div",{className:"h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-sky-500 to-blue-600 dark:from-indigo-500 dark:to-purple-600 transition-all duration-1000",style:{width:`${(5-u)/5*100}%`}})})})]}):a?t.jsxs(t.Fragment,{children:[a.imageUrl&&t.jsx("div",{onClick:R,className:"mb-4 rounded-2xl overflow-hidden cursor-pointer group",children:t.jsx("img",{src:`${It}${a.imageUrl}`,alt:y,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"})}),t.jsxs("div",{onClick:R,className:"cursor-pointer group",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:y}),T&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:T}),t.jsx("button",{type:"button",onClick:R,className:"w-full py-3 bg-sky-600 dark:bg-indigo-600 text-white rounded-xl font-semibold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-colors shadow-lg",children:"Learn More"})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 dark:border-slate-700 border-t-sky-600 dark:border-t-indigo-600 rounded-full animate-spin mb-4"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"..."})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:["Premium members enjoy ad-free experience "," ",t.jsx("button",{onClick:z,className:"text-sky-600 dark:text-indigo-400 hover:underline font-semibold bg-transparent border-none p-0 inline cursor-pointer",children:"Upgrade now"})]})})]})]})}):null},{slice:zU,forEach:$U}=[];function VU(s){return $U.call(zU.call(arguments,1),e=>{if(e)for(const r in e)s[r]===void 0&&(s[r]=e[r])}),s}function KU(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(s))}const Ww=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,GU=function(s,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${s}=${a}`;if(n.maxAge>0){const u=n.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(u)}`}if(n.domain){if(!Ww.test(n.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${n.domain}`}if(n.path){if(!Ww.test(n.path))throw new TypeError("option path is invalid");l+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(l+="; Partitioned"),l},Yw={create(s,e,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),n&&(a.domain=n),document.cookie=GU(s,e,a)},read(s){const e=`${s}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(s,e){this.create(s,"",-1,e)}};var WU={name:"cookie",lookup(s){let{lookupCookie:e}=s;if(e&&typeof document<"u")return Yw.read(e)||void 0},cacheUserLanguage(s,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:a,cookieOptions:l}=e;r&&typeof document<"u"&&Yw.create(r,s,n,a,l)}},YU={name:"querystring",lookup(s){var n;let{lookupQuerystring:e}=s,r;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const u=a.substring(1).split("&");for(let d=0;d<u.length;d++){const A=u[d].indexOf("=");A>0&&u[d].substring(0,A)===e&&(r=u[d].substring(A+1))}}return r}},XU={name:"hash",lookup(s){var a;let{lookupHash:e,lookupFromHashIndex:r}=s,n;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const u=l.substring(1);if(e){const d=u.split("&");for(let A=0;A<d.length;A++){const o=d[A].indexOf("=");o>0&&d[A].substring(0,o)===e&&(n=d[A].substring(o+1))}}if(n)return n;if(!n&&r>-1){const d=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?(a=d[typeof r=="number"?r:0])==null?void 0:a.replace("/",""):void 0}}}return n}};let Gf=null;const Xw=()=>{if(Gf!==null)return Gf;try{if(Gf=typeof window<"u"&&window.localStorage!==null,!Gf)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{Gf=!1}return Gf};var JU={name:"localStorage",lookup(s){let{lookupLocalStorage:e}=s;if(e&&Xw())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupLocalStorage:r}=e;r&&Xw()&&window.localStorage.setItem(r,s)}};let Wf=null;const Jw=()=>{if(Wf!==null)return Wf;try{if(Wf=typeof window<"u"&&window.sessionStorage!==null,!Wf)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{Wf=!1}return Wf};var ZU={name:"sessionStorage",lookup(s){let{lookupSessionStorage:e}=s;if(e&&Jw())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupSessionStorage:r}=e;r&&Jw()&&window.sessionStorage.setItem(r,s)}},qU={name:"navigator",lookup(s){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:a}=navigator;if(r)for(let l=0;l<r.length;l++)e.push(r[l]);n&&e.push(n),a&&e.push(a)}return e.length>0?e:void 0}},eF={name:"htmlTag",lookup(s){let{htmlTag:e}=s,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},tF={name:"path",lookup(s){var a;let{lookupFromPathIndex:e}=s;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(a=r[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},sF={name:"subdomain",lookup(s){var a,l;let{lookupFromSubdomainIndex:e}=s;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&((l=(a=window.location)==null?void 0:a.hostname)==null?void 0:l.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let H5=!1;try{document.cookie,H5=!0}catch{}const z5=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];H5||z5.splice(1,1);const rF=()=>({order:z5,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class $5{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=VU(r,this.options||{},rF()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(WU),this.addDetector(YU),this.addDetector(JU),this.addDetector(ZU),this.addDetector(qU),this.addDetector(eF),this.addDetector(tF),this.addDetector(sF),this.addDetector(XU)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let a=this.detectors[n].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.filter(n=>n!=null&&!KU(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}$5.type="languageDetector";const nF="GogoTrip",aF="Loading...",iF="Save",oF="Cancel",lF="Rename",cF="Edit",dF="Confirm",uF="Close",AF="Search",hF="Back",fF="Next",pF="Submit",mF="Refresh",gF="Retry",xF="Yes",bF="No",vF="OK",yF="Done",wF="Skip",jF="View All",NF="View More",kF="Show Less",CF="No results found",BF="Nothing here yet",SF="Error",EF="Success",TF="Warning",UF="Info",FF={active:"Active",inactive:"Inactive",pending:"Pending",completed:"Completed",cancelled:"Cancelled",expired:"Expired",verified:"Verified",unverified:"Unverified"},LF={justNow:"Just now",minutesAgo:"{{count}} min ago",hoursAgo:"{{count}} hours ago",yesterday:"Yesterday",daysAgo:"{{count}} days ago"},MF={networkError:"Network error. Please try again.",serverError:"Server error occurred. Please try again later.",unauthorized:"Please log in to continue.",forbidden:"You don't have permission to do this.",notFound:"Not found.",validationError:"Please check your input.",unknownError:"Something went wrong. Please try again."},OF={signOut:"Sign Out",signIn:"Sign In",signUp:"Sign Up",learnMore:"Learn More",getStarted:"Get Started",upgrade:"Upgrade",download:"Download",share:"Share",copy:"Copy",copied:"Copied!"},IF={success:"Success",error:"Error",warning:"Warning",info:"Info"},DF={required:"This field is required",invalidEmail:"Invalid email address",invalidFormat:"Invalid format"},RF={appName:nF,loading:aF,save:iF,cancel:oF,delete:"Delete",rename:lF,edit:cF,confirm:dF,close:uF,search:AF,back:hF,next:fF,submit:pF,refresh:mF,retry:gF,yes:xF,no:bF,ok:vF,done:yF,continue:"Continue",skip:wF,viewAll:jF,viewMore:NF,showLess:kF,noResults:CF,emptyState:BF,error:SF,success:EF,warning:TF,info:UF,status:FF,time:LF,errors:MF,actions:OF,toast:IF,validation:DF},PF="Settings",QF="Manage your account preferences",_F={profile:"Profile",security:"Security",preferences:"Preferences",integrations:"Integrations",language:"Language",notifications:"Notifications",privacy:"Privacy"},HF={title:"Profile Information",description:"Update your personal details",fullName:"Full Name",fullNamePlaceholder:"Enter your full name",email:"Email Address",emailReadOnly:"Email cannot be changed",avatar:"Profile Photo",changePhoto:"Change Photo",removePhoto:"Remove Photo",photoHint:"JPG, PNG or GIF. Max 1MB.",saveChanges:"Save Changes",saving:"Saving...",saved:"Profile updated successfully!"},zF={title:"Security Settings",description:"Manage your account security",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password",passwordRequirements:"Password must be at least 8 characters",updatePassword:"Update Password",twoFactor:"Two-Factor Authentication",twoFactorDesc:"Add an extra layer of security to your account",enable2FA:"Enable 2FA",disable2FA:"Disable 2FA",verificationCode:"Verification Code",enterCode:"Enter the code sent to your email",verifyCode:"Verify Code",resendCode:"Resend Code",codeExpires:"Code expires in {{seconds}} seconds"},$F={title:"Language",description:"Choose your preferred language for the interface and AI responses",selectLanguage:"Select Language",currentLanguage:"Current Language",changeSuccess:"Language updated!",changing:"Changing language...",languageHint:"This will change the language of all text in the app, including AI chat responses.",languages:{en:"English",zh:"Chinese (Simplified)",ms:"Bahasa Melayu"}},VF={title:"Notification Preferences",description:"Control how you receive updates",emailNotifications:"Email Notifications",emailNotificationsDesc:"Receive trip updates and AI suggestions via email",pushNotifications:"Push Notifications",pushNotificationsDesc:"Receive notifications in your browser",marketingEmails:"Marketing Emails",marketingEmailsDesc:"Receive news, promotions, and tips"},KF={title:"Privacy Settings",description:"Control your data and privacy",dataUsage:"AI Data Usage",dataUsageDesc:"Allow AI to use your travel history for better suggestions",analytics:"Analytics",analyticsDesc:"Help improve GogoTrip by sharing anonymous usage data",deleteAccount:"Delete Account",deleteAccountDesc:"Permanently delete your account and all data",deleteWarning:"This action cannot be undone. All your trips, data, and preferences will be permanently deleted."},GF={title:"Connected Accounts",description:"Manage your linked accounts and services",googleAccount:"Google Account",googleLinked:"Connected as {{email}}",googleNotLinked:"Not connected",linkGoogle:"Link Google Account",unlinkGoogle:"Unlink",googleCalendar:"Google Calendar",googleCalendarDesc:"Sync your trips to Google Calendar",calendarConnected:"Connected",calendarNotConnected:"Not connected",connectCalendar:"Connect Calendar",disconnectCalendar:"Disconnect"},WF={title:PF,subtitle:QF,sections:_F,profile:HF,security:zF,language:$F,notifications:VF,privacy:KF,integrations:GF},YF="AI Trip Planner",XF="Plan your perfect trip with AI assistance",JF="Ask me anything about your trip...",ZF='e.g., "Plan a 3-day trip to Penang" or "Find halal restaurants near me"',qF=["Describe your dream trip to Kyoto...","Plan a weekend getaway to Napa Valley...","Find the best sushi restaurants in Tokyo...","Suggest a 7-day itinerary for Italy...","Looking for family-friendly activities in London...","Show me flights to New York under RM 2000..."],eL="Send",tL="Sending...",sL="AI is thinking...",rL="AI is typing...",nL="New Chat",aL="Clear Chat",iL="Chat History",oL="No chat history yet",lL="Start a new chat!",cL="Load More",dL="Today",uL="Yesterday",AL="{{count}} days ago",hL={title:"Quick Start",tripWizard:"Trip Wizard",tripWizardDesc:"Plan a complete multi-day itinerary",foodWizard:"Food Wizard",foodWizardDesc:"Find the perfect place to eat",whereToNext:"Where to next?",welcomeDesc:"I can help you plan the perfect trip based on your budget, mood, and preferences.",planTrip:"Plan a Trip",findFood:"Find Food",generatedPrompt:`Plan a trip based on my preferences:
Mood: {{mood}}, Budget: {{budget}}, Group: {{companions}}...

(Type your destination here)`,foodSearchMessage:" Finding the best {{meal}} spots for you based on your preferences...",foodResultMessage:"Found {{count}} great options for you! Check them out below:",foodErrorMessage:"Sorry, an error occurred while getting food recommendations. Please try again.",shareLink:"Share Link",editActivity:"Edit Activity",startTime:"Start Time",endTime:"End Time",timeSlot:"Time Slot",type:"Type",placeName:"Place Name",placeNamePlaceholder:"Enter place name",address:"Address",addressPlaceholder:"Enter address",description:"Description",descriptionPlaceholder:"Activity description",tips:"Tips",optional:"Optional",delete:"Delete",cancel:"Cancel",save:"Save",aiEditTitle:"AI Batch Edit",selectedCount:"Selected {{count}} items",aiInstructionLabel:"Tell AI how you want to modify these activities:",aiInstructionPlaceholder:"e.g., Push back all activities by 2 hours, and add more detailed descriptions...",quickSuggestions:"Quick Suggestions",processing:"Processing...",startEdit:"Start Edit",aiEdit:"AI Edit",cancelSelect:"Cancel Select",editSelected:"Edit {{count}} Items",saveChanges:"Save Changes",highlights:"Today's Highlights",totalActivities:"Total Activities",items:"Items",estimatedCost:"Est. Cost",transportTips:"Transport Tips",itineraryDetails:"Detailed Itinerary",practicalInfo:"Practical Info",transport:"Transport",weather:"Weather",bookingAdvice:"Booking Advice",aiSuggest1:"Push times back by 1 hour",aiSuggest2:"Replace with vegetarian-friendly options",aiSuggest3:"Add more detailed budget estimates",aiSuggest4:"Change to more budget-friendly options",aiSuggest5:"Add more local cultural experiences",aiSuggest6:"Adjust for family with kids"},fL={title:"Trip Wizard",destination:"Where do you want to go?",destinationPlaceholder:"e.g., Kuala Lumpur, Penang, Singapore",duration:"How long is your trip?",durationOptions:{"1day":"Day Trip","2days":"2 Days","3days":"3 Days","5days":"5 Days","7days":"1 Week",custom:"Custom"},mood:"What's your travel style?",moodOptions:{relaxed:"Relaxed",energetic:"Energetic",romantic:"Romantic",family:"Family-Friendly",adventure:"Adventure"},budget:"What's your budget?",budgetOptions:{low:"Budget",medium:"Mid-Range",high:"Premium",luxury:"Luxury"},transport:"How will you get around?",transportOptions:{public:"Public Transport",car:"Car / Grab",walk:"Walking"},dietary:"Any dietary requirements?",dietaryOptions:{halal:"Halal",vegetarian:"Vegetarian",vegan:"Vegan",noPork:"No Pork",noBeef:"No Beef",glutenFree:"Gluten Free"},stepIndicator:"Step {{current}} of {{total}}",readyPrompt:"Ready to generate your custom plan? The AI will use these preferences to find the best spots for you.",nextStep:"Next Step",companions:"Who are you traveling with?",companionOptions:{solo:"Solo",couple:"Couple",friends:"Friends",family:"Family"},generatePlan:"Generate Trip Plan",generating:"Creating your perfect itinerary..."},pL={title:"Food Wizard",cuisine:"What cuisine are you craving?",cuisineOptions:{local:"Local Malaysian",chinese:"Chinese",indian:"Indian",japanese:"Japanese",korean:"Korean",western:"Western",thai:"Thai",malay:"Malay",any:"Surprise Me"},mealOptions:{breakfast:"Breakfast",lunch:"Lunch",dinner:"Dinner",snack:"Snack/Tea",supper:"Supper",cafe:"Cafe/Dessert"},budgetDescriptions:{low:"Under RM 15/pax",medium:"RM 15-40/pax",high:"RM 40-80/pax",luxury:"RM 80+/pax"},dietaryOptions:{halal:"Halal",vegetarian:"Vegetarian",vegan:"Vegan",noPork:"No Pork",noBeef:"No Beef",glutenFree:"Gluten Free"},distanceOptions:{nearby:"Walking (< 1km)",short:"Short drive (< 5km)",any:"Any distance"},stepIndicator:"Step {{current}} of {{total}}",cravingPrompt:"What are you craving? (optional)",cravingDesc:"Select one or more, or skip for varied suggestions",readyTitle:"Ready to find your perfect meal!",next:"Next",mealType:"What meal?",vibe:"What's the vibe?",vibeOptions:{quick:"Quick Bite",casual:"Casual Dining",romantic:"Romantic",group:"Group Gathering"},findFood:"Find Food",finding:"Finding delicious options..."},mL={day:"Day {{number}}",days:"{{count}} days",activities:"{{count}} activities",estimatedSpend:"Estimated Cost",viewDetails:"View Details",morning:"Morning",afternoon:"Afternoon",evening:"Evening",night:"Night",lunch:"Lunch",dinner:"Dinner",budget:"Budget",tips:"Tips",savePlan:"Save Plan",exportCalendar:"Export to Calendar",shareLink:"Share Link",activityTypes:{attraction:"Attraction",food:"Food",cafe:"Cafe",hotel:"Hotel",shopping:"Shopping",transport:"Transport"},budgetPlaceholder:"RM 50"},gL={title:"Recommendations",distance:"{{distance}} away",rating:"{{rating}} stars",priceLevel:"Price: {{level}}",openNow:"Open Now",closed:"Closed",directions:"Get Directions",addToPlan:"Add to Plan"},xL={sendFailed:"Failed to send message. Please try again.",loadFailed:"Failed to load chat history.",aiError:"AI encountered an error. Please try again.",loadConversationFailed:"Failed to load conversation",deleteFailed:"Failed to delete",renameFailed:"Failed to rename",shareFailed:"Failed to share conversation",copyFailed:"Failed to copy link",saveFailed:"Failed to save trip",aiEditFailed:"AI edit failed, please try again",itineraryParseError:"Sorry, itinerary data parsing error",dataParseError:"Sorry, data parsing error",connectionFailed:"Sorry, connection failed. Error: {{error}}"},bL={conversationDeleted:"Conversation deleted",linkCopied:"Link copied to clipboard!",tripSaved:"Trip saved!",placeAdded:'Added "{{name}}" to your plans!'},vL={historyLocked:"Chat history is a Premium feature",unlockHistory:"Upgrade to save and access your chat history",upgradeNow:"Upgrade Now"},yL={close:"Close",done:"Done",shareConversation:"Share Conversation",shareDescription:"Anyone with this link can view this conversation.",copyLink:"Copy",copied:"Copied",deleteConfirmation:"Delete this conversation?",saveTrip:"Save Trip Plan",tripSaved:"Saved to My Trips"},wL={premiumActive:"Premium Active",businessOpen:"Open",location:"Location"},jL={unnamedPlan:"Unnamed Plan",unknownName:"Unknown Name"},NL={itineraryGenerated:"I've created a {{duration}} itinerary for {{destination}}. Check out the detailed plan below!",foodRecommendations:"I found {{count}} great {{mealType}} options for you. Take a look below!",placeRecommendations:"I found {{count}} places that match your request. Check them out below!",activityEdited:"Successfully updated {{count}} activities based on your instructions.",generalResponse:"Here's what I found for you:"},kL={title:YF,subtitle:XF,placeholder:JF,placeholderExamples:ZF,placeholdersList:qF,send:eL,sending:tL,thinking:sL,typing:rL,newChat:nL,clearChat:aL,history:iL,noHistory:oL,startNewChat:lL,loadMore:cL,today:dL,yesterday:uL,daysAgo:AL,wizards:hL,tripWizard:fL,foodWizard:pL,dailyPlan:mL,recommendations:gL,errors:xL,messages:bL,premium:vL,modals:yL,badges:wL,defaults:jL,systemMessages:NL},CL={dashboard:"Travel Dashboard",aiPlanner:"AI Planner",myTrips:"My Trips",travelStories:"Travel Stories",notes:"Notes",calendar:"Calendar",translate:"Translate",expenses:"Expenses",settings:"Settings",support:"Support",billing:"Billing",premium:"Premium",adminPortal:"Admin Portal",helpSupport:"Help & Support",about:"About"},BL={search:"Search...",searchPlaceholder:"Search trips, places...",notifications:"Notifications",noNotifications:"No new notifications",markAllRead:"Mark all as read",viewAll:"View All",viewAllAnnouncements:"View all announcements"},SL={profile:"Profile",account:"Account",billing:"Billing & Plan",settings:"Settings",help:"Help & Support",signOut:"Sign Out",switchToAdmin:"Switch to Admin",switchToUser:"Switch to User View"},EL={title:"Admin Portal",dashboard:"Dashboard",users:"Users",trips:"Trips",subscriptions:"Subscriptions",notifications:"Notifications",settings:"Settings",systemLogs:"System Logs",messaging:"Messaging"},TL={copyright:"2024 GogoTrip. All rights reserved.",terms:"Terms of Service",privacy:"Privacy Policy",contact:"Contact Us"},UL={sidebar:CL,topBar:BL,userMenu:SL,admin:EL,footer:TL},FL={title:"Welcome Back",subtitle:"Sign in to continue your journey",email:"Email Address",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",rememberMe:"Remember me",forgotPassword:"Forgot password?",signIn:"Sign In",signingIn:"Signing in...",noAccount:"Don't have an account?",signUpLink:"Sign up",orContinueWithEmail:"Or continue with email",orContinueWith:"Or continue with",googleSignIn:"Continue with Google"},LL={title:"Create Account",subtitle:"Start planning your adventures",fullName:"Full Name",fullNamePlaceholder:"Enter your full name",email:"Email Address",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Create a password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm your password",agreeTerms:"I agree to the",termsLink:"Terms of Service",andText:"and",privacyLink:"Privacy Policy",signUp:"Create Account",signingUp:"Creating account...",hasAccount:"Already have an account?",signInLink:"Sign in",backToSignUp:"Back to Sign Up"},ML={title:"Verify Your Email",subtitle:"We sent a verification code to",enterCode:"Enter verification code",codePlaceholder:"Enter {{length}}-digit code",verify:"Verify",verifying:"Verifying...",resendCode:"Resend code",resendIn:"Resend in {{seconds}}s",codeSent:"Verification code sent!",verified:"Email verified successfully!",redirecting:"Redirecting...",enterCodeDesc:"Enter the code from your email or click the verification link",didntReceive:"Didn't receive the email?",checkEmail:"Check your email for the verification code"},OL={title:"Reset Password",subtitle:"Enter your email to receive a reset link",email:"Email Address",emailPlaceholder:"Enter your email",sendLink:"Send Reset Link",sending:"Sending...",linkSent:"Reset link sent! Check your email.",backToLogin:"Back to login"},IL={title:"Set New Password",subtitle:"Enter your new password",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",resetPassword:"Reset Password",resetting:"Resetting...",success:"Password reset successfully!",loginNow:"Login Now"},DL={invalidEmail:"Please enter a valid email address",invalidPassword:"Password must be at least 8 characters",passwordMismatch:"Passwords do not match",emailExists:"An account with this email already exists",invalidCredentials:"Invalid email or password",accountNotVerified:"Please verify your email first",accountSuspended:"Your account has been suspended",tooManyAttempts:"Too many attempts. Please try again later.",invalidCode:"Invalid verification code",codeExpired:"Code has expired. Please request a new one.",networkError:"Network error. Please check your connection."},RL={title:"Sign Out",confirmMessage:"Are you sure you want to sign out?",confirm:"Sign Out",cancel:"Cancel"},PL={login:FL,register:LL,verification:ML,forgotPassword:OL,resetPassword:IL,errors:DL,signOut:RL},QL="Dashboard",_L="Welcome back, {{name}}!",HL="Welcome back!",zL="Your travel command center",$L={countdown:"Your next adventure to {{destination}} begins in {{days}} days.",empty:"Plan your next adventure today!",badge:"NEXT: {{destination}} ({{days}}D)",badgeEmpty:"NO TRIPS PLANNED"},VL={explored:"EXPLORED",ready:"READY TO GO"},KL="View All Trips",GL="Start AI Planning",WL={title:"Upcoming Itinerary",viewFull:"View Full Schedule",empty:"No upcoming appointments",planFirst:"Plan your first trip"},YL={title:"Trip Idea?",description:"Not sure where to go next? Ask the AI Planner to suggest destinations.",button:"Ask AI Planner"},XL={title:"Saved Drafts",empty:"No saved drafts yet"},JL={upcomingTrips:"Upcoming Trips",countriesVisited:"Countries Visited",savedItineraries:"Saved Itineraries",totalDistance:"Total Distance"},ZL={title:"Quick Actions",planTrip:"Plan a Trip",findFood:"Find Food",viewTrips:"View My Trips",translate:"Translate"},qL={title:"Recent Trips",noTrips:"No trips yet",startPlanning:"Start planning your first adventure!",createTrip:"Create Trip",viewAll:"View All Trips"},eM={title:"Upcoming Trips",noUpcoming:"No upcoming trips",daysLeft:"{{days}} days to go",tomorrow:"Tomorrow",today:"Today"},tM={title:"Weather",currentLocation:"Current Location",feelsLike:"Feels like",humidity:"Humidity",wind:"Wind"},sM={title:"Recent Notifications",noNotifications:"No new notifications",viewAll:"View All"},rM={title:"Upgrade to Premium",description:"Unlock unlimited trips, AI features, and more!",features:["Unlimited trip planning","Full chat history","Priority AI responses","Export to calendar"],upgradeNow:"Upgrade Now"},nM={title:QL,welcome:_L,welcomeDefault:HL,subtitle:zL,nextTrip:$L,badges:VL,viewAllTrips:KL,startAiPlanning:GL,upcomingItinerary:WL,tripIdea:YL,savedDrafts:XL,stats:JL,quickActions:ZL,recentTrips:qL,upcomingTrips:eM,weather:tM,notifications:sM,premium:rM},aM={title:"Premium Plans",subtitle:"Unlock unlimited AI-powered trip planning and advanced features",monthly:"Monthly",yearly:"Yearly",lifetime:"Lifetime",mostPopular:"Most Popular"},iM={monthly:{unlimitedPlanning:"Unlimited AI trip planning",routeOptimization:"Advanced route optimization",prioritySupport:"Priority support",budgetTracking:"Budget tracking",calendarSync:"Calendar sync"},yearly:{everythingMonthly:"Everything in Monthly",twoMonthsFree:"2 months FREE",earlyAccess:"Early access to new features",exclusiveTips:"Exclusive travel tips",noPriceIncrease:"No price increases"},lifetime:{everythingYearly:"Everything in Yearly",lifetimeUpdates:"Lifetime updates",vipSupport:"VIP support",transferableLicense:"Transferable license",communityAccess:"Exclusive community access"}},oM={activeTitle:"Active Premium Subscription",lifetimeAccess:"Lifetime Access",remainingDaysAdded:" Remaining days will be added to new plan!",higherTierPlan:"You are on a higher tier plan."},lM={plans:"Plans",transactions:"Transactions",redeemCode:"Redeem Code"},cM={subscribeNow:"Subscribe Now",upgradePlan:"Upgrade Plan",renewSubscription:"Renew Subscription",currentPlan:"Current Plan",currentPlanHigher:"Current Plan is Higher",renewExtend:"Renew / Extend",continuePayment:"Continue Payment",refreshStatus:"Refresh Status",cancel:"Cancel",viewReceipt:"View Receipt"},dM={title:"Payment in Progress",expiresIn:"Expires in {{time}}",sessionEnded:"Payment session has ended. Please create a new payment instead."},uM={title:"Transaction History",noTransactions:"No transactions found",discount:"-RM{{amount}} discount",filters:{all:"All",pending:"Pending",paid:"Paid",expired:"Expired",cancelled:"Cancelled"}},AM={title:"Redeem Code",description:"Enter your activation code or discount voucher below.",placeholder:"ENTER CODE HERE",checkCode:"Check Code",validating:"Validating...",applied:"Voucher Applied"},hM={title:"Premium Activation",code:"Code: {{code}}",youWillReceive:"You will receive:",daysPrefix:"{{days}} Days Premium",lifetime:"Lifetime",activateNow:"Activate Now",activating:"Activating...",useDifferentCode:"Use a different code"},fM={percentOff:"{{percent}}% Discount",amountOff:"RM{{amount}} Off",selectPlan:"Select a Plan",confirmPay:"Confirm & Pay",refreshPrice:"Refresh Price",calculatingDiscount:"Calculating discount..."},pM={planPrice:"Plan Price ({{planName}})",subtotal:"Subtotal",total:"Total Amount",processing:"Processing...",proceedToPayment:"Proceed to Payment"},mM={pending:"Pending",paid:"Paid",active:"Active",cancelled:"Cancelled",expired:"Expired",refunded:"Refunded",failed:"Failed"},gM={paymentSuccess:" Payment successful! Your premium membership is updated.",membershipActivated:" Premium membership activated successfully!",planActive:" Payment confirmed! Your plan is now active.",activatedWithVoucher:" Premium membership activated with voucher!"},xM={enterVoucherCode:"Please enter a voucher code",invalidVoucher:"Invalid voucher code",validateVoucherFailed:"Failed to validate voucher",selectPlan:"Please select a plan.",paymentFailed:"Payment failed",continueFailed:"Failed to continue payment"},bM={plans:aM,features:iM,subscription:oM,tabs:lM,actions:cM,pending:dM,transactions:uM,voucher:AM,activation:hM,discount:fM,pricing:pM,status:mM,messages:gM,errors:xM},vM={title:"GogoTrip",subtitle:"Premium Subscription"},yM={orderInfo:"Order Information",subscriptionDetails:"Subscription Details"},wM={customerName:"Customer Name",email:"Email",orderReference:"Order Reference",orderDate:"Order Date",validFrom:"Valid From",validUntil:"Valid Until",lifetime:"Lifetime"},jM={subtotal:"Subtotal",tax:"Tax (0%)",total:"Total"},NM={thankYou:"Thank you for choosing GogoTrip Premium!",support:"For questions or support, please contact us at support@gogotrip.com"},kM={paymentSuccessful:"Payment Successful",paymentPending:"Payment Pending",paymentFailed:"Payment Failed",paymentCancelled:"Payment Cancelled"},CM={backToBilling:"Back to Billing",refreshStatus:"Refresh Status",print:"Print",downloadPdf:"Download PDF",verifying:"Verifying..."},BM={downloadSuccess:"Receipt downloaded successfully!",downloadFailed:"Failed to download PDF"},SM={orderNotFound:"Order ID not found",loadFailed:"Failed to load order",networkError:"Network error occurred",error:"Error"},EM={filename:"GogoTrip_Receipt_{{orderRef}}.pdf"},TM={header:vM,sections:yM,fields:wM,pricing:jM,footer:NM,status:kM,actions:CM,messages:BM,errors:SM,pdf:EM},UM="GogoTrip",FM="...",LM="",MM="",OM="",IM="",DM="",RM="",PM="",QM="",_M="",HM="",zM="",$M="",VM="",KM="",GM="",WM="",YM="",XM="",JM="",ZM="",qM="",eO="",tO="",sO="",rO="",nO="",aO={active:"",inactive:"",pending:"",completed:"",cancelled:"",expired:"",verified:"",unverified:""},iO={justNow:"",minutesAgo:"{{count}}",hoursAgo:"{{count}}",yesterday:"",daysAgo:"{{count}}"},oO={networkError:"",serverError:"",unauthorized:"",forbidden:"",notFound:"",validationError:"",unknownError:""},lO={signOut:"",signIn:"",signUp:"",learnMore:"",getStarted:"",upgrade:"",download:"",share:"",copy:"",copied:""},cO={success:"",error:"",warning:"",info:""},dO={required:"",invalidEmail:"",invalidFormat:""},uO={appName:UM,loading:FM,save:LM,cancel:MM,delete:"",rename:OM,edit:IM,confirm:DM,close:RM,search:PM,back:QM,next:_M,submit:HM,refresh:zM,retry:$M,yes:VM,no:KM,ok:GM,done:WM,continue:"",skip:YM,viewAll:XM,viewMore:JM,showLess:ZM,noResults:qM,emptyState:eO,error:tO,success:sO,warning:rO,info:nO,status:aO,time:iO,errors:oO,actions:lO,toast:cO,validation:dO},AO="",hO="",fO={profile:"",security:"",preferences:"",integrations:"",language:"",notifications:"",privacy:""},pO={title:"",description:"",fullName:"",fullNamePlaceholder:"",email:"",emailReadOnly:"",avatar:"",changePhoto:"",removePhoto:"",photoHint:" JPGPNG  GIF  1MB",saveChanges:"",saving:"...",saved:""},mO={title:"",description:"",changePassword:"",currentPassword:"",newPassword:"",confirmPassword:"",passwordRequirements:"8",updatePassword:"",twoFactor:"",twoFactorDesc:"",enable2FA:"",disable2FA:"",verificationCode:"",enterCode:"",verifyCode:"",resendCode:"",codeExpires:" {{seconds}} "},gO={title:"",description:"AI",selectLanguage:"",currentLanguage:"",changeSuccess:"",changing:"...",languageHint:"AI",languages:{en:"English",zh:"",ms:"Bahasa Melayu"}},xO={title:"",description:"",emailNotifications:"",emailNotificationsDesc:"AI",pushNotifications:"",pushNotificationsDesc:"",marketingEmails:"",marketingEmailsDesc:""},bO={title:"",description:"",dataUsage:"AI",dataUsageDesc:"AI",analytics:"",analyticsDesc:"GogoTrip",deleteAccount:"",deleteAccountDesc:"",deleteWarning:""},vO={title:"",description:"",googleAccount:"Google ",googleLinked:" {{email}}",googleNotLinked:"",linkGoogle:" Google ",unlinkGoogle:"",googleCalendar:"Google ",googleCalendarDesc:" Google ",calendarConnected:"",calendarNotConnected:"",connectCalendar:"",disconnectCalendar:""},yO={title:AO,subtitle:hO,sections:fO,profile:pO,security:mO,language:gO,notifications:xO,privacy:bO,integrations:vO},wO="AI",jO="AI",NO="...",kO="3",CO=["...","...","...","7...","...","RM 2000..."],BO="",SO="...",EO="AI...",TO="AI...",UO="",FO="",LO="",MO="",OO="",IO="",DO="",RO="",PO="{{count}}",QO={title:"",tripWizard:"",tripWizardDesc:"",foodWizard:"",foodWizardDesc:"",whereToNext:"",welcomeDesc:"",planTrip:"",findFood:"",generatedPrompt:`
{{mood}}{{budget}}{{companions}}...

`,foodSearchMessage:"  {{meal}} ...",foodResultMessage:" {{count}} ",foodErrorMessage:"",shareLink:"",editActivity:"",startTime:"",endTime:"",timeSlot:"",type:"",placeName:"",placeNamePlaceholder:"",address:"",addressPlaceholder:"",description:"",descriptionPlaceholder:"",tips:"",optional:"",delete:"",cancel:"",save:"",aiEditTitle:"AI ",selectedCount:" {{count}} ",aiInstructionLabel:" AI ",aiInstructionPlaceholder:"2...",quickSuggestions:"",processing:"...",startEdit:"",aiEdit:"AI ",cancelSelect:"",editSelected:" {{count}} ",saveChanges:"",highlights:"",totalActivities:"",items:"",estimatedCost:"",transportTips:"",itineraryDetails:"",practicalInfo:"",transport:"",weather:"",bookingAdvice:"",aiSuggest1:"1",aiSuggest2:"",aiSuggest3:"",aiSuggest4:"",aiSuggest5:"",aiSuggest6:""},_O={title:"",destination:"",destinationPlaceholder:"",duration:"",durationOptions:{"1day":"","2days":"2","3days":"3","5days":"5","7days":"",custom:""},mood:"",moodOptions:{relaxed:"",energetic:"",romantic:"",family:"",adventure:""},budget:"",budgetOptions:{low:"",medium:"",high:"",luxury:""},transport:"",transportOptions:{public:"",car:"/",walk:""},dietary:"",dietaryOptions:{halal:"",vegetarian:"",vegan:"",noPork:"",noBeef:"",glutenFree:""},stepIndicator:" {{current}}  {{total}} ",readyPrompt:"AI",nextStep:"",companions:"",companionOptions:{solo:"",couple:"",friends:"",family:""},generatePlan:"",generating:"..."},HO={title:"",cuisine:"",cuisineOptions:{local:"",chinese:"",indian:"",japanese:"",korean:"",western:"",thai:"",malay:"",any:""},mealOptions:{breakfast:"",lunch:"",dinner:"",snack:"/",supper:"",cafe:"/"},budgetDescriptions:{low:"RM 15/",medium:"RM 15-40/",high:"RM 40-80/",luxury:"RM 80/"},dietaryOptions:{halal:"",vegetarian:"",vegan:"",noPork:"",noBeef:"",glutenFree:""},distanceOptions:{nearby:" (< 1km)",short:" (< 5km)",any:""},stepIndicator:" {{current}}  {{total}} ",cravingPrompt:"()",cravingDesc:"",readyTitle:"",next:"",mealType:"",vibe:"",vibeOptions:{quick:"",casual:"",romantic:"",group:""},findFood:"",finding:"..."},zO={day:"{{number}}",days:"{{count}}",activities:"{{count}}",estimatedSpend:"",viewDetails:"",morning:"",afternoon:"",evening:"",night:"",lunch:"",dinner:"",budget:"",tips:"",savePlan:"",exportCalendar:"",shareLink:"",activityTypes:{attraction:"",food:"",cafe:"",hotel:"",shopping:"",transport:""},budgetPlaceholder:"RM 50"},$O={title:"",distance:" {{distance}}",rating:"{{rating}} ",priceLevel:"{{level}}",openNow:"",closed:"",directions:"",addToPlan:""},VO={sendFailed:"",loadFailed:"",aiError:"AI",loadConversationFailed:"",deleteFailed:"",renameFailed:"",shareFailed:"",copyFailed:"",saveFailed:"",aiEditFailed:"AI",itineraryParseError:"",dataParseError:"",connectionFailed:"{{error}}"},KO={conversationDeleted:"",linkCopied:"",tripSaved:"",placeAdded:"{{name}}"},GO={historyLocked:"",unlockHistory:"",upgradeNow:""},WO={close:"",done:"",shareConversation:"",shareDescription:"",copyLink:"",copied:"",deleteConfirmation:"",saveTrip:"",tripSaved:""},YO={premiumActive:"",businessOpen:"",location:""},XO={unnamedPlan:"",unknownName:""},JO={itineraryGenerated:"{{destination}}{{duration}}",foodRecommendations:"{{count}}{{mealType}}",placeRecommendations:"{{count}}",activityEdited:"{{count}}",generalResponse:""},ZO={title:wO,subtitle:jO,placeholder:NO,placeholderExamples:kO,placeholdersList:CO,send:BO,sending:SO,thinking:EO,typing:TO,newChat:UO,clearChat:FO,history:LO,noHistory:MO,startNewChat:OO,loadMore:IO,today:DO,yesterday:RO,daysAgo:PO,wizards:QO,tripWizard:_O,foodWizard:HO,dailyPlan:zO,recommendations:$O,errors:VO,messages:KO,premium:GO,modals:WO,badges:YO,defaults:XO,systemMessages:JO},qO={dashboard:"",aiPlanner:"AI",myTrips:"",travelStories:"",notes:"",calendar:"",translate:"",expenses:"",settings:"",support:"",billing:"",premium:"",adminPortal:"",helpSupport:"",about:""},e8={search:"...",searchPlaceholder:"...",notifications:"",noNotifications:"",markAllRead:"",viewAll:"",viewAllAnnouncements:""},t8={profile:"",account:"",billing:"",settings:"",help:"",signOut:"",switchToAdmin:"",switchToUser:""},s8={title:"",dashboard:"",users:"",trips:"",subscriptions:"",notifications:"",settings:"",systemLogs:"",messaging:""},r8={copyright:" 2024 GogoTrip. ",terms:"",privacy:"",contact:""},n8={sidebar:qO,topBar:e8,userMenu:t8,admin:s8,footer:r8},a8={title:"",subtitle:"",email:"",emailPlaceholder:"",password:"",passwordPlaceholder:"",rememberMe:"",forgotPassword:"",signIn:"",signingIn:"...",noAccount:"",signUpLink:"",orContinueWithEmail:"",orContinueWith:"",googleSignIn:" Google "},i8={title:"",subtitle:"",fullName:"",fullNamePlaceholder:"",email:"",emailPlaceholder:"",password:"",passwordPlaceholder:"",confirmPassword:"",confirmPasswordPlaceholder:"",agreeTerms:"",termsLink:"",andText:"",privacyLink:"",signUp:"",signingUp:"...",hasAccount:"",signInLink:"",backToSignUp:""},o8={title:"",subtitle:"",enterCode:"",codePlaceholder:"{{length}}",verify:"",verifying:"...",resendCode:"",resendIn:"{{seconds}}",codeSent:"",verified:"",redirecting:"...",enterCodeDesc:"",didntReceive:"",checkEmail:""},l8={title:"",subtitle:"",email:"",emailPlaceholder:"",sendLink:"",sending:"...",linkSent:"",backToLogin:""},c8={title:"",subtitle:"",newPassword:"",newPasswordPlaceholder:"",confirmPassword:"",confirmPasswordPlaceholder:"",resetPassword:"",resetting:"...",success:"",loginNow:""},d8={invalidEmail:"",invalidPassword:"8",passwordMismatch:"",emailExists:"",invalidCredentials:"",accountNotVerified:"",accountSuspended:"",tooManyAttempts:"",invalidCode:"",codeExpired:"",networkError:""},u8={title:"",confirmMessage:"",confirm:"",cancel:""},A8={login:a8,register:i8,verification:o8,forgotPassword:l8,resetPassword:c8,errors:d8,signOut:u8},h8="",f8="{{name}}",p8="",m8="",g8={countdown:"{{destination}}{{days}}",empty:"",badge:"{{destination}} ({{days}})",badgeEmpty:""},x8={explored:"",ready:""},b8="",v8="AI",y8={title:"",viewFull:"",empty:"",planFirst:""},w8={title:"",description:"AI",button:"AI"},j8={title:"",empty:""},N8={upcomingTrips:"",countriesVisited:"",savedItineraries:"",totalDistance:""},k8={title:"",planTrip:"",findFood:"",viewTrips:"",translate:""},C8={title:"",noTrips:"",startPlanning:"",createTrip:"",viewAll:""},B8={title:"",noUpcoming:"",daysLeft:" {{days}} ",tomorrow:"",today:""},S8={title:"",currentLocation:"",feelsLike:"",humidity:"",wind:""},E8={title:"",noNotifications:"",viewAll:""},T8={title:"",description:"AI",features:["","","AI",""],upgradeNow:""},U8={title:h8,welcome:f8,welcomeDefault:p8,subtitle:m8,nextTrip:g8,badges:x8,viewAllTrips:b8,startAiPlanning:v8,upcomingItinerary:y8,tripIdea:w8,savedDrafts:j8,stats:N8,quickActions:k8,recentTrips:C8,upcomingTrips:B8,weather:S8,notifications:E8,premium:T8},F8={title:"",subtitle:"AI",monthly:"",yearly:"",lifetime:"",mostPopular:""},L8={monthly:{unlimitedPlanning:"AI",routeOptimization:"",prioritySupport:"",budgetTracking:"",calendarSync:""},yearly:{everythingMonthly:"",twoMonthsFree:"2",earlyAccess:"",exclusiveTips:"",noPriceIncrease:""},lifetime:{everythingYearly:"",lifetimeUpdates:"",vipSupport:"VIP",transferableLicense:"",communityAccess:""}},M8={activeTitle:"",lifetimeAccess:"",remainingDaysAdded:" ",higherTierPlan:""},O8={plans:"",transactions:"",redeemCode:""},I8={subscribeNow:"",upgradePlan:"",renewSubscription:"",currentPlan:"",currentPlanHigher:"",renewExtend:" / ",continuePayment:"",refreshStatus:"",cancel:"",viewReceipt:""},D8={title:"",expiresIn:"{{time}}",sessionEnded:""},R8={title:"",noTransactions:"",discount:"-RM{{amount}} ",filters:{all:"",pending:"",paid:"",expired:"",cancelled:""}},P8={title:"",description:"",placeholder:"",checkCode:"",validating:"...",applied:""},Q8={title:"",code:"{{code}}",youWillReceive:"",daysPrefix:"{{days}}",lifetime:"",activateNow:"",activating:"...",useDifferentCode:""},_8={percentOff:"{{percent}}% ",amountOff:"RM{{amount}} ",selectPlan:"",confirmPay:"",refreshPrice:"",calculatingDiscount:"..."},H8={planPrice:"{{planName}}",subtotal:"",total:"",processing:"...",proceedToPayment:""},z8={pending:"",paid:"",active:"",cancelled:"",expired:"",refunded:"",failed:""},$8={paymentSuccess:" ",membershipActivated:" ",planActive:" ",activatedWithVoucher:" "},V8={enterVoucherCode:"",invalidVoucher:"",validateVoucherFailed:"",selectPlan:"",paymentFailed:"",continueFailed:""},K8={plans:F8,features:L8,subscription:M8,tabs:O8,actions:I8,pending:D8,transactions:R8,voucher:P8,activation:Q8,discount:_8,pricing:H8,status:z8,messages:$8,errors:V8},G8={title:"GogoTrip",subtitle:""},W8={orderInfo:"",subscriptionDetails:""},Y8={customerName:"",email:"",orderReference:"",orderDate:"",validFrom:"",validUntil:"",lifetime:""},X8={subtotal:"",tax:"0%",total:""},J8={thankYou:"GogoTrip",support:"support@gogotrip.com"},Z8={paymentSuccessful:"",paymentPending:"",paymentFailed:"",paymentCancelled:""},q8={backToBilling:"",refreshStatus:"",print:"",downloadPdf:"PDF",verifying:"..."},eI={downloadSuccess:"",downloadFailed:"PDF"},tI={orderNotFound:"ID",loadFailed:"",networkError:"",error:""},sI={filename:"GogoTrip__{{orderRef}}.pdf"},rI={header:G8,sections:W8,fields:Y8,pricing:X8,footer:J8,status:Z8,actions:q8,messages:eI,errors:tI,pdf:sI},nI="GogoTrip",aI="Memuatkan...",iI="Simpan",oI="Batal",lI="Namakan Semula",cI="Edit",dI="Sahkan",uI="Tutup",AI="Cari",hI="Kembali",fI="Seterusnya",pI="Hantar",mI="Muat Semula",gI="Cuba Lagi",xI="Ya",bI="Tidak",vI="OK",yI="Selesai",wI="Langkau",jI="Lihat Semua",NI="Lihat Lagi",kI="Tunjuk Kurang",CI="Tiada hasil ditemui",BI="Tiada apa-apa di sini",SI="Ralat",EI="Berjaya",TI="Amaran",UI="Maklumat",FI={active:"Aktif",inactive:"Tidak Aktif",pending:"Menunggu",completed:"Selesai",cancelled:"Dibatalkan",expired:"Tamat Tempoh",verified:"Disahkan",unverified:"Belum Disahkan"},LI={justNow:"Baru sahaja",minutesAgo:"{{count}} minit lalu",hoursAgo:"{{count}} jam lalu",yesterday:"Semalam",daysAgo:"{{count}} hari lalu"},MI={networkError:"Ralat rangkaian. Sila cuba lagi.",serverError:"Ralat pelayan. Sila cuba lagi kemudian.",unauthorized:"Sila log masuk untuk meneruskan.",forbidden:"Anda tiada kebenaran untuk melakukan ini.",notFound:"Tidak ditemui.",validationError:"Sila semak input anda.",unknownError:"Sesuatu tidak kena. Sila cuba lagi."},OI={signOut:"Log Keluar",signIn:"Log Masuk",signUp:"Daftar",learnMore:"Ketahui Lebih",getStarted:"Mulakan",upgrade:"Naik Taraf",download:"Muat Turun",share:"Kongsi",copy:"Salin",copied:"Disalin!"},II={success:"Berjaya",error:"Ralat",warning:"Amaran",info:"Maklumat"},DI={required:"Medan ini diperlukan",invalidEmail:"Alamat e-mel tidak sah",invalidFormat:"Format tidak sah"},RI={appName:nI,loading:aI,save:iI,cancel:oI,delete:"Padam",rename:lI,edit:cI,confirm:dI,close:uI,search:AI,back:hI,next:fI,submit:pI,refresh:mI,retry:gI,yes:xI,no:bI,ok:vI,done:yI,continue:"Teruskan",skip:wI,viewAll:jI,viewMore:NI,showLess:kI,noResults:CI,emptyState:BI,error:SI,success:EI,warning:TI,info:UI,status:FI,time:LI,errors:MI,actions:OI,toast:II,validation:DI},PI="Tetapan",QI="Urus keutamaan akaun anda",_I={profile:"Profil",security:"Keselamatan",preferences:"Keutamaan",integrations:"Integrasi",language:"Bahasa",notifications:"Pemberitahuan",privacy:"Privasi"},HI={title:"Maklumat Profil",description:"Kemas kini butiran peribadi anda",fullName:"Nama Penuh",fullNamePlaceholder:"Masukkan nama penuh anda",email:"Alamat E-mel",emailReadOnly:"E-mel tidak boleh ditukar",avatar:"Gambar Profil",changePhoto:"Tukar Gambar",removePhoto:"Buang Gambar",photoHint:"JPG, PNG atau GIF. Maksimum 1MB.",saveChanges:"Simpan Perubahan",saving:"Menyimpan...",saved:"Profil berjaya dikemas kini!"},zI={title:"Tetapan Keselamatan",description:"Urus keselamatan akaun anda",changePassword:"Tukar Kata Laluan",currentPassword:"Kata Laluan Semasa",newPassword:"Kata Laluan Baharu",confirmPassword:"Sahkan Kata Laluan Baharu",passwordRequirements:"Kata laluan mestilah sekurang-kurangnya 8 aksara",updatePassword:"Kemas Kini Kata Laluan",twoFactor:"Pengesahan Dua Faktor",twoFactorDesc:"Tambah lapisan keselamatan tambahan pada akaun anda",enable2FA:"Aktifkan 2FA",disable2FA:"Nyahaktifkan 2FA",verificationCode:"Kod Pengesahan",enterCode:"Masukkan kod yang dihantar ke e-mel anda",verifyCode:"Sahkan Kod",resendCode:"Hantar Semula Kod",codeExpires:"Kod tamat dalam {{seconds}} saat"},$I={title:"Bahasa",description:"Pilih bahasa pilihan anda untuk antara muka dan respons AI",selectLanguage:"Pilih Bahasa",currentLanguage:"Bahasa Semasa",changeSuccess:"Bahasa berjaya dikemas kini!",changing:"Menukar bahasa...",languageHint:"Ini akan menukar bahasa semua teks dalam aplikasi, termasuk respons chat AI.",languages:{en:"English",zh:"",ms:"Bahasa Melayu"}},VI={title:"Keutamaan Pemberitahuan",description:"Kawal cara anda menerima kemas kini",emailNotifications:"Pemberitahuan E-mel",emailNotificationsDesc:"Terima kemas kini perjalanan dan cadangan AI melalui e-mel",pushNotifications:"Pemberitahuan Push",pushNotificationsDesc:"Terima pemberitahuan dalam pelayar anda",marketingEmails:"E-mel Pemasaran",marketingEmailsDesc:"Terima berita, promosi, dan tip"},KI={title:"Tetapan Privasi",description:"Kawal data dan privasi anda",dataUsage:"Penggunaan Data AI",dataUsageDesc:"Benarkan AI menggunakan sejarah perjalanan anda untuk cadangan yang lebih baik",analytics:"Analitik",analyticsDesc:"Bantu tingkatkan GogoTrip dengan berkongsi data penggunaan tanpa nama",deleteAccount:"Padam Akaun",deleteAccountDesc:"Padam akaun dan semua data anda secara kekal",deleteWarning:"Tindakan ini tidak boleh dibatalkan. Semua perjalanan, data, dan keutamaan anda akan dipadam secara kekal."},GI={title:"Akaun Bersambung",description:"Urus akaun dan perkhidmatan yang dipautkan",googleAccount:"Akaun Google",googleLinked:"Bersambung sebagai {{email}}",googleNotLinked:"Tidak bersambung",linkGoogle:"Pautkan Akaun Google",unlinkGoogle:"Nyahpaut",googleCalendar:"Kalendar Google",googleCalendarDesc:"Segerakkan perjalanan anda ke Kalendar Google",calendarConnected:"Bersambung",calendarNotConnected:"Tidak bersambung",connectCalendar:"Sambungkan Kalendar",disconnectCalendar:"Putuskan Sambungan"},WI={title:PI,subtitle:QI,sections:_I,profile:HI,security:zI,language:$I,notifications:VI,privacy:KI,integrations:GI},YI="Perancang Perjalanan AI",XI="Rancang perjalanan sempurna anda dengan bantuan AI",JI="Tanya saya apa-apa tentang perjalanan anda...",ZI='cth., "Rancang perjalanan 3 hari ke Pulau Pinang" atau "Cari restoran halal berdekatan"',qI=["Gambarkan perjalanan impian anda ke Kyoto...","Rancang percutian hujung minggu ke Lembah Napa...","Cari restoran sushi terbaik di Tokyo...","Cadangkan itinerari 7 hari untuk Itali...","Mencari aktiviti mesra keluarga di London...","Tunjukkan penerbangan ke New York di bawah RM 2000..."],eD="Hantar",tD="Menghantar...",sD="AI sedang berfikir...",rD="AI sedang menaip...",nD="Perbualan Baharu",aD="Padam Perbualan",iD="Sejarah Perbualan",oD="Tiada sejarah perbualan",lD="Mula perbualan baharu!",cD="Muat Lebih",dD="Hari Ini",uD="Semalam",AD="{{count}} hari lalu",hD={title:"Mula Pantas",tripWizard:"Wizard Perjalanan",tripWizardDesc:"Rancang itinerari berbilang hari yang lengkap",foodWizard:"Wizard Makanan",foodWizardDesc:"Cari tempat makan yang sempurna",whereToNext:"Ke mana seterusnya?",welcomeDesc:"Saya boleh membantu anda merancang perjalanan yang sempurna berdasarkan bajet, mood dan pilihan anda.",planTrip:"Rancang Perjalanan",findFood:"Cari Makanan",generatedPrompt:`Rancang perjalanan berdasarkan keutamaan saya:
Mood: {{mood}}, Bajet: {{budget}}, Kumpulan: {{companions}}...

(Taip destinasi anda di sini)`,foodSearchMessage:" Mencari tempat {{meal}} terbaik untuk anda berdasarkan keutamaan anda...",foodResultMessage:"Menjumpai {{count}} pilihan hebat untuk anda! Lihat di bawah:",foodErrorMessage:"Maaf, ralat berlaku semasa mendapatkan cadangan makanan. Sila cuba lagi.",shareLink:"Kongsi Pautan",editActivity:"Edit Aktiviti",startTime:"Masa Mula",endTime:"Masa Tamat",timeSlot:"Slot Masa",type:"Jenis",placeName:"Nama Tempat",placeNamePlaceholder:"Masukkan nama tempat",address:"Alamat",addressPlaceholder:"Masukkan alamat",description:"Penerangan",descriptionPlaceholder:"Penerangan aktiviti",tips:"Tip",optional:"Pilihan",delete:"Padam",cancel:"Batal",save:"Simpan",aiEditTitle:"Edit Kumpulan AI",selectedCount:"Dipilih {{count}} item",aiInstructionLabel:"Beritahu AI bagaimana anda mahu mengubah suai aktiviti ini:",aiInstructionPlaceholder:"cth., Anjakkan semua aktiviti selama 2 jam, dan tambah penerangan lebih terperinci...",quickSuggestions:"Cadangan Pantas",processing:"Sedang Memproses...",startEdit:"Mula Edit",aiEdit:"Edit AI",cancelSelect:"Batal Pilih",editSelected:"Edit {{count}} Item",saveChanges:"Simpan Perubahan",highlights:"Sorotan Hari Ini",totalActivities:"Jumlah Aktiviti",items:"Item",estimatedCost:"Anggaran Kos",transportTips:"Tip Pengangkutan",itineraryDetails:"Itinerari Terperinci",practicalInfo:"Info Praktikal",transport:"Pengangkutan",weather:"Cuaca",bookingAdvice:"Nasihat Tempahan",aiSuggest1:"Anjakkan masa 1 jam ke belakang",aiSuggest2:"Gantikan dengan pilihan mesra vegetarian",aiSuggest3:"Tambah anggaran bajet yang lebih terperinci",aiSuggest4:"Tukar kepada pilihan yang lebih menjimatkan",aiSuggest5:"Tambah lebih banyak pengalaman budaya tempatan",aiSuggest6:"Sesuaikan untuk keluarga dengan anak-anak"},fD={title:"Wizard Perjalanan",destination:"Ke mana anda mahu pergi?",destinationPlaceholder:"cth., Kuala Lumpur, Pulau Pinang, Singapura",duration:"Berapa lama perjalanan anda?",durationOptions:{"1day":"Satu Hari","2days":"2 Hari","3days":"3 Hari","5days":"5 Hari","7days":"1 Minggu",custom:"Tersuai"},mood:"Apakah gaya perjalanan anda?",moodOptions:{relaxed:"Santai",energetic:"Bertenaga",romantic:"Romantik",family:"Mesra Keluarga",adventure:"Pengembaraan"},budget:"Apakah bajet anda?",budgetOptions:{low:"Bajet",medium:"Sederhana",high:"Premium",luxury:"Mewah"},transport:"Bagaimana anda akan bergerak?",transportOptions:{public:"Pengangkutan Awam",car:"Kereta / Grab",walk:"Berjalan Kaki"},dietary:"Ada keperluan diet?",dietaryOptions:{halal:"Halal",vegetarian:"Vegetarian",vegan:"Vegan",noPork:"Tiada Babi",noBeef:"Tiada Daging Lembu",glutenFree:"Bebas Gluten"},stepIndicator:"Langkah {{current}} dari {{total}}",readyPrompt:"Sedia untuk menjana pelan tersuai anda? AI akan menggunakan keutamaan ini untuk mencari tempat terbaik.",nextStep:"Langkah Seterusnya",companions:"Dengan siapa anda mengembara?",companionOptions:{solo:"Bersendirian",couple:"Pasangan",friends:"Rakan-rakan",family:"Keluarga"},generatePlan:"Jana Pelan Perjalanan",generating:"Mencipta itinerari sempurna anda..."},pD={title:"Wizard Makanan",cuisine:"Apakah masakan yang anda inginkan?",cuisineOptions:{local:"Tempatan Malaysia",chinese:"Cina",indian:"India",japanese:"Jepun",korean:"Korea",western:"Barat",thai:"Thai",malay:"Melayu",any:"Kejutkan Saya"},mealOptions:{breakfast:"Sarapan",lunch:"Makan Tengah Hari",dinner:"Makan Malam",snack:"Snek/Teh",supper:"Supper",cafe:"Kafe/Pencuci Mulut"},budgetDescriptions:{low:"Bawah RM 15/pax",medium:"RM 15-40/pax",high:"RM 40-80/pax",luxury:"RM 80+/pax"},dietaryOptions:{halal:"Halal",vegetarian:"Vegetarian",vegan:"Vegan",noPork:"Tiada Babi",noBeef:"Tiada Daging Lembu",glutenFree:"Bebas Gluten"},distanceOptions:{nearby:"Berjalan (< 1km)",short:"Pandu singkat (< 5km)",any:"Sebarang jarak"},stepIndicator:"Langkah {{current}} dari {{total}}",cravingPrompt:"Apa yang anda idamkan? (pilihan)",cravingDesc:"Pilih satu atau lebih, atau langkau untuk pelbagai cadangan",readyTitle:"Sedia untuk mencari hidangan sempurna anda!",next:"Seterusnya",mealType:"Hidangan apa?",vibe:"Apakah suasananya?",vibeOptions:{quick:"Makan Cepat",casual:"Santai",romantic:"Romantik",group:"Berkumpulan"},findFood:"Cari Makanan",finding:"Mencari pilihan sedap..."},mD={day:"Hari {{number}}",days:"{{count}} hari",activities:"{{count}} aktiviti",estimatedSpend:"Anggaran Kos",viewDetails:"Lihat Butiran",morning:"Pagi",afternoon:"Petang",evening:"Malam",night:"Malam",lunch:"Makan Tengah Hari",dinner:"Makan Malam",budget:"Bajet",tips:"Tip",savePlan:"Simpan Pelan",exportCalendar:"Eksport ke Kalendar",shareLink:"Kongsi Pautan",activityTypes:{attraction:"Tarikan",food:"Makanan",cafe:"Kafe",hotel:"Hotel",shopping:"Membeli-belah",transport:"Pengangkutan"},budgetPlaceholder:"RM 50"},gD={title:"Cadangan",distance:"{{distance}} jauhnya",rating:"{{rating}} bintang",priceLevel:"Harga: {{level}}",openNow:"Buka Sekarang",closed:"Tutup",directions:"Dapatkan Arah",addToPlan:"Tambah ke Pelan"},xD={sendFailed:"Gagal menghantar mesej. Sila cuba lagi.",loadFailed:"Gagal memuatkan sejarah perbualan.",aiError:"AI menghadapi ralat. Sila cuba lagi.",loadConversationFailed:"Gagal memuatkan perbualan",deleteFailed:"Gagal memadam",renameFailed:"Gagal menamakan semula",shareFailed:"Gagal berkongsi perbualan",copyFailed:"Gagal menyalin pautan",saveFailed:"Gagal menyimpan perjalanan",aiEditFailed:"Edit AI gagal, sila cuba lagi",itineraryParseError:"Maaf, ralat penghuraian data itinerari",dataParseError:"Maaf, ralat penghuraian data",connectionFailed:"Maaf, sambungan gagal. Ralat: {{error}}"},bD={conversationDeleted:"Perbualan dipadam",linkCopied:"Pautan disalin ke papan klip!",tripSaved:"Perjalanan disimpan!",placeAdded:'Menambah "{{name}}" ke pelan anda!'},vD={historyLocked:"Sejarah perbualan adalah ciri Premium",unlockHistory:"Naik taraf untuk menyimpan dan mengakses sejarah perbualan anda",upgradeNow:"Naik Taraf Sekarang"},yD={close:"Tutup",done:"Selesai",shareConversation:"Kongsi Perbualan",shareDescription:"Sesiapa sahaja yang mempunyai pautan ini boleh melihat perbualan ini.",copyLink:"Salin",copied:"Disalin",deleteConfirmation:"Padam perbualan ini?",saveTrip:"Simpan Pelan Perjalanan",tripSaved:"Disimpan ke Perjalanan Saya"},wD={premiumActive:"Premium Aktif",businessOpen:"Buka",location:"Lokasi"},jD={unnamedPlan:"Pelan Tanpa Nama",unknownName:"Nama Tidak Diketahui"},ND={itineraryGenerated:"Saya telah membuat jadual {{duration}} untuk {{destination}}. Lihat pelan terperinci di bawah!",foodRecommendations:"Saya jumpa {{count}} pilihan {{mealType}} yang hebat untuk anda. Lihat di bawah!",placeRecommendations:"Saya jumpa {{count}} tempat yang sesuai dengan permintaan anda. Semak di bawah!",activityEdited:"Berjaya mengemas kini {{count}} aktiviti berdasarkan arahan anda.",generalResponse:"Inilah yang saya jumpa untuk anda:"},kD={title:YI,subtitle:XI,placeholder:JI,placeholderExamples:ZI,placeholdersList:qI,send:eD,sending:tD,thinking:sD,typing:rD,newChat:nD,clearChat:aD,history:iD,noHistory:oD,startNewChat:lD,loadMore:cD,today:dD,yesterday:uD,daysAgo:AD,wizards:hD,tripWizard:fD,foodWizard:pD,dailyPlan:mD,recommendations:gD,errors:xD,messages:bD,premium:vD,modals:yD,badges:wD,defaults:jD,systemMessages:ND},CD={dashboard:"Papan Pemuka Perjalanan",aiPlanner:"Perancang AI",myTrips:"Perjalanan Saya",travelStories:"Cerita Perjalanan",notes:"Nota",calendar:"Kalendar",translate:"Terjemah",expenses:"Perbelanjaan",settings:"Tetapan",support:"Sokongan",billing:"Bil",premium:"Premium",adminPortal:"Portal Admin",helpSupport:"Bantuan & Sokongan",about:"Tentang"},BD={search:"Cari...",searchPlaceholder:"Cari perjalanan, tempat...",notifications:"Pemberitahuan",noNotifications:"Tiada pemberitahuan baharu",markAllRead:"Tandakan semua sudah dibaca",viewAll:"Lihat Semua",viewAllAnnouncements:"Lihat semua pengumuman"},SD={profile:"Profil",account:"Akaun",billing:"Bil & Pelan",settings:"Tetapan",help:"Bantuan & Sokongan",signOut:"Log Keluar",switchToAdmin:"Tukar ke Admin",switchToUser:"Tukar ke Paparan Pengguna"},ED={title:"Portal Admin",dashboard:"Papan Pemuka",users:"Pengguna",trips:"Perjalanan",subscriptions:"Langganan",notifications:"Pemberitahuan",settings:"Tetapan",systemLogs:"Log Sistem",messaging:"Pemesejan"},TD={copyright:"2024 GogoTrip. Hak cipta terpelihara.",terms:"Terma Perkhidmatan",privacy:"Dasar Privasi",contact:"Hubungi Kami"},UD={sidebar:CD,topBar:BD,userMenu:SD,admin:ED,footer:TD},FD={title:"Selamat Kembali",subtitle:"Log masuk untuk meneruskan perjalanan anda",email:"Alamat E-mel",emailPlaceholder:"Masukkan e-mel anda",password:"Kata Laluan",passwordPlaceholder:"Masukkan kata laluan anda",rememberMe:"Ingat saya",forgotPassword:"Lupa kata laluan?",signIn:"Log Masuk",signingIn:"Sedang log masuk...",noAccount:"Tiada akaun?",signUpLink:"Daftar",orContinueWithEmail:"Atau teruskan dengan e-mel",orContinueWith:"Atau teruskan dengan",googleSignIn:"Teruskan dengan Google"},LD={title:"Cipta Akaun",subtitle:"Mula merancang pengembaraan anda",fullName:"Nama Penuh",fullNamePlaceholder:"Masukkan nama penuh anda",email:"Alamat E-mel",emailPlaceholder:"Masukkan e-mel anda",password:"Kata Laluan",passwordPlaceholder:"Cipta kata laluan",confirmPassword:"Sahkan Kata Laluan",confirmPasswordPlaceholder:"Sahkan kata laluan anda",agreeTerms:"Saya bersetuju dengan",termsLink:"Terma Perkhidmatan",andText:"dan",privacyLink:"Dasar Privasi",signUp:"Cipta Akaun",signingUp:"Mencipta akaun...",hasAccount:"Sudah ada akaun?",signInLink:"Log masuk",backToSignUp:"Kembali ke Daftar"},MD={title:"Sahkan E-mel Anda",subtitle:"Kami telah menghantar kod pengesahan ke",enterCode:"Masukkan kod pengesahan",codePlaceholder:"Masukkan kod {{length}} digit",verify:"Sahkan",verifying:"Mengesahkan...",resendCode:"Hantar semula kod",resendIn:"Hantar semula dalam {{seconds}}s",codeSent:"Kod pengesahan dihantar!",verified:"E-mel berjaya disahkan!",redirecting:"Mengalihkan...",enterCodeDesc:"Masukkan kod dari e-mel anda atau klik pautan pengesahan",didntReceive:"Tidak menerima e-mel?",checkEmail:"Semak e-mel anda untuk kod pengesahan"},OD={title:"Tetapkan Semula Kata Laluan",subtitle:"Masukkan e-mel anda untuk menerima pautan tetapan semula",email:"Alamat E-mel",emailPlaceholder:"Masukkan e-mel anda",sendLink:"Hantar Pautan Tetapan Semula",sending:"Menghantar...",linkSent:"Pautan tetapan semula dihantar! Semak e-mel anda.",backToLogin:"Kembali ke log masuk"},ID={title:"Tetapkan Kata Laluan Baharu",subtitle:"Masukkan kata laluan baharu anda",newPassword:"Kata Laluan Baharu",newPasswordPlaceholder:"Masukkan kata laluan baharu",confirmPassword:"Sahkan Kata Laluan",confirmPasswordPlaceholder:"Sahkan kata laluan baharu",resetPassword:"Tetapkan Semula Kata Laluan",resetting:"Menetapkan semula...",success:"Kata laluan berjaya ditetapkan semula!",loginNow:"Log Masuk Sekarang"},DD={invalidEmail:"Sila masukkan alamat e-mel yang sah",invalidPassword:"Kata laluan mestilah sekurang-kurangnya 8 aksara",passwordMismatch:"Kata laluan tidak sepadan",emailExists:"Akaun dengan e-mel ini sudah wujud",invalidCredentials:"E-mel atau kata laluan tidak sah",accountNotVerified:"Sila sahkan e-mel anda terlebih dahulu",accountSuspended:"Akaun anda telah digantung",tooManyAttempts:"Terlalu banyak percubaan. Sila cuba lagi kemudian.",invalidCode:"Kod pengesahan tidak sah",codeExpired:"Kod telah tamat tempoh. Sila minta yang baharu.",networkError:"Ralat rangkaian. Sila semak sambungan anda."},RD={title:"Log Keluar",confirmMessage:"Adakah anda pasti mahu log keluar?",confirm:"Log Keluar",cancel:"Batal"},PD={login:FD,register:LD,verification:MD,forgotPassword:OD,resetPassword:ID,errors:DD,signOut:RD},QD="Papan Pemuka",_D="Selamat kembali, {{name}}!",HD="Selamat kembali!",zD="Pusat kawalan perjalanan anda",$D={countdown:"Pengembaraan anda seterusnya ke {{destination}} bermula dalam {{days}} hari.",empty:"Rancang pengembaraan anda hari ini!",badge:"SETERUSNYA: {{destination}} ({{days}}H)",badgeEmpty:"TIADA PERJALANAN"},VD={explored:"DIJELAJAH",ready:"SEDIA"},KD="Lihat Semua Perjalanan",GD="Mula Perancangan AI",WD={title:"Itinerari Akan Datang",viewFull:"Lihat Jadual Penuh",empty:"Tiada janji temu akan datang",planFirst:"Rancang perjalanan pertama anda"},YD={title:"Idea Perjalanan?",description:"Tidak pasti ke mana seterusnya? Tanya Perancang AI untuk cadangan.",button:"Tanya Perancang AI"},XD={title:"Draf Disimpan",empty:"Tiada draf disimpan"},JD={upcomingTrips:"Perjalanan Akan Datang",countriesVisited:"Negara Dilawati",savedItineraries:"Itinerari Disimpan",totalDistance:"Jumlah Jarak"},ZD={title:"Tindakan Pantas",planTrip:"Rancang Perjalanan",findFood:"Cari Makanan",viewTrips:"Lihat Perjalanan Saya",translate:"Terjemah"},qD={title:"Perjalanan Terkini",noTrips:"Tiada perjalanan lagi",startPlanning:"Mula merancang pengembaraan pertama anda!",createTrip:"Cipta Perjalanan",viewAll:"Lihat Semua Perjalanan"},eR={title:"Perjalanan Akan Datang",noUpcoming:"Tiada perjalanan akan datang",daysLeft:"{{days}} hari lagi",tomorrow:"Esok",today:"Hari Ini"},tR={title:"Cuaca",currentLocation:"Lokasi Semasa",feelsLike:"Terasa seperti",humidity:"Kelembapan",wind:"Angin"},sR={title:"Pemberitahuan Terkini",noNotifications:"Tiada pemberitahuan baharu",viewAll:"Lihat Semua"},rR={title:"Naik Taraf ke Premium",description:"Buka kunci perjalanan tanpa had, ciri AI, dan banyak lagi!",features:["Perancangan perjalanan tanpa had","Sejarah perbualan penuh","Respons AI keutamaan","Eksport ke kalendar"],upgradeNow:"Naik Taraf Sekarang"},nR={title:QD,welcome:_D,welcomeDefault:HD,subtitle:zD,nextTrip:$D,badges:VD,viewAllTrips:KD,startAiPlanning:GD,upcomingItinerary:WD,tripIdea:YD,savedDrafts:XD,stats:JD,quickActions:ZD,recentTrips:qD,upcomingTrips:eR,weather:tR,notifications:sR,premium:rR},aR={title:"Pelan Premium",subtitle:"Buka kunci perancangan perjalanan AI tanpa had dan ciri-ciri lanjutan",monthly:"Bulanan",yearly:"Tahunan",lifetime:"Seumur Hidup",mostPopular:"Paling Popular"},iR={monthly:{unlimitedPlanning:"Perancangan perjalanan AI tanpa had",routeOptimization:"Pengoptimuman laluan lanjutan",prioritySupport:"Sokongan keutamaan",budgetTracking:"Penjejakan bajet",calendarSync:"Penyegerakan kalendar"},yearly:{everythingMonthly:"Semua dalam Bulanan",twoMonthsFree:"2 bulan PERCUMA",earlyAccess:"Akses awal kepada ciri baharu",exclusiveTips:"Petua perjalanan eksklusif",noPriceIncrease:"Tiada kenaikan harga"},lifetime:{everythingYearly:"Semua dalam Tahunan",lifetimeUpdates:"Kemas kini seumur hidup",vipSupport:"Sokongan VIP",transferableLicense:"Lesen boleh dipindahkan",communityAccess:"Akses komuniti eksklusif"}},oR={activeTitle:"Langganan Premium Aktif",lifetimeAccess:"Akses Seumur Hidup",remainingDaysAdded:" Hari yang tinggal akan ditambah ke pelan baharu!",higherTierPlan:"Anda berada pada pelan peringkat lebih tinggi."},lR={plans:"Pelan",transactions:"Transaksi",redeemCode:"Tebus Kod"},cR={subscribeNow:"Langgan Sekarang",upgradePlan:"Naik Taraf Pelan",renewSubscription:"Perbaharui Langganan",currentPlan:"Pelan Semasa",currentPlanHigher:"Pelan Semasa Lebih Tinggi",renewExtend:"Perbaharui / Lanjutkan",continuePayment:"Teruskan Pembayaran",refreshStatus:"Muat Semula Status",cancel:"Batal",viewReceipt:"Lihat Resit"},dR={title:"Pembayaran Dalam Proses",expiresIn:"Tamat dalam {{time}}",sessionEnded:"Sesi pembayaran telah tamat. Sila buat pembayaran baru."},uR={title:"Sejarah Transaksi",noTransactions:"Tiada transaksi dijumpai",discount:"-RM{{amount}} diskaun",filters:{all:"Semua",pending:"Tertunda",paid:"Dibayar",expired:"Tamat Tempoh",cancelled:"Dibatalkan"}},AR={title:"Tebus Kod",description:"Masukkan kod pengaktifan atau baucar diskaun anda di bawah.",placeholder:"MASUKKAN KOD DI SINI",checkCode:"Semak Kod",validating:"Mengesahkan...",applied:"Baucar Digunakan"},hR={title:"Pengaktifan Premium",code:"Kod: {{code}}",youWillReceive:"Anda akan menerima:",daysPrefix:"{{days}} Hari Premium",lifetime:"Seumur Hidup",activateNow:"Aktifkan Sekarang",activating:"Mengaktifkan...",useDifferentCode:"Gunakan kod lain"},fR={percentOff:"{{percent}}% Diskaun",amountOff:"RM{{amount}} Potongan",selectPlan:"Pilih Pelan",confirmPay:"Sahkan & Bayar",refreshPrice:"Muat Semula Harga",calculatingDiscount:"Mengira diskaun..."},pR={planPrice:"Harga Pelan ({{planName}})",subtotal:"Subjumlah",total:"Jumlah Keseluruhan",processing:"Memproses...",proceedToPayment:"Teruskan ke Pembayaran"},mR={pending:"Tertunda",paid:"Dibayar",active:"Aktif",cancelled:"Dibatalkan",expired:"Tamat Tempoh",refunded:"Dikembalikan",failed:"Gagal"},gR={paymentSuccess:" Pembayaran berjaya! Keahlian premium anda telah dikemas kini.",membershipActivated:" Keahlian premium diaktifkan dengan jayanya!",planActive:" Pembayaran disahkan! Pelan anda kini aktif.",activatedWithVoucher:" Keahlian premium diaktifkan dengan baucar!"},xR={enterVoucherCode:"Sila masukkan kod baucar",invalidVoucher:"Kod baucar tidak sah",validateVoucherFailed:"Gagal mengesahkan baucar",selectPlan:"Sila pilih pelan.",paymentFailed:"Pembayaran gagal",continueFailed:"Gagal meneruskan pembayaran"},bR={plans:aR,features:iR,subscription:oR,tabs:lR,actions:cR,pending:dR,transactions:uR,voucher:AR,activation:hR,discount:fR,pricing:pR,status:mR,messages:gR,errors:xR},vR={title:"GogoTrip",subtitle:"Langganan Premium"},yR={orderInfo:"Maklumat Pesanan",subscriptionDetails:"Butiran Langganan"},wR={customerName:"Nama Pelanggan",email:"E-mel",orderReference:"Rujukan Pesanan",orderDate:"Tarikh Pesanan",validFrom:"Sah Dari",validUntil:"Sah Sehingga",lifetime:"Seumur Hidup"},jR={subtotal:"Subjumlah",tax:"Cukai (0%)",total:"Jumlah"},NR={thankYou:"Terima kasih kerana memilih GogoTrip Premium!",support:"Untuk soalan atau sokongan, sila hubungi kami di support@gogotrip.com"},kR={paymentSuccessful:"Pembayaran Berjaya",paymentPending:"Pembayaran Tertunda",paymentFailed:"Pembayaran Gagal",paymentCancelled:"Pembayaran Dibatalkan"},CR={backToBilling:"Kembali ke Pengebilan",refreshStatus:"Muat Semula Status",print:"Cetak",downloadPdf:"Muat Turun PDF",verifying:"Mengesahkan..."},BR={downloadSuccess:"Resit berjaya dimuat turun!",downloadFailed:"Gagal memuat turun PDF"},SR={orderNotFound:"ID pesanan tidak dijumpai",loadFailed:"Gagal memuatkan pesanan",networkError:"Ralat rangkaian berlaku",error:"Ralat"},ER={filename:"GogoTrip_Resit_{{orderRef}}.pdf"},TR={header:vR,sections:yR,fields:wR,pricing:jR,footer:NR,status:kR,actions:CR,messages:BR,errors:SR,pdf:ER},UR=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"zh",name:"Chinese",nativeName:"",flag:""},{code:"ms",name:"Malay",nativeName:"Bahasa Melayu",flag:""}],FR={en:{common:RF,settings:WF,chat:kL,nav:UL,auth:PL,dashboard:nM,billing:bM,receipt:TM},zh:{common:uO,settings:yO,chat:ZO,nav:n8,auth:A8,dashboard:U8,billing:K8,receipt:rI},ms:{common:RI,settings:WI,chat:kD,nav:UD,auth:PD,dashboard:nR,billing:bR,receipt:TR}},cy="gogotrip_language";fc.use($5).use(S6).init({resources:FR,fallbackLng:"en",supportedLngs:["en","zh","ms"],defaultNS:"common",ns:["common","settings","chat","nav","auth","dashboard","billing","receipt"],detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:cy},react:{useSuspense:!1},initImmediate:!0,interpolation:{escapeValue:!1},debug:!1});const ox=async s=>{await fc.changeLanguage(s),localStorage.setItem(cy,s)},V5=()=>{const s=fc.language;if(["en","zh","ms"].includes(s))return s;const e=s.split("-")[0];return["en","zh","ms"].includes(e)?e:"en"},Av=s=>{s&&["en","zh","ms"].includes(s)&&ox(s)},LR=[{id:"relaxed",icon:Em},{id:"energetic",icon:Ao},{id:"romantic",icon:bf},{id:"family",icon:Ld}],MR=[{id:"solo"},{id:"couple"},{id:"family"},{id:"friends"}],OR=[{id:"car",icon:i5},{id:"public",icon:Jo},{id:"walk",icon:t3}],IR=[{id:"low"},{id:"medium"},{id:"high"},{id:"luxury"}],DR=["halal","vegetarian","vegan","noBeef","noPork","glutenFree"],RR=({isOpen:s,onClose:e,onComplete:r})=>{const{t:n}=Eo("chat"),[a,l]=W.useState(1),[u,d]=W.useState({mood:"",companions:"",budget:"medium",transport:"",dietary:[]});if(!s)return null;const A=()=>{a<3?l(a+1):r(u)},o=f=>{d(p=>({...p,dietary:p.dietary.includes(f)?p.dietary.filter(m=>m!==f):[...p.dietary,f]}))};return t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-200 dark:border-slate-800 flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/50",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:n("tripWizard.title")}),t.jsx("p",{className:"text-xs text-slate-500",children:n("tripWizard.stepIndicator",{current:a,total:3})})]}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[a===1&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:n("tripWizard.mood")}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:LR.map(f=>t.jsxs("button",{onClick:()=>d({...u,mood:f.id}),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border transition-all ${u.mood===f.id?"border-sky-500 bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 ring-1 ring-sky-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(f.icon,{className:"w-6 h-6"}),t.jsx("span",{className:"text-sm font-medium",children:n(`tripWizard.moodOptions.${f.id}`)})]},f.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:n("tripWizard.companions")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:MR.map(f=>t.jsx("button",{onClick:()=>d({...u,companions:f.id}),className:`px-4 py-2 rounded-full text-sm font-medium border transition-all ${u.companions===f.id?"bg-slate-900 text-white dark:bg-white dark:text-slate-900 border-transparent":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-100"}`,children:n(`tripWizard.companionOptions.${f.id}`)},f.id))})]})]}),a===2&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Cf,{className:"w-4 h-4"})," ",n("tripWizard.budget")]}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:IR.map(f=>t.jsx("button",{onClick:()=>d({...u,budget:f.id}),className:`flex items-center justify-between p-3 rounded-xl border transition-all ${u.budget===f.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 ring-1 ring-emerald-500":"border-slate-200 dark:border-slate-700"}`,children:t.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:n(`tripWizard.budgetOptions.${f.id}`)})},f.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:n("tripWizard.transport")}),t.jsx("div",{className:"flex gap-2",children:OR.map(f=>t.jsxs("button",{onClick:()=>d({...u,transport:f.id}),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${u.transport===f.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(f.icon,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs font-medium",children:n(`tripWizard.transportOptions.${f.id}`)})]},f.id))})]})]}),a===3&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Wd,{className:"w-4 h-4"})," ",n("tripWizard.dietary")]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:DR.map(f=>t.jsx("button",{onClick:()=>o(f),className:`px-3 py-1.5 rounded-lg text-sm font-medium border transition-all ${u.dietary.includes(f)?"bg-rose-100 text-rose-700 border-rose-200 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:n(`tripWizard.dietaryOptions.${f}`)},f))})]}),t.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800 text-sm text-slate-600 dark:text-slate-400",children:t.jsx("p",{children:n("tripWizard.readyPrompt")})})]})]}),t.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900",children:t.jsx("button",{onClick:A,disabled:a===1&&(!u.mood||!u.companions),className:"w-full py-3 bg-gradient-to-r from-sky-500 to-blue-600 text-white font-bold rounded-xl shadow-lg shadow-sky-500/20 hover:shadow-sky-500/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a===3?t.jsxs(t.Fragment,{children:[t.jsx(Ao,{className:"w-5 h-5"})," ",n("tripWizard.generatePlan")]}):t.jsxs(t.Fragment,{children:[n("tripWizard.nextStep")," ",t.jsx(DA,{className:"w-5 h-5"})]})})})]})})},PR=[{id:"local",icon:""},{id:"chinese",icon:""},{id:"japanese",icon:""},{id:"korean",icon:""},{id:"western",icon:""},{id:"indian",icon:""},{id:"thai",icon:""},{id:"malay",icon:""}],QR=[{id:"quick",icon:Vi},{id:"casual",icon:Em},{id:"romantic",icon:bf},{id:"group",icon:Ld}],_R=[{id:"breakfast",icon:""},{id:"lunch",icon:""},{id:"dinner",icon:""},{id:"supper",icon:""},{id:"cafe",icon:""}],HR=[{id:"low",icon:"$"},{id:"medium",icon:"$$"},{id:"high",icon:"$$$"},{id:"luxury",icon:"$$$$"}],zR=[{id:"halal",icon:""},{id:"vegetarian",icon:""},{id:"vegan",icon:""},{id:"noPork",icon:""},{id:"noBeef",icon:""},{id:"glutenFree",icon:""}],$R=[{id:"nearby",value:"1"},{id:"short",value:"5"},{id:"any",value:"15"}],VR=({isOpen:s,onClose:e,onComplete:r,userLocation:n})=>{const{t:a}=Eo("chat"),[l,u]=W.useState(1),[d,A]=W.useState({cuisine:[],mood:"",budget:"medium",dietary:[],mealType:"",distance:"5"});if(!s)return null;const o=()=>{l<3?u(l+1):r(d)},f=x=>{A(b=>({...b,cuisine:b.cuisine.includes(x)?b.cuisine.filter(j=>j!==x):[...b.cuisine,x]}))},p=x=>{A(b=>({...b,dietary:b.dietary.includes(x)?b.dietary.filter(j=>j!==x):[...b.dietary,x]}))},m=()=>l===1?d.mealType&&d.mood:!0;return t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-200 dark:border-slate-800 flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl shadow-lg shadow-orange-500/20",children:t.jsx(Wd,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a("foodWizard.title")}),t.jsx("p",{className:"text-xs text-slate-500",children:a("foodWizard.stepIndicator",{current:l,total:3})})]})]}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-white/50 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[l===1&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4 text-orange-500"})," ",a("foodWizard.mealType")]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:_R.map(x=>t.jsxs("button",{onClick:()=>A({...d,mealType:x.id}),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${d.mealType===x.id?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx("span",{className:"text-lg",children:x.icon}),t.jsx("span",{className:"text-sm font-medium",children:a(`foodWizard.mealOptions.${x.id}`)})]},x.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:a("foodWizard.vibe")}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:QR.map(x=>t.jsxs("button",{onClick:()=>A({...d,mood:x.id}),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border transition-all ${d.mood===x.id?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(x.icon,{className:"w-6 h-6"}),t.jsx("span",{className:"text-sm font-bold",children:a(`foodWizard.vibeOptions.${x.id}`)})]},x.id))})]})]}),l===2&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Cf,{className:"w-4 h-4 text-emerald-500"})," ",a("tripWizard.budget")]}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:HR.map(x=>t.jsxs("button",{onClick:()=>A({...d,budget:x.id}),className:`flex items-center justify-between p-3 rounded-xl border transition-all ${d.budget===x.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 ring-1 ring-emerald-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white block",children:a(`tripWizard.budgetOptions.${x.id}`)}),t.jsx("span",{className:"text-[10px] text-slate-500",children:a(`foodWizard.budgetDescriptions.${x.id}`)})]}),t.jsx("span",{className:"text-lg font-bold text-emerald-600",children:x.icon})]},x.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(F3,{className:"w-4 h-4 text-green-500"})," ",a("tripWizard.dietary")]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:zR.map(x=>t.jsxs("button",{onClick:()=>p(x.id),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium border transition-all ${d.dietary.includes(x.id)?"bg-green-100 text-green-700 border-green-300 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{children:x.icon}),t.jsx("span",{children:a(`foodWizard.dietaryOptions.${x.id}`)})]},x.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Jo,{className:"w-4 h-4 text-blue-500"})," ",a("recommendations.distance")]}),t.jsx("div",{className:"flex gap-2",children:$R.map(x=>t.jsx("button",{onClick:()=>A({...d,distance:x.value}),className:`flex-1 py-2.5 px-3 rounded-xl text-sm font-medium border transition-all ${d.distance===x.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:a(`foodWizard.distanceOptions.${x.id}`)},x.id))})]})]}),l===3&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Wd,{className:"w-4 h-4 text-orange-500"})," ",a("foodWizard.cravingPrompt")]}),t.jsx("p",{className:"text-xs text-slate-500",children:a("foodWizard.cravingDesc")}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:PR.map(x=>t.jsxs("button",{onClick:()=>f(x.id),className:`flex flex-col items-center gap-1 p-3 rounded-xl border transition-all ${d.cuisine.includes(x.id)?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{className:"text-2xl",children:x.icon}),t.jsx("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:a(`foodWizard.cuisineOptions.${x.id}`)})]},x.id))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 p-4 rounded-xl border border-orange-100 dark:border-orange-800/30",children:[t.jsxs("h4",{className:"text-sm font-bold text-orange-800 dark:text-orange-300 mb-2 flex items-center gap-2",children:[t.jsx(Ao,{className:"w-4 h-4"})," ",a("foodWizard.readyTitle")]}),t.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-400 space-y-1",children:[t.jsxs("p",{children:[" ",a(`foodWizard.mealOptions.${d.mealType}`),"  ",a(`foodWizard.vibeOptions.${d.mood}`)]}),t.jsxs("p",{children:[" ",a("tripWizard.budget"),": ",a(`foodWizard.budgetDescriptions.${d.budget}`)]}),d.dietary.length>0&&t.jsxs("p",{children:[" ",a("tripWizard.dietary"),": ",d.dietary.map(x=>a(`foodWizard.dietaryOptions.${x}`)).join(", ")]}),d.cuisine.length>0&&t.jsxs("p",{children:[" ",a("foodWizard.cuisine"),": ",d.cuisine.map(x=>a(`foodWizard.cuisineOptions.${x}`)).join(", ")]})]})]})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex gap-3",children:[l>1&&t.jsx("button",{onClick:()=>u(l-1),className:"px-4 py-3 text-slate-600 dark:text-slate-400 font-medium rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:"Back"}),t.jsx("button",{onClick:o,disabled:!m(),className:"flex-1 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold rounded-xl shadow-lg shadow-orange-500/20 hover:shadow-orange-500/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l===3?t.jsxs(t.Fragment,{children:[t.jsx(Ao,{className:"w-5 h-5"})," ",a("foodWizard.findFood")]}):t.jsxs(t.Fragment,{children:[a("foodWizard.next")," ",t.jsx(DA,{className:"w-5 h-5"})]})})]})]})})},KR=s=>s.place_id?`${It}/proxy_image?place_id=${s.place_id}`:s.google_place_id?`${It}/proxy_image?google_place_id=${encodeURIComponent(s.google_place_id)}`:s.photo_reference&&s.photo_reference!=="N/A"?`${It}/proxy_image?ref=${encodeURIComponent(s.photo_reference)}`:s.name?`${It}/proxy_image?name=${encodeURIComponent(s.name)}`:`${It}/proxy_image/default`,GR=({place:s,onAddToItinerary:e,onViewDetails:r,compact:n=!1})=>{const[a,l]=W.useState(!1),u=KR(s),d=()=>{},A=f=>f?typeof f=="string"?f:"$".repeat(Math.min(f,4)):null,o=f=>{f.stopPropagation(),l(!a)};return n?t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 hover:shadow-md transition-all cursor-pointer group",onClick:()=>r==null?void 0:r(s),children:[t.jsx("img",{src:u,onError:d,alt:s.name,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm truncate",children:s.name}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-0.5",children:[s.rating&&t.jsxs("span",{className:"flex items-center gap-0.5",children:[t.jsx(tA,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),s.rating.toFixed(1)]}),A(s.price_level)&&t.jsx("span",{className:"text-emerald-600 font-bold",children:A(s.price_level)}),s.distance&&t.jsx("span",{children:s.distance})]})]}),e&&t.jsx("button",{onClick:f=>{f.stopPropagation(),e(s)},className:"p-2 text-slate-400 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx($i,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 overflow-hidden shadow-sm hover:shadow-xl transition-all group",children:[t.jsxs("div",{className:"relative h-40 overflow-hidden",children:[t.jsx("img",{src:u,onError:d,alt:s.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[s.is_open_now!==void 0&&t.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-bold uppercase ${s.is_open_now?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:s.is_open_now?"Open":"Closed"}),s.cuisine_type&&t.jsx("span",{className:"px-2 py-1 rounded-lg text-[10px] font-bold uppercase bg-white/90 text-slate-700",children:s.cuisine_type})]}),t.jsx("button",{onClick:o,className:`absolute top-3 right-3 p-2 rounded-full transition-all ${a?"bg-rose-500 text-white":"bg-white/90 text-slate-600 hover:bg-rose-500 hover:text-white"}`,children:t.jsx(bf,{className:`w-4 h-4 ${a?"fill-current":""}`})}),t.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:s.rating&&t.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-white/95 rounded-lg text-xs font-bold text-slate-800",children:[t.jsx(tA,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),s.rating.toFixed(1),s.review_count&&t.jsxs("span",{className:"text-slate-400 font-normal",children:["(",s.review_count,")"]})]})}),A(s.price_level)&&t.jsx("span",{className:"px-2 py-1 bg-emerald-500 text-white rounded-lg text-xs font-bold",children:A(s.price_level)})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white mb-1 line-clamp-1",children:s.name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-start gap-1 mb-3 line-clamp-2",children:[t.jsx(Jo,{className:"w-3.5 h-3.5 flex-shrink-0 mt-0.5"}),s.address]}),s.dietary_tags&&s.dietary_tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:s.dietary_tags.map((f,p)=>t.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded text-[10px] font-bold",children:f},p))}),s.description&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-3 line-clamp-2",children:s.description}),t.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-100 dark:border-slate-700",children:[s.google_place_id&&t.jsxs("a",{href:`https://www.google.com/maps/place/?q=place_id:${s.google_place_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-sky-600 dark:hover:text-sky-400 hover:bg-sky-50 dark:hover:bg-sky-900/20 rounded-lg transition-colors",children:[t.jsx(A5,{className:"w-4 h-4"}),"Directions"]}),e&&t.jsxs("button",{onClick:()=>e(s),className:"flex-1 flex items-center justify-center gap-1 py-2 text-sm font-bold text-white bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 rounded-lg transition-all",children:[t.jsx($i,{className:"w-4 h-4"}),"Add to Plan"]})]})]})]})},WR=({places:s,onAddToItinerary:e,title:r="Food Recommendations",loading:n=!1})=>{const[a,l]=W.useState(0),u=Uc.useRef(null),d=A=>{if(!u.current)return;const o=296,f=A==="left"?Math.max(0,a-1):Math.min(s.length-1,a+1);l(f),u.current.scrollTo({left:f*o,behavior:"smooth"})};return n?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Wd,{className:"w-5 h-5 text-orange-500"}),r]}),t.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3].map(A=>t.jsxs("div",{className:"w-[280px] flex-shrink-0 bg-slate-100 dark:bg-slate-800 rounded-2xl animate-pulse",children:[t.jsx("div",{className:"h-40 bg-slate-200 dark:bg-slate-700 rounded-t-2xl"}),t.jsxs("div",{className:"p-4 space-y-3",children:[t.jsx("div",{className:"h-5 bg-slate-200 dark:bg-slate-700 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),t.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2"})]})]},A))})]}):!s||s.length===0?t.jsxs("div",{className:"text-center py-8 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[t.jsx(Wd,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No food recommendations found"}),t.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:"Try adjusting your preferences"})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Wd,{className:"w-5 h-5 text-orange-500"}),r,t.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",s.length," found)"]})]}),s.length>2&&t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>d("left"),disabled:a===0,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>d("right"),disabled:a>=s.length-2,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(hc,{className:"w-5 h-5"})})]})]}),t.jsx("div",{ref:u,className:"flex gap-4 overflow-x-auto pb-4 scroll-smooth [&::-webkit-scrollbar]:hidden",children:s.map((A,o)=>t.jsx("div",{className:"w-[280px] flex-shrink-0",children:t.jsx(GR,{place:A,onAddToItinerary:e})},A.id||o))})]})},YR=(s,e,r)=>{if(e)return`${It}/proxy_image?place_id=${e}`;if(r)return`${It}/proxy_image?name=${encodeURIComponent(r)}`;if(s&&!s.includes("unsplash.com")&&(s.includes("photo_reference")||s.includes("AF1Qip")||s.includes("photos/"))){const n=s.includes("photos/")?s.split("photos/").pop():s;if(n)return`${It}/proxy_image?ref=${encodeURIComponent(n)}`}return`${It}/proxy_image/default`},XR=({type:s,className:e="w-4 h-4"})=>{switch(s){case"food":return t.jsx(Wd,{className:e});case"attraction":return t.jsx(Yg,{className:e});case"cafe":return t.jsx(Em,{className:e});case"hotel":return t.jsx(Jg,{className:e});case"shopping":return t.jsx(tx,{className:e});case"transport":return t.jsx(Wg,{className:e});default:return t.jsx(Jo,{className:e})}},JR=({slot:s})=>{const{t:e}=Eo("chat"),r={morning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",lunch:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",afternoon:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400",evening:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400",night:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${r[s]||r.morning}`,children:e(`dailyPlan.${s}`)||s})},ZR=({activity:s,onSave:e,onCancel:r,onDelete:n})=>{const{t:a}=Eo("chat"),[l,u]=W.useState({...s}),d=[{value:"morning",label:a("dailyPlan.morning")},{value:"lunch",label:a("dailyPlan.lunch")},{value:"afternoon",label:a("dailyPlan.afternoon")},{value:"evening",label:a("dailyPlan.evening")},{value:"night",label:a("dailyPlan.night")}],A=[{value:"attraction",label:a("dailyPlan.activityTypes.attraction")},{value:"food",label:a("dailyPlan.activityTypes.food")},{value:"cafe",label:a("dailyPlan.activityTypes.cafe")},{value:"hotel",label:a("dailyPlan.activityTypes.hotel")},{value:"shopping",label:a("dailyPlan.activityTypes.shopping")},{value:"transport",label:a("dailyPlan.activityTypes.transport")}];return t.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a("dailyPlan.editActivity")}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.startTime")}),t.jsx("input",{type:"time",value:l.start_time,onChange:o=>u({...l,start_time:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.endTime")}),t.jsx("input",{type:"time",value:l.end_time,onChange:o=>u({...l,end_time:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.timeSlot")}),t.jsx("select",{value:l.time_slot,onChange:o=>u({...l,time_slot:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",children:d.map(o=>t.jsx("option",{value:o.value,children:o.label},o.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.type")}),t.jsx("select",{value:l.activity_type,onChange:o=>u({...l,activity_type:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",children:A.map(o=>t.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.placeName")}),t.jsx("input",{type:"text",value:l.place_name,onChange:o=>u({...l,place_name:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:a("dailyPlan.placeNamePlaceholder")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.address")}),t.jsx("input",{type:"text",value:l.place_address,onChange:o=>u({...l,place_address:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:a("dailyPlan.addressPlaceholder")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.description")}),t.jsx("textarea",{value:l.description,onChange:o=>u({...l,description:o.target.value}),rows:3,className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none resize-none",placeholder:a("dailyPlan.descriptionPlaceholder")})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.budget")}),t.jsx("input",{type:"text",value:l.budget_estimate,onChange:o=>u({...l,budget_estimate:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:a("dailyPlan.budgetPlaceholder")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:a("dailyPlan.tips")}),t.jsx("input",{type:"text",value:l.tips||"",onChange:o=>u({...l,tips:o.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:a("dailyPlan.optional")})]})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl text-sm font-medium transition-colors",children:[t.jsx(Zo,{className:"w-4 h-4"}),a("dailyPlan.delete")]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl text-sm font-medium transition-colors",children:a("dailyPlan.cancel")}),t.jsxs("button",{onClick:()=>e(l),className:"flex items-center gap-2 px-5 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-xl text-sm font-bold transition-colors",children:[t.jsx(QA,{className:"w-4 h-4"}),a("dailyPlan.save")]})]})]})]})})},qR=({selectedCount:s,onSubmit:e,onCancel:r,isLoading:n})=>{const{t:a}=Eo("chat"),[l,u]=W.useState(""),d=[a("dailyPlan.aiSuggest1"),a("dailyPlan.aiSuggest2"),a("dailyPlan.aiSuggest3"),a("dailyPlan.aiSuggest4"),a("dailyPlan.aiSuggest5"),a("dailyPlan.aiSuggest6")];return t.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl",children:t.jsx(tv,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a("dailyPlan.aiEditTitle")}),t.jsx("p",{className:"text-xs text-slate-500",children:a("dailyPlan.selectedCount",{count:s})})]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:a("dailyPlan.aiInstructionLabel")}),t.jsx("textarea",{value:l,onChange:A=>u(A.target.value),placeholder:a("dailyPlan.aiInstructionPlaceholder"),rows:4,className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none resize-none",disabled:n})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:a("dailyPlan.quickSuggestions")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((A,o)=>t.jsx("button",{onClick:()=>u(A),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 text-xs rounded-full hover:bg-purple-100 dark:hover:bg-purple-900/30 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",disabled:n,children:A},o))})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-800 flex justify-end gap-3",children:[t.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl text-sm font-medium transition-colors",disabled:n,children:a("dailyPlan.cancel")}),t.jsx("button",{onClick:()=>e(l),disabled:!l.trim()||n,className:"flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-xl text-sm font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a("dailyPlan.processing")]}):t.jsxs(t.Fragment,{children:[t.jsx(tv,{className:"w-4 h-4"}),a("dailyPlan.startEdit")]})})]})]})})},eP=({plan:s,onClose:e,onSave:r,onEditActivity:n})=>{const{t:a}=Eo("chat"),[l,u]=W.useState(s),[d,A]=W.useState(0),[o,f]=W.useState(null),[p,m]=W.useState(!1),[x,b]=W.useState(!1),[j,y]=W.useState(new Set),[T,R]=W.useState(!1),[z,X]=W.useState(!1),Y=l.days[d],Q=()=>A(re=>Math.max(0,re-1)),K=()=>A(re=>Math.min(l.days.length-1,re+1)),ce=re=>{re.currentTarget.src=`${It}/proxy_image/default`},ue=(re,Ee,De)=>{f({dayIdx:re,actIdx:Ee,activity:De})},Ne=re=>{if(!o)return;const Ee={...l};Ee.days=[...l.days],Ee.days[o.dayIdx]={...l.days[o.dayIdx]},Ee.days[o.dayIdx].activities=[...l.days[o.dayIdx].activities],Ee.days[o.dayIdx].activities[o.actIdx]=re,Ee.days[o.dayIdx].day_summary={...Ee.days[o.dayIdx].day_summary,total_activities:Ee.days[o.dayIdx].activities.length},u(Ee),m(!0),f(null),n(o.dayIdx,o.actIdx,re)},le=()=>{if(!o)return;const re={...l};re.days=[...l.days],re.days[o.dayIdx]={...l.days[o.dayIdx]},re.days[o.dayIdx].activities=l.days[o.dayIdx].activities.filter((Ee,De)=>De!==o.actIdx),re.days[o.dayIdx].day_summary={...re.days[o.dayIdx].day_summary,total_activities:re.days[o.dayIdx].activities.length},u(re),m(!0),f(null)},Ce=()=>{f(null)},oe=()=>{x&&y(new Set),b(!x)},je=(re,Ee)=>{const De=`${re}-${Ee}`,Se=new Set(j);Se.has(De)?Se.delete(De):Se.add(De),y(Se)},Ae=(re,Ee)=>j.has(`${re}-${Ee}`),se=()=>{const re=[];return j.forEach(Ee=>{const[De,Se]=Ee.split("-"),fe=parseInt(De),be=parseInt(Se);l.days[fe]&&l.days[fe].activities[be]&&re.push({dayIdx:fe,actIdx:be,activity:l.days[fe].activities[be]})}),re},pe=async re=>{const Ee=se();if(Ee.length!==0){X(!0);try{const De=await fetch(`${It}/api/ai/edit-activities`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({activities:Ee.map(fe=>({day_index:fe.dayIdx,activity_index:fe.actIdx,activity:fe.activity})),instructions:re,plan_context:{title:l.title,destination:l.title,preferences:l.user_preferences_applied}})});if(!De.ok)throw new Error("AI edit request failed");const Se=await De.json();if(Se.success&&Se.updated_activities){const fe={...l};fe.days=l.days.map((be,he)=>({...be,activities:be.activities.map((te,ge)=>{const Le=Se.updated_activities.find(Ve=>Ve.day_index===he&&Ve.activity_index===ge);return Le?Le.activity:te})})),u(fe),m(!0),b(!1),y(new Set)}}catch(De){console.error("AI Edit failed:",De),alert(a("errors.aiEditFailed"))}finally{X(!1),R(!1)}}};return t.jsxs("div",{className:"fixed inset-0 z-[70] bg-white dark:bg-slate-900 flex flex-col overflow-hidden animate-in fade-in duration-200",children:[t.jsx("div",{className:"shrink-0 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:l.title}),t.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2",children:[t.jsx("span",{children:l.duration}),t.jsx("span",{children:""}),t.jsx("span",{children:l.total_budget_estimate})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:oe,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${x?"bg-purple-500 text-white shadow-lg shadow-purple-500/20":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-purple-100 dark:hover:bg-purple-900/30 hover:text-purple-600 dark:hover:text-purple-400"}`,children:[t.jsx(tv,{className:"w-4 h-4"}),a(x?"dailyPlan.cancelSelect":"dailyPlan.aiEdit")]}),x&&j.size>0&&t.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-bold text-sm shadow-lg shadow-purple-500/20 hover:from-purple-600 hover:to-pink-600 transition-all animate-in slide-in-from-right-2",children:[t.jsx(Ao,{className:"w-4 h-4"}),a("dailyPlan.editSelected",{count:j.size})]}),t.jsxs("button",{onClick:()=>r(l),className:`flex items-center gap-2 px-5 py-2.5 text-white font-bold rounded-xl shadow-lg transition-all active:scale-95 ${p?"bg-emerald-500 hover:bg-emerald-600 shadow-emerald-500/20":"bg-sky-500 hover:bg-sky-600 shadow-sky-500/20"}`,children:[p?t.jsx(QA,{className:"w-4 h-4"}):t.jsx(Xg,{className:"w-4 h-4"}),a(p?"dailyPlan.saveChanges":"dailyPlan.savePlan")]})]})]})}),t.jsx("div",{className:"shrink-0 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Q,disabled:d===0,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("div",{className:"flex-1 flex gap-2 overflow-x-auto py-1 [&::-webkit-scrollbar]:hidden",children:l.days.map((re,Ee)=>t.jsx("button",{onClick:()=>A(Ee),className:`shrink-0 px-4 py-2 rounded-xl font-medium text-sm transition-all ${d===Ee?"bg-sky-500 text-white shadow-md shadow-sky-500/20":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-sky-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("span",{className:"font-bold",children:a("dailyPlan.day",{number:re.day_number})}),t.jsx("span",{className:"text-[10px] opacity-75",children:re.theme})]})},re.day_number))}),t.jsx("button",{onClick:K,disabled:d===l.days.length-1,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(hc,{className:"w-5 h-5"})})]})})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-8",children:[Y.top_locations&&Y.top_locations.length>0&&t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Ao,{className:"w-4 h-4"})," ",a("dailyPlan.highlights")]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.top_locations.map((re,Ee)=>t.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden group cursor-pointer shadow-lg",children:[t.jsx("img",{src:YR(re.image_url,re.place_id,re.name),onError:ce,alt:re.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:re.name}),t.jsx("p",{className:"text-white/80 text-xs",children:re.highlight_reason})]})]},Ee))})]}),t.jsx("section",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-5 border border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-wrap gap-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-900/30 rounded-lg",children:t.jsx(co,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:a("dailyPlan.totalActivities")}),t.jsxs("p",{className:"font-bold text-slate-900 dark:text-white",children:[Y.day_summary.total_activities," ",a("dailyPlan.items")]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:t.jsx(Cf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:a("dailyPlan.estimatedCost")}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:Y.day_summary.total_budget})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:t.jsx(Wg,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:a("dailyPlan.transportTips")}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:Y.day_summary.transport_notes})]})]})]})}),t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4"})," ",a("dailyPlan.itineraryDetails")]}),t.jsx("div",{className:"space-y-4",children:Y.activities.map((re,Ee)=>t.jsxs("div",{className:"relative pl-8 group",children:[Ee<Y.activities.length-1&&t.jsx("div",{className:"absolute left-[11px] top-10 bottom-0 w-0.5 bg-slate-200 dark:bg-slate-700"}),t.jsx("div",{className:`absolute left-0 top-2 w-6 h-6 rounded-full flex items-center justify-center shadow-md ${re.activity_type==="food"?"bg-orange-500":re.activity_type==="attraction"?"bg-sky-500":re.activity_type==="cafe"?"bg-amber-500":"bg-slate-500"}`,children:t.jsx(XR,{type:re.activity_type,className:"w-3 h-3 text-white"})}),t.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border p-5 shadow-sm hover:shadow-lg transition-all cursor-pointer ${x&&Ae(d,Ee)?"border-purple-400 dark:border-purple-500 ring-2 ring-purple-400/30":"border-slate-100 dark:border-slate-700"}`,onClick:()=>x&&je(d,Ee),children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[x&&t.jsx("button",{onClick:De=>{De.stopPropagation(),je(d,Ee)},className:`p-1 rounded-md transition-all ${Ae(d,Ee)?"bg-purple-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:Ae(d,Ee)?t.jsx(Yo,{className:"w-4 h-4"}):t.jsx(YE,{className:"w-4 h-4"})}),t.jsx(JR,{slot:re.time_slot}),t.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[re.start_time," - ",re.end_time]})]}),!x&&t.jsx("button",{onClick:()=>ue(d,Ee,re),className:"p-1.5 text-slate-300 hover:text-sky-500 hover:bg-sky-50 dark:hover:bg-sky-900/30 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(f5,{className:"w-4 h-4"})})]}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:re.place_name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-1 mb-3",children:[t.jsx(Jo,{className:"w-3 h-3"}),re.place_address]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed mb-4",children:re.description}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[t.jsx("span",{className:"px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 rounded-lg font-bold",children:re.budget_estimate}),re.dietary_info&&t.jsx("span",{className:"px-2 py-1 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-400 rounded-lg font-medium",children:re.dietary_info}),re.tips&&t.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[t.jsx(El,{className:"w-3 h-3"})," ",re.tips]})]})]})]},Ee))})]}),l.practical_info&&t.jsxs("section",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-2xl p-5 border border-amber-100 dark:border-amber-800/30",children:[t.jsxs("h2",{className:"text-sm font-bold text-amber-800 dark:text-amber-400 mb-3 flex items-center gap-2",children:[t.jsx(El,{className:"w-4 h-4"})," ",a("dailyPlan.practicalInfo")]}),t.jsxs("div",{className:"space-y-2 text-sm text-amber-700 dark:text-amber-300",children:[l.practical_info.best_transport&&t.jsxs("p",{children:[t.jsxs("strong",{children:[a("dailyPlan.transport"),":"]})," ",l.practical_info.best_transport]}),l.practical_info.weather_advisory&&t.jsxs("p",{children:[t.jsxs("strong",{children:[a("dailyPlan.weather"),":"]})," ",l.practical_info.weather_advisory]}),l.practical_info.booking_recommendations&&l.practical_info.booking_recommendations.length>0&&t.jsxs("div",{children:[t.jsxs("strong",{children:[a("dailyPlan.bookingAdvice"),":"]}),t.jsx("ul",{className:"list-disc list-inside mt-1",children:l.practical_info.booking_recommendations.map((re,Ee)=>t.jsx("li",{children:re},Ee))})]})]})]})]})}),o&&t.jsx(ZR,{activity:o.activity,onSave:Ne,onCancel:Ce,onDelete:le}),T&&t.jsx(qR,{selectedCount:j.size,onSubmit:pe,onCancel:()=>R(!1),isLoading:z})]})},tP=({suggestion:s,onClose:e,onSave:r,onUpdate:n,isSaved:a})=>{const{t:l}=Eo("chat"),[u,d]=W.useState(null),[A,o]=W.useState(null),f=(x,b)=>{d(x),o({...b})},p=()=>{if(u!==null&&s.itinerary){const x=[...s.itinerary];x[u]=A,n({...s,itinerary:x}),d(null)}},m=x=>{x.currentTarget.src=`${It}/proxy_image/default`};return t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 relative flex flex-col max-h-[85vh] overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"relative h-48 sm:h-64 shrink-0 group",children:[t.jsx("img",{src:s.imageUrl,onError:m,alt:s.title,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),t.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-black/30 hover:bg-black/50 text-white rounded-full backdrop-blur-md transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[t.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-2 drop-shadow-md",children:s.title}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.map(x=>t.jsx("span",{className:"px-2.5 py-1 rounded-lg bg-white/20 backdrop-blur-md text-white text-xs font-bold uppercase tracking-wider border border-white/10",children:x},x)),t.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-emerald-500/80 backdrop-blur-md text-white text-xs font-bold flex items-center gap-1 border border-white/10",children:[t.jsx("span",{className:"opacity-75",children:"Est."})," ",s.priceEstimate]})]})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8 space-y-8 custom-scrollbar bg-white dark:bg-slate-900",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[t.jsx(El,{className:"w-3 h-3"})," About"]}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-sm sm:text-base bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl border border-slate-100 dark:border-slate-800",children:s.description})]}),s.itinerary&&Array.isArray(s.itinerary)&&s.itinerary.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(co,{className:"w-3 h-3"})," Itinerary"]}),t.jsx("div",{className:"space-y-4",children:s.itinerary.map((x,b)=>{var j,y,T;return t.jsxs("div",{className:"relative pl-6 pb-2 border-l-2 border-slate-100 dark:border-slate-800 last:border-0 group/item",children:[t.jsx("div",{className:"absolute left-[-5px] top-0 w-2.5 h-2.5 rounded-full bg-sky-500 ring-4 ring-white dark:ring-slate-900"}),u===b?t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border-2 border-sky-500 shadow-lg space-y-3",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{value:A.day_number,onChange:R=>o({...A,day_number:R.target.value}),className:"w-16 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-2 py-1 text-xs font-bold",placeholder:"Day"}),t.jsx("input",{value:A.start_time,onChange:R=>o({...A,start_time:R.target.value}),className:"w-20 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-2 py-1 text-xs font-bold",placeholder:"Time"})]}),t.jsx("input",{value:A.custom_title||((j=A.place)==null?void 0:j.name),onChange:R=>o({...A,custom_title:R.target.value}),className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm font-bold",placeholder:"Activity Title"}),t.jsx("textarea",{value:A.custom_notes,onChange:R=>o({...A,custom_notes:R.target.value}),className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm",placeholder:"Notes",rows:2}),t.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[t.jsx("button",{onClick:()=>d(null),className:"px-3 py-1.5 text-xs font-bold text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),t.jsx("button",{onClick:p,className:"px-3 py-1.5 text-xs font-bold bg-sky-500 text-white rounded-lg hover:bg-sky-600",children:"Save Changes"})]})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 border border-slate-100 dark:border-slate-700 hover:border-sky-200 dark:hover:border-sky-900 transition-all hover:shadow-md group relative",children:[t.jsx("button",{onClick:()=>f(b,x),className:"absolute top-2 right-2 p-1.5 text-slate-300 hover:text-sky-500 hover:bg-sky-50 dark:hover:bg-sky-900/30 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(ex,{className:"w-3.5 h-3.5"})}),t.jsx("div",{className:"flex items-start justify-between mb-1.5",children:t.jsxs("span",{className:"text-[10px] font-bold text-sky-600 dark:text-sky-400 bg-sky-50 dark:bg-sky-900/20 px-2 py-0.5 rounded uppercase tracking-wider",children:["Day ",x.day_number,"  ",x.start_time]})}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white mb-1 text-sm",children:x.custom_title||((y=x.place)==null?void 0:y.name)||"Activity"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2 leading-relaxed",children:x.custom_notes||((T=x.place)==null?void 0:T.address)})]})]},b)})})]}),s.reviews&&s.reviews.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(tA,{className:"w-3 h-3"})," Reviews"]}),t.jsx("div",{className:"space-y-3",children:s.reviews.slice(0,3).map((x,b)=>t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl text-sm border border-slate-100 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[t.jsx("div",{className:"flex text-amber-400",children:[...Array(5)].map((j,y)=>t.jsx(tA,{className:`w-3 h-3 ${y<Math.round(x.rating)?"fill-current":"opacity-30"}`},y))}),t.jsx("span",{className:"font-bold text-xs text-slate-700 dark:text-slate-300",children:x.rating})]}),t.jsxs("p",{className:"text-slate-600 dark:text-slate-400 italic text-xs leading-relaxed",children:['"',x.text,'"']})]},b))})]})]}),t.jsxs("div",{className:"p-5 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex gap-3",children:[t.jsx("button",{onClick:e,className:"px-6 py-3.5 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:l("modals.close")}),t.jsxs("button",{onClick:()=>r(s),className:`flex-1 py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg active:scale-[0.98] ${a?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800":"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-500 text-white shadow-sky-500/25"}`,children:[a?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(Xg,{className:"w-5 h-5"}),l(a?"modals.tripSaved":"modals.saveTrip")]})]})]})})},sP=Uc.memo(({suggestion:s,isSaved:e,onViewDetails:r,onToggleSave:n})=>t.jsxs("div",{className:"w-full md:w-auto md:min-w-[280px] md:max-w-[320px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl isolate transform-gpu flex-shrink-0 snap-start transition-all duration-300 ease-out cursor-pointer group hover:scale-105",children:[t.jsxs("div",{className:"h-36 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),t.jsx("div",{className:"absolute bottom-3 left-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight tracking-tight",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(a=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:a},a))}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Cost"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.priceEstimate})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:a=>{a.stopPropagation(),r(s)},className:"p-2 rounded-xl text-slate-400 hover:text-sky-600 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all",title:"View Details",children:t.jsx(El,{className:"w-4 h-4"})}),t.jsxs("button",{onClick:a=>{a.stopPropagation(),n(s)},className:`flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold transition-all ${e?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 text-white"}`,children:[e?t.jsx(uo,{className:"w-3.5 h-3.5"}):t.jsx(Xg,{className:"w-3.5 h-3.5"}),e?"Added":"Add"]})]})]})]})]})),rP=({suggestions:s,savedSuggestions:e,onViewDetails:r,onToggleSave:n})=>{const a=W.useRef(null),[l,u]=W.useState(0),d=()=>{var f;if(a.current){const p=a.current.scrollLeft,m=((f=a.current.firstElementChild)==null?void 0:f.clientWidth)||300;u(Math.round(p/m))}},A=()=>{var f;return(f=a.current)==null?void 0:f.scrollBy({left:-340,behavior:"smooth"})},o=()=>{var f;return(f=a.current)==null?void 0:f.scrollBy({left:340,behavior:"smooth"})};return t.jsxs("div",{className:"relative group/list",children:[t.jsxs("div",{className:"hidden md:block opacity-0 group-hover/list:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:A,className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-5 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("button",{onClick:o,className:"absolute right-0 top-1/2 -translate-y-1/2 -mr-1 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(hc,{className:"w-5 h-5"})})]}),t.jsx("div",{ref:a,onScroll:d,className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:s.map(f=>t.jsx(sP,{suggestion:f,isSaved:e.includes(f.id),onViewDetails:r,onToggleSave:n},f.id))}),t.jsx("div",{className:"flex justify-center gap-1.5 mt-2",children:s.map((f,p)=>t.jsx("div",{className:`h-1.5 rounded-full transition-all ${p===l?"w-6 bg-sky-500":"w-1.5 bg-slate-200 dark:bg-slate-700"}`},p))})]})},nP=Uc.memo(({plan:s,onViewDetails:e,onSave:r,isSaved:n})=>{const{t:a}=Eo("chat"),l=()=>{var o,f,p;const A=(p=(f=(o=s.days)==null?void 0:o[0])==null?void 0:f.top_locations)==null?void 0:p[0];return A!=null&&A.place_id?`${It}/proxy_image?place_id=${A.place_id}`:A!=null&&A.name?`${It}/proxy_image?name=${encodeURIComponent(A.name)}`:`${It}/proxy_image/default`},u=A=>{A.currentTarget.src=`${It}/proxy_image/default`},d=s.days.reduce((A,o)=>{var f;return A+(((f=o.activities)==null?void 0:f.length)||0)},0);return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[320px] md:max-w-[380px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl isolate transform-gpu flex-shrink-0 snap-start transition-all duration-300 ease-out cursor-pointer group hover:scale-[1.02] hover:shadow-xl",children:[t.jsxs("div",{className:"h-40 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:l(),onError:u,alt:s.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1 bg-sky-500/90 backdrop-blur-sm rounded-full text-white text-xs font-bold flex items-center gap-1.5",children:[t.jsx(co,{className:"w-3 h-3"}),s.duration]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight tracking-tight drop-shadow-md",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.slice(0,4).map(A=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:A},A))}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(co,{className:"w-3.5 h-3.5"}),s.days.length," ",a("dailyPlan.days",{count:s.days.length})]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Jo,{className:"w-3.5 h-3.5"}),d," ",a("dailyPlan.activities",{count:d})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:a("dailyPlan.estimatedSpend")}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.total_budget_estimate})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:A=>{A.stopPropagation(),e(s)},className:"flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 text-white transition-all",children:[t.jsx(El,{className:"w-3.5 h-3.5"}),a("dailyPlan.viewDetails")]}),t.jsx("button",{onClick:A=>{A.stopPropagation(),r(s)},className:`p-2 rounded-xl transition-all ${n?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-slate-100 dark:bg-slate-800 text-slate-400 hover:text-sky-600"}`,children:n?t.jsx(uo,{className:"w-4 h-4"}):t.jsx(Xg,{className:"w-4 h-4"})})]})]})]})]})}),aP=({plans:s,savedPlans:e,onViewDetails:r,onSave:n})=>{const a=W.useRef(null),l=()=>{var d;return(d=a.current)==null?void 0:d.scrollBy({left:-380,behavior:"smooth"})},u=()=>{var d;return(d=a.current)==null?void 0:d.scrollBy({left:380,behavior:"smooth"})};return t.jsxs("div",{className:"relative group/list",children:[s.length>1&&t.jsxs("div",{className:"hidden md:block opacity-0 group-hover/list:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:l,className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-5 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("button",{onClick:u,className:"absolute right-0 top-1/2 -translate-y-1/2 -mr-1 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(hc,{className:"w-5 h-5"})})]}),t.jsx("div",{ref:a,className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:s.map((d,A)=>t.jsx(nP,{plan:d,isSaved:e.includes(d.title),onViewDetails:r,onSave:n},`${d.title}-${A}`))})]})},iP=({conversations:s,activeConversationId:e,isLoading:r,isPremium:n,isOpen:a,onSelectConversation:l,onNewConversation:u,onDeleteConversation:d,onRenameConversation:A,onToggleSidebar:o,onUpgrade:f})=>{const{t:p}=Eo(["chat","common"]),[m,x]=W.useState(null),[b,j]=W.useState(""),[y,T]=W.useState(null),R=Q=>{x(Q.id),j(Q.title),T(null)},z=()=>{m&&b.trim()&&A(m,b.trim()),x(null),j("")},X=Q=>{const K=new Date(Q),ue=Math.floor((new Date().getTime()-K.getTime())/(1e3*60*60*24));return ue===0?p("today"):ue===1?p("yesterday"):ue<7?p("daysAgo",{count:ue}):K.toLocaleDateString()},Y=s.reduce((Q,K)=>{const ce=X(K.updatedAt);return Q[ce]||(Q[ce]=[]),Q[ce].push(K),Q},{});return t.jsx(t.Fragment,{children:t.jsxs("div",{className:`
        absolute md:static inset-y-0 left-0 z-50 md:z-auto
        w-72 md:w-full md:h-full
        bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800
        flex flex-col transition-transform duration-300 ease-in-out md:transition-none
        ${a?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,children:[t.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:t.jsxs("button",{onClick:u,disabled:!n,className:`w-full flex items-center justify-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 
                       border border-slate-200 dark:border-slate-700 rounded-xl
                       hover:bg-slate-50 dark:hover:bg-slate-700 transition-all
                       disabled:opacity-50 disabled:cursor-not-allowed`,children:[t.jsx($i,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:p("newChat")})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:n?r?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(Fr,{className:"w-6 h-6 text-slate-400 animate-spin"})}):s.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Mh,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:p("noHistory")}),t.jsx("p",{className:"text-xs mt-1",children:p("startNewChat")})]}):Object.entries(Y).map(([Q,K])=>t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:Q}),K.map(ce=>t.jsxs("div",{className:`
                      group relative flex items-center gap-2 px-3 py-2.5 rounded-lg cursor-pointer
                      transition-all duration-150
                      ${e===ce.id?"bg-sky-100 dark:bg-sky-900/30 text-sky-700 dark:text-sky-300":"hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-300"}
                    `,onClick:()=>l(ce.id),children:[t.jsx(Mh,{className:"w-4 h-4 flex-shrink-0 opacity-60"}),m===ce.id?t.jsx("input",{type:"text",value:b,onChange:ue=>j(ue.target.value),onBlur:z,onKeyDown:ue=>ue.key==="Enter"&&z(),className:"flex-1 bg-white dark:bg-slate-700 px-2 py-1 rounded text-sm outline-none",autoFocus:!0,onClick:ue=>ue.stopPropagation()}):t.jsx("span",{className:"flex-1 truncate text-sm font-medium",children:ce.title}),t.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:ue=>{ue.stopPropagation(),T(y===ce.id?null:ce.id)},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded",children:t.jsx($S,{className:"w-4 h-4"})}),y===ce.id&&t.jsxs("div",{className:"absolute right-2 top-full mt-1 py-1 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 z-10 min-w-[120px]",children:[t.jsxs("button",{onClick:ue=>{ue.stopPropagation(),R(ce)},className:"w-full px-3 py-2 text-left text-sm hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center gap-2",children:[t.jsx(ex,{className:"w-3.5 h-3.5"}),p("common:rename")]}),t.jsxs("button",{onClick:ue=>{ue.stopPropagation(),d(ce.id),T(null)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[t.jsx(Zo,{className:"w-3.5 h-3.5"}),p("common:delete")]})]})]})]},ce.id))]},Q)):t.jsxs("div",{className:"p-4 text-center",children:[t.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl mb-3",children:[t.jsx(Kd,{className:"w-8 h-8 text-amber-500 mx-auto mb-2"}),t.jsx("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:p("premium.historyLocked")}),t.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:p("premium.unlockHistory")})]}),f&&t.jsx("button",{onClick:f,className:"w-full px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-bold rounded-xl transition-all",children:p("premium.upgradeNow")})]})}),n&&t.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 rounded-lg",children:[t.jsx(Kd,{className:"w-4 h-4 text-amber-500"}),t.jsx("span",{className:"text-xs font-bold text-amber-700 dark:text-amber-300",children:p("badges.premiumActive")})]})})]})})},Zw=({user:s})=>{var tn,wa;const{t:e}=Eo("chat"),{conversationId:r}=Gg();$l();const[n,a]=W.useState([]),[l,u]=W.useState(null),[d,A]=W.useState(!1),[o,f]=W.useState(!0),[p,m]=W.useState(!1),[x,b]=W.useState(!1),[j,y]=W.useState([]),[T,R]=W.useState(!1),[z,X]=W.useState(!1),[Y,Q]=W.useState(null),[K,ce]=W.useState(!1),[ue,Ne]=W.useState(!1),[le,Ce]=W.useState([]),[oe,je]=W.useState(""),[Ae,se]=W.useState([]),[pe,re]=W.useState([]),[Ee,De]=W.useState(null),[Se,fe]=W.useState(null),[be,he]=W.useState(""),[te,ge]=W.useState(!0),[Le,Ve]=W.useState(0),[kt,Bt]=W.useState(null),[We,Lt]=W.useState(null),[$t,ls]=W.useState(null),[Ts,Pe]=W.useState(null),[ut,St]=W.useState(!1),[Is,us]=W.useState(!1),[br,hr]=W.useState(null),ar=W.useRef(null),Fs=W.useRef(null),Cs=(s==null?void 0:s.isPremium)||((tn=s==null?void 0:s.subscription)==null?void 0:tn.status)==="active"||!1,Bs=(Us,Ds="info")=>{fe({message:Us,type:Ds}),setTimeout(()=>fe(null),3e3)},vr=Us=>Us.map((Ds,sr)=>{const ms=()=>Ds.id||Ds.place_id?`${It}/proxy_image?place_id=${Ds.id||Ds.place_id}`:Ds.google_place_id?`${It}/proxy_image?google_place_id=${encodeURIComponent(Ds.google_place_id)}`:Ds.photo_reference&&Ds.photo_reference!=="N/A"?`${It}/proxy_image?ref=${encodeURIComponent(Ds.photo_reference)}`:Ds.name?`${It}/proxy_image?name=${encodeURIComponent(Ds.name)}`:`${It}/proxy_image/default`;return Ds.itinerary&&Array.isArray(Ds.itinerary)?{id:Ds.id||`ai-plan-${sr}-${Date.now()}`,title:Ds.title||e("defaults.unnamedPlan"),description:Ds.description||"",duration:Ds.duration||"Custom Trip",priceEstimate:Ds.priceEstimate||"N/A",tags:Ds.tags||["Plan"],imageUrl:ms(),itinerary:Ds.itinerary,reviews:[],fullAddress:Ds.description,rating:5}:{id:`g-place-${sr}-${Date.now()}`,title:Ds.name||e("defaults.unknownName"),description:`${Ds.address||""} | : ${Ds.rating||"N/A"}`,duration:"Place",priceEstimate:Ds.price_level?"$".repeat(Ds.price_level.length):"N/A",tags:Ds.business_status==="OPERATIONAL"?[e("badges.businessOpen"),e("badges.location")]:[e("badges.location")],imageUrl:ms(),itinerary:null,reviews:Ds.review_list||[],fullAddress:Ds.address,rating:Ds.rating}}),gr=W.useCallback(async()=>{if(Cs){A(!0);try{const Us=await fetch(`${It}/api/conversations`,{credentials:"include"});if(Us.status===403)return;if(!Us.ok)throw new Error("Failed to fetch");const Ds=await Us.json();a(Ds.conversations||[])}catch(Us){console.error("Failed to fetch conversations:",Us)}finally{A(!1)}}},[Cs]),en=async Us=>{try{const Ds=await fetch(`${It}/api/conversations/${Us}`,{credentials:"include"});if(!Ds.ok)throw new Error("Failed to load");const ms=(await Ds.json()).conversation;if(ms!=null&&ms.messages){const Or=ms.messages.map(Pr=>{let Ar,Da,fa,fn=Pr.content;if(Pr.content.startsWith("DAILY_PLAN::"))try{const jn=Pr.content.substring(12);Da=[JSON.parse(jn)],fn=""}catch(jn){console.error("Failed to parse daily plan from history:",jn)}else if(Pr.content.startsWith("FOOD_DATA::"))try{const jn=Pr.content.substring(11),dn=JSON.parse(jn);dn.recommendations&&(fa=dn.recommendations,fn="")}catch(jn){console.error("Failed to parse food data from history:",jn)}else if(Pr.content.startsWith("POPUP_DATA::"))try{const jn=Pr.content.substring(12);Ar=vr(JSON.parse(jn)),fn=""}catch{}else if(Pr.suggestions)try{Ar=vr(Pr.suggestions)}catch{}else Pr.dailyPlans&&(Da=Pr.dailyPlans);return{id:`msg-${Pr.id}`,sender:Pr.role==="user"?"user":"ai",text:fn,timestamp:new Date(Pr.createdAt),suggestions:Ar,dailyPlans:Da,foodRecommendations:fa}});Ce(Or),u(Us)}}catch(Ds){console.error("Failed to load conversation:",Ds),Bs(e("errors.loadConversationFailed"),"error")}},Nr=()=>{u(null),Ce([])},er=async Us=>{if(confirm(e("modals.deleteConfirmation")))try{if(!(await fetch(`${It}/api/conversations/${Us}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete");a(sr=>sr.filter(ms=>ms.id!==Us)),l===Us&&(u(null),Ce([])),Bs(e("messages.conversationDeleted"),"success")}catch{Bs(e("errors.deleteFailed"),"error")}},Ys=async(Us,Ds)=>{try{if(!(await fetch(`${It}/api/conversations/${Us}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:Ds})})).ok)throw new Error("Failed to rename");a(ms=>ms.map(Or=>Or.id===Us?{...Or,title:Ds}:Or))}catch{Bs(e("errors.renameFailed"),"error")}},Es=async()=>{if(!(!l||!Cs)){X(!0);try{const Us=await fetch(`${It}/api/conversations/${l}/share`,{method:"POST",credentials:"include"});if(!Us.ok)throw new Error("Failed to share");const Ds=await Us.json(),sr=`${window.location.origin}${Ds.shareUrl}`;Q(sr),ce(!0)}catch{Bs(e("errors.shareFailed"),"error")}finally{X(!1)}}},ft=async()=>{if(Y)try{await navigator.clipboard.writeText(Y),Ne(!0),Bs(e("messages.linkCopied"),"success"),setTimeout(()=>Ne(!1),2e3)}catch{Bs(e("errors.copyFailed"),"error")}},Vt=()=>{ce(!1),Q(null),Ne(!1)},js=async Us=>{m(!1),Nr();const Ds=e(`tripWizard.moodOptions.${Us.mood}`),sr=e(`tripWizard.budgetOptions.${Us.budget}`),ms=e(`tripWizard.companionOptions.${Us.companions}`);je(e("wizards.generatedPrompt",{mood:Ds,budget:sr,companions:ms})),Fs.current&&Fs.current.focus()},Vs=async Us=>{b(!1),R(!0),y([]);const Ds=e(`foodWizard.mealOptions.${Us.mealType}`),sr={id:`food-search-${Date.now()}`,sender:"ai",text:e("wizards.foodSearchMessage",{meal:Ds}),timestamp:new Date};Ce(ms=>[...ms,sr]);try{const Or=await(await fetch(`${It}/api/food/recommendations`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({preferences:Us,coordinates:$t})})).json();if(Or.success&&Or.recommendations){y(Or.recommendations);const Pr={id:`food-result-${Date.now()}`,sender:"ai",text:e("wizards.foodResultMessage",{count:Or.recommendations.length}),timestamp:new Date,foodRecommendations:Or.recommendations};Ce(Ar=>[...Ar.filter(Da=>Da.id!==sr.id),Pr])}else throw new Error(Or.error||"Failed to get recommendations")}catch(ms){console.error("Food recommendations error:",ms),Ce(Or=>Or.map(Pr=>Pr.id===sr.id?{...Pr,text:e("wizards.foodErrorMessage")}:Pr))}finally{R(!1)}},or=Us=>{Bs(e("messages.placeAdded",{name:Us.name}),"success")},yt=async()=>{if(!oe.trim()||ut)return;const Us={id:Date.now().toString(),sender:"user",text:oe,timestamp:new Date};Ce(sr=>[...sr,Us]);const Ds=oe;je(""),St(!0);try{const sr=le.map(fn=>({role:fn.sender==="user"?"user":"model",parts:[fn.text]})),ms=await fetch(`${It}/chat_message`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:Ds,conversationId:l,history:sr,coordinates:$t,language:V5()})});if(!ms.ok){const fn=await ms.json();throw new Error(fn.error||`HTTP error: ${ms.status}`)}const Or=await ms.json();let Pr=Or.reply||"AI ",Ar,Da;if(Pr.includes("DAILY_PLAN::"))try{const fn="DAILY_PLAN::",jn=Pr.indexOf(fn),dn=Pr.substring(0,jn).trim(),la=Pr.substring(jn+fn.length),Dn=JSON.parse(la);Da=[Dn],Pr=dn||e("chat:systemMessages.itineraryGenerated",{duration:Dn.duration,destination:Dn.title})}catch(fn){console.error("Failed to parse daily plan:",fn),Pr=e("errors.itineraryParseError")}else if(Pr.startsWith("POPUP_DATA::"))try{const fn=JSON.parse(Pr.substring(12));Ar=vr(fn),Pr=` ${Ar.length} `}catch{Pr=e("errors.dataParseError")}const fa={id:(Date.now()+1).toString(),sender:"ai",text:Pr,timestamp:new Date,suggestions:Ar,dailyPlans:Da};Or.conversationId&&!l&&(u(Or.conversationId),gr()),Cs?(St(!1),Ce(fn=>[...fn,fa])):(hr(fa),us(!0))}catch(sr){console.error("Send message error:",sr),St(!1),Ce(ms=>[...ms,{id:(Date.now()+1).toString(),sender:"ai",text:e("errors.connectionFailed",{error:sr.message||sr}),timestamp:new Date}])}},qt=()=>{us(!1),St(!1),br&&(Ce(Us=>[...Us,br]),hr(null))},As=Us=>{Us.key==="Enter"&&!Us.shiftKey&&(Us.preventDefault(),yt())},hs=W.useCallback(async Us=>{const Ds=Us.id,sr=Ae.includes(Ds);if(se(ms=>sr?ms.filter(Or=>Or!==Ds):[...ms,Ds]),!sr)try{if(!(await fetch(`${It}/api/trips/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Us),credentials:"include"})).ok)throw new Error("Failed to save trip");Bs(e("messages.tripSaved"),"success")}catch{se(Or=>Or.filter(Pr=>Pr!==Ds)),Bs(e("errors.saveFailed"),"error")}},[Ae]),Ks=Us=>{Bt(Us)},$s=Us=>{Pe(Us)},fr=W.useCallback(async Us=>{const Ds=Us.title,sr=pe.includes(Ds);if(re(ms=>sr?ms.filter(Or=>Or!==Ds):[...ms,Ds]),!sr)try{if(!(await fetch(`${It}/api/trips/save_daily_plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Us),credentials:"include"})).ok)throw new Error("Failed to save");Bs(e("messages.tripSaved"),"success")}catch{re(Or=>Or.filter(Pr=>Pr!==Ds)),Bs(e("errors.saveFailed"),"error")}},[pe]);return W.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(Us=>{ls({latitude:Us.coords.latitude,longitude:Us.coords.longitude})},Us=>console.warn("GPS Error:",Us),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},[]),W.useEffect(()=>{Cs&&gr()},[Cs,gr]),W.useEffect(()=>{if(r){const Us=parseInt(r,10);!isNaN(Us)&&Us!==l&&en(Us)}else Cs&&n.length>0&&!l&&en(n[0].id)},[Cs,n,r]),W.useEffect(()=>{const Us=setTimeout(()=>{var Ds;(Ds=ar.current)==null||Ds.scrollIntoView({behavior:"smooth"})},100);return()=>clearTimeout(Us)},[le,ut]),W.useEffect(()=>{Fs.current&&(Fs.current.style.height="56px",Fs.current.style.height=Math.min(Fs.current.scrollHeight,200)+"px")},[oe]),W.useEffect(()=>{const Us=e("placeholdersList",{returnObjects:!0});!be&&Us.length>0&&he(Us[0]);const Ds=setInterval(()=>{ge(!1),setTimeout(()=>{he(sr=>{const ms=e("placeholdersList",{returnObjects:!0}),Or=ms.indexOf(sr),Pr=Or===-1?0:(Or+1)%ms.length;return ms[Pr]}),ge(!0)},300)},4e3);return()=>clearInterval(Ds)},[e,be]),t.jsxs("div",{className:"flex h-full relative bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[o&&t.jsx("div",{className:"absolute md:hidden inset-0 bg-black/50 z-40",onClick:()=>f(!1)}),t.jsx("div",{className:`
        contents
        md:block md:shrink-0 md:transition-all md:duration-300 md:ease-in-out
        ${o?"md:w-72":"md:w-0 md:overflow-hidden"}
      `,children:t.jsx(iP,{conversations:n,activeConversationId:l,isLoading:d,isPremium:Cs,isOpen:o,onSelectConversation:en,onNewConversation:Nr,onDeleteConversation:er,onRenameConversation:Ys,onToggleSidebar:()=>f(!o),onUpgrade:()=>window.location.href="/billing"})}),t.jsxs("div",{className:"flex-1 min-w-0 flex flex-col relative overflow-hidden",children:[Se&&t.jsxs("div",{className:`absolute top-4 right-4 z-50 px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 ${Se.type==="success"?"bg-emerald-500 text-white":Se.type==="error"?"bg-red-500 text-white":"bg-slate-800 text-white"}`,children:[Se.type==="success"&&t.jsx(uo,{className:"w-4 h-4"}),Se.type==="error"&&t.jsx(qo,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:Se.message})]}),t.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm flex items-center gap-3",children:[t.jsx("button",{onClick:()=>f(!o),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:o?t.jsx(cE,{className:"w-5 h-5"}):t.jsx(uE,{className:"w-5 h-5"})}),Cs&&t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-100 to-yellow-100 dark:from-amber-900/30 dark:to-yellow-900/30 rounded-full",children:[t.jsx(Kd,{className:"w-3.5 h-3.5 text-amber-600"}),t.jsx("span",{className:"text-xs font-bold text-amber-700 dark:text-amber-300",children:"PRO"})]}),l&&t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 truncate flex-1",children:((wa=n.find(Us=>Us.id===l))==null?void 0:wa.title)||"Chat"}),l&&Cs&&le.length>0&&t.jsxs("button",{onClick:Es,disabled:z,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors disabled:opacity-50",title:"Share conversation",children:[z?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):t.jsx(K0,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col space-y-8",children:[le.length===0&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-6",children:[t.jsx("div",{className:"w-20 h-20 rounded-3xl bg-slate-100 dark:bg-slate-900 flex items-center justify-center border border-slate-200 dark:border-slate-800 shadow-sm mb-4",children:t.jsx(V0,{className:"w-10 h-10 text-sky-500 dark:text-indigo-400"})}),t.jsxs("div",{className:"space-y-2 max-w-md",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:e("wizards.whereToNext","Where to next?")}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e("wizards.welcomeDesc","I can help you plan the perfect trip based on your budget, mood, and preferences.")})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-full shadow-lg shadow-sky-500/20 transition-all hover:scale-105 active:scale-95",children:[t.jsx(Ao,{className:"w-4 h-4"}),e("wizards.planTrip","Plan a Trip")]}),t.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold rounded-full shadow-lg shadow-orange-500/20 transition-all hover:scale-105 active:scale-95",children:[t.jsx(Wd,{className:"w-4 h-4"}),e("wizards.findFood","Find Food")]})]})]}),le.map(Us=>{const Ds=Us.sender==="user";return t.jsxs("div",{className:`flex w-full flex-col ${Ds?"items-end":"items-start"}`,children:[t.jsxs("div",{className:`flex gap-4 max-w-[90%] md:max-w-[70%] ${Ds?"flex-row-reverse":"flex-row"}`,children:[t.jsx("div",{className:"flex-shrink-0 mt-2",children:Ds?t.jsx("img",{src:s.avatarUrl,alt:"User",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-800 shadow-sm object-cover"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md",children:t.jsx(np,{className:"w-5 h-5 text-white"})})}),t.jsxs("div",{className:`flex flex-col gap-1 p-5 rounded-[1.5rem] shadow-sm ${Ds?"bg-sky-600 dark:bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 border border-slate-100 dark:border-slate-800 rounded-tl-sm"}`,children:[t.jsx("p",{className:"text-[15px] leading-relaxed whitespace-pre-wrap font-medium",children:Us.text}),t.jsx("span",{className:`text-[10px] font-bold ${Ds?"text-sky-100":"text-slate-400"} self-end mt-1`,children:Us.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),Us.suggestions&&Us.suggestions.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(rP,{suggestions:Us.suggestions,savedSuggestions:Ae,onViewDetails:Ks,onToggleSave:hs})}),Us.dailyPlans&&Us.dailyPlans.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(aP,{plans:Us.dailyPlans,savedPlans:pe,onViewDetails:$s,onSave:fr})}),Us.foodRecommendations&&Us.foodRecommendations.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(WR,{places:Us.foodRecommendations,onAddToItinerary:or,title:"Recommended for You"})})]},Us.id)}),ut&&t.jsx("div",{className:"flex w-full flex-col items-start",children:t.jsxs("div",{className:"flex gap-4 max-w-[90%] md:max-w-[70%]",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md animate-pulse",children:t.jsx(np,{className:"w-5 h-5 text-white animate-spin"})}),t.jsx("div",{className:"flex flex-col gap-1 p-5 rounded-[1.5rem] shadow-sm bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-tl-sm",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}}),t.jsx("span",{className:"text-sm text-slate-500 ml-2",children:e("thinking")})]})})]})})]}),t.jsx("div",{ref:ar})]}),t.jsx("div",{className:"px-4 md:px-6 pb-6 pt-4",children:t.jsxs("div",{className:"relative w-full max-w-3xl mx-auto bg-white dark:bg-slate-900 rounded-[2rem] shadow-2xl border border-slate-200 dark:border-slate-800 flex items-end",children:[t.jsxs("div",{className:"absolute left-4 bottom-[8px] flex gap-1 z-10",children:[t.jsx("button",{className:"p-2.5 text-slate-400 hover:text-sky-600 transition-all rounded-xl",children:t.jsx(hE,{className:"w-5 h-5"})}),t.jsx("button",{className:"p-2.5 text-slate-400 hover:text-sky-600 transition-all rounded-xl",children:t.jsx(u5,{className:"w-5 h-5"})})]}),!oe&&t.jsx("div",{className:`absolute left-28 right-20 top-[18px] pointer-events-none text-slate-400 font-medium text-base transition-all duration-500 truncate ${te?"opacity-100":"opacity-0"}`,children:be}),t.jsx("textarea",{ref:Fs,value:oe,onChange:Us=>je(Us.target.value),onKeyDown:As,className:"w-full bg-transparent text-slate-900 dark:text-slate-100 font-medium rounded-[2rem] pt-[18px] pb-[14px] pl-28 pr-16 focus:outline-none resize-none h-auto overflow-hidden leading-normal",style:{minHeight:"56px"}}),t.jsx("div",{className:"absolute right-5 bottom-[8px]",children:t.jsx("button",{onClick:yt,disabled:!oe.trim()||ut,className:"p-2.5 bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-2xl transition-all",children:t.jsx(Sh,{className:"w-5 h-4"})})})]})}),t.jsx(HU,{isOpen:Is,onClose:qt}),t.jsx(RR,{isOpen:p,onClose:()=>m(!1),onComplete:js}),t.jsx(VR,{isOpen:x,onClose:()=>b(!1),onComplete:Vs,userLocation:$t}),kt&&t.jsx(tP,{suggestion:kt,onClose:()=>Bt(null),onSave:hs,onUpdate:Bt,isSaved:Ae.includes(kt.id)}),Ts&&t.jsx(eP,{plan:Ts,onClose:()=>Pe(null),onSave:async Us=>{try{(await fetch(`${It}/api/trips/save_daily_plan`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Us)})).ok?(re(sr=>sr.includes(Us.title)?sr:[...sr,Us.title]),Bs(e("messages.tripSaved"),"success"),Pe(null)):Bs(e("errors.saveFailed"),"error")}catch{Bs(e("errors.saveFailed"),"error")}},onEditActivity:(Us,Ds,sr)=>{console.log("Edit activity:",Us,Ds,sr)}}),K&&Y&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(K0,{className:"w-5 h-5 text-sky-500"}),e("modals.shareConversation")]}),t.jsx("button",{onClick:Vt,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:e("modals.shareDescription")}),t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-100 dark:bg-slate-800 rounded-xl",children:[t.jsx(Zg,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),t.jsx("input",{type:"text",value:Y,readOnly:!0,className:"flex-1 bg-transparent text-sm text-slate-700 dark:text-slate-300 outline-none truncate"}),t.jsx("button",{onClick:ft,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${ue?"bg-emerald-500 text-white":"bg-sky-500 hover:bg-sky-600 text-white"}`,children:ue?t.jsxs(t.Fragment,{children:[t.jsx(Yo,{className:"w-4 h-4"}),e("modals.copied")]}):t.jsxs(t.Fragment,{children:[t.jsx(Xb,{className:"w-4 h-4"}),e("modals.copyLink")]})})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsx("button",{onClick:Vt,className:"w-full py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:e("modals.done")})})]})})]})]})},K5=({isOpen:s,onClose:e,onGoToSettings:r,featureName:n="This feature"})=>s?t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",onClick:e,children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-6 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",onClick:a=>a.stopPropagation(),children:[t.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:t.jsx(qr,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center bg-amber-100 dark:bg-amber-900/30",children:t.jsx(c5,{className:"w-8 h-8 text-amber-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Google Account Not Linked"}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed px-2",children:[n," requires a linked Google account.",t.jsx("br",{}),"Would you like to go to Settings to link your Google account now?"]})]}),t.jsxs("div",{className:"flex items-center gap-2 py-2 px-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),t.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Link to enable Calendar features"})]}),t.jsxs("div",{className:"flex gap-3 w-full pt-2",children:[t.jsx("button",{onClick:e,className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:"Cancel"}),t.jsxs("button",{onClick:r,className:"flex-1 py-3 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-sky-500/25 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[t.jsx(Tm,{className:"w-4 h-4"}),"Go to Settings"]})]}),t.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 flex items-center gap-1.5",children:[t.jsx(qo,{className:"w-3 h-3"}),"Your data stays secure with Google OAuth"]})]})]})}):null,G5=({user:s,onShowWarning:e,onNavigateToSettings:r})=>{const[n,a]=W.useState(!1),[l,u]=W.useState(""),d=W.useCallback(()=>s?s.authProvider==="google"?!0:s.hasGoogleLinked===!0:!1,[s]),A=W.useCallback(m=>d()?!0:(u(m),a(!0),!1),[d]),o=W.useCallback(()=>{a(!1),u(""),r?r():window.location.href="/settings#google-linking"},[r]),f=W.useCallback(()=>{a(!1),u(""),e&&e("Google account not linked. This feature cannot be used until you link your Google account in Settings.")},[e]),p=W.useCallback(()=>{a(!1),u("")},[]);return{isGoogleLinked:d,requireGoogleLink:A,showLinkDialog:n,pendingFeature:l,handleGoToSettings:o,handleCancelLink:f,closeLinkDialog:p}},q0=0,oP=24,Qp=Array.from({length:oP-q0},(s,e)=>e+q0),qw=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],lP=["January","February","March","April","May","June","July","August","September","October","November","December"],cP=({user:s})=>{const[e,r]=W.useState(new Date),[n,a]=W.useState("week"),[l,u]=W.useState([]),[d,A]=W.useState(!1),[o,f]=W.useState(!1),{requireGoogleLink:p,showLinkDialog:m,pendingFeature:x,handleGoToSettings:b,handleCancelLink:j}=G5({user:s,onShowWarning:te=>Ne(te,"error")}),[y,T]=W.useState(!1),[R,z]=W.useState(!1),[X,Y]=W.useState(null),[Q,K]=W.useState(null),[ce,ue]=W.useState({title:"",dateStr:"",startTime:"09:00",endTime:"10:00",type:"activity"}),Ne=(te,ge="success")=>{Y({message:te,type:ge}),setTimeout(()=>Y(null),3e3)},le=async()=>{try{const te=await fetch(`${It}/api/calendar/events`,{credentials:"include"});if(te.ok){const Le=(await te.json()).map(Ve=>{const kt=new Date(Ve.startTime),Bt=new Date(Ve.endTime),We=Lt=>Lt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return{id:Ve.id,title:Ve.title,date:kt,startTime:We(kt),endTime:We(Bt),fullStart:Ve.startTime,fullEnd:Ve.endTime,type:"activity",color:"bg-sky-500 border-sky-600"}});u(Le)}}catch(te){console.error("Failed to fetch events:",te),Ne("Failed to load events","error")}};W.useEffect(()=>{le()},[]);const Ce=async()=>{if(p("Calendar sync")){A(!0),f(!1);try{const te=await fetch(`${It}/api/calendar/sync`,{method:"POST",credentials:"include"});if(te.status===401){window.location.href=`${It}/authorize`;return}te.ok?(f(!0),Ne("Calendar synced successfully!"),await le(),setTimeout(()=>f(!1),3e3)):Ne("Sync failed","error")}catch(te){console.error("Sync error:",te),Ne("Sync error occurred","error")}finally{A(!1)}}},oe=async()=>{if(!ce.title||!ce.dateStr)return;const te=new Date(`${ce.dateStr}T${ce.startTime}:00`),ge=new Date(`${ce.dateStr}T${ce.endTime}:00`);try{(await fetch(`${It}/api/calendar/add_manual`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:ce.title,startTime:te.toISOString(),endTime:ge.toISOString()})})).ok?(T(!1),await le(),ue({title:"",dateStr:"",startTime:"09:00",endTime:"10:00",type:"activity"}),Ne("Event added successfully!")):Ne("Failed to add event. Check network or auth.","error")}catch(Le){console.error(Le),Ne("An error occurred while adding event.","error")}},je=async()=>{if(Q&&window.confirm("Are you sure you want to delete this event?"))try{(await fetch(`${It}/api/calendar/delete/${Q.id}`,{method:"DELETE",credentials:"include"})).ok?(z(!1),K(null),await le(),Ne("Event deleted successfully!")):Ne("Failed to delete event.","error")}catch(te){console.error(te),Ne("An error occurred while deleting.","error")}},Ae=(te,ge)=>{const Le=te.getFullYear(),Ve=String(te.getMonth()+1).padStart(2,"0"),kt=String(te.getDate()).padStart(2,"0"),Bt=`${Le}-${Ve}-${kt}`;let We="09:00",Lt="10:00";ge!==void 0&&(We=`${String(ge).padStart(2,"0")}:00`,Lt=`${String(ge+1).padStart(2,"0")}:00`),ue({...ce,dateStr:Bt,startTime:We,endTime:Lt,title:""}),T(!0)},se=(te,ge)=>{te.stopPropagation(),K(ge),z(!0)},pe=()=>{const te=new Date(e);n==="month"?te.setMonth(te.getMonth()-1):n==="week"?te.setDate(te.getDate()-7):te.setDate(te.getDate()-1),r(te)},re=()=>{const te=new Date(e);n==="month"?te.setMonth(te.getMonth()+1):n==="week"?te.setDate(te.getDate()+7):te.setDate(te.getDate()+1),r(te)},Ee=te=>{const ge=te.getFullYear(),Le=te.getMonth(),Ve=new Date(ge,Le,1).getDay(),kt=new Date(ge,Le+1,0).getDate(),Bt=Ve===0?6:Ve-1,We=[];for(let Lt=0;Lt<Bt;Lt++)We.push(null);for(let Lt=1;Lt<=kt;Lt++)We.push(new Date(ge,Le,Lt));return We},De=te=>{const ge=Ee(te).length;return Math.ceil(ge/7)},Se=te=>{const ge=new Date(te),Le=ge.getDay(),Ve=ge.getDate()-Le+(Le===0?-6:1);ge.setDate(Ve);const kt=[];for(let Bt=0;Bt<7;Bt++){const We=new Date(ge);We.setDate(ge.getDate()+Bt),kt.push(We)}return kt},fe=te=>{if(te.fullStart){const Ve=new Date(te.fullStart);return(Ve.getHours()*60+Ve.getMinutes()-q0*60)/60*80+2}const ge=parseInt(te.startTime.split(":")[0]),Le=parseInt(te.startTime.split(":")[1])||0;return(ge-q0+Le/60)*80+2},be=te=>{if(te.fullStart&&te.fullEnd){const ge=new Date(te.fullStart),Ve=(new Date(te.fullEnd).getTime()-ge.getTime())/(1e3*60);return Math.max(Ve/60*80-4,20)}return 76},he=(te,ge)=>{if(te.fullStart&&te.fullEnd){const Ve=new Date(te.fullStart),kt=new Date(te.fullEnd),Bt=ge,We=ge+1,Lt=Ve.getHours()+Ve.getMinutes()/60,$t=kt.getHours()+kt.getMinutes()/60;return Lt<We&&$t>Bt}return parseInt(te.startTime.split(":")[0])===ge};return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] w-full p-6 overflow-hidden animate-fade-in-up relative",children:[X&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[60] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${X.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800"}`,children:[X.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):t.jsx(Yo,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:X.message}),t.jsx("button",{onClick:()=>Y(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),y&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Add New Event"}),t.jsx("button",{onClick:()=>T(!1),children:t.jsx(qr,{className:"w-5 h-5 text-slate-400 hover:text-slate-900"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Title"}),t.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",autoFocus:!0,placeholder:"e.g. Meeting",value:ce.title,onChange:te=>ue({...ce,title:te.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Date"}),t.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:ce.dateStr,onChange:te=>ue({...ce,dateStr:te.target.value})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Start"}),t.jsx("input",{type:"time",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:ce.startTime,onChange:te=>ue({...ce,startTime:te.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"End"}),t.jsx("input",{type:"time",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:ce.endTime,onChange:te=>ue({...ce,endTime:te.target.value})})]})]}),t.jsx("button",{onClick:oe,className:"w-full py-3 bg-sky-600 text-white font-bold rounded-xl hover:bg-sky-500 shadow-lg mt-2",children:"Save Event"})]})]})}),R&&Q&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white break-words w-10/12",children:Q.title}),t.jsx("button",{onClick:()=>z(!1),children:t.jsx(qr,{className:"w-5 h-5 text-slate-400 hover:text-slate-900"})})]}),t.jsxs("div",{className:"space-y-6 mb-8",children:[t.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-300",children:[t.jsx(co,{className:"w-5 h-5 text-sky-500"}),t.jsx("span",{className:"font-medium",children:Q.date.toDateString()})]}),t.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-300",children:[t.jsx(Vi,{className:"w-5 h-5 text-sky-500"}),t.jsxs("span",{className:"font-medium",children:[Q.startTime," - ",Q.endTime]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:je,className:"flex-1 py-3 bg-red-50 text-red-600 font-bold rounded-xl hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[t.jsx(Zo,{className:"w-4 h-4"}),"Delete"]}),t.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-white font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Close"})]})]})}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white w-64",children:[lP[e.getMonth()]," ",e.getFullYear()]}),t.jsxs("div",{className:"flex bg-white dark:bg-slate-800 rounded-lg p-1 border border-slate-200 dark:border-slate-700 shadow-sm dark:shadow-none",children:[t.jsx("button",{onClick:pe,className:"p-1 hover:bg-slate-50 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("button",{onClick:re,className:"p-1 hover:bg-slate-50 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400",children:t.jsx(hc,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:Ce,className:`flex items-center gap-2 px-3 py-2 bg-white text-slate-700 dark:text-slate-900 rounded-lg text-sm font-semibold hover:bg-slate-50 transition-colors border border-slate-200 shadow-sm ${o?"bg-emerald-50 text-emerald-600 border-emerald-200":""}`,children:[d?t.jsx(cd,{className:"w-4 h-4 animate-spin text-blue-500"}):o?t.jsx(Yo,{className:"w-4 h-4 text-emerald-500"}):t.jsx("span",{className:"flex items-center gap-2",children:t.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 text-white flex items-center justify-center text-[10px] font-bold",children:"G"})}),o?"Synced!":"Sync"]}),t.jsx("div",{className:"flex bg-white dark:bg-slate-800 rounded-lg p-1 border border-slate-200 dark:border-slate-700 shadow-sm dark:shadow-none",children:["month","week","day"].map(te=>t.jsx("button",{onClick:()=>a(te),className:`px-3 py-1.5 text-sm font-medium rounded capitalize transition-all ${n===te?"bg-sky-600 dark:bg-indigo-600 text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:te},te))}),t.jsxs("button",{onClick:()=>Ae(new Date),className:"flex items-center gap-2 px-4 py-2 bg-sky-600 hover:bg-sky-500 text-white text-sm font-medium rounded-lg shadow-lg",children:[t.jsx($i,{className:"w-4 h-4"})," Add"]})]})]}),t.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800/20 border border-slate-200 dark:border-slate-800 rounded-xl overflow-hidden flex flex-col shadow-sm dark:shadow-none relative",children:[n==="month"&&t.jsxs("div",{className:"flex-1 grid grid-cols-7 grid-rows-[auto_1fr]",children:[qw.map(te=>t.jsx("div",{className:"p-4 text-center border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50",children:t.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase",children:te})},te)),t.jsx("div",{className:"grid grid-cols-7 col-span-7",style:{gridTemplateRows:`repeat(${De(e)}, 1fr)`},children:Ee(e).map((te,ge)=>{const Le=te?l.filter(Ve=>Ve.date.getDate()===te.getDate()&&Ve.date.getMonth()===te.getMonth()):[];return t.jsx("div",{onClick:()=>te&&Ae(te),className:`border-r border-b border-slate-100 dark:border-slate-800/50 p-2 min-h-[100px] hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors cursor-pointer ${te?"":"bg-slate-50/50 dark:bg-slate-900/50"}`,children:te&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:`text-sm font-medium ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-600 text-white w-7 h-7 flex items-center justify-center rounded-full":"text-slate-700 dark:text-slate-300"}`,children:te.getDate()}),t.jsx("div",{className:"mt-2 space-y-1",children:Le.map(Ve=>t.jsx("div",{onClick:kt=>se(kt,Ve),className:`text-[10px] px-1.5 py-0.5 rounded truncate text-white ${Ve.color.split(" ")[0]} cursor-pointer hover:brightness-110 shadow-sm`,children:Ve.title},Ve.id))})]})},ge)})})]}),n==="week"&&t.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[t.jsxs("div",{className:"grid grid-cols-8 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 flex-shrink-0 sticky top-0 z-20",children:[t.jsx("div",{className:"p-4 border-r border-slate-200 dark:border-slate-800 w-20"}),Se(e).map((te,ge)=>t.jsxs("div",{className:`p-4 text-center border-r border-slate-200 dark:border-slate-800 last:border-r-0 ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-50 dark:bg-indigo-900/20":""}`,children:[t.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:qw[ge]}),t.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-600 dark:bg-indigo-600 text-white":"text-slate-700 dark:text-slate-300"}`,children:te.getDate()})]},ge))]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:t.jsxs("div",{className:"grid grid-cols-8 relative",style:{minHeight:`${Qp.length*80}px`},children:[t.jsx("div",{className:"border-r border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/30 w-20 flex-shrink-0",children:Qp.map(te=>t.jsx("div",{className:"h-20 border-b border-slate-100 dark:border-slate-800/50 text-xs text-slate-400 dark:text-slate-500 p-2 text-right relative",children:t.jsxs("span",{className:"-top-3 relative block",children:[String(te).padStart(2,"0"),":00"]})},te))}),Se(e).map((te,ge)=>{const Le=l.filter(Ve=>Ve.date.getDate()===te.getDate()&&Ve.date.getMonth()===te.getMonth());return t.jsxs("div",{className:"border-r border-slate-100 dark:border-slate-800/50 last:border-r-0 relative",children:[Qp.map(Ve=>t.jsx("div",{onClick:()=>Ae(te,Ve),className:"h-20 border-b border-slate-100 dark:border-slate-800/50 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/20"},Ve)),Le.map(Ve=>{const kt=fe(Ve),Bt=be(Ve);return kt<0||kt>Qp.length*80?null:t.jsxs("div",{onClick:We=>se(We,Ve),className:`absolute left-1 right-1 p-2 rounded border-l-4 text-white text-xs cursor-pointer hover:brightness-110 transition-all shadow-md z-10 ${Ve.color}`,style:{top:`${kt}px`,height:`${Bt}px`,minHeight:"20px"},children:[t.jsx("div",{className:"font-bold truncate",children:Ve.title}),t.jsxs("div",{className:"opacity-80",children:[Ve.startTime," - ",Ve.endTime]})]},Ve.id)})]},ge)})]})})]}),n==="day"&&t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:t.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:Qp.map(te=>{const ge=l.filter(Le=>Le.date.getDate()===e.getDate()&&Le.date.getMonth()===e.getMonth()&&he(Le,te));return t.jsxs("div",{className:"flex gap-4 border-b border-slate-100 dark:border-slate-800 pb-4",children:[t.jsxs("div",{className:"w-16 text-right text-sm text-slate-400 pt-2",children:[String(te).padStart(2,"0"),":00"]}),t.jsx("div",{className:"flex-1 min-h-[60px] relative",children:ge.length>0?ge.map(Le=>t.jsx("div",{onClick:Ve=>se(Ve,Le),className:`p-3 rounded-xl mb-2 border-l-4 ${Le.color} bg-opacity-10 dark:bg-opacity-20 flex justify-between items-center bg-slate-50 dark:bg-slate-800 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors`,children:t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:Le.title}),t.jsxs("p",{className:"text-xs text-slate-500",children:[Le.startTime," - ",Le.endTime]})]})},Le.id)):t.jsx("div",{onClick:()=>Ae(e,te),className:"border-b border-dashed border-slate-200 dark:border-slate-800/50 h-full w-full cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/20"})})]},te)})})})]}),t.jsx(K5,{isOpen:m,onClose:j,onGoToSettings:b,featureName:x})]})},dP=s=>{if(!s)return"";try{const[e,r]=s.split(":"),n=parseInt(e),a=n>=12?"PM":"AM";return`${n%12||12}:${r} ${a}`}catch{return s}},uP=(s,e)=>{if(!s)return null;try{const r=new Date(s);return r.setDate(r.getDate()+(e-1)),r.toLocaleDateString("en-US",{month:"short",day:"numeric",weekday:"short"})}catch{return null}},AP=(s="",e="")=>{const r=(s+e).toLowerCase();return["","","","","food","restaurant","dinner","lunch","breakfast","buffet"].some(n=>r.includes(n))?{type:"Food & Dining",icon:Wd,color:"text-orange-600 dark:text-orange-400",bg:"bg-orange-50 dark:bg-orange-500/10",border:"border-orange-100 dark:border-orange-500/20",iconBg:"bg-orange-100 dark:bg-orange-500/20"}:["","","","visit","tour","sightseeing","park","museum","attraction","ticket"].some(n=>r.includes(n))?{type:"Attraction",icon:B3,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-500/10",border:"border-blue-100 dark:border-blue-500/20",iconBg:"bg-blue-100 dark:bg-blue-500/20"}:["","","","mall","shop","store","market","souvenir"].some(n=>r.includes(n))?{type:"Shopping",icon:tx,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-500/10",border:"border-emerald-100 dark:border-emerald-500/20",iconBg:"bg-emerald-100 dark:bg-emerald-500/20"}:{type:e||"Activity",icon:Jo,color:"text-slate-600 dark:text-slate-400",bg:"bg-slate-50 dark:bg-slate-800/50",border:"border-slate-200 dark:border-slate-700",iconBg:"bg-slate-200 dark:bg-slate-700"}},hP=({user:s})=>{const e=$l(),{t:r}=Eo(["common","dashboard"]),[n,a]=W.useState(null),[l,u]=W.useState(!1),[d,A]=W.useState(!1),[o,f]=W.useState([]),[p,m]=W.useState(!0),[x,b]=W.useState(!1),[j,y]=W.useState(!1),[T,R]=W.useState(null),[z,X]=W.useState(!1),[Y,Q]=W.useState(null),[K,ce]=W.useState(""),[ue,Ne]=W.useState(null),[le,Ce]=W.useState(null),[oe,je]=W.useState(!1),[Ae,se]=W.useState({show:!1,message:"",type:"success"}),[pe,re]=W.useState({show:!1,title:"",message:"",onConfirm:()=>{}}),Ee=o.length>0?o[0]:null,De=(ut,St="success")=>{se({show:!0,message:ut,type:St}),setTimeout(()=>{se(Is=>({...Is,show:!1}))},3e3)},{showLinkDialog:Se,pendingFeature:fe,requireGoogleLink:be,handleGoToSettings:he,handleCancelLink:te}=G5({user:s,onShowWarning:ut=>De(ut,"info")}),ge=async()=>{m(!0);try{const ut=await fetch(`${It}/api/trips/list`,{credentials:"include"});if(ut.ok){const Is=(await ut.json()).map(us=>({id:us.id,destination:us.destination||us.title,title:us.title,dates:us.dates||`${us.start_date||""} - ${us.end_date||""}`,status:us.status||"planning",weather:"25C",imageUrl:us.imageUrl||"https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?auto=format&fit=crop&q=80&w=400",flight:us.flight||null,hotel:us.hotel||null,total_expenses:us.total_expenses||0}));f(Is)}else console.error("Failed to fetch trips")}catch(ut){console.error("Error fetching trips:",ut)}finally{m(!1)}},Le=async ut=>{try{const St=await fetch(`${It}/api/trips/${ut}`,{credentials:"include"});if(St.ok){const Is=await St.json();R(Is),y(!0)}else De("Failed to load trip details","error")}catch(St){console.error("Error fetching trip details:",St),De("Error loading trip details","error")}},Ve=ut=>{if(!be("Export trip to Google Calendar"))return;Q(ut);const St=new Date().toISOString().split("T")[0];ce(St),X(!0)},kt=async(ut,St)=>{b(!0);try{const Is=await fetch(`${It}/api/trips/${ut}/export_calendar`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:St})});if(Is.ok)(await Is.json()).status==="success"&&(De("Successfully exported events to Calendar!","success"),X(!1),ge());else if(Is.status===401)re({show:!0,title:"Authorization Required",message:"You need to authorize Google Calendar first. Redirect to authorization page?",confirmText:"Authorize",isDestructive:!1,onConfirm:()=>{window.location.href=`${It}/auth/authorize`,re(us=>({...us,show:!1}))}});else{const us=await Is.json();De(`Export failed: ${us.error||"Unknown error"}`,"error")}}catch(Is){console.error("Export error:",Is),De("Failed to export to Google Calendar.","error")}finally{b(!1)}},Bt=ut=>{re({show:!0,title:"Delete Trip",message:"Are you sure you want to delete this trip? This action cannot be undone.",confirmText:"Delete",isDestructive:!0,onConfirm:()=>We(ut)})},We=async ut=>{re(St=>({...St,show:!1}));try{(await fetch(`${It}/api/trips/${ut}`,{method:"DELETE",credentials:"include"})).ok?(De("Trip deleted successfully","success"),ge()):De("Failed to delete trip","error")}catch(St){console.error("Delete error:",St),De("Failed to delete trip","error")}},Lt=()=>{if(!navigator.geolocation){Ce("Geolocation is not supported by your browser");return}je(!0),navigator.geolocation.getCurrentPosition(ut=>{Ne({lat:ut.coords.latitude,lng:ut.coords.longitude}),Ce(null),je(!1)},ut=>{console.error("Error getting location:",ut),Ce("Unable to retrieve your location"),je(!1)})};if(W.useEffect(()=>{Lt(),ge()},[]),p)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4 animate-fade-in",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 border-t-sky-600 rounded-full animate-spin"}),t.jsx("p",{className:"text-slate-500 font-medium",children:r("common:loading")})]});if(o.length===0)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-6 animate-fade-in p-8",children:[t.jsx("div",{className:"w-20 h-20 rounded-3xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(nA,{className:"w-10 h-10 text-slate-400"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:r("dashboard:recentTrips.noTrips")}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("dashboard:recentTrips.startPlanning")})]}),t.jsxs("button",{type:"button",onClick:()=>e("/chat"),className:"px-8 py-4 bg-sky-600 dark:bg-indigo-600 text-white rounded-2xl text-sm font-bold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-all shadow-lg flex items-center gap-2",children:[t.jsx($i,{className:"w-5 h-5"}),r("dashboard:recentTrips.createTrip")]})]});const $t=Ee!=null&&Ee.hotel?[{id:"hotel-1",type:"hotel",title:Ee.hotel.name||"Luxury Hotel",subtitle:Ee.hotel.address||"Location",rating:Ee.hotel.rating||5,top:"40%",left:"45%",icon:Jg,color:"emerald",description:"Experience luxury accommodations with world-class amenities.",image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=800",tags:["Luxury","Spa","View"]}]:[],ls=["Passport & Visa","Travel Insurance","Universal Adapter","Light Jacket","Comfortable Walking Shoes","Portable Charger","Local Currency","Toiletries","Camera","Prescription Meds"],Ts=$t.find(ut=>ut.id===n),Pe=()=>{const Is=ue?ue.lat:35.0116,us=ue?ue.lng:135.7681;return t.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/60 backdrop-blur-md border border-white/50 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 rounded-[2rem] p-1.5 shadow-sm relative group overflow-hidden isolate h-[450px] transition-all duration-500 ease-out hover:-translate-y-1 hover:shadow-2xl",children:[Ts&&t.jsx("div",{className:"absolute inset-2 z-50 bg-white/95 dark:bg-slate-900/95 backdrop-blur-2xl rounded-[1.7rem] overflow-hidden shadow-2xl animate-scale-in",children:t.jsxs("div",{className:"h-full flex flex-col md:flex-row",children:[t.jsxs("div",{className:"w-full md:w-5/12 h-48 md:h-full relative shrink-0",children:[t.jsx("img",{src:Ts.image,alt:Ts.title,className:"w-full h-full object-cover"}),t.jsx("button",{onClick:()=>a(null),className:"absolute top-4 left-4 p-2 bg-black/20 backdrop-blur-md hover:bg-black/40 text-white rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex-1 p-6 md:p-8 flex flex-col overflow-y-auto",children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:Ts.title}),t.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-4",children:Ts.subtitle}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed mb-6 text-sm",children:Ts.description}),t.jsx("div",{className:"mt-auto flex gap-3",children:t.jsxs("button",{onClick:()=>window.open("https://maps.google.com","_blank"),className:"flex-1 py-3 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold flex items-center justify-center gap-2",children:[t.jsx(A5,{className:"w-4 h-4"}),"Directions"]})})]})]})}),t.jsx("div",{className:"w-full h-full relative bg-slate-100 dark:bg-slate-800 rounded-[1.7rem] overflow-hidden",children:t.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${Is},${us}&z=14&output=embed`,allowFullScreen:!0,className:"grayscale-[20%] hover:grayscale-0 transition-all duration-700"})})]})};return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-10 animate-fade-in-up relative",children:[Ae.show&&t.jsx("div",{className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[100] animate-fade-in-down",children:t.jsxs("div",{className:`flex items-center gap-3 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md border border-white/10 ${Ae.type==="success"?"bg-emerald-500/90 text-white":Ae.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}`,children:[Ae.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):Ae.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):t.jsx(Ia,{className:"w-5 h-5"}),t.jsx("span",{className:"font-bold text-sm",children:Ae.message})]})}),pe.show&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-6 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",children:t.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[t.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center ${pe.isDestructive?"bg-red-100 dark:bg-red-900/30 text-red-500":"bg-sky-100 dark:bg-indigo-900/30 text-sky-500"}`,children:pe.isDestructive?t.jsx(Zo,{className:"w-7 h-7"}):t.jsx(qo,{className:"w-7 h-7"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:pe.title}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:pe.message})]}),t.jsxs("div",{className:"flex gap-3 w-full pt-2",children:[t.jsx("button",{onClick:()=>re(ut=>({...ut,show:!1})),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:r("common:cancel")}),t.jsx("button",{onClick:pe.onConfirm,className:`flex-1 py-3 text-white rounded-xl text-sm font-bold shadow-lg transition-all active:scale-95 ${pe.isDestructive?"bg-red-500 hover:bg-red-600":"bg-sky-600 hover:bg-sky-500"}`,children:pe.confirmText||"Confirm"})]})]})})}),z&&Y&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(co,{className:"w-6 h-6 text-sky-500"}),"Select Start Date"]}),t.jsx("button",{onClick:()=>X(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors hover:scale-105",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm leading-relaxed",children:"Choose when you want your trip to start. All itinerary items will be scheduled from this date."}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Start Date"}),t.jsx("input",{type:"date",value:K,onChange:ut=>ce(ut.target.value),min:new Date().toISOString().split("T")[0],className:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl py-4 px-4 text-slate-900 dark:text-white font-medium focus:outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 dark:focus:border-indigo-500 transition-all hover:border-sky-300 dark:hover:border-indigo-500/50"})]}),t.jsx("div",{className:"bg-sky-50 dark:bg-indigo-900/20 rounded-2xl p-4 border border-sky-100 dark:border-indigo-500/30",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-indigo-500/20 rounded-lg",children:t.jsx(co,{className:"w-5 h-5 text-sky-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:"Trip Schedule Preview"}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:K?t.jsxs(t.Fragment,{children:["Your trip will start on ",t.jsx("span",{className:"font-bold text-sky-600 dark:text-indigo-400",children:new Date(K).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}):"Please select a start date"})]})]})}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>X(!1),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all border border-transparent hover:border-slate-300 dark:hover:border-slate-600",children:r("common:cancel")}),t.jsx("button",{onClick:()=>kt(Y,K),disabled:!K||x,className:"flex-[2] py-3 bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 dark:hover:bg-indigo-500 text-white rounded-xl text-sm font-bold shadow-lg transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{className:"w-4 h-4 animate-spin"}),"Exporting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Xp,{className:"w-4 h-4"}),"Export to Calendar"]})})]})]})]})}),j&&T&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in flex flex-col max-h-[85vh]",children:[t.jsxs("div",{className:"p-8 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white/50 dark:bg-slate-900/50 backdrop-blur-xl z-20 rounded-t-[2.5rem]",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:T.title}),t.jsxs("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 flex items-center gap-2 mt-1",children:[t.jsx(co,{className:"w-4 h-4"}),T.dates||"Trip Itinerary"]})]}),t.jsx("button",{onClick:()=>y(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors hover:rotate-90 duration-300",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-white dark:bg-slate-900",children:T.items&&T.items.length>0?t.jsx("div",{className:"p-8 space-y-10",children:Object.entries(T.items.reduce((ut,St)=>{const Is=St.day_number;return ut[Is]||(ut[Is]=[]),ut[Is].push(St),ut},{})).map(([ut,St])=>{const Is=St.sort((us,br)=>us.start_time.localeCompare(br.start_time));return t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-white/95 dark:bg-slate-900/95 backdrop-blur-md z-10 py-3 border-b border-slate-100 dark:border-slate-800",children:[t.jsx("div",{children:t.jsxs("h4",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:["DAY ",ut,T.start_date&&t.jsx("span",{className:"text-sm font-medium text-slate-400 font-normal border-l border-slate-200 dark:border-slate-700 pl-3",children:uP(T.start_date,parseInt(ut))})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>De("AI Day Optimization coming soon!","info"),className:"text-xs font-bold text-sky-600 dark:text-sky-400 bg-sky-50 dark:bg-sky-500/10 hover:bg-sky-100 dark:hover:bg-sky-500/20 px-3 py-1.5 rounded-full transition-colors flex items-center gap-1.5",children:[t.jsx(Ao,{className:"w-3 h-3"})," Optimize Day"]}),t.jsxs("button",{onClick:()=>De("Relax Mode coming soon!","info"),className:"text-xs font-bold text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 px-3 py-1.5 rounded-full transition-colors flex items-center gap-1.5",children:[t.jsx(Em,{className:"w-3 h-3"})," Relax"]})]})]}),t.jsxs("div",{className:"space-y-6 relative pl-4",children:[t.jsx("div",{className:"absolute left-[85px] top-4 bottom-4 w-0.5 bg-slate-100 dark:bg-slate-800/50"}),Is.map((us,br)=>{var gr;const{type:hr,icon:ar,color:Fs,bg:Cs,border:Bs,iconBg:vr}=AP(us.notes,us.type);return t.jsxs("div",{className:"flex gap-6 relative group",children:[t.jsx("div",{className:"w-[70px] shrink-0 pt-1 text-right",children:t.jsx("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800 px-2.5 py-1 rounded-lg border border-transparent group-hover:border-slate-200 dark:group-hover:border-slate-700 transition-all",children:dP(us.start_time)})}),t.jsx("div",{className:`absolute left-[81px] top-3 w-2.5 h-2.5 rounded-full z-10 border-2 border-white dark:border-slate-900 transition-all duration-300 ${Fs.replace("text-","bg-")} group-hover:scale-125 shadow-sm`}),t.jsx("div",{className:`flex-1 ${Cs} rounded-2xl p-4 border ${Bs} hover:shadow-lg hover:shadow-sky-100/50 dark:hover:shadow-none transition-all duration-300 group-hover:-translate-y-0.5 relative overflow-hidden`,children:t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`p-1.5 rounded-lg ${vr}`,children:t.jsx(ar,{className:`w-4 h-4 ${Fs}`})}),t.jsx("h5",{className:"font-bold text-slate-900 dark:text-white text-base",children:((gr=us.place)==null?void 0:gr.name)||us.type||"Activity"})]}),t.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 transform translate-x-2 group-hover:translate-x-0",children:[t.jsx("button",{onClick:()=>De("Edit item coming soon","info"),className:"p-1.5 text-slate-400 hover:text-sky-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:t.jsx(bp,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>De("AI Replace coming soon","info"),className:"p-1.5 text-slate-400 hover:text-purple-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"AI Replace",children:t.jsx(cd,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>De("Delete item coming soon","info"),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Delete",children:t.jsx(Zo,{className:"w-3.5 h-3.5"})})]})]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed pl-[34px]",children:us.notes})]})})]},br)})]})]},ut)})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 py-12 space-y-4",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center",children:t.jsx(Jo,{className:"w-8 h-8 text-slate-300"})}),t.jsx("p",{children:"No itinerary items yet"}),t.jsx("button",{className:"text-sky-600 font-bold text-sm hover:underline",children:"Start Planning with AI"})]})}),t.jsx("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-b-[2.5rem] z-20",children:t.jsxs("button",{onClick:()=>Ve(T.id),disabled:x,className:"w-full py-4 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white rounded-xl text-sm font-bold shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2 disabled:opacity-50 transition-all hover:scale-[1.02] active:scale-[0.98]",children:[x?t.jsx(Fr,{className:"w-5 h-5 animate-spin"}):t.jsx(Xp,{className:"w-5 h-5"}),x?"Exporting to Calendar...":"Export Itinerary to Calendar"]})})]})}),d&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in flex flex-col max-h-[80vh]",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(z3,{className:"w-6 h-6 text-sky-500"}),"Packing List"]}),t.jsx("button",{onClick:()=>A(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-3",children:ls.map((ut,St)=>t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl hover:bg-sky-50 dark:hover:bg-indigo-900/20 cursor-pointer transition-colors group",children:[t.jsx(KE,{className:"w-5 h-5 text-slate-300 group-hover:text-sky-500 dark:group-hover:text-indigo-400"}),t.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:ut})]},St))}),t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-100 dark:border-slate-700",children:t.jsx("button",{onClick:()=>A(!1),className:"w-full py-3 bg-sky-600 text-white font-bold rounded-xl shadow-lg hover:bg-sky-500 active:scale-95 transition-all",children:r("common:done")})})]})}),t.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-4xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Travel Hub"}),t.jsxs("p",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mt-1",children:[o.length," ",o.length===1?"trip":"trips"," planned"]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((ut,St)=>t.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/40 backdrop-blur-xl border border-white/60 dark:border-slate-700/50 rounded-[2rem] overflow-hidden shadow-sm hover:shadow-2xl transition-all duration-300 group hover:-translate-y-2",style:{animationDelay:`${St*100}ms`},children:[t.jsxs("div",{className:"relative h-48 overflow-hidden",children:[t.jsx("img",{src:ut.imageUrl,alt:ut.destination,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase backdrop-blur-md ${ut.status==="completed"?"bg-emerald-500/80 text-white":ut.status==="upcoming"||ut.status==="planning"?"bg-sky-500/80 text-white":"bg-amber-500/80 text-white"}`,children:ut.status})}),t.jsx("div",{className:"absolute bottom-4 left-4",children:t.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:ut.destination})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[t.jsx(co,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:ut.dates})]}),ut.total_expenses>0&&t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-xl p-3",children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Total Expenses"}),t.jsxs("p",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:["$",ut.total_expenses.toFixed(2)]})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs("button",{onClick:()=>Le(ut.id),className:"flex-1 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-white rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all flex items-center justify-center gap-2",children:[t.jsx(io,{className:"w-4 h-4"}),r("common:viewMore")]}),t.jsxs("button",{onClick:()=>Ve(ut.id),disabled:x,className:"flex-1 py-2.5 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[x?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):t.jsx(Xp,{className:"w-4 h-4"}),"Export"]}),t.jsx("button",{onClick:()=>Bt(ut.id),className:"p-2.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl hover:bg-red-100 dark:hover:bg-red-900/40 transition-all",children:t.jsx(Zo,{className:"w-4 h-4"})})]})]})]},ut.id))}),Ee&&t.jsxs("div",{className:"relative h-80 rounded-[2.5rem] overflow-hidden isolate group shadow-2xl border border-transparent hover:border-sky-500/30 transition-all duration-500 hover:scale-[1.01]",children:[t.jsx("img",{src:Ee.imageUrl,alt:Ee.destination,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-[1.5s] group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-10",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/20 backdrop-blur-md border border-white/20 text-xs font-bold text-white mb-4 uppercase tracking-wider",children:[t.jsx(nA,{className:"w-3.5 h-3.5"}),"Next Adventure"]}),t.jsx("h3",{className:"text-5xl font-bold text-white mb-4 tracking-tighter",children:Ee.destination}),t.jsx("div",{className:"flex items-center gap-4 text-slate-200",children:t.jsxs("div",{className:"flex items-center gap-2.5 text-sm font-medium bg-black/40 px-4 py-2 rounded-xl backdrop-blur-md",children:[t.jsx(co,{className:"w-4 h-4 text-sky-400"}),Ee.dates]})})]})]}),Ee&&$t.length>0&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(Jo,{className:"w-5 h-5 text-sky-600 dark:text-indigo-400"})}),"Trip Map"]}),t.jsx(Pe,{})]}),t.jsx(K5,{isOpen:Se,onClose:te,onGoToSettings:he,featureName:fe})]})};new Date(new Date().getFullYear(),new Date().getMonth()-11,1),new Date(new Date().setMonth(new Date().getMonth()-1)),new Date(new Date().setMonth(new Date().getMonth()-2)),new Date(new Date().setMonth(new Date().getMonth()-3));new Date(new Date().setHours(10,30,0,0)),new Date(new Date().setHours(15,0,0,0)),new Date(new Date().setDate(new Date().getDate()+1));const fP=[{id:"si-1",content:"Remember to buy JR Rail Pass before leaving",category:"note",timestamp:new Date,isCompleted:!1,priority:"high"},{id:"si-2",content:"Visit Fushimi Inari Shrine early morning to avoid crowds",category:"ai-suggestion",timestamp:new Date(Date.now()-864e5),isCompleted:!1,priority:"medium"},{id:"si-3",content:"Restaurant reservation: Monk (confirm 2 days prior)",category:"activity",timestamp:new Date(Date.now()-1728e5),isCompleted:!0,priority:"high"}],pP=()=>{const[s,e]=W.useState(fP),[r,n]=W.useState(""),[a,l]=W.useState("all"),[u,d]=W.useState(null),A=(b,j="success")=>{d({message:b,type:j}),setTimeout(()=>d(null),3e3)},o=()=>{if(!r.trim())return;const b={id:Date.now().toString(),content:r,category:"note",timestamp:new Date,isCompleted:!1,priority:"medium"};e(j=>[b,...j]),n(""),A("Note added successfully!","success")},f=b=>{e(j=>j.map(y=>y.id===b?{...y,isCompleted:!y.isCompleted}:y))},p=b=>{e(j=>j.filter(y=>y.id!==b)),A("Item deleted","info")},m=b=>{switch(b){case"ai-suggestion":return t.jsx(np,{className:"w-4 h-4"});case"activity":return t.jsx(Wd,{className:"w-4 h-4"});case"logistics":return t.jsx(nA,{className:"w-4 h-4"});default:return t.jsx(m5,{className:"w-4 h-4"})}},x=a==="all"?s:s.filter(b=>b.category===a);return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto flex flex-col h-[calc(100vh-6rem)] animate-fade-in-up relative",children:[u&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[60] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${u.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":u.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[u.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):u.type==="success"?t.jsx(Yo,{className:"w-5 h-5"}):t.jsx(El,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:u.message}),t.jsx("button",{onClick:()=>d(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-10",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:t.jsx(Nw,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Trip Notebook"})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Capture ideas, AI suggestions, and tasks for your trip."})]}),t.jsx("div",{className:"flex bg-white dark:bg-slate-800 rounded-xl p-1 shadow-sm border border-slate-200 dark:border-slate-700/50 hover:border-slate-300 dark:hover:border-slate-600 transition-colors",children:["all","note","activity","ai-suggestion"].map(b=>t.jsx("button",{onClick:()=>l(b),className:`
                 px-4 py-2 rounded-lg text-sm font-bold capitalize transition-all
                 ${a===b?"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-300":"text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-700"}
               `,children:b==="ai-suggestion"?"AI Tips":b},b))})]}),t.jsxs("div",{className:"relative mb-8 z-20 group",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-200 to-orange-100 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl blur opacity-25 group-hover:opacity-50 transition-opacity duration-500"}),t.jsxs("div",{className:"relative flex items-center bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-lg p-2 transition-all focus-within:ring-4 focus-within:ring-amber-500/10 focus-within:border-amber-500/50 hover:border-amber-400 dark:hover:border-amber-400 hover:-translate-y-1 hover:shadow-xl duration-300 ease-out",children:[t.jsx("div",{className:"pl-4 pr-3 text-slate-400",children:t.jsx($i,{className:"w-5 h-5"})}),t.jsx("input",{type:"text",value:r,onChange:b=>n(b.target.value),onKeyDown:b=>b.key==="Enter"&&o(),placeholder:"Add a note, restaurant idea, or reminder...",className:"flex-1 bg-transparent border-none outline-none py-3 text-slate-900 dark:text-white placeholder-slate-400 font-medium"}),t.jsx("button",{onClick:o,disabled:!r.trim(),className:"bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-6 py-2.5 rounded-xl font-bold text-sm hover:opacity-90 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:-translate-y-0.5",children:"Add Note"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-4 pr-4 space-y-4 pb-10",children:x.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center space-y-4 opacity-50",children:[t.jsx(Nw,{className:"w-12 h-12 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No items found. Start typing above!"})]}):x.map((b,j)=>t.jsxs("div",{className:"group flex items-start gap-4 p-5 bg-white/70 dark:bg-slate-800/40 backdrop-blur-md border border-white/60 dark:border-slate-700/50 rounded-2xl shadow-sm transition-all duration-300 animate-scale-in hover:border-amber-400 dark:hover:border-amber-500 hover:-translate-y-1 hover:scale-[1.01] hover:shadow-xl",style:{animationDelay:`${j*50}ms`},children:[t.jsx("button",{onClick:()=>f(b.id),className:`mt-0.5 flex-shrink-0 transition-all hover:scale-110 ${b.isCompleted?"text-emerald-500":"text-slate-300 dark:text-slate-600 hover:text-emerald-500"}`,children:b.isCompleted?t.jsx(uo,{className:"w-6 h-6"}):t.jsx(US,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-base font-medium leading-relaxed transition-all duration-300 ${b.isCompleted?"text-slate-400 line-through decoration-slate-300":"text-slate-900 dark:text-white"}`,children:b.content}),t.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[t.jsxs("span",{className:`
                     inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-transform group-hover:scale-105
                     ${b.category==="ai-suggestion"?"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":b.category==="activity"?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300":"bg-slate-100 text-slate-600 dark:bg-slate-700/50 dark:text-slate-400"}
                   `,children:[m(b.category),b.category==="ai-suggestion"?"AI Suggestion":b.category]}),t.jsx("span",{className:"text-xs text-slate-400 font-medium",children:b.timestamp.toLocaleDateString()})]})]}),t.jsx("button",{onClick:()=>p(b.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl opacity-0 group-hover:opacity-100 transition-all border border-transparent hover:border-red-200 hover:scale-110",children:t.jsx(Zo,{className:"w-5 h-5"})})]},b.id))})]})},sf=[{code:"en",name:"English",flag:""},{code:"ja",name:"Japanese",flag:""},{code:"zh",name:"Chinese",flag:""},{code:"ko",name:"Korean",flag:""},{code:"es",name:"Spanish",flag:""},{code:"fr",name:"French",flag:""},{code:"de",name:"German",flag:""},{code:"it",name:"Italian",flag:""},{code:"my",name:"Malay",flag:""},{code:"th",name:"Thai",flag:""},{code:"vi",name:"Vietnamese",flag:""},{code:"id",name:"Indonesian",flag:""},{code:"pt",name:"Portuguese",flag:""},{code:"ru",name:"Russian",flag:""},{code:"ar",name:"Arabic",flag:""}],fb=[{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",premiumOnly:!1},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",premiumOnly:!0}],pb=({active:s,onClick:e,icon:r,label:n,badge:a})=>t.jsxs("button",{onClick:e,className:`
      relative flex items-center gap-2 px-5 py-2.5 rounded-xl font-semibold text-sm transition-all duration-300
      ${s?"bg-gradient-to-r from-sky-500 to-indigo-500 text-white shadow-lg shadow-sky-500/25":"bg-white/50 dark:bg-slate-800/50 text-slate-600 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800"}
    `,children:[r,n,a&&t.jsxs("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-amber-400 text-amber-900 text-[10px] font-bold rounded-full flex items-center gap-0.5",children:[t.jsx(Kd,{className:"w-2.5 h-2.5"}),a]})]}),mP=({engine:s,setEngine:e,disabled:r,isPremium:n,onUpgrade:a})=>t.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:[t.jsxs("button",{onClick:()=>!r&&e("google"),disabled:r,className:`
        flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all
        ${s==="google"?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}
        ${r?"opacity-50 cursor-not-allowed":""}
      `,children:[t.jsx(hm,{className:"w-3.5 h-3.5"}),"Google Cloud"]}),t.jsxs("button",{onClick:()=>{if(!r){if(!n){a();return}e("ai")}},disabled:r,className:`
        flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all relative
        ${s==="ai"?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}
        ${r?"opacity-50 cursor-not-allowed":""}
      `,children:[t.jsx(Ao,{className:"w-3.5 h-3.5"}),"AI Enhanced",!n&&t.jsx(Ud,{className:"w-3 h-3 text-amber-500 ml-1"})]})]}),gP=({selectedModel:s,onSelect:e,isPremium:r,disabled:n,onUpgrade:a})=>{const[l,u]=W.useState(!1),d=W.useRef(null),[A,o]=W.useState({top:0,left:0,width:0}),f=()=>{if(d.current){const m=d.current.getBoundingClientRect();o({top:m.bottom+window.scrollY+8,left:m.left+window.scrollX,width:Math.max(m.width,200)})}};W.useEffect(()=>(l&&(f(),window.addEventListener("scroll",f),window.addEventListener("resize",f)),()=>{window.removeEventListener("scroll",f),window.removeEventListener("resize",f)}),[l]),W.useEffect(()=>{const m=x=>{d.current&&d.current.contains(x.target)||u(!1)};return l&&document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[l]);const p=fb.find(m=>m.id===s)||fb[0];return t.jsxs(t.Fragment,{children:[t.jsx("button",{ref:d,onClick:()=>!n&&u(!l),disabled:n,className:`
          flex items-center gap-2 px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl
          hover:border-indigo-400 transition-colors text-xs font-medium min-w-[160px] justify-between
          ${n?"opacity-50 cursor-not-allowed":""}
        `,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(RS,{className:"w-4 h-4 text-indigo-500"}),t.jsx("span",{className:"text-slate-700 dark:text-slate-200 truncate max-w-[120px]",children:p.name})]})}),l&&$j.createPortal(t.jsxs("div",{className:"fixed z-[9999] bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden animate-in fade-in zoom-in-95 duration-100",style:{top:A.top,left:A.left,width:A.width},onMouseDown:m=>m.stopPropagation(),children:[fb.map(m=>{const x=m.premiumOnly&&!r;return t.jsxs("button",{onClick:()=>{x?(a(),u(!1)):(e(m.id),u(!1))},className:`
                  w-full flex items-center justify-between p-3 text-left border-b last:border-0 border-slate-50 dark:border-slate-700/50
                  ${s===m.id?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"text-slate-600 dark:text-slate-300"}
                  hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors
                `,children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs font-medium",children:m.name}),m.premiumOnly&&t.jsx("span",{className:"text-[10px] text-amber-600 dark:text-amber-500",children:"PRO Model"})]}),x?t.jsx(Ud,{className:"w-3.5 h-3.5 text-amber-500"}):s===m.id&&t.jsx(Yo,{className:"w-3.5 h-3.5"})]},m.id)}),!r&&t.jsx("button",{onClick:()=>{a(),u(!1)},className:"w-full p-2 bg-amber-50 dark:bg-amber-900/20 text-center hover:bg-amber-100 dark:hover:bg-amber-900/40 transition-colors",children:t.jsxs("p",{className:"text-[10px] font-bold text-amber-700 dark:text-amber-400 flex items-center justify-center gap-1",children:[t.jsx(Kd,{className:"w-3 h-3"}),"Upgrade to Unlock All"]})})]}),document.body)]})},e2=({speaker:s,flag:e,langName:r,isActive:n,isRecording:a,isProcessing:l,disabled:u,onPress:d,onRelease:A})=>t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsxs("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:["Speaker ",s]}),t.jsxs("div",{className:"relative",children:[a&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500/30 animate-ping",style:{animationDuration:"1s"}}),t.jsx("div",{className:"absolute -inset-2 rounded-full bg-red-500/20 animate-ping",style:{animationDuration:"1.5s"}}),t.jsx("div",{className:"absolute -inset-4 rounded-full bg-red-500/10 animate-ping",style:{animationDuration:"2s"}})]}),t.jsx("button",{onMouseDown:d,onMouseUp:A,onMouseLeave:A,onTouchStart:o=>{o.preventDefault(),d()},onTouchEnd:o=>{o.preventDefault(),A()},disabled:u,className:`
          relative w-24 h-24 rounded-full flex flex-col items-center justify-center gap-1 transition-all duration-300
          ${a?"bg-gradient-to-br from-red-500 to-rose-600 scale-110 shadow-2xl shadow-red-500/50":l?"bg-gradient-to-br from-amber-500 to-orange-500 shadow-xl shadow-amber-500/30":n?"bg-gradient-to-br from-sky-500 to-indigo-500 shadow-xl shadow-sky-500/30 hover:scale-105":"bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600"}
          ${u&&!l?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        `,children:l?t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Fr,{className:"w-7 h-7 text-white animate-spin"}),t.jsx("span",{className:"text-[10px] text-white/80 font-medium",children:"Processing"})]}):a?t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(o=>t.jsx("div",{className:"w-1 bg-white rounded-full animate-pulse",style:{height:`${12+Math.random()*16}px`,animationDelay:`${o*.1}s`,animationDuration:"0.5s"}},o))}),t.jsx("span",{className:"text-[10px] text-white/80 font-medium",children:"Recording"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-2xl",children:e}),t.jsx(u5,{className:`w-5 h-5 ${n?"text-white":"text-slate-500 dark:text-slate-400"}`})]})})]}),t.jsx("span",{className:`text-sm font-medium transition-colors ${a?"text-red-500":l?"text-amber-600 dark:text-amber-400":n?"text-sky-600 dark:text-indigo-400":"text-slate-600 dark:text-slate-400"}`,children:r}),a&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsxs("span",{className:"relative flex h-2 w-2",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),t.jsx("span",{className:"text-xs text-red-500 font-semibold",children:"Streaming live..."})]}),l&&!a&&t.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:"Translating..."})]}),xP=({message:s,onPlayAudio:e,isPlaying:r})=>{const n=s.speaker==="A",a=s.type==="translated";return t.jsx("div",{className:`flex ${n?"justify-end":"justify-start"} mb-3`,children:t.jsxs("div",{className:`max-w-[80%] ${n?"items-end":"items-start"} flex flex-col gap-1`,children:[t.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${n?"flex-row-reverse":""}`,children:[t.jsx("span",{children:s.flag}),t.jsx("span",{className:"font-medium text-slate-500 dark:text-slate-400",children:a?"Translation":`Speaker ${s.speaker}`})]}),t.jsx("div",{className:`
            px-4 py-3 rounded-2xl
            ${a?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white":n?"bg-sky-500 text-white":"bg-white dark:bg-slate-800 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-700"}
            ${n?"rounded-tr-sm":"rounded-tl-sm"}
          `,children:t.jsx("p",{className:"text-sm leading-relaxed",children:s.text})}),a&&s.audioBase64&&e&&t.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 px-2 py-1 text-xs text-slate-500 dark:text-slate-400 hover:text-indigo-500 transition-colors",children:[r?t.jsx(h5,{className:"w-3 h-3"}):t.jsx(ev,{className:"w-3 h-3"}),r?"Playing...":"Play audio"]})]})})},bP=({user:s})=>{const[e,r]=W.useState("text"),[n,a]=W.useState("en"),[l,u]=W.useState("ja"),[d,A]=W.useState("google"),[o,f]=W.useState("gemini-2.5-flash"),[p,m]=W.useState(""),[x,b]=W.useState(""),[j,y]=W.useState(!1),[T,R]=W.useState(!1),[z,X]=W.useState(!1),[Y,Q]=W.useState("A"),[K,ce]=W.useState(!1),[ue,Ne]=W.useState(!1),[le,Ce]=W.useState([]),[oe,je]=W.useState(null),[Ae,se]=W.useState(null),[pe,re]=W.useState(""),[Ee,De]=W.useState(""),[Se,fe]=W.useState(!1),[be,he]=W.useState(null),[te,ge]=W.useState(null),[Le,Ve]=W.useState(!1),[kt,Bt]=W.useState(!1),[We,Lt]=W.useState(null),$t=W.useRef(null),ls=W.useRef(null);W.useRef([]);const Ts=W.useRef(null),Pe=W.useRef(null),ut=W.useRef(null),St=W.useRef(null),Is=W.useRef(0),us=(s==null?void 0:s.isPremium)??!1,br=yt=>sf.find(qt=>qt.code===yt)||{code:yt,name:yt,flag:""};W.useEffect(()=>{var yt;(yt=Ts.current)==null||yt.scrollIntoView({behavior:"smooth"})},[le]),W.useEffect(()=>()=>{$t.current&&$t.current.disconnect(),ls.current&&ls.current.state!=="inactive"&&ls.current.stop()},[]),W.useEffect(()=>{!us&&d==="ai"&&A("google")},[us,d]);const hr=()=>{confirm("This feature requires a Premium subscription. Unlock the full power of AI translation now!")&&(window.location.href="/billing")},ar=()=>{a(l),u(n),$t.current&&z&&$t.current.emit("swap_languages"),e==="text"&&(m(x),b(p))},Fs=async()=>{if(p.trim()){y(!0),b("");try{const yt=await fetch(`${It}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({text:p,source_lang:n,target_lang:l,engine:d,model:d==="ai"?o:void 0})}),qt=await yt.json();yt.ok&&qt.status==="success"?b(qt.translation):b(qt.error||"Error: Could not translate.")}catch{b("Error: Failed to connect to translation service.")}finally{y(!1)}}},Cs=W.useCallback(()=>{if(!us){hr();return}se(null);const yt=qp(`${It}/translate-stream`,{withCredentials:!0,transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});yt.on("connect",()=>{console.log("[StreamingConversation] Socket connected")}),yt.on("connected",qt=>{console.log("[StreamingConversation] Authenticated:",qt),R(!0),se(null)}),yt.on("error",qt=>{console.error("[StreamingConversation] Error:",qt),se(qt.message),Ne(!1),fe(!1),re(""),(qt.code==="PREMIUM_REQUIRED"||qt.code==="AUTH_REQUIRED")&&(yt.disconnect(),R(!1))}),yt.on("streaming_started",qt=>{console.log("[StreamingConversation] Streaming started:",qt),fe(!0),X(!0),Q(qt.speaker),re(""),Is.current=0,qt.session_info&&je({langA:qt.session_info.lang_a,langB:qt.session_info.lang_b,langAName:qt.session_info.lang_a_name,langBName:qt.session_info.lang_b_name,langAFlag:qt.session_info.lang_a_flag,langBFlag:qt.session_info.lang_b_flag})}),yt.on("partial_transcription",qt=>{re(qt.text)}),yt.on("partial_translation",qt=>{De(qt.translated_text)}),yt.on("final_transcription",qt=>{re(""),De("");const As={id:`${Date.now()}-orig-${qt.speaker}`,speaker:qt.speaker,type:"original",text:qt.text,language:qt.language,languageName:qt.language_name,flag:qt.flag,timestamp:new Date};Ce(hs=>[...hs,As])}),yt.on("translation",qt=>{De("");const As={id:`${Date.now()}-trans-${qt.speaker}`,speaker:qt.speaker,type:"translated",text:qt.translated_text,language:qt.target_lang,languageName:qt.target_lang_name,flag:qt.target_flag,timestamp:new Date};Ce(hs=>[...hs,As])}),yt.on("audio_response",qt=>{Ce(As=>{const hs=[...As];for(let Ks=hs.length-1;Ks>=0;Ks--)if(hs[Ks].type==="translated"&&!hs[Ks].audioBase64){hs[Ks]={...hs[Ks],audioBase64:qt.audio};break}return hs}),qt.auto_play&&er(qt.audio)}),yt.on("streaming_ended",qt=>{console.log("[StreamingConversation] Streaming ended:",qt),fe(!1),Ne(!1),re("")}),yt.on("speaker_switched",qt=>{console.log("[StreamingConversation] Speaker switched:",qt),Q(qt.speaker),re("")}),yt.on("languages_swapped",qt=>{je({langA:qt.lang_a,langB:qt.lang_b,langAName:qt.lang_a_name,langBName:qt.lang_b_name,langAFlag:qt.lang_a_flag,langBFlag:qt.lang_b_flag}),a(qt.lang_a),u(qt.lang_b)}),yt.on("session_ended",qt=>{console.log("[StreamingConversation] Session ended:",qt),X(!1),fe(!1),je(null),re("")}),yt.on("disconnect",()=>{R(!1),X(!1),fe(!1),re("")}),$t.current=yt},[us]),Bs=()=>{St.current&&(St.current.getTracks().forEach(yt=>yt.stop()),St.current=null),ls.current&&ls.current.state!=="inactive"&&ls.current.stop(),$t.current&&($t.current.emit("end_session"),$t.current.disconnect(),$t.current=null),R(!1),X(!1),ce(!1),Ne(!1),fe(!1),re(""),De("")},vr=yt=>{!$t.current||!T||(Is.current=0,$t.current.emit("start_streaming",{lang_a:n,lang_b:l,speaker:yt}))},gr=W.useCallback(()=>{ls.current&&ls.current.state!=="inactive"&&ls.current.stop(),St.current&&(St.current.getTracks().forEach(yt=>{yt.stop(),yt.enabled=!1}),St.current=null),ls.current=null},[]),en=async yt=>{if(!$t.current||!T){se("Not connected to server");return}gr(),Q(yt),re(""),se(null);try{const qt=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:16e3}});St.current=qt;let As="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(As)||(As=MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"");const hs=new MediaRecorder(qt,{mimeType:As||void 0});hs.ondataavailable=async Ks=>{var $s;if(Ks.data.size>0&&(($s=$t.current)!=null&&$s.connected))try{const fr=new FileReader;fr.onloadend=()=>{var wa;const tn=fr.result.split(",")[1];(wa=$t.current)!=null&&wa.connected&&$t.current.emit("audio_chunk",{audio:tn,speaker:yt,seq:Is.current++})},fr.readAsDataURL(Ks.data)}catch(fr){console.error("Failed to send audio chunk:",fr)}},hs.onerror=Ks=>{console.error("MediaRecorder error:",Ks.error),se("Recording error occurred"),Nr()},vr(yt),await new Promise(Ks=>setTimeout(Ks,100)),hs.start(200),ls.current=hs,ce(!0)}catch(qt){console.error("Failed to start recording:",qt),gr(),qt.name==="NotAllowedError"||qt.name==="PermissionDeniedError"?se("Microphone access denied. Please allow permission."):qt.name==="NotFoundError"||qt.name==="DevicesNotFoundError"?se("No microphone found."):qt.name==="NotReadableError"||qt.name==="TrackStartError"?se("Microphone is busy or not readable."):se("Microphone access denied or not available")}},Nr=W.useCallback(()=>{var yt;gr(),(yt=$t.current)!=null&&yt.connected&&$t.current.emit("stop_streaming",{speaker:Y}),ce(!1),Ne(!0),setTimeout(()=>{Ne(qt=>qt&&(console.warn("Processing state reset by timeout"),!1))},5e3)},[Y,gr]),er=yt=>{Pe.current&&Pe.current.pause();try{const qt=Vs(yt,"audio/mp3"),As=URL.createObjectURL(qt),hs=new Audio(As);hs.onended=()=>{URL.revokeObjectURL(As),Lt(null)},hs.onerror=$s=>{console.error("Audio error:",$s),URL.revokeObjectURL(As),Lt(null)};const Ks=hs.play();Ks!==void 0&&Ks.catch($s=>{console.error("Audio playback failed:",$s)}),Pe.current=hs}catch(qt){console.error("Failed to setup audio playback:",qt)}},Ys=(yt,qt)=>{Lt(yt),er(qt)},Es=yt=>{var As;const qt=(As=yt.target.files)==null?void 0:As[0];qt&&(he(qt),ge(null))},ft=async()=>{if(be){Ve(!0),ge(null);try{const yt=new FormData;yt.append("file",be),yt.append("source_lang",n),yt.append("target_lang",l),yt.append("engine",d),d==="ai"&&yt.append("model",o);const qt=await fetch(`${It}/api/translate/audio`,{method:"POST",credentials:"include",body:yt}),As=await qt.json();qt.ok&&As.status==="success"?ge({originalText:As.original_text,translatedText:As.translated_text,audioBase64:As.audio_base64}):se(As.error||"Translation failed")}catch{se("Failed to connect to translation service")}finally{Ve(!1)}}},Vt=async(yt,qt)=>{if(yt)try{const As=await fetch(`${It}/tts`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({text:yt,lang:qt})});if(!As.ok)throw new Error("TTS Failed");const hs=await As.blob(),Ks=URL.createObjectURL(hs),$s=new Audio(Ks);$s.onended=()=>URL.revokeObjectURL(Ks),$s.play(),Pe.current=$s}catch(As){console.error("TTS error",As)}},js=yt=>{navigator.clipboard.writeText(yt),Bt(!0),setTimeout(()=>Bt(!1),2e3)},Vs=(yt,qt)=>{const As=atob(yt),hs=new Array(As.length);for(let $s=0;$s<As.length;$s++)hs[$s]=As.charCodeAt($s);const Ks=new Uint8Array(hs);return new Blob([Ks],{type:qt})},or=()=>{Ce([]),Q("A")};return t.jsxs("div",{className:"p-4 md:p-6 w-full max-w-5xl mx-auto space-y-5",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-11 h-11 rounded-2xl bg-gradient-to-br from-sky-400 to-indigo-500 flex items-center justify-center shadow-lg shadow-sky-500/25",children:t.jsx(mu,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Translation Hub"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Text, conversation & audio translation"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-white/50 dark:bg-slate-800/50 p-1.5 rounded-2xl backdrop-blur-sm border border-white/20 dark:border-slate-700/50 relative z-10",children:[t.jsx(mP,{engine:d,setEngine:A,disabled:j||Le||z,isPremium:us,onUpgrade:hr}),d==="ai"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1"}),t.jsx(gP,{selectedModel:o,onSelect:f,isPremium:us,disabled:j||Le||z,onUpgrade:hr})]}),!us&&t.jsxs("a",{href:"/billing",className:"ml-2 flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-400 to-orange-500 text-white rounded-lg font-semibold text-xs shadow-lg shadow-orange-500/25 hover:shadow-xl transition-all hover:-translate-y-0.5",children:[t.jsx(Kd,{className:"w-3.5 h-3.5"}),"Upgrade"]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 p-1.5 bg-slate-100/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:[t.jsx(pb,{active:e==="text",onClick:()=>r("text"),icon:t.jsx(Ao,{className:"w-4 h-4"}),label:"Text"}),t.jsx(pb,{active:e==="conversation",onClick:()=>{r("conversation"),us&&!T&&Cs()},icon:t.jsx(Ld,{className:"w-4 h-4"}),label:"Conversation",badge:us?void 0:"PRO"}),t.jsx(pb,{active:e==="batch",onClick:()=>r("batch"),icon:t.jsx(bw,{className:"w-4 h-4"}),label:"Audio File"})]}),Ae&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),t.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm flex-1",children:Ae}),t.jsx("button",{onClick:()=>se(null),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg",children:t.jsx(qr,{className:"w-4 h-4 text-red-400"})})]}),t.jsxs("div",{className:"bg-white/70 dark:bg-slate-900/70 backdrop-blur-xl rounded-2xl p-5 shadow-xl border border-white/20 dark:border-slate-700/30",children:[e==="text"&&t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("select",{value:n,onChange:yt=>a(yt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm",children:sf.map(yt=>t.jsxs("option",{value:yt.code,children:[yt.flag," ",yt.name]},yt.code))}),t.jsx("button",{onClick:ar,className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-sky-100 dark:hover:bg-indigo-900/50 transition-all active:rotate-180 duration-300",children:t.jsx(rb,{className:"w-4 h-4 text-slate-500"})}),t.jsx("select",{value:l,onChange:yt=>u(yt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm text-indigo-600 dark:text-indigo-400",children:sf.map(yt=>t.jsxs("option",{value:yt.code,children:[yt.flag," ",yt.name]},yt.code))})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex flex-col bg-slate-50 dark:bg-slate-800/50 rounded-xl p-3 min-h-[200px]",children:[t.jsx("textarea",{value:p,onChange:yt=>m(yt.target.value),placeholder:"Enter text to translate...",className:"flex-1 w-full bg-transparent resize-none border-none outline-none text-sm text-slate-900 dark:text-white placeholder-slate-400"}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-200 dark:border-slate-700",children:[t.jsx("button",{onClick:()=>Vt(p,n),className:"p-1.5 text-slate-400 hover:text-sky-600 rounded-lg transition-all",children:t.jsx(ev,{className:"w-4 h-4"})}),t.jsx("span",{className:"text-xs text-slate-400",children:p.length})]})]}),t.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-indigo-50 to-sky-50 dark:from-indigo-900/20 dark:to-sky-900/20 rounded-xl p-3 min-h-[200px]",children:[j?t.jsxs("div",{className:"flex-1 flex items-center justify-center flex-col gap-2 text-indigo-500",children:[t.jsx(Fr,{className:"w-6 h-6 animate-spin"}),t.jsxs("span",{className:"text-xs opacity-70",children:["Using ",d==="google"?"Google Cloud":o,"..."]})]}):t.jsx("textarea",{readOnly:!0,value:x,placeholder:"Translation...",className:"flex-1 w-full bg-transparent resize-none border-none outline-none text-sm text-slate-700 dark:text-slate-200 placeholder-slate-400"}),t.jsx("div",{className:"flex justify-between items-center pt-2 border-t border-indigo-100 dark:border-indigo-900/50",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>js(x),className:"p-1.5 text-slate-400 hover:text-emerald-500 rounded-lg transition-all",children:kt?t.jsx(Yo,{className:"w-4 h-4"}):t.jsx(Xb,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Vt(x,l),className:"p-1.5 text-slate-400 hover:text-sky-600 rounded-lg transition-all",children:t.jsx(ev,{className:"w-4 h-4"})})]})})]})]}),t.jsxs("button",{onClick:Fs,disabled:!p||j,className:"w-full py-3 bg-gradient-to-r from-sky-500 to-indigo-500 text-white rounded-xl font-bold text-sm shadow-lg shadow-sky-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[j?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):t.jsx(Ao,{className:"w-4 h-4"}),j?"Translating...":"Translate"]})]}),e==="conversation"&&t.jsx("div",{className:"space-y-4",children:us?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[T?t.jsx(yp,{className:"w-4 h-4 text-emerald-500"}):t.jsx(vp,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:`text-xs font-medium ${T?"text-emerald-600":"text-slate-500"}`,children:T?z?"Session Active":"Connected":"Disconnected"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("select",{value:n,onChange:yt=>a(yt.target.value),disabled:z,className:"bg-white dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-xs font-medium",children:sf.map(yt=>t.jsxs("option",{value:yt.code,children:[yt.flag," ",yt.name]},yt.code))}),t.jsx("button",{onClick:ar,className:"p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",disabled:ue,children:t.jsx(rb,{className:"w-3 h-3 text-slate-500"})}),t.jsx("select",{value:l,onChange:yt=>u(yt.target.value),disabled:z,className:"bg-white dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-xs font-medium text-indigo-600",children:sf.map(yt=>t.jsxs("option",{value:yt.code,children:[yt.flag," ",yt.name]},yt.code))})]}),t.jsxs("div",{className:"flex gap-2",children:[le.length>0&&t.jsx("button",{onClick:or,className:"p-1.5 text-slate-400 hover:text-red-500 rounded-lg transition-colors",title:"Clear conversation",children:t.jsx(LE,{className:"w-4 h-4"})}),t.jsx("button",{onClick:T?Bs:Cs,className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${T?"bg-red-100 text-red-600 hover:bg-red-200":"bg-emerald-100 text-emerald-600 hover:bg-emerald-200"}`,children:T?"End":"Start"})]})]}),(K||pe||Ee)&&t.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-r from-sky-500/10 via-indigo-500/10 to-purple-500/10 dark:from-sky-500/20 dark:via-indigo-500/20 dark:to-purple-500/20 border border-sky-200 dark:border-sky-800",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-400/20 to-indigo-400/20 animate-pulse"}),t.jsxs("div",{className:"relative p-4 space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500"})]}),t.jsxs("span",{className:"text-xs font-semibold text-sky-600 dark:text-sky-400",children:["LIVE  Speaker ",Y]})]}),t.jsx("span",{className:"text-xs text-slate-400",children:Y==="A"?(oe==null?void 0:oe.langAName)||br(n).name:(oe==null?void 0:oe.langBName)||br(l).name})]}),t.jsx("p",{className:"text-lg font-medium text-slate-800 dark:text-white min-h-[28px]",children:pe||t.jsxs("span",{className:"text-slate-400 italic flex items-center gap-2",children:[t.jsx(Fr,{className:"w-4 h-4 animate-spin"}),"Listening..."]})})]}),Ee&&t.jsxs("div",{className:"border-t border-indigo-200 dark:border-indigo-800 pt-2",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[t.jsx(Ao,{className:"w-3 h-3 text-indigo-500"}),t.jsx("span",{className:"text-xs font-medium text-indigo-500",children:"Translation Preview"}),t.jsx("span",{className:"text-xs text-slate-400",children:Y==="A"?(oe==null?void 0:oe.langBName)||br(l).name:(oe==null?void 0:oe.langAName)||br(n).name})]}),t.jsx("p",{className:"text-base text-indigo-600 dark:text-indigo-400 italic",children:Ee})]})]})]}),t.jsx("div",{className:"h-[280px] overflow-y-auto p-3 bg-slate-50 dark:bg-slate-800/30 rounded-xl",children:le.length===0&&!K?t.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[t.jsx(Ld,{className:"w-10 h-10 mb-2 opacity-50"}),t.jsx("p",{className:"text-sm text-center",children:T?"Press and hold a speaker button to start talking":"Click Start to begin conversation"})]}):t.jsxs(t.Fragment,{children:[le.map(yt=>t.jsx(xP,{message:yt,onPlayAudio:yt.audioBase64?()=>Ys(yt.id,yt.audioBase64):void 0,isPlaying:We===yt.id},yt.id)),t.jsx("div",{ref:Ts})]})}),t.jsxs("div",{className:"flex justify-center gap-8 py-4",children:[t.jsx(e2,{speaker:"A",flag:(oe==null?void 0:oe.langAFlag)||br(n).flag,langName:(oe==null?void 0:oe.langAName)||br(n).name,isActive:Y==="A",isRecording:K&&Y==="A",isProcessing:ue&&Y==="A",disabled:!T||ue,onPress:()=>en("A"),onRelease:Nr}),t.jsx(e2,{speaker:"B",flag:(oe==null?void 0:oe.langBFlag)||br(l).flag,langName:(oe==null?void 0:oe.langBName)||br(l).name,isActive:Y==="B",isRecording:K&&Y==="B",isProcessing:ue&&Y==="B",disabled:!T||ue,onPress:()=>en("B"),onRelease:Nr})]}),t.jsx("p",{className:"text-center text-xs text-slate-400",children:"Press and hold to speak  Release to translate"})]}):t.jsxs("div",{className:"text-center py-10 px-4",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-xl shadow-orange-500/30",children:t.jsx(Kd,{className:"w-8 h-8 text-white"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Unlock Conversation Mode"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4 text-sm max-w-md mx-auto",children:"Have real-time bilingual conversations. Perfect for travel, meetings, and making connections."}),t.jsxs("a",{href:"/billing",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-400 to-orange-500 text-white rounded-xl font-bold text-sm shadow-lg",children:[t.jsx($T,{className:"w-4 h-4"}),"Upgrade to Premium"]})]})}),e==="batch"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("select",{value:n,onChange:yt=>a(yt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm",children:sf.map(yt=>t.jsxs("option",{value:yt.code,children:[yt.flag," ",yt.name]},yt.code))}),t.jsx("button",{onClick:ar,className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-sky-100 transition-all",children:t.jsx(rb,{className:"w-4 h-4 text-slate-500"})}),t.jsx("select",{value:l,onChange:yt=>u(yt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm text-indigo-600",children:sf.map(yt=>t.jsxs("option",{value:yt.code,children:[yt.flag," ",yt.name]},yt.code))})]}),t.jsxs("div",{onClick:()=>{var yt;return(yt=ut.current)==null?void 0:yt.click()},className:`
                border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all
                ${be?"border-emerald-300 bg-emerald-50 dark:bg-emerald-900/20":"border-slate-300 hover:border-sky-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}
              `,children:[t.jsx("input",{ref:ut,type:"file",accept:"audio/*",onChange:Es,className:"hidden"}),be?t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(bw,{className:"w-8 h-8 text-emerald-600"}),t.jsx("p",{className:"font-medium text-sm text-slate-900 dark:text-white",children:be.name}),t.jsxs("p",{className:"text-xs text-slate-500",children:[(be.size/1024).toFixed(1)," KB"]})]}):t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(dp,{className:"w-8 h-8 text-slate-400"}),t.jsx("p",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Upload audio file"}),t.jsx("p",{className:"text-xs text-slate-500",children:"WAV, MP3, FLAC, WebM"})]})]}),t.jsxs("button",{onClick:ft,disabled:!be||Le,className:"w-full py-3 bg-gradient-to-r from-sky-500 to-indigo-500 text-white rounded-xl font-bold text-sm shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[Le?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):t.jsx(Ao,{className:"w-4 h-4"}),Le?"Processing...":"Translate Audio"]}),te&&t.jsxs("div",{className:"space-y-3 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-medium text-slate-500 mb-1",children:"Original"}),t.jsx("p",{className:"text-sm text-slate-900 dark:text-white bg-white dark:bg-slate-800 p-3 rounded-lg",children:te.originalText})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-medium text-indigo-500 mb-1",children:["Translation",t.jsxs("span",{className:"ml-2 opacity-50 font-normal",children:["(via ",d==="google"?"Google Cloud":o,")"]})]}),t.jsx("p",{className:"text-sm text-slate-900 dark:text-white bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg",children:te.translatedText})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>er(te.audioBase64),className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-100 text-indigo-600 rounded-lg text-xs font-medium",children:[t.jsx(Zb,{className:"w-3 h-3"}),"Play"]}),t.jsxs("button",{onClick:()=>js(te.translatedText),className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 text-slate-600 rounded-lg text-xs font-medium",children:[kt?t.jsx(Yo,{className:"w-3 h-3"}):t.jsx(Xb,{className:"w-3 h-3"}),"Copy"]})]})]})]})]})]})},vP=({trips:s,selectedTripId:e,onSelectTrip:r,isOpen:n,onToggle:a})=>{const l=s.find(u=>u.id===e);return t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:a,className:"w-full bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-2xl px-6 py-4 flex items-center justify-between hover:border-emerald-400 transition-all shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:t.jsx(nA,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Current Trip"}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:l?l.title:"Select a trip"}),l&&t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[l.destination,"  ",l.expense_count," expenses"]})]})]}),t.jsx(ap,{className:`w-5 h-5 text-slate-400 transition-transform ${n?"rotate-180":""}`})]}),n&&t.jsx("div",{className:"absolute z-50 mt-2 w-full bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-2xl shadow-xl max-h-96 overflow-y-auto custom-scrollbar",children:s.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(co,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:"No active trips"}),t.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"Create an active trip in Travel page first"})]}):t.jsx("div",{className:"py-2",children:s.map(u=>t.jsx("button",{onClick:()=>{r(u.id),a()},className:`
                    w-full px-6 py-4 text-left hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors
                    ${u.id===e?"bg-emerald-50 dark:bg-emerald-900/20":""}
                  `,children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-1",children:u.title}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:u.destination}),t.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[t.jsxs("span",{className:"text-slate-400",children:["Budget: RM ",u.budget.toLocaleString()]}),t.jsx("span",{className:"text-slate-400",children:""}),t.jsxs("span",{className:"text-slate-400",children:[u.expense_count," expenses"]})]})]}),u.id===e&&t.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500 flex items-center justify-center flex-shrink-0",children:t.jsx(Yo,{className:"w-4 h-4 text-white"})})]})},u.id))})})]})},yP=({stats:s,onEditBudget:e})=>{if(!s)return t.jsx("div",{className:"bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-800 rounded-[2.5rem] p-8 text-slate-500 dark:text-slate-400 shadow-xl",children:t.jsx("p",{className:"text-center",children:"Select a trip to view budget"})});const r=Math.min(s.budget_percentage,100),n=s.is_over_budget;return t.jsxs("div",{className:`
      bg-gradient-to-br rounded-[2.5rem] p-8 text-white shadow-xl
      ${n?"from-red-500 to-red-600 shadow-red-500/20":"from-emerald-500 to-teal-600 shadow-emerald-500/20"}
    `,children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsx("p",{className:`font-bold uppercase tracking-wider text-xs ${n?"text-red-100":"text-emerald-100"}`,children:n?"Over Budget!":"Total Spent"}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(f5,{className:"w-4 h-4"})})]}),t.jsxs("h3",{className:"text-4xl font-black mb-1",children:["RM ",s.total_spent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsxs("p",{className:"text-sm mb-4 opacity-90",children:["of RM ",s.budget.toLocaleString()," budget"]}),t.jsx("div",{className:"w-full bg-black/20 rounded-full h-2 mb-2 overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${n?"bg-red-200":"bg-white"}`,style:{width:`${r}%`}})}),t.jsxs("div",{className:"flex justify-between text-xs font-medium opacity-90",children:[t.jsxs("span",{children:[r.toFixed(0),"% Used"]}),t.jsx("span",{className:"flex items-center gap-1",children:n?t.jsxs(t.Fragment,{children:[t.jsx(sx,{className:"w-3 h-3"}),"RM ",Math.abs(s.remaining).toLocaleString()," over"]}):t.jsxs(t.Fragment,{children:[t.jsx(vT,{className:"w-3 h-3"}),"RM ",s.remaining.toLocaleString()," left"]})})]}),Object.keys(s.by_category).length>0&&t.jsxs("div",{className:"mt-6 pt-6 border-t border-white/20",children:[t.jsx("p",{className:"text-xs font-bold uppercase tracking-wider mb-3 opacity-75",children:"Spending by Category"}),t.jsx("div",{className:"space-y-2",children:Object.entries(s.by_category).sort(([,a],[,l])=>l-a).slice(0,3).map(([a,l])=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"capitalize opacity-90",children:a}),t.jsxs("span",{className:"font-bold",children:["RM ",l.toLocaleString()]})]},a))})]})]})},wP=()=>{const s=$l(),[e,r]=W.useState([]),[n,a]=W.useState(null),[l,u]=W.useState(null),[d,A]=W.useState([]),[o,f]=W.useState(!0),[p,m]=W.useState(!1),[x,b]=W.useState(!1),[j,y]=W.useState(!1),[T,R]=W.useState(!1),[z,X]=W.useState(!1),[Y,Q]=W.useState(""),[K,ce]=W.useState(null),[ue,Ne]=W.useState(null),[le,Ce]=W.useState(null),[oe,je]=W.useState({title:"",amount:0,category:"food"}),Ae=W.useCallback((he,te="success")=>{ce({message:he,type:te}),setTimeout(()=>ce(null),3e3)},[]),se=async()=>{f(!0),Ce(null);try{const he=await fetch("/api/expenses/active-trips",{credentials:"include"});if(he.ok){const te=await he.json();r(te.trips||[]),te.trips&&te.trips.length>0&&!n?a(te.trips[0].id):te.hasActiveTrips||Ce("No active trips found. Please create an active trip in Travel page.")}else he.status===401?Ce("Please log in to continue"):Ce("Failed to load trips")}catch(he){console.error("Error fetching active trips:",he),Ce("Network error")}finally{f(!1)}},pe=async he=>{m(!0);try{const te=await fetch(`/api/expenses/trips/${he}/stats`,{credentials:"include"});if(te.ok){const ge=await te.json();u(ge)}}catch(te){console.error("Error fetching trip stats:",te)}finally{m(!1)}},re=async he=>{b(!0);try{const te=await fetch(`/api/expenses/trips/${he}`,{credentials:"include"});if(te.ok){const ge=await te.json();A(ge.expenses||[])}}catch(te){console.error("Error fetching expenses:",te)}finally{b(!1)}},Ee=async()=>{if(!(!n||!Y))try{const he=await fetch(`/api/expenses/trips/${n}/budget`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budget:parseFloat(Y)})});if(he.ok)X(!1),Q(""),pe(n),se(),Ae("Budget updated successfully!","success");else{const te=await he.json();Ae(`Failed to update budget: ${te.error}`,"error")}}catch(he){console.error("Error updating budget:",he),Ae("Failed to update budget","error")}},De=async()=>{if(!oe.title||!oe.amount){Ae("Please fill in title and amount","info");return}if(!n){Ae("Please select a trip first","info");return}try{const he=await fetch("/api/expenses/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:oe.title,amount:oe.amount,category:oe.category,trip_id:n,transaction_date:new Date().toISOString().split("T")[0]})});if(he.ok)je({title:"",amount:0,category:"food"}),R(!1),pe(n),re(n),se(),Ae("Expense added successfully!","success");else{const te=await he.json();Ae(`Failed to add expense: ${te.error}`,"error")}}catch(he){console.error("Error adding expense:",he),Ae("Failed to add expense","error")}},Se=async()=>{if(ue)try{(await fetch(`/api/expenses/${ue}`,{method:"DELETE",credentials:"include"})).ok&&n?(pe(n),re(n),se(),Ae("Expense deleted successfully","success")):Ae("Failed to delete expense","error")}catch(he){console.error("Error deleting expense:",he),Ae("Failed to delete expense","error")}finally{Ne(null)}};W.useEffect(()=>{se()},[]),W.useEffect(()=>{n&&(pe(n),re(n))},[n]);const fe=he=>{switch(he){case"food":return t.jsx(Wd,{className:"w-5 h-5"});case"transport":return t.jsx(i5,{className:"w-5 h-5"});case"shopping":return t.jsx(tx,{className:"w-5 h-5"});case"accommodation":return t.jsx(Jg,{className:"w-5 h-5"});case"entertainment":return t.jsx(ZS,{className:"w-5 h-5"});default:return t.jsx(Jb,{className:"w-5 h-5"})}},be=he=>{switch(he){case"food":return"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400";case"transport":return"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400";case"shopping":return"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400";case"accommodation":return"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400";case"entertainment":return"bg-pink-100 text-pink-600 dark:bg-pink-900/30 dark:text-pink-400";default:return"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}};return o?t.jsx("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Fr,{className:"w-12 h-12 animate-spin text-emerald-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading trips..."})]})}):le?t.jsx("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto",children:t.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-xl p-6 flex items-start gap-3",children:[t.jsx(Ia,{className:"w-6 h-6 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-100 mb-1",children:"No Active Trips"}),t.jsx("p",{className:"text-amber-700 dark:text-amber-300 mb-4",children:le}),t.jsx("button",{onClick:()=>s("/travel"),className:"px-4 py-2 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"Go to Travel Page"})]})]})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto animate-fade-in-up relative",children:[K&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${K.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":K.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[K.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):K.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(El,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:K.message}),t.jsx("button",{onClick:()=>ce(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),ue&&t.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60] p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 text-center animate-scale-in",children:[t.jsx("div",{className:"w-14 h-14 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Zo,{className:"w-7 h-7"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Delete Expense?"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8 font-medium leading-relaxed text-sm",children:"This item will be removed from your spending history. This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>Ne(null),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all active:scale-95",children:"Cancel"}),t.jsx("button",{onClick:Se,className:"flex-1 py-3 bg-red-600 hover:bg-red-500 text-white rounded-xl text-sm font-bold shadow-lg shadow-red-600/20 transition-all active:scale-95 flex items-center justify-center gap-2",children:"Yes, Delete"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_384px] gap-8",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:t.jsx(Cf,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),"Trip Wallet"]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 font-medium ml-14",children:"Track expenses for each active trip."})]}),t.jsxs("button",{onClick:()=>R(!T),disabled:!n,className:"px-5 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all active:scale-95 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx($i,{className:"w-4 h-4"}),"Add Expense"]})]}),t.jsx(vP,{trips:e,selectedTripId:n,onSelectTrip:a,isOpen:j,onToggle:()=>y(!j)}),T&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] p-6 shadow-xl border border-slate-200 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Item Name"}),t.jsx("input",{type:"text",placeholder:"e.g. Sushi Dinner",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none",value:oe.title,onChange:he=>je({...oe,title:he.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Amount"}),t.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none",value:oe.amount||"",onChange:he=>je({...oe,amount:Number(he.target.value)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Category"}),t.jsxs("select",{className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium outline-none",value:oe.category,onChange:he=>je({...oe,category:he.target.value}),children:[t.jsx("option",{value:"food",children:"Food & Drink"}),t.jsx("option",{value:"transport",children:"Transportation"}),t.jsx("option",{value:"accommodation",children:"Accommodation"}),t.jsx("option",{value:"shopping",children:"Shopping"}),t.jsx("option",{value:"entertainment",children:"Entertainment"}),t.jsx("option",{value:"other",children:"Other"})]})]})]}),t.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-700/50 rounded-xl mb-4",children:t.jsxs("p",{className:"text-xs text-emerald-700 dark:text-emerald-300 flex items-center gap-2",children:[t.jsx(Jo,{className:"w-3 h-3"}),t.jsxs("span",{children:["This expense will be added to ",t.jsx("strong",{children:l==null?void 0:l.trip_title})]})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{R(!1),je({title:"",amount:0,category:"food"})},className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:"Cancel"}),t.jsx("button",{onClick:De,className:"flex-1 py-3 bg-emerald-500 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-400 transition-all active:scale-95",children:"Save Expense"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:["Recent Transactions",d.length>0&&t.jsxs("span",{className:"text-sm font-normal text-slate-400 ml-2",children:["(",d.length," total)"]})]}),x?t.jsxs("div",{className:"text-center py-10",children:[t.jsx(Fr,{className:"w-8 h-8 animate-spin text-emerald-600 mx-auto mb-2"}),t.jsx("p",{className:"text-slate-400",children:"Loading expenses..."})]}):d.length===0?t.jsxs("div",{className:"text-center py-10 bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700",children:[t.jsx(Jb,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-400",children:"No expenses yet for this trip."})]}):d.map(he=>t.jsxs("div",{className:"group bg-white/60 dark:bg-slate-800/60 backdrop-blur-xl border border-white/60 dark:border-slate-700/50 rounded-2xl p-4 flex items-center justify-between hover:scale-[1.01] hover:shadow-lg transition-all duration-300",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${be(he.category)}`,children:fe(he.category)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:he.title}),t.jsx("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:t.jsx("span",{children:he.date?new Date(he.date).toLocaleDateString():"No date"})})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:["RM ",he.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:he.category})]}),t.jsx("button",{onClick:()=>Ne(he.id),className:"opacity-0 group-hover:opacity-100 p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:t.jsx(qr,{className:"w-4 h-4 text-red-500"})})]})]},he.id))]})]}),t.jsxs("div",{className:"w-full space-y-8",children:[t.jsx(yP,{stats:l,onEditBudget:()=>{X(!0),Q((l==null?void 0:l.budget.toString())||"")}}),z&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 max-w-md w-full animate-scale-in",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Update Budget"}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:["Set the budget for ",t.jsx("strong",{children:l==null?void 0:l.trip_title})]}),t.jsx("input",{type:"number",placeholder:"Enter budget amount",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none mb-4",value:Y,onChange:he=>Q(he.target.value)}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{X(!1),Q("")},className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ee,className:"flex-1 py-3 bg-emerald-500 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-400 transition-all",children:"Update"})]})]})})]})]})]})},jP=({user:s,onUpdateUser:e})=>{const{t:r}=Eo(["settings","common"]),[n,a]=W.useState({name:s.name,email:s.email||"",avatarUrl:s.avatarUrl}),[l,u]=W.useState(null),d=W.useRef(null),[A,o]=W.useState({currentPassword:"",newPassword:""}),[f,p]=W.useState("idle"),[m,x]=W.useState(""),[b,j]=W.useState(!1),[y,T]=W.useState({hasLength:!1,hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpecial:!1}),[R,z]=W.useState("idle"),[X,Y]=W.useState(null),[Q,K]=W.useState(""),[ce,ue]=W.useState(0),[Ne,le]=W.useState(""),[Ce,oe]=W.useState("idle"),[je,Ae]=W.useState(""),[se,pe]=W.useState(null),[re,Ee]=W.useState(""),[De,Se]=W.useState(0),[fe,be]=W.useState(!1),[he,te]=W.useState(null),[ge,Le]=W.useState(s.emailNotifications??!0),[Ve,kt]=W.useState(!0),[Bt,We]=W.useState(s.preferredLanguage||V5()),[Lt,$t]=W.useState(!1);W.useEffect(()=>{Le(s.emailNotifications??!0)},[s.emailNotifications]),W.useEffect(()=>{s.preferredLanguage&&We(s.preferredLanguage)},[s.preferredLanguage]);const[ls,Ts]=W.useState(!1),[Pe,ut]=W.useState(!1),[St,Is]=W.useState(null),[us,br]=W.useState(!1),[hr,ar]=W.useState(!1),Fs=(ft,Vt="success")=>{Is({message:ft,type:Vt}),setTimeout(()=>Is(null),3e3)},Cs=async ft=>{if(ft!==Bt){$t(!0);try{await ox(ft),We(ft);const Vt=new FormData;Vt.append("preferredLanguage",ft);const js=await fetch(`${It}/auth/update-profile`,{method:"PUT",credentials:"include",body:Vt});if(js.ok){const Vs=await js.json();Vs.user&&e({...Vs.user}),Fs(r("settings:language.changeSuccess",{fallback:"Language updated!"}),"success")}}catch(Vt){console.error("Failed to update language:",Vt)}finally{$t(!1)}}};W.useEffect(()=>{const ft=new URLSearchParams(window.location.search),Vt=ft.get("success"),js=ft.get("error");Vt==="google_linked"&&(Fs("Google account linked successfully!","success"),window.history.replaceState({},"","/settings"),window.location.reload()),js==="google_already_linked"&&(Fs("This Google account is already linked to another user.","error"),window.history.replaceState({},"","/settings")),js==="linking_failed"&&(Fs("Failed to link Google account. Please try again.","error"),window.history.replaceState({},"","/settings")),js==="already_linked"&&(Fs("Your account already has Google linked.","info"),window.history.replaceState({},"","/settings")),js==="session_expired"&&(Fs("Session expired. Please try again.","error"),window.history.replaceState({},"","/settings"))},[]),W.useEffect(()=>{window.location.hash==="#google-linking"&&setTimeout(()=>{const ft=document.getElementById("google-linking-section");ft==null||ft.scrollIntoView({behavior:"smooth",block:"center"})},100)},[]);const Bs=W.useCallback(ft=>{const Vt={hasLength:ft.length>=8,hasUpper:/[A-Z]/.test(ft),hasLower:/[a-z]/.test(ft),hasNumber:/[0-9]/.test(ft),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(ft)};T(Vt),j(Object.values(Vt).every(Boolean))},[]),vr=async()=>{if(!A.currentPassword){p("error"),x("Please enter your current password.");return}p("loading"),x("");try{const ft=await fetch(`${It}/auth/password-change/send-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({current_password:A.currentPassword})}),Vt=await ft.json();ft.ok&&Vt.status==="success"?(Y(Vt.token),z("verify_code"),ue(60),p("idle"),Fs("Verification code sent to your email","success")):(p("error"),x(Vt.message||"Failed to verify password."))}catch{p("error"),x("Network error.")}},gr=async()=>{if(!Q||Q.length!==6){p("error"),x("Please enter the 6-digit code.");return}if(!b){p("error"),x("New password is too weak.");return}if(A.newPassword!==Ne){p("error"),x("Passwords do not match.");return}p("loading");try{const ft=await fetch(`${It}/auth/password-change/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:X,code:Q,new_password:A.newPassword})}),Vt=await ft.json();ft.ok&&Vt.status==="success"?(z("success"),p("success"),x("Password changed successfully!"),Fs("Password updated successfully","success"),setTimeout(()=>{z("idle"),o({currentPassword:"",newPassword:""}),K(""),le(""),Y(null),p("idle"),x(""),j(!1)},2e3)):(p("error"),x(Vt.message||"Failed to change password."))}catch{p("error"),x("Network error.")}},en=async()=>{if(!(ce>0))try{const ft=await fetch(`${It}/auth/password-change/resend-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:X})}),Vt=await ft.json();ft.ok&&Vt.status==="success"?(Y(Vt.token),ue(60),Fs("Code resent successfully","success")):Fs(Vt.message||"Failed to resend","error")}catch{Fs("Network error","error")}};Uc.useEffect(()=>{if(ce>0){const ft=setTimeout(()=>ue(Vt=>Vt-1),1e3);return()=>clearTimeout(ft)}},[ce]),Uc.useEffect(()=>{if(De>0){const ft=setTimeout(()=>Se(Vt=>Vt-1),1e3);return()=>clearTimeout(ft)}},[De]);const Nr=ft=>{var js;const Vt=(js=ft.target.files)==null?void 0:js[0];if(Vt){if(Vt.size>1048576){Fs("File is too large! Please upload an image smaller than 1MB.","error"),ft.target.value="";return}u(Vt);const or=new FileReader;or.onloadend=()=>{a(yt=>({...yt,avatarUrl:or.result}))},or.readAsDataURL(Vt)}},er=async()=>{Ts(!0);try{const ft=new FormData;ft.append("name",n.name),ft.append("emailNotifications",String(ge)),l&&ft.append("avatar",l);const Vt=await fetch(`${It}/auth/update-profile`,{method:"PUT",credentials:"include",body:ft}),js=await Vt.json();Vt.ok?(ut(!0),setTimeout(()=>ut(!1),3e3),js.user&&e({...js.user}),u(null),Fs("Profile updated successfully!","success")):Fs(js.message||"Update failed","error")}catch(ft){console.error("Upload error:",ft),Fs("Network error occurred. Please try again.","error")}finally{Ts(!1)}},Ys=()=>t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-500 bg-white dark:bg-slate-700/50 p-3 rounded-lg border border-slate-200 dark:border-slate-600 mt-2",children:[t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasLength?"text-emerald-500 font-bold":""}`,children:[y.hasLength?t.jsx(Yo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Min 8 chars"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasUpper?"text-emerald-500 font-bold":""}`,children:[y.hasUpper?t.jsx(Yo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Uppercase"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasLower?"text-emerald-500 font-bold":""}`,children:[y.hasLower?t.jsx(Yo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Lowercase"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${y.hasNumber?"text-emerald-500 font-bold":""}`,children:[y.hasNumber?t.jsx(Yo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Number"]}),t.jsxs("div",{className:`col-span-2 flex items-center gap-1.5 ${y.hasSpecial?"text-emerald-500 font-bold":""}`,children:[y.hasSpecial?t.jsx(Yo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Special char (!@#$%^&*)"]})]}),Es=()=>R==="idle"||R==="verify_current"?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(N3,{className:"w-5 h-5 text-sky-500"}),t.jsx("h4",{className:"font-bold text-slate-700 dark:text-white",children:"Change Password (Secure)"})]}),t.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"For your security, we'll send a verification code to your email."}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ud,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"",value:A.currentPassword,onChange:ft=>o({...A,currentPassword:ft.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:f==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:m})}),t.jsx("button",{onClick:vr,disabled:f==="loading"||!A.currentPassword,className:"px-5 py-2 bg-sky-600 text-white rounded-xl text-xs font-bold hover:bg-sky-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f==="loading"?t.jsx(Fr,{className:"w-3 h-3 animate-spin"}):t.jsxs(t.Fragment,{children:["Continue ",t.jsx(DA,{className:"w-3 h-3"})]})})]})]})]}):R==="verify_code"?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Gd,{className:"w-5 h-5 text-blue-500"}),t.jsx("h4",{className:"font-bold text-slate-700 dark:text-white",children:"Verify & Set New Password"})]}),t.jsxs("p",{className:"text-xs text-slate-500 mb-4",children:["Enter the 6-digit code sent to ",t.jsx("strong",{children:s.email})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Verification Code"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",placeholder:"000000",value:Q,onChange:ft=>K(ft.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 text-sm font-mono tracking-[0.3em] text-center font-bold outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:en,disabled:ce>0,className:"text-xs text-sky-600 hover:text-sky-700 font-medium disabled:text-slate-400",children:ce>0?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{className:"w-3 h-3"})," Resend in ",ce,"s"]}):t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(cd,{className:"w-3 h-3"})," Resend Code"]})})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ud,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Min 8 characters",value:A.newPassword,onChange:ft=>{const Vt=ft.target.value;o({...A,newPassword:Vt}),Bs(Vt)},className:`w-full bg-white dark:bg-slate-800 border rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none transition-all ${A.newPassword.length>0&&!b?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 dark:border-slate-700 focus:ring-sky-500/20 focus:border-sky-500"}`})]}),A.newPassword.length>0&&Ys()]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ud,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Confirm password",value:Ne,onChange:ft=>le(ft.target.value),className:`w-full bg-white dark:bg-slate-800 border rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none transition-all ${Ne.length>0&&Ne!==A.newPassword?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 dark:border-slate-700 focus:ring-sky-500/20 focus:border-sky-500"}`})]}),Ne.length>0&&Ne!==A.newPassword&&t.jsx("p",{className:"text-xs text-red-500 font-bold",children:"Passwords do not match"})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsx("button",{onClick:()=>{z("idle"),K(""),o({currentPassword:"",newPassword:""}),le(""),p("idle"),x("")},className:"text-xs text-slate-500 hover:text-slate-700",children:" Back"}),t.jsxs("div",{className:"flex items-center gap-3",children:[f==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:m}),t.jsx("button",{onClick:gr,disabled:f==="loading"||Q.length!==6||!b||A.newPassword!==Ne,className:"px-5 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f==="loading"?t.jsx(Fr,{className:"w-3 h-3 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(Yo,{className:"w-3 h-3"})," Change Password"]})})]})]})]})]}):R==="success"?t.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl p-6 border border-emerald-200 dark:border-emerald-800",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(uo,{className:"w-6 h-6 text-emerald-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-emerald-800 dark:text-emerald-200",children:"Password Changed!"}),t.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Your password has been updated successfully."})]})]})}):null;return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-4xl mx-auto animate-fade-in-up relative",children:[St&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${St.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":St.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[St.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):St.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(El,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:St.message}),t.jsx("button",{onClick:()=>Is(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(Xo,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"General Settings"})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-10 pb-10 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var ft;return(ft=d.current)==null?void 0:ft.click()},children:[t.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white dark:border-slate-800 shadow-xl ring-2 ring-slate-100 dark:ring-slate-700",children:t.jsx("img",{src:n.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx(Yg,{className:"w-8 h-8 text-white"})}),t.jsx("input",{type:"file",ref:d,className:"hidden",accept:"image/*",onChange:Nr})]}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Profile Photo"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 mb-4",children:"Click the image to upload a new photo. JPG, GIF or PNG."}),t.jsx("button",{onClick:()=>{var ft;return(ft=d.current)==null?void 0:ft.click()},className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Change Photo"})]})]}),t.jsxs("div",{className:"space-y-6 max-w-2xl",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Personal Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:n.name,onChange:ft=>a({...n,name:ft.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",value:n.email,disabled:!0,className:"w-full bg-slate-100 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none text-slate-500 cursor-not-allowed"})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:"Security"}),s.authProvider==="google"||!s.email?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 flex items-center gap-3 text-slate-500 border border-slate-200 dark:border-slate-700",children:[t.jsx(Gd,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm",children:"You are logged in via Google. Password change is not applicable."})]}):Es()]}),t.jsxs("div",{id:"google-linking-section",className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(c5,{className:"w-5 h-5 text-sky-500"}),"Google Account"]}),s.authProvider==="google"||s.hasGoogleLinked?t.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl p-5 border border-emerald-200 dark:border-emerald-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center shadow-sm border border-emerald-200 dark:border-emerald-700",children:t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-bold text-emerald-800 dark:text-emerald-200",children:"Google Account Linked"}),t.jsx(uo,{className:"w-5 h-5 text-emerald-500"})]}),t.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 mt-1",children:s.authProvider==="google"?"You signed up with Google. Calendar features are available.":"Your Google account is connected. Calendar sync and trip export are enabled."})]})]}),s.authProvider==="email"&&s.hasGoogleLinked&&t.jsx("div",{className:"mt-4 pt-4 border-t border-emerald-200 dark:border-emerald-700/50",children:t.jsxs("button",{onClick:async()=>{if(window.confirm("Are you sure you want to unlink your Google account? Calendar sync and trip export will no longer work.")){ar(!0);try{const ft=await fetch(`${It}/auth/unlink-google`,{method:"POST",credentials:"include"}),Vt=await ft.json();ft.ok&&Vt.status==="success"?(Fs("Google account unlinked successfully","success"),Vt.user&&e(Vt.user)):Fs(Vt.message||"Failed to unlink Google account","error")}catch{Fs("Network error. Please try again.","error")}finally{ar(!1)}}},disabled:hr,className:"text-xs text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 font-medium flex items-center gap-1.5 disabled:opacity-50",children:[hr?t.jsx(Fr,{className:"w-3 h-3 animate-spin"}):t.jsx(TT,{className:"w-3 h-3"}),hr?"Unlinking...":"Unlink Google Account"]})})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Link Google Account"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 leading-relaxed",children:"Connect your Google account to enable Calendar sync and export your trips to Google Calendar."}),t.jsxs("button",{onClick:()=>{br(!0),window.location.href=`${It}/auth/link-google`},disabled:us,className:"px-5 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-slate-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[us?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"",className:"w-4 h-4"}),us?"Connecting...":"Connect Google Account",!us&&t.jsx(op,{className:"w-3 h-3 text-slate-400"})]})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700/50 flex items-start gap-2",children:[t.jsx(El,{className:"w-4 h-4 text-slate-400 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 leading-relaxed",children:"We only access your Google Calendar to sync events. Your data stays secure with Google OAuth."})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Preferences"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:t.jsx(Au,{className:"w-5 h-5 text-sky-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Email Notifications"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Receive trip updates and AI suggestions"})]})]}),t.jsx("button",{onClick:()=>Le(!ge),className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors duration-300 ${ge?"bg-sky-500":"bg-slate-300 dark:bg-slate-700"}`,children:t.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-300 ${ge?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:t.jsx(Gd,{className:"w-5 h-5 text-emerald-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Data Privacy"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Allow AI to use travel history for better suggestions"})]})]}),t.jsx("button",{onClick:()=>kt(!Ve),className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors duration-300 ${Ve?"bg-emerald-500":"bg-slate-300 dark:bg-slate-700"}`,children:t.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-300 ${Ve?"translate-x-6":"translate-x-0"}`})})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(hm,{className:"w-5 h-5 text-indigo-500"}),r("settings:language.title","Language")]}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:r("settings:language.description","Choose your preferred language for the interface and AI responses")}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:UR.map(ft=>t.jsxs("button",{onClick:()=>Cs(ft.code),disabled:Lt,className:`p-4 rounded-xl border-2 transition-all duration-200 text-left relative ${Bt===ft.code?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 shadow-md":"border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 hover:border-slate-300 dark:hover:border-slate-600"} ${Lt?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[Bt===ft.code&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(uo,{className:"w-5 h-5 text-indigo-500"})}),t.jsx("span",{className:"text-2xl mb-2 block",children:ft.flag}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:ft.nativeName}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ft.name})]},ft.code))}),Lt&&t.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-slate-500",children:[t.jsx(Fr,{className:"w-4 h-4 animate-spin"}),r("settings:language.changing","Changing language...")]})]}),t.jsx("div",{className:"pt-6 mt-6 flex justify-end",children:t.jsxs("button",{onClick:er,disabled:ls,className:`w-full md:w-auto px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-lg hover:bg-slate-800 dark:hover:bg-slate-200 transition-all flex items-center justify-center gap-2 ${ls?"opacity-70 cursor-not-allowed":""}`,children:[ls?t.jsx(Fr,{className:"w-5 h-5 animate-spin"}):Pe?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(QA,{className:"w-5 h-5"}),Pe?"Saved":ls?"Saving...":"Save Changes"]})})]})]})]})},NP=({user:s,onUpdateUser:e})=>{const r=$l(),[n]=QB(),{t:a}=Eo(["billing","common"]),[l,u]=W.useState("plans"),[d,A]=W.useState(!1),[o,f]=W.useState(null),[p,m]=W.useState(null),[x,b]=W.useState(null),[j,y]=W.useState(!1),[T,R]=W.useState([]),[z,X]=W.useState(!0),[Y,Q]=W.useState(""),[K,ce]=W.useState(!1),[ue,Ne]=W.useState(null),[le,Ce]=W.useState(null),[oe,je]=W.useState(""),[Ae,se]=W.useState([]),[pe,re]=W.useState(!1),[Ee,De]=W.useState("all"),[Se,fe]=W.useState(null),be={monthly:[a("billing:features.monthly.unlimitedPlanning"),a("billing:features.monthly.routeOptimization"),a("billing:features.monthly.prioritySupport"),a("billing:features.monthly.budgetTracking"),a("billing:features.monthly.calendarSync")],yearly:[a("billing:features.yearly.everythingMonthly"),a("billing:features.yearly.twoMonthsFree"),a("billing:features.yearly.earlyAccess"),a("billing:features.yearly.exclusiveTips"),a("billing:features.yearly.noPriceIncrease")],lifetime:[a("billing:features.lifetime.everythingYearly"),a("billing:features.lifetime.lifetimeUpdates"),a("billing:features.lifetime.vipSupport"),a("billing:features.lifetime.transferableLicense"),a("billing:features.lifetime.communityAccess")]};W.useEffect(()=>{te(),he();const Pe=n.get("success"),ut=n.get("activated");Pe==="true"&&(fe(a("billing:messages.paymentSuccess")),setTimeout(()=>fe(null),5e3)),ut==="true"&&(fe(a("billing:messages.membershipActivated")),setTimeout(()=>fe(null),5e3))},[]),W.useEffect(()=>{l==="transactions"&&ge()},[l,Ee]),W.useEffect(()=>{if(p!=null&&p.pendingOrder){const Pe=setInterval(Le,1e4);return()=>clearInterval(Pe)}},[p]);const he=async()=>{try{X(!0);const Pe=await fetch(`${It}/api/payment/plans`,{credentials:"include"});if(Pe.ok){const ut=await Pe.json();R(ut.plans||[])}}catch(Pe){console.error("Failed to fetch plans:",Pe)}finally{X(!1)}},te=async()=>{try{const Pe=await fetch(`${It}/api/payment/subscription-status`,{credentials:"include"});if(Pe.ok){const ut=await Pe.json();m(ut)}}catch(Pe){console.error("Failed to fetch subscription status:",Pe)}},ge=async()=>{try{re(!0);const Pe=Ee==="all"?`${It}/api/payment/transactions`:`${It}/api/payment/transactions?status=${Ee}`,St=await(await fetch(Pe,{credentials:"include"})).json();se(St.transactions||[])}catch(Pe){console.error("Failed to fetch transactions:",Pe)}finally{re(!1)}},Le=async()=>{var Pe;if(p!=null&&p.pendingOrder){y(!0);try{const St=await(await fetch(`${It}/api/payment/verify-order/${p.pendingOrder.orderReference}`,{method:"POST",credentials:"include"})).json();St.success&&((Pe=St.order)==null?void 0:Pe.status)==="active"&&(await te(),e({isPremium:!0}),fe(a("billing:messages.planActive")),setTimeout(()=>fe(null),5e3))}catch(ut){console.error("Error checking order status:",ut)}finally{y(!1)}}},Ve=async Pe=>{if(!Y.trim()){je(a("billing:errors.enterVoucherCode"));return}ce(!0),je("");const ut=Pe!==void 0?Pe:o==null?void 0:o.id;try{const Is=await(await fetch(`${It}/api/payment/validate-voucher`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:Y.trim(),planId:ut||null})})).json();Is.valid?(Ne(Is.voucher),Ce(Is.preview),je(""),Is.voucher.type==="activation"&&f(null)):(je(Is.error||a("billing:errors.invalidVoucher")),Ce(null))}catch{je(a("billing:errors.validateVoucherFailed"))}finally{ce(!1)}},kt=()=>{Ne(null),Ce(null),Q(""),je("")},Bt=async Pe=>{A(!0),Pe&&f(Pe),b(null);try{const ut={};if(Pe&&(ut.planId=Pe.id),ue&&(ut.voucherCode=ue.code),!Pe&&(ue==null?void 0:ue.type)!=="activation")throw new Error(a("billing:errors.selectPlan"));const St=await fetch(`${It}/api/payment/create-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ut)}),Is=await St.json();if(Is.activated){await te(),e({isPremium:!0}),fe(a("billing:messages.membershipActivated")),kt();return}if(St.ok&&Is.paymentUrl)window.location.href=Is.paymentUrl;else if(Is.redirectTo)await te(),e({isPremium:!0}),fe(a("billing:messages.activatedWithVoucher")),kt();else throw new Error(Is.error||a("billing:errors.paymentFailed"))}catch(ut){b(ut.message||a("billing:errors.paymentFailed"))}finally{A(!1)}},We=async Pe=>{try{const St=await(await fetch(`${It}/api/payment/continue-payment/${Pe}`,{credentials:"include"})).json();St.paymentUrl?window.location.href=St.paymentUrl:St.error&&(b(St.error),St.reason==="payment_url_reuse_blocked"&&(await te(),await ge()))}catch{b(a("billing:errors.continueFailed"))}},Lt=async Pe=>{try{(await fetch(`${It}/api/payment/cancel-order/${Pe}`,{method:"POST",credentials:"include"})).ok&&(ge(),te())}catch(ut){console.error("Failed to cancel order:",ut)}},$t=Pe=>{r(`/receipt?order_id=${Pe}`)},ls=Pe=>{const ut={pending:{icon:Vi,color:"text-amber-600 bg-amber-50 dark:bg-amber-900/20",label:a("billing:status.pending")},paid:{icon:Bo,color:"text-green-600 bg-green-50 dark:bg-green-900/20",label:a("billing:status.paid")},active:{icon:Bo,color:"text-green-600 bg-green-50 dark:bg-green-900/20",label:a("billing:status.active")},cancelled:{icon:hu,color:"text-red-600 bg-red-50 dark:bg-red-900/20",label:a("billing:status.cancelled")},expired:{icon:qo,color:"text-gray-600 bg-gray-50 dark:bg-gray-800",label:a("billing:status.expired")},refunded:{icon:hu,color:"text-blue-600 bg-blue-50 dark:bg-blue-900/20",label:a("billing:status.refunded")},failed:{icon:hu,color:"text-red-600 bg-red-50 dark:bg-red-900/20",label:a("billing:status.failed")}},St=ut[Pe]||ut.pending,Is=St.icon;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${St.color}`,children:[t.jsx(Is,{size:14}),St.label]})},Ts=Pe=>Pe.durationDays===null||Pe.slug==="lifetime"?"one-time":Pe.durationDays===30||Pe.slug==="monthly"?"month":Pe.durationDays===365||Pe.slug==="yearly"?"year":`${Pe.durationDays} days`;return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-7xl mx-auto animate-fade-in-up",children:[Se&&t.jsxs("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(Bo,{className:"w-5 h-5 text-green-600"}),t.jsx("p",{className:"text-green-700 dark:text-green-400 font-medium",children:Se})]}),(p==null?void 0:p.pendingOrder)&&t.jsx("div",{className:"mb-8 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-2xl p-6 shadow-sm",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:j?t.jsx(Fr,{className:"w-6 h-6 text-amber-600 animate-spin"}):t.jsx(Ia,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-100 mb-2",children:a("billing:pending.title")}),t.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-400 mb-4",children:["Order ",t.jsx("span",{className:"font-mono font-bold",children:p.pendingOrder.orderReference})," is pending payment.",p.pendingOrder.remainingTime>0&&t.jsx("span",{className:"ml-2",children:a("billing:pending.expiresIn",{time:`${Math.floor(p.pendingOrder.remainingTime/60)}:${String(p.pendingOrder.remainingTime%60).padStart(2,"0")}`})})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[p.pendingOrder.paymentUrl?t.jsx("div",{className:"text-sm text-amber-700 dark:text-amber-300 bg-amber-100 dark:bg-amber-900/30 px-4 py-2 rounded-lg",children:a("billing:pending.sessionEnded")}):t.jsxs("button",{onClick:()=>We(p.pendingOrder.orderReference),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors flex items-center gap-2",children:[t.jsx(ip,{className:"w-4 h-4"}),a("billing:actions.continuePayment")]}),t.jsxs("button",{onClick:()=>Le(),disabled:j,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-amber-200 dark:border-amber-800 text-amber-700 dark:text-amber-400 rounded-lg hover:bg-amber-50 dark:hover:bg-amber-900/10 transition-colors flex items-center gap-2",children:[j?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):t.jsx(Bo,{className:"w-4 h-4"}),a("billing:actions.refreshStatus")]})]})]})]})}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-amber-500/20 to-orange-500/20 rounded-full mb-4",children:[t.jsx(Kd,{className:"w-5 h-5 text-amber-600"}),t.jsx("span",{className:"text-sm font-bold text-amber-700 dark:text-amber-400",children:a("billing:plans.title")})]}),t.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-4",children:["Upgrade to ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-500 to-orange-600",children:"Premium"})]}),t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:a("billing:plans.subtitle")})]}),(p==null?void 0:p.isPremium)&&t.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-6 mb-8 border border-amber-200 dark:border-amber-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Ao,{className:"w-6 h-6 text-amber-600"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:a("billing:subscription.activeTitle")})]}),p.subscriptionEndDate?t.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[t.jsx(co,{className:"w-4 h-4 inline mr-2"}),"Valid until: ",new Date(p.subscriptionEndDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})]}):t.jsxs("p",{className:"text-slate-600 dark:text-slate-400 flex items-center gap-2",children:[t.jsx(Kd,{className:"w-4 h-4 text-amber-600"}),t.jsx("span",{className:"font-bold text-amber-700",children:a("billing:subscription.lifetimeAccess")})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden mb-8",children:[t.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("button",{onClick:()=>u("plans"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${l==="plans"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(Cf,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:a("billing:tabs.plans")})]}),t.jsxs("button",{onClick:()=>u("transactions"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${l==="transactions"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(f3,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:a("billing:tabs.transactions")})]}),t.jsxs("button",{onClick:()=>u("voucher"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${l==="voucher"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(xf,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:a("billing:tabs.redeemCode")})]})]}),t.jsxs("div",{className:"p-6",children:[x&&t.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 mb-6 flex items-center gap-3",children:[t.jsx(Ia,{className:"w-5 h-5 text-red-600"}),t.jsx("p",{className:"text-red-700 dark:text-red-400",children:x}),t.jsx("button",{onClick:()=>b(null),className:"ml-auto text-red-400 hover:text-red-600",children:t.jsx(qr,{size:18})})]}),l==="plans"&&t.jsx("div",{children:z?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Fr,{className:"w-8 h-8 animate-spin text-amber-500"})}):t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:T.map(Pe=>{var vr;const ut=be[Pe.slug]||be.monthly,St=(o==null?void 0:o.id)===Pe.id,Is=St&&le,us=Pe.actionType||"purchase",br=Pe.canPurchase!==!1;let hr=ip,ar=a("billing:actions.subscribeNow"),Fs=!1;us==="upgrade"?(ar=a("billing:actions.upgradePlan"),hr=sx,Fs=!0):us==="renew"?(ar=a("billing:actions.renewSubscription"),hr=cd):us==="blocked"?(ar=a("billing:actions.currentPlanHigher"),hr=Ud):p!=null&&p.isPremium&&Pe.slug==="lifetime"&&!p.subscriptionEndDate&&(ar=a("billing:actions.currentPlan"),hr=Yo),((vr=p==null?void 0:p.currentSubscription)==null?void 0:vr.planId)===Pe.id&&us==="renew"&&(ar=a("billing:actions.renewExtend"));const Bs=d||!br;return t.jsxs("div",{onClick:()=>{(!Bs||us!=="blocked")&&(f(Pe),Y.trim()&&Ve(Pe.id))},className:`relative bg-white dark:bg-slate-800 rounded-2xl p-6 border-2 transition-all duration-300 ${Bs?"opacity-80":"cursor-pointer hover:scale-[1.02]"} ${Pe.isFeatured||Pe.slug==="yearly"?"border-amber-500 shadow-xl shadow-amber-500/20":St?"border-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:[(Pe.isFeatured||Pe.slug==="yearly")&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-gradient-to-r from-amber-500 to-orange-600 text-white text-xs font-bold rounded-full shadow-lg",children:a("billing:plans.mostPopular")}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:Pe.name}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:Pe.description}),t.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[Is?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-2xl text-slate-400 line-through",children:["RM ",le.originalPrice]}),t.jsxs("span",{className:"text-3xl font-bold text-green-600",children:["RM ",le.finalPrice.toFixed(2)]})]}):t.jsxs("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:["RM ",Pe.price]}),t.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["/",Ts(Pe)]})]}),Is&&t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Save RM ",le.discount.toFixed(2),"!"]})]}),t.jsx("ul",{className:"space-y-3 mb-6",children:ut.map((gr,en)=>t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Yo,{className:"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:gr})]},en))}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{onClick:gr=>{gr.stopPropagation(),Bs||Bt(Pe)},disabled:Bs,className:`w-full py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${Bs?"bg-slate-100 dark:bg-slate-700 text-slate-400 dark:text-slate-500 cursor-not-allowed":Pe.isFeatured||Pe.slug==="yearly"?"bg-gradient-to-r from-amber-500 to-orange-600 text-white hover:shadow-lg hover:shadow-amber-500/50":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:d&&(o==null?void 0:o.id)===Pe.id?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{className:"w-5 h-5 animate-spin"}),a("billing:pricing.processing")]}):t.jsxs(t.Fragment,{children:[t.jsx(hr,{className:"w-5 h-5"}),ar]})}),Fs&&!Bs&&t.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 text-center font-medium animate-pulse",children:a("billing:subscription.remainingDaysAdded")}),us==="blocked"&&t.jsx("p",{className:"text-xs text-slate-400 text-center",children:a("billing:subscription.higherTierPlan")})]})]},Pe.id)})})}),l==="transactions"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a("billing:transactions.title")}),t.jsxs("select",{value:Ee,onChange:Pe=>De(Pe.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm",children:[t.jsx("option",{value:"all",children:a("billing:transactions.filters.all")}),t.jsx("option",{value:"pending",children:a("billing:transactions.filters.pending")}),t.jsx("option",{value:"paid",children:a("billing:transactions.filters.paid")}),t.jsx("option",{value:"expired",children:a("billing:transactions.filters.expired")}),t.jsx("option",{value:"cancelled",children:a("billing:transactions.filters.cancelled")})]})]}),pe?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Fr,{className:"w-8 h-8 animate-spin text-amber-500"})}):Ae.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(p5,{className:"w-12 h-12 mx-auto mb-3 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:a("billing:transactions.noTransactions")})]}):t.jsx("div",{className:"space-y-4",children:Ae.map(Pe=>t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:Pe.planName}),t.jsx("p",{className:"text-sm text-slate-500 font-mono",children:Pe.orderReference}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Pe.createdAt})]}),t.jsxs("div",{className:"text-right",children:[ls(Pe.status),t.jsxs("p",{className:"mt-2 font-bold text-lg text-slate-900 dark:text-white",children:["RM ",Pe.amount.toFixed(2)]}),Pe.discountAmount>0&&t.jsx("p",{className:"text-xs text-green-600",children:a("billing:transactions.discount",{amount:Pe.discountAmount.toFixed(2)})})]})]}),Pe.canContinuePayment&&Pe.status==="pending"&&t.jsxs("div",{className:"mt-4 flex gap-2",children:[t.jsxs("button",{onClick:()=>We(Pe.orderReference),className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg flex items-center justify-center gap-2",children:[t.jsx(op,{size:18}),a("billing:actions.continuePayment")]}),t.jsx("button",{onClick:()=>Lt(Pe.orderReference),className:"px-4 py-2.5 border border-red-200 text-red-600 hover:bg-red-50 rounded-lg",children:a("billing:actions.cancel")})]}),["paid","active"].includes(Pe.status)&&Pe.paymentMethod!=="activation_code"&&t.jsxs("button",{onClick:()=>$t(Pe.orderReference),className:"mt-4 w-full py-2.5 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg flex items-center justify-center gap-2 hover:bg-slate-100 dark:hover:bg-slate-700",children:[t.jsx(Td,{size:18}),a("billing:actions.viewReceipt")]}),Pe.voucherCode&&t.jsxs("p",{className:"mt-3 text-xs text-slate-500",children:["Voucher: ",t.jsx("span",{className:"font-mono bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:Pe.voucherCode})]})]},Pe.id))})]}),l==="voucher"&&t.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx(xf,{className:"w-12 h-12 mx-auto mb-3 text-amber-500"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:a("billing:voucher.title")}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:a("billing:voucher.description")})]}),!ue&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(G0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:Y,onChange:Pe=>Q(Pe.target.value.toUpperCase()),placeholder:a("billing:voucher.placeholder"),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl font-mono uppercase text-lg tracking-wider focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all shadow-sm",onKeyDown:Pe=>Pe.key==="Enter"&&Ve()})]}),t.jsx("button",{onClick:()=>Ve(),disabled:!Y.trim()||K,className:"w-full py-3.5 bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg shadow-amber-500/20 transition-all hover:scale-[1.02]",children:K?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{className:"w-5 h-5 animate-spin"}),a("billing:voucher.validating")]}):t.jsxs(t.Fragment,{children:[a("billing:voucher.checkCode")," ",t.jsx(DA,{size:18})]})}),oe&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/50 rounded-lg flex items-center justify-center gap-2 text-red-600 dark:text-red-400 text-sm animate-shake",children:[t.jsx(Ia,{size:16}),oe]})]}),(ue==null?void 0:ue.type)==="activation"&&t.jsx("div",{className:"animate-fade-in-up",children:t.jsx("div",{className:"p-1 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-2xl shadow-xl",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ao,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:a("billing:activation.title")}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:a("billing:activation.code",{code:ue.code})}),t.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 mb-6 border border-purple-100 dark:border-purple-800/50",children:[t.jsx("p",{className:"text-sm text-purple-800 dark:text-purple-300 mb-1",children:a("billing:activation.youWillReceive")}),t.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:[ue.activationDays?a("billing:activation.daysPrefix",{days:ue.activationDays}):a("billing:activation.lifetime")," Premium"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>Bt(),disabled:d,className:"w-full py-4 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-purple-600/30 transition-all hover:scale-[1.02]",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{className:"w-5 h-5 animate-spin"}),a("billing:activation.activating")]}):t.jsxs(t.Fragment,{children:[a("billing:activation.activateNow")," ",t.jsx(Ao,{className:"w-5 h-5"})]})}),t.jsx("button",{onClick:kt,className:"text-sm text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 underline",children:a("billing:activation.useDifferentCode")})]})]})})}),(ue==null?void 0:ue.type)==="discount"&&t.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(G0,{className:"w-5 h-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-mono font-bold text-green-700 dark:text-green-400",children:ue.code}),t.jsx("p",{className:"text-sm text-green-600",children:ue.discountType==="percentage"?a("billing:discount.percentOff",{percent:ue.discountValue}):a("billing:discount.amountOff",{amount:ue.discountValue})})]})]}),t.jsx("button",{onClick:kt,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:t.jsx(qr,{size:18})})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-6 h-6 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),a("billing:discount.selectPlan")]}),t.jsx("div",{className:"grid grid-cols-1 gap-3",children:T.map(Pe=>t.jsxs("button",{onClick:()=>{Pe.canPurchase!==!1&&(f(Pe),Y.trim()&&Ve(Pe.id))},disabled:Pe.canPurchase===!1&&Pe.actionType==="blocked",className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${(o==null?void 0:o.id)===Pe.id?"border-amber-500 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-700 hover:border-amber-200"} ${Pe.canPurchase===!1?"opacity-60 cursor-not-allowed":""}`,children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:Pe.name}),t.jsx("p",{className:"text-xs text-slate-500",children:Pe.description})]}),t.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:["RM ",Pe.price]})]},Pe.id))})]}),o&&t.jsxs("div",{className:"animate-fade-in-up",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx("span",{className:"w-6 h-6 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),a("billing:discount.confirmPay")]}),t.jsx("button",{onClick:()=>Ve(),className:"text-xs text-amber-600 underline",children:a("billing:discount.refreshPrice")})]}),t.jsxs("div",{className:"p-5 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[le?t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-500",children:a("billing:pricing.planPrice",{planName:o.name})}),t.jsxs("span",{className:"text-slate-900 dark:text-white",children:["RM ",o.price.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-green-600 font-medium",children:[t.jsx("span",{children:a("billing:voucher.applied")}),t.jsxs("span",{children:["-RM ",le.discount.toFixed(2)]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3 flex justify-between items-end",children:[t.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:a("billing:pricing.total")}),t.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:["RM ",le.finalPrice.toFixed(2)]})]})]}):t.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[t.jsx(Fr,{className:"w-4 h-4 animate-spin mx-auto mb-2"}),a("billing:discount.calculatingDiscount")]}),t.jsx("button",{onClick:()=>Bt(o),disabled:d||!le,className:"w-full mt-5 py-3.5 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-amber-500/30 hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:scale-100",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{className:"w-5 h-5 animate-spin"}),a("billing:pricing.processing")]}):t.jsxs(t.Fragment,{children:[a("billing:pricing.proceedToPayment")," ",t.jsx(DA,{size:18})]})})]})]})]})]})]})]})]})};var mb={exports:{}},B0={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var kP=B0.exports,t2;function CP(){return t2||(t2=1,(function(s,e){(function(r,n){s.exports=n()})(kP,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var r=function(B,w){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,U){F.__proto__=U}||function(F,U){for(var ae in U)Object.prototype.hasOwnProperty.call(U,ae)&&(F[ae]=U[ae])},r(B,w)};function n(B,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");r(B,w);function F(){this.constructor=B}B.prototype=w===null?Object.create(w):(F.prototype=w.prototype,new F)}var a=function(){return a=Object.assign||function(w){for(var F,U=1,ae=arguments.length;U<ae;U++){F=arguments[U];for(var we in F)Object.prototype.hasOwnProperty.call(F,we)&&(w[we]=F[we])}return w},a.apply(this,arguments)};function l(B,w,F,U){function ae(we){return we instanceof F?we:new F(function(Fe){Fe(we)})}return new(F||(F=Promise))(function(we,Fe){function qe(Dt){try{Nt(U.next(Dt))}catch(Gt){Fe(Gt)}}function et(Dt){try{Nt(U.throw(Dt))}catch(Gt){Fe(Gt)}}function Nt(Dt){Dt.done?we(Dt.value):ae(Dt.value).then(qe,et)}Nt((U=U.apply(B,[])).next())})}function u(B,w){var F={label:0,sent:function(){if(we[0]&1)throw we[1];return we[1]},trys:[],ops:[]},U,ae,we,Fe;return Fe={next:qe(0),throw:qe(1),return:qe(2)},typeof Symbol=="function"&&(Fe[Symbol.iterator]=function(){return this}),Fe;function qe(Nt){return function(Dt){return et([Nt,Dt])}}function et(Nt){if(U)throw new TypeError("Generator is already executing.");for(;F;)try{if(U=1,ae&&(we=Nt[0]&2?ae.return:Nt[0]?ae.throw||((we=ae.return)&&we.call(ae),0):ae.next)&&!(we=we.call(ae,Nt[1])).done)return we;switch(ae=0,we&&(Nt=[Nt[0]&2,we.value]),Nt[0]){case 0:case 1:we=Nt;break;case 4:return F.label++,{value:Nt[1],done:!1};case 5:F.label++,ae=Nt[1],Nt=[0];continue;case 7:Nt=F.ops.pop(),F.trys.pop();continue;default:if(we=F.trys,!(we=we.length>0&&we[we.length-1])&&(Nt[0]===6||Nt[0]===2)){F=0;continue}if(Nt[0]===3&&(!we||Nt[1]>we[0]&&Nt[1]<we[3])){F.label=Nt[1];break}if(Nt[0]===6&&F.label<we[1]){F.label=we[1],we=Nt;break}if(we&&F.label<we[2]){F.label=we[2],F.ops.push(Nt);break}we[2]&&F.ops.pop(),F.trys.pop();continue}Nt=w.call(B,F)}catch(Dt){Nt=[6,Dt],ae=0}finally{U=we=0}if(Nt[0]&5)throw Nt[1];return{value:Nt[0]?Nt[1]:void 0,done:!0}}}function d(B,w,F){if(arguments.length===2)for(var U=0,ae=w.length,we;U<ae;U++)(we||!(U in w))&&(we||(we=Array.prototype.slice.call(w,0,U)),we[U]=w[U]);return B.concat(we||w)}for(var A=(function(){function B(w,F,U,ae){this.left=w,this.top=F,this.width=U,this.height=ae}return B.prototype.add=function(w,F,U,ae){return new B(this.left+w,this.top+F,this.width+U,this.height+ae)},B.fromClientRect=function(w,F){return new B(F.left+w.windowBounds.left,F.top+w.windowBounds.top,F.width,F.height)},B.fromDOMRectList=function(w,F){var U=Array.from(F).find(function(ae){return ae.width!==0});return U?new B(U.left+w.windowBounds.left,U.top+w.windowBounds.top,U.width,U.height):B.EMPTY},B.EMPTY=new B(0,0,0,0),B})(),o=function(B,w){return A.fromClientRect(B,w.getBoundingClientRect())},f=function(B){var w=B.body,F=B.documentElement;if(!w||!F)throw new Error("Unable to get document size");var U=Math.max(Math.max(w.scrollWidth,F.scrollWidth),Math.max(w.offsetWidth,F.offsetWidth),Math.max(w.clientWidth,F.clientWidth)),ae=Math.max(Math.max(w.scrollHeight,F.scrollHeight),Math.max(w.offsetHeight,F.offsetHeight),Math.max(w.clientHeight,F.clientHeight));return new A(0,0,U,ae)},p=function(B){for(var w=[],F=0,U=B.length;F<U;){var ae=B.charCodeAt(F++);if(ae>=55296&&ae<=56319&&F<U){var we=B.charCodeAt(F++);(we&64512)===56320?w.push(((ae&1023)<<10)+(we&1023)+65536):(w.push(ae),F--)}else w.push(ae)}return w},m=function(){for(var B=[],w=0;w<arguments.length;w++)B[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,B);var F=B.length;if(!F)return"";for(var U=[],ae=-1,we="";++ae<F;){var Fe=B[ae];Fe<=65535?U.push(Fe):(Fe-=65536,U.push((Fe>>10)+55296,Fe%1024+56320)),(ae+1===F||U.length>16384)&&(we+=String.fromCharCode.apply(String,U),U.length=0)}return we},x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),j=0;j<x.length;j++)b[x.charCodeAt(j)]=j;for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=typeof Uint8Array>"u"?[]:new Uint8Array(256),R=0;R<y.length;R++)T[y.charCodeAt(R)]=R;for(var z=function(B){var w=B.length*.75,F=B.length,U,ae=0,we,Fe,qe,et;B[B.length-1]==="="&&(w--,B[B.length-2]==="="&&w--);var Nt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),Dt=Array.isArray(Nt)?Nt:new Uint8Array(Nt);for(U=0;U<F;U+=4)we=T[B.charCodeAt(U)],Fe=T[B.charCodeAt(U+1)],qe=T[B.charCodeAt(U+2)],et=T[B.charCodeAt(U+3)],Dt[ae++]=we<<2|Fe>>4,Dt[ae++]=(Fe&15)<<4|qe>>2,Dt[ae++]=(qe&3)<<6|et&63;return Nt},X=function(B){for(var w=B.length,F=[],U=0;U<w;U+=2)F.push(B[U+1]<<8|B[U]);return F},Y=function(B){for(var w=B.length,F=[],U=0;U<w;U+=4)F.push(B[U+3]<<24|B[U+2]<<16|B[U+1]<<8|B[U]);return F},Q=5,K=11,ce=2,ue=K-Q,Ne=65536>>Q,le=1<<Q,Ce=le-1,oe=1024>>Q,je=Ne+oe,Ae=je,se=32,pe=Ae+se,re=65536>>K,Ee=1<<ue,De=Ee-1,Se=function(B,w,F){return B.slice?B.slice(w,F):new Uint16Array(Array.prototype.slice.call(B,w,F))},fe=function(B,w,F){return B.slice?B.slice(w,F):new Uint32Array(Array.prototype.slice.call(B,w,F))},be=function(B,w){var F=z(B),U=Array.isArray(F)?Y(F):new Uint32Array(F),ae=Array.isArray(F)?X(F):new Uint16Array(F),we=24,Fe=Se(ae,we/2,U[4]/2),qe=U[5]===2?Se(ae,(we+U[4])/2):fe(U,Math.ceil((we+U[4])/4));return new he(U[0],U[1],U[2],U[3],Fe,qe)},he=(function(){function B(w,F,U,ae,we,Fe){this.initialValue=w,this.errorValue=F,this.highStart=U,this.highValueIndex=ae,this.index=we,this.data=Fe}return B.prototype.get=function(w){var F;if(w>=0){if(w<55296||w>56319&&w<=65535)return F=this.index[w>>Q],F=(F<<ce)+(w&Ce),this.data[F];if(w<=65535)return F=this.index[Ne+(w-55296>>Q)],F=(F<<ce)+(w&Ce),this.data[F];if(w<this.highStart)return F=pe-re+(w>>K),F=this.index[F],F+=w>>Q&De,F=this.index[F],F=(F<<ce)+(w&Ce),this.data[F];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},B})(),te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge=typeof Uint8Array>"u"?[]:new Uint8Array(256),Le=0;Le<te.length;Le++)ge[te.charCodeAt(Le)]=Le;var Ve="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",kt=50,Bt=1,We=2,Lt=3,$t=4,ls=5,Ts=7,Pe=8,ut=9,St=10,Is=11,us=12,br=13,hr=14,ar=15,Fs=16,Cs=17,Bs=18,vr=19,gr=20,en=21,Nr=22,er=23,Ys=24,Es=25,ft=26,Vt=27,js=28,Vs=29,or=30,yt=31,qt=32,As=33,hs=34,Ks=35,$s=36,fr=37,tn=38,wa=39,Us=40,Ds=41,sr=42,ms=43,Or=[9001,65288],Pr="!",Ar="",Da="",fa=be(Ve),fn=[or,$s],jn=[Bt,We,Lt,ls],dn=[St,Pe],la=[Vt,ft],Dn=jn.concat(dn),Ii=[tn,wa,Us,hs,Ks],Rn=[ar,br],mc=function(B,w){w===void 0&&(w="strict");var F=[],U=[],ae=[];return B.forEach(function(we,Fe){var qe=fa.get(we);if(qe>kt?(ae.push(!0),qe-=kt):ae.push(!1),["normal","auto","loose"].indexOf(w)!==-1&&[8208,8211,12316,12448].indexOf(we)!==-1)return U.push(Fe),F.push(Fs);if(qe===$t||qe===Is){if(Fe===0)return U.push(Fe),F.push(or);var et=F[Fe-1];return Dn.indexOf(et)===-1?(U.push(U[Fe-1]),F.push(et)):(U.push(Fe),F.push(or))}if(U.push(Fe),qe===yt)return F.push(w==="strict"?en:fr);if(qe===sr||qe===Vs)return F.push(or);if(qe===ms)return we>=131072&&we<=196605||we>=196608&&we<=262141?F.push(fr):F.push(or);F.push(qe)}),[U,F,ae]},oi=function(B,w,F,U){var ae=U[F];if(Array.isArray(B)?B.indexOf(ae)!==-1:B===ae)for(var we=F;we<=U.length;){we++;var Fe=U[we];if(Fe===w)return!0;if(Fe!==St)break}if(ae===St)for(var we=F;we>0;){we--;var qe=U[we];if(Array.isArray(B)?B.indexOf(qe)!==-1:B===qe)for(var et=F;et<=U.length;){et++;var Fe=U[et];if(Fe===w)return!0;if(Fe!==St)break}if(qe!==St)break}return!1},Uo=function(B,w){for(var F=B;F>=0;){var U=w[F];if(U===St)F--;else return U}return 0},Kl=function(B,w,F,U,ae){if(F[U]===0)return Ar;var we=U-1;if(Array.isArray(ae)&&ae[we]===!0)return Ar;var Fe=we-1,qe=we+1,et=w[we],Nt=Fe>=0?w[Fe]:0,Dt=w[qe];if(et===We&&Dt===Lt)return Ar;if(jn.indexOf(et)!==-1)return Pr;if(jn.indexOf(Dt)!==-1||dn.indexOf(Dt)!==-1)return Ar;if(Uo(we,w)===Pe)return Da;if(fa.get(B[we])===Is||(et===qt||et===As)&&fa.get(B[qe])===Is||et===Ts||Dt===Ts||et===ut||[St,br,ar].indexOf(et)===-1&&Dt===ut||[Cs,Bs,vr,Ys,js].indexOf(Dt)!==-1||Uo(we,w)===Nr||oi(er,Nr,we,w)||oi([Cs,Bs],en,we,w)||oi(us,us,we,w))return Ar;if(et===St)return Da;if(et===er||Dt===er)return Ar;if(Dt===Fs||et===Fs)return Da;if([br,ar,en].indexOf(Dt)!==-1||et===hr||Nt===$s&&Rn.indexOf(et)!==-1||et===js&&Dt===$s||Dt===gr||fn.indexOf(Dt)!==-1&&et===Es||fn.indexOf(et)!==-1&&Dt===Es||et===Vt&&[fr,qt,As].indexOf(Dt)!==-1||[fr,qt,As].indexOf(et)!==-1&&Dt===ft||fn.indexOf(et)!==-1&&la.indexOf(Dt)!==-1||la.indexOf(et)!==-1&&fn.indexOf(Dt)!==-1||[Vt,ft].indexOf(et)!==-1&&(Dt===Es||[Nr,ar].indexOf(Dt)!==-1&&w[qe+1]===Es)||[Nr,ar].indexOf(et)!==-1&&Dt===Es||et===Es&&[Es,js,Ys].indexOf(Dt)!==-1)return Ar;if([Es,js,Ys,Cs,Bs].indexOf(Dt)!==-1)for(var Gt=we;Gt>=0;){var ws=w[Gt];if(ws===Es)return Ar;if([js,Ys].indexOf(ws)!==-1)Gt--;else break}if([Vt,ft].indexOf(Dt)!==-1)for(var Gt=[Cs,Bs].indexOf(et)!==-1?Fe:we;Gt>=0;){var ws=w[Gt];if(ws===Es)return Ar;if([js,Ys].indexOf(ws)!==-1)Gt--;else break}if(tn===et&&[tn,wa,hs,Ks].indexOf(Dt)!==-1||[wa,hs].indexOf(et)!==-1&&[wa,Us].indexOf(Dt)!==-1||[Us,Ks].indexOf(et)!==-1&&Dt===Us||Ii.indexOf(et)!==-1&&[gr,ft].indexOf(Dt)!==-1||Ii.indexOf(Dt)!==-1&&et===Vt||fn.indexOf(et)!==-1&&fn.indexOf(Dt)!==-1||et===Ys&&fn.indexOf(Dt)!==-1||fn.concat(Es).indexOf(et)!==-1&&Dt===Nr&&Or.indexOf(B[qe])===-1||fn.concat(Es).indexOf(Dt)!==-1&&et===Bs)return Ar;if(et===Ds&&Dt===Ds){for(var jr=F[we],Zs=1;jr>0&&(jr--,w[jr]===Ds);)Zs++;if(Zs%2!==0)return Ar}return et===qt&&Dt===As?Ar:Da},ho=function(B,w){w||(w={lineBreak:"normal",wordBreak:"normal"});var F=mc(B,w.lineBreak),U=F[0],ae=F[1],we=F[2];(w.wordBreak==="break-all"||w.wordBreak==="break-word")&&(ae=ae.map(function(qe){return[Es,or,sr].indexOf(qe)!==-1?fr:qe}));var Fe=w.wordBreak==="keep-all"?we.map(function(qe,et){return qe&&B[et]>=19968&&B[et]<=40959}):void 0;return[U,ae,Fe]},pa=(function(){function B(w,F,U,ae){this.codePoints=w,this.required=F===Pr,this.start=U,this.end=ae}return B.prototype.slice=function(){return m.apply(void 0,this.codePoints.slice(this.start,this.end))},B})(),Ni=function(B,w){var F=p(B),U=ho(F,w),ae=U[0],we=U[1],Fe=U[2],qe=F.length,et=0,Nt=0;return{next:function(){if(Nt>=qe)return{done:!0,value:null};for(var Dt=Ar;Nt<qe&&(Dt=Kl(F,we,ae,++Nt,Fe))===Ar;);if(Dt!==Ar||Nt===qe){var Gt=new pa(F,Dt,et,Nt);return et=Nt,{value:Gt,done:!1}}return{done:!0,value:null}}}},sa=1,Ua=2,qn=4,fo=8,Ai=10,ki=47,hl=92,el=9,Ul=32,xa=34,ja=61,po=35,ti=36,Di=37,hi=39,Wr=40,Ka=41,Ci=95,Qa=45,mo=33,Wn=60,Ki=62,Ga=64,Ra=91,fi=93,Fo=61,Bi=123,ba=63,pi=125,eo=124,Si=126,oo=128,Tt=65533,L=42,G=43,J=44,E=58,M=59,$=46,ie=0,ye=8,Re=11,Ze=14,N=31,v=127,S=-1,I=48,P=97,V=101,de=102,q=117,ee=122,ke=65,Me=69,$e=70,Je=85,xe=90,ct=function(B){return B>=I&&B<=57},ot=function(B){return B>=55296&&B<=57343},At=function(B){return ct(B)||B>=ke&&B<=$e||B>=P&&B<=de},Ye=function(B){return B>=P&&B<=ee},wt=function(B){return B>=ke&&B<=xe},Rt=function(B){return Ye(B)||wt(B)},gt=function(B){return B>=oo},Ge=function(B){return B===Ai||B===el||B===Ul},Mt=function(B){return Rt(B)||gt(B)||B===Ci},is=function(B){return Mt(B)||ct(B)||B===Qa},Ht=function(B){return B>=ie&&B<=ye||B===Re||B>=Ze&&B<=N||B===v},vt=function(B,w){return B!==hl?!1:w!==Ai},ts=function(B,w,F){return B===Qa?Mt(w)||vt(w,F):Mt(B)?!0:!!(B===hl&&vt(B,w))},Xe=function(B,w,F){return B===G||B===Qa?ct(w)?!0:w===$&&ct(F):ct(B===$?w:B)},rt=function(B){var w=0,F=1;(B[w]===G||B[w]===Qa)&&(B[w]===Qa&&(F=-1),w++);for(var U=[];ct(B[w]);)U.push(B[w++]);var ae=U.length?parseInt(m.apply(void 0,U),10):0;B[w]===$&&w++;for(var we=[];ct(B[w]);)we.push(B[w++]);var Fe=we.length,qe=Fe?parseInt(m.apply(void 0,we),10):0;(B[w]===Me||B[w]===V)&&w++;var et=1;(B[w]===G||B[w]===Qa)&&(B[w]===Qa&&(et=-1),w++);for(var Nt=[];ct(B[w]);)Nt.push(B[w++]);var Dt=Nt.length?parseInt(m.apply(void 0,Nt),10):0;return F*(ae+qe*Math.pow(10,-Fe))*Math.pow(10,et*Dt)},xt={type:2},bt={type:3},rs={type:4},ds={type:13},bs={type:8},Kt={type:21},fs={type:9},Xs={type:10},_s={type:11},_e={type:12},dt={type:14},ht={type:23},Ot={type:1},Pt={type:25},Yt={type:24},ps={type:26},gs={type:27},Ls={type:28},Js={type:29},xr={type:31},mr={type:32},Yr=(function(){function B(){this._value=[]}return B.prototype.write=function(w){this._value=this._value.concat(p(w))},B.prototype.read=function(){for(var w=[],F=this.consumeToken();F!==mr;)w.push(F),F=this.consumeToken();return w},B.prototype.consumeToken=function(){var w=this.consumeCodePoint();switch(w){case xa:return this.consumeStringToken(xa);case po:var F=this.peekCodePoint(0),U=this.peekCodePoint(1),ae=this.peekCodePoint(2);if(is(F)||vt(U,ae)){var we=ts(F,U,ae)?Ua:sa,Fe=this.consumeName();return{type:5,value:Fe,flags:we}}break;case ti:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),ds;break;case hi:return this.consumeStringToken(hi);case Wr:return xt;case Ka:return bt;case L:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),dt;break;case G:if(Xe(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case J:return rs;case Qa:var qe=w,et=this.peekCodePoint(0),Nt=this.peekCodePoint(1);if(Xe(qe,et,Nt))return this.reconsumeCodePoint(w),this.consumeNumericToken();if(ts(qe,et,Nt))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();if(et===Qa&&Nt===Ki)return this.consumeCodePoint(),this.consumeCodePoint(),Yt;break;case $:if(Xe(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case ki:if(this.peekCodePoint(0)===L)for(this.consumeCodePoint();;){var Dt=this.consumeCodePoint();if(Dt===L&&(Dt=this.consumeCodePoint(),Dt===ki))return this.consumeToken();if(Dt===S)return this.consumeToken()}break;case E:return ps;case M:return gs;case Wn:if(this.peekCodePoint(0)===mo&&this.peekCodePoint(1)===Qa&&this.peekCodePoint(2)===Qa)return this.consumeCodePoint(),this.consumeCodePoint(),Pt;break;case Ga:var Gt=this.peekCodePoint(0),ws=this.peekCodePoint(1),jr=this.peekCodePoint(2);if(ts(Gt,ws,jr)){var Fe=this.consumeName();return{type:7,value:Fe}}break;case Ra:return Ls;case hl:if(vt(w,this.peekCodePoint(0)))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();break;case fi:return Js;case Fo:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),bs;break;case Bi:return _s;case pi:return _e;case q:case Je:var Zs=this.peekCodePoint(0),ur=this.peekCodePoint(1);return Zs===G&&(At(ur)||ur===ba)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(w),this.consumeIdentLikeToken();case eo:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),fs;if(this.peekCodePoint(0)===eo)return this.consumeCodePoint(),Kt;break;case Si:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),Xs;break;case S:return mr}return Ge(w)?(this.consumeWhiteSpace(),xr):ct(w)?(this.reconsumeCodePoint(w),this.consumeNumericToken()):Mt(w)?(this.reconsumeCodePoint(w),this.consumeIdentLikeToken()):{type:6,value:m(w)}},B.prototype.consumeCodePoint=function(){var w=this._value.shift();return typeof w>"u"?-1:w},B.prototype.reconsumeCodePoint=function(w){this._value.unshift(w)},B.prototype.peekCodePoint=function(w){return w>=this._value.length?-1:this._value[w]},B.prototype.consumeUnicodeRangeToken=function(){for(var w=[],F=this.consumeCodePoint();At(F)&&w.length<6;)w.push(F),F=this.consumeCodePoint();for(var U=!1;F===ba&&w.length<6;)w.push(F),F=this.consumeCodePoint(),U=!0;if(U){var ae=parseInt(m.apply(void 0,w.map(function(et){return et===ba?I:et})),16),we=parseInt(m.apply(void 0,w.map(function(et){return et===ba?$e:et})),16);return{type:30,start:ae,end:we}}var Fe=parseInt(m.apply(void 0,w),16);if(this.peekCodePoint(0)===Qa&&At(this.peekCodePoint(1))){this.consumeCodePoint(),F=this.consumeCodePoint();for(var qe=[];At(F)&&qe.length<6;)qe.push(F),F=this.consumeCodePoint();var we=parseInt(m.apply(void 0,qe),16);return{type:30,start:Fe,end:we}}else return{type:30,start:Fe,end:Fe}},B.prototype.consumeIdentLikeToken=function(){var w=this.consumeName();return w.toLowerCase()==="url"&&this.peekCodePoint(0)===Wr?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Wr?(this.consumeCodePoint(),{type:19,value:w}):{type:20,value:w}},B.prototype.consumeUrlToken=function(){var w=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===S)return{type:22,value:""};var F=this.peekCodePoint(0);if(F===hi||F===xa){var U=this.consumeStringToken(this.consumeCodePoint());return U.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===S||this.peekCodePoint(0)===Ka)?(this.consumeCodePoint(),{type:22,value:U.value}):(this.consumeBadUrlRemnants(),ht)}for(;;){var ae=this.consumeCodePoint();if(ae===S||ae===Ka)return{type:22,value:m.apply(void 0,w)};if(Ge(ae))return this.consumeWhiteSpace(),this.peekCodePoint(0)===S||this.peekCodePoint(0)===Ka?(this.consumeCodePoint(),{type:22,value:m.apply(void 0,w)}):(this.consumeBadUrlRemnants(),ht);if(ae===xa||ae===hi||ae===Wr||Ht(ae))return this.consumeBadUrlRemnants(),ht;if(ae===hl)if(vt(ae,this.peekCodePoint(0)))w.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ht;else w.push(ae)}},B.prototype.consumeWhiteSpace=function(){for(;Ge(this.peekCodePoint(0));)this.consumeCodePoint()},B.prototype.consumeBadUrlRemnants=function(){for(;;){var w=this.consumeCodePoint();if(w===Ka||w===S)return;vt(w,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},B.prototype.consumeStringSlice=function(w){for(var F=5e4,U="";w>0;){var ae=Math.min(F,w);U+=m.apply(void 0,this._value.splice(0,ae)),w-=ae}return this._value.shift(),U},B.prototype.consumeStringToken=function(w){var F="",U=0;do{var ae=this._value[U];if(ae===S||ae===void 0||ae===w)return F+=this.consumeStringSlice(U),{type:0,value:F};if(ae===Ai)return this._value.splice(0,U),Ot;if(ae===hl){var we=this._value[U+1];we!==S&&we!==void 0&&(we===Ai?(F+=this.consumeStringSlice(U),U=-1,this._value.shift()):vt(ae,we)&&(F+=this.consumeStringSlice(U),F+=m(this.consumeEscapedCodePoint()),U=-1))}U++}while(!0)},B.prototype.consumeNumber=function(){var w=[],F=qn,U=this.peekCodePoint(0);for((U===G||U===Qa)&&w.push(this.consumeCodePoint());ct(this.peekCodePoint(0));)w.push(this.consumeCodePoint());U=this.peekCodePoint(0);var ae=this.peekCodePoint(1);if(U===$&&ct(ae))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),F=fo;ct(this.peekCodePoint(0));)w.push(this.consumeCodePoint());U=this.peekCodePoint(0),ae=this.peekCodePoint(1);var we=this.peekCodePoint(2);if((U===Me||U===V)&&((ae===G||ae===Qa)&&ct(we)||ct(ae)))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),F=fo;ct(this.peekCodePoint(0));)w.push(this.consumeCodePoint());return[rt(w),F]},B.prototype.consumeNumericToken=function(){var w=this.consumeNumber(),F=w[0],U=w[1],ae=this.peekCodePoint(0),we=this.peekCodePoint(1),Fe=this.peekCodePoint(2);if(ts(ae,we,Fe)){var qe=this.consumeName();return{type:15,number:F,flags:U,unit:qe}}return ae===Di?(this.consumeCodePoint(),{type:16,number:F,flags:U}):{type:17,number:F,flags:U}},B.prototype.consumeEscapedCodePoint=function(){var w=this.consumeCodePoint();if(At(w)){for(var F=m(w);At(this.peekCodePoint(0))&&F.length<6;)F+=m(this.consumeCodePoint());Ge(this.peekCodePoint(0))&&this.consumeCodePoint();var U=parseInt(F,16);return U===0||ot(U)||U>1114111?Tt:U}return w===S?Tt:w},B.prototype.consumeName=function(){for(var w="";;){var F=this.consumeCodePoint();if(is(F))w+=m(F);else if(vt(F,this.peekCodePoint(0)))w+=m(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(F),w}},B})(),tt=(function(){function B(w){this._tokens=w}return B.create=function(w){var F=new Yr;return F.write(w),new B(F.read())},B.parseValue=function(w){return B.create(w).parseComponentValue()},B.parseValues=function(w){return B.create(w).parseComponentValues()},B.prototype.parseComponentValue=function(){for(var w=this.consumeToken();w.type===31;)w=this.consumeToken();if(w.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(w);var F=this.consumeComponentValue();do w=this.consumeToken();while(w.type===31);if(w.type===32)return F;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},B.prototype.parseComponentValues=function(){for(var w=[];;){var F=this.consumeComponentValue();if(F.type===32)return w;w.push(F),w.push()}},B.prototype.consumeComponentValue=function(){var w=this.consumeToken();switch(w.type){case 11:case 28:case 2:return this.consumeSimpleBlock(w.type);case 19:return this.consumeFunction(w)}return w},B.prototype.consumeSimpleBlock=function(w){for(var F={type:w,values:[]},U=this.consumeToken();;){if(U.type===32||Ca(U,w))return F;this.reconsumeToken(U),F.values.push(this.consumeComponentValue()),U=this.consumeToken()}},B.prototype.consumeFunction=function(w){for(var F={name:w.value,values:[],type:18};;){var U=this.consumeToken();if(U.type===32||U.type===3)return F;this.reconsumeToken(U),F.values.push(this.consumeComponentValue())}},B.prototype.consumeToken=function(){var w=this._tokens.shift();return typeof w>"u"?mr:w},B.prototype.reconsumeToken=function(w){this._tokens.unshift(w)},B})(),lr=function(B){return B.type===15},un=function(B){return B.type===17},rr=function(B){return B.type===20},Hs=function(B){return B.type===0},sn=function(B,w){return rr(B)&&B.value===w},yr=function(B){return B.type!==31},Vr=function(B){return B.type!==31&&B.type!==4},Ir=function(B){var w=[],F=[];return B.forEach(function(U){if(U.type===4){if(F.length===0)throw new Error("Error parsing function args, zero tokens for arg");w.push(F),F=[];return}U.type!==31&&F.push(U)}),F.length&&w.push(F),w},Ca=function(B,w){return w===11&&B.type===12||w===28&&B.type===29?!0:w===2&&B.type===3},Sn=function(B){return B.type===17||B.type===15},Cr=function(B){return B.type===16||Sn(B)},$n=function(B){return B.length>1?[B[0],B[1]]:[B[0]]},Xr={type:17,number:0,flags:qn},Br={type:16,number:50,flags:qn},nn={type:16,number:100,flags:qn},Dr=function(B,w,F){var U=B[0],ae=B[1];return[vn(U,w),vn(typeof ae<"u"?ae:U,F)]},vn=function(B,w){if(B.type===16)return B.number/100*w;if(lr(B))switch(B.unit){case"rem":case"em":return 16*B.number;case"px":default:return B.number}return B.number},Yn="deg",En="grad",Pn="rad",Wa="turn",Kr={name:"angle",parse:function(B,w){if(w.type===15)switch(w.unit){case Yn:return Math.PI*w.number/180;case En:return Math.PI/200*w.number;case Pn:return w.number;case Wa:return Math.PI*2*w.number}throw new Error("Unsupported angle type")}},_a=function(B){return B.type===15&&(B.unit===Yn||B.unit===En||B.unit===Pn||B.unit===Wa)},pn=function(B){var w=B.filter(rr).map(function(F){return F.value}).join(" ");switch(w){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Xr,Xr];case"to top":case"bottom":return Hr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Xr,nn];case"to right":case"left":return Hr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[nn,nn];case"to bottom":case"top":return Hr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[nn,Xr];case"to left":case"right":return Hr(270)}return 0},Hr=function(B){return Math.PI*B/180},Na={name:"color",parse:function(B,w){if(w.type===18){var F=an[w.name];if(typeof F>"u")throw new Error('Attempting to parse an unsupported color function "'+w.name+'"');return F(B,w.values)}if(w.type===5){if(w.value.length===3){var U=w.value.substring(0,1),ae=w.value.substring(1,2),we=w.value.substring(2,3);return Ln(parseInt(U+U,16),parseInt(ae+ae,16),parseInt(we+we,16),1)}if(w.value.length===4){var U=w.value.substring(0,1),ae=w.value.substring(1,2),we=w.value.substring(2,3),Fe=w.value.substring(3,4);return Ln(parseInt(U+U,16),parseInt(ae+ae,16),parseInt(we+we,16),parseInt(Fe+Fe,16)/255)}if(w.value.length===6){var U=w.value.substring(0,2),ae=w.value.substring(2,4),we=w.value.substring(4,6);return Ln(parseInt(U,16),parseInt(ae,16),parseInt(we,16),1)}if(w.value.length===8){var U=w.value.substring(0,2),ae=w.value.substring(2,4),we=w.value.substring(4,6),Fe=w.value.substring(6,8);return Ln(parseInt(U,16),parseInt(ae,16),parseInt(we,16),parseInt(Fe,16)/255)}}if(w.type===20){var qe=mi[w.value.toUpperCase()];if(typeof qe<"u")return qe}return mi.TRANSPARENT}},Nn=function(B){return(255&B)===0},ir=function(B){var w=255&B,F=255&B>>8,U=255&B>>16,ae=255&B>>24;return w<255?"rgba("+ae+","+U+","+F+","+w/255+")":"rgb("+ae+","+U+","+F+")"},Ln=function(B,w,F,U){return(B<<24|w<<16|F<<8|Math.round(U*255)<<0)>>>0},Yc=function(B,w){if(B.type===17)return B.number;if(B.type===16){var F=w===3?1:255;return w===3?B.number/100*F:Math.round(B.number/100*F)}return 0},Ri=function(B,w){var F=w.filter(Vr);if(F.length===3){var U=F.map(Yc),ae=U[0],we=U[1],Fe=U[2];return Ln(ae,we,Fe,1)}if(F.length===4){var qe=F.map(Yc),ae=qe[0],we=qe[1],Fe=qe[2],et=qe[3];return Ln(ae,we,Fe,et)}return 0};function lo(B,w,F){return F<0&&(F+=1),F>=1&&(F-=1),F<1/6?(w-B)*F*6+B:F<1/2?w:F<2/3?(w-B)*6*(2/3-F)+B:B}var Gl=function(B,w){var F=w.filter(Vr),U=F[0],ae=F[1],we=F[2],Fe=F[3],qe=(U.type===17?Hr(U.number):Kr.parse(B,U))/(Math.PI*2),et=Cr(ae)?ae.number/100:0,Nt=Cr(we)?we.number/100:0,Dt=typeof Fe<"u"&&Cr(Fe)?vn(Fe,1):1;if(et===0)return Ln(Nt*255,Nt*255,Nt*255,1);var Gt=Nt<=.5?Nt*(et+1):Nt+et-Nt*et,ws=Nt*2-Gt,jr=lo(ws,Gt,qe+1/3),Zs=lo(ws,Gt,qe),ur=lo(ws,Gt,qe-1/3);return Ln(jr*255,Zs*255,ur*255,Dt)},an={hsl:Gl,hsla:Gl,rgb:Ri,rgba:Ri},li=function(B,w){return Na.parse(B,tt.create(w).parseComponentValue())},mi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},tl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(B,w){return w.map(function(F){if(rr(F))switch(F.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Lo={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Pa=function(B,w){var F=Na.parse(B,w[0]),U=w[1];return U&&Cr(U)?{color:F,stop:U}:{color:F,stop:null}},gi=function(B,w){var F=B[0],U=B[B.length-1];F.stop===null&&(F.stop=Xr),U.stop===null&&(U.stop=nn);for(var ae=[],we=0,Fe=0;Fe<B.length;Fe++){var qe=B[Fe].stop;if(qe!==null){var et=vn(qe,w);et>we?ae.push(et):ae.push(we),we=et}else ae.push(null)}for(var Nt=null,Fe=0;Fe<ae.length;Fe++){var Dt=ae[Fe];if(Dt===null)Nt===null&&(Nt=Fe);else if(Nt!==null){for(var Gt=Fe-Nt,ws=ae[Nt-1],jr=(Dt-ws)/(Gt+1),Zs=1;Zs<=Gt;Zs++)ae[Nt+Zs-1]=jr*Zs;Nt=null}}return B.map(function(ur,Jr){var Lr=ur.color;return{color:Lr,stop:Math.max(Math.min(1,ae[Jr]/w),0)}})},ci=function(B,w,F){var U=w/2,ae=F/2,we=vn(B[0],w)-U,Fe=ae-vn(B[1],F);return(Math.atan2(Fe,we)+Math.PI*2)%(Math.PI*2)},Fl=function(B,w,F){var U=typeof B=="number"?B:ci(B,w,F),ae=Math.abs(w*Math.sin(U))+Math.abs(F*Math.cos(U)),we=w/2,Fe=F/2,qe=ae/2,et=Math.sin(U-Math.PI/2)*qe,Nt=Math.cos(U-Math.PI/2)*qe;return[ae,we-Nt,we+Nt,Fe-et,Fe+et]},Pi=function(B,w){return Math.sqrt(B*B+w*w)},fl=function(B,w,F,U,ae){var we=[[0,0],[0,w],[B,0],[B,w]];return we.reduce(function(Fe,qe){var et=qe[0],Nt=qe[1],Dt=Pi(F-et,U-Nt);return(ae?Dt<Fe.optimumDistance:Dt>Fe.optimumDistance)?{optimumCorner:qe,optimumDistance:Dt}:Fe},{optimumDistance:ae?1/0:-1/0,optimumCorner:null}).optimumCorner},go=function(B,w,F,U,ae){var we=0,Fe=0;switch(B.size){case 0:B.shape===0?we=Fe=Math.min(Math.abs(w),Math.abs(w-U),Math.abs(F),Math.abs(F-ae)):B.shape===1&&(we=Math.min(Math.abs(w),Math.abs(w-U)),Fe=Math.min(Math.abs(F),Math.abs(F-ae)));break;case 2:if(B.shape===0)we=Fe=Math.min(Pi(w,F),Pi(w,F-ae),Pi(w-U,F),Pi(w-U,F-ae));else if(B.shape===1){var qe=Math.min(Math.abs(F),Math.abs(F-ae))/Math.min(Math.abs(w),Math.abs(w-U)),et=fl(U,ae,w,F,!0),Nt=et[0],Dt=et[1];we=Pi(Nt-w,(Dt-F)/qe),Fe=qe*we}break;case 1:B.shape===0?we=Fe=Math.max(Math.abs(w),Math.abs(w-U),Math.abs(F),Math.abs(F-ae)):B.shape===1&&(we=Math.max(Math.abs(w),Math.abs(w-U)),Fe=Math.max(Math.abs(F),Math.abs(F-ae)));break;case 3:if(B.shape===0)we=Fe=Math.max(Pi(w,F),Pi(w,F-ae),Pi(w-U,F),Pi(w-U,F-ae));else if(B.shape===1){var qe=Math.max(Math.abs(F),Math.abs(F-ae))/Math.max(Math.abs(w),Math.abs(w-U)),Gt=fl(U,ae,w,F,!1),Nt=Gt[0],Dt=Gt[1];we=Pi(Nt-w,(Dt-F)/qe),Fe=qe*we}break}return Array.isArray(B.size)&&(we=vn(B.size[0],U),Fe=B.size.length===2?vn(B.size[1],ae):we),[we,Fe]},Ll=function(B,w){var F=Hr(180),U=[];return Ir(w).forEach(function(ae,we){if(we===0){var Fe=ae[0];if(Fe.type===20&&Fe.value==="to"){F=pn(ae);return}else if(_a(Fe)){F=Kr.parse(B,Fe);return}}var qe=Pa(B,ae);U.push(qe)}),{angle:F,stops:U,type:1}},Mo=function(B,w){var F=Hr(180),U=[];return Ir(w).forEach(function(ae,we){if(we===0){var Fe=ae[0];if(Fe.type===20&&["top","left","right","bottom"].indexOf(Fe.value)!==-1){F=pn(ae);return}else if(_a(Fe)){F=(Kr.parse(B,Fe)+Hr(270))%Hr(360);return}}var qe=Pa(B,ae);U.push(qe)}),{angle:F,stops:U,type:1}},pl=function(B,w){var F=Hr(180),U=[],ae=1,we=0,Fe=3,qe=[];return Ir(w).forEach(function(et,Nt){var Dt=et[0];if(Nt===0){if(rr(Dt)&&Dt.value==="linear"){ae=1;return}else if(rr(Dt)&&Dt.value==="radial"){ae=2;return}}if(Dt.type===18){if(Dt.name==="from"){var Gt=Na.parse(B,Dt.values[0]);U.push({stop:Xr,color:Gt})}else if(Dt.name==="to"){var Gt=Na.parse(B,Dt.values[0]);U.push({stop:nn,color:Gt})}else if(Dt.name==="color-stop"){var ws=Dt.values.filter(Vr);if(ws.length===2){var Gt=Na.parse(B,ws[1]),jr=ws[0];un(jr)&&U.push({stop:{type:16,number:jr.number*100,flags:jr.flags},color:Gt})}}}}),ae===1?{angle:(F+Hr(180))%Hr(360),stops:U,type:ae}:{size:Fe,shape:we,stops:U,position:qe,type:ae}},Xc="closest-side",ml="farthest-side",Oo="closest-corner",Fc="farthest-corner",Jc="circle",gc="ellipse",sl="cover",Lc="contain",Io=function(B,w){var F=0,U=3,ae=[],we=[];return Ir(w).forEach(function(Fe,qe){var et=!0;if(qe===0){var Nt=!1;et=Fe.reduce(function(Gt,ws){if(Nt)if(rr(ws))switch(ws.value){case"center":return we.push(Br),Gt;case"top":case"left":return we.push(Xr),Gt;case"right":case"bottom":return we.push(nn),Gt}else(Cr(ws)||Sn(ws))&&we.push(ws);else if(rr(ws))switch(ws.value){case Jc:return F=0,!1;case gc:return F=1,!1;case"at":return Nt=!0,!1;case Xc:return U=0,!1;case sl:case ml:return U=1,!1;case Lc:case Oo:return U=2,!1;case Fc:return U=3,!1}else if(Sn(ws)||Cr(ws))return Array.isArray(U)||(U=[]),U.push(ws),!1;return Gt},et)}if(et){var Dt=Pa(B,Fe);ae.push(Dt)}}),{size:U,shape:F,stops:ae,position:we,type:2}},Ml=function(B,w){var F=0,U=3,ae=[],we=[];return Ir(w).forEach(function(Fe,qe){var et=!0;if(qe===0?et=Fe.reduce(function(Dt,Gt){if(rr(Gt))switch(Gt.value){case"center":return we.push(Br),!1;case"top":case"left":return we.push(Xr),!1;case"right":case"bottom":return we.push(nn),!1}else if(Cr(Gt)||Sn(Gt))return we.push(Gt),!1;return Dt},et):qe===1&&(et=Fe.reduce(function(Dt,Gt){if(rr(Gt))switch(Gt.value){case Jc:return F=0,!1;case gc:return F=1,!1;case Lc:case Xc:return U=0,!1;case ml:return U=1,!1;case Oo:return U=2,!1;case sl:case Fc:return U=3,!1}else if(Sn(Gt)||Cr(Gt))return Array.isArray(U)||(U=[]),U.push(Gt),!1;return Dt},et)),et){var Nt=Pa(B,Fe);ae.push(Nt)}}),{size:U,shape:F,stops:ae,position:we,type:2}},xo=function(B){return B.type===1},xc=function(B){return B.type===2},Mc={name:"image",parse:function(B,w){if(w.type===22){var F={url:w.value,type:0};return B.cache.addImage(w.value),F}if(w.type===18){var U=Wl[w.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported image function "'+w.name+'"');return U(B,w.values)}throw new Error("Unsupported image type "+w.type)}};function Ad(B){return!(B.type===20&&B.value==="none")&&(B.type!==18||!!Wl[B.name])}var Wl={"linear-gradient":Ll,"-moz-linear-gradient":Mo,"-ms-linear-gradient":Mo,"-o-linear-gradient":Mo,"-webkit-linear-gradient":Mo,"radial-gradient":Io,"-moz-radial-gradient":Ml,"-ms-radial-gradient":Ml,"-o-radial-gradient":Ml,"-webkit-radial-gradient":Ml,"-webkit-gradient":pl},Jd={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(B,w){if(w.length===0)return[];var F=w[0];return F.type===20&&F.value==="none"?[]:w.filter(function(U){return Vr(U)&&Ad(U)}).map(function(U){return Mc.parse(B,U)})}},hd={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(B,w){return w.map(function(F){if(rr(F))switch(F.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bo={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(B,w){return Ir(w).map(function(F){return F.filter(Cr)}).map($n)}},Od={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(B,w){return Ir(w).map(function(F){return F.filter(rr).map(function(U){return U.value}).join(" ")}).map(Do)}},Do=function(B){switch(B){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},An;(function(B){B.AUTO="auto",B.CONTAIN="contain",B.COVER="cover"})(An||(An={}));var Ol={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(B,w){return Ir(w).map(function(F){return F.filter(Yl)})}},Yl=function(B){return rr(B)||Cr(B)},Xl=function(B){return{name:"border-"+B+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Oc=Xl("top"),Il=Xl("right"),Gi=Xl("bottom"),Jl=Xl("left"),fd=function(B){return{name:"border-radius-"+B,initialValue:"0 0",prefix:!1,type:1,parse:function(w,F){return $n(F.filter(Cr))}}},Wi=fd("top-left"),Zc=fd("top-right"),Ro=fd("bottom-right"),pd=fd("bottom-left"),Zl=function(B){return{name:"border-"+B+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(w,F){switch(F){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},vo=Zl("top"),to=Zl("right"),ql=Zl("bottom"),gl=Zl("left"),rl=function(B){return{name:"border-"+B+"-width",initialValue:"0",type:0,prefix:!1,parse:function(w,F){return lr(F)?F.number:0}}},xl=rl("top"),gu=rl("right"),Dl=rl("bottom"),xu=rl("left"),md={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Qi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(B,w){switch(w){case"rtl":return 1;case"ltr":default:return 0}}},Ha={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(B,w){return w.filter(rr).reduce(function(F,U){return F|cr(U.value)},0)}},cr=function(B){switch(B){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ic={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(B,w){switch(w){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},bl={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(B,w){return w.type===20&&w.value==="normal"?0:w.type===17||w.type===15?w.number:0}},gd;(function(B){B.NORMAL="normal",B.STRICT="strict"})(gd||(gd={}));var Po={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(B,w){switch(w){case"strict":return gd.STRICT;case"normal":default:return gd.NORMAL}}},Dc={name:"line-height",initialValue:"normal",prefix:!1,type:4},bu=function(B,w){return rr(B)&&B.value==="normal"?1.2*w:B.type===17?w*B.number:Cr(B)?vn(B,w):w},xd={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(B,w){return w.type===20&&w.value==="none"?null:Mc.parse(B,w)}},Yi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(B,w){switch(w){case"inside":return 0;case"outside":default:return 1}}},qc={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(B,w){switch(w){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},vl=function(B){return{name:"margin-"+B,initialValue:"0",prefix:!1,type:4}},Zd=vl("top"),nl=vl("right"),bc=vl("bottom"),Qo=vl("left"),al={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(B,w){return w.filter(rr).map(function(F){switch(F.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},bd={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(B,w){switch(w){case"break-word":return"break-word";case"normal":default:return"normal"}}},yl=function(B){return{name:"padding-"+B,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},vc=yl("top"),ed=yl("right"),il=yl("bottom"),si=yl("left"),vd={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(B,w){switch(w){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},vu={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(B,w){switch(w){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Lu={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(B,w){return w.length===1&&sn(w[0],"none")?[]:Ir(w).map(function(F){for(var U={color:mi.TRANSPARENT,offsetX:Xr,offsetY:Xr,blur:Xr},ae=0,we=0;we<F.length;we++){var Fe=F[we];Sn(Fe)?(ae===0?U.offsetX=Fe:ae===1?U.offsetY=Fe:U.blur=Fe,ae++):U.color=Na.parse(B,Fe)}return U})}},td={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(B,w){switch(w){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},sd={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(B,w){if(w.type===20&&w.value==="none")return null;if(w.type===18){var F=yd[w.name];if(typeof F>"u")throw new Error('Attempting to parse an unsupported transform function "'+w.name+'"');return F(w.values)}return null}},xi=function(B){var w=B.filter(function(F){return F.type===17}).map(function(F){return F.number});return w.length===6?w:null},rd=function(B){var w=B.filter(function(et){return et.type===17}).map(function(et){return et.number}),F=w[0],U=w[1];w[2],w[3];var ae=w[4],we=w[5];w[6],w[7],w[8],w[9],w[10],w[11];var Fe=w[12],qe=w[13];return w[14],w[15],w.length===16?[F,U,ae,we,Fe,qe]:null},yd={matrix:xi,matrix3d:rd},Z={type:16,number:50,flags:qn},Te=[Z,Z],at={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(B,w){var F=w.filter(Cr);return F.length!==2?Te:[F[0],F[1]]}},pt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(B,w){switch(w){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Qt;(function(B){B.NORMAL="normal",B.BREAK_ALL="break-all",B.KEEP_ALL="keep-all"})(Qt||(Qt={}));for(var Ns={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(B,w){switch(w){case"break-all":return Qt.BREAK_ALL;case"keep-all":return Qt.KEEP_ALL;case"normal":default:return Qt.NORMAL}}},Rs={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(B,w){if(w.type===20)return{auto:!0,order:0};if(un(w))return{auto:!1,order:w.number};throw new Error("Invalid z-index number parsed")}},Sr={name:"time",parse:function(B,w){if(w.type===15)switch(w.unit.toLowerCase()){case"s":return 1e3*w.number;case"ms":return w.number}throw new Error("Unsupported time type")}},Er={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(B,w){return un(w)?w.number:1}},mn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},kn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(B,w){return w.filter(rr).map(function(F){switch(F.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(F){return F!==0})}},ra={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(B,w){var F=[],U=[];return w.forEach(function(ae){switch(ae.type){case 20:case 0:F.push(ae.value);break;case 17:F.push(ae.number.toString());break;case 4:U.push(F.join(" ")),F.length=0;break}}),F.length&&U.push(F.join(" ")),U.map(function(ae){return ae.indexOf(" ")===-1?ae:"'"+ae+"'"})}},Fa={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},bi={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(B,w){if(un(w))return w.number;if(rr(w))switch(w.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ba={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(B,w){return w.filter(rr).map(function(F){return F.value})}},Ei={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(B,w){switch(w){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},k=function(B,w){return(B&w)!==0},Be={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(B,w){if(w.length===0)return[];var F=w[0];return F.type===20&&F.value==="none"?[]:w}},H={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(B,w){if(w.length===0)return null;var F=w[0];if(F.type===20&&F.value==="none")return null;for(var U=[],ae=w.filter(yr),we=0;we<ae.length;we++){var Fe=ae[we],qe=ae[we+1];if(Fe.type===20){var et=qe&&un(qe)?qe.number:1;U.push({counter:Fe.value,increment:et})}}return U}},Qe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(B,w){if(w.length===0)return[];for(var F=[],U=w.filter(yr),ae=0;ae<U.length;ae++){var we=U[ae],Fe=U[ae+1];if(rr(we)&&we.value!=="none"){var qe=Fe&&un(Fe)?Fe.number:0;F.push({counter:we.value,reset:qe})}}return F}},lt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(B,w){return w.filter(lr).map(function(F){return Sr.parse(B,F)})}},it={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(B,w){if(w.length===0)return null;var F=w[0];if(F.type===20&&F.value==="none")return null;var U=[],ae=w.filter(Hs);if(ae.length%2!==0)return null;for(var we=0;we<ae.length;we+=2){var Fe=ae[we].value,qe=ae[we+1].value;U.push({open:Fe,close:qe})}return U}},Xt=function(B,w,F){if(!B)return"";var U=B[Math.min(w,B.length-1)];return U?F?U.open:U.close:""},Ut={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(B,w){return w.length===1&&sn(w[0],"none")?[]:Ir(w).map(function(F){for(var U={color:255,offsetX:Xr,offsetY:Xr,blur:Xr,spread:Xr,inset:!1},ae=0,we=0;we<F.length;we++){var Fe=F[we];sn(Fe,"inset")?U.inset=!0:Sn(Fe)?(ae===0?U.offsetX=Fe:ae===1?U.offsetY=Fe:ae===2?U.blur=Fe:U.spread=Fe,ae++):U.color=Na.parse(B,Fe)}return U})}},pr={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(B,w){var F=[0,1,2],U=[];return w.filter(rr).forEach(function(ae){switch(ae.value){case"stroke":U.push(1);break;case"fill":U.push(0);break;case"markers":U.push(2);break}}),F.forEach(function(ae){U.indexOf(ae)===-1&&U.push(ae)}),U}},jt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Jt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(B,w){return lr(w)?w.number:0}},gn=(function(){function B(w,F){var U,ae;this.animationDuration=xs(w,lt,F.animationDuration),this.backgroundClip=xs(w,tl,F.backgroundClip),this.backgroundColor=xs(w,Lo,F.backgroundColor),this.backgroundImage=xs(w,Jd,F.backgroundImage),this.backgroundOrigin=xs(w,hd,F.backgroundOrigin),this.backgroundPosition=xs(w,bo,F.backgroundPosition),this.backgroundRepeat=xs(w,Od,F.backgroundRepeat),this.backgroundSize=xs(w,Ol,F.backgroundSize),this.borderTopColor=xs(w,Oc,F.borderTopColor),this.borderRightColor=xs(w,Il,F.borderRightColor),this.borderBottomColor=xs(w,Gi,F.borderBottomColor),this.borderLeftColor=xs(w,Jl,F.borderLeftColor),this.borderTopLeftRadius=xs(w,Wi,F.borderTopLeftRadius),this.borderTopRightRadius=xs(w,Zc,F.borderTopRightRadius),this.borderBottomRightRadius=xs(w,Ro,F.borderBottomRightRadius),this.borderBottomLeftRadius=xs(w,pd,F.borderBottomLeftRadius),this.borderTopStyle=xs(w,vo,F.borderTopStyle),this.borderRightStyle=xs(w,to,F.borderRightStyle),this.borderBottomStyle=xs(w,ql,F.borderBottomStyle),this.borderLeftStyle=xs(w,gl,F.borderLeftStyle),this.borderTopWidth=xs(w,xl,F.borderTopWidth),this.borderRightWidth=xs(w,gu,F.borderRightWidth),this.borderBottomWidth=xs(w,Dl,F.borderBottomWidth),this.borderLeftWidth=xs(w,xu,F.borderLeftWidth),this.boxShadow=xs(w,Ut,F.boxShadow),this.color=xs(w,md,F.color),this.direction=xs(w,Qi,F.direction),this.display=xs(w,Ha,F.display),this.float=xs(w,Ic,F.cssFloat),this.fontFamily=xs(w,ra,F.fontFamily),this.fontSize=xs(w,Fa,F.fontSize),this.fontStyle=xs(w,Ei,F.fontStyle),this.fontVariant=xs(w,Ba,F.fontVariant),this.fontWeight=xs(w,bi,F.fontWeight),this.letterSpacing=xs(w,bl,F.letterSpacing),this.lineBreak=xs(w,Po,F.lineBreak),this.lineHeight=xs(w,Dc,F.lineHeight),this.listStyleImage=xs(w,xd,F.listStyleImage),this.listStylePosition=xs(w,Yi,F.listStylePosition),this.listStyleType=xs(w,qc,F.listStyleType),this.marginTop=xs(w,Zd,F.marginTop),this.marginRight=xs(w,nl,F.marginRight),this.marginBottom=xs(w,bc,F.marginBottom),this.marginLeft=xs(w,Qo,F.marginLeft),this.opacity=xs(w,Er,F.opacity);var we=xs(w,al,F.overflow);this.overflowX=we[0],this.overflowY=we[we.length>1?1:0],this.overflowWrap=xs(w,bd,F.overflowWrap),this.paddingTop=xs(w,vc,F.paddingTop),this.paddingRight=xs(w,ed,F.paddingRight),this.paddingBottom=xs(w,il,F.paddingBottom),this.paddingLeft=xs(w,si,F.paddingLeft),this.paintOrder=xs(w,pr,F.paintOrder),this.position=xs(w,vu,F.position),this.textAlign=xs(w,vd,F.textAlign),this.textDecorationColor=xs(w,mn,(U=F.textDecorationColor)!==null&&U!==void 0?U:F.color),this.textDecorationLine=xs(w,kn,(ae=F.textDecorationLine)!==null&&ae!==void 0?ae:F.textDecoration),this.textShadow=xs(w,Lu,F.textShadow),this.textTransform=xs(w,td,F.textTransform),this.transform=xs(w,sd,F.transform),this.transformOrigin=xs(w,at,F.transformOrigin),this.visibility=xs(w,pt,F.visibility),this.webkitTextStrokeColor=xs(w,jt,F.webkitTextStrokeColor),this.webkitTextStrokeWidth=xs(w,Jt,F.webkitTextStrokeWidth),this.wordBreak=xs(w,Ns,F.wordBreak),this.zIndex=xs(w,Rs,F.zIndex)}return B.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},B.prototype.isTransparent=function(){return Nn(this.backgroundColor)},B.prototype.isTransformed=function(){return this.transform!==null},B.prototype.isPositioned=function(){return this.position!==0},B.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},B.prototype.isFloating=function(){return this.float!==0},B.prototype.isInlineLevel=function(){return k(this.display,4)||k(this.display,33554432)||k(this.display,268435456)||k(this.display,536870912)||k(this.display,67108864)||k(this.display,134217728)},B})(),nr=(function(){function B(w,F){this.content=xs(w,Be,F.content),this.quotes=xs(w,it,F.quotes)}return B})(),Qs=(function(){function B(w,F){this.counterIncrement=xs(w,H,F.counterIncrement),this.counterReset=xs(w,Qe,F.counterReset)}return B})(),xs=function(B,w,F){var U=new Yr,ae=F!==null&&typeof F<"u"?F.toString():w.initialValue;U.write(ae);var we=new tt(U.read());switch(w.type){case 2:var Fe=we.parseComponentValue();return w.parse(B,rr(Fe)?Fe.value:w.initialValue);case 0:return w.parse(B,we.parseComponentValue());case 1:return w.parse(B,we.parseComponentValues());case 4:return we.parseComponentValue();case 3:switch(w.format){case"angle":return Kr.parse(B,we.parseComponentValue());case"color":return Na.parse(B,we.parseComponentValue());case"image":return Mc.parse(B,we.parseComponentValue());case"length":var qe=we.parseComponentValue();return Sn(qe)?qe:Xr;case"length-percentage":var et=we.parseComponentValue();return Cr(et)?et:Xr;case"time":return Sr.parse(B,we.parseComponentValue())}break}},La="data-html2canvas-debug",hn=function(B){var w=B.getAttribute(La);switch(w){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Gr=function(B,w){var F=hn(B);return F===1||w===F},ln=(function(){function B(w,F){if(this.context=w,this.textNodes=[],this.elements=[],this.flags=0,Gr(F,3))debugger;this.styles=new gn(w,window.getComputedStyle(F,null)),tu(F)&&(this.styles.animationDuration.some(function(U){return U>0})&&(F.style.animationDuration="0s"),this.styles.transform!==null&&(F.style.transform="none")),this.bounds=o(this.context,F),Gr(F,4)&&(this.flags|=16)}return B})(),Tn="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Un=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ma=0;Ma<tr.length;Ma++)Un[tr.charCodeAt(Ma)]=Ma;for(var zr=function(B){var w=B.length*.75,F=B.length,U,ae=0,we,Fe,qe,et;B[B.length-1]==="="&&(w--,B[B.length-2]==="="&&w--);var Nt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),Dt=Array.isArray(Nt)?Nt:new Uint8Array(Nt);for(U=0;U<F;U+=4)we=Un[B.charCodeAt(U)],Fe=Un[B.charCodeAt(U+1)],qe=Un[B.charCodeAt(U+2)],et=Un[B.charCodeAt(U+3)],Dt[ae++]=we<<2|Fe>>4,Dt[ae++]=(Fe&15)<<4|qe>>2,Dt[ae++]=(qe&3)<<6|et&63;return Nt},na=function(B){for(var w=B.length,F=[],U=0;U<w;U+=2)F.push(B[U+1]<<8|B[U]);return F},Qn=function(B){for(var w=B.length,F=[],U=0;U<w;U+=4)F.push(B[U+3]<<24|B[U+2]<<16|B[U+1]<<8|B[U]);return F},Tr=5,on=11,yo=2,ec=on-Tr,wl=65536>>Tr,Xi=1<<Tr,wo=Xi-1,Ya=1024>>Tr,Mu=wl+Ya,nd=Mu,ol=32,ll=nd+ol,vi=65536>>on,qd=1<<ec,yc=qd-1,yn=function(B,w,F){return B.slice?B.slice(w,F):new Uint16Array(Array.prototype.slice.call(B,w,F))},ma=function(B,w,F){return B.slice?B.slice(w,F):new Uint32Array(Array.prototype.slice.call(B,w,F))},ri=function(B,w){var F=zr(B),U=Array.isArray(F)?Qn(F):new Uint32Array(F),ae=Array.isArray(F)?na(F):new Uint16Array(F),we=24,Fe=yn(ae,we/2,U[4]/2),qe=U[5]===2?yn(ae,(we+U[4])/2):ma(U,Math.ceil((we+U[4])/4));return new wd(U[0],U[1],U[2],U[3],Fe,qe)},wd=(function(){function B(w,F,U,ae,we,Fe){this.initialValue=w,this.errorValue=F,this.highStart=U,this.highValueIndex=ae,this.index=we,this.data=Fe}return B.prototype.get=function(w){var F;if(w>=0){if(w<55296||w>56319&&w<=65535)return F=this.index[w>>Tr],F=(F<<yo)+(w&wo),this.data[F];if(w<=65535)return F=this.index[wl+(w-55296>>Tr)],F=(F<<yo)+(w&wo),this.data[F];if(w<this.highStart)return F=ll-vi+(w>>on),F=this.index[F],F+=w>>Tr&yc,F=this.index[F],F=(F<<yo)+(w&wo),this.data[F];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},B})(),tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wc=typeof Uint8Array>"u"?[]:new Uint8Array(256),_o=0;_o<tc.length;_o++)wc[tc.charCodeAt(_o)]=_o;var sc=1,aa=2,za=3,_n=4,Ji=5,ad=7,yu=8,Id=9,Ou=10,lA=11,cA=12,dA=13,cl=14,Ti=15,uA=function(B){for(var w=[],F=0,U=B.length;F<U;){var ae=B.charCodeAt(F++);if(ae>=55296&&ae<=56319&&F<U){var we=B.charCodeAt(F++);(we&64512)===56320?w.push(((ae&1023)<<10)+(we&1023)+65536):(w.push(ae),F--)}else w.push(ae)}return w},Dd=function(){for(var B=[],w=0;w<arguments.length;w++)B[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,B);var F=B.length;if(!F)return"";for(var U=[],ae=-1,we="";++ae<F;){var Fe=B[ae];Fe<=65535?U.push(Fe):(Fe-=65536,U.push((Fe>>10)+55296,Fe%1024+56320)),(ae+1===F||U.length>16384)&&(we+=String.fromCharCode.apply(String,U),U.length=0)}return we},AA=ri(Tn),Rl="",Rc="",hA=function(B){return AA.get(B)},zA=function(B,w,F){var U=F-2,ae=w[U],we=w[F-1],Fe=w[F];if(we===aa&&Fe===za)return Rl;if(we===aa||we===za||we===_n||Fe===aa||Fe===za||Fe===_n)return Rc;if(we===yu&&[yu,Id,lA,cA].indexOf(Fe)!==-1||(we===lA||we===Id)&&(Fe===Id||Fe===Ou)||(we===cA||we===Ou)&&Fe===Ou||Fe===dA||Fe===Ji||Fe===ad||we===sc)return Rl;if(we===dA&&Fe===cl){for(;ae===Ji;)ae=w[--U];if(ae===cl)return Rl}if(we===Ti&&Fe===Ti){for(var qe=0;ae===Ti;)qe++,ae=w[--U];if(qe%2===0)return Rl}return Rc},$A=function(B){var w=uA(B),F=w.length,U=0,ae=0,we=w.map(hA);return{next:function(){if(U>=F)return{done:!0,value:null};for(var Fe=Rl;U<F&&(Fe=zA(w,we,++U))===Rl;);if(Fe!==Rl||U===F){var qe=Dd.apply(null,w.slice(ae,U));return ae=U,{value:qe,done:!1}}return{done:!0,value:null}}}},zh=function(B){for(var w=$A(B),F=[],U;!(U=w.next()).done;)U.value&&F.push(U.value.slice());return F},$h=function(B){var w=123;if(B.createRange){var F=B.createRange();if(F.getBoundingClientRect){var U=B.createElement("boundtest");U.style.height=w+"px",U.style.display="block",B.body.appendChild(U),F.selectNode(U);var ae=F.getBoundingClientRect(),we=Math.round(ae.height);if(B.body.removeChild(U),we===w)return!0}}return!1},VA=function(B){var w=B.createElement("boundtest");w.style.width="50px",w.style.display="block",w.style.fontSize="12px",w.style.letterSpacing="0px",w.style.wordSpacing="0px",B.body.appendChild(w);var F=B.createRange();w.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var U=w.firstChild,ae=p(U.data).map(function(et){return m(et)}),we=0,Fe={},qe=ae.every(function(et,Nt){F.setStart(U,we),F.setEnd(U,we+et.length);var Dt=F.getBoundingClientRect();we+=et.length;var Gt=Dt.x>Fe.x||Dt.y>Fe.y;return Fe=Dt,Nt===0?!0:Gt});return B.body.removeChild(w),qe},fA=function(){return typeof new Image().crossOrigin<"u"},rc=function(){return typeof new XMLHttpRequest().responseType=="string"},jc=function(B){var w=new Image,F=B.createElement("canvas"),U=F.getContext("2d");if(!U)return!1;w.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{U.drawImage(w,0,0),F.toDataURL()}catch{return!1}return!0},wu=function(B){return B[0]===0&&B[1]===255&&B[2]===0&&B[3]===255},pA=function(B){var w=B.createElement("canvas"),F=100;w.width=F,w.height=F;var U=w.getContext("2d");if(!U)return Promise.reject(!1);U.fillStyle="rgb(0, 255, 0)",U.fillRect(0,0,F,F);var ae=new Image,we=w.toDataURL();ae.src=we;var Fe=KA(F,F,0,0,ae);return U.fillStyle="red",U.fillRect(0,0,F,F),Iu(Fe).then(function(qe){U.drawImage(qe,0,0);var et=U.getImageData(0,0,F,F).data;U.fillStyle="red",U.fillRect(0,0,F,F);var Nt=B.createElement("div");return Nt.style.backgroundImage="url("+we+")",Nt.style.height=F+"px",wu(et)?Iu(KA(F,F,0,0,Nt)):Promise.reject(!1)}).then(function(qe){return U.drawImage(qe,0,0),wu(U.getImageData(0,0,F,F).data)}).catch(function(){return!1})},KA=function(B,w,F,U,ae){var we="http://www.w3.org/2000/svg",Fe=document.createElementNS(we,"svg"),qe=document.createElementNS(we,"foreignObject");return Fe.setAttributeNS(null,"width",B.toString()),Fe.setAttributeNS(null,"height",w.toString()),qe.setAttributeNS(null,"width","100%"),qe.setAttributeNS(null,"height","100%"),qe.setAttributeNS(null,"x",F.toString()),qe.setAttributeNS(null,"y",U.toString()),qe.setAttributeNS(null,"externalResourcesRequired","true"),Fe.appendChild(qe),qe.appendChild(ae),Fe},Iu=function(B){return new Promise(function(w,F){var U=new Image;U.onload=function(){return w(U)},U.onerror=F,U.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(B))})},so={get SUPPORT_RANGE_BOUNDS(){var B=$h(document);return Object.defineProperty(so,"SUPPORT_RANGE_BOUNDS",{value:B}),B},get SUPPORT_WORD_BREAKING(){var B=so.SUPPORT_RANGE_BOUNDS&&VA(document);return Object.defineProperty(so,"SUPPORT_WORD_BREAKING",{value:B}),B},get SUPPORT_SVG_DRAWING(){var B=jc(document);return Object.defineProperty(so,"SUPPORT_SVG_DRAWING",{value:B}),B},get SUPPORT_FOREIGNOBJECT_DRAWING(){var B=typeof Array.from=="function"&&typeof window.fetch=="function"?pA(document):Promise.resolve(!1);return Object.defineProperty(so,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:B}),B},get SUPPORT_CORS_IMAGES(){var B=fA();return Object.defineProperty(so,"SUPPORT_CORS_IMAGES",{value:B}),B},get SUPPORT_RESPONSE_TYPE(){var B=rc();return Object.defineProperty(so,"SUPPORT_RESPONSE_TYPE",{value:B}),B},get SUPPORT_CORS_XHR(){var B="withCredentials"in new XMLHttpRequest;return Object.defineProperty(so,"SUPPORT_CORS_XHR",{value:B}),B},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var B=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(so,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:B}),B}},eu=(function(){function B(w,F){this.text=w,this.bounds=F}return B})(),GA=function(B,w,F,U){var ae=Ef(w,F),we=[],Fe=0;return ae.forEach(function(qe){if(F.textDecorationLine.length||qe.trim().length>0)if(so.SUPPORT_RANGE_BOUNDS){var et=mA(U,Fe,qe.length).getClientRects();if(et.length>1){var Nt=ju(qe),Dt=0;Nt.forEach(function(ws){we.push(new eu(ws,A.fromDOMRectList(B,mA(U,Dt+Fe,ws.length).getClientRects()))),Dt+=ws.length})}else we.push(new eu(qe,A.fromDOMRectList(B,et)))}else{var Gt=U.splitText(qe.length);we.push(new eu(qe,WA(B,U))),U=Gt}else so.SUPPORT_RANGE_BOUNDS||(U=U.splitText(qe.length));Fe+=qe.length}),we},WA=function(B,w){var F=w.ownerDocument;if(F){var U=F.createElement("html2canvaswrapper");U.appendChild(w.cloneNode(!0));var ae=w.parentNode;if(ae){ae.replaceChild(U,w);var we=o(B,U);return U.firstChild&&ae.replaceChild(U.firstChild,U),we}}return A.EMPTY},mA=function(B,w,F){var U=B.ownerDocument;if(!U)throw new Error("Node has no owner document");var ae=U.createRange();return ae.setStart(B,w),ae.setEnd(B,w+F),ae},ju=function(B){if(so.SUPPORT_NATIVE_TEXT_SEGMENTATION){var w=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(w.segment(B)).map(function(F){return F.segment})}return zh(B)},YA=function(B,w){if(so.SUPPORT_NATIVE_TEXT_SEGMENTATION){var F=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(F.segment(B)).map(function(U){return U.segment})}return Vh(B,w)},Ef=function(B,w){return w.letterSpacing!==0?ju(B):YA(B,w)},Np=[32,160,4961,65792,65793,4153,4241],Vh=function(B,w){for(var F=Ni(B,{lineBreak:w.lineBreak,wordBreak:w.overflowWrap==="break-word"?"break-word":w.wordBreak}),U=[],ae,we=function(){if(ae.value){var Fe=ae.value.slice(),qe=p(Fe),et="";qe.forEach(function(Nt){Np.indexOf(Nt)===-1?et+=m(Nt):(et.length&&U.push(et),U.push(m(Nt)),et="")}),et.length&&U.push(et)}};!(ae=F.next()).done;)we();return U},Du=(function(){function B(w,F,U){this.text=Tf(F.data,U.textTransform),this.textBounds=GA(w,this.text,U,F)}return B})(),Tf=function(B,w){switch(w){case 1:return B.toLowerCase();case 3:return B.replace(XA,JA);case 2:return B.toUpperCase();default:return B}},XA=/(^|\s|:|-|\(|\))([a-z])/g,JA=function(B,w,F){return B.length>0?w+F.toUpperCase():B},Kh=(function(B){n(w,B);function w(F,U){var ae=B.call(this,F,U)||this;return ae.src=U.currentSrc||U.src,ae.intrinsicWidth=U.naturalWidth,ae.intrinsicHeight=U.naturalHeight,ae.context.cache.addImage(ae.src),ae}return w})(ln),Ru=(function(B){n(w,B);function w(F,U){var ae=B.call(this,F,U)||this;return ae.canvas=U,ae.intrinsicWidth=U.width,ae.intrinsicHeight=U.height,ae}return w})(ln),ZA=(function(B){n(w,B);function w(F,U){var ae=B.call(this,F,U)||this,we=new XMLSerializer,Fe=o(F,U);return U.setAttribute("width",Fe.width+"px"),U.setAttribute("height",Fe.height+"px"),ae.svg="data:image/svg+xml,"+encodeURIComponent(we.serializeToString(U)),ae.intrinsicWidth=U.width.baseVal.value,ae.intrinsicHeight=U.height.baseVal.value,ae.context.cache.addImage(ae.svg),ae}return w})(ln),Nu=(function(B){n(w,B);function w(F,U){var ae=B.call(this,F,U)||this;return ae.value=U.value,ae}return w})(ln),qA=(function(B){n(w,B);function w(F,U){var ae=B.call(this,F,U)||this;return ae.start=U.start,ae.reversed=typeof U.reversed=="boolean"&&U.reversed===!0,ae}return w})(ln),Uf=[{type:15,flags:0,unit:"px",number:3}],Gh=[{type:16,flags:0,number:50}],Ff=function(B){return B.width>B.height?new A(B.left+(B.width-B.height)/2,B.top,B.height,B.height):B.width<B.height?new A(B.left,B.top+(B.height-B.width)/2,B.width,B.width):B},Wh=function(B){var w=B.type===jd?new Array(B.value.length+1).join(""):B.value;return w.length===0?B.placeholder||"":w},gA="checkbox",xA="radio",jd="password",Nc=707406591,Pc=(function(B){n(w,B);function w(F,U){var ae=B.call(this,F,U)||this;switch(ae.type=U.type.toLowerCase(),ae.checked=U.checked,ae.value=Wh(U),(ae.type===gA||ae.type===xA)&&(ae.styles.backgroundColor=3739148031,ae.styles.borderTopColor=ae.styles.borderRightColor=ae.styles.borderBottomColor=ae.styles.borderLeftColor=2779096575,ae.styles.borderTopWidth=ae.styles.borderRightWidth=ae.styles.borderBottomWidth=ae.styles.borderLeftWidth=1,ae.styles.borderTopStyle=ae.styles.borderRightStyle=ae.styles.borderBottomStyle=ae.styles.borderLeftStyle=1,ae.styles.backgroundClip=[0],ae.styles.backgroundOrigin=[0],ae.bounds=Ff(ae.bounds)),ae.type){case gA:ae.styles.borderTopRightRadius=ae.styles.borderTopLeftRadius=ae.styles.borderBottomRightRadius=ae.styles.borderBottomLeftRadius=Uf;break;case xA:ae.styles.borderTopRightRadius=ae.styles.borderTopLeftRadius=ae.styles.borderBottomRightRadius=ae.styles.borderBottomLeftRadius=Gh;break}return ae}return w})(ln),Lf=(function(B){n(w,B);function w(F,U){var ae=B.call(this,F,U)||this,we=U.options[U.selectedIndex||0];return ae.value=we&&we.text||"",ae}return w})(ln),bA=(function(B){n(w,B);function w(F,U){var ae=B.call(this,F,U)||this;return ae.value=U.value,ae}return w})(ln),Nd=(function(B){n(w,B);function w(F,U){var ae=B.call(this,F,U)||this;ae.src=U.src,ae.width=parseInt(U.width,10)||0,ae.height=parseInt(U.height,10)||0,ae.backgroundColor=ae.styles.backgroundColor;try{if(U.contentWindow&&U.contentWindow.document&&U.contentWindow.document.documentElement){ae.tree=eh(F,U.contentWindow.document.documentElement);var we=U.contentWindow.document.documentElement?li(F,getComputedStyle(U.contentWindow.document.documentElement).backgroundColor):mi.TRANSPARENT,Fe=U.contentWindow.document.body?li(F,getComputedStyle(U.contentWindow.document.body).backgroundColor):mi.TRANSPARENT;ae.backgroundColor=Nn(we)?Nn(Fe)?ae.styles.backgroundColor:Fe:we}}catch{}return ae}return w})(ln),kc=["OL","UL","MENU"],Pu=function(B,w,F,U){for(var ae=w.firstChild,we=void 0;ae;ae=we)if(we=ae.nextSibling,th(ae)&&ae.data.trim().length>0)F.textNodes.push(new Du(B,ae,F.styles));else if(kd(ae))if(_u(ae)&&ae.assignedNodes)ae.assignedNodes().forEach(function(qe){return Pu(B,qe,F,U)});else{var Fe=Yh(B,ae);Fe.styles.isVisible()&&(Mf(ae,Fe,U)?Fe.flags|=4:Of(Fe.styles)&&(Fe.flags|=2),kc.indexOf(ae.tagName)!==-1&&(Fe.flags|=8),F.elements.push(Fe),ae.slot,ae.shadowRoot?Pu(B,ae.shadowRoot,Fe,U):!wA(ae)&&!rh(ae)&&!jA(ae)&&Pu(B,ae,Fe,U))}},Yh=function(B,w){return oh(w)?new Kh(B,w):ah(w)?new Ru(B,w):rh(w)?new ZA(B,w):Qu(w)?new Nu(B,w):sh(w)?new qA(B,w):vA(w)?new Pc(B,w):jA(w)?new Lf(B,w):wA(w)?new bA(B,w):Jh(w)?new Nd(B,w):new ln(B,w)},eh=function(B,w){var F=Yh(B,w);return F.flags|=4,Pu(B,w,F,F),F},Mf=function(B,w,F){return w.styles.isPositionedWithZIndex()||w.styles.opacity<1||w.styles.isTransformed()||nh(B)&&F.styles.isTransparent()},Of=function(B){return B.isPositioned()||B.isFloating()},th=function(B){return B.nodeType===Node.TEXT_NODE},kd=function(B){return B.nodeType===Node.ELEMENT_NODE},tu=function(B){return kd(B)&&typeof B.style<"u"&&!Cd(B)},Cd=function(B){return typeof B.className=="object"},Qu=function(B){return B.tagName==="LI"},sh=function(B){return B.tagName==="OL"},vA=function(B){return B.tagName==="INPUT"},Xh=function(B){return B.tagName==="HTML"},rh=function(B){return B.tagName==="svg"},nh=function(B){return B.tagName==="BODY"},ah=function(B){return B.tagName==="CANVAS"},ih=function(B){return B.tagName==="VIDEO"},oh=function(B){return B.tagName==="IMG"},Jh=function(B){return B.tagName==="IFRAME"},Rd=function(B){return B.tagName==="STYLE"},yA=function(B){return B.tagName==="SCRIPT"},wA=function(B){return B.tagName==="TEXTAREA"},jA=function(B){return B.tagName==="SELECT"},_u=function(B){return B.tagName==="SLOT"},C=function(B){return B.tagName.indexOf("-")>0},D=(function(){function B(){this.counters={}}return B.prototype.getCounterValue=function(w){var F=this.counters[w];return F&&F.length?F[F.length-1]:1},B.prototype.getCounterValues=function(w){var F=this.counters[w];return F||[]},B.prototype.pop=function(w){var F=this;w.forEach(function(U){return F.counters[U].pop()})},B.prototype.parse=function(w){var F=this,U=w.counterIncrement,ae=w.counterReset,we=!0;U!==null&&U.forEach(function(qe){var et=F.counters[qe.counter];et&&qe.increment!==0&&(we=!1,et.length||et.push(1),et[Math.max(0,et.length-1)]+=qe.increment)});var Fe=[];return we&&ae.forEach(function(qe){var et=F.counters[qe.counter];Fe.push(qe.counter),et||(et=F.counters[qe.counter]=[]),et.push(qe.reset)}),Fe},B})(),ne={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},me={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ue={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ie={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Oe=function(B,w,F,U,ae,we){return B<w||B>F?zs(B,ae,we.length>0):U.integers.reduce(function(Fe,qe,et){for(;B>=qe;)B-=qe,Fe+=U.values[et];return Fe},"")+we},He=function(B,w,F,U){var ae="";do F||B--,ae=U(B)+ae,B/=w;while(B*w>=w);return ae},Ke=function(B,w,F,U,ae){var we=F-w+1;return(B<0?"-":"")+(He(Math.abs(B),we,U,function(Fe){return m(Math.floor(Fe%we)+w)})+ae)},nt=function(B,w,F){F===void 0&&(F=". ");var U=w.length;return He(Math.abs(B),U,!1,function(ae){return w[Math.floor(ae%U)]})+F},Ct=1,Wt=2,st=4,Ft=8,_t=function(B,w,F,U,ae,we){if(B<-9999||B>9999)return zs(B,4,ae.length>0);var Fe=Math.abs(B),qe=ae;if(Fe===0)return w[0]+qe;for(var et=0;Fe>0&&et<=4;et++){var Nt=Fe%10;Nt===0&&k(we,Ct)&&qe!==""?qe=w[Nt]+qe:Nt>1||Nt===1&&et===0||Nt===1&&et===1&&k(we,Wt)||Nt===1&&et===1&&k(we,st)&&B>100||Nt===1&&et>1&&k(we,Ft)?qe=w[Nt]+(et>0?F[et-1]:"")+qe:Nt===1&&et>0&&(qe=F[et-1]+qe),Fe=Math.floor(Fe/10)}return(B<0?U:"")+qe},vs="",Zt="",ys="",ks="",zs=function(B,w,F){var U=F?". ":"",ae=F?"":"",we=F?", ":"",Fe=F?" ":"";switch(w){case 0:return""+Fe;case 1:return""+Fe;case 2:return""+Fe;case 5:var qe=Ke(B,48,57,!0,U);return qe.length<4?"0"+qe:qe;case 4:return nt(B,"",ae);case 6:return Oe(B,1,3999,ne,3,U).toLowerCase();case 7:return Oe(B,1,3999,ne,3,U);case 8:return Ke(B,945,969,!1,U);case 9:return Ke(B,97,122,!1,U);case 10:return Ke(B,65,90,!1,U);case 11:return Ke(B,1632,1641,!0,U);case 12:case 49:return Oe(B,1,9999,me,3,U);case 35:return Oe(B,1,9999,me,3,U).toLowerCase();case 13:return Ke(B,2534,2543,!0,U);case 14:case 30:return Ke(B,6112,6121,!0,U);case 15:return nt(B,"",ae);case 16:return nt(B,"",ae);case 17:case 48:return _t(B,"",vs,"",ae,Wt|st|Ft);case 47:return _t(B,"",Zt,"",ae,Ct|Wt|st|Ft);case 42:return _t(B,"",vs,"",ae,Wt|st|Ft);case 41:return _t(B,"",Zt,"",ae,Ct|Wt|st|Ft);case 26:return _t(B,"","",ys,ae,0);case 25:return _t(B,"","",ys,ae,Ct|Wt|st);case 31:return _t(B,"","",ks,we,Ct|Wt|st);case 33:return _t(B,"","",ks,we,0);case 32:return _t(B,"","",ks,we,Ct|Wt|st);case 18:return Ke(B,2406,2415,!0,U);case 20:return Oe(B,1,19999,Ie,3,U);case 21:return Ke(B,2790,2799,!0,U);case 22:return Ke(B,2662,2671,!0,U);case 22:return Oe(B,1,10999,Ue,3,U);case 23:return nt(B,"");case 24:return nt(B,"");case 27:return Ke(B,3302,3311,!0,U);case 28:return nt(B,"",ae);case 29:return nt(B,"",ae);case 34:return Ke(B,3792,3801,!0,U);case 37:return Ke(B,6160,6169,!0,U);case 38:return Ke(B,4160,4169,!0,U);case 39:return Ke(B,2918,2927,!0,U);case 40:return Ke(B,1776,1785,!0,U);case 43:return Ke(B,3046,3055,!0,U);case 44:return Ke(B,3174,3183,!0,U);case 45:return Ke(B,3664,3673,!0,U);case 46:return Ke(B,3872,3881,!0,U);case 3:default:return Ke(B,48,57,!0,U)}},Ps="data-html2canvas-ignore",$r=(function(){function B(w,F,U){if(this.context=w,this.options=U,this.scrolledElements=[],this.referenceElement=F,this.counters=new D,this.quoteDepth=0,!F.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(F.ownerDocument.documentElement,!1)}return B.prototype.toIFrame=function(w,F){var U=this,ae=Hn(w,F);if(!ae.contentWindow)return Promise.reject("Unable to find iframe window");var we=w.defaultView.pageXOffset,Fe=w.defaultView.pageYOffset,qe=ae.contentWindow,et=qe.document,Nt=ro(ae).then(function(){return l(U,void 0,void 0,function(){var Dt,Gt;return u(this,function(ws){switch(ws.label){case 0:return this.scrolledElements.forEach(On),qe&&(qe.scrollTo(F.left,F.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(qe.scrollY!==F.top||qe.scrollX!==F.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(qe.scrollX-F.left,qe.scrollY-F.top,0,0))),Dt=this.options.onclone,Gt=this.clonedReferenceElement,typeof Gt>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:et.fonts&&et.fonts.ready?[4,et.fonts.ready]:[3,2];case 1:ws.sent(),ws.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ca(et)]:[3,4];case 3:ws.sent(),ws.label=4;case 4:return typeof Dt=="function"?[2,Promise.resolve().then(function(){return Dt(et,Gt)}).then(function(){return ae})]:[2,ae]}})})});return et.open(),et.write(dr(document.doctype)+"<html></html>"),_i(this.referenceElement.ownerDocument,we,Fe),et.replaceChild(et.adoptNode(this.documentElement),et.documentElement),et.close(),Nt},B.prototype.createElementClone=function(w){if(Gr(w,2))debugger;if(ah(w))return this.createCanvasClone(w);if(ih(w))return this.createVideoClone(w);if(Rd(w))return this.createStyleClone(w);var F=w.cloneNode(!1);return oh(F)&&(oh(w)&&w.currentSrc&&w.currentSrc!==w.src&&(F.src=w.currentSrc,F.srcset=""),F.loading==="lazy"&&(F.loading="eager")),C(F)?this.createCustomElementClone(F):F},B.prototype.createCustomElementClone=function(w){var F=document.createElement("html2canvascustomelement");return Rr(w.style,F),F},B.prototype.createStyleClone=function(w){try{var F=w.sheet;if(F&&F.cssRules){var U=[].slice.call(F.cssRules,0).reduce(function(we,Fe){return Fe&&typeof Fe.cssText=="string"?we+Fe.cssText:we},""),ae=w.cloneNode(!1);return ae.textContent=U,ae}}catch(we){if(this.context.logger.error("Unable to access cssRules property",we),we.name!=="SecurityError")throw we}return w.cloneNode(!1)},B.prototype.createCanvasClone=function(w){var F;if(this.options.inlineImages&&w.ownerDocument){var U=w.ownerDocument.createElement("img");try{return U.src=w.toDataURL(),U}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",w)}}var ae=w.cloneNode(!1);try{ae.width=w.width,ae.height=w.height;var we=w.getContext("2d"),Fe=ae.getContext("2d");if(Fe)if(!this.options.allowTaint&&we)Fe.putImageData(we.getImageData(0,0,w.width,w.height),0,0);else{var qe=(F=w.getContext("webgl2"))!==null&&F!==void 0?F:w.getContext("webgl");if(qe){var et=qe.getContextAttributes();(et==null?void 0:et.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",w)}Fe.drawImage(w,0,0)}return ae}catch{this.context.logger.info("Unable to clone canvas as it is tainted",w)}return ae},B.prototype.createVideoClone=function(w){var F=w.ownerDocument.createElement("canvas");F.width=w.offsetWidth,F.height=w.offsetHeight;var U=F.getContext("2d");try{return U&&(U.drawImage(w,0,0,F.width,F.height),this.options.allowTaint||U.getImageData(0,0,F.width,F.height)),F}catch{this.context.logger.info("Unable to clone video as it is tainted",w)}var ae=w.ownerDocument.createElement("canvas");return ae.width=w.offsetWidth,ae.height=w.offsetHeight,ae},B.prototype.appendChildNode=function(w,F,U){(!kd(F)||!yA(F)&&!F.hasAttribute(Ps)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(F)))&&(!this.options.copyStyles||!kd(F)||!Rd(F))&&w.appendChild(this.cloneNode(F,U))},B.prototype.cloneChildNodes=function(w,F,U){for(var ae=this,we=w.shadowRoot?w.shadowRoot.firstChild:w.firstChild;we;we=we.nextSibling)if(kd(we)&&_u(we)&&typeof we.assignedNodes=="function"){var Fe=we.assignedNodes();Fe.length&&Fe.forEach(function(qe){return ae.appendChildNode(F,qe,U)})}else this.appendChildNode(F,we,U)},B.prototype.cloneNode=function(w,F){if(th(w))return document.createTextNode(w.data);if(!w.ownerDocument)return w.cloneNode(!1);var U=w.ownerDocument.defaultView;if(U&&kd(w)&&(tu(w)||Cd(w))){var ae=this.createElementClone(w);ae.style.transitionProperty="none";var we=U.getComputedStyle(w),Fe=U.getComputedStyle(w,":before"),qe=U.getComputedStyle(w,":after");this.referenceElement===w&&tu(ae)&&(this.clonedReferenceElement=ae),nh(ae)&&zo(ae);var et=this.counters.parse(new Qs(this.context,we)),Nt=this.resolvePseudoContent(w,ae,Fe,wr.BEFORE);C(w)&&(F=!0),ih(w)||this.cloneChildNodes(w,ae,F),Nt&&ae.insertBefore(Nt,ae.firstChild);var Dt=this.resolvePseudoContent(w,ae,qe,wr.AFTER);return Dt&&ae.appendChild(Dt),this.counters.pop(et),(we&&(this.options.copyStyles||Cd(w))&&!Jh(w)||F)&&Rr(we,ae),(w.scrollTop!==0||w.scrollLeft!==0)&&this.scrolledElements.push([ae,w.scrollLeft,w.scrollTop]),(wA(w)||jA(w))&&(wA(ae)||jA(ae))&&(ae.value=w.value),ae}return w.cloneNode(!1)},B.prototype.resolvePseudoContent=function(w,F,U,ae){var we=this;if(U){var Fe=U.content,qe=F.ownerDocument;if(!(!qe||!Fe||Fe==="none"||Fe==="-moz-alt-content"||U.display==="none")){this.counters.parse(new Qs(this.context,U));var et=new nr(this.context,U),Nt=qe.createElement("html2canvaspseudoelement");Rr(U,Nt),et.content.forEach(function(Gt){if(Gt.type===0)Nt.appendChild(qe.createTextNode(Gt.value));else if(Gt.type===22){var ws=qe.createElement("img");ws.src=Gt.value,ws.style.opacity="1",Nt.appendChild(ws)}else if(Gt.type===18){if(Gt.name==="attr"){var jr=Gt.values.filter(rr);jr.length&&Nt.appendChild(qe.createTextNode(w.getAttribute(jr[0].value)||""))}else if(Gt.name==="counter"){var Zs=Gt.values.filter(Vr),ur=Zs[0],Jr=Zs[1];if(ur&&rr(ur)){var Lr=we.counters.getCounterValue(ur.value),Ur=Jr&&rr(Jr)?qc.parse(we.context,Jr.value):3;Nt.appendChild(qe.createTextNode(zs(Lr,Ur,!1)))}}else if(Gt.name==="counters"){var ta=Gt.values.filter(Vr),ur=ta[0],Xn=ta[1],Jr=ta[2];if(ur&&rr(ur)){var Cn=we.counters.getCounterValues(ur.value),kr=Jr&&rr(Jr)?qc.parse(we.context,Jr.value):3,da=Xn&&Xn.type===0?Xn.value:"",ya=Cn.map(function(yi){return zs(yi,kr,!1)}).join(da);Nt.appendChild(qe.createTextNode(ya))}}}else if(Gt.type===20)switch(Gt.value){case"open-quote":Nt.appendChild(qe.createTextNode(Xt(et.quotes,we.quoteDepth++,!0)));break;case"close-quote":Nt.appendChild(qe.createTextNode(Xt(et.quotes,--we.quoteDepth,!1)));break;default:Nt.appendChild(qe.createTextNode(Gt.value))}}),Nt.className=jo+" "+Ho;var Dt=ae===wr.BEFORE?" "+jo:" "+Ho;return Cd(F)?F.className.baseValue+=Dt:F.className+=Dt,Nt}}},B.destroy=function(w){return w.parentNode?(w.parentNode.removeChild(w),!0):!1},B})(),wr;(function(B){B[B.BEFORE=0]="BEFORE",B[B.AFTER=1]="AFTER"})(wr||(wr={}));var Hn=function(B,w){var F=B.createElement("iframe");return F.className="html2canvas-container",F.style.visibility="hidden",F.style.position="fixed",F.style.left="-10000px",F.style.top="0px",F.style.border="0",F.width=w.width.toString(),F.height=w.height.toString(),F.scrolling="no",F.setAttribute(Ps,"true"),B.body.appendChild(F),F},Qr=function(B){return new Promise(function(w){if(B.complete){w();return}if(!B.src){w();return}B.onload=w,B.onerror=w})},ca=function(B){return Promise.all([].slice.call(B.images,0).map(Qr))},ro=function(B){return new Promise(function(w,F){var U=B.contentWindow;if(!U)return F("No window assigned for iframe");var ae=U.document;U.onload=B.onload=function(){U.onload=B.onload=null;var we=setInterval(function(){ae.body.childNodes.length>0&&ae.readyState==="complete"&&(clearInterval(we),w(B))},50)}})},Mn=["all","d","content"],Rr=function(B,w){for(var F=B.length-1;F>=0;F--){var U=B.item(F);Mn.indexOf(U)===-1&&w.style.setProperty(U,B.getPropertyValue(U))}return w},dr=function(B){var w="";return B&&(w+="<!DOCTYPE ",B.name&&(w+=B.name),B.internalSubset&&(w+=B.internalSubset),B.publicId&&(w+='"'+B.publicId+'"'),B.systemId&&(w+='"'+B.systemId+'"'),w+=">"),w},_i=function(B,w,F){B&&B.defaultView&&(w!==B.defaultView.pageXOffset||F!==B.defaultView.pageYOffset)&&B.defaultView.scrollTo(w,F)},On=function(B){var w=B[0],F=B[1],U=B[2];w.scrollLeft=F,w.scrollTop=U},Vn=":before",ni=":after",jo="___html2canvas___pseudoelement_before",Ho="___html2canvas___pseudoelement_after",Oa=`{
    content: "" !important;
    display: none !important;
}`,zo=function(B){jl(B,"."+jo+Vn+Oa+`
         .`+Ho+ni+Oa)},jl=function(B,w){var F=B.ownerDocument;if(F){var U=F.createElement("style");U.textContent=w,B.appendChild(U)}},Hi=(function(){function B(){}return B.getOrigin=function(w){var F=B._link;return F?(F.href=w,F.href=F.href,F.protocol+F.hostname+F.port):"about:blank"},B.isSameOrigin=function(w){return B.getOrigin(w)===B._origin},B.setContext=function(w){B._link=w.document.createElement("a"),B._origin=B.getOrigin(w.location.href)},B._origin="about:blank",B})(),ia=(function(){function B(w,F){this.context=w,this._options=F,this._cache={}}return B.prototype.addImage=function(w){var F=Promise.resolve();return this.has(w)||(ul(w)||$o(w))&&(this._cache[w]=this.loadImage(w)).catch(function(){}),F},B.prototype.match=function(w){return this._cache[w]},B.prototype.loadImage=function(w){return l(this,void 0,void 0,function(){var F,U,ae,we,Fe=this;return u(this,function(qe){switch(qe.label){case 0:return F=Hi.isSameOrigin(w),U=!dl(w)&&this._options.useCORS===!0&&so.SUPPORT_CORS_IMAGES&&!F,ae=!dl(w)&&!F&&!ul(w)&&typeof this._options.proxy=="string"&&so.SUPPORT_CORS_XHR&&!U,!F&&this._options.allowTaint===!1&&!dl(w)&&!ul(w)&&!ae&&!U?[2]:(we=w,ae?[4,this.proxy(we)]:[3,2]);case 1:we=qe.sent(),qe.label=2;case 2:return this.context.logger.debug("Added image "+w.substring(0,256)),[4,new Promise(function(et,Nt){var Dt=new Image;Dt.onload=function(){return et(Dt)},Dt.onerror=Nt,(Xa(we)||U)&&(Dt.crossOrigin="anonymous"),Dt.src=we,Dt.complete===!0&&setTimeout(function(){return et(Dt)},500),Fe._options.imageTimeout>0&&setTimeout(function(){return Nt("Timed out ("+Fe._options.imageTimeout+"ms) loading image")},Fe._options.imageTimeout)})];case 3:return[2,qe.sent()]}})})},B.prototype.has=function(w){return typeof this._cache[w]<"u"},B.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},B.prototype.proxy=function(w){var F=this,U=this._options.proxy;if(!U)throw new Error("No proxy defined");var ae=w.substring(0,256);return new Promise(function(we,Fe){var qe=so.SUPPORT_RESPONSE_TYPE?"blob":"text",et=new XMLHttpRequest;et.onload=function(){if(et.status===200)if(qe==="text")we(et.response);else{var Gt=new FileReader;Gt.addEventListener("load",function(){return we(Gt.result)},!1),Gt.addEventListener("error",function(ws){return Fe(ws)},!1),Gt.readAsDataURL(et.response)}else Fe("Failed to proxy resource "+ae+" with status code "+et.status)},et.onerror=Fe;var Nt=U.indexOf("?")>-1?"&":"?";if(et.open("GET",""+U+Nt+"url="+encodeURIComponent(w)+"&responseType="+qe),qe!=="text"&&et instanceof XMLHttpRequest&&(et.responseType=qe),F._options.imageTimeout){var Dt=F._options.imageTimeout;et.timeout=Dt,et.ontimeout=function(){return Fe("Timed out ("+Dt+"ms) proxying "+ae)}}et.send()})},B})(),cn=/^data:image\/svg\+xml/i,Zi=/^data:image\/.*;base64,/i,$a=/^data:image\/.*/i,$o=function(B){return so.SUPPORT_SVG_DRAWING||!Ja(B)},dl=function(B){return $a.test(B)},Xa=function(B){return Zi.test(B)},ul=function(B){return B.substr(0,4)==="blob"},Ja=function(B){return B.substr(-3).toLowerCase()==="svg"||cn.test(B)},Ws=(function(){function B(w,F){this.type=0,this.x=w,this.y=F}return B.prototype.add=function(w,F){return new B(this.x+w,this.y+F)},B})(),ai=function(B,w,F){return new Ws(B.x+(w.x-B.x)*F,B.y+(w.y-B.y)*F)},No=(function(){function B(w,F,U,ae){this.type=1,this.start=w,this.startControl=F,this.endControl=U,this.end=ae}return B.prototype.subdivide=function(w,F){var U=ai(this.start,this.startControl,w),ae=ai(this.startControl,this.endControl,w),we=ai(this.endControl,this.end,w),Fe=ai(U,ae,w),qe=ai(ae,we,w),et=ai(Fe,qe,w);return F?new B(this.start,U,Fe,et):new B(et,qe,we,this.end)},B.prototype.add=function(w,F){return new B(this.start.add(w,F),this.startControl.add(w,F),this.endControl.add(w,F),this.end.add(w,F))},B.prototype.reverse=function(){return new B(this.end,this.endControl,this.startControl,this.start)},B})(),di=function(B){return B.type===1},nc=(function(){function B(w){var F=w.styles,U=w.bounds,ae=Dr(F.borderTopLeftRadius,U.width,U.height),we=ae[0],Fe=ae[1],qe=Dr(F.borderTopRightRadius,U.width,U.height),et=qe[0],Nt=qe[1],Dt=Dr(F.borderBottomRightRadius,U.width,U.height),Gt=Dt[0],ws=Dt[1],jr=Dr(F.borderBottomLeftRadius,U.width,U.height),Zs=jr[0],ur=jr[1],Jr=[];Jr.push((we+et)/U.width),Jr.push((Zs+Gt)/U.width),Jr.push((Fe+ur)/U.height),Jr.push((Nt+ws)/U.height);var Lr=Math.max.apply(Math,Jr);Lr>1&&(we/=Lr,Fe/=Lr,et/=Lr,Nt/=Lr,Gt/=Lr,ws/=Lr,Zs/=Lr,ur/=Lr);var Ur=U.width-et,ta=U.height-ws,Xn=U.width-Gt,Cn=U.height-ur,kr=F.borderTopWidth,da=F.borderRightWidth,ya=F.borderBottomWidth,rn=F.borderLeftWidth,ko=vn(F.paddingTop,w.bounds.width),yi=vn(F.paddingRight,w.bounds.width),zc=vn(F.paddingBottom,w.bounds.width),ii=vn(F.paddingLeft,w.bounds.width);this.topLeftBorderDoubleOuterBox=we>0||Fe>0?ea(U.left+rn/3,U.top+kr/3,we-rn/3,Fe-kr/3,Fn.TOP_LEFT):new Ws(U.left+rn/3,U.top+kr/3),this.topRightBorderDoubleOuterBox=we>0||Fe>0?ea(U.left+Ur,U.top+kr/3,et-da/3,Nt-kr/3,Fn.TOP_RIGHT):new Ws(U.left+U.width-da/3,U.top+kr/3),this.bottomRightBorderDoubleOuterBox=Gt>0||ws>0?ea(U.left+Xn,U.top+ta,Gt-da/3,ws-ya/3,Fn.BOTTOM_RIGHT):new Ws(U.left+U.width-da/3,U.top+U.height-ya/3),this.bottomLeftBorderDoubleOuterBox=Zs>0||ur>0?ea(U.left+rn/3,U.top+Cn,Zs-rn/3,ur-ya/3,Fn.BOTTOM_LEFT):new Ws(U.left+rn/3,U.top+U.height-ya/3),this.topLeftBorderDoubleInnerBox=we>0||Fe>0?ea(U.left+rn*2/3,U.top+kr*2/3,we-rn*2/3,Fe-kr*2/3,Fn.TOP_LEFT):new Ws(U.left+rn*2/3,U.top+kr*2/3),this.topRightBorderDoubleInnerBox=we>0||Fe>0?ea(U.left+Ur,U.top+kr*2/3,et-da*2/3,Nt-kr*2/3,Fn.TOP_RIGHT):new Ws(U.left+U.width-da*2/3,U.top+kr*2/3),this.bottomRightBorderDoubleInnerBox=Gt>0||ws>0?ea(U.left+Xn,U.top+ta,Gt-da*2/3,ws-ya*2/3,Fn.BOTTOM_RIGHT):new Ws(U.left+U.width-da*2/3,U.top+U.height-ya*2/3),this.bottomLeftBorderDoubleInnerBox=Zs>0||ur>0?ea(U.left+rn*2/3,U.top+Cn,Zs-rn*2/3,ur-ya*2/3,Fn.BOTTOM_LEFT):new Ws(U.left+rn*2/3,U.top+U.height-ya*2/3),this.topLeftBorderStroke=we>0||Fe>0?ea(U.left+rn/2,U.top+kr/2,we-rn/2,Fe-kr/2,Fn.TOP_LEFT):new Ws(U.left+rn/2,U.top+kr/2),this.topRightBorderStroke=we>0||Fe>0?ea(U.left+Ur,U.top+kr/2,et-da/2,Nt-kr/2,Fn.TOP_RIGHT):new Ws(U.left+U.width-da/2,U.top+kr/2),this.bottomRightBorderStroke=Gt>0||ws>0?ea(U.left+Xn,U.top+ta,Gt-da/2,ws-ya/2,Fn.BOTTOM_RIGHT):new Ws(U.left+U.width-da/2,U.top+U.height-ya/2),this.bottomLeftBorderStroke=Zs>0||ur>0?ea(U.left+rn/2,U.top+Cn,Zs-rn/2,ur-ya/2,Fn.BOTTOM_LEFT):new Ws(U.left+rn/2,U.top+U.height-ya/2),this.topLeftBorderBox=we>0||Fe>0?ea(U.left,U.top,we,Fe,Fn.TOP_LEFT):new Ws(U.left,U.top),this.topRightBorderBox=et>0||Nt>0?ea(U.left+Ur,U.top,et,Nt,Fn.TOP_RIGHT):new Ws(U.left+U.width,U.top),this.bottomRightBorderBox=Gt>0||ws>0?ea(U.left+Xn,U.top+ta,Gt,ws,Fn.BOTTOM_RIGHT):new Ws(U.left+U.width,U.top+U.height),this.bottomLeftBorderBox=Zs>0||ur>0?ea(U.left,U.top+Cn,Zs,ur,Fn.BOTTOM_LEFT):new Ws(U.left,U.top+U.height),this.topLeftPaddingBox=we>0||Fe>0?ea(U.left+rn,U.top+kr,Math.max(0,we-rn),Math.max(0,Fe-kr),Fn.TOP_LEFT):new Ws(U.left+rn,U.top+kr),this.topRightPaddingBox=et>0||Nt>0?ea(U.left+Math.min(Ur,U.width-da),U.top+kr,Ur>U.width+da?0:Math.max(0,et-da),Math.max(0,Nt-kr),Fn.TOP_RIGHT):new Ws(U.left+U.width-da,U.top+kr),this.bottomRightPaddingBox=Gt>0||ws>0?ea(U.left+Math.min(Xn,U.width-rn),U.top+Math.min(ta,U.height-ya),Math.max(0,Gt-da),Math.max(0,ws-ya),Fn.BOTTOM_RIGHT):new Ws(U.left+U.width-da,U.top+U.height-ya),this.bottomLeftPaddingBox=Zs>0||ur>0?ea(U.left+rn,U.top+Math.min(Cn,U.height-ya),Math.max(0,Zs-rn),Math.max(0,ur-ya),Fn.BOTTOM_LEFT):new Ws(U.left+rn,U.top+U.height-ya),this.topLeftContentBox=we>0||Fe>0?ea(U.left+rn+ii,U.top+kr+ko,Math.max(0,we-(rn+ii)),Math.max(0,Fe-(kr+ko)),Fn.TOP_LEFT):new Ws(U.left+rn+ii,U.top+kr+ko),this.topRightContentBox=et>0||Nt>0?ea(U.left+Math.min(Ur,U.width+rn+ii),U.top+kr+ko,Ur>U.width+rn+ii?0:et-rn+ii,Nt-(kr+ko),Fn.TOP_RIGHT):new Ws(U.left+U.width-(da+yi),U.top+kr+ko),this.bottomRightContentBox=Gt>0||ws>0?ea(U.left+Math.min(Xn,U.width-(rn+ii)),U.top+Math.min(ta,U.height+kr+ko),Math.max(0,Gt-(da+yi)),ws-(ya+zc),Fn.BOTTOM_RIGHT):new Ws(U.left+U.width-(da+yi),U.top+U.height-(ya+zc)),this.bottomLeftContentBox=Zs>0||ur>0?ea(U.left+rn+ii,U.top+Cn,Math.max(0,Zs-(rn+ii)),ur-(ya+zc),Fn.BOTTOM_LEFT):new Ws(U.left+rn+ii,U.top+U.height-(ya+zc))}return B})(),Fn;(function(B){B[B.TOP_LEFT=0]="TOP_LEFT",B[B.TOP_RIGHT=1]="TOP_RIGHT",B[B.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",B[B.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Fn||(Fn={}));var ea=function(B,w,F,U,ae){var we=4*((Math.sqrt(2)-1)/3),Fe=F*we,qe=U*we,et=B+F,Nt=w+U;switch(ae){case Fn.TOP_LEFT:return new No(new Ws(B,Nt),new Ws(B,Nt-qe),new Ws(et-Fe,w),new Ws(et,w));case Fn.TOP_RIGHT:return new No(new Ws(B,w),new Ws(B+Fe,w),new Ws(et,Nt-qe),new Ws(et,Nt));case Fn.BOTTOM_RIGHT:return new No(new Ws(et,w),new Ws(et,w+qe),new Ws(B+Fe,Nt),new Ws(B,Nt));case Fn.BOTTOM_LEFT:default:return new No(new Ws(et,Nt),new Ws(et-Fe,Nt),new Ws(B,w+qe),new Ws(B,w))}},Sa=function(B){return[B.topLeftBorderBox,B.topRightBorderBox,B.bottomRightBorderBox,B.bottomLeftBorderBox]},ac=function(B){return[B.topLeftContentBox,B.topRightContentBox,B.bottomRightContentBox,B.bottomLeftContentBox]},qi=function(B){return[B.topLeftPaddingBox,B.topRightPaddingBox,B.bottomRightPaddingBox,B.bottomLeftPaddingBox]},ui=(function(){function B(w,F,U){this.offsetX=w,this.offsetY=F,this.matrix=U,this.type=0,this.target=6}return B})(),ic=(function(){function B(w,F){this.path=w,this.target=F,this.type=1}return B})(),Vo=(function(){function B(w){this.opacity=w,this.type=2,this.target=6}return B})(),no=function(B){return B.type===0},lh=function(B){return B.type===1},NA=function(B){return B.type===2},ku=function(B,w){return B.length===w.length?B.some(function(F,U){return F===w[U]}):!1},Ui=function(B,w,F,U,ae){return B.map(function(we,Fe){switch(Fe){case 0:return we.add(w,F);case 1:return we.add(w+U,F);case 2:return we.add(w+U,F+ae);case 3:return we.add(w,F+ae)}return we})},Pl=(function(){function B(w){this.element=w,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return B})(),Qc=(function(){function B(w,F){if(this.container=w,this.parent=F,this.effects=[],this.curves=new nc(this.container),this.container.styles.opacity<1&&this.effects.push(new Vo(this.container.styles.opacity)),this.container.styles.transform!==null){var U=this.container.bounds.left+this.container.styles.transformOrigin[0].number,ae=this.container.bounds.top+this.container.styles.transformOrigin[1].number,we=this.container.styles.transform;this.effects.push(new ui(U,ae,we))}if(this.container.styles.overflowX!==0){var Fe=Sa(this.curves),qe=qi(this.curves);ku(Fe,qe)?this.effects.push(new ic(Fe,6)):(this.effects.push(new ic(Fe,2)),this.effects.push(new ic(qe,4)))}}return B.prototype.getEffects=function(w){for(var F=[2,3].indexOf(this.container.styles.position)===-1,U=this.parent,ae=this.effects.slice(0);U;){var we=U.effects.filter(function(et){return!lh(et)});if(F||U.container.styles.position!==0||!U.parent){if(ae.unshift.apply(ae,we),F=[2,3].indexOf(U.container.styles.position)===-1,U.container.styles.overflowX!==0){var Fe=Sa(U.curves),qe=qi(U.curves);ku(Fe,qe)||ae.unshift(new ic(qe,6))}}else ae.unshift.apply(ae,we);U=U.parent}return ae.filter(function(et){return k(et.target,w)})},B})(),id=function(B,w,F,U){B.container.elements.forEach(function(ae){var we=k(ae.flags,4),Fe=k(ae.flags,2),qe=new Qc(ae,B);k(ae.styles.display,2048)&&U.push(qe);var et=k(ae.flags,8)?[]:U;if(we||Fe){var Nt=we||ae.styles.isPositioned()?F:w,Dt=new Pl(qe);if(ae.styles.isPositioned()||ae.styles.opacity<1||ae.styles.isTransformed()){var Gt=ae.styles.zIndex.order;if(Gt<0){var ws=0;Nt.negativeZIndex.some(function(Zs,ur){return Gt>Zs.element.container.styles.zIndex.order?(ws=ur,!1):ws>0}),Nt.negativeZIndex.splice(ws,0,Dt)}else if(Gt>0){var jr=0;Nt.positiveZIndex.some(function(Zs,ur){return Gt>=Zs.element.container.styles.zIndex.order?(jr=ur+1,!1):jr>0}),Nt.positiveZIndex.splice(jr,0,Dt)}else Nt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Dt)}else ae.styles.isFloating()?Nt.nonPositionedFloats.push(Dt):Nt.nonPositionedInlineLevel.push(Dt);id(qe,Dt,we?Dt:F,et)}else ae.styles.isInlineLevel()?w.inlineLevel.push(qe):w.nonInlineLevel.push(qe),id(qe,w,F,et);k(ae.flags,8)&&Zh(ae,et)})},Zh=function(B,w){for(var F=B instanceof qA?B.start:1,U=B instanceof qA?B.reversed:!1,ae=0;ae<w.length;ae++){var we=w[ae];we.container instanceof Nu&&typeof we.container.value=="number"&&we.container.value!==0&&(F=we.container.value),we.listValue=zs(F,we.container.styles.listStyleType,!0),F+=U?-1:1}},If=function(B){var w=new Qc(B,null),F=new Pl(w),U=[];return id(w,F,F,U),Zh(w.container,U),F},Df=function(B,w){switch(w){case 0:return Za(B.topLeftBorderBox,B.topLeftPaddingBox,B.topRightBorderBox,B.topRightPaddingBox);case 1:return Za(B.topRightBorderBox,B.topRightPaddingBox,B.bottomRightBorderBox,B.bottomRightPaddingBox);case 2:return Za(B.bottomRightBorderBox,B.bottomRightPaddingBox,B.bottomLeftBorderBox,B.bottomLeftPaddingBox);case 3:default:return Za(B.bottomLeftBorderBox,B.bottomLeftPaddingBox,B.topLeftBorderBox,B.topLeftPaddingBox)}},kA=function(B,w){switch(w){case 0:return Za(B.topLeftBorderBox,B.topLeftBorderDoubleOuterBox,B.topRightBorderBox,B.topRightBorderDoubleOuterBox);case 1:return Za(B.topRightBorderBox,B.topRightBorderDoubleOuterBox,B.bottomRightBorderBox,B.bottomRightBorderDoubleOuterBox);case 2:return Za(B.bottomRightBorderBox,B.bottomRightBorderDoubleOuterBox,B.bottomLeftBorderBox,B.bottomLeftBorderDoubleOuterBox);case 3:default:return Za(B.bottomLeftBorderBox,B.bottomLeftBorderDoubleOuterBox,B.topLeftBorderBox,B.topLeftBorderDoubleOuterBox)}},Al=function(B,w){switch(w){case 0:return Za(B.topLeftBorderDoubleInnerBox,B.topLeftPaddingBox,B.topRightBorderDoubleInnerBox,B.topRightPaddingBox);case 1:return Za(B.topRightBorderDoubleInnerBox,B.topRightPaddingBox,B.bottomRightBorderDoubleInnerBox,B.bottomRightPaddingBox);case 2:return Za(B.bottomRightBorderDoubleInnerBox,B.bottomRightPaddingBox,B.bottomLeftBorderDoubleInnerBox,B.bottomLeftPaddingBox);case 3:default:return Za(B.bottomLeftBorderDoubleInnerBox,B.bottomLeftPaddingBox,B.topLeftBorderDoubleInnerBox,B.topLeftPaddingBox)}},_c=function(B,w){switch(w){case 0:return Hu(B.topLeftBorderStroke,B.topRightBorderStroke);case 1:return Hu(B.topRightBorderStroke,B.bottomRightBorderStroke);case 2:return Hu(B.bottomRightBorderStroke,B.bottomLeftBorderStroke);case 3:default:return Hu(B.bottomLeftBorderStroke,B.topLeftBorderStroke)}},Hu=function(B,w){var F=[];return di(B)?F.push(B.subdivide(.5,!1)):F.push(B),di(w)?F.push(w.subdivide(.5,!0)):F.push(w),F},Za=function(B,w,F,U){var ae=[];return di(B)?ae.push(B.subdivide(.5,!1)):ae.push(B),di(F)?ae.push(F.subdivide(.5,!0)):ae.push(F),di(U)?ae.push(U.subdivide(.5,!0).reverse()):ae.push(U),di(w)?ae.push(w.subdivide(.5,!1).reverse()):ae.push(w),ae},CA=function(B){var w=B.bounds,F=B.styles;return w.add(F.borderLeftWidth,F.borderTopWidth,-(F.borderRightWidth+F.borderLeftWidth),-(F.borderTopWidth+F.borderBottomWidth))},Nl=function(B){var w=B.styles,F=B.bounds,U=vn(w.paddingLeft,F.width),ae=vn(w.paddingRight,F.width),we=vn(w.paddingTop,F.width),Fe=vn(w.paddingBottom,F.width);return F.add(U+w.borderLeftWidth,we+w.borderTopWidth,-(w.borderRightWidth+w.borderLeftWidth+U+ae),-(w.borderTopWidth+w.borderBottomWidth+we+Fe))},su=function(B,w){return B===0?w.bounds:B===2?Nl(w):CA(w)},Pd=function(B,w){return B===0?w.bounds:B===2?Nl(w):CA(w)},ru=function(B,w,F){var U=su(Hc(B.styles.backgroundOrigin,w),B),ae=Pd(Hc(B.styles.backgroundClip,w),B),we=_d(Hc(B.styles.backgroundSize,w),F,U),Fe=we[0],qe=we[1],et=Dr(Hc(B.styles.backgroundPosition,w),U.width-Fe,U.height-qe),Nt=zu(Hc(B.styles.backgroundRepeat,w),et,we,U,ae),Dt=Math.round(U.left+et[0]),Gt=Math.round(U.top+et[1]);return[Nt,Dt,Gt,Fe,qe]},Qd=function(B){return rr(B)&&B.value===An.AUTO},kl=function(B){return typeof B=="number"},_d=function(B,w,F){var U=w[0],ae=w[1],we=w[2],Fe=B[0],qe=B[1];if(!Fe)return[0,0];if(Cr(Fe)&&qe&&Cr(qe))return[vn(Fe,F.width),vn(qe,F.height)];var et=kl(we);if(rr(Fe)&&(Fe.value===An.CONTAIN||Fe.value===An.COVER)){if(kl(we)){var Nt=F.width/F.height;return Nt<we!=(Fe.value===An.COVER)?[F.width,F.width/we]:[F.height*we,F.height]}return[F.width,F.height]}var Dt=kl(U),Gt=kl(ae),ws=Dt||Gt;if(Qd(Fe)&&(!qe||Qd(qe))){if(Dt&&Gt)return[U,ae];if(!et&&!ws)return[F.width,F.height];if(ws&&et){var jr=Dt?U:ae*we,Zs=Gt?ae:U/we;return[jr,Zs]}var ur=Dt?U:F.width,Jr=Gt?ae:F.height;return[ur,Jr]}if(et){var Lr=0,Ur=0;return Cr(Fe)?Lr=vn(Fe,F.width):Cr(qe)&&(Ur=vn(qe,F.height)),Qd(Fe)?Lr=Ur*we:(!qe||Qd(qe))&&(Ur=Lr/we),[Lr,Ur]}var ta=null,Xn=null;if(Cr(Fe)?ta=vn(Fe,F.width):qe&&Cr(qe)&&(Xn=vn(qe,F.height)),ta!==null&&(!qe||Qd(qe))&&(Xn=Dt&&Gt?ta/U*ae:F.height),Xn!==null&&Qd(Fe)&&(ta=Dt&&Gt?Xn/ae*U:F.width),ta!==null&&Xn!==null)return[ta,Xn];throw new Error("Unable to calculate background-size for element")},Hc=function(B,w){var F=B[w];return typeof F>"u"?B[0]:F},zu=function(B,w,F,U,ae){var we=w[0],Fe=w[1],qe=F[0],et=F[1];switch(B){case 2:return[new Ws(Math.round(U.left),Math.round(U.top+Fe)),new Ws(Math.round(U.left+U.width),Math.round(U.top+Fe)),new Ws(Math.round(U.left+U.width),Math.round(et+U.top+Fe)),new Ws(Math.round(U.left),Math.round(et+U.top+Fe))];case 3:return[new Ws(Math.round(U.left+we),Math.round(U.top)),new Ws(Math.round(U.left+we+qe),Math.round(U.top)),new Ws(Math.round(U.left+we+qe),Math.round(U.height+U.top)),new Ws(Math.round(U.left+we),Math.round(U.height+U.top))];case 1:return[new Ws(Math.round(U.left+we),Math.round(U.top+Fe)),new Ws(Math.round(U.left+we+qe),Math.round(U.top+Fe)),new Ws(Math.round(U.left+we+qe),Math.round(U.top+Fe+et)),new Ws(Math.round(U.left+we),Math.round(U.top+Fe+et))];default:return[new Ws(Math.round(ae.left),Math.round(ae.top)),new Ws(Math.round(ae.left+ae.width),Math.round(ae.top)),new Ws(Math.round(ae.left+ae.width),Math.round(ae.height+ae.top)),new Ws(Math.round(ae.left),Math.round(ae.height+ae.top))]}},BA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",nu="Hidden Text",Cu=(function(){function B(w){this._data={},this._document=w}return B.prototype.parseMetrics=function(w,F){var U=this._document.createElement("div"),ae=this._document.createElement("img"),we=this._document.createElement("span"),Fe=this._document.body;U.style.visibility="hidden",U.style.fontFamily=w,U.style.fontSize=F,U.style.margin="0",U.style.padding="0",U.style.whiteSpace="nowrap",Fe.appendChild(U),ae.src=BA,ae.width=1,ae.height=1,ae.style.margin="0",ae.style.padding="0",ae.style.verticalAlign="baseline",we.style.fontFamily=w,we.style.fontSize=F,we.style.margin="0",we.style.padding="0",we.appendChild(this._document.createTextNode(nu)),U.appendChild(we),U.appendChild(ae);var qe=ae.offsetTop-we.offsetTop+2;U.removeChild(we),U.appendChild(this._document.createTextNode(nu)),U.style.lineHeight="normal",ae.style.verticalAlign="super";var et=ae.offsetTop-U.offsetTop+2;return Fe.removeChild(U),{baseline:qe,middle:et}},B.prototype.getMetrics=function(w,F){var U=w+" "+F;return typeof this._data[U]>"u"&&(this._data[U]=this.parseMetrics(w,F)),this._data[U]},B})(),qh=(function(){function B(w,F){this.context=w,this.options=F}return B})(),$u=1e4,Rf=(function(B){n(w,B);function w(F,U){var ae=B.call(this,F,U)||this;return ae._activeEffects=[],ae.canvas=U.canvas?U.canvas:document.createElement("canvas"),ae.ctx=ae.canvas.getContext("2d"),U.canvas||(ae.canvas.width=Math.floor(U.width*U.scale),ae.canvas.height=Math.floor(U.height*U.scale),ae.canvas.style.width=U.width+"px",ae.canvas.style.height=U.height+"px"),ae.fontMetrics=new Cu(document),ae.ctx.scale(ae.options.scale,ae.options.scale),ae.ctx.translate(-U.x,-U.y),ae.ctx.textBaseline="bottom",ae._activeEffects=[],ae.context.logger.debug("Canvas renderer initialized ("+U.width+"x"+U.height+") with scale "+U.scale),ae}return w.prototype.applyEffects=function(F){for(var U=this;this._activeEffects.length;)this.popEffect();F.forEach(function(ae){return U.applyEffect(ae)})},w.prototype.applyEffect=function(F){this.ctx.save(),NA(F)&&(this.ctx.globalAlpha=F.opacity),no(F)&&(this.ctx.translate(F.offsetX,F.offsetY),this.ctx.transform(F.matrix[0],F.matrix[1],F.matrix[2],F.matrix[3],F.matrix[4],F.matrix[5]),this.ctx.translate(-F.offsetX,-F.offsetY)),lh(F)&&(this.path(F.path),this.ctx.clip()),this._activeEffects.push(F)},w.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},w.prototype.renderStack=function(F){return l(this,void 0,void 0,function(){var U;return u(this,function(ae){switch(ae.label){case 0:return U=F.element.container.styles,U.isVisible()?[4,this.renderStackContent(F)]:[3,2];case 1:ae.sent(),ae.label=2;case 2:return[2]}})})},w.prototype.renderNode=function(F){return l(this,void 0,void 0,function(){return u(this,function(U){switch(U.label){case 0:if(k(F.container.flags,16))debugger;return F.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(F)]:[3,3];case 1:return U.sent(),[4,this.renderNodeContent(F)];case 2:U.sent(),U.label=3;case 3:return[2]}})})},w.prototype.renderTextWithLetterSpacing=function(F,U,ae){var we=this;if(U===0)this.ctx.fillText(F.text,F.bounds.left,F.bounds.top+ae);else{var Fe=ju(F.text);Fe.reduce(function(qe,et){return we.ctx.fillText(et,qe,F.bounds.top+ae),qe+we.ctx.measureText(et).width},F.bounds.left)}},w.prototype.createFontStyle=function(F){var U=F.fontVariant.filter(function(Fe){return Fe==="normal"||Fe==="small-caps"}).join(""),ae=va(F.fontFamily).join(", "),we=lr(F.fontSize)?""+F.fontSize.number+F.fontSize.unit:F.fontSize.number+"px";return[[F.fontStyle,U,F.fontWeight,we,ae].join(" "),ae,we]},w.prototype.renderTextNode=function(F,U){return l(this,void 0,void 0,function(){var ae,we,Fe,qe,et,Nt,Dt,Gt,ws=this;return u(this,function(jr){return ae=this.createFontStyle(U),we=ae[0],Fe=ae[1],qe=ae[2],this.ctx.font=we,this.ctx.direction=U.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",et=this.fontMetrics.getMetrics(Fe,qe),Nt=et.baseline,Dt=et.middle,Gt=U.paintOrder,F.textBounds.forEach(function(Zs){Gt.forEach(function(ur){switch(ur){case 0:ws.ctx.fillStyle=ir(U.color),ws.renderTextWithLetterSpacing(Zs,U.letterSpacing,Nt);var Jr=U.textShadow;Jr.length&&Zs.text.trim().length&&(Jr.slice(0).reverse().forEach(function(Lr){ws.ctx.shadowColor=ir(Lr.color),ws.ctx.shadowOffsetX=Lr.offsetX.number*ws.options.scale,ws.ctx.shadowOffsetY=Lr.offsetY.number*ws.options.scale,ws.ctx.shadowBlur=Lr.blur.number,ws.renderTextWithLetterSpacing(Zs,U.letterSpacing,Nt)}),ws.ctx.shadowColor="",ws.ctx.shadowOffsetX=0,ws.ctx.shadowOffsetY=0,ws.ctx.shadowBlur=0),U.textDecorationLine.length&&(ws.ctx.fillStyle=ir(U.textDecorationColor||U.color),U.textDecorationLine.forEach(function(Lr){switch(Lr){case 1:ws.ctx.fillRect(Zs.bounds.left,Math.round(Zs.bounds.top+Nt),Zs.bounds.width,1);break;case 2:ws.ctx.fillRect(Zs.bounds.left,Math.round(Zs.bounds.top),Zs.bounds.width,1);break;case 3:ws.ctx.fillRect(Zs.bounds.left,Math.ceil(Zs.bounds.top+Dt),Zs.bounds.width,1);break}}));break;case 1:U.webkitTextStrokeWidth&&Zs.text.trim().length&&(ws.ctx.strokeStyle=ir(U.webkitTextStrokeColor),ws.ctx.lineWidth=U.webkitTextStrokeWidth,ws.ctx.lineJoin=window.chrome?"miter":"round",ws.ctx.strokeText(Zs.text,Zs.bounds.left,Zs.bounds.top+Nt)),ws.ctx.strokeStyle="",ws.ctx.lineWidth=0,ws.ctx.lineJoin="miter";break}})}),[2]})})},w.prototype.renderReplacedElement=function(F,U,ae){if(ae&&F.intrinsicWidth>0&&F.intrinsicHeight>0){var we=Nl(F),Fe=qi(U);this.path(Fe),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(ae,0,0,F.intrinsicWidth,F.intrinsicHeight,we.left,we.top,we.width,we.height),this.ctx.restore()}},w.prototype.renderNodeContent=function(F){return l(this,void 0,void 0,function(){var U,ae,we,Fe,qe,et,Ur,Ur,Nt,Dt,Gt,ws,Xn,jr,Zs,Cn,ur,Jr,Lr,Ur,ta,Xn,Cn;return u(this,function(kr){switch(kr.label){case 0:this.applyEffects(F.getEffects(4)),U=F.container,ae=F.curves,we=U.styles,Fe=0,qe=U.textNodes,kr.label=1;case 1:return Fe<qe.length?(et=qe[Fe],[4,this.renderTextNode(et,we)]):[3,4];case 2:kr.sent(),kr.label=3;case 3:return Fe++,[3,1];case 4:if(!(U instanceof Kh))return[3,8];kr.label=5;case 5:return kr.trys.push([5,7,,8]),[4,this.context.cache.match(U.src)];case 6:return Ur=kr.sent(),this.renderReplacedElement(U,ae,Ur),[3,8];case 7:return kr.sent(),this.context.logger.error("Error loading image "+U.src),[3,8];case 8:if(U instanceof Ru&&this.renderReplacedElement(U,ae,U.canvas),!(U instanceof ZA))return[3,12];kr.label=9;case 9:return kr.trys.push([9,11,,12]),[4,this.context.cache.match(U.svg)];case 10:return Ur=kr.sent(),this.renderReplacedElement(U,ae,Ur),[3,12];case 11:return kr.sent(),this.context.logger.error("Error loading svg "+U.svg.substring(0,255)),[3,12];case 12:return U instanceof Nd&&U.tree?(Nt=new w(this.context,{scale:this.options.scale,backgroundColor:U.backgroundColor,x:0,y:0,width:U.width,height:U.height}),[4,Nt.render(U.tree)]):[3,14];case 13:Dt=kr.sent(),U.width&&U.height&&this.ctx.drawImage(Dt,0,0,U.width,U.height,U.bounds.left,U.bounds.top,U.bounds.width,U.bounds.height),kr.label=14;case 14:if(U instanceof Pc&&(Gt=Math.min(U.bounds.width,U.bounds.height),U.type===gA?U.checked&&(this.ctx.save(),this.path([new Ws(U.bounds.left+Gt*.39363,U.bounds.top+Gt*.79),new Ws(U.bounds.left+Gt*.16,U.bounds.top+Gt*.5549),new Ws(U.bounds.left+Gt*.27347,U.bounds.top+Gt*.44071),new Ws(U.bounds.left+Gt*.39694,U.bounds.top+Gt*.5649),new Ws(U.bounds.left+Gt*.72983,U.bounds.top+Gt*.23),new Ws(U.bounds.left+Gt*.84,U.bounds.top+Gt*.34085),new Ws(U.bounds.left+Gt*.39363,U.bounds.top+Gt*.79)]),this.ctx.fillStyle=ir(Nc),this.ctx.fill(),this.ctx.restore()):U.type===xA&&U.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(U.bounds.left+Gt/2,U.bounds.top+Gt/2,Gt/4,0,Math.PI*2,!0),this.ctx.fillStyle=ir(Nc),this.ctx.fill(),this.ctx.restore())),SA(U)&&U.value.length){switch(ws=this.createFontStyle(we),Xn=ws[0],jr=ws[1],Zs=this.fontMetrics.getMetrics(Xn,jr).baseline,this.ctx.font=Xn,this.ctx.fillStyle=ir(we.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=EA(U.styles.textAlign),Cn=Nl(U),ur=0,U.styles.textAlign){case 1:ur+=Cn.width/2;break;case 2:ur+=Cn.width;break}Jr=Cn.add(ur,0,0,-Cn.height/2+1),this.ctx.save(),this.path([new Ws(Cn.left,Cn.top),new Ws(Cn.left+Cn.width,Cn.top),new Ws(Cn.left+Cn.width,Cn.top+Cn.height),new Ws(Cn.left,Cn.top+Cn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new eu(U.value,Jr),we.letterSpacing,Zs),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!k(U.styles.display,2048))return[3,20];if(U.styles.listStyleImage===null)return[3,19];if(Lr=U.styles.listStyleImage,Lr.type!==0)return[3,18];Ur=void 0,ta=Lr.url,kr.label=15;case 15:return kr.trys.push([15,17,,18]),[4,this.context.cache.match(ta)];case 16:return Ur=kr.sent(),this.ctx.drawImage(Ur,U.bounds.left-(Ur.width+10),U.bounds.top),[3,18];case 17:return kr.sent(),this.context.logger.error("Error loading list-style-image "+ta),[3,18];case 18:return[3,20];case 19:F.listValue&&U.styles.listStyleType!==-1&&(Xn=this.createFontStyle(we)[0],this.ctx.font=Xn,this.ctx.fillStyle=ir(we.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Cn=new A(U.bounds.left,U.bounds.top+vn(U.styles.paddingTop,U.bounds.width),U.bounds.width,bu(we.lineHeight,we.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new eu(F.listValue,Cn),we.letterSpacing,bu(we.lineHeight,we.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),kr.label=20;case 20:return[2]}})})},w.prototype.renderStackContent=function(F){return l(this,void 0,void 0,function(){var U,ae,Lr,we,Fe,Lr,qe,et,Lr,Nt,Dt,Lr,Gt,ws,Lr,jr,Zs,Lr,ur,Jr,Lr;return u(this,function(Ur){switch(Ur.label){case 0:if(k(F.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(F.element)];case 1:Ur.sent(),U=0,ae=F.negativeZIndex,Ur.label=2;case 2:return U<ae.length?(Lr=ae[U],[4,this.renderStack(Lr)]):[3,5];case 3:Ur.sent(),Ur.label=4;case 4:return U++,[3,2];case 5:return[4,this.renderNodeContent(F.element)];case 6:Ur.sent(),we=0,Fe=F.nonInlineLevel,Ur.label=7;case 7:return we<Fe.length?(Lr=Fe[we],[4,this.renderNode(Lr)]):[3,10];case 8:Ur.sent(),Ur.label=9;case 9:return we++,[3,7];case 10:qe=0,et=F.nonPositionedFloats,Ur.label=11;case 11:return qe<et.length?(Lr=et[qe],[4,this.renderStack(Lr)]):[3,14];case 12:Ur.sent(),Ur.label=13;case 13:return qe++,[3,11];case 14:Nt=0,Dt=F.nonPositionedInlineLevel,Ur.label=15;case 15:return Nt<Dt.length?(Lr=Dt[Nt],[4,this.renderStack(Lr)]):[3,18];case 16:Ur.sent(),Ur.label=17;case 17:return Nt++,[3,15];case 18:Gt=0,ws=F.inlineLevel,Ur.label=19;case 19:return Gt<ws.length?(Lr=ws[Gt],[4,this.renderNode(Lr)]):[3,22];case 20:Ur.sent(),Ur.label=21;case 21:return Gt++,[3,19];case 22:jr=0,Zs=F.zeroOrAutoZIndexOrTransformedOrOpacity,Ur.label=23;case 23:return jr<Zs.length?(Lr=Zs[jr],[4,this.renderStack(Lr)]):[3,26];case 24:Ur.sent(),Ur.label=25;case 25:return jr++,[3,23];case 26:ur=0,Jr=F.positiveZIndex,Ur.label=27;case 27:return ur<Jr.length?(Lr=Jr[ur],[4,this.renderStack(Lr)]):[3,30];case 28:Ur.sent(),Ur.label=29;case 29:return ur++,[3,27];case 30:return[2]}})})},w.prototype.mask=function(F){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(F.slice(0).reverse()),this.ctx.closePath()},w.prototype.path=function(F){this.ctx.beginPath(),this.formatPath(F),this.ctx.closePath()},w.prototype.formatPath=function(F){var U=this;F.forEach(function(ae,we){var Fe=di(ae)?ae.start:ae;we===0?U.ctx.moveTo(Fe.x,Fe.y):U.ctx.lineTo(Fe.x,Fe.y),di(ae)&&U.ctx.bezierCurveTo(ae.startControl.x,ae.startControl.y,ae.endControl.x,ae.endControl.y,ae.end.x,ae.end.y)})},w.prototype.renderRepeat=function(F,U,ae,we){this.path(F),this.ctx.fillStyle=U,this.ctx.translate(ae,we),this.ctx.fill(),this.ctx.translate(-ae,-we)},w.prototype.resizeImage=function(F,U,ae){var we;if(F.width===U&&F.height===ae)return F;var Fe=(we=this.canvas.ownerDocument)!==null&&we!==void 0?we:document,qe=Fe.createElement("canvas");qe.width=Math.max(1,U),qe.height=Math.max(1,ae);var et=qe.getContext("2d");return et.drawImage(F,0,0,F.width,F.height,0,0,U,ae),qe},w.prototype.renderBackgroundImage=function(F){return l(this,void 0,void 0,function(){var U,ae,we,Fe,qe,et;return u(this,function(Nt){switch(Nt.label){case 0:U=F.styles.backgroundImage.length-1,ae=function(Dt){var Gt,ws,jr,ko,Hl,oc,ii,_l,ya,Zs,ko,Hl,oc,ii,_l,ur,Jr,Lr,Ur,ta,Xn,Cn,kr,da,ya,rn,ko,yi,zc,ii,_l,Cc,Hl,oc,Bd,zd,Bu,Ku,Gu,Sd,Su,Eu;return u(this,function(ch){switch(ch.label){case 0:if(Dt.type!==0)return[3,5];Gt=void 0,ws=Dt.url,ch.label=1;case 1:return ch.trys.push([1,3,,4]),[4,we.context.cache.match(ws)];case 2:return Gt=ch.sent(),[3,4];case 3:return ch.sent(),we.context.logger.error("Error loading background-image "+ws),[3,4];case 4:return Gt&&(jr=ru(F,U,[Gt.width,Gt.height,Gt.width/Gt.height]),ko=jr[0],Hl=jr[1],oc=jr[2],ii=jr[3],_l=jr[4],ya=we.ctx.createPattern(we.resizeImage(Gt,ii,_l),"repeat"),we.renderRepeat(ko,ya,Hl,oc)),[3,6];case 5:xo(Dt)?(Zs=ru(F,U,[null,null,null]),ko=Zs[0],Hl=Zs[1],oc=Zs[2],ii=Zs[3],_l=Zs[4],ur=Fl(Dt.angle,ii,_l),Jr=ur[0],Lr=ur[1],Ur=ur[2],ta=ur[3],Xn=ur[4],Cn=document.createElement("canvas"),Cn.width=ii,Cn.height=_l,kr=Cn.getContext("2d"),da=kr.createLinearGradient(Lr,ta,Ur,Xn),gi(Dt.stops,Jr).forEach(function(tf){return da.addColorStop(tf.stop,ir(tf.color))}),kr.fillStyle=da,kr.fillRect(0,0,ii,_l),ii>0&&_l>0&&(ya=we.ctx.createPattern(Cn,"repeat"),we.renderRepeat(ko,ya,Hl,oc))):xc(Dt)&&(rn=ru(F,U,[null,null,null]),ko=rn[0],yi=rn[1],zc=rn[2],ii=rn[3],_l=rn[4],Cc=Dt.position.length===0?[Br]:Dt.position,Hl=vn(Cc[0],ii),oc=vn(Cc[Cc.length-1],_l),Bd=go(Dt,Hl,oc,ii,_l),zd=Bd[0],Bu=Bd[1],zd>0&&Bu>0&&(Ku=we.ctx.createRadialGradient(yi+Hl,zc+oc,0,yi+Hl,zc+oc,zd),gi(Dt.stops,zd*2).forEach(function(tf){return Ku.addColorStop(tf.stop,ir(tf.color))}),we.path(ko),we.ctx.fillStyle=Ku,zd!==Bu?(Gu=F.bounds.left+.5*F.bounds.width,Sd=F.bounds.top+.5*F.bounds.height,Su=Bu/zd,Eu=1/Su,we.ctx.save(),we.ctx.translate(Gu,Sd),we.ctx.transform(1,0,0,Su,0,0),we.ctx.translate(-Gu,-Sd),we.ctx.fillRect(yi,Eu*(zc-Sd)+Sd,ii,_l*Eu),we.ctx.restore()):we.ctx.fill())),ch.label=6;case 6:return U--,[2]}})},we=this,Fe=0,qe=F.styles.backgroundImage.slice(0).reverse(),Nt.label=1;case 1:return Fe<qe.length?(et=qe[Fe],[5,ae(et)]):[3,4];case 2:Nt.sent(),Nt.label=3;case 3:return Fe++,[3,1];case 4:return[2]}})})},w.prototype.renderSolidBorder=function(F,U,ae){return l(this,void 0,void 0,function(){return u(this,function(we){return this.path(Df(ae,U)),this.ctx.fillStyle=ir(F),this.ctx.fill(),[2]})})},w.prototype.renderDoubleBorder=function(F,U,ae,we){return l(this,void 0,void 0,function(){var Fe,qe;return u(this,function(et){switch(et.label){case 0:return U<3?[4,this.renderSolidBorder(F,ae,we)]:[3,2];case 1:return et.sent(),[2];case 2:return Fe=kA(we,ae),this.path(Fe),this.ctx.fillStyle=ir(F),this.ctx.fill(),qe=Al(we,ae),this.path(qe),this.ctx.fill(),[2]}})})},w.prototype.renderNodeBackgroundAndBorders=function(F){return l(this,void 0,void 0,function(){var U,ae,we,Fe,qe,et,Nt,Dt,Gt=this;return u(this,function(ws){switch(ws.label){case 0:return this.applyEffects(F.getEffects(2)),U=F.container.styles,ae=!Nn(U.backgroundColor)||U.backgroundImage.length,we=[{style:U.borderTopStyle,color:U.borderTopColor,width:U.borderTopWidth},{style:U.borderRightStyle,color:U.borderRightColor,width:U.borderRightWidth},{style:U.borderBottomStyle,color:U.borderBottomColor,width:U.borderBottomWidth},{style:U.borderLeftStyle,color:U.borderLeftColor,width:U.borderLeftWidth}],Fe=Pf(Hc(U.backgroundClip,0),F.curves),ae||U.boxShadow.length?(this.ctx.save(),this.path(Fe),this.ctx.clip(),Nn(U.backgroundColor)||(this.ctx.fillStyle=ir(U.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(F.container)]):[3,2];case 1:ws.sent(),this.ctx.restore(),U.boxShadow.slice(0).reverse().forEach(function(jr){Gt.ctx.save();var Zs=Sa(F.curves),ur=jr.inset?0:$u,Jr=Ui(Zs,-ur+(jr.inset?1:-1)*jr.spread.number,(jr.inset?1:-1)*jr.spread.number,jr.spread.number*(jr.inset?-2:2),jr.spread.number*(jr.inset?-2:2));jr.inset?(Gt.path(Zs),Gt.ctx.clip(),Gt.mask(Jr)):(Gt.mask(Zs),Gt.ctx.clip(),Gt.path(Jr)),Gt.ctx.shadowOffsetX=jr.offsetX.number+ur,Gt.ctx.shadowOffsetY=jr.offsetY.number,Gt.ctx.shadowColor=ir(jr.color),Gt.ctx.shadowBlur=jr.blur.number,Gt.ctx.fillStyle=jr.inset?ir(jr.color):"rgba(0,0,0,1)",Gt.ctx.fill(),Gt.ctx.restore()}),ws.label=2;case 2:qe=0,et=0,Nt=we,ws.label=3;case 3:return et<Nt.length?(Dt=Nt[et],Dt.style!==0&&!Nn(Dt.color)&&Dt.width>0?Dt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Dt.color,Dt.width,qe,F.curves,2)]:[3,11]):[3,13];case 4:return ws.sent(),[3,11];case 5:return Dt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Dt.color,Dt.width,qe,F.curves,3)];case 6:return ws.sent(),[3,11];case 7:return Dt.style!==4?[3,9]:[4,this.renderDoubleBorder(Dt.color,Dt.width,qe,F.curves)];case 8:return ws.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Dt.color,qe,F.curves)];case 10:ws.sent(),ws.label=11;case 11:qe++,ws.label=12;case 12:return et++,[3,3];case 13:return[2]}})})},w.prototype.renderDashedDottedBorder=function(F,U,ae,we,Fe){return l(this,void 0,void 0,function(){var qe,et,Nt,Dt,Gt,ws,jr,Zs,ur,Jr,Lr,Ur,ta,Xn,Cn,kr,Cn,kr;return u(this,function(da){return this.ctx.save(),qe=_c(we,ae),et=Df(we,ae),Fe===2&&(this.path(et),this.ctx.clip()),di(et[0])?(Nt=et[0].start.x,Dt=et[0].start.y):(Nt=et[0].x,Dt=et[0].y),di(et[1])?(Gt=et[1].end.x,ws=et[1].end.y):(Gt=et[1].x,ws=et[1].y),ae===0||ae===2?jr=Math.abs(Nt-Gt):jr=Math.abs(Dt-ws),this.ctx.beginPath(),Fe===3?this.formatPath(qe):this.formatPath(et.slice(0,2)),Zs=U<3?U*3:U*2,ur=U<3?U*2:U,Fe===3&&(Zs=U,ur=U),Jr=!0,jr<=Zs*2?Jr=!1:jr<=Zs*2+ur?(Lr=jr/(2*Zs+ur),Zs*=Lr,ur*=Lr):(Ur=Math.floor((jr+ur)/(Zs+ur)),ta=(jr-Ur*Zs)/(Ur-1),Xn=(jr-(Ur+1)*Zs)/Ur,ur=Xn<=0||Math.abs(ur-ta)<Math.abs(ur-Xn)?ta:Xn),Jr&&(Fe===3?this.ctx.setLineDash([0,Zs+ur]):this.ctx.setLineDash([Zs,ur])),Fe===3?(this.ctx.lineCap="round",this.ctx.lineWidth=U):this.ctx.lineWidth=U*2+1.1,this.ctx.strokeStyle=ir(F),this.ctx.stroke(),this.ctx.setLineDash([]),Fe===2&&(di(et[0])&&(Cn=et[3],kr=et[0],this.ctx.beginPath(),this.formatPath([new Ws(Cn.end.x,Cn.end.y),new Ws(kr.start.x,kr.start.y)]),this.ctx.stroke()),di(et[1])&&(Cn=et[1],kr=et[2],this.ctx.beginPath(),this.formatPath([new Ws(Cn.end.x,Cn.end.y),new Ws(kr.start.x,kr.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},w.prototype.render=function(F){return l(this,void 0,void 0,function(){var U;return u(this,function(ae){switch(ae.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),U=If(F),[4,this.renderStack(U)];case 1:return ae.sent(),this.applyEffects([]),[2,this.canvas]}})})},w})(qh),SA=function(B){return B instanceof bA||B instanceof Lf?!0:B instanceof Pc&&B.type!==xA&&B.type!==gA},Pf=function(B,w){switch(B){case 0:return Sa(w);case 2:return ac(w);case 1:default:return qi(w)}},EA=function(B){switch(B){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ef=["-apple-system","system-ui"],va=function(B){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?B.filter(function(w){return ef.indexOf(w)===-1}):B},ga=(function(B){n(w,B);function w(F,U){var ae=B.call(this,F,U)||this;return ae.canvas=U.canvas?U.canvas:document.createElement("canvas"),ae.ctx=ae.canvas.getContext("2d"),ae.options=U,ae.canvas.width=Math.floor(U.width*U.scale),ae.canvas.height=Math.floor(U.height*U.scale),ae.canvas.style.width=U.width+"px",ae.canvas.style.height=U.height+"px",ae.ctx.scale(ae.options.scale,ae.options.scale),ae.ctx.translate(-U.x,-U.y),ae.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+U.width+"x"+U.height+" at "+U.x+","+U.y+") with scale "+U.scale),ae}return w.prototype.render=function(F){return l(this,void 0,void 0,function(){var U,ae;return u(this,function(we){switch(we.label){case 0:return U=KA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,F),[4,In(U)];case 1:return ae=we.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(ae,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},w})(qh),In=function(B){return new Promise(function(w,F){var U=new Image;U.onload=function(){w(U)},U.onerror=F,U.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(B))})},zn=(function(){function B(w){var F=w.id,U=w.enabled;this.id=F,this.enabled=U,this.start=Date.now()}return B.prototype.debug=function(){for(var w=[],F=0;F<arguments.length;F++)w[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,d([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},B.prototype.getTime=function(){return Date.now()-this.start},B.prototype.info=function(){for(var w=[],F=0;F<arguments.length;F++)w[F]=arguments[F];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,d([this.id,this.getTime()+"ms"],w))},B.prototype.warn=function(){for(var w=[],F=0;F<arguments.length;F++)w[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,d([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},B.prototype.error=function(){for(var w=[],F=0;F<arguments.length;F++)w[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,d([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},B.instances={},B})(),Ea=(function(){function B(w,F){var U;this.windowBounds=F,this.instanceName="#"+B.instanceCount++,this.logger=new zn({id:this.instanceName,enabled:w.logging}),this.cache=(U=w.cache)!==null&&U!==void 0?U:new ia(this,w)}return B.instanceCount=1,B})(),Ql=function(B,w){return w===void 0&&(w={}),Hd(B,w)};typeof window<"u"&&Hi.setContext(window);var Hd=function(B,w){return l(void 0,void 0,void 0,function(){var F,U,ae,we,Fe,qe,et,Nt,Dt,Gt,ws,jr,Zs,ur,Jr,Lr,Ur,ta,Xn,Cn,da,kr,da,ya,rn,ko,yi,zc,ii,_l,Cc,Hl,oc,Bd,zd,Bu,Ku,Gu,Sd,Su;return u(this,function(Eu){switch(Eu.label){case 0:if(!B||typeof B!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(F=B.ownerDocument,!F)throw new Error("Element is not attached to a Document");if(U=F.defaultView,!U)throw new Error("Document is not attached to a Window");return ae={allowTaint:(ya=w.allowTaint)!==null&&ya!==void 0?ya:!1,imageTimeout:(rn=w.imageTimeout)!==null&&rn!==void 0?rn:15e3,proxy:w.proxy,useCORS:(ko=w.useCORS)!==null&&ko!==void 0?ko:!1},we=a({logging:(yi=w.logging)!==null&&yi!==void 0?yi:!0,cache:w.cache},ae),Fe={windowWidth:(zc=w.windowWidth)!==null&&zc!==void 0?zc:U.innerWidth,windowHeight:(ii=w.windowHeight)!==null&&ii!==void 0?ii:U.innerHeight,scrollX:(_l=w.scrollX)!==null&&_l!==void 0?_l:U.pageXOffset,scrollY:(Cc=w.scrollY)!==null&&Cc!==void 0?Cc:U.pageYOffset},qe=new A(Fe.scrollX,Fe.scrollY,Fe.windowWidth,Fe.windowHeight),et=new Ea(we,qe),Nt=(Hl=w.foreignObjectRendering)!==null&&Hl!==void 0?Hl:!1,Dt={allowTaint:(oc=w.allowTaint)!==null&&oc!==void 0?oc:!1,onclone:w.onclone,ignoreElements:w.ignoreElements,inlineImages:Nt,copyStyles:Nt},et.logger.debug("Starting document clone with size "+qe.width+"x"+qe.height+" scrolled to "+-qe.left+","+-qe.top),Gt=new $r(et,B,Dt),ws=Gt.clonedReferenceElement,ws?[4,Gt.toIFrame(F,qe)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return jr=Eu.sent(),Zs=nh(ws)||Xh(ws)?f(ws.ownerDocument):o(et,ws),ur=Zs.width,Jr=Zs.height,Lr=Zs.left,Ur=Zs.top,ta=Vu(et,ws,w.backgroundColor),Xn={canvas:w.canvas,backgroundColor:ta,scale:(zd=(Bd=w.scale)!==null&&Bd!==void 0?Bd:U.devicePixelRatio)!==null&&zd!==void 0?zd:1,x:((Bu=w.x)!==null&&Bu!==void 0?Bu:0)+Lr,y:((Ku=w.y)!==null&&Ku!==void 0?Ku:0)+Ur,width:(Gu=w.width)!==null&&Gu!==void 0?Gu:Math.ceil(ur),height:(Sd=w.height)!==null&&Sd!==void 0?Sd:Math.ceil(Jr)},Nt?(et.logger.debug("Document cloned, using foreign object rendering"),da=new ga(et,Xn),[4,da.render(ws)]):[3,3];case 2:return Cn=Eu.sent(),[3,5];case 3:return et.logger.debug("Document cloned, element located at "+Lr+","+Ur+" with size "+ur+"x"+Jr+" using computed rendering"),et.logger.debug("Starting DOM parsing"),kr=eh(et,ws),ta===kr.styles.backgroundColor&&(kr.styles.backgroundColor=mi.TRANSPARENT),et.logger.debug("Starting renderer for element at "+Xn.x+","+Xn.y+" with size "+Xn.width+"x"+Xn.height),da=new Rf(et,Xn),[4,da.render(kr)];case 4:Cn=Eu.sent(),Eu.label=5;case 5:return(!((Su=w.removeContainer)!==null&&Su!==void 0)||Su)&&($r.destroy(jr)||et.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),et.logger.debug("Finished rendering"),[2,Cn]}})})},Vu=function(B,w,F){var U=w.ownerDocument,ae=U.documentElement?li(B,getComputedStyle(U.documentElement).backgroundColor):mi.TRANSPARENT,we=U.body?li(B,getComputedStyle(U.body).backgroundColor):mi.TRANSPARENT,Fe=typeof F=="string"?li(B,F):F===null?mi.TRANSPARENT:4294967295;return w===U.documentElement?Nn(ae)?Nn(we)?Fe:we:ae:Fe};return Ql}))})(B0)),B0.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var s2;function BP(){return s2||(s2=1,(function(s,e){(function(n,a){s.exports=a(CP())})(self,function(r){return(function(){var n={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(p,m){(m==null||m>p.length)&&(m=p.length);for(var x=0,b=Array(m);x<m;x++)b[x]=p[x];return b}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(p){if(Array.isArray(p))return p}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return p}});function f(m,x,b,j,y,T,R){try{var z=m[T](R),X=z.value}catch(Y){return void b(Y)}z.done?x(X):Promise.resolve(X).then(j,y)}function p(m){return function(){var x=this,b=arguments;return new Promise(function(j,y){var T=m.apply(x,b);function R(X){f(T,j,y,R,z,"next",X)}function z(X){f(T,j,y,R,z,"throw",X)}R(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return p}});var f=o("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function p(m,x,b){return(x=(0,f.default)(x))in m?Object.defineProperty(m,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[x]=b,m}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(p,m){var x=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(x!=null){var b,j,y,T,R=[],z=!0,X=!1;try{if(y=(x=x.call(p)).next,m===0){if(Object(x)!==x)return;z=!1}else for(;!(z=(b=y.call(x)).done)&&(R.push(b.value),R.length!==m);z=!0);}catch(Y){X=!0,j=Y}finally{try{if(!z&&x.return!=null&&(T=x.return(),Object(T)!==T))return}finally{if(X)throw j}}return R}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return b}});var f=o("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),p=o("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),m=o("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),x=o("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function b(j,y){return(0,f.default)(j)||(0,p.default)(j,y)||(0,m.default)(j,y)||(0,x.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return p}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js");function p(m,x){if((0,f.default)(m)!="object"||!m)return m;var b=m[Symbol.toPrimitive];if(b!==void 0){var j=b.call(m,x||"default");if((0,f.default)(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(m)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return m}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),p=o("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function m(x){var b=(0,p.default)(x,"string");return(0,f.default)(b)=="symbol"?b:b+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(p){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},f(p)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return p}});var f=o("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function p(m,x){if(m){if(typeof m=="string")return(0,f.default)(m,x);var b={}.toString.call(m).slice(8,-1);return b==="Object"&&m.constructor&&(b=m.constructor.name),b==="Map"||b==="Set"?Array.from(m):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?(0,f.default)(m,x):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(d,A,o){o.r(A),o.d(A,{AElement:function(){return ho},AnimateColorElement:function(){return Ii},AnimateElement:function(){return Dn},AnimateTransformElement:function(){return Rn},BoundingBox:function(){return or},CB1:function(){return he},CB2:function(){return te},CB3:function(){return ge},CB4:function(){return Le},Canvg:function(){return oo},CircleElement:function(){return Us},ClipPathElement:function(){return hi},DefsElement:function(){return Da},DescElement:function(){return Ki},Document:function(){return pi},Element:function(){return er},EllipseElement:function(){return Ds},FeColorMatrixElement:function(){return po},FeCompositeElement:function(){return Qa},FeDropShadowElement:function(){return Ka},FeGaussianBlurElement:function(){return mo},FeMorphologyElement:function(){return Ci},FilterElement:function(){return Wr},Font:function(){return Vs},FontElement:function(){return mc},FontFaceElement:function(){return oi},GElement:function(){return fa},GlyphElement:function(){return hs},GradientElement:function(){return fn},ImageElement:function(){return qn},LineElement:function(){return sr},LinearGradientElement:function(){return jn},MarkerElement:function(){return Ar},MaskElement:function(){return ti},Matrix:function(){return Fs},MissingGlyphElement:function(){return Uo},Mouse:function(){return ls},PSEUDO_ZERO:function(){return De},Parser:function(){return us},PathElement:function(){return As},PathParser:function(){return yt},PatternElement:function(){return Pr},Point:function(){return $t},PolygonElement:function(){return Or},PolylineElement:function(){return ms},Property:function(){return We},QB1:function(){return Ve},QB2:function(){return kt},QB3:function(){return Bt},RadialGradientElement:function(){return dn},RectElement:function(){return wa},RenderedElement:function(){return qt},Rotate:function(){return hr},SVGElement:function(){return tn},SVGFontLoader:function(){return Ai},Scale:function(){return ar},Screen:function(){return ut},Skew:function(){return Cs},SkewX:function(){return Bs},SkewY:function(){return vr},StopElement:function(){return la},StyleElement:function(){return ki},SymbolElement:function(){return fo},TRefElement:function(){return Kl},TSpanElement:function(){return $s},TextElement:function(){return Ks},TextPathElement:function(){return sa},TitleElement:function(){return Wn},Transform:function(){return Nr},Translate:function(){return br},UnknownElement:function(){return Ys},UseElement:function(){return hl},ViewPort:function(){return Lt},compressSpaces:function(){return z},default:function(){return oo},getSelectorSpecificity:function(){return Ee},normalizeAttributeName:function(){return ce},normalizeColor:function(){return Ne},parseExternalUrl:function(){return ue},presets:function(){return R},toNumbers:function(){return Q},trimLeft:function(){return X},trimRight:function(){return Y},vectorMagnitude:function(){return Se},vectorsAngle:function(){return be},vectorsRatio:function(){return fe}}),o("./node_modules/core-js/modules/es.promise.js");var f=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");o("./node_modules/core-js/modules/es.string.match.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.string.starts-with.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var p=o("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");o("./node_modules/core-js/modules/es.array.reduce.js"),o("./node_modules/core-js/modules/es.string.ends-with.js"),o("./node_modules/core-js/modules/es.string.split.js");var m=o("./node_modules/raf/index.js");o("./node_modules/core-js/modules/es.string.trim.js");var x=o("./node_modules/rgbcolor/index.js");o("./node_modules/core-js/modules/es.array.index-of.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.reverse.js");var b=o("./node_modules/svg-pathdata/lib/SVGPathData.module.js");o("./node_modules/core-js/modules/es.regexp.to-string.js");var j=o("./node_modules/stackblur-canvas/dist/stackblur-es.js");function y(){var{DOMParser:Tt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Tt,createCanvas(G,J){return new OffscreenCanvas(G,J)},createImage(G){return(0,f.default)(function*(){var J=yield fetch(G),E=yield J.blob(),M=yield createImageBitmap(E);return M})()}};return(typeof DOMParser<"u"||typeof Tt>"u")&&Reflect.deleteProperty(L,"DOMParser"),L}function T(Tt){var{DOMParser:L,canvas:G,fetch:J}=Tt;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:L,fetch:J,createCanvas:G.createCanvas,createImage:G.loadImage}}var R=Object.freeze({__proto__:null,offscreen:y,node:T});function z(Tt){return Tt.replace(/(?!\u3000)\s+/gm," ")}function X(Tt){return Tt.replace(/^[\n \t]+/,"")}function Y(Tt){return Tt.replace(/[\n \t]+$/,"")}function Q(Tt){var L=(Tt||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return L.map(parseFloat)}var K=/^[A-Z-]+$/;function ce(Tt){return K.test(Tt)?Tt.toLowerCase():Tt}function ue(Tt){var L=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Tt)||[];return L[2]||L[3]||L[4]}function Ne(Tt){if(!Tt.startsWith("rgb"))return Tt;var L=3,G=Tt.replace(/\d+(\.\d+)?/g,(J,E)=>L--&&E?String(Math.round(parseFloat(J))):J);return G}var le=/(\[[^\]]+\])/g,Ce=/(#[^\s+>~.[:]+)/g,oe=/(\.[^\s+>~.[:]+)/g,je=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,Ae=/(:[\w-]+\([^)]*\))/gi,se=/(:[^\s+>~.[:]+)/g,pe=/([^\s+>~.[:]+)/g;function re(Tt,L){var G=L.exec(Tt);return G?[Tt.replace(L," "),G.length]:[Tt,0]}function Ee(Tt){var L=[0,0,0],G=Tt.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),J=0;return[G,J]=re(G,le),L[1]+=J,[G,J]=re(G,Ce),L[0]+=J,[G,J]=re(G,oe),L[1]+=J,[G,J]=re(G,je),L[2]+=J,[G,J]=re(G,Ae),L[1]+=J,[G,J]=re(G,se),L[1]+=J,G=G.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[G,J]=re(G,pe),L[2]+=J,L.join("")}var De=1e-8;function Se(Tt){return Math.sqrt(Math.pow(Tt[0],2)+Math.pow(Tt[1],2))}function fe(Tt,L){return(Tt[0]*L[0]+Tt[1]*L[1])/(Se(Tt)*Se(L))}function be(Tt,L){return(Tt[0]*L[1]<Tt[1]*L[0]?-1:1)*Math.acos(fe(Tt,L))}function he(Tt){return Tt*Tt*Tt}function te(Tt){return 3*Tt*Tt*(1-Tt)}function ge(Tt){return 3*Tt*(1-Tt)*(1-Tt)}function Le(Tt){return(1-Tt)*(1-Tt)*(1-Tt)}function Ve(Tt){return Tt*Tt}function kt(Tt){return 2*Tt*(1-Tt)}function Bt(Tt){return(1-Tt)*(1-Tt)}class We{constructor(L,G,J){this.document=L,this.name=G,this.value=J,this.isNormalizedColor=!1}static empty(L){return new We(L,"EMPTY","")}split(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:G,name:J}=this;return z(this.getString()).trim().split(L).map(E=>new We(G,J,E))}hasValue(L){var{value:G}=this;return G!==null&&G!==""&&(L||G!==0)&&typeof G<"u"}isString(L){var{value:G}=this,J=typeof G=="string";return!J||!L?J:L.test(G)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var L=this.getString();switch(!0){case L.endsWith("px"):case/^[0-9]+$/.test(L):return!0;default:return!1}}setValue(L){return this.value=L,this}getValue(L){return typeof L>"u"||this.hasValue()?this.value:L}getNumber(L){if(!this.hasValue())return typeof L>"u"?0:parseFloat(L);var{value:G}=this,J=parseFloat(G);return this.isString(/%$/)&&(J/=100),J}getString(L){return typeof L>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(L)}getColor(L){var G=this.getString(L);return this.isNormalizedColor||(this.isNormalizedColor=!0,G=Ne(G),this.value=G),G}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[J,E]=typeof L=="boolean"?[void 0,L]:[L],{viewPort:M}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(M.computeSize("x"),M.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(M.computeSize("x"),M.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*M.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*M.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&E):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*M.computeSize(J);default:{var $=this.getNumber();return G&&$<1?$*M.computeSize(J):$}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var L=this.getString(),G=/#([^)'"]+)/.exec(L);return G&&(G=G[1]),G||(G=L),this.document.definitions[G]}getFillStyleDefinition(L,G){var J=this.getDefinition();if(!J)return null;if(typeof J.createGradient=="function")return J.createGradient(this.document.ctx,L,G);if(typeof J.createPattern=="function"){if(J.getHrefAttribute().hasValue()){var E=J.getAttribute("patternTransform");J=J.getHrefAttribute().getDefinition(),E.hasValue()&&J.getAttribute("patternTransform",!0).setValue(E.value)}return J.createPattern(this.document.ctx,L,G)}return null}getTextBaseline(){return this.hasValue()?We.textBaselineMapping[this.getString()]:null}addOpacity(L){for(var G=this.getColor(),J=G.length,E=0,M=0;M<J&&(G[M]===","&&E++,E!==3);M++);if(L.hasValue()&&this.isString()&&E!==3){var $=new x(G);$.ok&&($.alpha=L.getNumber(),G=$.toRGBA())}return new We(this.document,this.name,G)}}We.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Lt{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(L,G){this.viewPorts.push({width:L,height:G})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:L}=this;return L[L.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(L){return typeof L=="number"?L:L==="x"?this.width:L==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class $t{constructor(L,G){this.x=L,this.y=G}static parse(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[J=G,E=G]=Q(L);return new $t(J,E)}static parseScale(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[J=G,E=J]=Q(L);return new $t(J,E)}static parsePath(L){for(var G=Q(L),J=G.length,E=[],M=0;M<J;M+=2)E.push(new $t(G[M],G[M+1]));return E}angleTo(L){return Math.atan2(L.y-this.y,L.x-this.x)}applyTransform(L){var{x:G,y:J}=this,E=G*L[0]+J*L[2]+L[4],M=G*L[1]+J*L[3]+L[5];this.x=E,this.y=M}}class ls{constructor(L){this.screen=L,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:L,onClick:G,onMouseMove:J}=this,E=L.ctx.canvas;E.onclick=G,E.onmousemove=J,this.working=!0}}stop(){if(this.working){var L=this.screen.ctx.canvas;this.working=!1,L.onclick=null,L.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:L,events:G,eventElements:J}=this,{style:E}=L.ctx.canvas;E&&(E.cursor=""),G.forEach((M,$)=>{for(var{run:ie}=M,ye=J[$];ye;)ie(ye),ye=ye.parent}),this.events=[],this.eventElements=[]}}checkPath(L,G){if(!(!this.working||!G)){var{events:J,eventElements:E}=this;J.forEach((M,$)=>{var{x:ie,y:ye}=M;!E[$]&&G.isPointInPath&&G.isPointInPath(ie,ye)&&(E[$]=L)})}}checkBoundingBox(L,G){if(!(!this.working||!G)){var{events:J,eventElements:E}=this;J.forEach((M,$)=>{var{x:ie,y:ye}=M;!E[$]&&G.isPointInBox(ie,ye)&&(E[$]=L)})}}mapXY(L,G){for(var{window:J,ctx:E}=this.screen,M=new $t(L,G),$=E.canvas;$;)M.x-=$.offsetLeft,M.y-=$.offsetTop,$=$.offsetParent;return J.scrollX&&(M.x+=J.scrollX),J.scrollY&&(M.y+=J.scrollY),M}onClick(L){var{x:G,y:J}=this.mapXY(L.clientX,L.clientY);this.events.push({type:"onclick",x:G,y:J,run(E){E.onClick&&E.onClick()}})}onMouseMove(L){var{x:G,y:J}=this.mapXY(L.clientX,L.clientY);this.events.push({type:"onmousemove",x:G,y:J,run(E){E.onMouseMove&&E.onMouseMove()}})}}var Ts=typeof window<"u"?window:null,Pe=typeof fetch<"u"?fetch.bind(void 0):null;class ut{constructor(L){var{fetch:G=Pe,window:J=Ts}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=L,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Lt,this.mouse=new ls(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=J,this.fetch=G}wait(L){this.waits.push(L)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var L=this.waits.every(G=>G());return L&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=L,L}setDefaults(L){L.strokeStyle="rgba(0,0,0,0)",L.lineCap="butt",L.lineJoin="miter",L.miterLimit=4}setViewBox(L){var{document:G,ctx:J,aspectRatio:E,width:M,desiredWidth:$,height:ie,desiredHeight:ye,minX:Re=0,minY:Ze=0,refX:N,refY:v,clip:S=!1,clipX:I=0,clipY:P=0}=L,V=z(E).replace(/^defer\s/,""),[de,q]=V.split(" "),ee=de||"xMidYMid",ke=q||"meet",Me=M/$,$e=ie/ye,Je=Math.min(Me,$e),xe=Math.max(Me,$e),ct=$,ot=ye;ke==="meet"&&(ct*=Je,ot*=Je),ke==="slice"&&(ct*=xe,ot*=xe);var At=new We(G,"refX",N),Ye=new We(G,"refY",v),wt=At.hasValue()&&Ye.hasValue();if(wt&&J.translate(-Je*At.getPixels("x"),-Je*Ye.getPixels("y")),S){var Rt=Je*I,gt=Je*P;J.beginPath(),J.moveTo(Rt,gt),J.lineTo(M,gt),J.lineTo(M,ie),J.lineTo(Rt,ie),J.closePath(),J.clip()}if(!wt){var Ge=ke==="meet"&&Je===$e,Mt=ke==="slice"&&xe===$e,is=ke==="meet"&&Je===Me,Ht=ke==="slice"&&xe===Me;ee.startsWith("xMid")&&(Ge||Mt)&&J.translate(M/2-ct/2,0),ee.endsWith("YMid")&&(is||Ht)&&J.translate(0,ie/2-ot/2),ee.startsWith("xMax")&&(Ge||Mt)&&J.translate(M-ct,0),ee.endsWith("YMax")&&(is||Ht)&&J.translate(0,ie-ot)}switch(!0){case ee==="none":J.scale(Me,$e);break;case ke==="meet":J.scale(Je,Je);break;case ke==="slice":J.scale(xe,xe);break}J.translate(-Re,-Ze)}start(L){var{enableRedraw:G=!1,ignoreMouse:J=!1,ignoreAnimation:E=!1,ignoreDimensions:M=!1,ignoreClear:$=!1,forceRedraw:ie,scaleWidth:ye,scaleHeight:Re,offsetX:Ze,offsetY:N}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:v,mouse:S}=this,I=1e3/v;if(this.frameDuration=I,this.readyPromise=new Promise(ee=>{this.resolveReady=ee}),this.isReady()&&this.render(L,M,$,ye,Re,Ze,N),!!G){var P=Date.now(),V=P,de=0,q=()=>{P=Date.now(),de=P-V,de>=I&&(V=P-de%I,this.shouldUpdate(E,ie)&&(this.render(L,M,$,ye,Re,Ze,N),S.runEvents())),this.intervalId=m(q)};J||S.start(),this.intervalId=m(q)}}stop(){this.intervalId&&(m.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(L,G){if(!L){var{frameDuration:J}=this,E=this.animations.reduce((M,$)=>$.update(J)||M,!1);if(E)return!0}return!!(typeof G=="function"&&G()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(L,G,J,E,M,$,ie){var{CLIENT_WIDTH:ye,CLIENT_HEIGHT:Re,viewPort:Ze,ctx:N,isFirstRender:v}=this,S=N.canvas;Ze.clear(),S.width&&S.height?Ze.setCurrent(S.width,S.height):Ze.setCurrent(ye,Re);var I=L.getStyle("width"),P=L.getStyle("height");!G&&(v||typeof E!="number"&&typeof M!="number")&&(I.hasValue()&&(S.width=I.getPixels("x"),S.style&&(S.style.width="".concat(S.width,"px"))),P.hasValue()&&(S.height=P.getPixels("y"),S.style&&(S.style.height="".concat(S.height,"px"))));var V=S.clientWidth||S.width,de=S.clientHeight||S.height;if(G&&I.hasValue()&&P.hasValue()&&(V=I.getPixels("x"),de=P.getPixels("y")),Ze.setCurrent(V,de),typeof $=="number"&&L.getAttribute("x",!0).setValue($),typeof ie=="number"&&L.getAttribute("y",!0).setValue(ie),typeof E=="number"||typeof M=="number"){var q=Q(L.getAttribute("viewBox").getString()),ee=0,ke=0;if(typeof E=="number"){var Me=L.getStyle("width");Me.hasValue()?ee=Me.getPixels("x")/E:isNaN(q[2])||(ee=q[2]/E)}if(typeof M=="number"){var $e=L.getStyle("height");$e.hasValue()?ke=$e.getPixels("y")/M:isNaN(q[3])||(ke=q[3]/M)}ee||(ee=ke),ke||(ke=ee),L.getAttribute("width",!0).setValue(E),L.getAttribute("height",!0).setValue(M);var Je=L.getStyle("transform",!0,!0);Je.setValue("".concat(Je.getString()," scale(").concat(1/ee,", ").concat(1/ke,")"))}J||N.clearRect(0,0,V,de),L.render(N),v&&(this.isFirstRender=!1)}}ut.defaultWindow=Ts,ut.defaultFetch=Pe;var{defaultFetch:St}=ut,Is=typeof DOMParser<"u"?DOMParser:null;class us{constructor(){var{fetch:L=St,DOMParser:G=Is}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=L,this.DOMParser=G}parse(L){var G=this;return(0,f.default)(function*(){return L.startsWith("<")?G.parseFromString(L):G.load(L)})()}parseFromString(L){var G=new this.DOMParser;try{return this.checkDocument(G.parseFromString(L,"image/svg+xml"))}catch{return this.checkDocument(G.parseFromString(L,"text/xml"))}}checkDocument(L){var G=L.getElementsByTagName("parsererror")[0];if(G)throw new Error(G.textContent);return L}load(L){var G=this;return(0,f.default)(function*(){var J=yield G.fetch(L),E=yield J.text();return G.parseFromString(E)})()}}class br{constructor(L,G){this.type="translate",this.point=null,this.point=$t.parse(G)}apply(L){var{x:G,y:J}=this.point;L.translate(G||0,J||0)}unapply(L){var{x:G,y:J}=this.point;L.translate(-1*G||0,-1*J||0)}applyToPoint(L){var{x:G,y:J}=this.point;L.applyTransform([1,0,0,1,G||0,J||0])}}class hr{constructor(L,G,J){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var E=Q(G);this.angle=new We(L,"angle",E[0]),this.originX=J[0],this.originY=J[1],this.cx=E[1]||0,this.cy=E[2]||0}apply(L){var{cx:G,cy:J,originX:E,originY:M,angle:$}=this,ie=G+E.getPixels("x"),ye=J+M.getPixels("y");L.translate(ie,ye),L.rotate($.getRadians()),L.translate(-ie,-ye)}unapply(L){var{cx:G,cy:J,originX:E,originY:M,angle:$}=this,ie=G+E.getPixels("x"),ye=J+M.getPixels("y");L.translate(ie,ye),L.rotate(-1*$.getRadians()),L.translate(-ie,-ye)}applyToPoint(L){var{cx:G,cy:J,angle:E}=this,M=E.getRadians();L.applyTransform([1,0,0,1,G||0,J||0]),L.applyTransform([Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0]),L.applyTransform([1,0,0,1,-G||0,-J||0])}}class ar{constructor(L,G,J){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var E=$t.parseScale(G);(E.x===0||E.y===0)&&(E.x=De,E.y=De),this.scale=E,this.originX=J[0],this.originY=J[1]}apply(L){var{scale:{x:G,y:J},originX:E,originY:M}=this,$=E.getPixels("x"),ie=M.getPixels("y");L.translate($,ie),L.scale(G,J||G),L.translate(-$,-ie)}unapply(L){var{scale:{x:G,y:J},originX:E,originY:M}=this,$=E.getPixels("x"),ie=M.getPixels("y");L.translate($,ie),L.scale(1/G,1/J||G),L.translate(-$,-ie)}applyToPoint(L){var{x:G,y:J}=this.scale;L.applyTransform([G||0,0,0,J||0,0,0])}}class Fs{constructor(L,G,J){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=Q(G),this.originX=J[0],this.originY=J[1]}apply(L){var{originX:G,originY:J,matrix:E}=this,M=G.getPixels("x"),$=J.getPixels("y");L.translate(M,$),L.transform(E[0],E[1],E[2],E[3],E[4],E[5]),L.translate(-M,-$)}unapply(L){var{originX:G,originY:J,matrix:E}=this,M=E[0],$=E[2],ie=E[4],ye=E[1],Re=E[3],Ze=E[5],N=0,v=0,S=1,I=1/(M*(Re*S-Ze*v)-$*(ye*S-Ze*N)+ie*(ye*v-Re*N)),P=G.getPixels("x"),V=J.getPixels("y");L.translate(P,V),L.transform(I*(Re*S-Ze*v),I*(Ze*N-ye*S),I*(ie*v-$*S),I*(M*S-ie*N),I*($*Ze-ie*Re),I*(ie*ye-M*Ze)),L.translate(-P,-V)}applyToPoint(L){L.applyTransform(this.matrix)}}class Cs extends Fs{constructor(L,G,J){super(L,G,J),this.type="skew",this.angle=null,this.angle=new We(L,"angle",G)}}class Bs extends Cs{constructor(L,G,J){super(L,G,J),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class vr extends Cs{constructor(L,G,J){super(L,G,J),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function gr(Tt){return z(Tt).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function en(Tt){var[L,G]=Tt.split("(");return[L.trim(),G.trim().replace(")","")]}class Nr{constructor(L,G,J){this.document=L,this.transforms=[];var E=gr(G);E.forEach(M=>{if(M!=="none"){var[$,ie]=en(M),ye=Nr.transformTypes[$];typeof ye<"u"&&this.transforms.push(new ye(this.document,ie,J))}})}static fromElement(L,G){var J=G.getStyle("transform",!1,!0),[E,M=E]=G.getStyle("transform-origin",!1,!0).split(),$=[E,M];return J.hasValue()?new Nr(L,J.getString(),$):null}apply(L){for(var{transforms:G}=this,J=G.length,E=0;E<J;E++)G[E].apply(L)}unapply(L){for(var{transforms:G}=this,J=G.length,E=J-1;E>=0;E--)G[E].unapply(L)}applyToPoint(L){for(var{transforms:G}=this,J=G.length,E=0;E<J;E++)G[E].applyToPoint(L)}}Nr.transformTypes={translate:br,rotate:hr,scale:ar,matrix:Fs,skewX:Bs,skewY:vr};class er{constructor(L,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=L,this.node=G,this.captureTextNodes=J,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!G||G.nodeType!==1)){if(Array.from(G.attributes).forEach(ie=>{var ye=ce(ie.nodeName);this.attributes[ye]=new We(L,ye,ie.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var E=this.getAttribute("style").getString().split(";").map(ie=>ie.trim());E.forEach(ie=>{if(ie){var[ye,Re]=ie.split(":").map(Ze=>Ze.trim());this.styles[ye]=new We(L,ye,Re)}})}var{definitions:M}=L,$=this.getAttribute("id");$.hasValue()&&(M[$.getString()]||(M[$.getString()]=this)),Array.from(G.childNodes).forEach(ie=>{if(ie.nodeType===1)this.addChild(ie);else if(J&&(ie.nodeType===3||ie.nodeType===4)){var ye=L.createTextNode(ie);ye.getText().length>0&&this.addChild(ye)}})}}getAttribute(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,J=this.attributes[L];if(!J&&G){var E=new We(this.document,L,"");return this.attributes[L]=E,E}return J||We.empty(this.document)}getHrefAttribute(){for(var L in this.attributes)if(L==="href"||L.endsWith(":href"))return this.attributes[L];return We.empty(this.document)}getStyle(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,E=this.styles[L];if(E)return E;var M=this.getAttribute(L);if(M!=null&&M.hasValue())return this.styles[L]=M,M;if(!J){var{parent:$}=this;if($){var ie=$.getStyle(L);if(ie!=null&&ie.hasValue())return ie}}if(G){var ye=new We(this.document,L,"");return this.styles[L]=ye,ye}return E||We.empty(this.document)}render(L){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(L.save(),this.getStyle("mask").hasValue()){var G=this.getStyle("mask").getDefinition();G&&(this.applyEffects(L),G.apply(L,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var J=this.getStyle("filter").getDefinition();J&&(this.applyEffects(L),J.apply(L,this))}else this.setContext(L),this.renderChildren(L),this.clearContext(L);L.restore()}}setContext(L){}applyEffects(L){var G=Nr.fromElement(this.document,this);G&&G.apply(L);var J=this.getStyle("clip-path",!1,!0);if(J.hasValue()){var E=J.getDefinition();E&&E.apply(L)}}clearContext(L){}renderChildren(L){this.children.forEach(G=>{G.render(L)})}addChild(L){var G=L instanceof er?L:this.document.createElement(L);G.parent=this,er.ignoreChildTypes.includes(G.type)||this.children.push(G)}matchesSelector(L){var G,{node:J}=this;if(typeof J.matches=="function")return J.matches(L);var E=(G=J.getAttribute)===null||G===void 0?void 0:G.call(J,"class");return!E||E===""?!1:E.split(" ").some(M=>".".concat(M)===L)}addStylesFromStyleDefinition(){var{styles:L,stylesSpecificity:G}=this.document;for(var J in L)if(!J.startsWith("@")&&this.matchesSelector(J)){var E=L[J],M=G[J];if(E)for(var $ in E){var ie=this.stylesSpecificity[$];typeof ie>"u"&&(ie="000"),M>=ie&&(this.styles[$]=E[$],this.stylesSpecificity[$]=M)}}}removeStyles(L,G){var J=G.reduce((E,M)=>{var $=L.getStyle(M);if(!$.hasValue())return E;var ie=$.getString();return $.setValue(""),[...E,[M,ie]]},[]);return J}restoreStyles(L,G){G.forEach(J=>{var[E,M]=J;L.getStyle(E,!0).setValue(M)})}isFirstChild(){var L;return((L=this.parent)===null||L===void 0?void 0:L.children.indexOf(this))===0}}er.ignoreChildTypes=["title"];class Ys extends er{constructor(L,G,J){super(L,G,J)}}function Es(Tt){var L=Tt.trim();return/^('|")/.test(L)?L:'"'.concat(L,'"')}function ft(Tt){return typeof process>"u"?Tt:Tt.trim().split(",").map(Es).join(",")}function Vt(Tt){if(!Tt)return"";var L=Tt.trim().toLowerCase();switch(L){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return L;default:return/^oblique\s+(-|)\d+deg$/.test(L)?L:""}}function js(Tt){if(!Tt)return"";var L=Tt.trim().toLowerCase();switch(L){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return L;default:return/^[\d.]+$/.test(L)?L:""}}class Vs{constructor(L,G,J,E,M,$){var ie=$?typeof $=="string"?Vs.parse($):$:{};this.fontFamily=M||ie.fontFamily,this.fontSize=E||ie.fontSize,this.fontStyle=L||ie.fontStyle,this.fontWeight=J||ie.fontWeight,this.fontVariant=G||ie.fontVariant}static parse(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",G=arguments.length>1?arguments[1]:void 0,J="",E="",M="",$="",ie="",ye=z(L).trim().split(" "),Re={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return ye.forEach(Ze=>{switch(!0){case(!Re.fontStyle&&Vs.styles.includes(Ze)):Ze!=="inherit"&&(J=Ze),Re.fontStyle=!0;break;case(!Re.fontVariant&&Vs.variants.includes(Ze)):Ze!=="inherit"&&(E=Ze),Re.fontStyle=!0,Re.fontVariant=!0;break;case(!Re.fontWeight&&Vs.weights.includes(Ze)):Ze!=="inherit"&&(M=Ze),Re.fontStyle=!0,Re.fontVariant=!0,Re.fontWeight=!0;break;case!Re.fontSize:Ze!=="inherit"&&([$]=Ze.split("/")),Re.fontStyle=!0,Re.fontVariant=!0,Re.fontWeight=!0,Re.fontSize=!0;break;default:Ze!=="inherit"&&(ie+=Ze)}}),new Vs(J,E,M,$,ie,G)}toString(){return[Vt(this.fontStyle),this.fontVariant,js(this.fontWeight),this.fontSize,ft(this.fontFamily)].join(" ").trim()}}Vs.styles="normal|italic|oblique|inherit",Vs.variants="normal|small-caps|inherit",Vs.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class or{constructor(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=L,this.y1=G,this.x2=J,this.y2=E,this.addPoint(L,G),this.addPoint(J,E)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(L,G){typeof L<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=L,this.x2=L),L<this.x1&&(this.x1=L),L>this.x2&&(this.x2=L)),typeof G<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=G,this.y2=G),G<this.y1&&(this.y1=G),G>this.y2&&(this.y2=G))}addX(L){this.addPoint(L,null)}addY(L){this.addPoint(null,L)}addBoundingBox(L){if(L){var{x1:G,y1:J,x2:E,y2:M}=L;this.addPoint(G,J),this.addPoint(E,M)}}sumCubic(L,G,J,E,M){return Math.pow(1-L,3)*G+3*Math.pow(1-L,2)*L*J+3*(1-L)*Math.pow(L,2)*E+Math.pow(L,3)*M}bezierCurveAdd(L,G,J,E,M){var $=6*G-12*J+6*E,ie=-3*G+9*J-9*E+3*M,ye=3*J-3*G;if(ie===0){if($===0)return;var Re=-ye/$;0<Re&&Re<1&&(L?this.addX(this.sumCubic(Re,G,J,E,M)):this.addY(this.sumCubic(Re,G,J,E,M)));return}var Ze=Math.pow($,2)-4*ye*ie;if(!(Ze<0)){var N=(-$+Math.sqrt(Ze))/(2*ie);0<N&&N<1&&(L?this.addX(this.sumCubic(N,G,J,E,M)):this.addY(this.sumCubic(N,G,J,E,M)));var v=(-$-Math.sqrt(Ze))/(2*ie);0<v&&v<1&&(L?this.addX(this.sumCubic(v,G,J,E,M)):this.addY(this.sumCubic(v,G,J,E,M)))}}addBezierCurve(L,G,J,E,M,$,ie,ye){this.addPoint(L,G),this.addPoint(ie,ye),this.bezierCurveAdd(!0,L,J,M,ie),this.bezierCurveAdd(!1,G,E,$,ye)}addQuadraticCurve(L,G,J,E,M,$){var ie=L+.6666666666666666*(J-L),ye=G+2/3*(E-G),Re=ie+1/3*(M-L),Ze=ye+1/3*($-G);this.addBezierCurve(L,G,ie,Re,ye,Ze,M,$)}isPointInBox(L,G){var{x1:J,y1:E,x2:M,y2:$}=this;return J<=L&&L<=M&&E<=G&&G<=$}}class yt extends b.SVGPathData{constructor(L){super(L.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new $t(0,0),this.control=new $t(0,0),this.current=new $t(0,0),this.points=[],this.angles=[]}isEnd(){var{i:L,commands:G}=this;return L>=G.length-1}next(){var L=this.commands[++this.i];return this.previousCommand=this.command,this.command=L,L}getPoint(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",J=new $t(this.command[L],this.command[G]);return this.makeAbsolute(J)}getAsControlPoint(L,G){var J=this.getPoint(L,G);return this.control=J,J}getAsCurrentPoint(L,G){var J=this.getPoint(L,G);return this.current=J,J}getReflectedControlPoint(){var L=this.previousCommand.type;if(L!==b.SVGPathData.CURVE_TO&&L!==b.SVGPathData.SMOOTH_CURVE_TO&&L!==b.SVGPathData.QUAD_TO&&L!==b.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:G,y:J},control:{x:E,y:M}}=this,$=new $t(2*G-E,2*J-M);return $}makeAbsolute(L){if(this.command.relative){var{x:G,y:J}=this.current;L.x+=G,L.y+=J}return L}addMarker(L,G,J){var{points:E,angles:M}=this;J&&M.length>0&&!M[M.length-1]&&(M[M.length-1]=E[E.length-1].angleTo(J)),this.addMarkerAngle(L,G?G.angleTo(L):null)}addMarkerAngle(L,G){this.points.push(L),this.angles.push(G)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:L}=this,G=L.length,J=0;J<G;J++)if(!L[J]){for(var E=J+1;E<G;E++)if(L[E]){L[J]=L[E];break}}return L}}class qt extends er{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var L=1,G=this;G;){var J=G.getStyle("opacity",!1,!0);J.hasValue(!0)&&(L*=J.getNumber()),G=G.parent}return L}setContext(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!G){var J=this.getStyle("fill"),E=this.getStyle("fill-opacity"),M=this.getStyle("stroke"),$=this.getStyle("stroke-opacity");if(J.isUrlDefinition()){var ie=J.getFillStyleDefinition(this,E);ie&&(L.fillStyle=ie)}else if(J.hasValue()){J.getString()==="currentColor"&&J.setValue(this.getStyle("color").getColor());var ye=J.getColor();ye!=="inherit"&&(L.fillStyle=ye==="none"?"rgba(0,0,0,0)":ye)}if(E.hasValue()){var Re=new We(this.document,"fill",L.fillStyle).addOpacity(E).getColor();L.fillStyle=Re}if(M.isUrlDefinition()){var Ze=M.getFillStyleDefinition(this,$);Ze&&(L.strokeStyle=Ze)}else if(M.hasValue()){M.getString()==="currentColor"&&M.setValue(this.getStyle("color").getColor());var N=M.getString();N!=="inherit"&&(L.strokeStyle=N==="none"?"rgba(0,0,0,0)":N)}if($.hasValue()){var v=new We(this.document,"stroke",L.strokeStyle).addOpacity($).getString();L.strokeStyle=v}var S=this.getStyle("stroke-width");if(S.hasValue()){var I=S.getPixels();L.lineWidth=I||De}var P=this.getStyle("stroke-linecap"),V=this.getStyle("stroke-linejoin"),de=this.getStyle("stroke-miterlimit"),q=this.getStyle("stroke-dasharray"),ee=this.getStyle("stroke-dashoffset");if(P.hasValue()&&(L.lineCap=P.getString()),V.hasValue()&&(L.lineJoin=V.getString()),de.hasValue()&&(L.miterLimit=de.getNumber()),q.hasValue()&&q.getString()!=="none"){var ke=Q(q.getString());typeof L.setLineDash<"u"?L.setLineDash(ke):typeof L.webkitLineDash<"u"?L.webkitLineDash=ke:typeof L.mozDash<"u"&&!(ke.length===1&&ke[0]===0)&&(L.mozDash=ke);var Me=ee.getPixels();typeof L.lineDashOffset<"u"?L.lineDashOffset=Me:typeof L.webkitLineDashOffset<"u"?L.webkitLineDashOffset=Me:typeof L.mozDashOffset<"u"&&(L.mozDashOffset=Me)}}if(this.modifiedEmSizeStack=!1,typeof L.font<"u"){var $e=this.getStyle("font"),Je=this.getStyle("font-style"),xe=this.getStyle("font-variant"),ct=this.getStyle("font-weight"),ot=this.getStyle("font-size"),At=this.getStyle("font-family"),Ye=new Vs(Je.getString(),xe.getString(),ct.getString(),ot.hasValue()?"".concat(ot.getPixels(!0),"px"):"",At.getString(),Vs.parse($e.getString(),L.font));Je.setValue(Ye.fontStyle),xe.setValue(Ye.fontVariant),ct.setValue(Ye.fontWeight),ot.setValue(Ye.fontSize),At.setValue(Ye.fontFamily),L.font=Ye.toString(),ot.isPixels()&&(this.document.emSize=ot.getPixels(),this.modifiedEmSizeStack=!0)}G||(this.applyEffects(L),L.globalAlpha=this.calculateOpacity())}clearContext(L){super.clearContext(L),this.modifiedEmSizeStack&&this.document.popEmSize()}}class As extends qt{constructor(L,G,J){super(L,G,J),this.type="path",this.pathParser=null,this.pathParser=new yt(this.getAttribute("d").getString())}path(L){var{pathParser:G}=this,J=new or;for(G.reset(),L&&L.beginPath();!G.isEnd();)switch(G.next().type){case yt.MOVE_TO:this.pathM(L,J);break;case yt.LINE_TO:this.pathL(L,J);break;case yt.HORIZ_LINE_TO:this.pathH(L,J);break;case yt.VERT_LINE_TO:this.pathV(L,J);break;case yt.CURVE_TO:this.pathC(L,J);break;case yt.SMOOTH_CURVE_TO:this.pathS(L,J);break;case yt.QUAD_TO:this.pathQ(L,J);break;case yt.SMOOTH_QUAD_TO:this.pathT(L,J);break;case yt.ARC:this.pathA(L,J);break;case yt.CLOSE_PATH:this.pathZ(L,J);break}return J}getBoundingBox(L){return this.path()}getMarkers(){var{pathParser:L}=this,G=L.getMarkerPoints(),J=L.getMarkerAngles(),E=G.map((M,$)=>[M,J[$]]);return E}renderChildren(L){this.path(L),this.document.screen.mouse.checkPath(this,L);var G=this.getStyle("fill-rule");L.fillStyle!==""&&(G.getString("inherit")!=="inherit"?L.fill(G.getString()):L.fill()),L.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(L.save(),L.setTransform(1,0,0,1,0,0),L.stroke(),L.restore()):L.stroke());var J=this.getMarkers();if(J){var E=J.length-1,M=this.getStyle("marker-start"),$=this.getStyle("marker-mid"),ie=this.getStyle("marker-end");if(M.isUrlDefinition()){var ye=M.getDefinition(),[Re,Ze]=J[0];ye.render(L,Re,Ze)}if($.isUrlDefinition())for(var N=$.getDefinition(),v=1;v<E;v++){var[S,I]=J[v];N.render(L,S,I)}if(ie.isUrlDefinition()){var P=ie.getDefinition(),[V,de]=J[E];P.render(L,V,de)}}}static pathM(L){var G=L.getAsCurrentPoint();return L.start=L.current,{point:G}}pathM(L,G){var{pathParser:J}=this,{point:E}=As.pathM(J),{x:M,y:$}=E;J.addMarker(E),G.addPoint(M,$),L&&L.moveTo(M,$)}static pathL(L){var{current:G}=L,J=L.getAsCurrentPoint();return{current:G,point:J}}pathL(L,G){var{pathParser:J}=this,{current:E,point:M}=As.pathL(J),{x:$,y:ie}=M;J.addMarker(M,E),G.addPoint($,ie),L&&L.lineTo($,ie)}static pathH(L){var{current:G,command:J}=L,E=new $t((J.relative?G.x:0)+J.x,G.y);return L.current=E,{current:G,point:E}}pathH(L,G){var{pathParser:J}=this,{current:E,point:M}=As.pathH(J),{x:$,y:ie}=M;J.addMarker(M,E),G.addPoint($,ie),L&&L.lineTo($,ie)}static pathV(L){var{current:G,command:J}=L,E=new $t(G.x,(J.relative?G.y:0)+J.y);return L.current=E,{current:G,point:E}}pathV(L,G){var{pathParser:J}=this,{current:E,point:M}=As.pathV(J),{x:$,y:ie}=M;J.addMarker(M,E),G.addPoint($,ie),L&&L.lineTo($,ie)}static pathC(L){var{current:G}=L,J=L.getPoint("x1","y1"),E=L.getAsControlPoint("x2","y2"),M=L.getAsCurrentPoint();return{current:G,point:J,controlPoint:E,currentPoint:M}}pathC(L,G){var{pathParser:J}=this,{current:E,point:M,controlPoint:$,currentPoint:ie}=As.pathC(J);J.addMarker(ie,$,M),G.addBezierCurve(E.x,E.y,M.x,M.y,$.x,$.y,ie.x,ie.y),L&&L.bezierCurveTo(M.x,M.y,$.x,$.y,ie.x,ie.y)}static pathS(L){var{current:G}=L,J=L.getReflectedControlPoint(),E=L.getAsControlPoint("x2","y2"),M=L.getAsCurrentPoint();return{current:G,point:J,controlPoint:E,currentPoint:M}}pathS(L,G){var{pathParser:J}=this,{current:E,point:M,controlPoint:$,currentPoint:ie}=As.pathS(J);J.addMarker(ie,$,M),G.addBezierCurve(E.x,E.y,M.x,M.y,$.x,$.y,ie.x,ie.y),L&&L.bezierCurveTo(M.x,M.y,$.x,$.y,ie.x,ie.y)}static pathQ(L){var{current:G}=L,J=L.getAsControlPoint("x1","y1"),E=L.getAsCurrentPoint();return{current:G,controlPoint:J,currentPoint:E}}pathQ(L,G){var{pathParser:J}=this,{current:E,controlPoint:M,currentPoint:$}=As.pathQ(J);J.addMarker($,M,M),G.addQuadraticCurve(E.x,E.y,M.x,M.y,$.x,$.y),L&&L.quadraticCurveTo(M.x,M.y,$.x,$.y)}static pathT(L){var{current:G}=L,J=L.getReflectedControlPoint();L.control=J;var E=L.getAsCurrentPoint();return{current:G,controlPoint:J,currentPoint:E}}pathT(L,G){var{pathParser:J}=this,{current:E,controlPoint:M,currentPoint:$}=As.pathT(J);J.addMarker($,M,M),G.addQuadraticCurve(E.x,E.y,M.x,M.y,$.x,$.y),L&&L.quadraticCurveTo(M.x,M.y,$.x,$.y)}static pathA(L){var{current:G,command:J}=L,{rX:E,rY:M,xRot:$,lArcFlag:ie,sweepFlag:ye}=J,Re=$*(Math.PI/180),Ze=L.getAsCurrentPoint(),N=new $t(Math.cos(Re)*(G.x-Ze.x)/2+Math.sin(Re)*(G.y-Ze.y)/2,-Math.sin(Re)*(G.x-Ze.x)/2+Math.cos(Re)*(G.y-Ze.y)/2),v=Math.pow(N.x,2)/Math.pow(E,2)+Math.pow(N.y,2)/Math.pow(M,2);v>1&&(E*=Math.sqrt(v),M*=Math.sqrt(v));var S=(ie===ye?-1:1)*Math.sqrt((Math.pow(E,2)*Math.pow(M,2)-Math.pow(E,2)*Math.pow(N.y,2)-Math.pow(M,2)*Math.pow(N.x,2))/(Math.pow(E,2)*Math.pow(N.y,2)+Math.pow(M,2)*Math.pow(N.x,2)));isNaN(S)&&(S=0);var I=new $t(S*E*N.y/M,S*-M*N.x/E),P=new $t((G.x+Ze.x)/2+Math.cos(Re)*I.x-Math.sin(Re)*I.y,(G.y+Ze.y)/2+Math.sin(Re)*I.x+Math.cos(Re)*I.y),V=be([1,0],[(N.x-I.x)/E,(N.y-I.y)/M]),de=[(N.x-I.x)/E,(N.y-I.y)/M],q=[(-N.x-I.x)/E,(-N.y-I.y)/M],ee=be(de,q);return fe(de,q)<=-1&&(ee=Math.PI),fe(de,q)>=1&&(ee=0),{currentPoint:Ze,rX:E,rY:M,sweepFlag:ye,xAxisRotation:Re,centp:P,a1:V,ad:ee}}pathA(L,G){var{pathParser:J}=this,{currentPoint:E,rX:M,rY:$,sweepFlag:ie,xAxisRotation:ye,centp:Re,a1:Ze,ad:N}=As.pathA(J),v=1-ie?1:-1,S=Ze+v*(N/2),I=new $t(Re.x+M*Math.cos(S),Re.y+$*Math.sin(S));if(J.addMarkerAngle(I,S-v*Math.PI/2),J.addMarkerAngle(E,S-v*Math.PI),G.addPoint(E.x,E.y),L&&!isNaN(Ze)&&!isNaN(N)){var P=M>$?M:$,V=M>$?1:M/$,de=M>$?$/M:1;L.translate(Re.x,Re.y),L.rotate(ye),L.scale(V,de),L.arc(0,0,P,Ze,Ze+N,!!(1-ie)),L.scale(1/V,1/de),L.rotate(-ye),L.translate(-Re.x,-Re.y)}}static pathZ(L){L.current=L.start}pathZ(L,G){As.pathZ(this.pathParser),L&&G.x1!==G.x2&&G.y1!==G.y2&&L.closePath()}}class hs extends As{constructor(L,G,J){super(L,G,J),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class Ks extends qt{constructor(L,G,J){super(L,G,new.target===Ks?!0:J),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(L,G);var J=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();J&&(L.textBaseline=J)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(L){if(this.type!=="text")return this.getTElementBoundingBox(L);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(L);var G=null;return this.children.forEach((J,E)=>{var M=this.getChildBoundingBox(L,this,this,E);G?G.addBoundingBox(M):G=M}),G}getFontSize(){var{document:L,parent:G}=this,J=Vs.parse(L.ctx.font).fontSize,E=G.getStyle("font-size").getNumber(J);return E}getTElementBoundingBox(L){var G=this.getFontSize();return new or(this.x,this.y-G,this.x+this.measureText(L),this.y)}getGlyph(L,G,J){var E=G[J],M=null;if(L.isArabic){var $=G.length,ie=G[J-1],ye=G[J+1],Re="isolated";if((J===0||ie===" ")&&J<$-1&&ye!==" "&&(Re="terminal"),J>0&&ie!==" "&&J<$-1&&ye!==" "&&(Re="medial"),J>0&&ie!==" "&&(J===$-1||ye===" ")&&(Re="initial"),typeof L.glyphs[E]<"u"){var Ze=L.glyphs[E];M=Ze instanceof hs?Ze:Ze[Re]}}else M=L.glyphs[E];return M||(M=L.missingGlyph),M}getText(){return""}getTextFromNode(L){var G=L||this.node,J=Array.from(G.parentNode.childNodes),E=J.indexOf(G),M=J.length-1,$=z(G.textContent||"");return E===0&&($=X($)),E===M&&($=Y($)),$}renderChildren(L){if(this.type!=="text"){this.renderTElementChildren(L);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(L),this.children.forEach((J,E)=>{this.renderChild(L,this,this,E)});var{mouse:G}=this.document.screen;G.isWorking()&&G.checkBoundingBox(this,this.getBoundingBox(L))}renderTElementChildren(L){var{document:G,parent:J}=this,E=this.getText(),M=J.getStyle("font-family").getDefinition();if(M){for(var{unitsPerEm:$}=M.fontFace,ie=Vs.parse(G.ctx.font),ye=J.getStyle("font-size").getNumber(ie.fontSize),Re=J.getStyle("font-style").getString(ie.fontStyle),Ze=ye/$,N=M.isRTL?E.split("").reverse().join(""):E,v=Q(J.getAttribute("dx").getString()),S=N.length,I=0;I<S;I++){var P=this.getGlyph(M,N,I);L.translate(this.x,this.y),L.scale(Ze,-Ze);var V=L.lineWidth;L.lineWidth=L.lineWidth*$/ye,Re==="italic"&&L.transform(1,0,.4,1,0,0),P.render(L),Re==="italic"&&L.transform(1,0,-.4,1,0,0),L.lineWidth=V,L.scale(1/Ze,-1/Ze),L.translate(-this.x,-this.y),this.x+=ye*(P.horizAdvX||M.horizAdvX)/$,typeof v[I]<"u"&&!isNaN(v[I])&&(this.x+=v[I])}return}var{x:de,y:q}=this;L.fillStyle&&L.fillText(E,de,q),L.strokeStyle&&L.strokeText(E,de,q)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var L=this.leafTexts[this.textChunkStart],G=L.getStyle("text-anchor").getString("start"),J=!1,E=0;G==="start"&&!J||G==="end"&&J?E=L.x-this.minX:G==="end"&&!J||G==="start"&&J?E=L.x-this.maxX:E=L.x-(this.minX+this.maxX)/2;for(var M=this.textChunkStart;M<this.leafTexts.length;M++)this.leafTexts[M].x+=E;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(L){this.children.forEach((G,J)=>{this.adjustChildCoordinatesRecursiveCore(L,this,this,J)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(L,G,J,E){var M=J.children[E];M.children.length>0?M.children.forEach(($,ie)=>{G.adjustChildCoordinatesRecursiveCore(L,G,M,ie)}):this.adjustChildCoordinates(L,G,J,E)}adjustChildCoordinates(L,G,J,E){var M=J.children[E];if(typeof M.measureText!="function")return M;L.save(),M.setContext(L,!0);var $=M.getAttribute("x"),ie=M.getAttribute("y"),ye=M.getAttribute("dx"),Re=M.getAttribute("dy"),Ze=M.getStyle("font-family").getDefinition(),N=!!Ze&&Ze.isRTL;E===0&&($.hasValue()||$.setValue(M.getInheritedAttribute("x")),ie.hasValue()||ie.setValue(M.getInheritedAttribute("y")),ye.hasValue()||ye.setValue(M.getInheritedAttribute("dx")),Re.hasValue()||Re.setValue(M.getInheritedAttribute("dy")));var v=M.measureText(L);return N&&(G.x-=v),$.hasValue()?(G.applyAnchoring(),M.x=$.getPixels("x"),ye.hasValue()&&(M.x+=ye.getPixels("x"))):(ye.hasValue()&&(G.x+=ye.getPixels("x")),M.x=G.x),G.x=M.x,N||(G.x+=v),ie.hasValue()?(M.y=ie.getPixels("y"),Re.hasValue()&&(M.y+=Re.getPixels("y"))):(Re.hasValue()&&(G.y+=Re.getPixels("y")),M.y=G.y),G.y=M.y,G.leafTexts.push(M),G.minX=Math.min(G.minX,M.x,M.x+v),G.maxX=Math.max(G.maxX,M.x,M.x+v),M.clearContext(L),L.restore(),M}getChildBoundingBox(L,G,J,E){var M=J.children[E];if(typeof M.getBoundingBox!="function")return null;var $=M.getBoundingBox(L);return $?(M.children.forEach((ie,ye)=>{var Re=G.getChildBoundingBox(L,G,M,ye);$.addBoundingBox(Re)}),$):null}renderChild(L,G,J,E){var M=J.children[E];M.render(L),M.children.forEach(($,ie)=>{G.renderChild(L,G,M,ie)})}measureText(L){var{measureCache:G}=this;if(~G)return G;var J=this.getText(),E=this.measureTargetText(L,J);return this.measureCache=E,E}measureTargetText(L,G){if(!G.length)return 0;var{parent:J}=this,E=J.getStyle("font-family").getDefinition();if(E){for(var M=this.getFontSize(),$=E.isRTL?G.split("").reverse().join(""):G,ie=Q(J.getAttribute("dx").getString()),ye=$.length,Re=0,Ze=0;Ze<ye;Ze++){var N=this.getGlyph(E,$,Ze);Re+=(N.horizAdvX||E.horizAdvX)*M/E.fontFace.unitsPerEm,typeof ie[Ze]<"u"&&!isNaN(ie[Ze])&&(Re+=ie[Ze])}return Re}if(!L.measureText)return G.length*10;L.save(),this.setContext(L,!0);var{width:v}=L.measureText(G);return this.clearContext(L),L.restore(),v}getInheritedAttribute(L){for(var G=this;G instanceof Ks&&G.isFirstChild();){var J=G.parent.getAttribute(L);if(J.hasValue(!0))return J.getValue("0");G=G.parent}return null}}class $s extends Ks{constructor(L,G,J){super(L,G,new.target===$s?!0:J),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class fr extends $s{constructor(){super(...arguments),this.type="textNode"}}class tn extends qt{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(L){var G,{document:J}=this,{screen:E,window:M}=J,$=L.canvas;if(E.setDefaults(L),$.style&&typeof L.font<"u"&&M&&typeof M.getComputedStyle<"u"){L.font=M.getComputedStyle($).getPropertyValue("font");var ie=new We(J,"fontSize",Vs.parse(L.font).fontSize);ie.hasValue()&&(J.rootEmSize=ie.getPixels("y"),J.emSize=J.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:ye,height:Re}=E.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var Ze=this.getAttribute("refX"),N=this.getAttribute("refY"),v=this.getAttribute("viewBox"),S=v.hasValue()?Q(v.getString()):null,I=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",P=0,V=0,de=0,q=0;S&&(P=S[0],V=S[1]),this.root||(ye=this.getStyle("width").getPixels("x"),Re=this.getStyle("height").getPixels("y"),this.type==="marker"&&(de=P,q=V,P=0,V=0)),E.viewPort.setCurrent(ye,Re),this.node&&(!this.parent||((G=this.node.parentNode)===null||G===void 0?void 0:G.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(L),L.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),S&&(ye=S[2],Re=S[3]),J.setViewBox({ctx:L,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:E.viewPort.width,desiredWidth:ye,height:E.viewPort.height,desiredHeight:Re,minX:P,minY:V,refX:Ze.getValue(),refY:N.getValue(),clip:I,clipX:de,clipY:q}),S&&(E.viewPort.removeCurrent(),E.viewPort.setCurrent(ye,Re))}clearContext(L){super.clearContext(L),this.document.screen.viewPort.removeCurrent()}resize(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,E=this.getAttribute("width",!0),M=this.getAttribute("height",!0),$=this.getAttribute("viewBox"),ie=this.getAttribute("style"),ye=E.getNumber(0),Re=M.getNumber(0);if(J)if(typeof J=="string")this.getAttribute("preserveAspectRatio",!0).setValue(J);else{var Ze=this.getAttribute("preserveAspectRatio");Ze.hasValue()&&Ze.setValue(Ze.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(E.setValue(L),M.setValue(G),$.hasValue()||$.setValue("0 0 ".concat(ye||L," ").concat(Re||G)),ie.hasValue()){var N=this.getStyle("width"),v=this.getStyle("height");N.hasValue()&&N.setValue("".concat(L,"px")),v.hasValue()&&v.setValue("".concat(G,"px"))}}}class wa extends As{constructor(){super(...arguments),this.type="rect"}path(L){var G=this.getAttribute("x").getPixels("x"),J=this.getAttribute("y").getPixels("y"),E=this.getStyle("width",!1,!0).getPixels("x"),M=this.getStyle("height",!1,!0).getPixels("y"),$=this.getAttribute("rx"),ie=this.getAttribute("ry"),ye=$.getPixels("x"),Re=ie.getPixels("y");if($.hasValue()&&!ie.hasValue()&&(Re=ye),ie.hasValue()&&!$.hasValue()&&(ye=Re),ye=Math.min(ye,E/2),Re=Math.min(Re,M/2),L){var Ze=4*((Math.sqrt(2)-1)/3);L.beginPath(),M>0&&E>0&&(L.moveTo(G+ye,J),L.lineTo(G+E-ye,J),L.bezierCurveTo(G+E-ye+Ze*ye,J,G+E,J+Re-Ze*Re,G+E,J+Re),L.lineTo(G+E,J+M-Re),L.bezierCurveTo(G+E,J+M-Re+Ze*Re,G+E-ye+Ze*ye,J+M,G+E-ye,J+M),L.lineTo(G+ye,J+M),L.bezierCurveTo(G+ye-Ze*ye,J+M,G,J+M-Re+Ze*Re,G,J+M-Re),L.lineTo(G,J+Re),L.bezierCurveTo(G,J+Re-Ze*Re,G+ye-Ze*ye,J,G+ye,J),L.closePath())}return new or(G,J,G+E,J+M)}getMarkers(){return null}}class Us extends As{constructor(){super(...arguments),this.type="circle"}path(L){var G=this.getAttribute("cx").getPixels("x"),J=this.getAttribute("cy").getPixels("y"),E=this.getAttribute("r").getPixels();return L&&E>0&&(L.beginPath(),L.arc(G,J,E,0,Math.PI*2,!1),L.closePath()),new or(G-E,J-E,G+E,J+E)}getMarkers(){return null}}class Ds extends As{constructor(){super(...arguments),this.type="ellipse"}path(L){var G=4*((Math.sqrt(2)-1)/3),J=this.getAttribute("rx").getPixels("x"),E=this.getAttribute("ry").getPixels("y"),M=this.getAttribute("cx").getPixels("x"),$=this.getAttribute("cy").getPixels("y");return L&&J>0&&E>0&&(L.beginPath(),L.moveTo(M+J,$),L.bezierCurveTo(M+J,$+G*E,M+G*J,$+E,M,$+E),L.bezierCurveTo(M-G*J,$+E,M-J,$+G*E,M-J,$),L.bezierCurveTo(M-J,$-G*E,M-G*J,$-E,M,$-E),L.bezierCurveTo(M+G*J,$-E,M+J,$-G*E,M+J,$),L.closePath()),new or(M-J,$-E,M+J,$+E)}getMarkers(){return null}}class sr extends As{constructor(){super(...arguments),this.type="line"}getPoints(){return[new $t(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new $t(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(L){var[{x:G,y:J},{x:E,y:M}]=this.getPoints();return L&&(L.beginPath(),L.moveTo(G,J),L.lineTo(E,M)),new or(G,J,E,M)}getMarkers(){var[L,G]=this.getPoints(),J=L.angleTo(G);return[[L,J],[G,J]]}}class ms extends As{constructor(L,G,J){super(L,G,J),this.type="polyline",this.points=[],this.points=$t.parsePath(this.getAttribute("points").getString())}path(L){var{points:G}=this,[{x:J,y:E}]=G,M=new or(J,E);return L&&(L.beginPath(),L.moveTo(J,E)),G.forEach($=>{var{x:ie,y:ye}=$;M.addPoint(ie,ye),L&&L.lineTo(ie,ye)}),M}getMarkers(){var{points:L}=this,G=L.length-1,J=[];return L.forEach((E,M)=>{M!==G&&J.push([E,E.angleTo(L[M+1])])}),J.length>0&&J.push([L[L.length-1],J[J.length-1][1]]),J}}class Or extends ms{constructor(){super(...arguments),this.type="polygon"}path(L){var G=super.path(L),[{x:J,y:E}]=this.points;return L&&(L.lineTo(J,E),L.closePath()),G}}class Pr extends er{constructor(){super(...arguments),this.type="pattern"}createPattern(L,G,J){var E=this.getStyle("width").getPixels("x",!0),M=this.getStyle("height").getPixels("y",!0),$=new tn(this.document,null);$.attributes.viewBox=new We(this.document,"viewBox",this.getAttribute("viewBox").getValue()),$.attributes.width=new We(this.document,"width","".concat(E,"px")),$.attributes.height=new We(this.document,"height","".concat(M,"px")),$.attributes.transform=new We(this.document,"transform",this.getAttribute("patternTransform").getValue()),$.children=this.children;var ie=this.document.createCanvas(E,M),ye=ie.getContext("2d"),Re=this.getAttribute("x"),Ze=this.getAttribute("y");Re.hasValue()&&Ze.hasValue()&&ye.translate(Re.getPixels("x",!0),Ze.getPixels("y",!0)),J.hasValue()?this.styles["fill-opacity"]=J:Reflect.deleteProperty(this.styles,"fill-opacity");for(var N=-1;N<=1;N++)for(var v=-1;v<=1;v++)ye.save(),$.attributes.x=new We(this.document,"x",N*ie.width),$.attributes.y=new We(this.document,"y",v*ie.height),$.render(ye),ye.restore();var S=L.createPattern(ie,"repeat");return S}}class Ar extends er{constructor(){super(...arguments),this.type="marker"}render(L,G,J){if(G){var{x:E,y:M}=G,$=this.getAttribute("orient").getString("auto"),ie=this.getAttribute("markerUnits").getString("strokeWidth");L.translate(E,M),$==="auto"&&L.rotate(J),ie==="strokeWidth"&&L.scale(L.lineWidth,L.lineWidth),L.save();var ye=new tn(this.document,null);ye.type=this.type,ye.attributes.viewBox=new We(this.document,"viewBox",this.getAttribute("viewBox").getValue()),ye.attributes.refX=new We(this.document,"refX",this.getAttribute("refX").getValue()),ye.attributes.refY=new We(this.document,"refY",this.getAttribute("refY").getValue()),ye.attributes.width=new We(this.document,"width",this.getAttribute("markerWidth").getValue()),ye.attributes.height=new We(this.document,"height",this.getAttribute("markerHeight").getValue()),ye.attributes.overflow=new We(this.document,"overflow",this.getAttribute("overflow").getValue()),ye.attributes.fill=new We(this.document,"fill",this.getAttribute("fill").getColor("black")),ye.attributes.stroke=new We(this.document,"stroke",this.getAttribute("stroke").getValue("none")),ye.children=this.children,ye.render(L),L.restore(),ie==="strokeWidth"&&L.scale(1/L.lineWidth,1/L.lineWidth),$==="auto"&&L.rotate(-J),L.translate(-E,-M)}}}class Da extends er{constructor(){super(...arguments),this.type="defs"}render(){}}class fa extends qt{constructor(){super(...arguments),this.type="g"}getBoundingBox(L){var G=new or;return this.children.forEach(J=>{G.addBoundingBox(J.getBoundingBox(L))}),G}}class fn extends er{constructor(L,G,J){super(L,G,J),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:E,children:M}=this;M.forEach($=>{$.type==="stop"&&E.push($)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(L,G,J){var E=this;this.getHrefAttribute().hasValue()&&(E=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(E));var{stops:M}=E,$=this.getGradient(L,G);if(!$)return this.addParentOpacity(J,M[M.length-1].color);if(M.forEach(V=>{$.addColorStop(V.offset,this.addParentOpacity(J,V.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:ie}=this,{MAX_VIRTUAL_PIXELS:ye,viewPort:Re}=ie.screen,[Ze]=Re.viewPorts,N=new wa(ie,null);N.attributes.x=new We(ie,"x",-ye/3),N.attributes.y=new We(ie,"y",-ye/3),N.attributes.width=new We(ie,"width",ye),N.attributes.height=new We(ie,"height",ye);var v=new fa(ie,null);v.attributes.transform=new We(ie,"transform",this.getAttribute("gradientTransform").getValue()),v.children=[N];var S=new tn(ie,null);S.attributes.x=new We(ie,"x",0),S.attributes.y=new We(ie,"y",0),S.attributes.width=new We(ie,"width",Ze.width),S.attributes.height=new We(ie,"height",Ze.height),S.children=[v];var I=ie.createCanvas(Ze.width,Ze.height),P=I.getContext("2d");return P.fillStyle=$,S.render(P),P.createPattern(I,"no-repeat")}return $}inheritStopContainer(L){this.attributesToInherit.forEach(G=>{!this.getAttribute(G).hasValue()&&L.getAttribute(G).hasValue()&&this.getAttribute(G,!0).setValue(L.getAttribute(G).getValue())})}addParentOpacity(L,G){if(L.hasValue()){var J=new We(this.document,"color",G);return J.addOpacity(L).getColor()}return G}}class jn extends fn{constructor(L,G,J){super(L,G,J),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(L,G){var J=this.getGradientUnits()==="objectBoundingBox",E=J?G.getBoundingBox(L):null;if(J&&!E)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var M=J?E.x+E.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),$=J?E.y+E.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),ie=J?E.x+E.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),ye=J?E.y+E.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return M===ie&&$===ye?null:L.createLinearGradient(M,$,ie,ye)}}class dn extends fn{constructor(L,G,J){super(L,G,J),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(L,G){var J=this.getGradientUnits()==="objectBoundingBox",E=G.getBoundingBox(L);if(J&&!E)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var M=J?E.x+E.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),$=J?E.y+E.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),ie=M,ye=$;this.getAttribute("fx").hasValue()&&(ie=J?E.x+E.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(ye=J?E.y+E.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Re=J?(E.width+E.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),Ze=this.getAttribute("fr").getPixels();return L.createRadialGradient(ie,ye,Ze,M,$,Re)}}class la extends er{constructor(L,G,J){super(L,G,J),this.type="stop";var E=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),M=this.getStyle("stop-opacity"),$=this.getStyle("stop-color",!0);$.getString()===""&&$.setValue("#000"),M.hasValue()&&($=$.addOpacity(M)),this.offset=E,this.color=$.getColor()}}class Dn extends er{constructor(L,G,J){super(L,G,J),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,L.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new We(L,"values",null);var E=this.getAttribute("values");E.hasValue()&&this.values.setValue(E.getString().split(";"))}getProperty(){var L=this.getAttribute("attributeType").getString(),G=this.getAttribute("attributeName").getString();return L==="CSS"?this.parent.getStyle(G,!0):this.parent.getAttribute(G,!0)}calcValue(){var{initialUnits:L}=this,{progress:G,from:J,to:E}=this.getProgress(),M=J.getNumber()+(E.getNumber()-J.getNumber())*G;return L==="%"&&(M*=100),"".concat(M).concat(L)}update(L){var{parent:G}=this,J=this.getProperty();if(this.initialValue||(this.initialValue=J.getString(),this.initialUnits=J.getUnits()),this.duration>this.maxDuration){var E=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(E==="freeze"&&!this.frozen)this.frozen=!0,G.animationFrozen=!0,G.animationFrozenValue=J.getString();else if(E==="remove"&&!this.removed)return this.removed=!0,J.setValue(G.animationFrozen?G.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=L;var M=!1;if(this.begin<this.duration){var $=this.calcValue(),ie=this.getAttribute("type");if(ie.hasValue()){var ye=ie.getString();$="".concat(ye,"(").concat($,")")}J.setValue($),M=!0}return M}getProgress(){var{document:L,values:G}=this,J={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(G.hasValue()){var E=J.progress*(G.getValue().length-1),M=Math.floor(E),$=Math.ceil(E);J.from=new We(L,"from",parseFloat(G.getValue()[M])),J.to=new We(L,"to",parseFloat(G.getValue()[$])),J.progress=(E-M)/($-M)}else J.from=this.from,J.to=this.to;return J}}class Ii extends Dn{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:L,from:G,to:J}=this.getProgress(),E=new x(G.getColor()),M=new x(J.getColor());if(E.ok&&M.ok){var $=E.r+(M.r-E.r)*L,ie=E.g+(M.g-E.g)*L,ye=E.b+(M.b-E.b)*L;return"rgb(".concat(Math.floor($),", ").concat(Math.floor(ie),", ").concat(Math.floor(ye),")")}return this.getAttribute("from").getColor()}}class Rn extends Dn{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:L,from:G,to:J}=this.getProgress(),E=Q(G.getString()),M=Q(J.getString()),$=E.map((ie,ye)=>{var Re=M[ye];return ie+(Re-ie)*L}).join(" ");return $}}class mc extends er{constructor(L,G,J){super(L,G,J),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:E}=L,{children:M}=this;for(var $ of M)switch($.type){case"font-face":{this.fontFace=$;var ie=$.getStyle("font-family");ie.hasValue()&&(E[ie.getString()]=this);break}case"missing-glyph":this.missingGlyph=$;break;case"glyph":{var ye=$;ye.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[ye.unicode]>"u"&&(this.glyphs[ye.unicode]=Object.create(null)),this.glyphs[ye.unicode][ye.arabicForm]=ye):this.glyphs[ye.unicode]=ye;break}}}render(){}}class oi extends er{constructor(L,G,J){super(L,G,J),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Uo extends As{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Kl extends Ks{constructor(){super(...arguments),this.type="tref"}getText(){var L=this.getHrefAttribute().getDefinition();if(L){var G=L.children[0];if(G)return G.getText()}return""}}class ho extends Ks{constructor(L,G,J){super(L,G,J),this.type="a";var{childNodes:E}=G,M=E[0],$=E.length>0&&Array.from(E).every(ie=>ie.nodeType===3);this.hasText=$,this.text=$?this.getTextFromNode(M):""}getText(){return this.text}renderChildren(L){if(this.hasText){super.renderChildren(L);var{document:G,x:J,y:E}=this,{mouse:M}=G.screen,$=new We(G,"fontSize",Vs.parse(G.ctx.font).fontSize);M.isWorking()&&M.checkBoundingBox(this,new or(J,E-$.getPixels("y"),J+this.measureText(L),E))}else if(this.children.length>0){var ie=new fa(this.document,null);ie.children=this.children,ie.parent=this,ie.render(L)}}onClick(){var{window:L}=this.document;L&&L.open(this.getHrefAttribute().getString())}onMouseMove(){var L=this.document.ctx;L.canvas.style.cursor="pointer"}}function pa(Tt,L){var G=Object.keys(Tt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Tt);L&&(J=J.filter(function(E){return Object.getOwnPropertyDescriptor(Tt,E).enumerable})),G.push.apply(G,J)}return G}function Ni(Tt){for(var L=1;L<arguments.length;L++){var G=arguments[L]!=null?arguments[L]:{};L%2?pa(Object(G),!0).forEach(function(J){(0,p.default)(Tt,J,G[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(G)):pa(Object(G)).forEach(function(J){Object.defineProperty(Tt,J,Object.getOwnPropertyDescriptor(G,J))})}return Tt}class sa extends Ks{constructor(L,G,J){super(L,G,J),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var E=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(E)}getText(){return this.text}path(L){var{dataArray:G}=this;L&&L.beginPath(),G.forEach(J=>{var{type:E,points:M}=J;switch(E){case yt.LINE_TO:L&&L.lineTo(M[0],M[1]);break;case yt.MOVE_TO:L&&L.moveTo(M[0],M[1]);break;case yt.CURVE_TO:L&&L.bezierCurveTo(M[0],M[1],M[2],M[3],M[4],M[5]);break;case yt.QUAD_TO:L&&L.quadraticCurveTo(M[0],M[1],M[2],M[3]);break;case yt.ARC:{var[$,ie,ye,Re,Ze,N,v,S]=M,I=ye>Re?ye:Re,P=ye>Re?1:ye/Re,V=ye>Re?Re/ye:1;L&&(L.translate($,ie),L.rotate(v),L.scale(P,V),L.arc(0,0,I,Ze,Ze+N,!!(1-S)),L.scale(1/P,1/V),L.rotate(-v),L.translate(-$,-ie));break}case yt.CLOSE_PATH:L&&L.closePath();break}})}renderChildren(L){this.setTextData(L),L.save();var G=this.parent.getStyle("text-decoration").getString(),J=this.getFontSize(),{glyphInfo:E}=this,M=L.fillStyle;G==="underline"&&L.beginPath(),E.forEach(($,ie)=>{var{p0:ye,p1:Re,rotation:Ze,text:N}=$;L.save(),L.translate(ye.x,ye.y),L.rotate(Ze),L.fillStyle&&L.fillText(N,0,0),L.strokeStyle&&L.strokeText(N,0,0),L.restore(),G==="underline"&&(ie===0&&L.moveTo(ye.x,ye.y+J/8),L.lineTo(Re.x,Re.y+J/5))}),G==="underline"&&(L.lineWidth=J/20,L.strokeStyle=M,L.stroke(),L.closePath()),L.restore()}getLetterSpacingAt(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[L]||0}findSegmentToFitChar(L,G,J,E,M,$,ie,ye,Re){var Ze=$,N=this.measureText(L,ye);ye===" "&&G==="justify"&&J<E&&(N+=(E-J)/M),Re>-1&&(Ze+=this.getLetterSpacingAt(Re));var v=this.textHeight/20,S=this.getEquidistantPointOnPath(Ze,v,0),I=this.getEquidistantPointOnPath(Ze+N,v,0),P={p0:S,p1:I},V=S&&I?Math.atan2(I.y-S.y,I.x-S.x):0;if(ie){var de=Math.cos(Math.PI/2+V)*ie,q=Math.cos(-V)*ie;P.p0=Ni(Ni({},S),{},{x:S.x+de,y:S.y+q}),P.p1=Ni(Ni({},I),{},{x:I.x+de,y:I.y+q})}return Ze+=N,{offset:Ze,segment:P,rotation:V}}measureText(L,G){var{measuresCache:J}=this,E=G||this.getText();if(J.has(E))return J.get(E);var M=this.measureTargetText(L,E);return J.set(E,M),M}setTextData(L){if(!this.glyphInfo){var G=this.getText(),J=G.split(""),E=G.split(" ").length-1,M=this.parent.getAttribute("dx").split().map(ke=>ke.getPixels("x")),$=this.parent.getAttribute("dy").getPixels("y"),ie=this.parent.getStyle("text-anchor").getString("start"),ye=this.getStyle("letter-spacing"),Re=this.parent.getStyle("letter-spacing"),Ze=0;!ye.hasValue()||ye.getValue()==="inherit"?Ze=Re.getPixels():ye.hasValue()&&ye.getValue()!=="initial"&&ye.getValue()!=="unset"&&(Ze=ye.getPixels());var N=[],v=G.length;this.letterSpacingCache=N;for(var S=0;S<v;S++)N.push(typeof M[S]<"u"?M[S]:Ze);var I=N.reduce((ke,Me,$e)=>$e===0?0:ke+Me||0,0),P=this.measureText(L),V=Math.max(P+I,0);this.textWidth=P,this.textHeight=this.getFontSize(),this.glyphInfo=[];var de=this.getPathLength(),q=this.getStyle("startOffset").getNumber(0)*de,ee=0;(ie==="middle"||ie==="center")&&(ee=-V/2),(ie==="end"||ie==="right")&&(ee=-V),ee+=q,J.forEach((ke,Me)=>{var{offset:$e,segment:Je,rotation:xe}=this.findSegmentToFitChar(L,ie,V,de,E,ee,$,ke,Me);ee=$e,!(!Je.p0||!Je.p1)&&this.glyphInfo.push({text:J[Me],p0:Je.p0,p1:Je.p1,rotation:xe})})}}parsePathData(L){if(this.pathLength=-1,!L)return[];var G=[],{pathParser:J}=L;for(J.reset();!J.isEnd();){var{current:E}=J,M=E?E.x:0,$=E?E.y:0,ie=J.next(),ye=ie.type,Re=[];switch(ie.type){case yt.MOVE_TO:this.pathM(J,Re);break;case yt.LINE_TO:ye=this.pathL(J,Re);break;case yt.HORIZ_LINE_TO:ye=this.pathH(J,Re);break;case yt.VERT_LINE_TO:ye=this.pathV(J,Re);break;case yt.CURVE_TO:this.pathC(J,Re);break;case yt.SMOOTH_CURVE_TO:ye=this.pathS(J,Re);break;case yt.QUAD_TO:this.pathQ(J,Re);break;case yt.SMOOTH_QUAD_TO:ye=this.pathT(J,Re);break;case yt.ARC:Re=this.pathA(J);break;case yt.CLOSE_PATH:As.pathZ(J);break}ie.type!==yt.CLOSE_PATH?G.push({type:ye,points:Re,start:{x:M,y:$},pathLength:this.calcLength(M,$,ye,Re)}):G.push({type:yt.CLOSE_PATH,points:[],pathLength:0})}return G}pathM(L,G){var{x:J,y:E}=As.pathM(L).point;G.push(J,E)}pathL(L,G){var{x:J,y:E}=As.pathL(L).point;return G.push(J,E),yt.LINE_TO}pathH(L,G){var{x:J,y:E}=As.pathH(L).point;return G.push(J,E),yt.LINE_TO}pathV(L,G){var{x:J,y:E}=As.pathV(L).point;return G.push(J,E),yt.LINE_TO}pathC(L,G){var{point:J,controlPoint:E,currentPoint:M}=As.pathC(L);G.push(J.x,J.y,E.x,E.y,M.x,M.y)}pathS(L,G){var{point:J,controlPoint:E,currentPoint:M}=As.pathS(L);return G.push(J.x,J.y,E.x,E.y,M.x,M.y),yt.CURVE_TO}pathQ(L,G){var{controlPoint:J,currentPoint:E}=As.pathQ(L);G.push(J.x,J.y,E.x,E.y)}pathT(L,G){var{controlPoint:J,currentPoint:E}=As.pathT(L);return G.push(J.x,J.y,E.x,E.y),yt.QUAD_TO}pathA(L){var{rX:G,rY:J,sweepFlag:E,xAxisRotation:M,centp:$,a1:ie,ad:ye}=As.pathA(L);return E===0&&ye>0&&(ye-=2*Math.PI),E===1&&ye<0&&(ye+=2*Math.PI),[$.x,$.y,G,J,ie,ye,M,E]}calcLength(L,G,J,E){var M=0,$=null,ie=null,ye=0;switch(J){case yt.LINE_TO:return this.getLineLength(L,G,E[0],E[1]);case yt.CURVE_TO:for(M=0,$=this.getPointOnCubicBezier(0,L,G,E[0],E[1],E[2],E[3],E[4],E[5]),ye=.01;ye<=1;ye+=.01)ie=this.getPointOnCubicBezier(ye,L,G,E[0],E[1],E[2],E[3],E[4],E[5]),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;return M;case yt.QUAD_TO:for(M=0,$=this.getPointOnQuadraticBezier(0,L,G,E[0],E[1],E[2],E[3]),ye=.01;ye<=1;ye+=.01)ie=this.getPointOnQuadraticBezier(ye,L,G,E[0],E[1],E[2],E[3]),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;return M;case yt.ARC:{M=0;var Re=E[4],Ze=E[5],N=E[4]+Ze,v=Math.PI/180;if(Math.abs(Re-N)<v&&(v=Math.abs(Re-N)),$=this.getPointOnEllipticalArc(E[0],E[1],E[2],E[3],Re,0),Ze<0)for(ye=Re-v;ye>N;ye-=v)ie=this.getPointOnEllipticalArc(E[0],E[1],E[2],E[3],ye,0),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;else for(ye=Re+v;ye<N;ye+=v)ie=this.getPointOnEllipticalArc(E[0],E[1],E[2],E[3],ye,0),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;return ie=this.getPointOnEllipticalArc(E[0],E[1],E[2],E[3],N,0),M+=this.getLineLength($.x,$.y,ie.x,ie.y),M}}return 0}getPointOnLine(L,G,J,E,M){var $=arguments.length>5&&arguments[5]!==void 0?arguments[5]:G,ie=arguments.length>6&&arguments[6]!==void 0?arguments[6]:J,ye=(M-J)/(E-G+De),Re=Math.sqrt(L*L/(1+ye*ye));E<G&&(Re*=-1);var Ze=ye*Re,N=null;if(E===G)N={x:$,y:ie+Ze};else if((ie-J)/($-G+De)===ye)N={x:$+Re,y:ie+Ze};else{var v=0,S=0,I=this.getLineLength(G,J,E,M);if(I<De)return null;var P=($-G)*(E-G)+(ie-J)*(M-J);P/=I*I,v=G+P*(E-G),S=J+P*(M-J);var V=this.getLineLength($,ie,v,S),de=Math.sqrt(L*L-V*V);Re=Math.sqrt(de*de/(1+ye*ye)),E<G&&(Re*=-1),Ze=ye*Re,N={x:v+Re,y:S+Ze}}return N}getPointOnPath(L){var G=this.getPathLength(),J=0,E=null;if(L<-5e-5||L-5e-5>G)return null;var{dataArray:M}=this;for(var $ of M){if($&&($.pathLength<5e-5||J+$.pathLength+5e-5<L)){J+=$.pathLength;continue}var ie=L-J,ye=0;switch($.type){case yt.LINE_TO:E=this.getPointOnLine(ie,$.start.x,$.start.y,$.points[0],$.points[1],$.start.x,$.start.y);break;case yt.ARC:{var Re=$.points[4],Ze=$.points[5],N=$.points[4]+Ze;if(ye=Re+ie/$.pathLength*Ze,Ze<0&&ye<N||Ze>=0&&ye>N)break;E=this.getPointOnEllipticalArc($.points[0],$.points[1],$.points[2],$.points[3],ye,$.points[6]);break}case yt.CURVE_TO:ye=ie/$.pathLength,ye>1&&(ye=1),E=this.getPointOnCubicBezier(ye,$.start.x,$.start.y,$.points[0],$.points[1],$.points[2],$.points[3],$.points[4],$.points[5]);break;case yt.QUAD_TO:ye=ie/$.pathLength,ye>1&&(ye=1),E=this.getPointOnQuadraticBezier(ye,$.start.x,$.start.y,$.points[0],$.points[1],$.points[2],$.points[3]);break}if(E)return E;break}return null}getLineLength(L,G,J,E){return Math.sqrt((J-L)*(J-L)+(E-G)*(E-G))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((L,G)=>G.pathLength>0?L+G.pathLength:L,0)),this.pathLength}getPointOnCubicBezier(L,G,J,E,M,$,ie,ye,Re){var Ze=ye*he(L)+$*te(L)+E*ge(L)+G*Le(L),N=Re*he(L)+ie*te(L)+M*ge(L)+J*Le(L);return{x:Ze,y:N}}getPointOnQuadraticBezier(L,G,J,E,M,$,ie){var ye=$*Ve(L)+E*kt(L)+G*Bt(L),Re=ie*Ve(L)+M*kt(L)+J*Bt(L);return{x:ye,y:Re}}getPointOnEllipticalArc(L,G,J,E,M,$){var ie=Math.cos($),ye=Math.sin($),Re={x:J*Math.cos(M),y:E*Math.sin(M)};return{x:L+(Re.x*ie-Re.y*ye),y:G+(Re.x*ye+Re.y*ie)}}buildEquidistantCache(L,G){var J=this.getPathLength(),E=G||.25,M=L||J/100;if(!this.equidistantCache||this.equidistantCache.step!==M||this.equidistantCache.precision!==E){this.equidistantCache={step:M,precision:E,points:[]};for(var $=0,ie=0;ie<=J;ie+=E){var ye=this.getPointOnPath(ie),Re=this.getPointOnPath(ie+E);!ye||!Re||($+=this.getLineLength(ye.x,ye.y,Re.x,Re.y),$>=M&&(this.equidistantCache.points.push({x:ye.x,y:ye.y,distance:ie}),$-=M))}}}getEquidistantPointOnPath(L,G,J){if(this.buildEquidistantCache(G,J),L<0||L-this.getPathLength()>5e-5)return null;var E=Math.round(L/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[E]||null}}var Ua=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class qn extends qt{constructor(L,G,J){super(L,G,J),this.type="image",this.loaded=!1;var E=this.getHrefAttribute().getString();if(E){var M=E.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(E);L.images.push(this),M?this.loadSvg(E):this.loadImage(E),this.isSvg=M}}loadImage(L){var G=this;return(0,f.default)(function*(){try{var J=yield G.document.createImage(L);G.image=J}catch(E){console.error('Error while loading image "'.concat(L,'":'),E)}G.loaded=!0})()}loadSvg(L){var G=this;return(0,f.default)(function*(){var J=Ua.exec(L);if(J){var E=J[5];J[4]==="base64"?G.image=atob(E):G.image=decodeURIComponent(E)}else try{var M=yield G.document.fetch(L),$=yield M.text();G.image=$}catch(ie){console.error('Error while loading image "'.concat(L,'":'),ie)}G.loaded=!0})()}renderChildren(L){var{document:G,image:J,loaded:E}=this,M=this.getAttribute("x").getPixels("x"),$=this.getAttribute("y").getPixels("y"),ie=this.getStyle("width").getPixels("x"),ye=this.getStyle("height").getPixels("y");if(!(!E||!J||!ie||!ye)){if(L.save(),L.translate(M,$),this.isSvg){var Re=G.canvg.forkString(L,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:ie,scaleHeight:ye});Re.document.documentElement.parent=this,Re.render()}else{var Ze=this.image;G.setViewBox({ctx:L,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:ie,desiredWidth:Ze.width,height:ye,desiredHeight:Ze.height}),this.loaded&&(typeof Ze.complete>"u"||Ze.complete)&&L.drawImage(Ze,0,0)}L.restore()}}getBoundingBox(){var L=this.getAttribute("x").getPixels("x"),G=this.getAttribute("y").getPixels("y"),J=this.getStyle("width").getPixels("x"),E=this.getStyle("height").getPixels("y");return new or(L,G,L+J,G+E)}}class fo extends qt{constructor(){super(...arguments),this.type="symbol"}render(L){}}class Ai{constructor(L){this.document=L,this.loaded=!1,L.fonts.push(this)}load(L,G){var J=this;return(0,f.default)(function*(){try{var{document:E}=J,M=yield E.canvg.parser.load(G),$=M.getElementsByTagName("font");Array.from($).forEach(ie=>{var ye=E.createElement(ie);E.definitions[L]=ye})}catch(ie){console.error('Error while loading font "'.concat(G,'":'),ie)}J.loaded=!0})()}}class ki extends er{constructor(L,G,J){super(L,G,J),this.type="style";var E=z(Array.from(G.childNodes).map($=>$.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),M=E.split("}");M.forEach($=>{var ie=$.trim();if(ie){var ye=ie.split("{"),Re=ye[0].split(","),Ze=ye[1].split(";");Re.forEach(N=>{var v=N.trim();if(v){var S=L.styles[v]||{};if(Ze.forEach(V=>{var de=V.indexOf(":"),q=V.substr(0,de).trim(),ee=V.substr(de+1,V.length-de).trim();q&&ee&&(S[q]=new We(L,q,ee))}),L.styles[v]=S,L.stylesSpecificity[v]=Ee(v),v==="@font-face"){var I=S["font-family"].getString().replace(/"|'/g,""),P=S.src.getString().split(",");P.forEach(V=>{if(V.indexOf('format("svg")')>0){var de=ue(V);de&&new Ai(L).load(I,de)}})}}})}})}}ki.parseExternalUrl=ue;class hl extends qt{constructor(){super(...arguments),this.type="use"}setContext(L){super.setContext(L);var G=this.getAttribute("x"),J=this.getAttribute("y");G.hasValue()&&L.translate(G.getPixels("x"),0),J.hasValue()&&L.translate(0,J.getPixels("y"))}path(L){var{element:G}=this;G&&G.path(L)}renderChildren(L){var{document:G,element:J}=this;if(J){var E=J;if(J.type==="symbol"&&(E=new tn(G,null),E.attributes.viewBox=new We(G,"viewBox",J.getAttribute("viewBox").getString()),E.attributes.preserveAspectRatio=new We(G,"preserveAspectRatio",J.getAttribute("preserveAspectRatio").getString()),E.attributes.overflow=new We(G,"overflow",J.getAttribute("overflow").getString()),E.children=J.children,J.styles.opacity=new We(G,"opacity",this.calculateOpacity())),E.type==="svg"){var M=this.getStyle("width",!1,!0),$=this.getStyle("height",!1,!0);M.hasValue()&&(E.attributes.width=new We(G,"width",M.getString())),$.hasValue()&&(E.attributes.height=new We(G,"height",$.getString()))}var ie=E.parent;E.parent=this,E.render(L),E.parent=ie}}getBoundingBox(L){var{element:G}=this;return G?G.getBoundingBox(L):null}elementTransform(){var{document:L,element:G}=this;return Nr.fromElement(L,G)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function el(Tt,L,G,J,E,M){return Tt[G*J*4+L*4+M]}function Ul(Tt,L,G,J,E,M,$){Tt[G*J*4+L*4+M]=$}function xa(Tt,L,G){var J=Tt[L];return J*G}function ja(Tt,L,G,J){return L+Math.cos(Tt)*G+Math.sin(Tt)*J}class po extends er{constructor(L,G,J){super(L,G,J),this.type="feColorMatrix";var E=Q(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var M=E[0];E=[.213+.787*M,.715-.715*M,.072-.072*M,0,0,.213-.213*M,.715+.285*M,.072-.072*M,0,0,.213-.213*M,.715-.715*M,.072+.928*M,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var $=E[0]*Math.PI/180;E=[ja($,.213,.787,-.213),ja($,.715,-.715,-.715),ja($,.072,-.072,.928),0,0,ja($,.213,-.213,.143),ja($,.715,.285,.14),ja($,.072,-.072,-.283),0,0,ja($,.213,-.213,-.787),ja($,.715,-.715,.715),ja($,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=E,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(L,G,J,E,M){for(var{includeOpacity:$,matrix:ie}=this,ye=L.getImageData(0,0,E,M),Re=0;Re<M;Re++)for(var Ze=0;Ze<E;Ze++){var N=el(ye.data,Ze,Re,E,M,0),v=el(ye.data,Ze,Re,E,M,1),S=el(ye.data,Ze,Re,E,M,2),I=el(ye.data,Ze,Re,E,M,3),P=xa(ie,0,N)+xa(ie,1,v)+xa(ie,2,S)+xa(ie,3,I)+xa(ie,4,1),V=xa(ie,5,N)+xa(ie,6,v)+xa(ie,7,S)+xa(ie,8,I)+xa(ie,9,1),de=xa(ie,10,N)+xa(ie,11,v)+xa(ie,12,S)+xa(ie,13,I)+xa(ie,14,1),q=xa(ie,15,N)+xa(ie,16,v)+xa(ie,17,S)+xa(ie,18,I)+xa(ie,19,1);$&&(P=0,V=0,de=0,q*=I/255),Ul(ye.data,Ze,Re,E,M,0,P),Ul(ye.data,Ze,Re,E,M,1,V),Ul(ye.data,Ze,Re,E,M,2,de),Ul(ye.data,Ze,Re,E,M,3,q)}L.clearRect(0,0,E,M),L.putImageData(ye,0,0)}}class ti extends er{constructor(){super(...arguments),this.type="mask"}apply(L,G){var{document:J}=this,E=this.getAttribute("x").getPixels("x"),M=this.getAttribute("y").getPixels("y"),$=this.getStyle("width").getPixels("x"),ie=this.getStyle("height").getPixels("y");if(!$&&!ie){var ye=new or;this.children.forEach(I=>{ye.addBoundingBox(I.getBoundingBox(L))}),E=Math.floor(ye.x1),M=Math.floor(ye.y1),$=Math.floor(ye.width),ie=Math.floor(ye.height)}var Re=this.removeStyles(G,ti.ignoreStyles),Ze=J.createCanvas(E+$,M+ie),N=Ze.getContext("2d");J.screen.setDefaults(N),this.renderChildren(N),new po(J,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(N,0,0,E+$,M+ie);var v=J.createCanvas(E+$,M+ie),S=v.getContext("2d");J.screen.setDefaults(S),G.render(S),S.globalCompositeOperation="destination-in",S.fillStyle=N.createPattern(Ze,"no-repeat"),S.fillRect(0,0,E+$,M+ie),L.fillStyle=S.createPattern(v,"no-repeat"),L.fillRect(0,0,E+$,M+ie),this.restoreStyles(G,Re)}render(L){}}ti.ignoreStyles=["mask","transform","clip-path"];var Di=()=>{};class hi extends er{constructor(){super(...arguments),this.type="clipPath"}apply(L){var{document:G}=this,J=Reflect.getPrototypeOf(L),{beginPath:E,closePath:M}=L;J&&(J.beginPath=Di,J.closePath=Di),Reflect.apply(E,L,[]),this.children.forEach($=>{if(!(typeof $.path>"u")){var ie=typeof $.elementTransform<"u"?$.elementTransform():null;ie||(ie=Nr.fromElement(G,$)),ie&&ie.apply(L),$.path(L),J&&(J.closePath=M),ie&&ie.unapply(L)}}),Reflect.apply(M,L,[]),L.clip(),J&&(J.beginPath=E,J.closePath=M)}render(L){}}class Wr extends er{constructor(){super(...arguments),this.type="filter"}apply(L,G){var{document:J,children:E}=this,M=G.getBoundingBox(L);if(M){var $=0,ie=0;E.forEach(de=>{var q=de.extraFilterDistance||0;$=Math.max($,q),ie=Math.max(ie,q)});var ye=Math.floor(M.width),Re=Math.floor(M.height),Ze=ye+2*$,N=Re+2*ie;if(!(Ze<1||N<1)){var v=Math.floor(M.x),S=Math.floor(M.y),I=this.removeStyles(G,Wr.ignoreStyles),P=J.createCanvas(Ze,N),V=P.getContext("2d");J.screen.setDefaults(V),V.translate(-v+$,-S+ie),G.render(V),E.forEach(de=>{typeof de.apply=="function"&&de.apply(V,0,0,Ze,N)}),L.drawImage(P,0,0,Ze,N,v-$,S-ie,Ze,N),this.restoreStyles(G,I)}}}render(L){}}Wr.ignoreStyles=["filter","transform","clip-path"];class Ka extends er{constructor(L,G,J){super(L,G,J),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(L,G,J,E,M){}}class Ci extends er{constructor(){super(...arguments),this.type="feMorphology"}apply(L,G,J,E,M){}}class Qa extends er{constructor(){super(...arguments),this.type="feComposite"}apply(L,G,J,E,M){}}class mo extends er{constructor(L,G,J){super(L,G,J),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(L,G,J,E,M){var{document:$,blurRadius:ie}=this,ye=$.window?$.window.document.body:null,Re=L.canvas;Re.id=$.getUniqueId(),ye&&(Re.style.display="none",ye.appendChild(Re)),(0,j.canvasRGBA)(Re,G,J,E,M,ie),ye&&ye.removeChild(Re)}}class Wn extends er{constructor(){super(...arguments),this.type="title"}}class Ki extends er{constructor(){super(...arguments),this.type="desc"}}var Ga={svg:tn,rect:wa,circle:Us,ellipse:Ds,line:sr,polyline:ms,polygon:Or,path:As,pattern:Pr,marker:Ar,defs:Da,linearGradient:jn,radialGradient:dn,stop:la,animate:Dn,animateColor:Ii,animateTransform:Rn,font:mc,"font-face":oi,"missing-glyph":Uo,glyph:hs,text:Ks,tspan:$s,tref:Kl,a:ho,textPath:sa,image:qn,g:fa,symbol:fo,style:ki,use:hl,mask:ti,clipPath:hi,filter:Wr,feDropShadow:Ka,feMorphology:Ci,feComposite:Qa,feColorMatrix:po,feGaussianBlur:mo,title:Wn,desc:Ki};function Ra(Tt,L){var G=Object.keys(Tt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Tt);L&&(J=J.filter(function(E){return Object.getOwnPropertyDescriptor(Tt,E).enumerable})),G.push.apply(G,J)}return G}function fi(Tt){for(var L=1;L<arguments.length;L++){var G=arguments[L]!=null?arguments[L]:{};L%2?Ra(Object(G),!0).forEach(function(J){(0,p.default)(Tt,J,G[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(G)):Ra(Object(G)).forEach(function(J){Object.defineProperty(Tt,J,Object.getOwnPropertyDescriptor(G,J))})}return Tt}function Fo(Tt,L){var G=document.createElement("canvas");return G.width=Tt,G.height=L,G}function Bi(Tt){return ba.apply(this,arguments)}function ba(){return ba=(0,f.default)(function*(Tt){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=document.createElement("img");return L&&(G.crossOrigin="Anonymous"),new Promise((J,E)=>{G.onload=()=>{J(G)},G.onerror=(M,$,ie,ye,Re)=>{E(Re)},G.src=Tt})}),ba.apply(this,arguments)}class pi{constructor(L){var{rootEmSize:G=12,emSize:J=12,createCanvas:E=pi.createCanvas,createImage:M=pi.createImage,anonymousCrossOrigin:$}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=L,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=L.screen,this.rootEmSize=G,this.emSize=J,this.createCanvas=E,this.createImage=this.bindCreateImage(M,$),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(L,G){return typeof G=="boolean"?(J,E)=>L(J,typeof E=="boolean"?E:G):L}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:L}=this;return L[L.length-1]}set emSize(L){var{emSizeStack:G}=this;G.push(L)}popEmSize(){var{emSizeStack:L}=this;L.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(L=>L.loaded)}isFontsLoaded(){return this.fonts.every(L=>L.loaded)}createDocumentElement(L){var G=this.createElement(L.documentElement);return G.root=!0,G.addStylesFromStyleDefinition(),this.documentElement=G,G}createElement(L){var G=L.nodeName.replace(/^[^:]+:/,""),J=pi.elementTypes[G];return typeof J<"u"?new J(this,L):new Ys(this,L)}createTextNode(L){return new fr(this,L)}setViewBox(L){this.screen.setViewBox(fi({document:this},L))}}pi.createCanvas=Fo,pi.createImage=Bi,pi.elementTypes=Ga;function eo(Tt,L){var G=Object.keys(Tt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Tt);L&&(J=J.filter(function(E){return Object.getOwnPropertyDescriptor(Tt,E).enumerable})),G.push.apply(G,J)}return G}function Si(Tt){for(var L=1;L<arguments.length;L++){var G=arguments[L]!=null?arguments[L]:{};L%2?eo(Object(G),!0).forEach(function(J){(0,p.default)(Tt,J,G[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(G)):eo(Object(G)).forEach(function(J){Object.defineProperty(Tt,J,Object.getOwnPropertyDescriptor(G,J))})}return Tt}class oo{constructor(L,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new us(J),this.screen=new ut(L,J),this.options=J;var E=new pi(this,J),M=E.createDocumentElement(G);this.document=E,this.documentElement=M}static from(L,G){var J=arguments;return(0,f.default)(function*(){var E=J.length>2&&J[2]!==void 0?J[2]:{},M=new us(E),$=yield M.parse(G);return new oo(L,$,E)})()}static fromString(L,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=new us(J),M=E.parseFromString(G);return new oo(L,M,J)}fork(L,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return oo.from(L,G,Si(Si({},this.options),J))}forkString(L,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return oo.fromString(L,G,Si(Si({},this.options),J))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var L=arguments,G=this;return(0,f.default)(function*(){var J=L.length>0&&L[0]!==void 0?L[0]:{};G.start(Si({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},J)),yield G.ready(),G.stop()})()}start(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:G,screen:J,options:E}=this;J.start(G,Si(Si({enableRedraw:!0},E),L))}stop(){this.screen.stop()}resize(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(L,G,J)}}}),"./node_modules/core-js/internals/a-callable.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/try-to-string.js"),m=TypeError;d.exports=function(x){if(f(x))return x;throw new m(p(x)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-constructor.js"),p=o("./node_modules/core-js/internals/try-to-string.js"),m=TypeError;d.exports=function(x){if(f(x))return x;throw new m(p(x)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-possible-prototype.js"),p=String,m=TypeError;d.exports=function(x){if(f(x))return x;throw new m("Can't set "+p(x)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/set-helpers.js").has;d.exports=function(p){return f(p),p}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),p=o("./node_modules/core-js/internals/object-create.js"),m=o("./node_modules/core-js/internals/object-define-property.js").f,x=f("unscopables"),b=Array.prototype;b[x]===void 0&&m(b,x,{configurable:!0,value:p(null)}),d.exports=function(j){b[x][j]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/string-multibyte.js").charAt;d.exports=function(p,m,x){return m+(x?f(p,m).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-is-prototype-of.js"),p=TypeError;d.exports=function(m,x){if(f(x,m))return m;throw new p("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),p=String,m=TypeError;d.exports=function(x){if(f(x))return x;throw new m(p(x)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=f(function(){if(typeof ArrayBuffer=="function"){var p=new ArrayBuffer(8);Object.isExtensible(p)&&Object.defineProperty(p,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/array-iteration.js").forEach,p=o("./node_modules/core-js/internals/array-method-is-strict.js"),m=p("forEach");d.exports=m?[].forEach:function(b){return f(this,b,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-object.js"),x=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),b=o("./node_modules/core-js/internals/is-array-iterator-method.js"),j=o("./node_modules/core-js/internals/is-constructor.js"),y=o("./node_modules/core-js/internals/length-of-array-like.js"),T=o("./node_modules/core-js/internals/create-property.js"),R=o("./node_modules/core-js/internals/get-iterator.js"),z=o("./node_modules/core-js/internals/get-iterator-method.js"),X=Array;d.exports=function(Q){var K=m(Q),ce=j(this),ue=arguments.length,Ne=ue>1?arguments[1]:void 0,le=Ne!==void 0;le&&(Ne=f(Ne,ue>2?arguments[2]:void 0));var Ce=z(K),oe=0,je,Ae,se,pe,re,Ee;if(Ce&&!(this===X&&b(Ce)))for(Ae=ce?new this:[],pe=R(K,Ce),re=pe.next;!(se=p(re,pe)).done;oe++)Ee=le?x(pe,Ne,[se.value,oe],!0):se.value,T(Ae,oe,Ee);else for(je=y(K),Ae=ce?new this(je):X(je);je>oe;oe++)Ee=le?Ne(K[oe],oe):K[oe],T(Ae,oe,Ee);return Ae.length=oe,Ae}}),"./node_modules/core-js/internals/array-includes.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-indexed-object.js"),p=o("./node_modules/core-js/internals/to-absolute-index.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=function(b){return function(j,y,T){var R=f(j),z=m(R);if(z===0)return!b&&-1;var X=p(T,z),Y;if(b&&y!==y){for(;z>X;)if(Y=R[X++],Y!==Y)return!0}else for(;z>X;X++)if((b||X in R)&&R[X]===y)return b||X||0;return!b&&-1}};d.exports={includes:x(!0),indexOf:x(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/to-object.js"),b=o("./node_modules/core-js/internals/length-of-array-like.js"),j=o("./node_modules/core-js/internals/array-species-create.js"),y=p([].push),T=function(R){var z=R===1,X=R===2,Y=R===3,Q=R===4,K=R===6,ce=R===7,ue=R===5||K;return function(Ne,le,Ce,oe){for(var je=x(Ne),Ae=m(je),se=b(Ae),pe=f(le,Ce),re=0,Ee=oe||j,De=z?Ee(Ne,se):X||ce?Ee(Ne,0):void 0,Se,fe;se>re;re++)if((ue||re in Ae)&&(Se=Ae[re],fe=pe(Se,re,je),R))if(z)De[re]=fe;else if(fe)switch(R){case 3:return!0;case 5:return Se;case 6:return re;case 2:y(De,Se)}else switch(R){case 4:return!1;case 7:y(De,Se)}return K?-1:Y||Q?Q:De}};d.exports={forEach:T(0),map:T(1),filter:T(2),some:T(3),every:T(4),find:T(5),findIndex:T(6),filterReject:T(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/environment-v8-version.js"),x=p("species");d.exports=function(b){return m>=51||!f(function(){var j=[],y=j.constructor={};return y[x]=function(){return{foo:1}},j[b](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=function(p,m){var x=[][p];return!!x&&f(function(){x.call(null,m||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/to-object.js"),m=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/length-of-array-like.js"),b=TypeError,j="Reduce of empty array with no initial value",y=function(T){return function(R,z,X,Y){var Q=p(R),K=m(Q),ce=x(Q);if(f(z),ce===0&&X<2)throw new b(j);var ue=T?ce-1:0,Ne=T?-1:1;if(X<2)for(;;){if(ue in K){Y=K[ue],ue+=Ne;break}if(ue+=Ne,T?ue<0:ce<=ue)throw new b(j)}for(;T?ue>=0:ce>ue;ue+=Ne)ue in K&&(Y=z(Y,K[ue],ue,Q));return Y}};d.exports={left:y(!1),right:y(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-array.js"),p=o("./node_modules/core-js/internals/is-constructor.js"),m=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=x("species"),j=Array;d.exports=function(y){var T;return f(y)&&(T=y.constructor,p(T)&&(T===j||f(T.prototype))?T=void 0:m(T)&&(T=T[b],T===null&&(T=void 0))),T===void 0?j:T}}),"./node_modules/core-js/internals/array-species-create.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/array-species-constructor.js");d.exports=function(p,m){return new(f(p))(m===0?0:m)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(m,x,b,j){try{return j?x(f(b)[0],b[1]):x(b)}catch(y){p(m,"throw",y)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),p=f("iterator"),m=!1;try{var x=0,b={next:function(){return{done:!!x++}},return:function(){m=!0}};b[p]=function(){return this},Array.from(b,function(){throw 2})}catch{}d.exports=function(j,y){try{if(!y&&!m)return!1}catch{return!1}var T=!1;try{var R={};R[p]=function(){return{next:function(){return{done:T=!0}}}},j(R)}catch{}return T}}),"./node_modules/core-js/internals/classof-raw.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=f({}.toString),m=f("".slice);d.exports=function(x){return m(p(x),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/classof-raw.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=x("toStringTag"),j=Object,y=m((function(){return arguments})())==="Arguments",T=function(R,z){try{return R[z]}catch{}};d.exports=f?m:function(R){var z,X,Y;return R===void 0?"Undefined":R===null?"Null":typeof(X=T(z=j(R),b))=="string"?X:y?m(z):(Y=m(z))==="Object"&&p(z.callee)?"Arguments":Y}}),"./node_modules/core-js/internals/collection-strong.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-create.js"),p=o("./node_modules/core-js/internals/define-built-in-accessor.js"),m=o("./node_modules/core-js/internals/define-built-ins.js"),x=o("./node_modules/core-js/internals/function-bind-context.js"),b=o("./node_modules/core-js/internals/an-instance.js"),j=o("./node_modules/core-js/internals/is-null-or-undefined.js"),y=o("./node_modules/core-js/internals/iterate.js"),T=o("./node_modules/core-js/internals/iterator-define.js"),R=o("./node_modules/core-js/internals/create-iter-result-object.js"),z=o("./node_modules/core-js/internals/set-species.js"),X=o("./node_modules/core-js/internals/descriptors.js"),Y=o("./node_modules/core-js/internals/internal-metadata.js").fastKey,Q=o("./node_modules/core-js/internals/internal-state.js"),K=Q.set,ce=Q.getterFor;d.exports={getConstructor:function(ue,Ne,le,Ce){var oe=ue(function(re,Ee){b(re,je),K(re,{type:Ne,index:f(null),first:null,last:null,size:0}),X||(re.size=0),j(Ee)||y(Ee,re[Ce],{that:re,AS_ENTRIES:le})}),je=oe.prototype,Ae=ce(Ne),se=function(re,Ee,De){var Se=Ae(re),fe=pe(re,Ee),be,he;return fe?fe.value=De:(Se.last=fe={index:he=Y(Ee,!0),key:Ee,value:De,previous:be=Se.last,next:null,removed:!1},Se.first||(Se.first=fe),be&&(be.next=fe),X?Se.size++:re.size++,he!=="F"&&(Se.index[he]=fe)),re},pe=function(re,Ee){var De=Ae(re),Se=Y(Ee),fe;if(Se!=="F")return De.index[Se];for(fe=De.first;fe;fe=fe.next)if(fe.key===Ee)return fe};return m(je,{clear:function(){for(var Ee=this,De=Ae(Ee),Se=De.first;Se;)Se.removed=!0,Se.previous&&(Se.previous=Se.previous.next=null),Se=Se.next;De.first=De.last=null,De.index=f(null),X?De.size=0:Ee.size=0},delete:function(re){var Ee=this,De=Ae(Ee),Se=pe(Ee,re);if(Se){var fe=Se.next,be=Se.previous;delete De.index[Se.index],Se.removed=!0,be&&(be.next=fe),fe&&(fe.previous=be),De.first===Se&&(De.first=fe),De.last===Se&&(De.last=be),X?De.size--:Ee.size--}return!!Se},forEach:function(Ee){for(var De=Ae(this),Se=x(Ee,arguments.length>1?arguments[1]:void 0),fe;fe=fe?fe.next:De.first;)for(Se(fe.value,fe.key,this);fe&&fe.removed;)fe=fe.previous},has:function(Ee){return!!pe(this,Ee)}}),m(je,le?{get:function(Ee){var De=pe(this,Ee);return De&&De.value},set:function(Ee,De){return se(this,Ee===0?0:Ee,De)}}:{add:function(Ee){return se(this,Ee=Ee===0?0:Ee,Ee)}}),X&&p(je,"size",{configurable:!0,get:function(){return Ae(this).size}}),oe},setStrong:function(ue,Ne,le){var Ce=Ne+" Iterator",oe=ce(Ne),je=ce(Ce);T(ue,Ne,function(Ae,se){K(this,{type:Ce,target:Ae,state:oe(Ae),kind:se,last:null})},function(){for(var Ae=je(this),se=Ae.kind,pe=Ae.last;pe&&pe.removed;)pe=pe.previous;return!Ae.target||!(Ae.last=pe=pe?pe.next:Ae.state.first)?(Ae.target=null,R(void 0,!0)):R(se==="keys"?pe.key:se==="values"?pe.value:[pe.key,pe.value],!1)},le?"entries":"values",!le,!0),z(Ne)}}}),"./node_modules/core-js/internals/collection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/is-forced.js"),b=o("./node_modules/core-js/internals/define-built-in.js"),j=o("./node_modules/core-js/internals/internal-metadata.js"),y=o("./node_modules/core-js/internals/iterate.js"),T=o("./node_modules/core-js/internals/an-instance.js"),R=o("./node_modules/core-js/internals/is-callable.js"),z=o("./node_modules/core-js/internals/is-null-or-undefined.js"),X=o("./node_modules/core-js/internals/is-object.js"),Y=o("./node_modules/core-js/internals/fails.js"),Q=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),K=o("./node_modules/core-js/internals/set-to-string-tag.js"),ce=o("./node_modules/core-js/internals/inherit-if-required.js");d.exports=function(ue,Ne,le){var Ce=ue.indexOf("Map")!==-1,oe=ue.indexOf("Weak")!==-1,je=Ce?"set":"add",Ae=p[ue],se=Ae&&Ae.prototype,pe=Ae,re={},Ee=function(ge){var Le=m(se[ge]);b(se,ge,ge==="add"?function(kt){return Le(this,kt===0?0:kt),this}:ge==="delete"?function(Ve){return oe&&!X(Ve)?!1:Le(this,Ve===0?0:Ve)}:ge==="get"?function(kt){return oe&&!X(kt)?void 0:Le(this,kt===0?0:kt)}:ge==="has"?function(kt){return oe&&!X(kt)?!1:Le(this,kt===0?0:kt)}:function(kt,Bt){return Le(this,kt===0?0:kt,Bt),this})},De=x(ue,!R(Ae)||!(oe||se.forEach&&!Y(function(){new Ae().entries().next()})));if(De)pe=le.getConstructor(Ne,ue,Ce,je),j.enable();else if(x(ue,!0)){var Se=new pe,fe=Se[je](oe?{}:-0,1)!==Se,be=Y(function(){Se.has(1)}),he=Q(function(ge){new Ae(ge)}),te=!oe&&Y(function(){for(var ge=new Ae,Le=5;Le--;)ge[je](Le,Le);return!ge.has(-0)});he||(pe=Ne(function(ge,Le){T(ge,se);var Ve=ce(new Ae,ge,pe);return z(Le)||y(Le,Ve[je],{that:Ve,AS_ENTRIES:Ce}),Ve}),pe.prototype=se,se.constructor=pe),(be||te)&&(Ee("delete"),Ee("has"),Ce&&Ee("get")),(te||fe)&&Ee(je),oe&&se.clear&&delete se.clear}return re[ue]=pe,f({global:!0,constructor:!0,forced:pe!==Ae},re),K(pe,ue),oe||le.setStrong(pe,ue,Ce),pe}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/own-keys.js"),m=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),x=o("./node_modules/core-js/internals/object-define-property.js");d.exports=function(b,j,y){for(var T=p(j),R=x.f,z=m.f,X=0;X<T.length;X++){var Y=T[X];!f(b,Y)&&!(y&&f(y,Y))&&R(b,Y,z(j,Y))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),p=f("match");d.exports=function(m){var x=/./;try{"/./"[m](x)}catch{try{return x[p]=!1,"/./"[m](x)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/require-object-coercible.js"),m=o("./node_modules/core-js/internals/to-string.js"),x=/"/g,b=f("".replace);d.exports=function(j,y,T,R){var z=m(p(j)),X="<"+y;return T!==""&&(X+=" "+T+'="'+b(m(R),x,"&quot;")+'"'),X+">"+z+"</"+y+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(d){d.exports=function(A,o){return{value:A,done:o}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/object-define-property.js"),m=o("./node_modules/core-js/internals/create-property-descriptor.js");d.exports=f?function(x,b,j){return p.f(x,b,m(1,j))}:function(x,b,j){return x[b]=j,x}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(d){d.exports=function(A,o){return{enumerable:!(A&1),configurable:!(A&2),writable:!(A&4),value:o}}}),"./node_modules/core-js/internals/create-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/object-define-property.js"),m=o("./node_modules/core-js/internals/create-property-descriptor.js");d.exports=function(x,b,j){f?p.f(x,b,m(0,j)):x[b]=j}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/make-built-in.js"),p=o("./node_modules/core-js/internals/object-define-property.js");d.exports=function(m,x,b){return b.get&&f(b.get,x,{getter:!0}),b.set&&f(b.set,x,{setter:!0}),p.f(m,x,b)}}),"./node_modules/core-js/internals/define-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/object-define-property.js"),m=o("./node_modules/core-js/internals/make-built-in.js"),x=o("./node_modules/core-js/internals/define-global-property.js");d.exports=function(b,j,y,T){T||(T={});var R=T.enumerable,z=T.name!==void 0?T.name:j;if(f(y)&&m(y,z,T),T.global)R?b[j]=y:x(j,y);else{try{T.unsafe?b[j]&&(R=!0):delete b[j]}catch{}R?b[j]=y:p.f(b,j,{value:y,enumerable:!1,configurable:!T.nonConfigurable,writable:!T.nonWritable})}return b}}),"./node_modules/core-js/internals/define-built-ins.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/define-built-in.js");d.exports=function(p,m,x){for(var b in m)f(p,b,m[b],x);return p}}),"./node_modules/core-js/internals/define-global-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=Object.defineProperty;d.exports=function(m,x){try{p(f,m,{value:x,configurable:!0,writable:!0})}catch{f[m]=x}return x}}),"./node_modules/core-js/internals/descriptors.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=f.document,x=p(m)&&p(m.createElement);d.exports=function(b){return x?m.createElement(b):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(d){var A=TypeError,o=9007199254740991;d.exports=function(f){if(f>o)throw A("Maximum allowed index exceeded");return f}}),"./node_modules/core-js/internals/dom-iterables.js":(function(d){d.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/document-create-element.js"),p=f("span").classList,m=p&&p.constructor&&p.constructor.prototype;d.exports=m===Object.prototype?void 0:m}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(d){d.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/ipad|iphone|ipod/i.test(f)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)}),"./node_modules/core-js/internals/environment-is-node.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment.js");d.exports=f==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/web0s(?!.*chrome)/i.test(f)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=f.navigator,m=p&&p.userAgent;d.exports=m?String(m):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/environment-user-agent.js"),m=f.process,x=f.Deno,b=m&&m.versions||x&&x.version,j=b&&b.v8,y,T;j&&(y=j.split("."),T=y[0]>0&&y[0]<4?1:+(y[0]+y[1])),!T&&p&&(y=p.match(/Edge\/(\d+)/),(!y||y[1]>=74)&&(y=p.match(/Chrome\/(\d+)/),y&&(T=+y[1]))),d.exports=T}),"./node_modules/core-js/internals/environment.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/environment-user-agent.js"),m=o("./node_modules/core-js/internals/classof-raw.js"),x=function(b){return p.slice(0,b.length)===b};d.exports=(function(){return x("Bun/")?"BUN":x("Cloudflare-Workers")?"CLOUDFLARE":x("Deno/")?"DENO":x("Node.js/")?"NODE":f.Bun&&typeof Bun.version=="string"?"BUN":f.Deno&&typeof Deno.version=="object"?"DENO":m(f.process)==="process"?"NODE":f.window&&f.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,m=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),b=o("./node_modules/core-js/internals/define-global-property.js"),j=o("./node_modules/core-js/internals/copy-constructor-properties.js"),y=o("./node_modules/core-js/internals/is-forced.js");d.exports=function(T,R){var z=T.target,X=T.global,Y=T.stat,Q,K,ce,ue,Ne,le;if(X?K=f:Y?K=f[z]||b(z,{}):K=f[z]&&f[z].prototype,K)for(ce in R){if(Ne=R[ce],T.dontCallGetSet?(le=p(K,ce),ue=le&&le.value):ue=K[ce],Q=y(X?ce:z+(Y?".":"#")+ce,T.forced),!Q&&ue!==void 0){if(typeof Ne==typeof ue)continue;j(Ne,ue)}(T.sham||ue&&ue.sham)&&m(Ne,"sham",!0),x(K,ce,Ne,T)}}}),"./node_modules/core-js/internals/fails.js":(function(d){d.exports=function(A){try{return!!A()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(d,A,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/define-built-in.js"),m=o("./node_modules/core-js/internals/regexp-exec.js"),x=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),j=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=b("species"),T=RegExp.prototype;d.exports=function(R,z,X,Y){var Q=b(R),K=!x(function(){var le={};return le[Q]=function(){return 7},""[R](le)!==7}),ce=K&&!x(function(){var le=!1,Ce=/a/;if(R==="split"){var oe={};oe[y]=function(){return Ce},Ce={constructor:oe,flags:""},Ce[Q]=/./[Q]}return Ce.exec=function(){return le=!0,null},Ce[Q](""),!le});if(!K||!ce||X){var ue=/./[Q],Ne=z(Q,""[R],function(le,Ce,oe,je,Ae){var se=Ce.exec;return se===m||se===T.exec?K&&!Ae?{done:!0,value:f(ue,Ce,oe,je)}:{done:!0,value:f(le,oe,Ce,je)}:{done:!1}});p(String.prototype,R,Ne[0]),p(T,Q,Ne[1])}Y&&j(T[Q],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),p=Function.prototype,m=p.apply,x=p.call;d.exports=typeof Reflect=="object"&&Reflect.apply||(f?x.bind(m):function(){return x.apply(m,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),p=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/function-bind-native.js"),x=f(f.bind);d.exports=function(b,j){return p(b),j===void 0?b:m?x(b,j):function(){return b.apply(j,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){var p=(function(){}).bind();return typeof p!="function"||p.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),p=Function.prototype.call;d.exports=f?p.bind(p):function(){return p.apply(p,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=Function.prototype,x=f&&Object.getOwnPropertyDescriptor,b=p(m,"name"),j=b&&(function(){}).name==="something",y=b&&(!f||f&&x(m,"name").configurable);d.exports={EXISTS:b,PROPER:j,CONFIGURABLE:y}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/a-callable.js");d.exports=function(m,x,b){try{return f(p(Object.getOwnPropertyDescriptor(m,x)[b]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=function(m){if(f(m)==="Function")return p(m)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),p=Function.prototype,m=p.call,x=f&&p.bind.bind(m,m);d.exports=f?x:function(b){return function(){return m.apply(b,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=function(x){return p(x)?x:void 0};d.exports=function(x,b){return arguments.length<2?m(f[x]):f[x]&&f[x][b]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(d){d.exports=function(A){return{iterator:A,next:A.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),p=o("./node_modules/core-js/internals/get-method.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/iterators.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),j=b("iterator");d.exports=function(y){if(!m(y))return p(y,j)||p(y,"@@iterator")||x[f(y)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),b=o("./node_modules/core-js/internals/get-iterator-method.js"),j=TypeError;d.exports=function(y,T){var R=arguments.length<2?b(y):T;if(p(R))return m(f(R,y));throw new j(x(y)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/is-null-or-undefined.js");d.exports=function(m,x){var b=m[x];return p(b)?void 0:f(b)}}),"./node_modules/core-js/internals/get-set-record.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),b=o("./node_modules/core-js/internals/get-iterator-direct.js"),j="Invalid size",y=RangeError,T=TypeError,R=Math.max,z=function(X,Y){this.set=X,this.size=R(Y,0),this.has=f(X.has),this.keys=f(X.keys)};z.prototype={getIterator:function(){return b(p(m(this.keys,this.set)))},includes:function(X){return m(this.has,this.set,X)}},d.exports=function(X){p(X);var Y=+X.size;if(Y!==Y)throw new T(j);var Q=x(Y);if(Q<0)throw new y(j);return new z(X,Q)}}),"./node_modules/core-js/internals/get-substitution.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/to-object.js"),m=Math.floor,x=f("".charAt),b=f("".replace),j=f("".slice),y=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,T=/\$([$&'`]|\d{1,2})/g;d.exports=function(R,z,X,Y,Q,K){var ce=X+R.length,ue=Y.length,Ne=T;return Q!==void 0&&(Q=p(Q),Ne=y),b(K,Ne,function(le,Ce){var oe;switch(x(Ce,0)){case"$":return"$";case"&":return R;case"`":return j(z,0,X);case"'":return j(z,ce);case"<":oe=Q[j(Ce,1,-1)];break;default:var je=+Ce;if(je===0)return le;if(je>ue){var Ae=m(je/10);return Ae===0?le:Ae<=ue?Y[Ae-1]===void 0?x(Ce,1):Y[Ae-1]+x(Ce,1):le}oe=Y[je-1]}return oe===void 0?"":oe})}}),"./node_modules/core-js/internals/global-this.js":(function(d){var A=function(o){return o&&o.Math===Math&&o};d.exports=A(typeof globalThis=="object"&&globalThis)||A(typeof window=="object"&&window)||A(typeof self=="object"&&self)||A(typeof Op=="object"&&Op)||A(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/to-object.js"),m=f({}.hasOwnProperty);d.exports=Object.hasOwn||function(b,j){return m(p(b),j)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(d){d.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(d){d.exports=function(A,o){try{arguments.length===1?console.error(A):console.error(A,o)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js");d.exports=f("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/document-create-element.js");d.exports=!f&&!p(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/classof-raw.js"),x=Object,b=f("".split);d.exports=p(function(){return!x("z").propertyIsEnumerable(0)})?function(j){return m(j)==="String"?b(j,""):x(j)}:x}),"./node_modules/core-js/internals/inherit-if-required.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/object-set-prototype-of.js");d.exports=function(x,b,j){var y,T;return m&&f(y=b.constructor)&&y!==j&&p(T=y.prototype)&&T!==j.prototype&&m(x,T),x}}),"./node_modules/core-js/internals/inspect-source.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/shared-store.js"),x=f(Function.toString);p(m.inspectSource)||(m.inspectSource=function(b){return x(b)}),d.exports=m.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/hidden-keys.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),j=o("./node_modules/core-js/internals/object-define-property.js").f,y=o("./node_modules/core-js/internals/object-get-own-property-names.js"),T=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),R=o("./node_modules/core-js/internals/object-is-extensible.js"),z=o("./node_modules/core-js/internals/uid.js"),X=o("./node_modules/core-js/internals/freezing.js"),Y=!1,Q=z("meta"),K=0,ce=function(je){j(je,Q,{value:{objectID:"O"+K++,weakData:{}}})},ue=function(je,Ae){if(!x(je))return typeof je=="symbol"?je:(typeof je=="string"?"S":"P")+je;if(!b(je,Q)){if(!R(je))return"F";if(!Ae)return"E";ce(je)}return je[Q].objectID},Ne=function(je,Ae){if(!b(je,Q)){if(!R(je))return!0;if(!Ae)return!1;ce(je)}return je[Q].weakData},le=function(je){return X&&Y&&R(je)&&!b(je,Q)&&ce(je),je},Ce=function(){oe.enable=function(){},Y=!0;var je=y.f,Ae=p([].splice),se={};se[Q]=1,je(se).length&&(y.f=function(pe){for(var re=je(pe),Ee=0,De=re.length;Ee<De;Ee++)if(re[Ee]===Q){Ae(re,Ee,1);break}return re},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:T.f}))},oe=d.exports={enable:Ce,fastKey:ue,getWeakData:Ne,onFreeze:le};m[Q]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/weak-map-basic-detection.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),j=o("./node_modules/core-js/internals/shared-store.js"),y=o("./node_modules/core-js/internals/shared-key.js"),T=o("./node_modules/core-js/internals/hidden-keys.js"),R="Object already initialized",z=p.TypeError,X=p.WeakMap,Y,Q,K,ce=function(Ce){return K(Ce)?Q(Ce):Y(Ce,{})},ue=function(Ce){return function(oe){var je;if(!m(oe)||(je=Q(oe)).type!==Ce)throw new z("Incompatible receiver, "+Ce+" required");return je}};if(f||j.state){var Ne=j.state||(j.state=new X);Ne.get=Ne.get,Ne.has=Ne.has,Ne.set=Ne.set,Y=function(Ce,oe){if(Ne.has(Ce))throw new z(R);return oe.facade=Ce,Ne.set(Ce,oe),oe},Q=function(Ce){return Ne.get(Ce)||{}},K=function(Ce){return Ne.has(Ce)}}else{var le=y("state");T[le]=!0,Y=function(Ce,oe){if(b(Ce,le))throw new z(R);return oe.facade=Ce,x(Ce,le,oe),oe},Q=function(Ce){return b(Ce,le)?Ce[le]:{}},K=function(Ce){return b(Ce,le)}}d.exports={set:Y,get:Q,has:K,enforce:ce,getterFor:ue}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),p=o("./node_modules/core-js/internals/iterators.js"),m=f("iterator"),x=Array.prototype;d.exports=function(b){return b!==void 0&&(p.Array===b||x[m]===b)}}),"./node_modules/core-js/internals/is-array.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js");d.exports=Array.isArray||function(m){return f(m)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(d){var A=typeof document=="object"&&document.all;d.exports=typeof A>"u"&&A!==void 0?function(o){return typeof o=="function"||o===A}:function(o){return typeof o=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/classof.js"),b=o("./node_modules/core-js/internals/get-built-in.js"),j=o("./node_modules/core-js/internals/inspect-source.js"),y=function(){},T=b("Reflect","construct"),R=/^\s*(?:class|function)\b/,z=f(R.exec),X=!R.test(y),Y=function(ce){if(!m(ce))return!1;try{return T(y,[],ce),!0}catch{return!1}},Q=function(ce){if(!m(ce))return!1;switch(x(ce)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return X||!!z(R,j(ce))}catch{return!0}};Q.sham=!0,d.exports=!T||p(function(){var K;return Y(Y.call)||!Y(Object)||!Y(function(){K=!0})||K})?Q:Y}),"./node_modules/core-js/internals/is-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=/#|\.prototype\./,x=function(R,z){var X=j[b(R)];return X===T?!0:X===y?!1:p(z)?f(z):!!z},b=x.normalize=function(R){return String(R).replace(m,".").toLowerCase()},j=x.data={},y=x.NATIVE="N",T=x.POLYFILL="P";d.exports=x}),"./node_modules/core-js/internals/is-iterable.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=o("./node_modules/core-js/internals/iterators.js"),j=x("iterator"),y=Object;d.exports=function(T){if(m(T))return!1;var R=y(T);return R[j]!==void 0||"@@iterator"in R||p(b,f(R))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(d){d.exports=function(A){return A==null}}),"./node_modules/core-js/internals/is-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js");d.exports=function(p){return typeof p=="object"?p!==null:f(p)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js");d.exports=function(p){return f(p)||p===null}}),"./node_modules/core-js/internals/is-pure.js":(function(d){d.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/internal-state.js").get;d.exports=function(x){if(!f(x))return!1;var b=p(x);return!!b&&b.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/classof-raw.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=m("match");d.exports=function(b){var j;return f(b)&&((j=b[x])!==void 0?!!j:p(b)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/object-is-prototype-of.js"),x=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),b=Object;d.exports=x?function(j){return typeof j=="symbol"}:function(j){var y=f("Symbol");return p(y)&&m(y.prototype,b(j))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js");d.exports=function(p,m,x){for(var b=x?p:p.iterator,j=p.next,y,T;!(y=f(j,b)).done;)if(T=m(y.value),T!==void 0)return T}}),"./node_modules/core-js/internals/iterate.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),b=o("./node_modules/core-js/internals/is-array-iterator-method.js"),j=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/object-is-prototype-of.js"),T=o("./node_modules/core-js/internals/get-iterator.js"),R=o("./node_modules/core-js/internals/get-iterator-method.js"),z=o("./node_modules/core-js/internals/iterator-close.js"),X=TypeError,Y=function(K,ce){this.stopped=K,this.result=ce},Q=Y.prototype;d.exports=function(K,ce,ue){var Ne=ue&&ue.that,le=!!(ue&&ue.AS_ENTRIES),Ce=!!(ue&&ue.IS_RECORD),oe=!!(ue&&ue.IS_ITERATOR),je=!!(ue&&ue.INTERRUPTED),Ae=f(ce,Ne),se,pe,re,Ee,De,Se,fe,be=function(te){return se&&z(se,"normal"),new Y(!0,te)},he=function(te){return le?(m(te),je?Ae(te[0],te[1],be):Ae(te[0],te[1])):je?Ae(te,be):Ae(te)};if(Ce)se=K.iterator;else if(oe)se=K;else{if(pe=R(K),!pe)throw new X(x(K)+" is not iterable");if(b(pe)){for(re=0,Ee=j(K);Ee>re;re++)if(De=he(K[re]),De&&y(Q,De))return De;return new Y(!1)}se=T(K,pe)}for(Se=Ce?K.next:se.next;!(fe=p(Se,se)).done;){try{De=he(fe.value)}catch(te){z(se,"throw",te)}if(typeof De=="object"&&De&&y(Q,De))return De}return new Y(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(p,m,x){for(var b=p.length-1;b>=0;b--)if(p[b]!==void 0)try{x=f(p[b].iterator,m,x)}catch(j){m="throw",x=j}if(m==="throw")throw x;return x}}),"./node_modules/core-js/internals/iterator-close.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/get-method.js");d.exports=function(x,b,j){var y,T;p(x);try{if(y=m(x,"return"),!y){if(b==="throw")throw j;return j}y=f(y,x)}catch(R){T=!0,y=R}if(b==="throw")throw j;if(T)throw y;return p(y),j}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,p=o("./node_modules/core-js/internals/object-create.js"),m=o("./node_modules/core-js/internals/create-property-descriptor.js"),x=o("./node_modules/core-js/internals/set-to-string-tag.js"),b=o("./node_modules/core-js/internals/iterators.js"),j=function(){return this};d.exports=function(y,T,R,z){var X=T+" Iterator";return y.prototype=p(f,{next:m(+!z,R)}),x(y,X,!1,!0),b[X]=j,y}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/object-create.js"),m=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=o("./node_modules/core-js/internals/define-built-ins.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),j=o("./node_modules/core-js/internals/internal-state.js"),y=o("./node_modules/core-js/internals/get-method.js"),T=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,R=o("./node_modules/core-js/internals/create-iter-result-object.js"),z=o("./node_modules/core-js/internals/iterator-close.js"),X=o("./node_modules/core-js/internals/iterator-close-all.js"),Y=b("toStringTag"),Q="IteratorHelper",K="WrapForValidIterator",ce="normal",ue="throw",Ne=j.set,le=function(je){var Ae=j.getterFor(je?K:Q);return x(p(T),{next:function(){var pe=Ae(this);if(je)return pe.nextHandler();if(pe.done)return R(void 0,!0);try{var re=pe.nextHandler();return pe.returnHandlerResult?re:R(re,pe.done)}catch(Ee){throw pe.done=!0,Ee}},return:function(){var se=Ae(this),pe=se.iterator;if(se.done=!0,je){var re=y(pe,"return");return re?f(re,pe):R(void 0,!0)}if(se.inner)try{z(se.inner.iterator,ce)}catch(Ee){return z(pe,ue,Ee)}if(se.openIters)try{X(se.openIters,ce)}catch(Ee){return z(pe,ue,Ee)}return pe&&z(pe,ce),R(void 0,!0)}})},Ce=le(!0),oe=le(!1);m(oe,Y,"Iterator Helper"),d.exports=function(je,Ae,se){var pe=function(Ee,De){De?(De.iterator=Ee.iterator,De.next=Ee.next):De=Ee,De.type=Ae?K:Q,De.returnHandlerResult=!!se,De.nextHandler=je,De.counter=0,De.done=!1,Ne(this,De)};return pe.prototype=Ae?Ce:oe,pe}}),"./node_modules/core-js/internals/iterator-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/is-pure.js"),x=o("./node_modules/core-js/internals/function-name.js"),b=o("./node_modules/core-js/internals/is-callable.js"),j=o("./node_modules/core-js/internals/iterator-create-constructor.js"),y=o("./node_modules/core-js/internals/object-get-prototype-of.js"),T=o("./node_modules/core-js/internals/object-set-prototype-of.js"),R=o("./node_modules/core-js/internals/set-to-string-tag.js"),z=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),X=o("./node_modules/core-js/internals/define-built-in.js"),Y=o("./node_modules/core-js/internals/well-known-symbol.js"),Q=o("./node_modules/core-js/internals/iterators.js"),K=o("./node_modules/core-js/internals/iterators-core.js"),ce=x.PROPER,ue=x.CONFIGURABLE,Ne=K.IteratorPrototype,le=K.BUGGY_SAFARI_ITERATORS,Ce=Y("iterator"),oe="keys",je="values",Ae="entries",se=function(){return this};d.exports=function(pe,re,Ee,De,Se,fe,be){j(Ee,re,De);var he=function(ls){if(ls===Se&&kt)return kt;if(!le&&ls&&ls in Le)return Le[ls];switch(ls){case oe:return function(){return new Ee(this,ls)};case je:return function(){return new Ee(this,ls)};case Ae:return function(){return new Ee(this,ls)}}return function(){return new Ee(this)}},te=re+" Iterator",ge=!1,Le=pe.prototype,Ve=Le[Ce]||Le["@@iterator"]||Se&&Le[Se],kt=!le&&Ve||he(Se),Bt=re==="Array"&&Le.entries||Ve,We,Lt,$t;if(Bt&&(We=y(Bt.call(new pe)),We!==Object.prototype&&We.next&&(!m&&y(We)!==Ne&&(T?T(We,Ne):b(We[Ce])||X(We,Ce,se)),R(We,te,!0,!0),m&&(Q[te]=se))),ce&&Se===je&&Ve&&Ve.name!==je&&(!m&&ue?z(Le,"name",je):(ge=!0,kt=function(){return p(Ve,this)})),Se)if(Lt={values:he(je),keys:fe?kt:he(oe),entries:he(Ae)},be)for($t in Lt)(le||ge||!($t in Le))&&X(Le,$t,Lt[$t]);else f({target:re,proto:!0,forced:le||ge},Lt);return(!m||be)&&Le[Ce]!==kt&&X(Le,Ce,kt,{name:Se}),Q[re]=kt,Lt}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(d){d.exports=function(A,o){var f=typeof Iterator=="function"&&Iterator.prototype[A];if(f)try{f.call({next:null},o).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=function(p,m){var x=f.Iterator,b=x&&x.prototype,j=b&&b[p],y=!1;if(j)try{j.call({next:function(){return{done:!0}},return:function(){y=!0}},-1)}catch(T){T instanceof m||(y=!1)}if(!y)return j}}),"./node_modules/core-js/internals/iterators-core.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/object-create.js"),b=o("./node_modules/core-js/internals/object-get-prototype-of.js"),j=o("./node_modules/core-js/internals/define-built-in.js"),y=o("./node_modules/core-js/internals/well-known-symbol.js"),T=o("./node_modules/core-js/internals/is-pure.js"),R=y("iterator"),z=!1,X,Y,Q;[].keys&&(Q=[].keys(),"next"in Q?(Y=b(b(Q)),Y!==Object.prototype&&(X=Y)):z=!0);var K=!m(X)||f(function(){var ce={};return X[R].call(ce)!==ce});K?X={}:T&&(X=x(X)),p(X[R])||j(X,R,function(){return this}),d.exports={IteratorPrototype:X,BUGGY_SAFARI_ITERATORS:z}}),"./node_modules/core-js/internals/iterators.js":(function(d){d.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-length.js");d.exports=function(p){return f(p.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/has-own-property.js"),b=o("./node_modules/core-js/internals/descriptors.js"),j=o("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,y=o("./node_modules/core-js/internals/inspect-source.js"),T=o("./node_modules/core-js/internals/internal-state.js"),R=T.enforce,z=T.get,X=String,Y=Object.defineProperty,Q=f("".slice),K=f("".replace),ce=f([].join),ue=b&&!p(function(){return Y(function(){},"length",{value:8}).length!==8}),Ne=String(String).split("String"),le=d.exports=function(Ce,oe,je){Q(X(oe),0,7)==="Symbol("&&(oe="["+K(X(oe),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),je&&je.getter&&(oe="get "+oe),je&&je.setter&&(oe="set "+oe),(!x(Ce,"name")||j&&Ce.name!==oe)&&(b?Y(Ce,"name",{value:oe,configurable:!0}):Ce.name=oe),ue&&je&&x(je,"arity")&&Ce.length!==je.arity&&Y(Ce,"length",{value:je.arity});try{je&&x(je,"constructor")&&je.constructor?b&&Y(Ce,"prototype",{writable:!1}):Ce.prototype&&(Ce.prototype=void 0)}catch{}var Ae=R(Ce);return x(Ae,"source")||(Ae.source=ce(Ne,typeof oe=="string"?oe:"")),Ce};Function.prototype.toString=le(function(){return m(this)&&z(this).source||y(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(d){var A=Math.ceil,o=Math.floor;d.exports=Math.trunc||function(p){var m=+p;return(m>0?o:A)(m)}}),"./node_modules/core-js/internals/microtask.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/safe-get-built-in.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),x=o("./node_modules/core-js/internals/task.js").set,b=o("./node_modules/core-js/internals/queue.js"),j=o("./node_modules/core-js/internals/environment-is-ios.js"),y=o("./node_modules/core-js/internals/environment-is-ios-pebble.js"),T=o("./node_modules/core-js/internals/environment-is-webos-webkit.js"),R=o("./node_modules/core-js/internals/environment-is-node.js"),z=f.MutationObserver||f.WebKitMutationObserver,X=f.document,Y=f.process,Q=f.Promise,K=p("queueMicrotask"),ce,ue,Ne,le,Ce;if(!K){var oe=new b,je=function(){var Ae,se;for(R&&(Ae=Y.domain)&&Ae.exit();se=oe.get();)try{se()}catch(pe){throw oe.head&&ce(),pe}Ae&&Ae.enter()};!j&&!R&&!T&&z&&X?(ue=!0,Ne=X.createTextNode(""),new z(je).observe(Ne,{characterData:!0}),ce=function(){Ne.data=ue=!ue}):!y&&Q&&Q.resolve?(le=Q.resolve(void 0),le.constructor=Q,Ce=m(le.then,le),ce=function(){Ce(je)}):R?ce=function(){Y.nextTick(je)}:(x=m(x,f),ce=function(){x(je)}),K=function(Ae){oe.head||ce(),oe.add(Ae)}}d.exports=K}),"./node_modules/core-js/internals/native-raw-json.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){var p="9007199254740993",m=JSON.rawJSON(p);return!JSON.isRawJSON(m)||JSON.stringify(m)!==p})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),p=TypeError,m=function(x){var b,j;this.promise=new x(function(y,T){if(b!==void 0||j!==void 0)throw new p("Bad Promise constructor");b=y,j=T}),this.resolve=f(b),this.reject=f(j)};d.exports.f=function(x){return new m(x)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-regexp.js"),p=TypeError;d.exports=function(m){if(f(m))throw new p("The method doesn't accept regular expressions");return m}}),"./node_modules/core-js/internals/object-assign.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/object-keys.js"),j=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),y=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),T=o("./node_modules/core-js/internals/to-object.js"),R=o("./node_modules/core-js/internals/indexed-object.js"),z=Object.assign,X=Object.defineProperty,Y=p([].concat);d.exports=!z||x(function(){if(f&&z({b:1},z(X({},"a",{enumerable:!0,get:function(){X(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var Q={},K={},ce=Symbol("assign detection"),ue="abcdefghijklmnopqrst";return Q[ce]=7,ue.split("").forEach(function(Ne){K[Ne]=Ne}),z({},Q)[ce]!==7||b(z({},K)).join("")!==ue})?function(K,ce){for(var ue=T(K),Ne=arguments.length,le=1,Ce=j.f,oe=y.f;Ne>le;)for(var je=R(arguments[le++]),Ae=Ce?Y(b(je),Ce(je)):b(je),se=Ae.length,pe=0,re;se>pe;)re=Ae[pe++],(!f||m(oe,je,re))&&(ue[re]=je[re]);return ue}:z}),"./node_modules/core-js/internals/object-create.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/object-define-properties.js"),m=o("./node_modules/core-js/internals/enum-bug-keys.js"),x=o("./node_modules/core-js/internals/hidden-keys.js"),b=o("./node_modules/core-js/internals/html.js"),j=o("./node_modules/core-js/internals/document-create-element.js"),y=o("./node_modules/core-js/internals/shared-key.js"),T=">",R="<",z="prototype",X="script",Y=y("IE_PROTO"),Q=function(){},K=function(Ce){return R+X+T+Ce+R+"/"+X+T},ce=function(Ce){Ce.write(K("")),Ce.close();var oe=Ce.parentWindow.Object;return Ce=null,oe},ue=function(){var Ce=j("iframe"),oe="java"+X+":",je;return Ce.style.display="none",b.appendChild(Ce),Ce.src=String(oe),je=Ce.contentWindow.document,je.open(),je.write(K("document.F=Object")),je.close(),je.F},Ne,le=function(){try{Ne=new ActiveXObject("htmlfile")}catch{}le=typeof document<"u"?document.domain&&Ne?ce(Ne):ue():ce(Ne);for(var Ce=m.length;Ce--;)delete le[z][m[Ce]];return le()};x[Y]=!0,d.exports=Object.create||function(oe,je){var Ae;return oe!==null?(Q[z]=f(oe),Ae=new Q,Q[z]=null,Ae[Y]=oe):Ae=le(),je===void 0?Ae:p.f(Ae,je)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),m=o("./node_modules/core-js/internals/object-define-property.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/to-indexed-object.js"),j=o("./node_modules/core-js/internals/object-keys.js");A.f=f&&!p?Object.defineProperties:function(T,R){x(T);for(var z=b(R),X=j(R),Y=X.length,Q=0,K;Y>Q;)m.f(T,K=X[Q++],z[K]);return T}}),"./node_modules/core-js/internals/object-define-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/ie8-dom-define.js"),m=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/to-property-key.js"),j=TypeError,y=Object.defineProperty,T=Object.getOwnPropertyDescriptor,R="enumerable",z="configurable",X="writable";A.f=f?m?function(Q,K,ce){if(x(Q),K=b(K),x(ce),typeof Q=="function"&&K==="prototype"&&"value"in ce&&X in ce&&!ce[X]){var ue=T(Q,K);ue&&ue[X]&&(Q[K]=ce.value,ce={configurable:z in ce?ce[z]:ue[z],enumerable:R in ce?ce[R]:ue[R],writable:!1})}return y(Q,K,ce)}:y:function(Q,K,ce){if(x(Q),K=b(K),x(ce),p)try{return y(Q,K,ce)}catch{}if("get"in ce||"set"in ce)throw new j("Accessors not supported");return"value"in ce&&(Q[K]=ce.value),Q}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),x=o("./node_modules/core-js/internals/create-property-descriptor.js"),b=o("./node_modules/core-js/internals/to-indexed-object.js"),j=o("./node_modules/core-js/internals/to-property-key.js"),y=o("./node_modules/core-js/internals/has-own-property.js"),T=o("./node_modules/core-js/internals/ie8-dom-define.js"),R=Object.getOwnPropertyDescriptor;A.f=f?R:function(X,Y){if(X=b(X),Y=j(Y),T)try{return R(X,Y)}catch{}if(y(X,Y))return x(!p(m.f,X,Y),X[Y])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js"),p=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,x=o("./node_modules/core-js/internals/array-slice.js"),b=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],j=function(y){try{return m(y)}catch{return x(b)}};d.exports.f=function(T){return b&&f(T)==="Window"?j(T):m(p(T))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-keys-internal.js"),p=o("./node_modules/core-js/internals/enum-bug-keys.js"),m=p.concat("length","prototype");A.f=Object.getOwnPropertyNames||function(b){return f(b,m)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(d,A){A.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/to-object.js"),x=o("./node_modules/core-js/internals/shared-key.js"),b=o("./node_modules/core-js/internals/correct-prototype-getter.js"),j=x("IE_PROTO"),y=Object,T=y.prototype;d.exports=b?y.getPrototypeOf:function(R){var z=m(R);if(f(z,j))return z[j];var X=z.constructor;return p(X)&&z instanceof X?X.prototype:z instanceof y?T:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/classof-raw.js"),x=o("./node_modules/core-js/internals/array-buffer-non-extensible.js"),b=Object.isExtensible,j=f(function(){});d.exports=j||x?function(T){return!p(T)||x&&m(T)==="ArrayBuffer"?!1:b?b(T):!0}:b}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/to-indexed-object.js"),x=o("./node_modules/core-js/internals/array-includes.js").indexOf,b=o("./node_modules/core-js/internals/hidden-keys.js"),j=f([].push);d.exports=function(y,T){var R=m(y),z=0,X=[],Y;for(Y in R)!p(b,Y)&&p(R,Y)&&j(X,Y);for(;T.length>z;)p(R,Y=T[z++])&&(~x(X,Y)||j(X,Y));return X}}),"./node_modules/core-js/internals/object-keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-keys-internal.js"),p=o("./node_modules/core-js/internals/enum-bug-keys.js");d.exports=Object.keys||function(x){return f(x,p)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(d,A){var o={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,p=f&&!o.call({1:2},1);A.f=p?function(x){var b=f(this,x);return!!b&&b.enumerable}:o}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js"),x=o("./node_modules/core-js/internals/a-possible-prototype.js");d.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var b=!1,j={},y;try{y=f(Object.prototype,"__proto__","set"),y(j,[]),b=j instanceof Array}catch{}return function(R,z){return m(R),x(z),p(R)&&(b?y(R,z):R.__proto__=z),R}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),p=o("./node_modules/core-js/internals/classof.js");d.exports=f?{}.toString:function(){return"[object "+p(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/is-object.js"),x=TypeError;d.exports=function(b,j){var y,T;if(j==="string"&&p(y=b.toString)&&!m(T=f(y,b))||p(y=b.valueOf)&&!m(T=f(y,b))||j!=="string"&&p(y=b.toString)&&!m(T=f(y,b)))return T;throw new x("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/object-get-own-property-names.js"),x=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),b=o("./node_modules/core-js/internals/an-object.js"),j=p([].concat);d.exports=f("Reflect","ownKeys")||function(T){var R=m.f(b(T)),z=x.f;return z?j(R,z(T)):R}}),"./node_modules/core-js/internals/parse-json-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=SyntaxError,x=parseInt,b=String.fromCharCode,j=f("".charAt),y=f("".slice),T=f(/./.exec),R={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},z=/^[\da-f]{4}$/i,X=/^[\u0000-\u001F]$/;d.exports=function(Y,Q){for(var K=!0,ce="";Q<Y.length;){var ue=j(Y,Q);if(ue==="\\"){var Ne=y(Y,Q,Q+2);if(p(R,Ne))ce+=R[Ne],Q+=2;else if(Ne==="\\u"){Q+=2;var le=y(Y,Q,Q+4);if(!T(z,le))throw new m("Bad Unicode escape at: "+Q);ce+=b(x(le,16)),Q+=4}else throw new m('Unknown escape sequence: "'+Ne+'"')}else if(ue==='"'){K=!1,Q++;break}else{if(T(X,ue))throw new m("Bad control character in string literal at: "+Q);ce+=ue,Q++}}if(K)throw new m("Unterminated string at: "+Q);return{value:ce,end:Q}}}),"./node_modules/core-js/internals/path.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=f}),"./node_modules/core-js/internals/perform.js":(function(d){d.exports=function(A){try{return{error:!1,value:A()}}catch(o){return{error:!0,value:o}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/promise-native-constructor.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/is-forced.js"),b=o("./node_modules/core-js/internals/inspect-source.js"),j=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/environment.js"),T=o("./node_modules/core-js/internals/is-pure.js"),R=o("./node_modules/core-js/internals/environment-v8-version.js"),z=p&&p.prototype,X=j("species"),Y=!1,Q=m(f.PromiseRejectionEvent),K=x("Promise",function(){var ce=b(p),ue=ce!==String(p);if(!ue&&R===66||T&&!(z.catch&&z.finally))return!0;if(!R||R<51||!/native code/.test(ce)){var Ne=new p(function(oe){oe(1)}),le=function(oe){oe(function(){},function(){})},Ce=Ne.constructor={};if(Ce[X]=le,Y=Ne.then(function(){})instanceof le,!Y)return!0}return!ue&&(y==="BROWSER"||y==="DENO")&&!Q});d.exports={CONSTRUCTOR:K,REJECTION_EVENT:Q,SUBCLASSING:Y}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=f.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/new-promise-capability.js");d.exports=function(x,b){if(f(x),p(b)&&b.constructor===x)return b;var j=m.f(x),y=j.resolve;return y(b),j.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/promise-native-constructor.js"),p=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),m=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;d.exports=m||!p(function(x){f.all(x).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(d){var A=function(){this.head=null,this.tail=null};A.prototype={add:function(o){var f={item:o,next:null},p=this.tail;p?p.next=f:this.head=f,this.tail=f},get:function(){var o=this.head;if(o){var f=this.head=o.next;return f===null&&(this.tail=null),o.item}}},d.exports=A}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/classof-raw.js"),b=o("./node_modules/core-js/internals/regexp-exec.js"),j=TypeError;d.exports=function(y,T){var R=y.exec;if(m(R)){var z=f(R,y,T);return z!==null&&p(z),z}if(x(y)==="RegExp")return f(b,y,T);throw new j("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/regexp-flags.js"),b=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),j=o("./node_modules/core-js/internals/shared.js"),y=o("./node_modules/core-js/internals/object-create.js"),T=o("./node_modules/core-js/internals/internal-state.js").get,R=o("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),z=o("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),X=j("native-string-replace",String.prototype.replace),Y=RegExp.prototype.exec,Q=Y,K=p("".charAt),ce=p("".indexOf),ue=p("".replace),Ne=p("".slice),le=(function(){var Ae=/a/,se=/b*/g;return f(Y,Ae,"a"),f(Y,se,"a"),Ae.lastIndex!==0||se.lastIndex!==0})(),Ce=b.BROKEN_CARET,oe=/()??/.exec("")[1]!==void 0,je=le||oe||Ce||R||z;je&&(Q=function(se){var pe=this,re=T(pe),Ee=m(se),De=re.raw,Se,fe,be,he,te,ge,Le;if(De)return De.lastIndex=pe.lastIndex,Se=f(Q,De,Ee),pe.lastIndex=De.lastIndex,Se;var Ve=re.groups,kt=Ce&&pe.sticky,Bt=f(x,pe),We=pe.source,Lt=0,$t=Ee;if(kt&&(Bt=ue(Bt,"y",""),ce(Bt,"g")===-1&&(Bt+="g"),$t=Ne(Ee,pe.lastIndex),pe.lastIndex>0&&(!pe.multiline||pe.multiline&&K(Ee,pe.lastIndex-1)!==`
`)&&(We="(?: "+We+")",$t=" "+$t,Lt++),fe=new RegExp("^(?:"+We+")",Bt)),oe&&(fe=new RegExp("^"+We+"$(?!\\s)",Bt)),le&&(be=pe.lastIndex),he=f(Y,kt?fe:pe,$t),kt?he?(he.input=Ne(he.input,Lt),he[0]=Ne(he[0],Lt),he.index=pe.lastIndex,pe.lastIndex+=he[0].length):pe.lastIndex=0:le&&he&&(pe.lastIndex=pe.global?he.index+he[0].length:be),oe&&he&&he.length>1&&f(X,he[0],fe,function(){for(te=1;te<arguments.length-2;te++)arguments[te]===void 0&&(he[te]=void 0)}),he&&Ve)for(he.groups=ge=y(null),te=0;te<Ve.length;te++)Le=Ve[te],ge[Le[0]]=he[Le[1]];return he}),d.exports=Q}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/fails.js"),m=f.RegExp,x=!p(function(){var b=!0;try{m(".","d")}catch{b=!1}var j={},y="",T=b?"dgimsy":"gimsy",R=function(Q,K){Object.defineProperty(j,Q,{get:function(){return y+=K,!0}})},z={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};b&&(z.hasIndices="d");for(var X in z)R(X,z[X]);var Y=Object.getOwnPropertyDescriptor(m.prototype,"flags").get.call(j);return Y!==T||y!==T});d.exports={correct:x}}),"./node_modules/core-js/internals/regexp-flags.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js");d.exports=function(){var p=f(this),m="";return p.hasIndices&&(m+="d"),p.global&&(m+="g"),p.ignoreCase&&(m+="i"),p.multiline&&(m+="m"),p.dotAll&&(m+="s"),p.unicode&&(m+="u"),p.unicodeSets&&(m+="v"),p.sticky&&(m+="y"),m}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/object-is-prototype-of.js"),x=o("./node_modules/core-js/internals/regexp-flags-detection.js"),b=o("./node_modules/core-js/internals/regexp-flags.js"),j=RegExp.prototype;d.exports=x.correct?function(y){return y.flags}:function(y){return!x.correct&&m(j,y)&&!p(y,"flags")?f(b,y):y.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=p.RegExp,x=f(function(){var y=m("a","y");return y.lastIndex=2,y.exec("abcd")!==null}),b=x||f(function(){return!m("a","y").sticky}),j=x||f(function(){var y=m("^r","gy");return y.lastIndex=2,y.exec("str")!==null});d.exports={BROKEN_CARET:j,MISSED_STICKY:b,UNSUPPORTED_Y:x}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=p.RegExp;d.exports=f(function(){var x=m(".","s");return!(x.dotAll&&x.test(`
`)&&x.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=p.RegExp;d.exports=f(function(){var x=m("(?<a>b)","g");return x.exec("b").groups.a!=="b"||"b".replace(x,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-null-or-undefined.js"),p=TypeError;d.exports=function(m){if(f(m))throw new p("Can't call method on "+m);return m}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/descriptors.js"),m=Object.getOwnPropertyDescriptor;d.exports=function(x){if(!p)return f[x];var b=m(f,x);return b&&b.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/function-apply.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/environment.js"),b=o("./node_modules/core-js/internals/environment-user-agent.js"),j=o("./node_modules/core-js/internals/array-slice.js"),y=o("./node_modules/core-js/internals/validate-arguments-length.js"),T=f.Function,R=/MSIE .\./.test(b)||x==="BUN"&&(function(){var z=f.Bun.version.split(".");return z.length<3||z[0]==="0"&&(z[1]<3||z[1]==="3"&&z[2]==="0")})();d.exports=function(z,X){var Y=X?2:1;return R?function(Q,K){var ce=y(arguments.length,1)>Y,ue=m(Q)?Q:T(Q),Ne=ce?j(arguments,Y):[],le=ce?function(){p(ue,this,Ne)}:ue;return X?z(le,K):z(le)}:z}}),"./node_modules/core-js/internals/set-clone.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/set-helpers.js"),p=o("./node_modules/core-js/internals/set-iterate.js"),m=f.Set,x=f.add;d.exports=function(b){var j=new m;return p(b,function(y){x(j,y)}),j}}),"./node_modules/core-js/internals/set-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js"),m=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/set-size.js"),b=o("./node_modules/core-js/internals/get-set-record.js"),j=o("./node_modules/core-js/internals/set-iterate.js"),y=o("./node_modules/core-js/internals/iterate-simple.js"),T=p.has,R=p.remove;d.exports=function(X){var Y=f(this),Q=b(X),K=m(Y);return x(Y)<=Q.size?j(Y,function(ce){Q.includes(ce)&&R(K,ce)}):y(Q.getIterator(),function(ce){T(K,ce)&&R(K,ce)}),K}}),"./node_modules/core-js/internals/set-helpers.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=Set.prototype;d.exports={Set,add:f(p.add),has:f(p.has),remove:f(p.delete),proto:p}}),"./node_modules/core-js/internals/set-intersection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js"),m=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),j=o("./node_modules/core-js/internals/iterate-simple.js"),y=p.Set,T=p.add,R=p.has;d.exports=function(X){var Y=f(this),Q=x(X),K=new y;return m(Y)>Q.size?j(Q.getIterator(),function(ce){R(Y,ce)&&T(K,ce)}):b(Y,function(ce){Q.includes(ce)&&T(K,ce)}),K}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js").has,m=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),j=o("./node_modules/core-js/internals/iterate-simple.js"),y=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(R){var z=f(this),X=x(R);if(m(z)<=X.size)return b(z,function(Q){if(X.includes(Q))return!1},!0)!==!1;var Y=X.getIterator();return j(Y,function(Q){if(p(z,Q))return y(Y,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-size.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),x=o("./node_modules/core-js/internals/get-set-record.js");d.exports=function(j){var y=f(this),T=x(j);return p(y)>T.size?!1:m(y,function(R){if(!T.includes(R))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js").has,m=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/iterate-simple.js"),j=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(T){var R=f(this),z=x(T);if(m(R)<z.size)return!1;var X=z.getIterator();return b(X,function(Y){if(!p(R,Y))return j(X,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/iterate-simple.js"),m=o("./node_modules/core-js/internals/set-helpers.js"),x=m.Set,b=m.proto,j=f(b.forEach),y=f(b.keys),T=y(new x).next;d.exports=function(R,z,X){return X?p({iterator:y(R),next:T},z):j(R,z)}}),"./node_modules/core-js/internals/set-size.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),p=o("./node_modules/core-js/internals/set-helpers.js");d.exports=f(p.proto,"size","get")||function(m){return m.size}}),"./node_modules/core-js/internals/set-species.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/define-built-in-accessor.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/descriptors.js"),b=m("species");d.exports=function(j){var y=f(j);x&&y&&!y[b]&&p(y,b,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js"),m=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/iterate-simple.js"),j=p.add,y=p.has,T=p.remove;d.exports=function(z){var X=f(this),Y=x(z).getIterator(),Q=m(X);return b(Y,function(K){y(X,K)?T(Q,K):j(Q,K)}),Q}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-define-property.js").f,p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=m("toStringTag");d.exports=function(b,j,y){b&&!y&&(b=b.prototype),b&&!p(b,x)&&f(b,x,{configurable:!0,value:j})}}),"./node_modules/core-js/internals/set-union.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js").add,m=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/iterate-simple.js");d.exports=function(y){var T=f(this),R=x(y).getIterator(),z=m(T);return b(R,function(X){p(z,X)}),z}}),"./node_modules/core-js/internals/shared-key.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/shared.js"),p=o("./node_modules/core-js/internals/uid.js"),m=f("keys");d.exports=function(x){return m[x]||(m[x]=p(x))}}),"./node_modules/core-js/internals/shared-store.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-pure.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/define-global-property.js"),x="__core-js_shared__",b=d.exports=p[x]||m(x,{});(b.versions||(b.versions=[])).push({version:"3.47.0",mode:f?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/shared-store.js");d.exports=function(p,m){return f[p]||(f[p]=m||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/a-constructor.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=x("species");d.exports=function(j,y){var T=f(j).constructor,R;return T===void 0||m(R=f(T)[b])?y:p(R)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=function(p){return f(function(){var m=""[p]('"');return m!==m.toLowerCase()||m.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),m=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),b=f("".charAt),j=f("".charCodeAt),y=f("".slice),T=function(R){return function(z,X){var Y=m(x(z)),Q=p(X),K=Y.length,ce,ue;return Q<0||Q>=K?R?"":void 0:(ce=j(Y,Q),ce<55296||ce>56319||Q+1===K||(ue=j(Y,Q+1))<56320||ue>57343?R?b(Y,Q):ce:R?y(Y,Q,Q+2):(ce-55296<<10)+(ue-56320)+65536)}};d.exports={codeAt:T(!1),charAt:T(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-name.js").PROPER,p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/whitespaces.js"),x="";d.exports=function(b){return p(function(){return!!m[b]()||x[b]()!==x||f&&m[b].name!==b})}}),"./node_modules/core-js/internals/string-trim.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/require-object-coercible.js"),m=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/whitespaces.js"),b=f("".replace),j=RegExp("^["+x+"]+"),y=RegExp("(^|[^"+x+"])["+x+"]+$"),T=function(R){return function(z){var X=m(p(z));return R&1&&(X=b(X,j,"")),R&2&&(X=b(X,y,"$1")),X}};d.exports={start:T(1),end:T(2),trim:T(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-v8-version.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/global-this.js"),x=m.String;d.exports=!!Object.getOwnPropertySymbols&&!p(function(){var b=Symbol("symbol detection");return!x(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&f&&f<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/define-built-in.js");d.exports=function(){var b=p("Symbol"),j=b&&b.prototype,y=j&&j.valueOf,T=m("toPrimitive");j&&!j[T]&&x(j,T,function(R){return f(y,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/symbol-constructor-detection.js");d.exports=f&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/function-apply.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),x=o("./node_modules/core-js/internals/is-callable.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),j=o("./node_modules/core-js/internals/fails.js"),y=o("./node_modules/core-js/internals/html.js"),T=o("./node_modules/core-js/internals/array-slice.js"),R=o("./node_modules/core-js/internals/document-create-element.js"),z=o("./node_modules/core-js/internals/validate-arguments-length.js"),X=o("./node_modules/core-js/internals/environment-is-ios.js"),Y=o("./node_modules/core-js/internals/environment-is-node.js"),Q=f.setImmediate,K=f.clearImmediate,ce=f.process,ue=f.Dispatch,Ne=f.Function,le=f.MessageChannel,Ce=f.String,oe=0,je={},Ae="onreadystatechange",se,pe,re,Ee;j(function(){se=f.location});var De=function(he){if(b(je,he)){var te=je[he];delete je[he],te()}},Se=function(he){return function(){De(he)}},fe=function(he){De(he.data)},be=function(he){f.postMessage(Ce(he),se.protocol+"//"+se.host)};(!Q||!K)&&(Q=function(te){z(arguments.length,1);var ge=x(te)?te:Ne(te),Le=T(arguments,1);return je[++oe]=function(){p(ge,void 0,Le)},pe(oe),oe},K=function(te){delete je[te]},Y?pe=function(he){ce.nextTick(Se(he))}:ue&&ue.now?pe=function(he){ue.now(Se(he))}:le&&!X?(re=new le,Ee=re.port2,re.port1.onmessage=fe,pe=m(Ee.postMessage,Ee)):f.addEventListener&&x(f.postMessage)&&!f.importScripts&&se&&se.protocol!=="file:"&&!j(be)?(pe=be,f.addEventListener("message",fe,!1)):Ae in R("script")?pe=function(he){y.appendChild(R("script"))[Ae]=function(){y.removeChild(this),De(he)}}:pe=function(he){setTimeout(Se(he),0)}),d.exports={set:Q,clear:K}}),"./node_modules/core-js/internals/this-number-value.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),p=Math.max,m=Math.min;d.exports=function(x,b){var j=f(x);return j<0?p(j+b,0):m(j,b)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/indexed-object.js"),p=o("./node_modules/core-js/internals/require-object-coercible.js");d.exports=function(m){return f(p(m))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/math-trunc.js");d.exports=function(p){var m=+p;return m!==m||m===0?0:f(m)}}),"./node_modules/core-js/internals/to-length.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),p=Math.min;d.exports=function(m){var x=f(m);return x>0?p(x,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/require-object-coercible.js"),p=Object;d.exports=function(m){return p(f(m))}}),"./node_modules/core-js/internals/to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/is-symbol.js"),x=o("./node_modules/core-js/internals/get-method.js"),b=o("./node_modules/core-js/internals/ordinary-to-primitive.js"),j=o("./node_modules/core-js/internals/well-known-symbol.js"),y=TypeError,T=j("toPrimitive");d.exports=function(R,z){if(!p(R)||m(R))return R;var X=x(R,T),Y;if(X){if(z===void 0&&(z="default"),Y=f(X,R,z),!p(Y)||m(Y))return Y;throw new y("Can't convert object to primitive value")}return z===void 0&&(z="number"),b(R,z)}}),"./node_modules/core-js/internals/to-property-key.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-primitive.js"),p=o("./node_modules/core-js/internals/is-symbol.js");d.exports=function(m){var x=f(m,"string");return p(x)?x:x+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/is-iterable.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=f("Set"),j=function(y){return x(y)&&typeof y.size=="number"&&p(y.has)&&p(y.keys)};d.exports=function(y){return j(y)?y:m(y)?new b(y):y}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),p=f("toStringTag"),m={};m[p]="z",d.exports=String(m)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),p=String;d.exports=function(m){if(f(m)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return p(m)}}),"./node_modules/core-js/internals/try-to-string.js":(function(d){var A=String;d.exports=function(o){try{return A(o)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=0,m=Math.random(),x=f(1.1.toString);d.exports=function(b){return"Symbol("+(b===void 0?"":b)+")_"+x(++p+m,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/symbol-constructor-detection.js");d.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/fails.js");d.exports=f&&p(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(d){var A=TypeError;d.exports=function(o,f){if(o<f)throw new A("Not enough arguments");return o}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/is-callable.js"),m=f.WeakMap;d.exports=p(m)&&/native code/.test(String(m))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/path.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),x=o("./node_modules/core-js/internals/object-define-property.js").f;d.exports=function(b){var j=f.Symbol||(f.Symbol={});p(j,b)||x(j,b,{value:m.f(b)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js");A.f=f}),"./node_modules/core-js/internals/well-known-symbol.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/uid.js"),b=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),j=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),y=f.Symbol,T=p("wks"),R=j?y.for||y:y&&y.withoutSetter||x;d.exports=function(z){return m(T,z)||(T[z]=b&&m(y,z)?y[z]:R("Symbol."+z)),T[z]}}),"./node_modules/core-js/internals/whitespaces.js":(function(d){d.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-array.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/to-object.js"),j=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),T=o("./node_modules/core-js/internals/create-property.js"),R=o("./node_modules/core-js/internals/array-species-create.js"),z=o("./node_modules/core-js/internals/array-method-has-species-support.js"),X=o("./node_modules/core-js/internals/well-known-symbol.js"),Y=o("./node_modules/core-js/internals/environment-v8-version.js"),Q=X("isConcatSpreadable"),K=Y>=51||!p(function(){var Ne=[];return Ne[Q]=!1,Ne.concat()[0]!==Ne}),ce=function(Ne){if(!x(Ne))return!1;var le=Ne[Q];return le!==void 0?!!le:m(Ne)},ue=!K||!z("concat");f({target:"Array",proto:!0,arity:1,forced:ue},{concat:function(le){var Ce=b(this),oe=R(Ce,0),je=0,Ae,se,pe,re,Ee;for(Ae=-1,pe=arguments.length;Ae<pe;Ae++)if(Ee=Ae===-1?Ce:arguments[Ae],ce(Ee))for(re=j(Ee),y(je+re),se=0;se<re;se++,je++)se in Ee&&T(oe,je,Ee[se]);else y(je+1),T(oe,je++,Ee);return oe.length=je,oe}})}),"./node_modules/core-js/modules/es.array.from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/array-from.js"),m=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),x=!m(function(b){Array.from(b)});f({target:"Array",stat:!0,forced:x},{from:p})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),m=o("./node_modules/core-js/internals/array-includes.js").indexOf,x=o("./node_modules/core-js/internals/array-method-is-strict.js"),b=p([].indexOf),j=!!b&&1/b([1],1,-0)<0,y=j||!x("indexOf");f({target:"Array",proto:!0,forced:y},{indexOf:function(R){var z=arguments.length>1?arguments[1]:void 0;return j?b(this,R,z)||0:m(this,R,z)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-indexed-object.js"),p=o("./node_modules/core-js/internals/add-to-unscopables.js"),m=o("./node_modules/core-js/internals/iterators.js"),x=o("./node_modules/core-js/internals/internal-state.js"),b=o("./node_modules/core-js/internals/object-define-property.js").f,j=o("./node_modules/core-js/internals/iterator-define.js"),y=o("./node_modules/core-js/internals/create-iter-result-object.js"),T=o("./node_modules/core-js/internals/is-pure.js"),R=o("./node_modules/core-js/internals/descriptors.js"),z="Array Iterator",X=x.set,Y=x.getterFor(z);d.exports=j(Array,"Array",function(K,ce){X(this,{type:z,target:f(K),index:0,kind:ce})},function(){var K=Y(this),ce=K.target,ue=K.index++;if(!ce||ue>=ce.length)return K.target=null,y(void 0,!0);switch(K.kind){case"keys":return y(ue,!1);case"values":return y(ce[ue],!1)}return y([ue,ce[ue]],!1)},"values");var Q=m.Arguments=m.Array;if(p("keys"),p("values"),p("entries"),!T&&R&&Q.name!=="values")try{b(Q,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/to-indexed-object.js"),b=o("./node_modules/core-js/internals/array-method-is-strict.js"),j=p([].join),y=m!==Object,T=y||!b("join",",");f({target:"Array",proto:!0,forced:T},{join:function(z){return j(x(this),z===void 0?",":z)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/array-iteration.js").map,m=o("./node_modules/core-js/internals/array-method-has-species-support.js"),x=m("map");f({target:"Array",proto:!0,forced:!x},{map:function(j){return p(this,j,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/array-reduce.js").left,m=o("./node_modules/core-js/internals/array-method-is-strict.js"),x=o("./node_modules/core-js/internals/environment-v8-version.js"),b=o("./node_modules/core-js/internals/environment-is-node.js"),j=!b&&x>79&&x<83,y=j||!m("reduce");f({target:"Array",proto:!0,forced:y},{reduce:function(R){var z=arguments.length;return p(this,R,z,z>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/is-array.js"),x=p([].reverse),b=[1,2];f({target:"Array",proto:!0,forced:String(b)===String(b.reverse())},{reverse:function(){return m(this)&&(this.length=this.length),x(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/is-array.js"),m=o("./node_modules/core-js/internals/is-constructor.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/to-absolute-index.js"),j=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/to-indexed-object.js"),T=o("./node_modules/core-js/internals/create-property.js"),R=o("./node_modules/core-js/internals/well-known-symbol.js"),z=o("./node_modules/core-js/internals/array-method-has-species-support.js"),X=o("./node_modules/core-js/internals/array-slice.js"),Y=z("slice"),Q=R("species"),K=Array,ce=Math.max;f({target:"Array",proto:!0,forced:!Y},{slice:function(Ne,le){var Ce=y(this),oe=j(Ce),je=b(Ne,oe),Ae=b(le===void 0?oe:le,oe),se,pe,re;if(p(Ce)&&(se=Ce.constructor,m(se)&&(se===K||p(se.prototype))?se=void 0:x(se)&&(se=se[Q],se===null&&(se=void 0)),se===K||se===void 0))return X(Ce,je,Ae);for(pe=new(se===void 0?K:se)(ce(Ae-je,0)),re=0;je<Ae;je++,re++)je in Ce&&T(pe,re,Ce[je]);return pe.length=re,pe}})}),"./node_modules/core-js/modules/es.function.name.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/function-name.js").EXISTS,m=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/define-built-in-accessor.js"),b=Function.prototype,j=m(b.toString),y=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,T=m(y.exec),R="name";f&&!p&&x(b,R,{configurable:!0,get:function(){try{return T(y,j(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/an-instance.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/is-callable.js"),j=o("./node_modules/core-js/internals/object-get-prototype-of.js"),y=o("./node_modules/core-js/internals/define-built-in-accessor.js"),T=o("./node_modules/core-js/internals/create-property.js"),R=o("./node_modules/core-js/internals/fails.js"),z=o("./node_modules/core-js/internals/has-own-property.js"),X=o("./node_modules/core-js/internals/well-known-symbol.js"),Y=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,Q=o("./node_modules/core-js/internals/descriptors.js"),K=o("./node_modules/core-js/internals/is-pure.js"),ce="constructor",ue="Iterator",Ne=X("toStringTag"),le=TypeError,Ce=p[ue],oe=K||!b(Ce)||Ce.prototype!==Y||!R(function(){Ce({})}),je=function(){if(m(this,Y),j(this)===Y)throw new le("Abstract class Iterator not directly constructable")},Ae=function(se,pe){Q?y(Y,se,{configurable:!0,get:function(){return pe},set:function(re){if(x(this),this===Y)throw new le("You can't redefine this property");z(this,se)?this[se]=re:T(this,se,re)}}):Y[se]=pe};z(Y,Ne)||Ae(Ne,ue),(oe||!z(Y,ce)||Y[ce]===Object)&&Ae(ce,je),je.prototype=Y,f({global:!0,constructor:!0,forced:oe},{Iterator:je})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/a-callable.js"),b=o("./node_modules/core-js/internals/an-object.js"),j=o("./node_modules/core-js/internals/get-iterator-direct.js"),y=o("./node_modules/core-js/internals/iterator-close.js"),T=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),R=T("forEach",TypeError);f({target:"Iterator",proto:!0,real:!0,forced:R},{forEach:function(X){b(this);try{x(X)}catch(K){y(this,"throw",K)}if(R)return p(R,this,X);var Y=j(this),Q=0;m(Y,function(K){X(K,Q++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/get-iterator-direct.js"),j=o("./node_modules/core-js/internals/iterator-create-proxy.js"),y=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),T=o("./node_modules/core-js/internals/iterator-close.js"),R=o("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),z=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),X=o("./node_modules/core-js/internals/is-pure.js"),Y=!X&&!R("map",function(){}),Q=!X&&!Y&&z("map",TypeError),K=X||Y||Q,ce=j(function(){var ue=this.iterator,Ne=x(p(this.next,ue)),le=this.done=!!Ne.done;if(!le)return y(ue,this.mapper,[Ne.value,this.counter++],!0)});f({target:"Iterator",proto:!0,real:!0,forced:K},{map:function(Ne){x(this);try{m(Ne)}catch(le){T(this,"throw",le)}return Q?p(Q,this,Ne):new ce(b(this),{mapper:Ne})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/function-apply.js"),x=o("./node_modules/core-js/internals/function-call.js"),b=o("./node_modules/core-js/internals/function-uncurry-this.js"),j=o("./node_modules/core-js/internals/fails.js"),y=o("./node_modules/core-js/internals/is-array.js"),T=o("./node_modules/core-js/internals/is-callable.js"),R=o("./node_modules/core-js/internals/is-raw-json.js"),z=o("./node_modules/core-js/internals/is-symbol.js"),X=o("./node_modules/core-js/internals/classof-raw.js"),Y=o("./node_modules/core-js/internals/to-string.js"),Q=o("./node_modules/core-js/internals/array-slice.js"),K=o("./node_modules/core-js/internals/parse-json-string.js"),ce=o("./node_modules/core-js/internals/uid.js"),ue=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),Ne=o("./node_modules/core-js/internals/native-raw-json.js"),le=String,Ce=p("JSON","stringify"),oe=b(/./.exec),je=b("".charAt),Ae=b("".charCodeAt),se=b("".replace),pe=b("".slice),re=b([].push),Ee=b(1.1.toString),De=/[\uD800-\uDFFF]/g,Se=/^[\uD800-\uDBFF]$/,fe=/^[\uDC00-\uDFFF]$/,be=ce(),he=be.length,te=!ue||j(function(){var Bt=p("Symbol")("stringify detection");return Ce([Bt])!=="[null]"||Ce({a:Bt})!=="{}"||Ce(Object(Bt))!=="{}"}),ge=j(function(){return Ce("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ce("\uDEAD")!=='"\\udead"'}),Le=te?function(Bt,We){var Lt=Q(arguments),$t=kt(We);if(!(!T($t)&&(Bt===void 0||z(Bt))))return Lt[1]=function(ls,Ts){if(T($t)&&(Ts=x($t,this,le(ls),Ts)),!z(Ts))return Ts},m(Ce,null,Lt)}:Ce,Ve=function(Bt,We,Lt){var $t=je(Lt,We-1),ls=je(Lt,We+1);return oe(Se,Bt)&&!oe(fe,ls)||oe(fe,Bt)&&!oe(Se,$t)?"\\u"+Ee(Ae(Bt,0),16):Bt},kt=function(Bt){if(T(Bt))return Bt;if(y(Bt)){for(var We=Bt.length,Lt=[],$t=0;$t<We;$t++){var ls=Bt[$t];typeof ls=="string"?re(Lt,ls):(typeof ls=="number"||X(ls)==="Number"||X(ls)==="String")&&re(Lt,Y(ls))}var Ts=Lt.length,Pe=!0;return function(ut,St){if(Pe)return Pe=!1,St;if(y(this))return St;for(var Is=0;Is<Ts;Is++)if(Lt[Is]===ut)return St}}};Ce&&f({target:"JSON",stat:!0,arity:3,forced:te||ge||!Ne},{stringify:function(We,Lt,$t){var ls=kt(Lt),Ts=[],Pe=Le(We,function(ar,Fs){var Cs=T(ls)?x(ls,this,le(ar),Fs):Fs;return!Ne&&R(Cs)?be+(re(Ts,Cs.rawJSON)-1):Cs},$t);if(typeof Pe!="string"||(ge&&(Pe=se(Pe,De,Ve)),Ne))return Pe;for(var ut="",St=Pe.length,Is=0;Is<St;Is++){var us=je(Pe,Is);if(us==='"'){var br=K(Pe,++Is).end-1,hr=pe(Pe,Is,br);ut+=pe(hr,0,he)===be?Ts[pe(hr,he)]:'"'+hr+'"',Is=br}else ut+=us}return ut}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/descriptors.js"),x=o("./node_modules/core-js/internals/global-this.js"),b=o("./node_modules/core-js/internals/path.js"),j=o("./node_modules/core-js/internals/function-uncurry-this.js"),y=o("./node_modules/core-js/internals/is-forced.js"),T=o("./node_modules/core-js/internals/has-own-property.js"),R=o("./node_modules/core-js/internals/inherit-if-required.js"),z=o("./node_modules/core-js/internals/object-is-prototype-of.js"),X=o("./node_modules/core-js/internals/is-symbol.js"),Y=o("./node_modules/core-js/internals/to-primitive.js"),Q=o("./node_modules/core-js/internals/fails.js"),K=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,ce=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,ue=o("./node_modules/core-js/internals/object-define-property.js").f,Ne=o("./node_modules/core-js/internals/this-number-value.js"),le=o("./node_modules/core-js/internals/string-trim.js").trim,Ce="Number",oe=x[Ce],je=b[Ce],Ae=oe.prototype,se=x.TypeError,pe=j("".slice),re=j("".charCodeAt),Ee=function(te){var ge=Y(te,"number");return typeof ge=="bigint"?ge:De(ge)},De=function(te){var ge=Y(te,"number"),Le,Ve,kt,Bt,We,Lt,$t,ls;if(X(ge))throw new se("Cannot convert a Symbol value to a number");if(typeof ge=="string"&&ge.length>2){if(ge=le(ge),Le=re(ge,0),Le===43||Le===45){if(Ve=re(ge,2),Ve===88||Ve===120)return NaN}else if(Le===48){switch(re(ge,1)){case 66:case 98:kt=2,Bt=49;break;case 79:case 111:kt=8,Bt=55;break;default:return+ge}for(We=pe(ge,2),Lt=We.length,$t=0;$t<Lt;$t++)if(ls=re(We,$t),ls<48||ls>Bt)return NaN;return parseInt(We,kt)}}return+ge},Se=y(Ce,!oe(" 0o1")||!oe("0b1")||oe("+0x1")),fe=function(te){return z(Ae,te)&&Q(function(){Ne(te)})},be=function(ge){var Le=arguments.length<1?0:oe(Ee(ge));return fe(this)?R(Object(Le),this,be):Le};be.prototype=Ae,Se&&!p&&(Ae.constructor=be),f({global:!0,constructor:!0,wrap:!0,forced:Se},{Number:be});var he=function(te,ge){for(var Le=m?K(ge):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ve=0,kt;Le.length>Ve;Ve++)T(ge,kt=Le[Ve])&&!T(te,kt)&&ue(te,kt,ce(ge,kt))};p&&je&&he(b[Ce],je),(Se||p)&&he(b[Ce],oe)}),"./node_modules/core-js/modules/es.object.assign.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/object-assign.js");f({target:"Object",stat:!0,arity:2,forced:Object.assign!==p},{assign:p})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),m=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),b=o("./node_modules/core-js/internals/to-object.js"),j=!p||m(function(){x.f(1)});f({target:"Object",stat:!0,forced:j},{getOwnPropertySymbols:function(T){var R=x.f;return R?R(b(T)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/to-object.js"),m=o("./node_modules/core-js/internals/object-keys.js"),x=o("./node_modules/core-js/internals/fails.js"),b=x(function(){m(1)});f({target:"Object",stat:!0,forced:b},{keys:function(y){return m(p(y))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),p=o("./node_modules/core-js/internals/define-built-in.js"),m=o("./node_modules/core-js/internals/object-to-string.js");f||p(Object.prototype,"toString",m,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/new-promise-capability.js"),b=o("./node_modules/core-js/internals/perform.js"),j=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");f({target:"Promise",stat:!0,forced:y},{all:function(R){var z=this,X=x.f(z),Y=X.resolve,Q=X.reject,K=b(function(){var ce=m(z.resolve),ue=[],Ne=0,le=1;j(R,function(Ce){var oe=Ne++,je=!1;le++,p(ce,z,Ce).then(function(Ae){je||(je=!0,ue[oe]=Ae,--le||Y(ue))},Q)}),--le||Y(ue)});return K.error&&Q(K.value),X.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,x=o("./node_modules/core-js/internals/promise-native-constructor.js"),b=o("./node_modules/core-js/internals/get-built-in.js"),j=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/define-built-in.js"),T=x&&x.prototype;if(f({target:"Promise",proto:!0,forced:m,real:!0},{catch:function(z){return this.then(void 0,z)}}),!p&&j(x)){var R=b("Promise").prototype.catch;T.catch!==R&&y(T,"catch",R,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/environment-is-node.js"),x=o("./node_modules/core-js/internals/global-this.js"),b=o("./node_modules/core-js/internals/path.js"),j=o("./node_modules/core-js/internals/function-call.js"),y=o("./node_modules/core-js/internals/define-built-in.js"),T=o("./node_modules/core-js/internals/object-set-prototype-of.js"),R=o("./node_modules/core-js/internals/set-to-string-tag.js"),z=o("./node_modules/core-js/internals/set-species.js"),X=o("./node_modules/core-js/internals/a-callable.js"),Y=o("./node_modules/core-js/internals/is-callable.js"),Q=o("./node_modules/core-js/internals/is-object.js"),K=o("./node_modules/core-js/internals/an-instance.js"),ce=o("./node_modules/core-js/internals/species-constructor.js"),ue=o("./node_modules/core-js/internals/task.js").set,Ne=o("./node_modules/core-js/internals/microtask.js"),le=o("./node_modules/core-js/internals/host-report-errors.js"),Ce=o("./node_modules/core-js/internals/perform.js"),oe=o("./node_modules/core-js/internals/queue.js"),je=o("./node_modules/core-js/internals/internal-state.js"),Ae=o("./node_modules/core-js/internals/promise-native-constructor.js"),se=o("./node_modules/core-js/internals/promise-constructor-detection.js"),pe=o("./node_modules/core-js/internals/new-promise-capability.js"),re="Promise",Ee=se.CONSTRUCTOR,De=se.REJECTION_EVENT,Se=se.SUBCLASSING,fe=je.getterFor(re),be=je.set,he=Ae&&Ae.prototype,te=Ae,ge=he,Le=x.TypeError,Ve=x.document,kt=x.process,Bt=pe.f,We=Bt,Lt=!!(Ve&&Ve.createEvent&&x.dispatchEvent),$t="unhandledrejection",ls="rejectionhandled",Ts=0,Pe=1,ut=2,St=1,Is=2,us,br,hr,ar,Fs=function(ft){var Vt;return Q(ft)&&Y(Vt=ft.then)?Vt:!1},Cs=function(ft,Vt){var js=Vt.value,Vs=Vt.state===Pe,or=Vs?ft.ok:ft.fail,yt=ft.resolve,qt=ft.reject,As=ft.domain,hs,Ks,$s;try{or?(Vs||(Vt.rejection===Is&&Nr(Vt),Vt.rejection=St),or===!0?hs=js:(As&&As.enter(),hs=or(js),As&&(As.exit(),$s=!0)),hs===ft.promise?qt(new Le("Promise-chain cycle")):(Ks=Fs(hs))?j(Ks,hs,yt,qt):yt(hs)):qt(js)}catch(fr){As&&!$s&&As.exit(),qt(fr)}},Bs=function(ft,Vt){ft.notified||(ft.notified=!0,Ne(function(){for(var js=ft.reactions,Vs;Vs=js.get();)Cs(Vs,ft);ft.notified=!1,Vt&&!ft.rejection&&gr(ft)}))},vr=function(ft,Vt,js){var Vs,or;Lt?(Vs=Ve.createEvent("Event"),Vs.promise=Vt,Vs.reason=js,Vs.initEvent(ft,!1,!0),x.dispatchEvent(Vs)):Vs={promise:Vt,reason:js},!De&&(or=x["on"+ft])?or(Vs):ft===$t&&le("Unhandled promise rejection",js)},gr=function(ft){j(ue,x,function(){var Vt=ft.facade,js=ft.value,Vs=en(ft),or;if(Vs&&(or=Ce(function(){m?kt.emit("unhandledRejection",js,Vt):vr($t,Vt,js)}),ft.rejection=m||en(ft)?Is:St,or.error))throw or.value})},en=function(ft){return ft.rejection!==St&&!ft.parent},Nr=function(ft){j(ue,x,function(){var Vt=ft.facade;m?kt.emit("rejectionHandled",Vt):vr(ls,Vt,ft.value)})},er=function(ft,Vt,js){return function(Vs){ft(Vt,Vs,js)}},Ys=function(ft,Vt,js){ft.done||(ft.done=!0,js&&(ft=js),ft.value=Vt,ft.state=ut,Bs(ft,!0))},Es=function(ft,Vt,js){if(!ft.done){ft.done=!0,js&&(ft=js);try{if(ft.facade===Vt)throw new Le("Promise can't be resolved itself");var Vs=Fs(Vt);Vs?Ne(function(){var or={done:!1};try{j(Vs,Vt,er(Es,or,ft),er(Ys,or,ft))}catch(yt){Ys(or,yt,ft)}}):(ft.value=Vt,ft.state=Pe,Bs(ft,!1))}catch(or){Ys({done:!1},or,ft)}}};if(Ee&&(te=function(Vt){K(this,ge),X(Vt),j(us,this);var js=fe(this);try{Vt(er(Es,js),er(Ys,js))}catch(Vs){Ys(js,Vs)}},ge=te.prototype,us=function(Vt){be(this,{type:re,done:!1,notified:!1,parent:!1,reactions:new oe,rejection:!1,state:Ts,value:null})},us.prototype=y(ge,"then",function(Vt,js){var Vs=fe(this),or=Bt(ce(this,te));return Vs.parent=!0,or.ok=Y(Vt)?Vt:!0,or.fail=Y(js)&&js,or.domain=m?kt.domain:void 0,Vs.state===Ts?Vs.reactions.add(or):Ne(function(){Cs(or,Vs)}),or.promise}),br=function(){var ft=new us,Vt=fe(ft);this.promise=ft,this.resolve=er(Es,Vt),this.reject=er(Ys,Vt)},pe.f=Bt=function(ft){return ft===te||ft===hr?new br(ft):We(ft)},!p&&Y(Ae)&&he!==Object.prototype)){ar=he.then,Se||y(he,"then",function(Vt,js){var Vs=this;return new te(function(or,yt){j(ar,Vs,or,yt)}).then(Vt,js)},{unsafe:!0});try{delete he.constructor}catch{}T&&T(he,ge)}f({global:!0,constructor:!0,wrap:!0,forced:Ee},{Promise:te}),hr=b.Promise,R(te,re,!1,!0),z(re)}),"./node_modules/core-js/modules/es.promise.js":(function(d,A,o){o("./node_modules/core-js/modules/es.promise.constructor.js"),o("./node_modules/core-js/modules/es.promise.all.js"),o("./node_modules/core-js/modules/es.promise.catch.js"),o("./node_modules/core-js/modules/es.promise.race.js"),o("./node_modules/core-js/modules/es.promise.reject.js"),o("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/new-promise-capability.js"),b=o("./node_modules/core-js/internals/perform.js"),j=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");f({target:"Promise",stat:!0,forced:y},{race:function(R){var z=this,X=x.f(z),Y=X.reject,Q=b(function(){var K=m(z.resolve);j(R,function(ce){p(K,z,ce).then(X.resolve,Y)})});return Q.error&&Y(Q.value),X.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/new-promise-capability.js"),m=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;f({target:"Promise",stat:!0,forced:m},{reject:function(b){var j=p.f(this),y=j.reject;return y(b),j.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/is-pure.js"),x=o("./node_modules/core-js/internals/promise-native-constructor.js"),b=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,j=o("./node_modules/core-js/internals/promise-resolve.js"),y=p("Promise"),T=m&&!b;f({target:"Promise",stat:!0,forced:m||b},{resolve:function(z){return j(T&&this===y?x:this,z)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/regexp-exec.js");f({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(d,A,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/to-string.js"),j=(function(){var T=!1,R=/[ac]/;return R.exec=function(){return T=!0,/./.exec.apply(this,arguments)},R.test("abc")===!0&&T})(),y=/./.test;f({target:"RegExp",proto:!0,forced:!j},{test:function(T){var R=x(this),z=b(T),X=R.exec;if(!m(X))return p(y,R,z);var Y=p(X,R,z);return Y===null?!1:(x(Y),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-name.js").PROPER,p=o("./node_modules/core-js/internals/define-built-in.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/fails.js"),j=o("./node_modules/core-js/internals/regexp-get-flags.js"),y="toString",T=RegExp.prototype,R=T[y],z=b(function(){return R.call({source:"a",flags:"b"})!=="/a/b"}),X=f&&R.name!==y;(z||X)&&p(T,y,function(){var Q=m(this),K=x(Q.source),ce=x(j(Q));return"/"+K+"/"+ce},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/collection.js"),p=o("./node_modules/core-js/internals/collection-strong.js");f("Set",function(m){return function(){return m(this,arguments.length?arguments[0]:void 0)}},p)}),"./node_modules/core-js/modules/es.set.js":(function(d,A,o){o("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),m=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,x=o("./node_modules/core-js/internals/to-length.js"),b=o("./node_modules/core-js/internals/to-string.js"),j=o("./node_modules/core-js/internals/not-a-regexp.js"),y=o("./node_modules/core-js/internals/require-object-coercible.js"),T=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),R=o("./node_modules/core-js/internals/is-pure.js"),z=p("".slice),X=Math.min,Y=T("endsWith"),Q=!R&&!Y&&!!(function(){var K=m(String.prototype,"endsWith");return K&&!K.writable})();f({target:"String",proto:!0,forced:!Q&&!Y},{endsWith:function(ce){var ue=b(y(this));j(ce);var Ne=arguments.length>1?arguments[1]:void 0,le=ue.length,Ce=Ne===void 0?le:X(x(Ne),le),oe=b(ce);return z(ue,Ce-oe.length,Ce)===oe}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),b=o("./node_modules/core-js/internals/to-string.js"),j=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),y=p("".indexOf);f({target:"String",proto:!0,forced:!j("includes")},{includes:function(R){return!!~y(b(x(this)),b(m(R)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/string-multibyte.js").charAt,p=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/internal-state.js"),x=o("./node_modules/core-js/internals/iterator-define.js"),b=o("./node_modules/core-js/internals/create-iter-result-object.js"),j="String Iterator",y=m.set,T=m.getterFor(j);x(String,"String",function(R){y(this,{type:j,string:p(R),index:0})},function(){var z=T(this),X=z.string,Y=z.index,Q;return Y>=X.length?b(void 0,!0):(Q=f(X,Y),z.index+=Q.length,b(Q,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/create-html.js"),m=o("./node_modules/core-js/internals/string-html-forced.js");f({target:"String",proto:!0,forced:m("link")},{link:function(b){return p(this,"a","href",b)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/is-object.js"),j=o("./node_modules/core-js/internals/to-length.js"),y=o("./node_modules/core-js/internals/to-string.js"),T=o("./node_modules/core-js/internals/require-object-coercible.js"),R=o("./node_modules/core-js/internals/get-method.js"),z=o("./node_modules/core-js/internals/advance-string-index.js"),X=o("./node_modules/core-js/internals/regexp-get-flags.js"),Y=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),Q=p("".indexOf);m("match",function(K,ce,ue){return[function(le){var Ce=T(this),oe=b(le)?R(le,K):void 0;return oe?f(oe,le,Ce):new RegExp(le)[K](y(Ce))},function(Ne){var le=x(this),Ce=y(Ne),oe=ue(ce,le,Ce);if(oe.done)return oe.value;var je=y(X(le));if(Q(je,"g")===-1)return Y(le,Ce);var Ae=Q(je,"u")!==-1;le.lastIndex=0;for(var se=[],pe=0,re;(re=Y(le,Ce))!==null;){var Ee=y(re[0]);se[pe]=Ee,Ee===""&&(le.lastIndex=z(Ce,j(le.lastIndex),Ae)),pe++}return pe===0?null:se}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-apply.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),b=o("./node_modules/core-js/internals/fails.js"),j=o("./node_modules/core-js/internals/an-object.js"),y=o("./node_modules/core-js/internals/is-callable.js"),T=o("./node_modules/core-js/internals/is-object.js"),R=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),z=o("./node_modules/core-js/internals/to-length.js"),X=o("./node_modules/core-js/internals/to-string.js"),Y=o("./node_modules/core-js/internals/require-object-coercible.js"),Q=o("./node_modules/core-js/internals/advance-string-index.js"),K=o("./node_modules/core-js/internals/get-method.js"),ce=o("./node_modules/core-js/internals/get-substitution.js"),ue=o("./node_modules/core-js/internals/regexp-get-flags.js"),Ne=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),le=o("./node_modules/core-js/internals/well-known-symbol.js"),Ce=le("replace"),oe=Math.max,je=Math.min,Ae=m([].concat),se=m([].push),pe=m("".indexOf),re=m("".slice),Ee=function(be){return be===void 0?be:String(be)},De=(function(){return"a".replace(/./,"$0")==="$0"})(),Se=(function(){return/./[Ce]?/./[Ce]("a","$0")==="":!1})(),fe=!b(function(){var be=/./;return be.exec=function(){var he=[];return he.groups={a:"7"},he},"".replace(be,"$<a>")!=="7"});x("replace",function(be,he,te){var ge=Se?"$":"$0";return[function(Ve,kt){var Bt=Y(this),We=T(Ve)?K(Ve,Ce):void 0;return We?p(We,Ve,Bt,kt):p(he,X(Bt),Ve,kt)},function(Le,Ve){var kt=j(this),Bt=X(Le);if(typeof Ve=="string"&&pe(Ve,ge)===-1&&pe(Ve,"$<")===-1){var We=te(he,kt,Bt,Ve);if(We.done)return We.value}var Lt=y(Ve);Lt||(Ve=X(Ve));var $t=X(ue(kt)),ls=pe($t,"g")!==-1,Ts;ls&&(Ts=pe($t,"u")!==-1,kt.lastIndex=0);for(var Pe=[],ut;ut=Ne(kt,Bt),!(ut===null||(se(Pe,ut),!ls));){var St=X(ut[0]);St===""&&(kt.lastIndex=Q(Bt,z(kt.lastIndex),Ts))}for(var Is="",us=0,br=0;br<Pe.length;br++){ut=Pe[br];for(var hr=X(ut[0]),ar=oe(je(R(ut.index),Bt.length),0),Fs=[],Cs,Bs=1;Bs<ut.length;Bs++)se(Fs,Ee(ut[Bs]));var vr=ut.groups;if(Lt){var gr=Ae([hr],Fs,ar,Bt);vr!==void 0&&se(gr,vr),Cs=X(f(Ve,void 0,gr))}else Cs=ce(hr,Bt,ar,Fs,vr,Ve);ar>=us&&(Is+=re(Bt,us,ar)+Cs,us=ar+hr.length)}return Is+re(Bt,us)}]},!fe||!De||Se)}),"./node_modules/core-js/modules/es.string.split.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/is-object.js"),j=o("./node_modules/core-js/internals/require-object-coercible.js"),y=o("./node_modules/core-js/internals/species-constructor.js"),T=o("./node_modules/core-js/internals/advance-string-index.js"),R=o("./node_modules/core-js/internals/to-length.js"),z=o("./node_modules/core-js/internals/to-string.js"),X=o("./node_modules/core-js/internals/get-method.js"),Y=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),Q=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),K=o("./node_modules/core-js/internals/fails.js"),ce=Q.UNSUPPORTED_Y,ue=4294967295,Ne=Math.min,le=p([].push),Ce=p("".slice),oe=!K(function(){var Ae=/(?:)/,se=Ae.exec;Ae.exec=function(){return se.apply(this,arguments)};var pe="ab".split(Ae);return pe.length!==2||pe[0]!=="a"||pe[1]!=="b"}),je="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;m("split",function(Ae,se,pe){var re="0".split(void 0,0).length?function(Ee,De){return Ee===void 0&&De===0?[]:f(se,this,Ee,De)}:se;return[function(De,Se){var fe=j(this),be=b(De)?X(De,Ae):void 0;return be?f(be,De,fe,Se):f(re,z(fe),De,Se)},function(Ee,De){var Se=x(this),fe=z(Ee);if(!je){var be=pe(re,Se,fe,De,re!==se);if(be.done)return be.value}var he=y(Se,RegExp),te=Se.unicode,ge=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(ce?"g":"y"),Le=new he(ce?"^(?:"+Se.source+")":Se,ge),Ve=De===void 0?ue:De>>>0;if(Ve===0)return[];if(fe.length===0)return Y(Le,fe)===null?[fe]:[];for(var kt=0,Bt=0,We=[];Bt<fe.length;){Le.lastIndex=ce?0:Bt;var Lt=Y(Le,ce?Ce(fe,Bt):fe),$t;if(Lt===null||($t=Ne(R(Le.lastIndex+(ce?Bt:0)),fe.length))===kt)Bt=T(fe,Bt,te);else{if(le(We,Ce(fe,kt,Bt)),We.length===Ve)return We;for(var ls=1;ls<=Lt.length-1;ls++)if(le(We,Lt[ls]),We.length===Ve)return We;Bt=kt=$t}}return le(We,Ce(fe,kt)),We}]},je||!oe,ce)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),m=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,x=o("./node_modules/core-js/internals/to-length.js"),b=o("./node_modules/core-js/internals/to-string.js"),j=o("./node_modules/core-js/internals/not-a-regexp.js"),y=o("./node_modules/core-js/internals/require-object-coercible.js"),T=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),R=o("./node_modules/core-js/internals/is-pure.js"),z=p("".slice),X=Math.min,Y=T("startsWith"),Q=!R&&!Y&&!!(function(){var K=m(String.prototype,"startsWith");return K&&!K.writable})();f({target:"String",proto:!0,forced:!Q&&!Y},{startsWith:function(ce){var ue=b(y(this));j(ce);var Ne=x(X(arguments.length>1?arguments[1]:void 0,ue.length)),le=b(ce);return z(ue,Ne,Ne+le.length)===le}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/string-trim.js").trim,m=o("./node_modules/core-js/internals/string-trim-forced.js");f({target:"String",proto:!0,forced:m("trim")},{trim:function(){return p(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/function-uncurry-this.js"),b=o("./node_modules/core-js/internals/is-pure.js"),j=o("./node_modules/core-js/internals/descriptors.js"),y=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),T=o("./node_modules/core-js/internals/fails.js"),R=o("./node_modules/core-js/internals/has-own-property.js"),z=o("./node_modules/core-js/internals/object-is-prototype-of.js"),X=o("./node_modules/core-js/internals/an-object.js"),Y=o("./node_modules/core-js/internals/to-indexed-object.js"),Q=o("./node_modules/core-js/internals/to-property-key.js"),K=o("./node_modules/core-js/internals/to-string.js"),ce=o("./node_modules/core-js/internals/create-property-descriptor.js"),ue=o("./node_modules/core-js/internals/object-create.js"),Ne=o("./node_modules/core-js/internals/object-keys.js"),le=o("./node_modules/core-js/internals/object-get-own-property-names.js"),Ce=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),oe=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),je=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),Ae=o("./node_modules/core-js/internals/object-define-property.js"),se=o("./node_modules/core-js/internals/object-define-properties.js"),pe=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),re=o("./node_modules/core-js/internals/define-built-in.js"),Ee=o("./node_modules/core-js/internals/define-built-in-accessor.js"),De=o("./node_modules/core-js/internals/shared.js"),Se=o("./node_modules/core-js/internals/shared-key.js"),fe=o("./node_modules/core-js/internals/hidden-keys.js"),be=o("./node_modules/core-js/internals/uid.js"),he=o("./node_modules/core-js/internals/well-known-symbol.js"),te=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ge=o("./node_modules/core-js/internals/well-known-symbol-define.js"),Le=o("./node_modules/core-js/internals/symbol-define-to-primitive.js"),Ve=o("./node_modules/core-js/internals/set-to-string-tag.js"),kt=o("./node_modules/core-js/internals/internal-state.js"),Bt=o("./node_modules/core-js/internals/array-iteration.js").forEach,We=Se("hidden"),Lt="Symbol",$t="prototype",ls=kt.set,Ts=kt.getterFor(Lt),Pe=Object[$t],ut=p.Symbol,St=ut&&ut[$t],Is=p.RangeError,us=p.TypeError,br=p.QObject,hr=je.f,ar=Ae.f,Fs=Ce.f,Cs=pe.f,Bs=x([].push),vr=De("symbols"),gr=De("op-symbols"),en=De("wks"),Nr=!br||!br[$t]||!br[$t].findChild,er=function(As,hs,Ks){var $s=hr(Pe,hs);$s&&delete Pe[hs],ar(As,hs,Ks),$s&&As!==Pe&&ar(Pe,hs,$s)},Ys=j&&T(function(){return ue(ar({},"a",{get:function(){return ar(this,"a",{value:7}).a}})).a!==7})?er:ar,Es=function(As,hs){var Ks=vr[As]=ue(St);return ls(Ks,{type:Lt,tag:As,description:hs}),j||(Ks.description=hs),Ks},ft=function(hs,Ks,$s){hs===Pe&&ft(gr,Ks,$s),X(hs);var fr=Q(Ks);return X($s),R(vr,fr)?($s.enumerable?(R(hs,We)&&hs[We][fr]&&(hs[We][fr]=!1),$s=ue($s,{enumerable:ce(0,!1)})):(R(hs,We)||ar(hs,We,ce(1,ue(null))),hs[We][fr]=!0),Ys(hs,fr,$s)):ar(hs,fr,$s)},Vt=function(hs,Ks){X(hs);var $s=Y(Ks),fr=Ne($s).concat(qt($s));return Bt(fr,function(tn){(!j||m(Vs,$s,tn))&&ft(hs,tn,$s[tn])}),hs},js=function(hs,Ks){return Ks===void 0?ue(hs):Vt(ue(hs),Ks)},Vs=function(hs){var Ks=Q(hs),$s=m(Cs,this,Ks);return this===Pe&&R(vr,Ks)&&!R(gr,Ks)?!1:$s||!R(this,Ks)||!R(vr,Ks)||R(this,We)&&this[We][Ks]?$s:!0},or=function(hs,Ks){var $s=Y(hs),fr=Q(Ks);if(!($s===Pe&&R(vr,fr)&&!R(gr,fr))){var tn=hr($s,fr);return tn&&R(vr,fr)&&!(R($s,We)&&$s[We][fr])&&(tn.enumerable=!0),tn}},yt=function(hs){var Ks=Fs(Y(hs)),$s=[];return Bt(Ks,function(fr){!R(vr,fr)&&!R(fe,fr)&&Bs($s,fr)}),$s},qt=function(As){var hs=As===Pe,Ks=Fs(hs?gr:Y(As)),$s=[];return Bt(Ks,function(fr){R(vr,fr)&&(!hs||R(Pe,fr))&&Bs($s,vr[fr])}),$s};y||(ut=function(){if(z(St,this))throw new us("Symbol is not a constructor");var hs=!arguments.length||arguments[0]===void 0?void 0:K(arguments[0]),Ks=be(hs),$s=function(fr){var tn=this===void 0?p:this;tn===Pe&&m($s,gr,fr),R(tn,We)&&R(tn[We],Ks)&&(tn[We][Ks]=!1);var wa=ce(1,fr);try{Ys(tn,Ks,wa)}catch(Us){if(!(Us instanceof Is))throw Us;er(tn,Ks,wa)}};return j&&Nr&&Ys(Pe,Ks,{configurable:!0,set:$s}),Es(Ks,hs)},St=ut[$t],re(St,"toString",function(){return Ts(this).tag}),re(ut,"withoutSetter",function(As){return Es(be(As),As)}),pe.f=Vs,Ae.f=ft,se.f=Vt,je.f=or,le.f=Ce.f=yt,oe.f=qt,te.f=function(As){return Es(he(As),As)},j&&(Ee(St,"description",{configurable:!0,get:function(){return Ts(this).description}}),b||re(Pe,"propertyIsEnumerable",Vs,{unsafe:!0}))),f({global:!0,constructor:!0,wrap:!0,forced:!y,sham:!y},{Symbol:ut}),Bt(Ne(en),function(As){ge(As)}),f({target:Lt,stat:!0,forced:!y},{useSetter:function(){Nr=!0},useSimple:function(){Nr=!1}}),f({target:"Object",stat:!0,forced:!y,sham:!j},{create:js,defineProperty:ft,defineProperties:Vt,getOwnPropertyDescriptor:or}),f({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:yt}),Le(),Ve(ut,Lt),fe[We]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/global-this.js"),x=o("./node_modules/core-js/internals/function-uncurry-this.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),j=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/object-is-prototype-of.js"),T=o("./node_modules/core-js/internals/to-string.js"),R=o("./node_modules/core-js/internals/define-built-in-accessor.js"),z=o("./node_modules/core-js/internals/copy-constructor-properties.js"),X=m.Symbol,Y=X&&X.prototype;if(p&&j(X)&&(!("description"in Y)||X().description!==void 0)){var Q={},K=function(){var Ae=arguments.length<1||arguments[0]===void 0?void 0:T(arguments[0]),se=y(Y,this)?new X(Ae):Ae===void 0?X():X(Ae);return Ae===""&&(Q[se]=!0),se};z(K,X),K.prototype=Y,Y.constructor=K;var ce=String(X("description detection"))==="Symbol(description detection)",ue=x(Y.valueOf),Ne=x(Y.toString),le=/^Symbol\((.*)\)[^)]+$/,Ce=x("".replace),oe=x("".slice);R(Y,"description",{configurable:!0,get:function(){var Ae=ue(this);if(b(Q,Ae))return"";var se=Ne(Ae),pe=ce?oe(se,7,-1):Ce(se,le,"$1");return pe===""?void 0:pe}}),f({global:!0,constructor:!0,forced:!0},{Symbol:K})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/shared.js"),j=o("./node_modules/core-js/internals/symbol-registry-detection.js"),y=b("string-to-symbol-registry"),T=b("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!j},{for:function(R){var z=x(R);if(m(y,z))return y[z];var X=p("Symbol")(z);return y[z]=X,T[X]=z,X}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol-define.js");f("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(d,A,o){o("./node_modules/core-js/modules/es.symbol.constructor.js"),o("./node_modules/core-js/modules/es.symbol.for.js"),o("./node_modules/core-js/modules/es.symbol.key-for.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/is-symbol.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),b=o("./node_modules/core-js/internals/shared.js"),j=o("./node_modules/core-js/internals/symbol-registry-detection.js"),y=b("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!j},{keyFor:function(R){if(!m(R))throw new TypeError(x(R)+" is not a symbol");if(p(y,R))return y[R]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js").add;f({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var b=p(this),j=0,y=arguments.length;j<y;j++)m(b,arguments[j]);return b}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js").remove;f({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var b=p(this),j=!0,y,T=0,R=arguments.length;T<R;T++)y=m(b,arguments[T]),j=j&&y;return!!j}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-difference.js");f({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(j){return p(x,this,m(j))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{every:function(j){var y=m(this),T=p(j,arguments.length>1?arguments[1]:void 0);return x(y,function(R){if(!T(R,R,y))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-helpers.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),j=x.Set,y=x.add;f({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(R){var z=m(this),X=p(R,arguments.length>1?arguments[1]:void 0),Y=new j;return b(z,function(Q){X(Q,Q,z)&&y(Y,Q)}),Y}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{find:function(j){var y=m(this),T=p(j,arguments.length>1?arguments[1]:void 0),R=x(y,function(z){if(T(z,z,y))return{value:z}},!0);return R&&R.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-intersection.js");f({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(j){return p(x,this,m(j))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-disjoint-from.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(j){return p(x,this,m(j))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-subset-of.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(j){return p(x,this,m(j))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-superset-of.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(j){return p(x,this,m(j))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js"),b=o("./node_modules/core-js/internals/to-string.js"),j=p([].join),y=p([].push);f({target:"Set",proto:!0,real:!0,forced:!0},{join:function(R){var z=m(this),X=R===void 0?",":b(R),Y=[];return x(z,function(Q){y(Y,Q)}),j(Y,X)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-helpers.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),j=x.Set,y=x.add;f({target:"Set",proto:!0,real:!0,forced:!0},{map:function(R){var z=m(this),X=p(R,arguments.length>1?arguments[1]:void 0),Y=new j;return b(z,function(Q){y(Y,X(Q,Q,z))}),Y}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js"),b=TypeError;f({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(y){var T=m(this),R=arguments.length<2,z=R?void 0:arguments[1];if(p(y),x(T,function(X){R?(R=!1,z=X):z=y(z,X,X,T)}),R)throw new b("Reduce of empty set with no initial value");return z}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{some:function(j){var y=m(this),T=p(j,arguments.length>1?arguments[1]:void 0);return x(y,function(R){if(T(R,R,y))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-symmetric-difference.js");f({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(j){return p(x,this,m(j))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-union.js");f({target:"Set",proto:!0,real:!0,forced:!0},{union:function(j){return p(x,this,m(j))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/dom-iterables.js"),m=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),x=o("./node_modules/core-js/internals/array-for-each.js"),b=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),j=function(T){if(T&&T.forEach!==x)try{b(T,"forEach",x)}catch{T.forEach=x}};for(var y in p)p[y]&&j(f[y]&&f[y].prototype);j(m)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/dom-iterables.js"),m=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),x=o("./node_modules/core-js/modules/es.array.iterator.js"),b=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),j=o("./node_modules/core-js/internals/set-to-string-tag.js"),y=o("./node_modules/core-js/internals/well-known-symbol.js"),T=y("iterator"),R=x.values,z=function(Y,Q){if(Y){if(Y[T]!==R)try{b(Y,T,R)}catch{Y[T]=R}if(j(Y,Q,!0),p[Q]){for(var K in x)if(Y[K]!==x[K])try{b(Y,K,x[K])}catch{Y[K]=x[K]}}}};for(var X in p)z(f[X]&&f[X].prototype,X);z(m,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/schedulers-fix.js"),x=m(p.setInterval,!0);f({global:!0,bind:!0,forced:p.setInterval!==x},{setInterval:x})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),p=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/schedulers-fix.js"),x=m(p.setTimeout,!0);f({global:!0,bind:!0,forced:p.setTimeout!==x},{setTimeout:x})}),"./node_modules/core-js/modules/web.timers.js":(function(d,A,o){o("./node_modules/core-js/modules/web.set-interval.js"),o("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(d,A,o){o.r(A),o.d(A,{default:function(){return er}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:f,setPrototypeOf:p,isFrozen:m,getPrototypeOf:x,getOwnPropertyDescriptor:b}=Object;let{freeze:j,seal:y,create:T}=Object,{apply:R,construct:z}=typeof Reflect<"u"&&Reflect;j||(j=function(Es){return Es}),y||(y=function(Es){return Es}),R||(R=function(Es,ft){for(var Vt=arguments.length,js=new Array(Vt>2?Vt-2:0),Vs=2;Vs<Vt;Vs++)js[Vs-2]=arguments[Vs];return Es.apply(ft,js)}),z||(z=function(Es){for(var ft=arguments.length,Vt=new Array(ft>1?ft-1:0),js=1;js<ft;js++)Vt[js-1]=arguments[js];return new Es(...Vt)});const X=re(Array.prototype.forEach),Y=re(Array.prototype.lastIndexOf),Q=re(Array.prototype.pop),K=re(Array.prototype.push),ce=re(Array.prototype.splice),ue=re(String.prototype.toLowerCase),Ne=re(String.prototype.toString),le=re(String.prototype.match),Ce=re(String.prototype.replace),oe=re(String.prototype.indexOf),je=re(String.prototype.trim),Ae=re(Object.prototype.hasOwnProperty),se=re(RegExp.prototype.test),pe=Ee(TypeError);function re(Ys){return function(Es){Es instanceof RegExp&&(Es.lastIndex=0);for(var ft=arguments.length,Vt=new Array(ft>1?ft-1:0),js=1;js<ft;js++)Vt[js-1]=arguments[js];return R(Ys,Es,Vt)}}function Ee(Ys){return function(){for(var Es=arguments.length,ft=new Array(Es),Vt=0;Vt<Es;Vt++)ft[Vt]=arguments[Vt];return z(Ys,ft)}}function De(Ys,Es){let ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ue;p&&p(Ys,null);let Vt=Es.length;for(;Vt--;){let js=Es[Vt];if(typeof js=="string"){const Vs=ft(js);Vs!==js&&(m(Es)||(Es[Vt]=Vs),js=Vs)}Ys[js]=!0}return Ys}function Se(Ys){for(let Es=0;Es<Ys.length;Es++)Ae(Ys,Es)||(Ys[Es]=null);return Ys}function fe(Ys){const Es=T(null);for(const[ft,Vt]of f(Ys))Ae(Ys,ft)&&(Array.isArray(Vt)?Es[ft]=Se(Vt):Vt&&typeof Vt=="object"&&Vt.constructor===Object?Es[ft]=fe(Vt):Es[ft]=Vt);return Es}function be(Ys,Es){for(;Ys!==null;){const Vt=b(Ys,Es);if(Vt){if(Vt.get)return re(Vt.get);if(typeof Vt.value=="function")return re(Vt.value)}Ys=x(Ys)}function ft(){return null}return ft}const he=j(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),te=j(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ge=j(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Le=j(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ve=j(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),kt=j(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Bt=j(["#text"]),We=j(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Lt=j(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$t=j(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ls=j(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ts=y(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Pe=y(/<%[\w\W]*|[\w\W]*%>/gm),ut=y(/\$\{[\w\W]*/gm),St=y(/^data-[\-\w.\u00B7-\uFFFF]+$/),Is=y(/^aria-[\-\w]+$/),us=y(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),br=y(/^(?:\w+script|data):/i),hr=y(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ar=y(/^html$/i),Fs=y(/^[a-z][.\w]*(-[.\w]+)+$/i);var Cs=Object.freeze({__proto__:null,ARIA_ATTR:Is,ATTR_WHITESPACE:hr,CUSTOM_ELEMENT:Fs,DATA_ATTR:St,DOCTYPE_NAME:ar,ERB_EXPR:Pe,IS_ALLOWED_URI:us,IS_SCRIPT_OR_DATA:br,MUSTACHE_EXPR:Ts,TMPLIT_EXPR:ut});const Bs={element:1,text:3,progressingInstruction:7,comment:8,document:9},vr=function(){return typeof window>"u"?null:window},gr=function(Es,ft){if(typeof Es!="object"||typeof Es.createPolicy!="function")return null;let Vt=null;const js="data-tt-policy-suffix";ft&&ft.hasAttribute(js)&&(Vt=ft.getAttribute(js));const Vs="dompurify"+(Vt?"#"+Vt:"");try{return Es.createPolicy(Vs,{createHTML(or){return or},createScriptURL(or){return or}})}catch{return console.warn("TrustedTypes policy "+Vs+" could not be created."),null}},en=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Nr(){let Ys=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vr();const Es=gt=>Nr(gt);if(Es.version="3.3.1",Es.removed=[],!Ys||!Ys.document||Ys.document.nodeType!==Bs.document||!Ys.Element)return Es.isSupported=!1,Es;let{document:ft}=Ys;const Vt=ft,js=Vt.currentScript,{DocumentFragment:Vs,HTMLTemplateElement:or,Node:yt,Element:qt,NodeFilter:As,NamedNodeMap:hs=Ys.NamedNodeMap||Ys.MozNamedAttrMap,HTMLFormElement:Ks,DOMParser:$s,trustedTypes:fr}=Ys,tn=qt.prototype,wa=be(tn,"cloneNode"),Us=be(tn,"remove"),Ds=be(tn,"nextSibling"),sr=be(tn,"childNodes"),ms=be(tn,"parentNode");if(typeof or=="function"){const gt=ft.createElement("template");gt.content&&gt.content.ownerDocument&&(ft=gt.content.ownerDocument)}let Or,Pr="";const{implementation:Ar,createNodeIterator:Da,createDocumentFragment:fa,getElementsByTagName:fn}=ft,{importNode:jn}=Vt;let dn=en();Es.isSupported=typeof f=="function"&&typeof ms=="function"&&Ar&&Ar.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:la,ERB_EXPR:Dn,TMPLIT_EXPR:Ii,DATA_ATTR:Rn,ARIA_ATTR:mc,IS_SCRIPT_OR_DATA:oi,ATTR_WHITESPACE:Uo,CUSTOM_ELEMENT:Kl}=Cs;let{IS_ALLOWED_URI:ho}=Cs,pa=null;const Ni=De({},[...he,...te,...ge,...Ve,...Bt]);let sa=null;const Ua=De({},[...We,...Lt,...$t,...ls]);let qn=Object.seal(T(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),fo=null,Ai=null;const ki=Object.seal(T(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let hl=!0,el=!0,Ul=!1,xa=!0,ja=!1,po=!0,ti=!1,Di=!1,hi=!1,Wr=!1,Ka=!1,Ci=!1,Qa=!0,mo=!1;const Wn="user-content-";let Ki=!0,Ga=!1,Ra={},fi=null;const Fo=De({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Bi=null;const ba=De({},["audio","video","img","source","image","track"]);let pi=null;const eo=De({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Si="http://www.w3.org/1998/Math/MathML",oo="http://www.w3.org/2000/svg",Tt="http://www.w3.org/1999/xhtml";let L=Tt,G=!1,J=null;const E=De({},[Si,oo,Tt],Ne);let M=De({},["mi","mo","mn","ms","mtext"]),$=De({},["annotation-xml"]);const ie=De({},["title","style","font","a","script"]);let ye=null;const Re=["application/xhtml+xml","text/html"],Ze="text/html";let N=null,v=null;const S=ft.createElement("form"),I=function(Ge){return Ge instanceof RegExp||Ge instanceof Function},P=function(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(v&&v===Ge)){if((!Ge||typeof Ge!="object")&&(Ge={}),Ge=fe(Ge),ye=Re.indexOf(Ge.PARSER_MEDIA_TYPE)===-1?Ze:Ge.PARSER_MEDIA_TYPE,N=ye==="application/xhtml+xml"?Ne:ue,pa=Ae(Ge,"ALLOWED_TAGS")?De({},Ge.ALLOWED_TAGS,N):Ni,sa=Ae(Ge,"ALLOWED_ATTR")?De({},Ge.ALLOWED_ATTR,N):Ua,J=Ae(Ge,"ALLOWED_NAMESPACES")?De({},Ge.ALLOWED_NAMESPACES,Ne):E,pi=Ae(Ge,"ADD_URI_SAFE_ATTR")?De(fe(eo),Ge.ADD_URI_SAFE_ATTR,N):eo,Bi=Ae(Ge,"ADD_DATA_URI_TAGS")?De(fe(ba),Ge.ADD_DATA_URI_TAGS,N):ba,fi=Ae(Ge,"FORBID_CONTENTS")?De({},Ge.FORBID_CONTENTS,N):Fo,fo=Ae(Ge,"FORBID_TAGS")?De({},Ge.FORBID_TAGS,N):fe({}),Ai=Ae(Ge,"FORBID_ATTR")?De({},Ge.FORBID_ATTR,N):fe({}),Ra=Ae(Ge,"USE_PROFILES")?Ge.USE_PROFILES:!1,hl=Ge.ALLOW_ARIA_ATTR!==!1,el=Ge.ALLOW_DATA_ATTR!==!1,Ul=Ge.ALLOW_UNKNOWN_PROTOCOLS||!1,xa=Ge.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ja=Ge.SAFE_FOR_TEMPLATES||!1,po=Ge.SAFE_FOR_XML!==!1,ti=Ge.WHOLE_DOCUMENT||!1,Wr=Ge.RETURN_DOM||!1,Ka=Ge.RETURN_DOM_FRAGMENT||!1,Ci=Ge.RETURN_TRUSTED_TYPE||!1,hi=Ge.FORCE_BODY||!1,Qa=Ge.SANITIZE_DOM!==!1,mo=Ge.SANITIZE_NAMED_PROPS||!1,Ki=Ge.KEEP_CONTENT!==!1,Ga=Ge.IN_PLACE||!1,ho=Ge.ALLOWED_URI_REGEXP||us,L=Ge.NAMESPACE||Tt,M=Ge.MATHML_TEXT_INTEGRATION_POINTS||M,$=Ge.HTML_INTEGRATION_POINTS||$,qn=Ge.CUSTOM_ELEMENT_HANDLING||{},Ge.CUSTOM_ELEMENT_HANDLING&&I(Ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(qn.tagNameCheck=Ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ge.CUSTOM_ELEMENT_HANDLING&&I(Ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(qn.attributeNameCheck=Ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ge.CUSTOM_ELEMENT_HANDLING&&typeof Ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(qn.allowCustomizedBuiltInElements=Ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ja&&(el=!1),Ka&&(Wr=!0),Ra&&(pa=De({},Bt),sa=[],Ra.html===!0&&(De(pa,he),De(sa,We)),Ra.svg===!0&&(De(pa,te),De(sa,Lt),De(sa,ls)),Ra.svgFilters===!0&&(De(pa,ge),De(sa,Lt),De(sa,ls)),Ra.mathMl===!0&&(De(pa,Ve),De(sa,$t),De(sa,ls))),Ge.ADD_TAGS&&(typeof Ge.ADD_TAGS=="function"?ki.tagCheck=Ge.ADD_TAGS:(pa===Ni&&(pa=fe(pa)),De(pa,Ge.ADD_TAGS,N))),Ge.ADD_ATTR&&(typeof Ge.ADD_ATTR=="function"?ki.attributeCheck=Ge.ADD_ATTR:(sa===Ua&&(sa=fe(sa)),De(sa,Ge.ADD_ATTR,N))),Ge.ADD_URI_SAFE_ATTR&&De(pi,Ge.ADD_URI_SAFE_ATTR,N),Ge.FORBID_CONTENTS&&(fi===Fo&&(fi=fe(fi)),De(fi,Ge.FORBID_CONTENTS,N)),Ge.ADD_FORBID_CONTENTS&&(fi===Fo&&(fi=fe(fi)),De(fi,Ge.ADD_FORBID_CONTENTS,N)),Ki&&(pa["#text"]=!0),ti&&De(pa,["html","head","body"]),pa.table&&(De(pa,["tbody"]),delete fo.tbody),Ge.TRUSTED_TYPES_POLICY){if(typeof Ge.TRUSTED_TYPES_POLICY.createHTML!="function")throw pe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ge.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Or=Ge.TRUSTED_TYPES_POLICY,Pr=Or.createHTML("")}else Or===void 0&&(Or=gr(fr,js)),Or!==null&&typeof Pr=="string"&&(Pr=Or.createHTML(""));j&&j(Ge),v=Ge}},V=De({},[...te,...ge,...Le]),de=De({},[...Ve,...kt]),q=function(Ge){let Mt=ms(Ge);(!Mt||!Mt.tagName)&&(Mt={namespaceURI:L,tagName:"template"});const is=ue(Ge.tagName),Ht=ue(Mt.tagName);return J[Ge.namespaceURI]?Ge.namespaceURI===oo?Mt.namespaceURI===Tt?is==="svg":Mt.namespaceURI===Si?is==="svg"&&(Ht==="annotation-xml"||M[Ht]):!!V[is]:Ge.namespaceURI===Si?Mt.namespaceURI===Tt?is==="math":Mt.namespaceURI===oo?is==="math"&&$[Ht]:!!de[is]:Ge.namespaceURI===Tt?Mt.namespaceURI===oo&&!$[Ht]||Mt.namespaceURI===Si&&!M[Ht]?!1:!de[is]&&(ie[is]||!V[is]):!!(ye==="application/xhtml+xml"&&J[Ge.namespaceURI]):!1},ee=function(Ge){K(Es.removed,{element:Ge});try{ms(Ge).removeChild(Ge)}catch{Us(Ge)}},ke=function(Ge,Mt){try{K(Es.removed,{attribute:Mt.getAttributeNode(Ge),from:Mt})}catch{K(Es.removed,{attribute:null,from:Mt})}if(Mt.removeAttribute(Ge),Ge==="is")if(Wr||Ka)try{ee(Mt)}catch{}else try{Mt.setAttribute(Ge,"")}catch{}},Me=function(Ge){let Mt=null,is=null;if(hi)Ge="<remove></remove>"+Ge;else{const ts=le(Ge,/^[\r\n\t ]+/);is=ts&&ts[0]}ye==="application/xhtml+xml"&&L===Tt&&(Ge='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ge+"</body></html>");const Ht=Or?Or.createHTML(Ge):Ge;if(L===Tt)try{Mt=new $s().parseFromString(Ht,ye)}catch{}if(!Mt||!Mt.documentElement){Mt=Ar.createDocument(L,"template",null);try{Mt.documentElement.innerHTML=G?Pr:Ht}catch{}}const vt=Mt.body||Mt.documentElement;return Ge&&is&&vt.insertBefore(ft.createTextNode(is),vt.childNodes[0]||null),L===Tt?fn.call(Mt,ti?"html":"body")[0]:ti?Mt.documentElement:vt},$e=function(Ge){return Da.call(Ge.ownerDocument||Ge,Ge,As.SHOW_ELEMENT|As.SHOW_COMMENT|As.SHOW_TEXT|As.SHOW_PROCESSING_INSTRUCTION|As.SHOW_CDATA_SECTION,null)},Je=function(Ge){return Ge instanceof Ks&&(typeof Ge.nodeName!="string"||typeof Ge.textContent!="string"||typeof Ge.removeChild!="function"||!(Ge.attributes instanceof hs)||typeof Ge.removeAttribute!="function"||typeof Ge.setAttribute!="function"||typeof Ge.namespaceURI!="string"||typeof Ge.insertBefore!="function"||typeof Ge.hasChildNodes!="function")},xe=function(Ge){return typeof yt=="function"&&Ge instanceof yt};function ct(gt,Ge,Mt){X(gt,is=>{is.call(Es,Ge,Mt,v)})}const ot=function(Ge){let Mt=null;if(ct(dn.beforeSanitizeElements,Ge,null),Je(Ge))return ee(Ge),!0;const is=N(Ge.nodeName);if(ct(dn.uponSanitizeElement,Ge,{tagName:is,allowedTags:pa}),po&&Ge.hasChildNodes()&&!xe(Ge.firstElementChild)&&se(/<[/\w!]/g,Ge.innerHTML)&&se(/<[/\w!]/g,Ge.textContent)||Ge.nodeType===Bs.progressingInstruction||po&&Ge.nodeType===Bs.comment&&se(/<[/\w]/g,Ge.data))return ee(Ge),!0;if(!(ki.tagCheck instanceof Function&&ki.tagCheck(is))&&(!pa[is]||fo[is])){if(!fo[is]&&Ye(is)&&(qn.tagNameCheck instanceof RegExp&&se(qn.tagNameCheck,is)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(is)))return!1;if(Ki&&!fi[is]){const Ht=ms(Ge)||Ge.parentNode,vt=sr(Ge)||Ge.childNodes;if(vt&&Ht){const ts=vt.length;for(let Xe=ts-1;Xe>=0;--Xe){const rt=wa(vt[Xe],!0);rt.__removalCount=(Ge.__removalCount||0)+1,Ht.insertBefore(rt,Ds(Ge))}}}return ee(Ge),!0}return Ge instanceof qt&&!q(Ge)||(is==="noscript"||is==="noembed"||is==="noframes")&&se(/<\/no(script|embed|frames)/i,Ge.innerHTML)?(ee(Ge),!0):(ja&&Ge.nodeType===Bs.text&&(Mt=Ge.textContent,X([la,Dn,Ii],Ht=>{Mt=Ce(Mt,Ht," ")}),Ge.textContent!==Mt&&(K(Es.removed,{element:Ge.cloneNode()}),Ge.textContent=Mt)),ct(dn.afterSanitizeElements,Ge,null),!1)},At=function(Ge,Mt,is){if(Qa&&(Mt==="id"||Mt==="name")&&(is in ft||is in S))return!1;if(!(el&&!Ai[Mt]&&se(Rn,Mt))){if(!(hl&&se(mc,Mt))){if(!(ki.attributeCheck instanceof Function&&ki.attributeCheck(Mt,Ge))){if(!sa[Mt]||Ai[Mt]){if(!(Ye(Ge)&&(qn.tagNameCheck instanceof RegExp&&se(qn.tagNameCheck,Ge)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(Ge))&&(qn.attributeNameCheck instanceof RegExp&&se(qn.attributeNameCheck,Mt)||qn.attributeNameCheck instanceof Function&&qn.attributeNameCheck(Mt,Ge))||Mt==="is"&&qn.allowCustomizedBuiltInElements&&(qn.tagNameCheck instanceof RegExp&&se(qn.tagNameCheck,is)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(is))))return!1}else if(!pi[Mt]){if(!se(ho,Ce(is,Uo,""))){if(!((Mt==="src"||Mt==="xlink:href"||Mt==="href")&&Ge!=="script"&&oe(is,"data:")===0&&Bi[Ge])){if(!(Ul&&!se(oi,Ce(is,Uo,"")))){if(is)return!1}}}}}}}return!0},Ye=function(Ge){return Ge!=="annotation-xml"&&le(Ge,Kl)},wt=function(Ge){ct(dn.beforeSanitizeAttributes,Ge,null);const{attributes:Mt}=Ge;if(!Mt||Je(Ge))return;const is={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:sa,forceKeepAttr:void 0};let Ht=Mt.length;for(;Ht--;){const vt=Mt[Ht],{name:ts,namespaceURI:Xe,value:rt}=vt,xt=N(ts),bt=rt;let rs=ts==="value"?bt:je(bt);if(is.attrName=xt,is.attrValue=rs,is.keepAttr=!0,is.forceKeepAttr=void 0,ct(dn.uponSanitizeAttribute,Ge,is),rs=is.attrValue,mo&&(xt==="id"||xt==="name")&&(ke(ts,Ge),rs=Wn+rs),po&&se(/((--!?|])>)|<\/(style|title|textarea)/i,rs)){ke(ts,Ge);continue}if(xt==="attributename"&&le(rs,"href")){ke(ts,Ge);continue}if(is.forceKeepAttr)continue;if(!is.keepAttr){ke(ts,Ge);continue}if(!xa&&se(/\/>/i,rs)){ke(ts,Ge);continue}ja&&X([la,Dn,Ii],bs=>{rs=Ce(rs,bs," ")});const ds=N(Ge.nodeName);if(!At(ds,xt,rs)){ke(ts,Ge);continue}if(Or&&typeof fr=="object"&&typeof fr.getAttributeType=="function"&&!Xe)switch(fr.getAttributeType(ds,xt)){case"TrustedHTML":{rs=Or.createHTML(rs);break}case"TrustedScriptURL":{rs=Or.createScriptURL(rs);break}}if(rs!==bt)try{Xe?Ge.setAttributeNS(Xe,ts,rs):Ge.setAttribute(ts,rs),Je(Ge)?ee(Ge):Q(Es.removed)}catch{ke(ts,Ge)}}ct(dn.afterSanitizeAttributes,Ge,null)},Rt=function gt(Ge){let Mt=null;const is=$e(Ge);for(ct(dn.beforeSanitizeShadowDOM,Ge,null);Mt=is.nextNode();)ct(dn.uponSanitizeShadowNode,Mt,null),ot(Mt),wt(Mt),Mt.content instanceof Vs&&gt(Mt.content);ct(dn.afterSanitizeShadowDOM,Ge,null)};return Es.sanitize=function(gt){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mt=null,is=null,Ht=null,vt=null;if(G=!gt,G&&(gt="<!-->"),typeof gt!="string"&&!xe(gt))if(typeof gt.toString=="function"){if(gt=gt.toString(),typeof gt!="string")throw pe("dirty is not a string, aborting")}else throw pe("toString is not a function");if(!Es.isSupported)return gt;if(Di||P(Ge),Es.removed=[],typeof gt=="string"&&(Ga=!1),Ga){if(gt.nodeName){const rt=N(gt.nodeName);if(!pa[rt]||fo[rt])throw pe("root node is forbidden and cannot be sanitized in-place")}}else if(gt instanceof yt)Mt=Me("<!---->"),is=Mt.ownerDocument.importNode(gt,!0),is.nodeType===Bs.element&&is.nodeName==="BODY"||is.nodeName==="HTML"?Mt=is:Mt.appendChild(is);else{if(!Wr&&!ja&&!ti&&gt.indexOf("<")===-1)return Or&&Ci?Or.createHTML(gt):gt;if(Mt=Me(gt),!Mt)return Wr?null:Ci?Pr:""}Mt&&hi&&ee(Mt.firstChild);const ts=$e(Ga?gt:Mt);for(;Ht=ts.nextNode();)ot(Ht),wt(Ht),Ht.content instanceof Vs&&Rt(Ht.content);if(Ga)return gt;if(Wr){if(Ka)for(vt=fa.call(Mt.ownerDocument);Mt.firstChild;)vt.appendChild(Mt.firstChild);else vt=Mt;return(sa.shadowroot||sa.shadowrootmode)&&(vt=jn.call(Vt,vt,!0)),vt}let Xe=ti?Mt.outerHTML:Mt.innerHTML;return ti&&pa["!doctype"]&&Mt.ownerDocument&&Mt.ownerDocument.doctype&&Mt.ownerDocument.doctype.name&&se(ar,Mt.ownerDocument.doctype.name)&&(Xe="<!DOCTYPE "+Mt.ownerDocument.doctype.name+`>
`+Xe),ja&&X([la,Dn,Ii],rt=>{Xe=Ce(Xe,rt," ")}),Or&&Ci?Or.createHTML(Xe):Xe},Es.setConfig=function(){let gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P(gt),Di=!0},Es.clearConfig=function(){v=null,Di=!1},Es.isValidAttribute=function(gt,Ge,Mt){v||P({});const is=N(gt),Ht=N(Ge);return At(is,Ht,Mt)},Es.addHook=function(gt,Ge){typeof Ge=="function"&&K(dn[gt],Ge)},Es.removeHook=function(gt,Ge){if(Ge!==void 0){const Mt=Y(dn[gt],Ge);return Mt===-1?void 0:ce(dn[gt],Mt,1)[0]}return Q(dn[gt])},Es.removeHooks=function(gt){dn[gt]=[]},Es.removeAllHooks=function(){dn=en()},Es}var er=Nr()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return R}});var f=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),p=o("./node_modules/pako/dist/pako.esm.mjs"),m=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),x=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),b=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),j=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),y=o("./node_modules/fast-png/lib-esm/helpers/text.js"),T=o("./node_modules/fast-png/lib-esm/internalTypes.js");class R extends f.IOBuffer{constructor(Q,K={}){super(Q);Va(this,"_checkCrc");Va(this,"_inflator");Va(this,"_png");Va(this,"_apng");Va(this,"_end");Va(this,"_hasPalette");Va(this,"_palette");Va(this,"_hasTransparency");Va(this,"_transparency");Va(this,"_compressionMethod");Va(this,"_filterMethod");Va(this,"_interlaceMethod");Va(this,"_colorType");Va(this,"_isAnimated");Va(this,"_numberOfFrames");Va(this,"_numberOfPlays");Va(this,"_frames");Va(this,"_writingDataChunks");const{checkCrc:ce=!1}=K;this._checkCrc=ce,this._inflator=new p.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=T.CompressionMethod.UNKNOWN,this._filterMethod=T.FilterMethod.UNKNOWN,this._interlaceMethod=T.InterlaceMethod.UNKNOWN,this._colorType=T.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,j.checkSignature)(this);!this._end;){const Q=this.readUint32(),K=this.readChars(4);this.decodeChunk(Q,K)}return this.decodeImage(),this._png}decodeApng(){for((0,j.checkSignature)(this);!this._end;){const Q=this.readUint32(),K=this.readChars(4);this.decodeApngChunk(Q,K)}return this.decodeApngImage(),this._apng}decodeChunk(Q,K){const ce=this.offset;switch(K){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(Q);break;case"IDAT":this.decodeIDAT(Q);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(Q);break;case"iCCP":this.decodeiCCP(Q);break;case y.textChunkName:(0,y.decodetEXt)(this._png.text,this,Q);break;case"pHYs":this.decodepHYs();break;default:this.skip(Q);break}if(this.offset-ce!==Q)throw new Error(`Length mismatch while decoding chunk ${K}`);this._checkCrc?(0,m.checkCrc)(this,Q+4,K):this.skip(4)}decodeApngChunk(Q,K){const ce=this.offset;switch(K!=="fdAT"&&K!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),K){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(Q);break;default:this.decodeChunk(Q,K),this.offset=ce+Q;break}if(this.offset-ce!==Q)throw new Error(`Length mismatch while decoding chunk ${K}`);this._checkCrc?(0,m.checkCrc)(this,Q+4,K):this.skip(4)}decodeIHDR(){const Q=this._png;Q.width=this.readUint32(),Q.height=this.readUint32(),Q.depth=z(this.readUint8());const K=this.readUint8();this._colorType=K;let ce;switch(K){case T.ColorType.GREYSCALE:ce=1;break;case T.ColorType.TRUECOLOUR:ce=3;break;case T.ColorType.INDEXED_COLOUR:ce=1;break;case T.ColorType.GREYSCALE_ALPHA:ce=2;break;case T.ColorType.TRUECOLOUR_ALPHA:ce=4;break;case T.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${K}`)}if(this._png.channels=ce,this._compressionMethod=this.readUint8(),this._compressionMethod!==T.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const Q={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(Q)}decodePLTE(Q){if(Q%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${Q}`);const K=Q/3;this._hasPalette=!0;const ce=[];this._palette=ce;for(let ue=0;ue<K;ue++)ce.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(Q){this._writingDataChunks=!0;const K=Q,ce=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,ce,K)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(Q)}decodeFDAT(Q){this._writingDataChunks=!0;let K=Q,ce=this.offset+this.byteOffset;if(ce+=4,K-=4,this._inflator.push(new Uint8Array(this.buffer,ce,K)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(Q)}decodetRNS(Q){switch(this._colorType){case T.ColorType.GREYSCALE:case T.ColorType.TRUECOLOUR:{if(Q%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${Q}`);if(Q/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${Q/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(Q/2);for(let K=0;K<Q/2;K++)this._transparency[K]=this.readUint16();break}case T.ColorType.INDEXED_COLOUR:{if(Q>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${Q} vs ${this._palette.length})`);let K=0;for(;K<Q;K++){const ce=this.readByte();this._palette[K].push(ce)}for(;K<this._palette.length;K++)this._palette[K].push(255);break}case T.ColorType.UNKNOWN:case T.ColorType.GREYSCALE_ALPHA:case T.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(Q){const K=(0,y.readKeyword)(this),ce=this.readUint8();if(ce!==T.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${ce}`);const ue=this.readBytes(Q-K.length-2);this._png.iccEmbeddedProfile={name:K,profile:(0,p.inflate)(ue)}}decodepHYs(){const Q=this.readUint32(),K=this.readUint32(),ce=this.readByte();this._png.resolution={x:Q,y:K,unit:ce}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let Q=0;Q<this._numberOfFrames;Q++){const K={sequenceNumber:this._frames[Q].sequenceNumber,delayNumber:this._frames[Q].delayNumber,delayDenominator:this._frames[Q].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},ce=this._frames.at(Q);if(ce){if(ce.data=(0,b.decodeInterlaceNull)({data:ce.data,width:ce.width,height:ce.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),Q===0||ce.xOffset===0&&ce.yOffset===0&&ce.width===this._png.width&&ce.height===this._png.height)K.data=ce.data;else{const ue=this._apng.frames.at(Q-1);this.disposeFrame(ce,ue,K),this.addFrameDataToCanvas(K,ce)}this._apng.frames.push(K)}}return this._apng}disposeFrame(Q,K,ce){switch(Q.disposeOp){case T.DisposeOpType.NONE:break;case T.DisposeOpType.BACKGROUND:for(let ue=0;ue<this._png.height;ue++)for(let Ne=0;Ne<this._png.width;Ne++){const le=(ue*Q.width+Ne)*this._png.channels;for(let Ce=0;Ce<this._png.channels;Ce++)ce.data[le+Ce]=0}break;case T.DisposeOpType.PREVIOUS:ce.data.set(K.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(Q,K){const ce=1<<this._png.depth,ue=(Ne,le)=>{const Ce=((Ne+K.yOffset)*this._png.width+K.xOffset+le)*this._png.channels,oe=(Ne*K.width+le)*this._png.channels;return{index:Ce,frameIndex:oe}};switch(K.blendOp){case T.BlendOpType.SOURCE:for(let Ne=0;Ne<K.height;Ne++)for(let le=0;le<K.width;le++){const{index:Ce,frameIndex:oe}=ue(Ne,le);for(let je=0;je<this._png.channels;je++)Q.data[Ce+je]=K.data[oe+je]}break;case T.BlendOpType.OVER:for(let Ne=0;Ne<K.height;Ne++)for(let le=0;le<K.width;le++){const{index:Ce,frameIndex:oe}=ue(Ne,le);for(let je=0;je<this._png.channels;je++){const Ae=K.data[oe+this._png.channels-1]/ce,se=je%(this._png.channels-1)===0?1:K.data[oe+je],pe=Math.floor(Ae*se+(1-Ae)*Q.data[Ce+je]);Q.data[Ce+je]+=pe}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var K;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const Q=this._isAnimated?((K=this._frames)==null?void 0:K.at(0)).data:this._inflator.result;if(this._filterMethod!==T.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===T.InterlaceMethod.NO_INTERLACE)this._png.data=(0,b.decodeInterlaceNull)({data:Q,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===T.InterlaceMethod.ADAM7)this._png.data=(0,x.decodeInterlaceAdam7)({data:Q,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const Q=this._inflator.result,K=this._frames.at(-1);K?K.data=Q:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:T.DisposeOpType.NONE,blendOp:T.BlendOpType.SOURCE,data:Q}),this._inflator=new p.Inflate,this._writingDataChunks=!1}}function z(X){if(X!==1&&X!==2&&X!==4&&X!==8&&X!==16)throw new Error(`invalid bit depth: ${X}`);return X}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return T}});var f=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),p=o("./node_modules/pako/dist/pako.esm.mjs"),m=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),x=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),b=o("./node_modules/fast-png/lib-esm/helpers/text.js"),j=o("./node_modules/fast-png/lib-esm/internalTypes.js");const y={level:3};class T extends f.IOBuffer{constructor(ue,Ne={}){super();Va(this,"_png");Va(this,"_zlibOptions");Va(this,"_colorType");Va(this,"_interlaceMethod");this._colorType=j.ColorType.UNKNOWN,this._zlibOptions={...y,...Ne.zlib},this._png=this._checkData(ue),this._interlaceMethod=(Ne.interlace==="Adam7"?j.InterlaceMethod.ADAM7:j.InterlaceMethod.NO_INTERLACE)??j.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,x.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[ue,Ne]of Object.entries(this._png.text))(0,b.encodetEXt)(this,ue,Ne);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(j.CompressionMethod.DEFLATE),this.writeByte(j.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,m.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,m.writeCrc)(this,4)}encodePLTE(){var Ne;const ue=((Ne=this._png.palette)==null?void 0:Ne.length)*3;this.writeUint32(ue),this.writeChars("PLTE");for(const le of this._png.palette)this.writeByte(le[0]),this.writeByte(le[1]),this.writeByte(le[2]);(0,m.writeCrc)(this,4+ue)}encodeTRNS(){const ue=this._png.palette.filter(Ne=>Ne.at(-1)!==255);this.writeUint32(ue.length),this.writeChars("tRNS");for(const Ne of ue)this.writeByte(Ne.at(-1));(0,m.writeCrc)(this,4+ue.length)}encodeIDAT(ue){this.writeUint32(ue.length),this.writeChars("IDAT"),this.writeBytes(ue),(0,m.writeCrc)(this,ue.length+4)}encodeData(){const{width:ue,height:Ne,channels:le,depth:Ce,data:oe}=this._png,je=Ce<=8?Math.ceil(ue*Ce/8)*le:Math.ceil(ue*Ce/8*le/2),Ae=new f.IOBuffer().setBigEndian();let se=0;if(this._interlaceMethod===j.InterlaceMethod.NO_INTERLACE)for(let Ee=0;Ee<Ne;Ee++)Ae.writeByte(0),Ce===16?se=Q(oe,Ae,je,se):se=X(oe,Ae,je,se);else this._interlaceMethod===j.InterlaceMethod.ADAM7&&(se=Y(this._png,oe,Ae,se));const pe=Ae.toArray(),re=(0,p.deflate)(pe,this._zlibOptions);this.encodeIDAT(re)}_checkData(ue){const{colorType:Ne,channels:le,depth:Ce}=z(ue,ue.palette),oe={width:R(ue.width,"width"),height:R(ue.height,"height"),channels:le,data:ue.data,depth:Ce,text:ue.text,palette:ue.palette};this._colorType=Ne;const je=Ce<8?Math.ceil(oe.width*Ce/8)*oe.height*le:oe.width*oe.height*le;if(oe.data.length!==je)throw new RangeError(`wrong data size. Found ${oe.data.length}, expected ${je}`);return oe}}function R(K,ce){if(Number.isInteger(K)&&K>0)return K;throw new TypeError(`${ce} must be a positive integer`)}function z(K,ce){const{channels:ue=4,depth:Ne=8}=K;if(ue!==4&&ue!==3&&ue!==2&&ue!==1)throw new RangeError(`unsupported number of channels: ${ue}`);const le={channels:ue,depth:Ne,colorType:j.ColorType.UNKNOWN};switch(ue){case 4:le.colorType=j.ColorType.TRUECOLOUR_ALPHA;break;case 3:le.colorType=j.ColorType.TRUECOLOUR;break;case 1:ce?le.colorType=j.ColorType.INDEXED_COLOUR:le.colorType=j.ColorType.GREYSCALE;break;case 2:le.colorType=j.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return le}function X(K,ce,ue,Ne){for(let le=0;le<ue;le++)ce.writeByte(K[Ne++]);return Ne}function Y(K,ce,ue,Ne){const le=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:Ce,height:oe,channels:je,depth:Ae}=K;let se=0;Ae===16?se=je*Ae/8/2:se=je*Ae/8;for(let pe=0;pe<7;pe++){const re=le[pe],Ee=Math.floor((Ce-re.x+re.xStep-1)/re.xStep),De=Math.floor((oe-re.y+re.yStep-1)/re.yStep);if(Ee<=0||De<=0)continue;const Se=Ee*se;for(let fe=0;fe<De;fe++){const be=re.y+fe*re.yStep,he=Ae<=8?new Uint8Array(Se):new Uint16Array(Se);let te=0;for(let ge=0;ge<Ee;ge++){const Le=re.x+ge*re.xStep;if(Le<Ce&&be<oe){const Ve=(be*Ce+Le)*se;for(let kt=0;kt<se;kt++)he[te++]=ce[Ve+kt]}}if(ue.writeByte(0),Ae===8)ue.writeBytes(he);else if(Ae===16)for(const ge of he)ue.writeByte(ge>>8&255),ue.writeByte(ge&255)}}return Ne}function Q(K,ce,ue,Ne){for(let le=0;le<ue;le++)ce.writeUint16(K[Ne++]);return Ne}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(d,A,o){o.r(A),o.d(A,{convertIndexedToRgb:function(){return f}});function f(m){const x=m.palette,b=m.depth;if(!x)throw new Error("Color palette is undefined.");p(m);const j=m.width*m.height,y=j*x[0].length,T=new Uint8Array(y);let R=0,z=0;const X=new Uint8Array(j);let Y=255;switch(b){case 1:Y=128;break;case 2:Y=192;break;case 4:Y=240;break;case 8:Y=255;break;default:throw new Error("Incorrect depth value")}for(const Q of m.data){let K=Y,ce=8;for(;K&&(ce-=b,X[R++]=(Q&K)>>ce,K=K>>b,R%m.width!==0););}if(m.palette)for(const Q of X){const K=m.palette.at(Q);if(!K)throw new Error("Incorrect index of palette color");T.set(K,z),z+=K.length}return T}function p(m){const x=m.depth<8?Math.ceil(m.width*m.depth/8)*m.height*m.channels:m.width*m.height*m.channels;if(m.data.length!==x)throw new RangeError(`wrong data size. Found ${m.data.length}, expected ${x}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(d,A,o){o.r(A),o.d(A,{applyUnfilter:function(){return p}});var f=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function p(m,x,b,j,y,T){switch(m){case 0:(0,f.unfilterNone)(x,b,y);break;case 1:(0,f.unfilterSub)(x,b,y,T);break;case 2:(0,f.unfilterUp)(x,b,j,y);break;case 3:(0,f.unfilterAverage)(x,b,j,y,T);break;case 4:(0,f.unfilterPaeth)(x,b,j,y,T);break;default:throw new Error(`Unsupported filter: ${m}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(d,A,o){o.r(A),o.d(A,{checkCrc:function(){return b},writeCrc:function(){return j}});const f=[];for(let y=0;y<256;y++){let T=y;for(let R=0;R<8;R++)T&1?T=3988292384^T>>>1:T=T>>>1;f[y]=T}const p=4294967295;function m(y,T,R){let z=y;for(let X=0;X<R;X++)z=f[(z^T[X])&255]^z>>>8;return z}function x(y,T){return(m(p,y,T)^p)>>>0}function b(y,T,R){const z=y.readUint32(),X=x(new Uint8Array(y.buffer,y.byteOffset+y.offset-T-4,T),T);if(X!==z)throw new Error(`CRC mismatch for chunk ${R}. Expected ${z}, found ${X}`)}function j(y,T){y.writeUint32(x(new Uint8Array(y.buffer,y.byteOffset+y.offset-T,T),T))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(d,A,o){o.r(A),o.d(A,{decodeInterlaceAdam7:function(){return b}});var f=o("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const p=new Uint16Array([255]),x=new Uint8Array(p.buffer)[0]===255;function b(y){const{data:T,width:R,height:z,channels:X,depth:Y}=y,Q=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],K=Math.ceil(Y/8)*X,ce=new Uint8Array(z*R*K);let ue=0;for(let Ne=0;Ne<7;Ne++){const le=Q[Ne],Ce=Math.ceil((R-le.x)/le.xStep),oe=Math.ceil((z-le.y)/le.yStep);if(Ce<=0||oe<=0)continue;const je=Ce*K,Ae=new Uint8Array(je);for(let se=0;se<oe;se++){const pe=T[ue++],re=T.subarray(ue,ue+je);ue+=je;const Ee=new Uint8Array(je);(0,f.applyUnfilter)(pe,re,Ee,Ae,je,K),Ae.set(Ee);for(let De=0;De<Ce;De++){const Se=le.x+De*le.xStep,fe=le.y+se*le.yStep;if(!(Se>=R||fe>=z))for(let be=0;be<K;be++)ce[(fe*R+Se)*K+be]=Ee[De*K+be]}}}if(Y===16){const Ne=new Uint16Array(ce.buffer);if(x)for(let le=0;le<Ne.length;le++)Ne[le]=j(Ne[le]);return Ne}else return ce}function j(y){return(y&255)<<8|y>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(d,A,o){o.r(A),o.d(A,{decodeInterlaceNull:function(){return j}});var f=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const p=new Uint16Array([255]),x=new Uint8Array(p.buffer)[0]===255,b=new Uint8Array(0);function j(T){const{data:R,width:z,height:X,channels:Y,depth:Q}=T,K=Math.ceil(Q/8)*Y,ce=Math.ceil(Q/8*Y*z),ue=new Uint8Array(X*ce);let Ne=b,le=0,Ce,oe;for(let je=0;je<X;je++){switch(Ce=R.subarray(le+1,le+1+ce),oe=ue.subarray(je*ce,(je+1)*ce),R[le]){case 0:(0,f.unfilterNone)(Ce,oe,ce);break;case 1:(0,f.unfilterSub)(Ce,oe,ce,K);break;case 2:(0,f.unfilterUp)(Ce,oe,Ne,ce);break;case 3:(0,f.unfilterAverage)(Ce,oe,Ne,ce,K);break;case 4:(0,f.unfilterPaeth)(Ce,oe,Ne,ce,K);break;default:throw new Error(`Unsupported filter: ${R[le]}`)}Ne=oe,le+=ce+1}if(Q===16){const je=new Uint16Array(ue.buffer);if(x)for(let Ae=0;Ae<je.length;Ae++)je[Ae]=y(je[Ae]);return je}else return ue}function y(T){return(T&255)<<8|T>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(d,A,o){o.r(A),o.d(A,{checkSignature:function(){return m},hasPngSignature:function(){return x},writeSignature:function(){return p}});const f=Uint8Array.of(137,80,78,71,13,10,26,10);function p(b){b.writeBytes(f)}function m(b){if(!x(b.readBytes(f.length)))throw new Error("wrong PNG signature")}function x(b){if(b.length<f.length)return!1;for(let j=0;j<f.length;j++)if(b[j]!==f[j])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(d,A,o){o.r(A),o.d(A,{decodetEXt:function(){return T},encodetEXt:function(){return R},readKeyword:function(){return z},readLatin1:function(){return X},textChunkName:function(){return p}});var f=o("./node_modules/fast-png/lib-esm/helpers/crc.js");const p="tEXt",m=0,x=new TextDecoder("latin1");function b(Y){if(y(Y),Y.length===0||Y.length>79)throw new Error("keyword length must be between 1 and 79")}const j=/^[\u0000-\u00FF]*$/;function y(Y){if(!j.test(Y))throw new Error("invalid latin1 text")}function T(Y,Q,K){const ce=z(Q);Y[ce]=X(Q,K-ce.length-1)}function R(Y,Q,K){b(Q),y(K);const ce=Q.length+1+K.length;Y.writeUint32(ce),Y.writeChars(p),Y.writeChars(Q),Y.writeByte(m),Y.writeChars(K),(0,f.writeCrc)(Y,ce+4)}function z(Y){for(Y.mark();Y.readByte()!==m;);const Q=Y.offset;Y.reset();const K=x.decode(Y.readBytes(Q-Y.offset-1));return Y.skip(1),b(K),K}function X(Y,Q){return x.decode(Y.readBytes(Q))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(d,A,o){o.r(A),o.d(A,{unfilterAverage:function(){return x},unfilterNone:function(){return f},unfilterPaeth:function(){return b},unfilterSub:function(){return p},unfilterUp:function(){return m}});function f(y,T,R){for(let z=0;z<R;z++)T[z]=y[z]}function p(y,T,R,z){let X=0;for(;X<z;X++)T[X]=y[X];for(;X<R;X++)T[X]=y[X]+T[X-z]&255}function m(y,T,R,z){let X=0;if(R.length===0)for(;X<z;X++)T[X]=y[X];else for(;X<z;X++)T[X]=y[X]+R[X]&255}function x(y,T,R,z,X){let Y=0;if(R.length===0){for(;Y<X;Y++)T[Y]=y[Y];for(;Y<z;Y++)T[Y]=y[Y]+(T[Y-X]>>1)&255}else{for(;Y<X;Y++)T[Y]=y[Y]+(R[Y]>>1)&255;for(;Y<z;Y++)T[Y]=y[Y]+(T[Y-X]+R[Y]>>1)&255}}function b(y,T,R,z,X){let Y=0;if(R.length===0){for(;Y<X;Y++)T[Y]=y[Y];for(;Y<z;Y++)T[Y]=y[Y]+T[Y-X]&255}else{for(;Y<X;Y++)T[Y]=y[Y]+R[Y]&255;for(;Y<z;Y++)T[Y]=y[Y]+j(T[Y-X],R[Y],R[Y-X])&255}}function j(y,T,R){const z=y+T-R,X=Math.abs(z-y),Y=Math.abs(z-T),Q=Math.abs(z-R);return X<=Y&&X<=Q?y:Y<=Q?T:R}}),"./node_modules/fast-png/lib-esm/index.js":(function(d,A,o){o.r(A),o.d(A,{ResolutionUnitSpecifier:function(){return x.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return b.convertIndexedToRgb},decode:function(){return j},decodeApng:function(){return T},encode:function(){return y},hasPngSignature:function(){return m.hasPngSignature}});var f=o("./node_modules/fast-png/lib-esm/PngDecoder.js"),p=o("./node_modules/fast-png/lib-esm/PngEncoder.js"),m=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=o("./node_modules/fast-png/lib-esm/types.js"),b=o("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function j(R,z){return new f.default(R,z).decode()}function y(R,z){return new p.default(R,z).encode()}function T(R,z){return new f.default(R,z).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(d,A,o){o.r(A),o.d(A,{BlendOpType:function(){return j},ColorType:function(){return f},CompressionMethod:function(){return p},DisposeOpType:function(){return b},FilterMethod:function(){return m},InterlaceMethod:function(){return x}});const f={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},p={UNKNOWN:-1,DEFLATE:0},m={UNKNOWN:-1,ADAPTIVE:0},x={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},b={NONE:0,BACKGROUND:1,PREVIOUS:2},j={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(d,A,o){o.r(A),o.d(A,{ResolutionUnitSpecifier:function(){return f}});var f;(function(p){p[p.UNKNOWN=0]="UNKNOWN",p[p.METRE=1]="METRE"})(f||(f={}))}),"./node_modules/fflate/esm/browser.js":(function(d,A,o){o.r(A),o.d(A,{AsyncCompress:function(){return dn},AsyncDecompress:function(){return Ai},AsyncDeflate:function(){return ms},AsyncGunzip:function(){return Rn},AsyncGzip:function(){return dn},AsyncInflate:function(){return Da},AsyncUnzipInflate:function(){return oo},AsyncUnzlib:function(){return sa},AsyncZipDeflate:function(){return Fo},AsyncZlib:function(){return Kl},Compress:function(){return jn},DecodeUTF8:function(){return ti},Decompress:function(){return fo},Deflate:function(){return sr},EncodeUTF8:function(){return Di},FlateErrorCode:function(){return he},Gunzip:function(){return Ii},Gzip:function(){return jn},Inflate:function(){return Ar},Unzip:function(){return Tt},UnzipInflate:function(){return Si},UnzipPassThrough:function(){return eo},Unzlib:function(){return Ni},Zip:function(){return Bi},ZipDeflate:function(){return fi},ZipPassThrough:function(){return Ra},Zlib:function(){return Uo},compress:function(){return la},compressSync:function(){return Dn},decompress:function(){return ki},decompressSync:function(){return hl},deflate:function(){return Or},deflateSync:function(){return Pr},gunzip:function(){return mc},gunzipSync:function(){return oi},gzip:function(){return la},gzipSync:function(){return Dn},inflate:function(){return fa},inflateSync:function(){return fn},strFromU8:function(){return Wr},strToU8:function(){return hi},unzip:function(){return G},unzipSync:function(){return J},unzlib:function(){return Ua},unzlibSync:function(){return qn},zip:function(){return ba},zipSync:function(){return pi},zlib:function(){return ho},zlibSync:function(){return pa}});var f={},p=(function(E,M,$,ie,ye){var Re=new Worker(f[M]||(f[M]=URL.createObjectURL(new Blob([E+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Re.onmessage=function(Ze){var N=Ze.data,v=N.$e$;if(v){var S=new Error(v[0]);S.code=v[1],S.stack=v[2],ye(S,null)}else ye(null,N)},Re.postMessage($,ie),Re}),m=Uint8Array,x=Uint16Array,b=Int32Array,j=new m([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y=new m([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),T=new m([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),R=function(E,M){for(var $=new x(31),ie=0;ie<31;++ie)$[ie]=M+=1<<E[ie-1];for(var ye=new b($[30]),ie=1;ie<30;++ie)for(var Re=$[ie];Re<$[ie+1];++Re)ye[Re]=Re-$[ie]<<5|ie;return{b:$,r:ye}},z=R(j,2),X=z.b,Y=z.r;X[28]=258,Y[258]=28;for(var Q=R(y,0),K=Q.b,ce=Q.r,ue=new x(32768),Ne=0;Ne<32768;++Ne){var le=(Ne&43690)>>1|(Ne&21845)<<1;le=(le&52428)>>2|(le&13107)<<2,le=(le&61680)>>4|(le&3855)<<4,ue[Ne]=((le&65280)>>8|(le&255)<<8)>>1}for(var Ce=(function(E,M,$){for(var ie=E.length,ye=0,Re=new x(M);ye<ie;++ye)E[ye]&&++Re[E[ye]-1];var Ze=new x(M);for(ye=1;ye<M;++ye)Ze[ye]=Ze[ye-1]+Re[ye-1]<<1;var N;if($){N=new x(1<<M);var v=15-M;for(ye=0;ye<ie;++ye)if(E[ye])for(var S=ye<<4|E[ye],I=M-E[ye],P=Ze[E[ye]-1]++<<I,V=P|(1<<I)-1;P<=V;++P)N[ue[P]>>v]=S}else for(N=new x(ie),ye=0;ye<ie;++ye)E[ye]&&(N[ye]=ue[Ze[E[ye]-1]++]>>15-E[ye]);return N}),oe=new m(288),Ne=0;Ne<144;++Ne)oe[Ne]=8;for(var Ne=144;Ne<256;++Ne)oe[Ne]=9;for(var Ne=256;Ne<280;++Ne)oe[Ne]=7;for(var Ne=280;Ne<288;++Ne)oe[Ne]=8;for(var je=new m(32),Ne=0;Ne<32;++Ne)je[Ne]=5;var Ae=Ce(oe,9,0),se=Ce(oe,9,1),pe=Ce(je,5,0),re=Ce(je,5,1),Ee=function(E){for(var M=E[0],$=1;$<E.length;++$)E[$]>M&&(M=E[$]);return M},De=function(E,M,$){var ie=M/8|0;return(E[ie]|E[ie+1]<<8)>>(M&7)&$},Se=function(E,M){var $=M/8|0;return(E[$]|E[$+1]<<8|E[$+2]<<16)>>(M&7)},fe=function(E){return(E+7)/8|0},be=function(E,M,$){return(M==null||M<0)&&(M=0),($==null||$>E.length)&&($=E.length),new m(E.subarray(M,$))},he={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},te=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ge=function(E,M,$){var ie=new Error(M||te[E]);if(ie.code=E,Error.captureStackTrace&&Error.captureStackTrace(ie,ge),!$)throw ie;return ie},Le=function(E,M,$,ie){var ye=E.length,Re=ie?ie.length:0;if(!ye||M.f&&!M.l)return $||new m(0);var Ze=!$,N=Ze||M.i!=2,v=M.i;Ze&&($=new m(ye*3));var S=function(ht){var Ot=$.length;if(ht>Ot){var Pt=new m(Math.max(Ot*2,ht));Pt.set($),$=Pt}},I=M.f||0,P=M.p||0,V=M.b||0,de=M.l,q=M.d,ee=M.m,ke=M.n,Me=ye*8;do{if(!de){I=De(E,P,1);var $e=De(E,P+1,3);if(P+=3,$e)if($e==1)de=se,q=re,ee=9,ke=5;else if($e==2){var ot=De(E,P,31)+257,At=De(E,P+10,15)+4,Ye=ot+De(E,P+5,31)+1;P+=14;for(var wt=new m(Ye),Rt=new m(19),gt=0;gt<At;++gt)Rt[T[gt]]=De(E,P+gt*3,7);P+=At*3;for(var Ge=Ee(Rt),Mt=(1<<Ge)-1,is=Ce(Rt,Ge,1),gt=0;gt<Ye;){var Ht=is[De(E,P,Mt)];P+=Ht&15;var Je=Ht>>4;if(Je<16)wt[gt++]=Je;else{var vt=0,ts=0;for(Je==16?(ts=3+De(E,P,3),P+=2,vt=wt[gt-1]):Je==17?(ts=3+De(E,P,7),P+=3):Je==18&&(ts=11+De(E,P,127),P+=7);ts--;)wt[gt++]=vt}}var Xe=wt.subarray(0,ot),rt=wt.subarray(ot);ee=Ee(Xe),ke=Ee(rt),de=Ce(Xe,ee,1),q=Ce(rt,ke,1)}else ge(1);else{var Je=fe(P)+4,xe=E[Je-4]|E[Je-3]<<8,ct=Je+xe;if(ct>ye){v&&ge(0);break}N&&S(V+xe),$.set(E.subarray(Je,ct),V),M.b=V+=xe,M.p=P=ct*8,M.f=I;continue}if(P>Me){v&&ge(0);break}}N&&S(V+131072);for(var xt=(1<<ee)-1,bt=(1<<ke)-1,rs=P;;rs=P){var vt=de[Se(E,P)&xt],ds=vt>>4;if(P+=vt&15,P>Me){v&&ge(0);break}if(vt||ge(2),ds<256)$[V++]=ds;else if(ds==256){rs=P,de=null;break}else{var bs=ds-254;if(ds>264){var gt=ds-257,Kt=j[gt];bs=De(E,P,(1<<Kt)-1)+X[gt],P+=Kt}var fs=q[Se(E,P)&bt],Xs=fs>>4;fs||ge(3),P+=fs&15;var rt=K[Xs];if(Xs>3){var Kt=y[Xs];rt+=Se(E,P)&(1<<Kt)-1,P+=Kt}if(P>Me){v&&ge(0);break}N&&S(V+131072);var _s=V+bs;if(V<rt){var _e=Re-rt,dt=Math.min(rt,_s);for(_e+V<0&&ge(3);V<dt;++V)$[V]=ie[_e+V]}for(;V<_s;++V)$[V]=$[V-rt]}}M.l=de,M.p=rs,M.b=V,M.f=I,de&&(I=1,M.m=ee,M.d=q,M.n=ke)}while(!I);return V!=$.length&&Ze?be($,0,V):$.subarray(0,V)},Ve=function(E,M,$){$<<=M&7;var ie=M/8|0;E[ie]|=$,E[ie+1]|=$>>8},kt=function(E,M,$){$<<=M&7;var ie=M/8|0;E[ie]|=$,E[ie+1]|=$>>8,E[ie+2]|=$>>16},Bt=function(E,M){for(var $=[],ie=0;ie<E.length;++ie)E[ie]&&$.push({s:ie,f:E[ie]});var ye=$.length,Re=$.slice();if(!ye)return{t:ut,l:0};if(ye==1){var Ze=new m($[0].s+1);return Ze[$[0].s]=1,{t:Ze,l:1}}$.sort(function(ct,ot){return ct.f-ot.f}),$.push({s:-1,f:25001});var N=$[0],v=$[1],S=0,I=1,P=2;for($[0]={s:-1,f:N.f+v.f,l:N,r:v};I!=ye-1;)N=$[$[S].f<$[P].f?S++:P++],v=$[S!=I&&$[S].f<$[P].f?S++:P++],$[I++]={s:-1,f:N.f+v.f,l:N,r:v};for(var V=Re[0].s,ie=1;ie<ye;++ie)Re[ie].s>V&&(V=Re[ie].s);var de=new x(V+1),q=We($[I-1],de,0);if(q>M){var ie=0,ee=0,ke=q-M,Me=1<<ke;for(Re.sort(function(ot,At){return de[At.s]-de[ot.s]||ot.f-At.f});ie<ye;++ie){var $e=Re[ie].s;if(de[$e]>M)ee+=Me-(1<<q-de[$e]),de[$e]=M;else break}for(ee>>=ke;ee>0;){var Je=Re[ie].s;de[Je]<M?ee-=1<<M-de[Je]++-1:++ie}for(;ie>=0&&ee;--ie){var xe=Re[ie].s;de[xe]==M&&(--de[xe],++ee)}q=M}return{t:new m(de),l:q}},We=function(E,M,$){return E.s==-1?Math.max(We(E.l,M,$+1),We(E.r,M,$+1)):M[E.s]=$},Lt=function(E){for(var M=E.length;M&&!E[--M];);for(var $=new x(++M),ie=0,ye=E[0],Re=1,Ze=function(v){$[ie++]=v},N=1;N<=M;++N)if(E[N]==ye&&N!=M)++Re;else{if(!ye&&Re>2){for(;Re>138;Re-=138)Ze(32754);Re>2&&(Ze(Re>10?Re-11<<5|28690:Re-3<<5|12305),Re=0)}else if(Re>3){for(Ze(ye),--Re;Re>6;Re-=6)Ze(8304);Re>2&&(Ze(Re-3<<5|8208),Re=0)}for(;Re--;)Ze(ye);Re=1,ye=E[N]}return{c:$.subarray(0,ie),n:M}},$t=function(E,M){for(var $=0,ie=0;ie<M.length;++ie)$+=E[ie]*M[ie];return $},ls=function(E,M,$){var ie=$.length,ye=fe(M+2);E[ye]=ie&255,E[ye+1]=ie>>8,E[ye+2]=E[ye]^255,E[ye+3]=E[ye+1]^255;for(var Re=0;Re<ie;++Re)E[ye+Re+4]=$[Re];return(ye+4+ie)*8},Ts=function(E,M,$,ie,ye,Re,Ze,N,v,S,I){Ve(M,I++,$),++ye[256];for(var P=Bt(ye,15),V=P.t,de=P.l,q=Bt(Re,15),ee=q.t,ke=q.l,Me=Lt(V),$e=Me.c,Je=Me.n,xe=Lt(ee),ct=xe.c,ot=xe.n,At=new x(19),Ye=0;Ye<$e.length;++Ye)++At[$e[Ye]&31];for(var Ye=0;Ye<ct.length;++Ye)++At[ct[Ye]&31];for(var wt=Bt(At,7),Rt=wt.t,gt=wt.l,Ge=19;Ge>4&&!Rt[T[Ge-1]];--Ge);var Mt=S+5<<3,is=$t(ye,oe)+$t(Re,je)+Ze,Ht=$t(ye,V)+$t(Re,ee)+Ze+14+3*Ge+$t(At,Rt)+2*At[16]+3*At[17]+7*At[18];if(v>=0&&Mt<=is&&Mt<=Ht)return ls(M,I,E.subarray(v,v+S));var vt,ts,Xe,rt;if(Ve(M,I,1+(Ht<is)),I+=2,Ht<is){vt=Ce(V,de,0),ts=V,Xe=Ce(ee,ke,0),rt=ee;var xt=Ce(Rt,gt,0);Ve(M,I,Je-257),Ve(M,I+5,ot-1),Ve(M,I+10,Ge-4),I+=14;for(var Ye=0;Ye<Ge;++Ye)Ve(M,I+3*Ye,Rt[T[Ye]]);I+=3*Ge;for(var bt=[$e,ct],rs=0;rs<2;++rs)for(var ds=bt[rs],Ye=0;Ye<ds.length;++Ye){var bs=ds[Ye]&31;Ve(M,I,xt[bs]),I+=Rt[bs],bs>15&&(Ve(M,I,ds[Ye]>>5&127),I+=ds[Ye]>>12)}}else vt=Ae,ts=oe,Xe=pe,rt=je;for(var Ye=0;Ye<N;++Ye){var Kt=ie[Ye];if(Kt>255){var bs=Kt>>18&31;kt(M,I,vt[bs+257]),I+=ts[bs+257],bs>7&&(Ve(M,I,Kt>>23&31),I+=j[bs]);var fs=Kt&31;kt(M,I,Xe[fs]),I+=rt[fs],fs>3&&(kt(M,I,Kt>>5&8191),I+=y[fs])}else kt(M,I,vt[Kt]),I+=ts[Kt]}return kt(M,I,vt[256]),I+ts[256]},Pe=new b([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ut=new m(0),St=function(E,M,$,ie,ye,Re){var Ze=Re.z||E.length,N=new m(ie+Ze+5*(1+Math.ceil(Ze/7e3))+ye),v=N.subarray(ie,N.length-ye),S=Re.l,I=(Re.r||0)&7;if(M){I&&(v[0]=Re.r>>3);for(var P=Pe[M-1],V=P>>13,de=P&8191,q=(1<<$)-1,ee=Re.p||new x(32768),ke=Re.h||new x(q+1),Me=Math.ceil($/3),$e=2*Me,Je=function(Yt){return(E[Yt]^E[Yt+1]<<Me^E[Yt+2]<<$e)&q},xe=new b(25e3),ct=new x(288),ot=new x(32),At=0,Ye=0,wt=Re.i||0,Rt=0,gt=Re.w||0,Ge=0;wt+2<Ze;++wt){var Mt=Je(wt),is=wt&32767,Ht=ke[Mt];if(ee[is]=Ht,ke[Mt]=is,gt<=wt){var vt=Ze-wt;if((At>7e3||Rt>24576)&&(vt>423||!S)){I=Ts(E,v,0,xe,ct,ot,Ye,Rt,Ge,wt-Ge,I),Rt=At=Ye=0,Ge=wt;for(var ts=0;ts<286;++ts)ct[ts]=0;for(var ts=0;ts<30;++ts)ot[ts]=0}var Xe=2,rt=0,xt=de,bt=is-Ht&32767;if(vt>2&&Mt==Je(wt-bt))for(var rs=Math.min(V,vt)-1,ds=Math.min(32767,wt),bs=Math.min(258,vt);bt<=ds&&--xt&&is!=Ht;){if(E[wt+Xe]==E[wt+Xe-bt]){for(var Kt=0;Kt<bs&&E[wt+Kt]==E[wt+Kt-bt];++Kt);if(Kt>Xe){if(Xe=Kt,rt=bt,Kt>rs)break;for(var fs=Math.min(bt,Kt-2),Xs=0,ts=0;ts<fs;++ts){var _s=wt-bt+ts&32767,_e=ee[_s],dt=_s-_e&32767;dt>Xs&&(Xs=dt,Ht=_s)}}}is=Ht,Ht=ee[is],bt+=is-Ht&32767}if(rt){xe[Rt++]=268435456|Y[Xe]<<18|ce[rt];var ht=Y[Xe]&31,Ot=ce[rt]&31;Ye+=j[ht]+y[Ot],++ct[257+ht],++ot[Ot],gt=wt+Xe,++At}else xe[Rt++]=E[wt],++ct[E[wt]]}}for(wt=Math.max(wt,gt);wt<Ze;++wt)xe[Rt++]=E[wt],++ct[E[wt]];I=Ts(E,v,S,xe,ct,ot,Ye,Rt,Ge,wt-Ge,I),S||(Re.r=I&7|v[I/8|0]<<3,I-=7,Re.h=ke,Re.p=ee,Re.i=wt,Re.w=gt)}else{for(var wt=Re.w||0;wt<Ze+S;wt+=65535){var Pt=wt+65535;Pt>=Ze&&(v[I/8|0]=S,Pt=Ze),I=ls(v,I+1,E.subarray(wt,Pt))}Re.i=Ze}return be(N,0,ie+fe(I)+ye)},Is=(function(){for(var E=new Int32Array(256),M=0;M<256;++M){for(var $=M,ie=9;--ie;)$=($&1&&-306674912)^$>>>1;E[M]=$}return E})(),us=function(){var E=-1;return{p:function(M){for(var $=E,ie=0;ie<M.length;++ie)$=Is[$&255^M[ie]]^$>>>8;E=$},d:function(){return~E}}},br=function(){var E=1,M=0;return{p:function($){for(var ie=E,ye=M,Re=$.length|0,Ze=0;Ze!=Re;){for(var N=Math.min(Ze+2655,Re);Ze<N;++Ze)ye+=ie+=$[Ze];ie=(ie&65535)+15*(ie>>16),ye=(ye&65535)+15*(ye>>16)}E=ie,M=ye},d:function(){return E%=65521,M%=65521,(E&255)<<24|(E&65280)<<8|(M&255)<<8|M>>8}}},hr=function(E,M,$,ie,ye){if(!ye&&(ye={l:1},M.dictionary)){var Re=M.dictionary.subarray(-32768),Ze=new m(Re.length+E.length);Ze.set(Re),Ze.set(E,Re.length),E=Ze,ye.w=Re.length}return St(E,M.level==null?6:M.level,M.mem==null?ye.l?Math.ceil(Math.max(8,Math.min(13,Math.log(E.length)))*1.5):20:12+M.mem,$,ie,ye)},ar=function(E,M){var $={};for(var ie in E)$[ie]=E[ie];for(var ie in M)$[ie]=M[ie];return $},Fs=function(E,M,$){for(var ie=E(),ye=E.toString(),Re=ye.slice(ye.indexOf("[")+1,ye.lastIndexOf("]")).replace(/\s+/g,"").split(","),Ze=0;Ze<ie.length;++Ze){var N=ie[Ze],v=Re[Ze];if(typeof N=="function"){M+=";"+v+"=";var S=N.toString();if(N.prototype)if(S.indexOf("[native code]")!=-1){var I=S.indexOf(" ",8)+1;M+=S.slice(I,S.indexOf("(",I))}else{M+=S;for(var P in N.prototype)M+=";"+v+".prototype."+P+"="+N.prototype[P].toString()}else M+=S}else $[v]=N}return M},Cs=[],Bs=function(E){var M=[];for(var $ in E)E[$].buffer&&M.push((E[$]=new E[$].constructor(E[$])).buffer);return M},vr=function(E,M,$,ie){if(!Cs[$]){for(var ye="",Re={},Ze=E.length-1,N=0;N<Ze;++N)ye=Fs(E[N],ye,Re);Cs[$]={c:Fs(E[Ze],ye,Re),e:Re}}var v=ar({},Cs[$].e);return p(Cs[$].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+M.toString()+"}",$,v,Bs(v),ie)},gr=function(){return[m,x,b,j,y,T,X,K,se,re,ue,te,Ce,Ee,De,Se,fe,be,ge,Le,fn,ft,Vt]},en=function(){return[m,x,b,j,y,T,Y,ce,Ae,oe,pe,je,ue,Pe,ut,Ce,Ve,kt,Bt,We,Lt,$t,ls,Ts,fe,be,St,hr,Pr,ft]},Nr=function(){return[Ks,tn,hs,us,Is]},er=function(){return[$s,fr]},Ys=function(){return[wa,hs,br]},Es=function(){return[Us]},ft=function(E){return postMessage(E,[E.buffer])},Vt=function(E){return E&&{out:E.size&&new m(E.size),dictionary:E.dictionary}},js=function(E,M,$,ie,ye,Re){var Ze=vr($,ie,ye,function(N,v){Ze.terminate(),Re(N,v)});return Ze.postMessage([E,M],M.consume?[E.buffer]:[]),function(){Ze.terminate()}},Vs=function(E){return E.ondata=function(M,$){return postMessage([M,$],[M.buffer])},function(M){M.data.length?(E.push(M.data[0],M.data[1]),postMessage([M.data[0].length])):E.flush()}},or=function(E,M,$,ie,ye,Re,Ze){var N,v=vr(E,ie,ye,function(S,I){S?(v.terminate(),M.ondata.call(M,S)):Array.isArray(I)?I.length==1?(M.queuedSize-=I[0],M.ondrain&&M.ondrain(I[0])):(I[1]&&v.terminate(),M.ondata.call(M,S,I[0],I[1])):Ze(I)});v.postMessage($),M.queuedSize=0,M.push=function(S,I){M.ondata||ge(5),N&&M.ondata(ge(4,0,1),null,!!I),M.queuedSize+=S.length,v.postMessage([S,N=I],[S.buffer])},M.terminate=function(){v.terminate()},Re&&(M.flush=function(){v.postMessage([])})},yt=function(E,M){return E[M]|E[M+1]<<8},qt=function(E,M){return(E[M]|E[M+1]<<8|E[M+2]<<16|E[M+3]<<24)>>>0},As=function(E,M){return qt(E,M)+qt(E,M+4)*4294967296},hs=function(E,M,$){for(;$;++M)E[M]=$,$>>>=8},Ks=function(E,M){var $=M.filename;if(E[0]=31,E[1]=139,E[2]=8,E[8]=M.level<2?4:M.level==9?2:0,E[9]=3,M.mtime!=0&&hs(E,4,Math.floor(new Date(M.mtime||Date.now())/1e3)),$){E[3]=8;for(var ie=0;ie<=$.length;++ie)E[ie+10]=$.charCodeAt(ie)}},$s=function(E){(E[0]!=31||E[1]!=139||E[2]!=8)&&ge(6,"invalid gzip data");var M=E[3],$=10;M&4&&($+=(E[10]|E[11]<<8)+2);for(var ie=(M>>3&1)+(M>>4&1);ie>0;ie-=!E[$++]);return $+(M&2)},fr=function(E){var M=E.length;return(E[M-4]|E[M-3]<<8|E[M-2]<<16|E[M-1]<<24)>>>0},tn=function(E){return 10+(E.filename?E.filename.length+1:0)},wa=function(E,M){var $=M.level,ie=$==0?0:$<6?1:$==9?3:2;if(E[0]=120,E[1]=ie<<6|(M.dictionary&&32),E[1]|=31-(E[0]<<8|E[1])%31,M.dictionary){var ye=br();ye.p(M.dictionary),hs(E,2,ye.d())}},Us=function(E,M){return((E[0]&15)!=8||E[0]>>4>7||(E[0]<<8|E[1])%31)&&ge(6,"invalid zlib data"),(E[1]>>5&1)==+!M&&ge(6,"invalid zlib data: "+(E[1]&32?"need":"unexpected")+" dictionary"),(E[1]>>3&4)+2};function Ds(E,M){return typeof E=="function"&&(M=E,E={}),this.ondata=M,E}var sr=(function(){function E(M,$){if(typeof M=="function"&&($=M,M={}),this.ondata=$,this.o=M||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new m(98304),this.o.dictionary){var ie=this.o.dictionary.subarray(-32768);this.b.set(ie,32768-ie.length),this.s.i=32768-ie.length}}return E.prototype.p=function(M,$){this.ondata(hr(M,this.o,0,0,this.s),$)},E.prototype.push=function(M,$){this.ondata||ge(5),this.s.l&&ge(4);var ie=M.length+this.s.z;if(ie>this.b.length){if(ie>2*this.b.length-32768){var ye=new m(ie&-32768);ye.set(this.b.subarray(0,this.s.z)),this.b=ye}var Re=this.b.length-this.s.z;this.b.set(M.subarray(0,Re),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(M.subarray(Re),32768),this.s.z=M.length-Re+32768,this.s.i=32766,this.s.w=32768}else this.b.set(M,this.s.z),this.s.z+=M.length;this.s.l=$&1,(this.s.z>this.s.w+8191||$)&&(this.p(this.b,$||!1),this.s.w=this.s.i,this.s.i-=2)},E.prototype.flush=function(){this.ondata||ge(5),this.s.l&&ge(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},E})(),ms=(function(){function E(M,$){or([en,function(){return[Vs,sr]}],this,Ds.call(this,M,$),function(ie){var ye=new sr(ie.data);onmessage=Vs(ye)},6,1)}return E})();function Or(E,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),js(E,M,[en],function(ie){return ft(Pr(ie.data[0],ie.data[1]))},0,$)}function Pr(E,M){return hr(E,M||{},0,0)}var Ar=(function(){function E(M,$){typeof M=="function"&&($=M,M={}),this.ondata=$;var ie=M&&M.dictionary&&M.dictionary.subarray(-32768);this.s={i:0,b:ie?ie.length:0},this.o=new m(32768),this.p=new m(0),ie&&this.o.set(ie)}return E.prototype.e=function(M){if(this.ondata||ge(5),this.d&&ge(4),!this.p.length)this.p=M;else if(M.length){var $=new m(this.p.length+M.length);$.set(this.p),$.set(M,this.p.length),this.p=$}},E.prototype.c=function(M){this.s.i=+(this.d=M||!1);var $=this.s.b,ie=Le(this.p,this.s,this.o);this.ondata(be(ie,$,this.s.b),this.d),this.o=be(ie,this.s.b-32768),this.s.b=this.o.length,this.p=be(this.p,this.s.p/8|0),this.s.p&=7},E.prototype.push=function(M,$){this.e(M),this.c($)},E})(),Da=(function(){function E(M,$){or([gr,function(){return[Vs,Ar]}],this,Ds.call(this,M,$),function(ie){var ye=new Ar(ie.data);onmessage=Vs(ye)},7,0)}return E})();function fa(E,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),js(E,M,[gr],function(ie){return ft(fn(ie.data[0],Vt(ie.data[1])))},1,$)}function fn(E,M){return Le(E,{i:2},M&&M.out,M&&M.dictionary)}var jn=(function(){function E(M,$){this.c=us(),this.l=0,this.v=1,sr.call(this,M,$)}return E.prototype.push=function(M,$){this.c.p(M),this.l+=M.length,sr.prototype.push.call(this,M,$)},E.prototype.p=function(M,$){var ie=hr(M,this.o,this.v&&tn(this.o),$&&8,this.s);this.v&&(Ks(ie,this.o),this.v=0),$&&(hs(ie,ie.length-8,this.c.d()),hs(ie,ie.length-4,this.l)),this.ondata(ie,$)},E.prototype.flush=function(){sr.prototype.flush.call(this)},E})(),dn=(function(){function E(M,$){or([en,Nr,function(){return[Vs,sr,jn]}],this,Ds.call(this,M,$),function(ie){var ye=new jn(ie.data);onmessage=Vs(ye)},8,1)}return E})();function la(E,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),js(E,M,[en,Nr,function(){return[Dn]}],function(ie){return ft(Dn(ie.data[0],ie.data[1]))},2,$)}function Dn(E,M){M||(M={});var $=us(),ie=E.length;$.p(E);var ye=hr(E,M,tn(M),8),Re=ye.length;return Ks(ye,M),hs(ye,Re-8,$.d()),hs(ye,Re-4,ie),ye}var Ii=(function(){function E(M,$){this.v=1,this.r=0,Ar.call(this,M,$)}return E.prototype.push=function(M,$){if(Ar.prototype.e.call(this,M),this.r+=M.length,this.v){var ie=this.p.subarray(this.v-1),ye=ie.length>3?$s(ie):4;if(ye>ie.length){if(!$)return}else this.v>1&&this.onmember&&this.onmember(this.r-ie.length);this.p=ie.subarray(ye),this.v=0}Ar.prototype.c.call(this,$),this.s.f&&!this.s.l&&!$&&(this.v=fe(this.s.p)+9,this.s={i:0},this.o=new m(0),this.push(new m(0),$))},E})(),Rn=(function(){function E(M,$){var ie=this;or([gr,er,function(){return[Vs,Ar,Ii]}],this,Ds.call(this,M,$),function(ye){var Re=new Ii(ye.data);Re.onmember=function(Ze){return postMessage(Ze)},onmessage=Vs(Re)},9,0,function(ye){return ie.onmember&&ie.onmember(ye)})}return E})();function mc(E,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),js(E,M,[gr,er,function(){return[oi]}],function(ie){return ft(oi(ie.data[0],ie.data[1]))},3,$)}function oi(E,M){var $=$s(E);return $+8>E.length&&ge(6,"invalid gzip data"),Le(E.subarray($,-8),{i:2},M&&M.out||new m(fr(E)),M&&M.dictionary)}var Uo=(function(){function E(M,$){this.c=br(),this.v=1,sr.call(this,M,$)}return E.prototype.push=function(M,$){this.c.p(M),sr.prototype.push.call(this,M,$)},E.prototype.p=function(M,$){var ie=hr(M,this.o,this.v&&(this.o.dictionary?6:2),$&&4,this.s);this.v&&(wa(ie,this.o),this.v=0),$&&hs(ie,ie.length-4,this.c.d()),this.ondata(ie,$)},E.prototype.flush=function(){sr.prototype.flush.call(this)},E})(),Kl=(function(){function E(M,$){or([en,Ys,function(){return[Vs,sr,Uo]}],this,Ds.call(this,M,$),function(ie){var ye=new Uo(ie.data);onmessage=Vs(ye)},10,1)}return E})();function ho(E,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),js(E,M,[en,Ys,function(){return[pa]}],function(ie){return ft(pa(ie.data[0],ie.data[1]))},4,$)}function pa(E,M){M||(M={});var $=br();$.p(E);var ie=hr(E,M,M.dictionary?6:2,4);return wa(ie,M),hs(ie,ie.length-4,$.d()),ie}var Ni=(function(){function E(M,$){Ar.call(this,M,$),this.v=M&&M.dictionary?2:1}return E.prototype.push=function(M,$){if(Ar.prototype.e.call(this,M),this.v){if(this.p.length<6&&!$)return;this.p=this.p.subarray(Us(this.p,this.v-1)),this.v=0}$&&(this.p.length<4&&ge(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Ar.prototype.c.call(this,$)},E})(),sa=(function(){function E(M,$){or([gr,Es,function(){return[Vs,Ar,Ni]}],this,Ds.call(this,M,$),function(ie){var ye=new Ni(ie.data);onmessage=Vs(ye)},11,0)}return E})();function Ua(E,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),js(E,M,[gr,Es,function(){return[qn]}],function(ie){return ft(qn(ie.data[0],Vt(ie.data[1])))},5,$)}function qn(E,M){return Le(E.subarray(Us(E,M&&M.dictionary),-4),{i:2},M&&M.out,M&&M.dictionary)}var fo=(function(){function E(M,$){this.o=Ds.call(this,M,$)||{},this.G=Ii,this.I=Ar,this.Z=Ni}return E.prototype.i=function(){var M=this;this.s.ondata=function($,ie){M.ondata($,ie)}},E.prototype.push=function(M,$){if(this.ondata||ge(5),this.s)this.s.push(M,$);else{if(this.p&&this.p.length){var ie=new m(this.p.length+M.length);ie.set(this.p),ie.set(M,this.p.length)}else this.p=M;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,$),this.p=null)}},E})(),Ai=(function(){function E(M,$){fo.call(this,M,$),this.queuedSize=0,this.G=Rn,this.I=Da,this.Z=sa}return E.prototype.i=function(){var M=this;this.s.ondata=function($,ie,ye){M.ondata($,ie,ye)},this.s.ondrain=function($){M.queuedSize-=$,M.ondrain&&M.ondrain($)}},E.prototype.push=function(M,$){this.queuedSize+=M.length,fo.prototype.push.call(this,M,$)},E})();function ki(E,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),E[0]==31&&E[1]==139&&E[2]==8?mc(E,M,$):(E[0]&15)!=8||E[0]>>4>7||(E[0]<<8|E[1])%31?fa(E,M,$):Ua(E,M,$)}function hl(E,M){return E[0]==31&&E[1]==139&&E[2]==8?oi(E,M):(E[0]&15)!=8||E[0]>>4>7||(E[0]<<8|E[1])%31?fn(E,M):qn(E,M)}var el=function(E,M,$,ie){for(var ye in E){var Re=E[ye],Ze=M+ye,N=ie;Array.isArray(Re)&&(N=ar(ie,Re[1]),Re=Re[0]),Re instanceof m?$[Ze]=[Re,N]:($[Ze+="/"]=[new m(0),N],el(Re,Ze,$,ie))}},Ul=typeof TextEncoder<"u"&&new TextEncoder,xa=typeof TextDecoder<"u"&&new TextDecoder,ja=0;try{xa.decode(ut,{stream:!0}),ja=1}catch{}var po=function(E){for(var M="",$=0;;){var ie=E[$++],ye=(ie>127)+(ie>223)+(ie>239);if($+ye>E.length)return{s:M,r:be(E,$-1)};ye?ye==3?(ie=((ie&15)<<18|(E[$++]&63)<<12|(E[$++]&63)<<6|E[$++]&63)-65536,M+=String.fromCharCode(55296|ie>>10,56320|ie&1023)):ye&1?M+=String.fromCharCode((ie&31)<<6|E[$++]&63):M+=String.fromCharCode((ie&15)<<12|(E[$++]&63)<<6|E[$++]&63):M+=String.fromCharCode(ie)}},ti=(function(){function E(M){this.ondata=M,ja?this.t=new TextDecoder:this.p=ut}return E.prototype.push=function(M,$){if(this.ondata||ge(5),$=!!$,this.t){this.ondata(this.t.decode(M,{stream:!0}),$),$&&(this.t.decode().length&&ge(8),this.t=null);return}this.p||ge(4);var ie=new m(this.p.length+M.length);ie.set(this.p),ie.set(M,this.p.length);var ye=po(ie),Re=ye.s,Ze=ye.r;$?(Ze.length&&ge(8),this.p=null):this.p=Ze,this.ondata(Re,$)},E})(),Di=(function(){function E(M){this.ondata=M}return E.prototype.push=function(M,$){this.ondata||ge(5),this.d&&ge(4),this.ondata(hi(M),this.d=$||!1)},E})();function hi(E,M){if(M){for(var $=new m(E.length),ie=0;ie<E.length;++ie)$[ie]=E.charCodeAt(ie);return $}if(Ul)return Ul.encode(E);for(var ye=E.length,Re=new m(E.length+(E.length>>1)),Ze=0,N=function(I){Re[Ze++]=I},ie=0;ie<ye;++ie){if(Ze+5>Re.length){var v=new m(Ze+8+(ye-ie<<1));v.set(Re),Re=v}var S=E.charCodeAt(ie);S<128||M?N(S):S<2048?(N(192|S>>6),N(128|S&63)):S>55295&&S<57344?(S=65536+(S&1047552)|E.charCodeAt(++ie)&1023,N(240|S>>18),N(128|S>>12&63),N(128|S>>6&63),N(128|S&63)):(N(224|S>>12),N(128|S>>6&63),N(128|S&63))}return be(Re,0,Ze)}function Wr(E,M){if(M){for(var $="",ie=0;ie<E.length;ie+=16384)$+=String.fromCharCode.apply(null,E.subarray(ie,ie+16384));return $}else{if(xa)return xa.decode(E);var ye=po(E),Re=ye.s,$=ye.r;return $.length&&ge(8),Re}}var Ka=function(E){return E==1?3:E<6?2:E==9?1:0},Ci=function(E,M){return M+30+yt(E,M+26)+yt(E,M+28)},Qa=function(E,M,$){var ie=yt(E,M+28),ye=Wr(E.subarray(M+46,M+46+ie),!(yt(E,M+8)&2048)),Re=M+46+ie,Ze=qt(E,M+20),N=$&&Ze==4294967295?mo(E,Re):[Ze,qt(E,M+24),qt(E,M+42)],v=N[0],S=N[1],I=N[2];return[yt(E,M+10),v,S,ye,Re+yt(E,M+30)+yt(E,M+32),I]},mo=function(E,M){for(;yt(E,M)!=1;M+=4+yt(E,M+2));return[As(E,M+12),As(E,M+4),As(E,M+20)]},Wn=function(E){var M=0;if(E)for(var $ in E){var ie=E[$].length;ie>65535&&ge(9),M+=ie+4}return M},Ki=function(E,M,$,ie,ye,Re,Ze,N){var v=ie.length,S=$.extra,I=N&&N.length,P=Wn(S);hs(E,M,Ze!=null?33639248:67324752),M+=4,Ze!=null&&(E[M++]=20,E[M++]=$.os),E[M]=20,M+=2,E[M++]=$.flag<<1|(Re<0&&8),E[M++]=ye&&8,E[M++]=$.compression&255,E[M++]=$.compression>>8;var V=new Date($.mtime==null?Date.now():$.mtime),de=V.getFullYear()-1980;if((de<0||de>119)&&ge(10),hs(E,M,de<<25|V.getMonth()+1<<21|V.getDate()<<16|V.getHours()<<11|V.getMinutes()<<5|V.getSeconds()>>1),M+=4,Re!=-1&&(hs(E,M,$.crc),hs(E,M+4,Re<0?-Re-2:Re),hs(E,M+8,$.size)),hs(E,M+12,v),hs(E,M+14,P),M+=16,Ze!=null&&(hs(E,M,I),hs(E,M+6,$.attrs),hs(E,M+10,Ze),M+=14),E.set(ie,M),M+=v,P)for(var q in S){var ee=S[q],ke=ee.length;hs(E,M,+q),hs(E,M+2,ke),E.set(ee,M+4),M+=4+ke}return I&&(E.set(N,M),M+=I),M},Ga=function(E,M,$,ie,ye){hs(E,M,101010256),hs(E,M+8,$),hs(E,M+10,$),hs(E,M+12,ie),hs(E,M+16,ye)},Ra=(function(){function E(M){this.filename=M,this.c=us(),this.size=0,this.compression=0}return E.prototype.process=function(M,$){this.ondata(null,M,$)},E.prototype.push=function(M,$){this.ondata||ge(5),this.c.p(M),this.size+=M.length,$&&(this.crc=this.c.d()),this.process(M,$||!1)},E})(),fi=(function(){function E(M,$){var ie=this;$||($={}),Ra.call(this,M),this.d=new sr($,function(ye,Re){ie.ondata(null,ye,Re)}),this.compression=8,this.flag=Ka($.level)}return E.prototype.process=function(M,$){try{this.d.push(M,$)}catch(ie){this.ondata(ie,null,$)}},E.prototype.push=function(M,$){Ra.prototype.push.call(this,M,$)},E})(),Fo=(function(){function E(M,$){var ie=this;$||($={}),Ra.call(this,M),this.d=new ms($,function(ye,Re,Ze){ie.ondata(ye,Re,Ze)}),this.compression=8,this.flag=Ka($.level),this.terminate=this.d.terminate}return E.prototype.process=function(M,$){this.d.push(M,$)},E.prototype.push=function(M,$){Ra.prototype.push.call(this,M,$)},E})(),Bi=(function(){function E(M){this.ondata=M,this.u=[],this.d=1}return E.prototype.add=function(M){var $=this;if(this.ondata||ge(5),this.d&2)this.ondata(ge(4+(this.d&1)*8,0,1),null,!1);else{var ie=hi(M.filename),ye=ie.length,Re=M.comment,Ze=Re&&hi(Re),N=ye!=M.filename.length||Ze&&Re.length!=Ze.length,v=ye+Wn(M.extra)+30;ye>65535&&this.ondata(ge(11,0,1),null,!1);var S=new m(v);Ki(S,0,M,ie,N,-1);var I=[S],P=function(){for(var ke=0,Me=I;ke<Me.length;ke++){var $e=Me[ke];$.ondata(null,$e,!1)}I=[]},V=this.d;this.d=0;var de=this.u.length,q=ar(M,{f:ie,u:N,o:Ze,t:function(){M.terminate&&M.terminate()},r:function(){if(P(),V){var ke=$.u[de+1];ke?ke.r():$.d=1}V=1}}),ee=0;M.ondata=function(ke,Me,$e){if(ke)$.ondata(ke,Me,$e),$.terminate();else if(ee+=Me.length,I.push(Me),$e){var Je=new m(16);hs(Je,0,134695760),hs(Je,4,M.crc),hs(Je,8,ee),hs(Je,12,M.size),I.push(Je),q.c=ee,q.b=v+ee+16,q.crc=M.crc,q.size=M.size,V&&q.r(),V=1}else V&&P()},this.u.push(q)}},E.prototype.end=function(){var M=this;if(this.d&2){this.ondata(ge(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){M.d&1&&(M.u.splice(-1,1),M.e())},t:function(){}}),this.d=3},E.prototype.e=function(){for(var M=0,$=0,ie=0,ye=0,Re=this.u;ye<Re.length;ye++){var Ze=Re[ye];ie+=46+Ze.f.length+Wn(Ze.extra)+(Ze.o?Ze.o.length:0)}for(var N=new m(ie+22),v=0,S=this.u;v<S.length;v++){var Ze=S[v];Ki(N,M,Ze,Ze.f,Ze.u,-Ze.c-2,$,Ze.o),M+=46+Ze.f.length+Wn(Ze.extra)+(Ze.o?Ze.o.length:0),$+=Ze.b}Ga(N,M,this.u.length,ie,$),this.ondata(null,N,!0),this.d=2},E.prototype.terminate=function(){for(var M=0,$=this.u;M<$.length;M++){var ie=$[M];ie.t()}this.d=2},E})();function ba(E,M,$){$||($=M,M={}),typeof $!="function"&&ge(7);var ie={};el(E,"",ie,M);var ye=Object.keys(ie),Re=ye.length,Ze=0,N=0,v=Re,S=new Array(Re),I=[],P=function(){for(var ke=0;ke<I.length;++ke)I[ke]()},V=function(ke,Me){L(function(){$(ke,Me)})};L(function(){V=$});var de=function(){var ke=new m(N+22),Me=Ze,$e=N-Ze;N=0;for(var Je=0;Je<v;++Je){var xe=S[Je];try{var ct=xe.c.length;Ki(ke,N,xe,xe.f,xe.u,ct);var ot=30+xe.f.length+Wn(xe.extra),At=N+ot;ke.set(xe.c,At),Ki(ke,Ze,xe,xe.f,xe.u,ct,N,xe.m),Ze+=16+ot+(xe.m?xe.m.length:0),N=At+ct}catch(Ye){return V(Ye,null)}}Ga(ke,Ze,S.length,$e,Me),V(null,ke)};Re||de();for(var q=function(ke){var Me=ye[ke],$e=ie[Me],Je=$e[0],xe=$e[1],ct=us(),ot=Je.length;ct.p(Je);var At=hi(Me),Ye=At.length,wt=xe.comment,Rt=wt&&hi(wt),gt=Rt&&Rt.length,Ge=Wn(xe.extra),Mt=xe.level==0?0:8,is=function(Ht,vt){if(Ht)P(),V(Ht,null);else{var ts=vt.length;S[ke]=ar(xe,{size:ot,crc:ct.d(),c:vt,f:At,m:Rt,u:Ye!=Me.length||Rt&&wt.length!=gt,compression:Mt}),Ze+=30+Ye+Ge+ts,N+=76+2*(Ye+Ge)+(gt||0)+ts,--Re||de()}};if(Ye>65535&&is(ge(11,0,1),null),!Mt)is(null,Je);else if(ot<16e4)try{is(null,Pr(Je,xe))}catch(Ht){is(Ht,null)}else I.push(Or(Je,xe,is))},ee=0;ee<v;++ee)q(ee);return P}function pi(E,M){M||(M={});var $={},ie=[];el(E,"",$,M);var ye=0,Re=0;for(var Ze in $){var N=$[Ze],v=N[0],S=N[1],I=S.level==0?0:8,P=hi(Ze),V=P.length,de=S.comment,q=de&&hi(de),ee=q&&q.length,ke=Wn(S.extra);V>65535&&ge(11);var Me=I?Pr(v,S):v,$e=Me.length,Je=us();Je.p(v),ie.push(ar(S,{size:v.length,crc:Je.d(),c:Me,f:P,m:q,u:V!=Ze.length||q&&de.length!=ee,o:ye,compression:I})),ye+=30+V+ke+$e,Re+=76+2*(V+ke)+(ee||0)+$e}for(var xe=new m(Re+22),ct=ye,ot=Re-ye,At=0;At<ie.length;++At){var P=ie[At];Ki(xe,P.o,P,P.f,P.u,P.c.length);var Ye=30+P.f.length+Wn(P.extra);xe.set(P.c,P.o+Ye),Ki(xe,ye,P,P.f,P.u,P.c.length,P.o,P.m),ye+=16+Ye+(P.m?P.m.length:0)}return Ga(xe,ye,ie.length,ot,ct),xe}var eo=(function(){function E(){}return E.prototype.push=function(M,$){this.ondata(null,M,$)},E.compression=0,E})(),Si=(function(){function E(){var M=this;this.i=new Ar(function($,ie){M.ondata(null,$,ie)})}return E.prototype.push=function(M,$){try{this.i.push(M,$)}catch(ie){this.ondata(ie,null,$)}},E.compression=8,E})(),oo=(function(){function E(M,$){var ie=this;$<32e4?this.i=new Ar(function(ye,Re){ie.ondata(null,ye,Re)}):(this.i=new Da(function(ye,Re,Ze){ie.ondata(ye,Re,Ze)}),this.terminate=this.i.terminate)}return E.prototype.push=function(M,$){this.i.terminate&&(M=be(M,0)),this.i.push(M,$)},E.compression=8,E})(),Tt=(function(){function E(M){this.onfile=M,this.k=[],this.o={0:eo},this.p=ut}return E.prototype.push=function(M,$){var ie=this;if(this.onfile||ge(5),this.p||ge(4),this.c>0){var ye=Math.min(this.c,M.length),Re=M.subarray(0,ye);if(this.c-=ye,this.d?this.d.push(Re,!this.c):this.k[0].push(Re),M=M.subarray(ye),M.length)return this.push(M,$)}else{var Ze=0,N=0,v=void 0,S=void 0;this.p.length?M.length?(S=new m(this.p.length+M.length),S.set(this.p),S.set(M,this.p.length)):S=this.p:S=M;for(var I=S.length,P=this.c,V=P&&this.d,de=function(){var Me,$e=qt(S,N);if($e==67324752){Ze=1,v=N,q.d=null,q.c=0;var Je=yt(S,N+6),xe=yt(S,N+8),ct=Je&2048,ot=Je&8,At=yt(S,N+26),Ye=yt(S,N+28);if(I>N+30+At+Ye){var wt=[];q.k.unshift(wt),Ze=2;var Rt=qt(S,N+18),gt=qt(S,N+22),Ge=Wr(S.subarray(N+30,N+=30+At),!ct);Rt==4294967295?(Me=ot?[-2]:mo(S,N),Rt=Me[0],gt=Me[1]):ot&&(Rt=-1),N+=Ye,q.c=Rt;var Mt,is={name:Ge,compression:xe,start:function(){if(is.ondata||ge(5),!Rt)is.ondata(null,ut,!0);else{var Ht=ie.o[xe];Ht||is.ondata(ge(14,"unknown compression type "+xe,1),null,!1),Mt=Rt<0?new Ht(Ge):new Ht(Ge,Rt,gt),Mt.ondata=function(rt,xt,bt){is.ondata(rt,xt,bt)};for(var vt=0,ts=wt;vt<ts.length;vt++){var Xe=ts[vt];Mt.push(Xe,!1)}ie.k[0]==wt&&ie.c?ie.d=Mt:Mt.push(ut,!0)}},terminate:function(){Mt&&Mt.terminate&&Mt.terminate()}};Rt>=0&&(is.size=Rt,is.originalSize=gt),q.onfile(is)}return"break"}else if(P){if($e==134695760)return v=N+=12+(P==-2&&8),Ze=3,q.c=0,"break";if($e==33639248)return v=N-=4,Ze=3,q.c=0,"break"}},q=this;N<I-4;++N){var ee=de();if(ee==="break")break}if(this.p=ut,P<0){var ke=Ze?S.subarray(0,v-12-(P==-2&&8)-(qt(S,v-16)==134695760&&4)):S.subarray(0,N);V?V.push(ke,!!Ze):this.k[+(Ze==2)].push(ke)}if(Ze&2)return this.push(S.subarray(N),$);this.p=S.subarray(N)}$&&(this.c&&ge(13),this.p=null)},E.prototype.register=function(M){this.o[M.compression]=M},E})(),L=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(E){E()};function G(E,M,$){$||($=M,M={}),typeof $!="function"&&ge(7);var ie=[],ye=function(){for(var ke=0;ke<ie.length;++ke)ie[ke]()},Re={},Ze=function(ke,Me){L(function(){$(ke,Me)})};L(function(){Ze=$});for(var N=E.length-22;qt(E,N)!=101010256;--N)if(!N||E.length-N>65558)return Ze(ge(13,0,1),null),ye;var v=yt(E,N+8);if(v){var S=v,I=qt(E,N+16),P=I==4294967295||S==65535;if(P){var V=qt(E,N-12);P=qt(E,V)==101075792,P&&(S=v=qt(E,V+32),I=qt(E,V+48))}for(var de=M&&M.filter,q=function(ke){var Me=Qa(E,I,P),$e=Me[0],Je=Me[1],xe=Me[2],ct=Me[3],ot=Me[4],At=Me[5],Ye=Ci(E,At);I=ot;var wt=function(gt,Ge){gt?(ye(),Ze(gt,null)):(Ge&&(Re[ct]=Ge),--v||Ze(null,Re))};if(!de||de({name:ct,size:Je,originalSize:xe,compression:$e}))if(!$e)wt(null,be(E,Ye,Ye+Je));else if($e==8){var Rt=E.subarray(Ye,Ye+Je);if(xe<524288||Je>.8*xe)try{wt(null,fn(Rt,{out:new m(xe)}))}catch(gt){wt(gt,null)}else ie.push(fa(Rt,{size:xe},wt))}else wt(ge(14,"unknown compression type "+$e,1),null);else wt(null,null)},ee=0;ee<S;++ee)q(ee)}else Ze(null,{});return ye}function J(E,M){for(var $={},ie=E.length-22;qt(E,ie)!=101010256;--ie)(!ie||E.length-ie>65558)&&ge(13);var ye=yt(E,ie+8);if(!ye)return{};var Re=qt(E,ie+16),Ze=Re==4294967295||ye==65535;if(Ze){var N=qt(E,ie-12);Ze=qt(E,N)==101075792,Ze&&(ye=qt(E,N+32),Re=qt(E,N+48))}for(var v=M&&M.filter,S=0;S<ye;++S){var I=Qa(E,Re,Ze),P=I[0],V=I[1],de=I[2],q=I[3],ee=I[4],ke=I[5],Me=Ci(E,ke);Re=ee,(!v||v({name:q,size:V,originalSize:de,compression:P}))&&(P?P==8?$[q]=fn(E.subarray(Me,Me+V),{out:new m(de)}):ge(14,"unknown compression type "+P):$[q]=be(E,Me,Me+V))}return $}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(d,A,o){o.r(A),o.d(A,{IOBuffer:function(){return b}});var f=o("./node_modules/iobuffer/lib-esm/text.js");const p=1024*8,m=(()=>{const j=new Uint8Array(4),y=new Uint32Array(j.buffer);return!((y[0]=1)&j[0])})(),x={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class b{constructor(y=p,T={}){Va(this,"buffer");Va(this,"byteLength");Va(this,"byteOffset");Va(this,"length");Va(this,"offset");Va(this,"lastWrittenByte");Va(this,"littleEndian");Va(this,"_data");Va(this,"_mark");Va(this,"_marks");let R=!1;typeof y=="number"?y=new ArrayBuffer(y):(R=!0,this.lastWrittenByte=y.byteLength);const z=T.offset?T.offset>>>0:0,X=y.byteLength-z;let Y=z;(ArrayBuffer.isView(y)||y instanceof b)&&(y.byteLength!==y.buffer.byteLength&&(Y=y.byteOffset+z),y=y.buffer),R?this.lastWrittenByte=X:this.lastWrittenByte=0,this.buffer=y,this.length=X,this.byteLength=X,this.byteOffset=Y,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,Y,X),this._mark=0,this._marks=[]}available(y=1){return this.offset+y<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(y=1){return this.offset+=y,this}back(y=1){return this.offset-=y,this}seek(y){return this.offset=y,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const y=this._marks.pop();if(y===void 0)throw new Error("Mark stack empty");return this.seek(y),this}rewind(){return this.offset=0,this}ensureAvailable(y=1){if(!this.available(y)){const R=(this.offset+y)*2,z=new Uint8Array(R);z.set(new Uint8Array(this.buffer)),this.buffer=z.buffer,this.length=R,this.byteLength=R,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(y=1){return this.readArray(y,"uint8")}readArray(y,T){const R=x[T].BYTES_PER_ELEMENT*y,z=this.byteOffset+this.offset,X=this.buffer.slice(z,z+R);if(this.littleEndian===m&&T!=="uint8"&&T!=="int8"){const Q=new Uint8Array(this.buffer.slice(z,z+R));Q.reverse();const K=new x[T](Q.buffer);return this.offset+=R,K.reverse(),K}const Y=new x[T](X);return this.offset+=R,Y}readInt16(){const y=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,y}readUint16(){const y=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,y}readInt32(){const y=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,y}readUint32(){const y=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,y}readFloat32(){const y=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,y}readFloat64(){const y=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,y}readBigInt64(){const y=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,y}readBigUint64(){const y=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,y}readChar(){return String.fromCharCode(this.readInt8())}readChars(y=1){let T="";for(let R=0;R<y;R++)T+=this.readChar();return T}readUtf8(y=1){return(0,f.decode)(this.readBytes(y))}decodeText(y=1,T="utf8"){return(0,f.decode)(this.readBytes(y),T)}writeBoolean(y){return this.writeUint8(y?255:0),this}writeInt8(y){return this.ensureAvailable(1),this._data.setInt8(this.offset++,y),this._updateLastWrittenByte(),this}writeUint8(y){return this.ensureAvailable(1),this._data.setUint8(this.offset++,y),this._updateLastWrittenByte(),this}writeByte(y){return this.writeUint8(y)}writeBytes(y){this.ensureAvailable(y.length);for(let T=0;T<y.length;T++)this._data.setUint8(this.offset++,y[T]);return this._updateLastWrittenByte(),this}writeInt16(y){return this.ensureAvailable(2),this._data.setInt16(this.offset,y,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(y){return this.ensureAvailable(2),this._data.setUint16(this.offset,y,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(y){return this.ensureAvailable(4),this._data.setInt32(this.offset,y,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(y){return this.ensureAvailable(4),this._data.setUint32(this.offset,y,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(y){return this.ensureAvailable(4),this._data.setFloat32(this.offset,y,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(y){return this.ensureAvailable(8),this._data.setFloat64(this.offset,y,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(y){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,y,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(y){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,y,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(y){return this.writeUint8(y.charCodeAt(0))}writeChars(y){for(let T=0;T<y.length;T++)this.writeUint8(y.charCodeAt(T));return this}writeUtf8(y){return this.writeBytes((0,f.encode)(y))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(d,A,o){o.r(A),o.d(A,{decode:function(){return f},encode:function(){return m}});function f(x,b="utf8"){return new TextDecoder(b).decode(x)}const p=new TextEncoder;function m(x){return p.encode(x)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(d,A,o){o.r(A),o.d(A,{AcroForm:function(){return Pr},AcroFormAppearance:function(){return ms},AcroFormButton:function(){return $s},AcroFormCheckBox:function(){return Us},AcroFormChoiceField:function(){return qt},AcroFormComboBox:function(){return hs},AcroFormEditBox:function(){return Ks},AcroFormListBox:function(){return As},AcroFormPasswordField:function(){return sr},AcroFormPushButton:function(){return fr},AcroFormRadioButton:function(){return tn},AcroFormTextField:function(){return Ds},GState:function(){return Le},ShadingPattern:function(){return kt},TilingPattern:function(){return Bt},default:function(){return We},jsPDF:function(){return We}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),p=o("./node_modules/fflate/esm/browser.js"),m=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),x=o("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var b=(function(){return typeof window<"u"?window:typeof Op<"u"?Op:typeof self<"u"?self:this})();function j(){b.console&&typeof b.console.log=="function"&&b.console.log.apply(b.console,arguments)}var y={log:j,warn:function(N){b.console&&(typeof b.console.warn=="function"?b.console.warn.apply(b.console,arguments):j.call(null,arguments))},error:function(N){b.console&&(typeof b.console.error=="function"?b.console.error.apply(b.console,arguments):j(N))}};function T(N,v,S){var I=new XMLHttpRequest;I.open("GET",N),I.responseType="blob",I.onload=function(){X(I.response,v,S)},I.onerror=function(){y.error("could not download file")},I.send()}function R(N){var v=new XMLHttpRequest;v.open("HEAD",N,!1);try{v.send()}catch{}return v.status>=200&&v.status<=299}function z(N){try{N.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),N.dispatchEvent(v)}}var X=b.saveAs||((typeof window>"u"?"undefined":(0,f.default)(window))!=="object"||window!==b?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(N,v,S){var I=b.URL||b.webkitURL,P=document.createElement("a");v=v||N.name||"download",P.download=v,P.rel="noopener",typeof N=="string"?(P.href=N,P.origin!==location.origin?R(P.href)?T(N,v,S):z(P,P.target="_blank"):z(P)):(P.href=I.createObjectURL(N),setTimeout(function(){I.revokeObjectURL(P.href)},4e4),setTimeout(function(){z(P)},0))}:"msSaveOrOpenBlob"in navigator?function(N,v,S){if(v=v||N.name||"download",typeof N=="string")if(R(N))T(N,v,S);else{var I=document.createElement("a");I.href=N,I.target="_blank",setTimeout(function(){z(I)})}else navigator.msSaveOrOpenBlob((function(P,V){return V===void 0?V={autoBom:!1}:(0,f.default)(V)!=="object"&&(y.warn("Deprecated: Expected third argument to be a object"),V={autoBom:!V}),V.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(P.type)?new Blob(["\uFEFF",P],{type:P.type}):P})(N,S),v)}:function(N,v,S,I){if((I=I||open("","_blank"))&&(I.document.title=I.document.body.innerText="downloading..."),typeof N=="string")return T(N,v,S);var P=N.type==="application/octet-stream",V=/constructor/i.test(b.HTMLElement)||b.safari,de=/CriOS\/[\d]+/.test(navigator.userAgent);if((de||P&&V)&&(typeof FileReader>"u"?"undefined":(0,f.default)(FileReader))==="object"){var q=new FileReader;q.onloadend=function(){var Me=q.result;Me=de?Me:Me.replace(/^data:[^;]*;/,"data:attachment/file;"),I?I.location.href=Me:location=Me,I=null},q.readAsDataURL(N)}else{var ee=b.URL||b.webkitURL,ke=ee.createObjectURL(N);I?I.location=ke:location.href=ke,I=null,setTimeout(function(){ee.revokeObjectURL(ke)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Y(N){var v;N=N||"",this.ok=!1,N.charAt(0)=="#"&&(N=N.substr(1,6)),N={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[N=(N=N.replace(/ /g,"")).toLowerCase()]||N;for(var S=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(q){return[parseInt(q[1]),parseInt(q[2]),parseInt(q[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(q){return[parseInt(q[1],16),parseInt(q[2],16),parseInt(q[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(q){return[parseInt(q[1]+q[1],16),parseInt(q[2]+q[2],16),parseInt(q[3]+q[3],16)]}}],I=0;I<S.length;I++){var P=S[I].re,V=S[I].process,de=P.exec(N);de&&(v=V(de),this.r=v[0],this.g=v[1],this.b=v[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var q=this.r.toString(16),ee=this.g.toString(16),ke=this.b.toString(16);return q.length==1&&(q="0"+q),ee.length==1&&(ee="0"+ee),ke.length==1&&(ke="0"+ke),"#"+q+ee+ke}}var Q=b.atob.bind(b),K=b.btoa.bind(b);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ce(N,v){var S=N[0],I=N[1],P=N[2],V=N[3];S=Ne(S,I,P,V,v[0],7,-680876936),V=Ne(V,S,I,P,v[1],12,-389564586),P=Ne(P,V,S,I,v[2],17,606105819),I=Ne(I,P,V,S,v[3],22,-1044525330),S=Ne(S,I,P,V,v[4],7,-176418897),V=Ne(V,S,I,P,v[5],12,1200080426),P=Ne(P,V,S,I,v[6],17,-1473231341),I=Ne(I,P,V,S,v[7],22,-45705983),S=Ne(S,I,P,V,v[8],7,1770035416),V=Ne(V,S,I,P,v[9],12,-1958414417),P=Ne(P,V,S,I,v[10],17,-42063),I=Ne(I,P,V,S,v[11],22,-1990404162),S=Ne(S,I,P,V,v[12],7,1804603682),V=Ne(V,S,I,P,v[13],12,-40341101),P=Ne(P,V,S,I,v[14],17,-1502002290),S=le(S,I=Ne(I,P,V,S,v[15],22,1236535329),P,V,v[1],5,-165796510),V=le(V,S,I,P,v[6],9,-1069501632),P=le(P,V,S,I,v[11],14,643717713),I=le(I,P,V,S,v[0],20,-373897302),S=le(S,I,P,V,v[5],5,-701558691),V=le(V,S,I,P,v[10],9,38016083),P=le(P,V,S,I,v[15],14,-660478335),I=le(I,P,V,S,v[4],20,-405537848),S=le(S,I,P,V,v[9],5,568446438),V=le(V,S,I,P,v[14],9,-1019803690),P=le(P,V,S,I,v[3],14,-187363961),I=le(I,P,V,S,v[8],20,1163531501),S=le(S,I,P,V,v[13],5,-1444681467),V=le(V,S,I,P,v[2],9,-51403784),P=le(P,V,S,I,v[7],14,1735328473),S=Ce(S,I=le(I,P,V,S,v[12],20,-1926607734),P,V,v[5],4,-378558),V=Ce(V,S,I,P,v[8],11,-2022574463),P=Ce(P,V,S,I,v[11],16,1839030562),I=Ce(I,P,V,S,v[14],23,-35309556),S=Ce(S,I,P,V,v[1],4,-1530992060),V=Ce(V,S,I,P,v[4],11,1272893353),P=Ce(P,V,S,I,v[7],16,-155497632),I=Ce(I,P,V,S,v[10],23,-1094730640),S=Ce(S,I,P,V,v[13],4,681279174),V=Ce(V,S,I,P,v[0],11,-358537222),P=Ce(P,V,S,I,v[3],16,-722521979),I=Ce(I,P,V,S,v[6],23,76029189),S=Ce(S,I,P,V,v[9],4,-640364487),V=Ce(V,S,I,P,v[12],11,-421815835),P=Ce(P,V,S,I,v[15],16,530742520),S=oe(S,I=Ce(I,P,V,S,v[2],23,-995338651),P,V,v[0],6,-198630844),V=oe(V,S,I,P,v[7],10,1126891415),P=oe(P,V,S,I,v[14],15,-1416354905),I=oe(I,P,V,S,v[5],21,-57434055),S=oe(S,I,P,V,v[12],6,1700485571),V=oe(V,S,I,P,v[3],10,-1894986606),P=oe(P,V,S,I,v[10],15,-1051523),I=oe(I,P,V,S,v[1],21,-2054922799),S=oe(S,I,P,V,v[8],6,1873313359),V=oe(V,S,I,P,v[15],10,-30611744),P=oe(P,V,S,I,v[6],15,-1560198380),I=oe(I,P,V,S,v[13],21,1309151649),S=oe(S,I,P,V,v[4],6,-145523070),V=oe(V,S,I,P,v[11],10,-1120210379),P=oe(P,V,S,I,v[2],15,718787259),I=oe(I,P,V,S,v[9],21,-343485551),N[0]=Se(S,N[0]),N[1]=Se(I,N[1]),N[2]=Se(P,N[2]),N[3]=Se(V,N[3])}function ue(N,v,S,I,P,V){return v=Se(Se(v,N),Se(I,V)),Se(v<<P|v>>>32-P,S)}function Ne(N,v,S,I,P,V,de){return ue(v&S|~v&I,N,v,P,V,de)}function le(N,v,S,I,P,V,de){return ue(v&I|S&~I,N,v,P,V,de)}function Ce(N,v,S,I,P,V,de){return ue(v^S^I,N,v,P,V,de)}function oe(N,v,S,I,P,V,de){return ue(S^(v|~I),N,v,P,V,de)}function je(N){var v,S=N.length,I=[1732584193,-271733879,-1732584194,271733878];for(v=64;v<=N.length;v+=64)ce(I,Ae(N.substring(v-64,v)));N=N.substring(v-64);var P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(v=0;v<N.length;v++)P[v>>2]|=N.charCodeAt(v)<<(v%4<<3);if(P[v>>2]|=128<<(v%4<<3),v>55)for(ce(I,P),v=0;v<16;v++)P[v]=0;return P[14]=8*S,ce(I,P),I}function Ae(N){var v,S=[];for(v=0;v<64;v+=4)S[v>>2]=N.charCodeAt(v)+(N.charCodeAt(v+1)<<8)+(N.charCodeAt(v+2)<<16)+(N.charCodeAt(v+3)<<24);return S}var se="0123456789abcdef".split("");function pe(N){for(var v="",S=0;S<4;S++)v+=se[N>>8*S+4&15]+se[N>>8*S&15];return v}function re(N){return String.fromCharCode(255&N,(65280&N)>>8,(16711680&N)>>16,(4278190080&N)>>24)}function Ee(N){return je(N).map(re).join("")}var De=(function(N){for(var v=0;v<N.length;v++)N[v]=pe(N[v]);return N.join("")})(je("hello"))!="5d41402abc4b2a76b9719d911017c592";function Se(N,v){if(De){var S=(65535&N)+(65535&v);return(N>>16)+(v>>16)+(S>>16)<<16|65535&S}return N+v&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function fe(N,v){var S,I,P,V;if(N!==S){for(var de=(P=N,V=1+(256/N.length|0),new Array(V+1).join(P)),q=[],ee=0;ee<256;ee++)q[ee]=ee;var ke=0;for(ee=0;ee<256;ee++){var Me=q[ee];ke=(ke+Me+de.charCodeAt(ee))%256,q[ee]=q[ke],q[ke]=Me}S=N,I=q}else q=I;var $e=v.length,Je=0,xe=0,ct="";for(ee=0;ee<$e;ee++)xe=(xe+(Me=q[Je=(Je+1)%256]))%256,q[Je]=q[xe],q[xe]=Me,de=q[(q[Je]+q[xe])%256],ct+=String.fromCharCode(v.charCodeAt(ee)^de);return ct}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var be={print:4,modify:8,copy:16,"annot-forms":32};function he(N,v,S,I){this.v=1,this.r=2;var P=192;N.forEach(function(q){if(be.perm!==void 0)throw new Error("Invalid permission: "+q);P+=be[q]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var V=(v+this.padding).substr(0,32),de=(S+this.padding).substr(0,32);this.O=this.processOwnerPassword(V,de),this.P=-(1+(255^P)),this.encryptionKey=Ee(V+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(I)).substr(0,5),this.U=fe(this.encryptionKey,this.padding)}function te(N){if(/[^\u0000-\u00ff]/.test(N))throw new Error("Invalid PDF Name Object: "+N+", Only accept ASCII characters.");for(var v="",S=N.length,I=0;I<S;I++){var P=N.charCodeAt(I);v+=P<33||P===35||P===37||P===40||P===41||P===47||P===60||P===62||P===91||P===93||P===123||P===125||P>126?"#"+("0"+P.toString(16)).slice(-2):N[I]}return v}function ge(N){if((0,f.default)(N)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var v={};this.subscribe=function(S,I,P){if(P=P||!1,typeof S!="string"||typeof I!="function"||typeof P!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");v.hasOwnProperty(S)||(v[S]={});var V=Math.random().toString(35);return v[S][V]=[I,!!P],V},this.unsubscribe=function(S){for(var I in v)if(v[I][S])return delete v[I][S],Object.keys(v[I]).length===0&&delete v[I],!0;return!1},this.publish=function(S){if(v.hasOwnProperty(S)){var I=Array.prototype.slice.call(arguments,1),P=[];for(var V in v[S]){var de=v[S][V];try{de[0].apply(N,I)}catch(q){b.console&&y.error("jsPDF PubSub Error",q.message,q)}de[1]&&P.push(V)}P.length&&P.forEach(this.unsubscribe)}},this.getTopics=function(){return v}}function Le(N){if(!(this instanceof Le))return new Le(N);var v="opacity,stroke-opacity".split(",");for(var S in N)N.hasOwnProperty(S)&&v.indexOf(S)>=0&&(this[S]=N[S]);this.id="",this.objectNumber=-1}function Ve(N,v){this.gState=N,this.matrix=v,this.id="",this.objectNumber=-1}function kt(N,v,S,I,P){if(!(this instanceof kt))return new kt(N,v,S,I,P);this.type=N==="axial"?2:3,this.coords=v,this.colors=S,Ve.call(this,I,P)}function Bt(N,v,S,I,P){if(!(this instanceof Bt))return new Bt(N,v,S,I,P);this.boundingBox=N,this.xStep=v,this.yStep=S,this.stream="",this.cloneIndex=0,Ve.call(this,I,P)}function We(N){var v,S=typeof arguments[0]=="string"?arguments[0]:"p",I=arguments[1],P=arguments[2],V=arguments[3],de=[],q=1,ee=16,ke="S",Me=null;(0,f.default)(N=N||{})==="object"&&(S=N.orientation,I=N.unit||I,P=N.format||P,V=N.compress||N.compressPdf||V,(Me=N.encryption||null)!==null&&(Me.userPassword=Me.userPassword||"",Me.ownerPassword=Me.ownerPassword||"",Me.userPermissions=Me.userPermissions||[]),q=typeof N.userUnit=="number"?Math.abs(N.userUnit):1,N.precision!==void 0&&(v=N.precision),N.floatPrecision!==void 0&&(ee=N.floatPrecision),ke=N.defaultPathOperation||"S"),de=N.filters||(V===!0?["FlateEncode"]:de),I=I||"mm",S=(""+(S||"P")).toLowerCase();var $e=N.putOnlyUsedFonts||!1,Je={},xe={internal:{},__private__:{}};xe.__private__.PubSub=ge;var ct="1.3",ot=xe.__private__.getPdfVersion=function(){return ct};xe.__private__.setPdfVersion=function(Z){ct=Z};var At={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};xe.__private__.getPageFormats=function(){return At};var Ye=xe.__private__.getPageFormat=function(Z){return At[Z]};P=P||"a4";var wt="compat",Rt="advanced",gt=wt;function Ge(){this.saveGraphicsState(),tt(new an(nn,0,0,-nn,0,rd()*nn).toString()+" cm"),this.setFontSize(this.getFontSize()/nn),ke="n",gt=Rt}function Mt(){this.restoreGraphicsState(),ke="S",gt=wt}var is=xe.__private__.combineFontStyleAndFontWeight=function(Z,Te){if(Z=="bold"&&Te=="normal"||Z=="bold"&&Te==400||Z=="normal"&&Te=="italic"||Z=="bold"&&Te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Te&&(Z=Te==400||Te==="normal"?Z==="italic"?"italic":"normal":Te!=700&&Te!=="bold"||Z!=="normal"?(Te==700?"bold":Te)+""+Z:"bold"),Z};xe.advancedAPI=function(Z){var Te=gt===wt;return Te&&Ge.call(this),typeof Z!="function"||(Z(this),Te&&Mt.call(this)),this},xe.compatAPI=function(Z){var Te=gt===Rt;return Te&&Mt.call(this),typeof Z!="function"||(Z(this),Te&&Ge.call(this)),this},xe.isAdvancedAPI=function(){return gt===Rt};var Ht,vt=function(Z){if(gt!==Rt)throw new Error(Z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ts=xe.roundToPrecision=xe.__private__.roundToPrecision=function(Z,Te){var at=v||Te;if(isNaN(Z)||isNaN(at))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Z.toFixed(at).replace(/0+$/,"")};Ht=xe.hpf=xe.__private__.hpf=typeof ee=="number"?function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.hpf");return ts(Z,ee)}:ee==="smart"?function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.hpf");return ts(Z,Z>-1&&Z<1?16:5)}:function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.hpf");return ts(Z,16)};var Xe=xe.f2=xe.__private__.f2=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.f2");return ts(Z,2)},rt=xe.__private__.f3=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.f3");return ts(Z,3)},xt=xe.scale=xe.__private__.scale=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.scale");return gt===wt?Z*nn:gt===Rt?Z:void 0},bt=function(Z){return xt((function(Te){return gt===wt?rd()-Te:gt===Rt?Te:void 0})(Z))};xe.__private__.setPrecision=xe.setPrecision=function(Z){typeof parseInt(Z,10)=="number"&&(v=parseInt(Z,10))};var rs,ds="00000000000000000000000000000000",bs=xe.__private__.getFileId=function(){return ds},Kt=xe.__private__.setFileId=function(Z){return ds=Z!==void 0&&/^[a-fA-F0-9]{32}$/.test(Z)?Z.toUpperCase():ds.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Me!==null&&(Gi=new he(Me.userPermissions,Me.userPassword,Me.ownerPassword,ds)),ds};xe.setFileId=function(Z){return Kt(Z),this},xe.getFileId=function(){return bs()};var fs=xe.__private__.convertDateToPDFDate=function(Z){var Te=Z.getTimezoneOffset(),at=Te<0?"+":"-",pt=Math.floor(Math.abs(Te/60)),Qt=Math.abs(Te%60),Ns=[at,ht(pt),"'",ht(Qt),"'"].join("");return["D:",Z.getFullYear(),ht(Z.getMonth()+1),ht(Z.getDate()),ht(Z.getHours()),ht(Z.getMinutes()),ht(Z.getSeconds()),Ns].join("")},Xs=xe.__private__.convertPDFDateToDate=function(Z){var Te=parseInt(Z.substr(2,4),10),at=parseInt(Z.substr(6,2),10)-1,pt=parseInt(Z.substr(8,2),10),Qt=parseInt(Z.substr(10,2),10),Ns=parseInt(Z.substr(12,2),10),Rs=parseInt(Z.substr(14,2),10);return new Date(Te,at,pt,Qt,Ns,Rs,0)},_s=xe.__private__.setCreationDate=function(Z){var Te;if(Z===void 0&&(Z=new Date),Z instanceof Date)Te=fs(Z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Te=Z}return rs=Te},_e=xe.__private__.getCreationDate=function(Z){var Te=rs;return Z==="jsDate"&&(Te=Xs(rs)),Te};xe.setCreationDate=function(Z){return _s(Z),this},xe.getCreationDate=function(Z){return _e(Z)};var dt,ht=xe.__private__.padd2=function(Z){return("0"+parseInt(Z)).slice(-2)},Ot=xe.__private__.padd2Hex=function(Z){return("00"+(Z=Z.toString())).substr(Z.length)},Pt=0,Yt=[],ps=[],gs=0,Ls=[],Js=[],xr=!1,mr=ps;xe.__private__.setCustomOutputDestination=function(Z){xr=!0,mr=Z};var Yr=function(Z){xr||(mr=Z)};xe.__private__.resetCustomOutputDestination=function(){xr=!1,mr=ps};var tt=xe.__private__.out=function(Z){return Z=Z.toString(),gs+=Z.length+1,mr.push(Z),mr},lr=xe.__private__.write=function(Z){return tt(arguments.length===1?Z.toString():Array.prototype.join.call(arguments," "))},un=xe.__private__.getArrayBuffer=function(Z){for(var Te=Z.length,at=new ArrayBuffer(Te),pt=new Uint8Array(at);Te--;)pt[Te]=Z.charCodeAt(Te);return at},rr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];xe.__private__.getStandardFonts=function(){return rr};var Hs=N.fontSize||16;xe.__private__.setFontSize=xe.setFontSize=function(Z){return Hs=gt===Rt?Z/nn:Z,this};var sn,yr=xe.__private__.getFontSize=xe.getFontSize=function(){return gt===wt?Hs:Hs*nn},Vr=N.R2L||!1;xe.__private__.setR2L=xe.setR2L=function(Z){return Vr=Z,this},xe.__private__.getR2L=xe.getR2L=function(){return Vr};var Ir,Ca=xe.__private__.setZoomMode=function(Z){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Z))sn=Z;else if(isNaN(Z)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Z+'" is not recognized.');sn=Z}else sn=parseInt(Z,10)};xe.__private__.getZoomMode=function(){return sn};var Sn,Cr=xe.__private__.setPageMode=function(Z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Z+'" is not recognized.');Ir=Z};xe.__private__.getPageMode=function(){return Ir};var $n=xe.__private__.setLayoutMode=function(Z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Z+'" is not recognized.');Sn=Z};xe.__private__.getLayoutMode=function(){return Sn},xe.__private__.setDisplayMode=xe.setDisplayMode=function(Z,Te,at){return Ca(Z),$n(Te),Cr(at),this};var Xr={title:"",subject:"",author:"",keywords:"",creator:""};xe.__private__.getDocumentProperty=function(Z){if(Object.keys(Xr).indexOf(Z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xr[Z]},xe.__private__.getDocumentProperties=function(){return Xr},xe.__private__.setDocumentProperties=xe.setProperties=xe.setDocumentProperties=function(Z){for(var Te in Xr)Xr.hasOwnProperty(Te)&&Z[Te]&&(Xr[Te]=Z[Te]);return this},xe.__private__.setDocumentProperty=function(Z,Te){if(Object.keys(Xr).indexOf(Z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xr[Z]=Te};var Br,nn,Dr,vn,Yn,En={},Pn={},Wa=[],Kr={},_a={},pn={},Hr={},Na=null,Nn=0,ir=[],Ln=new ge(xe),Yc=N.hotfixes||[],Ri={},lo={},Gl=[],an=function Z(Te,at,pt,Qt,Ns,Rs){if(!(this instanceof Z))return new Z(Te,at,pt,Qt,Ns,Rs);isNaN(Te)&&(Te=1),isNaN(at)&&(at=0),isNaN(pt)&&(pt=0),isNaN(Qt)&&(Qt=1),isNaN(Ns)&&(Ns=0),isNaN(Rs)&&(Rs=0),this._matrix=[Te,at,pt,Qt,Ns,Rs]};Object.defineProperty(an.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Z){this._matrix[0]=Z}}),Object.defineProperty(an.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Z){this._matrix[1]=Z}}),Object.defineProperty(an.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Z){this._matrix[2]=Z}}),Object.defineProperty(an.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Z){this._matrix[3]=Z}}),Object.defineProperty(an.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Z){this._matrix[4]=Z}}),Object.defineProperty(an.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Z){this._matrix[5]=Z}}),Object.defineProperty(an.prototype,"a",{get:function(){return this._matrix[0]},set:function(Z){this._matrix[0]=Z}}),Object.defineProperty(an.prototype,"b",{get:function(){return this._matrix[1]},set:function(Z){this._matrix[1]=Z}}),Object.defineProperty(an.prototype,"c",{get:function(){return this._matrix[2]},set:function(Z){this._matrix[2]=Z}}),Object.defineProperty(an.prototype,"d",{get:function(){return this._matrix[3]},set:function(Z){this._matrix[3]=Z}}),Object.defineProperty(an.prototype,"e",{get:function(){return this._matrix[4]},set:function(Z){this._matrix[4]=Z}}),Object.defineProperty(an.prototype,"f",{get:function(){return this._matrix[5]},set:function(Z){this._matrix[5]=Z}}),Object.defineProperty(an.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(an.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(an.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(an.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),an.prototype.join=function(Z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Ht).join(Z)},an.prototype.multiply=function(Z){var Te=Z.sx*this.sx+Z.shy*this.shx,at=Z.sx*this.shy+Z.shy*this.sy,pt=Z.shx*this.sx+Z.sy*this.shx,Qt=Z.shx*this.shy+Z.sy*this.sy,Ns=Z.tx*this.sx+Z.ty*this.shx+this.tx,Rs=Z.tx*this.shy+Z.ty*this.sy+this.ty;return new an(Te,at,pt,Qt,Ns,Rs)},an.prototype.decompose=function(){var Z=this.sx,Te=this.shy,at=this.shx,pt=this.sy,Qt=this.tx,Ns=this.ty,Rs=Math.sqrt(Z*Z+Te*Te),Sr=(Z/=Rs)*at+(Te/=Rs)*pt;at-=Z*Sr,pt-=Te*Sr;var Er=Math.sqrt(at*at+pt*pt);return Sr/=Er,Z*(pt/=Er)<Te*(at/=Er)&&(Z=-Z,Te=-Te,Sr=-Sr,Rs=-Rs),{scale:new an(Rs,0,0,Er,0,0),translate:new an(1,0,0,1,Qt,Ns),rotate:new an(Z,Te,-Te,Z,0,0),skew:new an(1,0,Sr,1,0,0)}},an.prototype.toString=function(Z){return this.join(" ")},an.prototype.inversed=function(){var Z=this.sx,Te=this.shy,at=this.shx,pt=this.sy,Qt=this.tx,Ns=this.ty,Rs=1/(Z*pt-Te*at),Sr=pt*Rs,Er=-Te*Rs,mn=-at*Rs,kn=Z*Rs;return new an(Sr,Er,mn,kn,-Sr*Qt-mn*Ns,-Er*Qt-kn*Ns)},an.prototype.applyToPoint=function(Z){var Te=Z.x*this.sx+Z.y*this.shx+this.tx,at=Z.x*this.shy+Z.y*this.sy+this.ty;return new yl(Te,at)},an.prototype.applyToRectangle=function(Z){var Te=this.applyToPoint(Z),at=this.applyToPoint(new yl(Z.x+Z.w,Z.y+Z.h));return new vc(Te.x,Te.y,at.x-Te.x,at.y-Te.y)},an.prototype.clone=function(){var Z=this.sx,Te=this.shy,at=this.shx,pt=this.sy,Qt=this.tx,Ns=this.ty;return new an(Z,Te,at,pt,Qt,Ns)},xe.Matrix=an;var li=xe.matrixMult=function(Z,Te){return Te.multiply(Z)},mi=new an(1,0,0,1,0,0);xe.unitMatrix=xe.identityMatrix=mi;var tl=function(Z,Te){if(!_a[Z]){var at=(Te instanceof kt?"Sh":"P")+(Object.keys(Kr).length+1).toString(10);Te.id=at,_a[Z]=at,Kr[at]=Te,Ln.publish("addPattern",Te)}};xe.ShadingPattern=kt,xe.TilingPattern=Bt,xe.addShadingPattern=function(Z,Te){return vt("addShadingPattern()"),tl(Z,Te),this},xe.beginTilingPattern=function(Z){vt("beginTilingPattern()"),il(Z.boundingBox[0],Z.boundingBox[1],Z.boundingBox[2]-Z.boundingBox[0],Z.boundingBox[3]-Z.boundingBox[1],Z.matrix)},xe.endTilingPattern=function(Z,Te){vt("endTilingPattern()"),Te.stream=Js[dt].join(`
`),tl(Z,Te),Ln.publish("endTilingPattern",Te),Gl.pop().restore()};var Lo,Pa=xe.__private__.newObject=function(){var Z=gi();return ci(Z,!0),Z},gi=xe.__private__.newObjectDeferred=function(){return Pt++,Yt[Pt]=function(){return gs},Pt},ci=function(Z,Te){return Te=typeof Te=="boolean"&&Te,Yt[Z]=gs,Te&&tt(Z+" 0 obj"),Z},Fl=xe.__private__.newAdditionalObject=function(){var Z={objId:gi(),content:""};return Ls.push(Z),Z},Pi=gi(),fl=gi(),go=xe.__private__.decodeColorString=function(Z){var Te=Z.split(" ");if(Te.length!==2||Te[1]!=="g"&&Te[1]!=="G")Te.length!==5||Te[4]!=="k"&&Te[4]!=="K"||(Te=[(1-Te[0])*(1-Te[3]),(1-Te[1])*(1-Te[3]),(1-Te[2])*(1-Te[3]),"r"]);else{var at=parseFloat(Te[0]);Te=[at,at,at,"r"]}for(var pt="#",Qt=0;Qt<3;Qt++)pt+=("0"+Math.floor(255*parseFloat(Te[Qt])).toString(16)).slice(-2);return pt},Ll=xe.__private__.encodeColorString=function(Z){var Te;typeof Z=="string"&&(Z={ch1:Z});var at=Z.ch1,pt=Z.ch2,Qt=Z.ch3,Ns=Z.ch4,Rs=Z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof at=="string"&&at.charAt(0)!=="#"){var Sr=new Y(at);if(Sr.ok)at=Sr.toHex();else if(!/^\d*\.?\d*$/.test(at))throw new Error('Invalid color "'+at+'" passed to jsPDF.encodeColorString.')}if(typeof at=="string"&&/^#[0-9A-Fa-f]{3}$/.test(at)&&(at="#"+at[1]+at[1]+at[2]+at[2]+at[3]+at[3]),typeof at=="string"&&/^#[0-9A-Fa-f]{6}$/.test(at)){var Er=parseInt(at.substr(1),16);at=Er>>16&255,pt=Er>>8&255,Qt=255&Er}if(pt===void 0||Ns===void 0&&at===pt&&pt===Qt)Te=typeof at=="string"?at+" "+Rs[0]:Z.precision===2?Xe(at/255)+" "+Rs[0]:rt(at/255)+" "+Rs[0];else if(Ns===void 0||(0,f.default)(Ns)==="object"){if(Ns&&!isNaN(Ns.a)&&Ns.a===0)return["1.","1.","1.",Rs[1]].join(" ");Te=typeof at=="string"?[at,pt,Qt,Rs[1]].join(" "):Z.precision===2?[Xe(at/255),Xe(pt/255),Xe(Qt/255),Rs[1]].join(" "):[rt(at/255),rt(pt/255),rt(Qt/255),Rs[1]].join(" ")}else Te=typeof at=="string"?[at,pt,Qt,Ns,Rs[2]].join(" "):Z.precision===2?[Xe(at),Xe(pt),Xe(Qt),Xe(Ns),Rs[2]].join(" "):[rt(at),rt(pt),rt(Qt),rt(Ns),Rs[2]].join(" ");return Te},Mo=xe.__private__.getFilters=function(){return de},pl=xe.__private__.putStream=function(Z){var Te=(Z=Z||{}).data||"",at=Z.filters||Mo(),pt=Z.alreadyAppliedFilters||[],Qt=Z.addLength1||!1,Ns=Te.length,Rs=Z.objectId,Sr=function(Ei){return Ei};if(Me!==null&&Rs===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Me!==null&&(Sr=Gi.encryptor(Rs,0));var Er={};at===!0&&(at=["FlateEncode"]);var mn=Z.additionalKeyValues||[],kn=(Er=We.API.processDataByFilters!==void 0?We.API.processDataByFilters(Te,at):{data:Te,reverseChain:[]}).reverseChain+(Array.isArray(pt)?pt.join(" "):pt.toString());if(Er.data.length!==0&&(mn.push({key:"Length",value:Er.data.length}),Qt===!0&&mn.push({key:"Length1",value:Ns})),kn.length!=0)if(kn.split("/").length-1==1)mn.push({key:"Filter",value:kn});else{mn.push({key:"Filter",value:"["+kn+"]"});for(var ra=0;ra<mn.length;ra+=1)if(mn[ra].key==="DecodeParms"){for(var Fa=[],bi=0;bi<Er.reverseChain.split("/").length-1;bi+=1)Fa.push("null");Fa.push(mn[ra].value),mn[ra].value="["+Fa.join(" ")+"]"}}tt("<<");for(var Ba=0;Ba<mn.length;Ba++)tt("/"+mn[Ba].key+" "+mn[Ba].value);tt(">>"),Er.data.length!==0&&(tt("stream"),tt(Sr(Er.data)),tt("endstream"))},Xc=xe.__private__.putPage=function(Z){var Te=Z.number,at=Z.data,pt=Z.objId,Qt=Z.contentsObjId;ci(pt,!0),tt("<</Type /Page"),tt("/Parent "+Z.rootDictionaryObjId+" 0 R"),tt("/Resources "+Z.resourceDictionaryObjId+" 0 R"),tt("/MediaBox ["+parseFloat(Ht(Z.mediaBox.bottomLeftX))+" "+parseFloat(Ht(Z.mediaBox.bottomLeftY))+" "+Ht(Z.mediaBox.topRightX)+" "+Ht(Z.mediaBox.topRightY)+"]"),Z.cropBox!==null&&tt("/CropBox ["+Ht(Z.cropBox.bottomLeftX)+" "+Ht(Z.cropBox.bottomLeftY)+" "+Ht(Z.cropBox.topRightX)+" "+Ht(Z.cropBox.topRightY)+"]"),Z.bleedBox!==null&&tt("/BleedBox ["+Ht(Z.bleedBox.bottomLeftX)+" "+Ht(Z.bleedBox.bottomLeftY)+" "+Ht(Z.bleedBox.topRightX)+" "+Ht(Z.bleedBox.topRightY)+"]"),Z.trimBox!==null&&tt("/TrimBox ["+Ht(Z.trimBox.bottomLeftX)+" "+Ht(Z.trimBox.bottomLeftY)+" "+Ht(Z.trimBox.topRightX)+" "+Ht(Z.trimBox.topRightY)+"]"),Z.artBox!==null&&tt("/ArtBox ["+Ht(Z.artBox.bottomLeftX)+" "+Ht(Z.artBox.bottomLeftY)+" "+Ht(Z.artBox.topRightX)+" "+Ht(Z.artBox.topRightY)+"]"),typeof Z.userUnit=="number"&&Z.userUnit!==1&&tt("/UserUnit "+Z.userUnit),Ln.publish("putPage",{objId:pt,pageContext:ir[Te],pageNumber:Te,page:at}),tt("/Contents "+Qt+" 0 R"),tt(">>"),tt("endobj");var Ns=at.join(`
`);return gt===Rt&&(Ns+=`
Q`),ci(Qt,!0),pl({data:Ns,filters:Mo(),objectId:Qt}),tt("endobj"),pt},ml=xe.__private__.putPages=function(){var Z,Te,at=[];for(Z=1;Z<=Nn;Z++)ir[Z].objId=gi(),ir[Z].contentsObjId=gi();for(Z=1;Z<=Nn;Z++)at.push(Xc({number:Z,data:Js[Z],objId:ir[Z].objId,contentsObjId:ir[Z].contentsObjId,mediaBox:ir[Z].mediaBox,cropBox:ir[Z].cropBox,bleedBox:ir[Z].bleedBox,trimBox:ir[Z].trimBox,artBox:ir[Z].artBox,userUnit:ir[Z].userUnit,rootDictionaryObjId:Pi,resourceDictionaryObjId:fl}));ci(Pi,!0),tt("<</Type /Pages");var pt="/Kids [";for(Te=0;Te<Nn;Te++)pt+=at[Te]+" 0 R ";tt(pt+"]"),tt("/Count "+Nn),tt(">>"),tt("endobj"),Ln.publish("postPutPages")},Oo=function(Z){Ln.publish("putFont",{font:Z,out:tt,newObject:Pa,putStream:pl}),Z.isAlreadyPutted!==!0&&(Z.objectNumber=Pa(),tt("<<"),tt("/Type /Font"),tt("/BaseFont /"+te(Z.postScriptName)),tt("/Subtype /Type1"),typeof Z.encoding=="string"&&tt("/Encoding /"+Z.encoding),tt("/FirstChar 32"),tt("/LastChar 255"),tt(">>"),tt("endobj"))},Fc=function(Z){Z.objectNumber=Pa();var Te=[];Te.push({key:"Type",value:"/XObject"}),Te.push({key:"Subtype",value:"/Form"}),Te.push({key:"BBox",value:"["+[Ht(Z.x),Ht(Z.y),Ht(Z.x+Z.width),Ht(Z.y+Z.height)].join(" ")+"]"}),Te.push({key:"Matrix",value:"["+Z.matrix.toString()+"]"});var at=Z.pages[1].join(`
`);pl({data:at,additionalKeyValues:Te,objectId:Z.objectNumber}),tt("endobj")},Jc=function(Z,Te){Te||(Te=21);var at=Pa(),pt=(function(Rs,Sr){var Er,mn=[],kn=1/(Sr-1);for(Er=0;Er<1;Er+=kn)mn.push(Er);if(mn.push(1),Rs[0].offset!=0){var ra={offset:0,color:Rs[0].color};Rs.unshift(ra)}if(Rs[Rs.length-1].offset!=1){var Fa={offset:1,color:Rs[Rs.length-1].color};Rs.push(Fa)}for(var bi="",Ba=0,Ei=0;Ei<mn.length;Ei++){for(Er=mn[Ei];Er>Rs[Ba+1].offset;)Ba++;var k=Rs[Ba].offset,Be=(Er-k)/(Rs[Ba+1].offset-k),H=Rs[Ba].color,Qe=Rs[Ba+1].color;bi+=Ot(Math.round((1-Be)*H[0]+Be*Qe[0]).toString(16))+Ot(Math.round((1-Be)*H[1]+Be*Qe[1]).toString(16))+Ot(Math.round((1-Be)*H[2]+Be*Qe[2]).toString(16))}return bi.trim()})(Z.colors,Te),Qt=[];Qt.push({key:"FunctionType",value:"0"}),Qt.push({key:"Domain",value:"[0.0 1.0]"}),Qt.push({key:"Size",value:"["+Te+"]"}),Qt.push({key:"BitsPerSample",value:"8"}),Qt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pl({data:pt,additionalKeyValues:Qt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:at}),tt("endobj"),Z.objectNumber=Pa(),tt("<< /ShadingType "+Z.type),tt("/ColorSpace /DeviceRGB");var Ns="/Coords ["+Ht(parseFloat(Z.coords[0]))+" "+Ht(parseFloat(Z.coords[1]))+" ";Z.type===2?Ns+=Ht(parseFloat(Z.coords[2]))+" "+Ht(parseFloat(Z.coords[3])):Ns+=Ht(parseFloat(Z.coords[2]))+" "+Ht(parseFloat(Z.coords[3]))+" "+Ht(parseFloat(Z.coords[4]))+" "+Ht(parseFloat(Z.coords[5])),tt(Ns+="]"),Z.matrix&&tt("/Matrix ["+Z.matrix.toString()+"]"),tt("/Function "+at+" 0 R"),tt("/Extend [true true]"),tt(">>"),tt("endobj")},gc=function(Z,Te){var at=gi(),pt=Pa();Te.push({resourcesOid:at,objectOid:pt}),Z.objectNumber=pt;var Qt=[];Qt.push({key:"Type",value:"/Pattern"}),Qt.push({key:"PatternType",value:"1"}),Qt.push({key:"PaintType",value:"1"}),Qt.push({key:"TilingType",value:"1"}),Qt.push({key:"BBox",value:"["+Z.boundingBox.map(Ht).join(" ")+"]"}),Qt.push({key:"XStep",value:Ht(Z.xStep)}),Qt.push({key:"YStep",value:Ht(Z.yStep)}),Qt.push({key:"Resources",value:at+" 0 R"}),Z.matrix&&Qt.push({key:"Matrix",value:"["+Z.matrix.toString()+"]"}),pl({data:Z.stream,additionalKeyValues:Qt,objectId:Z.objectNumber}),tt("endobj")},sl=function(Z){for(var Te in Z.objectNumber=Pa(),tt("<<"),Z)switch(Te){case"opacity":tt("/ca "+Xe(Z[Te]));break;case"stroke-opacity":tt("/CA "+Xe(Z[Te]))}tt(">>"),tt("endobj")},Lc=function(Z){ci(Z.resourcesOid,!0),tt("<<"),tt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Te in tt("/Font <<"),En)En.hasOwnProperty(Te)&&($e===!1||$e===!0&&Je.hasOwnProperty(Te))&&tt("/"+Te+" "+En[Te].objectNumber+" 0 R");tt(">>")})(),(function(){if(Object.keys(Kr).length>0){for(var Te in tt("/Shading <<"),Kr)Kr.hasOwnProperty(Te)&&Kr[Te]instanceof kt&&Kr[Te].objectNumber>=0&&tt("/"+Te+" "+Kr[Te].objectNumber+" 0 R");Ln.publish("putShadingPatternDict"),tt(">>")}})(),(function(Te){if(Object.keys(Kr).length>0){for(var at in tt("/Pattern <<"),Kr)Kr.hasOwnProperty(at)&&Kr[at]instanceof xe.TilingPattern&&Kr[at].objectNumber>=0&&Kr[at].objectNumber<Te&&tt("/"+at+" "+Kr[at].objectNumber+" 0 R");Ln.publish("putTilingPatternDict"),tt(">>")}})(Z.objectOid),(function(){if(Object.keys(pn).length>0){var Te;for(Te in tt("/ExtGState <<"),pn)pn.hasOwnProperty(Te)&&pn[Te].objectNumber>=0&&tt("/"+Te+" "+pn[Te].objectNumber+" 0 R");Ln.publish("putGStateDict"),tt(">>")}})(),(function(){for(var Te in tt("/XObject <<"),Ri)Ri.hasOwnProperty(Te)&&Ri[Te].objectNumber>=0&&tt("/"+Te+" "+Ri[Te].objectNumber+" 0 R");Ln.publish("putXobjectDict"),tt(">>")})(),tt(">>"),tt("endobj")},Io=function(Z){Pn[Z.fontName]=Pn[Z.fontName]||{},Pn[Z.fontName][Z.fontStyle]=Z.id},Ml=function(Z,Te,at,pt,Qt){var Ns={id:"F"+(Object.keys(En).length+1).toString(10),postScriptName:Z,fontName:Te,fontStyle:at,encoding:pt,isStandardFont:Qt||!1,metadata:{}};return Ln.publish("addFont",{font:Ns,instance:this}),En[Ns.id]=Ns,Io(Ns),Ns.id},xo=xe.__private__.pdfEscape=xe.pdfEscape=function(Z,Te){return(function(at,pt){var Qt,Ns,Rs,Sr,Er,mn,kn,ra,Fa;if(Rs=(pt=pt||{}).sourceEncoding||"Unicode",Er=pt.outputEncoding,(pt.autoencode||Er)&&En[Br].metadata&&En[Br].metadata[Rs]&&En[Br].metadata[Rs].encoding&&(Sr=En[Br].metadata[Rs].encoding,!Er&&En[Br].encoding&&(Er=En[Br].encoding),!Er&&Sr.codePages&&(Er=Sr.codePages[0]),typeof Er=="string"&&(Er=Sr[Er]),Er)){for(kn=!1,mn=[],Qt=0,Ns=at.length;Qt<Ns;Qt++)(ra=Er[at.charCodeAt(Qt)])?mn.push(String.fromCharCode(ra)):mn.push(at[Qt]),mn[Qt].charCodeAt(0)>>8&&(kn=!0);at=mn.join("")}for(Qt=at.length;kn===void 0&&Qt!==0;)at.charCodeAt(Qt-1)>>8&&(kn=!0),Qt--;if(!kn)return at;for(mn=pt.noBOM?[]:[254,255],Qt=0,Ns=at.length;Qt<Ns;Qt++){if((Fa=(ra=at.charCodeAt(Qt))>>8)>>8)throw new Error("Character at position "+Qt+" of string '"+at+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mn.push(Fa),mn.push(ra-(Fa<<8))}return String.fromCharCode.apply(void 0,mn)})(Z,Te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xc=xe.__private__.beginPage=function(Z){Js[++Nn]=[],ir[Nn]={objId:0,contentsObjId:0,userUnit:Number(q),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Z[0]),topRightY:Number(Z[1])}},Wl(Nn),Yr(Js[dt])},Mc=function(Z,Te){var at,pt,Qt;switch(S=Te||S,typeof Z=="string"&&(at=Ye(Z.toLowerCase()),Array.isArray(at)&&(pt=at[0],Qt=at[1])),Array.isArray(Z)&&(pt=Z[0]*nn,Qt=Z[1]*nn),isNaN(pt)&&(pt=P[0],Qt=P[1]),(pt>14400||Qt>14400)&&(y.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pt=Math.min(14400,pt),Qt=Math.min(14400,Qt)),P=[pt,Qt],S.substr(0,1)){case"l":Qt>pt&&(P=[Qt,pt]);break;case"p":pt>Qt&&(P=[Qt,pt])}xc(P),cr(Qi),tt(Yi),Qo!==0&&tt(Qo+" J"),al!==0&&tt(al+" j"),Ln.publish("addPage",{pageNumber:Nn})},Ad=function(Z){Z>0&&Z<=Nn&&(Js.splice(Z,1),ir.splice(Z,1),Nn--,dt>Nn&&(dt=Nn),this.setPage(dt))},Wl=function(Z){Z>0&&Z<=Nn&&(dt=Z)},Jd=xe.__private__.getNumberOfPages=xe.getNumberOfPages=function(){return Js.length-1},hd=function(Z,Te,at){var pt,Qt=void 0;return at=at||{},Z=Z!==void 0?Z:En[Br].fontName,Te=Te!==void 0?Te:En[Br].fontStyle,pt=Z.toLowerCase(),Pn[pt]!==void 0&&Pn[pt][Te]!==void 0?Qt=Pn[pt][Te]:Pn[Z]!==void 0&&Pn[Z][Te]!==void 0?Qt=Pn[Z][Te]:at.disableWarning===!1&&y.warn("Unable to look up font label for font '"+Z+"', '"+Te+"'. Refer to getFontList() for available fonts."),Qt||at.noFallback||(Qt=Pn.times[Te])==null&&(Qt=Pn.times.normal),Qt},bo=xe.__private__.putInfo=function(){var Z=Pa(),Te=function(pt){return pt};for(var at in Me!==null&&(Te=Gi.encryptor(Z,0)),tt("<<"),tt("/Producer ("+xo(Te("jsPDF "+We.version))+")"),Xr)Xr.hasOwnProperty(at)&&Xr[at]&&tt("/"+at.substr(0,1).toUpperCase()+at.substr(1)+" ("+xo(Te(Xr[at]))+")");tt("/CreationDate ("+xo(Te(rs))+")"),tt(">>"),tt("endobj")},Od=xe.__private__.putCatalog=function(Z){var Te=(Z=Z||{}).rootDictionaryObjId||Pi;switch(Pa(),tt("<<"),tt("/Type /Catalog"),tt("/Pages "+Te+" 0 R"),sn||(sn="fullwidth"),sn){case"fullwidth":tt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":tt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":tt("/OpenAction [3 0 R /Fit]");break;case"original":tt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var at=""+sn;at.substr(at.length-1)==="%"&&(sn=parseInt(sn)/100),typeof sn=="number"&&tt("/OpenAction [3 0 R /XYZ null null "+Xe(sn)+"]")}switch(Sn||(Sn="continuous"),Sn){case"continuous":tt("/PageLayout /OneColumn");break;case"single":tt("/PageLayout /SinglePage");break;case"two":case"twoleft":tt("/PageLayout /TwoColumnLeft");break;case"tworight":tt("/PageLayout /TwoColumnRight")}Ir&&tt("/PageMode /"+Ir),Ln.publish("putCatalog"),tt(">>"),tt("endobj")},Do=xe.__private__.putTrailer=function(){tt("trailer"),tt("<<"),tt("/Size "+(Pt+1)),tt("/Root "+Pt+" 0 R"),tt("/Info "+(Pt-1)+" 0 R"),Me!==null&&tt("/Encrypt "+Gi.oid+" 0 R"),tt("/ID [ <"+ds+"> <"+ds+"> ]"),tt(">>")},An=xe.__private__.putHeader=function(){tt("%PDF-"+ct),tt("%")},Ol=xe.__private__.putXRef=function(){var Z="0000000000";tt("xref"),tt("0 "+(Pt+1)),tt("0000000000 65535 f ");for(var Te=1;Te<=Pt;Te++)typeof Yt[Te]=="function"?tt((Z+Yt[Te]()).slice(-10)+" 00000 n "):Yt[Te]!==void 0?tt((Z+Yt[Te]).slice(-10)+" 00000 n "):tt("0000000000 00000 n ")},Yl=xe.__private__.buildDocument=function(){var Z;Pt=0,gs=0,ps=[],Yt=[],Ls=[],Pi=gi(),fl=gi(),Yr(ps),Ln.publish("buildDocument"),An(),ml(),(function(){Ln.publish("putAdditionalObjects");for(var at=0;at<Ls.length;at++){var pt=Ls[at];ci(pt.objId,!0),tt(pt.content),tt("endobj")}Ln.publish("postPutAdditionalObjects")})(),Z=[],(function(){for(var at in En)En.hasOwnProperty(at)&&($e===!1||$e===!0&&Je.hasOwnProperty(at))&&Oo(En[at])})(),(function(){var at;for(at in pn)pn.hasOwnProperty(at)&&sl(pn[at])})(),(function(){for(var at in Ri)Ri.hasOwnProperty(at)&&Fc(Ri[at])})(),(function(at){var pt;for(pt in Kr)Kr.hasOwnProperty(pt)&&(Kr[pt]instanceof kt?Jc(Kr[pt]):Kr[pt]instanceof Bt&&gc(Kr[pt],at))})(Z),Ln.publish("putResources"),Z.forEach(Lc),Lc({resourcesOid:fl,objectOid:Number.MAX_SAFE_INTEGER}),Ln.publish("postPutResources"),Me!==null&&(Gi.oid=Pa(),tt("<<"),tt("/Filter /Standard"),tt("/V "+Gi.v),tt("/R "+Gi.r),tt("/U <"+Gi.toHexString(Gi.U)+">"),tt("/O <"+Gi.toHexString(Gi.O)+">"),tt("/P "+Gi.P),tt(">>"),tt("endobj")),bo(),Od();var Te=gs;return Ol(),Do(),tt("startxref"),tt(""+Te),tt("%%EOF"),Yr(Js[dt]),ps.join(`
`)},Xl=xe.__private__.getBlob=function(Z){return new Blob([un(Z)],{type:"application/pdf"})},Oc=xe.output=xe.__private__.output=(Lo=function(Z,Te){switch(typeof(Te=Te||{})=="string"?Te={filename:Te}:Te.filename=Te.filename||"generated.pdf",Z){case void 0:return Yl();case"save":xe.save(Te.filename);break;case"arraybuffer":return un(Yl());case"blob":return Xl(Yl());case"bloburi":case"bloburl":if(b.URL!==void 0&&typeof b.URL.createObjectURL=="function")return b.URL&&b.URL.createObjectURL(Xl(Yl()))||void 0;y.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var at="",pt=Yl();try{at=K(pt)}catch{at=K(unescape(encodeURIComponent(pt)))}return"data:application/pdf;filename="+Te.filename+";base64,"+at;case"pdfobjectnewwindow":if(Object.prototype.toString.call(b)==="[object Window]"){var Qt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ns=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Te.pdfObjectUrl&&(Qt=Te.pdfObjectUrl,Ns="");var Rs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qt+'"'+Ns+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Te)+");<\/script></body></html>",Sr=b.open();return Sr!==null&&Sr.document.write(Rs),Sr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(b)==="[object Window]"){var Er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Te.filename+'" width="500px" height="400px" /></body></html>',mn=b.open();if(mn!==null){mn.document.write(Er);var kn=this;mn.document.documentElement.querySelector("#pdfViewer").onload=function(){mn.document.title=Te.filename,mn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kn.output("bloburl"))}}return mn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(b)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ra='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Te)+'"></iframe></body></html>',Fa=b.open();if(Fa!==null&&(Fa.document.write(ra),Fa.document.title=Te.filename),Fa||typeof safari>"u")return Fa;break;case"datauri":case"dataurl":return b.document.location.href=this.output("datauristring",Te);default:return null}},Lo.foo=function(){try{return Lo.apply(this,arguments)}catch(at){var Z=at.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var Te="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+at.message;if(!b.console)throw new Error(Te);b.console.error(Te,at),b.alert&&alert(Te)}},Lo.foo.bar=Lo,Lo.foo),Il=function(Z){return Array.isArray(Yc)===!0&&Yc.indexOf(Z)>-1};switch(I){case"pt":nn=1;break;case"mm":nn=2.834645669291339;break;case"cm":nn=28.346456692913385;break;case"in":nn=72;break;case"px":nn=Il("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":nn=12;break;case"ex":nn=6;break;default:if(typeof I!="number")throw new Error("Invalid unit: "+I);nn=I}var Gi=null;_s(),Kt();var Jl=xe.__private__.getPageInfo=xe.getPageInfo=function(Z){if(isNaN(Z)||Z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ir[Z].objId,pageNumber:Z,pageContext:ir[Z]}},fd=xe.__private__.getPageInfoByObjId=function(Z){if(isNaN(Z)||Z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Te in ir)if(ir[Te].objId===Z)break;return Jl(Te)},Wi=xe.__private__.getCurrentPageInfo=xe.getCurrentPageInfo=function(){return{objId:ir[dt].objId,pageNumber:dt,pageContext:ir[dt]}};xe.addPage=function(){return Mc.apply(this,arguments),this},xe.setPage=function(){return Wl.apply(this,arguments),Yr.call(this,Js[dt]),this},xe.insertPage=function(Z){return this.addPage(),this.movePage(dt,Z),this},xe.movePage=function(Z,Te){var at,pt;if(Z>Te){at=Js[Z],pt=ir[Z];for(var Qt=Z;Qt>Te;Qt--)Js[Qt]=Js[Qt-1],ir[Qt]=ir[Qt-1];Js[Te]=at,ir[Te]=pt,this.setPage(Te)}else if(Z<Te){at=Js[Z],pt=ir[Z];for(var Ns=Z;Ns<Te;Ns++)Js[Ns]=Js[Ns+1],ir[Ns]=ir[Ns+1];Js[Te]=at,ir[Te]=pt,this.setPage(Te)}return this},xe.deletePage=function(){return Ad.apply(this,arguments),this},xe.__private__.text=xe.text=function(Z,Te,at,pt,Qt){var Ns,Rs,Sr,Er,mn,kn,ra,Fa,bi,Ba=(pt=pt||{}).scope||this;if(typeof Z=="number"&&typeof Te=="number"&&(typeof at=="string"||Array.isArray(at))){var Ei=at;at=Te,Te=Z,Z=Ei}if(arguments[3]instanceof an==0?(Sr=arguments[4],Er=arguments[5],(0,f.default)(ra=arguments[3])==="object"&&ra!==null||(typeof Sr=="string"&&(Er=Sr,Sr=null),typeof ra=="string"&&(Er=ra,ra=null),typeof ra=="number"&&(Sr=ra,ra=null),pt={flags:ra,angle:Sr,align:Er})):(vt("The transform parameter of text() with a Matrix value"),bi=Qt),isNaN(Te)||isNaN(at)||Z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Z.length===0)return Ba;var k,Be="",H=typeof pt.lineHeightFactor=="number"?pt.lineHeightFactor:md,Qe=Ba.internal.scaleFactor;function lt(aa){return aa=aa.split("	").join(Array(pt.TabLen||9).join(" ")),xo(aa,ra)}function it(aa){for(var za,_n=aa.concat(),Ji=[],ad=_n.length;ad--;)typeof(za=_n.shift())=="string"?Ji.push(za):Array.isArray(aa)&&(za.length===1||za[1]===void 0&&za[2]===void 0)?Ji.push(za[0]):Ji.push([za[0],za[1],za[2]]);return Ji}function Xt(aa,za){var _n;if(typeof aa=="string")_n=za(aa)[0];else if(Array.isArray(aa)){for(var Ji,ad,yu=aa.concat(),Id=[],Ou=yu.length;Ou--;)typeof(Ji=yu.shift())=="string"?Id.push(za(Ji)[0]):Array.isArray(Ji)&&typeof Ji[0]=="string"&&(ad=za(Ji[0],Ji[1],Ji[2]),Id.push([ad[0],ad[1],ad[2]]));_n=Id}return _n}var Ut=!1,pr=!0;if(typeof Z=="string")Ut=!0;else if(Array.isArray(Z)){var jt=Z.concat();Rs=[];for(var Jt,gn=jt.length;gn--;)(typeof(Jt=jt.shift())!="string"||Array.isArray(Jt)&&typeof Jt[0]!="string")&&(pr=!1);Ut=pr}if(Ut===!1)throw new Error('Type of text must be string or Array. "'+Z+'" is not recognized.');typeof Z=="string"&&(Z=Z.match(/[\r?\n]/)?Z.split(/\r\n|\r|\n/g):[Z]);var nr=Hs/Ba.internal.scaleFactor,Qs=nr*(H-1);switch(pt.baseline){case"bottom":at-=Qs;break;case"top":at+=nr-Qs;break;case"hanging":at+=nr-2*Qs;break;case"middle":at+=nr/2-Qs}if((kn=pt.maxWidth||0)>0&&(typeof Z=="string"?Z=Ba.splitTextToSize(Z,kn):Object.prototype.toString.call(Z)==="[object Array]"&&(Z=Z.reduce(function(aa,za){return aa.concat(Ba.splitTextToSize(za,kn))},[]))),Ns={text:Z,x:Te,y:at,options:pt,mutex:{pdfEscape:xo,activeFontKey:Br,fonts:En,activeFontSize:Hs}},Ln.publish("preProcessText",Ns),Z=Ns.text,Sr=(pt=Ns.options).angle,bi instanceof an==0&&Sr&&typeof Sr=="number"){Sr*=Math.PI/180,pt.rotationDirection===0&&(Sr=-Sr),gt===Rt&&(Sr=-Sr);var xs=Math.cos(Sr),La=Math.sin(Sr);bi=new an(xs,La,-La,xs,0,0)}else Sr&&Sr instanceof an&&(bi=Sr);gt!==Rt||bi||(bi=mi),(mn=pt.charSpace||nl)!==void 0&&(Be+=Ht(xt(mn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fa=pt.horizontalScale)!==void 0&&(Be+=Ht(100*Fa)+` Tz
`),pt.lang;var hn=-1,Gr=pt.renderingMode!==void 0?pt.renderingMode:pt.stroke,ln=Ba.internal.getCurrentPageInfo().pageContext;switch(Gr){case 0:case!1:case"fill":hn=0;break;case 1:case!0:case"stroke":hn=1;break;case 2:case"fillThenStroke":hn=2;break;case 3:case"invisible":hn=3;break;case 4:case"fillAndAddForClipping":hn=4;break;case 5:case"strokeAndAddPathForClipping":hn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hn=6;break;case 7:case"addToPathForClipping":hn=7}var Tn=ln.usedRenderingMode!==void 0?ln.usedRenderingMode:-1;hn!==-1?Be+=hn+` Tr
`:Tn!==-1&&(Be+=`0 Tr
`),hn!==-1&&(ln.usedRenderingMode=hn),Er=pt.align||"left";var tr,Un=Hs*H,Ma=Ba.internal.pageSize.getWidth(),zr=En[Br];mn=pt.charSpace||nl,kn=pt.maxWidth||0,ra=Object.assign({autoencode:!0,noBOM:!0},pt.flags);var na=[],Qn=function(aa){return Ba.getStringUnitWidth(aa,{font:zr,charSpace:mn,fontSize:Hs,doKerning:!1})*Hs/Qe};if(Object.prototype.toString.call(Z)==="[object Array]"){var Tr;Rs=it(Z),Er!=="left"&&(tr=Rs.map(Qn));var on,yo=0;if(Er==="right"){Te-=tr[0],Z=[],gn=Rs.length;for(var ec=0;ec<gn;ec++)ec===0?(on=Po(Te),Tr=Dc(at)):(on=xt(yo-tr[ec]),Tr=-Un),Z.push([Rs[ec],on,Tr]),yo=tr[ec]}else if(Er==="center"){Te-=tr[0]/2,Z=[],gn=Rs.length;for(var wl=0;wl<gn;wl++)wl===0?(on=Po(Te),Tr=Dc(at)):(on=xt((yo-tr[wl])/2),Tr=-Un),Z.push([Rs[wl],on,Tr]),yo=tr[wl]}else if(Er==="left"){Z=[],gn=Rs.length;for(var Xi=0;Xi<gn;Xi++)Z.push(Rs[Xi])}else if(Er==="justify"&&zr.encoding==="Identity-H"){Z=[],gn=Rs.length,kn=kn!==0?kn:Ma;for(var wo=0,Ya=0;Ya<gn;Ya++)if(Tr=Ya===0?Dc(at):-Un,on=Ya===0?Po(Te):wo,Ya<gn-1){var Mu=xt((kn-tr[Ya])/(Rs[Ya].split(" ").length-1)),nd=Rs[Ya].split(" ");Z.push([nd[0]+" ",on,Tr]),wo=0;for(var ol=1;ol<nd.length;ol++){var ll=(Qn(nd[ol-1]+" "+nd[ol])-Qn(nd[ol]))*Qe+Mu;ol==nd.length-1?Z.push([nd[ol],ll,0]):Z.push([nd[ol]+" ",ll,0]),wo-=ll}}else Z.push([Rs[Ya],on,Tr]);Z.push(["",wo,0])}else{if(Er!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Z=[],gn=Rs.length,kn=kn!==0?kn:Ma,Ya=0;Ya<gn;Ya++){Tr=Ya===0?Dc(at):-Un,on=Ya===0?Po(Te):0;var vi=Rs[Ya].split(" ").length-1,qd=vi>0?(kn-tr[Ya])/vi:0;Ya<gn-1?na.push(Ht(xt(qd))):na.push(0),Z.push([Rs[Ya],on,Tr])}}}(typeof pt.R2L=="boolean"?pt.R2L:Vr)===!0&&(Z=Xt(Z,function(aa,za,_n){return[aa.split("").reverse().join(""),za,_n]})),Ns={text:Z,x:Te,y:at,options:pt,mutex:{pdfEscape:xo,activeFontKey:Br,fonts:En,activeFontSize:Hs}},Ln.publish("postProcessText",Ns),Z=Ns.text,k=Ns.mutex.isHex||!1;var yc=En[Br].encoding;yc!=="WinAnsiEncoding"&&yc!=="StandardEncoding"||(Z=Xt(Z,function(aa,za,_n){return[lt(aa),za,_n]})),Rs=it(Z),Z=[];for(var yn,ma,ri,wd=Array.isArray(Rs[0])?1:0,tc="",wc=function(aa,za,_n){var Ji="";return _n instanceof an?(_n=typeof pt.angle=="number"?li(_n,new an(1,0,0,1,aa,za)):li(new an(1,0,0,1,aa,za),_n),gt===Rt&&(_n=li(new an(1,0,0,-1,0,0),_n)),Ji=_n.join(" ")+` Tm
`):Ji=Ht(aa)+" "+Ht(za)+` Td
`,Ji},_o=0;_o<Rs.length;_o++){switch(tc="",wd){case 1:ri=(k?"<":"(")+Rs[_o][0]+(k?">":")"),yn=parseFloat(Rs[_o][1]),ma=parseFloat(Rs[_o][2]);break;case 0:ri=(k?"<":"(")+Rs[_o]+(k?">":")"),yn=Po(Te),ma=Dc(at)}na!==void 0&&na[_o]!==void 0&&(tc=na[_o]+` Tw
`),_o===0?Z.push(tc+wc(yn,ma,bi)+ri):wd===0?Z.push(tc+ri):wd===1&&Z.push(tc+wc(yn,ma,bi)+ri)}Z=wd===0?Z.join(` Tj
T* `):Z.join(` Tj
`),Z+=` Tj
`;var sc=`BT
/`;return sc+=Br+" "+Hs+` Tf
`,sc+=Ht(Hs*H)+` TL
`,sc+=vl+`
`,sc+=Be,sc+=Z,tt(sc+="ET"),Je[Br]=!0,Ba};var Zc=xe.__private__.clip=xe.clip=function(Z){return tt(Z==="evenodd"?"W*":"W"),this};xe.clipEvenOdd=function(){return Zc("evenodd")},xe.__private__.discardPath=xe.discardPath=function(){return tt("n"),this};var Ro=xe.__private__.isValidStyle=function(Z){var Te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Z)!==-1&&(Te=!0),Te};xe.__private__.setDefaultPathOperation=xe.setDefaultPathOperation=function(Z){return Ro(Z)&&(ke=Z),this};var pd=xe.__private__.getStyle=xe.getStyle=function(Z){var Te=ke;switch(Z){case"D":case"S":Te="S";break;case"F":Te="f";break;case"FD":case"DF":Te="B";break;case"f":case"f*":case"B":case"B*":Te=Z}return Te},Zl=xe.close=function(){return tt("h"),this};xe.stroke=function(){return tt("S"),this},xe.fill=function(Z){return vo("f",Z),this},xe.fillEvenOdd=function(Z){return vo("f*",Z),this},xe.fillStroke=function(Z){return vo("B",Z),this},xe.fillStrokeEvenOdd=function(Z){return vo("B*",Z),this};var vo=function(Z,Te){(0,f.default)(Te)==="object"?gl(Te,Z):tt(Z)},to=function(Z){Z===null||gt===Rt&&Z===void 0||(Z=pd(Z),tt(Z))};function ql(Z,Te,at,pt,Qt){var Ns=new Bt(Te||this.boundingBox,at||this.xStep,pt||this.yStep,this.gState,Qt||this.matrix);Ns.stream=this.stream;var Rs=Z+"$$"+this.cloneIndex+++"$$";return tl(Rs,Ns),Ns}var gl=function(Z,Te){var at=_a[Z.key],pt=Kr[at];if(pt instanceof kt)tt("q"),tt(rl(Te)),pt.gState&&xe.setGState(pt.gState),tt(Z.matrix.toString()+" cm"),tt("/"+at+" sh"),tt("Q");else if(pt instanceof Bt){var Qt=new an(1,0,0,-1,0,rd());Z.matrix&&(Qt=Qt.multiply(Z.matrix||mi),at=ql.call(pt,Z.key,Z.boundingBox,Z.xStep,Z.yStep,Qt).id),tt("q"),tt("/Pattern cs"),tt("/"+at+" scn"),pt.gState&&xe.setGState(pt.gState),tt(Te),tt("Q")}},rl=function(Z){switch(Z){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},xl=xe.moveTo=function(Z,Te){return tt(Ht(xt(Z))+" "+Ht(bt(Te))+" m"),this},gu=xe.lineTo=function(Z,Te){return tt(Ht(xt(Z))+" "+Ht(bt(Te))+" l"),this},Dl=xe.curveTo=function(Z,Te,at,pt,Qt,Ns){return tt([Ht(xt(Z)),Ht(bt(Te)),Ht(xt(at)),Ht(bt(pt)),Ht(xt(Qt)),Ht(bt(Ns)),"c"].join(" ")),this};xe.__private__.line=xe.line=function(Z,Te,at,pt,Qt){if(isNaN(Z)||isNaN(Te)||isNaN(at)||isNaN(pt)||!Ro(Qt))throw new Error("Invalid arguments passed to jsPDF.line");return gt===wt?this.lines([[at-Z,pt-Te]],Z,Te,[1,1],Qt||"S"):this.lines([[at-Z,pt-Te]],Z,Te,[1,1]).stroke()},xe.__private__.lines=xe.lines=function(Z,Te,at,pt,Qt,Ns){var Rs,Sr,Er,mn,kn,ra,Fa,bi,Ba,Ei,k,Be;if(typeof Z=="number"&&(Be=at,at=Te,Te=Z,Z=Be),pt=pt||[1,1],Ns=Ns||!1,isNaN(Te)||isNaN(at)||!Array.isArray(Z)||!Array.isArray(pt)||!Ro(Qt)||typeof Ns!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xl(Te,at),Rs=pt[0],Sr=pt[1],mn=Z.length,Ei=Te,k=at,Er=0;Er<mn;Er++)(kn=Z[Er]).length===2?(Ei=kn[0]*Rs+Ei,k=kn[1]*Sr+k,gu(Ei,k)):(ra=kn[0]*Rs+Ei,Fa=kn[1]*Sr+k,bi=kn[2]*Rs+Ei,Ba=kn[3]*Sr+k,Ei=kn[4]*Rs+Ei,k=kn[5]*Sr+k,Dl(ra,Fa,bi,Ba,Ei,k));return Ns&&Zl(),to(Qt),this},xe.path=function(Z){for(var Te=0;Te<Z.length;Te++){var at=Z[Te],pt=at.c;switch(at.op){case"m":xl(pt[0],pt[1]);break;case"l":gu(pt[0],pt[1]);break;case"c":Dl.apply(this,pt);break;case"h":Zl()}}return this},xe.__private__.rect=xe.rect=function(Z,Te,at,pt,Qt){if(isNaN(Z)||isNaN(Te)||isNaN(at)||isNaN(pt)||!Ro(Qt))throw new Error("Invalid arguments passed to jsPDF.rect");return gt===wt&&(pt=-pt),tt([Ht(xt(Z)),Ht(bt(Te)),Ht(xt(at)),Ht(xt(pt)),"re"].join(" ")),to(Qt),this},xe.__private__.triangle=xe.triangle=function(Z,Te,at,pt,Qt,Ns,Rs){if(isNaN(Z)||isNaN(Te)||isNaN(at)||isNaN(pt)||isNaN(Qt)||isNaN(Ns)||!Ro(Rs))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[at-Z,pt-Te],[Qt-at,Ns-pt],[Z-Qt,Te-Ns]],Z,Te,[1,1],Rs,!0),this},xe.__private__.roundedRect=xe.roundedRect=function(Z,Te,at,pt,Qt,Ns,Rs){if(isNaN(Z)||isNaN(Te)||isNaN(at)||isNaN(pt)||isNaN(Qt)||isNaN(Ns)||!Ro(Rs))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Sr=4/3*(Math.SQRT2-1);return Qt=Math.min(Qt,.5*at),Ns=Math.min(Ns,.5*pt),this.lines([[at-2*Qt,0],[Qt*Sr,0,Qt,Ns-Ns*Sr,Qt,Ns],[0,pt-2*Ns],[0,Ns*Sr,-Qt*Sr,Ns,-Qt,Ns],[2*Qt-at,0],[-Qt*Sr,0,-Qt,-Ns*Sr,-Qt,-Ns],[0,2*Ns-pt],[0,-Ns*Sr,Qt*Sr,-Ns,Qt,-Ns]],Z+Qt,Te,[1,1],Rs,!0),this},xe.__private__.ellipse=xe.ellipse=function(Z,Te,at,pt,Qt){if(isNaN(Z)||isNaN(Te)||isNaN(at)||isNaN(pt)||!Ro(Qt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ns=4/3*(Math.SQRT2-1)*at,Rs=4/3*(Math.SQRT2-1)*pt;return xl(Z+at,Te),Dl(Z+at,Te-Rs,Z+Ns,Te-pt,Z,Te-pt),Dl(Z-Ns,Te-pt,Z-at,Te-Rs,Z-at,Te),Dl(Z-at,Te+Rs,Z-Ns,Te+pt,Z,Te+pt),Dl(Z+Ns,Te+pt,Z+at,Te+Rs,Z+at,Te),to(Qt),this},xe.__private__.circle=xe.circle=function(Z,Te,at,pt){if(isNaN(Z)||isNaN(Te)||isNaN(at)||!Ro(pt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Z,Te,at,at,pt)},xe.setFont=function(Z,Te,at){return at&&(Te=is(Te,at)),Br=hd(Z,Te,{disableWarning:!1}),this};var xu=xe.__private__.getFont=xe.getFont=function(){return En[hd.apply(xe,arguments)]};xe.__private__.getFontList=xe.getFontList=function(){var Z,Te,at={};for(Z in Pn)if(Pn.hasOwnProperty(Z))for(Te in at[Z]=[],Pn[Z])Pn[Z].hasOwnProperty(Te)&&at[Z].push(Te);return at},xe.addFont=function(Z,Te,at,pt,Qt){var Ns=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ns.indexOf(arguments[3])!==-1?Qt=arguments[3]:arguments[3]&&Ns.indexOf(arguments[3])==-1&&(at=is(at,pt)),Ml.call(this,Z,Te,at,Qt=Qt||"Identity-H")};var md,Qi=N.lineWidth||.200025,Ha=xe.__private__.getLineWidth=xe.getLineWidth=function(){return Qi},cr=xe.__private__.setLineWidth=xe.setLineWidth=function(Z){return Qi=Z,tt(Ht(xt(Z))+" w"),this};xe.__private__.setLineDash=We.API.setLineDash=We.API.setLineDashPattern=function(Z,Te){if(Z=Z||[],Te=Te||0,isNaN(Te)||!Array.isArray(Z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Z=Z.map(function(at){return Ht(xt(at))}).join(" "),Te=Ht(xt(Te)),tt("["+Z+"] "+Te+" d"),this};var Ic=xe.__private__.getLineHeight=xe.getLineHeight=function(){return Hs*md};xe.__private__.getLineHeight=xe.getLineHeight=function(){return Hs*md};var bl=xe.__private__.setLineHeightFactor=xe.setLineHeightFactor=function(Z){return typeof(Z=Z||1.15)=="number"&&(md=Z),this},gd=xe.__private__.getLineHeightFactor=xe.getLineHeightFactor=function(){return md};bl(N.lineHeight);var Po=xe.__private__.getHorizontalCoordinate=function(Z){return xt(Z)},Dc=xe.__private__.getVerticalCoordinate=function(Z){return gt===Rt?Z:ir[dt].mediaBox.topRightY-ir[dt].mediaBox.bottomLeftY-xt(Z)},bu=xe.__private__.getHorizontalCoordinateString=xe.getHorizontalCoordinateString=function(Z){return Ht(Po(Z))},xd=xe.__private__.getVerticalCoordinateString=xe.getVerticalCoordinateString=function(Z){return Ht(Dc(Z))},Yi=N.strokeColor||"0 G";xe.__private__.getStrokeColor=xe.getDrawColor=function(){return go(Yi)},xe.__private__.setStrokeColor=xe.setDrawColor=function(Z,Te,at,pt){return Yi=Ll({ch1:Z,ch2:Te,ch3:at,ch4:pt,pdfColorType:"draw",precision:2}),tt(Yi),this};var qc=N.fillColor||"0 g";xe.__private__.getFillColor=xe.getFillColor=function(){return go(qc)},xe.__private__.setFillColor=xe.setFillColor=function(Z,Te,at,pt){return qc=Ll({ch1:Z,ch2:Te,ch3:at,ch4:pt,pdfColorType:"fill",precision:2}),tt(qc),this};var vl=N.textColor||"0 g",Zd=xe.__private__.getTextColor=xe.getTextColor=function(){return go(vl)};xe.__private__.setTextColor=xe.setTextColor=function(Z,Te,at,pt){return vl=Ll({ch1:Z,ch2:Te,ch3:at,ch4:pt,pdfColorType:"text",precision:3}),this};var nl=N.charSpace,bc=xe.__private__.getCharSpace=xe.getCharSpace=function(){return parseFloat(nl||0)};xe.__private__.setCharSpace=xe.setCharSpace=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return nl=Z,this};var Qo=0;xe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},xe.__private__.setLineCap=xe.setLineCap=function(Z){var Te=xe.CapJoinStyles[Z];if(Te===void 0)throw new Error("Line cap style of '"+Z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qo=Te,tt(Te+" J"),this};var al=0;xe.__private__.setLineJoin=xe.setLineJoin=function(Z){var Te=xe.CapJoinStyles[Z];if(Te===void 0)throw new Error("Line join style of '"+Z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return al=Te,tt(Te+" j"),this},xe.__private__.setLineMiterLimit=xe.__private__.setMiterLimit=xe.setLineMiterLimit=xe.setMiterLimit=function(Z){if(Z=Z||0,isNaN(Z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return tt(Ht(xt(Z))+" M"),this},xe.GState=Le,xe.setGState=function(Z){(Z=typeof Z=="string"?pn[Hr[Z]]:bd(null,Z)).equals(Na)||(tt("/"+Z.id+" gs"),Na=Z)};var bd=function(Z,Te){if(!Z||!Hr[Z]){var at=!1;for(var pt in pn)if(pn.hasOwnProperty(pt)&&pn[pt].equals(Te)){at=!0;break}if(at)Te=pn[pt];else{var Qt="GS"+(Object.keys(pn).length+1).toString(10);pn[Qt]=Te,Te.id=Qt}return Z&&(Hr[Z]=Te.id),Ln.publish("addGState",Te),Te}};xe.addGState=function(Z,Te){return bd(Z,Te),this},xe.saveGraphicsState=function(){return tt("q"),Wa.push({key:Br,size:Hs,color:vl}),this},xe.restoreGraphicsState=function(){tt("Q");var Z=Wa.pop();return Br=Z.key,Hs=Z.size,vl=Z.color,Na=null,this},xe.setCurrentTransformationMatrix=function(Z){return tt(Z.toString()+" cm"),this},xe.comment=function(Z){return tt("#"+Z),this};var yl=function(Z,Te){var at=Z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return at},set:function(Ns){isNaN(Ns)||(at=parseFloat(Ns))}});var pt=Te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pt},set:function(Ns){isNaN(Ns)||(pt=parseFloat(Ns))}});var Qt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qt},set:function(Ns){Qt=Ns.toString()}}),this},vc=function(Z,Te,at,pt){yl.call(this,Z,Te),this.type="rect";var Qt=at||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qt},set:function(Rs){isNaN(Rs)||(Qt=parseFloat(Rs))}});var Ns=pt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ns},set:function(Rs){isNaN(Rs)||(Ns=parseFloat(Rs))}}),this},ed=function(){this.page=Nn,this.currentPage=dt,this.pages=Js.slice(0),this.pagesContext=ir.slice(0),this.x=Dr,this.y=vn,this.matrix=Yn,this.width=vd(dt),this.height=Lu(dt),this.outputDestination=mr,this.id="",this.objectNumber=-1};ed.prototype.restore=function(){Nn=this.page,dt=this.currentPage,ir=this.pagesContext,Js=this.pages,Dr=this.x,vn=this.y,Yn=this.matrix,vu(dt,this.width),td(dt,this.height),mr=this.outputDestination};var il=function(Z,Te,at,pt,Qt){Gl.push(new ed),Nn=dt=0,Js=[],Dr=Z,vn=Te,Yn=Qt,xc([at,pt])};for(var si in xe.beginFormObject=function(Z,Te,at,pt,Qt){return il(Z,Te,at,pt,Qt),this},xe.endFormObject=function(Z){return(function(Te){if(lo[Te])Gl.pop().restore();else{var at=new ed,pt="Xo"+(Object.keys(Ri).length+1).toString(10);at.id=pt,lo[Te]=pt,Ri[pt]=at,Ln.publish("addFormObject",at),Gl.pop().restore()}})(Z),this},xe.doFormObject=function(Z,Te){var at=Ri[lo[Z]];return tt("q"),tt(Te.toString()+" cm"),tt("/"+at.id+" Do"),tt("Q"),this},xe.getFormObject=function(Z){var Te=Ri[lo[Z]];return{x:Te.x,y:Te.y,width:Te.width,height:Te.height,matrix:Te.matrix}},xe.save=function(Z,Te){return Z=Z||"generated.pdf",(Te=Te||{}).returnPromise=Te.returnPromise||!1,Te.returnPromise===!1?(X(Xl(Yl()),Z),typeof X.unload=="function"&&b.setTimeout&&setTimeout(X.unload,911),this):new Promise(function(at,pt){try{var Qt=X(Xl(Yl()),Z);typeof X.unload=="function"&&b.setTimeout&&setTimeout(X.unload,911),at(Qt)}catch(Ns){pt(Ns.message)}})},We.API)We.API.hasOwnProperty(si)&&(si==="events"&&We.API.events.length?(function(Z,Te){var at,pt,Qt;for(Qt=Te.length-1;Qt!==-1;Qt--)at=Te[Qt][0],pt=Te[Qt][1],Z.subscribe.apply(Z,[at].concat(typeof pt=="function"?[pt]:pt))})(Ln,We.API.events):xe[si]=We.API[si]);function vd(Z){return ir[Z].mediaBox.topRightX-ir[Z].mediaBox.bottomLeftX}function vu(Z,Te){ir[Z].mediaBox.topRightX=Te+ir[Z].mediaBox.bottomLeftX}function Lu(Z){return ir[Z].mediaBox.topRightY-ir[Z].mediaBox.bottomLeftY}function td(Z,Te){ir[Z].mediaBox.topRightY=Te+ir[Z].mediaBox.bottomLeftY}var sd=xe.getPageWidth=function(Z){return vd(Z=Z||dt)/nn},xi=xe.setPageWidth=function(Z,Te){vu(Z,Te*nn)},rd=xe.getPageHeight=function(Z){return Lu(Z=Z||dt)/nn},yd=xe.setPageHeight=function(Z,Te){td(Z,Te*nn)};return xe.internal={pdfEscape:xo,getStyle:pd,getFont:xu,getFontSize:yr,getCharSpace:bc,getTextColor:Zd,getLineHeight:Ic,getLineHeightFactor:gd,getLineWidth:Ha,write:lr,getHorizontalCoordinate:Po,getVerticalCoordinate:Dc,getCoordinateString:bu,getVerticalCoordinateString:xd,collections:{},newObject:Pa,newAdditionalObject:Fl,newObjectDeferred:gi,newObjectDeferredBegin:ci,getFilters:Mo,putStream:pl,events:Ln,scaleFactor:nn,pageSize:{getWidth:function(){return sd(dt)},setWidth:function(Z){xi(dt,Z)},getHeight:function(){return rd(dt)},setHeight:function(Z){yd(dt,Z)}},encryptionOptions:Me,encryption:Gi,getEncryptor:function(Z){return Me!==null?Gi.encryptor(Z,0):function(Te){return Te}},output:Oc,getNumberOfPages:Jd,get pages(){return Js},out:tt,f2:Xe,f3:rt,getPageInfo:Jl,getPageInfoByObjId:fd,getCurrentPageInfo:Wi,getPDFVersion:ot,Point:yl,Rectangle:vc,Matrix:an,hasHotfix:Il},Object.defineProperty(xe.internal.pageSize,"width",{get:function(){return sd(dt)},set:function(Z){xi(dt,Z)},enumerable:!0,configurable:!0}),Object.defineProperty(xe.internal.pageSize,"height",{get:function(){return rd(dt)},set:function(Z){yd(dt,Z)},enumerable:!0,configurable:!0}),(function(Z){for(var Te=0,at=rr.length;Te<at;Te++){var pt=Ml.call(this,Z[Te][0],Z[Te][1],Z[Te][2],rr[Te][3],!0);$e===!1&&(Je[pt]=!0);var Qt=Z[Te][0].split("-");Io({id:pt,fontName:Qt[0],fontStyle:Qt[1]||""})}Ln.publish("addFonts",{fonts:En,dictionary:Pn})}).call(xe,rr),Br="F1",Mc(P,S),Ln.publish("initialized"),xe}he.prototype.lsbFirstWord=function(N){return String.fromCharCode(255&N,N>>8&255,N>>16&255,N>>24&255)},he.prototype.toHexString=function(N){return N.split("").map(function(v){return("0"+(255&v.charCodeAt(0)).toString(16)).slice(-2)}).join("")},he.prototype.hexToBytes=function(N){for(var v=[],S=0;S<N.length;S+=2)v.push(String.fromCharCode(parseInt(N.substr(S,2),16)));return v.join("")},he.prototype.processOwnerPassword=function(N,v){return fe(Ee(v).substr(0,5),N)},he.prototype.encryptor=function(N,v){var S=Ee(this.encryptionKey+String.fromCharCode(255&N,N>>8&255,N>>16&255,255&v,v>>8&255)).substr(0,10);return function(I){return fe(S,I)}},Le.prototype.equals=function(N){var v,S="id,objectNumber,equals";if(!N||(0,f.default)(N)!==(0,f.default)(this))return!1;var I=0;for(v in this)if(!(S.indexOf(v)>=0)){if(this.hasOwnProperty(v)&&!N.hasOwnProperty(v)||this[v]!==N[v])return!1;I++}for(v in N)N.hasOwnProperty(v)&&S.indexOf(v)<0&&I--;return I===0},We.API={events:[]},We.version="4.0.0";var Lt=We.API,$t=1,ls=function(N){return N.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ts=function(N){return N.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pe=function(N){return N.toFixed(2)},ut=function(N){return N.toFixed(5)};Lt.__acroform__={};var St=function(N,v){N.prototype=Object.create(v.prototype),N.prototype.constructor=N},Is=function(N){return N*$t},us=function(N){var v=new Vs,S=ms.internal.getHeight(N)||0,I=ms.internal.getWidth(N)||0;return v.BBox=[0,0,Number(Pe(I)),Number(Pe(S))],v},br=Lt.__acroform__.setBit=function(N,v){if(N=N||0,v=v||0,isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return N|1<<v},hr=Lt.__acroform__.clearBit=function(N,v){if(N=N||0,v=v||0,isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return N&~(1<<v)},ar=Lt.__acroform__.getBit=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return N&1<<v?1:0},Fs=Lt.__acroform__.getBitForPdf=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ar(N,v-1)},Cs=Lt.__acroform__.setBitForPdf=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return br(N,v-1)},Bs=Lt.__acroform__.clearBitForPdf=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hr(N,v-1)},vr=Lt.__acroform__.calculateCoordinates=function(N,v){var S=v.internal.getHorizontalCoordinate,I=v.internal.getVerticalCoordinate,P=N[0],V=N[1],de=N[2],q=N[3],ee={};return ee.lowerLeft_X=S(P)||0,ee.lowerLeft_Y=I(V+q)||0,ee.upperRight_X=S(P+de)||0,ee.upperRight_Y=I(V)||0,[Number(Pe(ee.lowerLeft_X)),Number(Pe(ee.lowerLeft_Y)),Number(Pe(ee.upperRight_X)),Number(Pe(ee.upperRight_Y))]},gr=function(N){if(N.appearanceStreamContent)return N.appearanceStreamContent;if(N.V||N.DV){var v=[],S=N._V||N.DV,I=en(N,S),P=N.scope.internal.getFont(N.fontName,N.fontStyle).id;v.push("/Tx BMC"),v.push("q"),v.push("BT"),v.push(N.scope.__private__.encodeColorString(N.color)),v.push("/"+P+" "+Pe(I.fontSize)+" Tf"),v.push("1 0 0 1 0 0 Tm"),v.push(I.text),v.push("ET"),v.push("Q"),v.push("EMC");var V=us(N);return V.scope=N.scope,V.stream=v.join(`
`),V}},en=function(N,v){var S=N.fontSize===0?N.maxFontSize:N.fontSize,I={text:"",fontSize:""},P=(v=(v=v.substr(0,1)=="("?v.substr(1):v).substr(v.length-1)==")"?v.substr(0,v.length-1):v).split(" ");P=N.multiline?P.map(function(Xe){return Xe.split(`
`)}):P.map(function(Xe){return[Xe]});var V=S,de=ms.internal.getHeight(N)||0;de=de<0?-de:de;var q=ms.internal.getWidth(N)||0;q=q<0?-q:q;var ee=function(Xe,rt,xt){if(Xe+1<P.length){var bt=rt+" "+P[Xe+1][0];return Nr(bt,N,xt).width<=q-4}return!1};V++;e:for(;V>0;){v="",V--;var ke,Me,$e=Nr("3",N,V).height,Je=N.multiline?de-V:(de-$e)/2,xe=Je+=2,ct=0,ot=0,At=0;if(V<=0){v=`(...) Tj
`,v+="% Width of Text: "+Nr(v,N,V=12).width+", FieldWidth:"+q+`
`;break}for(var Ye="",wt=0,Rt=0;Rt<P.length;Rt++)if(P.hasOwnProperty(Rt)){var gt=!1;if(P[Rt].length!==1&&At!==P[Rt].length-1){if(($e+2)*(wt+2)+2>de)continue e;Ye+=P[Rt][At],gt=!0,ot=Rt,Rt--}else{Ye=(Ye+=P[Rt][At]+" ").substr(Ye.length-1)==" "?Ye.substr(0,Ye.length-1):Ye;var Ge=parseInt(Rt),Mt=ee(Ge,Ye,V),is=Rt>=P.length-1;if(Mt&&!is){Ye+=" ",At=0;continue}if(Mt||is){if(is)ot=Ge;else if(N.multiline&&($e+2)*(wt+2)+2>de)continue e}else{if(!N.multiline||($e+2)*(wt+2)+2>de)continue e;ot=Ge}}for(var Ht="",vt=ct;vt<=ot;vt++){var ts=P[vt];if(N.multiline){if(vt===ot){Ht+=ts[At]+" ",At=(At+1)%ts.length;continue}if(vt===ct){Ht+=ts[ts.length-1]+" ";continue}}Ht+=ts[0]+" "}switch(Ht=Ht.substr(Ht.length-1)==" "?Ht.substr(0,Ht.length-1):Ht,Me=Nr(Ht,N,V).width,N.textAlign){case"right":ke=q-Me-2;break;case"center":ke=(q-Me)/2;break;default:ke=2}v+=Pe(ke)+" "+Pe(xe)+` Td
`,v+="("+ls(Ht)+`) Tj
`,v+=-Pe(ke)+` 0 Td
`,xe=-(V+2),Me=0,ct=gt?ot:ot+1,wt++,Ye=""}break}return I.text=v,I.fontSize=V,I},Nr=function(N,v,S){var I=v.scope.internal.getFont(v.fontName,v.fontStyle),P=v.scope.getStringUnitWidth(N,{font:I,fontSize:parseFloat(S),charSpace:0})*parseFloat(S);return{height:v.scope.getStringUnitWidth("3",{font:I,fontSize:parseFloat(S),charSpace:0})*parseFloat(S)*1.5,width:P}},er={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ys=function(N,v){var S={type:"reference",object:N};v.internal.getPageInfo(N.page).pageContext.annotations.find(function(I){return I.type===S.type&&I.object===S.object})===void 0&&v.internal.getPageInfo(N.page).pageContext.annotations.push(S)},Es=function(N,v){if(v.scope=N,N.internal!==void 0&&(N.internal.acroformPlugin===void 0||N.internal.acroformPlugin.isInitialized===!1)){if(yt.FieldNum=0,N.internal.acroformPlugin=JSON.parse(JSON.stringify(er)),N.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");$t=N.internal.scaleFactor,N.internal.acroformPlugin.acroFormDictionaryRoot=new or,N.internal.acroformPlugin.acroFormDictionaryRoot.scope=N,N.internal.acroformPlugin.acroFormDictionaryRoot._eventID=N.internal.events.subscribe("postPutResources",function(){(function(S){S.internal.events.unsubscribe(S.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete S.internal.acroformPlugin.acroFormDictionaryRoot._eventID,S.internal.acroformPlugin.printedOut=!0})(N)}),N.internal.events.subscribe("buildDocument",function(){(function(S){S.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var I=S.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var P in I)if(I.hasOwnProperty(P)){var V=I[P];V.objId=void 0,V.hasAnnotation&&Ys(V,S)}})(N)}),N.internal.events.subscribe("putCatalog",function(){(function(S){if(S.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");S.internal.write("/AcroForm "+S.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(N)}),N.internal.events.subscribe("postPutPages",function(S){(function(I,P){var V=!I;for(var de in I||(P.internal.newObjectDeferredBegin(P.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),P.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),I=I||P.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(I.hasOwnProperty(de)){var q=I[de],ee=[],ke=q.Rect;if(q.Rect&&(q.Rect=vr(q.Rect,P)),P.internal.newObjectDeferredBegin(q.objId,!0),q.DA=ms.createDefaultAppearanceStream(q),(0,f.default)(q)==="object"&&typeof q.getKeyValueListForStream=="function"&&(ee=q.getKeyValueListForStream()),q.Rect=ke,q.hasAppearanceStream&&!q.appearanceStreamContent){var Me=gr(q);ee.push({key:"AP",value:"<</N "+Me+">>"}),P.internal.acroformPlugin.xForms.push(Me)}if(q.appearanceStreamContent){var $e="";for(var Je in q.appearanceStreamContent)if(q.appearanceStreamContent.hasOwnProperty(Je)){var xe=q.appearanceStreamContent[Je];if($e+="/"+Je+" ",$e+="<<",Object.keys(xe).length>=1||Array.isArray(xe)){for(var de in xe)if(xe.hasOwnProperty(de)){var ct=xe[de];typeof ct=="function"&&(ct=ct.call(P,q)),$e+="/"+de+" "+ct+" ",P.internal.acroformPlugin.xForms.indexOf(ct)>=0||P.internal.acroformPlugin.xForms.push(ct)}}else typeof(ct=xe)=="function"&&(ct=ct.call(P,q)),$e+="/"+de+" "+ct,P.internal.acroformPlugin.xForms.indexOf(ct)>=0||P.internal.acroformPlugin.xForms.push(ct);$e+=">>"}ee.push({key:"AP",value:`<<
`+$e+">>"})}P.internal.putStream({additionalKeyValues:ee,objectId:q.objId}),P.internal.out("endobj")}V&&(function(ot,At){for(var Ye in ot)if(ot.hasOwnProperty(Ye)){var wt=Ye,Rt=ot[Ye];At.internal.newObjectDeferredBegin(Rt.objId,!0),(0,f.default)(Rt)==="object"&&typeof Rt.putStream=="function"&&Rt.putStream(),delete ot[wt]}})(P.internal.acroformPlugin.xForms,P)})(S,N)}),N.internal.acroformPlugin.isInitialized=!0}},ft=Lt.__acroform__.arrayToPdfArray=function(N,v,S){var I=function(de){return de};if(Array.isArray(N)){for(var P="[",V=0;V<N.length;V++)switch(V!==0&&(P+=" "),(0,f.default)(N[V])){case"boolean":case"number":case"object":P+=N[V].toString();break;case"string":N[V].substr(0,1)!=="/"?(v!==void 0&&S&&(I=S.internal.getEncryptor(v)),P+="("+ls(I(N[V].toString()))+")"):P+=N[V].toString()}return P+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vt=function(N,v,S){var I=function(P){return P};return v!==void 0&&S&&(I=S.internal.getEncryptor(v)),(N=N||"").toString(),"("+ls(I(N))+")"},js=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(N){this._objId=N}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};js.prototype.toString=function(){return this.objId+" 0 R"},js.prototype.putStream=function(){var N=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:N,objectId:this.objId}),this.scope.internal.out("endobj")},js.prototype.getKeyValueListForStream=function(){var N=[],v=Object.getOwnPropertyNames(this).filter(function(V){return V!="content"&&V!="appearanceStreamContent"&&V!="scope"&&V!="objId"&&V.substring(0,1)!="_"});for(var S in v)if(Object.getOwnPropertyDescriptor(this,v[S]).configurable===!1){var I=v[S],P=this[I];P&&(Array.isArray(P)?N.push({key:I,value:ft(P,this.objId,this.scope)}):P instanceof js?(P.scope=this.scope,N.push({key:I,value:P.objId+" 0 R"})):typeof P!="function"&&N.push({key:I,value:P}))}return N};var Vs=function(){js.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var N,v=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return v},set:function(S){v=S}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(S){N=S.trim()},get:function(){return N||null}})};St(Vs,js);var or=function(){js.call(this);var N,v=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return v.length>0?v:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return v}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(N){var S=function(I){return I};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+ls(S(N))+")"}},set:function(S){N=S}})};St(or,js);var yt=function N(){js.call(this);var v=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return v},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute F supplied.');v=Ye}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fs(v,3)},set:function(Ye){Ye?this.F=Cs(v,3):this.F=Bs(v,3)}});var S=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return S},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute Ff supplied.');S=Ye}});var I=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(I.length!==0)return I},set:function(Ye){I=Ye!==void 0?Ye:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[0])?0:I[0]},set:function(Ye){I[0]=Ye}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[1])?0:I[1]},set:function(Ye){I[1]=Ye}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[2])?0:I[2]},set:function(Ye){I[2]=Ye}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[3])?0:I[3]},set:function(Ye){I[3]=Ye}});var P="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return P},set:function(Ye){switch(Ye){case"/Btn":case"/Tx":case"/Ch":case"/Sig":P=Ye;break;default:throw new Error('Invalid value "'+Ye+'" for attribute FT supplied.')}}});var V=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!V||V.length<1){if(this instanceof wa)return;V="FieldObject"+N.FieldNum++}var Ye=function(wt){return wt};return this.scope&&(Ye=this.scope.internal.getEncryptor(this.objId)),"("+ls(Ye(V))+")"},set:function(Ye){V=Ye.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return V},set:function(Ye){V=Ye}});var de="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return de},set:function(Ye){de=Ye}});var q="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return q},set:function(Ye){q=Ye}});var ee=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return ee},set:function(Ye){ee=Ye}});var ke=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return ke===void 0?50/$t:ke},set:function(Ye){ke=Ye}});var Me="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Me},set:function(Ye){Me=Ye}});var $e="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!$e||this instanceof wa||this instanceof Ds))return Vt($e,this.objId,this.scope)},set:function(Ye){Ye=Ye.toString(),$e=Ye}});var Je=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Je)return this instanceof $s==0?Vt(Je,this.objId,this.scope):Je},set:function(Ye){Ye=Ye.toString(),Je=this instanceof $s==0?Ye.substr(0,1)==="("?Ts(Ye.substr(1,Ye.length-2)):Ts(Ye):Ye}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $s==1?Ts(Je.substr(1,Je.length-1)):Je},set:function(Ye){Ye=Ye.toString(),Je=this instanceof $s==1?"/"+Ye:Ye}});var xe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(xe)return xe},set:function(Ye){this.V=Ye}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(xe)return this instanceof $s==0?Vt(xe,this.objId,this.scope):xe},set:function(Ye){Ye=Ye.toString(),xe=this instanceof $s==0?Ye.substr(0,1)==="("?Ts(Ye.substr(1,Ye.length-2)):Ts(Ye):Ye}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $s==1?Ts(xe.substr(1,xe.length-1)):xe},set:function(Ye){Ye=Ye.toString(),xe=this instanceof $s==1?"/"+Ye:Ye}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ct,ot=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return ot},set:function(Ye){Ye=!!Ye,ot=Ye}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ct)return ct},set:function(Ye){ct=Ye}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,1)},set:function(Ye){Ye?this.Ff=Cs(this.Ff,1):this.Ff=Bs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,2)},set:function(Ye){Ye?this.Ff=Cs(this.Ff,2):this.Ff=Bs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,3)},set:function(Ye){Ye?this.Ff=Cs(this.Ff,3):this.Ff=Bs(this.Ff,3)}});var At=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(At!==null)return At},set:function(Ye){if([0,1,2].indexOf(Ye)===-1)throw new Error('Invalid value "'+Ye+'" for attribute Q supplied.');At=Ye}}),Object.defineProperty(this,"textAlign",{get:function(){var Ye;switch(At){case 0:default:Ye="left";break;case 1:Ye="center";break;case 2:Ye="right"}return Ye},configurable:!0,enumerable:!0,set:function(Ye){switch(Ye){case"right":case 2:At=2;break;case"center":case 1:At=1;break;default:At=0}}})};St(yt,js);var qt=function(){yt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var N=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return N},set:function(S){N=S}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return N},set:function(S){N=S}});var v=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ft(v,this.objId,this.scope)},set:function(S){var I,P;P=[],typeof(I=S)=="string"&&(P=(function(V,de,q){q||(q=1);for(var ee,ke=[];ee=de.exec(V);)ke.push(ee[q]);return ke})(I,/\((.*?)\)/g)),v=P}}),this.getOptions=function(){return v},this.setOptions=function(S){v=S,this.sort&&v.sort()},this.addOption=function(S){S=(S=S||"").toString(),v.push(S),this.sort&&v.sort()},this.removeOption=function(S,I){for(I=I||!1,S=(S=S||"").toString();v.indexOf(S)!==-1&&(v.splice(v.indexOf(S),1),I!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,18)},set:function(S){S?this.Ff=Cs(this.Ff,18):this.Ff=Bs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,19)},set:function(S){this.combo===!0&&(S?this.Ff=Cs(this.Ff,19):this.Ff=Bs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,20)},set:function(S){S?(this.Ff=Cs(this.Ff,20),v.sort()):this.Ff=Bs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,22)},set:function(S){S?this.Ff=Cs(this.Ff,22):this.Ff=Bs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,23)},set:function(S){S?this.Ff=Cs(this.Ff,23):this.Ff=Bs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,27)},set:function(S){S?this.Ff=Cs(this.Ff,27):this.Ff=Bs(this.Ff,27)}}),this.hasAppearanceStream=!1};St(qt,yt);var As=function(){qt.call(this),this.fontName="helvetica",this.combo=!1};St(As,qt);var hs=function(){As.call(this),this.combo=!0};St(hs,As);var Ks=function(){hs.call(this),this.edit=!0};St(Ks,hs);var $s=function(){yt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,15)},set:function(S){S?this.Ff=Cs(this.Ff,15):this.Ff=Bs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,16)},set:function(S){S?this.Ff=Cs(this.Ff,16):this.Ff=Bs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,17)},set:function(S){S?this.Ff=Cs(this.Ff,17):this.Ff=Bs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,26)},set:function(S){S?this.Ff=Cs(this.Ff,26):this.Ff=Bs(this.Ff,26)}});var N,v={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var S=function(V){return V};if(this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),Object.keys(v).length!==0){var I,P=[];for(I in P.push("<<"),v)P.push("/"+I+" ("+ls(S(v[I]))+")");return P.push(">>"),P.join(`
`)}},set:function(S){(0,f.default)(S)==="object"&&(v=S)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return v.CA||""},set:function(S){typeof S=="string"&&(v.CA=S)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return N},set:function(S){N=S}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return N.substr(1,N.length-1)},set:function(S){N="/"+S}})};St($s,yt);var fr=function(){$s.call(this),this.pushButton=!0};St(fr,$s);var tn=function(){$s.call(this),this.radio=!0,this.pushButton=!1;var N=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return N},set:function(v){N=v!==void 0?v:[]}})};St(tn,$s);var wa=function(){var N,v;yt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return N},set:function(P){N=P}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return v},set:function(P){v=P}});var S,I={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var P=function(q){return q};this.scope&&(P=this.scope.internal.getEncryptor(this.objId));var V,de=[];for(V in de.push("<<"),I)de.push("/"+V+" ("+ls(P(I[V]))+")");return de.push(">>"),de.join(`
`)},set:function(P){(0,f.default)(P)==="object"&&(I=P)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return I.CA||""},set:function(P){typeof P=="string"&&(I.CA=P)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return S},set:function(P){S=P}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return S.substr(1,S.length-1)},set:function(P){S="/"+P}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ms.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};St(wa,yt),tn.prototype.setAppearance=function(N){if(!("createAppearanceStream"in N)||!("getCA"in N))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var v in this.Kids)if(this.Kids.hasOwnProperty(v)){var S=this.Kids[v];S.appearanceStreamContent=N.createAppearanceStream(S.optionName),S.caption=N.getCA()}},tn.prototype.createOption=function(N){var v=new wa;return v.Parent=this,v.optionName=N,this.Kids.push(v),Or.call(this.scope,v),v};var Us=function(){$s.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ms.CheckBox.createAppearanceStream()};St(Us,$s);var Ds=function(){yt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,13)},set:function(v){v?this.Ff=Cs(this.Ff,13):this.Ff=Bs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,21)},set:function(v){v?this.Ff=Cs(this.Ff,21):this.Ff=Bs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,23)},set:function(v){v?this.Ff=Cs(this.Ff,23):this.Ff=Bs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,24)},set:function(v){v?this.Ff=Cs(this.Ff,24):this.Ff=Bs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,25)},set:function(v){v?this.Ff=Cs(this.Ff,25):this.Ff=Bs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,26)},set:function(v){v?this.Ff=Cs(this.Ff,26):this.Ff=Bs(this.Ff,26)}});var N=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return N},set:function(v){N=v}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return N},set:function(v){Number.isInteger(v)&&(N=v)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};St(Ds,yt);var sr=function(){Ds.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,14)},set:function(N){N?this.Ff=Cs(this.Ff,14):this.Ff=Bs(this.Ff,14)}}),this.password=!0};St(sr,Ds);var ms={CheckBox:{createAppearanceStream:function(){return{N:{On:ms.CheckBox.YesNormal},D:{On:ms.CheckBox.YesPushDown,Off:ms.CheckBox.OffPushDown}}},YesPushDown:function(N){var v=us(N);v.scope=N.scope;var S=[],I=N.scope.internal.getFont(N.fontName,N.fontStyle).id,P=N.scope.__private__.encodeColorString(N.color),V=en(N,N.caption);return S.push("0.749023 g"),S.push("0 0 "+Pe(ms.internal.getWidth(N))+" "+Pe(ms.internal.getHeight(N))+" re"),S.push("f"),S.push("BMC"),S.push("q"),S.push("0 0 1 rg"),S.push("/"+I+" "+Pe(V.fontSize)+" Tf "+P),S.push("BT"),S.push(V.text),S.push("ET"),S.push("Q"),S.push("EMC"),v.stream=S.join(`
`),v},YesNormal:function(N){var v=us(N);v.scope=N.scope;var S=N.scope.internal.getFont(N.fontName,N.fontStyle).id,I=N.scope.__private__.encodeColorString(N.color),P=[],V=ms.internal.getHeight(N),de=ms.internal.getWidth(N),q=en(N,N.caption);return P.push("1 g"),P.push("0 0 "+Pe(de)+" "+Pe(V)+" re"),P.push("f"),P.push("q"),P.push("0 0 1 rg"),P.push("0 0 "+Pe(de-1)+" "+Pe(V-1)+" re"),P.push("W"),P.push("n"),P.push("0 g"),P.push("BT"),P.push("/"+S+" "+Pe(q.fontSize)+" Tf "+I),P.push(q.text),P.push("ET"),P.push("Q"),v.stream=P.join(`
`),v},OffPushDown:function(N){var v=us(N);v.scope=N.scope;var S=[];return S.push("0.749023 g"),S.push("0 0 "+Pe(ms.internal.getWidth(N))+" "+Pe(ms.internal.getHeight(N))+" re"),S.push("f"),v.stream=S.join(`
`),v}},RadioButton:{Circle:{createAppearanceStream:function(N){var v={D:{Off:ms.RadioButton.Circle.OffPushDown},N:{}};return v.N[N]=ms.RadioButton.Circle.YesNormal,v.D[N]=ms.RadioButton.Circle.YesPushDown,v},getCA:function(){return"l"},YesNormal:function(N){var v=us(N);v.scope=N.scope;var S=[],I=ms.internal.getWidth(N)<=ms.internal.getHeight(N)?ms.internal.getWidth(N)/4:ms.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var P=ms.internal.Bezier_C,V=Number((I*P).toFixed(5));return S.push("q"),S.push("1 0 0 1 "+ut(ms.internal.getWidth(N)/2)+" "+ut(ms.internal.getHeight(N)/2)+" cm"),S.push(I+" 0 m"),S.push(I+" "+V+" "+V+" "+I+" 0 "+I+" c"),S.push("-"+V+" "+I+" -"+I+" "+V+" -"+I+" 0 c"),S.push("-"+I+" -"+V+" -"+V+" -"+I+" 0 -"+I+" c"),S.push(V+" -"+I+" "+I+" -"+V+" "+I+" 0 c"),S.push("f"),S.push("Q"),v.stream=S.join(`
`),v},YesPushDown:function(N){var v=us(N);v.scope=N.scope;var S=[],I=ms.internal.getWidth(N)<=ms.internal.getHeight(N)?ms.internal.getWidth(N)/4:ms.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var P=Number((2*I).toFixed(5)),V=Number((P*ms.internal.Bezier_C).toFixed(5)),de=Number((I*ms.internal.Bezier_C).toFixed(5));return S.push("0.749023 g"),S.push("q"),S.push("1 0 0 1 "+ut(ms.internal.getWidth(N)/2)+" "+ut(ms.internal.getHeight(N)/2)+" cm"),S.push(P+" 0 m"),S.push(P+" "+V+" "+V+" "+P+" 0 "+P+" c"),S.push("-"+V+" "+P+" -"+P+" "+V+" -"+P+" 0 c"),S.push("-"+P+" -"+V+" -"+V+" -"+P+" 0 -"+P+" c"),S.push(V+" -"+P+" "+P+" -"+V+" "+P+" 0 c"),S.push("f"),S.push("Q"),S.push("0 g"),S.push("q"),S.push("1 0 0 1 "+ut(ms.internal.getWidth(N)/2)+" "+ut(ms.internal.getHeight(N)/2)+" cm"),S.push(I+" 0 m"),S.push(I+" "+de+" "+de+" "+I+" 0 "+I+" c"),S.push("-"+de+" "+I+" -"+I+" "+de+" -"+I+" 0 c"),S.push("-"+I+" -"+de+" -"+de+" -"+I+" 0 -"+I+" c"),S.push(de+" -"+I+" "+I+" -"+de+" "+I+" 0 c"),S.push("f"),S.push("Q"),v.stream=S.join(`
`),v},OffPushDown:function(N){var v=us(N);v.scope=N.scope;var S=[],I=ms.internal.getWidth(N)<=ms.internal.getHeight(N)?ms.internal.getWidth(N)/4:ms.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var P=Number((2*I).toFixed(5)),V=Number((P*ms.internal.Bezier_C).toFixed(5));return S.push("0.749023 g"),S.push("q"),S.push("1 0 0 1 "+ut(ms.internal.getWidth(N)/2)+" "+ut(ms.internal.getHeight(N)/2)+" cm"),S.push(P+" 0 m"),S.push(P+" "+V+" "+V+" "+P+" 0 "+P+" c"),S.push("-"+V+" "+P+" -"+P+" "+V+" -"+P+" 0 c"),S.push("-"+P+" -"+V+" -"+V+" -"+P+" 0 -"+P+" c"),S.push(V+" -"+P+" "+P+" -"+V+" "+P+" 0 c"),S.push("f"),S.push("Q"),v.stream=S.join(`
`),v}},Cross:{createAppearanceStream:function(N){var v={D:{Off:ms.RadioButton.Cross.OffPushDown},N:{}};return v.N[N]=ms.RadioButton.Cross.YesNormal,v.D[N]=ms.RadioButton.Cross.YesPushDown,v},getCA:function(){return"8"},YesNormal:function(N){var v=us(N);v.scope=N.scope;var S=[],I=ms.internal.calculateCross(N);return S.push("q"),S.push("1 1 "+Pe(ms.internal.getWidth(N)-2)+" "+Pe(ms.internal.getHeight(N)-2)+" re"),S.push("W"),S.push("n"),S.push(Pe(I.x1.x)+" "+Pe(I.x1.y)+" m"),S.push(Pe(I.x2.x)+" "+Pe(I.x2.y)+" l"),S.push(Pe(I.x4.x)+" "+Pe(I.x4.y)+" m"),S.push(Pe(I.x3.x)+" "+Pe(I.x3.y)+" l"),S.push("s"),S.push("Q"),v.stream=S.join(`
`),v},YesPushDown:function(N){var v=us(N);v.scope=N.scope;var S=ms.internal.calculateCross(N),I=[];return I.push("0.749023 g"),I.push("0 0 "+Pe(ms.internal.getWidth(N))+" "+Pe(ms.internal.getHeight(N))+" re"),I.push("f"),I.push("q"),I.push("1 1 "+Pe(ms.internal.getWidth(N)-2)+" "+Pe(ms.internal.getHeight(N)-2)+" re"),I.push("W"),I.push("n"),I.push(Pe(S.x1.x)+" "+Pe(S.x1.y)+" m"),I.push(Pe(S.x2.x)+" "+Pe(S.x2.y)+" l"),I.push(Pe(S.x4.x)+" "+Pe(S.x4.y)+" m"),I.push(Pe(S.x3.x)+" "+Pe(S.x3.y)+" l"),I.push("s"),I.push("Q"),v.stream=I.join(`
`),v},OffPushDown:function(N){var v=us(N);v.scope=N.scope;var S=[];return S.push("0.749023 g"),S.push("0 0 "+Pe(ms.internal.getWidth(N))+" "+Pe(ms.internal.getHeight(N))+" re"),S.push("f"),v.stream=S.join(`
`),v}}},createDefaultAppearanceStream:function(N){var v=N.scope.internal.getFont(N.fontName,N.fontStyle).id,S=N.scope.__private__.encodeColorString(N.color);return"/"+v+" "+N.fontSize+" Tf "+S}};ms.internal={Bezier_C:.551915024494,calculateCross:function(N){var v=ms.internal.getWidth(N),S=ms.internal.getHeight(N),I=Math.min(v,S);return{x1:{x:(v-I)/2,y:(S-I)/2+I},x2:{x:(v-I)/2+I,y:(S-I)/2},x3:{x:(v-I)/2,y:(S-I)/2},x4:{x:(v-I)/2+I,y:(S-I)/2+I}}}},ms.internal.getWidth=function(N){var v=0;return(0,f.default)(N)==="object"&&(v=Is(N.Rect[2])),v},ms.internal.getHeight=function(N){var v=0;return(0,f.default)(N)==="object"&&(v=Is(N.Rect[3])),v};var Or=Lt.addField=function(N){if(Es(this,N),!(N instanceof yt))throw new Error("Invalid argument passed to jsPDF.addField.");var v;return(v=N).scope.internal.acroformPlugin.printedOut&&(v.scope.internal.acroformPlugin.printedOut=!1,v.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),v.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(v),N.page=N.scope.internal.getCurrentPageInfo().pageNumber,this};Lt.AcroFormChoiceField=qt,Lt.AcroFormListBox=As,Lt.AcroFormComboBox=hs,Lt.AcroFormEditBox=Ks,Lt.AcroFormButton=$s,Lt.AcroFormPushButton=fr,Lt.AcroFormRadioButton=tn,Lt.AcroFormCheckBox=Us,Lt.AcroFormTextField=Ds,Lt.AcroFormPasswordField=sr,Lt.AcroFormAppearance=ms,Lt.AcroForm={ChoiceField:qt,ListBox:As,ComboBox:hs,EditBox:Ks,Button:$s,PushButton:fr,RadioButton:tn,CheckBox:Us,TextField:Ds,PasswordField:sr,Appearance:ms},We.AcroForm={ChoiceField:qt,ListBox:As,ComboBox:hs,EditBox:Ks,Button:$s,PushButton:fr,RadioButton:tn,CheckBox:Us,TextField:Ds,PasswordField:sr,Appearance:ms};var Pr=We.AcroForm;function Ar(N){return N.reduce(function(v,S,I){return v[S]=I,v},{})}(function(N){var v="addImage_";N.__addimage__={};var S="UNKNOWN",I={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},P=N.__addimage__.getImageFileTypeByImageData=function(Xe,rt){var xt,bt,rs,ds,bs,Kt=S;if((rt=rt||S)==="RGBA"||Xe.data!==void 0&&Xe.data instanceof Uint8ClampedArray&&"height"in Xe&&"width"in Xe)return"RGBA";if(Mt(Xe))for(bs in I)for(rs=I[bs],xt=0;xt<rs.length;xt+=1){for(ds=!0,bt=0;bt<rs[xt].length;bt+=1)if(rs[xt][bt]!==void 0&&rs[xt][bt]!==Xe[bt]){ds=!1;break}if(ds===!0){Kt=bs;break}}else for(bs in I)for(rs=I[bs],xt=0;xt<rs.length;xt+=1){for(ds=!0,bt=0;bt<rs[xt].length;bt+=1)if(rs[xt][bt]!==void 0&&rs[xt][bt]!==Xe.charCodeAt(bt)){ds=!1;break}if(ds===!0){Kt=bs;break}}return Kt===S&&rt!==S&&(Kt=rt),Kt},V=function Xe(rt){for(var xt=this.internal.write,bt=this.internal.putStream,rs=(0,this.internal.getFilters)();rs.indexOf("FlateEncode")!==-1;)rs.splice(rs.indexOf("FlateEncode"),1);rt.objectId=this.internal.newObject();var ds=[];if(ds.push({key:"Type",value:"/XObject"}),ds.push({key:"Subtype",value:"/Image"}),ds.push({key:"Width",value:rt.width}),ds.push({key:"Height",value:rt.height}),rt.colorSpace===Ye.INDEXED?ds.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(rt.palette.length/3-1)+" "+("sMask"in rt&&rt.sMask!==void 0?rt.objectId+2:rt.objectId+1)+" 0 R]"}):(ds.push({key:"ColorSpace",value:"/"+rt.colorSpace}),rt.colorSpace===Ye.DEVICE_CMYK&&ds.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ds.push({key:"BitsPerComponent",value:rt.bitsPerComponent}),"decodeParameters"in rt&&rt.decodeParameters!==void 0&&ds.push({key:"DecodeParms",value:"<<"+rt.decodeParameters+">>"}),"transparency"in rt&&Array.isArray(rt.transparency)&&rt.transparency.length>0){for(var bs="",Kt=0,fs=rt.transparency.length;Kt<fs;Kt++)bs+=rt.transparency[Kt]+" "+rt.transparency[Kt]+" ";ds.push({key:"Mask",value:"["+bs+"]"})}rt.sMask!==void 0&&ds.push({key:"SMask",value:rt.objectId+1+" 0 R"});var Xs=rt.filter!==void 0?["/"+rt.filter]:void 0;if(bt({data:rt.data,additionalKeyValues:ds,alreadyAppliedFilters:Xs,objectId:rt.objectId}),xt("endobj"),"sMask"in rt&&rt.sMask!==void 0){var _s,_e=(_s=rt.sMaskBitsPerComponent)!==null&&_s!==void 0?_s:rt.bitsPerComponent,dt={width:rt.width,height:rt.height,colorSpace:"DeviceGray",bitsPerComponent:_e,data:rt.sMask};"filter"in rt&&(dt.decodeParameters="/Predictor ".concat(rt.predictor," /Colors 1 /BitsPerComponent ").concat(_e," /Columns ").concat(rt.width),dt.filter=rt.filter),Xe.call(this,dt)}if(rt.colorSpace===Ye.INDEXED){var ht=this.internal.newObject();bt({data:Ht(new Uint8Array(rt.palette)),objectId:ht}),xt("endobj")}},de=function(){var Xe=this.internal.collections[v+"images"];for(var rt in Xe)V.call(this,Xe[rt])},q=function(){var Xe,rt=this.internal.collections[v+"images"],xt=this.internal.write;for(var bt in rt)xt("/I"+(Xe=rt[bt]).index,Xe.objectId,"0","R")},ee=function(){this.internal.collections[v+"images"]||(this.internal.collections[v+"images"]={},this.internal.events.subscribe("putResources",de),this.internal.events.subscribe("putXobjectDict",q))},ke=function(){var Xe=this.internal.collections[v+"images"];return ee.call(this),Xe},Me=function(){return Object.keys(this.internal.collections[v+"images"]).length},$e=function(Xe){return typeof N["process"+Xe.toUpperCase()]=="function"},Je=function(Xe){return(0,f.default)(Xe)==="object"&&Xe.nodeType===1},xe=function(Xe,rt){if(Xe.nodeName==="IMG"&&Xe.hasAttribute("src")){var xt=""+Xe.getAttribute("src");if(xt.indexOf("data:image/")===0)return Q(unescape(xt).split("base64,").pop());var bt=N.loadFile(xt,!0);if(bt!==void 0)return bt}if(Xe.nodeName==="CANVAS"){if(Xe.width===0||Xe.height===0)throw new Error("Given canvas must have data. Canvas width: "+Xe.width+", height: "+Xe.height);var rs;switch(rt){case"PNG":rs="image/png";break;case"WEBP":rs="image/webp";break;default:rs="image/jpeg"}return Q(Xe.toDataURL(rs,1).split("base64,").pop())}},ct=function(Xe){var rt=this.internal.collections[v+"images"];if(rt){for(var xt in rt)if(Xe===rt[xt].alias)return rt[xt]}},ot=function(Xe,rt,xt){return Xe||rt||(Xe=-96,rt=-96),Xe<0&&(Xe=-1*xt.width*72/Xe/this.internal.scaleFactor),rt<0&&(rt=-1*xt.height*72/rt/this.internal.scaleFactor),Xe===0&&(Xe=rt*xt.width/xt.height),rt===0&&(rt=Xe*xt.height/xt.width),[Xe,rt]},At=function(Xe,rt,xt,bt,rs,ds){var bs=ot.call(this,xt,bt,rs),Kt=this.internal.getCoordinateString,fs=this.internal.getVerticalCoordinateString,Xs=ke.call(this);if(xt=bs[0],bt=bs[1],Xs[rs.index]=rs,ds){ds*=Math.PI/180;var _s=Math.cos(ds),_e=Math.sin(ds),dt=function(Ot){return Ot.toFixed(4)},ht=[dt(_s),dt(_e),dt(-1*_e),dt(_s),0,0,"cm"]}this.internal.write("q"),ds?(this.internal.write([1,"0","0",1,Kt(Xe),fs(rt+bt),"cm"].join(" ")),this.internal.write(ht.join(" ")),this.internal.write([Kt(xt),"0","0",Kt(bt),"0","0","cm"].join(" "))):this.internal.write([Kt(xt),"0","0",Kt(bt),Kt(Xe),fs(rt+bt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+rs.index+" Do"),this.internal.write("Q")},Ye=N.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};N.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var wt=N.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Rt=N.__addimage__.sHashCode=function(Xe){var rt,xt,bt=0;if(typeof Xe=="string")for(xt=Xe.length,rt=0;rt<xt;rt++)bt=(bt<<5)-bt+Xe.charCodeAt(rt),bt|=0;else if(Mt(Xe))for(xt=Xe.byteLength/2,rt=0;rt<xt;rt++)bt=(bt<<5)-bt+Xe[rt],bt|=0;return bt},gt=N.__addimage__.validateStringAsBase64=function(Xe){(Xe=Xe||"").toString().trim();var rt=!0;return Xe.length===0&&(rt=!1),Xe.length%4!=0&&(rt=!1),/^[A-Za-z0-9+/]+$/.test(Xe.substr(0,Xe.length-2))===!1&&(rt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Xe.substr(-2))===!1&&(rt=!1),rt},Ge=N.__addimage__.extractImageFromDataUrl=function(Xe){if(Xe==null||!(Xe=Xe.trim()).startsWith("data:"))return null;var rt=Xe.indexOf(",");return rt<0?null:Xe.substring(0,rt).trim().endsWith("base64")?Xe.substring(rt+1):null};N.__addimage__.isArrayBuffer=function(Xe){return Xe instanceof ArrayBuffer};var Mt=N.__addimage__.isArrayBufferView=function(Xe){return Xe instanceof Int8Array||Xe instanceof Uint8Array||Xe instanceof Uint8ClampedArray||Xe instanceof Int16Array||Xe instanceof Uint16Array||Xe instanceof Int32Array||Xe instanceof Uint32Array||Xe instanceof Float32Array||Xe instanceof Float64Array},is=N.__addimage__.binaryStringToUint8Array=function(Xe){for(var rt=Xe.length,xt=new Uint8Array(rt),bt=0;bt<rt;bt++)xt[bt]=Xe.charCodeAt(bt);return xt},Ht=N.__addimage__.arrayBufferToBinaryString=function(Xe){for(var rt="",xt=Mt(Xe)?Xe:new Uint8Array(Xe),bt=0;bt<xt.length;bt+=8192)rt+=String.fromCharCode.apply(null,xt.subarray(bt,bt+8192));return rt};N.addImage=function(){var Xe,rt,xt,bt,rs,ds,bs,Kt,fs;if(typeof arguments[1]=="number"?(rt=S,xt=arguments[1],bt=arguments[2],rs=arguments[3],ds=arguments[4],bs=arguments[5],Kt=arguments[6],fs=arguments[7]):(rt=arguments[1],xt=arguments[2],bt=arguments[3],rs=arguments[4],ds=arguments[5],bs=arguments[6],Kt=arguments[7],fs=arguments[8]),(0,f.default)(Xe=arguments[0])==="object"&&!Je(Xe)&&"imageData"in Xe){var Xs=Xe;Xe=Xs.imageData,rt=Xs.format||rt||S,xt=Xs.x||xt||0,bt=Xs.y||bt||0,rs=Xs.w||Xs.width||rs,ds=Xs.h||Xs.height||ds,bs=Xs.alias||bs,Kt=Xs.compression||Kt,fs=Xs.rotation||Xs.angle||fs}var _s=this.internal.getFilters();if(Kt===void 0&&_s.indexOf("FlateEncode")!==-1&&(Kt="SLOW"),isNaN(xt)||isNaN(bt))throw new Error("Invalid coordinates passed to jsPDF.addImage");ee.call(this);var _e=vt.call(this,Xe,rt,bs,Kt);return At.call(this,xt,bt,rs,ds,_e,fs),this};var vt=function(Xe,rt,xt,bt){var rs,ds,bs;if(typeof Xe=="string"&&P(Xe)===S){Xe=unescape(Xe);var Kt=ts(Xe,!1);(Kt!==""||(Kt=N.loadFile(Xe,!0))!==void 0)&&(Xe=Kt)}if(Je(Xe)&&(Xe=xe(Xe,rt)),rt=P(Xe,rt),!$e(rt))throw new Error("addImage does not support files of type '"+rt+"', please ensure that a plugin for '"+rt+"' support is added.");if(((bs=xt)==null||bs.length===0)&&(xt=(function(fs){return typeof fs=="string"||Mt(fs)?Rt(fs):Mt(fs.data)?Rt(fs.data):null})(Xe)),(rs=ct.call(this,xt))||(Xe instanceof Uint8Array||rt==="RGBA"||(ds=Xe,Xe=is(Xe)),rs=this["process"+rt.toUpperCase()](Xe,Me.call(this),xt,(function(fs){return fs&&typeof fs=="string"&&(fs=fs.toUpperCase()),fs in N.image_compression?fs:wt.NONE})(bt),ds)),!rs)throw new Error("An unknown error occurred whilst processing the image.");return rs},ts=N.__addimage__.convertBase64ToBinaryString=function(Xe,rt){rt=typeof rt!="boolean"||rt;var xt,bt="";if(typeof Xe=="string"){var rs;xt=(rs=Ge(Xe))!==null&&rs!==void 0?rs:Xe;try{bt=Q(xt)}catch(ds){if(rt)throw gt(xt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ds.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return bt};N.getImageProperties=function(Xe){var rt,xt,bt="";if(Je(Xe)&&(Xe=xe(Xe)),typeof Xe=="string"&&P(Xe)===S&&((bt=ts(Xe,!1))===""&&(bt=N.loadFile(Xe)||""),Xe=bt),xt=P(Xe),!$e(xt))throw new Error("addImage does not support files of type '"+xt+"', please ensure that a plugin for '"+xt+"' support is added.");if(Xe instanceof Uint8Array||(Xe=is(Xe)),!(rt=this["process"+xt.toUpperCase()](Xe)))throw new Error("An unknown error occurred whilst processing the image");return rt.fileType=xt,rt}})(We.API),(function(N){var v=function(S){if(S!==void 0&&S!="")return!0};We.API.events.push(["addPage",function(S){this.internal.getPageInfo(S.pageNumber).pageContext.annotations=[]}]),N.events.push(["putPage",function(S){for(var I,P,V,de=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,ee=this.internal.getPageInfoByObjId(S.objId),ke=S.pageContext.annotations,Me=!1,$e=0;$e<ke.length&&!Me;$e++)switch((I=ke[$e]).type){case"link":(v(I.options.url)||v(I.options.pageNumber))&&(Me=!0);break;case"reference":case"text":case"freetext":Me=!0}if(Me!=0){this.internal.write("/Annots [");for(var Je=0;Je<ke.length;Je++){I=ke[Je];var xe=this.internal.pdfEscape,ct=this.internal.getEncryptor(S.objId);switch(I.type){case"reference":this.internal.write(" "+I.object.objId+" 0 R ");break;case"text":var ot=this.internal.newAdditionalObject(),At=this.internal.newAdditionalObject(),Ye=this.internal.getEncryptor(ot.objId),wt=I.title||"Note";V="<</Type /Annot /Subtype /Text "+(P="/Rect ["+de(I.bounds.x)+" "+q(I.bounds.y+I.bounds.h)+" "+de(I.bounds.x+I.bounds.w)+" "+q(I.bounds.y)+"] ")+"/Contents ("+xe(Ye(I.contents))+")",V+=" /Popup "+At.objId+" 0 R",V+=" /P "+ee.objId+" 0 R",V+=" /T ("+xe(Ye(wt))+") >>",ot.content=V;var Rt=ot.objId+" 0 R";V="<</Type /Annot /Subtype /Popup "+(P="/Rect ["+de(I.bounds.x+30)+" "+q(I.bounds.y+I.bounds.h)+" "+de(I.bounds.x+I.bounds.w+30)+" "+q(I.bounds.y)+"] ")+" /Parent "+Rt,I.open&&(V+=" /Open true"),V+=" >>",At.content=V,this.internal.write(ot.objId,"0 R",At.objId,"0 R");break;case"freetext":P="/Rect ["+de(I.bounds.x)+" "+q(I.bounds.y)+" "+de(I.bounds.x+I.bounds.w)+" "+q(I.bounds.y+I.bounds.h)+"] ";var gt=I.color||"#000000";V="<</Type /Annot /Subtype /FreeText "+P+"/Contents ("+xe(ct(I.contents))+")",V+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+gt+")",V+=" /Border [0 0 0]",V+=" >>",this.internal.write(V);break;case"link":if(I.options.name){var Ge=this.annotations._nameMap[I.options.name];I.options.pageNumber=Ge.page,I.options.top=Ge.y}else I.options.top||(I.options.top=0);if(P="/Rect ["+I.finalBounds.x+" "+I.finalBounds.y+" "+I.finalBounds.w+" "+I.finalBounds.h+"] ",V="",I.options.url)V="<</Type /Annot /Subtype /Link "+P+"/Border [0 0 0] /A <</S /URI /URI ("+xe(ct(I.options.url))+") >>";else if(I.options.pageNumber)switch(V="<</Type /Annot /Subtype /Link "+P+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(I.options.pageNumber).objId+" 0 R",I.options.magFactor=I.options.magFactor||"XYZ",I.options.magFactor){case"Fit":V+=" /Fit]";break;case"FitH":V+=" /FitH "+I.options.top+"]";break;case"FitV":I.options.left=I.options.left||0,V+=" /FitV "+I.options.left+"]";break;default:var Mt=q(I.options.top);I.options.left=I.options.left||0,I.options.zoom===void 0&&(I.options.zoom=0),V+=" /XYZ "+I.options.left+" "+Mt+" "+I.options.zoom+"]"}V!=""&&(V+=" >>",this.internal.write(V))}}this.internal.write("]")}}]),N.createAnnotation=function(S){var I=this.internal.getCurrentPageInfo();switch(S.type){case"link":this.link(S.bounds.x,S.bounds.y,S.bounds.w,S.bounds.h,S);break;case"text":case"freetext":I.pageContext.annotations.push(S)}},N.link=function(S,I,P,V,de){var q=this.internal.getCurrentPageInfo(),ee=this.internal.getCoordinateString,ke=this.internal.getVerticalCoordinateString;q.pageContext.annotations.push({finalBounds:{x:ee(S),y:ke(I),w:ee(S+P),h:ke(I+V)},options:de,type:"link"})},N.textWithLink=function(S,I,P,V){var de,q,ee=this.getTextWidth(S),ke=this.internal.getLineHeight()/this.internal.scaleFactor;if(V.maxWidth!==void 0){q=V.maxWidth;var Me=this.splitTextToSize(S,q).length;de=Math.ceil(ke*Me)}else q=ee,de=ke;return this.text(S,I,P,V),P+=.2*ke,V.align==="center"&&(I-=ee/2),V.align==="right"&&(I-=ee),this.link(I,P-ke,q,de,V),ee},N.getTextWidth=function(S){var I=this.internal.getFontSize();return this.getStringUnitWidth(S)*I/this.internal.scaleFactor}})(We.API),(function(N){var v={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},S={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},I={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},P=[1570,1571,1573,1575];N.__arabicParser__={};var V=N.__arabicParser__.isInArabicSubstitutionA=function(ot){return v[ot.charCodeAt(0)]!==void 0},de=N.__arabicParser__.isArabicLetter=function(ot){return typeof ot=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(ot)},q=N.__arabicParser__.isArabicEndLetter=function(ot){return de(ot)&&V(ot)&&v[ot.charCodeAt(0)].length<=2},ee=N.__arabicParser__.isArabicAlfLetter=function(ot){return de(ot)&&P.indexOf(ot.charCodeAt(0))>=0};N.__arabicParser__.arabicLetterHasIsolatedForm=function(ot){return de(ot)&&V(ot)&&v[ot.charCodeAt(0)].length>=1};var ke=N.__arabicParser__.arabicLetterHasFinalForm=function(ot){return de(ot)&&V(ot)&&v[ot.charCodeAt(0)].length>=2};N.__arabicParser__.arabicLetterHasInitialForm=function(ot){return de(ot)&&V(ot)&&v[ot.charCodeAt(0)].length>=3};var Me=N.__arabicParser__.arabicLetterHasMedialForm=function(ot){return de(ot)&&V(ot)&&v[ot.charCodeAt(0)].length==4},$e=N.__arabicParser__.resolveLigatures=function(ot){var At=0,Ye=S,wt="",Rt=0;for(At=0;At<ot.length;At+=1)Ye[ot.charCodeAt(At)]!==void 0?(Rt++,typeof(Ye=Ye[ot.charCodeAt(At)])=="number"&&(wt+=String.fromCharCode(Ye),Ye=S,Rt=0),At===ot.length-1&&(Ye=S,wt+=ot.charAt(At-(Rt-1)),At-=Rt-1,Rt=0)):(Ye=S,wt+=ot.charAt(At-Rt),At-=Rt,Rt=0);return wt};N.__arabicParser__.isArabicDiacritic=function(ot){return ot!==void 0&&I[ot.charCodeAt(0)]!==void 0};var Je=N.__arabicParser__.getCorrectForm=function(ot,At,Ye){return de(ot)?V(ot)===!1?-1:!ke(ot)||!de(At)&&!de(Ye)||!de(Ye)&&q(At)||q(ot)&&!de(At)||q(ot)&&ee(At)||q(ot)&&q(At)?0:Me(ot)&&de(At)&&!q(At)&&de(Ye)&&ke(Ye)?3:q(ot)||!de(Ye)?1:2:-1},xe=function(ot){var At=0,Ye=0,wt=0,Rt="",gt="",Ge="",Mt=(ot=ot||"").split("\\s+"),is=[];for(At=0;At<Mt.length;At+=1){for(is.push(""),Ye=0;Ye<Mt[At].length;Ye+=1)Rt=Mt[At][Ye],gt=Mt[At][Ye-1],Ge=Mt[At][Ye+1],de(Rt)?(wt=Je(Rt,gt,Ge),is[At]+=wt!==-1?String.fromCharCode(v[Rt.charCodeAt(0)][wt]):Rt):is[At]+=Rt;is[At]=$e(is[At])}return is.join(" ")},ct=N.__arabicParser__.processArabic=N.processArabic=function(){var ot,At=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Ye=[];if(Array.isArray(At)){var wt=0;for(Ye=[],wt=0;wt<At.length;wt+=1)Array.isArray(At[wt])?Ye.push([xe(At[wt][0]),At[wt][1],At[wt][2]]):Ye.push([xe(At[wt])]);ot=Ye}else ot=xe(At);return typeof arguments[0]=="string"?ot:(arguments[0].text=ot,arguments[0])};N.events.push(["preProcessText",ct])})(We.API),We.API.autoPrint=function(N){var v;return(N=N||{}).variant=N.variant||"non-conform",N.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){v=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+v+" 0 R")})),this},(function(N){var v=function(){var S=void 0;Object.defineProperty(this,"pdf",{get:function(){return S},set:function(q){S=q}});var I=150;Object.defineProperty(this,"width",{get:function(){return I},set:function(q){I=isNaN(q)||Number.isInteger(q)===!1||q<0?150:q,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=I+1)}});var P=300;Object.defineProperty(this,"height",{get:function(){return P},set:function(q){P=isNaN(q)||Number.isInteger(q)===!1||q<0?300:q,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=P+1)}});var V=[];Object.defineProperty(this,"childNodes",{get:function(){return V},set:function(q){V=q}});var de={};Object.defineProperty(this,"style",{get:function(){return de},set:function(q){de=q}}),Object.defineProperty(this,"parentNode",{})};v.prototype.getContext=function(S,I){var P;if((S=S||"2d")!=="2d")return null;for(P in I)this.pdf.context2d.hasOwnProperty(P)&&(this.pdf.context2d[P]=I[P]);return this.pdf.context2d._canvas=this,this.pdf.context2d},v.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},N.events.push(["initialized",function(){this.canvas=new v,this.canvas.pdf=this}])})(We.API),(function(N){var v={left:0,top:0,bottom:0,right:0},S=!1,I=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},v),this.internal.__cell__.margins.width=this.getPageWidth(),P.call(this))},P=function(){this.internal.__cell__.lastCell=new V,this.internal.__cell__.pages=1},V=function(){var ee=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(ot){ee=ot}});var ke=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(ot){ke=ot}});var Me=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Me},set:function(ot){Me=ot}});var $e=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return $e},set:function(ot){$e=ot}});var Je=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Je},set:function(ot){Je=ot}});var xe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return xe},set:function(ot){xe=ot}});var ct=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ct},set:function(ot){ct=ot}}),this};V.prototype.clone=function(){return new V(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},V.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},N.setHeaderFunction=function(ee){return I.call(this),this.internal.__cell__.headerFunction=typeof ee=="function"?ee:void 0,this},N.getTextDimensions=function(ee,ke){I.call(this);var Me=(ke=ke||{}).fontSize||this.getFontSize(),$e=ke.font||this.getFont(),Je=ke.scaleFactor||this.internal.scaleFactor,xe=0,ct=0,ot=0,At=this;if(!Array.isArray(ee)&&typeof ee!="string"){if(typeof ee!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");ee=String(ee)}var Ye=ke.maxWidth;Ye>0?typeof ee=="string"?ee=this.splitTextToSize(ee,Ye):Object.prototype.toString.call(ee)==="[object Array]"&&(ee=ee.reduce(function(Rt,gt){return Rt.concat(At.splitTextToSize(gt,Ye))},[])):ee=Array.isArray(ee)?ee:[ee];for(var wt=0;wt<ee.length;wt++)xe<(ot=this.getStringUnitWidth(ee[wt],{font:$e})*Me)&&(xe=ot);return xe!==0&&(ct=ee.length),{w:xe/=Je,h:Math.max((ct*Me*this.getLineHeightFactor()-Me*(this.getLineHeightFactor()-1))/Je,0)}},N.cellAddPage=function(){I.call(this),this.addPage();var ee=this.internal.__cell__.margins||v;return this.internal.__cell__.lastCell=new V(ee.left,ee.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var de=N.cell=function(){var ee;ee=arguments[0]instanceof V?arguments[0]:new V(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),I.call(this);var ke=this.internal.__cell__.lastCell,Me=this.internal.__cell__.padding,$e=this.internal.__cell__.margins||v,Je=this.internal.__cell__.tableHeaderRow,xe=this.internal.__cell__.printHeaders;return ke.lineNumber!==void 0&&(ke.lineNumber===ee.lineNumber?(ee.x=(ke.x||0)+(ke.width||0),ee.y=ke.y||0):ke.y+ke.height+ee.height+$e.bottom>this.getPageHeight()?(this.cellAddPage(),ee.y=$e.top,xe&&Je&&(this.printHeaderRow(ee.lineNumber,!0),ee.y+=Je[0].height)):ee.y=ke.y+ke.height||ee.y),ee.text[0]!==void 0&&(this.rect(ee.x,ee.y,ee.width,ee.height,S===!0?"FD":void 0),ee.align==="right"?this.text(ee.text,ee.x+ee.width-Me,ee.y+Me,{align:"right",baseline:"top"}):ee.align==="center"?this.text(ee.text,ee.x+ee.width/2,ee.y+Me,{align:"center",baseline:"top",maxWidth:ee.width-Me-Me}):this.text(ee.text,ee.x+Me,ee.y+Me,{align:"left",baseline:"top",maxWidth:ee.width-Me-Me})),this.internal.__cell__.lastCell=ee,this};N.table=function(ee,ke,Me,$e,Je){if(I.call(this),!Me)throw new Error("No data for PDF table.");var xe,ct,ot,At,Ye=[],wt=[],Rt=[],gt={},Ge={},Mt=[],is=[],Ht=(Je=Je||{}).autoSize||!1,vt=Je.printHeaders!==!1,ts=Je.css&&Je.css["font-size"]!==void 0?16*Je.css["font-size"]:Je.fontSize||12,Xe=Je.margins||Object.assign({width:this.getPageWidth()},v),rt=typeof Je.padding=="number"?Je.padding:3,xt=Je.headerBackgroundColor||"#c8c8c8",bt=Je.headerTextColor||"#000";if(P.call(this),this.internal.__cell__.printHeaders=vt,this.internal.__cell__.margins=Xe,this.internal.__cell__.table_font_size=ts,this.internal.__cell__.padding=rt,this.internal.__cell__.headerBackgroundColor=xt,this.internal.__cell__.headerTextColor=bt,this.setFontSize(ts),$e==null)wt=Ye=Object.keys(Me[0]),Rt=Ye.map(function(){return"left"});else if(Array.isArray($e)&&(0,f.default)($e[0])==="object")for(Ye=$e.map(function(Xs){return Xs.name}),wt=$e.map(function(Xs){return Xs.prompt||Xs.name||""}),Rt=$e.map(function(Xs){return Xs.align||"left"}),xe=0;xe<$e.length;xe+=1)Ge[$e[xe].name]=.7499990551181103*$e[xe].width;else Array.isArray($e)&&typeof $e[0]=="string"&&(wt=Ye=$e,Rt=Ye.map(function(){return"left"}));if(Ht||Array.isArray($e)&&typeof $e[0]=="string")for(xe=0;xe<Ye.length;xe+=1){for(gt[At=Ye[xe]]=Me.map(function(Xs){return Xs[At]}),this.setFont(void 0,"bold"),Mt.push(this.getTextDimensions(wt[xe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ct=gt[At],this.setFont(void 0,"normal"),ot=0;ot<ct.length;ot+=1)Mt.push(this.getTextDimensions(ct[ot],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ge[At]=Math.max.apply(null,Mt)+rt+rt,Mt=[]}if(vt){var rs={};for(xe=0;xe<Ye.length;xe+=1)rs[Ye[xe]]={},rs[Ye[xe]].text=wt[xe],rs[Ye[xe]].align=Rt[xe];var ds=q.call(this,rs,Ge);is=Ye.map(function(Xs){return new V(ee,ke,Ge[Xs],ds,rs[Xs].text,void 0,rs[Xs].align)}),this.setTableHeaderRow(is),this.printHeaderRow(1,!1)}var bs=$e.reduce(function(Xs,_s){return Xs[_s.name]=_s.align,Xs},{});for(xe=0;xe<Me.length;xe+=1){"rowStart"in Je&&Je.rowStart instanceof Function&&Je.rowStart({row:xe,data:Me[xe]},this);var Kt=q.call(this,Me[xe],Ge);for(ot=0;ot<Ye.length;ot+=1){var fs=Me[xe][Ye[ot]];"cellStart"in Je&&Je.cellStart instanceof Function&&Je.cellStart({row:xe,col:ot,data:fs},this),de.call(this,new V(ee,ke,Ge[Ye[ot]],Kt,fs,xe+2,bs[Ye[ot]]))}}return this.internal.__cell__.table_x=ee,this.internal.__cell__.table_y=ke,this};var q=function(ee,ke){var Me=this.internal.__cell__.padding,$e=this.internal.__cell__.table_font_size,Je=this.internal.scaleFactor;return Object.keys(ee).map(function(xe){var ct=ee[xe];return this.splitTextToSize(ct.hasOwnProperty("text")?ct.text:ct,ke[xe]-Me-Me)},this).map(function(xe){return this.getLineHeightFactor()*xe.length*$e/Je+Me+Me},this).reduce(function(xe,ct){return Math.max(xe,ct)},0)};N.setTableHeaderRow=function(ee){I.call(this),this.internal.__cell__.tableHeaderRow=ee},N.printHeaderRow=function(ee,ke){if(I.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Me;if(S=!0,typeof this.internal.__cell__.headerFunction=="function"){var $e=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new V($e[0],$e[1],$e[2],$e[3],void 0,-1)}this.setFont(void 0,"bold");for(var Je=[],xe=0;xe<this.internal.__cell__.tableHeaderRow.length;xe+=1){Me=this.internal.__cell__.tableHeaderRow[xe].clone(),ke&&(Me.y=this.internal.__cell__.margins.top||0,Je.push(Me)),Me.lineNumber=ee;var ct=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),de.call(this,Me),this.setTextColor(ct)}Je.length>0&&this.setTableHeaderRow(Je),this.setFont(void 0,"normal"),S=!1}})(We.API);var Da={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},fa=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],fn=Ar(fa),jn=[100,200,300,400,500,600,700,800,900],dn=Ar(jn);function la(N){var v=N.family.replace(/"|'/g,"").toLowerCase(),S=(function(V){return Da[V=V||"normal"]?V:"normal"})(N.style),I=(function(V){return V?typeof V=="number"?V>=100&&V<=900&&V%100==0?V:400:/^\d00$/.test(V)?parseInt(V):V==="bold"?700:400:400})(N.weight),P=(function(V){return typeof fn[V=V||"normal"]=="number"?V:"normal"})(N.stretch);return{family:v,style:S,weight:I,stretch:P,src:N.src||[],ref:N.ref||{name:v,style:[P,S,I].join(" ")}}}function Dn(N,v,S,I){var P;for(P=S;P>=0&&P<v.length;P+=I)if(N[v[P]])return N[v[P]];for(P=S;P>=0&&P<v.length;P-=I)if(N[v[P]])return N[v[P]]}var Ii={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Rn={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mc(N){return[N.stretch,N.style,N.weight,N.family].join(" ")}function oi(N){return N.trimLeft()}function Uo(N,v){for(var S=0;S<N.length;){if(N.charAt(S)===v)return[N.substring(0,S),N.substring(S+1)];S+=1}return null}function Kl(N){var v=N.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return v===null?null:[v[0],N.substring(v[0].length)]}var ho,pa,Ni,sa,Ua,qn,fo,Ai,ki=["times"];function hl(N,v,S,I,P){var V=4,de=xa;switch(P){case We.API.image_compression.FAST:V=1,de=Ul;break;case We.API.image_compression.MEDIUM:V=6,de=ja;break;case We.API.image_compression.SLOW:V=9,de=po}N=(function(ee,ke,Me,$e){for(var Je,xe=ee.length/ke,ct=new Uint8Array(ee.length+xe),ot=[el,Ul,xa,ja,po],At=0;At<xe;At+=1){var Ye=At*ke,wt=ee.subarray(Ye,Ye+ke);if($e)ct.set($e(wt,Me,Je),Ye+At);else{for(var Rt=ot.length,gt=[],Ge=0;Ge<Rt;Ge+=1)gt[Ge]=ot[Ge](wt,Me,Je);var Mt=Di(gt.concat());ct.set(gt[Mt],Ye+At)}Je=wt}return ct})(N,v,Math.ceil(S*I/8),de);var q=(0,p.zlibSync)(N,{level:V});return We.API.__addimage__.arrayBufferToBinaryString(q)}function el(N){var v=Array.apply([],N);return v.unshift(0),v}function Ul(N,v){var S=N.length,I=[];I[0]=1;for(var P=0;P<S;P+=1){var V=N[P-v]||0;I[P+1]=N[P]-V+256&255}return I}function xa(N,v,S){var I=N.length,P=[];P[0]=2;for(var V=0;V<I;V+=1){var de=S&&S[V]||0;P[V+1]=N[V]-de+256&255}return P}function ja(N,v,S){var I=N.length,P=[];P[0]=3;for(var V=0;V<I;V+=1){var de=N[V-v]||0,q=S&&S[V]||0;P[V+1]=N[V]+256-(de+q>>>1)&255}return P}function po(N,v,S){var I=N.length,P=[];P[0]=4;for(var V=0;V<I;V+=1){var de=ti(N[V-v]||0,S&&S[V]||0,S&&S[V-v]||0);P[V+1]=N[V]-de+256&255}return P}function ti(N,v,S){if(N===v&&v===S)return N;var I=Math.abs(v-S),P=Math.abs(N-S),V=Math.abs(N+v-S-S);return I<=P&&I<=V?N:P<=V?v:S}function Di(N){var v=N.map(function(S){return S.reduce(function(I,P){return I+Math.abs(P)},0)});return v.indexOf(Math.min.apply(null,v))}function hi(N,v,S){var I=v*S,P=Math.floor(I/8),V=16-(I-8*P+S),de=(1<<S)-1;return Ka(N,P)>>V&de}function Wr(N,v,S,I){var P=S*I,V=Math.floor(P/8),de=16-(P-8*V+I),q=(1<<I)-1,ee=(v&q)<<de;(function(ke,Me,$e){if(Me+1<ke.byteLength)ke.setUint16(Me,$e,!1);else{var Je=$e>>8&255;ke.setUint8(Me,Je)}})(N,V,Ka(N,V)&~(q<<de)&65535|ee)}function Ka(N,v){return v+1<N.byteLength?N.getUint16(v,!1):N.getUint8(v)<<8}function Ci(N){var v=0;if(N[v++]!==71||N[v++]!==73||N[v++]!==70||N[v++]!==56||(N[v++]+1&253)!=56||N[v++]!==97)throw new Error("Invalid GIF 87a/89a header.");var S=N[v++]|N[v++]<<8,I=N[v++]|N[v++]<<8,P=N[v++],V=P>>7,de=1<<1+(7&P);N[v++],N[v++];var q=null,ee=null;V&&(q=v,ee=de,v+=3*de);var ke=!0,Me=[],$e=0,Je=null,xe=0,ct=null;for(this.width=S,this.height=I;ke&&v<N.length;)switch(N[v++]){case 33:switch(N[v++]){case 255:if(N[v]!==11||N[v+1]==78&&N[v+2]==69&&N[v+3]==84&&N[v+4]==83&&N[v+5]==67&&N[v+6]==65&&N[v+7]==80&&N[v+8]==69&&N[v+9]==50&&N[v+10]==46&&N[v+11]==48&&N[v+12]==3&&N[v+13]==1&&N[v+16]==0)v+=14,ct=N[v++]|N[v++]<<8,v++;else for(v+=12;;){if(!((Xe=N[v++])>=0))throw Error("Invalid block size");if(Xe===0)break;v+=Xe}break;case 249:if(N[v++]!==4||N[v+4]!==0)throw new Error("Invalid graphics extension block.");var ot=N[v++];$e=N[v++]|N[v++]<<8,Je=N[v++],1&ot||(Je=null),xe=ot>>2&7,v++;break;case 254:for(;;){if(!((Xe=N[v++])>=0))throw Error("Invalid block size");if(Xe===0)break;v+=Xe}break;default:throw new Error("Unknown graphic control label: 0x"+N[v-1].toString(16))}break;case 44:var At=N[v++]|N[v++]<<8,Ye=N[v++]|N[v++]<<8,wt=N[v++]|N[v++]<<8,Rt=N[v++]|N[v++]<<8,gt=N[v++],Ge=gt>>6&1,Mt=1<<1+(7&gt),is=q,Ht=ee,vt=!1;gt>>7&&(vt=!0,is=v,Ht=Mt,v+=3*Mt);var ts=v;for(v++;;){var Xe;if(!((Xe=N[v++])>=0))throw Error("Invalid block size");if(Xe===0)break;v+=Xe}Me.push({x:At,y:Ye,width:wt,height:Rt,has_local_palette:vt,palette_offset:is,palette_size:Ht,data_offset:ts,data_length:v-ts,transparent_index:Je,interlaced:!!Ge,delay:$e,disposal:xe});break;case 59:ke=!1;break;default:throw new Error("Unknown gif block: 0x"+N[v-1].toString(16))}this.numFrames=function(){return Me.length},this.loopCount=function(){return ct},this.frameInfo=function(rt){if(rt<0||rt>=Me.length)throw new Error("Frame index out of range.");return Me[rt]},this.decodeAndBlitFrameBGRA=function(rt,xt){var bt=this.frameInfo(rt),rs=bt.width*bt.height,ds=new Uint8Array(rs);Qa(N,bt.data_offset,ds,rs);var bs=bt.palette_offset,Kt=bt.transparent_index;Kt===null&&(Kt=256);var fs=bt.width,Xs=S-fs,_s=fs,_e=4*(bt.y*S+bt.x),dt=4*((bt.y+bt.height)*S+bt.x),ht=_e,Ot=4*Xs;bt.interlaced===!0&&(Ot+=4*S*7);for(var Pt=8,Yt=0,ps=ds.length;Yt<ps;++Yt){var gs=ds[Yt];if(_s===0&&(_s=fs,(ht+=Ot)>=dt&&(Ot=4*Xs+4*S*(Pt-1),ht=_e+(fs+Xs)*(Pt<<1),Pt>>=1)),gs===Kt)ht+=4;else{var Ls=N[bs+3*gs],Js=N[bs+3*gs+1],xr=N[bs+3*gs+2];xt[ht++]=xr,xt[ht++]=Js,xt[ht++]=Ls,xt[ht++]=255}--_s}},this.decodeAndBlitFrameRGBA=function(rt,xt){var bt=this.frameInfo(rt),rs=bt.width*bt.height,ds=new Uint8Array(rs);Qa(N,bt.data_offset,ds,rs);var bs=bt.palette_offset,Kt=bt.transparent_index;Kt===null&&(Kt=256);var fs=bt.width,Xs=S-fs,_s=fs,_e=4*(bt.y*S+bt.x),dt=4*((bt.y+bt.height)*S+bt.x),ht=_e,Ot=4*Xs;bt.interlaced===!0&&(Ot+=4*S*7);for(var Pt=8,Yt=0,ps=ds.length;Yt<ps;++Yt){var gs=ds[Yt];if(_s===0&&(_s=fs,(ht+=Ot)>=dt&&(Ot=4*Xs+4*S*(Pt-1),ht=_e+(fs+Xs)*(Pt<<1),Pt>>=1)),gs===Kt)ht+=4;else{var Ls=N[bs+3*gs],Js=N[bs+3*gs+1],xr=N[bs+3*gs+2];xt[ht++]=Ls,xt[ht++]=Js,xt[ht++]=xr,xt[ht++]=255}--_s}}}function Qa(N,v,S,I){for(var P=N[v++],V=1<<P,de=V+1,q=de+1,ee=P+1,ke=(1<<ee)-1,Me=0,$e=0,Je=0,xe=N[v++],ct=new Int32Array(4096),ot=null;;){for(;Me<16&&xe!==0;)$e|=N[v++]<<Me,Me+=8,xe===1?xe=N[v++]:--xe;if(Me<ee)break;var At=$e&ke;if($e>>=ee,Me-=ee,At!==V){if(At===de)break;for(var Ye=At<q?At:ot,wt=0,Rt=Ye;Rt>V;)Rt=ct[Rt]>>8,++wt;var gt=Rt;if(Je+wt+(Ye!==At?1:0)>I)return void y.log("Warning, gif stream longer than expected.");S[Je++]=gt;var Ge=Je+=wt;for(Ye!==At&&(S[Je++]=gt),Rt=Ye;wt--;)Rt=ct[Rt],S[--Ge]=255&Rt,Rt>>=8;ot!==null&&q<4096&&(ct[q++]=ot<<8|gt,q>=ke+1&&ee<12&&(++ee,ke=ke<<1|1)),ot=At}else q=de+1,ke=(1<<(ee=P+1))-1,ot=null}return Je!==I&&y.log("Warning, gif stream shorter than expected."),S}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function mo(N){var v,S,I,P,V,de=Math.floor,q=new Array(64),ee=new Array(64),ke=new Array(64),Me=new Array(64),$e=new Array(65535),Je=new Array(65535),xe=new Array(64),ct=new Array(64),ot=[],At=0,Ye=7,wt=new Array(64),Rt=new Array(64),gt=new Array(64),Ge=new Array(256),Mt=new Array(2048),is=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ht=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],vt=[0,1,2,3,4,5,6,7,8,9,10,11],ts=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Xe=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],rt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],xt=[0,1,2,3,4,5,6,7,8,9,10,11],bt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],rs=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ds(_e,dt){for(var ht=0,Ot=0,Pt=new Array,Yt=1;Yt<=16;Yt++){for(var ps=1;ps<=_e[Yt];ps++)Pt[dt[Ot]]=[],Pt[dt[Ot]][0]=ht,Pt[dt[Ot]][1]=Yt,Ot++,ht++;ht*=2}return Pt}function bs(_e){for(var dt=_e[0],ht=_e[1]-1;ht>=0;)dt&1<<ht&&(At|=1<<Ye),ht--,--Ye<0&&(At==255?(Kt(255),Kt(0)):Kt(At),Ye=7,At=0)}function Kt(_e){ot.push(_e)}function fs(_e){Kt(_e>>8&255),Kt(255&_e)}function Xs(_e,dt,ht,Ot,Pt){for(var Yt,ps=Pt[0],gs=Pt[240],Ls=(function(Hs,sn){var yr,Vr,Ir,Ca,Sn,Cr,$n,Xr,Br,nn,Dr=0;for(Br=0;Br<8;++Br){yr=Hs[Dr],Vr=Hs[Dr+1],Ir=Hs[Dr+2],Ca=Hs[Dr+3],Sn=Hs[Dr+4],Cr=Hs[Dr+5],$n=Hs[Dr+6];var vn=yr+(Xr=Hs[Dr+7]),Yn=yr-Xr,En=Vr+$n,Pn=Vr-$n,Wa=Ir+Cr,Kr=Ir-Cr,_a=Ca+Sn,pn=Ca-Sn,Hr=vn+_a,Na=vn-_a,Nn=En+Wa,ir=En-Wa;Hs[Dr]=Hr+Nn,Hs[Dr+4]=Hr-Nn;var Ln=.707106781*(ir+Na);Hs[Dr+2]=Na+Ln,Hs[Dr+6]=Na-Ln;var Yc=.382683433*((Hr=pn+Kr)-(ir=Pn+Yn)),Ri=.5411961*Hr+Yc,lo=1.306562965*ir+Yc,Gl=.707106781*(Nn=Kr+Pn),an=Yn+Gl,li=Yn-Gl;Hs[Dr+5]=li+Ri,Hs[Dr+3]=li-Ri,Hs[Dr+1]=an+lo,Hs[Dr+7]=an-lo,Dr+=8}for(Dr=0,Br=0;Br<8;++Br){yr=Hs[Dr],Vr=Hs[Dr+8],Ir=Hs[Dr+16],Ca=Hs[Dr+24],Sn=Hs[Dr+32],Cr=Hs[Dr+40],$n=Hs[Dr+48];var mi=yr+(Xr=Hs[Dr+56]),tl=yr-Xr,Lo=Vr+$n,Pa=Vr-$n,gi=Ir+Cr,ci=Ir-Cr,Fl=Ca+Sn,Pi=Ca-Sn,fl=mi+Fl,go=mi-Fl,Ll=Lo+gi,Mo=Lo-gi;Hs[Dr]=fl+Ll,Hs[Dr+32]=fl-Ll;var pl=.707106781*(Mo+go);Hs[Dr+16]=go+pl,Hs[Dr+48]=go-pl;var Xc=.382683433*((fl=Pi+ci)-(Mo=Pa+tl)),ml=.5411961*fl+Xc,Oo=1.306562965*Mo+Xc,Fc=.707106781*(Ll=ci+Pa),Jc=tl+Fc,gc=tl-Fc;Hs[Dr+40]=gc+ml,Hs[Dr+24]=gc-ml,Hs[Dr+8]=Jc+Oo,Hs[Dr+56]=Jc-Oo,Dr++}for(Br=0;Br<64;++Br)nn=Hs[Br]*sn[Br],xe[Br]=nn>0?nn+.5|0:nn-.5|0;return xe})(_e,dt),Js=0;Js<64;++Js)ct[is[Js]]=Ls[Js];var xr=ct[0]-ht;ht=ct[0],xr==0?bs(Ot[0]):(bs(Ot[Je[Yt=32767+xr]]),bs($e[Yt]));for(var mr=63;mr>0&&ct[mr]==0;)mr--;if(mr==0)return bs(ps),ht;for(var Yr,tt=1;tt<=mr;){for(var lr=tt;ct[tt]==0&&tt<=mr;)++tt;var un=tt-lr;if(un>=16){Yr=un>>4;for(var rr=1;rr<=Yr;++rr)bs(gs);un&=15}Yt=32767+ct[tt],bs(Pt[(un<<4)+Je[Yt]]),bs($e[Yt]),tt++}return mr!=63&&bs(ps),ht}function _s(_e){_e=Math.min(Math.max(_e,1),100),V!=_e&&((function(dt){for(var ht=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ot=0;Ot<64;Ot++){var Pt=de((ht[Ot]*dt+50)/100);Pt=Math.min(Math.max(Pt,1),255),q[is[Ot]]=Pt}for(var Yt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ps=0;ps<64;ps++){var gs=de((Yt[ps]*dt+50)/100);gs=Math.min(Math.max(gs,1),255),ee[is[ps]]=gs}for(var Ls=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Js=0,xr=0;xr<8;xr++)for(var mr=0;mr<8;mr++)ke[Js]=1/(q[is[Js]]*Ls[xr]*Ls[mr]*8),Me[Js]=1/(ee[is[Js]]*Ls[xr]*Ls[mr]*8),Js++})(_e<50?Math.floor(5e3/_e):Math.floor(200-2*_e)),V=_e)}this.encode=function(_e,dt){dt&&_s(dt),ot=new Array,At=0,Ye=7,fs(65496),fs(65504),fs(16),Kt(74),Kt(70),Kt(73),Kt(70),Kt(0),Kt(1),Kt(1),Kt(0),fs(1),fs(1),Kt(0),Kt(0),(function(){fs(65499),fs(132),Kt(0);for(var Vr=0;Vr<64;Vr++)Kt(q[Vr]);Kt(1);for(var Ir=0;Ir<64;Ir++)Kt(ee[Ir])})(),(function(Vr,Ir){fs(65472),fs(17),Kt(8),fs(Ir),fs(Vr),Kt(3),Kt(1),Kt(17),Kt(0),Kt(2),Kt(17),Kt(1),Kt(3),Kt(17),Kt(1)})(_e.width,_e.height),(function(){fs(65476),fs(418),Kt(0);for(var Vr=0;Vr<16;Vr++)Kt(Ht[Vr+1]);for(var Ir=0;Ir<=11;Ir++)Kt(vt[Ir]);Kt(16);for(var Ca=0;Ca<16;Ca++)Kt(ts[Ca+1]);for(var Sn=0;Sn<=161;Sn++)Kt(Xe[Sn]);Kt(1);for(var Cr=0;Cr<16;Cr++)Kt(rt[Cr+1]);for(var $n=0;$n<=11;$n++)Kt(xt[$n]);Kt(17);for(var Xr=0;Xr<16;Xr++)Kt(bt[Xr+1]);for(var Br=0;Br<=161;Br++)Kt(rs[Br])})(),fs(65498),fs(12),Kt(3),Kt(1),Kt(0),Kt(2),Kt(17),Kt(3),Kt(17),Kt(0),Kt(63),Kt(0);var ht=0,Ot=0,Pt=0;At=0,Ye=7,this.encode.displayName="_encode_";for(var Yt,ps,gs,Ls,Js,xr,mr,Yr,tt,lr=_e.data,un=_e.width,rr=_e.height,Hs=4*un,sn=0;sn<rr;){for(Yt=0;Yt<Hs;){for(Js=Hs*sn+Yt,mr=-1,Yr=0,tt=0;tt<64;tt++)xr=Js+(Yr=tt>>3)*Hs+(mr=4*(7&tt)),sn+Yr>=rr&&(xr-=Hs*(sn+1+Yr-rr)),Yt+mr>=Hs&&(xr-=Yt+mr-Hs+4),ps=lr[xr++],gs=lr[xr++],Ls=lr[xr++],wt[tt]=(Mt[ps]+Mt[gs+256|0]+Mt[Ls+512|0]>>16)-128,Rt[tt]=(Mt[ps+768|0]+Mt[gs+1024|0]+Mt[Ls+1280|0]>>16)-128,gt[tt]=(Mt[ps+1280|0]+Mt[gs+1536|0]+Mt[Ls+1792|0]>>16)-128;ht=Xs(wt,ke,ht,v,I),Ot=Xs(Rt,Me,Ot,S,P),Pt=Xs(gt,Me,Pt,S,P),Yt+=32}sn+=8}if(Ye>=0){var yr=[];yr[1]=Ye+1,yr[0]=(1<<Ye+1)-1,bs(yr)}return fs(65497),new Uint8Array(ot)},N=N||50,(function(){for(var _e=String.fromCharCode,dt=0;dt<256;dt++)Ge[dt]=_e(dt)})(),v=ds(Ht,vt),S=ds(rt,xt),I=ds(ts,Xe),P=ds(bt,rs),(function(){for(var _e=1,dt=2,ht=1;ht<=15;ht++){for(var Ot=_e;Ot<dt;Ot++)Je[32767+Ot]=ht,$e[32767+Ot]=[],$e[32767+Ot][1]=ht,$e[32767+Ot][0]=Ot;for(var Pt=-(dt-1);Pt<=-_e;Pt++)Je[32767+Pt]=ht,$e[32767+Pt]=[],$e[32767+Pt][1]=ht,$e[32767+Pt][0]=dt-1+Pt;_e<<=1,dt<<=1}})(),(function(){for(var _e=0;_e<256;_e++)Mt[_e]=19595*_e,Mt[_e+256|0]=38470*_e,Mt[_e+512|0]=7471*_e+32768,Mt[_e+768|0]=-11059*_e,Mt[_e+1024|0]=-21709*_e,Mt[_e+1280|0]=32768*_e+8421375,Mt[_e+1536|0]=-27439*_e,Mt[_e+1792|0]=-5329*_e})(),_s(N)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Wn(N,v){if(this.pos=0,this.buffer=N,this.datav=new DataView(N.buffer),this.is_with_alpha=!!v,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ki(N){function v(vt){if(!vt)throw Error("assert :P")}function S(vt,ts,Xe){for(var rt=0;4>rt;rt++)if(vt[ts+rt]!=Xe.charCodeAt(rt))return!0;return!1}function I(vt,ts,Xe,rt,xt){for(var bt=0;bt<xt;bt++)vt[ts+bt]=Xe[rt+bt]}function P(vt,ts,Xe,rt){for(var xt=0;xt<rt;xt++)vt[ts+xt]=Xe}function V(vt){return new Int32Array(vt)}function de(vt,ts){for(var Xe=[],rt=0;rt<vt;rt++)Xe.push(new ts);return Xe}function q(vt,ts){var Xe=[];return(function rt(xt,bt,rs){for(var ds=rs[bt],bs=0;bs<ds&&(xt.push(rs.length>bt+1?[]:new ts),!(rs.length<bt+1));bs++)rt(xt[bs],bt+1,rs)})(Xe,0,vt),Xe}var ee=function(){var vt=this;function ts(C,D){for(var ne=1<<D-1>>>0;C&ne;)ne>>>=1;return ne?(C&ne-1)+ne:C}function Xe(C,D,ne,me,Ue){v(!(me%ne));do C[D+(me-=ne)]=Ue;while(0<me)}function rt(C,D,ne,me,Ue){if(v(2328>=Ue),512>=Ue)var Ie=V(512);else if((Ie=V(Ue))==null)return 0;return(function(Oe,He,Ke,nt,Ct,Wt){var st,Ft,_t=He,vs=1<<Ke,Zt=V(16),ys=V(16);for(v(Ct!=0),v(nt!=null),v(Oe!=null),v(0<Ke),Ft=0;Ft<Ct;++Ft){if(15<nt[Ft])return 0;++Zt[nt[Ft]]}if(Zt[0]==Ct)return 0;for(ys[1]=0,st=1;15>st;++st){if(Zt[st]>1<<st)return 0;ys[st+1]=ys[st]+Zt[st]}for(Ft=0;Ft<Ct;++Ft)st=nt[Ft],0<nt[Ft]&&(Wt[ys[st]++]=Ft);if(ys[15]==1)return(nt=new xt).g=0,nt.value=Wt[0],Xe(Oe,_t,1,vs,nt),vs;var ks,zs=-1,Ps=vs-1,$r=0,wr=1,Hn=1,Qr=1<<Ke;for(Ft=0,st=1,Ct=2;st<=Ke;++st,Ct<<=1){if(wr+=Hn<<=1,0>(Hn-=Zt[st]))return 0;for(;0<Zt[st];--Zt[st])(nt=new xt).g=st,nt.value=Wt[Ft++],Xe(Oe,_t+$r,Ct,Qr,nt),$r=ts($r,st)}for(st=Ke+1,Ct=2;15>=st;++st,Ct<<=1){if(wr+=Hn<<=1,0>(Hn-=Zt[st]))return 0;for(;0<Zt[st];--Zt[st]){if(nt=new xt,($r&Ps)!=zs){for(_t+=Qr,ks=1<<(zs=st)-Ke;15>zs&&!(0>=(ks-=Zt[zs]));)++zs,ks<<=1;vs+=Qr=1<<(ks=zs-Ke),Oe[He+(zs=$r&Ps)].g=ks+Ke,Oe[He+zs].value=_t-He-zs}nt.g=st-Ke,nt.value=Wt[Ft++],Xe(Oe,_t+($r>>Ke),Ct,Qr,nt),$r=ts($r,st)}}return wr!=2*ys[15]-1?0:vs})(C,D,ne,me,Ue,Ie)}function xt(){this.value=this.g=0}function bt(){this.value=this.g=0}function rs(){this.G=de(5,xt),this.H=V(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=de(Qn,bt)}function ds(C,D,ne,me){v(C!=null),v(D!=null),v(2147483648>me),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=D,C.pa=ne,C.Jd=D,C.Yc=ne+me,C.Zc=4<=me?ne+me-4+1:ne,ps(C)}function bs(C,D){for(var ne=0;0<D--;)ne|=Ls(C,128)<<D;return ne}function Kt(C,D){var ne=bs(C,D);return gs(C)?-ne:ne}function fs(C,D,ne,me){var Ue,Ie=0;for(v(C!=null),v(D!=null),v(4294967288>me),C.Sb=me,C.Ra=0,C.u=0,C.h=0,4<me&&(me=4),Ue=0;Ue<me;++Ue)Ie+=D[ne+Ue]<<8*Ue;C.Ra=Ie,C.bb=me,C.oa=D,C.pa=ne}function Xs(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<yo-8>>>0,++C.bb,C.u-=8;Ot(C)&&(C.h=1,C.u=0)}function _s(C,D){if(v(0<=D),!C.h&&D<=on){var ne=ht(C)&Tr[D];return C.u+=D,Xs(C),ne}return C.h=1,C.u=0}function _e(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function dt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ht(C){return C.Ra>>>(C.u&yo-1)>>>0}function Ot(C){return v(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>yo}function Pt(C,D){C.u=D,C.h=Ot(C)}function Yt(C){C.u>=ec&&(v(C.u>=ec),Xs(C))}function ps(C){v(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(v(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function gs(C){return bs(C,1)}function Ls(C,D){var ne=C.Ca;0>C.b&&ps(C);var me=C.b,Ue=ne*D>>>8,Ie=(C.I>>>me>Ue)+0;for(Ie?(ne-=Ue,C.I-=Ue+1<<me>>>0):ne=Ue+1,me=ne,Ue=0;256<=me;)Ue+=8,me>>=8;return me=7^Ue+wl[me],C.b-=me,C.Ca=(ne<<me)-1,Ie}function Js(C,D,ne){C[D+0]=ne>>24&255,C[D+1]=ne>>16&255,C[D+2]=ne>>8&255,C[D+3]=255&ne}function xr(C,D){return C[D+0]|C[D+1]<<8}function mr(C,D){return xr(C,D)|C[D+2]<<16}function Yr(C,D){return xr(C,D)|xr(C,D+2)<<16}function tt(C,D){var ne=1<<D;return v(C!=null),v(0<D),C.X=V(ne),C.X==null?0:(C.Mb=32-D,C.Xa=D,1)}function lr(C,D){v(C!=null),v(D!=null),v(C.Xa==D.Xa),I(D.X,0,C.X,0,1<<D.Xa)}function un(){this.X=[],this.Xa=this.Mb=0}function rr(C,D,ne,me){v(ne!=null),v(me!=null);var Ue=ne[0],Ie=me[0];return Ue==0&&(Ue=(C*Ie+D/2)/D),Ie==0&&(Ie=(D*Ue+C/2)/C),0>=Ue||0>=Ie?0:(ne[0]=Ue,me[0]=Ie,1)}function Hs(C,D){return C+(1<<D)-1>>>D}function sn(C,D){return((4278255360&C)+(4278255360&D)>>>0&4278255360)+((16711935&C)+(16711935&D)>>>0&16711935)>>>0}function yr(C,D){vt[D]=function(ne,me,Ue,Ie,Oe,He,Ke){var nt;for(nt=0;nt<Oe;++nt){var Ct=vt[C](He[Ke+nt-1],Ue,Ie+nt);He[Ke+nt]=sn(ne[me+nt],Ct)}}}function Vr(){this.ud=this.hd=this.jd=0}function Ir(C,D){return((4278124286&(C^D))>>>1)+(C&D)>>>0}function Ca(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Sn(C,D){return Ca(C+(C-D+.5>>1))}function Cr(C,D,ne){return Math.abs(D-ne)-Math.abs(C-ne)}function $n(C,D,ne,me,Ue,Ie,Oe){for(me=Ie[Oe-1],ne=0;ne<Ue;++ne)Ie[Oe+ne]=me=sn(C[D+ne],me)}function Xr(C,D,ne,me,Ue){var Ie;for(Ie=0;Ie<ne;++Ie){var Oe=C[D+Ie],He=Oe>>8&255,Ke=16711935&(Ke=(Ke=16711935&Oe)+((He<<16)+He));me[Ue+Ie]=(4278255360&Oe)+Ke>>>0}}function Br(C,D){D.jd=255&C,D.hd=C>>8&255,D.ud=C>>16&255}function nn(C,D,ne,me,Ue,Ie){var Oe;for(Oe=0;Oe<me;++Oe){var He=D[ne+Oe],Ke=He>>>8,nt=He,Ct=255&(Ct=(Ct=He>>>16)+((C.jd<<24>>24)*(Ke<<24>>24)>>>5));nt=255&(nt=(nt+=(C.hd<<24>>24)*(Ke<<24>>24)>>>5)+((C.ud<<24>>24)*(Ct<<24>>24)>>>5)),Ue[Ie+Oe]=(4278255360&He)+(Ct<<16)+nt}}function Dr(C,D,ne,me,Ue){vt[D]=function(Ie,Oe,He,Ke,nt,Ct,Wt,st,Ft){for(Ke=Wt;Ke<st;++Ke)for(Wt=0;Wt<Ft;++Wt)nt[Ct++]=Ue(He[me(Ie[Oe++])])},vt[C]=function(Ie,Oe,He,Ke,nt,Ct,Wt){var st=8>>Ie.b,Ft=Ie.Ea,_t=Ie.K[0],vs=Ie.w;if(8>st)for(Ie=(1<<Ie.b)-1,vs=(1<<st)-1;Oe<He;++Oe){var Zt,ys=0;for(Zt=0;Zt<Ft;++Zt)Zt&Ie||(ys=me(Ke[nt++])),Ct[Wt++]=Ue(_t[ys&vs]),ys>>=st}else vt["VP8LMapColor"+ne](Ke,nt,_t,vs,Ct,Wt,Oe,He,Ft)}}function vn(C,D,ne,me,Ue){for(ne=D+ne;D<ne;){var Ie=C[D++];me[Ue++]=Ie>>16&255,me[Ue++]=Ie>>8&255,me[Ue++]=255&Ie}}function Yn(C,D,ne,me,Ue){for(ne=D+ne;D<ne;){var Ie=C[D++];me[Ue++]=Ie>>16&255,me[Ue++]=Ie>>8&255,me[Ue++]=255&Ie,me[Ue++]=Ie>>24&255}}function En(C,D,ne,me,Ue){for(ne=D+ne;D<ne;){var Ie=(Oe=C[D++])>>16&240|Oe>>12&15,Oe=240&Oe|Oe>>28&15;me[Ue++]=Ie,me[Ue++]=Oe}}function Pn(C,D,ne,me,Ue){for(ne=D+ne;D<ne;){var Ie=(Oe=C[D++])>>16&248|Oe>>13&7,Oe=Oe>>5&224|Oe>>3&31;me[Ue++]=Ie,me[Ue++]=Oe}}function Wa(C,D,ne,me,Ue){for(ne=D+ne;D<ne;){var Ie=C[D++];me[Ue++]=255&Ie,me[Ue++]=Ie>>8&255,me[Ue++]=Ie>>16&255}}function Kr(C,D,ne,me,Ue,Ie){if(Ie==0)for(ne=D+ne;D<ne;)Js(me,((Ie=C[D++])[0]>>24|Ie[1]>>8&65280|Ie[2]<<8&16711680|Ie[3]<<24)>>>0),Ue+=32;else I(me,Ue,C,D,ne)}function _a(C,D){vt[D][0]=vt[C+"0"],vt[D][1]=vt[C+"1"],vt[D][2]=vt[C+"2"],vt[D][3]=vt[C+"3"],vt[D][4]=vt[C+"4"],vt[D][5]=vt[C+"5"],vt[D][6]=vt[C+"6"],vt[D][7]=vt[C+"7"],vt[D][8]=vt[C+"8"],vt[D][9]=vt[C+"9"],vt[D][10]=vt[C+"10"],vt[D][11]=vt[C+"11"],vt[D][12]=vt[C+"12"],vt[D][13]=vt[C+"13"],vt[D][14]=vt[C+"0"],vt[D][15]=vt[C+"0"]}function pn(C){return C==WA||C==mA||C==ju||C==YA}function Hr(){this.eb=[],this.size=this.A=this.fb=0}function Na(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Hr,this.f.kb=new Na,this.sd=null}function ir(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yc(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Ri(C,D){var ne=C.T,me=D.ba.f.RGBA,Ue=me.eb,Ie=me.fb+C.ka*me.A,Oe=kc[D.ba.S],He=C.y,Ke=C.O,nt=C.f,Ct=C.N,Wt=C.ea,st=C.W,Ft=D.cc,_t=D.dc,vs=D.Mc,Zt=D.Nc,ys=C.ka,ks=C.ka+C.T,zs=C.U,Ps=zs+1>>1;for(ys==0?Oe(He,Ke,null,null,nt,Ct,Wt,st,nt,Ct,Wt,st,Ue,Ie,null,null,zs):(Oe(D.ec,D.fc,He,Ke,Ft,_t,vs,Zt,nt,Ct,Wt,st,Ue,Ie-me.A,Ue,Ie,zs),++ne);ys+2<ks;ys+=2)Ft=nt,_t=Ct,vs=Wt,Zt=st,Ct+=C.Rc,st+=C.Rc,Ie+=2*me.A,Oe(He,(Ke+=2*C.fa)-C.fa,He,Ke,Ft,_t,vs,Zt,nt,Ct,Wt,st,Ue,Ie-me.A,Ue,Ie,zs);return Ke+=C.fa,C.j+ks<C.o?(I(D.ec,D.fc,He,Ke,zs),I(D.cc,D.dc,nt,Ct,Ps),I(D.Mc,D.Nc,Wt,st,Ps),ne--):1&ks||Oe(He,Ke,null,null,nt,Ct,Wt,st,nt,Ct,Wt,st,Ue,Ie+me.A,null,null,zs),ne}function lo(C,D,ne){var me=C.F,Ue=[C.J];if(me!=null){var Ie=C.U,Oe=D.ba.S,He=Oe==so||Oe==ju;D=D.ba.f.RGBA;var Ke=[0],nt=C.ka;Ke[0]=C.T,C.Kb&&(nt==0?--Ke[0]:(--nt,Ue[0]-=C.width),C.j+C.ka+C.T==C.o&&(Ke[0]=C.o-C.j-nt));var Ct=D.eb;nt=D.fb+nt*D.A,C=Rl(me,Ue[0],C.width,Ie,Ke,Ct,nt+(He?0:3),D.A),v(ne==Ke),C&&pn(Oe)&&Dd(Ct,nt,He,Ie,Ke,D.A)}return 0}function Gl(C){var D=C.ma,ne=D.ba.S,me=11>ne,Ue=ne==pA||ne==Iu||ne==so||ne==eu||ne==12||pn(ne);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!Ma(D.Oa,C,Ue?11:12))return 0;if(Ue&&pn(ne)&&it(),C.da)alert("todo:use_scaling");else{if(me){if(D.Ib=Yc,C.Kb){if(ne=C.U+1>>1,D.memory=V(C.U+2*ne),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+C.U,D.Mc=D.cc,D.Nc=D.dc+ne,D.Ib=Ri,it()}}else alert("todo:EmitYUV");Ue&&(D.Jb=lo,me&&Qe())}if(me&&!Xh){for(C=0;256>C;++C)rh[C]=89858*(C-128)+Cd>>tu,ih[C]=-22014*(C-128)+Cd,ah[C]=-45773*(C-128),nh[C]=113618*(C-128)+Cd>>tu;for(C=Qu;C<sh;++C)D=76283*(C-16)+Cd>>tu,oh[C-Qu]=bo(D,255),Jh[C-Qu]=bo(D+8>>4,15);Xh=1}return 1}function an(C){var D=C.ma,ne=C.U,me=C.T;return v(!(1&C.ka)),0>=ne||0>=me?0:(ne=D.Ib(C,D),D.Jb!=null&&D.Jb(C,D,ne),D.Dc+=ne,1)}function li(C){C.ma.memory=null}function mi(C,D,ne,me){return _s(C,8)!=47?0:(D[0]=_s(C,14)+1,ne[0]=_s(C,14)+1,me[0]=_s(C,1),_s(C,3)!=0?0:!C.h)}function tl(C,D){if(4>C)return C+1;var ne=C-2>>1;return(2+(1&C)<<ne)+_s(D,ne)+1}function Lo(C,D){return 120<D?D-120:1<=(ne=((ne=XA[D-1])>>4)*C+(8-(15&ne)))?ne:1;var ne}function Pa(C,D,ne){var me=ht(ne),Ue=C[D+=255&me].g-8;return 0<Ue&&(Pt(ne,ne.u+8),me=ht(ne),D+=C[D].value,D+=me&(1<<Ue)-1),Pt(ne,ne.u+C[D].g),C[D].value}function gi(C,D,ne){return ne.g+=C.g,ne.value+=C.value<<D>>>0,v(8>=ne.g),C.g}function ci(C,D,ne){var me=C.xc;return v((D=me==0?0:C.vc[C.md*(ne>>me)+(D>>me)])<C.Wb),C.Ya[D]}function Fl(C,D,ne,me){var Ue=C.ab,Ie=C.c*D,Oe=C.C;D=Oe+D;var He=ne,Ke=me;for(me=C.Ta,ne=C.Ua;0<Ue--;){var nt=C.gc[Ue],Ct=Oe,Wt=D,st=He,Ft=Ke,_t=(Ke=me,He=ne,nt.Ea);switch(v(Ct<Wt),v(Wt<=nt.nc),nt.hc){case 2:Ya(st,Ft,(Wt-Ct)*_t,Ke,He);break;case 0:var vs=Ct,Zt=Wt,ys=Ke,ks=He,zs=(Qr=nt).Ea;vs==0&&(Xi(st,Ft,null,null,1,ys,ks),$n(st,Ft+1,0,0,zs-1,ys,ks+1),Ft+=zs,ks+=zs,++vs);for(var Ps=1<<Qr.b,$r=Ps-1,wr=Hs(zs,Qr.b),Hn=Qr.K,Qr=Qr.w+(vs>>Qr.b)*wr;vs<Zt;){var ca=Hn,ro=Qr,Mn=1;for(wo(st,Ft,ys,ks-zs,1,ys,ks);Mn<zs;){var Rr=(Mn&~$r)+Ps;Rr>zs&&(Rr=zs),(0,vi[ca[ro++]>>8&15])(st,Ft+ +Mn,ys,ks+Mn-zs,Rr-Mn,ys,ks+Mn),Mn=Rr}Ft+=zs,ks+=zs,++vs&$r||(Qr+=wr)}Wt!=nt.nc&&I(Ke,He-_t,Ke,He+(Wt-Ct-1)*_t,_t);break;case 1:for(_t=st,Zt=Ft,zs=(st=nt.Ea)-(ks=st&~(ys=(Ft=1<<nt.b)-1)),vs=Hs(st,nt.b),Ps=nt.K,nt=nt.w+(Ct>>nt.b)*vs;Ct<Wt;){for($r=Ps,wr=nt,Hn=new Vr,Qr=Zt+ks,ca=Zt+st;Zt<Qr;)Br($r[wr++],Hn),qd(Hn,_t,Zt,Ft,Ke,He),Zt+=Ft,He+=Ft;Zt<ca&&(Br($r[wr++],Hn),qd(Hn,_t,Zt,zs,Ke,He),Zt+=zs,He+=zs),++Ct&ys||(nt+=vs)}break;case 3:if(st==Ke&&Ft==He&&0<nt.b){for(Zt=Ke,st=_t=He+(Wt-Ct)*_t-(ks=(Wt-Ct)*Hs(nt.Ea,nt.b)),Ft=Ke,ys=He,vs=[],ks=(zs=ks)-1;0<=ks;--ks)vs[ks]=Ft[ys+ks];for(ks=zs-1;0<=ks;--ks)Zt[st+ks]=vs[ks];Mu(nt,Ct,Wt,Ke,_t,Ke,He)}else Mu(nt,Ct,Wt,st,Ft,Ke,He)}He=me,Ke=ne}Ke!=ne&&I(me,ne,He,Ke,Ie)}function Pi(C,D){var ne=C.V,me=C.Ba+C.c*C.C,Ue=D-C.C;if(v(D<=C.l.o),v(16>=Ue),0<Ue){var Ie=C.l,Oe=C.Ta,He=C.Ua,Ke=Ie.width;if(Fl(C,Ue,ne,me),Ue=He=[He],v((ne=C.C)<(me=D)),v(Ie.v<Ie.va),me>Ie.o&&(me=Ie.o),ne<Ie.j){var nt=Ie.j-ne;ne=Ie.j,Ue[0]+=nt*Ke}if(ne>=me?ne=0:(Ue[0]+=4*Ie.v,Ie.ka=ne-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=me-ne,ne=1),ne){if(He=He[0],11>(ne=C.ca).S){var Ct=ne.f.RGBA,Wt=(me=ne.S,Ue=Ie.U,Ie=Ie.T,nt=Ct.eb,Ct.A),st=Ie;for(Ct=Ct.fb+C.Ma*Ct.A;0<st--;){var Ft=Oe,_t=He,vs=Ue,Zt=nt,ys=Ct;switch(me){case wu:yc(Ft,_t,vs,Zt,ys);break;case pA:yn(Ft,_t,vs,Zt,ys);break;case WA:yn(Ft,_t,vs,Zt,ys),Dd(Zt,ys,0,vs,1,0);break;case KA:wd(Ft,_t,vs,Zt,ys);break;case Iu:Kr(Ft,_t,vs,Zt,ys,1);break;case mA:Kr(Ft,_t,vs,Zt,ys,1),Dd(Zt,ys,0,vs,1,0);break;case so:Kr(Ft,_t,vs,Zt,ys,0);break;case ju:Kr(Ft,_t,vs,Zt,ys,0),Dd(Zt,ys,1,vs,1,0);break;case eu:ma(Ft,_t,vs,Zt,ys);break;case YA:ma(Ft,_t,vs,Zt,ys),AA(Zt,ys,vs,1,0);break;case GA:ri(Ft,_t,vs,Zt,ys);break;default:v(0)}He+=Ke,Ct+=Wt}C.Ma+=Ie}else alert("todo:EmitRescaledRowsYUVA");v(C.Ma<=ne.height)}}C.C=D,v(C.C<=C.i)}function fl(C){var D;if(0<C.ua)return 0;for(D=0;D<C.Wb;++D){var ne=C.Ya[D].G,me=C.Ya[D].H;if(0<ne[1][me[1]+0].g||0<ne[2][me[2]+0].g||0<ne[3][me[3]+0].g)return 0}return 1}function go(C,D,ne,me,Ue,Ie){if(C.Z!=0){var Oe=C.qd,He=C.rd;for(v(Nd[C.Z]!=null);D<ne;++D)Nd[C.Z](Oe,He,me,Ue,me,Ue,Ie),Oe=me,He=Ue,Ue+=Ie;C.qd=Oe,C.rd=He}}function Ll(C,D){var ne=C.l.ma,me=ne.Z==0||ne.Z==1?C.l.j:C.C;if(me=C.C<me?me:C.C,v(D<=C.l.o),D>me){var Ue=C.l.width,Ie=ne.ca,Oe=ne.tb+Ue*me,He=C.V,Ke=C.Ba+C.c*me,nt=C.gc;v(C.ab==1),v(nt[0].hc==3),ol(nt[0],me,D,He,Ke,Ie,Oe),go(ne,me,D,Ie,Oe,Ue)}C.C=C.Ma=D}function Mo(C,D,ne,me,Ue,Ie,Oe){var He=C.$/me,Ke=C.$%me,nt=C.m,Ct=C.s,Wt=ne+C.$,st=Wt;Ue=ne+me*Ue;var Ft=ne+me*Ie,_t=280+Ct.ua,vs=C.Pb?He:16777216,Zt=0<Ct.ua?Ct.Wa:null,ys=Ct.wc,ks=Wt<Ft?ci(Ct,Ke,He):null;v(C.C<Ie),v(Ft<=Ue);var zs=!1;e:for(;;){for(;zs||Wt<Ft;){var Ps=0;if(He>=vs){var $r=Wt-ne;v((vs=C).Pb),vs.wd=vs.m,vs.xd=$r,0<vs.s.ua&&lr(vs.s.Wa,vs.s.vb),vs=He+Kh}if(Ke&ys||(ks=ci(Ct,Ke,He)),v(ks!=null),ks.Qb&&(D[Wt]=ks.qb,zs=!0),!zs)if(Yt(nt),ks.jc){Ps=nt,$r=D;var wr=Wt,Hn=ks.pd[ht(Ps)&Qn-1];v(ks.jc),256>Hn.g?(Pt(Ps,Ps.u+Hn.g),$r[wr]=Hn.value,Ps=0):(Pt(Ps,Ps.u+Hn.g-256),v(256<=Hn.value),Ps=Hn.value),Ps==0&&(zs=!0)}else Ps=Pa(ks.G[0],ks.H[0],nt);if(nt.h)break;if(zs||256>Ps){if(!zs)if(ks.nd)D[Wt]=(ks.qb|Ps<<8)>>>0;else{if(Yt(nt),zs=Pa(ks.G[1],ks.H[1],nt),Yt(nt),$r=Pa(ks.G[2],ks.H[2],nt),wr=Pa(ks.G[3],ks.H[3],nt),nt.h)break;D[Wt]=(wr<<24|zs<<16|Ps<<8|$r)>>>0}if(zs=!1,++Wt,++Ke>=me&&(Ke=0,++He,Oe!=null&&He<=Ie&&!(He%16)&&Oe(C,He),Zt!=null))for(;st<Wt;)Ps=D[st++],Zt.X[(506832829*Ps&4294967295)>>>Zt.Mb]=Ps}else if(280>Ps){if(Ps=tl(Ps-256,nt),$r=Pa(ks.G[4],ks.H[4],nt),Yt(nt),$r=Lo(me,$r=tl($r,nt)),nt.h)break;if(Wt-ne<$r||Ue-Wt<Ps)break e;for(wr=0;wr<Ps;++wr)D[Wt+wr]=D[Wt+wr-$r];for(Wt+=Ps,Ke+=Ps;Ke>=me;)Ke-=me,++He,Oe!=null&&He<=Ie&&!(He%16)&&Oe(C,He);if(v(Wt<=Ue),Ke&ys&&(ks=ci(Ct,Ke,He)),Zt!=null)for(;st<Wt;)Ps=D[st++],Zt.X[(506832829*Ps&4294967295)>>>Zt.Mb]=Ps}else{if(!(Ps<_t))break e;for(zs=Ps-280,v(Zt!=null);st<Wt;)Ps=D[st++],Zt.X[(506832829*Ps&4294967295)>>>Zt.Mb]=Ps;Ps=Wt,v(!(zs>>>($r=Zt).Xa)),D[Ps]=$r.X[zs],zs=!0}zs||v(nt.h==Ot(nt))}if(C.Pb&&nt.h&&Wt<Ue)v(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&lr(C.s.vb,C.s.Wa);else{if(nt.h)break e;Oe!=null&&Oe(C,He>Ie?Ie:He),C.a=0,C.$=Wt-ne}return 1}return C.a=3,0}function pl(C){v(C!=null),C.vc=null,C.yc=null,C.Ya=null;var D=C.Wa;D!=null&&(D.X=null),C.vb=null,v(C!=null)}function Xc(){var C=new mn;return C==null?null:(C.a=0,C.xb=bA,_a("Predictor","VP8LPredictors"),_a("Predictor","VP8LPredictors_C"),_a("PredictorAdd","VP8LPredictorsAdd"),_a("PredictorAdd","VP8LPredictorsAdd_C"),Ya=Xr,qd=nn,yc=vn,yn=Yn,ma=En,ri=Pn,wd=Wa,vt.VP8LMapColor32b=nd,vt.VP8LMapColor8b=ll,C)}function ml(C,D,ne,me,Ue){var Ie=1,Oe=[C],He=[D],Ke=me.m,nt=me.s,Ct=null,Wt=0;e:for(;;){if(ne)for(;Ie&&_s(Ke,1);){var st=Oe,Ft=He,_t=me,vs=1,Zt=_t.m,ys=_t.gc[_t.ab],ks=_s(Zt,2);if(_t.Oc&1<<ks)Ie=0;else{switch(_t.Oc|=1<<ks,ys.hc=ks,ys.Ea=st[0],ys.nc=Ft[0],ys.K=[null],++_t.ab,v(4>=_t.ab),ks){case 0:case 1:ys.b=_s(Zt,3)+2,vs=ml(Hs(ys.Ea,ys.b),Hs(ys.nc,ys.b),0,_t,ys.K),ys.K=ys.K[0];break;case 3:var zs,Ps=_s(Zt,8)+1,$r=16<Ps?0:4<Ps?1:2<Ps?2:3;if(st[0]=Hs(ys.Ea,$r),ys.b=$r,zs=vs=ml(Ps,1,0,_t,ys.K)){var wr,Hn=Ps,Qr=ys,ca=1<<(8>>Qr.b),ro=V(ca);if(ro==null)zs=0;else{var Mn=Qr.K[0],Rr=Qr.w;for(ro[0]=Qr.K[0][0],wr=1;wr<1*Hn;++wr)ro[wr]=sn(Mn[Rr+wr],ro[wr-1]);for(;wr<4*ca;++wr)ro[wr]=0;Qr.K[0]=null,Qr.K[0]=ro,zs=1}}vs=zs;break;case 2:break;default:v(0)}Ie=vs}}if(Oe=Oe[0],He=He[0],Ie&&_s(Ke,1)&&!(Ie=1<=(Wt=_s(Ke,4))&&11>=Wt)){me.a=3;break e}var dr;if(dr=Ie)t:{var _i,On,Vn,ni=me,jo=Oe,Ho=He,Oa=Wt,zo=ne,jl=ni.m,Hi=ni.s,ia=[null],cn=1,Zi=0,$a=JA[Oa];s:for(;;){if(zo&&_s(jl,1)){var $o=_s(jl,3)+2,dl=Hs(jo,$o),Xa=Hs(Ho,$o),ul=dl*Xa;if(!ml(dl,Xa,0,ni,ia))break s;for(ia=ia[0],Hi.xc=$o,_i=0;_i<ul;++_i){var Ja=ia[_i]>>8&65535;ia[_i]=Ja,Ja>=cn&&(cn=Ja+1)}}if(jl.h)break s;for(On=0;5>On;++On){var Ws=Vh[On];!On&&0<Oa&&(Ws+=1<<Oa),Zi<Ws&&(Zi=Ws)}var ai=de(cn*$a,xt),No=cn,di=de(No,rs);if(di==null)var nc=null;else v(65536>=No),nc=di;var Fn=V(Zi);if(nc==null||Fn==null||ai==null){ni.a=1;break s}var ea=ai;for(_i=Vn=0;_i<cn;++_i){var Sa=nc[_i],ac=Sa.G,qi=Sa.H,ui=0,ic=1,Vo=0;for(On=0;5>On;++On){Ws=Vh[On],ac[On]=ea,qi[On]=Vn,!On&&0<Oa&&(Ws+=1<<Oa);n:{var no,lh=Ws,NA=ni,ku=Fn,Ui=ea,Pl=Vn,Qc=0,id=NA.m,Zh=_s(id,1);if(P(ku,0,0,lh),Zh){var If=_s(id,1)+1,Df=_s(id,1),kA=_s(id,Df==0?1:8);ku[kA]=1,If==2&&(ku[kA=_s(id,8)]=1);var Al=1}else{var _c=V(19),Hu=_s(id,4)+4;if(19<Hu){NA.a=3;var Za=0;break n}for(no=0;no<Hu;++no)_c[Tf[no]]=_s(id,3);var CA=void 0,Nl=void 0,su=NA,Pd=_c,ru=lh,Qd=ku,kl=0,_d=su.m,Hc=8,zu=de(128,xt);r:for(;rt(zu,0,7,Pd,19);){if(_s(_d,1)){var BA=2+2*_s(_d,3);if((CA=2+_s(_d,BA))>ru)break r}else CA=ru;for(Nl=0;Nl<ru&&CA--;){Yt(_d);var nu=zu[0+(127&ht(_d))];Pt(_d,_d.u+nu.g);var Cu=nu.value;if(16>Cu)Qd[Nl++]=Cu,Cu!=0&&(Hc=Cu);else{var qh=Cu==16,$u=Cu-16,Rf=Np[$u],SA=_s(_d,Ef[$u])+Rf;if(Nl+SA>ru)break r;for(var Pf=qh?Hc:0;0<SA--;)Qd[Nl++]=Pf}}kl=1;break r}kl||(su.a=3),Al=kl}(Al=Al&&!id.h)&&(Qc=rt(Ui,Pl,8,ku,lh)),Al&&Qc!=0?Za=Qc:(NA.a=3,Za=0)}if(Za==0)break s;if(ic&&Du[On]==1&&(ic=ea[Vn].g==0),ui+=ea[Vn].g,Vn+=Za,3>=On){var EA,ef=Fn[0];for(EA=1;EA<Ws;++EA)Fn[EA]>ef&&(ef=Fn[EA]);Vo+=ef}}if(Sa.nd=ic,Sa.Qb=0,ic&&(Sa.qb=(ac[3][qi[3]+0].value<<24|ac[1][qi[1]+0].value<<16|ac[2][qi[2]+0].value)>>>0,ui==0&&256>ac[0][qi[0]+0].value&&(Sa.Qb=1,Sa.qb+=ac[0][qi[0]+0].value<<8)),Sa.jc=!Sa.Qb&&6>Vo,Sa.jc){var va,ga=Sa;for(va=0;va<Qn;++va){var In=va,zn=ga.pd[In],Ea=ga.G[0][ga.H[0]+In];256<=Ea.value?(zn.g=Ea.g+256,zn.value=Ea.value):(zn.g=0,zn.value=0,In>>=gi(Ea,8,zn),In>>=gi(ga.G[1][ga.H[1]+In],16,zn),In>>=gi(ga.G[2][ga.H[2]+In],0,zn),gi(ga.G[3][ga.H[3]+In],24,zn))}}}Hi.vc=ia,Hi.Wb=cn,Hi.Ya=nc,Hi.yc=ai,dr=1;break t}dr=0}if(!(Ie=dr)){me.a=3;break e}if(0<Wt){if(nt.ua=1<<Wt,!tt(nt.Wa,Wt)){me.a=1,Ie=0;break e}}else nt.ua=0;var Ql=me,Hd=Oe,Vu=He,B=Ql.s,w=B.xc;if(Ql.c=Hd,Ql.i=Vu,B.md=Hs(Hd,w),B.wc=w==0?-1:(1<<w)-1,ne){me.xb=Lf;break e}if((Ct=V(Oe*He))==null){me.a=1,Ie=0;break e}Ie=(Ie=Mo(me,Ct,0,Oe,He,He,null))&&!Ke.h;break e}return Ie?(Ue!=null?Ue[0]=Ct:(v(Ct==null),v(ne)),me.$=0,ne||pl(nt)):pl(nt),Ie}function Oo(C,D){var ne=C.c*C.i,me=ne+D+16*D;return v(C.c<=D),C.V=V(me),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+ne+D,1)}function Fc(C,D){var ne=C.C,me=D-ne,Ue=C.V,Ie=C.Ba+C.c*ne;for(v(D<=C.l.o);0<me;){var Oe=16<me?16:me,He=C.l.ma,Ke=C.l.width,nt=Ke*Oe,Ct=He.ca,Wt=He.tb+Ke*ne,st=C.Ta,Ft=C.Ua;Fl(C,Oe,Ue,Ie),Rc(st,Ft,Ct,Wt,nt),go(He,ne,ne+Oe,Ct,Wt,Ke),me-=Oe,Ue+=Oe*C.c,ne+=Oe}v(ne==D),C.C=C.Ma=D}function Jc(){this.ub=this.yd=this.td=this.Rb=0}function gc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function sl(){this.Fb=this.Bb=this.Cb=0,this.Zb=V(4),this.Lb=V(4)}function Lc(){this.Yb=(function(){var C=[];return(function D(ne,me,Ue){for(var Ie=Ue[me],Oe=0;Oe<Ie&&(ne.push(Ue.length>me+1?[]:0),!(Ue.length<me+1));Oe++)D(ne[Oe],me+1,Ue)})(C,0,[3,11]),C})()}function Io(){this.jb=V(3),this.Wc=q([4,8],Lc),this.Xc=q([4,17],Lc)}function Ml(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new V(4),this.od=new V(4)}function xo(){this.ld=this.La=this.dd=this.tc=0}function xc(){this.Na=this.la=0}function Mc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ad(){this.ad=V(384),this.Za=0,this.Ob=V(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wl(){this.uc=this.M=this.Nb=0,this.wa=Array(new xo),this.Y=0,this.ya=Array(new Ad),this.aa=0,this.l=new Od}function Jd(){this.y=V(16),this.f=V(8),this.ea=V(8)}function hd(){this.cb=this.a=0,this.sc="",this.m=new _e,this.Od=new Jc,this.Kc=new gc,this.ed=new Ml,this.Qa=new sl,this.Ic=this.$c=this.Aa=0,this.D=new Wl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=de(8,_e),this.ia=0,this.pb=de(4,Mc),this.Pa=new Io,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Jd),this.Hd=0,this.rb=Array(new xc),this.sb=0,this.wa=Array(new xo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ad),this.L=this.aa=0,this.gd=q([4,2],xo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bo(C,D){return 0>C?0:C>D?D:C}function Od(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Do(){var C=new hd;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,Nu||(Nu=Xl)),C}function An(C,D,ne){return C.a==0&&(C.a=D,C.sc=ne,C.cb=0),0}function Ol(C,D,ne){return 3<=ne&&C[D+0]==157&&C[D+1]==1&&C[D+2]==42}function Yl(C,D){if(C==null)return 0;if(C.a=0,C.sc="OK",D==null)return An(C,2,"null VP8Io passed to VP8GetHeaders()");var ne=D.data,me=D.w,Ue=D.ha;if(4>Ue)return An(C,7,"Truncated header.");var Ie=ne[me+0]|ne[me+1]<<8|ne[me+2]<<16,Oe=C.Od;if(Oe.Rb=!(1&Ie),Oe.td=Ie>>1&7,Oe.yd=Ie>>4&1,Oe.ub=Ie>>5,3<Oe.td)return An(C,3,"Incorrect keyframe parameters.");if(!Oe.yd)return An(C,4,"Frame not displayable.");me+=3,Ue-=3;var He=C.Kc;if(Oe.Rb){if(7>Ue)return An(C,7,"cannot parse picture header");if(!Ol(ne,me,Ue))return An(C,3,"Bad code word");He.c=16383&(ne[me+4]<<8|ne[me+3]),He.Td=ne[me+4]>>6,He.i=16383&(ne[me+6]<<8|ne[me+5]),He.Ud=ne[me+6]>>6,me+=7,Ue-=7,C.za=He.c+15>>4,C.Ub=He.i+15>>4,D.width=He.c,D.height=He.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,P((Ie=C.Pa).jb,0,255,Ie.jb.length),v((Ie=C.Qa)!=null),Ie.Cb=0,Ie.Bb=0,Ie.Fb=1,P(Ie.Zb,0,0,Ie.Zb.length),P(Ie.Lb,0,0,Ie.Lb)}if(Oe.ub>Ue)return An(C,7,"bad partition length");ds(Ie=C.m,ne,me,Oe.ub),me+=Oe.ub,Ue-=Oe.ub,Oe.Rb&&(He.Ld=gs(Ie),He.Kd=gs(Ie)),He=C.Qa;var Ke,nt=C.Pa;if(v(Ie!=null),v(He!=null),He.Cb=gs(Ie),He.Cb){if(He.Bb=gs(Ie),gs(Ie)){for(He.Fb=gs(Ie),Ke=0;4>Ke;++Ke)He.Zb[Ke]=gs(Ie)?Kt(Ie,7):0;for(Ke=0;4>Ke;++Ke)He.Lb[Ke]=gs(Ie)?Kt(Ie,6):0}if(He.Bb)for(Ke=0;3>Ke;++Ke)nt.jb[Ke]=gs(Ie)?bs(Ie,8):255}else He.Bb=0;if(Ie.Ka)return An(C,3,"cannot parse segment header");if((He=C.ed).zd=gs(Ie),He.Tb=bs(Ie,6),He.wb=bs(Ie,3),He.Pc=gs(Ie),He.Pc&&gs(Ie)){for(nt=0;4>nt;++nt)gs(Ie)&&(He.vd[nt]=Kt(Ie,6));for(nt=0;4>nt;++nt)gs(Ie)&&(He.od[nt]=Kt(Ie,6))}if(C.L=He.Tb==0?0:He.zd?1:2,Ie.Ka)return An(C,3,"cannot parse filter header");var Ct=Ue;if(Ue=Ke=me,me=Ke+Ct,He=Ct,C.Xb=(1<<bs(C.m,2))-1,Ct<3*(nt=C.Xb))ne=7;else{for(Ke+=3*nt,He-=3*nt,Ct=0;Ct<nt;++Ct){var Wt=ne[Ue+0]|ne[Ue+1]<<8|ne[Ue+2]<<16;Wt>He&&(Wt=He),ds(C.Jc[+Ct],ne,Ke,Wt),Ke+=Wt,He-=Wt,Ue+=3}ds(C.Jc[+nt],ne,Ke,He),ne=Ke<me?0:5}if(ne!=0)return An(C,ne,"cannot parse partitions");for(ne=bs(Ke=C.m,7),Ue=gs(Ke)?Kt(Ke,4):0,me=gs(Ke)?Kt(Ke,4):0,He=gs(Ke)?Kt(Ke,4):0,nt=gs(Ke)?Kt(Ke,4):0,Ke=gs(Ke)?Kt(Ke,4):0,Ct=C.Qa,Wt=0;4>Wt;++Wt){if(Ct.Cb){var st=Ct.Zb[Wt];Ct.Fb||(st+=ne)}else{if(0<Wt){C.pb[Wt]=C.pb[0];continue}st=ne}var Ft=C.pb[Wt];Ft.Sc[0]=Ru[bo(st+Ue,127)],Ft.Sc[1]=ZA[bo(st+0,127)],Ft.Eb[0]=2*Ru[bo(st+me,127)],Ft.Eb[1]=101581*ZA[bo(st+He,127)]>>16,8>Ft.Eb[1]&&(Ft.Eb[1]=8),Ft.Qc[0]=Ru[bo(st+nt,117)],Ft.Qc[1]=ZA[bo(st+Ke,127)],Ft.lc=st+Ke}if(!Oe.Rb)return An(C,4,"Not a key frame.");for(gs(Ie),Oe=C.Pa,ne=0;4>ne;++ne){for(Ue=0;8>Ue;++Ue)for(me=0;3>me;++me)for(He=0;11>He;++He)nt=Ls(Ie,gA[ne][Ue][me][He])?bs(Ie,8):Ff[ne][Ue][me][He],Oe.Wc[ne][Ue].Yb[me][He]=nt;for(Ue=0;17>Ue;++Ue)Oe.Xc[ne][Ue]=Oe.Wc[ne][xA[Ue]]}return C.kc=gs(Ie),C.kc&&(C.Bd=bs(Ie,8)),C.cb=1}function Xl(C,D,ne,me,Ue,Ie,Oe){var He=D[Ue].Yb[ne];for(ne=0;16>Ue;++Ue){if(!Ls(C,He[ne+0]))return Ue;for(;!Ls(C,He[ne+1]);)if(He=D[++Ue].Yb[0],ne=0,Ue==16)return 16;var Ke=D[Ue+1].Yb;if(Ls(C,He[ne+2])){var nt=C,Ct=0;if(Ls(nt,(st=He)[(Wt=ne)+3]))if(Ls(nt,st[Wt+6])){for(He=0,Wt=2*(Ct=Ls(nt,st[Wt+8]))+(st=Ls(nt,st[Wt+9+Ct])),Ct=0,st=qA[Wt];st[He];++He)Ct+=Ct+Ls(nt,st[He]);Ct+=3+(8<<Wt)}else Ls(nt,st[Wt+7])?(Ct=7+2*Ls(nt,165),Ct+=Ls(nt,145)):Ct=5+Ls(nt,159);else Ct=Ls(nt,st[Wt+4])?3+Ls(nt,st[Wt+5]):2;He=Ke[2]}else Ct=1,He=Ke[1];Ke=Oe+Uf[Ue],0>(nt=C).b&&ps(nt);var Wt,st=nt.b,Ft=(Wt=nt.Ca>>1)-(nt.I>>st)>>31;--nt.b,nt.Ca+=Ft,nt.Ca|=1,nt.I-=(Wt+1&Ft)<<st,Ie[Ke]=((Ct^Ft)-Ft)*me[(0<Ue)+0]}return 16}function Oc(C){var D=C.rb[C.sb-1];D.la=0,D.Na=0,P(C.zc,0,0,C.zc.length),C.ja=0}function Il(C,D,ne,me,Ue){Ue=C[D+ne+32*me]+(Ue>>3),C[D+ne+32*me]=-256&Ue?0>Ue?0:255:Ue}function Gi(C,D,ne,me,Ue,Ie){Il(C,D,0,ne,me+Ue),Il(C,D,1,ne,me+Ie),Il(C,D,2,ne,me-Ie),Il(C,D,3,ne,me-Ue)}function Jl(C){return(20091*C>>16)+C}function fd(C,D,ne,me){var Ue,Ie=0,Oe=V(16);for(Ue=0;4>Ue;++Ue){var He=C[D+0]+C[D+8],Ke=C[D+0]-C[D+8],nt=(35468*C[D+4]>>16)-Jl(C[D+12]),Ct=Jl(C[D+4])+(35468*C[D+12]>>16);Oe[Ie+0]=He+Ct,Oe[Ie+1]=Ke+nt,Oe[Ie+2]=Ke-nt,Oe[Ie+3]=He-Ct,Ie+=4,D++}for(Ue=Ie=0;4>Ue;++Ue)He=(C=Oe[Ie+0]+4)+Oe[Ie+8],Ke=C-Oe[Ie+8],nt=(35468*Oe[Ie+4]>>16)-Jl(Oe[Ie+12]),Il(ne,me,0,0,He+(Ct=Jl(Oe[Ie+4])+(35468*Oe[Ie+12]>>16))),Il(ne,me,1,0,Ke+nt),Il(ne,me,2,0,Ke-nt),Il(ne,me,3,0,He-Ct),Ie++,me+=32}function Wi(C,D,ne,me){var Ue=C[D+0]+4,Ie=35468*C[D+4]>>16,Oe=Jl(C[D+4]),He=35468*C[D+1]>>16;Gi(ne,me,0,Ue+Oe,C=Jl(C[D+1]),He),Gi(ne,me,1,Ue+Ie,C,He),Gi(ne,me,2,Ue-Ie,C,He),Gi(ne,me,3,Ue-Oe,C,He)}function Zc(C,D,ne,me,Ue){fd(C,D,ne,me),Ue&&fd(C,D+16,ne,me+4)}function Ro(C,D,ne,me){wc(C,D+0,ne,me,1),wc(C,D+32,ne,me+128,1)}function pd(C,D,ne,me){var Ue;for(C=C[D+0]+4,Ue=0;4>Ue;++Ue)for(D=0;4>D;++D)Il(ne,me,D,Ue,C)}function Zl(C,D,ne,me){C[D+0]&&aa(C,D+0,ne,me),C[D+16]&&aa(C,D+16,ne,me+4),C[D+32]&&aa(C,D+32,ne,me+128),C[D+48]&&aa(C,D+48,ne,me+128+4)}function vo(C,D,ne,me){var Ue,Ie=V(16);for(Ue=0;4>Ue;++Ue){var Oe=C[D+0+Ue]+C[D+12+Ue],He=C[D+4+Ue]+C[D+8+Ue],Ke=C[D+4+Ue]-C[D+8+Ue],nt=C[D+0+Ue]-C[D+12+Ue];Ie[0+Ue]=Oe+He,Ie[8+Ue]=Oe-He,Ie[4+Ue]=nt+Ke,Ie[12+Ue]=nt-Ke}for(Ue=0;4>Ue;++Ue)Oe=(C=Ie[0+4*Ue]+3)+Ie[3+4*Ue],He=Ie[1+4*Ue]+Ie[2+4*Ue],Ke=Ie[1+4*Ue]-Ie[2+4*Ue],nt=C-Ie[3+4*Ue],ne[me+0]=Oe+He>>3,ne[me+16]=nt+Ke>>3,ne[me+32]=Oe-He>>3,ne[me+48]=nt-Ke>>3,me+=64}function to(C,D,ne){var me,Ue=D-32,Ie=rc,Oe=255-C[Ue-1];for(me=0;me<ne;++me){var He,Ke=Ie,nt=Oe+C[D-1];for(He=0;He<ne;++He)C[D+He]=Ke[nt+C[Ue+He]];D+=32}}function ql(C,D){to(C,D,4)}function gl(C,D){to(C,D,8)}function rl(C,D){to(C,D,16)}function xl(C,D){var ne;for(ne=0;16>ne;++ne)I(C,D+32*ne,C,D-32,16)}function gu(C,D){var ne;for(ne=16;0<ne;--ne)P(C,D,C[D-1],16),D+=32}function Dl(C,D,ne){var me;for(me=0;16>me;++me)P(D,ne+32*me,C,16)}function xu(C,D){var ne,me=16;for(ne=0;16>ne;++ne)me+=C[D-1+32*ne]+C[D+ne-32];Dl(me>>5,C,D)}function md(C,D){var ne,me=8;for(ne=0;16>ne;++ne)me+=C[D-1+32*ne];Dl(me>>4,C,D)}function Qi(C,D){var ne,me=8;for(ne=0;16>ne;++ne)me+=C[D+ne-32];Dl(me>>4,C,D)}function Ha(C,D){Dl(128,C,D)}function cr(C,D,ne){return C+2*D+ne+2>>2}function Ic(C,D){var ne,me=D-32;for(me=new Uint8Array([cr(C[me-1],C[me+0],C[me+1]),cr(C[me+0],C[me+1],C[me+2]),cr(C[me+1],C[me+2],C[me+3]),cr(C[me+2],C[me+3],C[me+4])]),ne=0;4>ne;++ne)I(C,D+32*ne,me,0,me.length)}function bl(C,D){var ne=C[D-1],me=C[D-1+32],Ue=C[D-1+64],Ie=C[D-1+96];Js(C,D+0,16843009*cr(C[D-1-32],ne,me)),Js(C,D+32,16843009*cr(ne,me,Ue)),Js(C,D+64,16843009*cr(me,Ue,Ie)),Js(C,D+96,16843009*cr(Ue,Ie,Ie))}function gd(C,D){var ne,me=4;for(ne=0;4>ne;++ne)me+=C[D+ne-32]+C[D-1+32*ne];for(me>>=3,ne=0;4>ne;++ne)P(C,D+32*ne,me,4)}function Po(C,D){var ne=C[D-1+0],me=C[D-1+32],Ue=C[D-1+64],Ie=C[D-1-32],Oe=C[D+0-32],He=C[D+1-32],Ke=C[D+2-32],nt=C[D+3-32];C[D+0+96]=cr(me,Ue,C[D-1+96]),C[D+1+96]=C[D+0+64]=cr(ne,me,Ue),C[D+2+96]=C[D+1+64]=C[D+0+32]=cr(Ie,ne,me),C[D+3+96]=C[D+2+64]=C[D+1+32]=C[D+0+0]=cr(Oe,Ie,ne),C[D+3+64]=C[D+2+32]=C[D+1+0]=cr(He,Oe,Ie),C[D+3+32]=C[D+2+0]=cr(Ke,He,Oe),C[D+3+0]=cr(nt,Ke,He)}function Dc(C,D){var ne=C[D+1-32],me=C[D+2-32],Ue=C[D+3-32],Ie=C[D+4-32],Oe=C[D+5-32],He=C[D+6-32],Ke=C[D+7-32];C[D+0+0]=cr(C[D+0-32],ne,me),C[D+1+0]=C[D+0+32]=cr(ne,me,Ue),C[D+2+0]=C[D+1+32]=C[D+0+64]=cr(me,Ue,Ie),C[D+3+0]=C[D+2+32]=C[D+1+64]=C[D+0+96]=cr(Ue,Ie,Oe),C[D+3+32]=C[D+2+64]=C[D+1+96]=cr(Ie,Oe,He),C[D+3+64]=C[D+2+96]=cr(Oe,He,Ke),C[D+3+96]=cr(He,Ke,Ke)}function bu(C,D){var ne=C[D-1+0],me=C[D-1+32],Ue=C[D-1+64],Ie=C[D-1-32],Oe=C[D+0-32],He=C[D+1-32],Ke=C[D+2-32],nt=C[D+3-32];C[D+0+0]=C[D+1+64]=Ie+Oe+1>>1,C[D+1+0]=C[D+2+64]=Oe+He+1>>1,C[D+2+0]=C[D+3+64]=He+Ke+1>>1,C[D+3+0]=Ke+nt+1>>1,C[D+0+96]=cr(Ue,me,ne),C[D+0+64]=cr(me,ne,Ie),C[D+0+32]=C[D+1+96]=cr(ne,Ie,Oe),C[D+1+32]=C[D+2+96]=cr(Ie,Oe,He),C[D+2+32]=C[D+3+96]=cr(Oe,He,Ke),C[D+3+32]=cr(He,Ke,nt)}function xd(C,D){var ne=C[D+0-32],me=C[D+1-32],Ue=C[D+2-32],Ie=C[D+3-32],Oe=C[D+4-32],He=C[D+5-32],Ke=C[D+6-32],nt=C[D+7-32];C[D+0+0]=ne+me+1>>1,C[D+1+0]=C[D+0+64]=me+Ue+1>>1,C[D+2+0]=C[D+1+64]=Ue+Ie+1>>1,C[D+3+0]=C[D+2+64]=Ie+Oe+1>>1,C[D+0+32]=cr(ne,me,Ue),C[D+1+32]=C[D+0+96]=cr(me,Ue,Ie),C[D+2+32]=C[D+1+96]=cr(Ue,Ie,Oe),C[D+3+32]=C[D+2+96]=cr(Ie,Oe,He),C[D+3+64]=cr(Oe,He,Ke),C[D+3+96]=cr(He,Ke,nt)}function Yi(C,D){var ne=C[D-1+0],me=C[D-1+32],Ue=C[D-1+64],Ie=C[D-1+96];C[D+0+0]=ne+me+1>>1,C[D+2+0]=C[D+0+32]=me+Ue+1>>1,C[D+2+32]=C[D+0+64]=Ue+Ie+1>>1,C[D+1+0]=cr(ne,me,Ue),C[D+3+0]=C[D+1+32]=cr(me,Ue,Ie),C[D+3+32]=C[D+1+64]=cr(Ue,Ie,Ie),C[D+3+64]=C[D+2+64]=C[D+0+96]=C[D+1+96]=C[D+2+96]=C[D+3+96]=Ie}function qc(C,D){var ne=C[D-1+0],me=C[D-1+32],Ue=C[D-1+64],Ie=C[D-1+96],Oe=C[D-1-32],He=C[D+0-32],Ke=C[D+1-32],nt=C[D+2-32];C[D+0+0]=C[D+2+32]=ne+Oe+1>>1,C[D+0+32]=C[D+2+64]=me+ne+1>>1,C[D+0+64]=C[D+2+96]=Ue+me+1>>1,C[D+0+96]=Ie+Ue+1>>1,C[D+3+0]=cr(He,Ke,nt),C[D+2+0]=cr(Oe,He,Ke),C[D+1+0]=C[D+3+32]=cr(ne,Oe,He),C[D+1+32]=C[D+3+64]=cr(me,ne,Oe),C[D+1+64]=C[D+3+96]=cr(Ue,me,ne),C[D+1+96]=cr(Ie,Ue,me)}function vl(C,D){var ne;for(ne=0;8>ne;++ne)I(C,D+32*ne,C,D-32,8)}function Zd(C,D){var ne;for(ne=0;8>ne;++ne)P(C,D,C[D-1],8),D+=32}function nl(C,D,ne){var me;for(me=0;8>me;++me)P(D,ne+32*me,C,8)}function bc(C,D){var ne,me=8;for(ne=0;8>ne;++ne)me+=C[D+ne-32]+C[D-1+32*ne];nl(me>>4,C,D)}function Qo(C,D){var ne,me=4;for(ne=0;8>ne;++ne)me+=C[D+ne-32];nl(me>>3,C,D)}function al(C,D){var ne,me=4;for(ne=0;8>ne;++ne)me+=C[D-1+32*ne];nl(me>>3,C,D)}function bd(C,D){nl(128,C,D)}function yl(C,D,ne){var me=C[D-ne],Ue=C[D+0],Ie=3*(Ue-me)+VA[1020+C[D-2*ne]-C[D+ne]],Oe=fA[112+(Ie+4>>3)];C[D-ne]=rc[255+me+fA[112+(Ie+3>>3)]],C[D+0]=rc[255+Ue-Oe]}function vc(C,D,ne,me){var Ue=C[D+0],Ie=C[D+ne];return jc[255+C[D-2*ne]-C[D-ne]]>me||jc[255+Ie-Ue]>me}function ed(C,D,ne,me){return 4*jc[255+C[D-ne]-C[D+0]]+jc[255+C[D-2*ne]-C[D+ne]]<=me}function il(C,D,ne,me,Ue){var Ie=C[D-3*ne],Oe=C[D-2*ne],He=C[D-ne],Ke=C[D+0],nt=C[D+ne],Ct=C[D+2*ne],Wt=C[D+3*ne];return 4*jc[255+He-Ke]+jc[255+Oe-nt]>me?0:jc[255+C[D-4*ne]-Ie]<=Ue&&jc[255+Ie-Oe]<=Ue&&jc[255+Oe-He]<=Ue&&jc[255+Wt-Ct]<=Ue&&jc[255+Ct-nt]<=Ue&&jc[255+nt-Ke]<=Ue}function si(C,D,ne,me){var Ue=2*me+1;for(me=0;16>me;++me)ed(C,D+me,ne,Ue)&&yl(C,D+me,ne)}function vd(C,D,ne,me){var Ue=2*me+1;for(me=0;16>me;++me)ed(C,D+me*ne,1,Ue)&&yl(C,D+me*ne,1)}function vu(C,D,ne,me){var Ue;for(Ue=3;0<Ue;--Ue)si(C,D+=4*ne,ne,me)}function Lu(C,D,ne,me){var Ue;for(Ue=3;0<Ue;--Ue)vd(C,D+=4,ne,me)}function td(C,D,ne,me,Ue,Ie,Oe,He){for(Ie=2*Ie+1;0<Ue--;){if(il(C,D,ne,Ie,Oe))if(vc(C,D,ne,He))yl(C,D,ne);else{var Ke=C,nt=D,Ct=ne,Wt=Ke[nt-2*Ct],st=Ke[nt-Ct],Ft=Ke[nt+0],_t=Ke[nt+Ct],vs=Ke[nt+2*Ct],Zt=27*(ks=VA[1020+3*(Ft-st)+VA[1020+Wt-_t]])+63>>7,ys=18*ks+63>>7,ks=9*ks+63>>7;Ke[nt-3*Ct]=rc[255+Ke[nt-3*Ct]+ks],Ke[nt-2*Ct]=rc[255+Wt+ys],Ke[nt-Ct]=rc[255+st+Zt],Ke[nt+0]=rc[255+Ft-Zt],Ke[nt+Ct]=rc[255+_t-ys],Ke[nt+2*Ct]=rc[255+vs-ks]}D+=me}}function sd(C,D,ne,me,Ue,Ie,Oe,He){for(Ie=2*Ie+1;0<Ue--;){if(il(C,D,ne,Ie,Oe))if(vc(C,D,ne,He))yl(C,D,ne);else{var Ke=C,nt=D,Ct=ne,Wt=Ke[nt-Ct],st=Ke[nt+0],Ft=Ke[nt+Ct],_t=fA[112+(4+(vs=3*(st-Wt))>>3)],vs=fA[112+(vs+3>>3)],Zt=_t+1>>1;Ke[nt-2*Ct]=rc[255+Ke[nt-2*Ct]+Zt],Ke[nt-Ct]=rc[255+Wt+vs],Ke[nt+0]=rc[255+st-_t],Ke[nt+Ct]=rc[255+Ft-Zt]}D+=me}}function xi(C,D,ne,me,Ue,Ie){td(C,D,ne,1,16,me,Ue,Ie)}function rd(C,D,ne,me,Ue,Ie){td(C,D,1,ne,16,me,Ue,Ie)}function yd(C,D,ne,me,Ue,Ie){var Oe;for(Oe=3;0<Oe;--Oe)sd(C,D+=4*ne,ne,1,16,me,Ue,Ie)}function Z(C,D,ne,me,Ue,Ie){var Oe;for(Oe=3;0<Oe;--Oe)sd(C,D+=4,1,ne,16,me,Ue,Ie)}function Te(C,D,ne,me,Ue,Ie,Oe,He){td(C,D,Ue,1,8,Ie,Oe,He),td(ne,me,Ue,1,8,Ie,Oe,He)}function at(C,D,ne,me,Ue,Ie,Oe,He){td(C,D,1,Ue,8,Ie,Oe,He),td(ne,me,1,Ue,8,Ie,Oe,He)}function pt(C,D,ne,me,Ue,Ie,Oe,He){sd(C,D+4*Ue,Ue,1,8,Ie,Oe,He),sd(ne,me+4*Ue,Ue,1,8,Ie,Oe,He)}function Qt(C,D,ne,me,Ue,Ie,Oe,He){sd(C,D+4,1,Ue,8,Ie,Oe,He),sd(ne,me+4,1,Ue,8,Ie,Oe,He)}function Ns(){this.ba=new Nn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rs(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Sr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Er(){this.ua=0,this.Wa=new un,this.vb=new un,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new rs,this.yc=new xt}function mn(){this.xb=this.a=0,this.l=new Od,this.ca=new Nn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new dt,this.Pb=0,this.wd=new dt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Er,this.ab=0,this.gc=de(4,Sr),this.Oc=0}function kn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Od,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ra(C,D,ne,me,Ue,Ie,Oe){for(C=C==null?0:C[D+0],D=0;D<Oe;++D)Ue[Ie+D]=C+ne[me+D]&255,C=Ue[Ie+D]}function Fa(C,D,ne,me,Ue,Ie,Oe){var He;if(C==null)ra(null,null,ne,me,Ue,Ie,Oe);else for(He=0;He<Oe;++He)Ue[Ie+He]=C[D+He]+ne[me+He]&255}function bi(C,D,ne,me,Ue,Ie,Oe){if(C==null)ra(null,null,ne,me,Ue,Ie,Oe);else{var He,Ke=C[D+0],nt=Ke,Ct=Ke;for(He=0;He<Oe;++He)nt=Ct+(Ke=C[D+He])-nt,Ct=ne[me+He]+(-256&nt?0>nt?0:255:nt)&255,nt=Ke,Ue[Ie+He]=Ct}}function Ba(C,D,ne,me){var Ue=D.width,Ie=D.o;if(v(C!=null&&D!=null),0>ne||0>=me||ne+me>Ie)return null;if(!C.Cc){if(C.ga==null){var Oe;if(C.ga=new kn,(Oe=C.ga==null)||(Oe=D.width*D.o,v(C.Gb.length==0),C.Gb=V(Oe),C.Uc=0,C.Gb==null?Oe=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,Oe=1),Oe=!Oe),!Oe){Oe=C.ga;var He=C.Fa,Ke=C.P,nt=C.qc,Ct=C.mb,Wt=C.nb,st=Ke+1,Ft=nt-1,_t=Oe.l;if(v(He!=null&&Ct!=null&&D!=null),Nd[0]=null,Nd[1]=ra,Nd[2]=Fa,Nd[3]=bi,Oe.ca=Ct,Oe.tb=Wt,Oe.c=D.width,Oe.i=D.height,v(0<Oe.c&&0<Oe.i),1>=nt)D=0;else if(Oe.$a=3&He[Ke+0],Oe.Z=He[Ke+0]>>2&3,Oe.Lc=He[Ke+0]>>4&3,Ke=He[Ke+0]>>6&3,0>Oe.$a||1<Oe.$a||4<=Oe.Z||1<Oe.Lc||Ke)D=0;else if(_t.put=an,_t.ac=Gl,_t.bc=li,_t.ma=Oe,_t.width=D.width,_t.height=D.height,_t.Da=D.Da,_t.v=D.v,_t.va=D.va,_t.j=D.j,_t.o=D.o,Oe.$a)e:{v(Oe.$a==1),D=Xc();t:for(;;){if(D==null){D=0;break e}if(v(Oe!=null),Oe.mc=D,D.c=Oe.c,D.i=Oe.i,D.l=Oe.l,D.l.ma=Oe,D.l.width=Oe.c,D.l.height=Oe.i,D.a=0,fs(D.m,He,st,Ft),!ml(Oe.c,Oe.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&fl(D.s)?(Oe.ic=1,He=D.c*D.i,D.Ta=null,D.Ua=0,D.V=V(He),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(Oe.ic=0,D=Oo(D,Oe.c)),!D))break t;D=1;break e}Oe.mc=null,D=0}else D=Ft>=Oe.c*Oe.i;Oe=!D}if(Oe)return null;C.ga.Lc!=1?C.Ga=0:me=Ie-ne}v(C.ga!=null),v(ne+me<=Ie);e:{if(D=(He=C.ga).c,Ie=He.l.o,He.$a==0){if(st=C.rc,Ft=C.Vc,_t=C.Fa,Ke=C.P+1+ne*D,nt=C.mb,Ct=C.nb+ne*D,v(Ke<=C.P+C.qc),He.Z!=0)for(v(Nd[He.Z]!=null),Oe=0;Oe<me;++Oe)Nd[He.Z](st,Ft,_t,Ke,nt,Ct,D),st=nt,Ft=Ct,Ct+=D,Ke+=D;else for(Oe=0;Oe<me;++Oe)I(nt,Ct,_t,Ke,D),st=nt,Ft=Ct,Ct+=D,Ke+=D;C.rc=st,C.Vc=Ft}else{if(v(He.mc!=null),D=ne+me,v((Oe=He.mc)!=null),v(D<=Oe.i),Oe.C>=D)D=1;else if(He.ic||Qe(),He.ic){He=Oe.V,st=Oe.Ba,Ft=Oe.c;var vs=Oe.i,Zt=(_t=1,Ke=Oe.$/Ft,nt=Oe.$%Ft,Ct=Oe.m,Wt=Oe.s,Oe.$),ys=Ft*vs,ks=Ft*D,zs=Wt.wc,Ps=Zt<ks?ci(Wt,nt,Ke):null;v(Zt<=ys),v(D<=vs),v(fl(Wt));t:for(;;){for(;!Ct.h&&Zt<ks;){if(nt&zs||(Ps=ci(Wt,nt,Ke)),v(Ps!=null),Yt(Ct),256>(vs=Pa(Ps.G[0],Ps.H[0],Ct)))He[st+Zt]=vs,++Zt,++nt>=Ft&&(nt=0,++Ke<=D&&!(Ke%16)&&Ll(Oe,Ke));else{if(!(280>vs)){_t=0;break t}vs=tl(vs-256,Ct);var $r,wr=Pa(Ps.G[4],Ps.H[4],Ct);if(Yt(Ct),!(Zt>=(wr=Lo(Ft,wr=tl(wr,Ct)))&&ys-Zt>=vs)){_t=0;break t}for($r=0;$r<vs;++$r)He[st+Zt+$r]=He[st+Zt+$r-wr];for(Zt+=vs,nt+=vs;nt>=Ft;)nt-=Ft,++Ke<=D&&!(Ke%16)&&Ll(Oe,Ke);Zt<ks&&nt&zs&&(Ps=ci(Wt,nt,Ke))}v(Ct.h==Ot(Ct))}Ll(Oe,Ke>D?D:Ke);break t}!_t||Ct.h&&Zt<ys?(_t=0,Oe.a=Ct.h?5:3):Oe.$=Zt,D=_t}else D=Mo(Oe,Oe.V,Oe.Ba,Oe.c,Oe.i,D,Fc);if(!D){me=0;break e}}ne+me>=Ie&&(C.Cc=1),me=1}if(!me)return null;if(C.Cc&&((me=C.ga)!=null&&(me.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+ne*Ue}function Ei(C,D,ne,me,Ue,Ie){for(;0<Ue--;){var Oe,He=C,Ke=D+(ne?1:0),nt=C,Ct=D+(ne?0:3);for(Oe=0;Oe<me;++Oe){var Wt=nt[Ct+4*Oe];Wt!=255&&(Wt*=32897,He[Ke+4*Oe+0]=He[Ke+4*Oe+0]*Wt>>23,He[Ke+4*Oe+1]=He[Ke+4*Oe+1]*Wt>>23,He[Ke+4*Oe+2]=He[Ke+4*Oe+2]*Wt>>23)}D+=Ie}}function k(C,D,ne,me,Ue){for(;0<me--;){var Ie;for(Ie=0;Ie<ne;++Ie){var Oe=C[D+2*Ie+0],He=15&(nt=C[D+2*Ie+1]),Ke=4369*He,nt=(240&nt|nt>>4)*Ke>>16;C[D+2*Ie+0]=(240&Oe|Oe>>4)*Ke>>16&240|(15&Oe|Oe<<4)*Ke>>16>>4&15,C[D+2*Ie+1]=240&nt|He}D+=Ue}}function Be(C,D,ne,me,Ue,Ie,Oe,He){var Ke,nt,Ct=255;for(nt=0;nt<Ue;++nt){for(Ke=0;Ke<me;++Ke){var Wt=C[D+Ke];Ie[Oe+4*Ke]=Wt,Ct&=Wt}D+=ne,Oe+=He}return Ct!=255}function H(C,D,ne,me,Ue){var Ie;for(Ie=0;Ie<Ue;++Ie)ne[me+Ie]=C[D+Ie]>>8}function Qe(){Dd=Ei,AA=k,Rl=Be,Rc=H}function lt(C,D,ne){vt[C]=function(me,Ue,Ie,Oe,He,Ke,nt,Ct,Wt,st,Ft,_t,vs,Zt,ys,ks,zs){var Ps,$r=zs-1>>1,wr=He[Ke+0]|nt[Ct+0]<<16,Hn=Wt[st+0]|Ft[_t+0]<<16;v(me!=null);var Qr=3*wr+Hn+131074>>2;for(D(me[Ue+0],255&Qr,Qr>>16,vs,Zt),Ie!=null&&(Qr=3*Hn+wr+131074>>2,D(Ie[Oe+0],255&Qr,Qr>>16,ys,ks)),Ps=1;Ps<=$r;++Ps){var ca=He[Ke+Ps]|nt[Ct+Ps]<<16,ro=Wt[st+Ps]|Ft[_t+Ps]<<16,Mn=wr+ca+Hn+ro+524296,Rr=Mn+2*(ca+Hn)>>3;Qr=Rr+wr>>1,wr=(Mn=Mn+2*(wr+ro)>>3)+ca>>1,D(me[Ue+2*Ps-1],255&Qr,Qr>>16,vs,Zt+(2*Ps-1)*ne),D(me[Ue+2*Ps-0],255&wr,wr>>16,vs,Zt+(2*Ps-0)*ne),Ie!=null&&(Qr=Mn+Hn>>1,wr=Rr+ro>>1,D(Ie[Oe+2*Ps-1],255&Qr,Qr>>16,ys,ks+(2*Ps-1)*ne),D(Ie[Oe+2*Ps+0],255&wr,wr>>16,ys,ks+(2*Ps+0)*ne)),wr=ca,Hn=ro}1&zs||(Qr=3*wr+Hn+131074>>2,D(me[Ue+zs-1],255&Qr,Qr>>16,vs,Zt+(zs-1)*ne),Ie!=null&&(Qr=3*Hn+wr+131074>>2,D(Ie[Oe+zs-1],255&Qr,Qr>>16,ys,ks+(zs-1)*ne)))}}function it(){kc[wu]=Pu,kc[pA]=eh,kc[KA]=Yh,kc[Iu]=Mf,kc[so]=Of,kc[eu]=th,kc[GA]=kd,kc[WA]=eh,kc[mA]=Mf,kc[ju]=Of,kc[YA]=th}function Xt(C){return C&-16384?0>C?0:255:C>>vA}function Ut(C,D){return Xt((19077*C>>8)+(26149*D>>8)-14234)}function pr(C,D,ne){return Xt((19077*C>>8)-(6419*D>>8)-(13320*ne>>8)+8708)}function jt(C,D){return Xt((19077*C>>8)+(33050*D>>8)-17685)}function Jt(C,D,ne,me,Ue){me[Ue+0]=Ut(C,ne),me[Ue+1]=pr(C,D,ne),me[Ue+2]=jt(C,D)}function gn(C,D,ne,me,Ue){me[Ue+0]=jt(C,D),me[Ue+1]=pr(C,D,ne),me[Ue+2]=Ut(C,ne)}function nr(C,D,ne,me,Ue){var Ie=pr(C,D,ne);D=Ie<<3&224|jt(C,D)>>3,me[Ue+0]=248&Ut(C,ne)|Ie>>5,me[Ue+1]=D}function Qs(C,D,ne,me,Ue){var Ie=240&jt(C,D)|15;me[Ue+0]=240&Ut(C,ne)|pr(C,D,ne)>>4,me[Ue+1]=Ie}function xs(C,D,ne,me,Ue){me[Ue+0]=255,Jt(C,D,ne,me,Ue+1)}function La(C,D,ne,me,Ue){gn(C,D,ne,me,Ue),me[Ue+3]=255}function hn(C,D,ne,me,Ue){Jt(C,D,ne,me,Ue),me[Ue+3]=255}function Gr(C,D,ne){vt[C]=function(me,Ue,Ie,Oe,He,Ke,nt,Ct,Wt){for(var st=Ct+(-2&Wt)*ne;Ct!=st;)D(me[Ue+0],Ie[Oe+0],He[Ke+0],nt,Ct),D(me[Ue+1],Ie[Oe+0],He[Ke+0],nt,Ct+ne),Ue+=2,++Oe,++Ke,Ct+=2*ne;1&Wt&&D(me[Ue+0],Ie[Oe+0],He[Ke+0],nt,Ct)}}function ln(C,D,ne){return ne==0?C==0?D==0?6:5:D==0?4:0:ne}function Tn(C,D,ne,me,Ue){switch(C>>>30){case 3:wc(D,ne,me,Ue,0);break;case 2:_o(D,ne,me,Ue);break;case 1:aa(D,ne,me,Ue)}}function tr(C,D){var ne,me,Ue=D.M,Ie=D.Nb,Oe=C.oc,He=C.pc+40,Ke=C.oc,nt=C.pc+584,Ct=C.oc,Wt=C.pc+600;for(ne=0;16>ne;++ne)Oe[He+32*ne-1]=129;for(ne=0;8>ne;++ne)Ke[nt+32*ne-1]=129,Ct[Wt+32*ne-1]=129;for(0<Ue?Oe[He-1-32]=Ke[nt-1-32]=Ct[Wt-1-32]=129:(P(Oe,He-32-1,127,21),P(Ke,nt-32-1,127,9),P(Ct,Wt-32-1,127,9)),me=0;me<C.za;++me){var st=D.ya[D.aa+me];if(0<me){for(ne=-1;16>ne;++ne)I(Oe,He+32*ne-4,Oe,He+32*ne+12,4);for(ne=-1;8>ne;++ne)I(Ke,nt+32*ne-4,Ke,nt+32*ne+4,4),I(Ct,Wt+32*ne-4,Ct,Wt+32*ne+4,4)}var Ft=C.Gd,_t=C.Hd+me,vs=st.ad,Zt=st.Hc;if(0<Ue&&(I(Oe,He-32,Ft[_t].y,0,16),I(Ke,nt-32,Ft[_t].f,0,8),I(Ct,Wt-32,Ft[_t].ea,0,8)),st.Za){var ys=Oe,ks=He-32+16;for(0<Ue&&(me>=C.za-1?P(ys,ks,Ft[_t].y[15],4):I(ys,ks,Ft[_t+1].y,0,4)),ne=0;4>ne;ne++)ys[ks+128+ne]=ys[ks+256+ne]=ys[ks+384+ne]=ys[ks+0+ne];for(ne=0;16>ne;++ne,Zt<<=2)ys=Oe,ks=He+Rd[ne],Nc[st.Ob[ne]](ys,ks),Tn(Zt,vs,16*+ne,ys,ks)}else if(ys=ln(me,Ue,st.Ob[0]),jd[ys](Oe,He),Zt!=0)for(ne=0;16>ne;++ne,Zt<<=2)Tn(Zt,vs,16*+ne,Oe,He+Rd[ne]);for(ne=st.Gc,ys=ln(me,Ue,st.Dd),Pc[ys](Ke,nt),Pc[ys](Ct,Wt),Zt=vs,ys=Ke,ks=nt,255&(st=0|ne)&&(170&st?sc(Zt,256,ys,ks):za(Zt,256,ys,ks)),st=Ct,Zt=Wt,255&(ne>>=8)&&(170&ne?sc(vs,320,st,Zt):za(vs,320,st,Zt)),Ue<C.Ub-1&&(I(Ft[_t].y,0,Oe,He+480,16),I(Ft[_t].f,0,Ke,nt+224,8),I(Ft[_t].ea,0,Ct,Wt+224,8)),ne=8*Ie*C.B,Ft=C.sa,_t=C.ta+16*me+16*Ie*C.R,vs=C.qa,st=C.ra+8*me+ne,Zt=C.Ha,ys=C.Ia+8*me+ne,ne=0;16>ne;++ne)I(Ft,_t+ne*C.R,Oe,He+32*ne,16);for(ne=0;8>ne;++ne)I(vs,st+ne*C.B,Ke,nt+32*ne,8),I(Zt,ys+ne*C.B,Ct,Wt+32*ne,8)}}function Un(C,D,ne,me,Ue,Ie,Oe,He,Ke){var nt=[0],Ct=[0],Wt=0,st=Ke!=null?Ke.kd:0,Ft=Ke??new Rs;if(C==null||12>ne)return 7;Ft.data=C,Ft.w=D,Ft.ha=ne,D=[D],ne=[ne],Ft.gb=[Ft.gb];e:{var _t=D,vs=ne,Zt=Ft.gb;if(v(C!=null),v(vs!=null),v(Zt!=null),Zt[0]=0,12<=vs[0]&&!S(C,_t[0],"RIFF")){if(S(C,_t[0]+8,"WEBP")){Zt=3;break e}var ys=Yr(C,_t[0]+4);if(12>ys||4294967286<ys){Zt=3;break e}if(st&&ys>vs[0]-8){Zt=7;break e}Zt[0]=ys,_t[0]+=12,vs[0]-=12}Zt=0}if(Zt!=0)return Zt;for(ys=0<Ft.gb[0],ne=ne[0];;){e:{var ks=C;vs=D,Zt=ne;var zs=nt,Ps=Ct,$r=_t=[0];if((Qr=Wt=[Wt])[0]=0,8>Zt[0])Zt=7;else{if(!S(ks,vs[0],"VP8X")){if(Yr(ks,vs[0]+4)!=10){Zt=3;break e}if(18>Zt[0]){Zt=7;break e}var wr=Yr(ks,vs[0]+8),Hn=1+mr(ks,vs[0]+12);if(2147483648<=Hn*(ks=1+mr(ks,vs[0]+15))){Zt=3;break e}$r!=null&&($r[0]=wr),zs!=null&&(zs[0]=Hn),Ps!=null&&(Ps[0]=ks),vs[0]+=18,Zt[0]-=18,Qr[0]=1}Zt=0}}if(Wt=Wt[0],_t=_t[0],Zt!=0)return Zt;if(vs=!!(2&_t),!ys&&Wt)return 3;if(Ie!=null&&(Ie[0]=!!(16&_t)),Oe!=null&&(Oe[0]=vs),He!=null&&(He[0]=0),Oe=nt[0],_t=Ct[0],Wt&&vs&&Ke==null){Zt=0;break}if(4>ne){Zt=7;break}if(ys&&Wt||!ys&&!Wt&&!S(C,D[0],"ALPH")){ne=[ne],Ft.na=[Ft.na],Ft.P=[Ft.P],Ft.Sa=[Ft.Sa];e:{wr=C,Zt=D,ys=ne;var Qr=Ft.gb;zs=Ft.na,Ps=Ft.P,$r=Ft.Sa,Hn=22,v(wr!=null),v(ys!=null),ks=Zt[0];var ca=ys[0];for(v(zs!=null),v($r!=null),zs[0]=null,Ps[0]=null,$r[0]=0;;){if(Zt[0]=ks,ys[0]=ca,8>ca){Zt=7;break e}var ro=Yr(wr,ks+4);if(4294967286<ro){Zt=3;break e}var Mn=8+ro+1&-2;if(Hn+=Mn,0<Qr&&Hn>Qr){Zt=3;break e}if(!S(wr,ks,"VP8 ")||!S(wr,ks,"VP8L")){Zt=0;break e}if(ca[0]<Mn){Zt=7;break e}S(wr,ks,"ALPH")||(zs[0]=wr,Ps[0]=ks+8,$r[0]=ro),ks+=Mn,ca-=Mn}}if(ne=ne[0],Ft.na=Ft.na[0],Ft.P=Ft.P[0],Ft.Sa=Ft.Sa[0],Zt!=0)break}ne=[ne],Ft.Ja=[Ft.Ja],Ft.xa=[Ft.xa];e:if(Qr=C,Zt=D,ys=ne,zs=Ft.gb[0],Ps=Ft.Ja,$r=Ft.xa,wr=Zt[0],ks=!S(Qr,wr,"VP8 "),Hn=!S(Qr,wr,"VP8L"),v(Qr!=null),v(ys!=null),v(Ps!=null),v($r!=null),8>ys[0])Zt=7;else{if(ks||Hn){if(Qr=Yr(Qr,wr+4),12<=zs&&Qr>zs-12){Zt=3;break e}if(st&&Qr>ys[0]-8){Zt=7;break e}Ps[0]=Qr,Zt[0]+=8,ys[0]-=8,$r[0]=Hn}else $r[0]=5<=ys[0]&&Qr[wr+0]==47&&!(Qr[wr+4]>>5),Ps[0]=ys[0];Zt=0}if(ne=ne[0],Ft.Ja=Ft.Ja[0],Ft.xa=Ft.xa[0],D=D[0],Zt!=0)break;if(4294967286<Ft.Ja)return 3;if(He==null||vs||(He[0]=Ft.xa?2:1),Oe=[Oe],_t=[_t],Ft.xa){if(5>ne){Zt=7;break}He=Oe,st=_t,vs=Ie,C==null||5>ne?C=0:5<=ne&&C[D+0]==47&&!(C[D+4]>>5)?(ys=[0],Qr=[0],zs=[0],fs(Ps=new dt,C,D,ne),mi(Ps,ys,Qr,zs)?(He!=null&&(He[0]=ys[0]),st!=null&&(st[0]=Qr[0]),vs!=null&&(vs[0]=zs[0]),C=1):C=0):C=0}else{if(10>ne){Zt=7;break}He=_t,C==null||10>ne||!Ol(C,D+3,ne-3)?C=0:(st=C[D+0]|C[D+1]<<8|C[D+2]<<16,vs=16383&(C[D+7]<<8|C[D+6]),C=16383&(C[D+9]<<8|C[D+8]),1&st||3<(st>>1&7)||!(st>>4&1)||st>>5>=Ft.Ja||!vs||!C?C=0:(Oe&&(Oe[0]=vs),He&&(He[0]=C),C=1))}if(!C||(Oe=Oe[0],_t=_t[0],Wt&&(nt[0]!=Oe||Ct[0]!=_t)))return 3;Ke!=null&&(Ke[0]=Ft,Ke.offset=D-Ke.w,v(4294967286>D-Ke.w),v(Ke.offset==Ke.ha-ne));break}return Zt==0||Zt==7&&Wt&&Ke==null?(Ie!=null&&(Ie[0]|=Ft.na!=null&&0<Ft.na.length),me!=null&&(me[0]=Oe),Ue!=null&&(Ue[0]=_t),0):Zt}function Ma(C,D,ne){var me=D.width,Ue=D.height,Ie=0,Oe=0,He=me,Ke=Ue;if(D.Da=C!=null&&0<C.Da,D.Da&&(He=C.cd,Ke=C.bd,Ie=C.v,Oe=C.j,11>ne||(Ie&=-2,Oe&=-2),0>Ie||0>Oe||0>=He||0>=Ke||Ie+He>me||Oe+Ke>Ue))return 0;if(D.v=Ie,D.j=Oe,D.va=Ie+He,D.o=Oe+Ke,D.U=He,D.T=Ke,D.da=C!=null&&0<C.da,D.da){if(!rr(He,Ke,ne=[C.ib],Ie=[C.hb]))return 0;D.ib=ne[0],D.hb=Ie[0]}return D.ob=C!=null&&C.ob,D.Kb=C==null||!C.Sd,D.da&&(D.ob=D.ib<3*me/4&&D.hb<3*Ue/4,D.Kb=0),1}function zr(C){if(C==null)return 2;if(11>C.S){var D=C.f.RGBA;D.fb+=(C.height-1)*D.A,D.A=-D.A}else D=C.f.kb,C=C.height,D.O+=(C-1)*D.fa,D.fa=-D.fa,D.N+=(C-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(C-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(C-1)*D.lb,D.lb=-D.lb);return 0}function na(C,D,ne,me){if(me==null||0>=C||0>=D)return 2;if(ne!=null){if(ne.Da){var Ue=ne.cd,Ie=ne.bd,Oe=-2&ne.v,He=-2&ne.j;if(0>Oe||0>He||0>=Ue||0>=Ie||Oe+Ue>C||He+Ie>D)return 2;C=Ue,D=Ie}if(ne.da){if(!rr(C,D,Ue=[ne.ib],Ie=[ne.hb]))return 2;C=Ue[0],D=Ie[0]}}me.width=C,me.height=D;e:{var Ke=me.width,nt=me.height;if(C=me.S,0>=Ke||0>=nt||!(C>=wu&&13>C))C=2;else{if(0>=me.Rd&&me.sd==null){Oe=Ie=Ue=D=0;var Ct=(He=Ke*_u[C])*nt;if(11>C||(Ie=(nt+1)/2*(D=(Ke+1)/2),C==12&&(Oe=(Ue=Ke)*nt)),(nt=V(Ct+2*Ie+Oe))==null){C=1;break e}me.sd=nt,11>C?((Ke=me.f.RGBA).eb=nt,Ke.fb=0,Ke.A=He,Ke.size=Ct):((Ke=me.f.kb).y=nt,Ke.O=0,Ke.fa=He,Ke.Fd=Ct,Ke.f=nt,Ke.N=0+Ct,Ke.Ab=D,Ke.Cd=Ie,Ke.ea=nt,Ke.W=0+Ct+Ie,Ke.Db=D,Ke.Ed=Ie,C==12&&(Ke.F=nt,Ke.J=0+Ct+2*Ie),Ke.Tc=Oe,Ke.lb=Ue)}if(D=1,Ue=me.S,Ie=me.width,Oe=me.height,Ue>=wu&&13>Ue)if(11>Ue)C=me.f.RGBA,D&=(He=Math.abs(C.A))*(Oe-1)+Ie<=C.size,D&=He>=Ie*_u[Ue],D&=C.eb!=null;else{C=me.f.kb,He=(Ie+1)/2,Ct=(Oe+1)/2,Ke=Math.abs(C.fa),nt=Math.abs(C.Ab);var Wt=Math.abs(C.Db),st=Math.abs(C.lb),Ft=st*(Oe-1)+Ie;D&=Ke*(Oe-1)+Ie<=C.Fd,D&=nt*(Ct-1)+He<=C.Cd,D=(D&=Wt*(Ct-1)+He<=C.Ed)&Ke>=Ie&nt>=He&Wt>=He,D&=C.y!=null,D&=C.f!=null,D&=C.ea!=null,Ue==12&&(D&=st>=Ie,D&=Ft<=C.Tc,D&=C.F!=null)}else D=0;C=D?0:2}}return C!=0||ne!=null&&ne.fd&&(C=zr(me)),C}var Qn=64,Tr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],on=24,yo=32,ec=8,wl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];yr("Predictor0","PredictorAdd0"),vt.Predictor0=function(){return 4278190080},vt.Predictor1=function(C){return C},vt.Predictor2=function(C,D,ne){return D[ne+0]},vt.Predictor3=function(C,D,ne){return D[ne+1]},vt.Predictor4=function(C,D,ne){return D[ne-1]},vt.Predictor5=function(C,D,ne){return Ir(Ir(C,D[ne+1]),D[ne+0])},vt.Predictor6=function(C,D,ne){return Ir(C,D[ne-1])},vt.Predictor7=function(C,D,ne){return Ir(C,D[ne+0])},vt.Predictor8=function(C,D,ne){return Ir(D[ne-1],D[ne+0])},vt.Predictor9=function(C,D,ne){return Ir(D[ne+0],D[ne+1])},vt.Predictor10=function(C,D,ne){return Ir(Ir(C,D[ne-1]),Ir(D[ne+0],D[ne+1]))},vt.Predictor11=function(C,D,ne){var me=D[ne+0];return 0>=Cr(me>>24&255,C>>24&255,(D=D[ne-1])>>24&255)+Cr(me>>16&255,C>>16&255,D>>16&255)+Cr(me>>8&255,C>>8&255,D>>8&255)+Cr(255&me,255&C,255&D)?me:C},vt.Predictor12=function(C,D,ne){var me=D[ne+0];return(Ca((C>>24&255)+(me>>24&255)-((D=D[ne-1])>>24&255))<<24|Ca((C>>16&255)+(me>>16&255)-(D>>16&255))<<16|Ca((C>>8&255)+(me>>8&255)-(D>>8&255))<<8|Ca((255&C)+(255&me)-(255&D)))>>>0},vt.Predictor13=function(C,D,ne){var me=D[ne-1];return(Sn((C=Ir(C,D[ne+0]))>>24&255,me>>24&255)<<24|Sn(C>>16&255,me>>16&255)<<16|Sn(C>>8&255,me>>8&255)<<8|Sn(255&C,255&me))>>>0};var Xi=vt.PredictorAdd0;vt.PredictorAdd1=$n,yr("Predictor2","PredictorAdd2"),yr("Predictor3","PredictorAdd3"),yr("Predictor4","PredictorAdd4"),yr("Predictor5","PredictorAdd5"),yr("Predictor6","PredictorAdd6"),yr("Predictor7","PredictorAdd7"),yr("Predictor8","PredictorAdd8"),yr("Predictor9","PredictorAdd9"),yr("Predictor10","PredictorAdd10"),yr("Predictor11","PredictorAdd11"),yr("Predictor12","PredictorAdd12"),yr("Predictor13","PredictorAdd13");var wo=vt.PredictorAdd2;Dr("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Dr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var Ya,Mu=vt.ColorIndexInverseTransform,nd=vt.MapARGB,ol=vt.VP8LColorIndexInverseTransformAlpha,ll=vt.MapAlpha,vi=vt.VP8LPredictorsAdd=[];vi.length=16,(vt.VP8LPredictors=[]).length=16,(vt.VP8LPredictorsAdd_C=[]).length=16,(vt.VP8LPredictors_C=[]).length=16;var qd,yc,yn,ma,ri,wd,tc,wc,_o,sc,aa,za,_n,Ji,ad,yu,Id,Ou,lA,cA,dA,cl,Ti,uA,Dd,AA,Rl,Rc,hA=V(511),zA=V(2041),$A=V(225),zh=V(767),$h=0,VA=zA,fA=$A,rc=zh,jc=hA,wu=0,pA=1,KA=2,Iu=3,so=4,eu=5,GA=6,WA=7,mA=8,ju=9,YA=10,Ef=[2,3,7],Np=[3,3,11],Vh=[280,256,256,256,40],Du=[0,1,1,1,0],Tf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],XA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],JA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kh=8,Ru=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ZA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nu=null,qA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Uf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ff=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],jd=[],Nc=[],Pc=[],Lf=1,bA=2,Nd=[],kc=[];lt("UpsampleRgbLinePair",Jt,3),lt("UpsampleBgrLinePair",gn,3),lt("UpsampleRgbaLinePair",hn,4),lt("UpsampleBgraLinePair",La,4),lt("UpsampleArgbLinePair",xs,4),lt("UpsampleRgba4444LinePair",Qs,2),lt("UpsampleRgb565LinePair",nr,2);var Pu=vt.UpsampleRgbLinePair,Yh=vt.UpsampleBgrLinePair,eh=vt.UpsampleRgbaLinePair,Mf=vt.UpsampleBgraLinePair,Of=vt.UpsampleArgbLinePair,th=vt.UpsampleRgba4444LinePair,kd=vt.UpsampleRgb565LinePair,tu=16,Cd=1<<tu-1,Qu=-227,sh=482,vA=6,Xh=0,rh=V(256),nh=V(256),ah=V(256),ih=V(256),oh=V(sh-Qu),Jh=V(sh-Qu);Gr("YuvToRgbRow",Jt,3),Gr("YuvToBgrRow",gn,3),Gr("YuvToRgbaRow",hn,4),Gr("YuvToBgraRow",La,4),Gr("YuvToArgbRow",xs,4),Gr("YuvToRgba4444Row",Qs,2),Gr("YuvToRgb565Row",nr,2);var Rd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yA=[0,2,8],wA=[8,7,6,4,4,2,2,2,1,1,1,1],jA=1;this.WebPDecodeRGBA=function(C,D,ne,me,Ue){var Ie=pA,Oe=new Ns,He=new Nn;Oe.ba=He,He.S=Ie,He.width=[He.width],He.height=[He.height];var Ke=He.width,nt=He.height,Ct=new ir;if(Ct==null||C==null)var Wt=2;else v(Ct!=null),Wt=Un(C,D,ne,Ct.width,Ct.height,Ct.Pd,Ct.Qd,Ct.format,null);if(Wt!=0?Ke=0:(Ke!=null&&(Ke[0]=Ct.width[0]),nt!=null&&(nt[0]=Ct.height[0]),Ke=1),Ke){He.width=He.width[0],He.height=He.height[0],me!=null&&(me[0]=He.width),Ue!=null&&(Ue[0]=He.height);e:{if(me=new Od,(Ue=new Rs).data=C,Ue.w=D,Ue.ha=ne,Ue.kd=1,D=[0],v(Ue!=null),((C=Un(Ue.data,Ue.w,Ue.ha,null,null,null,D,null,Ue))==0||C==7)&&D[0]&&(C=4),(D=C)==0){if(v(Oe!=null),me.data=Ue.data,me.w=Ue.w+Ue.offset,me.ha=Ue.ha-Ue.offset,me.put=an,me.ac=Gl,me.bc=li,me.ma=Oe,Ue.xa){if((C=Xc())==null){Oe=1;break e}if((function(st,Ft){var _t=[0],vs=[0],Zt=[0];t:for(;;){if(st==null)return 0;if(Ft==null)return st.a=2,0;if(st.l=Ft,st.a=0,fs(st.m,Ft.data,Ft.w,Ft.ha),!mi(st.m,_t,vs,Zt)){st.a=3;break t}if(st.xb=bA,Ft.width=_t[0],Ft.height=vs[0],!ml(_t[0],vs[0],1,st,null))break t;return 1}return v(st.a!=0),0})(C,me)){if(me=(D=na(me.width,me.height,Oe.Oa,Oe.ba))==0){t:{me=C;s:for(;;){if(me==null){me=0;break t}if(v(me.s.yc!=null),v(me.s.Ya!=null),v(0<me.s.Wb),v((ne=me.l)!=null),v((Ue=ne.ma)!=null),me.xb!=0){if(me.ca=Ue.ba,me.tb=Ue.tb,v(me.ca!=null),!Ma(Ue.Oa,ne,Iu)){me.a=2;break s}if(!Oo(me,ne.width)||ne.da)break s;if((ne.da||pn(me.ca.S))&&Qe(),11>me.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),me.ca.f.kb.F!=null&&Qe()),me.Pb&&0<me.s.ua&&me.s.vb.X==null&&!tt(me.s.vb,me.s.Wa.Xa)){me.a=1;break s}me.xb=0}if(!Mo(me,me.V,me.Ba,me.c,me.i,ne.o,Pi))break s;Ue.Dc=me.Ma,me=1;break t}v(me.a!=0),me=0}me=!me}me&&(D=C.a)}else D=C.a}else{if((C=new Do)==null){Oe=1;break e}if(C.Fa=Ue.na,C.P=Ue.P,C.qc=Ue.Sa,Yl(C,me)){if((D=na(me.width,me.height,Oe.Oa,Oe.ba))==0){if(C.Aa=0,ne=Oe.Oa,v((Ue=C)!=null),ne!=null){if(0<(Ke=0>(Ke=ne.Md)?0:100<Ke?255:255*Ke/100)){for(nt=Ct=0;4>nt;++nt)12>(Wt=Ue.pb[nt]).lc&&(Wt.ia=Ke*wA[0>Wt.lc?0:Wt.lc]>>3),Ct|=Wt.ia;Ct&&(alert("todo:VP8InitRandom"),Ue.ia=1)}Ue.Ga=ne.Id,100<Ue.Ga?Ue.Ga=100:0>Ue.Ga&&(Ue.Ga=0)}(function(st,Ft){if(st==null)return 0;if(Ft==null)return An(st,2,"NULL VP8Io parameter in VP8Decode().");if(!st.cb&&!Yl(st,Ft))return 0;if(v(st.cb),Ft.ac==null||Ft.ac(Ft)){Ft.ob&&(st.L=0);var _t=yA[st.L];if(st.L==2?(st.yb=0,st.zb=0):(st.yb=Ft.v-_t>>4,st.zb=Ft.j-_t>>4,0>st.yb&&(st.yb=0),0>st.zb&&(st.zb=0)),st.Va=Ft.o+15+_t>>4,st.Hb=Ft.va+15+_t>>4,st.Hb>st.za&&(st.Hb=st.za),st.Va>st.Ub&&(st.Va=st.Ub),0<st.L){var vs=st.ed;for(_t=0;4>_t;++_t){var Zt;if(st.Qa.Cb){var ys=st.Qa.Lb[_t];st.Qa.Fb||(ys+=vs.Tb)}else ys=vs.Tb;for(Zt=0;1>=Zt;++Zt){var ks=st.gd[_t][Zt],zs=ys;if(vs.Pc&&(zs+=vs.vd[0],Zt&&(zs+=vs.od[0])),0<(zs=0>zs?0:63<zs?63:zs)){var Ps=zs;0<vs.wb&&(Ps=4<vs.wb?Ps>>2:Ps>>1)>9-vs.wb&&(Ps=9-vs.wb),1>Ps&&(Ps=1),ks.dd=Ps,ks.tc=2*zs+Ps,ks.ld=40<=zs?2:15<=zs?1:0}else ks.tc=0;ks.La=Zt}}}_t=0}else An(st,6,"Frame setup failed"),_t=st.a;if(_t=_t==0){if(_t){st.$c=0,0<st.Aa||(st.Ic=jA);t:{_t=st.Ic,vs=4*(Ps=st.za);var $r=32*Ps,wr=Ps+1,Hn=0<st.L?Ps*(0<st.Aa?2:1):0,Qr=(st.Aa==2?2:1)*Ps;if((ks=vs+832+(Zt=3*(16*_t+yA[st.L])/2*$r)+(ys=st.Fa!=null&&0<st.Fa.length?st.Kc.c*st.Kc.i:0))!=ks)_t=0;else{if(ks>st.Vb){if(st.Vb=0,st.Ec=V(ks),st.Fc=0,st.Ec==null){_t=An(st,1,"no memory during frame initialization.");break t}st.Vb=ks}ks=st.Ec,zs=st.Fc,st.Ac=ks,st.Bc=zs,zs+=vs,st.Gd=de($r,Jd),st.Hd=0,st.rb=de(wr+1,xc),st.sb=1,st.wa=Hn?de(Hn,xo):null,st.Y=0,st.D.Nb=0,st.D.wa=st.wa,st.D.Y=st.Y,0<st.Aa&&(st.D.Y+=Ps),v(!0),st.oc=ks,st.pc=zs,zs+=832,st.ya=de(Qr,Ad),st.aa=0,st.D.ya=st.ya,st.D.aa=st.aa,st.Aa==2&&(st.D.aa+=Ps),st.R=16*Ps,st.B=8*Ps,Ps=($r=yA[st.L])*st.R,$r=$r/2*st.B,st.sa=ks,st.ta=zs+Ps,st.qa=st.sa,st.ra=st.ta+16*_t*st.R+$r,st.Ha=st.qa,st.Ia=st.ra+8*_t*st.B+$r,st.$c=0,zs+=Zt,st.mb=ys?ks:null,st.nb=ys?zs:null,v(zs+ys<=st.Fc+st.Vb),Oc(st),P(st.Ac,st.Bc,0,vs),_t=1}}if(_t){if(Ft.ka=0,Ft.y=st.sa,Ft.O=st.ta,Ft.f=st.qa,Ft.N=st.ra,Ft.ea=st.Ha,Ft.Vd=st.Ia,Ft.fa=st.R,Ft.Rc=st.B,Ft.F=null,Ft.J=0,!$h){for(_t=-255;255>=_t;++_t)hA[255+_t]=0>_t?-_t:_t;for(_t=-1020;1020>=_t;++_t)zA[1020+_t]=-128>_t?-128:127<_t?127:_t;for(_t=-112;112>=_t;++_t)$A[112+_t]=-16>_t?-16:15<_t?15:_t;for(_t=-255;510>=_t;++_t)zh[255+_t]=0>_t?0:255<_t?255:_t;$h=1}tc=vo,wc=Zc,sc=Ro,aa=pd,za=Zl,_o=Wi,_n=xi,Ji=rd,ad=Te,yu=at,Id=yd,Ou=Z,lA=pt,cA=Qt,dA=si,cl=vd,Ti=vu,uA=Lu,Nc[0]=gd,Nc[1]=ql,Nc[2]=Ic,Nc[3]=bl,Nc[4]=Po,Nc[5]=bu,Nc[6]=Dc,Nc[7]=xd,Nc[8]=qc,Nc[9]=Yi,jd[0]=xu,jd[1]=rl,jd[2]=xl,jd[3]=gu,jd[4]=md,jd[5]=Qi,jd[6]=Ha,Pc[0]=bc,Pc[1]=gl,Pc[2]=vl,Pc[3]=Zd,Pc[4]=al,Pc[5]=Qo,Pc[6]=bd,_t=1}else _t=0}_t&&(_t=(function(ca,ro){for(ca.M=0;ca.M<ca.Va;++ca.M){var Mn,Rr=ca.Jc[ca.M&ca.Xb],dr=ca.m,_i=ca;for(Mn=0;Mn<_i.za;++Mn){var On=dr,Vn=_i,ni=Vn.Ac,jo=Vn.Bc+4*Mn,Ho=Vn.zc,Oa=Vn.ya[Vn.aa+Mn];if(Vn.Qa.Bb?Oa.$b=Ls(On,Vn.Pa.jb[0])?2+Ls(On,Vn.Pa.jb[2]):Ls(On,Vn.Pa.jb[1]):Oa.$b=0,Vn.kc&&(Oa.Ad=Ls(On,Vn.Bd)),Oa.Za=!Ls(On,145)+0,Oa.Za){var zo=Oa.Ob,jl=0;for(Vn=0;4>Vn;++Vn){var Hi,ia=Ho[0+Vn];for(Hi=0;4>Hi;++Hi){ia=Wh[ni[jo+Hi]][ia];for(var cn=Gh[Ls(On,ia[0])];0<cn;)cn=Gh[2*cn+Ls(On,ia[cn])];ia=-cn,ni[jo+Hi]=ia}I(zo,jl,ni,jo,4),jl+=4,Ho[0+Vn]=ia}}else ia=Ls(On,156)?Ls(On,128)?1:3:Ls(On,163)?2:0,Oa.Ob[0]=ia,P(ni,jo,ia,4),P(Ho,0,ia,4);Oa.Dd=Ls(On,142)?Ls(On,114)?Ls(On,183)?1:3:2:0}if(_i.m.Ka)return An(ca,7,"Premature end-of-partition0 encountered.");for(;ca.ja<ca.za;++ca.ja){if(_i=Rr,On=(dr=ca).rb[dr.sb-1],ni=dr.rb[dr.sb+dr.ja],Mn=dr.ya[dr.aa+dr.ja],jo=dr.kc?Mn.Ad:0)On.la=ni.la=0,Mn.Za||(On.Na=ni.Na=0),Mn.Hc=0,Mn.Gc=0,Mn.ia=0;else{var Zi,$a;if(On=ni,ni=_i,jo=dr.Pa.Xc,Ho=dr.ya[dr.aa+dr.ja],Oa=dr.pb[Ho.$b],Vn=Ho.ad,zo=0,jl=dr.rb[dr.sb-1],ia=Hi=0,P(Vn,zo,0,384),Ho.Za)var $o=0,dl=jo[3];else{cn=V(16);var Xa=On.Na+jl.Na;if(Xa=Nu(ni,jo[1],Xa,Oa.Eb,0,cn,0),On.Na=jl.Na=(0<Xa)+0,1<Xa)tc(cn,0,Vn,zo);else{var ul=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Vn[zo+cn]=ul}$o=1,dl=jo[0]}var Ja=15&On.la,Ws=15&jl.la;for(cn=0;4>cn;++cn){var ai=1&Ws;for(ul=$a=0;4>ul;++ul)Ja=Ja>>1|(ai=(Xa=Nu(ni,dl,Xa=ai+(1&Ja),Oa.Sc,$o,Vn,zo))>$o)<<7,$a=$a<<2|(3<Xa?3:1<Xa?2:Vn[zo+0]!=0),zo+=16;Ja>>=4,Ws=Ws>>1|ai<<7,Hi=(Hi<<8|$a)>>>0}for(dl=Ja,$o=Ws>>4,Zi=0;4>Zi;Zi+=2){for($a=0,Ja=On.la>>4+Zi,Ws=jl.la>>4+Zi,cn=0;2>cn;++cn){for(ai=1&Ws,ul=0;2>ul;++ul)Xa=ai+(1&Ja),Ja=Ja>>1|(ai=0<(Xa=Nu(ni,jo[2],Xa,Oa.Qc,0,Vn,zo)))<<3,$a=$a<<2|(3<Xa?3:1<Xa?2:Vn[zo+0]!=0),zo+=16;Ja>>=2,Ws=Ws>>1|ai<<5}ia|=$a<<4*Zi,dl|=Ja<<4<<Zi,$o|=(240&Ws)<<Zi}On.la=dl,jl.la=$o,Ho.Hc=Hi,Ho.Gc=ia,Ho.ia=43690&ia?0:Oa.ia,jo=!(Hi|ia)}if(0<dr.L&&(dr.wa[dr.Y+dr.ja]=dr.gd[Mn.$b][Mn.Za],dr.wa[dr.Y+dr.ja].La|=!jo),_i.Ka)return An(ca,7,"Premature end-of-file encountered.")}if(Oc(ca),dr=ro,_i=1,Mn=(Rr=ca).D,On=0<Rr.L&&Rr.M>=Rr.zb&&Rr.M<=Rr.Va,Rr.Aa==0)t:{if(Mn.M=Rr.M,Mn.uc=On,tr(Rr,Mn),_i=1,Mn=($a=Rr.D).Nb,On=(ia=yA[Rr.L])*Rr.R,ni=ia/2*Rr.B,cn=16*Mn*Rr.R,ul=8*Mn*Rr.B,jo=Rr.sa,Ho=Rr.ta-On+cn,Oa=Rr.qa,Vn=Rr.ra-ni+ul,zo=Rr.Ha,jl=Rr.Ia-ni+ul,Ws=(Ja=$a.M)==0,Hi=Ja>=Rr.Va-1,Rr.Aa==2&&tr(Rr,$a),$a.uc)for(ai=(Xa=Rr).D.M,v(Xa.D.uc),$a=Xa.yb;$a<Xa.Hb;++$a){$o=$a,dl=ai;var No=(di=(Vo=Xa).D).Nb;Zi=Vo.R;var di=di.wa[di.Y+$o],nc=Vo.sa,Fn=Vo.ta+16*No*Zi+16*$o,ea=di.dd,Sa=di.tc;if(Sa!=0)if(v(3<=Sa),Vo.L==1)0<$o&&cl(nc,Fn,Zi,Sa+4),di.La&&uA(nc,Fn,Zi,Sa),0<dl&&dA(nc,Fn,Zi,Sa+4),di.La&&Ti(nc,Fn,Zi,Sa);else{var ac=Vo.B,qi=Vo.qa,ui=Vo.ra+8*No*ac+8*$o,ic=Vo.Ha,Vo=Vo.Ia+8*No*ac+8*$o;No=di.ld,0<$o&&(Ji(nc,Fn,Zi,Sa+4,ea,No),yu(qi,ui,ic,Vo,ac,Sa+4,ea,No)),di.La&&(Ou(nc,Fn,Zi,Sa,ea,No),cA(qi,ui,ic,Vo,ac,Sa,ea,No)),0<dl&&(_n(nc,Fn,Zi,Sa+4,ea,No),ad(qi,ui,ic,Vo,ac,Sa+4,ea,No)),di.La&&(Id(nc,Fn,Zi,Sa,ea,No),lA(qi,ui,ic,Vo,ac,Sa,ea,No))}}if(Rr.ia&&alert("todo:DitherRow"),dr.put!=null){if($a=16*Ja,Ja=16*(Ja+1),Ws?(dr.y=Rr.sa,dr.O=Rr.ta+cn,dr.f=Rr.qa,dr.N=Rr.ra+ul,dr.ea=Rr.Ha,dr.W=Rr.Ia+ul):($a-=ia,dr.y=jo,dr.O=Ho,dr.f=Oa,dr.N=Vn,dr.ea=zo,dr.W=jl),Hi||(Ja-=ia),Ja>dr.o&&(Ja=dr.o),dr.F=null,dr.J=null,Rr.Fa!=null&&0<Rr.Fa.length&&$a<Ja&&(dr.J=Ba(Rr,dr,$a,Ja-$a),dr.F=Rr.mb,dr.F==null&&dr.F.length==0)){_i=An(Rr,3,"Could not decode alpha data.");break t}$a<dr.j&&(ia=dr.j-$a,$a=dr.j,v(!(1&ia)),dr.O+=Rr.R*ia,dr.N+=Rr.B*(ia>>1),dr.W+=Rr.B*(ia>>1),dr.F!=null&&(dr.J+=dr.width*ia)),$a<Ja&&(dr.O+=dr.v,dr.N+=dr.v>>1,dr.W+=dr.v>>1,dr.F!=null&&(dr.J+=dr.v),dr.ka=$a-dr.j,dr.U=dr.va-dr.v,dr.T=Ja-$a,_i=dr.put(dr))}Mn+1!=Rr.Ic||Hi||(I(Rr.sa,Rr.ta-On,jo,Ho+16*Rr.R,On),I(Rr.qa,Rr.ra-ni,Oa,Vn+8*Rr.B,ni),I(Rr.Ha,Rr.Ia-ni,zo,jl+8*Rr.B,ni))}if(!_i)return An(ca,6,"Output aborted.")}return 1})(st,Ft)),Ft.bc!=null&&Ft.bc(Ft),_t&=1}return _t?(st.cb=0,_t):0})(C,me)||(D=C.a)}}else D=C.a}D==0&&Oe.Oa!=null&&Oe.Oa.fd&&(D=zr(Oe.ba))}Oe=D}Ie=Oe!=0?null:11>Ie?He.f.RGBA.eb:He.f.kb.y}else Ie=null;return Ie};var _u=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function ke(vt,ts){for(var Xe="",rt=0;rt<4;rt++)Xe+=String.fromCharCode(vt[ts++]);return Xe}function Me(vt,ts){return vt[ts+0]|vt[ts+1]<<8}function $e(vt,ts){return(vt[ts+0]|vt[ts+1]<<8|vt[ts+2]<<16)>>>0}function Je(vt,ts){return(vt[ts+0]|vt[ts+1]<<8|vt[ts+2]<<16|vt[ts+3]<<24)>>>0}new ee;var xe=[0],ct=[0],ot=[],At=new ee,Ye=N,wt=(function(vt,ts){var Xe={},rt=0,xt=!1,bt=0,rs=0;if(Xe.frames=[],!(function(_e,dt){for(var ht=0;ht<4;ht++)if(_e[dt+ht]!="RIFF".charCodeAt(ht))return!0;return!1})(vt,ts)){for(Je(vt,ts+=4),ts+=8;ts<vt.length;){var ds=ke(vt,ts),bs=Je(vt,ts+=4);ts+=4;var Kt=bs+(1&bs);switch(ds){case"VP8 ":case"VP8L":Xe.frames[rt]===void 0&&(Xe.frames[rt]={}),(_s=Xe.frames[rt]).src_off=xt?rs:ts-8,_s.src_size=bt+bs+8,rt++,xt&&(xt=!1,bt=0,rs=0);break;case"VP8X":(_s=Xe.header={}).feature_flags=vt[ts];var fs=ts+4;_s.canvas_width=1+$e(vt,fs),fs+=3,_s.canvas_height=1+$e(vt,fs),fs+=3;break;case"ALPH":xt=!0,bt=Kt+8,rs=ts-8;break;case"ANIM":(_s=Xe.header).bgcolor=Je(vt,ts),fs=ts+4,_s.loop_count=Me(vt,fs),fs+=2;break;case"ANMF":var Xs,_s;(_s=Xe.frames[rt]={}).offset_x=2*$e(vt,ts),ts+=3,_s.offset_y=2*$e(vt,ts),ts+=3,_s.width=1+$e(vt,ts),ts+=3,_s.height=1+$e(vt,ts),ts+=3,_s.duration=$e(vt,ts),ts+=3,Xs=vt[ts++],_s.dispose=1&Xs,_s.blend=Xs>>1&1}ds!="ANMF"&&(ts+=Kt)}return Xe}})(Ye,0);wt.response=Ye,wt.rgbaoutput=!0,wt.dataurl=!1;var Rt=wt.header?wt.header:null,gt=wt.frames?wt.frames:null;if(Rt){Rt.loop_counter=Rt.loop_count,xe=[Rt.canvas_height],ct=[Rt.canvas_width];for(var Ge=0;Ge<gt.length&&gt[Ge].blend!=0;Ge++);}var Mt=gt[0],is=At.WebPDecodeRGBA(Ye,Mt.src_off,Mt.src_size,ct,xe);Mt.rgba=is,Mt.imgwidth=ct[0],Mt.imgheight=xe[0];for(var Ht=0;Ht<ct[0]*xe[0]*4;Ht++)ot[Ht]=is[Ht];return this.width=ct,this.height=xe,this.data=ot,this}(function(N){var v,S,I,P,V,de,q,ee,ke,Me=function(_e){return _e=_e||{},this.isStrokeTransparent=_e.isStrokeTransparent||!1,this.strokeOpacity=_e.strokeOpacity||1,this.strokeStyle=_e.strokeStyle||"#000000",this.fillStyle=_e.fillStyle||"#000000",this.isFillTransparent=_e.isFillTransparent||!1,this.fillOpacity=_e.fillOpacity||1,this.font=_e.font||"10px sans-serif",this.textBaseline=_e.textBaseline||"alphabetic",this.textAlign=_e.textAlign||"left",this.lineWidth=_e.lineWidth||1,this.lineJoin=_e.lineJoin||"miter",this.lineCap=_e.lineCap||"butt",this.path=_e.path||[],this.transform=_e.transform!==void 0?_e.transform.clone():new ee,this.globalCompositeOperation=_e.globalCompositeOperation||"normal",this.globalAlpha=_e.globalAlpha||1,this.clip_path=_e.clip_path||[],this.currentPoint=_e.currentPoint||new de,this.miterLimit=_e.miterLimit||10,this.lastPoint=_e.lastPoint||new de,this.lineDashOffset=_e.lineDashOffset||0,this.lineDash=_e.lineDash||[],this.margin=_e.margin||[0,0,0,0],this.prevPageLastElemOffset=_e.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _e.ignoreClearRect!="boolean"||_e.ignoreClearRect,this};N.events.push(["initialized",function(){this.context2d=new $e(this),v=this.internal.f2,S=this.internal.getCoordinateString,I=this.internal.getVerticalCoordinateString,P=this.internal.getHorizontalCoordinate,V=this.internal.getVerticalCoordinate,de=this.internal.Point,q=this.internal.Rectangle,ee=this.internal.Matrix,ke=new Me}]);var $e=function(_e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var dt=_e;Object.defineProperty(this,"pdf",{get:function(){return dt}});var ht=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ht},set:function(tt){ht=!!tt}});var Ot=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ot},set:function(tt){Ot=!!tt}});var Pt=0;Object.defineProperty(this,"posX",{get:function(){return Pt},set:function(tt){isNaN(tt)||(Pt=tt)}});var Yt=0;Object.defineProperty(this,"posY",{get:function(){return Yt},set:function(tt){isNaN(tt)||(Yt=tt)}}),Object.defineProperty(this,"margin",{get:function(){return ke.margin},set:function(tt){var lr;typeof tt=="number"?lr=[tt,tt,tt,tt]:((lr=new Array(4))[0]=tt[0],lr[1]=tt.length>=2?tt[1]:lr[0],lr[2]=tt.length>=3?tt[2]:lr[0],lr[3]=tt.length>=4?tt[3]:lr[1]),ke.margin=lr}});var ps=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ps},set:function(tt){ps=tt}});var gs=0;Object.defineProperty(this,"lastBreak",{get:function(){return gs},set:function(tt){gs=tt}});var Ls=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ls},set:function(tt){Ls=tt}}),Object.defineProperty(this,"ctx",{get:function(){return ke},set:function(tt){tt instanceof Me&&(ke=tt)}}),Object.defineProperty(this,"path",{get:function(){return ke.path},set:function(tt){ke.path=tt}});var Js=[];Object.defineProperty(this,"ctxStack",{get:function(){return Js},set:function(tt){Js=tt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(tt){var lr;lr=Je(tt),this.ctx.fillStyle=lr.style,this.ctx.isFillTransparent=lr.a===0,this.ctx.fillOpacity=lr.a,this.pdf.setFillColor(lr.r,lr.g,lr.b,{a:lr.a}),this.pdf.setTextColor(lr.r,lr.g,lr.b,{a:lr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(tt){var lr=Je(tt);this.ctx.strokeStyle=lr.style,this.ctx.isStrokeTransparent=lr.a===0,this.ctx.strokeOpacity=lr.a,lr.a===0?this.pdf.setDrawColor(255,255,255):(lr.a,this.pdf.setDrawColor(lr.r,lr.g,lr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(tt){["butt","round","square"].indexOf(tt)!==-1&&(this.ctx.lineCap=tt,this.pdf.setLineCap(tt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(tt){isNaN(tt)||(this.ctx.lineWidth=tt,this.pdf.setLineWidth(tt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(tt){["bevel","round","miter"].indexOf(tt)!==-1&&(this.ctx.lineJoin=tt,this.pdf.setLineJoin(tt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(tt){isNaN(tt)||(this.ctx.miterLimit=tt,this.pdf.setMiterLimit(tt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(tt){this.ctx.textBaseline=tt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(tt){["right","end","center","left","start"].indexOf(tt)!==-1&&(this.ctx.textAlign=tt)}});var xr=null,mr=null,Yr=null;Object.defineProperty(this,"fontFaces",{get:function(){return Yr},set:function(tt){xr=null,mr=null,Yr=tt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(tt){var lr;if(this.ctx.font=tt,(lr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(tt))!==null){var un=lr[1];lr[2];var rr=lr[3],Hs=lr[4];lr[5];var sn=lr[6],yr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Hs)[2];Hs=Math.floor(yr==="px"?parseFloat(Hs)*this.pdf.internal.scaleFactor:yr==="em"?parseFloat(Hs)*this.pdf.getFontSize():parseFloat(Hs)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Hs);var Vr=(function(Dr){var vn,Yn,En=[],Pn=Dr.trim();if(Pn==="")return ki;if(Pn in Rn)return[Rn[Pn]];for(;Pn!=="";){switch(Yn=null,vn=(Pn=oi(Pn)).charAt(0)){case'"':case"'":Yn=Uo(Pn.substring(1),vn);break;default:Yn=Kl(Pn)}if(Yn===null||(En.push(Yn[0]),(Pn=oi(Yn[1]))!==""&&Pn.charAt(0)!==","))return ki;Pn=Pn.replace(/^,/,"")}return En})(sn);if(this.fontFaces){var Ir=(function(Dr,vn){var Yn=Dr.getFontList(),En=JSON.stringify(Yn);if(xr===null||mr!==En){var Pn=(function(Wa){var Kr=[];return Object.keys(Wa).forEach(function(_a){Wa[_a].forEach(function(pn){var Hr=null;switch(pn){case"bold":Hr={family:_a,weight:"bold"};break;case"italic":Hr={family:_a,style:"italic"};break;case"bolditalic":Hr={family:_a,weight:"bold",style:"italic"};break;case"":case"normal":Hr={family:_a}}Hr!==null&&(Hr.ref={name:_a,style:pn},Kr.push(Hr))})}),Kr})(Yn);xr=(function(Wa){for(var Kr={},_a=0;_a<Wa.length;++_a){var pn=la(Wa[_a]),Hr=pn.family,Na=pn.stretch,Nn=pn.style,ir=pn.weight;Kr[Hr]=Kr[Hr]||{},Kr[Hr][Na]=Kr[Hr][Na]||{},Kr[Hr][Na][Nn]=Kr[Hr][Na][Nn]||{},Kr[Hr][Na][Nn][ir]=pn}return Kr})(Pn.concat(vn)),mr=En}return xr})(this.pdf,this.fontFaces),Ca=Vr.map(function(Dr){return{family:Dr,stretch:"normal",weight:rr,style:un}}),Sn=(function(Dr,vn,Yn){for(var En=(Yn=Yn||{}).defaultFontFamily||"times",Pn=Object.assign({},Ii,Yn.genericFontFamilies||{}),Wa=null,Kr=null,_a=0;_a<vn.length;++_a)if(Pn[(Wa=la(vn[_a])).family]&&(Wa.family=Pn[Wa.family]),Dr.hasOwnProperty(Wa.family)){Kr=Dr[Wa.family];break}if(!(Kr=Kr||Dr[En]))throw new Error("Could not find a font-family for the rule '"+mc(Wa)+"' and default family '"+En+"'.");if(Kr=(function(pn,Hr){if(Hr[pn])return Hr[pn];var Na=fn[pn],Nn=Na<=fn.normal?-1:1,ir=Dn(Hr,fa,Na,Nn);if(!ir)throw new Error("Could not find a matching font-stretch value for "+pn);return ir})(Wa.stretch,Kr),Kr=(function(pn,Hr){if(Hr[pn])return Hr[pn];for(var Na=Da[pn],Nn=0;Nn<Na.length;++Nn)if(Hr[Na[Nn]])return Hr[Na[Nn]];throw new Error("Could not find a matching font-style for "+pn)})(Wa.style,Kr),!(Kr=(function(pn,Hr){if(Hr[pn])return Hr[pn];if(pn===400&&Hr[500])return Hr[500];if(pn===500&&Hr[400])return Hr[400];var Na=dn[pn],Nn=Dn(Hr,jn,Na,pn<400?-1:1);if(!Nn)throw new Error("Could not find a matching font-weight for value "+pn);return Nn})(Wa.weight,Kr)))throw new Error("Failed to resolve a font for the rule '"+mc(Wa)+"'.");return Kr})(Ir,Ca);this.pdf.setFont(Sn.ref.name,Sn.ref.style)}else{var Cr="";(rr==="bold"||parseInt(rr,10)>=700||un==="bold")&&(Cr="bold"),un==="italic"&&(Cr+="italic"),Cr.length===0&&(Cr="normal");for(var $n="",Xr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Br=0;Br<Vr.length;Br++){if(this.pdf.internal.getFont(Vr[Br],Cr,{noFallback:!0,disableWarning:!0})!==void 0){$n=Vr[Br];break}if(Cr==="bolditalic"&&this.pdf.internal.getFont(Vr[Br],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$n=Vr[Br],Cr="bold";else if(this.pdf.internal.getFont(Vr[Br],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$n=Vr[Br],Cr="normal";break}}if($n===""){for(var nn=0;nn<Vr.length;nn++)if(Xr[Vr[nn]]){$n=Xr[Vr[nn]];break}}$n=$n===""?"Times":$n,this.pdf.setFont($n,Cr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(tt){this.ctx.globalCompositeOperation=tt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(tt){this.ctx.globalAlpha=tt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(tt){this.ctx.lineDashOffset=tt,_s.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(tt){this.ctx.lineDash=tt,_s.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(tt){this.ctx.ignoreClearRect=!!tt}})};$e.prototype.setLineDash=function(_e){this.lineDash=_e},$e.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},$e.prototype.fill=function(){gt.call(this,"fill",!1)},$e.prototype.stroke=function(){gt.call(this,"stroke",!1)},$e.prototype.beginPath=function(){this.path=[{type:"begin"}]},$e.prototype.moveTo=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw y.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ht=this.ctx.transform.applyToPoint(new de(_e,dt));this.path.push({type:"mt",x:ht.x,y:ht.y}),this.ctx.lastPoint=new de(_e,dt)},$e.prototype.closePath=function(){var _e=new de(0,0),dt=0;for(dt=this.path.length-1;dt!==-1;dt--)if(this.path[dt].type==="begin"&&(0,f.default)(this.path[dt+1])==="object"&&typeof this.path[dt+1].x=="number"){_e=new de(this.path[dt+1].x,this.path[dt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new de(_e.x,_e.y)},$e.prototype.lineTo=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw y.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ht=this.ctx.transform.applyToPoint(new de(_e,dt));this.path.push({type:"lt",x:ht.x,y:ht.y}),this.ctx.lastPoint=new de(ht.x,ht.y)},$e.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),gt.call(this,null,!0)},$e.prototype.quadraticCurveTo=function(_e,dt,ht,Ot){if(isNaN(ht)||isNaN(Ot)||isNaN(_e)||isNaN(dt))throw y.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Pt=this.ctx.transform.applyToPoint(new de(ht,Ot)),Yt=this.ctx.transform.applyToPoint(new de(_e,dt));this.path.push({type:"qct",x1:Yt.x,y1:Yt.y,x:Pt.x,y:Pt.y}),this.ctx.lastPoint=new de(Pt.x,Pt.y)},$e.prototype.bezierCurveTo=function(_e,dt,ht,Ot,Pt,Yt){if(isNaN(Pt)||isNaN(Yt)||isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot))throw y.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ps=this.ctx.transform.applyToPoint(new de(Pt,Yt)),gs=this.ctx.transform.applyToPoint(new de(_e,dt)),Ls=this.ctx.transform.applyToPoint(new de(ht,Ot));this.path.push({type:"bct",x1:gs.x,y1:gs.y,x2:Ls.x,y2:Ls.y,x:ps.x,y:ps.y}),this.ctx.lastPoint=new de(ps.x,ps.y)},$e.prototype.arc=function(_e,dt,ht,Ot,Pt,Yt){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot)||isNaN(Pt))throw y.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Yt=!!Yt,!this.ctx.transform.isIdentity){var ps=this.ctx.transform.applyToPoint(new de(_e,dt));_e=ps.x,dt=ps.y;var gs=this.ctx.transform.applyToPoint(new de(0,ht)),Ls=this.ctx.transform.applyToPoint(new de(0,0));ht=Math.sqrt(Math.pow(gs.x-Ls.x,2)+Math.pow(gs.y-Ls.y,2))}Math.abs(Pt-Ot)>=2*Math.PI&&(Ot=0,Pt=2*Math.PI),this.path.push({type:"arc",x:_e,y:dt,radius:ht,startAngle:Ot,endAngle:Pt,counterclockwise:Yt})},$e.prototype.arcTo=function(_e,dt,ht,Ot,Pt){throw new Error("arcTo not implemented.")},$e.prototype.rect=function(_e,dt,ht,Ot){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot))throw y.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_e,dt),this.lineTo(_e+ht,dt),this.lineTo(_e+ht,dt+Ot),this.lineTo(_e,dt+Ot),this.lineTo(_e,dt),this.lineTo(_e+ht,dt),this.lineTo(_e,dt)},$e.prototype.fillRect=function(_e,dt,ht,Ot){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot))throw y.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!xe.call(this)){var Pt={};this.lineCap!=="butt"&&(Pt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Pt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_e,dt,ht,Ot),this.fill(),Pt.hasOwnProperty("lineCap")&&(this.lineCap=Pt.lineCap),Pt.hasOwnProperty("lineJoin")&&(this.lineJoin=Pt.lineJoin)}},$e.prototype.strokeRect=function(_e,dt,ht,Ot){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot))throw y.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ct.call(this)||(this.beginPath(),this.rect(_e,dt,ht,Ot),this.stroke())},$e.prototype.clearRect=function(_e,dt,ht,Ot){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot))throw y.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_e,dt,ht,Ot))},$e.prototype.save=function(_e){_e=typeof _e!="boolean"||_e;for(var dt=this.pdf.internal.getCurrentPageInfo().pageNumber,ht=0;ht<this.pdf.internal.getNumberOfPages();ht++)this.pdf.setPage(ht+1),this.pdf.internal.out("q");if(this.pdf.setPage(dt),_e){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ot=new Me(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ot}},$e.prototype.restore=function(_e){_e=typeof _e!="boolean"||_e;for(var dt=this.pdf.internal.getCurrentPageInfo().pageNumber,ht=0;ht<this.pdf.internal.getNumberOfPages();ht++)this.pdf.setPage(ht+1),this.pdf.internal.out("Q");this.pdf.setPage(dt),_e&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},$e.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Je=function(_e){var dt,ht,Ot,Pt;if(_e.isCanvasGradient===!0&&(_e=_e.getColor()),!_e)return{r:0,g:0,b:0,a:0,style:_e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_e))dt=0,ht=0,Ot=0,Pt=0;else{var Yt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_e);if(Yt!==null)dt=parseInt(Yt[1]),ht=parseInt(Yt[2]),Ot=parseInt(Yt[3]),Pt=1;else if((Yt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_e))!==null)dt=parseInt(Yt[1]),ht=parseInt(Yt[2]),Ot=parseInt(Yt[3]),Pt=parseFloat(Yt[4]);else{if(Pt=1,typeof _e=="string"&&_e.charAt(0)!=="#"){var ps=new Y(_e);_e=ps.ok?ps.toHex():"#000000"}_e.length===4?(dt=_e.substring(1,2),dt+=dt,ht=_e.substring(2,3),ht+=ht,Ot=_e.substring(3,4),Ot+=Ot):(dt=_e.substring(1,3),ht=_e.substring(3,5),Ot=_e.substring(5,7)),dt=parseInt(dt,16),ht=parseInt(ht,16),Ot=parseInt(Ot,16)}}return{r:dt,g:ht,b:Ot,a:Pt,style:_e}},xe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},ct=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};$e.prototype.fillText=function(_e,dt,ht,Ot){if(isNaN(dt)||isNaN(ht)||typeof _e!="string")throw y.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ot=isNaN(Ot)?void 0:Ot,!xe.call(this)){var Pt=Kt(this.ctx.transform.rotation),Yt=this.ctx.transform.scaleX;rt.call(this,{text:_e,x:dt,y:ht,scale:Yt,angle:Pt,align:this.textAlign,maxWidth:Ot})}},$e.prototype.strokeText=function(_e,dt,ht,Ot){if(isNaN(dt)||isNaN(ht)||typeof _e!="string")throw y.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ct.call(this)){Ot=isNaN(Ot)?void 0:Ot;var Pt=Kt(this.ctx.transform.rotation),Yt=this.ctx.transform.scaleX;rt.call(this,{text:_e,x:dt,y:ht,scale:Yt,renderingMode:"stroke",angle:Pt,align:this.textAlign,maxWidth:Ot})}},$e.prototype.measureText=function(_e){if(typeof _e!="string")throw y.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var dt=this.pdf,ht=this.pdf.internal.scaleFactor,Ot=dt.internal.getFontSize(),Pt=dt.getStringUnitWidth(_e)*Ot/dt.internal.scaleFactor;return new function(Yt){var ps=(Yt=Yt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ps}}),this}({width:Pt*=Math.round(96*ht/72*1e4)/1e4})},$e.prototype.scale=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw y.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ht=new ee(_e,0,0,dt,0,0);this.ctx.transform=this.ctx.transform.multiply(ht)},$e.prototype.rotate=function(_e){if(isNaN(_e))throw y.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var dt=new ee(Math.cos(_e),Math.sin(_e),-Math.sin(_e),Math.cos(_e),0,0);this.ctx.transform=this.ctx.transform.multiply(dt)},$e.prototype.translate=function(_e,dt){if(isNaN(_e)||isNaN(dt))throw y.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ht=new ee(1,0,0,1,_e,dt);this.ctx.transform=this.ctx.transform.multiply(ht)},$e.prototype.transform=function(_e,dt,ht,Ot,Pt,Yt){if(isNaN(_e)||isNaN(dt)||isNaN(ht)||isNaN(Ot)||isNaN(Pt)||isNaN(Yt))throw y.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ps=new ee(_e,dt,ht,Ot,Pt,Yt);this.ctx.transform=this.ctx.transform.multiply(ps)},$e.prototype.setTransform=function(_e,dt,ht,Ot,Pt,Yt){_e=isNaN(_e)?1:_e,dt=isNaN(dt)?0:dt,ht=isNaN(ht)?0:ht,Ot=isNaN(Ot)?1:Ot,Pt=isNaN(Pt)?0:Pt,Yt=isNaN(Yt)?0:Yt,this.ctx.transform=new ee(_e,dt,ht,Ot,Pt,Yt)};var ot=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};$e.prototype.drawImage=function(_e,dt,ht,Ot,Pt,Yt,ps,gs,Ls){var Js=this.pdf.getImageProperties(_e),xr=1,mr=1,Yr=1,tt=1;Ot!==void 0&&gs!==void 0&&(Yr=gs/Ot,tt=Ls/Pt,xr=Js.width/Ot*gs/Ot,mr=Js.height/Pt*Ls/Pt),Yt===void 0&&(Yt=dt,ps=ht,dt=0,ht=0),Ot!==void 0&&gs===void 0&&(gs=Ot,Ls=Pt),Ot===void 0&&gs===void 0&&(gs=Js.width,Ls=Js.height);var lr=this.ctx.transform.decompose(),un=Kt(lr.rotate.shx),rr=new ee,Hs=(rr=(rr=(rr=rr.multiply(lr.translate)).multiply(lr.skew)).multiply(lr.scale)).applyToRectangle(new q(Yt-dt*Yr,ps-ht*tt,Ot*xr,Pt*mr));if(this.autoPaging){for(var sn,yr=At.call(this,Hs),Vr=[],Ir=0;Ir<yr.length;Ir+=1)Vr.indexOf(yr[Ir])===-1&&Vr.push(yr[Ir]);Rt(Vr);for(var Ca=Vr[0],Sn=Vr[Vr.length-1],Cr=Ca;Cr<Sn+1;Cr++){this.pdf.setPage(Cr);var $n=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xr=Cr===1?this.posY+this.margin[0]:this.margin[0],Br=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dr=Cr===1?0:Br+(Cr-2)*nn;if(this.ctx.clip_path.length!==0){var vn=this.path;sn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=wt(sn,this.posX+this.margin[3],-Dr+Xr+this.ctx.prevPageLastElemOffset),Ge.call(this,"fill",!0),this.path=vn}var Yn=JSON.parse(JSON.stringify(Hs));Yn=wt([Yn],this.posX+this.margin[3],-Dr+Xr+this.ctx.prevPageLastElemOffset)[0];var En=(Cr>Ca||Cr<Sn)&&ot.call(this);En&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$n,nn,null).clip().discardPath()),this.pdf.addImage(_e,"JPEG",Yn.x,Yn.y,Yn.w,Yn.h,null,null,un),En&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(_e,"JPEG",Hs.x,Hs.y,Hs.w,Hs.h,null,null,un)};var At=function(_e,dt,ht){var Ot=[];dt=dt||this.pdf.internal.pageSize.width,ht=ht||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Pt=this.posY+this.ctx.prevPageLastElemOffset;switch(_e.type){default:case"mt":case"lt":Ot.push(Math.floor((_e.y+Pt)/ht)+1);break;case"arc":Ot.push(Math.floor((_e.y+Pt-_e.radius)/ht)+1),Ot.push(Math.floor((_e.y+Pt+_e.radius)/ht)+1);break;case"qct":var Yt=fs(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_e.x1,_e.y1,_e.x,_e.y);Ot.push(Math.floor((Yt.y+Pt)/ht)+1),Ot.push(Math.floor((Yt.y+Yt.h+Pt)/ht)+1);break;case"bct":var ps=Xs(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_e.x1,_e.y1,_e.x2,_e.y2,_e.x,_e.y);Ot.push(Math.floor((ps.y+Pt)/ht)+1),Ot.push(Math.floor((ps.y+ps.h+Pt)/ht)+1);break;case"rect":Ot.push(Math.floor((_e.y+Pt)/ht)+1),Ot.push(Math.floor((_e.y+_e.h+Pt)/ht)+1)}for(var gs=0;gs<Ot.length;gs+=1)for(;this.pdf.internal.getNumberOfPages()<Ot[gs];)Ye.call(this);return Ot},Ye=function(){var _e=this.fillStyle,dt=this.strokeStyle,ht=this.font,Ot=this.lineCap,Pt=this.lineWidth,Yt=this.lineJoin;this.pdf.addPage(),this.fillStyle=_e,this.strokeStyle=dt,this.font=ht,this.lineCap=Ot,this.lineWidth=Pt,this.lineJoin=Yt},wt=function(_e,dt,ht){for(var Ot=0;Ot<_e.length;Ot++)switch(_e[Ot].type){case"bct":_e[Ot].x2+=dt,_e[Ot].y2+=ht;case"qct":_e[Ot].x1+=dt,_e[Ot].y1+=ht;default:_e[Ot].x+=dt,_e[Ot].y+=ht}return _e},Rt=function(_e){return _e.sort(function(dt,ht){return dt-ht})},gt=function(_e,dt){var ht=this.fillStyle,Ot=this.strokeStyle,Pt=this.lineCap,Yt=this.lineWidth,ps=Math.abs(Yt*this.ctx.transform.scaleX),gs=this.lineJoin;if(this.autoPaging){for(var Ls,Js,xr=JSON.parse(JSON.stringify(this.path)),mr=JSON.parse(JSON.stringify(this.path)),Yr=[],tt=0;tt<mr.length;tt++)if(mr[tt].x!==void 0)for(var lr=At.call(this,mr[tt]),un=0;un<lr.length;un+=1)Yr.indexOf(lr[un])===-1&&Yr.push(lr[un]);for(var rr=0;rr<Yr.length;rr++)for(;this.pdf.internal.getNumberOfPages()<Yr[rr];)Ye.call(this);Rt(Yr);for(var Hs=Yr[0],sn=Yr[Yr.length-1],yr=Hs;yr<sn+1;yr++){this.pdf.setPage(yr),this.fillStyle=ht,this.strokeStyle=Ot,this.lineCap=Pt,this.lineWidth=ps,this.lineJoin=gs;var Vr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ir=yr===1?this.posY+this.margin[0]:this.margin[0],Ca=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Cr=yr===1?0:Ca+(yr-2)*Sn;if(this.ctx.clip_path.length!==0){var $n=this.path;Ls=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=wt(Ls,this.posX+this.margin[3],-Cr+Ir+this.ctx.prevPageLastElemOffset),Ge.call(this,_e,!0),this.path=$n}if(Js=JSON.parse(JSON.stringify(xr)),this.path=wt(Js,this.posX+this.margin[3],-Cr+Ir+this.ctx.prevPageLastElemOffset),dt===!1||yr===0){var Xr=(yr>Hs||yr<sn)&&ot.call(this);Xr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vr,Sn,null).clip().discardPath()),Ge.call(this,_e,dt),Xr&&this.pdf.restoreGraphicsState()}this.lineWidth=Yt}this.path=xr}else this.lineWidth=ps,Ge.call(this,_e,dt),this.lineWidth=Yt},Ge=function(_e,dt){if((_e!=="stroke"||dt||!ct.call(this))&&(_e==="stroke"||dt||!xe.call(this))){for(var ht,Ot,Pt=[],Yt=this.path,ps=0;ps<Yt.length;ps++){var gs=Yt[ps];switch(gs.type){case"begin":Pt.push({begin:!0});break;case"close":Pt.push({close:!0});break;case"mt":Pt.push({start:gs,deltas:[],abs:[]});break;case"lt":var Ls=Pt.length;if(Yt[ps-1]&&!isNaN(Yt[ps-1].x)&&(ht=[gs.x-Yt[ps-1].x,gs.y-Yt[ps-1].y],Ls>0)){for(;Ls>=0;Ls--)if(Pt[Ls-1].close!==!0&&Pt[Ls-1].begin!==!0){Pt[Ls-1].deltas.push(ht),Pt[Ls-1].abs.push(gs);break}}break;case"bct":ht=[gs.x1-Yt[ps-1].x,gs.y1-Yt[ps-1].y,gs.x2-Yt[ps-1].x,gs.y2-Yt[ps-1].y,gs.x-Yt[ps-1].x,gs.y-Yt[ps-1].y],Pt[Pt.length-1].deltas.push(ht);break;case"qct":var Js=Yt[ps-1].x+2/3*(gs.x1-Yt[ps-1].x),xr=Yt[ps-1].y+2/3*(gs.y1-Yt[ps-1].y),mr=gs.x+2/3*(gs.x1-gs.x),Yr=gs.y+2/3*(gs.y1-gs.y),tt=gs.x,lr=gs.y;ht=[Js-Yt[ps-1].x,xr-Yt[ps-1].y,mr-Yt[ps-1].x,Yr-Yt[ps-1].y,tt-Yt[ps-1].x,lr-Yt[ps-1].y],Pt[Pt.length-1].deltas.push(ht);break;case"arc":Pt.push({deltas:[],abs:[],arc:!0}),Array.isArray(Pt[Pt.length-1].abs)&&Pt[Pt.length-1].abs.push(gs)}}Ot=dt?null:_e==="stroke"?"stroke":"fill";for(var un=!1,rr=0;rr<Pt.length;rr++)if(Pt[rr].arc)for(var Hs=Pt[rr].abs,sn=0;sn<Hs.length;sn++){var yr=Hs[sn];yr.type==="arc"?Ht.call(this,yr.x,yr.y,yr.radius,yr.startAngle,yr.endAngle,yr.counterclockwise,void 0,dt,!un):xt.call(this,yr.x,yr.y),un=!0}else if(Pt[rr].close===!0)this.pdf.internal.out("h"),un=!1;else if(Pt[rr].begin!==!0){var Vr=Pt[rr].start.x,Ir=Pt[rr].start.y;bt.call(this,Pt[rr].deltas,Vr,Ir),un=!0}Ot&&vt.call(this,Ot),dt&&ts.call(this)}},Mt=function(_e){var dt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ht=dt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _e-ht;case"top":return _e+dt-ht;case"hanging":return _e+dt-2*ht;case"middle":return _e+dt/2-ht;default:return _e}},is=function(_e){return _e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};$e.prototype.createLinearGradient=function(){var _e=function(){};return _e.colorStops=[],_e.addColorStop=function(dt,ht){this.colorStops.push([dt,ht])},_e.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_e.isCanvasGradient=!0,_e},$e.prototype.createPattern=function(){return this.createLinearGradient()},$e.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ht=function(_e,dt,ht,Ot,Pt,Yt,ps,gs,Ls){for(var Js=ds.call(this,ht,Ot,Pt,Yt),xr=0;xr<Js.length;xr++){var mr=Js[xr];xr===0&&(Ls?Xe.call(this,mr.x1+_e,mr.y1+dt):xt.call(this,mr.x1+_e,mr.y1+dt)),rs.call(this,_e,dt,mr.x2,mr.y2,mr.x3,mr.y3,mr.x4,mr.y4)}gs?ts.call(this):vt.call(this,ps)},vt=function(_e){switch(_e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ts=function(){this.pdf.clip(),this.pdf.discardPath()},Xe=function(_e,dt){this.pdf.internal.out(S(_e)+" "+I(dt)+" m")},rt=function(_e){var dt;switch(_e.align){case"right":case"end":dt="right";break;case"center":dt="center";break;default:dt="left"}var ht,Ot,Pt,Yt=this.pdf.getTextDimensions(_e.text),ps=Mt.call(this,_e.y),gs=is.call(this,ps)-Yt.h,Ls=this.ctx.transform.applyToPoint(new de(_e.x,ps));if(this.autoPaging){var Js=this.ctx.transform.decompose(),xr=new ee;xr=(xr=(xr=xr.multiply(Js.translate)).multiply(Js.skew)).multiply(Js.scale);for(var mr=this.ctx.transform.applyToRectangle(new q(_e.x,ps,Yt.w,Yt.h)),Yr=xr.applyToRectangle(new q(_e.x,gs,Yt.w,Yt.h)),tt=At.call(this,Yr),lr=[],un=0;un<tt.length;un+=1)lr.indexOf(tt[un])===-1&&lr.push(tt[un]);Rt(lr);for(var rr=lr[0],Hs=lr[lr.length-1],sn=rr;sn<Hs+1;sn++){this.pdf.setPage(sn);var yr=sn===1?this.posY+this.margin[0]:this.margin[0],Vr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ir=this.pdf.internal.pageSize.height-this.margin[2],Ca=Ir-this.margin[0],Sn=this.pdf.internal.pageSize.width-this.margin[1],Cr=Sn-this.margin[3],$n=sn===1?0:Vr+(sn-2)*Ca;if(this.ctx.clip_path.length!==0){var Xr=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=wt(ht,this.posX+this.margin[3],-1*$n+yr),Ge.call(this,"fill",!0),this.path=Xr}var Br=wt([JSON.parse(JSON.stringify(Yr))],this.posX+this.margin[3],-$n+yr+this.ctx.prevPageLastElemOffset)[0];_e.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*_e.scale),Pt=this.lineWidth,this.lineWidth=Pt*_e.scale);var nn=this.autoPaging!=="text";if(nn||Br.y+Br.h<=Ir){if(nn||Br.y>=yr&&Br.x<=Sn){var Dr=nn?_e.text:this.pdf.splitTextToSize(_e.text,_e.maxWidth||Sn-Br.x)[0],vn=wt([JSON.parse(JSON.stringify(mr))],this.posX+this.margin[3],-$n+yr+this.ctx.prevPageLastElemOffset)[0],Yn=nn&&(sn>rr||sn<Hs)&&ot.call(this);Yn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Cr,Ca,null).clip().discardPath()),this.pdf.text(Dr,vn.x,vn.y,{angle:_e.angle,align:dt,renderingMode:_e.renderingMode}),Yn&&this.pdf.restoreGraphicsState()}}else Br.y<Ir&&(this.ctx.prevPageLastElemOffset+=Ir-Br.y);_e.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=Pt)}}else _e.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*_e.scale),Pt=this.lineWidth,this.lineWidth=Pt*_e.scale),this.pdf.text(_e.text,Ls.x+this.posX,Ls.y+this.posY,{angle:_e.angle,align:dt,renderingMode:_e.renderingMode,maxWidth:_e.maxWidth}),_e.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=Pt)},xt=function(_e,dt,ht,Ot){ht=ht||0,Ot=Ot||0,this.pdf.internal.out(S(_e+ht)+" "+I(dt+Ot)+" l")},bt=function(_e,dt,ht){return this.pdf.lines(_e,dt,ht,null,null)},rs=function(_e,dt,ht,Ot,Pt,Yt,ps,gs){this.pdf.internal.out([v(P(ht+_e)),v(V(Ot+dt)),v(P(Pt+_e)),v(V(Yt+dt)),v(P(ps+_e)),v(V(gs+dt)),"c"].join(" "))},ds=function(_e,dt,ht,Ot){for(var Pt=2*Math.PI,Yt=Math.PI/2;dt>ht;)dt-=Pt;var ps=Math.abs(ht-dt);ps<Pt&&Ot&&(ps=Pt-ps);for(var gs=[],Ls=Ot?-1:1,Js=dt;ps>1e-5;){var xr=Js+Ls*Math.min(ps,Yt);gs.push(bs.call(this,_e,Js,xr)),ps-=Math.abs(xr-Js),Js=xr}return gs},bs=function(_e,dt,ht){var Ot=(ht-dt)/2,Pt=_e*Math.cos(Ot),Yt=_e*Math.sin(Ot),ps=Pt,gs=-Yt,Ls=ps*ps+gs*gs,Js=Ls+ps*Pt+gs*Yt,xr=4/3*(Math.sqrt(2*Ls*Js)-Js)/(ps*Yt-gs*Pt),mr=ps-xr*gs,Yr=gs+xr*ps,tt=mr,lr=-Yr,un=Ot+dt,rr=Math.cos(un),Hs=Math.sin(un);return{x1:_e*Math.cos(dt),y1:_e*Math.sin(dt),x2:mr*rr-Yr*Hs,y2:mr*Hs+Yr*rr,x3:tt*rr-lr*Hs,y3:tt*Hs+lr*rr,x4:_e*Math.cos(ht),y4:_e*Math.sin(ht)}},Kt=function(_e){return 180*_e/Math.PI},fs=function(_e,dt,ht,Ot,Pt,Yt){var ps=_e+.5*(ht-_e),gs=dt+.5*(Ot-dt),Ls=Pt+.5*(ht-Pt),Js=Yt+.5*(Ot-Yt),xr=Math.min(_e,Pt,ps,Ls),mr=Math.max(_e,Pt,ps,Ls),Yr=Math.min(dt,Yt,gs,Js),tt=Math.max(dt,Yt,gs,Js);return new q(xr,Yr,mr-xr,tt-Yr)},Xs=function(_e,dt,ht,Ot,Pt,Yt,ps,gs){var Ls,Js,xr,mr,Yr,tt,lr,un,rr,Hs,sn,yr,Vr,Ir,Ca=ht-_e,Sn=Ot-dt,Cr=Pt-ht,$n=Yt-Ot,Xr=ps-Pt,Br=gs-Yt;for(Js=0;Js<41;Js++)rr=(lr=(xr=_e+(Ls=Js/40)*Ca)+Ls*((Yr=ht+Ls*Cr)-xr))+Ls*(Yr+Ls*(Pt+Ls*Xr-Yr)-lr),Hs=(un=(mr=dt+Ls*Sn)+Ls*((tt=Ot+Ls*$n)-mr))+Ls*(tt+Ls*(Yt+Ls*Br-tt)-un),Js==0?(sn=rr,yr=Hs,Vr=rr,Ir=Hs):(sn=Math.min(sn,rr),yr=Math.min(yr,Hs),Vr=Math.max(Vr,rr),Ir=Math.max(Ir,Hs));return new q(Math.round(sn),Math.round(yr),Math.round(Vr-sn),Math.round(Ir-yr))},_s=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _e,dt,ht=(_e=this.ctx.lineDash,dt=this.ctx.lineDashOffset,JSON.stringify({lineDash:_e,lineDashOffset:dt}));this.prevLineDash!==ht&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ht)}}})(We.API),(function(N){var v=function(de){var q,ee,ke,Me,$e,Je,xe,ct,ot,At;for(ee=[],ke=0,Me=(de+=q="\0\0\0\0".slice(de.length%4||4)).length;Me>ke;ke+=4)($e=(de.charCodeAt(ke)<<24)+(de.charCodeAt(ke+1)<<16)+(de.charCodeAt(ke+2)<<8)+de.charCodeAt(ke+3))!==0?(Je=($e=(($e=(($e=(($e=($e-(At=$e%85))/85)-(ot=$e%85))/85)-(ct=$e%85))/85)-(xe=$e%85))/85)%85,ee.push(Je+33,xe+33,ct+33,ot+33,At+33)):ee.push(122);return(function(Ye,wt){for(var Rt=wt;Rt>0;Rt--)Ye.pop()})(ee,q.length),String.fromCharCode.apply(String,ee)+"~>"},S=function(de){var q,ee,ke,Me,$e,Je=String,xe="length",ct=255,ot="charCodeAt",At="slice",Ye="replace";for(de[At](-2),de=de[At](0,-2)[Ye](/\s/g,"")[Ye]("z","!!!!!"),ke=[],Me=0,$e=(de+=q="uuuuu"[At](de[xe]%5||5))[xe];$e>Me;Me+=5)ee=52200625*(de[ot](Me)-33)+614125*(de[ot](Me+1)-33)+7225*(de[ot](Me+2)-33)+85*(de[ot](Me+3)-33)+(de[ot](Me+4)-33),ke.push(ct&ee>>24,ct&ee>>16,ct&ee>>8,ct&ee);return(function(wt,Rt){for(var gt=Rt;gt>0;gt--)wt.pop()})(ke,q[xe]),Je.fromCharCode.apply(Je,ke)},I=function(de){return de.split("").map(function(q){return("0"+q.charCodeAt().toString(16)).slice(-2)}).join("")+">"},P=function(de){var q=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((de=de.replace(/\s/g,"")).indexOf(">")!==-1&&(de=de.substr(0,de.indexOf(">"))),de.length%2&&(de+="0"),q.test(de)===!1)return"";for(var ee="",ke=0;ke<de.length;ke+=2)ee+=String.fromCharCode("0x"+(de[ke]+de[ke+1]));return ee},V=function(de){for(var q=new Uint8Array(de.length),ee=de.length;ee--;)q[ee]=de.charCodeAt(ee);return(q=(0,p.zlibSync)(q)).reduce(function(ke,Me){return ke+String.fromCharCode(Me)},"")};N.processDataByFilters=function(de,q){var ee=0,ke=de||"",Me=[];for(typeof(q=q||[])=="string"&&(q=[q]),ee=0;ee<q.length;ee+=1)switch(q[ee]){case"ASCII85Decode":case"/ASCII85Decode":ke=S(ke),Me.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":ke=v(ke),Me.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":ke=P(ke),Me.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":ke=I(ke),Me.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":ke=V(ke),Me.push("/FlateDecode");break;default:throw new Error('The filter: "'+q[ee]+'" is not implemented')}return{data:ke,reverseChain:Me.reverse().join(" ")}}})(We.API),(function(N){N.loadFile=function(v,S,I){return(function(P,V,de){V=V!==!1,de=typeof de=="function"?de:function(){};var q=void 0;try{q=(function(ee,ke,Me){var $e=new XMLHttpRequest,Je=0,xe=function(ct){var ot=ct.length,At=[],Ye=String.fromCharCode;for(Je=0;Je<ot;Je+=1)At.push(Ye(255&ct.charCodeAt(Je)));return At.join("")};if($e.open("GET",ee,!ke),$e.overrideMimeType("text/plain; charset=x-user-defined"),ke===!1&&($e.onload=function(){$e.status===200?Me(xe(this.responseText)):Me(void 0)}),$e.send(null),ke&&$e.status===200)return xe($e.responseText)})(P,V,de)}catch{}return q})(v,S,I)},N.allowFsRead=void 0,N.loadImageFile=N.loadFile})(We.API),(function(N){function v(){return(b.html2canvas?Promise.resolve(b.html2canvas):Promise.resolve().then(o.t.bind(o,"html2canvas",23))).catch(function(q){return Promise.reject(new Error("Could not load html2canvas: "+q))}).then(function(q){return q.default?q.default:q})}function S(){return(b.DOMPurify?Promise.resolve(b.DOMPurify):Promise.resolve().then(o.bind(o,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(q){return Promise.reject(new Error("Could not load dompurify: "+q))}).then(function(q){return q.default?q.default:q})}var I=function(q){var ee=(0,f.default)(q);return ee==="undefined"?"undefined":ee==="string"||q instanceof String?"string":ee==="number"||q instanceof Number?"number":ee==="function"||q instanceof Function?"function":q&&q.constructor===Array?"array":q&&q.nodeType===1?"element":ee==="object"?"object":"unknown"},P=function(q,ee){var ke=document.createElement(q);for(var Me in ee.className&&(ke.className=ee.className),ee.innerHTML&&ee.dompurify&&(ke.innerHTML=ee.dompurify.sanitize(ee.innerHTML)),ee.style)ke.style[Me]=ee.style[Me];return ke},V=function q(ee,ke){for(var Me=ee.nodeType===3?document.createTextNode(ee.nodeValue):ee.cloneNode(!1),$e=ee.firstChild;$e;$e=$e.nextSibling)ke!==!0&&$e.nodeType===1&&$e.nodeName==="SCRIPT"||Me.appendChild(q($e,ke));return ee.nodeType===1&&(ee.nodeName==="CANVAS"?(Me.width=ee.width,Me.height=ee.height,Me.getContext("2d").drawImage(ee,0,0)):ee.nodeName!=="TEXTAREA"&&ee.nodeName!=="SELECT"||(Me.value=ee.value),Me.addEventListener("load",function(){Me.scrollTop=ee.scrollTop,Me.scrollLeft=ee.scrollLeft},!0)),Me},de=function q(ee){var ke=Object.assign(q.convert(Promise.resolve()),JSON.parse(JSON.stringify(q.template))),Me=q.convert(Promise.resolve(),ke);return(Me=Me.setProgress(1,q,1,[q])).set(ee)};(de.prototype=Object.create(Promise.prototype)).constructor=de,de.convert=function(q,ee){return q.__proto__=ee||de.prototype,q},de.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},de.prototype.from=function(q,ee){return this.then(function(){switch(ee=ee||(function(ke){switch(I(ke)){case"string":return"string";case"element":return ke.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(q),ee){case"string":return this.then(S).then(function(ke){return this.set({src:P("div",{innerHTML:q,dompurify:ke})})});case"element":return this.set({src:q});case"canvas":return this.set({canvas:q});case"img":return this.set({img:q});default:return this.error("Unknown source type.")}})},de.prototype.to=function(q){switch(q){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},de.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var q={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ee=V(this.prop.src,this.opt.html2canvas.javascriptEnabled);ee.tagName==="BODY"&&(q.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=P("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=P("div",{className:"html2pdf__container",style:q}),this.prop.container.appendChild(ee),this.prop.container.firstChild.appendChild(P("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},de.prototype.toCanvas=function(){var q=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(q).then(v).then(function(ee){var ke=Object.assign({},this.opt.html2canvas);return delete ke.onrendered,ee(this.prop.container,ke)}).then(function(ee){(this.opt.html2canvas.onrendered||function(){})(ee),this.prop.canvas=ee,document.body.removeChild(this.prop.overlay)})},de.prototype.toContext2d=function(){var q=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(q).then(v).then(function(ee){var ke=this.opt.jsPDF,Me=this.opt.fontFaces,$e=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Je=Object.assign({async:!0,allowTaint:!0,scale:$e,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Je.onrendered,ke.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,ke.context2d.posX=this.opt.x,ke.context2d.posY=this.opt.y,ke.context2d.margin=this.opt.margin,ke.context2d.fontFaces=Me,Me)for(var xe=0;xe<Me.length;++xe){var ct=Me[xe],ot=ct.src.find(function(At){return At.format==="truetype"});ot&&ke.addFont(ot.url,ct.ref.name,ct.ref.style)}return Je.windowHeight=Je.windowHeight||0,Je.windowHeight=Je.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Je.windowHeight,ke.context2d.save(!0),ee(this.prop.container,Je)}).then(function(ee){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ee),this.prop.canvas=ee,document.body.removeChild(this.prop.overlay)})},de.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var q=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=q})},de.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},de.prototype.output=function(q,ee,ke){return(ke=ke||"pdf").toLowerCase()==="img"||ke.toLowerCase()==="image"?this.outputImg(q,ee):this.outputPdf(q,ee)},de.prototype.outputPdf=function(q,ee){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(q,ee)})},de.prototype.outputImg=function(q){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(q){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+q+'" is not supported.'}})},de.prototype.save=function(q){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(q?{filename:q}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},de.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},de.prototype.set=function(q){if(I(q)!=="object")return this;var ee=Object.keys(q||{}).map(function(ke){if(ke in de.template.prop)return function(){this.prop[ke]=q[ke]};switch(ke){case"margin":return this.setMargin.bind(this,q.margin);case"jsPDF":return function(){return this.opt.jsPDF=q.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,q.pageSize);default:return function(){this.opt[ke]=q[ke]}}},this);return this.then(function(){return this.thenList(ee)})},de.prototype.get=function(q,ee){return this.then(function(){var ke=q in de.template.prop?this.prop[q]:this.opt[q];return ee?ee(ke):ke})},de.prototype.setMargin=function(q){return this.then(function(){switch(I(q)){case"number":q=[q,q,q,q];case"array":if(q.length===2&&(q=[q[0],q[1],q[0],q[1]]),q.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=q}).then(this.setPageSize)},de.prototype.setPageSize=function(q){function ee(ke,Me){return Math.floor(ke*Me/72*96)}return this.then(function(){(q=q||We.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(q.inner={width:q.width-this.opt.margin[1]-this.opt.margin[3],height:q.height-this.opt.margin[0]-this.opt.margin[2]},q.inner.px={width:ee(q.inner.width,q.k),height:ee(q.inner.height,q.k)},q.inner.ratio=q.inner.height/q.inner.width),this.prop.pageSize=q})},de.prototype.setProgress=function(q,ee,ke,Me){return q!=null&&(this.progress.val=q),ee!=null&&(this.progress.state=ee),ke!=null&&(this.progress.n=ke),Me!=null&&(this.progress.stack=Me),this.progress.ratio=this.progress.val/this.progress.state,this},de.prototype.updateProgress=function(q,ee,ke,Me){return this.setProgress(q?this.progress.val+q:null,ee||null,ke?this.progress.n+ke:null,Me?this.progress.stack.concat(Me):null)},de.prototype.then=function(q,ee){var ke=this;return this.thenCore(q,ee,function(Me,$e){return ke.updateProgress(null,null,1,[Me]),Promise.prototype.then.call(this,function(Je){return ke.updateProgress(null,Me),Je}).then(Me,$e).then(function(Je){return ke.updateProgress(1),Je})})},de.prototype.thenCore=function(q,ee,ke){ke=ke||Promise.prototype.then;var Me=this;q&&(q=q.bind(Me)),ee&&(ee=ee.bind(Me));var $e=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Me:de.convert(Object.assign({},Me),Promise.prototype),Je=ke.call($e,q,ee);return de.convert(Je,Me.__proto__)},de.prototype.thenExternal=function(q,ee){return Promise.prototype.then.call(this,q,ee)},de.prototype.thenList=function(q){var ee=this;return q.forEach(function(ke){ee=ee.thenCore(ke)}),ee},de.prototype.catch=function(q){q&&(q=q.bind(this));var ee=Promise.prototype.catch.call(this,q);return de.convert(ee,this)},de.prototype.catchExternal=function(q){return Promise.prototype.catch.call(this,q)},de.prototype.error=function(q){return this.then(function(){throw new Error(q)})},de.prototype.using=de.prototype.set,de.prototype.saveAs=de.prototype.save,de.prototype.export=de.prototype.output,de.prototype.run=de.prototype.then,We.getPageSize=function(q,ee,ke){if((0,f.default)(q)==="object"){var Me=q;q=Me.orientation,ee=Me.unit||ee,ke=Me.format||ke}ee=ee||"mm",ke=ke||"a4",q=(""+(q||"P")).toLowerCase();var $e,Je=(""+ke).toLowerCase(),xe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ee){case"pt":$e=1;break;case"mm":$e=2.834645669291339;break;case"cm":$e=28.346456692913385;break;case"in":$e=72;break;case"px":$e=.75;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:throw"Invalid unit: "+ee}var ct,ot=0,At=0;if(xe.hasOwnProperty(Je))ot=xe[Je][1]/$e,At=xe[Je][0]/$e;else try{ot=ke[1],At=ke[0]}catch{throw new Error("Invalid format: "+ke)}if(q==="p"||q==="portrait")q="p",At>ot&&(ct=At,At=ot,ot=ct);else{if(q!=="l"&&q!=="landscape")throw"Invalid orientation: "+q;q="l",ot>At&&(ct=At,At=ot,ot=ct)}return{width:At,height:ot,unit:ee,k:$e,orientation:q}},N.html=function(q,ee){(ee=ee||{}).callback=ee.callback||function(){},ee.html2canvas=ee.html2canvas||{},ee.html2canvas.canvas=ee.html2canvas.canvas||this.canvas,ee.jsPDF=ee.jsPDF||this,ee.fontFaces=ee.fontFaces?ee.fontFaces.map(la):null;var ke=new de(ee);return ee.worker?ke:ke.from(q).doCallback()}})(We.API),We.API.addJS=function(N){return Ni=N,this.internal.events.subscribe("postPutResources",function(){ho=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ho+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),pa=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ni+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ho!==void 0&&pa!==void 0&&this.internal.out("/Names <</JavaScript "+ho+" 0 R>>")}),this},(function(N){var v;N.events.push(["postPutResources",function(){var S=this,I=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var P=S.outline.render().split(/\r\n/),V=0;V<P.length;V++){var de=P[V],q=I.exec(de);if(q!=null){var ee=q[1];S.internal.newObjectDeferredBegin(ee,!1)}S.internal.write(de)}if(this.outline.createNamedDestinations){var ke=this.internal.pages.length,Me=[];for(V=0;V<ke;V++){var $e=S.internal.newObject();Me.push($e);var Je=S.internal.getPageInfo(V+1);S.internal.write("<< /D["+Je.objId+" 0 R /XYZ null null null]>> endobj")}var xe=S.internal.newObject();for(S.internal.write("<< /Names [ "),V=0;V<Me.length;V++)S.internal.write("(page_"+(V+1)+")"+Me[V]+" 0 R");S.internal.write(" ] >>","endobj"),v=S.internal.newObject(),S.internal.write("<< /Dests "+xe+" 0 R"),S.internal.write(">>","endobj")}}]),N.events.push(["putCatalog",function(){var S=this;S.outline.root.children.length>0&&(S.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&S.internal.write("/Names "+v+" 0 R"))}]),N.events.push(["initialized",function(){var S=this;S.outline={createNamedDestinations:!1,root:{children:[]}},S.outline.add=function(I,P,V){var de={title:P,options:V,children:[]};return I==null&&(I=this.root),I.children.push(de),de},S.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=S,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},S.outline.genIds_r=function(I){I.id=S.internal.newObjectDeferred();for(var P=0;P<I.children.length;P++)this.genIds_r(I.children[P])},S.outline.renderRoot=function(I){this.objStart(I),this.line("/Type /Outlines"),I.children.length>0&&(this.line("/First "+this.makeRef(I.children[0])),this.line("/Last "+this.makeRef(I.children[I.children.length-1]))),this.line("/Count "+this.count_r({count:0},I)),this.objEnd()},S.outline.renderItems=function(I){for(var P=this.ctx.pdf.internal.getVerticalCoordinateString,V=0;V<I.children.length;V++){var de=I.children[V];this.objStart(de),this.line("/Title "+this.makeString(de.title)),this.line("/Parent "+this.makeRef(I)),V>0&&this.line("/Prev "+this.makeRef(I.children[V-1])),V<I.children.length-1&&this.line("/Next "+this.makeRef(I.children[V+1])),de.children.length>0&&(this.line("/First "+this.makeRef(de.children[0])),this.line("/Last "+this.makeRef(de.children[de.children.length-1])));var q=this.count=this.count_r({count:0},de);if(q>0&&this.line("/Count "+q),de.options&&de.options.pageNumber){var ee=S.internal.getPageInfo(de.options.pageNumber);this.line("/Dest ["+ee.objId+" 0 R /XYZ 0 "+P(0)+" 0]")}this.objEnd()}for(var ke=0;ke<I.children.length;ke++)this.renderItems(I.children[ke])},S.outline.line=function(I){this.ctx.val+=I+`\r
`},S.outline.makeRef=function(I){return I.id+" 0 R"},S.outline.makeString=function(I){return"("+S.internal.pdfEscape(I)+")"},S.outline.objStart=function(I){this.ctx.val+=`\r
`+I.id+` 0 obj\r
<<\r
`},S.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},S.outline.count_r=function(I,P){for(var V=0;V<P.children.length;V++)I.count++,this.count_r(I,P.children[V]);return I.count}}])})(We.API),(function(N){var v=[192,193,194,195,196,197,198,199];N.processJPEG=function(S,I,P,V,de,q){var ee,ke=this.decode.DCT_DECODE,Me=null;if(typeof S=="string"||this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S)){switch(S=de||S,S=this.__addimage__.isArrayBuffer(S)?new Uint8Array(S):S,ee=(function($e){for(var Je,xe=256*$e.charCodeAt(4)+$e.charCodeAt(5),ct=$e.length,ot={width:0,height:0,numcomponents:1},At=4;At<ct;At+=2){if(At+=xe,v.indexOf($e.charCodeAt(At+1))!==-1){Je=256*$e.charCodeAt(At+5)+$e.charCodeAt(At+6),ot={width:256*$e.charCodeAt(At+7)+$e.charCodeAt(At+8),height:Je,numcomponents:$e.charCodeAt(At+9)};break}xe=256*$e.charCodeAt(At+2)+$e.charCodeAt(At+3)}return ot})(S=this.__addimage__.isArrayBufferView(S)?this.__addimage__.arrayBufferToBinaryString(S):S),ee.numcomponents){case 1:q=this.color_spaces.DEVICE_GRAY;break;case 4:q=this.color_spaces.DEVICE_CMYK;break;case 3:q=this.color_spaces.DEVICE_RGB}Me={data:S,width:ee.width,height:ee.height,colorSpace:q,bitsPerComponent:8,filter:ke,index:I,alias:P}}return Me}})(We.API),We.API.processPNG=function(N,v,S,I){if(this.__addimage__.isArrayBuffer(N)&&(N=new Uint8Array(N)),this.__addimage__.isArrayBufferView(N)){var P,V=(0,x.decode)(N,{checkCrc:!0}),de=V.width,q=V.height,ee=V.channels,ke=V.palette,Me=V.depth;P=ke&&ee===1?(function(Ht){for(var vt=Ht.width,ts=Ht.height,Xe=Ht.data,rt=Ht.palette,xt=Ht.depth,bt=!1,rs=[],ds=[],bs=void 0,Kt=!1,fs=0,Xs=0;Xs<rt.length;Xs++){var _s=(0,m.default)(rt[Xs],4),_e=_s[0],dt=_s[1],ht=_s[2],Ot=_s[3];rs.push(_e,dt,ht),Ot!=null&&(Ot===0?(fs++,ds.length<1&&ds.push(Xs)):Ot<255&&(Kt=!0))}if(Kt||fs>1){bt=!0,ds=void 0;var Pt=vt*ts;bs=new Uint8Array(Pt);for(var Yt=new DataView(Xe.buffer),ps=0;ps<Pt;ps++){var gs=hi(Yt,ps,xt),Ls=(0,m.default)(rt[gs],4)[3];bs[ps]=Ls}}else fs===0&&(ds=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:bt?8:void 0,colorBytes:Xe,alphaBytes:bs,needSMask:bt,palette:rs,mask:ds}})(V):ee===2||ee===4?(function(Ht){for(var vt=Ht.data,ts=Ht.width,Xe=Ht.height,rt=Ht.channels,xt=Ht.depth,bt=rt===2?"DeviceGray":"DeviceRGB",rs=rt-1,ds=ts*Xe,bs=rs,Kt=ds*bs,fs=1*ds,Xs=Math.ceil(Kt*xt/8),_s=Math.ceil(fs*xt/8),_e=new Uint8Array(Xs),dt=new Uint8Array(_s),ht=new DataView(vt.buffer),Ot=new DataView(_e.buffer),Pt=new DataView(dt.buffer),Yt=!1,ps=0;ps<ds;ps++){for(var gs=ps*rt,Ls=0;Ls<bs;Ls++)Wr(Ot,hi(ht,gs+Ls,xt),ps*bs+Ls,xt);var Js=hi(ht,gs+bs,xt);Js<(1<<xt)-1&&(Yt=!0),Wr(Pt,Js,1*ps,xt)}return{colorSpace:bt,colorsPerPixel:rs,sMaskBitsPerComponent:Yt?xt:void 0,colorBytes:_e,alphaBytes:dt,needSMask:Yt}})(V):(function(Ht){var vt=Ht.data,ts=Ht.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ts,colorsPerPixel:ts==="DeviceGray"?1:3,colorBytes:vt instanceof Uint16Array?(function(Xe){for(var rt=Xe.length,xt=new Uint8Array(2*rt),bt=new DataView(xt.buffer,xt.byteOffset,xt.byteLength),rs=0;rs<rt;rs++)bt.setUint16(2*rs,Xe[rs],!1);return xt})(vt):vt,needSMask:!1}})(V);var $e,Je,xe,ct=P,ot=ct.colorSpace,At=ct.colorsPerPixel,Ye=ct.sMaskBitsPerComponent,wt=ct.colorBytes,Rt=ct.alphaBytes,gt=ct.needSMask,Ge=ct.palette,Mt=ct.mask,is=null;return I!==We.API.image_compression.NONE&&typeof p.zlibSync=="function"?(is=(function(Ht){var vt;switch(Ht){case We.API.image_compression.FAST:vt=11;break;case We.API.image_compression.MEDIUM:vt=13;break;case We.API.image_compression.SLOW:vt=14;break;default:vt=12}return vt})(I),$e=this.decode.FLATE_DECODE,Je="/Predictor ".concat(is," /Colors ").concat(At," /BitsPerComponent ").concat(Me," /Columns ").concat(de),N=hl(wt,Math.ceil(de*At*Me/8),At,Me,I),gt&&(xe=hl(Rt,Math.ceil(de*Ye/8),1,Ye,I))):($e=void 0,Je=void 0,N=wt,gt&&(xe=Rt)),(this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),(xe&&this.__addimage__.isArrayBuffer(xe)||this.__addimage__.isArrayBufferView(xe))&&(xe=this.__addimage__.arrayBufferToBinaryString(xe)),{alias:S,data:N,index:v,filter:$e,decodeParameters:Je,transparency:Mt,palette:Ge,sMask:xe,predictor:is,width:de,height:q,bitsPerComponent:Me,sMaskBitsPerComponent:Ye,colorSpace:ot}}},(function(N){N.processGIF89A=function(v,S,I,P){var V=new Ci(v),de=V.width,q=V.height,ee=[];V.decodeAndBlitFrameRGBA(0,ee);var ke={data:ee,width:de,height:q},Me=new mo(100).encode(ke,100);return N.processJPEG.call(this,Me,S,I,P)},N.processGIF87A=N.processGIF89A})(We.API),Wn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var N=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(N);for(var v=0;v<N;v++){var S=this.datav.getUint8(this.pos++,!0),I=this.datav.getUint8(this.pos++,!0),P=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0);this.palette[v]={red:P,green:I,blue:S,quad:V}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wn.prototype.parseBGR=function(){this.pos=this.offset;try{var N="bit"+this.bitPP,v=this.width*this.height*4;this.data=new Uint8Array(v),this[N]()}catch(S){y.log("bit decode error:"+S)}},Wn.prototype.bit1=function(){var N,v=Math.ceil(this.width/8),S=v%4;for(N=this.height-1;N>=0;N--){for(var I=this.bottom_up?N:this.height-1-N,P=0;P<v;P++)for(var V=this.datav.getUint8(this.pos++,!0),de=I*this.width*4+8*P*4,q=0;q<8&&8*P+q<this.width;q++){var ee=this.palette[V>>7-q&1];this.data[de+4*q]=ee.blue,this.data[de+4*q+1]=ee.green,this.data[de+4*q+2]=ee.red,this.data[de+4*q+3]=255}S!==0&&(this.pos+=4-S)}},Wn.prototype.bit4=function(){for(var N=Math.ceil(this.width/2),v=N%4,S=this.height-1;S>=0;S--){for(var I=this.bottom_up?S:this.height-1-S,P=0;P<N;P++){var V=this.datav.getUint8(this.pos++,!0),de=I*this.width*4+2*P*4,q=V>>4,ee=15&V,ke=this.palette[q];if(this.data[de]=ke.blue,this.data[de+1]=ke.green,this.data[de+2]=ke.red,this.data[de+3]=255,2*P+1>=this.width)break;ke=this.palette[ee],this.data[de+4]=ke.blue,this.data[de+4+1]=ke.green,this.data[de+4+2]=ke.red,this.data[de+4+3]=255}v!==0&&(this.pos+=4-v)}},Wn.prototype.bit8=function(){for(var N=this.width%4,v=this.height-1;v>=0;v--){for(var S=this.bottom_up?v:this.height-1-v,I=0;I<this.width;I++){var P=this.datav.getUint8(this.pos++,!0),V=S*this.width*4+4*I;if(P<this.palette.length){var de=this.palette[P];this.data[V]=de.red,this.data[V+1]=de.green,this.data[V+2]=de.blue,this.data[V+3]=255}else this.data[V]=255,this.data[V+1]=255,this.data[V+2]=255,this.data[V+3]=255}N!==0&&(this.pos+=4-N)}},Wn.prototype.bit15=function(){for(var N=this.width%3,v=parseInt("11111",2),S=this.height-1;S>=0;S--){for(var I=this.bottom_up?S:this.height-1-S,P=0;P<this.width;P++){var V=this.datav.getUint16(this.pos,!0);this.pos+=2;var de=(V&v)/v*255|0,q=(V>>5&v)/v*255|0,ee=(V>>10&v)/v*255|0,ke=V>>15?255:0,Me=I*this.width*4+4*P;this.data[Me]=ee,this.data[Me+1]=q,this.data[Me+2]=de,this.data[Me+3]=ke}this.pos+=N}},Wn.prototype.bit16=function(){for(var N=this.width%3,v=parseInt("11111",2),S=parseInt("111111",2),I=this.height-1;I>=0;I--){for(var P=this.bottom_up?I:this.height-1-I,V=0;V<this.width;V++){var de=this.datav.getUint16(this.pos,!0);this.pos+=2;var q=(de&v)/v*255|0,ee=(de>>5&S)/S*255|0,ke=(de>>11)/v*255|0,Me=P*this.width*4+4*V;this.data[Me]=ke,this.data[Me+1]=ee,this.data[Me+2]=q,this.data[Me+3]=255}this.pos+=N}},Wn.prototype.bit24=function(){for(var N=this.height-1;N>=0;N--){for(var v=this.bottom_up?N:this.height-1-N,S=0;S<this.width;S++){var I=this.datav.getUint8(this.pos++,!0),P=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0),de=v*this.width*4+4*S;this.data[de]=V,this.data[de+1]=P,this.data[de+2]=I,this.data[de+3]=255}this.pos+=this.width%4}},Wn.prototype.bit32=function(){for(var N=this.height-1;N>=0;N--)for(var v=this.bottom_up?N:this.height-1-N,S=0;S<this.width;S++){var I=this.datav.getUint8(this.pos++,!0),P=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0),de=this.datav.getUint8(this.pos++,!0),q=v*this.width*4+4*S;this.data[q]=V,this.data[q+1]=P,this.data[q+2]=I,this.data[q+3]=de}},Wn.prototype.getData=function(){return this.data},(function(N){N.processBMP=function(v,S,I,P){var V=new Wn(v,!1),de=V.width,q=V.height,ee={data:V.getData(),width:de,height:q},ke=new mo(100).encode(ee,100);return N.processJPEG.call(this,ke,S,I,P)}})(We.API),Ki.prototype.getData=function(){return this.data},(function(N){N.processWEBP=function(v,S,I,P){var V=new Ki(v),de=V.width,q=V.height,ee={data:V.getData(),width:de,height:q},ke=new mo(100).encode(ee,100);return N.processJPEG.call(this,ke,S,I,P)}})(We.API),We.API.processRGBA=function(N,v,S){for(var I=N.data,P=I.length,V=new Uint8Array(P/4*3),de=new Uint8Array(P/4),q=0,ee=0,ke=0;ke<P;ke+=4){var Me=I[ke],$e=I[ke+1],Je=I[ke+2],xe=I[ke+3];V[q++]=Me,V[q++]=$e,V[q++]=Je,de[ee++]=xe}var ct=this.__addimage__.arrayBufferToBinaryString(V);return{alpha:this.__addimage__.arrayBufferToBinaryString(de),data:ct,index:v,alias:S,colorSpace:"DeviceRGB",bitsPerComponent:8,width:N.width,height:N.height}},We.API.setLanguage=function(N){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[N]!==void 0&&(this.internal.languageSettings.languageCode=N,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sa=We.API,Ua=sa.getCharWidthsArray=function(N,v){var S,I,P=(v=v||{}).font||this.internal.getFont(),V=v.fontSize||this.internal.getFontSize(),de=v.charSpace||this.internal.getCharSpace(),q=v.widths?v.widths:P.metadata.Unicode.widths,ee=q.fof?q.fof:1,ke=v.kerning?v.kerning:P.metadata.Unicode.kerning,Me=ke.fof?ke.fof:1,$e=v.doKerning!==!1,Je=0,xe=N.length,ct=0,ot=q[0]||ee,At=[];for(S=0;S<xe;S++)I=N.charCodeAt(S),typeof P.metadata.widthOfString=="function"?At.push((P.metadata.widthOfGlyph(P.metadata.characterToGlyph(I))+de*(1e3/V)||0)/1e3):(Je=$e&&(0,f.default)(ke[I])==="object"&&!isNaN(parseInt(ke[I][ct],10))?ke[I][ct]/Me:0,At.push((q[I]||ot)/ee+Je)),ct=I;return At},qn=sa.getStringUnitWidth=function(N,v){var S=(v=v||{}).fontSize||this.internal.getFontSize(),I=v.font||this.internal.getFont(),P=v.charSpace||this.internal.getCharSpace();return sa.processArabic&&(N=sa.processArabic(N)),typeof I.metadata.widthOfString=="function"?I.metadata.widthOfString(N,S,P)/S:Ua.apply(this,arguments).reduce(function(V,de){return V+de},0)},fo=function(N,v,S,I){for(var P=[],V=0,de=N.length,q=0;V!==de&&q+v[V]<S;)q+=v[V],V++;P.push(N.slice(0,V));var ee=V;for(q=0;V!==de;)q+v[V]>I&&(P.push(N.slice(ee,V)),q=0,ee=V),q+=v[V],V++;return ee!==V&&P.push(N.slice(ee,V)),P},Ai=function(N,v,S){S||(S={});var I,P,V,de,q,ee,ke,Me=[],$e=[Me],Je=S.textIndent||0,xe=0,ct=0,ot=N.split(" "),At=Ua.apply(this,[" ",S])[0];if(ee=S.lineIndent===-1?ot[0].length+2:S.lineIndent||0){var Ye=Array(ee).join(" "),wt=[];ot.map(function(gt){(gt=gt.split(/\s*\n/)).length>1?wt=wt.concat(gt.map(function(Ge,Mt){return(Mt&&Ge.length?`
`:"")+Ge})):wt.push(gt[0])}),ot=wt,ee=qn.apply(this,[Ye,S])}for(V=0,de=ot.length;V<de;V++){var Rt=0;if(I=ot[V],ee&&I[0]==`
`&&(I=I.substr(1),Rt=1),Je+xe+(ct=(P=Ua.apply(this,[I,S])).reduce(function(gt,Ge){return gt+Ge},0))>v||Rt){if(ct>v){for(q=fo.apply(this,[I,P,v-(Je+xe),v]),Me.push(q.shift()),Me=[q.pop()];q.length;)$e.push([q.shift()]);ct=P.slice(I.length-(Me[0]?Me[0].length:0)).reduce(function(gt,Ge){return gt+Ge},0)}else Me=[I];$e.push(Me),Je=ct+ee,xe=At}else Me.push(I),Je+=xe+ct,xe=At}return ke=ee?function(gt,Ge){return(Ge?Ye:"")+gt.join(" ")}:function(gt){return gt.join(" ")},$e.map(ke)},sa.splitTextToSize=function(N,v,S){var I,P=(S=S||{}).fontSize||this.internal.getFontSize(),V=(function(Me){if(Me.widths&&Me.kerning)return{widths:Me.widths,kerning:Me.kerning};var $e=this.internal.getFont(Me.fontName,Me.fontStyle),Je="Unicode";return $e.metadata[Je]?{widths:$e.metadata[Je].widths||{0:1},kerning:$e.metadata[Je].kerning||{}}:{font:$e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,S);I=Array.isArray(N)?N:String(N).split(/\r?\n/);var de=1*this.internal.scaleFactor*v/P;V.textIndent=S.textIndent?1*S.textIndent*this.internal.scaleFactor/P:0,V.lineIndent=S.lineIndent;var q,ee,ke=[];for(q=0,ee=I.length;q<ee;q++)ke=ke.concat(Ai.apply(this,[I[q],de,V]));return ke},(function(N){N.__fontmetrics__=N.__fontmetrics__||{};for(var v="0123456789abcdef",S="klmnopqrstuvwxyz",I={},P={},V=0;V<16;V++)I[S[V]]=v[V],P[v[V]]=S[V];var de=function(Je){return"0x"+parseInt(Je,10).toString(16)},q=N.__fontmetrics__.compress=function(Je){var xe,ct,ot,At,Ye=["{"];for(var wt in Je){if(xe=Je[wt],isNaN(parseInt(wt,10))?ct="'"+wt+"'":(wt=parseInt(wt,10),ct=(ct=de(wt).slice(2)).slice(0,-1)+P[ct.slice(-1)]),typeof xe=="number")xe<0?(ot=de(xe).slice(3),At="-"):(ot=de(xe).slice(2),At=""),ot=At+ot.slice(0,-1)+P[ot.slice(-1)];else{if((0,f.default)(xe)!=="object")throw new Error("Don't know what to do with value type "+(0,f.default)(xe)+".");ot=q(xe)}Ye.push(ct+ot)}return Ye.push("}"),Ye.join("")},ee=N.__fontmetrics__.uncompress=function(Je){if(typeof Je!="string")throw new Error("Invalid argument passed to uncompress.");for(var xe,ct,ot,At,Ye={},wt=1,Rt=Ye,gt=[],Ge="",Mt="",is=Je.length-1,Ht=1;Ht<is;Ht+=1)(At=Je[Ht])=="'"?xe?(ot=xe.join(""),xe=void 0):xe=[]:xe?xe.push(At):At=="{"?(gt.push([Rt,ot]),Rt={},ot=void 0):At=="}"?((ct=gt.pop())[0][ct[1]]=Rt,ot=void 0,Rt=ct[0]):At=="-"?wt=-1:ot===void 0?I.hasOwnProperty(At)?(Ge+=I[At],ot=parseInt(Ge,16)*wt,wt=1,Ge=""):Ge+=At:I.hasOwnProperty(At)?(Mt+=I[At],Rt[ot]=parseInt(Mt,16)*wt,wt=1,ot=void 0,Mt=""):Mt+=At;return Ye},ke={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ee("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Me={Unicode:{Courier:ke,"Courier-Bold":ke,"Courier-BoldOblique":ke,"Courier-Oblique":ke,Helvetica:ke,"Helvetica-Bold":ke,"Helvetica-BoldOblique":ke,"Helvetica-Oblique":ke,"Times-Roman":ke,"Times-Bold":ke,"Times-BoldItalic":ke,"Times-Italic":ke}},$e={Unicode:{"Courier-Oblique":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ee("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ee("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ee("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ee("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ee("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ee("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};N.events.push(["addFont",function(Je){var xe=Je.font,ct=$e.Unicode[xe.postScriptName];ct&&(xe.metadata.Unicode={},xe.metadata.Unicode.widths=ct.widths,xe.metadata.Unicode.kerning=ct.kerning);var ot=Me.Unicode[xe.postScriptName];ot&&(xe.metadata.Unicode.encoding=ot,xe.encoding=ot.codePages[0])}])})(We.API),(function(N){var v=function(S){for(var I=S.length,P=new Uint8Array(I),V=0;V<I;V++)P[V]=S.charCodeAt(V);return P};N.API.events.push(["addFont",function(S){var I=void 0,P=S.font,V=S.instance;if(!P.isStandardFont){if(V===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+P.postScriptName+"').");if(typeof(I=V.existsFileInVFS(P.postScriptName)===!1?V.loadFile(P.postScriptName):V.getFileFromVFS(P.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+P.postScriptName+"').");(function(de,q){q=/^\x00\x01\x00\x00/.test(q)?v(q):v(Q(q)),de.metadata=N.API.TTFFont.open(q),de.metadata.Unicode=de.metadata.Unicode||{encoding:{},kerning:{},widths:[]},de.metadata.glyIdsUsed=[0]})(P,I)}}])})(We),We.API.addSvgAsImage=function(N,v,S,I,P,V,de,q){if(isNaN(v)||isNaN(S))throw y.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(I)||isNaN(P))throw y.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ee=document.createElement("canvas");ee.width=I,ee.height=P;var ke=ee.getContext("2d");ke.fillStyle="#fff",ke.fillRect(0,0,ee.width,ee.height);var Me={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},$e=this;return(b.canvg?Promise.resolve(b.canvg):Promise.resolve().then(o.bind(o,"./node_modules/canvg/lib/index.es.js"))).catch(function(Je){return Promise.reject(new Error("Could not load canvg: "+Je))}).then(function(Je){return Je.default?Je.default:Je}).then(function(Je){return Je.fromString(ke,N,Me)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Je){return Je.render(Me)}).then(function(){$e.addImage(ee.toDataURL("image/jpeg",1),v,S,I,P,de,q)})},We.API.putTotalPages=function(N){var v,S=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(v=new RegExp(N,"g"),S=this.internal.getNumberOfPages()):(v=new RegExp(this.pdfEscape16(N,this.internal.getFont()),"g"),S=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var I=1;I<=this.internal.getNumberOfPages();I++)for(var P=0;P<this.internal.pages[I].length;P++)this.internal.pages[I][P]=this.internal.pages[I][P].replace(v,S);return this},We.API.viewerPreferences=function(N,v){var S;N=N||{},v=v||!1;var I,P,V,de={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},q=Object.keys(de),ee=[],ke=0,Me=0,$e=0;function Je(ct,ot){var At,Ye=!1;for(At=0;At<ct.length;At+=1)ct[At]===ot&&(Ye=!0);return Ye}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(de)),this.internal.viewerpreferences.isSubscribed=!1),S=this.internal.viewerpreferences.configuration,N==="reset"||v===!0){var xe=q.length;for($e=0;$e<xe;$e+=1)S[q[$e]].value=S[q[$e]].defaultValue,S[q[$e]].explicitSet=!1}if((0,f.default)(N)==="object"){for(P in N)if(V=N[P],Je(q,P)&&V!==void 0){if(S[P].type==="boolean"&&typeof V=="boolean")S[P].value=V;else if(S[P].type==="name"&&Je(S[P].valueSet,V))S[P].value=V;else if(S[P].type==="integer"&&Number.isInteger(V))S[P].value=V;else if(S[P].type==="array"){for(ke=0;ke<V.length;ke+=1)if(I=!0,V[ke].length===1&&typeof V[ke][0]=="number")ee.push(String(V[ke]-1));else if(V[ke].length>1){for(Me=0;Me<V[ke].length;Me+=1)typeof V[ke][Me]!="number"&&(I=!1);I===!0&&ee.push([V[ke][0]-1,V[ke][1]-1].join(" "))}S[P].value="["+ee.join(" ")+"]"}else S[P].value=S[P].defaultValue;S[P].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var ct,ot=[];for(ct in S)S[ct].explicitSet===!0&&(S[ct].type==="name"?ot.push("/"+ct+" /"+S[ct].value):ot.push("/"+ct+" "+S[ct].value));ot.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+ot.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=S,this},(function(N){var v=function(){var I='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',P=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),V=unescape(encodeURIComponent(I)),de=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),q=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),ee=unescape(encodeURIComponent("</x:xmpmeta>")),ke=V.length+de.length+q.length+P.length+ee.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+ke+" >>"),this.internal.write("stream"),this.internal.write(P+V+de+q+ee),this.internal.write("endstream"),this.internal.write("endobj")},S=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};N.addMetadata=function(I,P){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:I,namespaceuri:P||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",S),this.internal.events.subscribe("postPutResources",v)),this}})(We.API),(function(N){var v=N.API,S=v.pdfEscape16=function(V,de){for(var q,ee=de.metadata.Unicode.widths,ke=["","0","00","000","0000"],Me=[""],$e=0,Je=V.length;$e<Je;++$e){if(q=de.metadata.characterToGlyph(V.charCodeAt($e)),de.metadata.glyIdsUsed.push(q),de.metadata.toUnicode[q]=V.charCodeAt($e),ee.indexOf(q)==-1&&(ee.push(q),ee.push([parseInt(de.metadata.widthOfGlyph(q),10)])),q=="0")return Me.join("");q=q.toString(16),Me.push(ke[4-q.length],q)}return Me.join("")},I=function(V){var de,q,ee,ke,Me,$e,Je;for(Me=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,ee=[],$e=0,Je=(q=Object.keys(V).sort(function(xe,ct){return xe-ct})).length;$e<Je;$e++)de=q[$e],ee.length>=100&&(Me+=`
`+ee.length+` beginbfchar
`+ee.join(`
`)+`
endbfchar`,ee=[]),V[de]!==void 0&&V[de]!==null&&typeof V[de].toString=="function"&&(ke=("0000"+V[de].toString(16)).slice(-4),de=("0000"+(+de).toString(16)).slice(-4),ee.push("<"+de+"><"+ke+">"));return ee.length&&(Me+=`
`+ee.length+` beginbfchar
`+ee.join(`
`)+`
endbfchar
`),Me+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};v.events.push(["putFont",function(V){(function(de){var q=de.font,ee=de.out,ke=de.newObject,Me=de.putStream;if(q.metadata instanceof N.API.TTFFont&&q.encoding==="Identity-H"){for(var $e=q.metadata.Unicode.widths,Je=q.metadata.subset.encode(q.metadata.glyIdsUsed,1),xe="",ct=0;ct<Je.length;ct++)xe+=String.fromCharCode(Je[ct]);var ot=ke();Me({data:xe,addLength1:!0,objectId:ot}),ee("endobj");var At=ke();Me({data:I(q.metadata.toUnicode),addLength1:!0,objectId:At}),ee("endobj");var Ye=ke();ee("<<"),ee("/Type /FontDescriptor"),ee("/FontName /"+te(q.fontName)),ee("/FontFile2 "+ot+" 0 R"),ee("/FontBBox "+N.API.PDFObject.convert(q.metadata.bbox)),ee("/Flags "+q.metadata.flags),ee("/StemV "+q.metadata.stemV),ee("/ItalicAngle "+q.metadata.italicAngle),ee("/Ascent "+q.metadata.ascender),ee("/Descent "+q.metadata.decender),ee("/CapHeight "+q.metadata.capHeight),ee(">>"),ee("endobj");var wt=ke();ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+te(q.fontName)),ee("/FontDescriptor "+Ye+" 0 R"),ee("/W "+N.API.PDFObject.convert($e)),ee("/CIDToGIDMap /Identity"),ee("/DW 1000"),ee("/Subtype /CIDFontType2"),ee("/CIDSystemInfo"),ee("<<"),ee("/Supplement 0"),ee("/Registry (Adobe)"),ee("/Ordering ("+q.encoding+")"),ee(">>"),ee(">>"),ee("endobj"),q.objectNumber=ke(),ee("<<"),ee("/Type /Font"),ee("/Subtype /Type0"),ee("/ToUnicode "+At+" 0 R"),ee("/BaseFont /"+te(q.fontName)),ee("/Encoding /"+q.encoding),ee("/DescendantFonts ["+wt+" 0 R]"),ee(">>"),ee("endobj"),q.isAlreadyPutted=!0}})(V)}]),v.events.push(["putFont",function(V){(function(de){var q=de.font,ee=de.out,ke=de.newObject,Me=de.putStream;if(q.metadata instanceof N.API.TTFFont&&q.encoding==="WinAnsiEncoding"){for(var $e=q.metadata.rawData,Je="",xe=0;xe<$e.length;xe++)Je+=String.fromCharCode($e[xe]);var ct=ke();Me({data:Je,addLength1:!0,objectId:ct}),ee("endobj");var ot=ke();Me({data:I(q.metadata.toUnicode),addLength1:!0,objectId:ot}),ee("endobj");var At=ke();ee("<<"),ee("/Descent "+q.metadata.decender),ee("/CapHeight "+q.metadata.capHeight),ee("/StemV "+q.metadata.stemV),ee("/Type /FontDescriptor"),ee("/FontFile2 "+ct+" 0 R"),ee("/Flags 96"),ee("/FontBBox "+N.API.PDFObject.convert(q.metadata.bbox)),ee("/FontName /"+te(q.fontName)),ee("/ItalicAngle "+q.metadata.italicAngle),ee("/Ascent "+q.metadata.ascender),ee(">>"),ee("endobj"),q.objectNumber=ke();for(var Ye=0;Ye<q.metadata.hmtx.widths.length;Ye++)q.metadata.hmtx.widths[Ye]=parseInt(q.metadata.hmtx.widths[Ye]*(1e3/q.metadata.head.unitsPerEm));ee("<</Subtype/TrueType/Type/Font/ToUnicode "+ot+" 0 R/BaseFont/"+te(q.fontName)+"/FontDescriptor "+At+" 0 R/Encoding/"+q.encoding+" /FirstChar 29 /LastChar 255 /Widths "+N.API.PDFObject.convert(q.metadata.hmtx.widths)+">>"),ee("endobj"),q.isAlreadyPutted=!0}})(V)}]);var P=function(V){var de,q=V.text||"",ee=V.x,ke=V.y,Me=V.options||{},$e=V.mutex||{},Je=$e.pdfEscape,xe=$e.activeFontKey,ct=$e.fonts,ot=xe,At="",Ye=0,wt="",Rt=ct[ot].encoding;if(ct[ot].encoding!=="Identity-H")return{text:q,x:ee,y:ke,options:Me,mutex:$e};for(wt=q,ot=xe,Array.isArray(q)&&(wt=q[0]),Ye=0;Ye<wt.length;Ye+=1)ct[ot].metadata.hasOwnProperty("cmap")&&(de=ct[ot].metadata.cmap.unicode.codeMap[wt[Ye].charCodeAt(0)]),de||wt[Ye].charCodeAt(0)<256&&ct[ot].metadata.hasOwnProperty("Unicode")?At+=wt[Ye]:At+="";var gt="";return parseInt(ot.slice(1))<14||Rt==="WinAnsiEncoding"?gt=Je(At,ot).split("").map(function(Ge){return Ge.charCodeAt(0).toString(16)}).join(""):Rt==="Identity-H"&&(gt=S(At,ct[ot])),$e.isHex=!0,{text:gt,x:ee,y:ke,options:Me,mutex:$e}};v.events.push(["postProcessText",function(V){var de=V.text||"",q=[],ee={text:de,x:V.x,y:V.y,options:V.options,mutex:V.mutex};if(Array.isArray(de)){var ke=0;for(ke=0;ke<de.length;ke+=1)Array.isArray(de[ke])&&de[ke].length===3?q.push([P(Object.assign({},ee,{text:de[ke][0]})).text,de[ke][1],de[ke][2]]):q.push(P(Object.assign({},ee,{text:de[ke]})).text);V.text=q}else V.text=P(Object.assign({},ee,{text:de})).text}])})(We),(function(N){var v=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};N.existsFileInVFS=function(S){return v.call(this),this.internal.vFS[S]!==void 0},N.addFileToVFS=function(S,I){return v.call(this),this.internal.vFS[S]=I,this},N.getFileFromVFS=function(S){return v.call(this),this.internal.vFS[S]!==void 0?this.internal.vFS[S]:null}})(We.API),(function(N){N.__bidiEngine__=N.prototype.__bidiEngine__=function(I){var P,V,de,q,ee,ke,Me,$e=v,Je=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],xe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ct={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},ot={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},At=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ye=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),wt=!1,Rt=0;this.__bidiEngine__={};var gt=function(Xe){var rt=Xe.charCodeAt(),xt=rt>>8,bt=ot[xt];return bt!==void 0?$e[256*bt+(255&rt)]:xt===252||xt===253?"AL":Ye.test(xt)?"L":xt===8?"R":"N"},Ge=function(Xe){for(var rt,xt=0;xt<Xe.length;xt++){if((rt=gt(Xe.charAt(xt)))==="L")return!1;if(rt==="R")return!0}return!1},Mt=function(Xe,rt,xt,bt){var rs,ds,bs,Kt,fs=rt[bt];switch(fs){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":wt=!1;break;case"N":case"AN":break;case"EN":wt&&(fs="AN");break;case"AL":wt=!0,fs="R";break;case"WS":case"BN":fs="N";break;case"CS":bt<1||bt+1>=rt.length||(rs=xt[bt-1])!=="EN"&&rs!=="AN"||(ds=rt[bt+1])!=="EN"&&ds!=="AN"?fs="N":wt&&(ds="AN"),fs=ds===rs?ds:"N";break;case"ES":fs=(rs=bt>0?xt[bt-1]:"B")==="EN"&&bt+1<rt.length&&rt[bt+1]==="EN"?"EN":"N";break;case"ET":if(bt>0&&xt[bt-1]==="EN"){fs="EN";break}if(wt){fs="N";break}for(bs=bt+1,Kt=rt.length;bs<Kt&&rt[bs]==="ET";)bs++;fs=bs<Kt&&rt[bs]==="EN"?"EN":"N";break;case"NSM":if(de&&!q){for(Kt=rt.length,bs=bt+1;bs<Kt&&rt[bs]==="NSM";)bs++;if(bs<Kt){var Xs=Xe[bt],_s=Xs>=1425&&Xs<=2303||Xs===64286;if(rs=rt[bs],_s&&(rs==="R"||rs==="AL")){fs="R";break}}}fs=bt<1||(rs=rt[bt-1])==="B"?"N":xt[bt-1];break;case"B":wt=!1,P=!0,fs=Rt;break;case"S":V=!0,fs="N"}return fs},is=function(Xe,rt,xt){var bt=Xe.split("");return xt&&Ht(bt,xt,{hiLevel:Rt}),bt.reverse(),rt&&rt.reverse(),bt.join("")},Ht=function(Xe,rt,xt){var bt,rs,ds,bs,Kt,fs=-1,Xs=Xe.length,_s=0,_e=[],dt=Rt?xe:Je,ht=[];for(wt=!1,P=!1,V=!1,rs=0;rs<Xs;rs++)ht[rs]=gt(Xe[rs]);for(ds=0;ds<Xs;ds++){if(Kt=_s,_e[ds]=Mt(Xe,ht,_e,ds),bt=240&(_s=dt[Kt][ct[_e[ds]]]),_s&=15,rt[ds]=bs=dt[_s][5],bt>0)if(bt===16){for(rs=fs;rs<ds;rs++)rt[rs]=1;fs=-1}else fs=-1;if(dt[_s][6])fs===-1&&(fs=ds);else if(fs>-1){for(rs=fs;rs<ds;rs++)rt[rs]=bs;fs=-1}ht[ds]==="B"&&(rt[ds]=0),xt.hiLevel|=bs}V&&(function(Ot,Pt,Yt){for(var ps=0;ps<Yt;ps++)if(Ot[ps]==="S"){Pt[ps]=Rt;for(var gs=ps-1;gs>=0&&Ot[gs]==="WS";gs--)Pt[gs]=Rt}})(ht,rt,Xs)},vt=function(Xe,rt,xt,bt,rs){if(!(rs.hiLevel<Xe)){if(Xe===1&&Rt===1&&!P)return rt.reverse(),void(xt&&xt.reverse());for(var ds,bs,Kt,fs,Xs=rt.length,_s=0;_s<Xs;){if(bt[_s]>=Xe){for(Kt=_s+1;Kt<Xs&&bt[Kt]>=Xe;)Kt++;for(fs=_s,bs=Kt-1;fs<bs;fs++,bs--)ds=rt[fs],rt[fs]=rt[bs],rt[bs]=ds,xt&&(ds=xt[fs],xt[fs]=xt[bs],xt[bs]=ds);_s=Kt}_s++}}},ts=function(Xe,rt,xt){var bt=Xe.split(""),rs={hiLevel:Rt};return xt||(xt=[]),Ht(bt,xt,rs),(function(ds,bs,Kt){if(Kt.hiLevel!==0&&Me)for(var fs,Xs=0;Xs<ds.length;Xs++)bs[Xs]===1&&(fs=At.indexOf(ds[Xs]))>=0&&(ds[Xs]=At[fs+1])})(bt,xt,rs),vt(2,bt,rt,xt,rs),vt(1,bt,rt,xt,rs),bt.join("")};return this.__bidiEngine__.doBidiReorder=function(Xe,rt,xt){if((function(rs,ds){if(ds)for(var bs=0;bs<rs.length;bs++)ds[bs]=bs;q===void 0&&(q=Ge(rs)),ke===void 0&&(ke=Ge(rs))})(Xe,rt),de||!ee||ke)if(de&&ee&&q^ke)Rt=q?1:0,Xe=is(Xe,rt,xt);else if(!de&&ee&&ke)Rt=q?1:0,Xe=ts(Xe,rt,xt),Xe=is(Xe,rt);else if(!de||q||ee||ke){if(de&&!ee&&q^ke)Xe=is(Xe,rt),q?(Rt=0,Xe=ts(Xe,rt,xt)):(Rt=1,Xe=ts(Xe,rt,xt),Xe=is(Xe,rt));else if(de&&q&&!ee&&ke)Rt=1,Xe=ts(Xe,rt,xt),Xe=is(Xe,rt);else if(!de&&!ee&&q^ke){var bt=Me;q?(Rt=1,Xe=ts(Xe,rt,xt),Rt=0,Me=!1,Xe=ts(Xe,rt,xt),Me=bt):(Rt=0,Xe=ts(Xe,rt,xt),Xe=is(Xe,rt),Rt=1,Me=!1,Xe=ts(Xe,rt,xt),Me=bt,Xe=is(Xe,rt))}}else Rt=0,Xe=ts(Xe,rt,xt);else Rt=q?1:0,Xe=ts(Xe,rt,xt);return Xe},this.__bidiEngine__.setOptions=function(Xe){Xe&&(de=Xe.isInputVisual,ee=Xe.isOutputVisual,q=Xe.isInputRtl,ke=Xe.isOutputRtl,Me=Xe.isSymmetricSwapping)},this.__bidiEngine__.setOptions(I),this.__bidiEngine__};var v=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],S=new N.__bidiEngine__({isInputVisual:!0});N.API.events.push(["postProcessText",function(I){var P=I.text;I.x,I.y;var V=I.options||{};I.mutex,V.lang;var de=[];if(V.isInputVisual=typeof V.isInputVisual!="boolean"||V.isInputVisual,S.setOptions(V),Object.prototype.toString.call(P)==="[object Array]"){var q=0;for(de=[],q=0;q<P.length;q+=1)Object.prototype.toString.call(P[q])==="[object Array]"?de.push([S.doBidiReorder(P[q][0]),P[q][1],P[q][2]]):de.push([S.doBidiReorder(P[q])]);I.text=de}else I.text=S.doBidiReorder(P);S.setOptions({isInputVisual:!0})}])})(We),We.API.TTFFont=(function(){function N(v){var S;if(this.rawData=v,S=this.contents=new Ra(v),this.contents.pos=4,S.readString(4)==="ttcf")throw new Error("TTCF not supported.");S.pos=0,this.parse(),this.subset=new Ze(this),this.registerTTF()}return N.open=function(v){return new N(v)},N.prototype.parse=function(){return this.directory=new fi(this.contents),this.head=new ba(this),this.name=new G(this),this.cmap=new eo(this),this.toUnicode={},this.hhea=new Si(this),this.maxp=new J(this),this.hmtx=new E(this),this.post=new Tt(this),this.os2=new oo(this),this.loca=new Re(this),this.glyf=new $(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},N.prototype.registerTTF=function(){var v,S,I,P,V;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var de,q,ee,ke;for(ke=[],de=0,q=(ee=this.bbox).length;de<q;de++)v=ee[de],ke.push(Math.round(v*this.scaleFactor));return ke}).call(this),this.stemV=0,this.post.exists?(I=255&(P=this.post.italic_angle),32768&(S=P>>16)&&(S=-(1+(65535^S))),this.italicAngle=+(S+"."+I)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(V=this.familyClass)===1||V===2||V===3||V===4||V===5||V===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},N.prototype.characterToGlyph=function(v){var S;return((S=this.cmap.unicode)!=null?S.codeMap[v]:void 0)||0},N.prototype.widthOfGlyph=function(v){var S;return S=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(v).advance*S},N.prototype.widthOfString=function(v,S,I){var P,V,de,q;for(de=0,V=0,q=(v=""+v).length;0<=q?V<q:V>q;V=0<=q?++V:--V)P=v.charCodeAt(V),de+=this.widthOfGlyph(this.characterToGlyph(P))+I*(1e3/S)||0;return de*(S/1e3)},N.prototype.lineHeight=function(v,S){var I;return S==null&&(S=!1),I=S?this.lineGap:0,(this.ascender+I-this.decender)/1e3*v},N})();var Ga,Ra=(function(){function N(v){this.data=v??[],this.pos=0,this.length=this.data.length}return N.prototype.readByte=function(){return this.data[this.pos++]},N.prototype.writeByte=function(v){return this.data[this.pos++]=v},N.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},N.prototype.writeUInt32=function(v){return this.writeByte(v>>>24&255),this.writeByte(v>>16&255),this.writeByte(v>>8&255),this.writeByte(255&v)},N.prototype.readInt32=function(){var v;return(v=this.readUInt32())>=2147483648?v-4294967296:v},N.prototype.writeInt32=function(v){return v<0&&(v+=4294967296),this.writeUInt32(v)},N.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},N.prototype.writeUInt16=function(v){return this.writeByte(v>>8&255),this.writeByte(255&v)},N.prototype.readInt16=function(){var v;return(v=this.readUInt16())>=32768?v-65536:v},N.prototype.writeInt16=function(v){return v<0&&(v+=65536),this.writeUInt16(v)},N.prototype.readString=function(v){var S,I;for(I=[],S=0;0<=v?S<v:S>v;S=0<=v?++S:--S)I[S]=String.fromCharCode(this.readByte());return I.join("")},N.prototype.writeString=function(v){var S,I,P;for(P=[],S=0,I=v.length;0<=I?S<I:S>I;S=0<=I?++S:--S)P.push(this.writeByte(v.charCodeAt(S)));return P},N.prototype.readShort=function(){return this.readInt16()},N.prototype.writeShort=function(v){return this.writeInt16(v)},N.prototype.readLongLong=function(){var v,S,I,P,V,de,q,ee;return v=this.readByte(),S=this.readByte(),I=this.readByte(),P=this.readByte(),V=this.readByte(),de=this.readByte(),q=this.readByte(),ee=this.readByte(),128&v?-1*(72057594037927940*(255^v)+281474976710656*(255^S)+1099511627776*(255^I)+4294967296*(255^P)+16777216*(255^V)+65536*(255^de)+256*(255^q)+(255^ee)+1):72057594037927940*v+281474976710656*S+1099511627776*I+4294967296*P+16777216*V+65536*de+256*q+ee},N.prototype.writeLongLong=function(v){var S,I;return S=Math.floor(v/4294967296),I=4294967295&v,this.writeByte(S>>24&255),this.writeByte(S>>16&255),this.writeByte(S>>8&255),this.writeByte(255&S),this.writeByte(I>>24&255),this.writeByte(I>>16&255),this.writeByte(I>>8&255),this.writeByte(255&I)},N.prototype.readInt=function(){return this.readInt32()},N.prototype.writeInt=function(v){return this.writeInt32(v)},N.prototype.read=function(v){var S,I;for(S=[],I=0;0<=v?I<v:I>v;I=0<=v?++I:--I)S.push(this.readByte());return S},N.prototype.write=function(v){var S,I,P,V;for(V=[],I=0,P=v.length;I<P;I++)S=v[I],V.push(this.writeByte(S));return V},N})(),fi=(function(){var N;function v(S){var I,P,V;for(this.scalarType=S.readInt(),this.tableCount=S.readShort(),this.searchRange=S.readShort(),this.entrySelector=S.readShort(),this.rangeShift=S.readShort(),this.tables={},P=0,V=this.tableCount;0<=V?P<V:P>V;P=0<=V?++P:--P)I={tag:S.readString(4),checksum:S.readInt(),offset:S.readInt(),length:S.readInt()},this.tables[I.tag]=I}return v.prototype.encode=function(S){var I,P,V,de,q,ee,ke,Me,$e,Je,xe,ct,ot;for(ot in xe=Object.keys(S).length,ee=Math.log(2),$e=16*Math.floor(Math.log(xe)/ee),de=Math.floor($e/ee),Me=16*xe-$e,(P=new Ra).writeInt(this.scalarType),P.writeShort(xe),P.writeShort($e),P.writeShort(de),P.writeShort(Me),V=16*xe,ke=P.pos+V,q=null,ct=[],S)for(Je=S[ot],P.writeString(ot),P.writeInt(N(Je)),P.writeInt(ke),P.writeInt(Je.length),ct=ct.concat(Je),ot==="head"&&(q=ke),ke+=Je.length;ke%4;)ct.push(0),ke++;return P.write(ct),I=2981146554-N(P.data),P.pos=q+8,P.writeUInt32(I),P.data},N=function(S){var I,P,V,de;for(S=M.call(S);S.length%4;)S.push(0);for(V=new Ra(S),P=0,I=0,de=S.length;I<de;I=I+=4)P+=V.readUInt32();return 4294967295&P},v})(),Fo={}.hasOwnProperty,Bi=function(N,v){for(var S in v)Fo.call(v,S)&&(N[S]=v[S]);function I(){this.constructor=N}return I.prototype=v.prototype,N.prototype=new I,N.__super__=v.prototype,N};Ga=(function(){function N(v){var S;this.file=v,S=this.file.directory.tables[this.tag],this.exists=!!S,S&&(this.offset=S.offset,this.length=S.length,this.parse(this.file.contents))}return N.prototype.parse=function(){},N.prototype.encode=function(){},N.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},N})();var ba=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="head",N.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.revision=v.readInt(),this.checkSumAdjustment=v.readInt(),this.magicNumber=v.readInt(),this.flags=v.readShort(),this.unitsPerEm=v.readShort(),this.created=v.readLongLong(),this.modified=v.readLongLong(),this.xMin=v.readShort(),this.yMin=v.readShort(),this.xMax=v.readShort(),this.yMax=v.readShort(),this.macStyle=v.readShort(),this.lowestRecPPEM=v.readShort(),this.fontDirectionHint=v.readShort(),this.indexToLocFormat=v.readShort(),this.glyphDataFormat=v.readShort()},N.prototype.encode=function(v){var S;return(S=new Ra).writeInt(this.version),S.writeInt(this.revision),S.writeInt(this.checkSumAdjustment),S.writeInt(this.magicNumber),S.writeShort(this.flags),S.writeShort(this.unitsPerEm),S.writeLongLong(this.created),S.writeLongLong(this.modified),S.writeShort(this.xMin),S.writeShort(this.yMin),S.writeShort(this.xMax),S.writeShort(this.yMax),S.writeShort(this.macStyle),S.writeShort(this.lowestRecPPEM),S.writeShort(this.fontDirectionHint),S.writeShort(v),S.writeShort(this.glyphDataFormat),S.data},N})(),pi=(function(){function N(v,S){var I,P,V,de,q,ee,ke,Me,$e,Je,xe,ct,ot,At,Ye,wt,Rt;switch(this.platformID=v.readUInt16(),this.encodingID=v.readShort(),this.offset=S+v.readInt(),$e=v.pos,v.pos=this.offset,this.format=v.readUInt16(),this.length=v.readUInt16(),this.language=v.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(ee=0;ee<256;++ee)this.codeMap[ee]=v.readByte();break;case 4:for(xe=v.readUInt16(),Je=xe/2,v.pos+=6,V=(function(){var gt,Ge;for(Ge=[],ee=gt=0;0<=Je?gt<Je:gt>Je;ee=0<=Je?++gt:--gt)Ge.push(v.readUInt16());return Ge})(),v.pos+=2,ot=(function(){var gt,Ge;for(Ge=[],ee=gt=0;0<=Je?gt<Je:gt>Je;ee=0<=Je?++gt:--gt)Ge.push(v.readUInt16());return Ge})(),ke=(function(){var gt,Ge;for(Ge=[],ee=gt=0;0<=Je?gt<Je:gt>Je;ee=0<=Je?++gt:--gt)Ge.push(v.readUInt16());return Ge})(),Me=(function(){var gt,Ge;for(Ge=[],ee=gt=0;0<=Je?gt<Je:gt>Je;ee=0<=Je?++gt:--gt)Ge.push(v.readUInt16());return Ge})(),P=(this.length-v.pos+this.offset)/2,q=(function(){var gt,Ge;for(Ge=[],ee=gt=0;0<=P?gt<P:gt>P;ee=0<=P?++gt:--gt)Ge.push(v.readUInt16());return Ge})(),ee=Ye=0,Rt=V.length;Ye<Rt;ee=++Ye)for(At=V[ee],I=wt=ct=ot[ee];ct<=At?wt<=At:wt>=At;I=ct<=At?++wt:--wt)Me[ee]===0?de=I+ke[ee]:(de=q[Me[ee]/2+(I-ct)-(Je-ee)]||0)!==0&&(de+=ke[ee]),this.codeMap[I]=65535&de}v.pos=$e}return N.encode=function(v,S){var I,P,V,de,q,ee,ke,Me,$e,Je,xe,ct,ot,At,Ye,wt,Rt,gt,Ge,Mt,is,Ht,vt,ts,Xe,rt,xt,bt,rs,ds,bs,Kt,fs,Xs,_s,_e,dt,ht,Ot,Pt,Yt,ps,gs,Ls,Js,xr;switch(bt=new Ra,de=Object.keys(v).sort(function(mr,Yr){return mr-Yr}),S){case"macroman":for(ot=0,At=(function(){var mr=[];for(ct=0;ct<256;++ct)mr.push(0);return mr})(),wt={0:0},V={},rs=0,fs=de.length;rs<fs;rs++)wt[gs=v[P=de[rs]]]==null&&(wt[gs]=++ot),V[P]={old:v[P],new:wt[v[P]]},At[P]=wt[v[P]];return bt.writeUInt16(1),bt.writeUInt16(0),bt.writeUInt32(12),bt.writeUInt16(0),bt.writeUInt16(262),bt.writeUInt16(0),bt.write(At),{charMap:V,subtable:bt.data,maxGlyphID:ot+1};case"unicode":for(rt=[],$e=[],Rt=0,wt={},I={},Ye=ke=null,ds=0,Xs=de.length;ds<Xs;ds++)wt[Ge=v[P=de[ds]]]==null&&(wt[Ge]=++Rt),I[P]={old:Ge,new:wt[Ge]},q=wt[Ge]-P,Ye!=null&&q===ke||(Ye&&$e.push(Ye),rt.push(P),ke=q),Ye=P;for(Ye&&$e.push(Ye),$e.push(65535),rt.push(65535),ts=2*(vt=rt.length),Ht=2*Math.pow(Math.log(vt)/Math.LN2,2),Je=Math.log(Ht/2)/Math.LN2,is=2*vt-Ht,ee=[],Mt=[],xe=[],ct=bs=0,_s=rt.length;bs<_s;ct=++bs){if(Xe=rt[ct],Me=$e[ct],Xe===65535){ee.push(0),Mt.push(0);break}if(Xe-(xt=I[Xe].new)>=32768)for(ee.push(0),Mt.push(2*(xe.length+vt-ct)),P=Kt=Xe;Xe<=Me?Kt<=Me:Kt>=Me;P=Xe<=Me?++Kt:--Kt)xe.push(I[P].new);else ee.push(xt-Xe),Mt.push(0)}for(bt.writeUInt16(3),bt.writeUInt16(1),bt.writeUInt32(12),bt.writeUInt16(4),bt.writeUInt16(16+8*vt+2*xe.length),bt.writeUInt16(0),bt.writeUInt16(ts),bt.writeUInt16(Ht),bt.writeUInt16(Je),bt.writeUInt16(is),Yt=0,_e=$e.length;Yt<_e;Yt++)P=$e[Yt],bt.writeUInt16(P);for(bt.writeUInt16(0),ps=0,dt=rt.length;ps<dt;ps++)P=rt[ps],bt.writeUInt16(P);for(Ls=0,ht=ee.length;Ls<ht;Ls++)q=ee[Ls],bt.writeUInt16(q);for(Js=0,Ot=Mt.length;Js<Ot;Js++)gt=Mt[Js],bt.writeUInt16(gt);for(xr=0,Pt=xe.length;xr<Pt;xr++)ot=xe[xr],bt.writeUInt16(ot);return{charMap:I,subtable:bt.data,maxGlyphID:Rt+1}}},N})(),eo=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="cmap",N.prototype.parse=function(v){var S,I,P;for(v.pos=this.offset,this.version=v.readUInt16(),P=v.readUInt16(),this.tables=[],this.unicode=null,I=0;0<=P?I<P:I>P;I=0<=P?++I:--I)S=new pi(v,this.offset),this.tables.push(S),S.isUnicode&&this.unicode==null&&(this.unicode=S);return!0},N.encode=function(v,S){var I,P;return S==null&&(S="macroman"),I=pi.encode(v,S),(P=new Ra).writeUInt16(0),P.writeUInt16(1),I.table=P.data.concat(I.subtable),I},N})(),Si=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="hhea",N.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.ascender=v.readShort(),this.decender=v.readShort(),this.lineGap=v.readShort(),this.advanceWidthMax=v.readShort(),this.minLeftSideBearing=v.readShort(),this.minRightSideBearing=v.readShort(),this.xMaxExtent=v.readShort(),this.caretSlopeRise=v.readShort(),this.caretSlopeRun=v.readShort(),this.caretOffset=v.readShort(),v.pos+=8,this.metricDataFormat=v.readShort(),this.numberOfMetrics=v.readUInt16()},N})(),oo=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="OS/2",N.prototype.parse=function(v){if(v.pos=this.offset,this.version=v.readUInt16(),this.averageCharWidth=v.readShort(),this.weightClass=v.readUInt16(),this.widthClass=v.readUInt16(),this.type=v.readShort(),this.ySubscriptXSize=v.readShort(),this.ySubscriptYSize=v.readShort(),this.ySubscriptXOffset=v.readShort(),this.ySubscriptYOffset=v.readShort(),this.ySuperscriptXSize=v.readShort(),this.ySuperscriptYSize=v.readShort(),this.ySuperscriptXOffset=v.readShort(),this.ySuperscriptYOffset=v.readShort(),this.yStrikeoutSize=v.readShort(),this.yStrikeoutPosition=v.readShort(),this.familyClass=v.readShort(),this.panose=(function(){var S,I;for(I=[],S=0;S<10;++S)I.push(v.readByte());return I})(),this.charRange=(function(){var S,I;for(I=[],S=0;S<4;++S)I.push(v.readInt());return I})(),this.vendorID=v.readString(4),this.selection=v.readShort(),this.firstCharIndex=v.readShort(),this.lastCharIndex=v.readShort(),this.version>0&&(this.ascent=v.readShort(),this.descent=v.readShort(),this.lineGap=v.readShort(),this.winAscent=v.readShort(),this.winDescent=v.readShort(),this.codePageRange=(function(){var S,I;for(I=[],S=0;S<2;S=++S)I.push(v.readInt());return I})(),this.version>1))return this.xHeight=v.readShort(),this.capHeight=v.readShort(),this.defaultChar=v.readShort(),this.breakChar=v.readShort(),this.maxContext=v.readShort()},N})(),Tt=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="post",N.prototype.parse=function(v){var S,I,P;switch(v.pos=this.offset,this.format=v.readInt(),this.italicAngle=v.readInt(),this.underlinePosition=v.readShort(),this.underlineThickness=v.readShort(),this.isFixedPitch=v.readInt(),this.minMemType42=v.readInt(),this.maxMemType42=v.readInt(),this.minMemType1=v.readInt(),this.maxMemType1=v.readInt(),this.format){case 65536:case 196608:break;case 131072:var V;for(I=v.readUInt16(),this.glyphNameIndex=[],V=0;0<=I?V<I:V>I;V=0<=I?++V:--V)this.glyphNameIndex.push(v.readUInt16());for(this.names=[],P=[];v.pos<this.offset+this.length;)S=v.readByte(),P.push(this.names.push(v.readString(S)));return P;case 151552:return I=v.readUInt16(),this.offsets=v.read(I);case 262144:return this.map=(function(){var de,q,ee;for(ee=[],V=de=0,q=this.file.maxp.numGlyphs;0<=q?de<q:de>q;V=0<=q?++de:--de)ee.push(v.readUInt32());return ee}).call(this)}},N})(),L=function(N,v){this.raw=N,this.length=N.length,this.platformID=v.platformID,this.encodingID=v.encodingID,this.languageID=v.languageID},G=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="name",N.prototype.parse=function(v){var S,I,P,V,de,q,ee,ke,Me,$e,Je;for(v.pos=this.offset,v.readShort(),S=v.readShort(),q=v.readShort(),I=[],V=0;0<=S?V<S:V>S;V=0<=S?++V:--V)I.push({platformID:v.readShort(),encodingID:v.readShort(),languageID:v.readShort(),nameID:v.readShort(),length:v.readShort(),offset:this.offset+q+v.readShort()});for(ee={},V=Me=0,$e=I.length;Me<$e;V=++Me)P=I[V],v.pos=P.offset,ke=v.readString(P.length),de=new L(ke,P),ee[Je=P.nameID]==null&&(ee[Je]=[]),ee[P.nameID].push(de);this.strings=ee,this.copyright=ee[0],this.fontFamily=ee[1],this.fontSubfamily=ee[2],this.uniqueSubfamily=ee[3],this.fontName=ee[4],this.version=ee[5];try{this.postscriptName=ee[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=ee[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=ee[7],this.manufacturer=ee[8],this.designer=ee[9],this.description=ee[10],this.vendorUrl=ee[11],this.designerUrl=ee[12],this.license=ee[13],this.licenseUrl=ee[14],this.preferredFamily=ee[15],this.preferredSubfamily=ee[17],this.compatibleFull=ee[18],this.sampleText=ee[19]},N})(),J=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="maxp",N.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.numGlyphs=v.readUInt16(),this.maxPoints=v.readUInt16(),this.maxContours=v.readUInt16(),this.maxCompositePoints=v.readUInt16(),this.maxComponentContours=v.readUInt16(),this.maxZones=v.readUInt16(),this.maxTwilightPoints=v.readUInt16(),this.maxStorage=v.readUInt16(),this.maxFunctionDefs=v.readUInt16(),this.maxInstructionDefs=v.readUInt16(),this.maxStackElements=v.readUInt16(),this.maxSizeOfInstructions=v.readUInt16(),this.maxComponentElements=v.readUInt16(),this.maxComponentDepth=v.readUInt16()},N})(),E=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="hmtx",N.prototype.parse=function(v){var S,I,P,V,de,q,ee;for(v.pos=this.offset,this.metrics=[],S=0,q=this.file.hhea.numberOfMetrics;0<=q?S<q:S>q;S=0<=q?++S:--S)this.metrics.push({advance:v.readUInt16(),lsb:v.readInt16()});for(P=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var ke,Me;for(Me=[],S=ke=0;0<=P?ke<P:ke>P;S=0<=P?++ke:--ke)Me.push(v.readInt16());return Me})(),this.widths=(function(){var ke,Me,$e,Je;for(Je=[],ke=0,Me=($e=this.metrics).length;ke<Me;ke++)V=$e[ke],Je.push(V.advance);return Je}).call(this),I=this.widths[this.widths.length-1],ee=[],S=de=0;0<=P?de<P:de>P;S=0<=P?++de:--de)ee.push(this.widths.push(I));return ee},N.prototype.forGlyph=function(v){return v in this.metrics?this.metrics[v]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[v-this.metrics.length]}},N})(),M=[].slice,$=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="glyf",N.prototype.parse=function(){return this.cache={}},N.prototype.glyphFor=function(v){var S,I,P,V,de,q,ee,ke,Me,$e;return v in this.cache?this.cache[v]:(V=this.file.loca,S=this.file.contents,I=V.indexOf(v),(P=V.lengthOf(v))===0?this.cache[v]=null:(S.pos=this.offset+I,de=(q=new Ra(S.read(P))).readShort(),ke=q.readShort(),$e=q.readShort(),ee=q.readShort(),Me=q.readShort(),this.cache[v]=de===-1?new ye(q,ke,$e,ee,Me):new ie(q,de,ke,$e,ee,Me),this.cache[v]))},N.prototype.encode=function(v,S,I){var P,V,de,q,ee;for(de=[],V=[],q=0,ee=S.length;q<ee;q++)P=v[S[q]],V.push(de.length),P&&(de=de.concat(P.encode(I)));return V.push(de.length),{table:de,offsets:V}},N})(),ie=(function(){function N(v,S,I,P,V,de){this.raw=v,this.numberOfContours=S,this.xMin=I,this.yMin=P,this.xMax=V,this.yMax=de,this.compound=!1}return N.prototype.encode=function(){return this.raw.data},N})(),ye=(function(){function N(v,S,I,P,V){var de,q;for(this.raw=v,this.xMin=S,this.yMin=I,this.xMax=P,this.yMax=V,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],de=this.raw;q=de.readShort(),this.glyphOffsets.push(de.pos),this.glyphIDs.push(de.readUInt16()),32&q;)de.pos+=1&q?4:2,128&q?de.pos+=8:64&q?de.pos+=4:8&q&&(de.pos+=2)}return N.prototype.encode=function(){var v,S,I;for(S=new Ra(M.call(this.raw.data)),v=0,I=this.glyphIDs.length;v<I;++v)S.pos=this.glyphOffsets[v];return S.data},N})(),Re=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="loca",N.prototype.parse=function(v){var S,I;return v.pos=this.offset,S=this.file.head.indexToLocFormat,this.offsets=S===0?(function(){var P,V;for(V=[],I=0,P=this.length;I<P;I+=2)V.push(2*v.readUInt16());return V}).call(this):(function(){var P,V;for(V=[],I=0,P=this.length;I<P;I+=4)V.push(v.readUInt32());return V}).call(this)},N.prototype.indexOf=function(v){return this.offsets[v]},N.prototype.lengthOf=function(v){return this.offsets[v+1]-this.offsets[v]},N.prototype.encode=function(v,S){for(var I=new Uint32Array(this.offsets.length),P=0,V=0,de=0;de<I.length;++de)if(I[de]=P,V<S.length&&S[V]==de){++V,I[de]=P;var q=this.offsets[de],ee=this.offsets[de+1]-q;ee>0&&(P+=ee)}for(var ke=new Array(4*I.length),Me=0;Me<I.length;++Me)ke[4*Me+3]=255&I[Me],ke[4*Me+2]=(65280&I[Me])>>8,ke[4*Me+1]=(16711680&I[Me])>>16,ke[4*Me]=(4278190080&I[Me])>>24;return ke},N})(),Ze=(function(){function N(v){this.font=v,this.subset={},this.unicodes={},this.next=33}return N.prototype.generateCmap=function(){var v,S,I,P,V;for(S in P=this.font.cmap.tables[0].codeMap,v={},V=this.subset)I=V[S],v[S]=P[I];return v},N.prototype.glyphsFor=function(v){var S,I,P,V,de,q,ee;for(P={},de=0,q=v.length;de<q;de++)P[V=v[de]]=this.font.glyf.glyphFor(V);for(V in S=[],P)(I=P[V])!=null&&I.compound&&S.push.apply(S,I.glyphIDs);if(S.length>0)for(V in ee=this.glyphsFor(S))I=ee[V],P[V]=I;return P},N.prototype.encode=function(v,S){var I,P,V,de,q,ee,ke,Me,$e,Je,xe,ct,ot,At,Ye;for(P in I=eo.encode(this.generateCmap(),"unicode"),de=this.glyphsFor(v),xe={0:0},Ye=I.charMap)xe[(ee=Ye[P]).old]=ee.new;for(ct in Je=I.maxGlyphID,de)ct in xe||(xe[ct]=Je++);return Me=(function(wt){var Rt,gt;for(Rt in gt={},wt)gt[wt[Rt]]=Rt;return gt})(xe),$e=Object.keys(Me).sort(function(wt,Rt){return wt-Rt}),ot=(function(){var wt,Rt,gt;for(gt=[],wt=0,Rt=$e.length;wt<Rt;wt++)q=$e[wt],gt.push(Me[q]);return gt})(),V=this.font.glyf.encode(de,ot,xe),ke=this.font.loca.encode(V.offsets,ot),At={cmap:this.font.cmap.raw(),glyf:V.table,loca:ke,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(S)},this.font.os2.exists&&(At["OS/2"]=this.font.os2.raw()),this.font.directory.encode(At)},N})();We.API.PDFObject=(function(){var N;function v(){}return N=function(S,I){return(Array(I+1).join("0")+S).slice(-I)},v.convert=function(S){var I,P,V,de;if(Array.isArray(S))return"["+(function(){var q,ee,ke;for(ke=[],q=0,ee=S.length;q<ee;q++)I=S[q],ke.push(v.convert(I));return ke})().join(" ")+"]";if(typeof S=="string")return"/"+S;if(S!=null&&S.isString)return"("+S+")";if(S instanceof Date)return"(D:"+N(S.getUTCFullYear(),4)+N(S.getUTCMonth(),2)+N(S.getUTCDate(),2)+N(S.getUTCHours(),2)+N(S.getUTCMinutes(),2)+N(S.getUTCSeconds(),2)+"Z)";if({}.toString.call(S)==="[object Object]"){for(P in V=["<<"],S)de=S[P],V.push("/"+P+" "+v.convert(de));return V.push(">>"),V.join(`
`)}return""+S},v})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(d,A,o){o.r(A),o.d(A,{Deflate:function(){return Rs},Inflate:function(){return kn},constants:function(){return Ba},default:function(){return Ei},deflate:function(){return Sr},deflateRaw:function(){return Er},gzip:function(){return mn},inflate:function(){return ra},inflateRaw:function(){return Fa},ungzip:function(){return bi}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const f=4,p=0,m=1,x=2;function b(k){let Be=k.length;for(;--Be>=0;)k[Be]=0}const j=0,y=1,T=2,R=3,z=258,X=29,Y=256,Q=Y+1+X,K=30,ce=19,ue=2*Q+1,Ne=15,le=16,Ce=7,oe=256,je=16,Ae=17,se=18,pe=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),re=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ee=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),De=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Se=512,fe=new Array((Q+2)*2);b(fe);const be=new Array(K*2);b(be);const he=new Array(Se);b(he);const te=new Array(z-R+1);b(te);const ge=new Array(X);b(ge);const Le=new Array(K);b(Le);function Ve(k,Be,H,Qe,lt){this.static_tree=k,this.extra_bits=Be,this.extra_base=H,this.elems=Qe,this.max_length=lt,this.has_stree=k&&k.length}let kt,Bt,We;function Lt(k,Be){this.dyn_tree=k,this.max_code=0,this.stat_desc=Be}const $t=k=>k<256?he[k]:he[256+(k>>>7)],ls=(k,Be)=>{k.pending_buf[k.pending++]=Be&255,k.pending_buf[k.pending++]=Be>>>8&255},Ts=(k,Be,H)=>{k.bi_valid>le-H?(k.bi_buf|=Be<<k.bi_valid&65535,ls(k,k.bi_buf),k.bi_buf=Be>>le-k.bi_valid,k.bi_valid+=H-le):(k.bi_buf|=Be<<k.bi_valid&65535,k.bi_valid+=H)},Pe=(k,Be,H)=>{Ts(k,H[Be*2],H[Be*2+1])},ut=(k,Be)=>{let H=0;do H|=k&1,k>>>=1,H<<=1;while(--Be>0);return H>>>1},St=k=>{k.bi_valid===16?(ls(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):k.bi_valid>=8&&(k.pending_buf[k.pending++]=k.bi_buf&255,k.bi_buf>>=8,k.bi_valid-=8)},Is=(k,Be)=>{const H=Be.dyn_tree,Qe=Be.max_code,lt=Be.stat_desc.static_tree,it=Be.stat_desc.has_stree,Xt=Be.stat_desc.extra_bits,Ut=Be.stat_desc.extra_base,pr=Be.stat_desc.max_length;let jt,Jt,gn,nr,Qs,xs,La=0;for(nr=0;nr<=Ne;nr++)k.bl_count[nr]=0;for(H[k.heap[k.heap_max]*2+1]=0,jt=k.heap_max+1;jt<ue;jt++)Jt=k.heap[jt],nr=H[H[Jt*2+1]*2+1]+1,nr>pr&&(nr=pr,La++),H[Jt*2+1]=nr,!(Jt>Qe)&&(k.bl_count[nr]++,Qs=0,Jt>=Ut&&(Qs=Xt[Jt-Ut]),xs=H[Jt*2],k.opt_len+=xs*(nr+Qs),it&&(k.static_len+=xs*(lt[Jt*2+1]+Qs)));if(La!==0){do{for(nr=pr-1;k.bl_count[nr]===0;)nr--;k.bl_count[nr]--,k.bl_count[nr+1]+=2,k.bl_count[pr]--,La-=2}while(La>0);for(nr=pr;nr!==0;nr--)for(Jt=k.bl_count[nr];Jt!==0;)gn=k.heap[--jt],!(gn>Qe)&&(H[gn*2+1]!==nr&&(k.opt_len+=(nr-H[gn*2+1])*H[gn*2],H[gn*2+1]=nr),Jt--)}},us=(k,Be,H)=>{const Qe=new Array(Ne+1);let lt=0,it,Xt;for(it=1;it<=Ne;it++)lt=lt+H[it-1]<<1,Qe[it]=lt;for(Xt=0;Xt<=Be;Xt++){let Ut=k[Xt*2+1];Ut!==0&&(k[Xt*2]=ut(Qe[Ut]++,Ut))}},br=()=>{let k,Be,H,Qe,lt;const it=new Array(Ne+1);for(H=0,Qe=0;Qe<X-1;Qe++)for(ge[Qe]=H,k=0;k<1<<pe[Qe];k++)te[H++]=Qe;for(te[H-1]=Qe,lt=0,Qe=0;Qe<16;Qe++)for(Le[Qe]=lt,k=0;k<1<<re[Qe];k++)he[lt++]=Qe;for(lt>>=7;Qe<K;Qe++)for(Le[Qe]=lt<<7,k=0;k<1<<re[Qe]-7;k++)he[256+lt++]=Qe;for(Be=0;Be<=Ne;Be++)it[Be]=0;for(k=0;k<=143;)fe[k*2+1]=8,k++,it[8]++;for(;k<=255;)fe[k*2+1]=9,k++,it[9]++;for(;k<=279;)fe[k*2+1]=7,k++,it[7]++;for(;k<=287;)fe[k*2+1]=8,k++,it[8]++;for(us(fe,Q+1,it),k=0;k<K;k++)be[k*2+1]=5,be[k*2]=ut(k,5);kt=new Ve(fe,pe,Y+1,Q,Ne),Bt=new Ve(be,re,0,K,Ne),We=new Ve(new Array(0),Ee,0,ce,Ce)},hr=k=>{let Be;for(Be=0;Be<Q;Be++)k.dyn_ltree[Be*2]=0;for(Be=0;Be<K;Be++)k.dyn_dtree[Be*2]=0;for(Be=0;Be<ce;Be++)k.bl_tree[Be*2]=0;k.dyn_ltree[oe*2]=1,k.opt_len=k.static_len=0,k.sym_next=k.matches=0},ar=k=>{k.bi_valid>8?ls(k,k.bi_buf):k.bi_valid>0&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0},Fs=(k,Be,H,Qe)=>{const lt=Be*2,it=H*2;return k[lt]<k[it]||k[lt]===k[it]&&Qe[Be]<=Qe[H]},Cs=(k,Be,H)=>{const Qe=k.heap[H];let lt=H<<1;for(;lt<=k.heap_len&&(lt<k.heap_len&&Fs(Be,k.heap[lt+1],k.heap[lt],k.depth)&&lt++,!Fs(Be,Qe,k.heap[lt],k.depth));)k.heap[H]=k.heap[lt],H=lt,lt<<=1;k.heap[H]=Qe},Bs=(k,Be,H)=>{let Qe,lt,it=0,Xt,Ut;if(k.sym_next!==0)do Qe=k.pending_buf[k.sym_buf+it++]&255,Qe+=(k.pending_buf[k.sym_buf+it++]&255)<<8,lt=k.pending_buf[k.sym_buf+it++],Qe===0?Pe(k,lt,Be):(Xt=te[lt],Pe(k,Xt+Y+1,Be),Ut=pe[Xt],Ut!==0&&(lt-=ge[Xt],Ts(k,lt,Ut)),Qe--,Xt=$t(Qe),Pe(k,Xt,H),Ut=re[Xt],Ut!==0&&(Qe-=Le[Xt],Ts(k,Qe,Ut)));while(it<k.sym_next);Pe(k,oe,Be)},vr=(k,Be)=>{const H=Be.dyn_tree,Qe=Be.stat_desc.static_tree,lt=Be.stat_desc.has_stree,it=Be.stat_desc.elems;let Xt,Ut,pr=-1,jt;for(k.heap_len=0,k.heap_max=ue,Xt=0;Xt<it;Xt++)H[Xt*2]!==0?(k.heap[++k.heap_len]=pr=Xt,k.depth[Xt]=0):H[Xt*2+1]=0;for(;k.heap_len<2;)jt=k.heap[++k.heap_len]=pr<2?++pr:0,H[jt*2]=1,k.depth[jt]=0,k.opt_len--,lt&&(k.static_len-=Qe[jt*2+1]);for(Be.max_code=pr,Xt=k.heap_len>>1;Xt>=1;Xt--)Cs(k,H,Xt);jt=it;do Xt=k.heap[1],k.heap[1]=k.heap[k.heap_len--],Cs(k,H,1),Ut=k.heap[1],k.heap[--k.heap_max]=Xt,k.heap[--k.heap_max]=Ut,H[jt*2]=H[Xt*2]+H[Ut*2],k.depth[jt]=(k.depth[Xt]>=k.depth[Ut]?k.depth[Xt]:k.depth[Ut])+1,H[Xt*2+1]=H[Ut*2+1]=jt,k.heap[1]=jt++,Cs(k,H,1);while(k.heap_len>=2);k.heap[--k.heap_max]=k.heap[1],Is(k,Be),us(H,pr,k.bl_count)},gr=(k,Be,H)=>{let Qe,lt=-1,it,Xt=Be[1],Ut=0,pr=7,jt=4;for(Xt===0&&(pr=138,jt=3),Be[(H+1)*2+1]=65535,Qe=0;Qe<=H;Qe++)it=Xt,Xt=Be[(Qe+1)*2+1],!(++Ut<pr&&it===Xt)&&(Ut<jt?k.bl_tree[it*2]+=Ut:it!==0?(it!==lt&&k.bl_tree[it*2]++,k.bl_tree[je*2]++):Ut<=10?k.bl_tree[Ae*2]++:k.bl_tree[se*2]++,Ut=0,lt=it,Xt===0?(pr=138,jt=3):it===Xt?(pr=6,jt=3):(pr=7,jt=4))},en=(k,Be,H)=>{let Qe,lt=-1,it,Xt=Be[1],Ut=0,pr=7,jt=4;for(Xt===0&&(pr=138,jt=3),Qe=0;Qe<=H;Qe++)if(it=Xt,Xt=Be[(Qe+1)*2+1],!(++Ut<pr&&it===Xt)){if(Ut<jt)do Pe(k,it,k.bl_tree);while(--Ut!==0);else it!==0?(it!==lt&&(Pe(k,it,k.bl_tree),Ut--),Pe(k,je,k.bl_tree),Ts(k,Ut-3,2)):Ut<=10?(Pe(k,Ae,k.bl_tree),Ts(k,Ut-3,3)):(Pe(k,se,k.bl_tree),Ts(k,Ut-11,7));Ut=0,lt=it,Xt===0?(pr=138,jt=3):it===Xt?(pr=6,jt=3):(pr=7,jt=4)}},Nr=k=>{let Be;for(gr(k,k.dyn_ltree,k.l_desc.max_code),gr(k,k.dyn_dtree,k.d_desc.max_code),vr(k,k.bl_desc),Be=ce-1;Be>=3&&k.bl_tree[De[Be]*2+1]===0;Be--);return k.opt_len+=3*(Be+1)+5+5+4,Be},er=(k,Be,H,Qe)=>{let lt;for(Ts(k,Be-257,5),Ts(k,H-1,5),Ts(k,Qe-4,4),lt=0;lt<Qe;lt++)Ts(k,k.bl_tree[De[lt]*2+1],3);en(k,k.dyn_ltree,Be-1),en(k,k.dyn_dtree,H-1)},Ys=k=>{let Be=4093624447,H;for(H=0;H<=31;H++,Be>>>=1)if(Be&1&&k.dyn_ltree[H*2]!==0)return p;if(k.dyn_ltree[18]!==0||k.dyn_ltree[20]!==0||k.dyn_ltree[26]!==0)return m;for(H=32;H<Y;H++)if(k.dyn_ltree[H*2]!==0)return m;return p};let Es=!1;const ft=k=>{Es||(br(),Es=!0),k.l_desc=new Lt(k.dyn_ltree,kt),k.d_desc=new Lt(k.dyn_dtree,Bt),k.bl_desc=new Lt(k.bl_tree,We),k.bi_buf=0,k.bi_valid=0,hr(k)},Vt=(k,Be,H,Qe)=>{Ts(k,(j<<1)+(Qe?1:0),3),ar(k),ls(k,H),ls(k,~H),H&&k.pending_buf.set(k.window.subarray(Be,Be+H),k.pending),k.pending+=H},js=k=>{Ts(k,y<<1,3),Pe(k,oe,fe),St(k)},Vs=(k,Be,H,Qe)=>{let lt,it,Xt=0;k.level>0?(k.strm.data_type===x&&(k.strm.data_type=Ys(k)),vr(k,k.l_desc),vr(k,k.d_desc),Xt=Nr(k),lt=k.opt_len+3+7>>>3,it=k.static_len+3+7>>>3,it<=lt&&(lt=it)):lt=it=H+5,H+4<=lt&&Be!==-1?Vt(k,Be,H,Qe):k.strategy===f||it===lt?(Ts(k,(y<<1)+(Qe?1:0),3),Bs(k,fe,be)):(Ts(k,(T<<1)+(Qe?1:0),3),er(k,k.l_desc.max_code+1,k.d_desc.max_code+1,Xt+1),Bs(k,k.dyn_ltree,k.dyn_dtree)),hr(k),Qe&&ar(k)},or=(k,Be,H)=>(k.pending_buf[k.sym_buf+k.sym_next++]=Be,k.pending_buf[k.sym_buf+k.sym_next++]=Be>>8,k.pending_buf[k.sym_buf+k.sym_next++]=H,Be===0?k.dyn_ltree[H*2]++:(k.matches++,Be--,k.dyn_ltree[(te[H]+Y+1)*2]++,k.dyn_dtree[$t(Be)*2]++),k.sym_next===k.sym_end);var yt=ft,qt=Vt,As=Vs,hs=or,Ks=js,$s={_tr_init:yt,_tr_stored_block:qt,_tr_flush_block:As,_tr_tally:hs,_tr_align:Ks},tn=(k,Be,H,Qe)=>{let lt=k&65535|0,it=k>>>16&65535|0,Xt=0;for(;H!==0;){Xt=H>2e3?2e3:H,H-=Xt;do lt=lt+Be[Qe++]|0,it=it+lt|0;while(--Xt);lt%=65521,it%=65521}return lt|it<<16|0};const wa=()=>{let k,Be=[];for(var H=0;H<256;H++){k=H;for(var Qe=0;Qe<8;Qe++)k=k&1?3988292384^k>>>1:k>>>1;Be[H]=k}return Be},Us=new Uint32Array(wa());var sr=(k,Be,H,Qe)=>{const lt=Us,it=Qe+H;k^=-1;for(let Xt=Qe;Xt<it;Xt++)k=k>>>8^lt[(k^Be[Xt])&255];return k^-1},ms={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Or={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Pr,_tr_stored_block:Ar,_tr_flush_block:Da,_tr_tally:fa,_tr_align:fn}=$s,{Z_NO_FLUSH:jn,Z_PARTIAL_FLUSH:dn,Z_FULL_FLUSH:la,Z_FINISH:Dn,Z_BLOCK:Ii,Z_OK:Rn,Z_STREAM_END:mc,Z_STREAM_ERROR:oi,Z_DATA_ERROR:Uo,Z_BUF_ERROR:Kl,Z_DEFAULT_COMPRESSION:ho,Z_FILTERED:pa,Z_HUFFMAN_ONLY:Ni,Z_RLE:sa,Z_FIXED:Ua,Z_DEFAULT_STRATEGY:qn,Z_UNKNOWN:fo,Z_DEFLATED:Ai}=Or,ki=9,hl=15,el=8,ja=256+1+29,po=30,ti=19,Di=2*ja+1,hi=15,Wr=3,Ka=258,Ci=Ka+Wr+1,Qa=32,mo=42,Wn=57,Ki=69,Ga=73,Ra=91,fi=103,Fo=113,Bi=666,ba=1,pi=2,eo=3,Si=4,oo=3,Tt=(k,Be)=>(k.msg=ms[Be],Be),L=k=>k*2-(k>4?9:0),G=k=>{let Be=k.length;for(;--Be>=0;)k[Be]=0},J=k=>{let Be,H,Qe,lt=k.w_size;Be=k.hash_size,Qe=Be;do H=k.head[--Qe],k.head[Qe]=H>=lt?H-lt:0;while(--Be);Be=lt,Qe=Be;do H=k.prev[--Qe],k.prev[Qe]=H>=lt?H-lt:0;while(--Be)};let M=(k,Be,H)=>(Be<<k.hash_shift^H)&k.hash_mask;const $=k=>{const Be=k.state;let H=Be.pending;H>k.avail_out&&(H=k.avail_out),H!==0&&(k.output.set(Be.pending_buf.subarray(Be.pending_out,Be.pending_out+H),k.next_out),k.next_out+=H,Be.pending_out+=H,k.total_out+=H,k.avail_out-=H,Be.pending-=H,Be.pending===0&&(Be.pending_out=0))},ie=(k,Be)=>{Da(k,k.block_start>=0?k.block_start:-1,k.strstart-k.block_start,Be),k.block_start=k.strstart,$(k.strm)},ye=(k,Be)=>{k.pending_buf[k.pending++]=Be},Re=(k,Be)=>{k.pending_buf[k.pending++]=Be>>>8&255,k.pending_buf[k.pending++]=Be&255},Ze=(k,Be,H,Qe)=>{let lt=k.avail_in;return lt>Qe&&(lt=Qe),lt===0?0:(k.avail_in-=lt,Be.set(k.input.subarray(k.next_in,k.next_in+lt),H),k.state.wrap===1?k.adler=tn(k.adler,Be,lt,H):k.state.wrap===2&&(k.adler=sr(k.adler,Be,lt,H)),k.next_in+=lt,k.total_in+=lt,lt)},N=(k,Be)=>{let H=k.max_chain_length,Qe=k.strstart,lt,it,Xt=k.prev_length,Ut=k.nice_match;const pr=k.strstart>k.w_size-Ci?k.strstart-(k.w_size-Ci):0,jt=k.window,Jt=k.w_mask,gn=k.prev,nr=k.strstart+Ka;let Qs=jt[Qe+Xt-1],xs=jt[Qe+Xt];k.prev_length>=k.good_match&&(H>>=2),Ut>k.lookahead&&(Ut=k.lookahead);do if(lt=Be,!(jt[lt+Xt]!==xs||jt[lt+Xt-1]!==Qs||jt[lt]!==jt[Qe]||jt[++lt]!==jt[Qe+1])){Qe+=2,lt++;do;while(jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&jt[++Qe]===jt[++lt]&&Qe<nr);if(it=Ka-(nr-Qe),Qe=nr-Ka,it>Xt){if(k.match_start=Be,Xt=it,it>=Ut)break;Qs=jt[Qe+Xt-1],xs=jt[Qe+Xt]}}while((Be=gn[Be&Jt])>pr&&--H!==0);return Xt<=k.lookahead?Xt:k.lookahead},v=k=>{const Be=k.w_size;let H,Qe,lt;do{if(Qe=k.window_size-k.lookahead-k.strstart,k.strstart>=Be+(Be-Ci)&&(k.window.set(k.window.subarray(Be,Be+Be-Qe),0),k.match_start-=Be,k.strstart-=Be,k.block_start-=Be,k.insert>k.strstart&&(k.insert=k.strstart),J(k),Qe+=Be),k.strm.avail_in===0)break;if(H=Ze(k.strm,k.window,k.strstart+k.lookahead,Qe),k.lookahead+=H,k.lookahead+k.insert>=Wr)for(lt=k.strstart-k.insert,k.ins_h=k.window[lt],k.ins_h=M(k,k.ins_h,k.window[lt+1]);k.insert&&(k.ins_h=M(k,k.ins_h,k.window[lt+Wr-1]),k.prev[lt&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=lt,lt++,k.insert--,!(k.lookahead+k.insert<Wr)););}while(k.lookahead<Ci&&k.strm.avail_in!==0)},S=(k,Be)=>{let H=k.pending_buf_size-5>k.w_size?k.w_size:k.pending_buf_size-5,Qe,lt,it,Xt=0,Ut=k.strm.avail_in;do{if(Qe=65535,it=k.bi_valid+42>>3,k.strm.avail_out<it||(it=k.strm.avail_out-it,lt=k.strstart-k.block_start,Qe>lt+k.strm.avail_in&&(Qe=lt+k.strm.avail_in),Qe>it&&(Qe=it),Qe<H&&(Qe===0&&Be!==Dn||Be===jn||Qe!==lt+k.strm.avail_in)))break;Xt=Be===Dn&&Qe===lt+k.strm.avail_in?1:0,Ar(k,0,0,Xt),k.pending_buf[k.pending-4]=Qe,k.pending_buf[k.pending-3]=Qe>>8,k.pending_buf[k.pending-2]=~Qe,k.pending_buf[k.pending-1]=~Qe>>8,$(k.strm),lt&&(lt>Qe&&(lt=Qe),k.strm.output.set(k.window.subarray(k.block_start,k.block_start+lt),k.strm.next_out),k.strm.next_out+=lt,k.strm.avail_out-=lt,k.strm.total_out+=lt,k.block_start+=lt,Qe-=lt),Qe&&(Ze(k.strm,k.strm.output,k.strm.next_out,Qe),k.strm.next_out+=Qe,k.strm.avail_out-=Qe,k.strm.total_out+=Qe)}while(Xt===0);return Ut-=k.strm.avail_in,Ut&&(Ut>=k.w_size?(k.matches=2,k.window.set(k.strm.input.subarray(k.strm.next_in-k.w_size,k.strm.next_in),0),k.strstart=k.w_size,k.insert=k.strstart):(k.window_size-k.strstart<=Ut&&(k.strstart-=k.w_size,k.window.set(k.window.subarray(k.w_size,k.w_size+k.strstart),0),k.matches<2&&k.matches++,k.insert>k.strstart&&(k.insert=k.strstart)),k.window.set(k.strm.input.subarray(k.strm.next_in-Ut,k.strm.next_in),k.strstart),k.strstart+=Ut,k.insert+=Ut>k.w_size-k.insert?k.w_size-k.insert:Ut),k.block_start=k.strstart),k.high_water<k.strstart&&(k.high_water=k.strstart),Xt?Si:Be!==jn&&Be!==Dn&&k.strm.avail_in===0&&k.strstart===k.block_start?pi:(it=k.window_size-k.strstart,k.strm.avail_in>it&&k.block_start>=k.w_size&&(k.block_start-=k.w_size,k.strstart-=k.w_size,k.window.set(k.window.subarray(k.w_size,k.w_size+k.strstart),0),k.matches<2&&k.matches++,it+=k.w_size,k.insert>k.strstart&&(k.insert=k.strstart)),it>k.strm.avail_in&&(it=k.strm.avail_in),it&&(Ze(k.strm,k.window,k.strstart,it),k.strstart+=it,k.insert+=it>k.w_size-k.insert?k.w_size-k.insert:it),k.high_water<k.strstart&&(k.high_water=k.strstart),it=k.bi_valid+42>>3,it=k.pending_buf_size-it>65535?65535:k.pending_buf_size-it,H=it>k.w_size?k.w_size:it,lt=k.strstart-k.block_start,(lt>=H||(lt||Be===Dn)&&Be!==jn&&k.strm.avail_in===0&&lt<=it)&&(Qe=lt>it?it:lt,Xt=Be===Dn&&k.strm.avail_in===0&&Qe===lt?1:0,Ar(k,k.block_start,Qe,Xt),k.block_start+=Qe,$(k.strm)),Xt?eo:ba)},I=(k,Be)=>{let H,Qe;for(;;){if(k.lookahead<Ci){if(v(k),k.lookahead<Ci&&Be===jn)return ba;if(k.lookahead===0)break}if(H=0,k.lookahead>=Wr&&(k.ins_h=M(k,k.ins_h,k.window[k.strstart+Wr-1]),H=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),H!==0&&k.strstart-H<=k.w_size-Ci&&(k.match_length=N(k,H)),k.match_length>=Wr)if(Qe=fa(k,k.strstart-k.match_start,k.match_length-Wr),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=Wr){k.match_length--;do k.strstart++,k.ins_h=M(k,k.ins_h,k.window[k.strstart+Wr-1]),H=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart;while(--k.match_length!==0);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=M(k,k.ins_h,k.window[k.strstart+1]);else Qe=fa(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(Qe&&(ie(k,!1),k.strm.avail_out===0))return ba}return k.insert=k.strstart<Wr-1?k.strstart:Wr-1,Be===Dn?(ie(k,!0),k.strm.avail_out===0?eo:Si):k.sym_next&&(ie(k,!1),k.strm.avail_out===0)?ba:pi},P=(k,Be)=>{let H,Qe,lt;for(;;){if(k.lookahead<Ci){if(v(k),k.lookahead<Ci&&Be===jn)return ba;if(k.lookahead===0)break}if(H=0,k.lookahead>=Wr&&(k.ins_h=M(k,k.ins_h,k.window[k.strstart+Wr-1]),H=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=Wr-1,H!==0&&k.prev_length<k.max_lazy_match&&k.strstart-H<=k.w_size-Ci&&(k.match_length=N(k,H),k.match_length<=5&&(k.strategy===pa||k.match_length===Wr&&k.strstart-k.match_start>4096)&&(k.match_length=Wr-1)),k.prev_length>=Wr&&k.match_length<=k.prev_length){lt=k.strstart+k.lookahead-Wr,Qe=fa(k,k.strstart-1-k.prev_match,k.prev_length-Wr),k.lookahead-=k.prev_length-1,k.prev_length-=2;do++k.strstart<=lt&&(k.ins_h=M(k,k.ins_h,k.window[k.strstart+Wr-1]),H=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart);while(--k.prev_length!==0);if(k.match_available=0,k.match_length=Wr-1,k.strstart++,Qe&&(ie(k,!1),k.strm.avail_out===0))return ba}else if(k.match_available){if(Qe=fa(k,0,k.window[k.strstart-1]),Qe&&ie(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return ba}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(Qe=fa(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<Wr-1?k.strstart:Wr-1,Be===Dn?(ie(k,!0),k.strm.avail_out===0?eo:Si):k.sym_next&&(ie(k,!1),k.strm.avail_out===0)?ba:pi},V=(k,Be)=>{let H,Qe,lt,it;const Xt=k.window;for(;;){if(k.lookahead<=Ka){if(v(k),k.lookahead<=Ka&&Be===jn)return ba;if(k.lookahead===0)break}if(k.match_length=0,k.lookahead>=Wr&&k.strstart>0&&(lt=k.strstart-1,Qe=Xt[lt],Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt])){it=k.strstart+Ka;do;while(Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&Qe===Xt[++lt]&&lt<it);k.match_length=Ka-(it-lt),k.match_length>k.lookahead&&(k.match_length=k.lookahead)}if(k.match_length>=Wr?(H=fa(k,1,k.match_length-Wr),k.lookahead-=k.match_length,k.strstart+=k.match_length,k.match_length=0):(H=fa(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++),H&&(ie(k,!1),k.strm.avail_out===0))return ba}return k.insert=0,Be===Dn?(ie(k,!0),k.strm.avail_out===0?eo:Si):k.sym_next&&(ie(k,!1),k.strm.avail_out===0)?ba:pi},de=(k,Be)=>{let H;for(;;){if(k.lookahead===0&&(v(k),k.lookahead===0)){if(Be===jn)return ba;break}if(k.match_length=0,H=fa(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++,H&&(ie(k,!1),k.strm.avail_out===0))return ba}return k.insert=0,Be===Dn?(ie(k,!0),k.strm.avail_out===0?eo:Si):k.sym_next&&(ie(k,!1),k.strm.avail_out===0)?ba:pi};function q(k,Be,H,Qe,lt){this.good_length=k,this.max_lazy=Be,this.nice_length=H,this.max_chain=Qe,this.func=lt}const ee=[new q(0,0,0,0,S),new q(4,4,8,4,I),new q(4,5,16,8,I),new q(4,6,32,32,I),new q(4,4,16,16,P),new q(8,16,32,32,P),new q(8,16,128,128,P),new q(8,32,128,256,P),new q(32,128,258,1024,P),new q(32,258,258,4096,P)],ke=k=>{k.window_size=2*k.w_size,G(k.head),k.max_lazy_match=ee[k.level].max_lazy,k.good_match=ee[k.level].good_length,k.nice_match=ee[k.level].nice_length,k.max_chain_length=ee[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=Wr-1,k.match_available=0,k.ins_h=0};function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ai,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Di*2),this.dyn_dtree=new Uint16Array((2*po+1)*2),this.bl_tree=new Uint16Array((2*ti+1)*2),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(hi+1),this.heap=new Uint16Array(2*ja+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ja+1),G(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const $e=k=>{if(!k)return 1;const Be=k.state;return!Be||Be.strm!==k||Be.status!==mo&&Be.status!==Wn&&Be.status!==Ki&&Be.status!==Ga&&Be.status!==Ra&&Be.status!==fi&&Be.status!==Fo&&Be.status!==Bi?1:0},Je=k=>{if($e(k))return Tt(k,oi);k.total_in=k.total_out=0,k.data_type=fo;const Be=k.state;return Be.pending=0,Be.pending_out=0,Be.wrap<0&&(Be.wrap=-Be.wrap),Be.status=Be.wrap===2?Wn:Be.wrap?mo:Fo,k.adler=Be.wrap===2?0:1,Be.last_flush=-2,Pr(Be),Rn},xe=k=>{const Be=Je(k);return Be===Rn&&ke(k.state),Be},ct=(k,Be)=>$e(k)||k.state.wrap!==2?oi:(k.state.gzhead=Be,Rn),ot=(k,Be,H,Qe,lt,it)=>{if(!k)return oi;let Xt=1;if(Be===ho&&(Be=6),Qe<0?(Xt=0,Qe=-Qe):Qe>15&&(Xt=2,Qe-=16),lt<1||lt>ki||H!==Ai||Qe<8||Qe>15||Be<0||Be>9||it<0||it>Ua||Qe===8&&Xt!==1)return Tt(k,oi);Qe===8&&(Qe=9);const Ut=new Me;return k.state=Ut,Ut.strm=k,Ut.status=mo,Ut.wrap=Xt,Ut.gzhead=null,Ut.w_bits=Qe,Ut.w_size=1<<Ut.w_bits,Ut.w_mask=Ut.w_size-1,Ut.hash_bits=lt+7,Ut.hash_size=1<<Ut.hash_bits,Ut.hash_mask=Ut.hash_size-1,Ut.hash_shift=~~((Ut.hash_bits+Wr-1)/Wr),Ut.window=new Uint8Array(Ut.w_size*2),Ut.head=new Uint16Array(Ut.hash_size),Ut.prev=new Uint16Array(Ut.w_size),Ut.lit_bufsize=1<<lt+6,Ut.pending_buf_size=Ut.lit_bufsize*4,Ut.pending_buf=new Uint8Array(Ut.pending_buf_size),Ut.sym_buf=Ut.lit_bufsize,Ut.sym_end=(Ut.lit_bufsize-1)*3,Ut.level=Be,Ut.strategy=it,Ut.method=H,xe(k)},At=(k,Be)=>ot(k,Be,Ai,hl,el,qn),Ye=(k,Be)=>{if($e(k)||Be>Ii||Be<0)return k?Tt(k,oi):oi;const H=k.state;if(!k.output||k.avail_in!==0&&!k.input||H.status===Bi&&Be!==Dn)return Tt(k,k.avail_out===0?Kl:oi);const Qe=H.last_flush;if(H.last_flush=Be,H.pending!==0){if($(k),k.avail_out===0)return H.last_flush=-1,Rn}else if(k.avail_in===0&&L(Be)<=L(Qe)&&Be!==Dn)return Tt(k,Kl);if(H.status===Bi&&k.avail_in!==0)return Tt(k,Kl);if(H.status===mo&&H.wrap===0&&(H.status=Fo),H.status===mo){let lt=Ai+(H.w_bits-8<<4)<<8,it=-1;if(H.strategy>=Ni||H.level<2?it=0:H.level<6?it=1:H.level===6?it=2:it=3,lt|=it<<6,H.strstart!==0&&(lt|=Qa),lt+=31-lt%31,Re(H,lt),H.strstart!==0&&(Re(H,k.adler>>>16),Re(H,k.adler&65535)),k.adler=1,H.status=Fo,$(k),H.pending!==0)return H.last_flush=-1,Rn}if(H.status===Wn){if(k.adler=0,ye(H,31),ye(H,139),ye(H,8),H.gzhead)ye(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),ye(H,H.gzhead.time&255),ye(H,H.gzhead.time>>8&255),ye(H,H.gzhead.time>>16&255),ye(H,H.gzhead.time>>24&255),ye(H,H.level===9?2:H.strategy>=Ni||H.level<2?4:0),ye(H,H.gzhead.os&255),H.gzhead.extra&&H.gzhead.extra.length&&(ye(H,H.gzhead.extra.length&255),ye(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(k.adler=sr(k.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=Ki;else if(ye(H,0),ye(H,0),ye(H,0),ye(H,0),ye(H,0),ye(H,H.level===9?2:H.strategy>=Ni||H.level<2?4:0),ye(H,oo),H.status=Fo,$(k),H.pending!==0)return H.last_flush=-1,Rn}if(H.status===Ki){if(H.gzhead.extra){let lt=H.pending,it=(H.gzhead.extra.length&65535)-H.gzindex;for(;H.pending+it>H.pending_buf_size;){let Ut=H.pending_buf_size-H.pending;if(H.pending_buf.set(H.gzhead.extra.subarray(H.gzindex,H.gzindex+Ut),H.pending),H.pending=H.pending_buf_size,H.gzhead.hcrc&&H.pending>lt&&(k.adler=sr(k.adler,H.pending_buf,H.pending-lt,lt)),H.gzindex+=Ut,$(k),H.pending!==0)return H.last_flush=-1,Rn;lt=0,it-=Ut}let Xt=new Uint8Array(H.gzhead.extra);H.pending_buf.set(Xt.subarray(H.gzindex,H.gzindex+it),H.pending),H.pending+=it,H.gzhead.hcrc&&H.pending>lt&&(k.adler=sr(k.adler,H.pending_buf,H.pending-lt,lt)),H.gzindex=0}H.status=Ga}if(H.status===Ga){if(H.gzhead.name){let lt=H.pending,it;do{if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>lt&&(k.adler=sr(k.adler,H.pending_buf,H.pending-lt,lt)),$(k),H.pending!==0)return H.last_flush=-1,Rn;lt=0}H.gzindex<H.gzhead.name.length?it=H.gzhead.name.charCodeAt(H.gzindex++)&255:it=0,ye(H,it)}while(it!==0);H.gzhead.hcrc&&H.pending>lt&&(k.adler=sr(k.adler,H.pending_buf,H.pending-lt,lt)),H.gzindex=0}H.status=Ra}if(H.status===Ra){if(H.gzhead.comment){let lt=H.pending,it;do{if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>lt&&(k.adler=sr(k.adler,H.pending_buf,H.pending-lt,lt)),$(k),H.pending!==0)return H.last_flush=-1,Rn;lt=0}H.gzindex<H.gzhead.comment.length?it=H.gzhead.comment.charCodeAt(H.gzindex++)&255:it=0,ye(H,it)}while(it!==0);H.gzhead.hcrc&&H.pending>lt&&(k.adler=sr(k.adler,H.pending_buf,H.pending-lt,lt))}H.status=fi}if(H.status===fi){if(H.gzhead.hcrc){if(H.pending+2>H.pending_buf_size&&($(k),H.pending!==0))return H.last_flush=-1,Rn;ye(H,k.adler&255),ye(H,k.adler>>8&255),k.adler=0}if(H.status=Fo,$(k),H.pending!==0)return H.last_flush=-1,Rn}if(k.avail_in!==0||H.lookahead!==0||Be!==jn&&H.status!==Bi){let lt=H.level===0?S(H,Be):H.strategy===Ni?de(H,Be):H.strategy===sa?V(H,Be):ee[H.level].func(H,Be);if((lt===eo||lt===Si)&&(H.status=Bi),lt===ba||lt===eo)return k.avail_out===0&&(H.last_flush=-1),Rn;if(lt===pi&&(Be===dn?fn(H):Be!==Ii&&(Ar(H,0,0,!1),Be===la&&(G(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),$(k),k.avail_out===0))return H.last_flush=-1,Rn}return Be!==Dn?Rn:H.wrap<=0?mc:(H.wrap===2?(ye(H,k.adler&255),ye(H,k.adler>>8&255),ye(H,k.adler>>16&255),ye(H,k.adler>>24&255),ye(H,k.total_in&255),ye(H,k.total_in>>8&255),ye(H,k.total_in>>16&255),ye(H,k.total_in>>24&255)):(Re(H,k.adler>>>16),Re(H,k.adler&65535)),$(k),H.wrap>0&&(H.wrap=-H.wrap),H.pending!==0?Rn:mc)},wt=k=>{if($e(k))return oi;const Be=k.state.status;return k.state=null,Be===Fo?Tt(k,Uo):Rn},Rt=(k,Be)=>{let H=Be.length;if($e(k))return oi;const Qe=k.state,lt=Qe.wrap;if(lt===2||lt===1&&Qe.status!==mo||Qe.lookahead)return oi;if(lt===1&&(k.adler=tn(k.adler,Be,H,0)),Qe.wrap=0,H>=Qe.w_size){lt===0&&(G(Qe.head),Qe.strstart=0,Qe.block_start=0,Qe.insert=0);let pr=new Uint8Array(Qe.w_size);pr.set(Be.subarray(H-Qe.w_size,H),0),Be=pr,H=Qe.w_size}const it=k.avail_in,Xt=k.next_in,Ut=k.input;for(k.avail_in=H,k.next_in=0,k.input=Be,v(Qe);Qe.lookahead>=Wr;){let pr=Qe.strstart,jt=Qe.lookahead-(Wr-1);do Qe.ins_h=M(Qe,Qe.ins_h,Qe.window[pr+Wr-1]),Qe.prev[pr&Qe.w_mask]=Qe.head[Qe.ins_h],Qe.head[Qe.ins_h]=pr,pr++;while(--jt);Qe.strstart=pr,Qe.lookahead=Wr-1,v(Qe)}return Qe.strstart+=Qe.lookahead,Qe.block_start=Qe.strstart,Qe.insert=Qe.lookahead,Qe.lookahead=0,Qe.match_length=Qe.prev_length=Wr-1,Qe.match_available=0,k.next_in=Xt,k.input=Ut,k.avail_in=it,Qe.wrap=lt,Rn};var gt=At,Ge=ot,Mt=xe,is=Je,Ht=ct,vt=Ye,ts=wt,Xe=Rt,rt="pako deflate (from Nodeca project)",xt={deflateInit:gt,deflateInit2:Ge,deflateReset:Mt,deflateResetKeep:is,deflateSetHeader:Ht,deflate:vt,deflateEnd:ts,deflateSetDictionary:Xe,deflateInfo:rt};const bt=(k,Be)=>Object.prototype.hasOwnProperty.call(k,Be);var rs=function(k){const Be=Array.prototype.slice.call(arguments,1);for(;Be.length;){const H=Be.shift();if(H){if(typeof H!="object")throw new TypeError(H+"must be non-object");for(const Qe in H)bt(H,Qe)&&(k[Qe]=H[Qe])}}return k},ds=k=>{let Be=0;for(let Qe=0,lt=k.length;Qe<lt;Qe++)Be+=k[Qe].length;const H=new Uint8Array(Be);for(let Qe=0,lt=0,it=k.length;Qe<it;Qe++){let Xt=k[Qe];H.set(Xt,lt),lt+=Xt.length}return H},bs={assign:rs,flattenChunks:ds};let Kt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Kt=!1}const fs=new Uint8Array(256);for(let k=0;k<256;k++)fs[k]=k>=252?6:k>=248?5:k>=240?4:k>=224?3:k>=192?2:1;fs[254]=fs[254]=1;var Xs=k=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(k);let Be,H,Qe,lt,it,Xt=k.length,Ut=0;for(lt=0;lt<Xt;lt++)H=k.charCodeAt(lt),(H&64512)===55296&&lt+1<Xt&&(Qe=k.charCodeAt(lt+1),(Qe&64512)===56320&&(H=65536+(H-55296<<10)+(Qe-56320),lt++)),Ut+=H<128?1:H<2048?2:H<65536?3:4;for(Be=new Uint8Array(Ut),it=0,lt=0;it<Ut;lt++)H=k.charCodeAt(lt),(H&64512)===55296&&lt+1<Xt&&(Qe=k.charCodeAt(lt+1),(Qe&64512)===56320&&(H=65536+(H-55296<<10)+(Qe-56320),lt++)),H<128?Be[it++]=H:H<2048?(Be[it++]=192|H>>>6,Be[it++]=128|H&63):H<65536?(Be[it++]=224|H>>>12,Be[it++]=128|H>>>6&63,Be[it++]=128|H&63):(Be[it++]=240|H>>>18,Be[it++]=128|H>>>12&63,Be[it++]=128|H>>>6&63,Be[it++]=128|H&63);return Be};const _s=(k,Be)=>{if(Be<65534&&k.subarray&&Kt)return String.fromCharCode.apply(null,k.length===Be?k:k.subarray(0,Be));let H="";for(let Qe=0;Qe<Be;Qe++)H+=String.fromCharCode(k[Qe]);return H};var _e=(k,Be)=>{const H=Be||k.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(k.subarray(0,Be));let Qe,lt;const it=new Array(H*2);for(lt=0,Qe=0;Qe<H;){let Xt=k[Qe++];if(Xt<128){it[lt++]=Xt;continue}let Ut=fs[Xt];if(Ut>4){it[lt++]=65533,Qe+=Ut-1;continue}for(Xt&=Ut===2?31:Ut===3?15:7;Ut>1&&Qe<H;)Xt=Xt<<6|k[Qe++]&63,Ut--;if(Ut>1){it[lt++]=65533;continue}Xt<65536?it[lt++]=Xt:(Xt-=65536,it[lt++]=55296|Xt>>10&1023,it[lt++]=56320|Xt&1023)}return _s(it,lt)},dt=(k,Be)=>{Be=Be||k.length,Be>k.length&&(Be=k.length);let H=Be-1;for(;H>=0&&(k[H]&192)===128;)H--;return H<0||H===0?Be:H+fs[k[H]]>Be?H:Be},ht={string2buf:Xs,buf2string:_e,utf8border:dt};function Ot(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Pt=Ot;const Yt=Object.prototype.toString,{Z_NO_FLUSH:ps,Z_SYNC_FLUSH:gs,Z_FULL_FLUSH:Ls,Z_FINISH:Js,Z_OK:xr,Z_STREAM_END:mr,Z_DEFAULT_COMPRESSION:Yr,Z_DEFAULT_STRATEGY:tt,Z_DEFLATED:lr}=Or;function un(k){this.options=bs.assign({level:Yr,method:lr,chunkSize:16384,windowBits:15,memLevel:8,strategy:tt},k||{});let Be=this.options;Be.raw&&Be.windowBits>0?Be.windowBits=-Be.windowBits:Be.gzip&&Be.windowBits>0&&Be.windowBits<16&&(Be.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pt,this.strm.avail_out=0;let H=xt.deflateInit2(this.strm,Be.level,Be.method,Be.windowBits,Be.memLevel,Be.strategy);if(H!==xr)throw new Error(ms[H]);if(Be.header&&xt.deflateSetHeader(this.strm,Be.header),Be.dictionary){let Qe;if(typeof Be.dictionary=="string"?Qe=ht.string2buf(Be.dictionary):Yt.call(Be.dictionary)==="[object ArrayBuffer]"?Qe=new Uint8Array(Be.dictionary):Qe=Be.dictionary,H=xt.deflateSetDictionary(this.strm,Qe),H!==xr)throw new Error(ms[H]);this._dict_set=!0}}un.prototype.push=function(k,Be){const H=this.strm,Qe=this.options.chunkSize;let lt,it;if(this.ended)return!1;for(Be===~~Be?it=Be:it=Be===!0?Js:ps,typeof k=="string"?H.input=ht.string2buf(k):Yt.call(k)==="[object ArrayBuffer]"?H.input=new Uint8Array(k):H.input=k,H.next_in=0,H.avail_in=H.input.length;;){if(H.avail_out===0&&(H.output=new Uint8Array(Qe),H.next_out=0,H.avail_out=Qe),(it===gs||it===Ls)&&H.avail_out<=6){this.onData(H.output.subarray(0,H.next_out)),H.avail_out=0;continue}if(lt=xt.deflate(H,it),lt===mr)return H.next_out>0&&this.onData(H.output.subarray(0,H.next_out)),lt=xt.deflateEnd(this.strm),this.onEnd(lt),this.ended=!0,lt===xr;if(H.avail_out===0){this.onData(H.output);continue}if(it>0&&H.next_out>0){this.onData(H.output.subarray(0,H.next_out)),H.avail_out=0;continue}if(H.avail_in===0)break}return!0},un.prototype.onData=function(k){this.chunks.push(k)},un.prototype.onEnd=function(k){k===xr&&(this.result=bs.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg};function rr(k,Be){const H=new un(Be);if(H.push(k,!0),H.err)throw H.msg||ms[H.err];return H.result}function Hs(k,Be){return Be=Be||{},Be.raw=!0,rr(k,Be)}function sn(k,Be){return Be=Be||{},Be.gzip=!0,rr(k,Be)}var yr=un,Vr=rr,Ir=Hs,Ca=sn,Sn={Deflate:yr,deflate:Vr,deflateRaw:Ir,gzip:Ca};const Cr=16209,$n=16191;var Xr=function(Be,H){let Qe,lt,it,Xt,Ut,pr,jt,Jt,gn,nr,Qs,xs,La,hn,Gr,ln,Tn,tr,Un,Ma,zr,na,Qn,Tr;const on=Be.state;Qe=Be.next_in,Qn=Be.input,lt=Qe+(Be.avail_in-5),it=Be.next_out,Tr=Be.output,Xt=it-(H-Be.avail_out),Ut=it+(Be.avail_out-257),pr=on.dmax,jt=on.wsize,Jt=on.whave,gn=on.wnext,nr=on.window,Qs=on.hold,xs=on.bits,La=on.lencode,hn=on.distcode,Gr=(1<<on.lenbits)-1,ln=(1<<on.distbits)-1;e:do{xs<15&&(Qs+=Qn[Qe++]<<xs,xs+=8,Qs+=Qn[Qe++]<<xs,xs+=8),Tn=La[Qs&Gr];t:for(;;){if(tr=Tn>>>24,Qs>>>=tr,xs-=tr,tr=Tn>>>16&255,tr===0)Tr[it++]=Tn&65535;else if(tr&16){Un=Tn&65535,tr&=15,tr&&(xs<tr&&(Qs+=Qn[Qe++]<<xs,xs+=8),Un+=Qs&(1<<tr)-1,Qs>>>=tr,xs-=tr),xs<15&&(Qs+=Qn[Qe++]<<xs,xs+=8,Qs+=Qn[Qe++]<<xs,xs+=8),Tn=hn[Qs&ln];s:for(;;){if(tr=Tn>>>24,Qs>>>=tr,xs-=tr,tr=Tn>>>16&255,tr&16){if(Ma=Tn&65535,tr&=15,xs<tr&&(Qs+=Qn[Qe++]<<xs,xs+=8,xs<tr&&(Qs+=Qn[Qe++]<<xs,xs+=8)),Ma+=Qs&(1<<tr)-1,Ma>pr){Be.msg="invalid distance too far back",on.mode=Cr;break e}if(Qs>>>=tr,xs-=tr,tr=it-Xt,Ma>tr){if(tr=Ma-tr,tr>Jt&&on.sane){Be.msg="invalid distance too far back",on.mode=Cr;break e}if(zr=0,na=nr,gn===0){if(zr+=jt-tr,tr<Un){Un-=tr;do Tr[it++]=nr[zr++];while(--tr);zr=it-Ma,na=Tr}}else if(gn<tr){if(zr+=jt+gn-tr,tr-=gn,tr<Un){Un-=tr;do Tr[it++]=nr[zr++];while(--tr);if(zr=0,gn<Un){tr=gn,Un-=tr;do Tr[it++]=nr[zr++];while(--tr);zr=it-Ma,na=Tr}}}else if(zr+=gn-tr,tr<Un){Un-=tr;do Tr[it++]=nr[zr++];while(--tr);zr=it-Ma,na=Tr}for(;Un>2;)Tr[it++]=na[zr++],Tr[it++]=na[zr++],Tr[it++]=na[zr++],Un-=3;Un&&(Tr[it++]=na[zr++],Un>1&&(Tr[it++]=na[zr++]))}else{zr=it-Ma;do Tr[it++]=Tr[zr++],Tr[it++]=Tr[zr++],Tr[it++]=Tr[zr++],Un-=3;while(Un>2);Un&&(Tr[it++]=Tr[zr++],Un>1&&(Tr[it++]=Tr[zr++]))}}else if((tr&64)===0){Tn=hn[(Tn&65535)+(Qs&(1<<tr)-1)];continue s}else{Be.msg="invalid distance code",on.mode=Cr;break e}break}}else if((tr&64)===0){Tn=La[(Tn&65535)+(Qs&(1<<tr)-1)];continue t}else if(tr&32){on.mode=$n;break e}else{Be.msg="invalid literal/length code",on.mode=Cr;break e}break}}while(Qe<lt&&it<Ut);Un=xs>>3,Qe-=Un,xs-=Un<<3,Qs&=(1<<xs)-1,Be.next_in=Qe,Be.next_out=it,Be.avail_in=Qe<lt?5+(lt-Qe):5-(Qe-lt),Be.avail_out=it<Ut?257+(Ut-it):257-(it-Ut),on.hold=Qs,on.bits=xs};const Br=15,nn=852,Dr=592,vn=0,Yn=1,En=2,Pn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Wa=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Kr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_a=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Hr=(k,Be,H,Qe,lt,it,Xt,Ut)=>{const pr=Ut.bits;let jt=0,Jt=0,gn=0,nr=0,Qs=0,xs=0,La=0,hn=0,Gr=0,ln=0,Tn,tr,Un,Ma,zr,na=null,Qn;const Tr=new Uint16Array(Br+1),on=new Uint16Array(Br+1);let yo=null,ec,wl,Xi;for(jt=0;jt<=Br;jt++)Tr[jt]=0;for(Jt=0;Jt<Qe;Jt++)Tr[Be[H+Jt]]++;for(Qs=pr,nr=Br;nr>=1&&Tr[nr]===0;nr--);if(Qs>nr&&(Qs=nr),nr===0)return lt[it++]=1<<24|64<<16|0,lt[it++]=1<<24|64<<16|0,Ut.bits=1,0;for(gn=1;gn<nr&&Tr[gn]===0;gn++);for(Qs<gn&&(Qs=gn),hn=1,jt=1;jt<=Br;jt++)if(hn<<=1,hn-=Tr[jt],hn<0)return-1;if(hn>0&&(k===vn||nr!==1))return-1;for(on[1]=0,jt=1;jt<Br;jt++)on[jt+1]=on[jt]+Tr[jt];for(Jt=0;Jt<Qe;Jt++)Be[H+Jt]!==0&&(Xt[on[Be[H+Jt]]++]=Jt);if(k===vn?(na=yo=Xt,Qn=20):k===Yn?(na=Pn,yo=Wa,Qn=257):(na=Kr,yo=_a,Qn=0),ln=0,Jt=0,jt=gn,zr=it,xs=Qs,La=0,Un=-1,Gr=1<<Qs,Ma=Gr-1,k===Yn&&Gr>nn||k===En&&Gr>Dr)return 1;for(;;){ec=jt-La,Xt[Jt]+1<Qn?(wl=0,Xi=Xt[Jt]):Xt[Jt]>=Qn?(wl=yo[Xt[Jt]-Qn],Xi=na[Xt[Jt]-Qn]):(wl=96,Xi=0),Tn=1<<jt-La,tr=1<<xs,gn=tr;do tr-=Tn,lt[zr+(ln>>La)+tr]=ec<<24|wl<<16|Xi|0;while(tr!==0);for(Tn=1<<jt-1;ln&Tn;)Tn>>=1;if(Tn!==0?(ln&=Tn-1,ln+=Tn):ln=0,Jt++,--Tr[jt]===0){if(jt===nr)break;jt=Be[H+Xt[Jt]]}if(jt>Qs&&(ln&Ma)!==Un){for(La===0&&(La=Qs),zr+=gn,xs=jt-La,hn=1<<xs;xs+La<nr&&(hn-=Tr[xs+La],!(hn<=0));)xs++,hn<<=1;if(Gr+=1<<xs,k===Yn&&Gr>nn||k===En&&Gr>Dr)return 1;Un=ln&Ma,lt[Un]=Qs<<24|xs<<16|zr-it|0}}return ln!==0&&(lt[zr+ln]=jt-La<<24|64<<16|0),Ut.bits=Qs,0};const Na=0,Nn=1,ir=2,{Z_FINISH:Ln,Z_BLOCK:Yc,Z_TREES:Ri,Z_OK:lo,Z_STREAM_END:Gl,Z_NEED_DICT:an,Z_STREAM_ERROR:li,Z_DATA_ERROR:mi,Z_MEM_ERROR:tl,Z_BUF_ERROR:Lo,Z_DEFLATED:Pa}=Or,gi=16180,ci=16181,Fl=16182,Pi=16183,fl=16184,go=16185,Ll=16186,Mo=16187,pl=16188,Xc=16189,ml=16190,Oo=16191,Fc=16192,Jc=16193,gc=16194,sl=16195,Lc=16196,Io=16197,Ml=16198,xo=16199,xc=16200,Mc=16201,Ad=16202,Wl=16203,Jd=16204,hd=16205,bo=16206,Od=16207,Do=16208,An=16209,Ol=16210,Yl=16211,Xl=852,Oc=592,Gi=15,Jl=k=>(k>>>24&255)+(k>>>8&65280)+((k&65280)<<8)+((k&255)<<24);function fd(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wi=k=>{if(!k)return 1;const Be=k.state;return!Be||Be.strm!==k||Be.mode<gi||Be.mode>Yl?1:0},Zc=k=>{if(Wi(k))return li;const Be=k.state;return k.total_in=k.total_out=Be.total=0,k.msg="",Be.wrap&&(k.adler=Be.wrap&1),Be.mode=gi,Be.last=0,Be.havedict=0,Be.flags=-1,Be.dmax=32768,Be.head=null,Be.hold=0,Be.bits=0,Be.lencode=Be.lendyn=new Int32Array(Xl),Be.distcode=Be.distdyn=new Int32Array(Oc),Be.sane=1,Be.back=-1,lo},Ro=k=>{if(Wi(k))return li;const Be=k.state;return Be.wsize=0,Be.whave=0,Be.wnext=0,Zc(k)},pd=(k,Be)=>{let H;if(Wi(k))return li;const Qe=k.state;return Be<0?(H=0,Be=-Be):(H=(Be>>4)+5,Be<48&&(Be&=15)),Be&&(Be<8||Be>15)?li:(Qe.window!==null&&Qe.wbits!==Be&&(Qe.window=null),Qe.wrap=H,Qe.wbits=Be,Ro(k))},Zl=(k,Be)=>{if(!k)return li;const H=new fd;k.state=H,H.strm=k,H.window=null,H.mode=gi;const Qe=pd(k,Be);return Qe!==lo&&(k.state=null),Qe},vo=k=>Zl(k,Gi);let to=!0,ql,gl;const rl=k=>{if(to){ql=new Int32Array(512),gl=new Int32Array(32);let Be=0;for(;Be<144;)k.lens[Be++]=8;for(;Be<256;)k.lens[Be++]=9;for(;Be<280;)k.lens[Be++]=7;for(;Be<288;)k.lens[Be++]=8;for(Hr(Nn,k.lens,0,288,ql,0,k.work,{bits:9}),Be=0;Be<32;)k.lens[Be++]=5;Hr(ir,k.lens,0,32,gl,0,k.work,{bits:5}),to=!1}k.lencode=ql,k.lenbits=9,k.distcode=gl,k.distbits=5},xl=(k,Be,H,Qe)=>{let lt;const it=k.state;return it.window===null&&(it.wsize=1<<it.wbits,it.wnext=0,it.whave=0,it.window=new Uint8Array(it.wsize)),Qe>=it.wsize?(it.window.set(Be.subarray(H-it.wsize,H),0),it.wnext=0,it.whave=it.wsize):(lt=it.wsize-it.wnext,lt>Qe&&(lt=Qe),it.window.set(Be.subarray(H-Qe,H-Qe+lt),it.wnext),Qe-=lt,Qe?(it.window.set(Be.subarray(H-Qe,H),0),it.wnext=Qe,it.whave=it.wsize):(it.wnext+=lt,it.wnext===it.wsize&&(it.wnext=0),it.whave<it.wsize&&(it.whave+=lt))),0},gu=(k,Be)=>{let H,Qe,lt,it,Xt,Ut,pr,jt,Jt,gn,nr,Qs,xs,La,hn=0,Gr,ln,Tn,tr,Un,Ma,zr,na;const Qn=new Uint8Array(4);let Tr,on;const yo=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wi(k)||!k.output||!k.input&&k.avail_in!==0)return li;H=k.state,H.mode===Oo&&(H.mode=Fc),Xt=k.next_out,lt=k.output,pr=k.avail_out,it=k.next_in,Qe=k.input,Ut=k.avail_in,jt=H.hold,Jt=H.bits,gn=Ut,nr=pr,na=lo;e:for(;;)switch(H.mode){case gi:if(H.wrap===0){H.mode=Fc;break}for(;Jt<16;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}if(H.wrap&2&&jt===35615){H.wbits===0&&(H.wbits=15),H.check=0,Qn[0]=jt&255,Qn[1]=jt>>>8&255,H.check=sr(H.check,Qn,2,0),jt=0,Jt=0,H.mode=ci;break}if(H.head&&(H.head.done=!1),!(H.wrap&1)||(((jt&255)<<8)+(jt>>8))%31){k.msg="incorrect header check",H.mode=An;break}if((jt&15)!==Pa){k.msg="unknown compression method",H.mode=An;break}if(jt>>>=4,Jt-=4,zr=(jt&15)+8,H.wbits===0&&(H.wbits=zr),zr>15||zr>H.wbits){k.msg="invalid window size",H.mode=An;break}H.dmax=1<<H.wbits,H.flags=0,k.adler=H.check=1,H.mode=jt&512?Xc:Oo,jt=0,Jt=0;break;case ci:for(;Jt<16;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}if(H.flags=jt,(H.flags&255)!==Pa){k.msg="unknown compression method",H.mode=An;break}if(H.flags&57344){k.msg="unknown header flags set",H.mode=An;break}H.head&&(H.head.text=jt>>8&1),H.flags&512&&H.wrap&4&&(Qn[0]=jt&255,Qn[1]=jt>>>8&255,H.check=sr(H.check,Qn,2,0)),jt=0,Jt=0,H.mode=Fl;case Fl:for(;Jt<32;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}H.head&&(H.head.time=jt),H.flags&512&&H.wrap&4&&(Qn[0]=jt&255,Qn[1]=jt>>>8&255,Qn[2]=jt>>>16&255,Qn[3]=jt>>>24&255,H.check=sr(H.check,Qn,4,0)),jt=0,Jt=0,H.mode=Pi;case Pi:for(;Jt<16;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}H.head&&(H.head.xflags=jt&255,H.head.os=jt>>8),H.flags&512&&H.wrap&4&&(Qn[0]=jt&255,Qn[1]=jt>>>8&255,H.check=sr(H.check,Qn,2,0)),jt=0,Jt=0,H.mode=fl;case fl:if(H.flags&1024){for(;Jt<16;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}H.length=jt,H.head&&(H.head.extra_len=jt),H.flags&512&&H.wrap&4&&(Qn[0]=jt&255,Qn[1]=jt>>>8&255,H.check=sr(H.check,Qn,2,0)),jt=0,Jt=0}else H.head&&(H.head.extra=null);H.mode=go;case go:if(H.flags&1024&&(Qs=H.length,Qs>Ut&&(Qs=Ut),Qs&&(H.head&&(zr=H.head.extra_len-H.length,H.head.extra||(H.head.extra=new Uint8Array(H.head.extra_len)),H.head.extra.set(Qe.subarray(it,it+Qs),zr)),H.flags&512&&H.wrap&4&&(H.check=sr(H.check,Qe,Qs,it)),Ut-=Qs,it+=Qs,H.length-=Qs),H.length))break e;H.length=0,H.mode=Ll;case Ll:if(H.flags&2048){if(Ut===0)break e;Qs=0;do zr=Qe[it+Qs++],H.head&&zr&&H.length<65536&&(H.head.name+=String.fromCharCode(zr));while(zr&&Qs<Ut);if(H.flags&512&&H.wrap&4&&(H.check=sr(H.check,Qe,Qs,it)),Ut-=Qs,it+=Qs,zr)break e}else H.head&&(H.head.name=null);H.length=0,H.mode=Mo;case Mo:if(H.flags&4096){if(Ut===0)break e;Qs=0;do zr=Qe[it+Qs++],H.head&&zr&&H.length<65536&&(H.head.comment+=String.fromCharCode(zr));while(zr&&Qs<Ut);if(H.flags&512&&H.wrap&4&&(H.check=sr(H.check,Qe,Qs,it)),Ut-=Qs,it+=Qs,zr)break e}else H.head&&(H.head.comment=null);H.mode=pl;case pl:if(H.flags&512){for(;Jt<16;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}if(H.wrap&4&&jt!==(H.check&65535)){k.msg="header crc mismatch",H.mode=An;break}jt=0,Jt=0}H.head&&(H.head.hcrc=H.flags>>9&1,H.head.done=!0),k.adler=H.check=0,H.mode=Oo;break;case Xc:for(;Jt<32;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}k.adler=H.check=Jl(jt),jt=0,Jt=0,H.mode=ml;case ml:if(H.havedict===0)return k.next_out=Xt,k.avail_out=pr,k.next_in=it,k.avail_in=Ut,H.hold=jt,H.bits=Jt,an;k.adler=H.check=1,H.mode=Oo;case Oo:if(Be===Yc||Be===Ri)break e;case Fc:if(H.last){jt>>>=Jt&7,Jt-=Jt&7,H.mode=bo;break}for(;Jt<3;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}switch(H.last=jt&1,jt>>>=1,Jt-=1,jt&3){case 0:H.mode=Jc;break;case 1:if(rl(H),H.mode=xo,Be===Ri){jt>>>=2,Jt-=2;break e}break;case 2:H.mode=Lc;break;case 3:k.msg="invalid block type",H.mode=An}jt>>>=2,Jt-=2;break;case Jc:for(jt>>>=Jt&7,Jt-=Jt&7;Jt<32;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}if((jt&65535)!==(jt>>>16^65535)){k.msg="invalid stored block lengths",H.mode=An;break}if(H.length=jt&65535,jt=0,Jt=0,H.mode=gc,Be===Ri)break e;case gc:H.mode=sl;case sl:if(Qs=H.length,Qs){if(Qs>Ut&&(Qs=Ut),Qs>pr&&(Qs=pr),Qs===0)break e;lt.set(Qe.subarray(it,it+Qs),Xt),Ut-=Qs,it+=Qs,pr-=Qs,Xt+=Qs,H.length-=Qs;break}H.mode=Oo;break;case Lc:for(;Jt<14;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}if(H.nlen=(jt&31)+257,jt>>>=5,Jt-=5,H.ndist=(jt&31)+1,jt>>>=5,Jt-=5,H.ncode=(jt&15)+4,jt>>>=4,Jt-=4,H.nlen>286||H.ndist>30){k.msg="too many length or distance symbols",H.mode=An;break}H.have=0,H.mode=Io;case Io:for(;H.have<H.ncode;){for(;Jt<3;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}H.lens[yo[H.have++]]=jt&7,jt>>>=3,Jt-=3}for(;H.have<19;)H.lens[yo[H.have++]]=0;if(H.lencode=H.lendyn,H.lenbits=7,Tr={bits:H.lenbits},na=Hr(Na,H.lens,0,19,H.lencode,0,H.work,Tr),H.lenbits=Tr.bits,na){k.msg="invalid code lengths set",H.mode=An;break}H.have=0,H.mode=Ml;case Ml:for(;H.have<H.nlen+H.ndist;){for(;hn=H.lencode[jt&(1<<H.lenbits)-1],Gr=hn>>>24,ln=hn>>>16&255,Tn=hn&65535,!(Gr<=Jt);){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}if(Tn<16)jt>>>=Gr,Jt-=Gr,H.lens[H.have++]=Tn;else{if(Tn===16){for(on=Gr+2;Jt<on;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}if(jt>>>=Gr,Jt-=Gr,H.have===0){k.msg="invalid bit length repeat",H.mode=An;break}zr=H.lens[H.have-1],Qs=3+(jt&3),jt>>>=2,Jt-=2}else if(Tn===17){for(on=Gr+3;Jt<on;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}jt>>>=Gr,Jt-=Gr,zr=0,Qs=3+(jt&7),jt>>>=3,Jt-=3}else{for(on=Gr+7;Jt<on;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}jt>>>=Gr,Jt-=Gr,zr=0,Qs=11+(jt&127),jt>>>=7,Jt-=7}if(H.have+Qs>H.nlen+H.ndist){k.msg="invalid bit length repeat",H.mode=An;break}for(;Qs--;)H.lens[H.have++]=zr}}if(H.mode===An)break;if(H.lens[256]===0){k.msg="invalid code -- missing end-of-block",H.mode=An;break}if(H.lenbits=9,Tr={bits:H.lenbits},na=Hr(Nn,H.lens,0,H.nlen,H.lencode,0,H.work,Tr),H.lenbits=Tr.bits,na){k.msg="invalid literal/lengths set",H.mode=An;break}if(H.distbits=6,H.distcode=H.distdyn,Tr={bits:H.distbits},na=Hr(ir,H.lens,H.nlen,H.ndist,H.distcode,0,H.work,Tr),H.distbits=Tr.bits,na){k.msg="invalid distances set",H.mode=An;break}if(H.mode=xo,Be===Ri)break e;case xo:H.mode=xc;case xc:if(Ut>=6&&pr>=258){k.next_out=Xt,k.avail_out=pr,k.next_in=it,k.avail_in=Ut,H.hold=jt,H.bits=Jt,Xr(k,nr),Xt=k.next_out,lt=k.output,pr=k.avail_out,it=k.next_in,Qe=k.input,Ut=k.avail_in,jt=H.hold,Jt=H.bits,H.mode===Oo&&(H.back=-1);break}for(H.back=0;hn=H.lencode[jt&(1<<H.lenbits)-1],Gr=hn>>>24,ln=hn>>>16&255,Tn=hn&65535,!(Gr<=Jt);){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}if(ln&&(ln&240)===0){for(tr=Gr,Un=ln,Ma=Tn;hn=H.lencode[Ma+((jt&(1<<tr+Un)-1)>>tr)],Gr=hn>>>24,ln=hn>>>16&255,Tn=hn&65535,!(tr+Gr<=Jt);){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}jt>>>=tr,Jt-=tr,H.back+=tr}if(jt>>>=Gr,Jt-=Gr,H.back+=Gr,H.length=Tn,ln===0){H.mode=hd;break}if(ln&32){H.back=-1,H.mode=Oo;break}if(ln&64){k.msg="invalid literal/length code",H.mode=An;break}H.extra=ln&15,H.mode=Mc;case Mc:if(H.extra){for(on=H.extra;Jt<on;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}H.length+=jt&(1<<H.extra)-1,jt>>>=H.extra,Jt-=H.extra,H.back+=H.extra}H.was=H.length,H.mode=Ad;case Ad:for(;hn=H.distcode[jt&(1<<H.distbits)-1],Gr=hn>>>24,ln=hn>>>16&255,Tn=hn&65535,!(Gr<=Jt);){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}if((ln&240)===0){for(tr=Gr,Un=ln,Ma=Tn;hn=H.distcode[Ma+((jt&(1<<tr+Un)-1)>>tr)],Gr=hn>>>24,ln=hn>>>16&255,Tn=hn&65535,!(tr+Gr<=Jt);){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}jt>>>=tr,Jt-=tr,H.back+=tr}if(jt>>>=Gr,Jt-=Gr,H.back+=Gr,ln&64){k.msg="invalid distance code",H.mode=An;break}H.offset=Tn,H.extra=ln&15,H.mode=Wl;case Wl:if(H.extra){for(on=H.extra;Jt<on;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}H.offset+=jt&(1<<H.extra)-1,jt>>>=H.extra,Jt-=H.extra,H.back+=H.extra}if(H.offset>H.dmax){k.msg="invalid distance too far back",H.mode=An;break}H.mode=Jd;case Jd:if(pr===0)break e;if(Qs=nr-pr,H.offset>Qs){if(Qs=H.offset-Qs,Qs>H.whave&&H.sane){k.msg="invalid distance too far back",H.mode=An;break}Qs>H.wnext?(Qs-=H.wnext,xs=H.wsize-Qs):xs=H.wnext-Qs,Qs>H.length&&(Qs=H.length),La=H.window}else La=lt,xs=Xt-H.offset,Qs=H.length;Qs>pr&&(Qs=pr),pr-=Qs,H.length-=Qs;do lt[Xt++]=La[xs++];while(--Qs);H.length===0&&(H.mode=xc);break;case hd:if(pr===0)break e;lt[Xt++]=H.length,pr--,H.mode=xc;break;case bo:if(H.wrap){for(;Jt<32;){if(Ut===0)break e;Ut--,jt|=Qe[it++]<<Jt,Jt+=8}if(nr-=pr,k.total_out+=nr,H.total+=nr,H.wrap&4&&nr&&(k.adler=H.check=H.flags?sr(H.check,lt,nr,Xt-nr):tn(H.check,lt,nr,Xt-nr)),nr=pr,H.wrap&4&&(H.flags?jt:Jl(jt))!==H.check){k.msg="incorrect data check",H.mode=An;break}jt=0,Jt=0}H.mode=Od;case Od:if(H.wrap&&H.flags){for(;Jt<32;){if(Ut===0)break e;Ut--,jt+=Qe[it++]<<Jt,Jt+=8}if(H.wrap&4&&jt!==(H.total&4294967295)){k.msg="incorrect length check",H.mode=An;break}jt=0,Jt=0}H.mode=Do;case Do:na=Gl;break e;case An:na=mi;break e;case Ol:return tl;case Yl:default:return li}return k.next_out=Xt,k.avail_out=pr,k.next_in=it,k.avail_in=Ut,H.hold=jt,H.bits=Jt,(H.wsize||nr!==k.avail_out&&H.mode<An&&(H.mode<bo||Be!==Ln))&&xl(k,k.output,k.next_out,nr-k.avail_out),gn-=k.avail_in,nr-=k.avail_out,k.total_in+=gn,k.total_out+=nr,H.total+=nr,H.wrap&4&&nr&&(k.adler=H.check=H.flags?sr(H.check,lt,nr,k.next_out-nr):tn(H.check,lt,nr,k.next_out-nr)),k.data_type=H.bits+(H.last?64:0)+(H.mode===Oo?128:0)+(H.mode===xo||H.mode===gc?256:0),(gn===0&&nr===0||Be===Ln)&&na===lo&&(na=Lo),na},Dl=k=>{if(Wi(k))return li;let Be=k.state;return Be.window&&(Be.window=null),k.state=null,lo},xu=(k,Be)=>{if(Wi(k))return li;const H=k.state;return(H.wrap&2)===0?li:(H.head=Be,Be.done=!1,lo)},md=(k,Be)=>{const H=Be.length;let Qe,lt,it;return Wi(k)||(Qe=k.state,Qe.wrap!==0&&Qe.mode!==ml)?li:Qe.mode===ml&&(lt=1,lt=tn(lt,Be,H,0),lt!==Qe.check)?mi:(it=xl(k,Be,H,H),it?(Qe.mode=Ol,tl):(Qe.havedict=1,lo))};var Qi=Ro,Ha=pd,cr=Zc,Ic=vo,bl=Zl,gd=gu,Po=Dl,Dc=xu,bu=md,xd="pako inflate (from Nodeca project)",Yi={inflateReset:Qi,inflateReset2:Ha,inflateResetKeep:cr,inflateInit:Ic,inflateInit2:bl,inflate:gd,inflateEnd:Po,inflateGetHeader:Dc,inflateSetDictionary:bu,inflateInfo:xd};function qc(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vl=qc;const Zd=Object.prototype.toString,{Z_NO_FLUSH:nl,Z_FINISH:bc,Z_OK:Qo,Z_STREAM_END:al,Z_NEED_DICT:bd,Z_STREAM_ERROR:yl,Z_DATA_ERROR:vc,Z_MEM_ERROR:ed}=Or;function il(k){this.options=bs.assign({chunkSize:65536,windowBits:15,to:""},k||{});const Be=this.options;Be.raw&&Be.windowBits>=0&&Be.windowBits<16&&(Be.windowBits=-Be.windowBits,Be.windowBits===0&&(Be.windowBits=-15)),Be.windowBits>=0&&Be.windowBits<16&&!(k&&k.windowBits)&&(Be.windowBits+=32),Be.windowBits>15&&Be.windowBits<48&&(Be.windowBits&15)===0&&(Be.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pt,this.strm.avail_out=0;let H=Yi.inflateInit2(this.strm,Be.windowBits);if(H!==Qo)throw new Error(ms[H]);if(this.header=new vl,Yi.inflateGetHeader(this.strm,this.header),Be.dictionary&&(typeof Be.dictionary=="string"?Be.dictionary=ht.string2buf(Be.dictionary):Zd.call(Be.dictionary)==="[object ArrayBuffer]"&&(Be.dictionary=new Uint8Array(Be.dictionary)),Be.raw&&(H=Yi.inflateSetDictionary(this.strm,Be.dictionary),H!==Qo)))throw new Error(ms[H])}il.prototype.push=function(k,Be){const H=this.strm,Qe=this.options.chunkSize,lt=this.options.dictionary;let it,Xt,Ut;if(this.ended)return!1;for(Be===~~Be?Xt=Be:Xt=Be===!0?bc:nl,Zd.call(k)==="[object ArrayBuffer]"?H.input=new Uint8Array(k):H.input=k,H.next_in=0,H.avail_in=H.input.length;;){for(H.avail_out===0&&(H.output=new Uint8Array(Qe),H.next_out=0,H.avail_out=Qe),it=Yi.inflate(H,Xt),it===bd&&lt&&(it=Yi.inflateSetDictionary(H,lt),it===Qo?it=Yi.inflate(H,Xt):it===vc&&(it=bd));H.avail_in>0&&it===al&&H.state.wrap>0&&k[H.next_in]!==0;)Yi.inflateReset(H),it=Yi.inflate(H,Xt);switch(it){case yl:case vc:case bd:case ed:return this.onEnd(it),this.ended=!0,!1}if(Ut=H.avail_out,H.next_out&&(H.avail_out===0||it===al))if(this.options.to==="string"){let pr=ht.utf8border(H.output,H.next_out),jt=H.next_out-pr,Jt=ht.buf2string(H.output,pr);H.next_out=jt,H.avail_out=Qe-jt,jt&&H.output.set(H.output.subarray(pr,pr+jt),0),this.onData(Jt)}else this.onData(H.output.length===H.next_out?H.output:H.output.subarray(0,H.next_out));if(!(it===Qo&&Ut===0)){if(it===al)return it=Yi.inflateEnd(this.strm),this.onEnd(it),this.ended=!0,!0;if(H.avail_in===0)break}}return!0},il.prototype.onData=function(k){this.chunks.push(k)},il.prototype.onEnd=function(k){k===Qo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bs.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg};function si(k,Be){const H=new il(Be);if(H.push(k),H.err)throw H.msg||ms[H.err];return H.result}function vd(k,Be){return Be=Be||{},Be.raw=!0,si(k,Be)}var vu=il,Lu=si,td=vd,sd=si,xi={Inflate:vu,inflate:Lu,inflateRaw:td,ungzip:sd};const{Deflate:rd,deflate:yd,deflateRaw:Z,gzip:Te}=Sn,{Inflate:at,inflate:pt,inflateRaw:Qt,ungzip:Ns}=xi;var Rs=rd,Sr=yd,Er=Z,mn=Te,kn=at,ra=pt,Fa=Qt,bi=Ns,Ba=Or,Ei={Deflate:Rs,deflate:Sr,deflateRaw:Er,gzip:mn,Inflate:kn,inflate:ra,inflateRaw:Fa,ungzip:bi,constants:Ba}}),"./node_modules/performance-now/lib/performance-now.js":(function(d){(function(){var A,o,f,p,m,x;typeof performance<"u"&&performance!==null&&performance.now?d.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(d.exports=function(){return(A()-m)/1e6},o=process.hrtime,A=function(){var b;return b=o(),b[0]*1e9+b[1]},p=A(),x=process.uptime()*1e9,m=p-x):Date.now?(d.exports=function(){return Date.now()-f},f=Date.now()):(d.exports=function(){return new Date().getTime()-f},f=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(d,A,o){for(var f=o("./node_modules/performance-now/lib/performance-now.js"),p=typeof window>"u"?Op:window,m=["moz","webkit"],x="AnimationFrame",b=p["request"+x],j=p["cancel"+x]||p["cancelRequest"+x],y=0;!b&&y<m.length;y++)b=p[m[y]+"Request"+x],j=p[m[y]+"Cancel"+x]||p[m[y]+"CancelRequest"+x];if(!b||!j){var T=0,R=0,z=[],X=1e3/60;b=function(Y){if(z.length===0){var Q=f(),K=Math.max(0,X-(Q-T));T=K+Q,setTimeout(function(){var ce=z.slice(0);z.length=0;for(var ue=0;ue<ce.length;ue++)if(!ce[ue].cancelled)try{ce[ue].callback(T)}catch(Ne){setTimeout(function(){throw Ne},0)}},Math.round(K))}return z.push({handle:++R,callback:Y,cancelled:!1}),R},j=function(Y){for(var Q=0;Q<z.length;Q++)z[Q].handle===Y&&(z[Q].cancelled=!0)}}d.exports=function(Y){return b.call(p,Y)},d.exports.cancel=function(){j.apply(p,arguments)},d.exports.polyfill=function(Y){Y||(Y=p),Y.requestAnimationFrame=b,Y.cancelAnimationFrame=j}}),"./node_modules/rgbcolor/index.js":(function(d){d.exports=function(A){this.ok=!1,this.alpha=1,A.charAt(0)=="#"&&(A=A.substr(1,6)),A=A.replace(/ /g,""),A=A.toLowerCase();var o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};A=o[A]||A;for(var f=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(y){return[parseInt(y[1]),parseInt(y[2]),parseInt(y[3]),parseFloat(y[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(y){return[parseInt(y[1]),parseInt(y[2]),parseInt(y[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(y){return[parseInt(y[1],16),parseInt(y[2],16),parseInt(y[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(y){return[parseInt(y[1]+y[1],16),parseInt(y[2]+y[2],16),parseInt(y[3]+y[3],16)]}}],p=0;p<f.length;p++){var m=f[p].re,x=f[p].process,b=m.exec(A);if(b){var j=x(b);this.r=j[0],this.g=j[1],this.b=j[2],j.length>3&&(this.alpha=j[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var y=this.r.toString(16),T=this.g.toString(16),R=this.b.toString(16);return y.length==1&&(y="0"+y),T.length==1&&(T="0"+T),R.length==1&&(R="0"+R),"#"+y+T+R},this.getHelpXML=function(){for(var y=new Array,T=0;T<f.length;T++)for(var R=f[T].example,z=0;z<R.length;z++)y[y.length]=R[z];for(var X in o)y[y.length]=X;var Y=document.createElement("ul");Y.setAttribute("id","rgbcolor-examples");for(var T=0;T<y.length;T++)try{var Q=document.createElement("li"),K=new RGBColor(y[T]),ce=document.createElement("div");ce.style.cssText="margin: 3px; border: 1px solid black; background:"+K.toHex()+"; color:"+K.toHex(),ce.appendChild(document.createTextNode("test"));var ue=document.createTextNode(" "+y[T]+" -> "+K.toRGB()+" -> "+K.toHex());Q.appendChild(ce),Q.appendChild(ue),Y.appendChild(Q)}catch{}return Y}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(d,A,o){o.r(A),o.d(A,{BlurStack:function(){return X},canvasRGB:function(){return R},canvasRGBA:function(){return y},image:function(){return b},imageDataRGB:function(){return z},imageDataRGBA:function(){return T}});function f(Y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(Q){return typeof Q}:f=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},f(Y)}function p(Y,Q){if(!(Y instanceof Q))throw new TypeError("Cannot call a class as a function")}var m=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],x=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function b(Y,Q,K,ce,ue,Ne){if(typeof Y=="string"&&(Y=document.getElementById(Y)),!(!Y||Object.prototype.toString.call(Y).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in Y))){var le=ue?"offset":"natural",Ce=Y[le+"Width"],oe=Y[le+"Height"];if(Object.prototype.toString.call(Y).slice(8,-1)==="ImageBitmap"&&(Ce=Y.width,oe=Y.height),typeof Q=="string"&&(Q=document.getElementById(Q)),!(!Q||!("getContext"in Q))){Ne||(Q.style.width=Ce+"px",Q.style.height=oe+"px"),Q.width=Ce,Q.height=oe;var je=Q.getContext("2d");je.clearRect(0,0,Ce,oe),je.drawImage(Y,0,0,Y.naturalWidth,Y.naturalHeight,0,0,Ce,oe),!(isNaN(K)||K<1)&&(ce?y(Q,0,0,Ce,oe,K):R(Q,0,0,Ce,oe,K))}}}function j(Y,Q,K,ce,ue){if(typeof Y=="string"&&(Y=document.getElementById(Y)),!Y||f(Y)!=="object"||!("getContext"in Y))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var Ne=Y.getContext("2d");try{return Ne.getImageData(Q,K,ce,ue)}catch(le){throw new Error("unable to access image data: "+le)}}function y(Y,Q,K,ce,ue,Ne){if(!(isNaN(Ne)||Ne<1)){Ne|=0;var le=j(Y,Q,K,ce,ue);le=T(le,Q,K,ce,ue,Ne),Y.getContext("2d").putImageData(le,Q,K)}}function T(Y,Q,K,ce,ue,Ne){for(var le=Y.data,Ce=2*Ne+1,oe=ce-1,je=ue-1,Ae=Ne+1,se=Ae*(Ae+1)/2,pe=new X,re=pe,Ee,De=1;De<Ce;De++)re=re.next=new X,De===Ae&&(Ee=re);re.next=pe;for(var Se=null,fe=null,be=0,he=0,te=m[Ne],ge=x[Ne],Le=0;Le<ue;Le++){re=pe;for(var Ve=le[he],kt=le[he+1],Bt=le[he+2],We=le[he+3],Lt=0;Lt<Ae;Lt++)re.r=Ve,re.g=kt,re.b=Bt,re.a=We,re=re.next;for(var $t=0,ls=0,Ts=0,Pe=0,ut=Ae*Ve,St=Ae*kt,Is=Ae*Bt,us=Ae*We,br=se*Ve,hr=se*kt,ar=se*Bt,Fs=se*We,Cs=1;Cs<Ae;Cs++){var Bs=he+((oe<Cs?oe:Cs)<<2),vr=le[Bs],gr=le[Bs+1],en=le[Bs+2],Nr=le[Bs+3],er=Ae-Cs;br+=(re.r=vr)*er,hr+=(re.g=gr)*er,ar+=(re.b=en)*er,Fs+=(re.a=Nr)*er,$t+=vr,ls+=gr,Ts+=en,Pe+=Nr,re=re.next}Se=pe,fe=Ee;for(var Ys=0;Ys<ce;Ys++){var Es=Fs*te>>>ge;if(le[he+3]=Es,Es!==0){var ft=255/Es;le[he]=(br*te>>>ge)*ft,le[he+1]=(hr*te>>>ge)*ft,le[he+2]=(ar*te>>>ge)*ft}else le[he]=le[he+1]=le[he+2]=0;br-=ut,hr-=St,ar-=Is,Fs-=us,ut-=Se.r,St-=Se.g,Is-=Se.b,us-=Se.a;var Vt=Ys+Ne+1;Vt=be+(Vt<oe?Vt:oe)<<2,$t+=Se.r=le[Vt],ls+=Se.g=le[Vt+1],Ts+=Se.b=le[Vt+2],Pe+=Se.a=le[Vt+3],br+=$t,hr+=ls,ar+=Ts,Fs+=Pe,Se=Se.next;var js=fe,Vs=js.r,or=js.g,yt=js.b,qt=js.a;ut+=Vs,St+=or,Is+=yt,us+=qt,$t-=Vs,ls-=or,Ts-=yt,Pe-=qt,fe=fe.next,he+=4}be+=ce}for(var As=0;As<ce;As++){he=As<<2;var hs=le[he],Ks=le[he+1],$s=le[he+2],fr=le[he+3],tn=Ae*hs,wa=Ae*Ks,Us=Ae*$s,Ds=Ae*fr,sr=se*hs,ms=se*Ks,Or=se*$s,Pr=se*fr;re=pe;for(var Ar=0;Ar<Ae;Ar++)re.r=hs,re.g=Ks,re.b=$s,re.a=fr,re=re.next;for(var Da=ce,fa=0,fn=0,jn=0,dn=0,la=1;la<=Ne;la++){he=Da+As<<2;var Dn=Ae-la;sr+=(re.r=hs=le[he])*Dn,ms+=(re.g=Ks=le[he+1])*Dn,Or+=(re.b=$s=le[he+2])*Dn,Pr+=(re.a=fr=le[he+3])*Dn,dn+=hs,fa+=Ks,fn+=$s,jn+=fr,re=re.next,la<je&&(Da+=ce)}he=As,Se=pe,fe=Ee;for(var Ii=0;Ii<ue;Ii++){var Rn=he<<2;le[Rn+3]=fr=Pr*te>>>ge,fr>0?(fr=255/fr,le[Rn]=(sr*te>>>ge)*fr,le[Rn+1]=(ms*te>>>ge)*fr,le[Rn+2]=(Or*te>>>ge)*fr):le[Rn]=le[Rn+1]=le[Rn+2]=0,sr-=tn,ms-=wa,Or-=Us,Pr-=Ds,tn-=Se.r,wa-=Se.g,Us-=Se.b,Ds-=Se.a,Rn=As+((Rn=Ii+Ae)<je?Rn:je)*ce<<2,sr+=dn+=Se.r=le[Rn],ms+=fa+=Se.g=le[Rn+1],Or+=fn+=Se.b=le[Rn+2],Pr+=jn+=Se.a=le[Rn+3],Se=Se.next,tn+=hs=fe.r,wa+=Ks=fe.g,Us+=$s=fe.b,Ds+=fr=fe.a,dn-=hs,fa-=Ks,fn-=$s,jn-=fr,fe=fe.next,he+=ce}}return Y}function R(Y,Q,K,ce,ue,Ne){if(!(isNaN(Ne)||Ne<1)){Ne|=0;var le=j(Y,Q,K,ce,ue);le=z(le,Q,K,ce,ue,Ne),Y.getContext("2d").putImageData(le,Q,K)}}function z(Y,Q,K,ce,ue,Ne){for(var le=Y.data,Ce=2*Ne+1,oe=ce-1,je=ue-1,Ae=Ne+1,se=Ae*(Ae+1)/2,pe=new X,re=pe,Ee,De=1;De<Ce;De++)re=re.next=new X,De===Ae&&(Ee=re);re.next=pe;for(var Se=null,fe=null,be=m[Ne],he=x[Ne],te,ge,Le=0,Ve=0,kt=0;kt<ue;kt++){var Bt=le[Ve],We=le[Ve+1],Lt=le[Ve+2],$t=Ae*Bt,ls=Ae*We,Ts=Ae*Lt,Pe=se*Bt,ut=se*We,St=se*Lt;re=pe;for(var Is=0;Is<Ae;Is++)re.r=Bt,re.g=We,re.b=Lt,re=re.next;for(var us=0,br=0,hr=0,ar=1;ar<Ae;ar++)te=Ve+((oe<ar?oe:ar)<<2),Pe+=(re.r=Bt=le[te])*(ge=Ae-ar),ut+=(re.g=We=le[te+1])*ge,St+=(re.b=Lt=le[te+2])*ge,us+=Bt,br+=We,hr+=Lt,re=re.next;Se=pe,fe=Ee;for(var Fs=0;Fs<ce;Fs++)le[Ve]=Pe*be>>>he,le[Ve+1]=ut*be>>>he,le[Ve+2]=St*be>>>he,Pe-=$t,ut-=ls,St-=Ts,$t-=Se.r,ls-=Se.g,Ts-=Se.b,te=Le+((te=Fs+Ne+1)<oe?te:oe)<<2,us+=Se.r=le[te],br+=Se.g=le[te+1],hr+=Se.b=le[te+2],Pe+=us,ut+=br,St+=hr,Se=Se.next,$t+=Bt=fe.r,ls+=We=fe.g,Ts+=Lt=fe.b,us-=Bt,br-=We,hr-=Lt,fe=fe.next,Ve+=4;Le+=ce}for(var Cs=0;Cs<ce;Cs++){Ve=Cs<<2;var Bs=le[Ve],vr=le[Ve+1],gr=le[Ve+2],en=Ae*Bs,Nr=Ae*vr,er=Ae*gr,Ys=se*Bs,Es=se*vr,ft=se*gr;re=pe;for(var Vt=0;Vt<Ae;Vt++)re.r=Bs,re.g=vr,re.b=gr,re=re.next;for(var js=0,Vs=0,or=0,yt=1,qt=ce;yt<=Ne;yt++)Ve=qt+Cs<<2,Ys+=(re.r=Bs=le[Ve])*(ge=Ae-yt),Es+=(re.g=vr=le[Ve+1])*ge,ft+=(re.b=gr=le[Ve+2])*ge,js+=Bs,Vs+=vr,or+=gr,re=re.next,yt<je&&(qt+=ce);Ve=Cs,Se=pe,fe=Ee;for(var As=0;As<ue;As++)te=Ve<<2,le[te]=Ys*be>>>he,le[te+1]=Es*be>>>he,le[te+2]=ft*be>>>he,Ys-=en,Es-=Nr,ft-=er,en-=Se.r,Nr-=Se.g,er-=Se.b,te=Cs+((te=As+Ae)<je?te:je)*ce<<2,Ys+=js+=Se.r=le[te],Es+=Vs+=Se.g=le[te+1],ft+=or+=Se.b=le[te+2],Se=Se.next,en+=Bs=fe.r,Nr+=vr=fe.g,er+=gr=fe.b,js-=Bs,Vs-=vr,or-=gr,fe=fe.next,Ve+=ce}return Y}var X=function Y(){p(this,Y),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(d,A,o){o.r(A),o.d(A,{COMMAND_ARG_COUNTS:function(){return je},SVGPathData:function(){return oe},SVGPathDataParser:function(){return Ce},SVGPathDataTransformer:function(){return R},encodeSVGPath:function(){return m}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var f=function(Ae,se){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pe,re){pe.__proto__=re}||function(pe,re){for(var Ee in re)Object.prototype.hasOwnProperty.call(re,Ee)&&(pe[Ee]=re[Ee])})(Ae,se)};function p(Ae,se){if(typeof se!="function"&&se!==null)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function pe(){this.constructor=Ae}f(Ae,se),Ae.prototype=se===null?Object.create(se):(pe.prototype=se.prototype,new pe)}function m(Ae){var se="";Array.isArray(Ae)||(Ae=[Ae]);for(var pe=0;pe<Ae.length;pe++){var re=Ae[pe];if(re.type===oe.CLOSE_PATH)se+="z";else if(re.type===oe.HORIZ_LINE_TO)se+=(re.relative?"h":"H")+re.x;else if(re.type===oe.VERT_LINE_TO)se+=(re.relative?"v":"V")+re.y;else if(re.type===oe.MOVE_TO)se+=(re.relative?"m":"M")+re.x+" "+re.y;else if(re.type===oe.LINE_TO)se+=(re.relative?"l":"L")+re.x+" "+re.y;else if(re.type===oe.CURVE_TO)se+=(re.relative?"c":"C")+re.x1+" "+re.y1+" "+re.x2+" "+re.y2+" "+re.x+" "+re.y;else if(re.type===oe.SMOOTH_CURVE_TO)se+=(re.relative?"s":"S")+re.x2+" "+re.y2+" "+re.x+" "+re.y;else if(re.type===oe.QUAD_TO)se+=(re.relative?"q":"Q")+re.x1+" "+re.y1+" "+re.x+" "+re.y;else if(re.type===oe.SMOOTH_QUAD_TO)se+=(re.relative?"t":"T")+re.x+" "+re.y;else{if(re.type!==oe.ARC)throw new Error('Unexpected command type "'+re.type+'" at index '+pe+".");se+=(re.relative?"a":"A")+re.rX+" "+re.rY+" "+re.xRot+" "+ +re.lArcFlag+" "+ +re.sweepFlag+" "+re.x+" "+re.y}}return se}function x(Ae,se){var pe=Ae[0],re=Ae[1];return[pe*Math.cos(se)-re*Math.sin(se),pe*Math.sin(se)+re*Math.cos(se)]}function b(){for(var Ae=[],se=0;se<arguments.length;se++)Ae[se]=arguments[se];for(var pe=0;pe<Ae.length;pe++)if(typeof Ae[pe]!="number")throw new Error("assertNumbers arguments["+pe+"] is not a number. "+typeof Ae[pe]+" == typeof "+Ae[pe]);return!0}var j=Math.PI;function y(Ae,se,pe){Ae.lArcFlag=Ae.lArcFlag===0?0:1,Ae.sweepFlag=Ae.sweepFlag===0?0:1;var re=Ae.rX,Ee=Ae.rY,De=Ae.x,Se=Ae.y;re=Math.abs(Ae.rX),Ee=Math.abs(Ae.rY);var fe=x([(se-De)/2,(pe-Se)/2],-Ae.xRot/180*j),be=fe[0],he=fe[1],te=Math.pow(be,2)/Math.pow(re,2)+Math.pow(he,2)/Math.pow(Ee,2);1<te&&(re*=Math.sqrt(te),Ee*=Math.sqrt(te)),Ae.rX=re,Ae.rY=Ee;var ge=Math.pow(re,2)*Math.pow(he,2)+Math.pow(Ee,2)*Math.pow(be,2),Le=(Ae.lArcFlag!==Ae.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(re,2)*Math.pow(Ee,2)-ge)/ge)),Ve=re*he/Ee*Le,kt=-Ee*be/re*Le,Bt=x([Ve,kt],Ae.xRot/180*j);Ae.cX=Bt[0]+(se+De)/2,Ae.cY=Bt[1]+(pe+Se)/2,Ae.phi1=Math.atan2((he-kt)/Ee,(be-Ve)/re),Ae.phi2=Math.atan2((-he-kt)/Ee,(-be-Ve)/re),Ae.sweepFlag===0&&Ae.phi2>Ae.phi1&&(Ae.phi2-=2*j),Ae.sweepFlag===1&&Ae.phi2<Ae.phi1&&(Ae.phi2+=2*j),Ae.phi1*=180/j,Ae.phi2*=180/j}function T(Ae,se,pe){b(Ae,se,pe);var re=Ae*Ae+se*se-pe*pe;if(0>re)return[];if(re===0)return[[Ae*pe/(Ae*Ae+se*se),se*pe/(Ae*Ae+se*se)]];var Ee=Math.sqrt(re);return[[(Ae*pe+se*Ee)/(Ae*Ae+se*se),(se*pe-Ae*Ee)/(Ae*Ae+se*se)],[(Ae*pe-se*Ee)/(Ae*Ae+se*se),(se*pe+Ae*Ee)/(Ae*Ae+se*se)]]}var R,z=Math.PI/180;function X(Ae,se,pe){return(1-pe)*Ae+pe*se}function Y(Ae,se,pe,re){return Ae+Math.cos(re/180*j)*se+Math.sin(re/180*j)*pe}function Q(Ae,se,pe,re){var Ee=1e-6,De=se-Ae,Se=pe-se,fe=3*De+3*(re-pe)-6*Se,be=6*(Se-De),he=3*De;return Math.abs(fe)<Ee?[-he/be]:(function(te,ge,Le){var Ve=te*te/4-ge;if(Ve<-Le)return[];if(Ve<=Le)return[-te/2];var kt=Math.sqrt(Ve);return[-te/2-kt,-te/2+kt]})(be/fe,he/fe,Ee)}function K(Ae,se,pe,re,Ee){var De=1-Ee;return Ae*(De*De*De)+se*(3*De*De*Ee)+pe*(3*De*Ee*Ee)+re*(Ee*Ee*Ee)}(function(Ae){function se(){return Ee((function(fe,be,he){return fe.relative&&(fe.x1!==void 0&&(fe.x1+=be),fe.y1!==void 0&&(fe.y1+=he),fe.x2!==void 0&&(fe.x2+=be),fe.y2!==void 0&&(fe.y2+=he),fe.x!==void 0&&(fe.x+=be),fe.y!==void 0&&(fe.y+=he),fe.relative=!1),fe}))}function pe(){var fe=NaN,be=NaN,he=NaN,te=NaN;return Ee((function(ge,Le,Ve){return ge.type&oe.SMOOTH_CURVE_TO&&(ge.type=oe.CURVE_TO,fe=isNaN(fe)?Le:fe,be=isNaN(be)?Ve:be,ge.x1=ge.relative?Le-fe:2*Le-fe,ge.y1=ge.relative?Ve-be:2*Ve-be),ge.type&oe.CURVE_TO?(fe=ge.relative?Le+ge.x2:ge.x2,be=ge.relative?Ve+ge.y2:ge.y2):(fe=NaN,be=NaN),ge.type&oe.SMOOTH_QUAD_TO&&(ge.type=oe.QUAD_TO,he=isNaN(he)?Le:he,te=isNaN(te)?Ve:te,ge.x1=ge.relative?Le-he:2*Le-he,ge.y1=ge.relative?Ve-te:2*Ve-te),ge.type&oe.QUAD_TO?(he=ge.relative?Le+ge.x1:ge.x1,te=ge.relative?Ve+ge.y1:ge.y1):(he=NaN,te=NaN),ge}))}function re(){var fe=NaN,be=NaN;return Ee((function(he,te,ge){if(he.type&oe.SMOOTH_QUAD_TO&&(he.type=oe.QUAD_TO,fe=isNaN(fe)?te:fe,be=isNaN(be)?ge:be,he.x1=he.relative?te-fe:2*te-fe,he.y1=he.relative?ge-be:2*ge-be),he.type&oe.QUAD_TO){fe=he.relative?te+he.x1:he.x1,be=he.relative?ge+he.y1:he.y1;var Le=he.x1,Ve=he.y1;he.type=oe.CURVE_TO,he.x1=((he.relative?0:te)+2*Le)/3,he.y1=((he.relative?0:ge)+2*Ve)/3,he.x2=(he.x+2*Le)/3,he.y2=(he.y+2*Ve)/3}else fe=NaN,be=NaN;return he}))}function Ee(fe){var be=0,he=0,te=NaN,ge=NaN;return function(Le){if(isNaN(te)&&!(Le.type&oe.MOVE_TO))throw new Error("path must start with moveto");var Ve=fe(Le,be,he,te,ge);return Le.type&oe.CLOSE_PATH&&(be=te,he=ge),Le.x!==void 0&&(be=Le.relative?be+Le.x:Le.x),Le.y!==void 0&&(he=Le.relative?he+Le.y:Le.y),Le.type&oe.MOVE_TO&&(te=be,ge=he),Ve}}function De(fe,be,he,te,ge,Le){return b(fe,be,he,te,ge,Le),Ee((function(Ve,kt,Bt,We){var Lt=Ve.x1,$t=Ve.x2,ls=Ve.relative&&!isNaN(We),Ts=Ve.x!==void 0?Ve.x:ls?0:kt,Pe=Ve.y!==void 0?Ve.y:ls?0:Bt;function ut(Es){return Es*Es}Ve.type&oe.HORIZ_LINE_TO&&be!==0&&(Ve.type=oe.LINE_TO,Ve.y=Ve.relative?0:Bt),Ve.type&oe.VERT_LINE_TO&&he!==0&&(Ve.type=oe.LINE_TO,Ve.x=Ve.relative?0:kt),Ve.x!==void 0&&(Ve.x=Ve.x*fe+Pe*he+(ls?0:ge)),Ve.y!==void 0&&(Ve.y=Ts*be+Ve.y*te+(ls?0:Le)),Ve.x1!==void 0&&(Ve.x1=Ve.x1*fe+Ve.y1*he+(ls?0:ge)),Ve.y1!==void 0&&(Ve.y1=Lt*be+Ve.y1*te+(ls?0:Le)),Ve.x2!==void 0&&(Ve.x2=Ve.x2*fe+Ve.y2*he+(ls?0:ge)),Ve.y2!==void 0&&(Ve.y2=$t*be+Ve.y2*te+(ls?0:Le));var St=fe*te-be*he;if(Ve.xRot!==void 0&&(fe!==1||be!==0||he!==0||te!==1))if(St===0)delete Ve.rX,delete Ve.rY,delete Ve.xRot,delete Ve.lArcFlag,delete Ve.sweepFlag,Ve.type=oe.LINE_TO;else{var Is=Ve.xRot*Math.PI/180,us=Math.sin(Is),br=Math.cos(Is),hr=1/ut(Ve.rX),ar=1/ut(Ve.rY),Fs=ut(br)*hr+ut(us)*ar,Cs=2*us*br*(hr-ar),Bs=ut(us)*hr+ut(br)*ar,vr=Fs*te*te-Cs*be*te+Bs*be*be,gr=Cs*(fe*te+be*he)-2*(Fs*he*te+Bs*fe*be),en=Fs*he*he-Cs*fe*he+Bs*fe*fe,Nr=(Math.atan2(gr,vr-en)+Math.PI)%Math.PI/2,er=Math.sin(Nr),Ys=Math.cos(Nr);Ve.rX=Math.abs(St)/Math.sqrt(vr*ut(Ys)+gr*er*Ys+en*ut(er)),Ve.rY=Math.abs(St)/Math.sqrt(vr*ut(er)-gr*er*Ys+en*ut(Ys)),Ve.xRot=180*Nr/Math.PI}return Ve.sweepFlag!==void 0&&0>St&&(Ve.sweepFlag=+!Ve.sweepFlag),Ve}))}function Se(){return function(fe){var be={};for(var he in fe)be[he]=fe[he];return be}}Ae.ROUND=function(fe){function be(he){return Math.round(he*fe)/fe}return fe===void 0&&(fe=1e13),b(fe),function(he){return he.x1!==void 0&&(he.x1=be(he.x1)),he.y1!==void 0&&(he.y1=be(he.y1)),he.x2!==void 0&&(he.x2=be(he.x2)),he.y2!==void 0&&(he.y2=be(he.y2)),he.x!==void 0&&(he.x=be(he.x)),he.y!==void 0&&(he.y=be(he.y)),he.rX!==void 0&&(he.rX=be(he.rX)),he.rY!==void 0&&(he.rY=be(he.rY)),he}},Ae.TO_ABS=se,Ae.TO_REL=function(){return Ee((function(fe,be,he){return fe.relative||(fe.x1!==void 0&&(fe.x1-=be),fe.y1!==void 0&&(fe.y1-=he),fe.x2!==void 0&&(fe.x2-=be),fe.y2!==void 0&&(fe.y2-=he),fe.x!==void 0&&(fe.x-=be),fe.y!==void 0&&(fe.y-=he),fe.relative=!0),fe}))},Ae.NORMALIZE_HVZ=function(fe,be,he){return fe===void 0&&(fe=!0),be===void 0&&(be=!0),he===void 0&&(he=!0),Ee((function(te,ge,Le,Ve,kt){if(isNaN(Ve)&&!(te.type&oe.MOVE_TO))throw new Error("path must start with moveto");return be&&te.type&oe.HORIZ_LINE_TO&&(te.type=oe.LINE_TO,te.y=te.relative?0:Le),he&&te.type&oe.VERT_LINE_TO&&(te.type=oe.LINE_TO,te.x=te.relative?0:ge),fe&&te.type&oe.CLOSE_PATH&&(te.type=oe.LINE_TO,te.x=te.relative?Ve-ge:Ve,te.y=te.relative?kt-Le:kt),te.type&oe.ARC&&(te.rX===0||te.rY===0)&&(te.type=oe.LINE_TO,delete te.rX,delete te.rY,delete te.xRot,delete te.lArcFlag,delete te.sweepFlag),te}))},Ae.NORMALIZE_ST=pe,Ae.QT_TO_C=re,Ae.INFO=Ee,Ae.SANITIZE=function(fe){fe===void 0&&(fe=0),b(fe);var be=NaN,he=NaN,te=NaN,ge=NaN;return Ee((function(Le,Ve,kt,Bt,We){var Lt=Math.abs,$t=!1,ls=0,Ts=0;if(Le.type&oe.SMOOTH_CURVE_TO&&(ls=isNaN(be)?0:Ve-be,Ts=isNaN(he)?0:kt-he),Le.type&(oe.CURVE_TO|oe.SMOOTH_CURVE_TO)?(be=Le.relative?Ve+Le.x2:Le.x2,he=Le.relative?kt+Le.y2:Le.y2):(be=NaN,he=NaN),Le.type&oe.SMOOTH_QUAD_TO?(te=isNaN(te)?Ve:2*Ve-te,ge=isNaN(ge)?kt:2*kt-ge):Le.type&oe.QUAD_TO?(te=Le.relative?Ve+Le.x1:Le.x1,ge=Le.relative?kt+Le.y1:Le.y2):(te=NaN,ge=NaN),Le.type&oe.LINE_COMMANDS||Le.type&oe.ARC&&(Le.rX===0||Le.rY===0||!Le.lArcFlag)||Le.type&oe.CURVE_TO||Le.type&oe.SMOOTH_CURVE_TO||Le.type&oe.QUAD_TO||Le.type&oe.SMOOTH_QUAD_TO){var Pe=Le.x===void 0?0:Le.relative?Le.x:Le.x-Ve,ut=Le.y===void 0?0:Le.relative?Le.y:Le.y-kt;ls=isNaN(te)?Le.x1===void 0?ls:Le.relative?Le.x:Le.x1-Ve:te-Ve,Ts=isNaN(ge)?Le.y1===void 0?Ts:Le.relative?Le.y:Le.y1-kt:ge-kt;var St=Le.x2===void 0?0:Le.relative?Le.x:Le.x2-Ve,Is=Le.y2===void 0?0:Le.relative?Le.y:Le.y2-kt;Lt(Pe)<=fe&&Lt(ut)<=fe&&Lt(ls)<=fe&&Lt(Ts)<=fe&&Lt(St)<=fe&&Lt(Is)<=fe&&($t=!0)}return Le.type&oe.CLOSE_PATH&&Lt(Ve-Bt)<=fe&&Lt(kt-We)<=fe&&($t=!0),$t?[]:Le}))},Ae.MATRIX=De,Ae.ROTATE=function(fe,be,he){be===void 0&&(be=0),he===void 0&&(he=0),b(fe,be,he);var te=Math.sin(fe),ge=Math.cos(fe);return De(ge,te,-te,ge,be-be*ge+he*te,he-be*te-he*ge)},Ae.TRANSLATE=function(fe,be){return be===void 0&&(be=0),b(fe,be),De(1,0,0,1,fe,be)},Ae.SCALE=function(fe,be){return be===void 0&&(be=fe),b(fe,be),De(fe,0,0,be,0,0)},Ae.SKEW_X=function(fe){return b(fe),De(1,0,Math.atan(fe),1,0,0)},Ae.SKEW_Y=function(fe){return b(fe),De(1,Math.atan(fe),0,1,0,0)},Ae.X_AXIS_SYMMETRY=function(fe){return fe===void 0&&(fe=0),b(fe),De(-1,0,0,1,fe,0)},Ae.Y_AXIS_SYMMETRY=function(fe){return fe===void 0&&(fe=0),b(fe),De(1,0,0,-1,0,fe)},Ae.A_TO_C=function(){return Ee((function(fe,be,he){return oe.ARC===fe.type?(function(te,ge,Le){var Ve,kt,Bt,We;te.cX||y(te,ge,Le);for(var Lt=Math.min(te.phi1,te.phi2),$t=Math.max(te.phi1,te.phi2)-Lt,ls=Math.ceil($t/90),Ts=new Array(ls),Pe=ge,ut=Le,St=0;St<ls;St++){var Is=X(te.phi1,te.phi2,St/ls),us=X(te.phi1,te.phi2,(St+1)/ls),br=us-Is,hr=4/3*Math.tan(br*z/4),ar=[Math.cos(Is*z)-hr*Math.sin(Is*z),Math.sin(Is*z)+hr*Math.cos(Is*z)],Fs=ar[0],Cs=ar[1],Bs=[Math.cos(us*z),Math.sin(us*z)],vr=Bs[0],gr=Bs[1],en=[vr+hr*Math.sin(us*z),gr-hr*Math.cos(us*z)],Nr=en[0],er=en[1];Ts[St]={relative:te.relative,type:oe.CURVE_TO};var Ys=function(Es,ft){var Vt=x([Es*te.rX,ft*te.rY],te.xRot),js=Vt[0],Vs=Vt[1];return[te.cX+js,te.cY+Vs]};Ve=Ys(Fs,Cs),Ts[St].x1=Ve[0],Ts[St].y1=Ve[1],kt=Ys(Nr,er),Ts[St].x2=kt[0],Ts[St].y2=kt[1],Bt=Ys(vr,gr),Ts[St].x=Bt[0],Ts[St].y=Bt[1],te.relative&&(Ts[St].x1-=Pe,Ts[St].y1-=ut,Ts[St].x2-=Pe,Ts[St].y2-=ut,Ts[St].x-=Pe,Ts[St].y-=ut),Pe=(We=[Ts[St].x,Ts[St].y])[0],ut=We[1]}return Ts})(fe,fe.relative?0:be,fe.relative?0:he):fe}))},Ae.ANNOTATE_ARCS=function(){return Ee((function(fe,be,he){return fe.relative&&(be=0,he=0),oe.ARC===fe.type&&y(fe,be,he),fe}))},Ae.CLONE=Se,Ae.CALCULATE_BOUNDS=function(){var fe=function(Le){var Ve={};for(var kt in Le)Ve[kt]=Le[kt];return Ve},be=se(),he=re(),te=pe(),ge=Ee((function(Le,Ve,kt){var Bt=te(he(be(fe(Le))));function We(er){er>ge.maxX&&(ge.maxX=er),er<ge.minX&&(ge.minX=er)}function Lt(er){er>ge.maxY&&(ge.maxY=er),er<ge.minY&&(ge.minY=er)}if(Bt.type&oe.DRAWING_COMMANDS&&(We(Ve),Lt(kt)),Bt.type&oe.HORIZ_LINE_TO&&We(Bt.x),Bt.type&oe.VERT_LINE_TO&&Lt(Bt.y),Bt.type&oe.LINE_TO&&(We(Bt.x),Lt(Bt.y)),Bt.type&oe.CURVE_TO){We(Bt.x),Lt(Bt.y);for(var $t=0,ls=Q(Ve,Bt.x1,Bt.x2,Bt.x);$t<ls.length;$t++)0<(Nr=ls[$t])&&1>Nr&&We(K(Ve,Bt.x1,Bt.x2,Bt.x,Nr));for(var Ts=0,Pe=Q(kt,Bt.y1,Bt.y2,Bt.y);Ts<Pe.length;Ts++)0<(Nr=Pe[Ts])&&1>Nr&&Lt(K(kt,Bt.y1,Bt.y2,Bt.y,Nr))}if(Bt.type&oe.ARC){We(Bt.x),Lt(Bt.y),y(Bt,Ve,kt);for(var ut=Bt.xRot/180*Math.PI,St=Math.cos(ut)*Bt.rX,Is=Math.sin(ut)*Bt.rX,us=-Math.sin(ut)*Bt.rY,br=Math.cos(ut)*Bt.rY,hr=Bt.phi1<Bt.phi2?[Bt.phi1,Bt.phi2]:-180>Bt.phi2?[Bt.phi2+360,Bt.phi1+360]:[Bt.phi2,Bt.phi1],ar=hr[0],Fs=hr[1],Cs=function(er){var Ys=er[0],Es=er[1],ft=180*Math.atan2(Es,Ys)/Math.PI;return ft<ar?ft+360:ft},Bs=0,vr=T(us,-St,0).map(Cs);Bs<vr.length;Bs++)(Nr=vr[Bs])>ar&&Nr<Fs&&We(Y(Bt.cX,St,us,Nr));for(var gr=0,en=T(br,-Is,0).map(Cs);gr<en.length;gr++){var Nr;(Nr=en[gr])>ar&&Nr<Fs&&Lt(Y(Bt.cY,Is,br,Nr))}}return Le}));return ge.minX=1/0,ge.maxX=-1/0,ge.minY=1/0,ge.maxY=-1/0,ge}})(R||(R={}));var ce,ue=(function(){function Ae(){}return Ae.prototype.round=function(se){return this.transform(R.ROUND(se))},Ae.prototype.toAbs=function(){return this.transform(R.TO_ABS())},Ae.prototype.toRel=function(){return this.transform(R.TO_REL())},Ae.prototype.normalizeHVZ=function(se,pe,re){return this.transform(R.NORMALIZE_HVZ(se,pe,re))},Ae.prototype.normalizeST=function(){return this.transform(R.NORMALIZE_ST())},Ae.prototype.qtToC=function(){return this.transform(R.QT_TO_C())},Ae.prototype.aToC=function(){return this.transform(R.A_TO_C())},Ae.prototype.sanitize=function(se){return this.transform(R.SANITIZE(se))},Ae.prototype.translate=function(se,pe){return this.transform(R.TRANSLATE(se,pe))},Ae.prototype.scale=function(se,pe){return this.transform(R.SCALE(se,pe))},Ae.prototype.rotate=function(se,pe,re){return this.transform(R.ROTATE(se,pe,re))},Ae.prototype.matrix=function(se,pe,re,Ee,De,Se){return this.transform(R.MATRIX(se,pe,re,Ee,De,Se))},Ae.prototype.skewX=function(se){return this.transform(R.SKEW_X(se))},Ae.prototype.skewY=function(se){return this.transform(R.SKEW_Y(se))},Ae.prototype.xSymmetry=function(se){return this.transform(R.X_AXIS_SYMMETRY(se))},Ae.prototype.ySymmetry=function(se){return this.transform(R.Y_AXIS_SYMMETRY(se))},Ae.prototype.annotateArcs=function(){return this.transform(R.ANNOTATE_ARCS())},Ae})(),Ne=function(Ae){return Ae===" "||Ae==="	"||Ae==="\r"||Ae===`
`},le=function(Ae){return 48<=Ae.charCodeAt(0)&&Ae.charCodeAt(0)<=57},Ce=(function(Ae){function se(){var pe=Ae.call(this)||this;return pe.curNumber="",pe.curCommandType=-1,pe.curCommandRelative=!1,pe.canParseCommandOrComma=!0,pe.curNumberHasExp=!1,pe.curNumberHasExpDigits=!1,pe.curNumberHasDecimal=!1,pe.curArgs=[],pe}return p(se,Ae),se.prototype.finish=function(pe){if(pe===void 0&&(pe=[]),this.parse(" ",pe),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return pe},se.prototype.parse=function(pe,re){var Ee=this;re===void 0&&(re=[]);for(var De=function(ge){re.push(ge),Ee.curArgs.length=0,Ee.canParseCommandOrComma=!0},Se=0;Se<pe.length;Se++){var fe=pe[Se],be=!(this.curCommandType!==oe.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),he=le(fe)&&(this.curNumber==="0"&&fe==="0"||be);if(!le(fe)||he)if(fe!=="e"&&fe!=="E")if(fe!=="-"&&fe!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(fe!=="."||this.curNumberHasExp||this.curNumberHasDecimal||be){if(this.curNumber&&this.curCommandType!==-1){var te=Number(this.curNumber);if(isNaN(te))throw new SyntaxError("Invalid number ending at "+Se);if(this.curCommandType===oe.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>te)throw new SyntaxError('Expected positive number, got "'+te+'" at index "'+Se+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+Se+'"')}this.curArgs.push(te),this.curArgs.length===je[this.curCommandType]&&(oe.HORIZ_LINE_TO===this.curCommandType?De({type:oe.HORIZ_LINE_TO,relative:this.curCommandRelative,x:te}):oe.VERT_LINE_TO===this.curCommandType?De({type:oe.VERT_LINE_TO,relative:this.curCommandRelative,y:te}):this.curCommandType===oe.MOVE_TO||this.curCommandType===oe.LINE_TO||this.curCommandType===oe.SMOOTH_QUAD_TO?(De({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),oe.MOVE_TO===this.curCommandType&&(this.curCommandType=oe.LINE_TO)):this.curCommandType===oe.CURVE_TO?De({type:oe.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===oe.SMOOTH_CURVE_TO?De({type:oe.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===oe.QUAD_TO?De({type:oe.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===oe.ARC&&De({type:oe.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!Ne(fe))if(fe===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(fe!=="+"&&fe!=="-"&&fe!==".")if(he)this.curNumber=fe,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+Se+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+fe+'" at index '+Se+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,fe!=="z"&&fe!=="Z")if(fe==="h"||fe==="H")this.curCommandType=oe.HORIZ_LINE_TO,this.curCommandRelative=fe==="h";else if(fe==="v"||fe==="V")this.curCommandType=oe.VERT_LINE_TO,this.curCommandRelative=fe==="v";else if(fe==="m"||fe==="M")this.curCommandType=oe.MOVE_TO,this.curCommandRelative=fe==="m";else if(fe==="l"||fe==="L")this.curCommandType=oe.LINE_TO,this.curCommandRelative=fe==="l";else if(fe==="c"||fe==="C")this.curCommandType=oe.CURVE_TO,this.curCommandRelative=fe==="c";else if(fe==="s"||fe==="S")this.curCommandType=oe.SMOOTH_CURVE_TO,this.curCommandRelative=fe==="s";else if(fe==="q"||fe==="Q")this.curCommandType=oe.QUAD_TO,this.curCommandRelative=fe==="q";else if(fe==="t"||fe==="T")this.curCommandType=oe.SMOOTH_QUAD_TO,this.curCommandRelative=fe==="t";else{if(fe!=="a"&&fe!=="A")throw new SyntaxError('Unexpected character "'+fe+'" at index '+Se+".");this.curCommandType=oe.ARC,this.curCommandRelative=fe==="a"}else re.push({type:oe.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=fe,this.curNumberHasDecimal=fe==="."}else this.curNumber+=fe,this.curNumberHasDecimal=!0;else this.curNumber+=fe;else this.curNumber+=fe,this.curNumberHasExp=!0;else this.curNumber+=fe,this.curNumberHasExpDigits=this.curNumberHasExp}return re},se.prototype.transform=function(pe){return Object.create(this,{parse:{value:function(re,Ee){Ee===void 0&&(Ee=[]);for(var De=0,Se=Object.getPrototypeOf(this).parse.call(this,re);De<Se.length;De++){var fe=Se[De],be=pe(fe);Array.isArray(be)?Ee.push.apply(Ee,be):Ee.push(be)}return Ee}}})},se})(ue),oe=(function(Ae){function se(pe){var re=Ae.call(this)||this;return re.commands=typeof pe=="string"?se.parse(pe):pe,re}return p(se,Ae),se.prototype.encode=function(){return se.encode(this.commands)},se.prototype.getBounds=function(){var pe=R.CALCULATE_BOUNDS();return this.transform(pe),pe},se.prototype.transform=function(pe){for(var re=[],Ee=0,De=this.commands;Ee<De.length;Ee++){var Se=pe(De[Ee]);Array.isArray(Se)?re.push.apply(re,Se):re.push(Se)}return this.commands=re,this},se.encode=function(pe){return m(pe)},se.parse=function(pe){var re=new Ce,Ee=[];return re.parse(pe,Ee),re.finish(Ee),Ee},se.CLOSE_PATH=1,se.MOVE_TO=2,se.HORIZ_LINE_TO=4,se.VERT_LINE_TO=8,se.LINE_TO=16,se.CURVE_TO=32,se.SMOOTH_CURVE_TO=64,se.QUAD_TO=128,se.SMOOTH_QUAD_TO=256,se.ARC=512,se.LINE_COMMANDS=se.LINE_TO|se.HORIZ_LINE_TO|se.VERT_LINE_TO,se.DRAWING_COMMANDS=se.HORIZ_LINE_TO|se.VERT_LINE_TO|se.LINE_TO|se.CURVE_TO|se.SMOOTH_CURVE_TO|se.QUAD_TO|se.SMOOTH_QUAD_TO|se.ARC,se})(ue),je=((ce={})[oe.MOVE_TO]=2,ce[oe.LINE_TO]=2,ce[oe.HORIZ_LINE_TO]=1,ce[oe.VERT_LINE_TO]=1,ce[oe.CLOSE_PATH]=0,ce[oe.QUAD_TO]=4,ce[oe.SMOOTH_QUAD_TO]=2,ce[oe.CURVE_TO]=6,ce[oe.SMOOTH_CURVE_TO]=4,ce[oe.ARC]=7,ce)}),"./src/plugin/hyperlinks.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.link.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var f=o("./src/worker.js"),p=o("./src/utils.js"),m=[],x={toContainer:f.default.prototype.toContainer,toPdf:f.default.prototype.toPdf};f.default.prototype.toContainer=function(){return x.toContainer.call(this).then(function(){if(this.opt.enableLinks){var y=this.prop.container,T=y.querySelectorAll("a"),R=(0,p.unitConvert)(y.getBoundingClientRect(),this.prop.pageSize.k);m=[],Array.prototype.forEach.call(T,function(z){for(var X=z.getClientRects(),Y=0;Y<X.length;Y++){var Q=(0,p.unitConvert)(X[Y],this.prop.pageSize.k);Q.left-=R.left,Q.top-=R.top;var K=Math.floor(Q.top/this.prop.pageSize.inner.height)+1,ce=this.opt.margin[0]+Q.top%this.prop.pageSize.inner.height,ue=this.opt.margin[1]+Q.left;m.push({page:K,top:ce,left:ue,clientRect:Q,link:z})}},this)}})},f.default.prototype.toPdf=function(){return x.toPdf.call(this).then(function(){if(this.opt.enableLinks){m.forEach(function(T){this.prop.pdf.setPage(T.page),this.prop.pdf.link(T.left,T.top,T.clientRect.width,T.clientRect.height,{url:T.link.href})},this);var y=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(y)}})}}),"./src/plugin/jspdf-plugin.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var f=o("./node_modules/jspdf/dist/jspdf.es.min.js");function p(m){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},p(m)}f.jsPDF.getPageSize=function(m,x,b){if(p(m)==="object"){var j=m;m=j.orientation,x=j.unit||x,b=j.format||b}x=x||"mm",b=b||"a4",m=(""+(m||"P")).toLowerCase();var y=(""+b).toLowerCase(),T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(x){case"pt":var R=1;break;case"mm":var R=72/25.4;break;case"cm":var R=72/2.54;break;case"in":var R=72;break;case"px":var R=72/96;break;case"pc":var R=12;break;case"em":var R=12;break;case"ex":var R=6;break;default:throw"Invalid unit: "+x}if(T.hasOwnProperty(y))var z=T[y][1]/R,X=T[y][0]/R;else try{var z=b[1],X=b[0]}catch{throw new Error("Invalid format: "+b)}if(m==="p"||m==="portrait"){if(m="p",X>z){var Y=X;X=z,z=Y}}else if(m==="l"||m==="landscape"){if(m="l",z>X){var Y=X;X=z,z=Y}}else throw"Invalid orientation: "+m;var Q={width:X,height:z,unit:x,k:R};return Q},A.default=f.jsPDF}),"./src/plugin/pagebreaks.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var f=o("./src/worker.js"),p=o("./src/utils.js"),m={toContainer:f.default.prototype.toContainer};f.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},f.default.prototype.toContainer=function(){return m.toContainer.call(this).then(function(){var j=this.prop.container,y=this.prop.pageSize.inner.px.height,T=[].concat(this.opt.pagebreak.mode),R={avoidAll:T.indexOf("avoid-all")!==-1,css:T.indexOf("css")!==-1,legacy:T.indexOf("legacy")!==-1},z={},X=this;["before","after","avoid"].forEach(function(K){var ce=R.avoidAll&&K==="avoid";z[K]=ce?[]:[].concat(X.opt.pagebreak[K]||[]),z[K].length>0&&(z[K]=Array.prototype.slice.call(j.querySelectorAll(z[K].join(", "))))});var Y=j.querySelectorAll(".html2pdf__page-break");Y=Array.prototype.slice.call(Y);var Q=j.querySelectorAll("*");Array.prototype.forEach.call(Q,function(ce){var ue={before:!1,after:R.legacy&&Y.indexOf(ce)!==-1,avoid:R.avoidAll};if(R.css){var Ne=window.getComputedStyle(ce),le=["always","page","left","right"],Ce=["avoid","avoid-page"];ue={before:ue.before||le.indexOf(Ne.breakBefore||Ne.pageBreakBefore)!==-1,after:ue.after||le.indexOf(Ne.breakAfter||Ne.pageBreakAfter)!==-1,avoid:ue.avoid||Ce.indexOf(Ne.breakInside||Ne.pageBreakInside)!==-1}}Object.keys(ue).forEach(function(re){ue[re]=ue[re]||z[re].indexOf(ce)!==-1});var oe=ce.getBoundingClientRect();if(ue.avoid&&!ue.before){var je=Math.floor(oe.top/y),Ae=Math.floor(oe.bottom/y),se=Math.abs(oe.bottom-oe.top)/y;Ae!==je&&se<=1&&(ue.before=!0)}if(ue.before){var pe=(0,p.createElement)("div",{style:{display:"block",height:y-oe.top%y+"px"}});ce.parentNode.insertBefore(pe,ce)}if(ue.after){var pe=(0,p.createElement)("div",{style:{display:"block",height:y-oe.bottom%y+"px"}});ce.parentNode.insertBefore(pe,ce.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(d,A,o){o.r(A),o.d(A,{deepCloneBasic:function(){return b}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.regexp.test.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.set.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/esnext.set.add-all.js"),o("./node_modules/core-js/modules/esnext.set.delete-all.js"),o("./node_modules/core-js/modules/esnext.set.difference.js"),o("./node_modules/core-js/modules/esnext.set.every.js"),o("./node_modules/core-js/modules/esnext.set.filter.js"),o("./node_modules/core-js/modules/esnext.set.find.js"),o("./node_modules/core-js/modules/esnext.set.intersection.js"),o("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),o("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),o("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),o("./node_modules/core-js/modules/esnext.set.join.js"),o("./node_modules/core-js/modules/esnext.set.map.js"),o("./node_modules/core-js/modules/esnext.set.reduce.js"),o("./node_modules/core-js/modules/esnext.set.some.js"),o("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),o("./node_modules/core-js/modules/esnext.set.union.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function f(j,y){var T=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!T){if(Array.isArray(j)||(T=p(j))||y){T&&(j=T);var R=0,z=function(){};return{s:z,n:function(){return R>=j.length?{done:!0}:{done:!1,value:j[R++]}},e:function(ce){throw ce},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X,Y=!0,Q=!1;return{s:function(){T=T.call(j)},n:function(){var ce=T.next();return Y=ce.done,ce},e:function(ce){Q=!0,X=ce},f:function(){try{Y||T.return==null||T.return()}finally{if(Q)throw X}}}}function p(j,y){if(j){if(typeof j=="string")return m(j,y);var T={}.toString.call(j).slice(8,-1);return T==="Object"&&j.constructor&&(T=j.constructor.name),T==="Map"||T==="Set"?Array.from(j):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?m(j,y):void 0}}function m(j,y){(y==null||y>j.length)&&(y=j.length);for(var T=0,R=Array(y);T<y;T++)R[T]=j[T];return R}function x(j,y){try{var T=j.currentSrc||j.src||"";if(!T)return;y.setAttribute("src",T),y.removeAttribute("srcset"),y.removeAttribute("sizes"),y.loading="eager",y.decoding="sync"}catch{}}function b(j){if(!j)throw new Error("Invalid node");var y=new Set,T=null;if(j.nodeType===Node.TEXT_NODE||j.nodeType!==Node.ELEMENT_NODE)return j.cloneNode(!0);if(j.tagName==="IFRAME"){var R=document.createElement("div");return R.style.cssText="width:".concat(j.offsetWidth,"px;height:").concat(j.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),R}if(j.tagName==="CANVAS"){var z=j.toDataURL(),X=document.createElement("img");return X.src=z,X.width=j.width,X.height=j.height,X}var Y;try{Y=j.cloneNode(!1),j.tagName==="IMG"&&x(j,Y)}catch(Lt){throw console.error("[Snapdom] Failed to clone node:",j,Lt),Lt}if(j instanceof HTMLTextAreaElement){Y.textContent=j.value,Y.value=j.value;var Q=j.getBoundingClientRect();return Y.style.boxSizing="border-box",Y.style.width="".concat(Q.width,"px"),Y.style.height="".concat(Q.height,"px"),Y}if(j instanceof HTMLInputElement&&(j.hasAttribute("value")&&(Y.value=j.value,Y.setAttribute("value",j.value)),j.checked!==void 0&&(Y.checked=j.checked,j.checked&&Y.setAttribute("checked",""),j.indeterminate&&(Y.indeterminate=j.indeterminate))),j instanceof HTMLSelectElement&&(T=j.value),j.shadowRoot){var K=Array.from(j.shadowRoot.querySelectorAll("slot")).length>0;if(!K){var ce=document.createDocumentFragment(),ue=f(j.shadowRoot.childNodes),Ne;try{for(ue.s();!(Ne=ue.n()).done;){var le=Ne.value;if(!(le.nodeType===Node.ELEMENT_NODE&&le.tagName==="STYLE")){var Ce=b(le);Ce&&ce.appendChild(Ce)}}}catch(Lt){ue.e(Lt)}finally{ue.f()}Y.appendChild(ce)}}if(j.tagName==="SLOT"){var oe,je=((oe=j.assignedNodes)===null||oe===void 0?void 0:oe.call(j,{flatten:!0}))||[],Ae=je.length>0?je:Array.from(j.childNodes),se=document.createDocumentFragment(),pe=f(Ae),re;try{for(pe.s();!(re=pe.n()).done;){var Ee=re.value,De=b(Ee);De&&se.appendChild(De)}}catch(Lt){pe.e(Lt)}finally{pe.f()}return se}var Se=f(j.childNodes),fe;try{for(Se.s();!(fe=Se.n()).done;){var be=fe.value;if(!y.has(be)){var he=b(be);he&&Y.appendChild(he)}}}catch(Lt){Se.e(Lt)}finally{Se.f()}if(T!==null&&Y instanceof HTMLSelectElement){Y.value=T;var te=f(Y.options),ge;try{for(te.s();!(ge=te.n()).done;){var Le=ge.value;Le.value===T?Le.setAttribute("selected",""):Le.removeAttribute("selected")}}catch(Lt){te.e(Lt)}finally{te.f()}}var Ve=j.scrollLeft,kt=j.scrollTop,Bt=Ve||kt;if(Bt&&Y instanceof HTMLElement){Y.style.overflow="hidden",Y.style.scrollbarWidth="none",Y.style.msOverflowStyle="none";var We=document.createElement("div");for(We.style.transform="translate(".concat(-Ve,"px, ").concat(-kt,"px)"),We.style.willChange="transform",We.style.display="inline-block",We.style.width="100%";Y.firstChild;)We.appendChild(Y.firstChild);Y.appendChild(We)}return Y}}),"./src/utils.js":(function(d,A,o){o.r(A),o.d(A,{createElement:function(){return x},objType:function(){return m},toPx:function(){return j},unitConvert:function(){return b}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var f=o("./node_modules/dompurify/dist/purify.es.mjs");function p(y){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},p(y)}var m=function(T){var R=p(T);return R==="undefined"?"undefined":R==="string"||T instanceof String?"string":R==="number"||T instanceof Number?"number":R==="function"||T instanceof Function?"function":T&&T.constructor===Array?"array":T&&T.nodeType===1?"element":R==="object"?"object":"unknown"},x=function(T,R){var z=document.createElement(T);R.className&&(z.className=R.className),R.innerHTML&&(z.innerHTML=f.default.sanitize(R.innerHTML));for(var X in R.style)z.style[X]=R.style[X];return z},b=function(T,R){if(m(T)==="number")return T*72/96/R;var z={};for(var X in T)z[X]=T[X]*72/96/R;return z},j=function(T,R){return Math.floor(T*R/72*96)}}),"./src/worker.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/esnext.iterator.map.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/web.timers.js");var f=o("./node_modules/jspdf/dist/jspdf.es.min.js"),p=o("html2canvas"),m=o.n(p),x=o("./src/snapdom/clone.js"),b=o("./src/utils.js"),j=function y(T){var R=Object.assign(y.convert(Promise.resolve()),JSON.parse(JSON.stringify(y.template))),z=y.convert(Promise.resolve(),R);return z=z.setProgress(1,y,1,[y]),z=z.set(T),z};j.prototype=Object.create(Promise.prototype),j.prototype.constructor=j,j.convert=function(T,R){return T.__proto__=R||j.prototype,T},j.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},j.prototype.from=function(T,R){function z(X){switch((0,b.objType)(X)){case"string":return"string";case"element":return X.nodeName.toLowerCase&&X.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(R=R||z(T),R){case"string":return this.set({src:(0,b.createElement)("div",{innerHTML:T})});case"element":return this.set({src:T});case"canvas":return this.set({canvas:T});case"img":return this.set({img:T});default:return this.error("Unknown source type.")}})},j.prototype.to=function(T){switch(T){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},j.prototype.toContainer=function(){var T=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(T).then(function(){var z={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},X={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};z.opacity=0;var Y=(0,x.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,b.createElement)("div",{className:"html2pdf__overlay",style:z}),this.prop.container=(0,b.createElement)("div",{className:"html2pdf__container",style:X}),this.prop.container.appendChild(Y),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(Q){return setTimeout(Q,10)})})},j.prototype.toCanvas=function(){var T=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(T).then(function(){var z=Object.assign({},this.opt.html2canvas);return delete z.onrendered,m()(this.prop.container,z)}).then(function(z){var X=this.opt.html2canvas.onrendered||function(){};X(z),this.prop.canvas=z,document.body.removeChild(this.prop.overlay)})},j.prototype.toImg=function(){var T=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(T).then(function(){var z=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=z})},j.prototype.toPdf=function(){var T=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(T).then(function(){var z=this.prop.canvas,X=this.opt,Y=z.height,Q=Math.floor(z.width*this.prop.pageSize.inner.ratio),K=Math.ceil(Y/Q),ce=this.prop.pageSize.inner.height,ue=document.createElement("canvas"),Ne=ue.getContext("2d");ue.width=z.width,ue.height=Q,this.prop.pdf=this.prop.pdf||new f.jsPDF(X.jsPDF);for(var le=0;le<K;le++){le===K-1&&Y%Q!==0&&(ue.height=Y%Q,ce=ue.height*this.prop.pageSize.inner.width/ue.width);var Ce=ue.width,oe=ue.height;Ne.fillStyle="white",Ne.fillRect(0,0,Ce,oe),Ne.drawImage(z,0,le*Q,Ce,oe,0,0,Ce,oe),le&&this.prop.pdf.addPage();var je=ue.toDataURL("image/"+X.image.type,X.image.quality);this.prop.pdf.addImage(je,X.image.type,X.margin[1],X.margin[0],this.prop.pageSize.inner.width,ce)}})},j.prototype.output=function(T,R,z){return z=z||"pdf",z.toLowerCase()==="img"||z.toLowerCase()==="image"?this.outputImg(T,R):this.outputPdf(T,R)},j.prototype.outputPdf=function(T,R){var z=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(z).then(function(){return this.prop.pdf.output(T,R)})},j.prototype.outputImg=function(T,R){var z=[function(){return this.prop.img||this.toImg()}];return this.thenList(z).then(function(){switch(T){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+T+'" is not supported.'}})},j.prototype.save=function(T){var R=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(R).set(T?{filename:T}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},j.prototype.set=function(T){if((0,b.objType)(T)!=="object")return this;var R=Object.keys(T||{}).map(function(z){switch(z){case"margin":return this.setMargin.bind(this,T.margin);case"jsPDF":return function(){return this.opt.jsPDF=T.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,T.pageSize);default:return z in j.template.prop?function(){this.prop[z]=T[z]}:function(){this.opt[z]=T[z]}}},this);return this.then(function(){return this.thenList(R)})},j.prototype.get=function(T,R){return this.then(function(){var X=T in j.template.prop?this.prop[T]:this.opt[T];return R?R(X):X})},j.prototype.setMargin=function(T){return this.then(function(){switch((0,b.objType)(T)){case"number":T=[T,T,T,T];case"array":if(T.length===2&&(T=[T[0],T[1],T[0],T[1]]),T.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=T}).then(this.setPageSize)},j.prototype.setPageSize=function(T){return this.then(function(){T=T||f.jsPDF.getPageSize(this.opt.jsPDF),T.hasOwnProperty("inner")||(T.inner={width:T.width-this.opt.margin[1]-this.opt.margin[3],height:T.height-this.opt.margin[0]-this.opt.margin[2]},T.inner.px={width:(0,b.toPx)(T.inner.width,T.k),height:(0,b.toPx)(T.inner.height,T.k)},T.inner.ratio=T.inner.height/T.inner.width),this.prop.pageSize=T})},j.prototype.setProgress=function(T,R,z,X){return T!=null&&(this.progress.val=T),R!=null&&(this.progress.state=R),z!=null&&(this.progress.n=z),X!=null&&(this.progress.stack=X),this.progress.ratio=this.progress.val/this.progress.state,this},j.prototype.updateProgress=function(T,R,z,X){return this.setProgress(T?this.progress.val+T:null,R||null,z?this.progress.n+z:null,X?this.progress.stack.concat(X):null)},j.prototype.then=function(T,R){var z=this;return this.thenCore(T,R,function(Y,Q){return z.updateProgress(null,null,1,[Y]),Promise.prototype.then.call(this,function(ce){return z.updateProgress(null,Y),ce}).then(Y,Q).then(function(ce){return z.updateProgress(1),ce})})},j.prototype.thenCore=function(T,R,z){z=z||Promise.prototype.then;var X=this;T&&(T=T.bind(X)),R&&(R=R.bind(X));var Y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",Q=Y?X:j.convert(Object.assign({},X),Promise.prototype),K=z.call(Q,T,R);return j.convert(K,X.__proto__)},j.prototype.thenExternal=function(T,R){return Promise.prototype.then.call(this,T,R)},j.prototype.thenList=function(T){var R=this;return T.forEach(function(X){R=R.thenCore(X)}),R},j.prototype.catch=function(y){y&&(y=y.bind(this));var T=Promise.prototype.catch.call(this,y);return j.convert(T,this)},j.prototype.catchExternal=function(T){return Promise.prototype.catch.call(this,T)},j.prototype.error=function(T){return this.then(function(){throw new Error(T)})},j.prototype.using=j.prototype.set,j.prototype.saveAs=j.prototype.save,j.prototype.export=j.prototype.output,j.prototype.run=j.prototype.then,A.default=j}),html2canvas:(function(d){d.exports=r})},a={};function l(d){var A=a[d];if(A!==void 0)return A.exports;if(n[d]===void 0){var o=new Error("Cannot find module '"+d+"'");throw o.code="MODULE_NOT_FOUND",o}var f=a[d]={exports:{}};return n[d].call(f.exports,f,f.exports,l),f.exports}(function(){l.n=function(d){var A=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(A,{a:A}),A}})(),(function(){var d=Object.getPrototypeOf?function(o){return Object.getPrototypeOf(o)}:function(o){return o.__proto__},A;l.t=function(o,f){if(f&1&&(o=this(o)),f&8||typeof o=="object"&&o&&(f&4&&o.__esModule||f&16&&typeof o.then=="function"))return o;var p=Object.create(null);l.r(p);var m={};A=A||[null,d({}),d([]),d(d)];for(var x=f&2&&o;(typeof x=="object"||typeof x=="function")&&!~A.indexOf(x);x=d(x))Object.getOwnPropertyNames(x).forEach(function(b){m[b]=function(){return o[b]}});return m.default=function(){return o},l.d(p,m),p}})(),(function(){l.d=function(d,A){for(var o in A)l.o(A,o)&&!l.o(d,o)&&Object.defineProperty(d,o,{enumerable:!0,get:A[o]})}})(),(function(){l.o=function(d,A){return Object.prototype.hasOwnProperty.call(d,A)}})(),(function(){l.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})}})();var u={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/l.r(u);var d=l("./src/worker.js");l("./src/plugin/jspdf-plugin.js"),l("./src/plugin/pagebreaks.js"),l("./src/plugin/hyperlinks.js");var A=function o(f,p){var m=new o.Worker(p);return f?m.from(f).save():m};A.Worker=d.default,u.default=A})(),u=u.default,u})()})})(mb)),mb.exports}var SP=BP();const EP=Vg(SP),TP=()=>{const s=$l(),e=W.useRef(null),{t:r}=Eo(["receipt","common"]),[n]=W.useState(()=>new URLSearchParams(window.location.search).get("order_id")),[a,l]=W.useState(null),[u,d]=W.useState(!0),[A,o]=W.useState(!1),[f,p]=W.useState(null),[m,x]=W.useState(!1),[b,j]=W.useState(null),y=(Ne,le="success")=>{j({message:Ne,type:le}),setTimeout(()=>j(null),3e3)};W.useEffect(()=>{if(!n){p(r("receipt:errors.orderNotFound")),d(!1);return}T(),setTimeout(()=>R(),2e3)},[n]);const T=async()=>{try{const Ne=await fetch(`${It}/api/payment/order/${n}`,{credentials:"include"});if(Ne.ok)l(await Ne.json());else{const le=await Ne.json();p(le.error||r("receipt:errors.loadFailed"))}}catch{p(r("receipt:errors.networkError"))}finally{d(!1)}},R=async()=>{if(n){o(!0);try{(await(await fetch(`${It}/api/payment/verify-order/${n}`,{method:"POST",credentials:"include"})).json()).success&&await T()}catch{console.error("Verification failed")}finally{o(!1)}}},z=()=>{s("/billing")},X=()=>{window.print()},Y=()=>{const Ne=document.getElementById("receipt-container");if(!Ne)return;x(!0),Ne.classList.add("download-mode");const le={margin:.3,filename:`GogoTrip_Receipt_${(a==null?void 0:a.order.orderReference)||"download"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,scrollY:0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"},pagebreak:{mode:"avoid-all"}};EP().set(le).from(Ne).save().then(()=>{Ne.classList.remove("download-mode"),x(!1),y(r("receipt:messages.downloadSuccess"))}).catch(Ce=>{console.error("PDF generation failed:",Ce),Ne.classList.remove("download-mode"),x(!1),y(r("receipt:messages.downloadFailed"),"error")})},Q=({status:Ne})=>{const le={paid:{icon:t.jsx(Bo,{className:"w-5 h-5"}),text:r("receipt:status.paymentSuccessful"),bgColor:"bg-emerald-50 dark:bg-emerald-900/20",textColor:"text-emerald-700 dark:text-emerald-400"},active:{icon:t.jsx(Bo,{className:"w-5 h-5"}),text:r("receipt:status.paymentSuccessful"),bgColor:"bg-emerald-50",textColor:"text-emerald-700"},pending:{icon:t.jsx(Vi,{className:"w-5 h-5"}),text:r("receipt:status.paymentPending"),bgColor:"bg-amber-50 dark:bg-amber-900/20",textColor:"text-amber-700 dark:text-amber-400"},failed:{icon:t.jsx(hu,{className:"w-5 h-5"}),text:r("receipt:status.paymentFailed"),bgColor:"bg-red-50 dark:bg-red-900/20",textColor:"text-red-700 dark:text-red-400"},cancelled:{icon:t.jsx(hu,{className:"w-5 h-5"}),text:r("receipt:status.paymentCancelled"),bgColor:"bg-slate-50 dark:bg-slate-900/20",textColor:"text-slate-700 dark:text-slate-400"}},Ce=le[Ne]||le.pending;return t.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${Ce.bgColor} ${Ce.textColor} font-medium`,children:[Ce.icon,t.jsx("span",{children:Ce.text})]})};if(u)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950",children:t.jsx(Fr,{className:"w-12 h-12 text-blue-600 animate-spin"})});if(f||!a)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950 p-6",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-8 max-w-md w-full border border-slate-200 dark:border-slate-800 text-center",children:[t.jsx(Ia,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold mb-2 dark:text-white",children:r("receipt:errors.error")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:f||r("receipt:errors.orderNotFound")}),t.jsxs("button",{onClick:z,className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 flex items-center gap-2 mx-auto",children:[t.jsx(rA,{className:"w-5 h-5"})," ",r("receipt:actions.backToBilling")]})]})});const{order:K,plan:ce,user:ue}=a;return t.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 py-8 px-4 relative animate-fade-in-up",children:[b&&t.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[100] flex items-center gap-3 px-5 py-3 rounded-full shadow-2xl animate-fade-in-down transition-all ${b.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/80 dark:text-red-100 dark:border-red-800 backdrop-blur-md":b.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/80 dark:text-emerald-100 dark:border-emerald-800 backdrop-blur-md":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800/80 dark:text-white dark:border-slate-700 backdrop-blur-md"}`,children:[b.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):b.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(El,{className:"w-5 h-5 text-sky-500"}),t.jsx("span",{className:"font-bold text-sm",children:b.message}),t.jsx("button",{onClick:()=>j(null),className:"ml-2 hover:opacity-70 p-1 bg-black/5 rounded-full",children:t.jsx(qr,{className:"w-3 h-3"})})]}),A&&t.jsxs("div",{className:"fixed top-4 right-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4 shadow-lg z-50 flex items-center gap-3",children:[t.jsx(Fr,{className:"w-5 h-5 text-blue-600 animate-spin"}),t.jsx("p",{className:"text-blue-700 dark:text-blue-400 font-medium",children:r("receipt:actions.verifying")})]}),t.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex flex-wrap gap-4 print:hidden",children:[t.jsxs("button",{onClick:z,className:"px-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-50 transition-colors flex items-center gap-2",children:[t.jsx(rA,{className:"w-5 h-5"})," ",r("receipt:actions.backToBilling")]}),K.status==="pending"&&t.jsxs("button",{onClick:R,disabled:A,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[t.jsx(cd,{className:`w-5 h-5 ${A?"animate-spin":""}`})," ",r("receipt:actions.refreshStatus")]}),t.jsx("div",{className:"flex-1"}),t.jsxs("button",{onClick:X,className:"px-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-50 transition-colors flex items-center gap-2",children:[t.jsx(kE,{className:"w-5 h-5"})," ",r("receipt:actions.print")]}),t.jsxs("button",{onClick:Y,disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-70",children:[m?t.jsx(Fr,{className:"w-5 h-5 animate-spin"}):t.jsx(Xp,{className:"w-5 h-5"})," ",r("receipt:actions.downloadPdf")]})]}),t.jsxs("div",{id:"receipt-container",ref:e,className:"max-w-4xl mx-auto bg-white dark:bg-slate-900 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-800 overflow-hidden print:shadow-none print:border-slate-400",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-8 header-section",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:r("receipt:header.title")}),t.jsx("p",{className:"text-blue-100",children:r("receipt:header.subtitle")})]})}),t.jsx("div",{className:"flex justify-center",children:t.jsx(Q,{status:K.status})})]}),t.jsxs("div",{className:"p-8 content-section",children:[t.jsxs("div",{className:"mb-8 info-group",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(p5,{className:"w-5 h-5"})," ",r("receipt:sections.orderInfo")]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 grid-section",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.customerName")}),t.jsx("div",{className:"font-medium dark:text-white",children:ue.name})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.email")}),t.jsx("div",{className:"font-medium dark:text-white",children:ue.email})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.orderReference")}),t.jsx("div",{className:"font-mono text-sm font-medium dark:text-white",children:K.orderReference})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.orderDate")}),t.jsx("div",{className:"font-medium dark:text-white",children:new Date(K.createdAt).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-8 mb-8 info-group",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:r("receipt:sections.subscriptionDetails")}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-6 sub-card",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:ce.name}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:ce.description})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["RM ",K.amount.toFixed(2)]})})]}),K.status==="active"&&K.startDate&&t.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-4",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.validFrom")}),t.jsx("div",{className:"font-medium dark:text-white",children:new Date(K.startDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:r("receipt:fields.validUntil")}),t.jsx("div",{className:"font-medium dark:text-white",children:K.endDate?new Date(K.endDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"}):t.jsx("span",{className:"text-amber-600 font-bold",children:r("receipt:fields.lifetime")})})]})]})})]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-8 info-group",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:r("receipt:pricing.subtotal")}),t.jsxs("span",{className:"font-medium dark:text-white",children:["RM ",K.amount.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:r("receipt:pricing.tax")}),t.jsx("span",{className:"font-medium dark:text-white",children:"RM 0.00"})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-4 flex justify-between items-center",children:[t.jsx("span",{className:"text-xl font-bold dark:text-white",children:r("receipt:pricing.total")}),t.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["RM ",K.amount.toFixed(2)]})]})]}),t.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-200 dark:border-slate-800 text-center footer-section",children:[t.jsx("p",{className:"text-sm text-slate-500 mb-2",children:r("receipt:footer.thankYou")}),t.jsx("p",{className:"text-xs text-slate-400",children:r("receipt:footer.support")})]})]})]}),t.jsx("style",{children:`
        /* DOWNLOAD MODE */
        .download-mode .header-section { padding: 1.5rem !important; }
        .download-mode .content-section { padding: 1.5rem !important; }
        .download-mode .info-group { margin-bottom: 1rem !important; padding-top: 1rem !important; }
        .download-mode .sub-card { padding: 1rem !important; }
        .download-mode .grid-section { gap: 0.5rem !important; }
        .download-mode h1 { font-size: 1.5rem !important; margin-bottom: 0.25rem !important; }
        .download-mode h2 { font-size: 1.1rem !important; margin-bottom: 0.5rem !important; }
        .download-mode .text-3xl { font-size: 1.5rem !important; }
        .download-mode .text-2xl { font-size: 1.25rem !important; }
        .download-mode .text-xl { font-size: 1.125rem !important; }
        .download-mode .text-lg { font-size: 1rem !important; }
        .download-mode .text-base { font-size: 0.875rem !important; }
        .download-mode .footer-section { margin-top: 1.5rem !important; padding-top: 1rem !important; }

        /* PRINT MODE */
        @media print {
          body { 
            -webkit-print-color-adjust: exact !important; 
            print-color-adjust: exact !important; 
            background-color: white !important; 
            height: 100vh;
            overflow: hidden;
          }
          
          body * { visibility: hidden; }
          #receipt-container, #receipt-container * { visibility: visible; }
          
          #receipt-container {
            position: absolute !important;
            left: 50% !important;
            top: 20px !important; 
            transform: translateX(-50%) scale(0.85) !important;
            transform-origin: top center !important;
            
            width: 800px !important;
            max-width: 100% !important;
            
            margin: 0 !important;
            padding: 0 !important;
            border: 1px solid #e2e8f0 !important;
            box-shadow: none !important;
          }

          #receipt-container .header-section { padding: 1.5rem !important; }
          #receipt-container .content-section { padding: 1.5rem !important; }
          #receipt-container .info-group { margin-bottom: 0.5rem !important; padding-top: 0.5rem !important; }
          #receipt-container .sub-card { padding: 0.8rem !important; }
          #receipt-container h1 { font-size: 1.8rem !important; margin-bottom: 5px !important; }
          #receipt-container h2 { font-size: 1.2rem !important; margin-bottom: 5px !important; }
          
          @page { size: auto; margin: 0mm; } 
        }
      `})]})},W5=({category:s="announcement"})=>{const e={announcement:{icon:t.jsx(eA,{className:"w-3 h-3"}),color:"blue",label:"Announcement"},promotion:{icon:t.jsx(xf,{className:"w-3 h-3"}),color:"purple",label:"Promotion"},update:{icon:t.jsx(Ao,{className:"w-3 h-3"}),color:"green",label:"Update"},alert:{icon:t.jsx(qo,{className:"w-3 h-3"}),color:"red",label:"Alert"}},{icon:r,color:n,label:a}=e[s]||e.announcement,l={blue:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",purple:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",green:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",red:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"};return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${l[n]}`,children:[r,a]})},UP=({audience:s="all"})=>{const e={all:{icon:t.jsx(Ld,{className:"w-3 h-3"}),label:"All Users"},premium:{icon:t.jsx(Kd,{className:"w-3 h-3"}),label:"Premium"},free:{icon:t.jsx(Ld,{className:"w-3 h-3"}),label:"Free Users"},new_users:{icon:t.jsx(Ao,{className:"w-3 h-3"}),label:"New Users"}},{icon:r,label:n}=e[s]||e.all;return t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800",children:[r,n]})},FP=({content:s})=>{const e=(r,n)=>{if(r.startsWith("### "))return t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mt-6 mb-2",children:r.slice(4)},n);if(r.startsWith("## "))return t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mt-8 mb-3",children:r.slice(3)},n);if(r.startsWith("# "))return t.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-8 mb-4",children:r.slice(2)},n);if(r.startsWith("- ")||r.startsWith("* "))return t.jsx("li",{className:"ml-4 text-slate-700 dark:text-slate-300 mb-1 list-disc",children:r.slice(2)},n);if(r.trim()==="")return t.jsx("div",{className:"h-4"},n);let a=r.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/__(.*?)__/g,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 dark:text-blue-400 hover:underline" target="_blank" rel="noopener noreferrer">$1</a>');return t.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-3 leading-relaxed",dangerouslySetInnerHTML:{__html:a}},n)};return t.jsx("div",{className:"prose-custom",children:s.split(`
`).map((r,n)=>e(r,n))})},LP=()=>{const s=$l(),[e,r]=W.useState([]),[n,a]=W.useState(!0),[l,u]=W.useState(null);W.useEffect(()=>{d()},[]);const d=async()=>{try{const A=await fetch(`${It}/api/announcements`,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch announcements");const o=await A.json();r(o.announcements||[])}catch{u("Unable to load announcements")}finally{a(!1)}};return n?t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Fr,{className:"w-8 h-8 animate-spin text-sky-600"})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto space-y-6 animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("button",{onClick:()=>s(-1),className:"md:hidden",children:t.jsx(rA,{className:"w-5 h-5 text-slate-500"})}),t.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-3",children:[t.jsx(eA,{className:"w-6 h-6 md:w-8 md:h-8 text-sky-600"}),"Announcements"]})]}),l?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-red-500 gap-2",children:[t.jsx(Ia,{className:"w-8 h-8"}),t.jsx("p",{children:l})]}):e.length===0?t.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800",children:[t.jsx(Au,{className:"w-16 h-16 text-slate-200 dark:text-slate-700 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500",children:"No announcements available at the moment."})]}):t.jsx("div",{className:"space-y-4",children:e.map(A=>t.jsx("div",{onClick:()=>s(`/announcements/${A.id}`),className:"bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-200 dark:border-slate-800 hover:shadow-lg hover:border-sky-300 dark:hover:border-sky-700 hover:-translate-y-0.5 transition-all cursor-pointer group",children:t.jsxs("div",{className:"flex gap-4",children:[A.coverImage?t.jsx("img",{src:A.coverImage,alt:"",className:"w-24 h-24 rounded-xl object-cover shrink-0"}):t.jsx("div",{className:"w-24 h-24 rounded-xl bg-gradient-to-br from-sky-100 to-sky-50 dark:from-sky-900/30 dark:to-slate-800 flex items-center justify-center shrink-0",children:t.jsx(eA,{className:"w-8 h-8 text-sky-500"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"flex items-center gap-2 mb-2",children:t.jsx(W5,{category:A.category})}),t.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-white group-hover:text-sky-600 dark:group-hover:text-sky-400 transition-colors truncate",children:A.title}),A.subtitle&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate mt-1",children:A.subtitle}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 text-xs text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(co,{className:"w-3 h-3"}),new Date(A.createdAt).toLocaleDateString()]}),A.views!==void 0&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(io,{className:"w-3 h-3"}),A.views," views"]})]})]}),t.jsx(hc,{className:"w-5 h-5 text-slate-300 dark:text-slate-600 group-hover:text-sky-500 group-hover:translate-x-1 transition-all self-center"})]})},A.id))})]})},MP=()=>{var m;const{id:s}=Gg(),e=$l(),[r,n]=W.useState(null),[a,l]=W.useState(!0),[u,d]=W.useState(null);W.useEffect(()=>{A()},[s]);const A=async()=>{try{const x=await fetch(`${It}/api/announcements/${s}`,{credentials:"include"});if(!x.ok)throw new Error("Not found");const b=await x.json();n(b.announcement)}catch{d("Announcement not found or has expired.")}finally{l(!1)}},o=async()=>{if(!r)return;const x=window.location.href;if(navigator.share)try{await navigator.share({title:r.title,url:x})}catch{}else await navigator.clipboard.writeText(x),alert("Link copied to clipboard!")},f=()=>{r!=null&&r.ctaLink&&(r.ctaLink.startsWith("http")?window.open(r.ctaLink,"_blank"):e(r.ctaLink))};if(a)return t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Fr,{className:"w-8 h-8 animate-spin text-sky-600"})});if(u||!r)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] gap-4",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:t.jsx(Au,{className:"w-8 h-8 text-slate-400"})}),t.jsx("p",{className:"text-slate-500",children:u||"Announcement not found"}),t.jsx("button",{onClick:()=>e("/announcements"),className:"text-sky-600 font-medium hover:underline",children:"Back to list"})]});const p=()=>{switch(r.ctaStyle){case"secondary":return"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return"bg-gradient-to-r from-sky-500 to-sky-600 text-white hover:from-sky-600 hover:to-sky-700"}};return t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto space-y-6 animate-fade-in-up",children:[t.jsxs("button",{onClick:()=>e("/announcements"),className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-sky-600 dark:hover:text-white transition-colors",children:[t.jsx(rA,{className:"w-4 h-4"}),"Back to announcements"]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[(r.bannerImage||r.coverImage)&&t.jsx("div",{className:"h-48 md:h-64 overflow-hidden",children:t.jsx("img",{src:r.bannerImage||r.coverImage,alt:r.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[t.jsx(W5,{category:r.category}),t.jsx(UP,{audience:r.targetAudience}),r.priority===2&&t.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs font-medium rounded",children:" Urgent"})]}),t.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white mb-2",children:r.title}),r.subtitle&&t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-4",children:r.subtitle}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx(co,{className:"w-4 h-4"}),new Date(r.createdAt).toLocaleDateString()]}),r.views!==void 0&&t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx(io,{className:"w-4 h-4"}),r.views.toLocaleString()," views"]}),r.endAt&&t.jsxs("span",{className:"flex items-center gap-1.5 text-orange-500",children:[t.jsx(Vi,{className:"w-4 h-4"}),"Expires: ",new Date(r.endAt).toLocaleDateString()]})]})]})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 md:p-8",children:r.contentType==="html"?t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:r.content}}):r.contentType==="markdown"?t.jsx(FP,{content:r.content}):t.jsx("div",{className:"whitespace-pre-wrap text-slate-700 dark:text-slate-300 leading-relaxed",children:r.content})}),(r.ctaText||r.ctaLink)&&t.jsx("div",{className:"bg-gradient-to-r from-slate-100 to-slate-50 dark:from-slate-800/50 dark:to-slate-900/50 rounded-3xl p-6 md:p-8 border border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Ready to take action?"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:r.category==="promotion"?"Don't miss this opportunity!":"Click the button to proceed"})]}),t.jsxs("button",{onClick:f,className:`px-8 py-4 rounded-2xl font-semibold transition-all flex items-center gap-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 ${p()}`,children:[r.ctaText||"Learn More",(m=r.ctaLink)!=null&&m.startsWith("http")?t.jsx(op,{className:"w-4 h-4"}):t.jsx(hc,{className:"w-4 h-4"})]})]})}),t.jsx("div",{className:"flex items-center justify-center pb-8",children:t.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-6 py-3 text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:[t.jsx(K0,{className:"w-4 h-4"})," Share this announcement"]})})]})},OP=({blog:s,onClick:e})=>t.jsxs("div",{onClick:e,className:"group cursor-pointer bg-white dark:bg-slate-800 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-slate-100 dark:border-slate-700",children:[t.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.coverImage?t.jsx("img",{src:s.coverImage,alt:s.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500"}),t.jsx("div",{className:"absolute top-4 left-4",children:t.jsx("span",{className:"px-3 py-1 bg-black/50 backdrop-blur-md text-white text-xs font-bold rounded-full uppercase tracking-wider",children:s.category})})]}),t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden flex items-center justify-center",children:s.authorAvatar?t.jsx("img",{src:s.authorAvatar,alt:s.authorName,className:"w-full h-full object-cover"}):t.jsx(Xo,{className:"w-4 h-4 text-slate-500"})}),t.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:s.authorName}),t.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:""}),t.jsx("span",{className:"text-xs text-slate-400",children:s.publishedAt?new Date(s.publishedAt).toLocaleDateString():"Draft"})]}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 line-clamp-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:s.title}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm line-clamp-2 mb-4",children:s.excerpt}),t.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-4 text-slate-400 text-xs font-medium",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(io,{className:"w-4 h-4"}),s.views]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(bf,{className:`w-4 h-4 ${s.isLiked?"fill-rose-500 text-rose-500":""}`}),s.likesCount]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(mu,{className:"w-4 h-4"}),s.commentsCount]})]})})]})]}),Zn=({className:s="",variant:e="text",width:r,height:n,animation:a="pulse"})=>{const l={text:"rounded",circular:"rounded-full",rectangular:"rounded-none",rounded:"rounded-xl"},u={pulse:"animate-pulse",wave:"animate-shimmer bg-gradient-to-r from-slate-200 via-slate-100 to-slate-200 dark:from-slate-700 dark:via-slate-600 dark:to-slate-700 bg-[length:200%_100%]",none:""},d={};return r&&(d.width=typeof r=="number"?`${r}px`:r),n&&(d.height=typeof n=="number"?`${n}px`:n),t.jsx("div",{className:`
        bg-slate-200 dark:bg-slate-700
        ${l[e]}
        ${u[a]}
        ${s}
      `,style:d})},IP=({className:s=""})=>t.jsxs("div",{className:`max-w-4xl mx-auto p-6 md:p-8 space-y-8 ${s}`,children:[t.jsx(Zn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Zn,{variant:"rounded",className:"w-full h-64 md:h-96"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Zn,{variant:"rounded",className:"w-20 h-6"}),t.jsx(Zn,{variant:"text",className:"w-32 h-4"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Zn,{variant:"text",className:"w-full h-10"}),t.jsx(Zn,{variant:"text",className:"w-3/4 h-10"})]}),t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(Zn,{variant:"circular",className:"w-14 h-14"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(Zn,{variant:"text",className:"w-32 h-5"}),t.jsx(Zn,{variant:"text",className:"w-48 h-4"})]}),t.jsx(Zn,{variant:"rounded",className:"w-24 h-10"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-11/12 h-5"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-4/5 h-5"}),t.jsx("div",{className:"py-4"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-3/4 h-5"}),t.jsx("div",{className:"py-4"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-5/6 h-5"}),t.jsx(Zn,{variant:"text",className:"w-full h-5"}),t.jsx(Zn,{variant:"text",className:"w-2/3 h-5"})]}),t.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[t.jsx(Zn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Zn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Zn,{variant:"rounded",className:"w-24 h-10"})]}),t.jsxs("div",{className:"space-y-6 pt-8",children:[t.jsx(Zn,{variant:"text",className:"w-40 h-8"}),t.jsx(Zn,{variant:"rounded",className:"w-full h-24"}),[1,2,3].map(e=>t.jsxs("div",{className:"flex gap-4 p-4 bg-slate-50 dark:bg-slate-800/30 rounded-xl",children:[t.jsx(Zn,{variant:"circular",className:"w-10 h-10 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zn,{variant:"text",className:"w-24 h-4"}),t.jsx(Zn,{variant:"text",className:"w-20 h-3"})]}),t.jsx(Zn,{variant:"text",className:"w-full h-4"}),t.jsx(Zn,{variant:"text",className:"w-4/5 h-4"})]})]},e))]})]});function Sc(s){this.content=s}Sc.prototype={constructor:Sc,find:function(s){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===s)return e;return-1},get:function(s){var e=this.find(s);return e==-1?void 0:this.content[e+1]},update:function(s,e,r){var n=r&&r!=s?this.remove(r):this,a=n.find(s),l=n.content.slice();return a==-1?l.push(r||s,e):(l[a+1]=e,r&&(l[a]=r)),new Sc(l)},remove:function(s){var e=this.find(s);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Sc(r)},addToStart:function(s,e){return new Sc([s,e].concat(this.remove(s).content))},addToEnd:function(s,e){var r=this.remove(s).content.slice();return r.push(s,e),new Sc(r)},addBefore:function(s,e,r){var n=this.remove(e),a=n.content.slice(),l=n.find(s);return a.splice(l==-1?a.length:l,0,e,r),new Sc(a)},forEach:function(s){for(var e=0;e<this.content.length;e+=2)s(this.content[e],this.content[e+1])},prepend:function(s){return s=Sc.from(s),s.size?new Sc(s.content.concat(this.subtract(s).content)):this},append:function(s){return s=Sc.from(s),s.size?new Sc(this.subtract(s).content.concat(s.content)):this},subtract:function(s){var e=this;s=Sc.from(s);for(var r=0;r<s.content.length;r+=2)e=e.remove(s.content[r]);return e},toObject:function(){var s={};return this.forEach(function(e,r){s[e]=r}),s},get size(){return this.content.length>>1}};Sc.from=function(s){if(s instanceof Sc)return s;var e=[];if(s)for(var r in s)e.push(r,s[r]);return new Sc(e)};function Y5(s,e,r){for(let n=0;;n++){if(n==s.childCount||n==e.childCount)return s.childCount==e.childCount?null:r;let a=s.child(n),l=e.child(n);if(a==l){r+=a.nodeSize;continue}if(!a.sameMarkup(l))return r;if(a.isText&&a.text!=l.text){for(let u=0;a.text[u]==l.text[u];u++)r++;return r}if(a.content.size||l.content.size){let u=Y5(a.content,l.content,r+1);if(u!=null)return u}r+=a.nodeSize}}function X5(s,e,r,n){for(let a=s.childCount,l=e.childCount;;){if(a==0||l==0)return a==l?null:{a:r,b:n};let u=s.child(--a),d=e.child(--l),A=u.nodeSize;if(u==d){r-=A,n-=A;continue}if(!u.sameMarkup(d))return{a:r,b:n};if(u.isText&&u.text!=d.text){let o=0,f=Math.min(u.text.length,d.text.length);for(;o<f&&u.text[u.text.length-o-1]==d.text[d.text.length-o-1];)o++,r--,n--;return{a:r,b:n}}if(u.content.size||d.content.size){let o=X5(u.content,d.content,r-1,n-1);if(o)return o}r-=A,n-=A}}class Gs{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,a=0,l){for(let u=0,d=0;d<r;u++){let A=this.content[u],o=d+A.nodeSize;if(o>e&&n(A,a+d,l||null,u)!==!1&&A.content.size){let f=d+1;A.nodesBetween(Math.max(0,e-f),Math.min(A.content.size,r-f),n,a+f)}d=o}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,a){let l="",u=!0;return this.nodesBetween(e,r,(d,A)=>{let o=d.isText?d.text.slice(Math.max(e,A)-A,r-A):d.isLeaf?a?typeof a=="function"?a(d):a:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&o||d.isTextblock)&&n&&(u?u=!1:l+=n),l+=o},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,a=this.content.slice(),l=0;for(r.isText&&r.sameMarkup(n)&&(a[a.length-1]=r.withText(r.text+n.text),l=1);l<e.content.length;l++)a.push(e.content[l]);return new Gs(a,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],a=0;if(r>e)for(let l=0,u=0;u<r;l++){let d=this.content[l],A=u+d.nodeSize;A>e&&((u<e||A>r)&&(d.isText?d=d.cut(Math.max(0,e-u),Math.min(d.text.length,r-u)):d=d.cut(Math.max(0,e-u-1),Math.min(d.content.size,r-u-1))),n.push(d),a+=d.nodeSize),u=A}return new Gs(n,a)}cutByIndex(e,r){return e==r?Gs.empty:e==0&&r==this.content.length?this:new Gs(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let a=this.content.slice(),l=this.size+r.nodeSize-n.nodeSize;return a[e]=r,new Gs(a,l)}addToStart(e){return new Gs([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Gs(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let a=this.content[r];e(a,n,r),n+=a.nodeSize}}findDiffStart(e,r=0){return Y5(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return X5(this,e,r,n)}findIndex(e){if(e==0)return o0(0,e);if(e==this.size)return o0(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let a=this.child(r),l=n+a.nodeSize;if(l>=e)return l==e?o0(r+1,l):o0(r,n);n=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Gs.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Gs(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Gs.empty;let r,n=0;for(let a=0;a<e.length;a++){let l=e[a];n+=l.nodeSize,a&&l.isText&&e[a-1].sameMarkup(l)?(r||(r=e.slice(0,a)),r[r.length-1]=l.withText(r[r.length-1].text+l.text)):r&&r.push(l)}return new Gs(r||e,n)}static from(e){if(!e)return Gs.empty;if(e instanceof Gs)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Gs([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Gs.empty=new Gs([],0);const gb={index:0,offset:0};function o0(s,e){return gb.index=s,gb.offset=e,gb}function eg(s,e){if(s===e)return!0;if(!(s&&typeof s=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(s);if(Array.isArray(e)!=r)return!1;if(r){if(s.length!=e.length)return!1;for(let n=0;n<s.length;n++)if(!eg(s[n],e[n]))return!1}else{for(let n in s)if(!(n in e)||!eg(s[n],e[n]))return!1;for(let n in e)if(!(n in s))return!1}return!0}let zi=class hv{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let a=0;a<e.length;a++){let l=e[a];if(this.eq(l))return e;if(this.type.excludes(l.type))r||(r=e.slice(0,a));else{if(l.type.excludes(this.type))return e;!n&&l.type.rank>this.type.rank&&(r||(r=e.slice(0,a)),r.push(this),n=!0),r&&r.push(l)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&eg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let a=n.create(r.attrs);return n.checkAttrs(a.attrs),a}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return hv.none;if(e instanceof hv)return[e];let r=e.slice();return r.sort((n,a)=>n.type.rank-a.type.rank),r}};zi.none=[];class tg extends Error{}class Mr{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=Z5(this.content,e+this.openStart,r);return n&&new Mr(n,this.openStart,this.openEnd)}removeBetween(e,r){return new Mr(J5(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return Mr.empty;let n=r.openStart||0,a=r.openEnd||0;if(typeof n!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Mr(Gs.fromJSON(e,r.content),n,a)}static maxOpen(e,r=!0){let n=0,a=0;for(let l=e.firstChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.firstChild)n++;for(let l=e.lastChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.lastChild)a++;return new Mr(e,n,a)}}Mr.empty=new Mr(Gs.empty,0,0);function J5(s,e,r){let{index:n,offset:a}=s.findIndex(e),l=s.maybeChild(n),{index:u,offset:d}=s.findIndex(r);if(a==e||l.isText){if(d!=r&&!s.child(u).isText)throw new RangeError("Removing non-flat range");return s.cut(0,e).append(s.cut(r))}if(n!=u)throw new RangeError("Removing non-flat range");return s.replaceChild(n,l.copy(J5(l.content,e-a-1,r-a-1)))}function Z5(s,e,r,n){let{index:a,offset:l}=s.findIndex(e),u=s.maybeChild(a);if(l==e||u.isText)return n&&!n.canReplace(a,a,r)?null:s.cut(0,e).append(r).append(s.cut(e));let d=Z5(u.content,e-l-1,r,u);return d&&s.replaceChild(a,u.copy(d))}function DP(s,e,r){if(r.openStart>s.depth)throw new tg("Inserted content deeper than insertion position");if(s.depth-r.openStart!=e.depth-r.openEnd)throw new tg("Inconsistent open depths");return q5(s,e,r,0)}function q5(s,e,r,n){let a=s.index(n),l=s.node(n);if(a==e.index(n)&&n<s.depth-r.openStart){let u=q5(s,e,r,n+1);return l.copy(l.content.replaceChild(a,u))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&s.depth==n&&e.depth==n){let u=s.parent,d=u.content;return ff(u,d.cut(0,s.parentOffset).append(r.content).append(d.cut(e.parentOffset)))}else{let{start:u,end:d}=RP(r,s);return ff(l,tN(s,u,d,e,n))}else return ff(l,sg(s,e,n))}function eN(s,e){if(!e.type.compatibleContent(s.type))throw new tg("Cannot join "+e.type.name+" onto "+s.type.name)}function fv(s,e,r){let n=s.node(r);return eN(n,e.node(r)),n}function hf(s,e){let r=e.length-1;r>=0&&s.isText&&s.sameMarkup(e[r])?e[r]=s.withText(e[r].text+s.text):e.push(s)}function em(s,e,r,n){let a=(e||s).node(r),l=0,u=e?e.index(r):a.childCount;s&&(l=s.index(r),s.depth>r?l++:s.textOffset&&(hf(s.nodeAfter,n),l++));for(let d=l;d<u;d++)hf(a.child(d),n);e&&e.depth==r&&e.textOffset&&hf(e.nodeBefore,n)}function ff(s,e){return s.type.checkContent(e),s.copy(e)}function tN(s,e,r,n,a){let l=s.depth>a&&fv(s,e,a+1),u=n.depth>a&&fv(r,n,a+1),d=[];return em(null,s,a,d),l&&u&&e.index(a)==r.index(a)?(eN(l,u),hf(ff(l,tN(s,e,r,n,a+1)),d)):(l&&hf(ff(l,sg(s,e,a+1)),d),em(e,r,a,d),u&&hf(ff(u,sg(r,n,a+1)),d)),em(n,null,a,d),new Gs(d)}function sg(s,e,r){let n=[];if(em(null,s,r,n),s.depth>r){let a=fv(s,e,r+1);hf(ff(a,sg(s,e,r+1)),n)}return em(e,null,r,n),new Gs(n)}function RP(s,e){let r=e.depth-s.openStart,a=e.node(r).copy(s.content);for(let l=r-1;l>=0;l--)a=e.node(l).copy(Gs.from(a));return{start:a.resolveNoCache(s.openStart+r),end:a.resolveNoCache(a.content.size-s.openEnd-r)}}class mm{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],a=e.child(r);return n?e.child(r).cut(n):a}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],a=r==0?0:this.path[r*3-1]+1;for(let l=0;l<e;l++)a+=n.child(l).nodeSize;return a}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return zi.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),a=e.maybeChild(r);if(!n){let d=n;n=a,a=d}let l=n.marks;for(var u=0;u<l.length;u++)l[u].type.spec.inclusive===!1&&(!a||!l[u].isInSet(a.marks))&&(l=l[u--].removeFromSet(l));return l}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,a=e.parent.maybeChild(e.index());for(var l=0;l<n.length;l++)n[l].type.spec.inclusive===!1&&(!a||!n[l].isInSet(a.marks))&&(n=n[l--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new rg(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],a=0,l=r;for(let u=e;;){let{index:d,offset:A}=u.content.findIndex(l),o=l-A;if(n.push(u,d,a+A),!o||(u=u.child(d),u.isText))break;l=o-1,a+=A+1}return new mm(r,n,l)}static resolveCached(e,r){let n=r2.get(e);if(n)for(let l=0;l<n.elts.length;l++){let u=n.elts[l];if(u.pos==r)return u}else r2.set(e,n=new PP);let a=n.elts[n.i]=mm.resolve(e,r);return n.i=(n.i+1)%QP,a}}class PP{constructor(){this.elts=[],this.i=0}}const QP=12,r2=new WeakMap;class rg{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const _P=Object.create(null);let Th=class pv{constructor(e,r,n,a=zi.none){this.type=e,this.attrs=r,this.marks=a,this.content=n||Gs.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,a=0){this.content.nodesBetween(e,r,n,a,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,a){return this.content.textBetween(e,r,n,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&eg(this.attrs,r||e.defaultAttrs||_P)&&zi.sameSet(this.marks,n||zi.none)}copy(e=null){return e==this.content?this:new pv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new pv(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return Mr.empty;let a=this.resolve(e),l=this.resolve(r),u=n?0:a.sharedDepth(r),d=a.start(u),o=a.node(u).content.cut(a.pos-d,l.pos-d);return new Mr(o,a.depth-u,l.depth-u)}replace(e,r,n){return DP(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:a}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(a==e||r.isText)return r;e-=a+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let a=this.content.child(r-1);return{node:a,index:r-1,offset:n-a.nodeSize}}resolve(e){return mm.resolveCached(this,e)}resolveNoCache(e){return mm.resolve(this,e)}rangeHasMark(e,r,n){let a=!1;return r>e&&this.nodesBetween(e,r,l=>(n.isInSet(l.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),sN(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Gs.empty,a=0,l=n.childCount){let u=this.contentMatchAt(e).matchFragment(n,a,l),d=u&&u.matchFragment(this.content,r);if(!d||!d.validEnd)return!1;for(let A=a;A<l;A++)if(!this.type.allowsMarks(n.child(A).marks))return!1;return!0}canReplaceWith(e,r,n,a){if(a&&!this.type.allowsMarks(a))return!1;let l=this.contentMatchAt(e).matchType(n),u=l&&l.matchFragment(this.content,r);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=zi.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!zi.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let a=Gs.fromJSON(e,r.content),l=e.nodeType(r.type).create(r.attrs,a,n);return l.type.checkAttrs(l.attrs),l}};Th.prototype.text=void 0;class ng extends Th{constructor(e,r,n,a){if(super(e,r,null,a),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):sN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ng(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ng(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function sN(s,e){for(let r=s.length-1;r>=0;r--)e=s[r].type.name+"("+e+")";return e}class yf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new HP(e,r);if(n.next==null)return yf.empty;let a=rN(n);n.next&&n.err("Unexpected trailing text");let l=YP(WP(a));return XP(l,n),l}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let a=this;for(let l=r;a&&l<n;l++)a=a.matchType(e.child(l).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let a=[this];function l(u,d){let A=u.matchFragment(e,n);if(A&&(!r||A.validEnd))return Gs.from(d.map(o=>o.createAndFill()));for(let o=0;o<u.next.length;o++){let{type:f,next:p}=u.next[o];if(!(f.isText||f.hasRequiredAttrs())&&a.indexOf(p)==-1){a.push(p);let m=l(p,d.concat(f));if(m)return m}}return null}return l(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let a=n.shift(),l=a.match;if(l.matchType(e)){let u=[];for(let d=a;d.type;d=d.via)u.push(d.type);return u.reverse()}for(let u=0;u<l.next.length;u++){let{type:d,next:A}=l.next[u];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in r)&&(!a.type||A.validEnd)&&(n.push({match:d.contentMatch,type:d,via:a}),r[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let a=0;a<n.next.length;a++)e.indexOf(n.next[a].next)==-1&&r(n.next[a].next)}return r(this),e.map((n,a)=>{let l=a+(n.validEnd?"*":" ")+" ";for(let u=0;u<n.next.length;u++)l+=(u?", ":"")+n.next[u].type.name+"->"+e.indexOf(n.next[u].next);return l}).join(`
`)}}yf.empty=new yf(!0);class HP{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function rN(s){let e=[];do e.push(zP(s));while(s.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function zP(s){let e=[];do e.push($P(s));while(s.next&&s.next!=")"&&s.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function $P(s){let e=GP(s);for(;;)if(s.eat("+"))e={type:"plus",expr:e};else if(s.eat("*"))e={type:"star",expr:e};else if(s.eat("?"))e={type:"opt",expr:e};else if(s.eat("{"))e=VP(s,e);else break;return e}function n2(s){/\D/.test(s.next)&&s.err("Expected number, got '"+s.next+"'");let e=Number(s.next);return s.pos++,e}function VP(s,e){let r=n2(s),n=r;return s.eat(",")&&(s.next!="}"?n=n2(s):n=-1),s.eat("}")||s.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function KP(s,e){let r=s.nodeTypes,n=r[e];if(n)return[n];let a=[];for(let l in r){let u=r[l];u.isInGroup(e)&&a.push(u)}return a.length==0&&s.err("No node type or group '"+e+"' found"),a}function GP(s){if(s.eat("(")){let e=rN(s);return s.eat(")")||s.err("Missing closing paren"),e}else if(/\W/.test(s.next))s.err("Unexpected token '"+s.next+"'");else{let e=KP(s,s.next).map(r=>(s.inline==null?s.inline=r.isInline:s.inline!=r.isInline&&s.err("Mixing inline and block content"),{type:"name",value:r}));return s.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function WP(s){let e=[[]];return a(l(s,0),r()),e;function r(){return e.push([])-1}function n(u,d,A){let o={term:A,to:d};return e[u].push(o),o}function a(u,d){u.forEach(A=>A.to=d)}function l(u,d){if(u.type=="choice")return u.exprs.reduce((A,o)=>A.concat(l(o,d)),[]);if(u.type=="seq")for(let A=0;;A++){let o=l(u.exprs[A],d);if(A==u.exprs.length-1)return o;a(o,d=r())}else if(u.type=="star"){let A=r();return n(d,A),a(l(u.expr,A),A),[n(A)]}else if(u.type=="plus"){let A=r();return a(l(u.expr,d),A),a(l(u.expr,A),A),[n(A)]}else{if(u.type=="opt")return[n(d)].concat(l(u.expr,d));if(u.type=="range"){let A=d;for(let o=0;o<u.min;o++){let f=r();a(l(u.expr,A),f),A=f}if(u.max==-1)a(l(u.expr,A),A);else for(let o=u.min;o<u.max;o++){let f=r();n(A,f),a(l(u.expr,A),f),A=f}return[n(A)]}else{if(u.type=="name")return[n(d,void 0,u.value)];throw new Error("Unknown expr type")}}}}function nN(s,e){return e-s}function a2(s,e){let r=[];return n(e),r.sort(nN);function n(a){let l=s[a];if(l.length==1&&!l[0].term)return n(l[0].to);r.push(a);for(let u=0;u<l.length;u++){let{term:d,to:A}=l[u];!d&&r.indexOf(A)==-1&&n(A)}}}function YP(s){let e=Object.create(null);return r(a2(s,0));function r(n){let a=[];n.forEach(u=>{s[u].forEach(({term:d,to:A})=>{if(!d)return;let o;for(let f=0;f<a.length;f++)a[f][0]==d&&(o=a[f][1]);a2(s,A).forEach(f=>{o||a.push([d,o=[]]),o.indexOf(f)==-1&&o.push(f)})})});let l=e[n.join(",")]=new yf(n.indexOf(s.length-1)>-1);for(let u=0;u<a.length;u++){let d=a[u][1].sort(nN);l.next.push({type:a[u][0],next:e[d.join(",")]||r(d)})}return l}}function XP(s,e){for(let r=0,n=[s];r<n.length;r++){let a=n[r],l=!a.validEnd,u=[];for(let d=0;d<a.next.length;d++){let{type:A,next:o}=a.next[d];u.push(A.name),l&&!(A.isText||A.hasRequiredAttrs())&&(l=!1),n.indexOf(o)==-1&&n.push(o)}l&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function aN(s){let e=Object.create(null);for(let r in s){let n=s[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function iN(s,e){let r=Object.create(null);for(let n in s){let a=e&&e[n];if(a===void 0){let l=s[n];if(l.hasDefault)a=l.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=a}return r}function oN(s,e,r,n){for(let a in e)if(!(a in s))throw new RangeError(`Unsupported attribute ${a} for ${r} of type ${a}`);for(let a in s){let l=s[a];l.validate&&l.validate(e[a])}}function lN(s,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new ZP(s,n,e[n]);return r}let i2=class cN{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=lN(e,n.attrs),this.defaultAttrs=aN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:iN(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Th(this,this.computeAttrs(e),Gs.from(r),zi.setFrom(n))}createChecked(e=null,r,n){return r=Gs.from(r),this.checkContent(r),new Th(this,this.computeAttrs(e),r,zi.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Gs.from(r),r.size){let u=this.contentMatch.fillBefore(r);if(!u)return null;r=u.append(r)}let a=this.contentMatch.matchFragment(r),l=a&&a.fillBefore(Gs.empty,!0);return l?new Th(this,e,r.append(l),zi.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){oN(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:zi.none:e}static compile(e,r){let n=Object.create(null);e.forEach((l,u)=>n[l]=new cN(l,r,u));let a=r.spec.topNode||"doc";if(!n[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let l in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function JP(s,e,r){let n=r.split("|");return a=>{let l=a===null?"null":typeof a;if(n.indexOf(l)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${s}, got ${l}`)}}class ZP{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?JP(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class lx{constructor(e,r,n,a){this.name=e,this.rank=r,this.schema=n,this.spec=a,this.attrs=lN(e,a.attrs),this.excluded=null;let l=aN(this.attrs);this.instance=l?new zi(this,l):null}create(e=null){return!e&&this.instance?this.instance:new zi(this,iN(this.attrs,e))}static compile(e,r){let n=Object.create(null),a=0;return e.forEach((l,u)=>n[l]=new lx(l,a++,r,u)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){oN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class dN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let a in e)r[a]=e[a];r.nodes=Sc.from(e.nodes),r.marks=Sc.from(e.marks||{}),this.nodes=i2.compile(this.spec.nodes,this),this.marks=lx.compile(this.spec.marks,this);let n=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let l=this.nodes[a],u=l.spec.content||"",d=l.spec.marks;if(l.contentMatch=n[u]||(n[u]=yf.parse(u,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=d=="_"?null:d?o2(this,d.split(" ")):d==""||!l.inlineContent?[]:null}for(let a in this.marks){let l=this.marks[a],u=l.spec.excludes;l.excluded=u==null?[l]:u==""?[]:o2(this,u.split(" "))}this.nodeFromJSON=a=>Th.fromJSON(this,a),this.markFromJSON=a=>zi.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,a){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof i2){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,a)}text(e,r){let n=this.nodes.text;return new ng(n,n.defaultAttrs,e,zi.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function o2(s,e){let r=[];for(let n=0;n<e.length;n++){let a=e[n],l=s.marks[a],u=l;if(l)r.push(l);else for(let d in s.marks){let A=s.marks[d];(a=="_"||A.spec.group&&A.spec.group.split(" ").indexOf(a)>-1)&&r.push(u=A)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function qP(s){return s.tag!=null}function e7(s){return s.style!=null}let tm=class mv{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(a=>{if(qP(a))this.tags.push(a);else if(e7(a)){let l=/[^=]*/.exec(a.style)[0];n.indexOf(l)<0&&n.push(l),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let l=e.nodes[a.node];return l.contentMatch.matchType(l)})}parse(e,r={}){let n=new c2(this,r,!1);return n.addAll(e,zi.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new c2(this,r,!0);return n.addAll(e,zi.none,r.from,r.to),Mr.maxOpen(n.finish())}matchTag(e,r,n){for(let a=n?this.tags.indexOf(n)+1:0;a<this.tags.length;a++){let l=this.tags[a];if(r7(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||r.matchesContext(l.context))){if(l.getAttrs){let u=l.getAttrs(e);if(u===!1)continue;l.attrs=u||void 0}return l}}}matchStyle(e,r,n,a){for(let l=a?this.styles.indexOf(a)+1:0;l<this.styles.length;l++){let u=this.styles[l],d=u.style;if(!(d.indexOf(e)!=0||u.context&&!n.matchesContext(u.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=r))){if(u.getAttrs){let A=u.getAttrs(r);if(A===!1)continue;u.attrs=A||void 0}return u}}}static schemaRules(e){let r=[];function n(a){let l=a.priority==null?50:a.priority,u=0;for(;u<r.length;u++){let d=r[u];if((d.priority==null?50:d.priority)<l)break}r.splice(u,0,a)}for(let a in e.marks){let l=e.marks[a].spec.parseDOM;l&&l.forEach(u=>{n(u=d2(u)),u.mark||u.ignore||u.clearMark||(u.mark=a)})}for(let a in e.nodes){let l=e.nodes[a].spec.parseDOM;l&&l.forEach(u=>{n(u=d2(u)),u.node||u.ignore||u.mark||(u.node=a)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new mv(e,mv.schemaRules(e)))}};const uN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},t7={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},AN={ol:!0,ul:!0},gm=1,gv=2,sm=4;function l2(s,e,r){return e!=null?(e?gm:0)|(e==="full"?gv:0):s&&s.whitespace=="pre"?gm|gv:r&~sm}class l0{constructor(e,r,n,a,l,u){this.type=e,this.attrs=r,this.marks=n,this.solid=a,this.options=u,this.content=[],this.activeMarks=zi.none,this.match=l||(u&sm?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Gs.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,a;return(a=n.findWrapping(e.type))?(this.match=n,a):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&gm)){let n=this.content[this.content.length-1],a;if(n&&n.isText&&(a=/[ \t\r\n\u000c]+$/.exec(n.text))){let l=n;n.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-a[0].length))}}let r=Gs.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Gs.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!uN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class c2{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let a=r.topNode,l,u=l2(null,r.preserveWhitespace,0)|(n?sm:0);a?l=new l0(a.type,a.attrs,zi.none,!0,r.topMatch||a.type.contentMatch,u):n?l=new l0(null,null,zi.none,!0,null,u):l=new l0(e.schema.topNodeType,null,zi.none,!0,null,u),this.nodes=[l],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,a=this.top,l=a.options&gv?"full":this.localPreserveWS||(a.options&gm)>0,{schema:u}=this.parser;if(l==="full"||a.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(l)if(l==="full")n=n.replace(/\r\n?/g,`
`);else if(u.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(u.linebreakReplacement.create())){let d=n.split(/\r?\n|\r/);for(let A=0;A<d.length;A++)A&&this.insertNode(u.linebreakReplacement.create(),r,!0),d[A]&&this.insertNode(u.text(d[A]),r,!/\S/.test(d[A]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let d=a.content[a.content.length-1],A=e.previousSibling;(!d||A&&A.nodeName=="BR"||d.isText&&/[ \t\r\n\u000c]$/.test(d.text))&&(n=n.slice(1))}n&&this.insertNode(u.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let a=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),d;AN.hasOwnProperty(u)&&this.parser.normalizeLists&&s7(e);let A=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,n));e:if(A?A.ignore:t7.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,r);else if(!A||A.skip||A.closeParent){A&&A.closeParent?this.open=Math.max(0,this.open-1):A&&A.skip.nodeType&&(e=A.skip);let o,f=this.needsBlock;if(uN.hasOwnProperty(u))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),o=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let p=A&&A.skip?r:this.readStyles(e,r);p&&this.addAll(e,p),o&&this.sync(l),this.needsBlock=f}else{let o=this.readStyles(e,r);o&&this.addElementByRule(e,A,o,A.consuming===!1?d:void 0)}this.localPreserveWS=a}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let l=this.parser.matchedStyles[a],u=n.getPropertyValue(l);if(u)for(let d=void 0;;){let A=this.parser.matchStyle(l,u,this,d);if(!A)break;if(A.ignore)return null;if(A.clearMark?r=r.filter(o=>!A.clearMark(o)):r=r.concat(this.parser.schema.marks[A.mark].create(A.attrs)),A.consuming===!1)d=A;else break}}return r}addElementByRule(e,r,n,a){let l,u;if(r.node)if(u=this.parser.schema.nodes[r.node],u.isLeaf)this.insertNode(u.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let A=this.enter(u,r.attrs||null,n,r.preserveWhitespace);A&&(l=!0,n=A)}else{let A=this.parser.schema.marks[r.mark];n=n.concat(A.create(r.attrs))}let d=this.top;if(u&&u.isLeaf)this.findInside(e);else if(a)this.addElement(e,n,a);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(A=>this.insertNode(A,n,!1));else{let A=e;typeof r.contentElement=="string"?A=e.querySelector(r.contentElement):typeof r.contentElement=="function"?A=r.contentElement(e):r.contentElement&&(A=r.contentElement),this.findAround(e,A,!0),this.addAll(A,n),this.findAround(e,A,!1)}l&&this.sync(d)&&this.open--}addAll(e,r,n,a){let l=n||0;for(let u=n?e.childNodes[n]:e.firstChild,d=a==null?null:e.childNodes[a];u!=d;u=u.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(u,r);this.findAtPoint(e,l)}findPlace(e,r,n){let a,l;for(let u=this.open,d=0;u>=0;u--){let A=this.nodes[u],o=A.findWrapping(e);if(o&&(!a||a.length>o.length+d)&&(a=o,l=A,!o.length))break;if(A.solid){if(n)break;d+=2}}if(!a)return null;this.sync(l);for(let u=0;u<a.length;u++)r=this.enterInner(a[u],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(r=this.enterInner(l,null,r))}let a=this.findPlace(e,r,n);if(a){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let u=zi.none;for(let d of a.concat(e.marks))(l.type?l.type.allowsMarkType(d.type):u2(d.type,e.type))&&(u=d.addToSet(u));return l.content.push(e.mark(u)),!0}return!1}enter(e,r,n,a){let l=this.findPlace(e.create(r),n,!1);return l&&(l=this.enterInner(e,r,n,!0,a)),l}enterInner(e,r,n,a=!1,l){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let d=l2(e,l,u.options);u.options&sm&&u.content.length==0&&(d|=sm);let A=zi.none;return n=n.filter(o=>(u.type?u.type.allowsMarkType(o.type):u2(o.type,e))?(A=o.addToSet(A),!1):!0),this.nodes.push(new l0(e,r,A,a,null,d)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=gm)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let a=n.length-1;a>=0;a--)e+=n[a].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&r.compareDocumentPosition(this.find[a].node)&(n?2:4)&&(this.find[a].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,a=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),l=-(n?n.depth+1:0)+(a?0:1),u=(d,A)=>{for(;d>=0;d--){let o=r[d];if(o==""){if(d==r.length-1||d==0)continue;for(;A>=l;A--)if(u(d-1,A))return!0;return!1}else{let f=A>0||A==0&&a?this.nodes[A].type:n&&A>=l?n.node(A-l).type:null;if(!f||f.name!=o&&!f.isInGroup(o))return!1;A--}}return!0};return u(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function s7(s){for(let e=s.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&AN.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function r7(s,e){return(s.matches||s.msMatchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector).call(s,e)}function d2(s){let e={};for(let r in s)e[r]=s[r];return e}function u2(s,e){let r=e.schema.nodes;for(let n in r){let a=r[n];if(!a.allowsMarkType(s))continue;let l=[],u=d=>{l.push(d);for(let A=0;A<d.edgeCount;A++){let{type:o,next:f}=d.edge(A);if(o==e||l.indexOf(f)<0&&u(f))return!0}};if(u(a.contentMatch))return!0}}class Bf{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=xb(r).createDocumentFragment());let a=n,l=[];return e.forEach(u=>{if(l.length||u.marks.length){let d=0,A=0;for(;d<l.length&&A<u.marks.length;){let o=u.marks[A];if(!this.marks[o.type.name]){A++;continue}if(!o.eq(l[d][0])||o.type.spec.spanning===!1)break;d++,A++}for(;d<l.length;)a=l.pop()[1];for(;A<u.marks.length;){let o=u.marks[A++],f=this.serializeMark(o,u.isInline,r);f&&(l.push([o,a]),a.appendChild(f.dom),a=f.contentDOM||f.dom)}}a.appendChild(this.serializeNodeInner(u,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:a}=S0(xb(r),this.nodes[e.type.name](e),null,e.attrs);if(a){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,a)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let a=e.marks.length-1;a>=0;a--){let l=this.serializeMark(e.marks[a],e.isInline,r);l&&((l.contentDOM||l.dom).appendChild(n),n=l.dom)}return n}serializeMark(e,r,n={}){let a=this.marks[e.type.name];return a&&S0(xb(n),a(e,r),null,e.attrs)}static renderSpec(e,r,n=null,a){return S0(e,r,n,a)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Bf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=A2(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return A2(e.marks)}}function A2(s){let e={};for(let r in s){let n=s[r].spec.toDOM;n&&(e[r]=n)}return e}function xb(s){return s.document||window.document}const h2=new WeakMap;function n7(s){let e=h2.get(s);return e===void 0&&h2.set(s,e=a7(s)),e}function a7(s){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let a=0;a<n.length;a++)r(n[a]);else for(let a in n)r(n[a])}return r(s),e}function S0(s,e,r,n){if(typeof e=="string")return{dom:s.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let a=e[0],l;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(l=n7(n))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=a.indexOf(" ");u>0&&(r=a.slice(0,u),a=a.slice(u+1));let d,A=r?s.createElementNS(r,a):s.createElement(a),o=e[1],f=1;if(o&&typeof o=="object"&&o.nodeType==null&&!Array.isArray(o)){f=2;for(let p in o)if(o[p]!=null){let m=p.indexOf(" ");m>0?A.setAttributeNS(p.slice(0,m),p.slice(m+1),o[p]):p=="style"&&A.style?A.style.cssText=o[p]:A.setAttribute(p,o[p])}}for(let p=f;p<e.length;p++){let m=e[p];if(m===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:A,contentDOM:A}}else{let{dom:x,contentDOM:b}=S0(s,m,r,n);if(A.appendChild(x),b){if(d)throw new RangeError("Multiple content holes");d=b}}}return{dom:A,contentDOM:d}}const hN=65535,fN=Math.pow(2,16);function i7(s,e){return s+e*fN}function f2(s){return s&hN}function o7(s){return(s-(s&hN))/fN}const pN=1,mN=2,E0=4,gN=8;class xv{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&gN)>0}get deletedBefore(){return(this.delInfo&(pN|E0))>0}get deletedAfter(){return(this.delInfo&(mN|E0))>0}get deletedAcross(){return(this.delInfo&E0)>0}}class Vd{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Vd.empty)return Vd.empty}recover(e){let r=0,n=f2(e);if(!this.inverted)for(let a=0;a<n;a++)r+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[n*3]+r+o7(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let a=0,l=this.inverted?2:1,u=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let A=this.ranges[d]-(this.inverted?a:0);if(A>e)break;let o=this.ranges[d+l],f=this.ranges[d+u],p=A+o;if(e<=p){let m=o?e==A?-1:e==p?1:r:r,x=A+a+(m<0?0:f);if(n)return x;let b=e==(r<0?A:p)?null:i7(d/3,e-A),j=e==A?mN:e==p?pN:E0;return(r<0?e!=A:e!=p)&&(j|=gN),new xv(x,j,b)}a+=f-o}return n?e+a:new xv(e+a,0,null)}touches(e,r){let n=0,a=f2(r),l=this.inverted?2:1,u=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let A=this.ranges[d]-(this.inverted?n:0);if(A>e)break;let o=this.ranges[d+l],f=A+o;if(e<=f&&d==a*3)return!0;n+=this.ranges[d+u]-o}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let a=0,l=0;a<this.ranges.length;a+=3){let u=this.ranges[a],d=u-(this.inverted?l:0),A=u+(this.inverted?0:l),o=this.ranges[a+r],f=this.ranges[a+n];e(d,d+o,A,A+f),l+=f-o}}invert(){return new Vd(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Vd.empty:new Vd(e<0?[0,-e,0]:[0,0,e])}}Vd.empty=new Vd([]);class xm{constructor(e,r,n=0,a=e?e.length:0){this.mirror=r,this.from=n,this.to=a,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new xm(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let a=e.getMirror(r);this.appendMap(e._maps[r],a!=null&&a<r?n+a:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let a=e.getMirror(r);this.appendMap(e._maps[r].invert(),a!=null&&a>r?n-a-1:void 0)}}invert(){let e=new xm;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let a=0;for(let l=this.from;l<this.to;l++){let u=this._maps[l],d=u.mapResult(e,r);if(d.recover!=null){let A=this.getMirror(l);if(A!=null&&A>l&&A<this.to){l=A,e=this._maps[A].recover(d.recover);continue}}a|=d.delInfo,e=d.pos}return n?e:new xv(e,a,null)}}const bb=Object.create(null);class Wc{getMap(){return Vd.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=bb[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in bb)throw new RangeError("Duplicate use of step JSON ID "+e);return bb[e]=r,r.prototype.jsonID=e,r}}class Bl{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Bl(e,null)}static fail(e){return new Bl(null,e)}static fromReplace(e,r,n,a){try{return Bl.ok(e.replace(r,n,a))}catch(l){if(l instanceof tg)return Bl.fail(l.message);throw l}}}function dy(s,e,r){let n=[];for(let a=0;a<s.childCount;a++){let l=s.child(a);l.content.size&&(l=l.copy(dy(l.content,e,l))),l.isInline&&(l=e(l,r,a)),n.push(l)}return Gs.fromArray(n)}class kh extends Wc{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),a=n.node(n.sharedDepth(this.to)),l=new Mr(dy(r.content,(u,d)=>!u.isAtom||!d.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),a),r.openStart,r.openEnd);return Bl.fromReplace(e,this.from,this.to,l)}invert(){return new Fu(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new kh(r.pos,n.pos,this.mark)}merge(e){return e instanceof kh&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new kh(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new kh(r.from,r.to,e.markFromJSON(r.mark))}}Wc.jsonID("addMark",kh);class Fu extends Wc{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new Mr(dy(r.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),r.openStart,r.openEnd);return Bl.fromReplace(e,this.from,this.to,n)}invert(){return new kh(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Fu(r.pos,n.pos,this.mark)}merge(e){return e instanceof Fu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fu(r.from,r.to,e.markFromJSON(r.mark))}}Wc.jsonID("removeMark",Fu);class Ch extends Wc{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Bl.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Bl.fromReplace(e,this.pos,this.pos+1,new Mr(Gs.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let a=0;a<r.marks.length;a++)if(!r.marks[a].isInSet(n))return new Ch(this.pos,r.marks[a]);return new Ch(this.pos,this.mark)}}return new wf(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ch(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ch(r.pos,e.markFromJSON(r.mark))}}Wc.jsonID("addNodeMark",Ch);class wf extends Wc{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Bl.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Bl.fromReplace(e,this.pos,this.pos+1,new Mr(Gs.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Ch(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new wf(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new wf(r.pos,e.markFromJSON(r.mark))}}Wc.jsonID("removeNodeMark",wf);class cc extends Wc{constructor(e,r,n,a=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=a}apply(e){return this.structure&&bv(e,this.from,this.to)?Bl.fail("Structure replace would overwrite content"):Bl.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Vd([this.from,this.to-this.from,this.slice.size])}invert(e){return new cc(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new cc(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof cc)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?Mr.empty:new Mr(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new cc(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?Mr.empty:new Mr(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new cc(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new cc(r.from,r.to,Mr.fromJSON(e,r.slice),!!r.structure)}}Wc.jsonID("replace",cc);class uc extends Wc{constructor(e,r,n,a,l,u,d=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=a,this.slice=l,this.insert=u,this.structure=d}apply(e){if(this.structure&&(bv(e,this.from,this.gapFrom)||bv(e,this.gapTo,this.to)))return Bl.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Bl.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Bl.fromReplace(e,this.from,this.to,n):Bl.fail("Content does not fit in gap")}getMap(){return new Vd([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new uc(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),a=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||a<r.pos||l>n.pos?null:new uc(r.pos,n.pos,a,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new uc(r.from,r.to,r.gapFrom,r.gapTo,Mr.fromJSON(e,r.slice),r.insert,!!r.structure)}}Wc.jsonID("replaceAround",uc);function bv(s,e,r){let n=s.resolve(e),a=r-e,l=n.depth;for(;a>0&&l>0&&n.indexAfter(l)==n.node(l).childCount;)l--,a--;if(a>0){let u=n.node(l).maybeChild(n.indexAfter(l));for(;a>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,a--}}return!1}function l7(s,e,r,n){let a=[],l=[],u,d;s.doc.nodesBetween(e,r,(A,o,f)=>{if(!A.isInline)return;let p=A.marks;if(!n.isInSet(p)&&f.type.allowsMarkType(n.type)){let m=Math.max(o,e),x=Math.min(o+A.nodeSize,r),b=n.addToSet(p);for(let j=0;j<p.length;j++)p[j].isInSet(b)||(u&&u.to==m&&u.mark.eq(p[j])?u.to=x:a.push(u=new Fu(m,x,p[j])));d&&d.to==m?d.to=x:l.push(d=new kh(m,x,n))}}),a.forEach(A=>s.step(A)),l.forEach(A=>s.step(A))}function c7(s,e,r,n){let a=[],l=0;s.doc.nodesBetween(e,r,(u,d)=>{if(!u.isInline)return;l++;let A=null;if(n instanceof lx){let o=u.marks,f;for(;f=n.isInSet(o);)(A||(A=[])).push(f),o=f.removeFromSet(o)}else n?n.isInSet(u.marks)&&(A=[n]):A=u.marks;if(A&&A.length){let o=Math.min(d+u.nodeSize,r);for(let f=0;f<A.length;f++){let p=A[f],m;for(let x=0;x<a.length;x++){let b=a[x];b.step==l-1&&p.eq(a[x].style)&&(m=b)}m?(m.to=o,m.step=l):a.push({style:p,from:Math.max(d,e),to:o,step:l})}}}),a.forEach(u=>s.step(new Fu(u.from,u.to,u.style)))}function uy(s,e,r,n=r.contentMatch,a=!0){let l=s.doc.nodeAt(e),u=[],d=e+1;for(let A=0;A<l.childCount;A++){let o=l.child(A),f=d+o.nodeSize,p=n.matchType(o.type);if(!p)u.push(new cc(d,f,Mr.empty));else{n=p;for(let m=0;m<o.marks.length;m++)r.allowsMarkType(o.marks[m].type)||s.step(new Fu(d,f,o.marks[m]));if(a&&o.isText&&r.whitespace!="pre"){let m,x=/\r?\n|\r/g,b;for(;m=x.exec(o.text);)b||(b=new Mr(Gs.from(r.schema.text(" ",r.allowedMarks(o.marks))),0,0)),u.push(new cc(d+m.index,d+m.index+m[0].length,b))}}d=f}if(!n.validEnd){let A=n.fillBefore(Gs.empty,!0);s.replace(d,d,new Mr(A,0,0))}for(let A=u.length-1;A>=0;A--)s.step(u[A])}function d7(s,e,r){return(e==0||s.canReplace(e,s.childCount))&&(r==s.childCount||s.canReplace(0,r))}function jp(s){let r=s.parent.content.cutByIndex(s.startIndex,s.endIndex);for(let n=s.depth,a=0,l=0;;--n){let u=s.$from.node(n),d=s.$from.index(n)+a,A=s.$to.indexAfter(n)-l;if(n<s.depth&&u.canReplace(d,A,r))return n;if(n==0||u.type.spec.isolating||!d7(u,d,A))break;d&&(a=1),A<u.childCount&&(l=1)}return null}function u7(s,e,r){let{$from:n,$to:a,depth:l}=e,u=n.before(l+1),d=a.after(l+1),A=u,o=d,f=Gs.empty,p=0;for(let b=l,j=!1;b>r;b--)j||n.index(b)>0?(j=!0,f=Gs.from(n.node(b).copy(f)),p++):A--;let m=Gs.empty,x=0;for(let b=l,j=!1;b>r;b--)j||a.after(b+1)<a.end(b)?(j=!0,m=Gs.from(a.node(b).copy(m)),x++):o++;s.step(new uc(A,o,u,d,new Mr(f.append(m),p,x),f.size-p,!0))}function Ay(s,e,r=null,n=s){let a=A7(s,e),l=a&&h7(n,e);return l?a.map(p2).concat({type:e,attrs:r}).concat(l.map(p2)):null}function p2(s){return{type:s,attrs:null}}function A7(s,e){let{parent:r,startIndex:n,endIndex:a}=s,l=r.contentMatchAt(n).findWrapping(e);if(!l)return null;let u=l.length?l[0]:e;return r.canReplaceWith(n,a,u)?l:null}function h7(s,e){let{parent:r,startIndex:n,endIndex:a}=s,l=r.child(n),u=e.contentMatch.findWrapping(l.type);if(!u)return null;let A=(u.length?u[u.length-1]:e).contentMatch;for(let o=n;A&&o<a;o++)A=A.matchType(r.child(o).type);return!A||!A.validEnd?null:u}function f7(s,e,r){let n=Gs.empty;for(let u=r.length-1;u>=0;u--){if(n.size){let d=r[u].type.contentMatch.matchFragment(n);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Gs.from(r[u].type.create(r[u].attrs,n))}let a=e.start,l=e.end;s.step(new uc(a,l,a,l,new Mr(n,0,0),r.length,!0))}function p7(s,e,r,n,a){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=s.steps.length;s.doc.nodesBetween(e,r,(u,d)=>{let A=typeof a=="function"?a(u):a;if(u.isTextblock&&!u.hasMarkup(n,A)&&m7(s.doc,s.mapping.slice(l).map(d),n)){let o=null;if(n.schema.linebreakReplacement){let x=n.whitespace=="pre",b=!!n.contentMatch.matchType(n.schema.linebreakReplacement);x&&!b?o=!1:!x&&b&&(o=!0)}o===!1&&bN(s,u,d,l),uy(s,s.mapping.slice(l).map(d,1),n,void 0,o===null);let f=s.mapping.slice(l),p=f.map(d,1),m=f.map(d+u.nodeSize,1);return s.step(new uc(p,m,p+1,m-1,new Mr(Gs.from(n.create(A,null,u.marks)),0,0),1,!0)),o===!0&&xN(s,u,d,l),!1}})}function xN(s,e,r,n){e.forEach((a,l)=>{if(a.isText){let u,d=/\r?\n|\r/g;for(;u=d.exec(a.text);){let A=s.mapping.slice(n).map(r+1+l+u.index);s.replaceWith(A,A+1,e.type.schema.linebreakReplacement.create())}}})}function bN(s,e,r,n){e.forEach((a,l)=>{if(a.type==a.type.schema.linebreakReplacement){let u=s.mapping.slice(n).map(r+1+l);s.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function m7(s,e,r){let n=s.resolve(e),a=n.index();return n.parent.canReplaceWith(a,a+1,r)}function g7(s,e,r,n,a){let l=s.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");r||(r=l.type);let u=r.create(n,null,a||l.marks);if(l.isLeaf)return s.replaceWith(e,e+l.nodeSize,u);if(!r.validContent(l.content))throw new RangeError("Invalid content for node type "+r.name);s.step(new uc(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new Mr(Gs.from(u),0,0),1,!0))}function RA(s,e,r=1,n){let a=s.resolve(e),l=a.depth-r,u=n&&n[n.length-1]||a.parent;if(l<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!u.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let o=a.depth-1,f=r-2;o>l;o--,f--){let p=a.node(o),m=a.index(o);if(p.type.spec.isolating)return!1;let x=p.content.cutByIndex(m,p.childCount),b=n&&n[f+1];b&&(x=x.replaceChild(0,b.type.create(b.attrs)));let j=n&&n[f]||p;if(!p.canReplace(m+1,p.childCount)||!j.type.validContent(x))return!1}let d=a.indexAfter(l),A=n&&n[0];return a.node(l).canReplaceWith(d,d,A?A.type:a.node(l+1).type)}function x7(s,e,r=1,n){let a=s.doc.resolve(e),l=Gs.empty,u=Gs.empty;for(let d=a.depth,A=a.depth-r,o=r-1;d>A;d--,o--){l=Gs.from(a.node(d).copy(l));let f=n&&n[o];u=Gs.from(f?f.type.create(f.attrs,u):a.node(d).copy(u))}s.step(new cc(e,e,new Mr(l.append(u),r,r),!0))}function Qh(s,e){let r=s.resolve(e),n=r.index();return vN(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function b7(s,e){e.content.size||s.type.compatibleContent(e.type);let r=s.contentMatchAt(s.childCount),{linebreakReplacement:n}=s.type.schema;for(let a=0;a<e.childCount;a++){let l=e.child(a),u=l.type==n?s.type.schema.nodes.text:l.type;if(r=r.matchType(u),!r||!s.type.allowsMarks(l.marks))return!1}return r.validEnd}function vN(s,e){return!!(s&&e&&!s.isLeaf&&b7(s,e))}function cx(s,e,r=-1){let n=s.resolve(e);for(let a=n.depth;;a--){let l,u,d=n.index(a);if(a==n.depth?(l=n.nodeBefore,u=n.nodeAfter):r>0?(l=n.node(a+1),d++,u=n.node(a).maybeChild(d)):(l=n.node(a).maybeChild(d-1),u=n.node(a+1)),l&&!l.isTextblock&&vN(l,u)&&n.node(a).canReplace(d,d+1))return e;if(a==0)break;e=r<0?n.before(a):n.after(a)}}function v7(s,e,r){let n=null,{linebreakReplacement:a}=s.doc.type.schema,l=s.doc.resolve(e-r),u=l.node().type;if(a&&u.inlineContent){let f=u.whitespace=="pre",p=!!u.contentMatch.matchType(a);f&&!p?n=!1:!f&&p&&(n=!0)}let d=s.steps.length;if(n===!1){let f=s.doc.resolve(e+r);bN(s,f.node(),f.before(),d)}u.inlineContent&&uy(s,e+r-1,u,l.node().contentMatchAt(l.index()),n==null);let A=s.mapping.slice(d),o=A.map(e-r);if(s.step(new cc(o,A.map(e+r,-1),Mr.empty,!0)),n===!0){let f=s.doc.resolve(o);xN(s,f.node(),f.before(),s.steps.length)}return s}function y7(s,e,r){let n=s.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let a=n.depth-1;a>=0;a--){let l=n.index(a);if(n.node(a).canReplaceWith(l,l,r))return n.before(a+1);if(l>0)return null}if(n.parentOffset==n.parent.content.size)for(let a=n.depth-1;a>=0;a--){let l=n.indexAfter(a);if(n.node(a).canReplaceWith(l,l,r))return n.after(a+1);if(l<n.node(a).childCount)return null}return null}function yN(s,e,r){let n=s.resolve(e);if(!r.content.size)return e;let a=r.content;for(let l=0;l<r.openStart;l++)a=a.firstChild.content;for(let l=1;l<=(r.openStart==0&&r.size?2:1);l++)for(let u=n.depth;u>=0;u--){let d=u==n.depth?0:n.pos<=(n.start(u+1)+n.end(u+1))/2?-1:1,A=n.index(u)+(d>0?1:0),o=n.node(u),f=!1;if(l==1)f=o.canReplace(A,A,a);else{let p=o.contentMatchAt(A).findWrapping(a.firstChild.type);f=p&&o.canReplaceWith(A,A,p[0])}if(f)return d==0?n.pos:d<0?n.before(u+1):n.after(u+1)}return null}function dx(s,e,r=e,n=Mr.empty){if(e==r&&!n.size)return null;let a=s.resolve(e),l=s.resolve(r);return wN(a,l,n)?new cc(e,r,n):new w7(a,l,n).fit()}function wN(s,e,r){return!r.openStart&&!r.openEnd&&s.start()==e.start()&&s.parent.canReplace(s.index(),e.index(),r.content)}class w7{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Gs.empty;for(let a=0;a<=e.depth;a++){let l=e.node(a);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=Gs.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let o=this.findFittable();o?this.placeNodes(o):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(e<0?this.$to:n.doc.resolve(e));if(!a)return null;let l=this.placed,u=n.depth,d=a.depth;for(;u&&d&&l.childCount==1;)l=l.firstChild.content,u--,d--;let A=new Mr(l,u,d);return e>-1?new uc(n.pos,e,this.$to.pos,this.$to.end(),A,r):A.size||n.pos!=this.$to.pos?new cc(n.pos,a.pos,A):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,a=this.unplaced.openEnd;n<e;n++){let l=r.firstChild;if(r.childCount>1&&(a=0),l.type.spec.isolating&&a<=n){e=n;break}r=l.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let a,l=null;n?(l=vb(this.unplaced.content,n-1).firstChild,a=l.content):a=this.unplaced.content;let u=a.firstChild;for(let d=this.depth;d>=0;d--){let{type:A,match:o}=this.frontier[d],f,p=null;if(r==1&&(u?o.matchType(u.type)||(p=o.fillBefore(Gs.from(u),!1)):l&&A.compatibleContent(l.type)))return{sliceDepth:n,frontierDepth:d,parent:l,inject:p};if(r==2&&u&&(f=o.findWrapping(u.type)))return{sliceDepth:n,frontierDepth:d,parent:l,wrap:f};if(l&&o.matchType(l.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=vb(e,r);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new Mr(e,r+1,Math.max(n,a.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=vb(e,r);if(a.childCount<=1&&r>0){let l=e.size-r<=r+a.size;this.unplaced=new Mr(Kp(e,r-1,1),r-1,l?r-1:n)}else this.unplaced=new Mr(Kp(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:a,wrap:l}){for(;this.depth>r;)this.closeFrontierNode();if(l)for(let j=0;j<l.length;j++)this.openFrontierNode(l[j]);let u=this.unplaced,d=n?n.content:u.content,A=u.openStart-e,o=0,f=[],{match:p,type:m}=this.frontier[r];if(a){for(let j=0;j<a.childCount;j++)f.push(a.child(j));p=p.matchFragment(a)}let x=d.size+e-(u.content.size-u.openEnd);for(;o<d.childCount;){let j=d.child(o),y=p.matchType(j.type);if(!y)break;o++,(o>1||A==0||j.content.size)&&(p=y,f.push(jN(j.mark(m.allowedMarks(j.marks)),o==1?A:0,o==d.childCount?x:-1)))}let b=o==d.childCount;b||(x=-1),this.placed=Gp(this.placed,r,Gs.from(f)),this.frontier[r].match=p,b&&x<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let j=0,y=d;j<x;j++){let T=y.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),y=T.content}this.unplaced=b?e==0?Mr.empty:new Mr(Kp(u.content,e-1,1),e-1,x<0?u.openEnd:e-1):new Mr(Kp(u.content,e,o),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!yb(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,a=this.$to.after(n);for(;n>1&&a==this.$to.end(--n);)++a;return a}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:a}=this.frontier[r],l=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),u=yb(e,r,a,n,l);if(u){for(let d=r-1;d>=0;d--){let{match:A,type:o}=this.frontier[d],f=yb(e,d,o,A,!0);if(!f||f.childCount)continue e}return{depth:r,fit:u,move:l?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Gp(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let a=e.node(n),l=a.type.contentMatch.fillBefore(a.content,!0,e.index(n));this.openFrontierNode(a.type,a.attrs,l)}return e}openFrontierNode(e,r=null,n){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=Gp(this.placed,this.depth,Gs.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Gs.empty,!0);r.childCount&&(this.placed=Gp(this.placed,this.frontier.length,r))}}function Kp(s,e,r){return e==0?s.cutByIndex(r,s.childCount):s.replaceChild(0,s.firstChild.copy(Kp(s.firstChild.content,e-1,r)))}function Gp(s,e,r){return e==0?s.append(r):s.replaceChild(s.childCount-1,s.lastChild.copy(Gp(s.lastChild.content,e-1,r)))}function vb(s,e){for(let r=0;r<e;r++)s=s.firstChild.content;return s}function jN(s,e,r){if(e<=0)return s;let n=s.content;return e>1&&(n=n.replaceChild(0,jN(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=s.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(s.type.contentMatch.matchFragment(n).fillBefore(Gs.empty,!0)))),s.copy(n)}function yb(s,e,r,n,a){let l=s.node(e),u=a?s.indexAfter(e):s.index(e);if(u==l.childCount&&!r.compatibleContent(l.type))return null;let d=n.fillBefore(l.content,!0,u);return d&&!j7(r,l.content,u)?d:null}function j7(s,e,r){for(let n=r;n<e.childCount;n++)if(!s.allowsMarks(e.child(n).marks))return!0;return!1}function N7(s){return s.spec.defining||s.spec.definingForContent}function k7(s,e,r,n){if(!n.size)return s.deleteRange(e,r);let a=s.doc.resolve(e),l=s.doc.resolve(r);if(wN(a,l,n))return s.step(new cc(e,r,n));let u=kN(a,l);u[u.length-1]==0&&u.pop();let d=-(a.depth+1);u.unshift(d);for(let m=a.depth,x=a.pos-1;m>0;m--,x--){let b=a.node(m).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;u.indexOf(m)>-1?d=m:a.before(m)==x&&u.splice(1,0,-m)}let A=u.indexOf(d),o=[],f=n.openStart;for(let m=n.content,x=0;;x++){let b=m.firstChild;if(o.push(b),x==n.openStart)break;m=b.content}for(let m=f-1;m>=0;m--){let x=o[m],b=N7(x.type);if(b&&!x.sameMarkup(a.node(Math.abs(d)-1)))f=m;else if(b||!x.type.isTextblock)break}for(let m=n.openStart;m>=0;m--){let x=(m+f+1)%(n.openStart+1),b=o[x];if(b)for(let j=0;j<u.length;j++){let y=u[(j+A)%u.length],T=!0;y<0&&(T=!1,y=-y);let R=a.node(y-1),z=a.index(y-1);if(R.canReplaceWith(z,z,b.type,b.marks))return s.replace(a.before(y),T?l.after(y):r,new Mr(NN(n.content,0,n.openStart,x),x,n.openEnd))}}let p=s.steps.length;for(let m=u.length-1;m>=0&&(s.replace(e,r,n),!(s.steps.length>p));m--){let x=u[m];x<0||(e=a.before(x),r=l.after(x))}}function NN(s,e,r,n,a){if(e<r){let l=s.firstChild;s=s.replaceChild(0,l.copy(NN(l.content,e+1,r,n,l)))}if(e>n){let l=a.contentMatchAt(0),u=l.fillBefore(s).append(s);s=u.append(l.matchFragment(u).fillBefore(Gs.empty,!0))}return s}function C7(s,e,r,n){if(!n.isInline&&e==r&&s.doc.resolve(e).parent.content.size){let a=y7(s.doc,e,n.type);a!=null&&(e=r=a)}s.replaceRange(e,r,new Mr(Gs.from(n),0,0))}function B7(s,e,r){let n=s.doc.resolve(e),a=s.doc.resolve(r),l=kN(n,a);for(let u=0;u<l.length;u++){let d=l[u],A=u==l.length-1;if(A&&d==0||n.node(d).type.contentMatch.validEnd)return s.delete(n.start(d),a.end(d));if(d>0&&(A||n.node(d-1).canReplace(n.index(d-1),a.indexAfter(d-1))))return s.delete(n.before(d),a.after(d))}for(let u=1;u<=n.depth&&u<=a.depth;u++)if(e-n.start(u)==n.depth-u&&r>n.end(u)&&a.end(u)-r!=a.depth-u&&n.start(u-1)==a.start(u-1)&&n.node(u-1).canReplace(n.index(u-1),a.index(u-1)))return s.delete(n.before(u),r);s.delete(e,r)}function kN(s,e){let r=[],n=Math.min(s.depth,e.depth);for(let a=n;a>=0;a--){let l=s.start(a);if(l<s.pos-(s.depth-a)||e.end(a)>e.pos+(e.depth-a)||s.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(l==e.start(a)||a==s.depth&&a==e.depth&&s.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==l-1)&&r.push(a)}return r}class sp extends Wc{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Bl.fail("No node at attribute step's position");let n=Object.create(null);for(let l in r.attrs)n[l]=r.attrs[l];n[this.attr]=this.value;let a=r.type.create(n,null,r.marks);return Bl.fromReplace(e,this.pos,this.pos+1,new Mr(Gs.from(a),0,r.isLeaf?0:1))}getMap(){return Vd.empty}invert(e){return new sp(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new sp(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new sp(r.pos,r.attr,r.value)}}Wc.jsonID("attr",sp);class bm extends Wc{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let a in e.attrs)r[a]=e.attrs[a];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Bl.ok(n)}getMap(){return Vd.empty}invert(e){return new bm(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new bm(r.attr,r.value)}}Wc.jsonID("docAttr",bm);let up=class extends Error{};up=function s(e){let r=Error.call(this,e);return r.__proto__=s.prototype,r};up.prototype=Object.create(Error.prototype);up.prototype.constructor=up;up.prototype.name="TransformError";class CN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new xm}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new up(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=Mr.empty){let a=dx(this.doc,e,r,n);return a&&this.step(a),this}replaceWith(e,r,n){return this.replace(e,r,new Mr(Gs.from(n),0,0))}delete(e,r){return this.replace(e,r,Mr.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return k7(this,e,r,n),this}replaceRangeWith(e,r,n){return C7(this,e,r,n),this}deleteRange(e,r){return B7(this,e,r),this}lift(e,r){return u7(this,e,r),this}join(e,r=1){return v7(this,e,r),this}wrap(e,r){return f7(this,e,r),this}setBlockType(e,r=e,n,a=null){return p7(this,e,r,n,a),this}setNodeMarkup(e,r,n=null,a){return g7(this,e,r,n,a),this}setNodeAttribute(e,r,n){return this.step(new sp(e,r,n)),this}setDocAttribute(e,r){return this.step(new bm(e,r)),this}addNodeMark(e,r){return this.step(new Ch(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof zi)r.isInSet(n.marks)&&this.step(new wf(e,r));else{let a=n.marks,l,u=[];for(;l=r.isInSet(a);)u.push(new wf(e,l)),a=l.removeFromSet(a);for(let d=u.length-1;d>=0;d--)this.step(u[d])}return this}split(e,r=1,n){return x7(this,e,r,n),this}addMark(e,r,n){return l7(this,e,r,n),this}removeMark(e,r,n){return c7(this,e,r,n),this}clearIncompatible(e,r,n){return uy(this,e,r,n),this}}const wb=Object.create(null);class ha{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new S7(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=Mr.empty){let n=r.content.lastChild,a=null;for(let d=0;d<r.openEnd;d++)a=n,n=n.lastChild;let l=e.steps.length,u=this.ranges;for(let d=0;d<u.length;d++){let{$from:A,$to:o}=u[d],f=e.mapping.slice(l);e.replaceRange(f.map(A.pos),f.map(o.pos),d?Mr.empty:r),d==0&&x2(e,l,(n?n.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:d}=a[l],A=e.mapping.slice(n),o=A.map(u.pos),f=A.map(d.pos);l?e.deleteRange(o,f):(e.replaceRangeWith(o,f,r),x2(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let a=e.parent.inlineContent?new Gn(e):Jf(e.node(0),e.parent,e.pos,e.index(),r,n);if(a)return a;for(let l=e.depth-1;l>=0;l--){let u=r<0?Jf(e.node(0),e.node(l),e.before(l+1),e.index(l),r,n):Jf(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,r,n);if(u)return u}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Yd(e.node(0))}static atStart(e){return Jf(e,e,0,0,1)||new Yd(e)}static atEnd(e){return Jf(e,e,e.content.size,e.childCount,-1)||new Yd(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=wb[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in wb)throw new RangeError("Duplicate use of selection JSON ID "+e);return wb[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Gn.between(this.$anchor,this.$head).getBookmark()}}ha.prototype.visible=!0;class S7{constructor(e,r){this.$from=e,this.$to=r}}let m2=!1;function g2(s){!m2&&!s.parent.inlineContent&&(m2=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+s.parent.type.name+")"))}class Gn extends ha{constructor(e,r=e){g2(e),g2(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return ha.near(n);let a=e.resolve(r.map(this.anchor));return new Gn(a.parent.inlineContent?a:n,n)}replace(e,r=Mr.empty){if(super.replace(e,r),r==Mr.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Gn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ux(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Gn(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let a=e.resolve(r);return new this(a,n==r?a:e.resolve(n))}static between(e,r,n){let a=e.pos-r.pos;if((!n||a)&&(n=a>=0?1:-1),!r.parent.inlineContent){let l=ha.findFrom(r,n,!0)||ha.findFrom(r,-n,!0);if(l)r=l.$head;else return ha.near(r,n)}return e.parent.inlineContent||(a==0?e=r:(e=(ha.findFrom(e,-n,!0)||ha.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=a<0&&(e=r))),new Gn(e,r)}}ha.jsonID("text",Gn);class ux{constructor(e,r){this.anchor=e,this.head=r}map(e){return new ux(e.map(this.anchor),e.map(this.head))}resolve(e){return Gn.between(e.resolve(this.anchor),e.resolve(this.head))}}class wn extends ha{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:a}=r.mapResult(this.anchor),l=e.resolve(a);return n?ha.near(l):new wn(l)}content(){return new Mr(Gs.from(this.node),0,0)}eq(e){return e instanceof wn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new hy(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new wn(e.resolve(r.anchor))}static create(e,r){return new wn(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}wn.prototype.visible=!1;ha.jsonID("node",wn);class hy{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new ux(n,n):new hy(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&wn.isSelectable(n)?new wn(r):ha.near(r)}}class Yd extends ha{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=Mr.empty){if(r==Mr.empty){e.delete(0,e.doc.content.size);let n=ha.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Yd(e)}map(e){return new Yd(e)}eq(e){return e instanceof Yd}getBookmark(){return E7}}ha.jsonID("all",Yd);const E7={map(){return this},resolve(s){return new Yd(s)}};function Jf(s,e,r,n,a,l=!1){if(e.inlineContent)return Gn.create(s,r);for(let u=n-(a>0?0:1);a>0?u<e.childCount:u>=0;u+=a){let d=e.child(u);if(d.isAtom){if(!l&&wn.isSelectable(d))return wn.create(s,r-(a<0?d.nodeSize:0))}else{let A=Jf(s,d,r+a,a<0?d.childCount:0,a,l);if(A)return A}r+=d.nodeSize*a}return null}function x2(s,e,r){let n=s.steps.length-1;if(n<e)return;let a=s.steps[n];if(!(a instanceof cc||a instanceof uc))return;let l=s.mapping.maps[n],u;l.forEach((d,A,o,f)=>{u==null&&(u=f)}),s.setSelection(ha.near(s.doc.resolve(u),r))}const b2=1,c0=2,v2=4;class T7 extends CN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|b2)&~c0,this.storedMarks=null,this}get selectionSet(){return(this.updated&b2)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=c0,this}ensureMarks(e){return zi.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&c0)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~c0,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||zi.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let a=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(a.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let l=this.storedMarks;if(!l){let u=this.doc.resolve(r);l=n==r?u.marks():u.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,a.text(e,l)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(ha.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=v2,this}get scrolledIntoView(){return(this.updated&v2)>0}}function y2(s,e){return!e||!s?s:s.bind(e)}class Wp{constructor(e,r,n){this.name=e,this.init=y2(r.init,n),this.apply=y2(r.apply,n)}}const U7=[new Wp("doc",{init(s){return s.doc||s.schema.topNodeType.createAndFill()},apply(s){return s.doc}}),new Wp("selection",{init(s,e){return s.selection||ha.atStart(e.doc)},apply(s){return s.selection}}),new Wp("storedMarks",{init(s){return s.storedMarks||null},apply(s,e,r,n){return n.selection.$cursor?s.storedMarks:null}}),new Wp("scrollToSelection",{init(){return 0},apply(s,e){return s.scrolledIntoView?e+1:e}})];class jb{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=U7.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Wp(n.key,n.spec.state,n))})}}class tp{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let a=this.config.plugins[n];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),a=null;for(;;){let l=!1;for(let u=0;u<this.config.plugins.length;u++){let d=this.config.plugins[u];if(d.spec.appendTransaction){let A=a?a[u].n:0,o=a?a[u].state:this,f=A<r.length&&d.spec.appendTransaction.call(d,A?r.slice(A):r,o,n);if(f&&n.filterTransaction(f,u)){if(f.setMeta("appendedTransaction",e),!a){a=[];for(let p=0;p<this.config.plugins.length;p++)a.push(p<u?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),l=!0}a&&(a[u]={state:n,n:r.length})}}if(!l)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new tp(this.config),n=this.config.fields;for(let a=0;a<n.length;a++){let l=n[a];r[l.name]=l.apply(e,this[l.name],this,r)}return r}get tr(){return new T7(this)}static create(e){let r=new jb(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new tp(r);for(let a=0;a<r.fields.length;a++)n[r.fields[a].name]=r.fields[a].init(e,n);return n}reconfigure(e){let r=new jb(this.schema,e.plugins),n=r.fields,a=new tp(r);for(let l=0;l<n.length;l++){let u=n[l].name;a[u]=this.hasOwnProperty(u)?this[u]:n[l].init(e,a)}return a}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=e[n],l=a.spec.state;l&&l.toJSON&&(r[n]=l.toJSON.call(a,this[a.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let a=new jb(e.schema,e.plugins),l=new tp(a);return a.fields.forEach(u=>{if(u.name=="doc")l.doc=Th.fromJSON(e.schema,r.doc);else if(u.name=="selection")l.selection=ha.fromJSON(l.doc,r.selection);else if(u.name=="storedMarks")r.storedMarks&&(l.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let d in n){let A=n[d],o=A.spec.state;if(A.key==u.name&&o&&o.fromJSON&&Object.prototype.hasOwnProperty.call(r,d)){l[u.name]=o.fromJSON.call(A,e,r[d],l);return}}l[u.name]=u.init(e,l)}}),l}}function BN(s,e,r){for(let n in s){let a=s[n];a instanceof Function?a=a.bind(e):n=="handleDOMEvents"&&(a=BN(a,e,{})),r[n]=a}return r}class To{constructor(e){this.spec=e,this.props={},e.props&&BN(e.props,this,this.props),this.key=e.key?e.key.key:SN("plugin")}getState(e){return e[this.key]}}const Nb=Object.create(null);function SN(s){return s in Nb?s+"$"+ ++Nb[s]:(Nb[s]=0,s+"$")}class Vl{constructor(e="key"){this.key=SN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const fy=(s,e)=>s.selection.empty?!1:(e&&e(s.tr.deleteSelection().scrollIntoView()),!0);function EN(s,e){let{$cursor:r}=s.selection;return!r||(e?!e.endOfTextblock("backward",s):r.parentOffset>0)?null:r}const TN=(s,e,r)=>{let n=EN(s,r);if(!n)return!1;let a=py(n);if(!a){let u=n.blockRange(),d=u&&jp(u);return d==null?!1:(e&&e(s.tr.lift(u,d).scrollIntoView()),!0)}let l=a.nodeBefore;if(PN(s,a,e,-1))return!0;if(n.parent.content.size==0&&(Ap(l,"end")||wn.isSelectable(l)))for(let u=n.depth;;u--){let d=dx(s.doc,n.before(u),n.after(u),Mr.empty);if(d&&d.slice.size<d.to-d.from){if(e){let A=s.tr.step(d);A.setSelection(Ap(l,"end")?ha.findFrom(A.doc.resolve(A.mapping.map(a.pos,-1)),-1):wn.create(A.doc,a.pos-l.nodeSize)),e(A.scrollIntoView())}return!0}if(u==1||n.node(u-1).childCount>1)break}return l.isAtom&&a.depth==n.depth-1?(e&&e(s.tr.delete(a.pos-l.nodeSize,a.pos).scrollIntoView()),!0):!1},F7=(s,e,r)=>{let n=EN(s,r);if(!n)return!1;let a=py(n);return a?UN(s,a,e):!1},L7=(s,e,r)=>{let n=LN(s,r);if(!n)return!1;let a=my(n);return a?UN(s,a,e):!1};function UN(s,e,r){let n=e.nodeBefore,a=n,l=e.pos-1;for(;!a.isTextblock;l--){if(a.type.spec.isolating)return!1;let f=a.lastChild;if(!f)return!1;a=f}let u=e.nodeAfter,d=u,A=e.pos+1;for(;!d.isTextblock;A++){if(d.type.spec.isolating)return!1;let f=d.firstChild;if(!f)return!1;d=f}let o=dx(s.doc,l,A,Mr.empty);if(!o||o.from!=l||o instanceof cc&&o.slice.size>=A-l)return!1;if(r){let f=s.tr.step(o);f.setSelection(Gn.create(f.doc,l)),r(f.scrollIntoView())}return!0}function Ap(s,e,r=!1){for(let n=s;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const FN=(s,e,r)=>{let{$head:n,empty:a}=s.selection,l=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",s):n.parentOffset>0)return!1;l=py(n)}let u=l&&l.nodeBefore;return!u||!wn.isSelectable(u)?!1:(e&&e(s.tr.setSelection(wn.create(s.doc,l.pos-u.nodeSize)).scrollIntoView()),!0)};function py(s){if(!s.parent.type.spec.isolating)for(let e=s.depth-1;e>=0;e--){if(s.index(e)>0)return s.doc.resolve(s.before(e+1));if(s.node(e).type.spec.isolating)break}return null}function LN(s,e){let{$cursor:r}=s.selection;return!r||(e?!e.endOfTextblock("forward",s):r.parentOffset<r.parent.content.size)?null:r}const MN=(s,e,r)=>{let n=LN(s,r);if(!n)return!1;let a=my(n);if(!a)return!1;let l=a.nodeAfter;if(PN(s,a,e,1))return!0;if(n.parent.content.size==0&&(Ap(l,"start")||wn.isSelectable(l))){let u=dx(s.doc,n.before(),n.after(),Mr.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=s.tr.step(u);d.setSelection(Ap(l,"start")?ha.findFrom(d.doc.resolve(d.mapping.map(a.pos)),1):wn.create(d.doc,d.mapping.map(a.pos))),e(d.scrollIntoView())}return!0}}return l.isAtom&&a.depth==n.depth-1?(e&&e(s.tr.delete(a.pos,a.pos+l.nodeSize).scrollIntoView()),!0):!1},ON=(s,e,r)=>{let{$head:n,empty:a}=s.selection,l=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",s):n.parentOffset<n.parent.content.size)return!1;l=my(n)}let u=l&&l.nodeAfter;return!u||!wn.isSelectable(u)?!1:(e&&e(s.tr.setSelection(wn.create(s.doc,l.pos)).scrollIntoView()),!0)};function my(s){if(!s.parent.type.spec.isolating)for(let e=s.depth-1;e>=0;e--){let r=s.node(e);if(s.index(e)+1<r.childCount)return s.doc.resolve(s.after(e+1));if(r.type.spec.isolating)break}return null}const M7=(s,e)=>{let r=s.selection,n=r instanceof wn,a;if(n){if(r.node.isTextblock||!Qh(s.doc,r.from))return!1;a=r.from}else if(a=cx(s.doc,r.from,-1),a==null)return!1;if(e){let l=s.tr.join(a);n&&l.setSelection(wn.create(l.doc,a-s.doc.resolve(a).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},O7=(s,e)=>{let r=s.selection,n;if(r instanceof wn){if(r.node.isTextblock||!Qh(s.doc,r.to))return!1;n=r.to}else if(n=cx(s.doc,r.to,1),n==null)return!1;return e&&e(s.tr.join(n).scrollIntoView()),!0},I7=(s,e)=>{let{$from:r,$to:n}=s.selection,a=r.blockRange(n),l=a&&jp(a);return l==null?!1:(e&&e(s.tr.lift(a,l).scrollIntoView()),!0)},IN=(s,e)=>{let{$head:r,$anchor:n}=s.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(s.tr.insertText(`
`).scrollIntoView()),!0)};function gy(s){for(let e=0;e<s.edgeCount;e++){let{type:r}=s.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const D7=(s,e)=>{let{$head:r,$anchor:n}=s.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let a=r.node(-1),l=r.indexAfter(-1),u=gy(a.contentMatchAt(l));if(!u||!a.canReplaceWith(l,l,u))return!1;if(e){let d=r.after(),A=s.tr.replaceWith(d,d,u.createAndFill());A.setSelection(ha.near(A.doc.resolve(d),1)),e(A.scrollIntoView())}return!0},DN=(s,e)=>{let r=s.selection,{$from:n,$to:a}=r;if(r instanceof Yd||n.parent.inlineContent||a.parent.inlineContent)return!1;let l=gy(a.parent.contentMatchAt(a.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let u=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,d=s.tr.insert(u,l.createAndFill());d.setSelection(Gn.create(d.doc,u+1)),e(d.scrollIntoView())}return!0},RN=(s,e)=>{let{$cursor:r}=s.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let l=r.before();if(RA(s.doc,l))return e&&e(s.tr.split(l).scrollIntoView()),!0}let n=r.blockRange(),a=n&&jp(n);return a==null?!1:(e&&e(s.tr.lift(n,a).scrollIntoView()),!0)};function R7(s){return(e,r)=>{let{$from:n,$to:a}=e.selection;if(e.selection instanceof wn&&e.selection.node.isBlock)return!n.parentOffset||!RA(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let l=[],u,d,A=!1,o=!1;for(let x=n.depth;;x--)if(n.node(x).isBlock){A=n.end(x)==n.pos+(n.depth-x),o=n.start(x)==n.pos-(n.depth-x),d=gy(n.node(x-1).contentMatchAt(n.indexAfter(x-1))),l.unshift(A&&d?{type:d}:null),u=x;break}else{if(x==1)return!1;l.unshift(null)}let f=e.tr;(e.selection instanceof Gn||e.selection instanceof Yd)&&f.deleteSelection();let p=f.mapping.map(n.pos),m=RA(f.doc,p,l.length,l);if(m||(l[0]=d?{type:d}:null,m=RA(f.doc,p,l.length,l)),!m)return!1;if(f.split(p,l.length,l),!A&&o&&n.node(u).type!=d){let x=f.mapping.map(n.before(u)),b=f.doc.resolve(x);d&&n.node(u-1).canReplaceWith(b.index(),b.index()+1,d)&&f.setNodeMarkup(f.mapping.map(n.before(u)),d)}return r&&r(f.scrollIntoView()),!0}}const P7=R7(),Q7=(s,e)=>{let{$from:r,to:n}=s.selection,a,l=r.sharedDepth(n);return l==0?!1:(a=r.before(l),e&&e(s.tr.setSelection(wn.create(s.doc,a))),!0)};function _7(s,e,r){let n=e.nodeBefore,a=e.nodeAfter,l=e.index();return!n||!a||!n.type.compatibleContent(a.type)?!1:!n.content.size&&e.parent.canReplace(l-1,l)?(r&&r(s.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(a.isTextblock||Qh(s.doc,e.pos))?!1:(r&&r(s.tr.join(e.pos).scrollIntoView()),!0)}function PN(s,e,r,n){let a=e.nodeBefore,l=e.nodeAfter,u,d,A=a.type.spec.isolating||l.type.spec.isolating;if(!A&&_7(s,e,r))return!0;let o=!A&&e.parent.canReplace(e.index(),e.index()+1);if(o&&(u=(d=a.contentMatchAt(a.childCount)).findWrapping(l.type))&&d.matchType(u[0]||l.type).validEnd){if(r){let x=e.pos+l.nodeSize,b=Gs.empty;for(let T=u.length-1;T>=0;T--)b=Gs.from(u[T].create(null,b));b=Gs.from(a.copy(b));let j=s.tr.step(new uc(e.pos-1,x,e.pos,x,new Mr(b,1,0),u.length,!0)),y=j.doc.resolve(x+2*u.length);y.nodeAfter&&y.nodeAfter.type==a.type&&Qh(j.doc,y.pos)&&j.join(y.pos),r(j.scrollIntoView())}return!0}let f=l.type.spec.isolating||n>0&&A?null:ha.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),m=p&&jp(p);if(m!=null&&m>=e.depth)return r&&r(s.tr.lift(p,m).scrollIntoView()),!0;if(o&&Ap(l,"start",!0)&&Ap(a,"end")){let x=a,b=[];for(;b.push(x),!x.isTextblock;)x=x.lastChild;let j=l,y=1;for(;!j.isTextblock;j=j.firstChild)y++;if(x.canReplace(x.childCount,x.childCount,j.content)){if(r){let T=Gs.empty;for(let z=b.length-1;z>=0;z--)T=Gs.from(b[z].copy(T));let R=s.tr.step(new uc(e.pos-b.length,e.pos+l.nodeSize,e.pos+y,e.pos+l.nodeSize-y,new Mr(T,b.length,0),0,!0));r(R.scrollIntoView())}return!0}}return!1}function QN(s){return function(e,r){let n=e.selection,a=s<0?n.$from:n.$to,l=a.depth;for(;a.node(l).isInline;){if(!l)return!1;l--}return a.node(l).isTextblock?(r&&r(e.tr.setSelection(Gn.create(e.doc,s<0?a.start(l):a.end(l)))),!0):!1}}const H7=QN(-1),z7=QN(1);function $7(s,e=null){return function(r,n){let{$from:a,$to:l}=r.selection,u=a.blockRange(l),d=u&&Ay(u,s,e);return d?(n&&n(r.tr.wrap(u,d).scrollIntoView()),!0):!1}}function w2(s,e=null){return function(r,n){let a=!1;for(let l=0;l<r.selection.ranges.length&&!a;l++){let{$from:{pos:u},$to:{pos:d}}=r.selection.ranges[l];r.doc.nodesBetween(u,d,(A,o)=>{if(a)return!1;if(!(!A.isTextblock||A.hasMarkup(s,e)))if(A.type==s)a=!0;else{let f=r.doc.resolve(o),p=f.index();a=f.parent.canReplaceWith(p,p+1,s)}})}if(!a)return!1;if(n){let l=r.tr;for(let u=0;u<r.selection.ranges.length;u++){let{$from:{pos:d},$to:{pos:A}}=r.selection.ranges[u];l.setBlockType(d,A,s,e)}n(l.scrollIntoView())}return!0}}function xy(...s){return function(e,r,n){for(let a=0;a<s.length;a++)if(s[a](e,r,n))return!0;return!1}}xy(fy,TN,FN);xy(fy,MN,ON);xy(IN,DN,RN,P7);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function V7(s,e=null){return function(r,n){let{$from:a,$to:l}=r.selection,u=a.blockRange(l);if(!u)return!1;let d=n?r.tr:null;return K7(d,u,s,e)?(n&&n(d.scrollIntoView()),!0):!1}}function K7(s,e,r,n=null){let a=!1,l=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let A=u.resolve(e.start-2);l=new rg(A,A,e.depth),e.endIndex<e.parent.childCount&&(e=new rg(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),a=!0}let d=Ay(l,r,n,e);return d?(s&&G7(s,e,d,a,r),!0):!1}function G7(s,e,r,n,a){let l=Gs.empty;for(let f=r.length-1;f>=0;f--)l=Gs.from(r[f].type.create(r[f].attrs,l));s.step(new uc(e.start-(n?2:0),e.end,e.start,e.end,new Mr(l,0,0),r.length,!0));let u=0;for(let f=0;f<r.length;f++)r[f].type==a&&(u=f+1);let d=r.length-u,A=e.start+r.length-(n?2:0),o=e.parent;for(let f=e.startIndex,p=e.endIndex,m=!0;f<p;f++,m=!1)!m&&RA(s.doc,A,d)&&(s.split(A,d),A+=2*d),A+=o.child(f).nodeSize;return s}function W7(s){return function(e,r){let{$from:n,$to:a}=e.selection,l=n.blockRange(a,u=>u.childCount>0&&u.firstChild.type==s);return l?r?n.node(l.depth-1).type==s?Y7(e,r,s,l):X7(e,r,l):!0:!1}}function Y7(s,e,r,n){let a=s.tr,l=n.end,u=n.$to.end(n.depth);l<u&&(a.step(new uc(l-1,u,l,u,new Mr(Gs.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new rg(a.doc.resolve(n.$from.pos),a.doc.resolve(u),n.depth));const d=jp(n);if(d==null)return!1;a.lift(n,d);let A=a.doc.resolve(a.mapping.map(l,-1)-1);return Qh(a.doc,A.pos)&&A.nodeBefore.type==A.nodeAfter.type&&a.join(A.pos),e(a.scrollIntoView()),!0}function X7(s,e,r){let n=s.tr,a=r.parent;for(let x=r.end,b=r.endIndex-1,j=r.startIndex;b>j;b--)x-=a.child(b).nodeSize,n.delete(x-1,x+1);let l=n.doc.resolve(r.start),u=l.nodeAfter;if(n.mapping.map(r.end)!=r.start+l.nodeAfter.nodeSize)return!1;let d=r.startIndex==0,A=r.endIndex==a.childCount,o=l.node(-1),f=l.index(-1);if(!o.canReplace(f+(d?0:1),f+1,u.content.append(A?Gs.empty:Gs.from(a))))return!1;let p=l.pos,m=p+u.nodeSize;return n.step(new uc(p-(d?1:0),m+(A?1:0),p+1,m-1,new Mr((d?Gs.empty:Gs.from(a.copy(Gs.empty))).append(A?Gs.empty:Gs.from(a.copy(Gs.empty))),d?0:1,A?0:1),d?0:1)),e(n.scrollIntoView()),!0}function J7(s){return function(e,r){let{$from:n,$to:a}=e.selection,l=n.blockRange(a,o=>o.childCount>0&&o.firstChild.type==s);if(!l)return!1;let u=l.startIndex;if(u==0)return!1;let d=l.parent,A=d.child(u-1);if(A.type!=s)return!1;if(r){let o=A.lastChild&&A.lastChild.type==d.type,f=Gs.from(o?s.create():null),p=new Mr(Gs.from(s.create(null,Gs.from(d.type.create(null,f)))),o?3:1,0),m=l.start,x=l.end;r(e.tr.step(new uc(m-(o?3:1),x,m,x,p,1,!0)).scrollIntoView())}return!0}}const Ec=function(s){for(var e=0;;e++)if(s=s.previousSibling,!s)return e},hp=function(s){let e=s.assignedSlot||s.parentNode;return e&&e.nodeType==11?e.host:e};let vv=null;const OA=function(s,e,r){let n=vv||(vv=document.createRange());return n.setEnd(s,r??s.nodeValue.length),n.setStart(s,e||0),n},Z7=function(){vv=null},jf=function(s,e,r,n){return r&&(j2(s,e,r,n,-1)||j2(s,e,r,n,1))},q7=/^(img|br|input|textarea|hr)$/i;function j2(s,e,r,n,a){for(var l;;){if(s==r&&e==n)return!0;if(e==(a<0?0:uu(s))){let u=s.parentNode;if(!u||u.nodeType!=1||Fm(s)||q7.test(s.nodeName)||s.contentEditable=="false")return!1;e=Ec(s)+(a<0?0:1),s=u}else if(s.nodeType==1){let u=s.childNodes[e+(a<0?-1:0)];if(u.nodeType==1&&u.contentEditable=="false")if(!((l=u.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)e+=a;else return!1;else s=u,e=a<0?uu(s):0}else return!1}}function uu(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function eQ(s,e){for(;;){if(s.nodeType==3&&e)return s;if(s.nodeType==1&&e>0){if(s.contentEditable=="false")return null;s=s.childNodes[e-1],e=uu(s)}else if(s.parentNode&&!Fm(s))e=Ec(s),s=s.parentNode;else return null}}function tQ(s,e){for(;;){if(s.nodeType==3&&e<s.nodeValue.length)return s;if(s.nodeType==1&&e<s.childNodes.length){if(s.contentEditable=="false")return null;s=s.childNodes[e],e=0}else if(s.parentNode&&!Fm(s))e=Ec(s)+1,s=s.parentNode;else return null}}function sQ(s,e,r){for(let n=e==0,a=e==uu(s);n||a;){if(s==r)return!0;let l=Ec(s);if(s=s.parentNode,!s)return!1;n=n&&l==0,a=a&&l==uu(s)}}function Fm(s){let e;for(let r=s;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==s||e.contentDOM==s)}const Ax=function(s){return s.focusNode&&jf(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)};function of(s,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=s,r.key=r.code=e,r}function rQ(s){let e=s.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function nQ(s,e,r){if(s.caretPositionFromPoint)try{let n=s.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(uu(n.offsetNode),n.offset)}}catch{}if(s.caretRangeFromPoint){let n=s.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(uu(n.startContainer),n.startOffset)}}}const iA=typeof navigator<"u"?navigator:null,N2=typeof document<"u"?document:null,_h=iA&&iA.userAgent||"",yv=/Edge\/(\d+)/.exec(_h),_N=/MSIE \d/.exec(_h),wv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_h),Fd=!!(_N||wv||yv),Uh=_N?document.documentMode:wv?+wv[1]:yv?+yv[1]:0,fu=!Fd&&/gecko\/(\d+)/i.test(_h);fu&&+(/Firefox\/(\d+)/.exec(_h)||[0,0])[1];const jv=!Fd&&/Chrome\/(\d+)/.exec(_h),dc=!!jv,HN=jv?+jv[1]:0,Gc=!Fd&&!!iA&&/Apple Computer/.test(iA.vendor),fp=Gc&&(/Mobile\/\w+/.test(_h)||!!iA&&iA.maxTouchPoints>2),cu=fp||(iA?/Mac/.test(iA.platform):!1),zN=iA?/Win/.test(iA.platform):!1,IA=/Android \d/.test(_h),Lm=!!N2&&"webkitFontSmoothing"in N2.documentElement.style,aQ=Lm?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function iQ(s){let e=s.defaultView&&s.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:s.documentElement.clientWidth,top:0,bottom:s.documentElement.clientHeight}}function UA(s,e){return typeof s=="number"?s:s[e]}function oQ(s){let e=s.getBoundingClientRect(),r=e.width/s.offsetWidth||1,n=e.height/s.offsetHeight||1;return{left:e.left,right:e.left+s.clientWidth*r,top:e.top,bottom:e.top+s.clientHeight*n}}function k2(s,e,r){let n=s.someProp("scrollThreshold")||0,a=s.someProp("scrollMargin")||5,l=s.dom.ownerDocument;for(let u=r||s.dom;u;){if(u.nodeType!=1){u=hp(u);continue}let d=u,A=d==l.body,o=A?iQ(l):oQ(d),f=0,p=0;if(e.top<o.top+UA(n,"top")?p=-(o.top-e.top+UA(a,"top")):e.bottom>o.bottom-UA(n,"bottom")&&(p=e.bottom-e.top>o.bottom-o.top?e.top+UA(a,"top")-o.top:e.bottom-o.bottom+UA(a,"bottom")),e.left<o.left+UA(n,"left")?f=-(o.left-e.left+UA(a,"left")):e.right>o.right-UA(n,"right")&&(f=e.right-o.right+UA(a,"right")),f||p)if(A)l.defaultView.scrollBy(f,p);else{let x=d.scrollLeft,b=d.scrollTop;p&&(d.scrollTop+=p),f&&(d.scrollLeft+=f);let j=d.scrollLeft-x,y=d.scrollTop-b;e={left:e.left-j,top:e.top-y,right:e.right-j,bottom:e.bottom-y}}let m=A?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(m))break;u=m=="absolute"?u.offsetParent:hp(u)}}function lQ(s){let e=s.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,a;for(let l=(e.left+e.right)/2,u=r+1;u<Math.min(innerHeight,e.bottom);u+=5){let d=s.root.elementFromPoint(l,u);if(!d||d==s.dom||!s.dom.contains(d))continue;let A=d.getBoundingClientRect();if(A.top>=r-20){n=d,a=A.top;break}}return{refDOM:n,refTop:a,stack:$N(s.dom)}}function $N(s){let e=[],r=s.ownerDocument;for(let n=s;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),s!=r);n=hp(n));return e}function cQ({refDOM:s,refTop:e,stack:r}){let n=s?s.getBoundingClientRect().top:0;VN(r,n==0?0:n-e)}function VN(s,e){for(let r=0;r<s.length;r++){let{dom:n,top:a,left:l}=s[r];n.scrollTop!=a+e&&(n.scrollTop=a+e),n.scrollLeft!=l&&(n.scrollLeft=l)}}let Yf=null;function dQ(s){if(s.setActive)return s.setActive();if(Yf)return s.focus(Yf);let e=$N(s);s.focus(Yf==null?{get preventScroll(){return Yf={preventScroll:!0},!0}}:void 0),Yf||(Yf=!1,VN(e,0))}function KN(s,e){let r,n=2e8,a,l=0,u=e.top,d=e.top,A,o;for(let f=s.firstChild,p=0;f;f=f.nextSibling,p++){let m;if(f.nodeType==1)m=f.getClientRects();else if(f.nodeType==3)m=OA(f).getClientRects();else continue;for(let x=0;x<m.length;x++){let b=m[x];if(b.top<=u&&b.bottom>=d){u=Math.max(b.bottom,u),d=Math.min(b.top,d);let j=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(j<n){r=f,n=j,a=j&&r.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&j&&(l=p+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!A&&b.left<=e.left&&b.right>=e.left&&(A=f,o={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!r&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(l=p+1)}}return!r&&A&&(r=A,a=o,n=0),r&&r.nodeType==3?uQ(r,a):!r||n&&r.nodeType==1?{node:s,offset:l}:KN(r,a)}function uQ(s,e){let r=s.nodeValue.length,n=document.createRange(),a;for(let l=0;l<r;l++){n.setEnd(s,l+1),n.setStart(s,l);let u=xh(n,1);if(u.top!=u.bottom&&by(e,u)){a={node:s,offset:l+(e.left>=(u.left+u.right)/2?1:0)};break}}return n.detach(),a||{node:s,offset:0}}function by(s,e){return s.left>=e.left-1&&s.left<=e.right+1&&s.top>=e.top-1&&s.top<=e.bottom+1}function AQ(s,e){let r=s.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<s.getBoundingClientRect().left?r:s}function hQ(s,e,r){let{node:n,offset:a}=KN(e,r),l=-1;if(n.nodeType==1&&!n.firstChild){let u=n.getBoundingClientRect();l=u.left!=u.right&&r.left>(u.left+u.right)/2?1:-1}return s.docView.posFromDOM(n,a,l)}function fQ(s,e,r,n){let a=-1;for(let l=e,u=!1;l!=s.dom;){let d=s.docView.nearestDesc(l,!0),A;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((A=d.dom.getBoundingClientRect()).width||A.height)&&(d.node.isBlock&&d.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(d.dom.nodeName)&&(!u&&A.left>n.left||A.top>n.top?a=d.posBefore:(!u&&A.right<n.left||A.bottom<n.top)&&(a=d.posAfter),u=!0),!d.contentDOM&&a<0&&!d.node.isText))return(d.node.isBlock?n.top<(A.top+A.bottom)/2:n.left<(A.left+A.right)/2)?d.posBefore:d.posAfter;l=d.dom.parentNode}return a>-1?a:s.docView.posFromDOM(e,r,-1)}function GN(s,e,r){let n=s.childNodes.length;if(n&&r.top<r.bottom)for(let a=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),l=a;;){let u=s.childNodes[l];if(u.nodeType==1){let d=u.getClientRects();for(let A=0;A<d.length;A++){let o=d[A];if(by(e,o))return GN(u,e,o)}}if((l=(l+1)%n)==a)break}return s}function pQ(s,e){let r=s.dom.ownerDocument,n,a=0,l=nQ(r,e.left,e.top);l&&({node:n,offset:a}=l);let u=(s.root.elementFromPoint?s.root:r).elementFromPoint(e.left,e.top),d;if(!u||!s.dom.contains(u.nodeType!=1?u.parentNode:u)){let o=s.dom.getBoundingClientRect();if(!by(e,o)||(u=GN(s.dom,e,o),!u))return null}if(Gc)for(let o=u;n&&o;o=hp(o))o.draggable&&(n=void 0);if(u=AQ(u,e),n){if(fu&&n.nodeType==1&&(a=Math.min(a,n.childNodes.length),a<n.childNodes.length)){let f=n.childNodes[a],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&a++}let o;Lm&&a&&n.nodeType==1&&(o=n.childNodes[a-1]).nodeType==1&&o.contentEditable=="false"&&o.getBoundingClientRect().top>=e.top&&a--,n==s.dom&&a==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?d=s.state.doc.content.size:(a==0||n.nodeType!=1||n.childNodes[a-1].nodeName!="BR")&&(d=fQ(s,n,a,e))}d==null&&(d=hQ(s,u,e));let A=s.docView.nearestDesc(u,!0);return{pos:d,inside:A?A.posAtStart-A.border:-1}}function C2(s){return s.top<s.bottom||s.left<s.right}function xh(s,e){let r=s.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(C2(n))return n}return Array.prototype.find.call(r,C2)||s.getBoundingClientRect()}const mQ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function WN(s,e,r){let{node:n,offset:a,atom:l}=s.docView.domFromPos(e,r<0?-1:1),u=Lm||fu;if(n.nodeType==3)if(u&&(mQ.test(n.nodeValue)||(r<0?!a:a==n.nodeValue.length))){let A=xh(OA(n,a,a),r);if(fu&&a&&/\s/.test(n.nodeValue[a-1])&&a<n.nodeValue.length){let o=xh(OA(n,a-1,a-1),-1);if(o.top==A.top){let f=xh(OA(n,a,a+1),-1);if(f.top!=A.top)return _p(f,f.left<o.left)}}return A}else{let A=a,o=a,f=r<0?1:-1;return r<0&&!a?(o++,f=-1):r>=0&&a==n.nodeValue.length?(A--,f=1):r<0?A--:o++,_p(xh(OA(n,A,o),f),f<0)}if(!s.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&a&&(r<0||a==uu(n))){let A=n.childNodes[a-1];if(A.nodeType==1)return kb(A.getBoundingClientRect(),!1)}if(l==null&&a<uu(n)){let A=n.childNodes[a];if(A.nodeType==1)return kb(A.getBoundingClientRect(),!0)}return kb(n.getBoundingClientRect(),r>=0)}if(l==null&&a&&(r<0||a==uu(n))){let A=n.childNodes[a-1],o=A.nodeType==3?OA(A,uu(A)-(u?0:1)):A.nodeType==1&&(A.nodeName!="BR"||!A.nextSibling)?A:null;if(o)return _p(xh(o,1),!1)}if(l==null&&a<uu(n)){let A=n.childNodes[a];for(;A.pmViewDesc&&A.pmViewDesc.ignoreForCoords;)A=A.nextSibling;let o=A?A.nodeType==3?OA(A,0,u?0:1):A.nodeType==1?A:null:null;if(o)return _p(xh(o,-1),!0)}return _p(xh(n.nodeType==3?OA(n):n,-r),r>=0)}function _p(s,e){if(s.width==0)return s;let r=e?s.left:s.right;return{top:s.top,bottom:s.bottom,left:r,right:r}}function kb(s,e){if(s.height==0)return s;let r=e?s.top:s.bottom;return{top:r,bottom:r,left:s.left,right:s.right}}function YN(s,e,r){let n=s.state,a=s.root.activeElement;n!=e&&s.updateState(e),a!=s.dom&&s.focus();try{return r()}finally{n!=e&&s.updateState(n),a!=s.dom&&a&&a.focus()}}function gQ(s,e,r){let n=e.selection,a=r=="up"?n.$from:n.$to;return YN(s,e,()=>{let{node:l}=s.docView.domFromPos(a.pos,r=="up"?-1:1);for(;;){let d=s.docView.nearestDesc(l,!0);if(!d)break;if(d.node.isBlock){l=d.contentDOM||d.dom;break}l=d.dom.parentNode}let u=WN(s,a.pos,1);for(let d=l.firstChild;d;d=d.nextSibling){let A;if(d.nodeType==1)A=d.getClientRects();else if(d.nodeType==3)A=OA(d,0,d.nodeValue.length).getClientRects();else continue;for(let o=0;o<A.length;o++){let f=A[o];if(f.bottom>f.top+1&&(r=="up"?u.top-f.top>(f.bottom-u.top)*2:f.bottom-u.bottom>(u.bottom-f.top)*2))return!1}}return!0})}const xQ=/[\u0590-\u08ac]/;function bQ(s,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let a=n.parentOffset,l=!a,u=a==n.parent.content.size,d=s.domSelection();return d?!xQ.test(n.parent.textContent)||!d.modify?r=="left"||r=="backward"?l:u:YN(s,e,()=>{let{focusNode:A,focusOffset:o,anchorNode:f,anchorOffset:p}=s.domSelectionRange(),m=d.caretBidiLevel;d.modify("move",r,"character");let x=n.depth?s.docView.domAfterPos(n.before()):s.dom,{focusNode:b,focusOffset:j}=s.domSelectionRange(),y=b&&!x.contains(b.nodeType==1?b:b.parentNode)||A==b&&o==j;try{d.collapse(f,p),A&&(A!=f||o!=p)&&d.extend&&d.extend(A,o)}catch{}return m!=null&&(d.caretBidiLevel=m),y}):n.pos==n.start()||n.pos==n.end()}let B2=null,S2=null,E2=!1;function vQ(s,e,r){return B2==e&&S2==r?E2:(B2=e,S2=r,E2=r=="up"||r=="down"?gQ(s,e,r):bQ(s,e,r))}const pu=0,T2=1,lf=2,oA=3;class Mm{constructor(e,r,n,a){this.parent=e,this.children=r,this.dom=n,this.contentDOM=a,this.dirty=pu,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let a=this.children[r];if(a==e)return n;n+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let l,u;if(e==this.contentDOM)l=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((u=l.pmViewDesc)&&u.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(u)+u.size:this.posAtStart}else{let l,u;if(e==this.contentDOM)l=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((u=l.pmViewDesc)&&u.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(u):this.posAtEnd}let a;if(e==this.dom&&this.contentDOM)a=r>Ec(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.previousSibling)break}if(a==null&&r==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.nextSibling)break}}return a??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,a=e;a;a=a.parentNode){let l=this.getDesc(a),u;if(l&&(!r||l.node))if(n&&(u=l.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))n=!1;else return l}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let a=e;a;a=a.parentNode){let l=this.getDesc(a);if(l)return l.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let a=this.children[r],l=n+a.size;if(n==e&&l!=n){for(;!a.border&&a.children.length;)for(let u=0;u<a.children.length;u++){let d=a.children[u];if(d.size){a=d;break}}return a}if(e<l)return a.descAt(e-n-a.border);n=l}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,a=0;for(let l=0;n<this.children.length;n++){let u=this.children[n],d=l+u.size;if(d>e||u instanceof JN){a=e-l;break}l=d}if(a)return this.children[n].domFromPos(a-this.children[n].border,r);for(let l;n&&!(l=this.children[n-1]).size&&l instanceof XN&&l.side>=0;n--);if(r<=0){let l,u=!0;for(;l=n?this.children[n-1]:null,!(!l||l.dom.parentNode==this.contentDOM);n--,u=!1);return l&&r&&u&&!l.border&&!l.domAtom?l.domFromPos(l.size,r):{node:this.contentDOM,offset:l?Ec(l.dom)+1:0}}else{let l,u=!0;for(;l=n<this.children.length?this.children[n]:null,!(!l||l.dom.parentNode==this.contentDOM);n++,u=!1);return l&&u&&!l.border&&!l.domAtom?l.domFromPos(0,r):{node:this.contentDOM,offset:l?Ec(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,l=-1;for(let u=n,d=0;;d++){let A=this.children[d],o=u+A.size;if(a==-1&&e<=o){let f=u+A.border;if(e>=f&&r<=o-A.border&&A.node&&A.contentDOM&&this.contentDOM.contains(A.contentDOM))return A.parseRange(e,r,f);e=u;for(let p=d;p>0;p--){let m=this.children[p-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){a=Ec(m.dom)+1;break}e-=m.size}a==-1&&(a=0)}if(a>-1&&(o>r||d==this.children.length-1)){r=o;for(let f=d+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){l=Ec(p.dom);break}r+=p.size}l==-1&&(l=this.contentDOM.childNodes.length);break}u=o}return{node:this.contentDOM,from:e,to:r,fromOffset:a,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,a=!1){let l=Math.min(e,r),u=Math.max(e,r);for(let x=0,b=0;x<this.children.length;x++){let j=this.children[x],y=b+j.size;if(l>b&&u<y)return j.setSelection(e-b-j.border,r-b-j.border,n,a);b=y}let d=this.domFromPos(e,e?-1:1),A=r==e?d:this.domFromPos(r,r?-1:1),o=n.root.getSelection(),f=n.domSelectionRange(),p=!1;if((fu||Gc)&&e==r){let{node:x,offset:b}=d;if(x.nodeType==3){if(p=!!(b&&x.nodeValue[b-1]==`
`),p&&b==x.nodeValue.length)for(let j=x,y;j;j=j.parentNode){if(y=j.nextSibling){y.nodeName=="BR"&&(d=A={node:y.parentNode,offset:Ec(y)+1});break}let T=j.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let j=x.childNodes[b-1];p=j&&(j.nodeName=="BR"||j.contentEditable=="false")}}if(fu&&f.focusNode&&f.focusNode!=A.node&&f.focusNode.nodeType==1){let x=f.focusNode.childNodes[f.focusOffset];x&&x.contentEditable=="false"&&(a=!0)}if(!(a||p&&Gc)&&jf(d.node,d.offset,f.anchorNode,f.anchorOffset)&&jf(A.node,A.offset,f.focusNode,f.focusOffset))return;let m=!1;if((o.extend||e==r)&&!(p&&fu)){o.collapse(d.node,d.offset);try{e!=r&&o.extend(A.node,A.offset),m=!0}catch{}}if(!m){if(e>r){let b=d;d=A,A=b}let x=document.createRange();x.setEnd(A.node,A.offset),x.setStart(d.node,d.offset),o.removeAllRanges(),o.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,a=0;a<this.children.length;a++){let l=this.children[a],u=n+l.size;if(n==u?e<=u&&r>=n:e<u&&r>n){let d=n+l.border,A=u-l.border;if(e>=d&&r<=A){this.dirty=e==n||r==u?lf:T2,e==d&&r==A&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=oA:l.markDirty(e-d,r-d);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?lf:oA}n=u}this.dirty=lf}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?lf:T2;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class XN extends Mm{constructor(e,r,n,a){let l,u=r.type.toDOM;if(typeof u=="function"&&(u=u(n,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!r.type.spec.raw){if(u.nodeType!=1){let d=document.createElement("span");d.appendChild(u),u=d}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=r,this.widget=r,l=this}matchesWidget(e){return this.dirty==pu&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class yQ extends Mm{constructor(e,r,n,a){super(e,[],r,null),this.textDOM=n,this.text=a}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Nf extends Mm{constructor(e,r,n,a,l){super(e,[],n,a),this.mark=r,this.spec=l}static create(e,r,n,a){let l=a.nodeViews[r.type.name],u=l&&l(r,a,n);return(!u||!u.dom)&&(u=Bf.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Nf(e,r,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&oA||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=oA&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=pu){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=pu}}slice(e,r,n){let a=Nf.create(this.parent,this.mark,!0,n),l=this.children,u=this.size;r<u&&(l=kv(l,r,u,n)),e>0&&(l=kv(l,0,e,n));for(let d=0;d<l.length;d++)l[d].parent=a;return a.children=l,a}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Fh extends Mm{constructor(e,r,n,a,l,u,d,A,o){super(e,[],l,u),this.node=r,this.outerDeco=n,this.innerDeco=a,this.nodeDOM=d}static create(e,r,n,a,l,u){let d=l.nodeViews[r.type.name],A,o=d&&d(r,l,()=>{if(!A)return u;if(A.parent)return A.parent.posBeforeChild(A)},n,a),f=o&&o.dom,p=o&&o.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=Bf.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!p&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let m=f;return f=ek(f,n,r),o?A=new wQ(e,r,n,a,f,p||null,m,o,l,u+1):r.isText?new hx(e,r,n,a,f,m,l):new Fh(e,r,n,a,f,p||null,m,l,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Gs.empty)}return e}matchesNode(e,r,n){return this.dirty==pu&&e.eq(this.node)&&ag(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,a=r,l=e.composing?this.localCompositionInfo(e,r):null,u=l&&l.pos>-1?l:null,d=l&&l.pos<0,A=new NQ(this,u&&u.node,e);BQ(this.node,this.innerDeco,(o,f,p)=>{o.spec.marks?A.syncToMarks(o.spec.marks,n,e):o.type.side>=0&&!p&&A.syncToMarks(f==this.node.childCount?zi.none:this.node.child(f).marks,n,e),A.placeWidget(o,e,a)},(o,f,p,m)=>{A.syncToMarks(o.marks,n,e);let x;A.findNodeMatch(o,f,p,m)||d&&e.state.selection.from>a&&e.state.selection.to<a+o.nodeSize&&(x=A.findIndexWithChild(l.node))>-1&&A.updateNodeAt(o,f,p,x,e)||A.updateNextNode(o,f,p,e,m,a)||A.addNode(o,f,p,e,a),a+=o.nodeSize}),A.syncToMarks([],n,e),this.node.isTextblock&&A.addTextblockHacks(),A.destroyRest(),(A.changed||this.dirty==lf)&&(u&&this.protectLocalComposition(e,u),ZN(this.contentDOM,this.children,e),fp&&SQ(this.dom))}localCompositionInfo(e,r){let{from:n,to:a}=e.state.selection;if(!(e.state.selection instanceof Gn)||n<r||a>r+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let u=l.nodeValue,d=EQ(this.node.content,u,n-r,a-r);return d<0?null:{node:l,pos:d,text:u}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:a}){if(this.getDesc(r))return;let l=r;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let u=new yQ(this,l,r,a);e.input.compositionNodes.push(u),this.children=kv(this.children,n,n+a.length,e,u)}update(e,r,n,a){return this.dirty==oA||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,a),!0)}updateInner(e,r,n,a){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=pu}updateOuterDeco(e){if(ag(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=qN(this.dom,this.nodeDOM,Nv(this.outerDeco,this.node,r),Nv(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function U2(s,e,r,n,a){ek(n,e,s);let l=new Fh(void 0,s,e,r,n,n,n,a,0);return l.contentDOM&&l.updateChildren(a,0),l}class hx extends Fh{constructor(e,r,n,a,l,u,d){super(e,r,n,a,l,null,u,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,a){return this.dirty==oA||this.dirty!=pu&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=pu||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=e,this.dirty=pu,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let a=this.node.cut(e,r),l=document.createTextNode(a.text);return new hx(this.parent,a,this.outerDeco,this.innerDeco,l,l,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=oA)}get domAtom(){return!1}isText(e){return this.node.text==e}}class JN extends Mm{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==pu&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class wQ extends Fh{constructor(e,r,n,a,l,u,d,A,o,f){super(e,r,n,a,l,u,d,o,f),this.spec=A}update(e,r,n,a){if(this.dirty==oA)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,r,n);return l&&this.updateInner(e,r,n,a),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,a){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function ZN(s,e,r){let n=s.firstChild,a=!1;for(let l=0;l<e.length;l++){let u=e[l],d=u.dom;if(d.parentNode==s){for(;d!=n;)n=F2(n),a=!0;n=n.nextSibling}else a=!0,s.insertBefore(d,n);if(u instanceof Nf){let A=n?n.previousSibling:s.lastChild;ZN(u.contentDOM,u.children,r),n=A?A.nextSibling:s.firstChild}}for(;n;)n=F2(n),a=!0;a&&r.trackWrites==s&&(r.trackWrites=null)}const rm=function(s){s&&(this.nodeName=s)};rm.prototype=Object.create(null);const cf=[new rm];function Nv(s,e,r){if(s.length==0)return cf;let n=r?cf[0]:new rm,a=[n];for(let l=0;l<s.length;l++){let u=s[l].type.attrs;if(u){u.nodeName&&a.push(n=new rm(u.nodeName));for(let d in u){let A=u[d];A!=null&&(r&&a.length==1&&a.push(n=new rm(e.isInline?"span":"div")),d=="class"?n.class=(n.class?n.class+" ":"")+A:d=="style"?n.style=(n.style?n.style+";":"")+A:d!="nodeName"&&(n[d]=A))}}}return a}function qN(s,e,r,n){if(r==cf&&n==cf)return e;let a=e;for(let l=0;l<n.length;l++){let u=n[l],d=r[l];if(l){let A;d&&d.nodeName==u.nodeName&&a!=s&&(A=a.parentNode)&&A.nodeName.toLowerCase()==u.nodeName||(A=document.createElement(u.nodeName),A.pmIsDeco=!0,A.appendChild(a),d=cf[0]),a=A}jQ(a,d||cf[0],u)}return a}function jQ(s,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&s.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&s.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],a=r.class?r.class.split(" ").filter(Boolean):[];for(let l=0;l<n.length;l++)a.indexOf(n[l])==-1&&s.classList.remove(n[l]);for(let l=0;l<a.length;l++)n.indexOf(a[l])==-1&&s.classList.add(a[l]);s.classList.length==0&&s.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=n.exec(e.style);)s.style.removeProperty(a[1])}r.style&&(s.style.cssText+=r.style)}}function ek(s,e,r){return qN(s,s,cf,Nv(e,r,s.nodeType!=1))}function ag(s,e){if(s.length!=e.length)return!1;for(let r=0;r<s.length;r++)if(!s[r].type.eq(e[r].type))return!1;return!0}function F2(s){let e=s.nextSibling;return s.parentNode.removeChild(s),e}class NQ{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=kQ(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let a=0,l=this.stack.length>>1,u=Math.min(l,e.length);for(;a<u&&(a==l-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<l;)this.destroyRest(),this.top.dirty=pu,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let A=this.index;A<Math.min(this.index+3,this.top.children.length);A++){let o=this.top.children[A];if(o.matchesMark(e[l])&&!this.isLocked(o.dom)){d=A;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let A=Nf.create(this.top,e[l],r,n);this.top.children.splice(this.index,0,A),this.top=A,this.changed=!0}this.index=0,l++}}findNodeMatch(e,r,n,a){let l=-1,u;if(a>=this.preMatch.index&&(u=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&u.matchesNode(e,r,n))l=this.top.children.indexOf(u,this.index);else for(let d=this.index,A=Math.min(this.top.children.length,d+5);d<A;d++){let o=this.top.children[d];if(o.matchesNode(e,r,n)&&!this.preMatch.matched.has(o)){l=d;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,r,n,a,l){let u=this.top.children[a];return u.dirty==oA&&u.dom==u.contentDOM&&(u.dirty=lf),u.update(e,r,n,l)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==n)return a}return-1}e=r}}updateNextNode(e,r,n,a,l,u){for(let d=this.index;d<this.top.children.length;d++){let A=this.top.children[d];if(A instanceof Fh){let o=this.preMatch.matched.get(A);if(o!=null&&o!=l)return!1;let f=A.dom,p,m=this.isLocked(f)&&!(e.isText&&A.node&&A.node.isText&&A.nodeDOM.nodeValue==e.text&&A.dirty!=oA&&ag(r,A.outerDeco));if(!m&&A.update(e,r,n,a))return this.destroyBetween(this.index,d),A.dom!=f&&(this.changed=!0),this.index++,!0;if(!m&&(p=this.recreateWrapper(A,e,r,n,a,u)))return this.destroyBetween(this.index,d),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=lf,p.updateChildren(a,u+1),p.dirty=pu),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,a,l,u){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!ag(n,e.outerDeco)||!a.eq(e.innerDeco))return null;let d=Fh.create(this.top,r,n,a,l,u);if(d.contentDOM){d.children=e.children,e.children=[];for(let A of d.children)A.parent=d}return e.destroy(),d}addNode(e,r,n,a,l){let u=Fh.create(this.top,e,r,n,a,l);u.contentDOM&&u.updateChildren(a,l+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,r,n){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(e)&&(e==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let l=new XN(this.top,e,r,n);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Nf;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof hx)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Gc||dc)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let a=new JN(this.top,[],n,null);r!=this.top?r.children.push(a):r.children.splice(this.index++,0,a),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function kQ(s,e){let r=e,n=r.children.length,a=s.childCount,l=new Map,u=[];e:for(;a>0;){let d;for(;;)if(n){let o=r.children[n-1];if(o instanceof Nf)r=o,n=o.children.length;else{d=o,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let A=d.node;if(A){if(A!=s.child(a-1))break;--a,l.set(d,a),u.push(d)}}return{index:a,matched:l,matches:u.reverse()}}function CQ(s,e){return s.type.side-e.type.side}function BQ(s,e,r,n){let a=e.locals(s),l=0;if(a.length==0){for(let o=0;o<s.childCount;o++){let f=s.child(o);n(f,a,e.forChild(l,f),o),l+=f.nodeSize}return}let u=0,d=[],A=null;for(let o=0;;){let f,p;for(;u<a.length&&a[u].to==l;){let y=a[u++];y.widget&&(f?(p||(p=[f])).push(y):f=y)}if(f)if(p){p.sort(CQ);for(let y=0;y<p.length;y++)r(p[y],o,!!A)}else r(f,o,!!A);let m,x;if(A)x=-1,m=A,A=null;else if(o<s.childCount)x=o,m=s.child(o++);else break;for(let y=0;y<d.length;y++)d[y].to<=l&&d.splice(y--,1);for(;u<a.length&&a[u].from<=l&&a[u].to>l;)d.push(a[u++]);let b=l+m.nodeSize;if(m.isText){let y=b;u<a.length&&a[u].from<y&&(y=a[u].from);for(let T=0;T<d.length;T++)d[T].to<y&&(y=d[T].to);y<b&&(A=m.cut(y-l),m=m.cut(0,y-l),b=y,x=-1)}else for(;u<a.length&&a[u].to<b;)u++;let j=m.isInline&&!m.isLeaf?d.filter(y=>!y.inline):d.slice();n(m,j,e.forChild(l,m),x),l=b}}function SQ(s){if(s.nodeName=="UL"||s.nodeName=="OL"){let e=s.style.cssText;s.style.cssText=e+"; list-style: square !important",window.getComputedStyle(s).listStyle,s.style.cssText=e}}function EQ(s,e,r,n){for(let a=0,l=0;a<s.childCount&&l<=n;){let u=s.child(a++),d=l;if(l+=u.nodeSize,!u.isText)continue;let A=u.text;for(;a<s.childCount;){let o=s.child(a++);if(l+=o.nodeSize,!o.isText)break;A+=o.text}if(l>=r){if(l>=n&&A.slice(n-e.length-d,n-d)==e)return n-e.length;let o=d<n?A.lastIndexOf(e,n-d-1):-1;if(o>=0&&o+e.length+d>=r)return d+o;if(r==n&&A.length>=n+e.length-d&&A.slice(n-d,n-d+e.length)==e)return n}}return-1}function kv(s,e,r,n,a){let l=[];for(let u=0,d=0;u<s.length;u++){let A=s[u],o=d,f=d+=A.size;o>=r||f<=e?l.push(A):(o<e&&l.push(A.slice(0,e-o,n)),a&&(l.push(a),a=void 0),f>r&&l.push(A.slice(r-o,A.size,n)))}return l}function vy(s,e=null){let r=s.domSelectionRange(),n=s.state.doc;if(!r.focusNode)return null;let a=s.docView.nearestDesc(r.focusNode),l=a&&a.size==0,u=s.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(u<0)return null;let d=n.resolve(u),A,o;if(Ax(r)){for(A=u;a&&!a.node;)a=a.parent;let p=a.node;if(a&&p.isAtom&&wn.isSelectable(p)&&a.parent&&!(p.isInline&&sQ(r.focusNode,r.focusOffset,a.dom))){let m=a.posBefore;o=new wn(u==m?d:n.resolve(m))}}else{if(r instanceof s.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let p=u,m=u;for(let x=0;x<r.rangeCount;x++){let b=r.getRangeAt(x);p=Math.min(p,s.docView.posFromDOM(b.startContainer,b.startOffset,1)),m=Math.max(m,s.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(p<0)return null;[A,u]=m==s.state.selection.anchor?[m,p]:[p,m],d=n.resolve(u)}else A=s.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(A<0)return null}let f=n.resolve(A);if(!o){let p=e=="pointer"||s.state.selection.head<d.pos&&!l?1:-1;o=yy(s,f,d,p)}return o}function tk(s){return s.editable?s.hasFocus():rk(s)&&document.activeElement&&document.activeElement.contains(s.dom)}function PA(s,e=!1){let r=s.state.selection;if(sk(s,r),!!tk(s)){if(!e&&s.input.mouseDown&&s.input.mouseDown.allowDefault&&dc){let n=s.domSelectionRange(),a=s.domObserver.currentSelection;if(n.anchorNode&&a.anchorNode&&jf(n.anchorNode,n.anchorOffset,a.anchorNode,a.anchorOffset)){s.input.mouseDown.delayedSelectionSync=!0,s.domObserver.setCurSelection();return}}if(s.domObserver.disconnectSelection(),s.cursorWrapper)UQ(s);else{let{anchor:n,head:a}=r,l,u;L2&&!(r instanceof Gn)&&(r.$from.parent.inlineContent||(l=M2(s,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(u=M2(s,r.to))),s.docView.setSelection(n,a,s,e),L2&&(l&&O2(l),u&&O2(u)),r.visible?s.dom.classList.remove("ProseMirror-hideselection"):(s.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&TQ(s))}s.domObserver.setCurSelection(),s.domObserver.connectSelection()}}const L2=Gc||dc&&HN<63;function M2(s,e){let{node:r,offset:n}=s.docView.domFromPos(e,0),a=n<r.childNodes.length?r.childNodes[n]:null,l=n?r.childNodes[n-1]:null;if(Gc&&a&&a.contentEditable=="false")return Cb(a);if((!a||a.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(a)return Cb(a);if(l)return Cb(l)}}function Cb(s){return s.contentEditable="true",Gc&&s.draggable&&(s.draggable=!1,s.wasDraggable=!0),s}function O2(s){s.contentEditable="false",s.wasDraggable&&(s.draggable=!0,s.wasDraggable=null)}function TQ(s){let e=s.dom.ownerDocument;e.removeEventListener("selectionchange",s.input.hideSelectionGuard);let r=s.domSelectionRange(),n=r.anchorNode,a=r.anchorOffset;e.addEventListener("selectionchange",s.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=a)&&(e.removeEventListener("selectionchange",s.input.hideSelectionGuard),setTimeout(()=>{(!tk(s)||s.state.selection.visible)&&s.dom.classList.remove("ProseMirror-hideselection")},20))})}function UQ(s){let e=s.domSelection();if(!e)return;let r=s.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Ec(r)+1):e.collapse(r,0),!n&&!s.state.selection.visible&&Fd&&Uh<=11&&(r.disabled=!0,r.disabled=!1)}function sk(s,e){if(e instanceof wn){let r=s.docView.descAt(e.from);r!=s.lastSelectedViewDesc&&(I2(s),r&&r.selectNode(),s.lastSelectedViewDesc=r)}else I2(s)}function I2(s){s.lastSelectedViewDesc&&(s.lastSelectedViewDesc.parent&&s.lastSelectedViewDesc.deselectNode(),s.lastSelectedViewDesc=void 0)}function yy(s,e,r,n){return s.someProp("createSelectionBetween",a=>a(s,e,r))||Gn.between(e,r,n)}function D2(s){return s.editable&&!s.hasFocus()?!1:rk(s)}function rk(s){let e=s.domSelectionRange();if(!e.anchorNode)return!1;try{return s.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(s.editable||s.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function FQ(s){let e=s.docView.domFromPos(s.state.selection.anchor,0),r=s.domSelectionRange();return jf(e.node,e.offset,r.anchorNode,r.anchorOffset)}function Cv(s,e){let{$anchor:r,$head:n}=s.selection,a=e>0?r.max(n):r.min(n),l=a.parent.inlineContent?a.depth?s.doc.resolve(e>0?a.after():a.before()):null:a;return l&&ha.findFrom(l,e)}function bh(s,e){return s.dispatch(s.state.tr.setSelection(e).scrollIntoView()),!0}function R2(s,e,r){let n=s.state.selection;if(n instanceof Gn)if(r.indexOf("s")>-1){let{$head:a}=n,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let u=s.state.doc.resolve(a.pos+l.nodeSize*(e<0?-1:1));return bh(s,new Gn(n.$anchor,u))}else if(n.empty){if(s.endOfTextblock(e>0?"forward":"backward")){let a=Cv(s.state,e);return a&&a instanceof wn?bh(s,a):!1}else if(!(cu&&r.indexOf("m")>-1)){let a=n.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter,u;if(!l||l.isText)return!1;let d=e<0?a.pos-l.nodeSize:a.pos;return l.isAtom||(u=s.docView.descAt(d))&&!u.contentDOM?wn.isSelectable(l)?bh(s,new wn(e<0?s.state.doc.resolve(a.pos-l.nodeSize):a)):Lm?bh(s,new Gn(s.state.doc.resolve(e<0?d:d+l.nodeSize))):!1:!1}}else return!1;else{if(n instanceof wn&&n.node.isInline)return bh(s,new Gn(e>0?n.$to:n.$from));{let a=Cv(s.state,e);return a?bh(s,a):!1}}}function ig(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function nm(s,e){let r=s.pmViewDesc;return r&&r.size==0&&(e<0||s.nextSibling||s.nodeName!="BR")}function Xf(s,e){return e<0?LQ(s):MQ(s)}function LQ(s){let e=s.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a,l,u=!1;for(fu&&r.nodeType==1&&n<ig(r)&&nm(r.childNodes[n],-1)&&(u=!0);;)if(n>0){if(r.nodeType!=1)break;{let d=r.childNodes[n-1];if(nm(d,-1))a=r,l=--n;else if(d.nodeType==3)r=d,n=r.nodeValue.length;else break}}else{if(nk(r))break;{let d=r.previousSibling;for(;d&&nm(d,-1);)a=r.parentNode,l=Ec(d),d=d.previousSibling;if(d)r=d,n=ig(r);else{if(r=r.parentNode,r==s.dom)break;n=0}}}u?Bv(s,r,n):a&&Bv(s,a,l)}function MQ(s){let e=s.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a=ig(r),l,u;for(;;)if(n<a){if(r.nodeType!=1)break;let d=r.childNodes[n];if(nm(d,1))l=r,u=++n;else break}else{if(nk(r))break;{let d=r.nextSibling;for(;d&&nm(d,1);)l=d.parentNode,u=Ec(d)+1,d=d.nextSibling;if(d)r=d,n=0,a=ig(r);else{if(r=r.parentNode,r==s.dom)break;n=a=0}}}l&&Bv(s,l,u)}function nk(s){let e=s.pmViewDesc;return e&&e.node&&e.node.isBlock}function OQ(s,e){for(;s&&e==s.childNodes.length&&!Fm(s);)e=Ec(s)+1,s=s.parentNode;for(;s&&e<s.childNodes.length;){let r=s.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;s=r,e=0}}function IQ(s,e){for(;s&&!e&&!Fm(s);)e=Ec(s),s=s.parentNode;for(;s&&e;){let r=s.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;s=r,e=s.childNodes.length}}function Bv(s,e,r){if(e.nodeType!=3){let l,u;(u=OQ(e,r))?(e=u,r=0):(l=IQ(e,r))&&(e=l,r=l.nodeValue.length)}let n=s.domSelection();if(!n)return;if(Ax(n)){let l=document.createRange();l.setEnd(e,r),l.setStart(e,r),n.removeAllRanges(),n.addRange(l)}else n.extend&&n.extend(e,r);s.domObserver.setCurSelection();let{state:a}=s;setTimeout(()=>{s.state==a&&PA(s)},50)}function P2(s,e){let r=s.state.doc.resolve(e);if(!(dc||zN)&&r.parent.inlineContent){let a=s.coordsAtPos(e);if(e>r.start()){let l=s.coordsAtPos(e-1),u=(l.top+l.bottom)/2;if(u>a.top&&u<a.bottom&&Math.abs(l.left-a.left)>1)return l.left<a.left?"ltr":"rtl"}if(e<r.end()){let l=s.coordsAtPos(e+1),u=(l.top+l.bottom)/2;if(u>a.top&&u<a.bottom&&Math.abs(l.left-a.left)>1)return l.left>a.left?"ltr":"rtl"}}return getComputedStyle(s.dom).direction=="rtl"?"rtl":"ltr"}function Q2(s,e,r){let n=s.state.selection;if(n instanceof Gn&&!n.empty||r.indexOf("s")>-1||cu&&r.indexOf("m")>-1)return!1;let{$from:a,$to:l}=n;if(!a.parent.inlineContent||s.endOfTextblock(e<0?"up":"down")){let u=Cv(s.state,e);if(u&&u instanceof wn)return bh(s,u)}if(!a.parent.inlineContent){let u=e<0?a:l,d=n instanceof Yd?ha.near(u,e):ha.findFrom(u,e);return d?bh(s,d):!1}return!1}function _2(s,e){if(!(s.state.selection instanceof Gn))return!0;let{$head:r,$anchor:n,empty:a}=s.state.selection;if(!r.sameParent(n))return!0;if(!a)return!1;if(s.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(l&&!l.isText){let u=s.state.tr;return e<0?u.delete(r.pos-l.nodeSize,r.pos):u.delete(r.pos,r.pos+l.nodeSize),s.dispatch(u),!0}return!1}function H2(s,e,r){s.domObserver.stop(),e.contentEditable=r,s.domObserver.start()}function DQ(s){if(!Gc||s.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=s.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;H2(s,n,"true"),setTimeout(()=>H2(s,n,"false"),20)}return!1}function RQ(s){let e="";return s.ctrlKey&&(e+="c"),s.metaKey&&(e+="m"),s.altKey&&(e+="a"),s.shiftKey&&(e+="s"),e}function PQ(s,e){let r=e.keyCode,n=RQ(e);if(r==8||cu&&r==72&&n=="c")return _2(s,-1)||Xf(s,-1);if(r==46&&!e.shiftKey||cu&&r==68&&n=="c")return _2(s,1)||Xf(s,1);if(r==13||r==27)return!0;if(r==37||cu&&r==66&&n=="c"){let a=r==37?P2(s,s.state.selection.from)=="ltr"?-1:1:-1;return R2(s,a,n)||Xf(s,a)}else if(r==39||cu&&r==70&&n=="c"){let a=r==39?P2(s,s.state.selection.from)=="ltr"?1:-1:1;return R2(s,a,n)||Xf(s,a)}else{if(r==38||cu&&r==80&&n=="c")return Q2(s,-1,n)||Xf(s,-1);if(r==40||cu&&r==78&&n=="c")return DQ(s)||Q2(s,1,n)||Xf(s,1);if(n==(cu?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function wy(s,e){s.someProp("transformCopied",x=>{e=x(e,s)});let r=[],{content:n,openStart:a,openEnd:l}=e;for(;a>1&&l>1&&n.childCount==1&&n.firstChild.childCount==1;){a--,l--;let x=n.firstChild;r.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),n=x.content}let u=s.someProp("clipboardSerializer")||Bf.fromSchema(s.state.schema),d=dk(),A=d.createElement("div");A.appendChild(u.serializeFragment(n,{document:d}));let o=A.firstChild,f,p=0;for(;o&&o.nodeType==1&&(f=ck[o.nodeName.toLowerCase()]);){for(let x=f.length-1;x>=0;x--){let b=d.createElement(f[x]);for(;A.firstChild;)b.appendChild(A.firstChild);A.appendChild(b),p++}o=A.firstChild}o&&o.nodeType==1&&o.setAttribute("data-pm-slice",`${a} ${l}${p?` -${p}`:""} ${JSON.stringify(r)}`);let m=s.someProp("clipboardTextSerializer",x=>x(e,s))||e.content.textBetween(0,e.content.size,`

`);return{dom:A,text:m,slice:e}}function ak(s,e,r,n,a){let l=a.parent.type.spec.code,u,d;if(!r&&!e)return null;let A=!!e&&(n||l||!r);if(A){if(s.someProp("transformPastedText",m=>{e=m(e,l||n,s)}),l)return d=new Mr(Gs.from(s.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),s.someProp("transformPasted",m=>{d=m(d,s,!0)}),d;let p=s.someProp("clipboardTextParser",m=>m(e,a,n,s));if(p)d=p;else{let m=a.marks(),{schema:x}=s.state,b=Bf.fromSchema(x);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(j=>{let y=u.appendChild(document.createElement("p"));j&&y.appendChild(b.serializeNode(x.text(j,m)))})}}else s.someProp("transformPastedHTML",p=>{r=p(r,s)}),u=zQ(r),Lm&&$Q(u);let o=u&&u.querySelector("[data-pm-slice]"),f=o&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(o.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let m=u.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;u=m}if(d||(d=(s.someProp("clipboardParser")||s.someProp("domParser")||tm.fromSchema(s.state.schema)).parseSlice(u,{preserveWhitespace:!!(A||f),context:a,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!QQ.test(m.parentNode.nodeName)?{ignore:!0}:null}})),f)d=VQ(z2(d,+f[1],+f[2]),f[4]);else if(d=Mr.maxOpen(_Q(d.content,a),!0),d.openStart||d.openEnd){let p=0,m=0;for(let x=d.content.firstChild;p<d.openStart&&!x.type.spec.isolating;p++,x=x.firstChild);for(let x=d.content.lastChild;m<d.openEnd&&!x.type.spec.isolating;m++,x=x.lastChild);d=z2(d,p,m)}return s.someProp("transformPasted",p=>{d=p(d,s,A)}),d}const QQ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function _Q(s,e){if(s.childCount<2)return s;for(let r=e.depth;r>=0;r--){let a=e.node(r).contentMatchAt(e.index(r)),l,u=[];if(s.forEach(d=>{if(!u)return;let A=a.findWrapping(d.type),o;if(!A)return u=null;if(o=u.length&&l.length&&ok(A,l,d,u[u.length-1],0))u[u.length-1]=o;else{u.length&&(u[u.length-1]=lk(u[u.length-1],l.length));let f=ik(d,A);u.push(f),a=a.matchType(f.type),l=A}}),u)return Gs.from(u)}return s}function ik(s,e,r=0){for(let n=e.length-1;n>=r;n--)s=e[n].create(null,Gs.from(s));return s}function ok(s,e,r,n,a){if(a<s.length&&a<e.length&&s[a]==e[a]){let l=ok(s,e,r,n.lastChild,a+1);if(l)return n.copy(n.content.replaceChild(n.childCount-1,l));if(n.contentMatchAt(n.childCount).matchType(a==s.length-1?r.type:s[a+1]))return n.copy(n.content.append(Gs.from(ik(r,s,a+1))))}}function lk(s,e){if(e==0)return s;let r=s.content.replaceChild(s.childCount-1,lk(s.lastChild,e-1)),n=s.contentMatchAt(s.childCount).fillBefore(Gs.empty,!0);return s.copy(r.append(n))}function Sv(s,e,r,n,a,l){let u=e<0?s.firstChild:s.lastChild,d=u.content;return s.childCount>1&&(l=0),a<n-1&&(d=Sv(d,e,r,n,a+1,l)),a>=r&&(d=e<0?u.contentMatchAt(0).fillBefore(d,l<=a).append(d):d.append(u.contentMatchAt(u.childCount).fillBefore(Gs.empty,!0))),s.replaceChild(e<0?0:s.childCount-1,u.copy(d))}function z2(s,e,r){return e<s.openStart&&(s=new Mr(Sv(s.content,-1,e,s.openStart,0,s.openEnd),e,s.openEnd)),r<s.openEnd&&(s=new Mr(Sv(s.content,1,r,s.openEnd,0,0),s.openStart,r)),s}const ck={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let $2=null;function dk(){return $2||($2=document.implementation.createHTMLDocument("title"))}let Bb=null;function HQ(s){let e=window.trustedTypes;return e?(Bb||(Bb=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),Bb.createHTML(s)):s}function zQ(s){let e=/^(\s*<meta [^>]*>)*/.exec(s);e&&(s=s.slice(e[0].length));let r=dk().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(s),a;if((a=n&&ck[n[1].toLowerCase()])&&(s=a.map(l=>"<"+l+">").join("")+s+a.map(l=>"</"+l+">").reverse().join("")),r.innerHTML=HQ(s),a)for(let l=0;l<a.length;l++)r=r.querySelector(a[l])||r;return r}function $Q(s){let e=s.querySelectorAll(dc?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(s.ownerDocument.createTextNode(" "),n)}}function VQ(s,e){if(!s.size)return s;let r=s.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return s}let{content:a,openStart:l,openEnd:u}=s;for(let d=n.length-2;d>=0;d-=2){let A=r.nodes[n[d]];if(!A||A.hasRequiredAttrs())break;a=Gs.from(A.create(n[d+1],a)),l++,u++}return new Mr(a,l,u)}const dd={},ud={},KQ={touchstart:!0,touchmove:!0};class GQ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function WQ(s){for(let e in dd){let r=dd[e];s.dom.addEventListener(e,s.input.eventHandlers[e]=n=>{XQ(s,n)&&!jy(s,n)&&(s.editable||!(n.type in ud))&&r(s,n)},KQ[e]?{passive:!0}:void 0)}Gc&&s.dom.addEventListener("input",()=>null),Ev(s)}function Bh(s,e){s.input.lastSelectionOrigin=e,s.input.lastSelectionTime=Date.now()}function YQ(s){s.domObserver.stop();for(let e in s.input.eventHandlers)s.dom.removeEventListener(e,s.input.eventHandlers[e]);clearTimeout(s.input.composingTimeout),clearTimeout(s.input.lastIOSEnterFallbackTimeout)}function Ev(s){s.someProp("handleDOMEvents",e=>{for(let r in e)s.input.eventHandlers[r]||s.dom.addEventListener(r,s.input.eventHandlers[r]=n=>jy(s,n))})}function jy(s,e){return s.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(s,e)||e.defaultPrevented:!1})}function XQ(s,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=s.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function JQ(s,e){!jy(s,e)&&dd[e.type]&&(s.editable||!(e.type in ud))&&dd[e.type](s,e)}ud.keydown=(s,e)=>{let r=e;if(s.input.shiftKey=r.keyCode==16||r.shiftKey,!Ak(s,r)&&(s.input.lastKeyCode=r.keyCode,s.input.lastKeyCodeTime=Date.now(),!(IA&&dc&&r.keyCode==13)))if(r.keyCode!=229&&s.domObserver.forceFlush(),fp&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();s.input.lastIOSEnter=n,s.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{s.input.lastIOSEnter==n&&(s.someProp("handleKeyDown",a=>a(s,of(13,"Enter"))),s.input.lastIOSEnter=0)},200)}else s.someProp("handleKeyDown",n=>n(s,r))||PQ(s,r)?r.preventDefault():Bh(s,"key")};ud.keyup=(s,e)=>{e.keyCode==16&&(s.input.shiftKey=!1)};ud.keypress=(s,e)=>{let r=e;if(Ak(s,r)||!r.charCode||r.ctrlKey&&!r.altKey||cu&&r.metaKey)return;if(s.someProp("handleKeyPress",a=>a(s,r))){r.preventDefault();return}let n=s.state.selection;if(!(n instanceof Gn)||!n.$from.sameParent(n.$to)){let a=String.fromCharCode(r.charCode),l=()=>s.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!s.someProp("handleTextInput",u=>u(s,n.$from.pos,n.$to.pos,a,l))&&s.dispatch(l()),r.preventDefault()}};function fx(s){return{left:s.clientX,top:s.clientY}}function ZQ(s,e){let r=e.x-s.clientX,n=e.y-s.clientY;return r*r+n*n<100}function Ny(s,e,r,n,a){if(n==-1)return!1;let l=s.state.doc.resolve(n);for(let u=l.depth+1;u>0;u--)if(s.someProp(e,d=>u>l.depth?d(s,r,l.nodeAfter,l.before(u),a,!0):d(s,r,l.node(u),l.before(u),a,!1)))return!0;return!1}function rp(s,e,r){if(s.focused||s.focus(),s.state.selection.eq(e))return;let n=s.state.tr.setSelection(e);n.setMeta("pointer",!0),s.dispatch(n)}function qQ(s,e){if(e==-1)return!1;let r=s.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&wn.isSelectable(n)?(rp(s,new wn(r)),!0):!1}function e_(s,e){if(e==-1)return!1;let r=s.state.selection,n,a;r instanceof wn&&(n=r.node);let l=s.state.doc.resolve(e);for(let u=l.depth+1;u>0;u--){let d=u>l.depth?l.nodeAfter:l.node(u);if(wn.isSelectable(d)){n&&r.$from.depth>0&&u>=r.$from.depth&&l.before(r.$from.depth+1)==r.$from.pos?a=l.before(r.$from.depth):a=l.before(u);break}}return a!=null?(rp(s,wn.create(s.state.doc,a)),!0):!1}function t_(s,e,r,n,a){return Ny(s,"handleClickOn",e,r,n)||s.someProp("handleClick",l=>l(s,e,n))||(a?e_(s,r):qQ(s,r))}function s_(s,e,r,n){return Ny(s,"handleDoubleClickOn",e,r,n)||s.someProp("handleDoubleClick",a=>a(s,e,n))}function r_(s,e,r,n){return Ny(s,"handleTripleClickOn",e,r,n)||s.someProp("handleTripleClick",a=>a(s,e,n))||n_(s,r,n)}function n_(s,e,r){if(r.button!=0)return!1;let n=s.state.doc;if(e==-1)return n.inlineContent?(rp(s,Gn.create(n,0,n.content.size)),!0):!1;let a=n.resolve(e);for(let l=a.depth+1;l>0;l--){let u=l>a.depth?a.nodeAfter:a.node(l),d=a.before(l);if(u.inlineContent)rp(s,Gn.create(n,d+1,d+1+u.content.size));else if(wn.isSelectable(u))rp(s,wn.create(n,d));else continue;return!0}}function ky(s){return og(s)}const uk=cu?"metaKey":"ctrlKey";dd.mousedown=(s,e)=>{let r=e;s.input.shiftKey=r.shiftKey;let n=ky(s),a=Date.now(),l="singleClick";a-s.input.lastClick.time<500&&ZQ(r,s.input.lastClick)&&!r[uk]&&s.input.lastClick.button==r.button&&(s.input.lastClick.type=="singleClick"?l="doubleClick":s.input.lastClick.type=="doubleClick"&&(l="tripleClick")),s.input.lastClick={time:a,x:r.clientX,y:r.clientY,type:l,button:r.button};let u=s.posAtCoords(fx(r));u&&(l=="singleClick"?(s.input.mouseDown&&s.input.mouseDown.done(),s.input.mouseDown=new a_(s,u,r,!!n)):(l=="doubleClick"?s_:r_)(s,u.pos,u.inside,r)?r.preventDefault():Bh(s,"pointer"))};class a_{constructor(e,r,n,a){this.view=e,this.pos=r,this.event=n,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[uk],this.allowDefault=n.shiftKey;let l,u;if(r.inside>-1)l=e.state.doc.nodeAt(r.inside),u=r.inside;else{let f=e.state.doc.resolve(r.pos);l=f.parent,u=f.depth?f.before():0}const d=a?null:n.target,A=d?e.docView.nearestDesc(d,!0):null;this.target=A&&A.nodeDOM.nodeType==1?A.nodeDOM:null;let{selection:o}=e.state;(n.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||o instanceof wn&&o.from<=u&&o.to>u)&&(this.mightDrag={node:l,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fu&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Bh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>PA(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(fx(e))),this.updateAllowDefault(e),this.allowDefault||!r?Bh(this.view,"pointer"):t_(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Gc&&this.mightDrag&&!this.mightDrag.node.isAtom||dc&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(rp(this.view,ha.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Bh(this.view,"pointer")}move(e){this.updateAllowDefault(e),Bh(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}dd.touchstart=s=>{s.input.lastTouch=Date.now(),ky(s),Bh(s,"pointer")};dd.touchmove=s=>{s.input.lastTouch=Date.now(),Bh(s,"pointer")};dd.contextmenu=s=>ky(s);function Ak(s,e){return s.composing?!0:Gc&&Math.abs(e.timeStamp-s.input.compositionEndedAt)<500?(s.input.compositionEndedAt=-2e8,!0):!1}const i_=IA?5e3:-1;ud.compositionstart=ud.compositionupdate=s=>{if(!s.composing){s.domObserver.flush();let{state:e}=s,r=e.selection.$to;if(e.selection instanceof Gn&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||dc&&zN&&o_(s)))s.markCursor=s.state.storedMarks||r.marks(),og(s,!0),s.markCursor=null;else if(og(s,!e.selection.empty),fu&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=s.domSelectionRange();for(let a=n.focusNode,l=n.focusOffset;a&&a.nodeType==1&&l!=0;){let u=l<0?a.lastChild:a.childNodes[l-1];if(!u)break;if(u.nodeType==3){let d=s.domSelection();d&&d.collapse(u,u.nodeValue.length);break}else a=u,l=-1}}s.input.composing=!0}hk(s,i_)};function o_(s){let{focusNode:e,focusOffset:r}=s.domSelectionRange();if(!e||e.nodeType!=1||r>=e.childNodes.length)return!1;let n=e.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}ud.compositionend=(s,e)=>{s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=e.timeStamp,s.input.compositionPendingChanges=s.domObserver.pendingRecords().length?s.input.compositionID:0,s.input.compositionNode=null,s.input.compositionPendingChanges&&Promise.resolve().then(()=>s.domObserver.flush()),s.input.compositionID++,hk(s,20))};function hk(s,e){clearTimeout(s.input.composingTimeout),e>-1&&(s.input.composingTimeout=setTimeout(()=>og(s),e))}function fk(s){for(s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=c_());s.input.compositionNodes.length>0;)s.input.compositionNodes.pop().markParentsDirty()}function l_(s){let e=s.domSelectionRange();if(!e.focusNode)return null;let r=eQ(e.focusNode,e.focusOffset),n=tQ(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let a=n.pmViewDesc,l=s.domObserver.lastChangedTextNode;if(r==l||n==l)return l;if(!a||!a.isText(n.nodeValue))return n;if(s.input.compositionNode==n){let u=r.pmViewDesc;if(!(!u||!u.isText(r.nodeValue)))return n}}return r||n}function c_(){let s=document.createEvent("Event");return s.initEvent("event",!0,!0),s.timeStamp}function og(s,e=!1){if(!(IA&&s.domObserver.flushingSoon>=0)){if(s.domObserver.forceFlush(),fk(s),e||s.docView&&s.docView.dirty){let r=vy(s),n=s.state.selection;return r&&!r.eq(n)?s.dispatch(s.state.tr.setSelection(r)):(s.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?s.dispatch(s.state.tr.deleteSelection()):s.updateState(s.state),!0}return!1}}function d_(s,e){if(!s.dom.parentNode)return;let r=s.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),a=document.createRange();a.selectNodeContents(e),s.dom.blur(),n.removeAllRanges(),n.addRange(a),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),s.focus()},50)}const vm=Fd&&Uh<15||fp&&aQ<604;dd.copy=ud.cut=(s,e)=>{let r=e,n=s.state.selection,a=r.type=="cut";if(n.empty)return;let l=vm?null:r.clipboardData,u=n.content(),{dom:d,text:A}=wy(s,u);l?(r.preventDefault(),l.clearData(),l.setData("text/html",d.innerHTML),l.setData("text/plain",A)):d_(s,d),a&&s.dispatch(s.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function u_(s){return s.openStart==0&&s.openEnd==0&&s.content.childCount==1?s.content.firstChild:null}function A_(s,e){if(!s.dom.parentNode)return;let r=s.input.shiftKey||s.state.selection.$from.parent.type.spec.code,n=s.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let a=s.input.shiftKey&&s.input.lastKeyCode!=45;setTimeout(()=>{s.focus(),n.parentNode&&n.parentNode.removeChild(n),r?ym(s,n.value,null,a,e):ym(s,n.textContent,n.innerHTML,a,e)},50)}function ym(s,e,r,n,a){let l=ak(s,e,r,n,s.state.selection.$from);if(s.someProp("handlePaste",A=>A(s,a,l||Mr.empty)))return!0;if(!l)return!1;let u=u_(l),d=u?s.state.tr.replaceSelectionWith(u,n):s.state.tr.replaceSelection(l);return s.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function pk(s){let e=s.getData("text/plain")||s.getData("Text");if(e)return e;let r=s.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}ud.paste=(s,e)=>{let r=e;if(s.composing&&!IA)return;let n=vm?null:r.clipboardData,a=s.input.shiftKey&&s.input.lastKeyCode!=45;n&&ym(s,pk(n),n.getData("text/html"),a,r)?r.preventDefault():A_(s,r)};class mk{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const h_=cu?"altKey":"ctrlKey";function gk(s,e){let r=s.someProp("dragCopies",n=>!n(e));return r??!e[h_]}dd.dragstart=(s,e)=>{let r=e,n=s.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let a=s.state.selection,l=a.empty?null:s.posAtCoords(fx(r)),u;if(!(l&&l.pos>=a.from&&l.pos<=(a instanceof wn?a.to-1:a.to))){if(n&&n.mightDrag)u=wn.create(s.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let p=s.docView.nearestDesc(r.target,!0);p&&p.node.type.spec.draggable&&p!=s.docView&&(u=wn.create(s.state.doc,p.posBefore))}}let d=(u||s.state.selection).content(),{dom:A,text:o,slice:f}=wy(s,d);(!r.dataTransfer.files.length||!dc||HN>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(vm?"Text":"text/html",A.innerHTML),r.dataTransfer.effectAllowed="copyMove",vm||r.dataTransfer.setData("text/plain",o),s.dragging=new mk(f,gk(s,r),u)};dd.dragend=s=>{let e=s.dragging;window.setTimeout(()=>{s.dragging==e&&(s.dragging=null)},50)};ud.dragover=ud.dragenter=(s,e)=>e.preventDefault();ud.drop=(s,e)=>{try{f_(s,e,s.dragging)}finally{s.dragging=null}};function f_(s,e,r){if(!e.dataTransfer)return;let n=s.posAtCoords(fx(e));if(!n)return;let a=s.state.doc.resolve(n.pos),l=r&&r.slice;l?s.someProp("transformPasted",x=>{l=x(l,s,!1)}):l=ak(s,pk(e.dataTransfer),vm?null:e.dataTransfer.getData("text/html"),!1,a);let u=!!(r&&gk(s,e));if(s.someProp("handleDrop",x=>x(s,e,l||Mr.empty,u))){e.preventDefault();return}if(!l)return;e.preventDefault();let d=l?yN(s.state.doc,a.pos,l):a.pos;d==null&&(d=a.pos);let A=s.state.tr;if(u){let{node:x}=r;x?x.replace(A):A.deleteSelection()}let o=A.mapping.map(d),f=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,p=A.doc;if(f?A.replaceRangeWith(o,o,l.content.firstChild):A.replaceRange(o,o,l),A.doc.eq(p))return;let m=A.doc.resolve(o);if(f&&wn.isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild))A.setSelection(new wn(m));else{let x=A.mapping.map(d);A.mapping.maps[A.mapping.maps.length-1].forEach((b,j,y,T)=>x=T),A.setSelection(yy(s,m,A.doc.resolve(x)))}s.focus(),s.dispatch(A.setMeta("uiEvent","drop"))}dd.focus=s=>{s.input.lastFocus=Date.now(),s.focused||(s.domObserver.stop(),s.dom.classList.add("ProseMirror-focused"),s.domObserver.start(),s.focused=!0,setTimeout(()=>{s.docView&&s.hasFocus()&&!s.domObserver.currentSelection.eq(s.domSelectionRange())&&PA(s)},20))};dd.blur=(s,e)=>{let r=e;s.focused&&(s.domObserver.stop(),s.dom.classList.remove("ProseMirror-focused"),s.domObserver.start(),r.relatedTarget&&s.dom.contains(r.relatedTarget)&&s.domObserver.currentSelection.clear(),s.focused=!1)};dd.beforeinput=(s,e)=>{if(dc&&IA&&e.inputType=="deleteContentBackward"){s.domObserver.flushSoon();let{domChangeCount:n}=s.input;setTimeout(()=>{if(s.input.domChangeCount!=n||(s.dom.blur(),s.focus(),s.someProp("handleKeyDown",l=>l(s,of(8,"Backspace")))))return;let{$cursor:a}=s.state.selection;a&&a.pos>0&&s.dispatch(s.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let s in ud)dd[s]=ud[s];function wm(s,e){if(s==e)return!0;for(let r in s)if(s[r]!==e[r])return!1;for(let r in e)if(!(r in s))return!1;return!0}class lg{constructor(e,r){this.toDOM=e,this.spec=r||pf,this.side=this.spec.side||0}map(e,r,n,a){let{pos:l,deleted:u}=e.mapResult(r.from+a,this.side<0?-1:1);return u?null:new ld(l-n,l-n,this)}valid(){return!0}eq(e){return this==e||e instanceof lg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&wm(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Lh{constructor(e,r){this.attrs=e,this.spec=r||pf}map(e,r,n,a){let l=e.map(r.from+a,this.spec.inclusiveStart?-1:1)-n,u=e.map(r.to+a,this.spec.inclusiveEnd?1:-1)-n;return l>=u?null:new ld(l,u,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Lh&&wm(this.attrs,e.attrs)&&wm(this.spec,e.spec)}static is(e){return e.type instanceof Lh}destroy(){}}class Cy{constructor(e,r){this.attrs=e,this.spec=r||pf}map(e,r,n,a){let l=e.mapResult(r.from+a,1);if(l.deleted)return null;let u=e.mapResult(r.to+a,-1);return u.deleted||u.pos<=l.pos?null:new ld(l.pos-n,u.pos-n,this)}valid(e,r){let{index:n,offset:a}=e.content.findIndex(r.from),l;return a==r.from&&!(l=e.child(n)).isText&&a+l.nodeSize==r.to}eq(e){return this==e||e instanceof Cy&&wm(this.attrs,e.attrs)&&wm(this.spec,e.spec)}destroy(){}}class ld{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new ld(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new ld(e,e,new lg(r,n))}static inline(e,r,n,a){return new ld(e,r,new Lh(n,a))}static node(e,r,n,a){return new ld(e,r,new Cy(n,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Lh}get widget(){return this.type instanceof lg}}const Zf=[],pf={};class Co{constructor(e,r){this.local=e.length?e:Zf,this.children=r.length?r:Zf}static create(e,r){return r.length?cg(r,e,0,pf):Vc}find(e,r,n){let a=[];return this.findInner(e??0,r??1e9,a,0,n),a}findInner(e,r,n,a,l){for(let u=0;u<this.local.length;u++){let d=this.local[u];d.from<=r&&d.to>=e&&(!l||l(d.spec))&&n.push(d.copy(d.from+a,d.to+a))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<r&&this.children[u+1]>e){let d=this.children[u]+1;this.children[u+2].findInner(e-d,r-d,n,a+d,l)}}map(e,r,n){return this==Vc||e.maps.length==0?this:this.mapInner(e,r,0,0,n||pf)}mapInner(e,r,n,a,l){let u;for(let d=0;d<this.local.length;d++){let A=this.local[d].map(e,n,a);A&&A.type.valid(r,A)?(u||(u=[])).push(A):l.onRemove&&l.onRemove(this.local[d].spec)}return this.children.length?p_(this.children,u||[],e,r,n,a,l):u?new Co(u.sort(mf),Zf):Vc}add(e,r){return r.length?this==Vc?Co.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let a,l=0;e.forEach((d,A)=>{let o=A+n,f;if(f=bk(r,d,o)){for(a||(a=this.children.slice());l<a.length&&a[l]<A;)l+=3;a[l]==A?a[l+2]=a[l+2].addInner(d,f,o+1):a.splice(l,0,A,A+d.nodeSize,cg(f,d,o+1,pf)),l+=3}});let u=xk(l?vk(r):r,-n);for(let d=0;d<u.length;d++)u[d].type.valid(e,u[d])||u.splice(d--,1);return new Co(u.length?this.local.concat(u).sort(mf):this.local,a||this.children)}remove(e){return e.length==0||this==Vc?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,a=this.local;for(let l=0;l<n.length;l+=3){let u,d=n[l]+r,A=n[l+1]+r;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>d&&p.to<A&&(e[f]=null,(u||(u=[])).push(p));if(!u)continue;n==this.children&&(n=this.children.slice());let o=n[l+2].removeInner(u,d+1);o!=Vc?n[l+2]=o:(n.splice(l,3),l-=3)}if(a.length){for(let l=0,u;l<e.length;l++)if(u=e[l])for(let d=0;d<a.length;d++)a[d].eq(u,r)&&(a==this.local&&(a=this.local.slice()),a.splice(d--,1))}return n==this.children&&a==this.local?this:a.length||n.length?new Co(a,n):Vc}forChild(e,r){if(this==Vc)return this;if(r.isLeaf)return Co.empty;let n,a;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(n=this.children[d+2]);break}let l=e+1,u=l+r.content.size;for(let d=0;d<this.local.length;d++){let A=this.local[d];if(A.from<u&&A.to>l&&A.type instanceof Lh){let o=Math.max(l,A.from)-l,f=Math.min(u,A.to)-l;o<f&&(a||(a=[])).push(A.copy(o,f))}}if(a){let d=new Co(a.sort(mf),Zf);return n?new wh([d,n]):d}return n||Vc}eq(e){if(this==e)return!0;if(!(e instanceof Co)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return By(this.localsInner(e))}localsInner(e){if(this==Vc)return Zf;if(e.inlineContent||!this.local.some(Lh.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Lh||r.push(this.local[n]);return r}forEachSet(e){e(this)}}Co.empty=new Co([],[]);Co.removeOverlap=By;const Vc=Co.empty;class wh{constructor(e){this.members=e}map(e,r){const n=this.members.map(a=>a.map(e,r,pf));return wh.from(n)}forChild(e,r){if(r.isLeaf)return Co.empty;let n=[];for(let a=0;a<this.members.length;a++){let l=this.members[a].forChild(e,r);l!=Vc&&(l instanceof wh?n=n.concat(l.members):n.push(l))}return wh.from(n)}eq(e){if(!(e instanceof wh)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let a=0;a<this.members.length;a++){let l=this.members[a].localsInner(e);if(l.length)if(!r)r=l;else{n&&(r=r.slice(),n=!1);for(let u=0;u<l.length;u++)r.push(l[u])}}return r?By(n?r:r.sort(mf)):Zf}static from(e){switch(e.length){case 0:return Vc;case 1:return e[0];default:return new wh(e.every(r=>r instanceof Co)?e:e.reduce((r,n)=>r.concat(n instanceof Co?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function p_(s,e,r,n,a,l,u){let d=s.slice();for(let o=0,f=l;o<r.maps.length;o++){let p=0;r.maps[o].forEach((m,x,b,j)=>{let y=j-b-(x-m);for(let T=0;T<d.length;T+=3){let R=d[T+1];if(R<0||m>R+f-p)continue;let z=d[T]+f-p;x>=z?d[T+1]=m<=z?-2:-1:m>=f&&y&&(d[T]+=y,d[T+1]+=y)}p+=y}),f=r.maps[o].map(f,-1)}let A=!1;for(let o=0;o<d.length;o+=3)if(d[o+1]<0){if(d[o+1]==-2){A=!0,d[o+1]=-1;continue}let f=r.map(s[o]+l),p=f-a;if(p<0||p>=n.content.size){A=!0;continue}let m=r.map(s[o+1]+l,-1),x=m-a,{index:b,offset:j}=n.content.findIndex(p),y=n.maybeChild(b);if(y&&j==p&&j+y.nodeSize==x){let T=d[o+2].mapInner(r,y,f+1,s[o]+l+1,u);T!=Vc?(d[o]=p,d[o+1]=x,d[o+2]=T):(d[o+1]=-2,A=!0)}else A=!0}if(A){let o=m_(d,s,e,r,a,l,u),f=cg(o,n,0,u);e=f.local;for(let p=0;p<d.length;p+=3)d[p+1]<0&&(d.splice(p,3),p-=3);for(let p=0,m=0;p<f.children.length;p+=3){let x=f.children[p];for(;m<d.length&&d[m]<x;)m+=3;d.splice(m,0,f.children[p],f.children[p+1],f.children[p+2])}}return new Co(e.sort(mf),d)}function xk(s,e){if(!e||!s.length)return s;let r=[];for(let n=0;n<s.length;n++){let a=s[n];r.push(new ld(a.from+e,a.to+e,a.type))}return r}function m_(s,e,r,n,a,l,u){function d(A,o){for(let f=0;f<A.local.length;f++){let p=A.local[f].map(n,a,o);p?r.push(p):u.onRemove&&u.onRemove(A.local[f].spec)}for(let f=0;f<A.children.length;f+=3)d(A.children[f+2],A.children[f]+o+1)}for(let A=0;A<s.length;A+=3)s[A+1]==-1&&d(s[A+2],e[A]+l+1);return r}function bk(s,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,a=null;for(let l=0,u;l<s.length;l++)(u=s[l])&&u.from>r&&u.to<n&&((a||(a=[])).push(u),s[l]=null);return a}function vk(s){let e=[];for(let r=0;r<s.length;r++)s[r]!=null&&e.push(s[r]);return e}function cg(s,e,r,n){let a=[],l=!1;e.forEach((d,A)=>{let o=bk(s,d,A+r);if(o){l=!0;let f=cg(o,d,r+A+1,n);f!=Vc&&a.push(A,A+d.nodeSize,f)}});let u=xk(l?vk(s):s,-r).sort(mf);for(let d=0;d<u.length;d++)u[d].type.valid(e,u[d])||(n.onRemove&&n.onRemove(u[d].spec),u.splice(d--,1));return u.length||a.length?new Co(u,a):Vc}function mf(s,e){return s.from-e.from||s.to-e.to}function By(s){let e=s;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let a=r+1;a<e.length;a++){let l=e[a];if(l.from==n.from){l.to!=n.to&&(e==s&&(e=s.slice()),e[a]=l.copy(l.from,n.to),V2(e,a+1,l.copy(n.to,l.to)));continue}else{l.from<n.to&&(e==s&&(e=s.slice()),e[r]=n.copy(n.from,l.from),V2(e,a,n.copy(l.from,n.to)));break}}}return e}function V2(s,e,r){for(;e<s.length&&mf(r,s[e])>0;)e++;s.splice(e,0,r)}function Sb(s){let e=[];return s.someProp("decorations",r=>{let n=r(s.state);n&&n!=Vc&&e.push(n)}),s.cursorWrapper&&e.push(Co.create(s.state.doc,[s.cursorWrapper.deco])),wh.from(e)}const g_={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},x_=Fd&&Uh<=11;class b_{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class v_{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new b_,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let a=0;a<n.length;a++)this.queue.push(n[a]);Fd&&Uh<=11&&n.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),x_&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,g_)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(D2(this.view)){if(this.suppressingSelectionUpdates)return PA(this.view);if(Fd&&Uh<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&jf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let l=e.focusNode;l;l=hp(l))r.add(l);for(let l=e.anchorNode;l;l=hp(l))if(r.has(l)){n=l;break}let a=n&&this.view.docView.nearestDesc(n);if(a&&a.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&D2(e)&&!this.ignoreSelectionChange(n),l=-1,u=-1,d=!1,A=[];if(e.editable)for(let f=0;f<r.length;f++){let p=this.registerMutation(r[f],A);p&&(l=l<0?p.from:Math.min(p.from,l),u=u<0?p.to:Math.max(p.to,u),p.typeOver&&(d=!0))}if(fu&&A.length){let f=A.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,m]=f;p.parentNode&&p.parentNode.parentNode==m.parentNode?m.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let m of f){let x=m.parentNode;x&&x.nodeName=="LI"&&(!p||j_(e,p)!=x)&&m.remove()}}}else if((dc||Gc)&&A.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of A)if(f.nodeName=="BR"&&f.parentNode){let p=f.nextSibling;p&&p.nodeType==1&&p.contentEditable=="false"&&f.parentNode.removeChild(f)}}let o=null;l<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ax(n)&&(o=vy(e))&&o.eq(ha.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,PA(e),this.currentSelection.set(n),e.scrollToSelection()):(l>-1||a)&&(l>-1&&(e.docView.markDirty(l,u),y_(e)),this.handleDOMChange(l,u,d,A),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||PA(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];r.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let a=e.previousSibling,l=e.nextSibling;if(Fd&&Uh<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:m}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(a=p),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(l=m)}let u=a&&a.parentNode==e.target?Ec(a)+1:0,d=n.localPosFromDOM(e.target,u,-1),A=l&&l.parentNode==e.target?Ec(l):e.target.childNodes.length,o=n.localPosFromDOM(e.target,A,1);return{from:d,to:o}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let K2=new WeakMap,G2=!1;function y_(s){if(!K2.has(s)&&(K2.set(s,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(s.dom).whiteSpace)!==-1)){if(s.requiresGeckoHackNode=fu,G2)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),G2=!0}}function W2(s,e){let r=e.startContainer,n=e.startOffset,a=e.endContainer,l=e.endOffset,u=s.domAtPos(s.state.selection.anchor);return jf(u.node,u.offset,a,l)&&([r,n,a,l]=[a,l,r,n]),{anchorNode:r,anchorOffset:n,focusNode:a,focusOffset:l}}function w_(s,e){if(e.getComposedRanges){let a=e.getComposedRanges(s.root)[0];if(a)return W2(s,a)}let r;function n(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return s.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),s.dom.removeEventListener("beforeinput",n,!0),r?W2(s,r):null}function j_(s,e){for(let r=e.parentNode;r&&r!=s.dom;r=r.parentNode){let n=s.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function N_(s,e,r){let{node:n,fromOffset:a,toOffset:l,from:u,to:d}=s.docView.parseRange(e,r),A=s.domSelectionRange(),o,f=A.anchorNode;if(f&&s.dom.contains(f.nodeType==1?f:f.parentNode)&&(o=[{node:f,offset:A.anchorOffset}],Ax(A)||o.push({node:A.focusNode,offset:A.focusOffset})),dc&&s.input.lastKeyCode===8)for(let y=l;y>a;y--){let T=n.childNodes[y-1],R=T.pmViewDesc;if(T.nodeName=="BR"&&!R){l=y;break}if(!R||R.size)break}let p=s.state.doc,m=s.someProp("domParser")||tm.fromSchema(s.state.schema),x=p.resolve(u),b=null,j=m.parse(n,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:a,to:l,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:o,ruleFromNode:k_,context:x});if(o&&o[0].pos!=null){let y=o[0].pos,T=o[1]&&o[1].pos;T==null&&(T=y),b={anchor:y+u,head:T+u}}return{doc:j,sel:b,from:u,to:d}}function k_(s){let e=s.pmViewDesc;if(e)return e.parseRule();if(s.nodeName=="BR"&&s.parentNode){if(Gc&&/^(ul|ol)$/i.test(s.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(s.parentNode.lastChild==s||Gc&&/^(tr|table)$/i.test(s.parentNode.nodeName))return{ignore:!0}}else if(s.nodeName=="IMG"&&s.getAttribute("mark-placeholder"))return{ignore:!0};return null}const C_=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function B_(s,e,r,n,a){let l=s.input.compositionPendingChanges||(s.composing?s.input.compositionID:0);if(s.input.compositionPendingChanges=0,e<0){let K=s.input.lastSelectionTime>Date.now()-50?s.input.lastSelectionOrigin:null,ce=vy(s,K);if(ce&&!s.state.selection.eq(ce)){if(dc&&IA&&s.input.lastKeyCode===13&&Date.now()-100<s.input.lastKeyCodeTime&&s.someProp("handleKeyDown",Ne=>Ne(s,of(13,"Enter"))))return;let ue=s.state.tr.setSelection(ce);K=="pointer"?ue.setMeta("pointer",!0):K=="key"&&ue.scrollIntoView(),l&&ue.setMeta("composition",l),s.dispatch(ue)}return}let u=s.state.doc.resolve(e),d=u.sharedDepth(r);e=u.before(d+1),r=s.state.doc.resolve(r).after(d+1);let A=s.state.selection,o=N_(s,e,r),f=s.state.doc,p=f.slice(o.from,o.to),m,x;s.input.lastKeyCode===8&&Date.now()-100<s.input.lastKeyCodeTime?(m=s.state.selection.to,x="end"):(m=s.state.selection.from,x="start"),s.input.lastKeyCode=null;let b=T_(p.content,o.doc.content,o.from,m,x);if(b&&s.input.domChangeCount++,(fp&&s.input.lastIOSEnter>Date.now()-225||IA)&&a.some(K=>K.nodeType==1&&!C_.test(K.nodeName))&&(!b||b.endA>=b.endB)&&s.someProp("handleKeyDown",K=>K(s,of(13,"Enter")))){s.input.lastIOSEnter=0;return}if(!b)if(n&&A instanceof Gn&&!A.empty&&A.$head.sameParent(A.$anchor)&&!s.composing&&!(o.sel&&o.sel.anchor!=o.sel.head))b={start:A.from,endA:A.to,endB:A.to};else{if(o.sel){let K=Y2(s,s.state.doc,o.sel);if(K&&!K.eq(s.state.selection)){let ce=s.state.tr.setSelection(K);l&&ce.setMeta("composition",l),s.dispatch(ce)}}return}s.state.selection.from<s.state.selection.to&&b.start==b.endB&&s.state.selection instanceof Gn&&(b.start>s.state.selection.from&&b.start<=s.state.selection.from+2&&s.state.selection.from>=o.from?b.start=s.state.selection.from:b.endA<s.state.selection.to&&b.endA>=s.state.selection.to-2&&s.state.selection.to<=o.to&&(b.endB+=s.state.selection.to-b.endA,b.endA=s.state.selection.to)),Fd&&Uh<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>o.from&&o.doc.textBetween(b.start-o.from-1,b.start-o.from+1)==" "&&(b.start--,b.endA--,b.endB--);let j=o.doc.resolveNoCache(b.start-o.from),y=o.doc.resolveNoCache(b.endB-o.from),T=f.resolve(b.start),R=j.sameParent(y)&&j.parent.inlineContent&&T.end()>=b.endA;if((fp&&s.input.lastIOSEnter>Date.now()-225&&(!R||a.some(K=>K.nodeName=="DIV"||K.nodeName=="P"))||!R&&j.pos<o.doc.content.size&&(!j.sameParent(y)||!j.parent.inlineContent)&&j.pos<y.pos&&!/\S/.test(o.doc.textBetween(j.pos,y.pos,"","")))&&s.someProp("handleKeyDown",K=>K(s,of(13,"Enter")))){s.input.lastIOSEnter=0;return}if(s.state.selection.anchor>b.start&&E_(f,b.start,b.endA,j,y)&&s.someProp("handleKeyDown",K=>K(s,of(8,"Backspace")))){IA&&dc&&s.domObserver.suppressSelectionUpdates();return}dc&&b.endB==b.start&&(s.input.lastChromeDelete=Date.now()),IA&&!R&&j.start()!=y.start()&&y.parentOffset==0&&j.depth==y.depth&&o.sel&&o.sel.anchor==o.sel.head&&o.sel.head==b.endA&&(b.endB-=2,y=o.doc.resolveNoCache(b.endB-o.from),setTimeout(()=>{s.someProp("handleKeyDown",function(K){return K(s,of(13,"Enter"))})},20));let z=b.start,X=b.endA,Y=K=>{let ce=K||s.state.tr.replace(z,X,o.doc.slice(b.start-o.from,b.endB-o.from));if(o.sel){let ue=Y2(s,ce.doc,o.sel);ue&&!(dc&&s.composing&&ue.empty&&(b.start!=b.endB||s.input.lastChromeDelete<Date.now()-100)&&(ue.head==z||ue.head==ce.mapping.map(X)-1)||Fd&&ue.empty&&ue.head==z)&&ce.setSelection(ue)}return l&&ce.setMeta("composition",l),ce.scrollIntoView()},Q;if(R)if(j.pos==y.pos){Fd&&Uh<=11&&j.parentOffset==0&&(s.domObserver.suppressSelectionUpdates(),setTimeout(()=>PA(s),20));let K=Y(s.state.tr.delete(z,X)),ce=f.resolve(b.start).marksAcross(f.resolve(b.endA));ce&&K.ensureMarks(ce),s.dispatch(K)}else if(b.endA==b.endB&&(Q=S_(j.parent.content.cut(j.parentOffset,y.parentOffset),T.parent.content.cut(T.parentOffset,b.endA-T.start())))){let K=Y(s.state.tr);Q.type=="add"?K.addMark(z,X,Q.mark):K.removeMark(z,X,Q.mark),s.dispatch(K)}else if(j.parent.child(j.index()).isText&&j.index()==y.index()-(y.textOffset?0:1)){let K=j.parent.textBetween(j.parentOffset,y.parentOffset),ce=()=>Y(s.state.tr.insertText(K,z,X));s.someProp("handleTextInput",ue=>ue(s,z,X,K,ce))||s.dispatch(ce())}else s.dispatch(Y());else s.dispatch(Y())}function Y2(s,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:yy(s,e.resolve(r.anchor),e.resolve(r.head))}function S_(s,e){let r=s.firstChild.marks,n=e.firstChild.marks,a=r,l=n,u,d,A;for(let f=0;f<n.length;f++)a=n[f].removeFromSet(a);for(let f=0;f<r.length;f++)l=r[f].removeFromSet(l);if(a.length==1&&l.length==0)d=a[0],u="add",A=f=>f.mark(d.addToSet(f.marks));else if(a.length==0&&l.length==1)d=l[0],u="remove",A=f=>f.mark(d.removeFromSet(f.marks));else return null;let o=[];for(let f=0;f<e.childCount;f++)o.push(A(e.child(f)));if(Gs.from(o).eq(s))return{mark:d,type:u}}function E_(s,e,r,n,a){if(r-e<=a.pos-n.pos||Eb(n,!0,!1)<a.pos)return!1;let l=s.resolve(e);if(!n.parent.isTextblock){let d=l.nodeAfter;return d!=null&&r==e+d.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let u=s.resolve(Eb(l,!0,!0));return!u.parent.isTextblock||u.pos>r||Eb(u,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(u.parent.content)}function Eb(s,e,r){let n=s.depth,a=e?s.end():s.pos;for(;n>0&&(e||s.indexAfter(n)==s.node(n).childCount);)n--,a++,e=!1;if(r){let l=s.node(n).maybeChild(s.indexAfter(n));for(;l&&!l.isLeaf;)l=l.firstChild,a++}return a}function T_(s,e,r,n,a){let l=s.findDiffStart(e,r);if(l==null)return null;let{a:u,b:d}=s.findDiffEnd(e,r+s.size,r+e.size);if(a=="end"){let A=Math.max(0,l-Math.min(u,d));n-=u+A-l}if(u<l&&s.size<e.size){let A=n<=l&&n>=u?l-n:0;l-=A,l&&l<e.size&&X2(e.textBetween(l-1,l+1))&&(l+=A?1:-1),d=l+(d-u),u=l}else if(d<l){let A=n<=l&&n>=d?l-n:0;l-=A,l&&l<s.size&&X2(s.textBetween(l-1,l+1))&&(l+=A?1:-1),u=l+(u-d),d=l}return{start:l,endA:u,endB:d}}function X2(s){if(s.length!=2)return!1;let e=s.charCodeAt(0),r=s.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class yk{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new GQ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(tj),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=q2(this),Z2(this),this.nodeViews=ej(this),this.docView=U2(this.state.doc,J2(this),Sb(this),this.dom,this),this.domObserver=new v_(this,(n,a,l,u)=>B_(this,n,a,l,u)),this.domObserver.start(),WQ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ev(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(tj),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let a=this.state,l=!1,u=!1;e.storedMarks&&this.composing&&(fk(this),u=!0),this.state=e;let d=a.plugins!=e.plugins||this._props.plugins!=r.plugins;if(d||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let x=ej(this);F_(x,this.nodeViews)&&(this.nodeViews=x,l=!0)}(d||r.handleDOMEvents!=this._props.handleDOMEvents)&&Ev(this),this.editable=q2(this),Z2(this);let A=Sb(this),o=J2(this),f=a.plugins!=e.plugins&&!a.doc.eq(e.doc)?"reset":e.scrollToSelection>a.scrollToSelection?"to selection":"preserve",p=l||!this.docView.matchesNode(e.doc,o,A);(p||!e.selection.eq(a.selection))&&(u=!0);let m=f=="preserve"&&u&&this.dom.style.overflowAnchor==null&&lQ(this);if(u){this.domObserver.stop();let x=p&&(Fd||dc)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&U_(a.selection,e.selection);if(p){let b=dc?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=l_(this)),(l||!this.docView.update(e.doc,o,A,this))&&(this.docView.updateOuterDeco(o),this.docView.destroy(),this.docView=U2(e.doc,o,A,this.dom,this)),b&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&FQ(this))?PA(this,x):(sk(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((n=this.dragging)===null||n===void 0)&&n.node&&!a.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,a),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&cQ(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof wn){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&k2(this,r.getBoundingClientRect(),e)}else k2(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,a=-1;if(this.state.doc.nodeAt(n.from)==n.node)a=n.from;else{let l=n.from+(this.state.doc.content.size-r.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==n.node&&(a=l)}this.dragging=new mk(e.slice,e.move,a<0?void 0:wn.create(this.state.doc,a))}someProp(e,r){let n=this._props&&this._props[e],a;if(n!=null&&(a=r?r(n):n))return a;for(let u=0;u<this.directPlugins.length;u++){let d=this.directPlugins[u].props[e];if(d!=null&&(a=r?r(d):d))return a}let l=this.state.plugins;if(l)for(let u=0;u<l.length;u++){let d=l[u].props[e];if(d!=null&&(a=r?r(d):d))return a}}hasFocus(){if(Fd){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&dQ(this.dom),PA(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return pQ(this,e)}coordsAtPos(e,r=1){return WN(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let a=this.docView.posFromDOM(e,r,n);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(e,r){return vQ(this,r||this.state,e)}pasteHTML(e,r){return ym(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return ym(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return wy(this,e)}destroy(){this.docView&&(YQ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Sb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Z7())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return JQ(this,e)}domSelectionRange(){let e=this.domSelection();return e?Gc&&this.root.nodeType===11&&rQ(this.dom.ownerDocument)==this.dom&&w_(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}yk.prototype.dispatch=function(s){let e=this._props.dispatchTransaction;e?e.call(this,s):this.updateState(this.state.apply(s))};function J2(s){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(s.editable),s.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(s.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[ld.node(0,s.state.doc.content.size,e)]}function Z2(s){if(s.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),s.cursorWrapper={dom:e,deco:ld.widget(s.state.selection.from,e,{raw:!0,marks:s.markCursor})}}else s.cursorWrapper=null}function q2(s){return!s.someProp("editable",e=>e(s.state)===!1)}function U_(s,e){let r=Math.min(s.$anchor.sharedDepth(s.head),e.$anchor.sharedDepth(e.head));return s.$anchor.start(r)!=e.$anchor.start(r)}function ej(s){let e=Object.create(null);function r(n){for(let a in n)Object.prototype.hasOwnProperty.call(e,a)||(e[a]=n[a])}return s.someProp("nodeViews",r),s.someProp("markViews",r),e}function F_(s,e){let r=0,n=0;for(let a in s){if(s[a]!=e[a])return!0;r++}for(let a in e)n++;return r!=n}function tj(s){if(s.spec.state||s.spec.filterTransaction||s.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Oh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},dg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},L_=typeof navigator<"u"&&/Mac/.test(navigator.platform),M_=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Tc=0;Tc<10;Tc++)Oh[48+Tc]=Oh[96+Tc]=String(Tc);for(var Tc=1;Tc<=24;Tc++)Oh[Tc+111]="F"+Tc;for(var Tc=65;Tc<=90;Tc++)Oh[Tc]=String.fromCharCode(Tc+32),dg[Tc]=String.fromCharCode(Tc);for(var Tb in Oh)dg.hasOwnProperty(Tb)||(dg[Tb]=Oh[Tb]);function O_(s){var e=L_&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||M_&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",r=!e&&s.key||(s.shiftKey?dg:Oh)[s.keyCode]||s.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const I_=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),D_=typeof navigator<"u"&&/Win/.test(navigator.platform);function R_(s){let e=s.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,a,l,u;for(let d=0;d<e.length-1;d++){let A=e[d];if(/^(cmd|meta|m)$/i.test(A))u=!0;else if(/^a(lt)?$/i.test(A))n=!0;else if(/^(c|ctrl|control)$/i.test(A))a=!0;else if(/^s(hift)?$/i.test(A))l=!0;else if(/^mod$/i.test(A))I_?u=!0:a=!0;else throw new Error("Unrecognized modifier name: "+A)}return n&&(r="Alt-"+r),a&&(r="Ctrl-"+r),u&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function P_(s){let e=Object.create(null);for(let r in s)e[R_(r)]=s[r];return e}function Ub(s,e,r=!0){return e.altKey&&(s="Alt-"+s),e.ctrlKey&&(s="Ctrl-"+s),e.metaKey&&(s="Meta-"+s),r&&e.shiftKey&&(s="Shift-"+s),s}function Q_(s){return new To({props:{handleKeyDown:wk(s)}})}function wk(s){let e=P_(s);return function(r,n){let a=O_(n),l,u=e[Ub(a,n)];if(u&&u(r.state,r.dispatch,r))return!0;if(a.length==1&&a!=" "){if(n.shiftKey){let d=e[Ub(a,n,!1)];if(d&&d(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(D_&&n.ctrlKey&&n.altKey)&&(l=Oh[n.keyCode])&&l!=a){let d=e[Ub(l,n)];if(d&&d(r.state,r.dispatch,r))return!0}}return!1}}var __=Object.defineProperty,Sy=(s,e)=>{for(var r in e)__(s,r,{get:e[r],enumerable:!0})};function px(s){const{state:e,transaction:r}=s;let{selection:n}=r,{doc:a}=r,{storedMarks:l}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return n},get doc(){return a},get tr(){return n=r.selection,a=r.doc,l=r.storedMarks,r}}}var mx=class{constructor(s){this.editor=s.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=s.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:s,editor:e,state:r}=this,{view:n}=e,{tr:a}=r,l=this.buildProps(a);return Object.fromEntries(Object.entries(s).map(([u,d])=>[u,(...o)=>{const f=d(...o)(l);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(a),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(s,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:l}=n,u=[],d=!!s,A=s||a.tr,o=()=>(!d&&e&&!A.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(A),u.every(p=>p===!0)),f={...Object.fromEntries(Object.entries(r).map(([p,m])=>[p,(...b)=>{const j=this.buildProps(A,e),y=m(...b)(j);return u.push(y),f}])),run:o};return f}createCan(s){const{rawCommands:e,state:r}=this,n=!1,a=s||r.tr,l=this.buildProps(a,n);return{...Object.fromEntries(Object.entries(e).map(([d,A])=>[d,(...o)=>A(...o)({...l,dispatch:void 0})])),chain:()=>this.createChain(a,n)}}buildProps(s,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:l}=n,u={tr:s,editor:n,view:l,state:px({state:a,transaction:s}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(s,e),can:()=>this.createCan(s),get commands(){return Object.fromEntries(Object.entries(r).map(([d,A])=>[d,(...o)=>A(...o)(u)]))}};return u}},jk={};Sy(jk,{blur:()=>H_,clearContent:()=>z_,clearNodes:()=>$_,command:()=>V_,createParagraphNear:()=>K_,cut:()=>G_,deleteCurrentNode:()=>W_,deleteNode:()=>Y_,deleteRange:()=>X_,deleteSelection:()=>J_,enter:()=>Z_,exitCode:()=>q_,extendMarkRange:()=>eH,first:()=>tH,focus:()=>rH,forEach:()=>nH,insertContent:()=>aH,insertContentAt:()=>lH,joinBackward:()=>uH,joinDown:()=>dH,joinForward:()=>AH,joinItemBackward:()=>hH,joinItemForward:()=>fH,joinTextblockBackward:()=>pH,joinTextblockForward:()=>mH,joinUp:()=>cH,keyboardShortcut:()=>xH,lift:()=>bH,liftEmptyBlock:()=>vH,liftListItem:()=>yH,newlineInCode:()=>wH,resetAttributes:()=>jH,scrollIntoView:()=>NH,selectAll:()=>kH,selectNodeBackward:()=>CH,selectNodeForward:()=>BH,selectParentNode:()=>SH,selectTextblockEnd:()=>EH,selectTextblockStart:()=>TH,setContent:()=>UH,setMark:()=>JH,setMeta:()=>ZH,setNode:()=>qH,setNodeSelection:()=>e9,setTextDirection:()=>t9,setTextSelection:()=>s9,sinkListItem:()=>r9,splitBlock:()=>n9,splitListItem:()=>a9,toggleList:()=>i9,toggleMark:()=>o9,toggleNode:()=>l9,toggleWrap:()=>c9,undoInputRule:()=>d9,unsetAllMarks:()=>u9,unsetMark:()=>A9,unsetTextDirection:()=>h9,updateAttributes:()=>f9,wrapIn:()=>p9,wrapInList:()=>m9});var H_=()=>({editor:s,view:e})=>(requestAnimationFrame(()=>{var r;s.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),z_=(s=!0)=>({commands:e})=>e.setContent("",{emitUpdate:s}),$_=()=>({state:s,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:a}=n;return r&&a.forEach(({$from:l,$to:u})=>{s.doc.nodesBetween(l.pos,u.pos,(d,A)=>{if(d.type.isText)return;const{doc:o,mapping:f}=e,p=o.resolve(f.map(A)),m=o.resolve(f.map(A+d.nodeSize)),x=p.blockRange(m);if(!x)return;const b=jp(x);if(d.type.isTextblock){const{defaultType:j}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(x.start,j)}(b||b===0)&&e.lift(x,b)})}),!0},V_=s=>e=>s(e),K_=()=>({state:s,dispatch:e})=>DN(s,e),G_=(s,e)=>({editor:r,tr:n})=>{const{state:a}=r,l=a.doc.slice(s.from,s.to);n.deleteRange(s.from,s.to);const u=n.mapping.map(e);return n.insert(u,l.content),n.setSelection(new Gn(n.doc.resolve(Math.max(u-1,0)))),!0},W_=()=>({tr:s,dispatch:e})=>{const{selection:r}=s,n=r.$anchor.node();if(n.content.size>0)return!1;const a=s.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===n.type){if(e){const d=a.before(l),A=a.after(l);s.delete(d,A).scrollIntoView()}return!0}return!1};function Tl(s,e){if(typeof s=="string"){if(!e.nodes[s])throw Error(`There is no node type named '${s}'. Maybe you forgot to add the extension?`);return e.nodes[s]}return s}var Y_=s=>({tr:e,state:r,dispatch:n})=>{const a=Tl(s,r.schema),l=e.selection.$anchor;for(let u=l.depth;u>0;u-=1)if(l.node(u).type===a){if(n){const A=l.before(u),o=l.after(u);e.delete(A,o).scrollIntoView()}return!0}return!1},X_=s=>({tr:e,dispatch:r})=>{const{from:n,to:a}=s;return r&&e.delete(n,a),!0},J_=()=>({state:s,dispatch:e})=>fy(s,e),Z_=()=>({commands:s})=>s.keyboardShortcut("Enter"),q_=()=>({state:s,dispatch:e})=>D7(s,e);function Ey(s){return Object.prototype.toString.call(s)==="[object RegExp]"}function ug(s,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(a=>r.strict?e[a]===s[a]:Ey(e[a])?e[a].test(s[a]):e[a]===s[a]):!0}function Nk(s,e,r={}){return s.find(n=>n.type===e&&ug(Object.fromEntries(Object.keys(r).map(a=>[a,n.attrs[a]])),r))}function sj(s,e,r={}){return!!Nk(s,e,r)}function Ty(s,e,r){var n;if(!s||!e)return;let a=s.parent.childAfter(s.parentOffset);if((!a.node||!a.node.marks.some(f=>f.type===e))&&(a=s.parent.childBefore(s.parentOffset)),!a.node||!a.node.marks.some(f=>f.type===e)||(r=r||((n=a.node.marks[0])==null?void 0:n.attrs),!Nk([...a.node.marks],e,r)))return;let u=a.index,d=s.start()+a.offset,A=u+1,o=d+a.node.nodeSize;for(;u>0&&sj([...s.parent.child(u-1).marks],e,r);)u-=1,d-=s.parent.child(u).nodeSize;for(;A<s.parent.childCount&&sj([...s.parent.child(A).marks],e,r);)o+=s.parent.child(A).nodeSize,A+=1;return{from:d,to:o}}function _A(s,e){if(typeof s=="string"){if(!e.marks[s])throw Error(`There is no mark type named '${s}'. Maybe you forgot to add the extension?`);return e.marks[s]}return s}var eH=(s,e={})=>({tr:r,state:n,dispatch:a})=>{const l=_A(s,n.schema),{doc:u,selection:d}=r,{$from:A,from:o,to:f}=d;if(a){const p=Ty(A,l,e);if(p&&p.from<=o&&p.to>=f){const m=Gn.create(u,p.from,p.to);r.setSelection(m)}}return!0},tH=s=>e=>{const r=typeof s=="function"?s(e):s;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function kk(s){return s instanceof Gn}function df(s=0,e=0,r=0){return Math.min(Math.max(s,e),r)}function Ck(s,e=null){if(!e)return null;const r=ha.atStart(s),n=ha.atEnd(s);if(e==="start"||e===!0)return r;if(e==="end")return n;const a=r.from,l=n.to;return e==="all"?Gn.create(s,df(0,a,l),df(s.content.size,a,l)):Gn.create(s,df(e,a,l),df(e,a,l))}function sH(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Uy(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var rH=(s=null,e={})=>({editor:r,view:n,tr:a,dispatch:l})=>{e={scrollIntoView:!0,...e};const u=()=>{(Uy()||sH())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&s===null||s===!1)return!0;if(l&&s===null&&!kk(r.state.selection))return u(),!0;const d=Ck(a.doc,s)||r.state.selection,A=r.state.selection.eq(d);return l&&(A||a.setSelection(d),A&&a.storedMarks&&a.setStoredMarks(a.storedMarks),u()),!0},nH=(s,e)=>r=>s.every((n,a)=>e(n,{...r,index:a})),aH=(s,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},s,e),Bk=s=>{const e=s.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?s.removeChild(n):n.nodeType===1&&Bk(n)}return s};function d0(s){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${s}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return Bk(r)}function jm(s,e,r){if(s instanceof Th||s instanceof Gs)return s;r={slice:!0,parseOptions:{},...r};const n=typeof s=="object"&&s!==null,a=typeof s=="string";if(n)try{if(Array.isArray(s)&&s.length>0)return Gs.fromArray(s.map(d=>e.nodeFromJSON(d)));const u=e.nodeFromJSON(s);return r.errorOnInvalidContent&&u.check(),u}catch(l){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",s,"Error:",l),jm("",e,r)}if(a){if(r.errorOnInvalidContent){let u=!1,d="";const A=new dN({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:o=>(u=!0,d=typeof o=="string"?o:o.outerHTML,null)}]}})});if(r.slice?tm.fromSchema(A).parseSlice(d0(s),r.parseOptions):tm.fromSchema(A).parse(d0(s),r.parseOptions),r.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const l=tm.fromSchema(e);return r.slice?l.parseSlice(d0(s),r.parseOptions).content:l.parse(d0(s),r.parseOptions)}return jm("",e,r)}function iH(s,e,r){const n=s.steps.length-1;if(n<e)return;const a=s.steps[n];if(!(a instanceof cc||a instanceof uc))return;const l=s.mapping.maps[n];let u=0;l.forEach((d,A,o,f)=>{u===0&&(u=f)}),s.setSelection(ha.near(s.doc.resolve(u),r))}var oH=s=>!("type"in s),lH=(s,e,r)=>({tr:n,dispatch:a,editor:l})=>{var u;if(a){r={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let d;const A=y=>{l.emit("contentError",{editor:l,error:y,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},o={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{jm(e,l.schema,{parseOptions:o,errorOnInvalidContent:!0})}catch(y){A(y)}try{d=jm(e,l.schema,{parseOptions:o,errorOnInvalidContent:(u=r.errorOnInvalidContent)!=null?u:l.options.enableContentCheck})}catch(y){return A(y),!1}let{from:f,to:p}=typeof s=="number"?{from:s,to:s}:{from:s.from,to:s.to},m=!0,x=!0;if((oH(d)?d:[d]).forEach(y=>{y.check(),m=m?y.isText&&y.marks.length===0:!1,x=x?y.isBlock:!1}),f===p&&x){const{parent:y}=n.doc.resolve(f);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(f-=1,p+=1)}let j;if(m){if(Array.isArray(e))j=e.map(y=>y.text||"").join("");else if(e instanceof Gs){let y="";e.forEach(T=>{T.text&&(y+=T.text)}),j=y}else typeof e=="object"&&e&&e.text?j=e.text:j=e;n.insertText(j,f,p)}else{j=d;const y=n.doc.resolve(f),T=y.node(),R=y.parentOffset===0,z=T.isText||T.isTextblock,X=T.content.size>0;R&&z&&X&&(f=Math.max(0,f-1)),n.replaceWith(f,p,j)}r.updateSelection&&iH(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:j}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:j})}return!0},cH=()=>({state:s,dispatch:e})=>M7(s,e),dH=()=>({state:s,dispatch:e})=>O7(s,e),uH=()=>({state:s,dispatch:e})=>TN(s,e),AH=()=>({state:s,dispatch:e})=>MN(s,e),hH=()=>({state:s,dispatch:e,tr:r})=>{try{const n=cx(s.doc,s.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},fH=()=>({state:s,dispatch:e,tr:r})=>{try{const n=cx(s.doc,s.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},pH=()=>({state:s,dispatch:e})=>F7(s,e),mH=()=>({state:s,dispatch:e})=>L7(s,e);function Sk(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function gH(s){const e=s.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,a,l,u;for(let d=0;d<e.length-1;d+=1){const A=e[d];if(/^(cmd|meta|m)$/i.test(A))u=!0;else if(/^a(lt)?$/i.test(A))n=!0;else if(/^(c|ctrl|control)$/i.test(A))a=!0;else if(/^s(hift)?$/i.test(A))l=!0;else if(/^mod$/i.test(A))Uy()||Sk()?u=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${A}`)}return n&&(r=`Alt-${r}`),a&&(r=`Ctrl-${r}`),u&&(r=`Meta-${r}`),l&&(r=`Shift-${r}`),r}var xH=s=>({editor:e,view:r,tr:n,dispatch:a})=>{const l=gH(s).split(/-(?!$)/),u=l.find(o=>!["Alt","Ctrl","Meta","Shift"].includes(o)),d=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),A=e.captureTransaction(()=>{r.someProp("handleKeyDown",o=>o(r,d))});return A==null||A.steps.forEach(o=>{const f=o.map(n.mapping);f&&a&&n.maybeStep(f)}),!0};function Ih(s,e,r={}){const{from:n,to:a,empty:l}=s.selection,u=e?Tl(e,s.schema):null,d=[];s.doc.nodesBetween(n,a,(p,m)=>{if(p.isText)return;const x=Math.max(n,m),b=Math.min(a,m+p.nodeSize);d.push({node:p,from:x,to:b})});const A=a-n,o=d.filter(p=>u?u.name===p.node.type.name:!0).filter(p=>ug(p.node.attrs,r,{strict:!1}));return l?!!o.length:o.reduce((p,m)=>p+m.to-m.from,0)>=A}var bH=(s,e={})=>({state:r,dispatch:n})=>{const a=Tl(s,r.schema);return Ih(r,a,e)?I7(r,n):!1},vH=()=>({state:s,dispatch:e})=>RN(s,e),yH=s=>({state:e,dispatch:r})=>{const n=Tl(s,e.schema);return W7(n)(e,r)},wH=()=>({state:s,dispatch:e})=>IN(s,e);function gx(s,e){return e.nodes[s]?"node":e.marks[s]?"mark":null}function rj(s,e){const r=typeof e=="string"?[e]:e;return Object.keys(s).reduce((n,a)=>(r.includes(a)||(n[a]=s[a]),n),{})}var jH=(s,e)=>({tr:r,state:n,dispatch:a})=>{let l=null,u=null;const d=gx(typeof s=="string"?s:s.name,n.schema);if(!d)return!1;d==="node"&&(l=Tl(s,n.schema)),d==="mark"&&(u=_A(s,n.schema));let A=!1;return r.selection.ranges.forEach(o=>{n.doc.nodesBetween(o.$from.pos,o.$to.pos,(f,p)=>{l&&l===f.type&&(A=!0,a&&r.setNodeMarkup(p,void 0,rj(f.attrs,e))),u&&f.marks.length&&f.marks.forEach(m=>{u===m.type&&(A=!0,a&&r.addMark(p,p+f.nodeSize,u.create(rj(m.attrs,e))))})})}),A},NH=()=>({tr:s,dispatch:e})=>(e&&s.scrollIntoView(),!0),kH=()=>({tr:s,dispatch:e})=>{if(e){const r=new Yd(s.doc);s.setSelection(r)}return!0},CH=()=>({state:s,dispatch:e})=>FN(s,e),BH=()=>({state:s,dispatch:e})=>ON(s,e),SH=()=>({state:s,dispatch:e})=>Q7(s,e),EH=()=>({state:s,dispatch:e})=>z7(s,e),TH=()=>({state:s,dispatch:e})=>H7(s,e);function Tv(s,e,r={},n={}){return jm(s,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var UH=(s,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:a,tr:l,dispatch:u,commands:d})=>{const{doc:A}=l;if(n.preserveWhitespace!=="full"){const o=Tv(s,a.schema,n,{errorOnInvalidContent:e??a.options.enableContentCheck});return u&&l.replaceWith(0,A.content.size,o).setMeta("preventUpdate",!r),!0}return u&&l.setMeta("preventUpdate",!r),d.insertContentAt({from:0,to:A.content.size},s,{parseOptions:n,errorOnInvalidContent:e??a.options.enableContentCheck})};function Ek(s,e){const r=_A(e,s.schema),{from:n,to:a,empty:l}=s.selection,u=[];l?(s.storedMarks&&u.push(...s.storedMarks),u.push(...s.selection.$head.marks())):s.doc.nodesBetween(n,a,A=>{u.push(...A.marks)});const d=u.find(A=>A.type.name===r.name);return d?{...d.attrs}:{}}function Tk(s,e){const r=new CN(s);return e.forEach(n=>{n.steps.forEach(a=>{r.step(a)})}),r}function FH(s){for(let e=0;e<s.edgeCount;e+=1){const{type:r}=s.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function LH(s,e,r){const n=[];return s.nodesBetween(e.from,e.to,(a,l)=>{r(a)&&n.push({node:a,pos:l})}),n}function MH(s,e){for(let r=s.depth;r>0;r-=1){const n=s.node(r);if(e(n))return{pos:r>0?s.before(r):0,start:s.start(r),depth:r,node:n}}}function xx(s){return e=>MH(e.$from,s)}function bn(s,e,r){return s.config[e]===void 0&&s.parent?bn(s.parent,e,r):typeof s.config[e]=="function"?s.config[e].bind({...r,parent:s.parent?bn(s.parent,e,r):null}):s.config[e]}function Fy(s){return s.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=bn(e,"addExtensions",r);return n?[e,...Fy(n())]:e}).flat(10)}function Ly(s,e){const r=Bf.fromSchema(e).serializeFragment(s),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(r),a.innerHTML}function Uk(s){return typeof s=="function"}function ji(s,e=void 0,...r){return Uk(s)?e?s.bind(e)(...r):s(...r):s}function OH(s={}){return Object.keys(s).length===0&&s.constructor===Object}function pp(s){const e=s.filter(a=>a.type==="extension"),r=s.filter(a=>a.type==="node"),n=s.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function Fk(s){const e=[],{nodeExtensions:r,markExtensions:n}=pp(s),a=[...r,...n],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return s.forEach(u=>{const d={name:u.name,options:u.options,storage:u.storage,extensions:a},A=bn(u,"addGlobalAttributes",d);if(!A)return;A().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([m,x])=>{e.push({type:p,name:m,attribute:{...l,...x}})})})})}),a.forEach(u=>{const d={name:u.name,options:u.options,storage:u.storage},A=bn(u,"addAttributes",d);if(!A)return;const o=A();Object.entries(o).forEach(([f,p])=>{const m={...l,...p};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,e.push({type:u.name,name:f,attribute:m})})}),e}function So(...s){return s.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([a,l])=>{if(!n[a]){n[a]=l;return}if(a==="class"){const d=l?String(l).split(" "):[],A=n[a]?n[a].split(" "):[],o=d.filter(f=>!A.includes(f));n[a]=[...A,...o].join(" ")}else if(a==="style"){const d=l?l.split(";").map(f=>f.trim()).filter(Boolean):[],A=n[a]?n[a].split(";").map(f=>f.trim()).filter(Boolean):[],o=new Map;A.forEach(f=>{const[p,m]=f.split(":").map(x=>x.trim());o.set(p,m)}),d.forEach(f=>{const[p,m]=f.split(":").map(x=>x.trim());o.set(p,m)}),n[a]=Array.from(o.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else n[a]=l}),n},{})}function Ag(s,e){return e.filter(r=>r.type===s.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(s.attrs)||{}:{[r.name]:s.attrs[r.name]}).reduce((r,n)=>So(r,n),{})}function IH(s){return typeof s!="string"?s:s.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(s):s==="true"?!0:s==="false"?!1:s}function nj(s,e){return"style"in s?s:{...s,getAttrs:r=>{const n=s.getAttrs?s.getAttrs(r):s.attrs;if(n===!1)return!1;const a=e.reduce((l,u)=>{const d=u.attribute.parseHTML?u.attribute.parseHTML(r):IH(r.getAttribute(u.name));return d==null?l:{...l,[u.name]:d}},{});return{...n,...a}}}}function aj(s){return Object.fromEntries(Object.entries(s).filter(([e,r])=>e==="attrs"&&OH(r)?!1:r!=null))}function ij(s){var e,r;const n={};return!((e=s==null?void 0:s.attribute)!=null&&e.isRequired)&&"default"in((s==null?void 0:s.attribute)||{})&&(n.default=s.attribute.default),((r=s==null?void 0:s.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=s.attribute.validate),[s.name,n]}function DH(s,e){var r;const n=Fk(s),{nodeExtensions:a,markExtensions:l}=pp(s),u=(r=a.find(o=>bn(o,"topNode")))==null?void 0:r.name,d=Object.fromEntries(a.map(o=>{const f=n.filter(T=>T.type===o.name),p={name:o.name,options:o.options,storage:o.storage,editor:e},m=s.reduce((T,R)=>{const z=bn(R,"extendNodeSchema",p);return{...T,...z?z(o):{}}},{}),x=aj({...m,content:ji(bn(o,"content",p)),marks:ji(bn(o,"marks",p)),group:ji(bn(o,"group",p)),inline:ji(bn(o,"inline",p)),atom:ji(bn(o,"atom",p)),selectable:ji(bn(o,"selectable",p)),draggable:ji(bn(o,"draggable",p)),code:ji(bn(o,"code",p)),whitespace:ji(bn(o,"whitespace",p)),linebreakReplacement:ji(bn(o,"linebreakReplacement",p)),defining:ji(bn(o,"defining",p)),isolating:ji(bn(o,"isolating",p)),attrs:Object.fromEntries(f.map(ij))}),b=ji(bn(o,"parseHTML",p));b&&(x.parseDOM=b.map(T=>nj(T,f)));const j=bn(o,"renderHTML",p);j&&(x.toDOM=T=>j({node:T,HTMLAttributes:Ag(T,f)}));const y=bn(o,"renderText",p);return y&&(x.toText=y),[o.name,x]})),A=Object.fromEntries(l.map(o=>{const f=n.filter(y=>y.type===o.name),p={name:o.name,options:o.options,storage:o.storage,editor:e},m=s.reduce((y,T)=>{const R=bn(T,"extendMarkSchema",p);return{...y,...R?R(o):{}}},{}),x=aj({...m,inclusive:ji(bn(o,"inclusive",p)),excludes:ji(bn(o,"excludes",p)),group:ji(bn(o,"group",p)),spanning:ji(bn(o,"spanning",p)),code:ji(bn(o,"code",p)),attrs:Object.fromEntries(f.map(ij))}),b=ji(bn(o,"parseHTML",p));b&&(x.parseDOM=b.map(y=>nj(y,f)));const j=bn(o,"renderHTML",p);return j&&(x.toDOM=y=>j({mark:y,HTMLAttributes:Ag(y,f)})),[o.name,x]}));return new dN({topNode:u,nodes:d,marks:A})}function RH(s){const e=s.filter((r,n)=>s.indexOf(r)!==n);return Array.from(new Set(e))}function My(s){return s.sort((r,n)=>{const a=bn(r,"priority")||100,l=bn(n,"priority")||100;return a>l?-1:a<l?1:0})}function Lk(s){const e=My(Fy(s)),r=RH(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function Mk(s,e,r){const{from:n,to:a}=e,{blockSeparator:l=`

`,textSerializers:u={}}=r||{};let d="";return s.nodesBetween(n,a,(A,o,f,p)=>{var m;A.isBlock&&o>n&&(d+=l);const x=u==null?void 0:u[A.type.name];if(x)return f&&(d+=x({node:A,pos:o,parent:f,index:p,range:e})),!1;A.isText&&(d+=(m=A==null?void 0:A.text)==null?void 0:m.slice(Math.max(n,o)-o,a-o))}),d}function PH(s,e){const r={from:0,to:s.content.size};return Mk(s,r,e)}function Ok(s){return Object.fromEntries(Object.entries(s.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function QH(s,e){const r=Tl(e,s.schema),{from:n,to:a}=s.selection,l=[];s.doc.nodesBetween(n,a,d=>{l.push(d)});const u=l.reverse().find(d=>d.type.name===r.name);return u?{...u.attrs}:{}}function Ik(s,e){const r=gx(typeof e=="string"?e:e.name,s.schema);return r==="node"?QH(s,e):r==="mark"?Ek(s,e):{}}function _H(s,e=JSON.stringify){const r={};return s.filter(n=>{const a=e(n);return Object.prototype.hasOwnProperty.call(r,a)?!1:r[a]=!0})}function HH(s){const e=_H(s);return e.length===1?e:e.filter((r,n)=>!e.filter((l,u)=>u!==n).some(l=>r.oldRange.from>=l.oldRange.from&&r.oldRange.to<=l.oldRange.to&&r.newRange.from>=l.newRange.from&&r.newRange.to<=l.newRange.to))}function Dk(s){const{mapping:e,steps:r}=s,n=[];return e.maps.forEach((a,l)=>{const u=[];if(a.ranges.length)a.forEach((d,A)=>{u.push({from:d,to:A})});else{const{from:d,to:A}=r[l];if(d===void 0||A===void 0)return;u.push({from:d,to:A})}u.forEach(({from:d,to:A})=>{const o=e.slice(l).map(d,-1),f=e.slice(l).map(A),p=e.invert().map(o,-1),m=e.invert().map(f);n.push({oldRange:{from:p,to:m},newRange:{from:o,to:f}})})}),HH(n)}function Oy(s,e,r){const n=[];return s===e?r.resolve(s).marks().forEach(a=>{const l=r.resolve(s),u=Ty(l,a.type);u&&n.push({mark:a,...u})}):r.nodesBetween(s,e,(a,l)=>{!a||(a==null?void 0:a.nodeSize)===void 0||n.push(...a.marks.map(u=>({from:l,to:l+a.nodeSize,mark:u})))}),n}var zH=(s,e,r,n=20)=>{const a=s.doc.resolve(r);let l=n,u=null;for(;l>0&&u===null;){const d=a.node(l);(d==null?void 0:d.type.name)===e?u=d:l-=1}return[u,l]};function Fb(s,e){return e.nodes[s]||e.marks[s]||null}function T0(s,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const a=s.find(l=>l.type===e&&l.name===n);return a?a.attribute.keepOnSplit:!1}))}var $H=(s,e=500)=>{let r="";const n=s.parentOffset;return s.parent.nodesBetween(Math.max(0,n-e),n,(a,l,u,d)=>{var A,o;const f=((o=(A=a.type.spec).toText)==null?void 0:o.call(A,{node:a,pos:l,parent:u,index:d}))||a.textContent||"%leaf%";r+=a.isAtom&&!a.isText?f:f.slice(0,Math.max(0,n-l))}),r};function Uv(s,e,r={}){const{empty:n,ranges:a}=s.selection,l=e?_A(e,s.schema):null;if(n)return!!(s.storedMarks||s.selection.$from.marks()).filter(p=>l?l.name===p.type.name:!0).find(p=>ug(p.attrs,r,{strict:!1}));let u=0;const d=[];if(a.forEach(({$from:p,$to:m})=>{const x=p.pos,b=m.pos;s.doc.nodesBetween(x,b,(j,y)=>{if(!j.isText&&!j.marks.length)return;const T=Math.max(x,y),R=Math.min(b,y+j.nodeSize),z=R-T;u+=z,d.push(...j.marks.map(X=>({mark:X,from:T,to:R})))})}),u===0)return!1;const A=d.filter(p=>l?l.name===p.mark.type.name:!0).filter(p=>ug(p.mark.attrs,r,{strict:!1})).reduce((p,m)=>p+m.to-m.from,0),o=d.filter(p=>l?p.mark.type!==l&&p.mark.type.excludes(l):!0).reduce((p,m)=>p+m.to-m.from,0);return(A>0?A+o:A)>=u}function VH(s,e,r={}){if(!e)return Ih(s,null,r)||Uv(s,null,r);const n=gx(e,s.schema);return n==="node"?Ih(s,e,r):n==="mark"?Uv(s,e,r):!1}var KH=(s,e)=>{const{$from:r,$to:n,$anchor:a}=s.selection;if(e){const l=xx(d=>d.type.name===e)(s.selection);if(!l)return!1;const u=s.doc.resolve(l.pos+1);return a.pos+1===u.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},GH=s=>{const{$from:e,$to:r}=s.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function oj(s,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===s.name):e}function lj(s,e){const{nodeExtensions:r}=pp(e),n=r.find(u=>u.name===s);if(!n)return!1;const a={name:n.name,options:n.options,storage:n.storage},l=ji(bn(n,"group",a));return typeof l!="string"?!1:l.split(" ").includes("list")}function bx(s,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(s.type.name==="hardBreak")return!0;if(s.isText)return/^\s*$/m.test((n=s.text)!=null?n:"")}if(s.isText)return!s.text;if(s.isAtom||s.isLeaf)return!1;if(s.content.childCount===0)return!0;if(e){let a=!0;return s.content.forEach(l=>{a!==!1&&(bx(l,{ignoreWhitespace:r,checkChildren:e})||(a=!1))}),a}return!1}function Rk(s){return s instanceof wn}var Pk=class Qk{constructor(e){this.position=e}static fromJSON(e){return new Qk(e.position)}toJSON(){return{position:this.position}}};function WH(s,e){const r=e.mapping.mapResult(s.position);return{position:new Pk(r.pos),mapResult:r}}function YH(s){return new Pk(s)}function XH(s,e,r){var n;const{selection:a}=e;let l=null;if(kk(a)&&(l=a.$cursor),l){const d=(n=s.storedMarks)!=null?n:l.marks();return l.parent.type.allowsMarkType(r)&&(!!r.isInSet(d)||!d.some(o=>o.type.excludes(r)))}const{ranges:u}=a;return u.some(({$from:d,$to:A})=>{let o=d.depth===0?s.doc.inlineContent&&s.doc.type.allowsMarkType(r):!1;return s.doc.nodesBetween(d.pos,A.pos,(f,p,m)=>{if(o)return!1;if(f.isInline){const x=!m||m.type.allowsMarkType(r),b=!!r.isInSet(f.marks)||!f.marks.some(j=>j.type.excludes(r));o=x&&b}return!o}),o})}var JH=(s,e={})=>({tr:r,state:n,dispatch:a})=>{const{selection:l}=r,{empty:u,ranges:d}=l,A=_A(s,n.schema);if(a)if(u){const o=Ek(n,A);r.addStoredMark(A.create({...o,...e}))}else d.forEach(o=>{const f=o.$from.pos,p=o.$to.pos;n.doc.nodesBetween(f,p,(m,x)=>{const b=Math.max(x,f),j=Math.min(x+m.nodeSize,p);m.marks.find(T=>T.type===A)?m.marks.forEach(T=>{A===T.type&&r.addMark(b,j,A.create({...T.attrs,...e}))}):r.addMark(b,j,A.create(e))})});return XH(n,r,A)},ZH=(s,e)=>({tr:r})=>(r.setMeta(s,e),!0),qH=(s,e={})=>({state:r,dispatch:n,chain:a})=>{const l=Tl(s,r.schema);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),l.isTextblock?a().command(({commands:d})=>w2(l,{...u,...e})(r)?!0:d.clearNodes()).command(({state:d})=>w2(l,{...u,...e})(d,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},e9=s=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,a=df(s,0,n.content.size),l=wn.create(n,a);e.setSelection(l)}return!0},t9=(s,e)=>({tr:r,state:n,dispatch:a})=>{const{selection:l}=n;let u,d;return typeof e=="number"?(u=e,d=e):e&&"from"in e&&"to"in e?(u=e.from,d=e.to):(u=l.from,d=l.to),a&&r.doc.nodesBetween(u,d,(A,o)=>{A.isText||r.setNodeMarkup(o,void 0,{...A.attrs,dir:s})}),!0},s9=s=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:a,to:l}=typeof s=="number"?{from:s,to:s}:s,u=Gn.atStart(n).from,d=Gn.atEnd(n).to,A=df(a,u,d),o=df(l,u,d),f=Gn.create(n,A,o);e.setSelection(f)}return!0},r9=s=>({state:e,dispatch:r})=>{const n=Tl(s,e.schema);return J7(n)(e,r)};function cj(s,e){const r=s.storedMarks||s.selection.$to.parentOffset&&s.selection.$from.marks();if(r){const n=r.filter(a=>e==null?void 0:e.includes(a.type.name));s.tr.ensureMarks(n)}}var n9=({keepMarks:s=!0}={})=>({tr:e,state:r,dispatch:n,editor:a})=>{const{selection:l,doc:u}=e,{$from:d,$to:A}=l,o=a.extensionManager.attributes,f=T0(o,d.node().type.name,d.node().attrs);if(l instanceof wn&&l.node.isBlock)return!d.parentOffset||!RA(u,d.pos)?!1:(n&&(s&&cj(r,a.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const p=A.parentOffset===A.parent.content.size,m=d.depth===0?void 0:FH(d.node(-1).contentMatchAt(d.indexAfter(-1)));let x=p&&m?[{type:m,attrs:f}]:void 0,b=RA(e.doc,e.mapping.map(d.pos),1,x);if(!x&&!b&&RA(e.doc,e.mapping.map(d.pos),1,m?[{type:m}]:void 0)&&(b=!0,x=m?[{type:m,attrs:f}]:void 0),n){if(b&&(l instanceof Gn&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,x),m&&!p&&!d.parentOffset&&d.parent.type!==m)){const j=e.mapping.map(d.before()),y=e.doc.resolve(j);d.node(-1).canReplaceWith(y.index(),y.index()+1,m)&&e.setNodeMarkup(e.mapping.map(d.before()),m)}s&&cj(r,a.extensionManager.splittableMarks),e.scrollIntoView()}return b},a9=(s,e={})=>({tr:r,state:n,dispatch:a,editor:l})=>{var u;const d=Tl(s,n.schema),{$from:A,$to:o}=n.selection,f=n.selection.node;if(f&&f.isBlock||A.depth<2||!A.sameParent(o))return!1;const p=A.node(-1);if(p.type!==d)return!1;const m=l.extensionManager.attributes;if(A.parent.content.size===0&&A.node(-1).childCount===A.indexAfter(-1)){if(A.depth===2||A.node(-3).type!==d||A.index(-2)!==A.node(-2).childCount-1)return!1;if(a){let T=Gs.empty;const R=A.index(-1)?1:A.index(-2)?2:3;for(let ce=A.depth-R;ce>=A.depth-3;ce-=1)T=Gs.from(A.node(ce).copy(T));const z=A.indexAfter(-1)<A.node(-2).childCount?1:A.indexAfter(-2)<A.node(-3).childCount?2:3,X={...T0(m,A.node().type.name,A.node().attrs),...e},Y=((u=d.contentMatch.defaultType)==null?void 0:u.createAndFill(X))||void 0;T=T.append(Gs.from(d.createAndFill(null,Y)||void 0));const Q=A.before(A.depth-(R-1));r.replace(Q,A.after(-z),new Mr(T,4-R,0));let K=-1;r.doc.nodesBetween(Q,r.doc.content.size,(ce,ue)=>{if(K>-1)return!1;ce.isTextblock&&ce.content.size===0&&(K=ue+1)}),K>-1&&r.setSelection(Gn.near(r.doc.resolve(K))),r.scrollIntoView()}return!0}const x=o.pos===A.end()?p.contentMatchAt(0).defaultType:null,b={...T0(m,p.type.name,p.attrs),...e},j={...T0(m,A.node().type.name,A.node().attrs),...e};r.delete(A.pos,o.pos);const y=x?[{type:d,attrs:b},{type:x,attrs:j}]:[{type:d,attrs:b}];if(!RA(r.doc,A.pos,2))return!1;if(a){const{selection:T,storedMarks:R}=n,{splittableMarks:z}=l.extensionManager,X=R||T.$to.parentOffset&&T.$from.marks();if(r.split(A.pos,2,y).scrollIntoView(),!X||!a)return!0;const Y=X.filter(Q=>z.includes(Q.type.name));r.ensureMarks(Y)}return!0},Lb=(s,e)=>{const r=xx(u=>u.type===e)(s.selection);if(!r)return!0;const n=s.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const a=s.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&Qh(s.doc,r.pos)&&s.join(r.pos),!0},Mb=(s,e)=>{const r=xx(u=>u.type===e)(s.selection);if(!r)return!0;const n=s.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const a=s.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&Qh(s.doc,n)&&s.join(n),!0},i9=(s,e,r,n={})=>({editor:a,tr:l,state:u,dispatch:d,chain:A,commands:o,can:f})=>{const{extensions:p,splittableMarks:m}=a.extensionManager,x=Tl(s,u.schema),b=Tl(e,u.schema),{selection:j,storedMarks:y}=u,{$from:T,$to:R}=j,z=T.blockRange(R),X=y||j.$to.parentOffset&&j.$from.marks();if(!z)return!1;const Y=xx(Q=>lj(Q.type.name,p))(j);if(z.depth>=1&&Y&&z.depth-Y.depth<=1){if(Y.node.type===x)return o.liftListItem(b);if(lj(Y.node.type.name,p)&&x.validContent(Y.node.content)&&d)return A().command(()=>(l.setNodeMarkup(Y.pos,x),!0)).command(()=>Lb(l,x)).command(()=>Mb(l,x)).run()}return!r||!X||!d?A().command(()=>f().wrapInList(x,n)?!0:o.clearNodes()).wrapInList(x,n).command(()=>Lb(l,x)).command(()=>Mb(l,x)).run():A().command(()=>{const Q=f().wrapInList(x,n),K=X.filter(ce=>m.includes(ce.type.name));return l.ensureMarks(K),Q?!0:o.clearNodes()}).wrapInList(x,n).command(()=>Lb(l,x)).command(()=>Mb(l,x)).run()},o9=(s,e={},r={})=>({state:n,commands:a})=>{const{extendEmptyMarkRange:l=!1}=r,u=_A(s,n.schema);return Uv(n,u,e)?a.unsetMark(u,{extendEmptyMarkRange:l}):a.setMark(u,e)},l9=(s,e,r={})=>({state:n,commands:a})=>{const l=Tl(s,n.schema),u=Tl(e,n.schema),d=Ih(n,l,r);let A;return n.selection.$anchor.sameParent(n.selection.$head)&&(A=n.selection.$anchor.parent.attrs),d?a.setNode(u,A):a.setNode(l,{...A,...r})},c9=(s,e={})=>({state:r,commands:n})=>{const a=Tl(s,r.schema);return Ih(r,a,e)?n.lift(a):n.wrapIn(a,e)},d9=()=>({state:s,dispatch:e})=>{const r=s.plugins;for(let n=0;n<r.length;n+=1){const a=r[n];let l;if(a.spec.isInputRules&&(l=a.getState(s))){if(e){const u=s.tr,d=l.transform;for(let A=d.steps.length-1;A>=0;A-=1)u.step(d.steps[A].invert(d.docs[A]));if(l.text){const A=u.doc.resolve(l.from).marks();u.replaceWith(l.from,l.to,s.schema.text(l.text,A))}else u.delete(l.from,l.to)}return!0}}return!1},u9=()=>({tr:s,dispatch:e})=>{const{selection:r}=s,{empty:n,ranges:a}=r;return n||e&&a.forEach(l=>{s.removeMark(l.$from.pos,l.$to.pos)}),!0},A9=(s,e={})=>({tr:r,state:n,dispatch:a})=>{var l;const{extendEmptyMarkRange:u=!1}=e,{selection:d}=r,A=_A(s,n.schema),{$from:o,empty:f,ranges:p}=d;if(!a)return!0;if(f&&u){let{from:m,to:x}=d;const b=(l=o.marks().find(y=>y.type===A))==null?void 0:l.attrs,j=Ty(o,A,b);j&&(m=j.from,x=j.to),r.removeMark(m,x,A)}else p.forEach(m=>{r.removeMark(m.$from.pos,m.$to.pos,A)});return r.removeStoredMark(A),!0},h9=s=>({tr:e,state:r,dispatch:n})=>{const{selection:a}=r;let l,u;return typeof s=="number"?(l=s,u=s):s&&"from"in s&&"to"in s?(l=s.from,u=s.to):(l=a.from,u=a.to),n&&e.doc.nodesBetween(l,u,(d,A)=>{if(d.isText)return;const o={...d.attrs};delete o.dir,e.setNodeMarkup(A,void 0,o)}),!0},f9=(s,e={})=>({tr:r,state:n,dispatch:a})=>{let l=null,u=null;const d=gx(typeof s=="string"?s:s.name,n.schema);if(!d)return!1;d==="node"&&(l=Tl(s,n.schema)),d==="mark"&&(u=_A(s,n.schema));let A=!1;return r.selection.ranges.forEach(o=>{const f=o.$from.pos,p=o.$to.pos;let m,x,b,j;r.selection.empty?n.doc.nodesBetween(f,p,(y,T)=>{l&&l===y.type&&(A=!0,b=Math.max(T,f),j=Math.min(T+y.nodeSize,p),m=T,x=y)}):n.doc.nodesBetween(f,p,(y,T)=>{T<f&&l&&l===y.type&&(A=!0,b=Math.max(T,f),j=Math.min(T+y.nodeSize,p),m=T,x=y),T>=f&&T<=p&&(l&&l===y.type&&(A=!0,a&&r.setNodeMarkup(T,void 0,{...y.attrs,...e})),u&&y.marks.length&&y.marks.forEach(R=>{if(u===R.type&&(A=!0,a)){const z=Math.max(T,f),X=Math.min(T+y.nodeSize,p);r.addMark(z,X,u.create({...R.attrs,...e}))}}))}),x&&(m!==void 0&&a&&r.setNodeMarkup(m,void 0,{...x.attrs,...e}),u&&x.marks.length&&x.marks.forEach(y=>{u===y.type&&a&&r.addMark(b,j,u.create({...y.attrs,...e}))}))}),A},p9=(s,e={})=>({state:r,dispatch:n})=>{const a=Tl(s,r.schema);return $7(a,e)(r,n)},m9=(s,e={})=>({state:r,dispatch:n})=>{const a=Tl(s,r.schema);return V7(a,e)(r,n)},g9=class{constructor(){this.callbacks={}}on(s,e){return this.callbacks[s]||(this.callbacks[s]=[]),this.callbacks[s].push(e),this}emit(s,...e){const r=this.callbacks[s];return r&&r.forEach(n=>n.apply(this,e)),this}off(s,e){const r=this.callbacks[s];return r&&(e?this.callbacks[s]=r.filter(n=>n!==e):delete this.callbacks[s]),this}once(s,e){const r=(...n)=>{this.off(s,r),e.apply(this,n)};return this.on(s,r)}removeAllListeners(){this.callbacks={}}},vx=class{constructor(s){var e;this.find=s.find,this.handler=s.handler,this.undoable=(e=s.undoable)!=null?e:!0}},x9=(s,e)=>{if(Ey(e))return e.exec(s);const r=e(s);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=s,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function u0(s){var e;const{editor:r,from:n,to:a,text:l,rules:u,plugin:d}=s,{view:A}=r;if(A.composing)return!1;const o=A.state.doc.resolve(n);if(o.parent.type.spec.code||(e=o.nodeBefore||o.nodeAfter)!=null&&e.marks.find(m=>m.type.spec.code))return!1;let f=!1;const p=$H(o)+l;return u.forEach(m=>{if(f)return;const x=x9(p,m.find);if(!x)return;const b=A.state.tr,j=px({state:A.state,transaction:b}),y={from:n-(x[0].length-l.length),to:a},{commands:T,chain:R,can:z}=new mx({editor:r,state:j});m.handler({state:j,range:y,match:x,commands:T,chain:R,can:z})===null||!b.steps.length||(m.undoable&&b.setMeta(d,{transform:b,from:n,to:a,text:l}),A.dispatch(b),f=!0)}),f}function b9(s){const{editor:e,rules:r}=s,n=new To({state:{init(){return null},apply(a,l,u){const d=a.getMeta(n);if(d)return d;const A=a.getMeta("applyInputRules");return!!A&&setTimeout(()=>{let{text:f}=A;typeof f=="string"?f=f:f=Ly(Gs.from(f),u.schema);const{from:p}=A,m=p+f.length;u0({editor:e,from:p,to:m,text:f,rules:r,plugin:n})}),a.selectionSet||a.docChanged?null:l}},props:{handleTextInput(a,l,u,d){return u0({editor:e,from:l,to:u,text:d,rules:r,plugin:n})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:l}=a.state.selection;l&&u0({editor:e,from:l.pos,to:l.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(a,l){if(l.key!=="Enter")return!1;const{$cursor:u}=a.state.selection;return u?u0({editor:e,from:u.pos,to:u.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function v9(s){return Object.prototype.toString.call(s).slice(8,-1)}function A0(s){return v9(s)!=="Object"?!1:s.constructor===Object&&Object.getPrototypeOf(s)===Object.prototype}function _k(s,e){const r={...s};return A0(s)&&A0(e)&&Object.keys(e).forEach(n=>{A0(e[n])&&A0(s[n])?r[n]=_k(s[n],e[n]):r[n]=e[n]}),r}var Iy=class{constructor(s={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...s},this.name=this.config.name}get options(){return{...ji(bn(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ji(bn(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(s={}){const e=this.extend({...this.config,addOptions:()=>_k(this.options,s)});return e.name=this.name,e.parent=this.parent,e}extend(s={}){const e=new this.constructor({...this.config,...s});return e.parent=this,this.child=e,e.name="name"in s?s.name:e.parent.name,e}},HA=class Hk extends Iy{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new Hk(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,a=e.state.selection.$from;if(a.pos===a.end()){const u=a.marks();if(!!!u.find(o=>(o==null?void 0:o.type.name)===r.name))return!1;const A=u.find(o=>(o==null?void 0:o.type.name)===r.name);return A&&n.removeStoredMark(A),n.insertText(" ",a.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function y9(s){return typeof s=="number"}var w9=class{constructor(s){this.find=s.find,this.handler=s.handler}},j9=(s,e,r)=>{if(Ey(e))return[...s.matchAll(e)];const n=e(s,r);return n?n.map(a=>{const l=[a.text];return l.index=a.index,l.input=s,l.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(a.replaceWith)),l}):[]};function N9(s){const{editor:e,state:r,from:n,to:a,rule:l,pasteEvent:u,dropEvent:d}=s,{commands:A,chain:o,can:f}=new mx({editor:e,state:r}),p=[];return r.doc.nodesBetween(n,a,(x,b)=>{var j,y,T,R,z;if((y=(j=x.type)==null?void 0:j.spec)!=null&&y.code||!(x.isText||x.isTextblock||x.isInline))return;const X=(z=(R=(T=x.content)==null?void 0:T.size)!=null?R:x.nodeSize)!=null?z:0,Y=Math.max(n,b),Q=Math.min(a,b+X);if(Y>=Q)return;const K=x.isText?x.text||"":x.textBetween(Y-b,Q-b,void 0,"");j9(K,l.find,u).forEach(ue=>{if(ue.index===void 0)return;const Ne=Y+ue.index+1,le=Ne+ue[0].length,Ce={from:r.tr.mapping.map(Ne),to:r.tr.mapping.map(le)},oe=l.handler({state:r,range:Ce,match:ue,commands:A,chain:o,can:f,pasteEvent:u,dropEvent:d});p.push(oe)})}),p.every(x=>x!==null)}var h0=null,k9=s=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",s),r};function C9(s){const{editor:e,rules:r}=s;let n=null,a=!1,l=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const A=({state:f,from:p,to:m,rule:x,pasteEvt:b})=>{const j=f.tr,y=px({state:f,transaction:j});if(!(!N9({editor:e,state:y,from:Math.max(p-1,0),to:m.b-1,rule:x,pasteEvent:b,dropEvent:d})||!j.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,j}};return r.map(f=>new To({view(p){const m=b=>{var j;n=(j=p.dom.parentElement)!=null&&j.contains(b.target)?p.dom.parentElement:null,n&&(h0=e)},x=()=>{h0&&(h0=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(p,m)=>{if(l=n===p.dom.parentElement,d=m,!l){const x=h0;x!=null&&x.isEditable&&setTimeout(()=>{const b=x.state.selection;b&&x.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(p,m)=>{var x;const b=(x=m.clipboardData)==null?void 0:x.getData("text/html");return u=m,a=!!(b!=null&&b.includes("data-pm-slice")),!1}}},appendTransaction:(p,m,x)=>{const b=p[0],j=b.getMeta("uiEvent")==="paste"&&!a,y=b.getMeta("uiEvent")==="drop"&&!l,T=b.getMeta("applyPasteRules"),R=!!T;if(!j&&!y&&!R)return;if(R){let{text:Y}=T;typeof Y=="string"?Y=Y:Y=Ly(Gs.from(Y),x.schema);const{from:Q}=T,K=Q+Y.length,ce=k9(Y);return A({rule:f,state:x,from:Q,to:{b:K},pasteEvt:ce})}const z=m.doc.content.findDiffStart(x.doc.content),X=m.doc.content.findDiffEnd(x.doc.content);if(!(!y9(z)||!X||z===X.b))return A({rule:f,state:x,from:z,to:X,pasteEvt:u})}}))}var yx=class{constructor(s,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=s,this.extensions=Lk(s),this.schema=DH(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((s,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Fb(e.name,this.schema)},n=bn(e,"addCommands",r);return n?{...s,...n()}:s},{})}get plugins(){const{editor:s}=this;return My([...this.extensions].reverse()).flatMap(n=>{const a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:s,type:Fb(n.name,this.schema)},l=[],u=bn(n,"addKeyboardShortcuts",a);let d={};if(n.type==="mark"&&bn(n,"exitable",a)&&(d.ArrowRight=()=>HA.handleExit({editor:s,mark:n})),u){const m=Object.fromEntries(Object.entries(u()).map(([x,b])=>[x,()=>b({editor:s})]));d={...d,...m}}const A=Q_(d);l.push(A);const o=bn(n,"addInputRules",a);if(oj(n,s.options.enableInputRules)&&o){const m=o();if(m&&m.length){const x=b9({editor:s,rules:m}),b=Array.isArray(x)?x:[x];l.push(...b)}}const f=bn(n,"addPasteRules",a);if(oj(n,s.options.enablePasteRules)&&f){const m=f();if(m&&m.length){const x=C9({editor:s,rules:m});l.push(...x)}}const p=bn(n,"addProseMirrorPlugins",a);if(p){const m=p();l.push(...m)}return l})}get attributes(){return Fk(this.extensions)}get nodeViews(){const{editor:s}=this,{nodeExtensions:e}=pp(this.extensions);return Object.fromEntries(e.filter(r=>!!bn(r,"addNodeView")).map(r=>{const n=this.attributes.filter(A=>A.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:s,type:Tl(r.name,this.schema)},l=bn(r,"addNodeView",a);if(!l)return[];const u=l();if(!u)return[];const d=(A,o,f,p,m)=>{const x=Ag(A,n);return u({node:A,view:o,getPos:f,decorations:p,innerDecorations:m,editor:s,extension:r,HTMLAttributes:x})};return[r.name,d]}))}get markViews(){const{editor:s}=this,{markExtensions:e}=pp(this.extensions);return Object.fromEntries(e.filter(r=>!!bn(r,"addMarkView")).map(r=>{const n=this.attributes.filter(d=>d.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:s,type:_A(r.name,this.schema)},l=bn(r,"addMarkView",a);if(!l)return[];const u=(d,A,o)=>{const f=Ag(d,n);return l()({mark:d,view:A,inline:o,editor:s,extension:r,HTMLAttributes:f,updateAttributes:p=>{_9(d,s,p)}})};return[r.name,u]}))}setupExtensions(){const s=this.extensions;this.editor.extensionStorage=Object.fromEntries(s.map(e=>[e.name,e.storage])),s.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Fb(e.name,this.schema)};e.type==="mark"&&((r=ji(bn(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const a=bn(e,"onBeforeCreate",n),l=bn(e,"onCreate",n),u=bn(e,"onUpdate",n),d=bn(e,"onSelectionUpdate",n),A=bn(e,"onTransaction",n),o=bn(e,"onFocus",n),f=bn(e,"onBlur",n),p=bn(e,"onDestroy",n);a&&this.editor.on("beforeCreate",a),l&&this.editor.on("create",l),u&&this.editor.on("update",u),d&&this.editor.on("selectionUpdate",d),A&&this.editor.on("transaction",A),o&&this.editor.on("focus",o),f&&this.editor.on("blur",f),p&&this.editor.on("destroy",p)})}};yx.resolve=Lk;yx.sort=My;yx.flatten=Fy;var B9={};Sy(B9,{ClipboardTextSerializer:()=>$k,Commands:()=>Vk,Delete:()=>Kk,Drop:()=>Gk,Editable:()=>Wk,FocusEvents:()=>Xk,Keymap:()=>Jk,Paste:()=>Zk,Tabindex:()=>qk,TextDirection:()=>eC,focusEventsPluginKey:()=>Yk});var Oi=class zk extends Iy{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new zk(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},$k=Oi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new To({key:new Vl("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:s}=this,{state:e,schema:r}=s,{doc:n,selection:a}=e,{ranges:l}=a,u=Math.min(...l.map(f=>f.$from.pos)),d=Math.max(...l.map(f=>f.$to.pos)),A=Ok(r);return Mk(n,{from:u,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:A})}}})]}}),Vk=Oi.create({name:"commands",addCommands(){return{...jk}}}),Kk=Oi.create({name:"delete",onUpdate({transaction:s,appendedTransactions:e}){var r,n,a;const l=()=>{var u,d,A,o;if((o=(A=(d=(u=this.editor.options.coreExtensionOptions)==null?void 0:u.delete)==null?void 0:d.filterTransaction)==null?void 0:A.call(d,s))!=null?o:s.getMeta("y-sync$"))return;const f=Tk(s.before,[s,...e]);Dk(f).forEach(x=>{f.mapping.mapResult(x.oldRange.from).deletedAfter&&f.mapping.mapResult(x.oldRange.to).deletedBefore&&f.before.nodesBetween(x.oldRange.from,x.oldRange.to,(b,j)=>{const y=j+b.nodeSize-2,T=x.oldRange.from<=j&&y<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:j,to:y,newFrom:f.mapping.map(j),newTo:f.mapping.map(y),deletedRange:x.oldRange,newRange:x.newRange,partial:!T,editor:this.editor,transaction:s,combinedTransform:f})})});const m=f.mapping;f.steps.forEach((x,b)=>{var j,y;if(x instanceof Fu){const T=m.slice(b).map(x.from,-1),R=m.slice(b).map(x.to),z=m.invert().map(T,-1),X=m.invert().map(R),Y=(j=f.doc.nodeAt(T-1))==null?void 0:j.marks.some(K=>K.eq(x.mark)),Q=(y=f.doc.nodeAt(R))==null?void 0:y.marks.some(K=>K.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:z,to:X},newRange:{from:T,to:R},partial:!!(Q||Y),editor:this.editor,transaction:s,combinedTransform:f})}})};(a=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||a?setTimeout(l,0):l()}}),Gk=Oi.create({name:"drop",addProseMirrorPlugins(){return[new To({key:new Vl("tiptapDrop"),props:{handleDrop:(s,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),Wk=Oi.create({name:"editable",addProseMirrorPlugins(){return[new To({key:new Vl("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Yk=new Vl("focusEvents"),Xk=Oi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:s}=this;return[new To({key:Yk,props:{handleDOMEvents:{focus:(e,r)=>{s.isFocused=!0;const n=s.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{s.isFocused=!1;const n=s.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),Jk=Oi.create({name:"keymap",addKeyboardShortcuts(){const s=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:d})=>{const{selection:A,doc:o}=d,{empty:f,$anchor:p}=A,{pos:m,parent:x}=p,b=p.parent.isTextblock&&m>0?d.doc.resolve(m-1):p,j=b.parent.type.spec.isolating,y=p.pos-p.parentOffset,T=j&&b.parent.childCount===1?y===p.pos:ha.atStart(o).from===m;return!f||!x.type.isTextblock||x.textContent.length||!T||T&&p.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:s,"Mod-Backspace":s,"Shift-Backspace":s,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...n},l={...n,"Ctrl-h":s,"Alt-Backspace":s,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Uy()||Sk()?l:a},addProseMirrorPlugins(){return[new To({key:new Vl("clearDocument"),appendTransaction:(s,e,r)=>{if(s.some(j=>j.getMeta("composition")))return;const n=s.some(j=>j.docChanged)&&!e.doc.eq(r.doc),a=s.some(j=>j.getMeta("preventClearDocument"));if(!n||a)return;const{empty:l,from:u,to:d}=e.selection,A=ha.atStart(e.doc).from,o=ha.atEnd(e.doc).to;if(l||!(u===A&&d===o)||!bx(r.doc))return;const m=r.tr,x=px({state:r,transaction:m}),{commands:b}=new mx({editor:this.editor,state:x});if(b.clearNodes(),!!m.steps.length)return m}})]}}),Zk=Oi.create({name:"paste",addProseMirrorPlugins(){return[new To({key:new Vl("tiptapPaste"),props:{handlePaste:(s,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),qk=Oi.create({name:"tabindex",addProseMirrorPlugins(){return[new To({key:new Vl("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),eC=Oi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:s}=pp(this.extensions);return[{types:s.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const r=e.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new To({key:new Vl("textDirection"),props:{attributes:()=>{const s=this.options.direction;return s?{dir:s}:{}}}})]}}),S9=class qf{constructor(e,r,n=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new qf(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new qf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new qf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const a=r.isBlock&&!r.isTextblock,l=r.isAtom&&!r.isText,u=this.pos+n+(l?0:1);if(u<0||u>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(u);if(!a&&d.depth<=this.depth)return;const A=new qf(d,this.editor,a,a?r:null);a&&(A.actualDepth=this.depth+1),e.push(new qf(d,this.editor,a,a?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,a=this.parent;for(;a&&!n;){if(a.node.type.name===e)if(Object.keys(r).length>0){const l=a.node.attrs,u=Object.keys(r);for(let d=0;d<u.length;d+=1){const A=u[d];if(l[A]!==r[A])break}}else n=a;a=a.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let a=[];if(!this.children||this.children.length===0)return a;const l=Object.keys(r);return this.children.forEach(u=>{n&&a.length>0||(u.node.type.name===e&&l.every(A=>r[A]===u.node.attrs[A])&&a.push(u),!(n&&a.length>0)&&(a=a.concat(u.querySelectorAll(e,r,n))))}),a}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},E9=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function T9(s,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.setAttribute("data-tiptap-style",""),a.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(a),a}var U9=class extends g9{constructor(s={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:WH,createMappablePosition:YH},this.setOptions(s),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:a,moved:l})=>this.options.onDrop(n,a,l)),this.on("paste",({event:n,slice:a})=>this.options.onPaste(n,a)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=Ck(e,this.options.autofocus);this.editorState=tp.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(s){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(s),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const s=this.editorView.dom;s!=null&&s.editor&&delete s.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(s){console.warn("Failed to remove CSS element:",s)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=T9(E9,this.options.injectNonce))}setOptions(s={}){this.options={...this.options,...s},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(s,e=!0){this.setOptions({editable:s}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:s=>{this.editorState=s},dispatch:s=>{this.dispatchTransaction(s)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(s,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in s)return Reflect.get(s,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(s,e){const r=Uk(e)?e(s,[...this.state.plugins]):[...this.state.plugins,s],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(s){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(s).forEach(a=>{const l=typeof a=="string"?`${a}$`:a.key;r=r.filter(u=>!u.key.startsWith(l))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var s,e;const n=[...this.options.enableCoreExtensions?[Wk,$k.configure({blockSeparator:(e=(s=this.options.coreExtensionOptions)==null?void 0:s.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Vk,Xk,Jk,qk,Gk,Zk,Kk,eC.configure({direction:this.options.textDirection})].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new yx(n,this)}createCommandManager(){this.commandManager=new mx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let s;try{s=Tv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),s=Tv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return s}createView(s){var e;this.editorView=new yk(s,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(s){this.isCapturingTransaction=!0,s(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(s){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=s;return}s.steps.forEach(o=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(o)});return}const{state:e,transactions:r}=this.state.applyTransaction(s),n=!this.state.selection.eq(e.selection),a=r.includes(s),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:s,nextState:e}),!a)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:s,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:s});const u=r.findLast(o=>o.getMeta("focus")||o.getMeta("blur")),d=u==null?void 0:u.getMeta("focus"),A=u==null?void 0:u.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:u}),A&&this.emit("blur",{editor:this,event:A.event,transaction:u}),!(s.getMeta("preventUpdate")||!r.some(o=>o.docChanged)||l.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:s,appendedTransactions:r.slice(1)})}getAttributes(s){return Ik(this.state,s)}isActive(s,e){const r=typeof s=="string"?s:null,n=typeof s=="string"?e:s;return VH(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ly(this.state.doc.content,this.schema)}getText(s){const{blockSeparator:e=`

`,textSerializers:r={}}=s||{};return PH(this.state.doc,{blockSeparator:e,textSerializers:{...Ok(this.schema),...r}})}get isEmpty(){return bx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var s,e;return(e=(s=this.editorView)==null?void 0:s.isDestroyed)!=null?e:!0}$node(s,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(s,e))||null}$nodes(s,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(s,e))||null}$pos(s){const e=this.state.doc.resolve(s);return new S9(e,this)}get $doc(){return this.$pos(0)}};function kf(s){return new vx({find:s.find,handler:({state:e,range:r,match:n})=>{const a=ji(s.getAttributes,void 0,n);if(a===!1||a===null)return null;const{tr:l}=e,u=n[n.length-1],d=n[0];if(u){const A=d.search(/\S/),o=r.from+d.indexOf(u),f=o+u.length;if(Oy(r.from,r.to,e.doc).filter(x=>x.mark.type.excluded.find(j=>j===s.type&&j!==x.mark.type)).filter(x=>x.to>o).length)return null;f<r.to&&l.delete(f,r.to),o>r.from&&l.delete(r.from+A,o);const m=r.from+A+u.length;l.addMark(r.from+A,m,s.type.create(a||{})),l.removeStoredMark(s.type)}},undoable:s.undoable})}function tC(s){return new vx({find:s.find,handler:({state:e,range:r,match:n})=>{const a=ji(s.getAttributes,void 0,n)||{},{tr:l}=e,u=r.from;let d=r.to;const A=s.type.create(a);if(n[1]){const o=n[0].lastIndexOf(n[1]);let f=u+o;f>d?f=d:d=f+n[1].length;const p=n[0][n[0].length-1];l.insertText(p,u+n[0].length-1),l.replaceWith(f,d,A)}else if(n[0]){const o=s.type.isInline?u:u-1;l.insert(o,s.type.create(a)).delete(l.mapping.map(u),l.mapping.map(d))}l.scrollIntoView()},undoable:s.undoable})}function Fv(s){return new vx({find:s.find,handler:({state:e,range:r,match:n})=>{const a=e.doc.resolve(r.from),l=ji(s.getAttributes,void 0,n)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),s.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,s.type,l)},undoable:s.undoable})}function mp(s){return new vx({find:s.find,handler:({state:e,range:r,match:n,chain:a})=>{const l=ji(s.getAttributes,void 0,n)||{},u=e.tr.delete(r.from,r.to),A=u.doc.resolve(r.from).blockRange(),o=A&&Ay(A,s.type,l);if(!o)return null;if(u.wrap(A,o),s.keepMarks&&s.editor){const{selection:p,storedMarks:m}=e,{splittableMarks:x}=s.editor.extensionManager,b=m||p.$to.parentOffset&&p.$from.marks();if(b){const j=b.filter(y=>x.includes(y.type.name));u.ensureMarks(j)}}if(s.keepAttributes){const p=s.type.name==="bulletList"||s.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(p,l).run()}const f=u.doc.resolve(r.from-1).nodeBefore;f&&f.type===s.type&&Qh(u.doc,r.from-1)&&(!s.joinPredicate||s.joinPredicate(n,f))&&u.join(r.from-1)},undoable:s.undoable})}var F9=s=>"touches"in s,L9=class{constructor(s){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=d=>{if(!this.isResizing||!this.activeHandle)return;const A=d.clientX-this.startX,o=d.clientY-this.startY;this.handleResize(A,o)},this.handleTouchMove=d=>{if(!this.isResizing||!this.activeHandle)return;const A=d.touches[0];if(!A)return;const o=A.clientX-this.startX,f=A.clientY-this.startY;this.handleResize(o,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const d=this.element.offsetWidth,A=this.element.offsetHeight;this.onCommit(d,A),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,r,n,a,l,u;this.node=s.node,this.editor=s.editor,this.element=s.element,this.contentElement=s.contentElement,this.getPos=s.getPos,this.onResize=s.onResize,this.onCommit=s.onCommit,this.onUpdate=s.onUpdate,(e=s.options)!=null&&e.min&&(this.minSize={...this.minSize,...s.options.min}),(r=s.options)!=null&&r.max&&(this.maxSize=s.options.max),(n=s==null?void 0:s.options)!=null&&n.directions&&(this.directions=s.options.directions),(a=s.options)!=null&&a.preserveAspectRatio&&(this.preserveAspectRatio=s.options.preserveAspectRatio),(l=s.options)!=null&&l.className&&(this.classNames={container:s.options.className.container||"",wrapper:s.options.className.wrapper||"",handle:s.options.className.handle||"",resizing:s.options.className.resizing||""}),(u=s.options)!=null&&u.createCustomHandle&&(this.createCustomHandle=s.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const s=this.editor.isEditable;s!==this.lastEditableState&&(this.lastEditableState=s,s?s&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(s,e,r){return s.type!==this.node.type?!1:(this.node=s,this.onUpdate?this.onUpdate(s,e,r):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const s=document.createElement("div");return s.dataset.resizeContainer="",s.dataset.node=this.node.type.name,s.style.display="flex",this.classNames.container&&(s.className=this.classNames.container),s.appendChild(this.wrapper),s}createWrapper(){const s=document.createElement("div");return s.style.position="relative",s.style.display="block",s.dataset.resizeWrapper="",this.classNames.wrapper&&(s.className=this.classNames.wrapper),s.appendChild(this.element),s}createHandle(s){const e=document.createElement("div");return e.dataset.resizeHandle=s,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(s,e){const r=e.includes("top"),n=e.includes("bottom"),a=e.includes("left"),l=e.includes("right");r&&(s.style.top="0"),n&&(s.style.bottom="0"),a&&(s.style.left="0"),l&&(s.style.right="0"),(e==="top"||e==="bottom")&&(s.style.left="0",s.style.right="0"),(e==="left"||e==="right")&&(s.style.top="0",s.style.bottom="0")}attachHandles(){this.directions.forEach(s=>{let e;this.createCustomHandle?e=this.createCustomHandle(s):e=this.createHandle(s),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${s}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(s)),this.createCustomHandle||this.positionHandle(e,s),e.addEventListener("mousedown",r=>this.handleResizeStart(r,s)),e.addEventListener("touchstart",r=>this.handleResizeStart(r,s)),this.handleMap.set(s,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(s=>s.remove()),this.handleMap.clear()}applyInitialSize(){const s=this.node.attrs.width,e=this.node.attrs.height;s?(this.element.style.width=`${s}px`,this.initialWidth=s):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(s,e){s.preventDefault(),s.stopPropagation(),this.isResizing=!0,this.activeHandle=e,F9(s)?(this.startX=s.touches[0].clientX,this.startY=s.touches[0].clientY):(this.startX=s.clientX,this.startY=s.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(s,e){if(!this.activeHandle)return;const r=this.preserveAspectRatio||this.isShiftKeyPressed,{width:n,height:a}=this.calculateNewDimensions(this.activeHandle,s,e),l=this.applyConstraints(n,a,r);this.element.style.width=`${l.width}px`,this.element.style.height=`${l.height}px`,this.onResize&&this.onResize(l.width,l.height)}calculateNewDimensions(s,e,r){let n=this.startWidth,a=this.startHeight;const l=s.includes("right"),u=s.includes("left"),d=s.includes("bottom"),A=s.includes("top");return l?n=this.startWidth+e:u&&(n=this.startWidth-e),d?a=this.startHeight+r:A&&(a=this.startHeight-r),(s==="right"||s==="left")&&(n=this.startWidth+(l?e:-e)),(s==="top"||s==="bottom")&&(a=this.startHeight+(d?r:-r)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(n,a,s):{width:n,height:a}}applyConstraints(s,e,r){var n,a,l,u;if(!r){let o=Math.max(this.minSize.width,s),f=Math.max(this.minSize.height,e);return(n=this.maxSize)!=null&&n.width&&(o=Math.min(this.maxSize.width,o)),(a=this.maxSize)!=null&&a.height&&(f=Math.min(this.maxSize.height,f)),{width:o,height:f}}let d=s,A=e;return d<this.minSize.width&&(d=this.minSize.width,A=d/this.aspectRatio),A<this.minSize.height&&(A=this.minSize.height,d=A*this.aspectRatio),(l=this.maxSize)!=null&&l.width&&d>this.maxSize.width&&(d=this.maxSize.width,A=d/this.aspectRatio),(u=this.maxSize)!=null&&u.height&&A>this.maxSize.height&&(A=this.maxSize.height,d=A*this.aspectRatio),{width:d,height:A}}applyAspectRatio(s,e,r){const n=r==="left"||r==="right",a=r==="top"||r==="bottom";return n?{width:s,height:s/this.aspectRatio}:a?{width:e*this.aspectRatio,height:e}:{width:s,height:s/this.aspectRatio}}};function M9(s,e){const{selection:r}=s,{$from:n}=r;if(r instanceof wn){const l=n.index();return n.parent.canReplaceWith(l,l+1,e)}let a=n.depth;for(;a>=0;){const l=n.index(a);if(n.node(a).contentMatchAt(l).matchType(e))return!0;a-=1}return!1}var O9={};Sy(O9,{createAtomBlockMarkdownSpec:()=>I9,createBlockMarkdownSpec:()=>D9,createInlineMarkdownSpec:()=>Q9,parseAttributes:()=>Dy,parseIndentedBlocks:()=>Lv,renderNestedMarkdownContent:()=>Py,serializeAttributes:()=>Ry});function Dy(s){if(!(s!=null&&s.trim()))return{};const e={},r=[],n=s.replace(/["']([^"']*)["']/g,o=>(r.push(o),`__QUOTED_${r.length-1}__`)),a=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const o=a.map(f=>f.trim().slice(1));e.class=o.join(" ")}const l=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(e.id=l[1]);const u=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(u)).forEach(([,o,f])=>{var p;const m=parseInt(((p=f.match(/__QUOTED_(\d+)__/))==null?void 0:p[1])||"0",10),x=r[m];x&&(e[o]=x.slice(1,-1))});const A=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return A&&A.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function Ry(s){if(!s||Object.keys(s).length===0)return"";const e=[];return s.class&&String(s.class).split(/\s+/).filter(Boolean).forEach(n=>e.push(`.${n}`)),s.id&&e.push(`#${s.id}`),Object.entries(s).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?e.push(r):n!==!1&&n!=null&&e.push(`${r}="${String(n)}"`))}),e.join(" ")}function I9(s){const{nodeName:e,name:r,parseAttributes:n=Dy,serializeAttributes:a=Ry,defaultAttributes:l={},requiredAttributes:u=[],allowedAttributes:d}=s,A=r||e,o=f=>{if(!d)return f;const p={};return d.forEach(m=>{m in f&&(p[m]=f[m])}),p};return{parseMarkdown:(f,p)=>{const m={...l,...f.attributes};return p.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(f){var p;const m=new RegExp(`^:::${A}(?:\\s|$)`,"m"),x=(p=f.match(m))==null?void 0:p.index;return x!==void 0?x:-1},tokenize(f,p,m){const x=new RegExp(`^:::${A}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=f.match(x);if(!b)return;const j=b[1]||"",y=n(j);if(!u.find(R=>!(R in y)))return{type:e,raw:b[0],attributes:y}}},renderMarkdown:f=>{const p=o(f.attrs||{}),m=a(p),x=m?` {${m}}`:"";return`:::${A}${x} :::`}}}function D9(s){const{nodeName:e,name:r,getContent:n,parseAttributes:a=Dy,serializeAttributes:l=Ry,defaultAttributes:u={},content:d="block",allowedAttributes:A}=s,o=r||e,f=p=>{if(!A)return p;const m={};return A.forEach(x=>{x in p&&(m[x]=p[x])}),m};return{parseMarkdown:(p,m)=>{let x;if(n){const j=n(p);x=typeof j=="string"?[{type:"text",text:j}]:j}else d==="block"?x=m.parseChildren(p.tokens||[]):x=m.parseInline(p.tokens||[]);const b={...u,...p.attributes};return m.createNode(e,b,x)},markdownTokenizer:{name:e,level:"block",start(p){var m;const x=new RegExp(`^:::${o}`,"m"),b=(m=p.match(x))==null?void 0:m.index;return b!==void 0?b:-1},tokenize(p,m,x){var b;const j=new RegExp(`^:::${o}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),y=p.match(j);if(!y)return;const[T,R=""]=y,z=a(R);let X=1;const Y=T.length;let Q="";const K=/^:::([\w-]*)(\s.*)?/gm,ce=p.slice(Y);for(K.lastIndex=0;;){const ue=K.exec(ce);if(ue===null)break;const Ne=ue.index,le=ue[1];if(!((b=ue[2])!=null&&b.endsWith(":::"))){if(le)X+=1;else if(X-=1,X===0){const Ce=ce.slice(0,Ne);Q=Ce.trim();const oe=p.slice(0,Y+Ne+ue[0].length);let je=[];if(Q)if(d==="block")for(je=x.blockTokens(Ce),je.forEach(Ae=>{Ae.text&&(!Ae.tokens||Ae.tokens.length===0)&&(Ae.tokens=x.inlineTokens(Ae.text))});je.length>0;){const Ae=je[je.length-1];if(Ae.type==="paragraph"&&(!Ae.text||Ae.text.trim()===""))je.pop();else break}else je=x.inlineTokens(Q);return{type:e,raw:oe,attributes:z,content:Q,tokens:je}}}}}},renderMarkdown:(p,m)=>{const x=f(p.attrs||{}),b=l(x),j=b?` {${b}}`:"",y=m.renderChildren(p.content||[],`

`);return`:::${o}${j}

${y}

:::`}}}function R9(s){if(!s.trim())return{};const e={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(s);for(;n!==null;){const[,a,l,u]=n;e[a]=l||u,n=r.exec(s)}return e}function P9(s){return Object.entries(s).filter(([,e])=>e!=null).map(([e,r])=>`${e}="${r}"`).join(" ")}function Q9(s){const{nodeName:e,name:r,getContent:n,parseAttributes:a=R9,serializeAttributes:l=P9,defaultAttributes:u={},selfClosing:d=!1,allowedAttributes:A}=s,o=r||e,f=m=>{if(!A)return m;const x={};return A.forEach(b=>{const j=typeof b=="string"?b:b.name,y=typeof b=="string"?void 0:b.skipIfDefault;if(j in m){const T=m[j];if(y!==void 0&&T===y)return;x[j]=T}}),x},p=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,x)=>{const b={...u,...m.attributes};if(d)return x.createNode(e,b);const j=n?n(m):m.content||"";return j?x.createNode(e,b,[x.createTextNode(j)]):x.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(m){const x=d?new RegExp(`\\[${p}\\s*[^\\]]*\\]`):new RegExp(`\\[${p}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${p}\\]`),b=m.match(x),j=b==null?void 0:b.index;return j!==void 0?j:-1},tokenize(m,x,b){const j=d?new RegExp(`^\\[${p}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${p}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${p}\\]`),y=m.match(j);if(!y)return;let T="",R="";if(d){const[,X]=y;R=X}else{const[,X,Y]=y;R=X,T=Y||""}const z=a(R.trim());return{type:e,raw:y[0],content:T.trim(),attributes:z}}},renderMarkdown:m=>{let x="";n?x=n(m):m.content&&m.content.length>0&&(x=m.content.filter(T=>T.type==="text").map(T=>T.text).join(""));const b=f(m.attrs||{}),j=l(b),y=j?` ${j}`:"";return d?`[${o}${y}]`:`[${o}${y}]${x}[/${o}]`}}}function Lv(s,e,r){var n,a,l,u;const d=s.split(`
`),A=[];let o="",f=0;const p=e.baseIndentSize||2;for(;f<d.length;){const m=d[f],x=m.match(e.itemPattern);if(!x){if(A.length>0)break;if(m.trim()===""){f+=1,o=`${o}${m}
`;continue}else return}const b=e.extractItemData(x),{indentLevel:j,mainContent:y}=b;o=`${o}${m}
`;const T=[y];for(f+=1;f<d.length;){const Y=d[f];if(Y.trim()===""){const K=d.slice(f+1).findIndex(Ne=>Ne.trim()!=="");if(K===-1)break;if((((a=(n=d[f+1+K].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:a.length)||0)>j){T.push(Y),o=`${o}${Y}
`,f+=1;continue}else break}if((((u=(l=Y.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:u.length)||0)>j)T.push(Y),o=`${o}${Y}
`,f+=1;else break}let R;const z=T.slice(1);if(z.length>0){const Y=z.map(Q=>Q.slice(j+p)).join(`
`);Y.trim()&&(e.customNestedParser?R=e.customNestedParser(Y):R=r.blockTokens(Y))}const X=e.createToken(b,R);A.push(X)}if(A.length!==0)return{items:A,raw:o}}function Py(s,e,r,n){if(!s||!Array.isArray(s.content))return"";const a=typeof r=="function"?r(n):r,[l,...u]=s.content,d=e.renderChildren([l]),A=[`${a}${d}`];return u&&u.length>0&&u.forEach(o=>{const f=e.renderChildren([o]);if(f){const p=f.split(`
`).map(m=>m?e.indent(m):"").join(`
`);A.push(p)}}),A.join(`
`)}function _9(s,e,r={}){const{state:n}=e,{doc:a,tr:l}=n,u=s;a.descendants((d,A)=>{const o=l.mapping.map(A),f=l.mapping.map(A)+d.nodeSize;let p=null;if(d.marks.forEach(x=>{if(x!==u)return!1;p=x}),!p)return;let m=!1;if(Object.keys(r).forEach(x=>{r[x]!==p.attrs[x]&&(m=!0)}),m){const x=s.type.create({...s.attrs,...r});l.removeMark(o,f,s.type),l.addMark(o,f,x)}}),l.docChanged&&e.view.dispatch(l)}var Md=class sC extends Iy{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new sC(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function Dh(s){return new w9({find:s.find,handler:({state:e,range:r,match:n,pasteEvent:a})=>{const l=ji(s.getAttributes,void 0,n,a);if(l===!1||l===null)return null;const{tr:u}=e,d=n[n.length-1],A=n[0];let o=r.to;if(d){const f=A.search(/\S/),p=r.from+A.indexOf(d),m=p+d.length;if(Oy(r.from,r.to,e.doc).filter(b=>b.mark.type.excluded.find(y=>y===s.type&&y!==b.mark.type)).filter(b=>b.to>p).length)return null;m<r.to&&u.delete(m,r.to),p>r.from&&u.delete(r.from+f,p),o=r.from+f+d.length,u.addMark(r.from+f,o,s.type.create(l||{})),u.removeStoredMark(s.type)}}})}const{getOwnPropertyNames:H9,getOwnPropertySymbols:z9}=Object,{hasOwnProperty:$9}=Object.prototype;function Ob(s,e){return function(n,a,l){return s(n,a,l)&&e(n,a,l)}}function f0(s){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return s(r,n,a);const{cache:l}=a,u=l.get(r),d=l.get(n);if(u&&d)return u===n&&d===r;l.set(r,n),l.set(n,r);const A=s(r,n,a);return l.delete(r),l.delete(n),A}}function V9(s){return s!=null?s[Symbol.toStringTag]:void 0}function dj(s){return H9(s).concat(z9(s))}const K9=Object.hasOwn||((s,e)=>$9.call(s,e));function Sf(s,e){return s===e||!s&&!e&&s!==s&&e!==e}const G9="__v",W9="__o",Y9="_owner",{getOwnPropertyDescriptor:uj,keys:Aj}=Object;function X9(s,e){return s.byteLength===e.byteLength&&hg(new Uint8Array(s),new Uint8Array(e))}function J9(s,e,r){let n=s.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(s[n],e[n],n,n,s,e,r))return!1;return!0}function Z9(s,e){return s.byteLength===e.byteLength&&hg(new Uint8Array(s.buffer,s.byteOffset,s.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function q9(s,e){return Sf(s.getTime(),e.getTime())}function ez(s,e){return s.name===e.name&&s.message===e.message&&s.cause===e.cause&&s.stack===e.stack}function tz(s,e){return s===e}function hj(s,e,r){const n=s.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),l=s.entries();let u,d,A=0;for(;(u=l.next())&&!u.done;){const o=e.entries();let f=!1,p=0;for(;(d=o.next())&&!d.done;){if(a[p]){p++;continue}const m=u.value,x=d.value;if(r.equals(m[0],x[0],A,p,s,e,r)&&r.equals(m[1],x[1],m[0],x[0],s,e,r)){f=a[p]=!0;break}p++}if(!f)return!1;A++}return!0}const sz=Sf;function rz(s,e,r){const n=Aj(s);let a=n.length;if(Aj(e).length!==a)return!1;for(;a-- >0;)if(!rC(s,e,r,n[a]))return!1;return!0}function Hp(s,e,r){const n=dj(s);let a=n.length;if(dj(e).length!==a)return!1;let l,u,d;for(;a-- >0;)if(l=n[a],!rC(s,e,r,l)||(u=uj(s,l),d=uj(e,l),(u||d)&&(!u||!d||u.configurable!==d.configurable||u.enumerable!==d.enumerable||u.writable!==d.writable)))return!1;return!0}function nz(s,e){return Sf(s.valueOf(),e.valueOf())}function az(s,e){return s.source===e.source&&s.flags===e.flags}function fj(s,e,r){const n=s.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),l=s.values();let u,d;for(;(u=l.next())&&!u.done;){const A=e.values();let o=!1,f=0;for(;(d=A.next())&&!d.done;){if(!a[f]&&r.equals(u.value,d.value,u.value,d.value,s,e,r)){o=a[f]=!0;break}f++}if(!o)return!1}return!0}function hg(s,e){let r=s.byteLength;if(e.byteLength!==r||s.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(s[r]!==e[r])return!1;return!0}function iz(s,e){return s.hostname===e.hostname&&s.pathname===e.pathname&&s.protocol===e.protocol&&s.port===e.port&&s.hash===e.hash&&s.username===e.username&&s.password===e.password}function rC(s,e,r,n){return(n===Y9||n===W9||n===G9)&&(s.$$typeof||e.$$typeof)?!0:K9(e,n)&&r.equals(s[n],e[n],n,n,s,e,r)}const oz="[object ArrayBuffer]",lz="[object Arguments]",cz="[object Boolean]",dz="[object DataView]",uz="[object Date]",Az="[object Error]",hz="[object Map]",fz="[object Number]",pz="[object Object]",mz="[object RegExp]",gz="[object Set]",xz="[object String]",bz={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},vz="[object URL]",yz=Object.prototype.toString;function wz({areArrayBuffersEqual:s,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:l,areMapsEqual:u,areNumbersEqual:d,areObjectsEqual:A,arePrimitiveWrappersEqual:o,areRegExpsEqual:f,areSetsEqual:p,areTypedArraysEqual:m,areUrlsEqual:x,unknownTagComparators:b}){return function(y,T,R){if(y===T)return!0;if(y==null||T==null)return!1;const z=typeof y;if(z!==typeof T)return!1;if(z!=="object")return z==="number"?d(y,T,R):z==="function"?l(y,T,R):!1;const X=y.constructor;if(X!==T.constructor)return!1;if(X===Object)return A(y,T,R);if(Array.isArray(y))return e(y,T,R);if(X===Date)return n(y,T,R);if(X===RegExp)return f(y,T,R);if(X===Map)return u(y,T,R);if(X===Set)return p(y,T,R);const Y=yz.call(y);if(Y===uz)return n(y,T,R);if(Y===mz)return f(y,T,R);if(Y===hz)return u(y,T,R);if(Y===gz)return p(y,T,R);if(Y===pz)return typeof y.then!="function"&&typeof T.then!="function"&&A(y,T,R);if(Y===vz)return x(y,T,R);if(Y===Az)return a(y,T,R);if(Y===lz)return A(y,T,R);if(bz[Y])return m(y,T,R);if(Y===oz)return s(y,T,R);if(Y===dz)return r(y,T,R);if(Y===cz||Y===fz||Y===xz)return o(y,T,R);if(b){let Q=b[Y];if(!Q){const K=V9(y);K&&(Q=b[K])}if(Q)return Q(y,T,R)}return!1}}function jz({circular:s,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:X9,areArraysEqual:r?Hp:J9,areDataViewsEqual:Z9,areDatesEqual:q9,areErrorsEqual:ez,areFunctionsEqual:tz,areMapsEqual:r?Ob(hj,Hp):hj,areNumbersEqual:sz,areObjectsEqual:r?Hp:rz,arePrimitiveWrappersEqual:nz,areRegExpsEqual:az,areSetsEqual:r?Ob(fj,Hp):fj,areTypedArraysEqual:r?Ob(hg,Hp):hg,areUrlsEqual:iz,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),s){const a=f0(n.areArraysEqual),l=f0(n.areMapsEqual),u=f0(n.areObjectsEqual),d=f0(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return n}function Nz(s){return function(e,r,n,a,l,u,d){return s(e,r,d)}}function kz({circular:s,comparator:e,createState:r,equals:n,strict:a}){if(r)return function(d,A){const{cache:o=s?new WeakMap:void 0,meta:f}=r();return e(d,A,{cache:o,equals:n,meta:f,strict:a})};if(s)return function(d,A){return e(d,A,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const l={cache:void 0,equals:n,meta:void 0,strict:a};return function(d,A){return e(d,A,l)}}const Cz=Hh();Hh({strict:!0});Hh({circular:!0});Hh({circular:!0,strict:!0});Hh({createInternalComparator:()=>Sf});Hh({strict:!0,createInternalComparator:()=>Sf});Hh({circular:!0,createInternalComparator:()=>Sf});Hh({circular:!0,createInternalComparator:()=>Sf,strict:!0});function Hh(s={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:a=!1}=s,l=jz(s),u=wz(l),d=r?r(u):Nz(u);return kz({circular:e,comparator:u,createState:n,equals:d,strict:a})}var Ib={exports:{}},Db={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pj;function Bz(){if(pj)return Db;pj=1;var s=Cm(),e=N5();function r(o,f){return o===f&&(o!==0||1/o===1/f)||o!==o&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,l=s.useRef,u=s.useEffect,d=s.useMemo,A=s.useDebugValue;return Db.useSyncExternalStoreWithSelector=function(o,f,p,m,x){var b=l(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=d(function(){function T(Q){if(!R){if(R=!0,z=Q,Q=m(Q),x!==void 0&&j.hasValue){var K=j.value;if(x(K,Q))return X=K}return X=Q}if(K=X,n(z,Q))return K;var ce=m(Q);return x!==void 0&&x(K,ce)?(z=Q,K):(z=Q,X=ce)}var R=!1,z,X,Y=p===void 0?null:p;return[function(){return T(f())},Y===null?void 0:function(){return T(Y())}]},[f,p,m,x]);var y=a(o,b[0],b[1]);return u(function(){j.hasValue=!0,j.value=y},[y]),A(y),y},Db}var mj;function Sz(){return mj||(mj=1,Ib.exports=Bz()),Ib.exports}var Ez=Sz(),Tz=(...s)=>e=>{s.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},Uz=({contentComponent:s})=>{const e=ry.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getServerSnapshot);return t.jsx(t.Fragment,{children:Object.values(e)})};function Fz(){const s=new Set;let e={};return{subscribe(r){return s.add(r),()=>{s.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:Vj.createPortal(n.reactElement,n.element,r)},s.forEach(a=>a())},removeRenderer(r){const n={...e};delete n[r],e=n,s.forEach(a=>a())}}}var Lz=class extends Uc.Component{constructor(s){var e;super(s),this.editorContentRef=Uc.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=s.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var s;const e=this.props.editor;if(e&&!e.isDestroyed&&((s=e.view.dom)!=null&&s.parentNode)){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r}),e.contentComponent=Fz(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var s;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((s=e.view.dom)!=null&&s.parentNode))return;const r=document.createElement("div");r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r})}catch{}}}render(){const{editor:s,innerRef:e,...r}=this.props;return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:Tz(e,this.editorContentRef),...r}),(s==null?void 0:s.contentComponent)&&t.jsx(Uz,{contentComponent:s.contentComponent})]})}},Mz=W.forwardRef((s,e)=>{const r=Uc.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[s.editor]);return Uc.createElement(Lz,{key:r,innerRef:e,...s})}),Oz=Uc.memo(Mz),Iz=typeof window<"u"?W.useLayoutEffect:W.useEffect,Dz=class{constructor(s){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=s,this.lastSnapshot={editor:s,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(s){return this.subscribers.add(s),()=>{this.subscribers.delete(s)}}watch(s){if(this.editor=s,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function Rz(s){var e;const[r]=W.useState(()=>new Dz(s.editor)),n=Ez.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,s.selector,(e=s.equalityFn)!=null?e:Cz);return Iz(()=>r.watch(s.editor),[s.editor,r]),W.useDebugValue(n),n}var Pz=!1,Mv=typeof window>"u",Qz=Mv||!!(typeof window<"u"&&window.next),_z=class nC{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Mv||Qz?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var a,l;return(l=(a=this.options.current).onBeforeCreate)==null?void 0:l.call(a,...n)},onBlur:(...n)=>{var a,l;return(l=(a=this.options.current).onBlur)==null?void 0:l.call(a,...n)},onCreate:(...n)=>{var a,l;return(l=(a=this.options.current).onCreate)==null?void 0:l.call(a,...n)},onDestroy:(...n)=>{var a,l;return(l=(a=this.options.current).onDestroy)==null?void 0:l.call(a,...n)},onFocus:(...n)=>{var a,l;return(l=(a=this.options.current).onFocus)==null?void 0:l.call(a,...n)},onSelectionUpdate:(...n)=>{var a,l;return(l=(a=this.options.current).onSelectionUpdate)==null?void 0:l.call(a,...n)},onTransaction:(...n)=>{var a,l;return(l=(a=this.options.current).onTransaction)==null?void 0:l.call(a,...n)},onUpdate:(...n)=>{var a,l;return(l=(a=this.options.current).onUpdate)==null?void 0:l.call(a,...n)},onContentError:(...n)=>{var a,l;return(l=(a=this.options.current).onContentError)==null?void 0:l.call(a,...n)},onDrop:(...n)=>{var a,l;return(l=(a=this.options.current).onDrop)==null?void 0:l.call(a,...n)},onPaste:(...n)=>{var a,l;return(l=(a=this.options.current).onPaste)==null?void 0:l.call(a,...n)},onDelete:(...n)=>{var a,l;return(l=(a=this.options.current).onDelete)==null?void 0:l.call(a,...n)}};return new U9(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((a,l)=>{var u;return a===((u=r.extensions)==null?void 0:u[l])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?nC.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,a)=>n===e[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Hz(s={},e=[]){const r=W.useRef(s);r.current=s;const[n]=W.useState(()=>new _z(r)),a=ry.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return W.useDebugValue(a),W.useEffect(n.onRender(e)),Rz({editor:a,selector:({transactionNumber:l})=>s.shouldRerenderOnTransaction===!1||s.shouldRerenderOnTransaction===void 0?null:s.immediatelyRender&&l===0?0:l+1}),a}var zz=W.createContext({editor:null});zz.Consumer;var $z=W.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Vz=()=>W.useContext($z);Uc.forwardRef((s,e)=>{const{onDragStart:r}=Vz(),n=s.as||"div";return t.jsx(n,{...s,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...s.style}})});Uc.createContext({markViewContentRef:()=>{}});var fg=(s,e)=>{if(s==="slot")return 0;if(s instanceof Function)return s(e);const{children:r,...n}=e??{};if(s==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[s,n,r]},Kz=/^\s*>\s$/,Gz=Md.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:s}){return fg("blockquote",{...So(this.options.HTMLAttributes,s),children:fg("slot",{})})},parseMarkdown:(s,e)=>e.createNode("blockquote",void 0,e.parseChildren(s.tokens||[])),renderMarkdown:(s,e)=>{if(!s.content)return"";const r=">",n=[];return s.content.forEach(a=>{const d=e.renderChildren([a]).split(`
`).map(A=>A.trim()===""?r:`${r} ${A}`);n.push(d.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:s})=>s.wrapIn(this.name),toggleBlockquote:()=>({commands:s})=>s.toggleWrap(this.name),unsetBlockquote:()=>({commands:s})=>s.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[mp({find:Kz,type:this.type})]}}),Wz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Yz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Xz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Jz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Zz=HA.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:s=>s.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:s=>s.type.name===this.name},{style:"font-weight",getAttrs:s=>/^(bold(er)?|[5-9]\d{2,})$/.test(s)&&null}]},renderHTML({HTMLAttributes:s}){return fg("strong",{...So(this.options.HTMLAttributes,s),children:fg("slot",{})})},markdownTokenName:"strong",parseMarkdown:(s,e)=>e.applyMark("bold",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`**${e.renderChildren(s)}**`,addCommands(){return{setBold:()=>({commands:s})=>s.setMark(this.name),toggleBold:()=>({commands:s})=>s.toggleMark(this.name),unsetBold:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[kf({find:Wz,type:this.type}),kf({find:Xz,type:this.type})]},addPasteRules(){return[Dh({find:Yz,type:this.type}),Dh({find:Jz,type:this.type})]}}),qz=/(^|[^`])`([^`]+)`(?!`)$/,e$=/(^|[^`])`([^`]+)`(?!`)/g,t$=HA.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:s}){return["code",So(this.options.HTMLAttributes,s),0]},markdownTokenName:"codespan",parseMarkdown:(s,e)=>e.applyMark("code",[{type:"text",text:s.text||""}]),renderMarkdown:(s,e)=>s.content?`\`${e.renderChildren(s.content)}\``:"",addCommands(){return{setCode:()=>({commands:s})=>s.setMark(this.name),toggleCode:()=>({commands:s})=>s.toggleMark(this.name),unsetCode:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[kf({find:qz,type:this.type})]},addPasteRules(){return[Dh({find:e$,type:this.type})]}}),Rb=4,s$=/^```([a-z]+)?[\s\n]$/,r$=/^~~~([a-z]+)?[\s\n]$/,n$=Md.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Rb,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:s=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const l=[...((e=s.firstElementChild)==null?void 0:e.classList)||[]].filter(u=>u.startsWith(r)).map(u=>u.replace(r,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:s,HTMLAttributes:e}){return["pre",So(this.options.HTMLAttributes,e),["code",{class:s.attrs.language?this.options.languageClassPrefix+s.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(s,e)=>{var r;return((r=s.raw)==null?void 0:r.startsWith("```"))===!1&&s.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:s.lang||null},s.text?[e.createTextNode(s.text)]:[])},renderMarkdown:(s,e)=>{var r;let n="";const a=((r=s.attrs)==null?void 0:r.language)||"";return s.content?n=[`\`\`\`${a}`,e.renderChildren(s.content),"```"].join(`
`):n=`\`\`\`${a}

\`\`\``,n},addCommands(){return{setCodeBlock:s=>({commands:e})=>e.setNode(this.name,s),toggleCodeBlock:s=>({commands:e})=>e.toggleNode(this.name,"paragraph",s)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:s,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!s||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:s})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Rb,{state:n}=s,{selection:a}=n,{$from:l,empty:u}=a;if(l.parent.type!==this.type)return!1;const d=" ".repeat(r);return u?s.commands.insertContent(d):s.commands.command(({tr:A})=>{const{from:o,to:f}=a,x=n.doc.textBetween(o,f,`
`,`
`).split(`
`).map(b=>d+b).join(`
`);return A.replaceWith(o,f,n.schema.text(x)),!0})},"Shift-Tab":({editor:s})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Rb,{state:n}=s,{selection:a}=n,{$from:l,empty:u}=a;return l.parent.type!==this.type?!1:u?s.commands.command(({tr:d})=>{var A;const{pos:o}=l,f=l.start(),p=l.end(),x=n.doc.textBetween(f,p,`
`,`
`).split(`
`);let b=0,j=0;const y=o-f;for(let Q=0;Q<x.length;Q+=1){if(j+x[Q].length>=y){b=Q;break}j+=x[Q].length+1}const R=((A=x[b].match(/^ */))==null?void 0:A[0])||"",z=Math.min(R.length,r);if(z===0)return!0;let X=f;for(let Q=0;Q<b;Q+=1)X+=x[Q].length+1;return d.delete(X,X+z),o-X<=z&&d.setSelection(Gn.create(d.doc,X)),!0}):s.commands.command(({tr:d})=>{const{from:A,to:o}=a,m=n.doc.textBetween(A,o,`
`,`
`).split(`
`).map(x=>{var b;const j=((b=x.match(/^ */))==null?void 0:b[0])||"",y=Math.min(j.length,r);return x.slice(y)}).join(`
`);return d.replaceWith(A,o,n.schema.text(m)),!0})},Enter:({editor:s})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=s,{selection:r}=e,{$from:n,empty:a}=r;if(!a||n.parent.type!==this.type)return!1;const l=n.parentOffset===n.parent.nodeSize-2,u=n.parent.textContent.endsWith(`

`);return!l||!u?!1:s.chain().command(({tr:d})=>(d.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:s})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=s,{selection:r,doc:n}=e,{$from:a,empty:l}=r;if(!l||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const d=a.after();return d===void 0?!1:n.nodeAt(d)?s.commands.command(({tr:o})=>(o.setSelection(ha.near(n.resolve(d))),!0)):s.commands.exitCode()}}},addInputRules(){return[Fv({find:s$,type:this.type,getAttributes:s=>({language:s[1]})}),Fv({find:r$,type:this.type,getAttributes:s=>({language:s[1]})})]},addProseMirrorPlugins(){return[new To({key:new Vl("codeBlockVSCodeHandler"),props:{handlePaste:(s,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),a=n?JSON.parse(n):void 0,l=a==null?void 0:a.mode;if(!r||!l)return!1;const{tr:u,schema:d}=s.state,A=d.text(r.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:l},A)),u.selection.$from.parent.type!==this.type&&u.setSelection(Gn.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),s.dispatch(u),!0}}})]}}),a$=Md.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`

`):""}),i$=Md.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:s}){return["br",So(this.options.HTMLAttributes,s)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:s,chain:e,state:r,editor:n})=>s.first([()=>s.exitCode(),()=>s.command(()=>{const{selection:a,storedMarks:l}=r;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:d}=n.extensionManager,A=l||a.$to.parentOffset&&a.$from.marks();return e().insertContent({type:this.name}).command(({tr:o,dispatch:f})=>{if(f&&A&&u){const p=A.filter(m=>d.includes(m.type.name));o.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),o$=Md.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(s=>({tag:`h${s}`,attrs:{level:s}}))},renderHTML({node:s,HTMLAttributes:e}){return[`h${this.options.levels.includes(s.attrs.level)?s.attrs.level:this.options.levels[0]}`,So(this.options.HTMLAttributes,e),0]},parseMarkdown:(s,e)=>e.createNode("heading",{level:s.depth||1},e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>{var r;const n=(r=s.attrs)!=null&&r.level?parseInt(s.attrs.level,10):1,a="#".repeat(n);return s.content?`${a} ${e.renderChildren(s.content)}`:""},addCommands(){return{setHeading:s=>({commands:e})=>this.options.levels.includes(s.level)?e.setNode(this.name,s):!1,toggleHeading:s=>({commands:e})=>this.options.levels.includes(s.level)?e.toggleNode(this.name,"paragraph",s):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((s,e)=>({...s,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(s=>Fv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${s}})\\s$`),type:this.type,getAttributes:{level:s}}))}}),l$=Md.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:s}){return["hr",So(this.options.HTMLAttributes,s)]},markdownTokenName:"hr",parseMarkdown:(s,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:s,state:e})=>{if(!M9(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,a=s();return Rk(r)?a.insertContentAt(n.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:l,tr:u,dispatch:d})=>{if(d){const{$to:A}=u.selection,o=A.end();if(A.nodeAfter)A.nodeAfter.isTextblock?u.setSelection(Gn.create(u.doc,A.pos+1)):A.nodeAfter.isBlock?u.setSelection(wn.create(u.doc,A.pos)):u.setSelection(Gn.create(u.doc,A.pos));else{const f=l.schema.nodes[this.options.nextNodeType]||A.parent.type.contentMatch.defaultType,p=f==null?void 0:f.create();p&&(u.insert(o,p),u.setSelection(Gn.create(u.doc,o+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[tC({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),c$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,d$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,u$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,A$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,h$=HA.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:s=>s.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:s=>s.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:s}){return["em",So(this.options.HTMLAttributes,s),0]},addCommands(){return{setItalic:()=>({commands:s})=>s.setMark(this.name),toggleItalic:()=>({commands:s})=>s.toggleMark(this.name),unsetItalic:()=>({commands:s})=>s.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(s,e)=>e.applyMark("italic",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`*${e.renderChildren(s)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[kf({find:c$,type:this.type}),kf({find:u$,type:this.type})]},addPasteRules(){return[Dh({find:d$,type:this.type}),Dh({find:A$,type:this.type})]}});const f$="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",p$="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Ov="numeric",Iv="ascii",Dv="alpha",am="asciinumeric",Yp="alphanumeric",Rv="domain",aC="emoji",m$="scheme",g$="slashscheme",Pb="whitespace";function x$(s,e){return s in e||(e[s]=[]),e[s]}function uf(s,e,r){e[Ov]&&(e[am]=!0,e[Yp]=!0),e[Iv]&&(e[am]=!0,e[Dv]=!0),e[am]&&(e[Yp]=!0),e[Dv]&&(e[Yp]=!0),e[Yp]&&(e[Rv]=!0),e[aC]&&(e[Rv]=!0);for(const n in e){const a=x$(n,r);a.indexOf(s)<0&&a.push(s)}}function b$(s,e){const r={};for(const n in e)e[n].indexOf(s)>=0&&(r[n]=!0);return r}function Ed(s=null){this.j={},this.jr=[],this.jd=null,this.t=s}Ed.groups={};Ed.prototype={accepts(){return!!this.t},go(s){const e=this,r=e.j[s];if(r)return r;for(let n=0;n<e.jr.length;n++){const a=e.jr[n][0],l=e.jr[n][1];if(l&&a.test(s))return l}return e.jd},has(s,e=!1){return e?s in this.j:!!this.go(s)},ta(s,e,r,n){for(let a=0;a<s.length;a++)this.tt(s[a],e,r,n)},tr(s,e,r,n){n=n||Ed.groups;let a;return e&&e.j?a=e:(a=new Ed(e),r&&n&&uf(e,r,n)),this.jr.push([s,a]),a},ts(s,e,r,n){let a=this;const l=s.length;if(!l)return a;for(let u=0;u<l-1;u++)a=a.tt(s[u]);return a.tt(s[l-1],e,r,n)},tt(s,e,r,n){n=n||Ed.groups;const a=this;if(e&&e.j)return a.j[s]=e,e;const l=e;let u,d=a.go(s);if(d?(u=new Ed,Object.assign(u.j,d.j),u.jr.push.apply(u.jr,d.jr),u.jd=d.jd,u.t=d.t):u=new Ed,l){if(n)if(u.t&&typeof u.t=="string"){const A=Object.assign(b$(u.t,n),r);uf(l,A,n)}else r&&uf(l,r,n);u.t=l}return a.j[s]=u,u}};const ua=(s,e,r,n,a)=>s.ta(e,r,n,a),Ko=(s,e,r,n,a)=>s.tr(e,r,n,a),gj=(s,e,r,n,a)=>s.ts(e,r,n,a),qs=(s,e,r,n,a)=>s.tt(e,r,n,a),MA="WORD",Pv="UWORD",iC="ASCIINUMERICAL",oC="ALPHANUMERICAL",Nm="LOCALHOST",Qv="TLD",_v="UTLD",U0="SCHEME",ep="SLASH_SCHEME",Qy="NUM",Hv="WS",_y="NL",im="OPENBRACE",om="CLOSEBRACE",pg="OPENBRACKET",mg="CLOSEBRACKET",gg="OPENPAREN",xg="CLOSEPAREN",bg="OPENANGLEBRACKET",vg="CLOSEANGLEBRACKET",yg="FULLWIDTHLEFTPAREN",wg="FULLWIDTHRIGHTPAREN",jg="LEFTCORNERBRACKET",Ng="RIGHTCORNERBRACKET",kg="LEFTWHITECORNERBRACKET",Cg="RIGHTWHITECORNERBRACKET",Bg="FULLWIDTHLESSTHAN",Sg="FULLWIDTHGREATERTHAN",Eg="AMPERSAND",Tg="APOSTROPHE",Ug="ASTERISK",vh="AT",Fg="BACKSLASH",Lg="BACKTICK",Mg="CARET",jh="COLON",Hy="COMMA",Og="DOLLAR",Yu="DOT",Ig="EQUALS",zy="EXCLAMATION",lu="HYPHEN",lm="PERCENT",Dg="PIPE",Rg="PLUS",Pg="POUND",cm="QUERY",$y="QUOTE",lC="FULLWIDTHMIDDLEDOT",Vy="SEMI",Xu="SLASH",dm="TILDE",Qg="UNDERSCORE",cC="EMOJI",_g="SYM";var dC=Object.freeze({__proto__:null,ALPHANUMERICAL:oC,AMPERSAND:Eg,APOSTROPHE:Tg,ASCIINUMERICAL:iC,ASTERISK:Ug,AT:vh,BACKSLASH:Fg,BACKTICK:Lg,CARET:Mg,CLOSEANGLEBRACKET:vg,CLOSEBRACE:om,CLOSEBRACKET:mg,CLOSEPAREN:xg,COLON:jh,COMMA:Hy,DOLLAR:Og,DOT:Yu,EMOJI:cC,EQUALS:Ig,EXCLAMATION:zy,FULLWIDTHGREATERTHAN:Sg,FULLWIDTHLEFTPAREN:yg,FULLWIDTHLESSTHAN:Bg,FULLWIDTHMIDDLEDOT:lC,FULLWIDTHRIGHTPAREN:wg,HYPHEN:lu,LEFTCORNERBRACKET:jg,LEFTWHITECORNERBRACKET:kg,LOCALHOST:Nm,NL:_y,NUM:Qy,OPENANGLEBRACKET:bg,OPENBRACE:im,OPENBRACKET:pg,OPENPAREN:gg,PERCENT:lm,PIPE:Dg,PLUS:Rg,POUND:Pg,QUERY:cm,QUOTE:$y,RIGHTCORNERBRACKET:Ng,RIGHTWHITECORNERBRACKET:Cg,SCHEME:U0,SEMI:Vy,SLASH:Xu,SLASH_SCHEME:ep,SYM:_g,TILDE:dm,TLD:Qv,UNDERSCORE:Qg,UTLD:_v,UWORD:Pv,WORD:MA,WS:Hv});const FA=/[a-z]/,zp=new RegExp("\\p{L}","u"),Qb=new RegExp("\\p{Emoji}","u"),LA=/\d/,_b=/\s/,xj="\r",Hb=`
`,v$="",y$="",zb="";let p0=null,m0=null;function w$(s=[]){const e={};Ed.groups=e;const r=new Ed;p0==null&&(p0=bj(f$)),m0==null&&(m0=bj(p$)),qs(r,"'",Tg),qs(r,"{",im),qs(r,"}",om),qs(r,"[",pg),qs(r,"]",mg),qs(r,"(",gg),qs(r,")",xg),qs(r,"<",bg),qs(r,">",vg),qs(r,"",yg),qs(r,"",wg),qs(r,"",jg),qs(r,"",Ng),qs(r,"",kg),qs(r,"",Cg),qs(r,"",Bg),qs(r,"",Sg),qs(r,"&",Eg),qs(r,"*",Ug),qs(r,"@",vh),qs(r,"`",Lg),qs(r,"^",Mg),qs(r,":",jh),qs(r,",",Hy),qs(r,"$",Og),qs(r,".",Yu),qs(r,"=",Ig),qs(r,"!",zy),qs(r,"-",lu),qs(r,"%",lm),qs(r,"|",Dg),qs(r,"+",Rg),qs(r,"#",Pg),qs(r,"?",cm),qs(r,'"',$y),qs(r,"/",Xu),qs(r,";",Vy),qs(r,"~",dm),qs(r,"_",Qg),qs(r,"\\",Fg),qs(r,"",lC);const n=Ko(r,LA,Qy,{[Ov]:!0});Ko(n,LA,n);const a=Ko(n,FA,iC,{[am]:!0}),l=Ko(n,zp,oC,{[Yp]:!0}),u=Ko(r,FA,MA,{[Iv]:!0});Ko(u,LA,a),Ko(u,FA,u),Ko(a,LA,a),Ko(a,FA,a);const d=Ko(r,zp,Pv,{[Dv]:!0});Ko(d,FA),Ko(d,LA,l),Ko(d,zp,d),Ko(l,LA,l),Ko(l,FA),Ko(l,zp,l);const A=qs(r,Hb,_y,{[Pb]:!0}),o=qs(r,xj,Hv,{[Pb]:!0}),f=Ko(r,_b,Hv,{[Pb]:!0});qs(r,zb,f),qs(o,Hb,A),qs(o,zb,f),Ko(o,_b,f),qs(f,xj),qs(f,Hb),Ko(f,_b,f),qs(f,zb,f);const p=Ko(r,Qb,cC,{[aC]:!0});qs(p,"#"),Ko(p,Qb,p),qs(p,v$,p);const m=qs(p,y$);qs(m,"#"),Ko(m,Qb,p);const x=[[FA,u],[LA,a]],b=[[FA,null],[zp,d],[LA,l]];for(let j=0;j<p0.length;j++)gh(r,p0[j],Qv,MA,x);for(let j=0;j<m0.length;j++)gh(r,m0[j],_v,Pv,b);uf(Qv,{tld:!0,ascii:!0},e),uf(_v,{utld:!0,alpha:!0},e),gh(r,"file",U0,MA,x),gh(r,"mailto",U0,MA,x),gh(r,"http",ep,MA,x),gh(r,"https",ep,MA,x),gh(r,"ftp",ep,MA,x),gh(r,"ftps",ep,MA,x),uf(U0,{scheme:!0,ascii:!0},e),uf(ep,{slashscheme:!0,ascii:!0},e),s=s.sort((j,y)=>j[0]>y[0]?1:-1);for(let j=0;j<s.length;j++){const y=s[j][0],R=s[j][1]?{[m$]:!0}:{[g$]:!0};y.indexOf("-")>=0?R[Rv]=!0:FA.test(y)?LA.test(y)?R[am]=!0:R[Iv]=!0:R[Ov]=!0,gj(r,y,y,R)}return gj(r,"localhost",Nm,{ascii:!0}),r.jd=new Ed(_g),{start:r,tokens:Object.assign({groups:e},dC)}}function uC(s,e){const r=j$(e.replace(/[A-Z]/g,d=>d.toLowerCase())),n=r.length,a=[];let l=0,u=0;for(;u<n;){let d=s,A=null,o=0,f=null,p=-1,m=-1;for(;u<n&&(A=d.go(r[u]));)d=A,d.accepts()?(p=0,m=0,f=d):p>=0&&(p+=r[u].length,m++),o+=r[u].length,l+=r[u].length,u++;l-=p,u-=m,o-=p,a.push({t:f.t,v:e.slice(l-o,l),s:l-o,e:l})}return a}function j$(s){const e=[],r=s.length;let n=0;for(;n<r;){let a=s.charCodeAt(n),l,u=a<55296||a>56319||n+1===r||(l=s.charCodeAt(n+1))<56320||l>57343?s[n]:s.slice(n,n+2);e.push(u),n+=u.length}return e}function gh(s,e,r,n,a){let l;const u=e.length;for(let d=0;d<u-1;d++){const A=e[d];s.j[A]?l=s.j[A]:(l=new Ed(n),l.jr=a.slice(),s.j[A]=l),s=l}return l=new Ed(r),l.jr=a.slice(),s.j[e[u-1]]=l,l}function bj(s){const e=[],r=[];let n=0,a="0123456789";for(;n<s.length;){let l=0;for(;a.indexOf(s[n+l])>=0;)l++;if(l>0){e.push(r.join(""));for(let u=parseInt(s.substring(n,n+l),10);u>0;u--)r.pop();n+=l}else r.push(s[n]),n++}return e}const km={defaultProtocol:"http",events:null,format:vj,formatHref:vj,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ky(s,e=null){let r=Object.assign({},km);s&&(r=Object.assign(r,s instanceof Ky?s.o:s));const n=r.ignoreTags,a=[];for(let l=0;l<n.length;l++)a.push(n[l].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=a}Ky.prototype={o:km,ignoreTags:[],defaultRender(s){return s},check(s){return this.get("validate",s.toString(),s)},get(s,e,r){const n=e!=null;let a=this.o[s];return a&&(typeof a=="object"?(a=r.t in a?a[r.t]:km[s],typeof a=="function"&&n&&(a=a(e,r))):typeof a=="function"&&n&&(a=a(e,r.t,r)),a)},getObj(s,e,r){let n=this.o[s];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(s){const e=s.render(this);return(this.get("render",null,s)||this.defaultRender)(e,s.t,s)}};function vj(s){return s}function AC(s,e){this.t="token",this.v=s,this.tk=e}AC.prototype={isLink:!1,toString(){return this.v},toHref(s){return this.toString()},toFormattedString(s){const e=this.toString(),r=s.get("truncate",e,this),n=s.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(s){return s.get("formatHref",this.toHref(s.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(s=km.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(s),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(s){return{type:this.t,value:this.toFormattedString(s),isLink:this.isLink,href:this.toFormattedHref(s),start:this.startIndex(),end:this.endIndex()}},validate(s){return s.get("validate",this.toString(),this)},render(s){const e=this,r=this.toHref(s.get("defaultProtocol")),n=s.get("formatHref",r,this),a=s.get("tagName",r,e),l=this.toFormattedString(s),u={},d=s.get("className",r,e),A=s.get("target",r,e),o=s.get("rel",r,e),f=s.getObj("attributes",r,e),p=s.getObj("events",r,e);return u.href=n,d&&(u.class=d),A&&(u.target=A),o&&(u.rel=o),f&&Object.assign(u,f),{tagName:a,attributes:u,content:l,eventListeners:p}}};function wx(s,e){class r extends AC{constructor(a,l){super(a,l),this.t=s}}for(const n in e)r.prototype[n]=e[n];return r.t=s,r}const yj=wx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),wj=wx("text"),N$=wx("nl"),g0=wx("url",{isLink:!0,toHref(s=km.defaultProtocol){return this.hasProtocol()?this.v:`${s}://${this.v}`},hasProtocol(){const s=this.tk;return s.length>=2&&s[0].t!==Nm&&s[1].t===jh}}),ou=s=>new Ed(s);function k$({groups:s}){const e=s.domain.concat([Eg,Ug,vh,Fg,Lg,Mg,Og,Ig,lu,Qy,lm,Dg,Rg,Pg,Xu,_g,dm,Qg]),r=[Tg,jh,Hy,Yu,zy,lm,cm,$y,Vy,bg,vg,im,om,mg,pg,gg,xg,yg,wg,jg,Ng,kg,Cg,Bg,Sg],n=[Eg,Tg,Ug,Fg,Lg,Mg,Og,Ig,lu,im,om,lm,Dg,Rg,Pg,cm,Xu,_g,dm,Qg],a=ou(),l=qs(a,dm);ua(l,n,l),ua(l,s.domain,l);const u=ou(),d=ou(),A=ou();ua(a,s.domain,u),ua(a,s.scheme,d),ua(a,s.slashscheme,A),ua(u,n,l),ua(u,s.domain,u);const o=qs(u,vh);qs(l,vh,o),qs(d,vh,o),qs(A,vh,o);const f=qs(l,Yu);ua(f,n,l),ua(f,s.domain,l);const p=ou();ua(o,s.domain,p),ua(p,s.domain,p);const m=qs(p,Yu);ua(m,s.domain,p);const x=ou(yj);ua(m,s.tld,x),ua(m,s.utld,x),qs(o,Nm,x);const b=qs(p,lu);qs(b,lu,b),ua(b,s.domain,p),ua(x,s.domain,p),qs(x,Yu,m),qs(x,lu,b);const j=qs(x,jh);ua(j,s.numeric,yj);const y=qs(u,lu),T=qs(u,Yu);qs(y,lu,y),ua(y,s.domain,u),ua(T,n,l),ua(T,s.domain,u);const R=ou(g0);ua(T,s.tld,R),ua(T,s.utld,R),ua(R,s.domain,u),ua(R,n,l),qs(R,Yu,T),qs(R,lu,y),qs(R,vh,o);const z=qs(R,jh),X=ou(g0);ua(z,s.numeric,X);const Y=ou(g0),Q=ou();ua(Y,e,Y),ua(Y,r,Q),ua(Q,e,Y),ua(Q,r,Q),qs(R,Xu,Y),qs(X,Xu,Y);const K=qs(d,jh),ce=qs(A,jh),ue=qs(ce,Xu),Ne=qs(ue,Xu);ua(d,s.domain,u),qs(d,Yu,T),qs(d,lu,y),ua(A,s.domain,u),qs(A,Yu,T),qs(A,lu,y),ua(K,s.domain,Y),qs(K,Xu,Y),qs(K,cm,Y),ua(Ne,s.domain,Y),ua(Ne,e,Y),qs(Ne,Xu,Y);const le=[[im,om],[pg,mg],[gg,xg],[bg,vg],[yg,wg],[jg,Ng],[kg,Cg],[Bg,Sg]];for(let Ce=0;Ce<le.length;Ce++){const[oe,je]=le[Ce],Ae=qs(Y,oe);qs(Q,oe,Ae),qs(Ae,je,Y);const se=ou(g0);ua(Ae,e,se);const pe=ou();ua(Ae,r),ua(se,e,se),ua(se,r,pe),ua(pe,e,se),ua(pe,r,pe),qs(se,je,Y),qs(pe,je,Y)}return qs(a,Nm,R),qs(a,_y,N$),{start:a,tokens:dC}}function C$(s,e,r){let n=r.length,a=0,l=[],u=[];for(;a<n;){let d=s,A=null,o=null,f=0,p=null,m=-1;for(;a<n&&!(A=d.go(r[a].t));)u.push(r[a++]);for(;a<n&&(o=A||d.go(r[a].t));)A=null,d=o,d.accepts()?(m=0,p=d):m>=0&&m++,a++,f++;if(m<0)a-=f,a<n&&(u.push(r[a]),a++);else{u.length>0&&(l.push($b(wj,e,u)),u=[]),a-=m,f-=m;const x=p.t,b=r.slice(a-f,a);l.push($b(x,e,b))}}return u.length>0&&l.push($b(wj,e,u)),l}function $b(s,e,r){const n=r[0].s,a=r[r.length-1].e,l=e.slice(n,a);return new s(l,r)}const B$=typeof console<"u"&&console&&console.warn||(()=>{}),S$="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ao={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function E$(){return Ed.groups={},ao.scanner=null,ao.parser=null,ao.tokenQueue=[],ao.pluginQueue=[],ao.customSchemes=[],ao.initialized=!1,ao}function jj(s,e=!1){if(ao.initialized&&B$(`linkifyjs: already initialized - will not register custom scheme "${s}" ${S$}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(s))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ao.customSchemes.push([s,e])}function T$(){ao.scanner=w$(ao.customSchemes);for(let s=0;s<ao.tokenQueue.length;s++)ao.tokenQueue[s][1]({scanner:ao.scanner});ao.parser=k$(ao.scanner.tokens);for(let s=0;s<ao.pluginQueue.length;s++)ao.pluginQueue[s][1]({scanner:ao.scanner,parser:ao.parser});return ao.initialized=!0,ao}function Gy(s){return ao.initialized||T$(),C$(ao.parser.start,s,uC(ao.scanner.start,s))}Gy.scan=uC;function hC(s,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new Ky(r),a=Gy(s),l=[];for(let u=0;u<a.length;u++){const d=a[u];d.isLink&&(!e||d.t===e)&&n.check(d)&&l.push(d.toFormattedObject(n))}return l}var Wy="[\0- -\u2029]",U$=new RegExp(Wy),F$=new RegExp(`${Wy}$`),L$=new RegExp(Wy,"g");function M$(s){return s.length===1?s[0].isLink:s.length===3&&s[1].isLink?["()","[]"].includes(s[0].value+s[2].value):!1}function O$(s){return new To({key:new Vl("autolink"),appendTransaction:(e,r,n)=>{const a=e.some(o=>o.docChanged)&&!r.doc.eq(n.doc),l=e.some(o=>o.getMeta("preventAutolink"));if(!a||l)return;const{tr:u}=n,d=Tk(r.doc,[...e]);if(Dk(d).forEach(({newRange:o})=>{const f=LH(n.doc,o,x=>x.isTextblock);let p,m;if(f.length>1)p=f[0],m=n.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");else if(f.length){const x=n.doc.textBetween(o.from,o.to," "," ");if(!F$.test(x))return;p=f[0],m=n.doc.textBetween(p.pos,o.to,void 0," ")}if(p&&m){const x=m.split(U$).filter(Boolean);if(x.length<=0)return!1;const b=x[x.length-1],j=p.pos+m.lastIndexOf(b);if(!b)return!1;const y=Gy(b).map(T=>T.toObject(s.defaultProtocol));if(!M$(y))return!1;y.filter(T=>T.isLink).map(T=>({...T,from:j+T.start+1,to:j+T.end+1})).filter(T=>n.schema.marks.code?!n.doc.rangeHasMark(T.from,T.to,n.schema.marks.code):!0).filter(T=>s.validate(T.value)).filter(T=>s.shouldAutoLink(T.value)).forEach(T=>{Oy(T.from,T.to,n.doc).some(R=>R.mark.type===s.type)||u.addMark(T.from,T.to,s.type.create({href:T.href}))})}}),!!u.steps.length)return u}})}function I$(s){return new To({key:new Vl("handleClickLink"),props:{handleClick:(e,r,n)=>{var a,l;if(n.button!==0||!e.editable)return!1;let u=!1;if(s.enableClickSelection&&(u=s.editor.commands.extendMarkRange(s.type.name)),s.openOnClick){let d=null;if(n.target instanceof HTMLAnchorElement)d=n.target;else{let p=n.target;const m=[];for(;p.nodeName!=="DIV";)m.push(p),p=p.parentNode;d=m.find(x=>x.nodeName==="A")}if(!d)return u;const A=Ik(e.state,s.type.name),o=(a=d==null?void 0:d.href)!=null?a:A.href,f=(l=d==null?void 0:d.target)!=null?l:A.target;d&&o&&(window.open(o,f),u=!0)}return u}}})}function D$(s){return new To({key:new Vl("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{shouldAutoLink:a}=s,{state:l}=e,{selection:u}=l,{empty:d}=u;if(d)return!1;let A="";n.content.forEach(f=>{A+=f.textContent});const o=hC(A,{defaultProtocol:s.defaultProtocol}).find(f=>f.isLink&&f.value===A);return!A||!o||a!==void 0&&!a(o.href)?!1:s.editor.commands.setMark(s.type,{href:o.href})}}})}function rf(s,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const a=typeof n=="string"?n:n.scheme;a&&r.push(a)}),!s||s.replace(L$,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var fC=HA.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(s=>{if(typeof s=="string"){jj(s);return}jj(s.scheme,s.optionalSlashes)})},onDestroy(){E$()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(s,e)=>!!rf(s,e.protocols),validate:s=>!!s,shouldAutoLink:s=>!!s}},addAttributes(){return{href:{default:null,parseHTML(s){return s.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:s=>{const e=s.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!rf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:s}){return this.options.isAllowedUri(s.href,{defaultValidate:e=>!!rf(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",So(this.options.HTMLAttributes,s),0]:["a",So(this.options.HTMLAttributes,{...s,href:""}),0]},markdownTokenName:"link",parseMarkdown:(s,e)=>e.applyMark("link",e.parseInline(s.tokens||[]),{href:s.href,title:s.title||null}),renderMarkdown:(s,e)=>{var r;const n=((r=s.attrs)==null?void 0:r.href)||"";return`[${e.renderChildren(s)}](${n})`},addCommands(){return{setLink:s=>({chain:e})=>{const{href:r}=s;return this.options.isAllowedUri(r,{defaultValidate:n=>!!rf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,s).setMeta("preventAutolink",!0).run():!1},toggleLink:s=>({chain:e})=>{const{href:r}=s||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!rf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,s,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:s})=>s().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Dh({find:s=>{const e=[];if(s){const{protocols:r,defaultProtocol:n}=this.options,a=hC(s).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:u=>!!rf(u,r),protocols:r,defaultProtocol:n}));a.length&&a.forEach(l=>{this.options.shouldAutoLink(l.value)&&e.push({text:l.value,data:{href:l.href},index:l.start})})}return e},type:this.type,getAttributes:s=>{var e;return{href:(e=s.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const s=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&s.push(O$({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:a=>!!rf(a,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),s.push(I$({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&s.push(D$({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),s}}),R$=Object.defineProperty,P$=(s,e)=>{for(var r in e)R$(s,r,{get:e[r],enumerable:!0})},Q$="listItem",Nj="textStyle",kj=/^\s*([-+*])\s$/,pC=Md.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:s}){return["ul",So(this.options.HTMLAttributes,s),0]},markdownTokenName:"list",parseMarkdown:(s,e)=>s.type!=="list"||s.ordered?[]:{type:"bulletList",content:s.items?e.parseChildren(s.items):[]},renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:s,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Q$,this.editor.getAttributes(Nj)).run():s.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let s=mp({find:kj,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(s=mp({find:kj,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Nj),editor:this.editor})),[s]}}),mC=Md.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:s}){return["li",So(this.options.HTMLAttributes,s),0]},markdownTokenName:"list_item",parseMarkdown:(s,e)=>{if(s.type!=="list_item")return[];let r=[];if(s.tokens&&s.tokens.length>0)if(s.tokens.some(a=>a.type==="paragraph"))r=e.parseChildren(s.tokens);else{const a=s.tokens[0];if(a&&a.type==="text"&&a.tokens&&a.tokens.length>0){if(r=[{type:"paragraph",content:e.parseInline(a.tokens)}],s.tokens.length>1){const u=s.tokens.slice(1),d=e.parseChildren(u);r.push(...d)}}else r=e.parseChildren(s.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(s,e,r)=>Py(s,e,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),_$={};P$(_$,{findListItemPos:()=>Om,getNextListDepth:()=>Yy,handleBackspace:()=>zv,handleDelete:()=>$v,hasListBefore:()=>gC,hasListItemAfter:()=>H$,hasListItemBefore:()=>xC,listItemHasSubList:()=>bC,nextListIsDeeper:()=>vC,nextListIsHigher:()=>yC});var Om=(s,e)=>{const{$from:r}=e.selection,n=Tl(s,e.schema);let a=null,l=r.depth,u=r.pos,d=null;for(;l>0&&d===null;)a=r.node(l),a.type===n?d=l:(l-=1,u-=1);return d===null?null:{$pos:e.doc.resolve(u),depth:d}},Yy=(s,e)=>{const r=Om(s,e);if(!r)return!1;const[,n]=zH(e,s,r.$pos.pos+4);return n},gC=(s,e,r)=>{const{$anchor:n}=s.selection,a=Math.max(0,n.pos-2),l=s.doc.resolve(a).node();return!(!l||!r.includes(l.type.name))},xC=(s,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-2);return!(a.index()===0||((r=a.nodeBefore)==null?void 0:r.type.name)!==s)},bC=(s,e,r)=>{if(!r)return!1;const n=Tl(s,e.schema);let a=!1;return r.descendants(l=>{l.type===n&&(a=!0)}),a},zv=(s,e,r)=>{if(s.commands.undoInputRule())return!0;if(s.state.selection.from!==s.state.selection.to)return!1;if(!Ih(s.state,e)&&gC(s.state,e,r)){const{$anchor:d}=s.state.selection,A=s.state.doc.resolve(d.before()-1),o=[];A.node().descendants((m,x)=>{m.type.name===e&&o.push({node:m,pos:x})});const f=o.at(-1);if(!f)return!1;const p=s.state.doc.resolve(A.start()+f.pos+1);return s.chain().cut({from:d.start()-1,to:d.end()+1},p.end()).joinForward().run()}if(!Ih(s.state,e)||!GH(s.state))return!1;const n=Om(e,s.state);if(!n)return!1;const l=s.state.doc.resolve(n.$pos.pos-2).node(n.depth),u=bC(e,s.state,l);return xC(e,s.state)&&!u?s.commands.joinItemBackward():s.chain().liftListItem(e).run()},vC=(s,e)=>{const r=Yy(s,e),n=Om(s,e);return!n||!r?!1:r>n.depth},yC=(s,e)=>{const r=Yy(s,e),n=Om(s,e);return!n||!r?!1:r<n.depth},$v=(s,e)=>{if(!Ih(s.state,e)||!KH(s.state,e))return!1;const{selection:r}=s.state,{$from:n,$to:a}=r;return!r.empty&&n.sameParent(a)?!1:vC(e,s.state)?s.chain().focus(s.state.selection.from+4).lift(e).joinBackward().run():yC(e,s.state)?s.chain().joinForward().joinBackward().run():s.commands.joinItemForward()},H$=(s,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-n.parentOffset-2);return!(a.index()===a.parent.childCount-1||((r=a.nodeAfter)==null?void 0:r.type.name)!==s)},wC=Oi.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{s.state.schema.nodes[r]!==void 0&&$v(s,r)&&(e=!0)}),e},"Mod-Delete":({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{s.state.schema.nodes[r]!==void 0&&$v(s,r)&&(e=!0)}),e},Backspace:({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{s.state.schema.nodes[r]!==void 0&&zv(s,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{s.state.schema.nodes[r]!==void 0&&zv(s,r,n)&&(e=!0)}),e}}}}),Cj=/^(\s*)(\d+)\.\s+(.*)$/,z$=/^\s/;function $$(s){const e=[];let r=0,n=0;for(;r<s.length;){const a=s[r],l=a.match(Cj);if(!l)break;const[,u,d,A]=l,o=u.length;let f=A,p=r+1;const m=[a];for(;p<s.length;){const x=s[p];if(x.match(Cj))break;if(x.trim()==="")m.push(x),f+=`
`,p+=1;else if(x.match(z$))m.push(x),f+=`
${x.slice(o+2)}`,p+=1;else break}e.push({indent:o,number:parseInt(d,10),content:f.trim(),raw:m.join(`
`)}),n=p,r=p}return[e,n]}function jC(s,e,r){var n;const a=[];let l=0;for(;l<s.length;){const u=s[l];if(u.indent===e){const d=u.content.split(`
`),A=((n=d[0])==null?void 0:n.trim())||"",o=[];A&&o.push({type:"paragraph",raw:A,tokens:r.inlineTokens(A)});const f=d.slice(1).join(`
`).trim();if(f){const x=r.blockTokens(f);o.push(...x)}let p=l+1;const m=[];for(;p<s.length&&s[p].indent>e;)m.push(s[p]),p+=1;if(m.length>0){const x=Math.min(...m.map(j=>j.indent)),b=jC(m,x,r);o.push({type:"list",ordered:!0,start:m[0].number,items:b,raw:m.map(j=>j.raw).join(`
`)})}a.push({type:"list_item",raw:u.raw,tokens:o}),l=p}else l+=1}return a}function V$(s,e){return s.map(r=>{if(r.type!=="list_item")return e.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(a=>{if(a.type==="paragraph"||a.type==="list"||a.type==="blockquote"||a.type==="code")n.push(...e.parseChildren([a]));else if(a.type==="text"&&a.tokens){const l=e.parseChildren([a]);n.push({type:"paragraph",content:l})}else{const l=e.parseChildren([a]);l.length>0&&n.push(...l)}}),{type:"listItem",content:n}})}var K$="listItem",Bj="textStyle",Sj=/^(\d+)\.\s$/,NC=Md.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:s=>s.hasAttribute("start")?parseInt(s.getAttribute("start")||"",10):1},type:{default:null,parseHTML:s=>s.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:s}){const{start:e,...r}=s;return e===1?["ol",So(this.options.HTMLAttributes,r),0]:["ol",So(this.options.HTMLAttributes,s),0]},markdownTokenName:"list",parseMarkdown:(s,e)=>{if(s.type!=="list"||!s.ordered)return[];const r=s.start||1,n=s.items?V$(s.items,e):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:s=>{const e=s.match(/^(\s*)(\d+)\.\s+/),r=e==null?void 0:e.index;return r!==void 0?r:-1},tokenize:(s,e,r)=>{var n;const a=s.split(`
`),[l,u]=$$(a);if(l.length===0)return;const d=jC(l,0,r);return d.length===0?void 0:{type:"list",ordered:!0,start:((n=l[0])==null?void 0:n.number)||1,items:d,raw:a.slice(0,u).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:s,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(K$,this.editor.getAttributes(Bj)).run():s.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let s=mp({find:Sj,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(s=mp({find:Sj,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Bj)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[s]}}),G$=/^\s*(\[([( |x])?\])\s$/,W$=Md.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:s=>{const e=s.getAttribute("data-checked");return e===""||e==="true"},renderHTML:s=>({"data-checked":s.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:s,HTMLAttributes:e}){return["li",So(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:s.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(s,e)=>{const r=[];if(s.tokens&&s.tokens.length>0?r.push(e.createNode("paragraph",{},e.parseInline(s.tokens))):s.text?r.push(e.createNode("paragraph",{},[e.createNode("text",{text:s.text})])):r.push(e.createNode("paragraph",{},[])),s.nestedTokens&&s.nestedTokens.length>0){const n=e.parseChildren(s.nestedTokens);r.push(...n)}return e.createNode("taskItem",{checked:s.checked||!1},r)},renderMarkdown:(s,e)=>{var r;const a=`- [${(r=s.attrs)!=null&&r.checked?"x":" "}] `;return Py(s,e,a)},addKeyboardShortcuts(){const s={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...s,Tab:()=>this.editor.commands.sinkListItem(this.name)}:s},addNodeView(){return({node:s,HTMLAttributes:e,getPos:r,editor:n})=>{const a=document.createElement("li"),l=document.createElement("label"),u=document.createElement("span"),d=document.createElement("input"),A=document.createElement("div"),o=f=>{var p,m;d.ariaLabel=((m=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:m.call(p,f,d.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return o(s),l.contentEditable="false",d.type="checkbox",d.addEventListener("mousedown",f=>f.preventDefault()),d.addEventListener("change",f=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){d.checked=!d.checked;return}const{checked:p}=f.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:m})=>{const x=r();if(typeof x!="number")return!1;const b=m.doc.nodeAt(x);return m.setNodeMarkup(x,void 0,{...b==null?void 0:b.attrs,checked:p}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(s,p)||(d.checked=!d.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,p])=>{a.setAttribute(f,p)}),a.dataset.checked=s.attrs.checked,d.checked=s.attrs.checked,l.append(d,u),a.append(l,A),Object.entries(e).forEach(([f,p])=>{a.setAttribute(f,p)}),{dom:a,contentDOM:A,update:f=>f.type!==this.type?!1:(a.dataset.checked=f.attrs.checked,d.checked=f.attrs.checked,o(f),!0)}}},addInputRules(){return[mp({find:G$,type:this.type,getAttributes:s=>({checked:s[s.length-1]==="x"})})]}}),Y$=Md.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:s}){return["ul",So(this.options.HTMLAttributes,s,{"data-type":this.name}),0]},parseMarkdown:(s,e)=>e.createNode("taskList",{},e.parseChildren(s.items||[])),renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(s){var e;const r=(e=s.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return r!==void 0?r:-1},tokenize(s,e,r){const n=l=>{const u=Lv(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:d=>({indentLevel:d[1].length,mainContent:d[4],checked:d[3].toLowerCase()==="x"}),createToken:(d,A)=>({type:"taskItem",raw:"",mainContent:d.mainContent,indentLevel:d.indentLevel,checked:d.checked,text:d.mainContent,tokens:r.inlineTokens(d.mainContent),nestedTokens:A}),customNestedParser:n},r);return u?[{type:"taskList",raw:u.raw,items:u.items}]:r.blockTokens(l)},a=Lv(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,u)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:r.inlineTokens(l.mainContent),nestedTokens:u}),customNestedParser:n},r);if(a)return{type:"taskList",raw:a.raw,items:a.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:s})=>s.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Oi.create({name:"listKit",addExtensions(){const s=[];return this.options.bulletList!==!1&&s.push(pC.configure(this.options.bulletList)),this.options.listItem!==!1&&s.push(mC.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(wC.configure(this.options.listKeymap)),this.options.orderedList!==!1&&s.push(NC.configure(this.options.orderedList)),this.options.taskItem!==!1&&s.push(W$.configure(this.options.taskItem)),this.options.taskList!==!1&&s.push(Y$.configure(this.options.taskList)),s}});var X$=Md.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:s}){return["p",So(this.options.HTMLAttributes,s),0]},parseMarkdown:(s,e)=>{const r=s.tokens||[];return r.length===1&&r[0].type==="image"?e.parseChildren([r[0]]):e.createNode("paragraph",void 0,e.parseInline(r))},renderMarkdown:(s,e)=>!s||!Array.isArray(s.content)?"":e.renderChildren(s.content),addCommands(){return{setParagraph:()=>({commands:s})=>s.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),J$=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Z$=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,q$=HA.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:s=>s.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:s}){return["s",So(this.options.HTMLAttributes,s),0]},markdownTokenName:"del",parseMarkdown:(s,e)=>e.applyMark("strike",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`~~${e.renderChildren(s)}~~`,addCommands(){return{setStrike:()=>({commands:s})=>s.setMark(this.name),toggleStrike:()=>({commands:s})=>s.toggleMark(this.name),unsetStrike:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[kf({find:J$,type:this.type})]},addPasteRules(){return[Dh({find:Z$,type:this.type})]}}),eV=Md.create({name:"text",group:"inline",parseMarkdown:s=>({type:"text",text:s.text||""}),renderMarkdown:s=>s.text||""}),kC=HA.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:s=>s.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:s}){return["u",So(this.options.HTMLAttributes,s),0]},parseMarkdown(s,e){return e.applyMark(this.name||"underline",e.parseInline(s.tokens||[]))},renderMarkdown(s,e){return`++${e.renderChildren(s)}++`},markdownTokenizer:{name:"underline",level:"inline",start(s){return s.indexOf("++")},tokenize(s,e,r){const a=/^(\+\+)([\s\S]+?)(\+\+)/.exec(s);if(!a)return;const l=a[2].trim();return{type:"underline",raw:a[0],text:l,tokens:r.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:s})=>s.setMark(this.name),toggleUnderline:()=>({commands:s})=>s.toggleMark(this.name),unsetUnderline:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function tV(s={}){return new To({view(e){return new sV(e,s)}})}class sV{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let l=u=>{this[a](u)};return e.dom.addEventListener(a,l),{name:a,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,a=this.editorView.dom,l=a.getBoundingClientRect(),u=l.width/a.offsetWidth,d=l.height/a.offsetHeight;if(r){let p=e.nodeBefore,m=e.nodeAfter;if(p||m){let x=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(x){let b=x.getBoundingClientRect(),j=p?b.bottom:b.top;p&&m&&(j=(j+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*d;n={left:b.left,right:b.right,top:j-y,bottom:j+y}}}}if(!n){let p=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*u;n={left:p.left-m,right:p.left+m,top:p.top,bottom:p.bottom}}let A=this.editorView.dom.offsetParent;this.element||(this.element=A.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let o,f;if(!A||A==document.body&&getComputedStyle(A).position=="static")o=-pageXOffset,f=-pageYOffset;else{let p=A.getBoundingClientRect(),m=p.width/A.offsetWidth,x=p.height/A.offsetHeight;o=p.left-A.scrollLeft*m,f=p.top-A.scrollTop*x}this.element.style.left=(n.left-o)/u+"px",this.element.style.top=(n.top-f)/d+"px",this.element.style.width=(n.right-n.left)/u+"px",this.element.style.height=(n.bottom-n.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),a=n&&n.type.spec.disableDropCursor,l=typeof a=="function"?a(this.editorView,r,e):a;if(r&&!l){let u=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=yN(this.editorView.state.doc,u,this.editorView.dragging.slice);d!=null&&(u=d)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Wo extends ha{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return Wo.valid(n)?new Wo(n):ha.near(n)}content(){return Mr.empty}eq(e){return e instanceof Wo&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Wo(e.resolve(r.pos))}getBookmark(){return new Xy(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!rV(e)||!nV(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let a=r.contentMatchAt(e.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&Wo.valid(e))return e;let a=e.pos,l=null;for(let u=e.depth;;u--){let d=e.node(u);if(r>0?e.indexAfter(u)<d.childCount:e.index(u)>0){l=d.child(r>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;a+=r;let A=e.doc.resolve(a);if(Wo.valid(A))return A}for(;;){let u=r>0?l.firstChild:l.lastChild;if(!u){if(l.isAtom&&!l.isText&&!wn.isSelectable(l)){e=e.doc.resolve(a+l.nodeSize*r),n=!1;continue e}break}l=u,a+=r;let d=e.doc.resolve(a);if(Wo.valid(d))return d}return null}}}Wo.prototype.visible=!1;Wo.findFrom=Wo.findGapCursorFrom;ha.jsonID("gapcursor",Wo);class Xy{constructor(e){this.pos=e}map(e){return new Xy(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return Wo.valid(r)?new Wo(r):ha.near(r)}}function CC(s){return s.isAtom||s.spec.isolating||s.spec.createGapCursor}function rV(s){for(let e=s.depth;e>=0;e--){let r=s.index(e),n=s.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||CC(a.type))return!0;if(a.inlineContent)return!1}}return!0}function nV(s){for(let e=s.depth;e>=0;e--){let r=s.indexAfter(e),n=s.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||CC(a.type))return!0;if(a.inlineContent)return!1}}return!0}function aV(){return new To({props:{decorations:cV,createSelectionBetween(s,e,r){return e.pos==r.pos&&Wo.valid(r)?new Wo(r):null},handleClick:oV,handleKeyDown:iV,handleDOMEvents:{beforeinput:lV}}})}const iV=wk({ArrowLeft:x0("horiz",-1),ArrowRight:x0("horiz",1),ArrowUp:x0("vert",-1),ArrowDown:x0("vert",1)});function x0(s,e){const r=s=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,a,l){let u=n.selection,d=e>0?u.$to:u.$from,A=u.empty;if(u instanceof Gn){if(!l.endOfTextblock(r)||d.depth==0)return!1;A=!1,d=n.doc.resolve(e>0?d.after():d.before())}let o=Wo.findGapCursorFrom(d,e,A);return o?(a&&a(n.tr.setSelection(new Wo(o))),!0):!1}}function oV(s,e,r){if(!s||!s.editable)return!1;let n=s.state.doc.resolve(e);if(!Wo.valid(n))return!1;let a=s.posAtCoords({left:r.clientX,top:r.clientY});return a&&a.inside>-1&&wn.isSelectable(s.state.doc.nodeAt(a.inside))?!1:(s.dispatch(s.state.tr.setSelection(new Wo(n))),!0)}function lV(s,e){if(e.inputType!="insertCompositionText"||!(s.state.selection instanceof Wo))return!1;let{$from:r}=s.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(s.state.schema.nodes.text);if(!n)return!1;let a=Gs.empty;for(let u=n.length-1;u>=0;u--)a=Gs.from(n[u].createAndFill(null,a));let l=s.state.tr.replace(r.pos,r.pos,new Mr(a,0,0));return l.setSelection(Gn.near(l.doc.resolve(r.pos+1))),s.dispatch(l),!1}function cV(s){if(!(s.selection instanceof Wo))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Co.create(s.doc,[ld.widget(s.selection.head,e,{key:"gapcursor"})])}var Hg=200,Ac=function(){};Ac.prototype.append=function(e){return e.length?(e=Ac.from(e),!this.length&&e||e.length<Hg&&this.leafAppend(e)||this.length<Hg&&e.leafPrepend(this)||this.appendInner(e)):this};Ac.prototype.prepend=function(e){return e.length?Ac.from(e).append(this):this};Ac.prototype.appendInner=function(e){return new dV(this,e)};Ac.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Ac.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Ac.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ac.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Ac.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var a=[];return this.forEach(function(l,u){return a.push(e(l,u))},r,n),a};Ac.from=function(e){return e instanceof Ac?e:e&&e.length?new BC(e):Ac.empty};var BC=(function(s){function e(n){s.call(this),this.values=n}s&&(e.__proto__=s),e.prototype=Object.create(s&&s.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,l){return a==0&&l==this.length?this:new e(this.values.slice(a,l))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,l,u,d){for(var A=l;A<u;A++)if(a(this.values[A],d+A)===!1)return!1},e.prototype.forEachInvertedInner=function(a,l,u,d){for(var A=l-1;A>=u;A--)if(a(this.values[A],d+A)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=Hg)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=Hg)return new e(a.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(Ac);Ac.empty=new BC([]);var dV=(function(s){function e(r,n){s.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return s&&(e.__proto__=s),e.prototype=Object.create(s&&s.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,a,l,u){var d=this.left.length;if(a<d&&this.left.forEachInner(n,a,Math.min(l,d),u)===!1||l>d&&this.right.forEachInner(n,Math.max(a-d,0),Math.min(this.length,l)-d,u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(n,a,l,u){var d=this.left.length;if(a>d&&this.right.forEachInvertedInner(n,a-d,Math.max(l,d)-d,u+d)===!1||l<d&&this.left.forEachInvertedInner(n,Math.min(a,d),l,u)===!1)return!1},e.prototype.sliceInner=function(n,a){if(n==0&&a==this.length)return this;var l=this.left.length;return a<=l?this.left.slice(n,a):n>=l?this.right.slice(n-l,a-l):this.left.slice(n,l).append(this.right.slice(0,a-l))},e.prototype.leafAppend=function(n){var a=this.right.leafAppend(n);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(n){var a=this.left.leafPrepend(n);if(a)return new e(a,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Ac);const uV=500;class Uu{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let a,l;r&&(a=this.remapping(n,this.items.length),l=a.maps.length);let u=e.tr,d,A,o=[],f=[];return this.items.forEach((p,m)=>{if(!p.step){a||(a=this.remapping(n,m+1),l=a.maps.length),l--,f.push(p);return}if(a){f.push(new Ju(p.map));let x=p.step.map(a.slice(l)),b;x&&u.maybeStep(x).doc&&(b=u.mapping.maps[u.mapping.maps.length-1],o.push(new Ju(b,void 0,void 0,o.length+f.length))),l--,b&&a.appendMap(b,l)}else u.maybeStep(p.step);if(p.selection)return d=a?p.selection.map(a.slice(l)):p.selection,A=new Uu(this.items.slice(0,n).append(f.reverse().concat(o)),this.eventCount-1),!1},this.items.length,0),{remaining:A,transform:u,selection:d}}addTransform(e,r,n,a){let l=[],u=this.eventCount,d=this.items,A=!a&&d.length?d.get(d.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),m=new Ju(e.mapping.maps[f],p,r),x;(x=A&&A.merge(m))&&(m=x,f?l.pop():d=d.slice(0,d.length-1)),l.push(m),r&&(u++,r=void 0),a||(A=m)}let o=u-n.depth;return o>hV&&(d=AV(d,o),u-=o),new Uu(d.append(l),u)}remapping(e,r){let n=new xm;return this.items.forEach((a,l)=>{let u=a.mirrorOffset!=null&&l-a.mirrorOffset>=e?n.maps.length-a.mirrorOffset:void 0;n.appendMap(a.map,u)},e,r),n}addMaps(e){return this.eventCount==0?this:new Uu(this.items.append(e.map(r=>new Ju(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],a=Math.max(0,this.items.length-r),l=e.mapping,u=e.steps.length,d=this.eventCount;this.items.forEach(m=>{m.selection&&d--},a);let A=r;this.items.forEach(m=>{let x=l.getMirror(--A);if(x==null)return;u=Math.min(u,x);let b=l.maps[x];if(m.step){let j=e.steps[x].invert(e.docs[x]),y=m.selection&&m.selection.map(l.slice(A+1,x));y&&d++,n.push(new Ju(b,j,y))}else n.push(new Ju(b))},a);let o=[];for(let m=r;m<u;m++)o.push(new Ju(l.maps[m]));let f=this.items.slice(0,a).append(o).append(n),p=new Uu(f,d);return p.emptyItemCount()>uV&&(p=p.compress(this.items.length-n.length)),p}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,a=[],l=0;return this.items.forEach((u,d)=>{if(d>=e)a.push(u),u.selection&&l++;else if(u.step){let A=u.step.map(r.slice(n)),o=A&&A.getMap();if(n--,o&&r.appendMap(o,n),A){let f=u.selection&&u.selection.map(r.slice(n));f&&l++;let p=new Ju(o.invert(),A,f),m,x=a.length-1;(m=a.length&&a[x].merge(p))?a[x]=m:a.push(p)}}else u.map&&n--},this.items.length,0),new Uu(Ac.from(a.reverse()),l)}}Uu.empty=new Uu(Ac.empty,0);function AV(s,e){let r;return s.forEach((n,a)=>{if(n.selection&&e--==0)return r=a,!1}),s.slice(r)}class Ju{constructor(e,r,n,a){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Ju(r.getMap().invert(),r,this.selection)}}}class yh{constructor(e,r,n,a,l){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=a,this.prevComposition=l}}const hV=20;function fV(s,e,r,n){let a=r.getMeta(gf),l;if(a)return a.historyState;r.getMeta(gV)&&(s=new yh(s.done,s.undone,null,0,-1));let u=r.getMeta("appendedTransaction");if(r.steps.length==0)return s;if(u&&u.getMeta(gf))return u.getMeta(gf).redo?new yh(s.done.addTransform(r,void 0,n,F0(e)),s.undone,Ej(r.mapping.maps),s.prevTime,s.prevComposition):new yh(s.done,s.undone.addTransform(r,void 0,n,F0(e)),null,s.prevTime,s.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let d=r.getMeta("composition"),A=s.prevTime==0||!u&&s.prevComposition!=d&&(s.prevTime<(r.time||0)-n.newGroupDelay||!pV(r,s.prevRanges)),o=u?Vb(s.prevRanges,r.mapping):Ej(r.mapping.maps);return new yh(s.done.addTransform(r,A?e.selection.getBookmark():void 0,n,F0(e)),Uu.empty,o,r.time,d??s.prevComposition)}else return(l=r.getMeta("rebased"))?new yh(s.done.rebased(r,l),s.undone.rebased(r,l),Vb(s.prevRanges,r.mapping),s.prevTime,s.prevComposition):new yh(s.done.addMaps(r.mapping.maps),s.undone.addMaps(r.mapping.maps),Vb(s.prevRanges,r.mapping),s.prevTime,s.prevComposition)}function pV(s,e){if(!e)return!1;if(!s.docChanged)return!0;let r=!1;return s.mapping.maps[0].forEach((n,a)=>{for(let l=0;l<e.length;l+=2)n<=e[l+1]&&a>=e[l]&&(r=!0)}),r}function Ej(s){let e=[];for(let r=s.length-1;r>=0&&e.length==0;r--)s[r].forEach((n,a,l,u)=>e.push(l,u));return e}function Vb(s,e){if(!s)return null;let r=[];for(let n=0;n<s.length;n+=2){let a=e.map(s[n],1),l=e.map(s[n+1],-1);a<=l&&r.push(a,l)}return r}function mV(s,e,r){let n=F0(e),a=gf.get(e).spec.config,l=(r?s.undone:s.done).popEvent(e,n);if(!l)return null;let u=l.selection.resolve(l.transform.doc),d=(r?s.done:s.undone).addTransform(l.transform,e.selection.getBookmark(),a,n),A=new yh(r?d:l.remaining,r?l.remaining:d,null,0,-1);return l.transform.setSelection(u).setMeta(gf,{redo:r,historyState:A})}let Kb=!1,Tj=null;function F0(s){let e=s.plugins;if(Tj!=e){Kb=!1,Tj=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Kb=!0;break}}return Kb}const gf=new Vl("history"),gV=new Vl("closeHistory");function xV(s={}){return s={depth:s.depth||100,newGroupDelay:s.newGroupDelay||500},new To({key:gf,state:{init(){return new yh(Uu.empty,Uu.empty,null,0,-1)},apply(e,r,n){return fV(r,n,e,s)}},config:s,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,a=n=="historyUndo"?EC:n=="historyRedo"?TC:null;return!a||!e.editable?!1:(r.preventDefault(),a(e.state,e.dispatch))}}}})}function SC(s,e){return(r,n)=>{let a=gf.getState(r);if(!a||(s?a.undone:a.done).eventCount==0)return!1;if(n){let l=mV(a,r,s);l&&n(e?l.scrollIntoView():l)}return!0}}const EC=SC(!1,!0),TC=SC(!0,!0);Oi.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:s=>s.length,wordCounter:s=>s.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=s=>{const e=(s==null?void 0:s.node)||this.editor.state.doc;if(((s==null?void 0:s.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=s=>{const e=(s==null?void 0:s.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let s=!1;return[new To({key:new Vl("characterCount"),appendTransaction:(e,r,n)=>{if(s)return;const a=this.options.limit;if(a==null||a===0){s=!0;return}const l=this.storage.characters({node:n.doc});if(l>a){const u=l-a,d=0,A=u;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const o=n.tr.deleteRange(d,A);return s=!0,o}s=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const a=this.storage.characters({node:r.doc}),l=this.storage.characters({node:e.doc});if(l<=n||a>n&&l>n&&l<=a)return!0;if(a>n&&l>n&&l>a||!e.getMeta("paste"))return!1;const d=e.selection.$head.pos,A=l-n,o=d-A,f=d;return e.deleteRange(o,f),!(this.storage.characters({node:e.doc})>n)}})]}});var bV=Oi.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[tV(this.options)]}});Oi.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new To({key:new Vl("focus"),props:{decorations:({doc:s,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:a}=e,l=[];if(!r||!n)return Co.create(s,[]);let u=0;this.options.mode==="deepest"&&s.descendants((A,o)=>{if(A.isText)return;if(!(a>=o&&a<=o+A.nodeSize-1))return!1;u+=1});let d=0;return s.descendants((A,o)=>{if(A.isText||!(a>=o&&a<=o+A.nodeSize-1))return!1;if(d+=1,this.options.mode==="deepest"&&u-d>0||this.options.mode==="shallowest"&&d>1)return this.options.mode==="deepest";l.push(ld.node(o,o+A.nodeSize,{class:this.options.className}))}),Co.create(s,l)}}})]}});var vV=Oi.create({name:"gapCursor",addProseMirrorPlugins(){return[aV()]},extendNodeSchema(s){var e;const r={name:s.name,options:s.options,storage:s.storage};return{allowGapCursor:(e=ji(bn(s,"allowGapCursor",r)))!=null?e:null}}}),yV=Oi.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new To({key:new Vl("placeholder"),props:{decorations:({doc:s,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,a=[];if(!r)return null;const l=this.editor.isEmpty;return s.descendants((u,d)=>{const A=n>=d&&n<=d+u.nodeSize,o=!u.isLeaf&&bx(u);if((A||!this.options.showOnlyCurrent)&&o){const f=[this.options.emptyNodeClass];l&&f.push(this.options.emptyEditorClass);const p=ld.node(d,d+u.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:u,pos:d,hasAnchor:A}):this.options.placeholder});a.push(p)}return this.options.includeChildren}),Co.create(s,a)}}})]}});Oi.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:s,options:e}=this;return[new To({key:new Vl("selection"),props:{decorations(r){return r.selection.empty||s.isFocused||!s.isEditable||Rk(r.selection)||s.view.dragging?null:Co.create(r.doc,[ld.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function Uj({types:s,node:e}){return e&&Array.isArray(s)&&s.includes(e.type)||(e==null?void 0:e.type)===s}var wV=Oi.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var s;const e=new Vl(this.name),r=this.options.node||((s=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:s.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,a])=>a).filter(a=>(this.options.notAfter||[]).concat(r).includes(a.name));return[new To({key:e,appendTransaction:(a,l,u)=>{const{doc:d,tr:A,schema:o}=u,f=e.getState(u),p=d.content.size,m=o.nodes[r];if(f)return A.insert(p,m.create())},state:{init:(a,l)=>{const u=l.tr.doc.lastChild;return!Uj({node:u,types:n})},apply:(a,l)=>{if(!a.docChanged||a.getMeta("__uniqueIDTransaction"))return l;const u=a.doc.lastChild;return!Uj({node:u,types:n})}}})]}}),jV=Oi.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:s,dispatch:e})=>EC(s,e),redo:()=>({state:s,dispatch:e})=>TC(s,e)}},addProseMirrorPlugins(){return[xV(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),NV=Oi.create({name:"starterKit",addExtensions(){var s,e,r,n;const a=[];return this.options.bold!==!1&&a.push(Zz.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(Gz.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(pC.configure(this.options.bulletList)),this.options.code!==!1&&a.push(t$.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(n$.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(a$.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(bV.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(vV.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(i$.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(o$.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(jV.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(l$.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(h$.configure(this.options.italic)),this.options.listItem!==!1&&a.push(mC.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(wC.configure((s=this.options)==null?void 0:s.listKeymap)),this.options.link!==!1&&a.push(fC.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&a.push(NC.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(X$.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(q$.configure(this.options.strike)),this.options.text!==!1&&a.push(eV.configure(this.options.text)),this.options.underline!==!1&&a.push(kC.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&a.push(wV.configure((n=this.options)==null?void 0:n.trailingNode)),a}}),kV=NV,CV=Oi.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:s=>{const e=s.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:s=>s.textAlign?{style:`text-align: ${s.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:s=>({commands:e})=>this.options.alignments.includes(s)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:s})).some(r=>r):!1,unsetTextAlign:()=>({commands:s})=>this.options.types.map(e=>s.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:s=>({editor:e,commands:r})=>this.options.alignments.includes(s)?e.isActive({textAlign:s})?r.unsetTextAlign():r.setTextAlign(s):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),BV=20,UC=(s,e=0)=>{const r=[];return!s.children.length||e>BV||Array.from(s.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...UC(n,e+1))}),r},SV=s=>{if(!s.children.length)return;const e=UC(s);e&&e.forEach(r=>{var n,a;const l=r.getAttribute("style"),u=(a=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:a.getAttribute("style");r.setAttribute("style",`${u};${l}`)})},FC=HA.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:s=>s.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&SV(s),{}):!1}]},renderHTML({HTMLAttributes:s}){return["span",So(this.options.HTMLAttributes,s),0]},addCommands(){return{toggleTextStyle:s=>({commands:e})=>e.toggleMark(this.name,s),removeEmptyTextStyle:()=>({tr:s})=>{const{selection:e}=s;return s.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(a=>a.type===this.type).some(a=>Object.values(a.attrs).some(l=>!!l))||s.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),EV=Oi.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:s=>{var e;const r=s.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const l=n[a].split(":");if(l.length>=2){const u=l[0].trim().toLowerCase(),d=l.slice(1).join(":").trim();if(u==="background-color")return d.replace(/['"]+/g,"")}}}return(e=s.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:s=>s.backgroundColor?{style:`background-color: ${s.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:s=>({chain:e})=>e().setMark("textStyle",{backgroundColor:s}).run(),unsetBackgroundColor:()=>({chain:s})=>s().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),LC=Oi.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:s=>{var e;const r=s.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const l=n[a].split(":");if(l.length>=2){const u=l[0].trim().toLowerCase(),d=l.slice(1).join(":").trim();if(u==="color")return d.replace(/['"]+/g,"")}}}return(e=s.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:s=>s.color?{style:`color: ${s.color}`}:{}}}}]},addCommands(){return{setColor:s=>({chain:e})=>e().setMark("textStyle",{color:s}).run(),unsetColor:()=>({chain:s})=>s().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),TV=Oi.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:s=>s.style.fontFamily,renderHTML:s=>s.fontFamily?{style:`font-family: ${s.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:s=>({chain:e})=>e().setMark("textStyle",{fontFamily:s}).run(),unsetFontFamily:()=>({chain:s})=>s().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),UV=Oi.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:s=>s.style.fontSize,renderHTML:s=>s.fontSize?{style:`font-size: ${s.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:s=>({chain:e})=>e().setMark("textStyle",{fontSize:s}).run(),unsetFontSize:()=>({chain:s})=>s().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),FV=Oi.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:s=>s.style.lineHeight,renderHTML:s=>s.lineHeight?{style:`line-height: ${s.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:s=>({chain:e})=>e().setMark("textStyle",{lineHeight:s}).run(),unsetLineHeight:()=>({chain:s})=>s().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Oi.create({name:"textStyleKit",addExtensions(){const s=[];return this.options.backgroundColor!==!1&&s.push(EV.configure(this.options.backgroundColor)),this.options.color!==!1&&s.push(LC.configure(this.options.color)),this.options.fontFamily!==!1&&s.push(TV.configure(this.options.fontFamily)),this.options.fontSize!==!1&&s.push(UV.configure(this.options.fontSize)),this.options.lineHeight!==!1&&s.push(FV.configure(this.options.lineHeight)),this.options.textStyle!==!1&&s.push(FC.configure(this.options.textStyle)),s}});var LV=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,MV=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,OV=HA.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:s=>s.getAttribute("data-color")||s.style.backgroundColor,renderHTML:s=>s.color?{"data-color":s.color,style:`background-color: ${s.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:s}){return["mark",So(this.options.HTMLAttributes,s),0]},renderMarkdown:(s,e)=>`==${e.renderChildren(s)}==`,parseMarkdown:(s,e)=>e.applyMark("highlight",e.parseInline(s.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:s=>s.indexOf("=="),tokenize(s,e,r){const a=/^(==)([^=]+)(==)/.exec(s);if(a){const l=a[2].trim(),u=r.inlineTokens(l);return{type:"highlight",raw:a[0],text:l,tokens:u}}}},addCommands(){return{setHighlight:s=>({commands:e})=>e.setMark(this.name,s),toggleHighlight:s=>({commands:e})=>e.toggleMark(this.name,s),unsetHighlight:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[kf({find:LV,type:this.type})]},addPasteRules(){return[Dh({find:MV,type:this.type})]}}),IV=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,DV=Md.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:s}){return["img",So(this.options.HTMLAttributes,s)]},parseMarkdown:(s,e)=>e.createNode("image",{src:s.href,title:s.title,alt:s.text}),renderMarkdown:s=>{var e,r,n,a,l,u;const d=(r=(e=s.attrs)==null?void 0:e.src)!=null?r:"",A=(a=(n=s.attrs)==null?void 0:n.alt)!=null?a:"",o=(u=(l=s.attrs)==null?void 0:l.title)!=null?u:"";return o?`![${A}](${d} "${o}")`:`![${A}](${d})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:s,minWidth:e,minHeight:r,alwaysPreserveAspectRatio:n}=this.options.resize;return({node:a,getPos:l,HTMLAttributes:u,editor:d})=>{const A=document.createElement("img");Object.entries(u).forEach(([p,m])=>{if(m!=null)switch(p){case"width":case"height":break;default:A.setAttribute(p,m);break}}),A.src=u.src;const o=new L9({element:A,editor:d,node:a,getPos:l,onResize:(p,m)=>{A.style.width=`${p}px`,A.style.height=`${m}px`},onCommit:(p,m)=>{const x=l();x!==void 0&&this.editor.chain().setNodeSelection(x).updateAttributes(this.name,{width:p,height:m}).run()},onUpdate:(p,m,x)=>p.type===a.type,options:{directions:s,min:{width:e,height:r},preserveAspectRatio:n===!0}}),f=o.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",A.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},o}},addCommands(){return{setImage:s=>({commands:e})=>e.insertContent({type:this.name,attrs:s})}},addInputRules(){return[tC({find:IV,type:this.type,getAttributes:s=>{const[,,e,r,n]=s;return{src:r,alt:e,title:n}}})]}});const Go=({onClick:s,isActive:e,disabled:r,children:n,title:a})=>t.jsx("button",{type:"button",onClick:s,disabled:r,title:a,className:`p-1.5 rounded-lg transition-all ${e?"bg-blue-100 text-blue-600":"text-slate-500 hover:bg-slate-100 hover:text-slate-700"} ${r?"opacity-40 cursor-not-allowed":""}`,children:n}),RV=({editor:s})=>{const[e,r]=W.useState(!1),[n,a]=W.useState(!1);if(!s)return null;const l=()=>{const A=window.prompt("Enter image URL:");A&&s.chain().focus().setImage({src:A}).run()},u=()=>{const A=s.getAttributes("link").href,o=window.prompt("Enter URL:",A);if(o!==null){if(o===""){s.chain().focus().extendMarkRange("link").unsetLink().run();return}s.chain().focus().extendMarkRange("link").setLink({href:o}).run()}},d=["#000000","#374151","#6b7280","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"];return t.jsxs("div",{className:"flex flex-wrap items-center gap-0.5 p-2 border-b border-slate-200 bg-slate-50/80",children:[t.jsx(Go,{onClick:()=>s.chain().focus().undo().run(),disabled:!s.can().undo(),title:"Undo",children:t.jsx(ST,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().redo().run(),disabled:!s.can().redo(),title:"Redo",children:t.jsx(TE,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Go,{onClick:()=>s.chain().focus().toggleHeading({level:1}).run(),isActive:s.isActive("heading",{level:1}),title:"Heading 1",children:t.jsx(o3,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().toggleHeading({level:2}).run(),isActive:s.isActive("heading",{level:2}),title:"Heading 2",children:t.jsx(c3,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().toggleHeading({level:3}).run(),isActive:s.isActive("heading",{level:3}),title:"Heading 3",children:t.jsx(u3,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Go,{onClick:()=>s.chain().focus().toggleBold().run(),isActive:s.isActive("bold"),title:"Bold",children:t.jsx(oS,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().toggleItalic().run(),isActive:s.isActive("italic"),title:"Italic",children:t.jsx(w3,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().toggleUnderline().run(),isActive:s.isActive("underline"),title:"Underline",children:t.jsx(CT,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().toggleStrike().run(),isActive:s.isActive("strike"),title:"Strikethrough",children:t.jsx(sT,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsxs("div",{className:"relative",children:[t.jsx(Go,{onClick:()=>r(!e),title:"Text Color",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(NT,{size:14}),t.jsx("div",{className:"w-3 h-1 rounded-sm mt-0.5",style:{backgroundColor:s.getAttributes("textStyle").color||"#000"}})]})}),e&&t.jsxs("div",{className:"absolute top-full left-0 mt-1 p-3 bg-white rounded-xl shadow-xl border border-slate-200 z-50 grid grid-cols-5 gap-2 w-[180px]",children:[d.map(A=>t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().setColor(A).run(),r(!1)},className:"w-6 h-6 rounded-full border border-slate-200 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:A},title:A},A)),t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().unsetColor().run(),r(!1)},className:"w-6 h-6 rounded-full border border-slate-200 text-xs text-slate-400 hover:bg-slate-100 flex items-center justify-center",title:"Reset Color",children:""})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Go,{onClick:()=>a(!n),isActive:s.isActive("highlight"),title:"Highlight",children:t.jsx(oE,{size:16})}),n&&t.jsxs("div",{className:"absolute top-full left-0 mt-1 p-3 bg-white rounded-xl shadow-xl border border-slate-200 z-50 grid grid-cols-5 gap-2 w-[180px]",children:[["#fef08a","#bbf7d0","#bfdbfe","#ddd6fe","#fecdd3"].map(A=>t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().toggleHighlight({color:A}).run(),a(!1)},className:"w-6 h-6 rounded-full border border-slate-200 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:A}},A)),t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().unsetHighlight().run(),a(!1)},className:"w-6 h-6 rounded-full border border-slate-200 text-xs text-slate-400 hover:bg-slate-100 flex items-center justify-center",title:"Reset Highlight",children:""})]})]}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Go,{onClick:()=>s.chain().focus().setTextAlign("left").run(),isActive:s.isActive({textAlign:"left"}),title:"Align Left",children:t.jsx(fT,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().setTextAlign("center").run(),isActive:s.isActive({textAlign:"center"}),title:"Align Center",children:t.jsx(lT,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().setTextAlign("right").run(),isActive:s.isActive({textAlign:"right"}),title:"Align Right",children:t.jsx(dT,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().setTextAlign("justify").run(),isActive:s.isActive({textAlign:"justify"}),title:"Justify",children:t.jsx(AT,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Go,{onClick:()=>s.chain().focus().toggleBulletList().run(),isActive:s.isActive("bulletList"),title:"Bullet List",children:t.jsx(R3,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().toggleOrderedList().run(),isActive:s.isActive("orderedList"),title:"Ordered List",children:t.jsx(I3,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Go,{onClick:()=>s.chain().focus().toggleBlockquote().run(),isActive:s.isActive("blockquote"),title:"Quote",children:t.jsx(BE,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().toggleCodeBlock().run(),isActive:s.isActive("codeBlock"),title:"Code Block",children:t.jsx(MS,{size:16})}),t.jsx(Go,{onClick:()=>s.chain().focus().setHorizontalRule().run(),title:"Horizontal Rule",children:t.jsx(q3,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Go,{onClick:u,isActive:s.isActive("link"),title:"Link",children:t.jsx(Zg,{size:16})}),t.jsx(Go,{onClick:l,title:"Image",children:t.jsx(lp,{size:16})})]})},MC=({content:s,onChange:e,placeholder:r="Write your article content here..."})=>{const n=Hz({extensions:[kV.configure({heading:{levels:[1,2,3]}}),kC,CV.configure({types:["heading","paragraph"]}),FC,LC,OV.configure({multicolor:!0}),fC.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline"}}),DV.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}}),yV.configure({placeholder:r})],content:s,onUpdate:({editor:a})=>{e(a.getHTML())}});return W.useEffect(()=>{n&&s!==n.getHTML()&&n.commands.setContent(s)},[s,n]),t.jsxs("div",{className:"tiptap-editor-wrapper bg-white border border-slate-200 rounded-xl overflow-hidden focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all",children:[t.jsx(RV,{editor:n}),t.jsx(Oz,{editor:n,className:"tiptap-content"})]})},PV=({value:s,onChange:e,className:r=""})=>{const[n,a]=W.useState(!1),[l,u]=W.useState(!1),[d,A]=W.useState(""),[o,f]=W.useState(!1),[p,m]=W.useState(""),[x,b]=W.useState(""),j=W.useRef(null);Uc.useEffect(()=>{s&&!n&&b(s)},[s,n]);const y=async Q=>{if(!["image/jpeg","image/png","image/gif","image/webp"].includes(Q.type)){m("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}if(Q.size>5*1024*1024){m("Image must be less than 5MB");return}m(""),a(!0);const ce=URL.createObjectURL(Q);b(ce);try{const ue=new FormData;ue.append("image",Q);const Ne=await fetch(`${It}/api/blogs/upload-image`,{method:"POST",credentials:"include",body:ue});if(Ne.ok){const le=await Ne.json();if(le.success&&le.url)e(le.url);else throw new Error(le.error||"Upload failed")}else throw new Error("Upload failed")}catch(ue){console.error("Image upload failed:",ue),m("Failed to upload image. Please try again."),b(""),e("")}finally{a(!1)}},T=Q=>{Q.preventDefault(),f(!1);const K=Q.dataTransfer.files[0];K&&y(K)},R=Q=>{Q.preventDefault(),f(!0)},z=()=>{f(!1)},X=()=>{d.trim()&&(e(d.trim()),A(""),u(!1))},Y=()=>{e(""),m("")};return x||s?t.jsxs("div",{className:`relative group aspect-video rounded-2xl overflow-hidden ${r}`,children:[t.jsx("img",{src:x||s,alt:"Cover",className:"w-full h-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[t.jsx("button",{type:"button",onClick:()=>{var Q;return(Q=j.current)==null?void 0:Q.click()},className:"p-3 bg-white/20 hover:bg-white/30 rounded-full transition-colors",title:"Change image",children:t.jsx(dp,{className:"w-5 h-5 text-white"})}),t.jsx("button",{type:"button",onClick:Y,className:"p-3 bg-red-500/80 hover:bg-red-500 rounded-full transition-colors",title:"Remove image",children:t.jsx(qr,{className:"w-5 h-5 text-white"})})]}),n&&t.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:t.jsx(Fr,{className:"w-8 h-8 text-white animate-spin"})}),t.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:Q=>{var K;return((K=Q.target.files)==null?void 0:K[0])&&y(Q.target.files[0])},className:"hidden"})]}):t.jsxs("div",{className:`${r}`,children:[t.jsxs("div",{onDrop:T,onDragOver:R,onDragLeave:z,className:`relative aspect-video rounded-2xl border-2 border-dashed transition-all cursor-pointer ${o?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-700 hover:border-indigo-500 bg-slate-50 dark:bg-slate-800"}`,children:[n?t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx(Fr,{className:"w-10 h-10 text-indigo-600 animate-spin mb-2"}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Uploading..."})]}):l?t.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md space-y-3",children:[t.jsx("input",{type:"url",value:d,onChange:Q=>A(Q.target.value),placeholder:"Paste image URL...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:X,disabled:!d.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-500 transition-colors disabled:opacity-50",children:"Add Image"}),t.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-xl font-medium hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancel"})]})]})}):t.jsxs("div",{onClick:()=>{var Q;return(Q=j.current)==null?void 0:Q.click()},className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx(lp,{className:"w-10 h-10 text-slate-400 mb-3"}),t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Drop an image here or click to upload"}),t.jsx("p",{className:"text-xs text-slate-400",children:"JPEG, PNG, GIF, WebP up to 5MB"}),t.jsxs("div",{className:"flex gap-3 mt-4",children:[t.jsxs("button",{type:"button",onClick:Q=>{var K;Q.stopPropagation(),(K=j.current)==null||K.click()},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-500 transition-colors",children:[t.jsx(dp,{className:"w-4 h-4"}),"Upload"]}),t.jsxs("button",{type:"button",onClick:Q=>{Q.stopPropagation(),u(!0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-xl text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:[t.jsx(Zg,{className:"w-4 h-4"}),"URL"]})]})]}),t.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:Q=>{var K;return((K=Q.target.files)==null?void 0:K[0])&&y(Q.target.files[0])},className:"hidden"})]}),p&&t.jsx("p",{className:"mt-2 text-sm text-red-500",children:p})]})},Jy=({onClose:s,onSuccess:e,initialData:r})=>{var f;const[n,a]=W.useState(!1),l=rx(),[u,d]=W.useState({title:(r==null?void 0:r.title)||"",content:(r==null?void 0:r.content)||"",category:(r==null?void 0:r.category)||"",tags:((f=r==null?void 0:r.tags)==null?void 0:f.join(", "))||"",coverImage:(r==null?void 0:r.coverImage)||""}),A=["Travel","Food","Tips","Experience","Culture","Gear"],o=async(p,m)=>{p.preventDefault(),a(!0);try{const x=document.createElement("div");x.innerHTML=u.content;const b=x.textContent||x.innerText||"",j=b.slice(0,150)+(b.length>150?"...":""),y=r?`${It}/api/blogs/${r.id}`:`${It}/api/blogs/create`;(await fetch(y,{method:r?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...u,excerpt:j,status:m,tags:u.tags.split(",").map(z=>z.trim()).filter(Boolean)})})).ok?(l.success(r?"Story updated successfully!":m==="draft"?"Draft saved successfully!":"Story submitted for review!"),e()):l.error(r?"Failed to update story.":"Failed to save story. Please try again.")}catch(x){console.error(r?"Failed to update blog:":"Failed to create blog:",x),l.error("An error occurred. Please try again.")}finally{a(!1)}};return Vj.createPortal(t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-4xl h-[90vh] rounded-3xl shadow-2xl flex flex-col overflow-hidden animate-scale-in",children:[t.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r?"Edit Story":"Write a Story"}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-6 h-6 text-slate-500"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[t.jsx(PV,{value:u.coverImage,onChange:p=>d({...u,coverImage:p})}),t.jsx("input",{type:"text",placeholder:"Article Title...",className:"w-full text-4xl font-bold bg-transparent border-none placeholder:text-slate-300 dark:placeholder:text-slate-700 focus:ring-0 px-0 text-slate-900 dark:text-white",value:u.title,onChange:p=>d({...u,title:p.target.value})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-800 rounded-xl border-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",value:u.category,onChange:p=>d({...u,category:p.target.value}),children:[t.jsx("option",{value:"",children:"Select Category"}),A.map(p=>t.jsx("option",{value:p,children:p},p))]}),t.jsx("input",{type:"text",placeholder:"Tags (comma separated)...",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-800 rounded-xl border-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",value:u.tags,onChange:p=>d({...u,tags:p.target.value})})]}),t.jsx(MC,{content:u.content,onChange:p=>d({...u,content:p}),placeholder:"Tell your story..."})]})}),t.jsxs("div",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-800 flex justify-end gap-3 bg-white dark:bg-slate-900",children:[t.jsx("button",{onClick:p=>o(p,"draft"),className:"px-6 py-2.5 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:"Save as Draft"}),t.jsx("button",{onClick:p=>o(p,"pending"),disabled:n||!u.title||!u.content,className:"px-8 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:n?t.jsx(Fr,{className:"w-5 h-5 animate-spin"}):r?"Save Changes":"Submit for Review"})]})]})}),document.body)},QV=({blogId:s,user:e,onBack:r})=>{$l();const[n,a]=W.useState(null),[l,u]=W.useState([]),[d,A]=W.useState(!0),[o,f]=W.useState(""),[p,m]=W.useState(!1),[x,b]=W.useState(!1),[j,y]=W.useState(!1),[T,R]=W.useState(!1),[z,X]=W.useState("inappropriate"),[Y,Q]=W.useState(""),K=rx();W.useEffect(()=>{ce()},[s]);const ce=async()=>{try{const se=await fetch(`${It}/api/blogs/${s}`,{credentials:"include"});if(se.ok){const re=await se.json();re.success&&re.blog&&a(re.blog)}const pe=await fetch(`${It}/api/blogs/${s}/comments`,{credentials:"include"});if(pe.ok){const re=await pe.json();re.success&&re.comments&&u(re.comments)}}catch(se){console.error("Error fetching blog details:",se),K.error("Failed to load story details")}finally{A(!1)}},ue=()=>{y(!0)},Ne=async()=>{if(n)try{const se=await fetch(`${It}/api/blogs/${s}/report`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:z,description:Y})}),pe=await se.json();se.ok&&pe.success?(K.success("Report submitted successfully"),R(!1),Q(""),X("inappropriate")):K.error(pe.error||"Failed to submit report")}catch{K.error("Failed to submit report")}},le=async()=>{if(n)try{navigator.share?await navigator.share({title:n.title,text:n.excerpt,url:window.location.href}):(await navigator.clipboard.writeText(window.location.href),K.success("Link copied to clipboard!"))}catch(se){console.error("Error sharing:",se)}},Ce=async()=>{if(!(!n||!window.confirm("Are you sure you want to delete this story?")))try{(await fetch(`${It}/api/blogs/${s}`,{method:"DELETE",credentials:"include"})).ok?(K.success("Story deleted successfully"),r()):K.error("Failed to delete story")}catch(se){console.error("Error deleting blog:",se),K.error("Failed to delete story")}},oe=async()=>{if(!n)return;const se=n.isLiked;try{a(pe=>pe?{...pe,isLiked:!pe.isLiked,likesCount:pe.isLiked?pe.likesCount-1:pe.likesCount+1}:null),await fetch(`${It}/api/blogs/${s}/like`,{method:"POST",credentials:"include"}),K.success(se?"Removed from favorites":"Added to favorites")}catch(pe){console.error("Error toggling like:",pe),a(re=>re?{...re,isLiked:se,likesCount:se?re.likesCount+1:re.likesCount-1}:null),K.error("Failed to update. Please try again.")}},je=async()=>{if(o.trim()){m(!0);try{const se=await fetch(`${It}/api/blogs/${s}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content:o})});if(se.ok){const pe=await se.json();pe.success&&pe.comment&&(u(re=>[pe.comment,...re]),f(""),a(re=>re?{...re,commentsCount:re.commentsCount+1}:null),K.success("Comment posted!"))}else K.error("Failed to post comment")}catch(se){console.error("Error posting comment:",se),K.error("Failed to post comment. Please try again.")}finally{m(!1)}}},Ae=async()=>{if(!n)return;const se=x;try{b(pe=>!pe),await fetch(`${It}/api/blogs/authors/${n.authorId}/subscribe`,{method:"POST",credentials:"include"}),K.success(se?`Unfollowed ${n.authorName}`:`Now following ${n.authorName}`)}catch(pe){console.error("Error toggling follow:",pe),b(re=>!re),K.error("Failed to update subscription")}};return d?t.jsx(IP,{}):n?t.jsxs("div",{className:"max-w-4xl mx-auto pb-20 animate-fade-in-up",children:[t.jsxs("button",{onClick:r,className:"mb-6 flex items-center gap-2 text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors",children:[t.jsx(rA,{className:"w-5 h-5"}),t.jsx("span",{className:"font-bold",children:"Back to Feed"})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"flex gap-2 mb-4",children:t.jsx("span",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full text-xs font-bold uppercase tracking-wide",children:n.category})}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6 leading-tight",children:n.title}),t.jsxs("div",{className:"flex items-center justify-between py-6 border-b border-slate-100 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden",children:n.authorAvatar&&t.jsx("img",{src:n.authorAvatar,alt:n.authorName,className:"w-full h-full object-cover"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:n.authorName}),t.jsx("button",{onClick:Ae,className:`text-xs font-bold hover:underline ${x?"text-slate-500":"text-indigo-600 dark:text-indigo-400"}`,children:x?"Following":"Follow"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm",children:[t.jsx("span",{children:new Date(n.publishedAt||"").toLocaleDateString()}),t.jsx("span",{children:""}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{className:"w-3 h-3"})," 5 min read"]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e&&n.authorId===e.id&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:ue,className:"p-2 text-slate-400 hover:bg-blue-50 hover:text-blue-600 rounded-full transition-colors",title:"Edit Story",children:t.jsx(ty,{className:"w-5 h-5"})}),t.jsx("button",{onClick:Ce,className:"p-2 text-slate-400 hover:bg-red-50 hover:text-red-500 rounded-full transition-colors",title:"Delete Story",children:t.jsx(Zo,{className:"w-5 h-5"})})]}),t.jsx("button",{onClick:le,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(K0,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>R(!0),className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx($0,{className:"w-5 h-5"})})]})]})]}),n.coverImage&&t.jsx("div",{className:"rounded-3xl overflow-hidden mb-10 shadow-lg",children:t.jsx("img",{src:n.coverImage,alt:n.title,className:"w-full h-auto object-cover"})}),t.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-12 text-slate-600 dark:text-slate-300",dangerouslySetInnerHTML:{__html:n.content}}),t.jsx("div",{className:"flex items-center justify-between py-6 border-t border-b border-slate-100 dark:border-slate-800 mb-12",children:t.jsxs("div",{className:"flex gap-6",children:[t.jsxs("button",{onClick:oe,className:`flex items-center gap-2 font-bold transition-colors ${n.isLiked?"text-rose-500":"text-slate-500 hover:text-rose-500"}`,children:[t.jsx(bf,{className:`w-6 h-6 ${n.isLiked?"fill-current":""}`}),n.likesCount]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold",children:[t.jsx(mu,{className:"w-6 h-6"}),n.commentsCount]})]})}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["Comments (",l.length,")"]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden shrink-0",children:(e==null?void 0:e.avatarUrl)&&t.jsx("img",{src:e.avatarUrl,alt:"Me",className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("textarea",{value:o,onChange:se=>f(se.target.value),placeholder:"Share your thoughts...",className:"w-full bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white rounded-2xl p-4 border-none focus:ring-2 focus:ring-indigo-500 min-h-[100px] resize-none"}),t.jsx("div",{className:"flex justify-end mt-2",children:t.jsx("button",{onClick:je,disabled:!o.trim()||p,className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-500 transition-colors disabled:opacity-50",children:"Post Comment"})})]})]}),t.jsx("div",{className:"space-y-6",children:l.map(se=>t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden shrink-0",children:se.userAvatar&&t.jsx("img",{src:se.userAvatar,alt:se.userName,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl rounded-tl-none",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:se.userName}),t.jsx("span",{className:"text-xs text-slate-400",children:new Date(se.createdAt||"").toLocaleDateString()})]}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:se.content})]}),t.jsxs("div",{className:"flex gap-4 mt-2 pl-4",children:[t.jsx("button",{className:"text-xs font-bold text-slate-500 hover:text-indigo-600",children:"Reply"}),t.jsx("button",{className:"text-xs font-bold text-slate-500 hover:text-indigo-600",children:"Like"})]})]})]},se.id))})]}),j&&n&&t.jsx(Jy,{initialData:n,onClose:()=>y(!1),onSuccess:()=>{y(!1),ce()}}),T&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-xl p-6 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(qo,{className:"w-5 h-5 text-amber-500"}),"Report Story"]}),t.jsx("button",{onClick:()=>R(!1),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Reason"}),t.jsxs("select",{value:z,onChange:se=>X(se.target.value),className:"w-full p-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"spam",children:"Spam"}),t.jsx("option",{value:"inappropriate",children:"Inappropriate Content"}),t.jsx("option",{value:"harassment",children:"Harassment"}),t.jsx("option",{value:"misinformation",children:"Misinformation"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),t.jsx("textarea",{value:Y,onChange:se=>Q(se.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white min-h-[100px] focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Please provide more details..."})]}),t.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[t.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ne,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors shadow-lg shadow-red-500/20",children:"Submit Report"})]})]})]})})]}):t.jsx("div",{className:"p-8 text-center text-slate-500",children:"Story not found"})},_V=({className:s=""})=>t.jsxs("div",{className:`bg-white dark:bg-slate-800/60 rounded-3xl overflow-hidden shadow-sm border border-slate-100 dark:border-slate-700/50 ${s}`,children:[t.jsx(Zn,{variant:"rectangular",className:"w-full h-48"}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx(Zn,{variant:"rounded",className:"w-20 h-6"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Zn,{variant:"text",className:"w-full h-6"}),t.jsx(Zn,{variant:"text",className:"w-3/4 h-6"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Zn,{variant:"text",className:"w-full h-4"}),t.jsx(Zn,{variant:"text",className:"w-5/6 h-4"})]}),t.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[t.jsx(Zn,{variant:"circular",className:"w-10 h-10"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(Zn,{variant:"text",className:"w-24 h-4"}),t.jsx(Zn,{variant:"text",className:"w-32 h-3"})]})]}),t.jsxs("div",{className:"flex items-center gap-4 pt-2 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsx(Zn,{variant:"rounded",className:"w-16 h-5"}),t.jsx(Zn,{variant:"rounded",className:"w-16 h-5"}),t.jsx(Zn,{variant:"rounded",className:"w-16 h-5"})]})]})]}),HV=({user:s,onBack:e})=>{const[r,n]=W.useState([]),[a,l]=W.useState(!0),[u,d]=W.useState(""),[A,o]=W.useState("all"),[f,p]=W.useState(!1),[m,x]=W.useState(null),b=rx();W.useEffect(()=>{j()},[]);const j=async()=>{l(!0);try{const Q=await fetch(`${It}/api/blogs/my?status=all`,{credentials:"include"});if(Q.ok){const K=await Q.json();K.success&&n(K.blogs||[])}}catch(Q){console.error("Failed to fetch my blogs:",Q),b.error("Failed to load your stories")}finally{l(!1)}},y=async Q=>{if(window.confirm("Are you sure you want to delete this story? This action cannot be undone."))try{(await fetch(`${It}/api/blogs/${Q}`,{method:"DELETE",credentials:"include"})).ok?(b.success("Story deleted successfully"),n(ce=>ce.filter(ue=>ue.id!==Q))):b.error("Failed to delete story")}catch{b.error("Failed to delete story")}},T=r.filter(Q=>{const K=Q.title.toLowerCase().includes(u.toLowerCase()),ce=A==="all"||Q.status===A;return K&&ce}),R=r.reduce((Q,K)=>Q+(K.views||0),0),z=r.reduce((Q,K)=>Q+(K.likesCount||0),0),X=r.reduce((Q,K)=>Q+(K.commentsCount||0),0),Y=Q=>{switch(Q){case"published":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"rejected":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}};return t.jsxs("div",{className:"animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(rA,{className:"w-6 h-6 text-slate-500"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Story Studio"}),t.jsx("p",{className:"text-slate-500",children:"Manage your content and analytics"})]})]}),t.jsxs("button",{onClick:()=>{x(null),p(!0)},className:"px-5 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 transition-all flex items-center gap-2",children:[t.jsx($i,{className:"w-5 h-5"}),"Create New"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:t.jsx(Td,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Stories"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:r.length})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:t.jsx(io,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Views"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:R})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-rose-50 dark:bg-rose-900/20 rounded-lg",children:t.jsx(bf,{className:"w-5 h-5 text-rose-600 dark:text-rose-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Likes"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:z})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:t.jsx(mu,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Comments"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:X})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex flex-col md:flex-row gap-4 justify-between",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search your stories...",value:u,onChange:Q=>d(Q.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white"})]}),t.jsxs("select",{value:A,onChange:Q=>o(Q.target.value),className:"px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-left",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Story"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Stats"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:a?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"Loading stories..."})}):T.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"No stories found"})}):T.map(Q=>t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-10 rounded-lg bg-slate-200 dark:bg-slate-700 overflow-hidden flex-shrink-0",children:Q.coverImage?t.jsx("img",{src:Q.coverImage,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-400 to-purple-500"})}),t.jsxs("div",{className:"min-w-0 max-w-xs",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:Q.title}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:Q.category})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${Y(Q.status)}`,children:Q.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:new Date(Q.createdAt||"").toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",title:"Views",children:[t.jsx(io,{className:"w-4 h-4"})," ",Q.views]}),t.jsxs("span",{className:"flex items-center gap-1",title:"Likes",children:[t.jsx(bf,{className:"w-4 h-4"})," ",Q.likesCount]})]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>{x(Q),p(!0)},className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Edit",children:t.jsx(ty,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>y(Q.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:t.jsx(Zo,{className:"w-4 h-4"})})]})})]},Q.id))})]})})]}),f&&t.jsx(Jy,{initialData:m||void 0,onClose:()=>{p(!1),x(null)},onSuccess:()=>{p(!1),x(null),j()}})]})},zV=({user:s})=>{const[e,r]=W.useState("list"),[n,a]=W.useState(null),[l,u]=W.useState(!1),[d,A]=W.useState([]),[o,f]=W.useState(!0),[p,m]=W.useState("All"),[x,b]=W.useState(""),j=rx(),y=["All","Travel","Food","Tips","Experience"];W.useEffect(()=>{T()},[p]);const T=async()=>{f(!0);try{const z=new URLSearchParams;p!=="All"&&z.append("category",p),x&&z.append("search",x);const X=`${It}/api/blogs/feed${z.toString()?"?"+z.toString():""}`,Y=await fetch(X,{credentials:"include"});if(Y.ok){const Q=await Y.json();Q.success?A(Q.blogs||[]):A([])}else A([])}catch(z){console.error("Failed to fetch blogs:",z),A([]),j.error("Failed to load stories. Please try again.")}finally{f(!1)}},R=z=>{a(z),r("detail")};return e==="studio"?t.jsx(HV,{user:s,onBack:()=>r("list")}):e==="detail"&&n?t.jsx(QV,{blogId:n,user:s,onBack:()=>{r("list"),a(null)}}):t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-8 animate-fade-in-up",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-4xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-3",children:[t.jsx(H0,{className:"w-10 h-10 text-indigo-500"}),"Travel Stories"]}),t.jsx("p",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mt-2",children:"Discover and share adventures from around the world."})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>r("studio"),className:"px-5 py-3 bg-white dark:bg-slate-800 text-slate-700 dark:text-white rounded-2xl font-bold shadow-sm border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all flex items-center gap-2",children:[t.jsx(ey,{className:"w-5 h-5"}),"My Studio"]}),t.jsxs("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl font-bold shadow-lg shadow-indigo-500/20 transition-all active:scale-95 flex items-center gap-2",children:[t.jsx($i,{className:"w-5 h-5"}),"Write Story"]})]})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-center bg-white dark:bg-slate-800/50 p-2 rounded-3xl border border-slate-100 dark:border-slate-700/50 shadow-sm",children:[t.jsx("div",{className:"flex gap-1 overflow-x-auto w-full lg:w-auto p-1 no-scrollbar",children:y.map(z=>t.jsx("button",{onClick:()=>m(z),className:`px-5 py-2.5 rounded-xl text-sm font-bold whitespace-nowrap transition-all ${p===z?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 shadow-md":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:z},z))}),t.jsxs("div",{className:"relative w-full lg:w-96 group",children:[t.jsx(Kc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"}),t.jsx("input",{type:"text",placeholder:"Search stories, authors, tags...",value:x,onChange:z=>b(z.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl pl-12 pr-4 py-3 font-medium focus:ring-2 focus:ring-indigo-500 transition-all text-slate-900 dark:text-white"})]})]}),o?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(z=>t.jsx(_V,{},z))}):d.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((z,X)=>t.jsx("div",{style:{animationDelay:`${X*50}ms`},className:"animate-fade-in-up",children:t.jsx(OP,{blog:z,onClick:()=>R(z.id)})},z.id))}):t.jsxs("div",{className:"text-center py-20 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-dashed border-slate-200 dark:border-slate-700",children:[t.jsx(H0,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"No stories found"}),t.jsx("p",{className:"text-slate-500",children:"Be the first to share your adventure in this category!"})]}),l&&t.jsx(Jy,{onClose:()=>u(!1),onSuccess:()=>{u(!1),T(),j.success("Your story has been submitted for review!")}})]})},$V=(s,e,r)=>e?`${It}/proxy_image?place_id=${e}`:r?`${It}/proxy_image?name=${encodeURIComponent(r)}`:`${It}/proxy_image/default`,VV=({type:s,className:e="w-4 h-4"})=>{switch(s){case"food":return t.jsx(Wd,{className:e});case"attraction":return t.jsx(Yg,{className:e});case"cafe":return t.jsx(Em,{className:e});case"hotel":return t.jsx(Jg,{className:e});case"shopping":return t.jsx(tx,{className:e});case"transport":return t.jsx(Wg,{className:e});default:return t.jsx(Jo,{className:e})}},KV=({slot:s})=>{const e={morning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",lunch:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",afternoon:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400",evening:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400",night:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${e[s]||e.morning}`,children:s})},GV=({plan:s,onClose:e})=>{const[r,n]=W.useState(0),a=s.days[r],l=()=>n(d=>Math.max(0,d-1)),u=()=>n(d=>Math.min(s.days.length-1,d+1));return t.jsxs("div",{className:"fixed inset-0 z-[100] bg-white dark:bg-slate-900 flex flex-col overflow-hidden animate-in fade-in duration-200",children:[t.jsx("div",{className:"shrink-0 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white line-clamp-1",children:s.title}),t.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2",children:[t.jsx("span",{children:s.duration}),t.jsx("span",{children:""}),t.jsx("span",{children:s.total_budget_estimate})]})]})]}),t.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider bg-slate-100 dark:bg-slate-800 px-3 py-1.5 rounded-full",children:"Read Only"})]})}),t.jsx("div",{className:"shrink-0 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:l,disabled:r===0,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("div",{className:"flex-1 flex gap-2 overflow-x-auto py-1 [&::-webkit-scrollbar]:hidden",children:s.days.map((d,A)=>t.jsx("button",{onClick:()=>n(A),className:`shrink-0 px-4 py-2 rounded-xl font-medium text-sm transition-all ${r===A?"bg-sky-500 text-white shadow-md shadow-sky-500/20":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-sky-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("span",{className:"font-bold",children:["Day ",d.day_number]}),t.jsx("span",{className:"text-[10px] opacity-75",children:d.theme})]})},d.day_number))}),t.jsx("button",{onClick:u,disabled:r===s.days.length-1,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(hc,{className:"w-5 h-5"})})]})})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-8",children:[a.top_locations&&a.top_locations.length>0&&t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Ao,{className:"w-4 h-4"})," Highlights"]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.top_locations.map((d,A)=>t.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden group shadow-lg",children:[t.jsx("img",{src:$V(d.image_url,d.place_id,d.name),alt:d.name,className:"w-full h-full object-cover",onError:o=>{o.currentTarget.src=`${It}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:d.name}),t.jsx("p",{className:"text-white/80 text-xs",children:d.highlight_reason})]})]},A))})]}),t.jsx("section",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-5 border border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-wrap gap-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-900/30 rounded-lg",children:t.jsx(co,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Activities"}),t.jsxs("p",{className:"font-bold text-slate-900 dark:text-white",children:[a.day_summary.total_activities," Items"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:t.jsx(Cf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Est. Budget"}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:a.day_summary.total_budget})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:t.jsx(Wg,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Transport"}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:a.day_summary.transport_notes})]})]})]})}),t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4"})," Itinerary"]}),t.jsx("div",{className:"space-y-4",children:a.activities.map((d,A)=>t.jsxs("div",{className:"relative pl-8 group",children:[A<a.activities.length-1&&t.jsx("div",{className:"absolute left-[11px] top-10 bottom-0 w-0.5 bg-slate-200 dark:bg-slate-700"}),t.jsx("div",{className:`absolute left-0 top-2 w-6 h-6 rounded-full flex items-center justify-center shadow-md ${d.activity_type==="food"?"bg-orange-500":d.activity_type==="attraction"?"bg-sky-500":d.activity_type==="cafe"?"bg-amber-500":"bg-slate-500"}`,children:t.jsx(VV,{type:d.activity_type,className:"w-3 h-3 text-white"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-5 shadow-sm",children:[t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(KV,{slot:d.time_slot}),t.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[d.start_time," - ",d.end_time]})]})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:d.place_name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-1 mb-3",children:[t.jsx(Jo,{className:"w-3 h-3"}),d.place_address]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed mb-4",children:d.description}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[t.jsx("span",{className:"px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 rounded-lg font-bold",children:d.budget_estimate}),d.dietary_info&&t.jsx("span",{className:"px-2 py-1 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-400 rounded-lg font-medium",children:d.dietary_info}),d.tips&&t.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[t.jsx(El,{className:"w-3 h-3"})," ",d.tips]})]})]})]},A))})]}),s.practical_info&&t.jsxs("section",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-2xl p-5 border border-amber-100 dark:border-amber-800/30",children:[t.jsxs("h2",{className:"text-sm font-bold text-amber-800 dark:text-amber-400 mb-3 flex items-center gap-2",children:[t.jsx(El,{className:"w-4 h-4"})," Practical Info"]}),t.jsxs("div",{className:"space-y-2 text-sm text-amber-700 dark:text-amber-300",children:[s.practical_info.best_transport&&t.jsxs("p",{children:[t.jsx("strong",{children:"Transport:"})," ",s.practical_info.best_transport]}),s.practical_info.weather_advisory&&t.jsxs("p",{children:[t.jsx("strong",{children:"Weather:"})," ",s.practical_info.weather_advisory]}),s.practical_info.booking_recommendations&&s.practical_info.booking_recommendations.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:"Booking Tips:"}),t.jsx("ul",{className:"list-disc list-inside mt-1",children:s.practical_info.booking_recommendations.map((d,A)=>t.jsx("li",{children:d},A))})]})]})]})]})})]})},WV=({suggestion:s})=>{var e;return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[280px] md:max-w-[320px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl flex-shrink-0 snap-start",children:[t.jsxs("div",{className:"h-36 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:s.imageUrl||`${It}/proxy_image/default`,alt:s.title,className:"w-full h-full object-cover",onError:r=>{r.currentTarget.src=`${It}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),t.jsx("div",{className:"absolute bottom-3 left-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(e=s.tags)==null?void 0:e.slice(0,3).map(r=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:r},r))}),s.priceEstimate&&t.jsxs("div",{className:"pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Cost"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.priceEstimate})]})]})]})},YV=({plan:s,onViewDetails:e})=>{var a,l,u;const r=((a=s.days)==null?void 0:a.reduce((d,A)=>{var o;return d+(((o=A.activities)==null?void 0:o.length)||0)},0))||0,n=()=>{var A,o,f;const d=(f=(o=(A=s.days)==null?void 0:A[0])==null?void 0:o.top_locations)==null?void 0:f[0];return d!=null&&d.place_id?`${It}/proxy_image?place_id=${d.place_id}`:d!=null&&d.name?`${It}/proxy_image?name=${encodeURIComponent(d.name)}`:`${It}/proxy_image/default`};return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[320px] md:max-w-[380px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl flex-shrink-0 snap-start transition-all hover:shadow-lg",children:[t.jsxs("div",{className:"h-40 overflow-hidden relative rounded-t-2xl bg-gradient-to-br from-sky-400 to-blue-600",children:[t.jsx("img",{src:n(),alt:s.title,className:"w-full h-full object-cover",onError:d=>{d.currentTarget.src=`${It}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1 bg-sky-500/90 backdrop-blur-sm rounded-full text-white text-xs font-bold flex items-center gap-1.5",children:[t.jsx(co,{className:"w-3 h-3"}),s.duration]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight drop-shadow-md",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(l=s.tags)==null?void 0:l.slice(0,4).map(d=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:d},d))}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(co,{className:"w-3.5 h-3.5"}),((u=s.days)==null?void 0:u.length)||0," days"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Jo,{className:"w-3.5 h-3.5"}),r," activities"]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Budget"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.total_budget_estimate})]}),t.jsxs("button",{onClick:()=>e(s),className:"flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold bg-sky-600 hover:bg-sky-500 text-white transition-all",children:[t.jsx(El,{className:"w-3.5 h-3.5"}),"View Itinerary"]})]})]})]})},XV=({place:s})=>t.jsxs("div",{className:"bg-white dark:bg-slate-900/80 border border-slate-200 dark:border-slate-700/50 rounded-xl p-4",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:s.name}),s.address&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:s.address}),t.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.rating&&t.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[t.jsx(tA,{className:"w-4 h-4 text-amber-400 fill-current"}),s.rating]}),s.cuisine&&t.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:s.cuisine}),s.price_level&&t.jsx("span",{className:"text-xs text-emerald-600",children:s.price_level})]})]}),JV=s=>s.map((e,r)=>{const n=()=>e.id||e.place_id?`${It}/proxy_image?place_id=${e.id||e.place_id}`:e.name?`${It}/proxy_image?name=${encodeURIComponent(e.name)}`:`${It}/proxy_image/default`;return{id:e.id||`shared-place-${r}`,title:e.title||e.name||"Unknown",description:e.description||e.address||"",duration:e.duration||"Place",priceEstimate:e.priceEstimate||(e.price_level?"$".repeat(e.price_level.length):"N/A"),tags:e.tags||(e.business_status==="OPERATIONAL"?["Open","Place"]:["Place"]),imageUrl:n(),itinerary:e.itinerary||null,reviews:e.review_list||[],fullAddress:e.address,rating:e.rating}}),ZV=s=>{let e=s.content,r,n,a;if(e.startsWith("DAILY_PLAN::"))try{const l=JSON.parse(e.substring(12));n=[l],e=`Generated a ${l.duration} trip plan:`}catch(l){console.error("Failed to parse daily plan:",l)}else if(e.startsWith("FOOD_DATA::"))try{const l=JSON.parse(e.substring(11));l.recommendations&&(a=l.recommendations,e=`Found ${l.recommendations.length} food recommendations:`)}catch(l){console.error("Failed to parse food data:",l)}else if(e.startsWith("POPUP_DATA::"))try{const l=JSON.parse(e.substring(12));r=JV(l),e=`Found ${r.length} recommendations:`}catch(l){console.error("Failed to parse places data:",l)}return{text:e,suggestions:r,dailyPlans:n,foodRecommendations:a}},qV=()=>{const{shareToken:s}=Gg(),e=$l(),[r,n]=W.useState(null),[a,l]=W.useState(!0),[u,d]=W.useState(null),[A,o]=W.useState(null),f=W.useRef(null);return W.useEffect(()=>{(async()=>{if(!s){d("Invalid share link"),l(!1);return}try{const m=await fetch(`${It}/api/shared/${s}`);if(!m.ok){m.status===404?d("This conversation is no longer available or has been unshared."):d("Failed to load conversation"),l(!1);return}const x=await m.json();n(x.conversation)}catch(m){console.error("Failed to fetch shared conversation:",m),d("Failed to load conversation. Please try again.")}finally{l(!1)}})()},[s]),W.useEffect(()=>{var p;r&&((p=f.current)==null||p.scrollIntoView({behavior:"smooth"}))},[r]),a?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx(Fr,{className:"w-10 h-10 text-sky-500 animate-spin mx-auto"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading shared conversation..."})]})}):u||!r?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900 p-4",children:t.jsxs("div",{className:"text-center space-y-6 max-w-md",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto",children:t.jsx(Ia,{className:"w-8 h-8 text-red-500"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Conversation Not Found"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:u||"This shared conversation could not be found."})]}),t.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-xl transition-colors",children:[t.jsx(rA,{className:"w-4 h-4"}),"Go to Home"]})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[t.jsx("div",{className:"sticky top-0 z-10 px-4 py-3 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[t.jsx("button",{onClick:()=>e("/"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(rA,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white truncate",children:r.title}),t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Shared conversation - ",r.messageCount," messages"]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-full",children:[t.jsx(V0,{className:"w-3.5 h-3.5 text-sky-500"}),t.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"GogoTrip"})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-8 py-8",children:[t.jsx("div",{className:"flex flex-col space-y-8",children:r.messages.map(p=>{const m=p.role==="user",{text:x,suggestions:b,dailyPlans:j,foodRecommendations:y}=ZV(p);return t.jsxs("div",{className:`flex w-full flex-col ${m?"items-end":"items-start"}`,children:[t.jsxs("div",{className:`flex gap-4 max-w-[90%] md:max-w-[70%] ${m?"flex-row-reverse":"flex-row"}`,children:[t.jsx("div",{className:"flex-shrink-0 mt-2",children:m?t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-300 dark:bg-slate-700 flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:"U"})}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md",children:t.jsx(np,{className:"w-5 h-5 text-white"})})}),t.jsxs("div",{className:`flex flex-col gap-1 p-5 rounded-[1.5rem] shadow-sm ${m?"bg-sky-600 dark:bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 border border-slate-100 dark:border-slate-800 rounded-tl-sm"}`,children:[t.jsx("p",{className:"text-[15px] leading-relaxed whitespace-pre-wrap font-medium",children:x}),t.jsx("span",{className:`text-[10px] font-bold ${m?"text-sky-100":"text-slate-400"} self-end mt-1`,children:new Date(p.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),b&&b.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:b.map((T,R)=>t.jsx(WV,{suggestion:T},T.id||R))})}),j&&j.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:j.map((T,R)=>t.jsx(YV,{plan:T,onViewDetails:o},`${T.title}-${R}`))})}),y&&y.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:y.slice(0,6).map((T,R)=>t.jsx(XV,{place:T},`${T.name}-${R}`))})})]},p.id)})}),t.jsx("div",{ref:f})]}),t.jsx("div",{className:"border-t border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 text-center",children:[t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"This is a shared conversation. Want to plan your own trip?"}),t.jsxs("button",{onClick:()=>e("/chat"),className:"inline-flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-xl transition-colors",children:[t.jsx(V0,{className:"w-4 h-4"}),"Start Planning"]})]})}),A&&t.jsx(GV,{plan:A,onClose:()=>o(null)})]})},od={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},eK={Administrator:od.SUPER_ADMIN,Admin:od.ADMIN,User:od.USER,administrator:od.SUPER_ADMIN,ADMIN:od.ADMIN,USER:od.USER,admin:od.ADMIN,user:od.USER,super_admin:od.SUPER_ADMIN};function zg(s){return s?Object.values(od).includes(s)?s:eK[s]??od.USER:od.USER}function Vv(s){const e=zg(s);return e===od.SUPER_ADMIN||e===od.ADMIN}function Kv(s){return zg(s)===od.SUPER_ADMIN}const tK=({user:s,onLogout:e,onSwitchToAdmin:r,onUpdateUser:n})=>{const a=$l();xp();const[l,u]=W.useState(!1),[d,A]=W.useState(!1),[o,f]=W.useState([]),[p,m]=W.useState(!1);W.useEffect(()=>{const z=localStorage.getItem("gogotrip_language");z&&["en","zh","ms"].includes(z)&&z!==fc.language&&ox(z),s!=null&&s.preferredLanguage&&s.preferredLanguage!==z&&Av(s.preferredLanguage)},[s]),W.useEffect(()=>{(async()=>{try{const X=await fetch(`${It}/api/notifications/user`,{credentials:"include"});if(X.ok){const Y=await X.json();Y.success&&f(Y.notifications||[])}}catch(X){console.error("Failed to fetch notifications",X)}})()},[]);const x=()=>A(z=>!z),b=()=>m(!0),j=()=>{m(!1),e()},y=z=>{a(z),u(!1)},T=s?{...s,subscription:s.subscription??(s.isPremium?{status:"active"}:void 0)}:null,R=Vv(s.role);return t.jsx(JT,{children:t.jsx("div",{className:`${d?"dark":""} h-full`,children:t.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-blue-100 via-sky-50 to-white dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 text-slate-900 dark:text-slate-200",children:[t.jsx(O6,{isOpen:l,isAdminUser:R,onSwitchToAdmin:r,onChangeView:y}),t.jsxs("main",{className:"flex-1 flex flex-col min-w-0 relative",children:[t.jsx(I6,{onToggleSidebar:()=>u(z=>!z),title:"GogoTrip",isDarkMode:d,onToggleTheme:x,user:s,notifications:o,onLogout:b,onNavigate:y}),t.jsx("div",{className:"flex-1 overflow-y-auto relative pt-28",children:t.jsx("div",{className:"relative",children:t.jsxs(OB,{children:[t.jsx(zl,{path:"/",element:t.jsx(_U,{user:T})}),t.jsx(zl,{path:"/chat",element:t.jsx(Zw,{user:T})}),t.jsx(zl,{path:"/chat/:conversationId",element:t.jsx(Zw,{user:T})}),t.jsx(zl,{path:"/shared/:shareToken",element:t.jsx(qV,{})}),t.jsx(zl,{path:"/trips",element:t.jsx(hP,{user:T})}),t.jsx(zl,{path:"/blogs",element:t.jsx(zV,{user:T})}),t.jsx(zl,{path:"/calendar",element:t.jsx(cP,{user:T})}),t.jsx(zl,{path:"/scheduler",element:t.jsx(pP,{user:T})}),t.jsx(zl,{path:"/translate",element:t.jsx(bP,{user:T})}),t.jsx(zl,{path:"/expenses",element:t.jsx(wP,{user:T})}),t.jsx(zl,{path:"/support",element:t.jsx(IU,{user:T})}),t.jsx(zl,{path:"/support/:id",element:t.jsx(RU,{user:T})}),t.jsx(zl,{path:"/settings",element:t.jsx(jP,{user:s,onUpdateUser:n})}),t.jsx(zl,{path:"/billing",element:t.jsx(NP,{user:s,onUpdateUser:n,onNavigate:y})}),t.jsx(zl,{path:"/receipt",element:t.jsx(TP,{})}),t.jsx(zl,{path:"/announcements",element:t.jsx(LP,{})}),t.jsx(zl,{path:"/announcements/:id",element:t.jsx(MP,{})}),t.jsx(zl,{path:"*",element:t.jsx(LB,{to:"/",replace:!0})})]})})})]}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:()=>u(!1)}),p&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 max-w-sm w-full",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(qo,{})}),t.jsx("h3",{className:"text-lg font-bold mb-2",children:"Sign Out"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to sign out?"}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 rounded-xl bg-slate-100",children:"Cancel"}),t.jsxs("button",{onClick:j,className:"flex-1 px-4 py-2 rounded-xl bg-red-600 text-white flex items-center justify-center gap-2",children:[t.jsx(qg,{size:18}),"Sign Out"]})]})]})})})]})})})},sK=({activeItem:s,onNavigate:e,onSwitchToUser:r,onLogout:n})=>{const a=[{id:"Home",label:"Dashboard",icon:t.jsx(ey,{size:20})},{id:"Info Blog",label:"Info Blog",icon:t.jsx(Td,{size:20})},{id:"Blog Moderation",label:"Blog Moderation",icon:t.jsx(H0,{size:20})},{id:"Blog Reports",label:"Blog Reports",icon:t.jsx($0,{size:20})},{id:"Notifications",label:"Notifications",icon:t.jsx(Au,{size:20})},{id:"Advertisement",label:"Advertisements",icon:t.jsx(lp,{size:20})},{id:"Login Hero",label:"Login Background",icon:t.jsx(lp,{size:20})},{id:"Subscription",label:"Subscriptions",icon:t.jsx(ip,{size:20})},{id:"Support Tickets",label:"Support Tickets",icon:t.jsx(mu,{size:20})},{id:"Voucher Managment",label:"Voucher Managment",icon:t.jsx(mT,{size:20})},{id:"Plan Managment",label:"Plan Managment",icon:t.jsx(eA,{size:20})},{id:"Admin Messages",label:"Admin Messages",icon:t.jsx(Xd,{size:20})},{id:"Admin Chat",label:"Admin Chat",icon:t.jsx(mu,{size:20})},{id:"Inquiries",label:"Inquiries",icon:t.jsx(fm,{size:20})}],l=[{id:"User",label:"Users",icon:t.jsx(Ld,{size:20})},{id:"Place",label:"Places",icon:t.jsx(Jo,{size:20})},{id:"Trip",label:"Trips",icon:t.jsx(nA,{size:20})},{id:"Trip Item",label:"Trip Items",icon:t.jsx(co,{size:20})}],u=[{id:"Settings",label:"Settings",icon:t.jsx(Tm,{size:20})}],d=A=>{const o=s===A.id;return t.jsxs("button",{onClick:()=>e(A.id),className:`
          w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200
          ${o?"bg-blue-50 text-blue-600 shadow-sm":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}
        `,children:[t.jsx("span",{className:`${o?"text-blue-500":"text-slate-400"} transition-colors`,children:A.icon}),t.jsx("span",{className:"flex-1 text-left",children:A.label}),A.badge&&t.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-600 text-xs font-bold rounded-full",children:A.badge}),o&&t.jsx(hc,{size:16,className:"text-blue-400"})]},A.id)};return t.jsxs("aside",{className:"w-64 h-screen bg-white border-r border-slate-200 flex flex-col",children:[t.jsx("div",{className:"p-6 border-b border-slate-100",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:t.jsx(nA,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"GogoTrip"}),t.jsx("p",{className:"text-xs text-slate-400",children:"Admin Panel"})]})]})}),t.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Main Menu"}),t.jsx("div",{className:"space-y-1",children:a.map(d)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Data Management"}),t.jsx("div",{className:"space-y-1",children:l.map(d)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"System"}),t.jsx("div",{className:"space-y-1",children:u.map(d)})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-100 space-y-2",children:[t.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors",children:[t.jsx(WB,{size:20,className:"text-slate-400"}),"Switch to User View"]}),t.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[t.jsx(qg,{size:20}),"Sign Out"]})]})]})},rK=({onLogout:s,onNavigate:e,user:r})=>{const[n,a]=W.useState(!1),[l,u]=W.useState(!1),[d,A]=W.useState(""),[o,f]=W.useState(null),p=W.useRef(null),m=W.useRef(null);W.useEffect(()=>{const R=z=>{p.current&&!p.current.contains(z.target)&&a(!1),m.current&&!m.current.contains(z.target)&&u(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const x=R=>{e("Settings"),a(!1)},b=[{id:1,text:"New user registered: Sarah J.",time:"2 min ago",unread:!0},{id:2,text:"System backup completed successfully.",time:"1 hour ago",unread:!1},{id:3,text:"Trip #1029 reported by user.",time:"3 hours ago",unread:!0}],j=R=>{switch(R){case"success":return t.jsx(Bo,{size:18});case"warning":return t.jsx(qo,{size:18});default:return t.jsx(El,{size:18})}},y=R=>{switch(R){case"success":return"bg-white border-green-100 text-green-800";case"warning":return"bg-white border-amber-100 text-amber-800";default:return"bg-white border-blue-100 text-blue-800"}},T=R=>{switch(R){case"success":return"bg-green-100 text-green-600";case"warning":return"bg-amber-100 text-amber-600";default:return"bg-blue-100 text-blue-600"}};return t.jsxs("header",{className:"flex flex-col md:flex-row items-center justify-between gap-4 py-4 px-8 bg-white border-b border-slate-200 z-20 relative",children:[o&&t.jsxs("div",{className:`fixed top-24 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${y(o.type)}`,children:[t.jsx("div",{className:`p-1 rounded-full ${T(o.type)}`,children:j(o.type)}),t.jsx("p",{className:"text-sm font-medium",children:o.message}),t.jsx("button",{onClick:()=>f(null),className:"ml-2 opacity-50 hover:opacity-100 transition-opacity",children:t.jsx(qr,{size:16})})]}),t.jsx("div",{children:t.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"Admin Dashboard"})}),t.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[t.jsx("div",{className:"relative",ref:m,children:l&&t.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-200 z-50",children:[t.jsxs("div",{className:"p-4 border-b border-slate-50 flex justify-between items-center",children:[t.jsx("h3",{className:"font-semibold text-slate-800 text-sm",children:"Notifications"}),t.jsx("button",{className:"text-xs text-blue-600 hover:underline",children:"Mark all read"})]}),t.jsx("div",{className:"max-h-64 overflow-y-auto",children:b.map(R=>t.jsxs("div",{className:`p-4 border-b border-slate-50 hover:bg-slate-50 transition-colors cursor-pointer flex gap-3 ${R.unread?"bg-blue-50/30":""}`,children:[t.jsx("div",{className:`w-2 h-2 mt-1.5 rounded-full shrink-0 ${R.unread?"bg-blue-500":"bg-slate-300"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-700",children:R.text}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:R.time})]})]},R.id))}),t.jsx("div",{className:"p-3 text-center border-t border-slate-50",children:t.jsx("button",{className:"text-xs text-slate-500 hover:text-slate-800 font-medium",children:"View All"})})]})}),t.jsxs("div",{className:"relative pl-2 border-l border-slate-200",ref:p,children:[t.jsxs("button",{onClick:()=>a(!n),className:"flex items-center gap-3 hover:bg-slate-50 rounded-lg p-1.5 transition-colors group",children:[t.jsxs("div",{className:"text-right hidden md:block",children:[t.jsx("p",{className:"text-sm font-medium text-slate-700 group-hover:text-slate-900",children:(r==null?void 0:r.name)||"Admin User"}),t.jsx("p",{className:"text-xs text-slate-400",children:(r==null?void 0:r.email)||"admin@gogotrip.com"})]}),t.jsx("div",{className:"w-9 h-9 rounded-full bg-slate-200 overflow-hidden shrink-0 ring-2 ring-transparent group-hover:ring-slate-100 transition-all",children:t.jsx("img",{src:(r==null?void 0:r.avatarUrl)||"https://api.dicebear.com/7.x/avataaars/svg?seed=Admin",alt:"User",className:"w-full h-full object-cover"})})]}),t.jsxs("div",{className:`
                   absolute top-full right-0 mt-3 w-64 bg-white dark:bg-slate-900 rounded-[1.5rem] shadow-2xl border border-slate-100 dark:border-slate-800 overflow-hidden transition-all duration-300 origin-top-right z-50
                   ${n?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}
                `,children:[t.jsxs("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800",children:[t.jsx("p",{className:"text-base font-bold text-slate-900 dark:text-white truncate",children:r.name}),t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mt-0.5 truncate",children:r.email||"alex.chen@example.com"})]}),t.jsx("div",{className:"p-2 space-y-0.5",children:t.jsxs("button",{onClick:()=>x(),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group",children:[t.jsx(Xo,{className:"w-4 h-4 text-slate-400 group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors"}),"Account Settings"]})}),t.jsx("div",{className:"p-2 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/20",children:t.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t.jsx(qg,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]})]})},nK=({data:s})=>{const e=Math.max(...s,1),r=s.map((n,a)=>{const l=a/(s.length-1)*100,u=100-n/e*100;return`${l},${u}`}).join(" ");return t.jsxs("div",{className:"w-full h-64 relative animate-in fade-in duration-500",children:[t.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"w-full h-full overflow-visible",children:[t.jsx("line",{x1:"0",y1:"25",x2:"100",y2:"25",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("line",{x1:"0",y1:"75",x2:"100",y2:"75",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("polyline",{fill:"none",stroke:"#3B82F6",strokeWidth:"2",points:r,vectorEffect:"non-scaling-stroke",className:"drop-shadow-sm transition-all duration-500 ease-in-out"}),t.jsx("polygon",{fill:"url(#gradient)",points:`0,100 ${r} 100,100`,opacity:"0.1",className:"transition-all duration-500 ease-in-out"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),t.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0"})]})})]}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-2 font-medium",children:[t.jsx("span",{children:"Start"}),t.jsx("span",{children:"Mid"}),t.jsx("span",{children:"End"})]})]})},aK=({onNavigate:s})=>{const[e,r]=W.useState("Last 12 Months"),[n,a]=W.useState({totalUsers:0,verifiedUsers:0,totalTrips:0,totalArticles:0,totalSubscriptions:0,revenueThisMonth:0,userGrowth:0,verifiedGrowth:0,tripGrowth:0,chartData:[0,0,0,0,0,0,0,0,0,0,0,0]}),[l,u]=W.useState(!0);W.useEffect(()=>{d(e)},[e]);const d=async o=>{u(!0);try{const f=new URLSearchParams({range:o}),p=await fetch(`${It}/api/admin/dashboard-stats?${f}`,{credentials:"include"});if(p.ok){const m=await p.json(),x={totalUsers:m.total_users??m.totalUsers??0,verifiedUsers:m.active_users??m.verifiedUsers??0,totalTrips:m.total_trips??m.totalTrips??0,totalArticles:m.total_articles??m.totalArticles??0,totalSubscriptions:m.total_subscriptions??m.totalSubscriptions??0,revenueThisMonth:m.revenue_this_month??m.revenueThisMonth??0,userGrowth:m.user_growth??m.userGrowth??0,verifiedGrowth:m.verified_growth??m.verifiedGrowth??0,tripGrowth:m.trip_growth??m.tripGrowth??0,chartData:m.chart_data??m.chartData??[0,0,0,0,0,0,0,0,0,0,0,0]};console.log("Dashboard stats loaded:",x),a(x)}else console.error("Failed to fetch dashboard stats:",p.status)}catch(f){console.error("Error fetching dashboard stats:",f)}finally{u(!1)}},A=o=>{r(o.target.value)};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("User"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:t.jsx(Ld,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.userGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.userGrowth??0)>=0?t.jsx(j0,{size:12,className:"mr-1"}):t.jsx(w0,{size:12,className:"mr-1"}),Math.abs(n.userGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalUsers??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Total Registered Users"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("User"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:t.jsx(cp,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.verifiedGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.verifiedGrowth??0)>=0?t.jsx(j0,{size:12,className:"mr-1"}):t.jsx(w0,{size:12,className:"mr-1"}),Math.abs(n.verifiedGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.verifiedUsers??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Verified Accounts"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("Trip"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:t.jsx(nA,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.tripGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.tripGrowth??0)>=0?t.jsx(j0,{size:12,className:"mr-1"}):t.jsx(w0,{size:12,className:"mr-1"}),Math.abs(n.tripGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalTrips??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Total Trips Created"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("Info Blog"),children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:t.jsx(Td,{size:20})})}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalArticles??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Published Articles"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:t.jsx(Jb,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Revenue This Month"}),t.jsx("p",{className:"text-sm text-slate-500",children:"From premium subscriptions"})]})]}),t.jsxs("p",{className:"text-3xl font-bold text-slate-800",children:["RM ",(n.revenueThisMonth??0).toFixed(2)]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:t.jsx(Ld,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Active Subscriptions"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Premium members"})]})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-800",children:(n.totalSubscriptions??0).toLocaleString()})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"User Growth"}),t.jsxs("p",{className:"text-sm text-slate-500",children:["New signups over ",e.toLowerCase()]})]}),t.jsxs("select",{className:"text-sm border-slate-200 rounded-lg text-slate-600 focus:ring-blue-500 focus:border-blue-500 p-2 border bg-white cursor-pointer",onChange:A,value:e,children:[t.jsx("option",{children:"Last 12 Months"}),t.jsx("option",{children:"Last 30 Days"}),t.jsx("option",{children:"Last 7 Days"})]})]}),t.jsx(nK,{data:n.chartData??[0,0,0,0,0,0,0,0,0,0,0,0]})]})]})},lc={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},Fj={[lc.SUPER_ADMIN]:{label:"Super Admin",color:"text-purple-700",bgColor:"bg-purple-50 border-purple-200",icon:t.jsx(cp,{className:"w-3 h-3"})},[lc.ADMIN]:{label:"Admin",color:"text-blue-700",bgColor:"bg-blue-50 border-blue-200",icon:t.jsx(Gd,{className:"w-3 h-3"})},[lc.USER]:{label:"User",color:"text-slate-600",bgColor:"bg-slate-50 border-slate-200",icon:t.jsx(LT,{className:"w-3 h-3"})}},iK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState([]),[a,l]=W.useState(!0),[u,d]=W.useState(""),[A,o]=W.useState(1),f=10,[p,m]=W.useState(lc.ADMIN),[x,b]=W.useState(!1),[j,y]=W.useState([{value:lc.USER,label:"User",description:"Regular user"}]),[T,R]=W.useState(!1),[z,X]=W.useState(null),[Y,Q]=W.useState(!1),[K,ce]=W.useState({email:"",role:lc.USER,status:"active"}),[ue,Ne]=W.useState({isOpen:!1,user:null,type:null}),[le,Ce]=W.useState(null),[oe,je]=W.useState(null);W.useEffect(()=>{pe(),se()},[]);const Ae=(Pe,ut)=>{je({type:Pe,message:ut}),setTimeout(()=>je(null),4e3)},se=async()=>{try{const Pe=await fetch("/api/admin/available-roles");if(Pe.ok){const ut=await Pe.json();y(ut.availableRoles||[{value:lc.USER,label:"User",description:"Regular user"}]),m(ut.currentRole||lc.ADMIN),b(ut.canManageAdmins||!1)}}catch(Pe){console.error("Failed to fetch available roles:",Pe)}},pe=async()=>{try{const Pe=await fetch("/api/admin/users");if(Pe.ok){const ut=await Pe.json();e(Array.isArray(ut)?ut:ut.users||[]),ut.currentAdminRole&&m(ut.currentAdminRole),typeof ut.canManageAdmins=="boolean"&&b(ut.canManageAdmins)}else console.error("Failed to fetch users"),Ae("error","Failed to fetch user list")}catch(Pe){console.error("Error:",Pe),Ae("error","Network error")}finally{l(!1)}},re=Pe=>{const ut=(Pe==null?void 0:Pe.toLowerCase())||"user",St=Fj[ut]||Fj[lc.USER];return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border ${St.bgColor} ${St.color}`,children:[St.icon,St.label]})},Ee=(Pe,ut)=>Pe==="pending_verification"||!ut?{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",icon:t.jsx(Vi,{className:"w-3 h-3"}),label:"Pending Verification"}:Pe==="active"?{bg:"bg-green-50",text:"text-green-700",border:"border-green-200",icon:t.jsx(Bo,{className:"w-3 h-3"}),label:"Active"}:Pe==="suspended"?{bg:"bg-red-50",text:"text-red-700",border:"border-red-200",icon:t.jsx(hu,{className:"w-3 h-3"}),label:"Suspended"}:{bg:"bg-slate-50",text:"text-slate-700",border:"border-slate-200",icon:t.jsx(qo,{className:"w-3 h-3"}),label:Pe},De=Pe=>{if(!Pe)return"N/A";const ut=new Date(Pe),Is=new Date().getTime()-ut.getTime(),us=Math.floor(Is/(1e3*60*60*24));return us===0?"Today":us===1?"Yesterday":us<7?`${us} days ago`:us<30?`${Math.floor(us/7)} weeks ago`:us<365?`${Math.floor(us/30)} months ago`:ut.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},Se=async Pe=>{if(Pe.status!=="pending_verification"){Ae("error","User is already verified");return}Ce(Pe.id);try{const ut=await fetch(`/api/admin/users/${Pe.id}/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"}});if(ut.ok)Ae("success",`Verification email sent to ${Pe.email}`);else{const St=await ut.json();Ae("error",St.message||"Failed to send verification email")}}catch(ut){console.error("Error:",ut),Ae("error","Network error occurred")}finally{Ce(null)}},fe=Pe=>{var Is;const ut=(Is=Pe.role)==null?void 0:Is.toLowerCase();if(!x&&(ut===lc.ADMIN||ut===lc.SUPER_ADMIN)){Ae("error","Permission denied: Cannot delete admin users");return}const St=Pe.status==="pending_verification"?"pending":"active";Ne({isOpen:!0,user:Pe,type:St})},be=async()=>{const{user:Pe}=ue;if(Pe)try{const ut=await fetch(`/api/admin/users/${Pe.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(ut.ok)e(s.filter(St=>St.id!==Pe.id)),Ae("success",`User ${Pe.email} deleted successfully`),Ne({isOpen:!1,user:null,type:null});else{const St=await ut.json();Ae("error",St.error||"Failed to delete user")}}catch(ut){console.error("Error:",ut),Ae("error","Network error occurred")}},he=Pe=>{var St;const ut=(St=Pe.role)==null?void 0:St.toLowerCase();if(!x&&(ut===lc.ADMIN||ut===lc.SUPER_ADMIN)){Ae("error","Permission denied: Cannot edit admin users");return}X({...Pe}),R(!0)},te=async()=>{if(z)try{const Pe=await fetch(`/api/admin/users/${z.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:z.email,role:z.role,status:z.status})});if(Pe.ok){const ut=await Pe.json();e(s.map(St=>St.id===z.id?{...St,...ut}:St)),R(!1),X(null),Ae("success","User updated successfully")}else{const ut=await Pe.json();Ae("error",ut.error||"Failed to update user")}}catch(Pe){console.error("Update error:",Pe),Ae("error","Update failed due to network error")}},ge=()=>{ce({email:"",role:lc.USER,status:"active"}),Q(!0)},Le=async()=>{if(K.email)try{const Pe={email:K.email,role:K.role||lc.USER,status:K.status||"active"},ut=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Pe)});if(ut.ok){const St=await ut.json();e([St,...s]),Q(!1),ce({email:"",role:lc.USER,status:"active"}),Ae("success","User added successfully. Temporary password sent via email.")}else{const St=await ut.json();Ae("error",St.error||"Failed to add user")}}catch(Pe){console.error("Add error:",Pe),Ae("error","Network error occurred")}},Ve=()=>{const Pe=r.length>0?s.filter(Cs=>r.includes(Cs.id)):s,ut=["User ID","Email","Full Name","Role","Status","Email Verified","Last Login","Created At","Updated At","Deleted At","Is Premium","Plan Name","Plan Level","Sub End Date","Is Lifetime","Remaining Days","Stripe Customer ID","Has Google Calendar","Has Password","Has Google ID","Total Trips","Total Expenses","Total Calendar Events","Scheduler Items","Total Notifications"],St=Pe.map(Cs=>{var gr,en,Nr,er,Ys;const Bs=Es=>{if(Es==null)return"";const ft=String(Es);return ft.includes(",")?`"${ft}"`:ft},vr=Es=>Es?"Yes":"No";return[Bs(Cs.id),Bs(Cs.email),Bs(Cs.name),Bs(Cs.role),Bs(Cs.status),vr(Cs.isVerified),Bs(Cs.lastLogin),Bs(Cs.createdAt),Bs(Cs.updatedAt),Bs(Cs.deletedAt),vr(Cs.isPremium),Bs(Cs.currentPlanName),Bs(Cs.currentPlanLevel),Bs(Cs.subscriptionEndDate),vr(Cs.isLifetime),Bs(Cs.remainingDays),Bs(Cs.stripeCustomerId),vr(Cs.hasGoogleCalendar),vr(Cs.hasPassword),vr(Cs.hasGoogleId),Bs(((gr=Cs.relatedData)==null?void 0:gr.trips)||0),Bs(((en=Cs.relatedData)==null?void 0:en.expenses)||0),Bs(((Nr=Cs.relatedData)==null?void 0:Nr.calendarEvents)||0),Bs(((er=Cs.relatedData)==null?void 0:er.schedulerItems)||0),Bs(((Ys=Cs.relatedData)==null?void 0:Ys.notifications)||0)].join(",")}).join(`
`),Is=`${ut.join(",")}
${St}`,us=new Blob([Is],{type:"text/csv;charset=utf-8;"}),br=URL.createObjectURL(us),hr=document.createElement("a");hr.href=br;const ar=r.length>0?"selected":"full_database",Fs=new Date().toISOString().split("T")[0];hr.setAttribute("download",`gogotrip_users_${ar}_${Fs}.csv`),document.body.appendChild(hr),hr.click(),document.body.removeChild(hr),Ae("success",`Export completed (${Pe.length} records)`)},kt=Pe=>{o(Pe)},Bt=()=>{r.length===ls.length?n([]):n(ls.map(Pe=>Pe.id))},We=Pe=>{r.includes(Pe)?n(r.filter(ut=>ut!==Pe)):n([...r,Pe])},Lt=s.filter(Pe=>Pe.email.toLowerCase().includes(u.toLowerCase())||Pe.role.toLowerCase().includes(u.toLowerCase())||Pe.status.toLowerCase().includes(u.toLowerCase())),$t=Math.ceil(Lt.length/f),ls=Lt.slice((A-1)*f,A*f),Ts=Pe=>{var St;if(x)return!0;const ut=(St=Pe.role)==null?void 0:St.toLowerCase();return ut!==lc.ADMIN&&ut!==lc.SUPER_ADMIN};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(cd,{className:"w-8 h-8 text-blue-500 animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[oe&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg animate-in slide-in-from-right duration-300 ${oe.type==="success"?"bg-green-50 border border-green-200 text-green-800":oe.type==="error"?"bg-red-50 border border-red-200 text-red-800":oe.type==="info"?"bg-blue-50 border border-blue-200 text-blue-800":"bg-amber-50 border border-amber-200 text-amber-800"}`,children:[oe.type==="success"&&t.jsx(uo,{className:"w-5 h-5"}),oe.type==="error"&&t.jsx(Ia,{className:"w-5 h-5"}),oe.type==="warning"&&t.jsx(qo,{className:"w-5 h-5"}),oe.type==="info"&&t.jsx(El,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium",children:oe.message}),t.jsx("button",{onClick:()=>je(null),children:t.jsx(qr,{className:"w-4 h-4 opacity-60 hover:opacity-100"})})]}),t.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border ${x?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:[x?t.jsx(cp,{className:"w-5 h-5 text-purple-600"}):t.jsx(Gd,{className:"w-5 h-5 text-blue-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:`text-sm font-medium ${x?"text-purple-800":"text-blue-800"}`,children:x?"Super Admin Access":"Admin Access"}),t.jsx("span",{className:`text-sm ml-2 ${x?"text-purple-600":"text-blue-600"}`,children:x?" You can view and manage all users including other admins":" You can only view and manage regular users"})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${x?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:p})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"User Management"}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[Lt.length," ",Lt.length===1?"user":"users"," found",!x&&" (regular users only)"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:Ve,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50 flex items-center gap-2",children:[t.jsx(Xp,{size:16}),"Export ",r.length>0?`(${r.length})`:"All"]}),t.jsxs("button",{onClick:ge,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2",children:[t.jsx($i,{size:16}),"Add User"]})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Search by email, role, or status...",value:u,onChange:Pe=>{d(Pe.target.value),o(1)},className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[t.jsx("th",{className:"px-4 py-3 text-left",children:t.jsx("input",{type:"checkbox",checked:r.length===ls.length&&ls.length>0,onChange:Bt,className:"rounded border-slate-300"})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Role"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Created"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:ls.map(Pe=>{const ut=Ee(Pe.status,Pe.isVerified??!0),St=Ts(Pe);return t.jsxs("tr",{className:`hover:bg-slate-50/50 transition-colors ${St?"":"bg-slate-50/30"}`,children:[t.jsx("td",{className:"px-4 py-4",children:t.jsx("input",{type:"checkbox",checked:r.includes(Pe.id),onChange:()=>We(Pe.id),className:"rounded border-slate-300"})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-medium text-sm",children:Pe.email.charAt(0).toUpperCase()}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-800",children:Pe.email}),t.jsxs("div",{className:"text-xs text-slate-400",children:["ID: ",Pe.id]})]})]})}),t.jsx("td",{className:"px-4 py-4",children:re(Pe.role)}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border ${ut.bg} ${ut.text} ${ut.border}`,children:[ut.icon,ut.label]}),Pe.status==="pending_verification"&&t.jsxs("button",{onClick:()=>Se(Pe),disabled:le===Pe.id,className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 disabled:opacity-50",children:[le===Pe.id?t.jsx(cd,{className:"w-3 h-3 animate-spin"}):t.jsx(Xd,{className:"w-3 h-3"}),"Resend Email"]})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-500",children:[t.jsx(co,{className:"w-3.5 h-3.5"}),De(Pe.createdAt)]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("div",{className:"flex items-center justify-end gap-1",children:St?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>he(Pe),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit user",children:t.jsx(ex,{size:16})}),t.jsx("button",{onClick:()=>fe(Pe),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete user",children:t.jsx(Zo,{size:16})})]}):t.jsx("span",{className:"text-xs text-slate-400 px-2 py-1 bg-slate-100 rounded",children:"Protected"})})})]},Pe.id)})})]})}),$t>1&&t.jsxs("div",{className:"px-4 py-3 border-t border-slate-200 flex items-center justify-between bg-slate-50/50",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing ",(A-1)*f+1," to ",Math.min(A*f,Lt.length)," of ",Lt.length]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>kt(A-1),disabled:A===1,className:"px-3 py-1 text-sm border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-100",children:"Previous"}),Array.from({length:Math.min(5,$t)},(Pe,ut)=>{let St;return $t<=5||A<=3?St=ut+1:A>=$t-2?St=$t-4+ut:St=A-2+ut,t.jsx("button",{onClick:()=>kt(St),className:`px-3 py-1 text-sm border rounded-lg ${A===St?"bg-blue-600 text-white border-blue-600":"border-slate-200 hover:bg-slate-100"}`,children:St},St)}),t.jsx("button",{onClick:()=>kt(A+1),disabled:A===$t,className:"px-3 py-1 text-sm border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-100",children:"Next"})]})]})]}),ue.isOpen&&ue.user&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:`p-6 flex items-start gap-4 ${ue.type==="active"?"bg-red-50":"bg-amber-50"}`,children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${ue.type==="active"?"bg-red-100 text-red-600":"bg-amber-100 text-amber-600"}`,children:ue.type==="active"?t.jsx(QE,{size:20}):t.jsx(qo,{size:20})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:ue.type==="active"?"Delete Active User?":"Delete Pending User?"}),t.jsx("p",{className:"text-sm text-slate-600",children:ue.type==="active"?"This user has an active account with data. This action cannot be undone.":"This user has not completed email verification yet."})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"You are about to delete:"}),t.jsx("div",{className:"font-medium text-slate-900",children:ue.user.email}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Status: ",ue.user.status," | Role: ",ue.user.role]})]}),ue.type==="active"&&t.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Ia,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("div",{className:"font-medium mb-1",children:"Warning: Active User"}),t.jsx("div",{className:"text-xs text-red-700",children:"This will permanently delete all associated data including trips, expenses, and scheduler items. Consider suspending instead of deleting."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>Ne({isOpen:!1,user:null,type:null}),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:be,className:`px-4 py-2 rounded-lg text-sm font-medium text-white flex items-center gap-2 ${ue.type==="active"?"bg-red-600 hover:bg-red-700":"bg-amber-600 hover:bg-amber-700"}`,children:[t.jsx(Zo,{size:16}),ue.type==="active"?"Delete User":"Delete Pending User"]})]})]})}),T&&z&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Edit User"}),t.jsx("button",{onClick:()=>R(!1),children:t.jsx(qr,{size:20,className:"text-slate-400"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",value:z.email,onChange:Pe=>X({...z,email:Pe.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),t.jsx("select",{value:z.role,onChange:Pe=>X({...z,role:Pe.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:j.map(Pe=>t.jsx("option",{value:Pe.value,children:Pe.label},Pe.value))}),!x&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Only super_admin can assign admin roles"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:z.status,onChange:Pe=>X({...z,status:Pe.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending_verification",children:"Pending Verification"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})]}),t.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:te,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2",children:[t.jsx(QA,{size:16})," Save Changes"]})]})]})}),Y&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Add New User"}),t.jsx("button",{onClick:()=>Q(!1),children:t.jsx(qr,{size:20,className:"text-slate-400"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",placeholder:"e.g. user@example.com",value:K.email,onChange:Pe=>ce({...K,email:Pe.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),t.jsx("select",{value:K.role,onChange:Pe=>ce({...K,role:Pe.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:j.map(Pe=>t.jsx("option",{value:Pe.value,children:Pe.label},Pe.value))}),!x&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Only super_admin can create admin users"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:K.status,onChange:Pe=>ce({...K,status:Pe.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending_verification",children:"Pending Verification"})]})]})]}),t.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Xd,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-blue-800",children:[t.jsx("div",{className:"font-medium mb-1",children:"Automatic Email"}),t.jsx("div",{className:"text-xs text-blue-700",children:"A temporary password will be automatically generated and sent to the user's email."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:Le,disabled:!K.email,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed flex items-center gap-2",children:[t.jsx($i,{size:16})," Create User"]})]})]})})]})},oK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(""),[u,d]=W.useState(1),A=10,[o,f]=W.useState(null),[p,m]=W.useState(null);W.useEffect(()=>{b()},[]);const x=(X,Y)=>{f({type:X,message:Y}),setTimeout(()=>f(null),3e3)},b=async()=>{try{const X=await fetch("/api/admin/email_verifications");if(X.ok){const Y=await X.json();e(Y)}}catch(X){console.error("Error fetching data:",X),x("error","Failed to fetch data")}finally{n(!1)}},j=X=>{m(X)},y=async()=>{if(p)try{(await fetch(`/api/admin/email_verifications/${p}`,{method:"DELETE"})).ok?(e(s.filter(Y=>Y.id!==p)),x("success","Record deleted successfully")):x("error","Failed to delete record")}catch(X){console.error(X),x("error","An error occurred")}finally{m(null)}},T=s.filter(X=>X.email.toLowerCase().includes(a.toLowerCase())||X.code.includes(a)),R=Math.ceil(T.length/A),z=T.slice((u-1)*A,u*A);return r?t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-10 flex justify-center items-center h-full min-h-[400px]",children:t.jsx("div",{className:"text-slate-500 animate-pulse",children:"Loading verification data..."})}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[o&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${o.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${o.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:o.type==="success"?t.jsx(Bo,{size:18}):t.jsx(hu,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:o.message}),t.jsx("button",{onClick:()=>f(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Email Verifications"}),t.jsx("p",{className:"text-sm text-slate-500",children:"View and manage OTP codes."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search email...",className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64",value:a,onChange:X=>l(X.target.value)}),t.jsx(Kc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsx("button",{onClick:b,className:"p-2 border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-600",children:t.jsx(cd,{size:16})})]})]}),t.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:[t.jsx("th",{className:"p-4",children:"ID"}),t.jsx("th",{className:"p-4",children:"Email Address"}),t.jsx("th",{className:"p-4",children:"Code"}),t.jsx("th",{className:"p-4",children:"Status"}),t.jsx("th",{className:"p-4",children:"Created / Expires"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:z.map(X=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4 text-slate-500",children:["#",X.id]}),t.jsxs("td",{className:"p-4 font-medium text-slate-800 flex items-center gap-2",children:[t.jsx(Xd,{size:14,className:"text-slate-400"})," ",X.email]}),t.jsx("td",{className:"p-4 font-mono text-slate-600 bg-slate-50 w-fit px-2 rounded border border-slate-100",children:X.code}),t.jsx("td",{className:"p-4",children:X.is_verified?t.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 bg-green-50 px-2 py-1 rounded-full text-xs font-medium",children:[t.jsx(Bo,{size:12})," Verified"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-slate-500 bg-slate-100 px-2 py-1 rounded-full text-xs font-medium",children:[t.jsx(hu,{size:12})," Pending"]})}),t.jsxs("td",{className:"p-4 text-xs text-slate-500",children:[t.jsxs("div",{children:["C: ",new Date(X.created_at).toLocaleString()]}),t.jsxs("div",{className:"text-red-400",children:["E: ",new Date(X.expires_at).toLocaleString()]})]}),t.jsx("td",{className:"p-4 text-right",children:t.jsx("button",{onClick:()=>j(X.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete",children:t.jsx(Zo,{size:16})})})]},X.id))})]})}),t.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end gap-2",children:[t.jsx("button",{disabled:u===1,onClick:()=>d(X=>X-1),className:"px-3 py-1 border rounded disabled:opacity-50 hover:bg-slate-50 transition-colors",children:"Prev"}),t.jsxs("span",{className:"px-3 py-1 text-sm text-slate-500",children:["Page ",u," of ",R]}),t.jsx("button",{disabled:u===R,onClick:()=>d(X=>X+1),className:"px-3 py-1 border rounded disabled:opacity-50 hover:bg-slate-50 transition-colors",children:"Next"})]}),p&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(qo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Verification?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this verification record? This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>m(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:y,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})})]})},lK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(""),[u,d]=W.useState(!1),[A,o]=W.useState("select"),[f,p]=W.useState(null),[m,x]=W.useState(""),[b,j]=W.useState([]),[y,T]=W.useState(!1),[R,z]=W.useState(null),[X,Y]=W.useState(!1),Q=W.useRef(null),[K,ce]=W.useState({name:"",address:"",rating:"",phone:"",website:"",price_level:"",lat:"",lng:""}),[ue,Ne]=W.useState(!1),[le,Ce]=W.useState(null),[oe,je]=W.useState(null);W.useEffect(()=>{se()},[]),W.useEffect(()=>{if(A!=="google"||m.length<2){j([]);return}return Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{pe(m)},400),()=>{Q.current&&clearTimeout(Q.current)}},[m,A]);const Ae=(ge,Le)=>{Ce({type:ge,message:Le}),setTimeout(()=>Ce(null),3500)},se=async()=>{try{const ge=await fetch(`/api/admin/places?t=${Date.now()}`);if(ge.ok){const Le=await ge.json();e(Le.places||Le)}}catch(ge){console.error(ge),Ae("error","Failed to load places")}finally{n(!1)}},pe=async ge=>{T(!0);try{const Le=await fetch(`/api/admin/places/google/search?q=${encodeURIComponent(ge)}`);if(Le.ok){const Ve=await Le.json();j(Ve)}}catch(Le){console.error(Le)}finally{T(!1)}},re=async()=>{if(R){Y(!0);try{const ge=await fetch("/api/admin/places/google/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({place_id:R.place_id})}),Le=await ge.json();ge.ok?(Ae("success",Le.is_new?"Place imported successfully!":"Place already exists"),be(),se()):Ae("error",Le.error||"Import failed")}catch{Ae("error","Network error during import")}finally{Y(!1)}}},Ee=ge=>{var Le,Ve,kt;p(ge),o("manual"),ce({name:ge.name,address:ge.address,rating:((Le=ge.rating)==null?void 0:Le.toString())||"",phone:ge.phone||"",website:ge.website||"",price_level:ge.price_level||"",lat:((Ve=ge.coordinates)==null?void 0:Ve.lat.toString())||"",lng:((kt=ge.coordinates)==null?void 0:kt.lng.toString())||""}),d(!0)},De=async()=>{if(f){if(!K.name.trim()||!K.address.trim()){Ae("error","Name and Address are required");return}Ne(!0);try{const ge={name:K.name.trim(),address:K.address.trim(),is_manual:!0,rating:K.rating?parseFloat(K.rating):null,phone:K.phone?K.phone.trim():null,website:K.website?K.website.trim():null,price_level:K.price_level||null};K.lat&&K.lng&&(ge.coordinates={lat:parseFloat(K.lat),lng:parseFloat(K.lng)});const Le=await fetch(`/api/admin/places/${f.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)});if(Le.ok)Ae("success","Place updated successfully!"),be(),se();else{const Ve=await Le.json();Ae("error",Ve.error||"Update failed")}}catch{Ae("error","Network error")}finally{Ne(!1)}}},Se=async()=>{if(!K.name.trim()||!K.address.trim()){Ae("error","Name and Address are required");return}Ne(!0);try{const ge={name:K.name.trim(),address:K.address.trim(),is_manual:!0};K.rating&&(ge.rating=parseFloat(K.rating)),K.phone&&(ge.phone=K.phone.trim()),K.website&&(ge.website=K.website.trim()),K.price_level&&(ge.price_level=K.price_level),K.lat&&K.lng&&(ge.coordinates={lat:parseFloat(K.lat),lng:parseFloat(K.lng)});const Le=await fetch("/api/admin/places/manual",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)}),Ve=await Le.json();Le.ok?(Ae("success","Place created successfully!"),be(),se()):Ae("error",Ve.error||"Creation failed")}catch{Ae("error","Network error")}finally{Ne(!1)}},fe=async()=>{if(oe)try{(await fetch(`/api/admin/places/${oe}`,{method:"DELETE"})).ok?(e(s.filter(Le=>Le.id!==oe)),Ae("success","Place deleted successfully")):Ae("error","Failed to delete place")}catch{Ae("error","Network error")}finally{je(null)}},be=()=>{d(!1),o("select"),p(null),x(""),j([]),z(null),ce({name:"",address:"",rating:"",phone:"",website:"",price_level:"",lat:"",lng:""})},he=ge=>({"Food & Drink":"bg-orange-100 text-orange-700",Accommodation:"bg-purple-100 text-purple-700",Culture:"bg-indigo-100 text-indigo-700",Nature:"bg-emerald-100 text-emerald-700",Shopping:"bg-pink-100 text-pink-700",Landmark:"bg-amber-100 text-amber-700"})[ge||""]||"bg-slate-100 text-slate-600",te=s.filter(ge=>{var Le,Ve;return((Le=ge.name)==null?void 0:Le.toLowerCase().includes(a.toLowerCase()))||((Ve=ge.address)==null?void 0:Ve.toLowerCase().includes(a.toLowerCase()))});return r?t.jsx("div",{className:"flex items-center justify-center h-64 bg-white rounded-xl border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Fr,{className:"w-8 h-8 animate-spin text-blue-500"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"Loading places..."})]})}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[le&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${le.type==="success"?"bg-white border-emerald-200 text-emerald-800":"bg-white border-red-200 text-red-800"}`,children:[t.jsx("div",{className:`p-1.5 rounded-full ${le.type==="success"?"bg-emerald-100":"bg-red-100"}`,children:le.type==="success"?t.jsx(Bo,{size:16}):t.jsx(Ia,{size:16})}),t.jsx("p",{className:"text-sm font-medium",children:le.message}),t.jsx("button",{onClick:()=>Ce(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:14})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center gap-4 bg-gradient-to-r from-slate-50 to-white",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[t.jsx(a5,{size:20,className:"text-blue-600"}),"Places Management"]}),t.jsxs("p",{className:"text-sm text-slate-500 mt-0.5",children:[s.length," destinations in database"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search places...",className:"pl-9 pr-4 py-2.5 w-64 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",value:a,onChange:ge=>l(ge.target.value)}),t.jsx(Kc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white text-sm font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 flex items-center gap-2 transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:[t.jsx($i,{size:16,strokeWidth:2.5})," Add Place"]})]})]}),t.jsx("div",{className:"overflow-x-auto flex-1",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50/80 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase tracking-wide",children:[t.jsx("th",{className:"p-4",children:"Place Name"}),t.jsx("th",{className:"p-4",children:"Address"}),t.jsx("th",{className:"p-4",children:"Category"}),t.jsx("th",{className:"p-4",children:"Rating"}),t.jsx("th",{className:"p-4",children:"Source"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:te.length===0?t.jsx("tr",{children:t.jsxs("td",{colSpan:6,className:"p-12 text-center text-slate-400",children:[t.jsx(Jo,{size:32,className:"mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No places found"})]})}):te.map(ge=>{var Le;return t.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[t.jsx("td",{className:"p-4",children:t.jsx("span",{className:"font-medium text-slate-800",children:ge.name})}),t.jsx("td",{className:"p-4 text-slate-500 max-w-xs",children:t.jsxs("div",{className:"flex items-center gap-2 truncate",children:[t.jsx(Jo,{size:13,className:"shrink-0 text-slate-400"}),t.jsx("span",{className:"truncate",children:ge.address})]})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${he(ge.category)}`,children:ge.category||"General"})}),t.jsx("td",{className:"p-4",children:ge.rating?t.jsxs("div",{className:"flex items-center gap-1.5 text-amber-500 font-medium",children:[t.jsx(tA,{size:13,fill:"currentColor"}),t.jsx("span",{children:ge.rating.toFixed(1)})]}):t.jsx("span",{className:"text-slate-300",children:""})}),t.jsx("td",{className:"p-4",children:ge.is_manual===!0||(Le=ge.google_place_id)!=null&&Le.startsWith("manual_")?t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded",children:[t.jsx(vw,{size:11})," Manual"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:[t.jsx(hm,{size:11})," Google"]})}),t.jsx("td",{className:"p-4 text-right",children:t.jsxs("div",{className:"flex justify-end gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>Ee(ge),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:t.jsx(ex,{size:14})}),t.jsx("button",{onClick:()=>je(ge.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:t.jsx(Zo,{size:14})})]})})]},ge.id)})})]})}),oe&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-14 h-14 bg-red-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(qo,{size:26,className:"text-red-600"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Place?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This action cannot be undone. The place will be permanently removed."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>je(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:fe,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all",children:"Delete"})]})]})})}),u&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:f?"Edit Place":"Add New Place"}),t.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:f?"Update place details manually":"Choose how you want to add a place"})]}),t.jsx("button",{onClick:be,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-white/80 rounded-lg transition-all",children:t.jsx(qr,{size:20})})]}),A==="select"&&!f&&t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>o("google"),className:"group relative p-5 rounded-xl border-2 border-slate-200 hover:border-blue-400 hover:bg-blue-50/50 transition-all text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center mb-4 shadow-lg shadow-blue-500/25",children:t.jsx(hm,{size:22,className:"text-white"})}),t.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Google Places"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Search and import from Google Maps with full details"}),t.jsx(hc,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]}),t.jsxs("button",{onClick:()=>o("manual"),className:"group relative p-5 rounded-xl border-2 border-slate-200 hover:border-emerald-400 hover:bg-emerald-50/50 transition-all text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center mb-4 shadow-lg shadow-emerald-500/25",children:t.jsx(vw,{size:22,className:"text-white"})}),t.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Manual Entry"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Enter place details manually without API"}),t.jsx(hc,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 group-hover:text-emerald-500 group-hover:translate-x-1 transition-all"})]})]})}),A==="google"&&t.jsxs("div",{className:"p-6",children:[t.jsx("button",{onClick:()=>o("select"),className:"text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1 mb-4",children:" Back to options"}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx("input",{type:"text",placeholder:"Search Google Places...",value:m,onChange:ge=>x(ge.target.value),className:"w-full pl-11 pr-4 py-3 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0}),y?t.jsx(Fr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500 animate-spin"}):t.jsx(Kc,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsxs("div",{className:"max-h-72 overflow-y-auto space-y-2",children:[b.length===0&&m.length>=2&&!y&&t.jsx("p",{className:"text-center text-slate-400 py-8 text-sm",children:"No results found"}),b.map(ge=>t.jsx("button",{onClick:()=>z(ge),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${(R==null?void 0:R.place_id)===ge.place_id?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300 hover:bg-slate-50"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${(R==null?void 0:R.place_id)===ge.place_id?"bg-blue-500 text-white":"bg-slate-100 text-slate-500"}`,children:t.jsx(Jo,{size:18})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h5",{className:"font-medium text-slate-800 truncate",children:ge.name}),t.jsx("p",{className:"text-sm text-slate-500 truncate",children:ge.address}),t.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[ge.rating&&t.jsxs("span",{className:"flex items-center gap-1 text-xs text-amber-600",children:[t.jsx(tA,{size:11,fill:"currentColor"})," ",ge.rating]}),ge.types[0]&&t.jsx("span",{className:"text-xs text-slate-400",children:ge.types[0].replace(/_/g," ")})]})]}),(R==null?void 0:R.place_id)===ge.place_id&&t.jsx(Bo,{size:20,className:"text-blue-500 shrink-0"})]})},ge.place_id))]}),R&&t.jsx("button",{onClick:re,disabled:X,className:"mt-4 w-full py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg shadow-blue-500/25 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:X?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{size:18,className:"animate-spin"}),"Importing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ao,{size:18}),'Import "',R.name,'"']})})]}),A==="manual"&&t.jsxs("div",{className:"p-6",children:[!f&&t.jsx("button",{onClick:()=>o("select"),className:"text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1 mb-4",children:" Back to options"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Place Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",placeholder:"e.g. Petronas Twin Towers",value:K.name,onChange:ge=>ce({...K,name:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",placeholder:"Full address",value:K.address,onChange:ge=>ce({...K,address:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Rating"}),t.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",placeholder:"0.0 - 5.0",value:K.rating,onChange:ge=>ce({...K,rating:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Price Level"}),t.jsxs("select",{value:K.price_level,onChange:ge=>ce({...K,price_level:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all bg-white",children:[t.jsx("option",{value:"",children:"Select..."}),t.jsx("option",{value:"Free",children:"Free"}),t.jsx("option",{value:"$",children:"$ Budget"}),t.jsx("option",{value:"$$",children:"$$ Moderate"}),t.jsx("option",{value:"$$$",children:"$$$ Expensive"}),t.jsx("option",{value:"$$$$",children:"$$$$ Luxury"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Phone"}),t.jsx("input",{type:"tel",placeholder:"+60 12-345 6789",value:K.phone,onChange:ge=>ce({...K,phone:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Website"}),t.jsx("input",{type:"url",placeholder:"https://...",value:K.website,onChange:ge=>ce({...K,website:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Coordinates ",t.jsx("span",{className:"text-slate-400 font-normal",children:"(optional)"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("input",{type:"number",step:"any",placeholder:"Latitude",value:K.lat,onChange:ge=>ce({...K,lat:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"}),t.jsx("input",{type:"number",step:"any",placeholder:"Longitude",value:K.lng,onChange:ge=>ce({...K,lng:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]})]}),t.jsx("button",{onClick:f?De:Se,disabled:ue||!K.name.trim()||!K.address.trim(),className:"mt-2 w-full py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-700 hover:to-teal-700 transition-all shadow-lg shadow-emerald-500/25 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ue?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{size:18,className:"animate-spin"}),f?"Updating...":"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(QA,{size:18}),f?"Update Place":"Save Place"]})})]})]})]})})]})},cK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0);return W.useEffect(()=>{fetch("/api/admin/trip_items").then(a=>a.ok?a.json():[]).then(a=>e(a)).catch(console.error).finally(()=>n(!1))},[]),r?t.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading itinerary items..."}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full",children:[t.jsxs("div",{className:"p-5 border-b border-slate-200",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Trip Itinerary Items"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Granular view of all scheduled activities."})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase",children:[t.jsx("th",{className:"p-4",children:"Item ID"}),t.jsx("th",{className:"p-4",children:"Trip Ref"}),t.jsx("th",{className:"p-4",children:"Place / Activity"}),t.jsx("th",{className:"p-4",children:"Timing"}),t.jsx("th",{className:"p-4",children:"Notes"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:s.map(a=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4 text-slate-400",children:["#",a.id]}),t.jsx("td",{className:"p-4",children:t.jsxs("span",{className:"flex items-center gap-1 text-blue-600 hover:underline cursor-pointer",children:[t.jsx(op,{size:12})," Trip #",a.trip_id]})}),t.jsxs("td",{className:"p-4 font-medium text-slate-800 flex items-center gap-2",children:[t.jsx(Jo,{size:14,className:"text-purple-500"})," ",a.place_name]}),t.jsxs("td",{className:"p-4 text-slate-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Vi,{size:12})," Day ",a.day_number]}),t.jsxs("div",{className:"text-xs text-slate-400",children:["Order: ",a.order_index]})]}),t.jsx("td",{className:"p-4 text-slate-500 italic truncate max-w-xs",children:a.notes||"-"})]},a.id))})]})})]})},dK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(""),[u,d]=W.useState(null),[A,o]=W.useState(null);W.useEffect(()=>{(async()=>{try{const j=await fetch("/api/admin/trips");j.ok&&e(await j.json())}catch(j){console.error(j)}finally{n(!1)}})()},[]);const f=(b,j)=>{d({type:b,message:j}),setTimeout(()=>d(null),3e3)},p=b=>{o(b)},m=async()=>{if(A)try{e(s.filter(b=>b.id!==A)),f("success","Trip deleted successfully")}catch{f("error","Failed to delete trip")}finally{o(null)}},x=s.filter(b=>b.title.toLowerCase().includes(a.toLowerCase()));return r?t.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading trips..."}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[u&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${u.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${u.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:u.type==="success"?t.jsx(Bo,{size:18}):t.jsx(Ia,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:u.message}),t.jsx("button",{onClick:()=>d(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Trips"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Overview of user travel plans."})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search trips...",className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:a,onChange:b=>l(b.target.value)}),t.jsx(Kc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase",children:[t.jsx("th",{className:"p-4",children:"Trip Details"}),t.jsx("th",{className:"p-4",children:"User"}),t.jsx("th",{className:"p-4",children:"Dates"}),t.jsx("th",{className:"p-4",children:"Status"}),t.jsx("th",{className:"p-4",children:"Est. Budget"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:x.map(b=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4",children:[t.jsx("div",{className:"font-bold text-slate-800",children:b.title}),t.jsxs("div",{className:"text-xs text-slate-400",children:["ID: #",b.id]})]}),t.jsxs("td",{className:"p-4 text-slate-600 flex items-center gap-2",children:[t.jsx(Xo,{size:14,className:"text-slate-400"})," ",b.user_email]}),t.jsxs("td",{className:"p-4 text-slate-500 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(co,{size:12})," ",b.start_date]}),t.jsxs("div",{className:"pl-4",children:["to ",b.end_date]})]}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.status==="Completed"?"bg-green-100 text-green-700":b.status==="Cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:b.status})}),t.jsxs("td",{className:"p-4 font-mono text-slate-600",children:["$",b.total_expenses]}),t.jsxs("td",{className:"p-4 text-right",children:[t.jsx("button",{className:"text-slate-400 hover:text-blue-600 p-1 mr-1 transition-colors",children:t.jsx(io,{size:16})}),t.jsx("button",{onClick:()=>p(b.id),className:"text-slate-400 hover:text-red-600 p-1 transition-colors",children:t.jsx(Zo,{size:16})})]})]},b.id))})]})}),A&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(qo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Trip?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this trip? This will remove all associated itinerary items and expenses."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>o(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:m,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})})]})},uK=({user:s,onUpdateUser:e})=>{const[r,n]=W.useState({name:s.name,email:s.email||"alex.chen@example.com",avatarUrl:s.avatarUrl}),[a,l]=W.useState({currentPassword:"",newPassword:""}),[u,d]=W.useState("idle"),[A,o]=W.useState(""),[f,p]=W.useState(!0),[m,x]=W.useState(!0),[b,j]=W.useState(null),[y,T]=W.useState(!1),[R,z]=W.useState(!1),[X,Y]=W.useState(null),Q=W.useRef(null),K=(le,Ce)=>{Y({type:le,message:Ce}),setTimeout(()=>Y(null),3e3)},ce=async()=>{if(!a.currentPassword||!a.newPassword){d("error"),o("Please fill in both fields.");return}d("loading");try{const le=await fetch(`${It}/auth/change-password`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}),Ce=await le.json();le.ok&&Ce.status==="success"?(d("success"),o("Password changed successfully!"),l({currentPassword:"",newPassword:""}),setTimeout(()=>{d("idle"),o("")},3e3),K("success","Password updated successfully")):(d("error"),o(Ce.message||"Failed to update password."))}catch{d("error"),o("Network error.")}},ue=le=>{var oe;const Ce=(oe=le.target.files)==null?void 0:oe[0];if(Ce){if(Ce.size>1048576){K("error","File is too large! Please upload an image smaller than 1MB."),le.target.value="";return}j(Ce);const Ae=new FileReader;Ae.onloadend=()=>{n(se=>({...se,avatarUrl:Ae.result}))},Ae.readAsDataURL(Ce)}},Ne=async()=>{T(!0);try{const le=new FormData;le.append("name",r.name),b&&le.append("avatar",b);const Ce=await fetch(`${It}/user/update-profile`,{method:"PUT",headers:{},credentials:"include",body:le}),oe=await Ce.json();Ce.ok?(z(!0),K("success","Profile updated successfully!"),setTimeout(()=>z(!1),3e3),oe.user&&e(oe.user),j(null)):K("error",oe.message||"Update failed")}catch(le){console.error("Upload error:",le),K("error","Network error occurred")}finally{T(!1)}};return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-4xl mx-auto animate-fade-in-up relative",children:[X&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${X.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${X.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:X.type==="success"?t.jsx(uo,{size:18}):t.jsx(Ia,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:X.message}),t.jsx("button",{onClick:()=>Y(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(Xo,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"General Settings"})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-10 pb-10 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var le;return(le=Q.current)==null?void 0:le.click()},children:[t.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white dark:border-slate-800 shadow-xl ring-2 ring-slate-100 dark:ring-slate-700",children:t.jsx("img",{src:r.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx(Yg,{className:"w-8 h-8 text-white"})}),t.jsx("input",{type:"file",ref:Q,className:"hidden",accept:"image/*",onChange:ue})]}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Profile Photo"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 mb-4",children:"Click the image to upload a new photo. JPG, GIF or PNG."}),t.jsx("button",{onClick:()=>{var le;return(le=Q.current)==null?void 0:le.click()},className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Change Photo"})]})]}),t.jsxs("div",{className:"space-y-6 max-w-2xl",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Personal Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:r.name,onChange:le=>n({...r,name:le.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",value:r.email,onChange:le=>n({...r,email:le.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:"Security"}),s.authProvider==="google"||!s.email?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 flex items-center gap-3 text-slate-500 border border-slate-200 dark:border-slate-700",children:[t.jsx(Gd,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm",children:"You are logged in via Google. Password change is not applicable."})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ud,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"",value:a.currentPassword,onChange:le=>l({...a,currentPassword:le.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ud,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Min 8 characters",value:a.newPassword,onChange:le=>l({...a,newPassword:le.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[u==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:A}),u==="success"&&t.jsx("p",{className:"text-xs font-bold text-emerald-500",children:A})]}),t.jsx("button",{onClick:ce,disabled:u==="loading",className:"px-5 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-white rounded-xl text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-600 transition-all shadow-sm flex items-center gap-2",children:u==="loading"?t.jsx(Fr,{className:"w-3 h-3 animate-spin"}):"Update Password"})]})]})]}),t.jsx("div",{className:"pt-6 mt-6 flex justify-end",children:t.jsxs("button",{onClick:Ne,disabled:y,className:"px-8 py-3 bg-gradient-to-r from-sky-500 to-indigo-600 hover:from-sky-600 hover:to-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-sky-500/20 transition-all flex items-center gap-2 active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed",children:[y?t.jsx(Fr,{className:"w-5 h-5 animate-spin"}):R?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(QA,{className:"w-5 h-5"}),R?"Saved":y?"Saving...":"Save Changes"]})})]})]})]})},AK=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,a]=W.useState(!0),[l,u]=W.useState(""),[d,A]=W.useState(!1),[o,f]=W.useState(null),[p,m]=W.useState(""),[x,b]=W.useState(null),[j,y]=W.useState(null),[T,R]=W.useState(null),[z,X]=W.useState({title:"",category:"",status:"Published",content:"",coverImage:null}),Y=["Travel Tips","Destinations","Food & Dining","Accommodation","Events & News","Safety Guides"],Q=(Ee,De)=>{y({message:Ee,type:De}),setTimeout(()=>y(null),3e3)},K=async()=>{try{const Ee=await fetch("/api/articles/list");if(Ee.ok){const De=await Ee.json();r(De)}}catch(Ee){console.error("Failed to fetch articles",Ee),Q("Failed to load articles","error")}finally{a(!1)}};W.useEffect(()=>{K()},[]);const ce=Ee=>{const{name:De,value:Se}=Ee.target;X(fe=>({...fe,[De]:Se}))},ue=Ee=>{X(De=>({...De,content:Ee}))},Ne=Ee=>{Ee.target.files&&Ee.target.files[0]&&X(De=>({...De,coverImage:Ee.target.files[0]}))},le=()=>{f(null),b(null),X({title:"",category:"",status:"Published",content:"",coverImage:null}),A(!0)},Ce=Ee=>{f(Ee.id),b(Ee.coverImage),X({title:Ee.title,category:Ee.category,status:Ee.status,content:Ee.content||"",coverImage:null}),A(!0)},oe=Ee=>{R(Ee)},je=async()=>{if(T)try{(await fetch(`/api/articles/${T}`,{method:"DELETE"})).ok?(Q("Article deleted successfully","success"),K()):Q("Failed to delete article","error")}catch(Ee){console.error("Error deleting:",Ee),Q("Error occurred while deleting","error")}finally{R(null)}},Ae=async Ee=>{Ee.preventDefault();const De=new FormData;De.append("title",z.title),De.append("category",z.category),De.append("status",z.status),De.append("content",z.content),z.coverImage&&De.append("coverImage",z.coverImage);try{const Se=o?`/api/articles/${o}`:"/api/articles/create",be=await fetch(Se,{method:o?"PUT":"POST",body:De}),he=await be.json();be.ok?(Q(o?"Article Updated!":"Article Created!","success"),A(!1),K(),f(null),X({title:"",category:"",status:"Published",content:"",coverImage:null})):Q(he.message||"Operation failed","error")}catch(Se){console.error("Error saving article",Se),Q("Network error occurred","error")}},se=e.filter(Ee=>{var fe,be;const De=((fe=Ee.title)==null?void 0:fe.toLowerCase().includes(p.toLowerCase()))||((be=Ee.category)==null?void 0:be.toLowerCase().includes(p.toLowerCase())),Se=!l||Ee.category===l;return De&&Se}),pe=Ee=>Ee?Ee.startsWith("http")?Ee:`${It}${Ee}`:null,re=Ee=>Ee&&new DOMParser().parseFromString(Ee,"text/html").body.textContent||"";return t.jsxs("div",{className:"p-6 space-y-6",children:[j&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-5 py-3 rounded-xl shadow-2xl text-white text-sm font-medium animate-in slide-in-from-right-10 duration-300
          ${j.type==="success"?"bg-gradient-to-r from-emerald-500 to-teal-500":"bg-gradient-to-r from-red-500 to-rose-500"}`,children:[j.type==="success"?t.jsx(uo,{size:18}):t.jsx(hu,{size:18}),j.message]}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[t.jsx(Td,{className:"w-8 h-8 text-blue-500"}),"Info Website Manager"]}),t.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Manage and publish articles for your public-facing site."})]}),t.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/30 transition-all duration-200 active:scale-95",children:[t.jsx($i,{size:18}),"New Article"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-blue-500",children:t.jsx(Td,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.length}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Total Articles"})]})]}),t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-xl flex items-center justify-center text-green-500",children:t.jsx(uo,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.filter(Ee=>Ee.status==="Published").length}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Published"})]})]}),t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-xl flex items-center justify-center text-amber-500",children:t.jsx(o5,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.reduce((Ee,De)=>Ee+(De.views||0),0).toLocaleString()}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Total Views"})]})]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[t.jsxs("div",{className:"relative flex-1 w-full",children:[t.jsx(Kc,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400",size:18}),t.jsx("input",{type:"text",placeholder:"Search by title...",value:p,onChange:Ee=>m(Ee.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm\r
            focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all`})]}),t.jsxs("select",{value:l,onChange:Ee=>u(Ee.target.value),className:`w-full md:w-56 px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm\r
          focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer`,children:[t.jsx("option",{value:"",children:"All Categories"}),Y.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50/50",children:[t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Article"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Views"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:"Loading..."})}):se.length>0?se.map(Ee=>t.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-12 bg-slate-100 rounded-lg overflow-hidden shrink-0",children:Ee.coverImage?t.jsx("img",{src:pe(Ee.coverImage),alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:t.jsx(Td,{size:20})})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800 line-clamp-1",children:Ee.title}),t.jsxs("p",{className:"text-xs text-slate-400 line-clamp-1",children:[re(Ee.content).substring(0,60),"..."]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-full
                      ${Ee.status==="Published"?"bg-green-100 text-green-700":Ee.status==="Draft"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:Ee.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:Ee.date}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-500 font-medium flex items-center gap-1.5",children:[t.jsx(io,{size:14}),Ee.views]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>Ce(Ee),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit",children:t.jsx(bp,{size:16})}),t.jsx("button",{onClick:()=>oe(Ee.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete",children:t.jsx(Zo,{size:16})})]})})]},Ee.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Kc,{size:32,className:"mb-2 opacity-20"}),t.jsx("p",{children:"No articles found matching your criteria."})]})})})})]})})}),T&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(qo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Article?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this article? This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>R(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:je,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})}),d&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:o?"Edit Article":"Create New Article"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Fill in the details to publish content to your info site."})]}),t.jsx("button",{onClick:()=>A(!1),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200/50 rounded-full transition-all",children:t.jsx(qr,{size:20})})]}),t.jsxs("form",{onSubmit:Ae,children:[t.jsxs("div",{className:"p-6 space-y-5 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[t.jsxs("div",{className:"group relative h-48 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center hover:border-blue-400 hover:bg-blue-50/30 transition-all cursor-pointer overflow-hidden",children:[z.coverImage?t.jsx("img",{src:URL.createObjectURL(z.coverImage),className:"w-full h-full object-cover",alt:"New Preview"}):x?t.jsx("img",{src:pe(x),className:"w-full h-full object-cover",alt:"Existing"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-3 bg-white rounded-full shadow-sm text-slate-400 mb-2 group-hover:scale-110 transition-transform",children:t.jsx(dp,{size:24})}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Click to upload cover image"}),t.jsx("p",{className:"text-xs text-slate-400",children:"JPG, PNG or WEBP (Max. 2MB)"})]}),t.jsx("input",{type:"file",onChange:Ne,accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Title"}),t.jsx("input",{type:"text",name:"title",placeholder:"e.g. Exploring New Frontiers",value:z.title,onChange:ce,required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Category"}),t.jsxs("select",{name:"category",value:z.category,onChange:ce,required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer appearance-none",children:[t.jsx("option",{value:"",disabled:!0,children:"Select a category"}),Y.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Status"}),t.jsxs("select",{name:"status",value:z.status,onChange:ce,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer",children:[t.jsx("option",{value:"Published",children:"Published"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Archived",children:"Archived"})]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Content"}),t.jsx(MC,{content:z.content,onChange:ue}),t.jsx("p",{className:"text-xs text-slate-400 mt-1.5",children:"Use the toolbar above to format your content with headings, lists, colors, and more."})]})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-xs font-medium",children:[t.jsx(Ia,{size:14}),"Changes will be visible immediately."]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>A(!1),className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white text-sm font-semibold rounded-xl hover:bg-blue-700 transition-all flex items-center gap-2 shadow-lg shadow-blue-500/20",children:[t.jsx(QA,{size:18}),o?"Save Changes":"Publish Article"]})]})]})]})]})})]})},b0={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},hK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(null),[a,l]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState(""),[f,p]=W.useState(!1),[m,x]=W.useState(!1),[b,j]=W.useState(b0.ADMIN),[y,T]=W.useState(!1),[R,z]=W.useState(null),[X,Y]=W.useState(null),[Q,K]=W.useState("preset"),[ce,ue]=W.useState("monthly"),[Ne,le]=W.useState("30"),[Ce,oe]=W.useState("0.00"),[je,Ae]=W.useState("");W.useEffect(()=>{se(),pe()},[]);const se=async()=>{try{const he=await fetch(`${It}/api/admin-subscription/statistics`,{credentials:"include"});if(he.ok){const te=await he.json();d(te),te.currentAdminRole&&(j(te.currentAdminRole),T(te.currentAdminRole===b0.SUPER_ADMIN))}}catch(he){console.error("Error fetching statistics:",he)}},pe=async(he="")=>{try{p(!0);const te=he?`${It}/api/admin-subscription/users?search=${encodeURIComponent(he)}`:`${It}/api/admin-subscription/users`,ge=await fetch(te,{credentials:"include"});if(ge.ok){const Le=await ge.json();e(Le.users),Le.currentAdminRole&&(j(Le.currentAdminRole),T(Le.canManageAdmins||!1))}else ge.status===403&&fe("error","Admin access required")}catch(te){console.error("Error fetching users:",te),fe("error","Failed to load users")}finally{p(!1)}},re=async he=>{try{const te=await fetch(`${It}/api/admin-subscription/users/${he}/subscriptions`,{credentials:"include"});if(te.ok){const ge=await te.json();l(ge.subscriptions),n(ge.user)}else te.status===403&&fe("error","Permission denied: Cannot access admin users")}catch(te){console.error("Error fetching user subscriptions:",te)}},Ee=async()=>{if(r)try{p(!0);const he={user_id:r.id,subscription_type:Q,amount:parseFloat(Ce)||0};Q==="preset"?he.plan_type=ce:he.custom_days=parseInt(Ne);const te=await fetch(`${It}/api/admin-subscription/add-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(he)}),ge=await te.json();te.ok?(fe("success","Subscription added successfully!"),x(!1),re(r.id),se(),pe(A),K("preset"),ue("monthly"),le("30"),oe("0.00")):te.status===403?fe("error","Permission denied: Cannot modify admin users"):fe("error",ge.error||"Failed to add subscription")}catch{fe("error","Network error occurred")}finally{p(!1)}},De=he=>{Y(he)},Se=async()=>{if(X)try{const he=await fetch(`${It}/api/admin-subscription/cancel-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user_id:X})});he.ok?(fe("success","Subscription cancelled successfully"),(r==null?void 0:r.id)===X&&re(X),pe(A),se()):he.status===403?fe("error","Permission denied: Cannot modify admin users"):fe("error","Failed to cancel subscription")}catch{fe("error","Network error occurred")}finally{Y(null)}},fe=(he,te)=>{z({type:he,text:te}),setTimeout(()=>z(null),5e3)},be=he=>{const te=(he==null?void 0:he.toLowerCase())||"user";return te===b0.SUPER_ADMIN?t.jsx("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 text-xs font-medium rounded-full",children:"Super Admin"}):te===b0.ADMIN?t.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full",children:"Admin"}):null};return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-7xl mx-auto relative",children:[R&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${R.type==="success"?"bg-white border-emerald-100 text-emerald-800 dark:bg-slate-800 dark:border-emerald-900/50 dark:text-emerald-400":R.type==="info"?"bg-white border-blue-100 text-blue-800 dark:bg-slate-800 dark:border-blue-900/50 dark:text-blue-400":"bg-white border-red-100 text-red-800 dark:bg-slate-800 dark:border-red-900/50 dark:text-red-400"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${R.type==="success"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":R.type==="info"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"bg-red-100 text-red-600 dark:bg-red-900/30"}`,children:R.type==="success"?t.jsx(Yo,{className:"w-4 h-4"}):R.type==="info"?t.jsx(El,{className:"w-4 h-4"}):t.jsx(Ia,{className:"w-4 h-4"})}),t.jsx("p",{className:"text-sm font-medium",children:R.text}),t.jsx("button",{onClick:()=>z(null),className:"ml-2 opacity-50 hover:opacity-100 transition-opacity",children:t.jsx(qr,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Subscription Management"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Manage user subscriptions and premium access"})]}),t.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border mb-6 ${y?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800":"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800"}`,children:[y?t.jsx(cp,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}):t.jsx(Gd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:`text-sm font-medium ${y?"text-purple-800 dark:text-purple-300":"text-blue-800 dark:text-blue-300"}`,children:y?"Super Admin Access":"Admin Access"}),t.jsx("span",{className:`text-sm ml-2 ${y?"text-purple-600 dark:text-purple-400":"text-blue-600 dark:text-blue-400"}`,children:y?" You can view and manage subscriptions for all users":" You can only view and manage subscriptions for regular users"})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${y?"bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300"}`,children:b})]}),u&&t.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Ld,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Users"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:u.total_users}),!y&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Regular users only"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-6 border border-amber-200 dark:border-amber-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Kd,{className:"w-5 h-5 text-amber-600"}),t.jsx("span",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Premium Users"})]}),t.jsx("p",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:u.premium_users}),t.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-500 mt-1",children:[u.premium_percentage,"% of total"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(sx,{className:"w-5 h-5 text-emerald-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monthly Revenue"})]}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:["RM ",u.monthly_revenue.toFixed(2)]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Vi,{className:"w-5 h-5 text-orange-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Expiring Soon"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:u.expiring_soon}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Within 7 days"})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(Kc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search users by email or name...",value:A,onChange:he=>{o(he.target.value),pe(he.target.value)},className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h2",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Users"}),t.jsxs("span",{className:"text-sm text-slate-500",children:[s.length," ",s.length===1?"user":"users"]})]}),t.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-800 max-h-[600px] overflow-y-auto",children:f?t.jsx("div",{className:"p-8 text-center",children:t.jsx(Fr,{className:"w-6 h-6 animate-spin mx-auto text-slate-400"})}):s.length===0?t.jsx("div",{className:"p-8 text-center text-slate-500",children:"No users found"}):s.map(he=>t.jsx("div",{onClick:()=>re(he.id),className:`p-4 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors ${(r==null?void 0:r.id)===he.id?"bg-amber-50 dark:bg-amber-900/20":""}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:he.full_name||"No name"}),he.is_premium&&t.jsx(Kd,{className:"w-4 h-4 text-amber-600"}),be(he.role)]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:he.email}),he.subscription_end_date&&t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:["Expires: ",new Date(he.subscription_end_date).toLocaleDateString()]})]}),he.is_premium&&t.jsx("span",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 text-xs font-medium rounded-full",children:"Premium"})]})},he.id))})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:r?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"font-bold text-lg text-slate-900 dark:text-white",children:r.full_name}),be(r.role)]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:r.email})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>x(!0),className:"px-3 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",children:[t.jsx($i,{className:"w-4 h-4"}),"Add"]}),r.is_premium&&t.jsxs("button",{onClick:()=>De(r.id),className:"px-3 py-2 bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 dark:hover:bg-red-900/50 dark:text-red-400 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",children:[t.jsx(sS,{className:"w-4 h-4"}),"Cancel"]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Status:"}),r.is_premium?t.jsxs("span",{className:"flex items-center gap-1 text-amber-600",children:[t.jsx(Kd,{className:"w-4 h-4"})," Premium"]}):t.jsx("span",{className:"text-slate-500",children:"Free"})]}),r.subscription_end_date&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Expires:"}),t.jsx("span",{className:"text-slate-900 dark:text-white",children:new Date(r.subscription_end_date).toLocaleDateString()})]})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-medium text-slate-900 dark:text-white mb-3",children:"Subscription History"}),t.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:a.length===0?t.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No subscription history"}):a.map(he=>t.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-slate-900 dark:text-white capitalize",children:[he.plan_type," Plan"]}),t.jsx("p",{className:"text-xs text-slate-500",children:he.order_reference})]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${he.status==="active"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":he.status==="cancelled"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:he.status})]}),t.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Amount:"})," RM ",he.amount.toFixed(2)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Start:"})," ",new Date(he.start_date).toLocaleDateString()]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"End:"})," ",he.end_date?new Date(he.end_date).toLocaleDateString():"Lifetime"]})]})]},he.id))})]})]}):t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(Ld,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),t.jsx("p",{children:"Select a user to view details"})]})})]}),X&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4 text-red-600 dark:text-red-400",children:t.jsx(qo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Cancel Subscription?"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:"Are you sure you want to cancel this user's premium status? This action will immediately revert them to a free user."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>Y(null),className:"flex-1 px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-semibold rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-all",children:"Keep It"}),t.jsx("button",{onClick:Se,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Yes, Cancel"})]})]})})}),m&&r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Add Subscription"}),t.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:r.full_name}),be(r.role)]}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:r.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Subscription Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("button",{onClick:()=>K("preset"),className:`p-3 rounded-lg border-2 transition-all ${Q==="preset"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(xf,{className:"w-5 h-5 mx-auto mb-1 text-amber-600"}),t.jsx("p",{className:"text-sm font-medium",children:"Preset Plans"})]}),t.jsxs("button",{onClick:()=>K("custom"),className:`p-3 rounded-lg border-2 transition-all ${Q==="custom"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(co,{className:"w-5 h-5 mx-auto mb-1 text-amber-600"}),t.jsx("p",{className:"text-sm font-medium",children:"Custom Days"})]})]})]}),Q==="preset"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Select Plan"}),t.jsx("div",{className:"space-y-2",children:[{value:"monthly",label:"Monthly",days:"30 days",price:"RM 29.90"},{value:"yearly",label:"Yearly",days:"365 days",price:"RM 299.00"},{value:"lifetime",label:"Lifetime",days:"Forever",price:"RM 999.00"}].map(he=>t.jsx("button",{onClick:()=>ue(he.value),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${ce===he.value?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:he.label}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:he.days})]}),t.jsx("p",{className:"text-sm font-medium text-amber-600",children:he.price})]})},he.value))})]}),Q==="custom"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Number of Days"}),t.jsx("input",{type:"number",min:"1",value:Ne,onChange:he=>le(he.target.value),className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"e.g., 7, 14, 30..."}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Subscription will expire in ",Ne||"0"," days"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Amount (RM)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:Ce,onChange:he=>oe(he.target.value),className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"0.00"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Set to 0.00 for free/gifted subscriptions"})]}),t.jsx("button",{onClick:Ee,disabled:f,className:"w-full py-3 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white font-bold rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:f?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{className:"w-5 h-5 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx($i,{className:"w-5 h-5"}),"Add Subscription"]})})]})]})})]})},fK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(!1),[u,d]=W.useState(null),[A,o]=W.useState({title:"",description:"",link:"",status:"active",priority:1}),[f,p]=W.useState(null),[m,x]=W.useState(""),[b,j]=W.useState(null),[y,T]=W.useState(null);W.useEffect(()=>{z()},[]);const R=(le,Ce)=>{j({type:le,message:Ce}),setTimeout(()=>j(null),3e3)},z=async()=>{try{const le=await fetch(`${It}/api/advertisements/list`,{credentials:"include"});if(le.ok){const Ce=await le.json();e(Ce)}}catch(le){console.error("Error fetching advertisements:",le),R("error","Failed to fetch advertisements")}finally{n(!1)}},X=le=>{var oe;const Ce=(oe=le.target.files)==null?void 0:oe[0];if(Ce){p(Ce);const je=new FileReader;je.onloadend=()=>{x(je.result)},je.readAsDataURL(Ce)}},Y=async le=>{le.preventDefault();const Ce=new FormData;Ce.append("title",A.title),Ce.append("description",A.description),Ce.append("link",A.link),Ce.append("status",A.status),Ce.append("priority",A.priority.toString()),f&&Ce.append("image",f);try{const oe=u?`${It}/api/advertisements/${u.id}`:`${It}/api/advertisements/create`;(await fetch(oe,{method:u?"PUT":"POST",credentials:"include",body:Ce})).ok?(R("success",u?"Advertisement updated successfully!":"Advertisement created successfully!"),await z(),ue()):R("error","Failed to save advertisement.")}catch(oe){console.error("Error saving advertisement:",oe),R("error","Network error occurred.")}},Q=le=>{T(le)},K=async()=>{if(y)try{(await fetch(`${It}/api/advertisements/${y}`,{method:"DELETE",credentials:"include"})).ok?(R("success","Advertisement deleted successfully"),await z()):R("error","Failed to delete advertisement")}catch(le){console.error("Error deleting advertisement:",le),R("error","Error occurred while deleting")}finally{T(null)}},ce=le=>{d(le),o({title:le.title,description:le.description,link:le.link,status:le.status,priority:le.priority}),x(le.imageUrl?`${It}${le.imageUrl}`:""),l(!0)},ue=()=>{l(!1),d(null),o({title:"",description:"",link:"",status:"active",priority:0}),p(null),x("")},Ne=async le=>{const Ce=le.status==="active"?"paused":"active",oe=new FormData;oe.append("title",le.title),oe.append("description",le.description),oe.append("link",le.link),oe.append("status",Ce),oe.append("priority",le.priority.toString());try{(await fetch(`${It}/api/advertisements/${le.id}`,{method:"PUT",credentials:"include",body:oe})).ok?(R("success",`Advertisement ${Ce==="active"?"activated":"paused"}`),await z()):R("error","Failed to update status")}catch(je){console.error("Error toggling advertisement status:",je),R("error","Network error")}};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6 relative animate-in fade-in slide-in-from-bottom-2 duration-500",children:[b&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${b.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${b.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:b.type==="success"?t.jsx(Bo,{size:18}):t.jsx(Ia,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:b.message}),t.jsx("button",{onClick:()=>j(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Advertisement Management"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Manage advertisements shown to non-premium users"})]}),t.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/20 active:scale-95",children:[t.jsx($i,{size:20}),"Create Advertisement"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:t.jsx(sx,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Ads"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.length})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:t.jsx(Zb,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.filter(le=>le.status==="active").length})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:t.jsx(io,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Views"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.reduce((le,Ce)=>le+Ce.views,0).toLocaleString()})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-orange-50 text-orange-600 rounded-lg",children:t.jsx(jw,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Clicks"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.reduce((le,Ce)=>le+Ce.clicks,0).toLocaleString()})]})]})})]}),t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Advertisement"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Link"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Status"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Priority"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Stats"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Actions"})]})}),t.jsx("tbody",{children:s.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center p-8 text-slate-500",children:"No advertisements yet. Create your first one!"})}):s.map(le=>t.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition-colors",children:[t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[le.imageUrl&&t.jsx("img",{src:`${It}${le.imageUrl}`,alt:le.title,className:"w-16 h-16 object-cover rounded-lg border border-slate-200"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:le.title}),t.jsx("p",{className:"text-sm text-slate-500 line-clamp-1",children:le.description})]})]})}),t.jsx("td",{className:"p-4",children:t.jsxs("a",{href:le.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1 text-sm",children:["View Link",t.jsx(op,{size:14})]})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${le.status==="active"?"bg-green-100 text-green-700":le.status==="paused"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:le.status.charAt(0).toUpperCase()+le.status.slice(1)})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:"text-slate-700 font-medium",children:le.priority})}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[t.jsx(io,{size:14,className:"text-slate-400"}),t.jsxs("span",{children:[le.views.toLocaleString()," views"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[t.jsx(jw,{size:14,className:"text-slate-400"}),t.jsxs("span",{children:[le.clicks.toLocaleString()," clicks"]})]}),t.jsxs("div",{className:"text-slate-500 text-xs mt-1",children:["CTR: ",le.ctr,"%"]})]})}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Ne(le),className:`p-2 rounded-lg transition-colors ${le.status==="active"?"hover:bg-amber-50 text-amber-600":"hover:bg-green-50 text-green-600"}`,title:le.status==="active"?"Pause":"Activate",children:le.status==="active"?t.jsx(h5,{size:18}):t.jsx(Zb,{size:18})}),t.jsx("button",{onClick:()=>ce(le),className:"p-2 hover:bg-blue-50 text-blue-600 rounded-lg transition-colors",title:"Edit",children:t.jsx(bp,{size:18})}),t.jsx("button",{onClick:()=>Q(le.id),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg transition-colors",title:"Delete",children:t.jsx(Zo,{size:18})})]})})]},le.id))})]})}),y&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(qo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Advertisement?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this ad? This action cannot be undone and tracking data will be lost."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>T(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:K,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})}),a&&t.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-800",children:u?"Edit Advertisement":"Create New Advertisement"}),t.jsx("button",{onClick:ue,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200/50 rounded-full transition-all",children:t.jsx(qr,{size:20})})]}),t.jsxs("form",{onSubmit:Y,className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Title *"}),t.jsx("input",{type:"text",required:!0,value:A.title,onChange:le=>o({...A,title:le.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"Enter advertisement title"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Description"}),t.jsx("textarea",{value:A.description,onChange:le=>o({...A,description:le.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all resize-none",rows:3,placeholder:"Enter advertisement description"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Target Link *"}),t.jsxs("div",{className:"relative",children:[t.jsx(op,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),t.jsx("input",{type:"url",required:!0,value:A.link,onChange:le=>o({...A,link:le.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"https://example.com"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Status"}),t.jsxs("select",{value:A.status,onChange:le=>o({...A,status:le.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"paused",children:"Paused"}),t.jsx("option",{value:"expired",children:"Expired"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Priority"}),t.jsx("input",{type:"number",value:A.priority,onChange:le=>o({...A,priority:parseInt(le.target.value)||0}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"0",min:"1"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Advertisement Image"}),t.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-4 hover:bg-slate-50 transition-colors",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:X,className:`block w-full text-sm text-slate-500\r
                      file:mr-4 file:py-2 file:px-4\r
                      file:rounded-full file:border-0\r
                      file:text-sm file:font-semibold\r
                      file:bg-blue-50 file:text-blue-700\r
                      hover:file:bg-blue-100\r
                    `}),m&&t.jsx("div",{className:"mt-4 relative rounded-lg overflow-hidden border border-slate-200",children:t.jsx("img",{src:m,alt:"Preview",className:"w-full h-48 object-cover"})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:ue,className:"flex-1 px-4 py-2.5 border border-slate-200 text-slate-700 font-semibold rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/20",children:u?"Update Advertisement":"Create Advertisement"})]})]})]})})]})},pK=()=>{var fe;const[s,e]=W.useState([]),[r,n]=W.useState([]),[a,l]=W.useState([]),[u,d]=W.useState(!0),[A,o]=W.useState("configs"),[f,p]=W.useState(null),[m,x]=W.useState(!1),[b,j]=W.useState(null),[y,T]=W.useState(null),[R,z]=W.useState(!1),[X,Y]=W.useState(null),[Q,K]=W.useState(null),ce=W.useRef(null);W.useEffect(()=>{ue()},[]),W.useEffect(()=>{const be=()=>K(null);return Q!==null&&document.addEventListener("click",be),()=>document.removeEventListener("click",be)},[Q]);const ue=async()=>{try{d(!0);const[be,he,te]=await Promise.all([fetch(`${It}/api/admin/login-hero/configs`,{credentials:"include"}),fetch(`${It}/api/admin/login-hero/images`,{credentials:"include"}),fetch(`${It}/api/admin/login-hero/available-places`,{credentials:"include"})]),ge=await be.json(),Le=await he.json(),Ve=await te.json();ge.status==="success"&&e(ge.configs),Le.status==="success"&&n(Le.images),Ve.status==="success"&&l(Ve.places)}catch{j("Failed to load data")}finally{d(!1)}},Ne=()=>{x(!0),p({displayMode:"single",transitionInterval:5,autoPlay:!0,imageSource:"url",imagesConfig:[{url:"",alt:""}],title:null,subtitle:null,description:null,enableGradient:!0,isActive:!1})},le=async()=>{if(f)try{d(!0),j(null);const be=m?`${It}/api/admin/login-hero/configs`:`${It}/api/admin/login-hero/configs/${f.id}`,ge=await(await fetch(be,{method:m?"POST":"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)})).json();ge.status==="success"?(T(m?"Configuration created!":"Configuration updated!"),p(null),x(!1),ue()):j(ge.message)}catch{j("Failed to save configuration")}finally{d(!1)}},Ce=async be=>{try{d(!0),(await(await fetch(`${It}/api/admin/login-hero/configs/${be}/activate`,{method:"POST",credentials:"include"})).json()).status==="success"&&(T("Configuration activated!"),ue())}catch{j("Failed to activate configuration")}finally{d(!1)}},oe=async be=>{if(confirm("Are you sure you want to delete this configuration?"))try{d(!0),(await(await fetch(`${It}/api/admin/login-hero/configs/${be}`,{method:"DELETE",credentials:"include"})).json()).status==="success"&&(T("Configuration deleted!"),ue())}catch{j("Failed to delete configuration")}finally{d(!1)}},je=()=>{if(!f)return;const be=f.imageSource==="url"?{url:"",alt:""}:f.imageSource==="database"?{image_id:null}:{place_id:null};p({...f,imagesConfig:[...f.imagesConfig||[],be]})},Ae=be=>{if(!f)return;const he=[...f.imagesConfig||[]];he.splice(be,1),p({...f,imagesConfig:he})},se=(be,he)=>{if(!f)return;const te=[...f.imagesConfig||[]];te[be]={...te[be],...he},p({...f,imagesConfig:te})},pe=async be=>{var ge;const he=(ge=be.target.files)==null?void 0:ge[0];if(!he)return;if(!["image/png","image/jpeg","image/jpg","image/gif","image/webp"].includes(he.type)){j("Invalid file type. Please upload PNG, JPG, GIF, or WebP images.");return}if(he.size>5*1024*1024){j("File size too large. Maximum 5MB allowed.");return}try{z(!0),j(null);const Le=new FormData;Le.append("file",he),Le.append("title",he.name.replace(/\.[^/.]+$/,"")),Le.append("altText",he.name);const kt=await(await fetch(`${It}/api/admin/login-hero/images/upload`,{method:"POST",credentials:"include",body:Le})).json();kt.status==="success"?(T("Image uploaded successfully!"),ue(),ce.current&&(ce.current.value="")):j(kt.message)}catch{j("Failed to upload image")}finally{z(!1)}},re=async(be,he)=>{try{d(!0),j(null);const ge=await(await fetch(`${It}/api/admin/login-hero/images/from-place`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({placeId:be,title:he,altText:he})})).json();ge.status==="success"?(T("Image added from place!"),ue()):j(ge.message)}catch{j("Failed to add image from place")}finally{d(!1)}},Ee=async be=>{if(confirm("Delete this image from library?"))try{d(!0),(await(await fetch(`${It}/api/admin/login-hero/images/${be}`,{method:"DELETE",credentials:"include"})).json()).status==="success"&&(T("Image deleted from library!"),ue())}catch{j("Failed to delete image")}finally{d(!1)}},De=async(be,he)=>{try{d(!0),(await(await fetch(`${It}/api/admin/login-hero/images/${be}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isActive:!he})})).json()).status==="success"&&(T(`Image ${he?"deactivated":"activated"}!`),ue())}catch{j("Failed to update image status")}finally{d(!1)}},Se=(be,he,te)=>{const ge=he.startsWith("/")?`${It}${he}`:he,Le=260,Ve=180,kt=15;let Bt=be.clientX+kt,We=be.clientY+kt;Bt+Le>window.innerWidth&&(Bt=be.clientX-Le-kt),We+Ve>window.innerHeight&&(We=be.clientY-Ve-kt),Y({url:ge,title:te,x:Bt,y:We})};return u&&s.length===0?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Fr,{className:"w-8 h-8 animate-spin text-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Login Background Management"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Configure the hero section of the login page"})]}),A==="configs"&&t.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx($i,{size:20}),"New Configuration"]})]}),b&&t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 text-red-700",children:[t.jsx(Ia,{size:20}),b]}),y&&t.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3 text-green-700",children:[t.jsx(Yo,{size:20}),y]}),t.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[t.jsxs("button",{onClick:()=>o("configs"),className:`px-4 py-2 font-medium transition-colors ${A==="configs"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-800"}`,children:[t.jsx(Tm,{className:"w-4 h-4 inline mr-2"}),"Configurations"]}),t.jsxs("button",{onClick:()=>o("images"),className:`px-4 py-2 font-medium transition-colors ${A==="images"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-800"}`,children:[t.jsx(lp,{className:"w-4 h-4 inline mr-2"}),"Image Library"]})]}),A==="configs"?t.jsxs("div",{className:"space-y-4",children:[f&&t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:m?"Create New Configuration":"Edit Configuration"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Display Mode"}),t.jsxs("select",{value:f.displayMode,onChange:be=>p({...f,displayMode:be.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"single",children:"Single Image"}),t.jsx("option",{value:"carousel",children:"Carousel"}),t.jsx("option",{value:"fade",children:"Fade Transition"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Image Source"}),t.jsxs("select",{value:f.imageSource,onChange:be=>p({...f,imageSource:be.target.value,imagesConfig:[]}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"url",children:"External URL - Direct image links"}),t.jsx("option",{value:"database",children:"Image Library - Uploaded or saved images"}),t.jsx("option",{value:"places",children:"Places - Images from Places database"})]}),t.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:[f.imageSource==="url"&&" Enter direct image URLs (e.g., from Unsplash, Pexels)",f.imageSource==="database"&&" Select from your uploaded images or images added from Places in the Image Library",f.imageSource==="places"&&" Directly select images from Places database (loaded via proxy API)"]})]}),f.displayMode!=="single"&&t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Transition Interval (seconds)"}),t.jsx("input",{type:"number",min:"1",max:"60",value:f.transitionInterval,onChange:be=>p({...f,transitionInterval:parseInt(be.target.value)}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Auto Play"}),t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.autoPlay,onChange:be=>p({...f,autoPlay:be.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Enable"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Images"}),t.jsxs("button",{onClick:je,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[t.jsx($i,{size:16}),"Add Image"]})]}),t.jsx("div",{className:"space-y-3",children:(fe=f.imagesConfig)==null?void 0:fe.map((be,he)=>{var te,ge;return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg relative",children:[f.imageSource==="url"&&t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"text",placeholder:"Image URL",value:be.url||"",onChange:Le=>se(he,{url:Le.target.value}),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm"}),t.jsx("input",{type:"text",placeholder:"Alt text",value:be.alt||"",onChange:Le=>se(he,{alt:Le.target.value}),className:"w-32 px-3 py-2 border border-slate-200 rounded-lg text-sm"})]}),f.imageSource==="database"&&t.jsxs("div",{className:"flex-1 relative",children:[t.jsxs("div",{onClick:Le=>{Le.stopPropagation(),K(Q===he?null:he)},className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm cursor-pointer flex items-center justify-between hover:border-blue-400 transition-colors",children:[t.jsx("span",{className:be.image_id?"text-slate-800 truncate":"text-slate-400",children:be.image_id?((te=r.find(Le=>Le.id===be.image_id))==null?void 0:te.title)||"Unknown Image":"Select an image from library"}),t.jsx(ap,{size:16,className:"text-slate-500"})]}),Q===he&&t.jsxs("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-lg shadow-xl py-1",children:[t.jsx("div",{onClick:()=>{se(he,{image_id:null}),K(null)},className:"px-3 py-2 text-sm text-slate-500 hover:bg-slate-50 cursor-pointer",children:"Select an image from library"}),r.filter(Le=>Le.isActive).map(Le=>{var Ve;return t.jsxs("div",{onClick:()=>{se(he,{image_id:Le.id}),K(null)},onMouseEnter:kt=>Se(kt,Le.imageUrl,Le.title),onMouseLeave:()=>Y(null),className:`px-3 py-2 text-sm cursor-pointer flex items-center justify-between ${be.image_id===Le.id?"bg-blue-50 text-blue-700":"text-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{className:"truncate",children:Le.title}),t.jsx("span",{className:"text-xs text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded ml-2",children:(Ve=Le.source)==null?void 0:Ve.toUpperCase()})]},Le.id)})]})]}),f.imageSource==="places"&&t.jsxs("div",{className:"flex-1 relative",children:[t.jsxs("div",{onClick:Le=>{Le.stopPropagation(),K(Q===he?null:he)},className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm cursor-pointer flex items-center justify-between hover:border-blue-400 transition-colors",children:[t.jsx("span",{className:be.place_id?"text-slate-800 truncate":"text-slate-400",children:be.place_id?((ge=a.find(Le=>Le.id===be.place_id))==null?void 0:ge.name)||"Unknown Place":"Select a place"}),t.jsx(ap,{size:16,className:"text-slate-500"})]}),Q===he&&t.jsxs("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-lg shadow-xl py-1",children:[t.jsx("div",{onClick:()=>{se(he,{place_id:null}),K(null)},className:"px-3 py-2 text-sm text-slate-500 hover:bg-slate-50 cursor-pointer",children:"Select a place"}),a.map(Le=>t.jsx("div",{onClick:()=>{se(he,{place_id:Le.id}),K(null)},onMouseEnter:Ve=>Se(Ve,`${It}/proxy_image?ref=${Le.photoUrl}`,Le.name),onMouseLeave:()=>Y(null),className:`px-3 py-2 text-sm cursor-pointer flex items-center justify-between ${be.place_id===Le.id?"bg-blue-50 text-blue-700":"text-slate-700 hover:bg-slate-50"}`,children:t.jsx("span",{className:"truncate",children:Le.name})},Le.id))]})]}),t.jsx("button",{onClick:()=>Ae(he),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:t.jsx(Zo,{size:16})})]},he)})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Title (Optional - overrides default)"}),t.jsx("input",{type:"text",value:f.title||"",onChange:be=>p({...f,title:be.target.value}),placeholder:"Plan your next great adventure...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (Optional)"}),t.jsx("textarea",{value:f.description||"",onChange:be=>p({...f,description:be.target.value}),placeholder:"Join thousands of travelers...",rows:3,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.enableGradient,onChange:be=>p({...f,enableGradient:be.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Enable Gradient Overlay"})]}),t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.isActive,onChange:be=>p({...f,isActive:be.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Set as Active"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{onClick:le,disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[t.jsx(QA,{size:18}),u?"Saving...":"Save Configuration"]}),t.jsx("button",{onClick:()=>{p(null),x(!1)},className:"px-6 py-2 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})]}),t.jsx("div",{className:"grid gap-4",children:s.map(be=>t.jsx("div",{className:`bg-white rounded-xl border p-6 shadow-sm ${be.isActive?"border-green-500 ring-2 ring-green-100":"border-slate-200"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:[be.displayMode.charAt(0).toUpperCase()+be.displayMode.slice(1)," ","Mode"]}),be.isActive&&t.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:"ACTIVE"})]}),t.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Source:"})," ",be.imageSource.toUpperCase()]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Images:"})," ",be.imagesConfig.length]}),be.displayMode!=="single"&&t.jsxs("p",{children:[t.jsx("strong",{children:"Interval:"})," ",be.transitionInterval,"s"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Updated:"})," ",be.updatedAt]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[!be.isActive&&t.jsx("button",{onClick:()=>Ce(be.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Activate",children:t.jsx(io,{size:18})}),t.jsx("button",{onClick:()=>{p(be),x(!1)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:t.jsx(ty,{size:18})}),t.jsx("button",{onClick:()=>oe(be.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",disabled:be.isActive,children:t.jsx(Zo,{size:18})})]})]})},be.id))})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Hero Image Library"}),t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Upload images or add from Places to reuse in configurations"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:ce,type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",onChange:pe,className:"hidden"}),t.jsx("button",{onClick:()=>{var be;return(be=ce.current)==null?void 0:be.click()},disabled:R,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:R?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{size:20,className:"animate-spin"}),"Uploading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(dp,{size:20}),"Upload Image"]})})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.length===0?t.jsxs("div",{className:"col-span-full p-8 text-center text-slate-500",children:[t.jsx(lp,{size:48,className:"mx-auto mb-4 text-slate-300"}),t.jsx("p",{children:"No images in library yet"}),t.jsx("p",{className:"text-sm mt-2",children:"Add images to reuse them in configurations"})]}):r.map(be=>{var he;return t.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"relative h-48 bg-slate-100",children:[t.jsx("img",{src:be.imageUrl.startsWith("/")?`${It}${be.imageUrl}`:be.imageUrl,alt:be.altText,className:"w-full h-full object-cover",onError:te=>{te.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}}),!be.isActive&&t.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-red-500 text-white text-xs font-bold rounded",children:"INACTIVE"}),t.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-blue-600 text-white text-xs font-bold rounded flex items-center gap-1",children:[be.source==="places"&&t.jsx(Jo,{size:12}),be.source==="external"&&t.jsx(Zg,{size:12}),be.source==="uploaded"&&t.jsx(dp,{size:12}),((he=be.source)==null?void 0:he.toUpperCase())||"UNKNOWN"]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:be.title}),t.jsx("p",{className:"text-xs text-slate-500 mb-2 line-clamp-2",children:be.description||be.altText}),be.place&&t.jsxs("p",{className:"text-xs text-blue-600 mb-2",children:[t.jsx(Jo,{size:10,className:"inline mr-1"}),be.place.name]}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[t.jsxs("button",{onClick:()=>Ee(be.id),className:"flex-1 py-2 px-3 text-sm bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[t.jsx(Zo,{size:14,className:"inline mr-1"}),"Delete"]}),t.jsx("button",{onClick:()=>De(be.id,be.isActive),className:`flex-1 py-2 px-3 text-sm rounded-lg transition-colors ${be.isActive?"bg-slate-50 text-slate-600 hover:bg-slate-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:be.isActive?t.jsxs(t.Fragment,{children:[t.jsx(Zu,{size:14,className:"inline mr-1"}),"Deactivate"]}):t.jsxs(t.Fragment,{children:[t.jsx(io,{size:14,className:"inline mr-1"}),"Activate"]})})]})]})]},be.id)})}),a.length>0&&t.jsxs("div",{className:"mt-8",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Quick Add from Places"}),t.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Add place images to your library with one click"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:a.slice(0,12).map(be=>t.jsxs("button",{onClick:()=>{confirm(`Add "${be.name}" to image library?`)&&re(be.id,be.name)},onMouseEnter:he=>Se(he,`${It}/proxy_image?ref=${be.photoUrl}`,be.name),onMouseLeave:()=>Y(null),disabled:R||u,className:"relative group rounded-lg overflow-hidden border-2 border-slate-200 hover:border-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("div",{className:"aspect-square bg-slate-100",children:t.jsx("img",{src:`${It}/proxy_image?ref=${be.photoUrl}`,alt:be.name,className:"w-full h-full object-cover",onError:he=>{he.target.style.display="none"}})}),t.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx($i,{size:32,className:"text-white"})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2",children:t.jsx("p",{className:"text-white text-xs font-medium truncate",children:be.name})})]},be.id))})]})]}),X&&t.jsxs("div",{className:"fixed z-[9999] bg-white rounded-lg shadow-2xl border border-slate-200 overflow-hidden pointer-events-none transition-all duration-150",style:{top:X.y,left:X.x,width:"260px"},children:[t.jsx("div",{className:"aspect-video w-full bg-slate-100 relative",children:t.jsx("img",{src:X.url,alt:"Preview",className:"w-full h-full object-cover",onError:be=>{be.target.src="https://via.placeholder.com/260x146?text=Preview+Error"}})}),t.jsx("div",{className:"p-2 bg-white",children:t.jsx("p",{className:"text-xs font-bold text-slate-800 truncate",children:X.title})})]})]})},nf=`${It}/api/notifications`,af={getTabs:async(s="all")=>(await fetch(`${nf}/admin/tabs?status=${s}`,{credentials:"include"})).json(),createTab:async s=>(await fetch(`${nf}/admin/tabs`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)})).json(),updateTab:async(s,e)=>(await fetch(`${nf}/admin/tabs/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})).json(),deleteTab:async s=>(await fetch(`${nf}/admin/tabs/${s}`,{method:"DELETE",credentials:"include"})).json(),sendNotification:async s=>(await fetch(`${nf}/admin/send`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)})).json(),getNotifications:async()=>(await fetch(`${nf}/admin/list`,{credentials:"include"})).json(),getStats:async()=>(await fetch(`${nf}/admin/stats`,{credentials:"include"})).json()},mK=()=>{const[s,e]=W.useState("overview"),[r,n]=W.useState([]),[a,l]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState(!0),[f,p]=W.useState(!1),[m,x]=W.useState(null);W.useEffect(()=>{b()},[]);const b=async()=>{o(!0);try{const[Q,K,ce]=await Promise.all([af.getTabs(),af.getNotifications(),af.getStats()]);Q.success&&n(Q.tabs||[]),K.success&&l(K.notifications||[]),ce.success&&d(ce.stats)}catch(Q){console.error("Failed to load data:",Q)}o(!1)},j=async Q=>{if(!confirm("Tab"))return;(await af.deleteTab(Q)).success&&n(r.filter(ce=>ce.id!==Q))},y=()=>t.jsx("div",{className:"flex gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6",children:[{key:"overview",label:"Overview",icon:o5},{key:"tabs",label:"Content Tabs",icon:Td},{key:"send",label:"Send Notification",icon:Sh},{key:"history",label:"History",icon:Vi}].map(({key:Q,label:K,icon:ce})=>t.jsxs("button",{onClick:()=>e(Q),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg text-sm font-medium transition-all ${s===Q?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}`,children:[t.jsx(ce,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:K})]},Q))}),T=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Tabs",value:(u==null?void 0:u.totalTabs)||0,icon:Td,color:"blue"},{label:"Active Tabs",value:(u==null?void 0:u.activeTabs)||0,icon:Bo,color:"green"},{label:"Total Sent",value:(u==null?void 0:u.totalNotifications)||0,icon:Sh,color:"purple"},{label:"This Week",value:(u==null?void 0:u.recentNotifications)||0,icon:co,color:"orange"}].map(({label:Q,value:K,icon:ce,color:ue})=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl bg-${ue}-100 dark:bg-${ue}-900/30 flex items-center justify-center mb-3`,children:t.jsx(ce,{className:`text-${ue}-600 dark:text-${ue}-400`,size:20})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:K}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:Q})]},Q))}),(u==null?void 0:u.topTabs)&&u.topTabs.length>0&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(io,{size:20}),"Most Viewed Tabs"]}),t.jsx("div",{className:"space-y-3",children:u.topTabs.map((Q,K)=>t.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 dark:border-slate-700 last:border-0",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${K===0?"bg-yellow-100 text-yellow-700":K===1?"bg-slate-200 text-slate-600":K===2?"bg-orange-100 text-orange-700":"bg-slate-100 text-slate-500"}`,children:K+1}),t.jsx("span",{className:"text-slate-800 dark:text-slate-200",children:Q.title})]}),t.jsxs("span",{className:"text-sm text-slate-500",children:[Q.views," views"]})]},Q.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>{x(null),p(!0)},className:"flex items-center gap-4 p-5 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl text-white hover:from-blue-600 hover:to-blue-700 transition-all group",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx($i,{size:24})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-semibold",children:"Create New Tab"}),t.jsx("p",{className:"text-sm text-blue-100",children:"Build announcement content"})]}),t.jsx(hc,{className:"ml-auto opacity-50 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),t.jsxs("button",{onClick:()=>e("send"),className:"flex items-center gap-4 p-5 bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl text-white hover:from-purple-600 hover:to-purple-700 transition-all group",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(eA,{size:24})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-semibold",children:"Send Notification"}),t.jsx("p",{className:"text-sm text-purple-100",children:"Broadcast to users"})]}),t.jsx(hc,{className:"ml-auto opacity-50 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})]})]}),R=()=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Content Tabs"}),t.jsxs("button",{onClick:()=>{x(null),p(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[t.jsx($i,{size:16}),"New Tab"]})]}),r.length===0?t.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(Td,{className:"mx-auto text-slate-300 dark:text-slate-600 mb-4",size:48}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No content tabs yet"}),t.jsx("button",{onClick:()=>{x(null),p(!0)},className:"mt-4 text-blue-600 hover:underline",children:"Create your first tab"})]}):t.jsx("div",{className:"grid gap-4",children:r.map(Q=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[Q.coverImage?t.jsx("img",{src:Q.coverImage,alt:"",className:"w-20 h-20 rounded-xl object-cover"}):t.jsx("div",{className:"w-20 h-20 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center",children:t.jsx(Td,{className:"text-slate-400",size:24})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white truncate",children:Q.title}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Q.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":Q.status==="draft"?"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300":Q.status==="scheduled"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-slate-100 text-slate-500"}`,children:Q.status})]}),Q.subtitle&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2 truncate",children:Q.subtitle}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(io,{size:12})," ",Q.views]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Cw,{size:12})," ",Q.targetAudience]}),t.jsx("span",{children:Q.createdAt})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{x(Q),p(!0)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:t.jsx(bp,{size:16})}),t.jsx("button",{onClick:()=>j(Q.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:t.jsx(Zo,{size:16})})]})]})},Q.id))})]}),z=()=>{const[Q,K]=W.useState({sendType:"broadcast",title:"",text:"",type:"info",icon:"",tabId:"",targetAudience:"all",targetUserIds:"",sendEmail:!1}),[ce,ue]=W.useState(!1),[Ne,le]=W.useState(null),Ce=async()=>{if(!Q.text.trim()){alert("Please enter notification text");return}ue(!0),le(null);try{const oe={...Q,tabId:Q.tabId?parseInt(Q.tabId):null,targetUserIds:Q.targetUserIds?Q.targetUserIds.split(",").map(Ae=>parseInt(Ae.trim())).filter(Ae=>!isNaN(Ae)):[],sendEmail:Q.sendEmail},je=await af.sendNotification(oe);le({success:je.success,message:je.message||je.error}),je.success&&(K({...Q,title:"",text:"",sendEmail:!1}),b())}catch{le({success:!1,message:"Failed to send notification"})}ue(!1)};return t.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[t.jsx(eA,{size:20}),"Send Notification"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Send Type"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"broadcast",label:"Broadcast All",icon:eA},{value:"targeted",label:"By Audience",icon:Ld},{value:"single",label:"Specific Users",icon:Cw}].map(({value:oe,label:je,icon:Ae})=>t.jsxs("button",{onClick:()=>K({...Q,sendType:oe}),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all flex flex-col items-center gap-2 ${Q.sendType===oe?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-slate-200 dark:border-slate-700 hover:border-slate-300 text-slate-600 dark:text-slate-400"}`,children:[t.jsx(Ae,{size:20}),je]},oe))})]}),Q.sendType==="targeted"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Audience"}),t.jsxs("select",{value:Q.targetAudience,onChange:oe=>K({...Q,targetAudience:oe.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Users"}),t.jsx("option",{value:"premium",children:"Premium Users Only"}),t.jsx("option",{value:"free",children:"Free Users Only"})]})]}),Q.sendType==="single"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"User IDs (comma separated)"}),t.jsx("input",{type:"text",value:Q.targetUserIds,onChange:oe=>K({...Q,targetUserIds:oe.target.value}),placeholder:"1, 2, 3",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Title (optional)"}),t.jsx("input",{type:"text",value:Q.title,onChange:oe=>K({...Q,title:oe.target.value}),placeholder:" Special Announcement",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Message *"}),t.jsx("textarea",{value:Q.text,onChange:oe=>K({...Q,text:oe.target.value}),placeholder:"Enter your notification message...",rows:3,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Type"}),t.jsx("div",{className:"flex gap-2",children:[{value:"info",label:"Info",color:"blue"},{value:"success",label:"Success",color:"green"},{value:"warning",label:"Warning",color:"yellow"},{value:"alert",label:"Alert",color:"red"}].map(({value:oe,label:je,color:Ae})=>t.jsx("button",{onClick:()=>K({...Q,type:oe}),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Q.type===oe?`bg-${Ae}-100 text-${Ae}-700 dark:bg-${Ae}-900/30 dark:text-${Ae}-400 ring-2 ring-${Ae}-500`:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-200"}`,children:je},oe))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Link to Content Tab (optional)"}),t.jsxs("select",{value:Q.tabId,onChange:oe=>K({...Q,tabId:oe.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"No linked tab"}),r.filter(oe=>oe.status==="active").map(oe=>t.jsx("option",{value:oe.id,children:oe.title},oe.id))]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:'Users will see "View Details" when a tab is linked'})]}),t.jsx("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:Q.sendEmail,onChange:oe=>K({...Q,sendEmail:oe.target.checked}),className:"w-5 h-5 mt-0.5 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:" Also Send Email"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Send email notification to users who have opted in to email notifications. Users who have disabled email notifications in Settings will not receive emails."})]})]})}),Ne&&t.jsx("div",{className:`p-4 rounded-xl mb-4 ${Ne.success?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400"}`,children:Ne.message}),t.jsx("button",{onClick:Ce,disabled:ce||!Q.text.trim(),className:"w-full py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:ce?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Sh,{size:18}),"Send Notification"]})})]})})},X=()=>t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Notification History"}),a.length===0?t.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(Au,{className:"mx-auto text-slate-300 dark:text-slate-600 mb-4",size:48}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No notifications sent yet"})]}):t.jsx("div",{className:"space-y-3",children:a.map(Q=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700 flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Q.type==="success"?"bg-green-100 text-green-600":Q.type==="warning"?"bg-yellow-100 text-yellow-600":Q.type==="alert"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:t.jsx(Au,{size:18})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[Q.title&&t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:Q.title}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate",children:Q.text})]}),t.jsxs("div",{className:"text-right text-xs text-slate-400",children:[t.jsx("p",{children:Q.isBroadcast?"Broadcast":"Single"}),t.jsx("p",{children:Q.createdAt})]})]},Q.id))})]}),Y=()=>{const[Q,K]=W.useState(m||{title:"",subtitle:"",content:"",contentType:"markdown",coverImage:"",bannerImage:"",ctaText:"",ctaLink:"",ctaStyle:"primary",targetAudience:"all",category:"announcement",priority:0,status:"draft",startAt:"",endAt:""}),[ce,ue]=W.useState(!1),Ne=async()=>{if(!Q.title||!Q.content){alert("Title and content are required");return}ue(!0);try{let le;m?le=await af.updateTab(m.id,Q):le=await af.createTab(Q),le.success?(p(!1),b()):alert(le.error||"Failed to save")}catch{alert("Failed to save tab")}ue(!1)};return f?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-3xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-800",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:m?"Edit Content Tab":"Create Content Tab"}),t.jsx("button",{onClick:()=>p(!1),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{size:20})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)] space-y-5",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Title *"}),t.jsx("input",{type:"text",value:Q.title||"",onChange:le=>K({...Q,title:le.target.value}),placeholder:"Announcement Title",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subtitle"}),t.jsx("input",{type:"text",value:Q.subtitle||"",onChange:le=>K({...Q,subtitle:le.target.value}),placeholder:"Brief description",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Content * (Markdown supported)"}),t.jsx("textarea",{value:Q.content||"",onChange:le=>K({...Q,content:le.target.value}),placeholder:"Write your announcement content here...",rows:8,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cover Image URL"}),t.jsx("input",{type:"text",value:Q.coverImage||"",onChange:le=>K({...Q,coverImage:le.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Banner Image URL"}),t.jsx("input",{type:"text",value:Q.bannerImage||"",onChange:le=>K({...Q,bannerImage:le.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Button Text"}),t.jsx("input",{type:"text",value:Q.ctaText||"",onChange:le=>K({...Q,ctaText:le.target.value}),placeholder:"Learn More",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Link"}),t.jsx("input",{type:"text",value:Q.ctaLink||"",onChange:le=>K({...Q,ctaLink:le.target.value}),placeholder:"/billing",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Style"}),t.jsxs("select",{value:Q.ctaStyle||"primary",onChange:le=>K({...Q,ctaStyle:le.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"primary",children:"Primary (Blue)"}),t.jsx("option",{value:"secondary",children:"Secondary (Gray)"}),t.jsx("option",{value:"danger",children:"Danger (Red)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category"}),t.jsxs("select",{value:Q.category||"announcement",onChange:le=>K({...Q,category:le.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"announcement",children:" Announcement"}),t.jsx("option",{value:"promotion",children:" Promotion"}),t.jsx("option",{value:"update",children:" Update"}),t.jsx("option",{value:"alert",children:" Alert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Target Audience"}),t.jsxs("select",{value:Q.targetAudience||"all",onChange:le=>K({...Q,targetAudience:le.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:" All Users"}),t.jsx("option",{value:"premium",children:" Premium Only"}),t.jsx("option",{value:"free",children:" Free Users"}),t.jsx("option",{value:"new_users",children:" New Users"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Status"}),t.jsxs("select",{value:Q.status||"draft",onChange:le=>K({...Q,status:le.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"draft",children:" Draft"}),t.jsx("option",{value:"active",children:" Active"}),t.jsx("option",{value:"scheduled",children:" Scheduled"}),t.jsx("option",{value:"archived",children:" Archived"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Start Date (optional)"}),t.jsx("input",{type:"datetime-local",value:Q.startAt?Q.startAt.slice(0,16):"",onChange:le=>K({...Q,startAt:le.target.value?new Date(le.target.value).toISOString():void 0}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"End Date (optional)"}),t.jsx("input",{type:"datetime-local",value:Q.endAt?Q.endAt.slice(0,16):"",onChange:le=>K({...Q,endAt:le.target.value?new Date(le.target.value).toISOString():void 0}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:[t.jsx("button",{onClick:()=>p(!1),className:"px-6 py-3 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl font-medium transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ne,disabled:ce,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:ce?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Bo,{size:18}),m?"Update Tab":"Create Tab"]})})]})]})}):null};return A?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"})}):t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[t.jsx(Au,{className:"text-blue-500"}),"Notification Center"]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Create announcements and send notifications to users"})]}),t.jsx(y,{}),s==="overview"&&t.jsx(T,{}),s==="tabs"&&t.jsx(R,{}),s==="send"&&t.jsx(z,{}),s==="history"&&t.jsx(X,{}),t.jsx(Y,{})]})},$p={getTickets:async(s={})=>{const e=new URLSearchParams(s),n=await(await fetch(`${It}/api/tickets/admin?${e}`,{credentials:"include"})).json();return n.success?{tickets:n.tickets,stats:n.stats}:{tickets:[],stats:{}}},getTicketDetail:async s=>{const r=await(await fetch(`${It}/api/tickets/admin/${s}`,{credentials:"include"})).json();return r.success?{ticket:r.ticket,messages:r.messages}:null},acceptTicket:async s=>(await fetch(`${It}/api/tickets/admin/${s}/accept`,{method:"POST",credentials:"include"})).json(),resolveTicket:async s=>(await fetch(`${It}/api/tickets/admin/${s}/resolve`,{method:"POST",credentials:"include"})).json()},Lj=({status:s,size:e="md"})=>{const r={pending:{color:"yellow",icon:t.jsx(Vi,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Pending"},accepted:{color:"blue",icon:t.jsx(Bo,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Accepted"},in_progress:{color:"indigo",icon:t.jsx(mu,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"In Progress"},resolved:{color:"green",icon:t.jsx(bS,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Resolved"},expired:{color:"red",icon:t.jsx(qo,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Expired"},closed:{color:"slate",icon:t.jsx(hu,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Closed"}},{color:n,icon:a,label:l}=r[s]||r.pending,u={yellow:"bg-yellow-100 text-yellow-700 border-yellow-200",blue:"bg-blue-100 text-blue-700 border-blue-200",indigo:"bg-indigo-100 text-indigo-700 border-indigo-200",green:"bg-green-100 text-green-700 border-green-200",red:"bg-red-100 text-red-700 border-red-200",slate:"bg-slate-100 text-slate-700 border-slate-200"};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium border ${u[n]}`,children:[a,l]})},gK=({priority:s})=>{const e={urgent:"bg-red-500 text-white",high:"bg-orange-500 text-white",normal:"bg-slate-200 text-slate-700",low:"bg-slate-100 text-slate-500"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${e[s]||e.normal}`,children:s.charAt(0).toUpperCase()+s.slice(1)})},Mj=s=>{if(s<=0)return"Expired";const e=Math.floor(s/3600),r=Math.floor(s%3600/60);return e>0?`${e}h ${r}m`:`${r}m`},xK=()=>{const{isConnected:s,joinTicket:e,leaveTicket:r,sendTicketMessage:n,sendTypingStatus:a,onNewTicketMessage:l,onUserTyping:u,onNewTicket:d,onTicketActivity:A}=Um(),[o,f]=W.useState([]),[p,m]=W.useState(null),[x,b]=W.useState(!0),[j,y]=W.useState(null),[T,R]=W.useState([]),[z,X]=W.useState(""),[Y,Q]=W.useState(!1),[K,ce]=W.useState(null),[ue,Ne]=W.useState("all"),[le,Ce]=W.useState("all"),[oe,je]=W.useState(""),Ae=W.useRef(null),se=W.useRef(null),pe=W.useRef();W.useEffect(()=>{re()},[ue,le]),W.useEffect(()=>{const te=d(ge=>{f(Le=>[{id:ge.ticketId,subject:ge.subject,userName:ge.userName,userAvatar:ge.userAvatar,category:ge.category,priority:ge.priority,status:"pending",timeRemaining:86400,isExpired:!1,createdAt:ge.createdAt},...Le]),m(Le=>Le&&{...Le,pending:Le.pending+1,total:Le.total+1})});return()=>te()},[d]),W.useEffect(()=>{const te=A(ge=>{f(Le=>Le.map(Ve=>Ve.id===ge.ticketId?{...Ve,lastMessage:{text:ge.preview,senderType:"user",time:"now"}}:Ve))});return()=>te()},[A]),W.useEffect(()=>{if(j&&s)return e(j.id),()=>{r(j.id)}},[j==null?void 0:j.id,s,e,r]),W.useEffect(()=>{const te=l(ge=>{j&&ge.ticketId===j.id&&(R(Le=>Le.some(Ve=>Ve.id===ge.id)?Le:[...Le,ge]),ce(null))});return()=>te()},[j==null?void 0:j.id,l]),W.useEffect(()=>{const te=u(ge=>{j&&ge.ticketId===j.id&&!ge.isAdmin&&(ge.isTyping?ce(ge.userName):ce(null))});return()=>te()},[j==null?void 0:j.id,u]),W.useEffect(()=>{var te;(te=Ae.current)==null||te.scrollIntoView({behavior:"smooth"})},[T,K]);const re=async()=>{const te={};ue!=="all"&&(te.status=ue),le!=="all"&&(te.assigned=le);const ge=await $p.getTickets(te);f(ge.tickets),m(ge.stats),b(!1)},Ee=async te=>{const ge=await $p.getTicketDetail(te);ge&&(y(ge.ticket),R(ge.messages))},De=async()=>{if(!j)return;const te=await $p.acceptTicket(j.id);if(te.success){y(te.ticket),re();const ge=await $p.getTicketDetail(j.id);ge&&R(ge.messages)}},Se=W.useCallback(()=>{var te;!j||!z.trim()||!s||(Q(!0),n(j.id,z.trim()),X(""),Q(!1),(te=se.current)==null||te.focus(),a(j.id,!1))},[j,z,s,n,a]),fe=te=>{X(te.target.value),j&&s&&(a(j.id,!0),pe.current&&clearTimeout(pe.current),pe.current=setTimeout(()=>{a(j.id,!1)},2e3))},be=async()=>{if(!j||!confirm("Mark this ticket as resolved?"))return;(await $p.resolveTicket(j.id)).success&&(re(),y(null))},he=o.filter(te=>te.subject.toLowerCase().includes(oe.toLowerCase())||te.userName.toLowerCase().includes(oe.toLowerCase()));return t.jsxs("div",{className:"flex h-[calc(100vh-180px)] bg-white rounded-xl border border-slate-200 overflow-hidden",children:[t.jsxs("div",{className:`${j?"hidden md:flex":"flex"} flex-col w-full md:w-96 border-r border-slate-200`,children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Support Tickets"}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${s?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[s?t.jsx(yp,{className:"w-3 h-3"}):t.jsx(vp,{className:"w-3 h-3"}),s?"Live":"Offline"]})]}),t.jsx("button",{onClick:re,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(cd,{className:"w-4 h-4 text-slate-500"})})]}),t.jsxs("div",{className:"relative mb-3",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search tickets...",value:oe,onChange:te=>je(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:ue,onChange:te=>Ne(te.target.value),className:"flex-1 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"accepted",children:"Accepted"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"})]}),t.jsxs("select",{value:le,onChange:te=>Ce(te.target.value),className:"flex-1 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs",children:[t.jsx("option",{value:"all",children:"All Tickets"}),t.jsx("option",{value:"me",children:"My Tickets"}),t.jsx("option",{value:"unassigned",children:"Unassigned"})]})]})]}),p&&t.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-100 flex gap-4 text-xs",children:[t.jsxs("span",{className:"text-yellow-600",children:[p.pending," pending"]}),t.jsxs("span",{className:"text-blue-600",children:[p.inProgress," active"]}),t.jsxs("span",{className:"text-green-600",children:[p.resolved," resolved"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:x?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(cd,{className:"w-6 h-6 animate-spin text-slate-400"})}):he.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(fm,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No tickets found"})]}):he.map(te=>t.jsx("div",{onClick:()=>Ee(te.id),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${(j==null?void 0:j.id)===te.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden shrink-0",children:te.userAvatar?t.jsx("img",{src:te.userAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Xo,{className:"w-5 h-5 text-slate-400"})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Lj,{status:te.status,size:"sm"}),t.jsx(gK,{priority:te.priority})]}),t.jsx("h3",{className:"font-medium text-slate-800 text-sm truncate",children:te.subject}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:te.userName}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-400",children:[t.jsx("span",{children:te.createdAt}),te.status==="pending"&&!te.isExpired&&t.jsxs("span",{className:"flex items-center gap-1 text-orange-500",children:[t.jsx(qb,{className:"w-3 h-3"}),Mj(te.timeRemaining)]})]})]})]})},te.id))})]}),t.jsx("div",{className:`${j?"flex":"hidden md:flex"} flex-1 flex-col`,children:j?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>y(null),className:"md:hidden p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-4 h-4"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-semibold text-slate-800",children:j.subject}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",j.id]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Lj,{status:j.status,size:"sm"}),t.jsx("span",{className:"text-sm text-slate-500",children:j.userName})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[j.status==="pending"&&!j.isExpired&&t.jsx("button",{onClick:De,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Accept Ticket"}),["accepted","in_progress"].includes(j.status)&&t.jsx("button",{onClick:be,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Mark Resolved"})]})]}),j.status!=="resolved"&&j.status!=="closed"&&!j.isExpired&&t.jsxs("div",{className:"mt-3 p-2 bg-orange-50 rounded-lg flex items-center gap-2 text-xs text-orange-600",children:[t.jsx(qb,{className:"w-4 h-4"}),t.jsxs("span",{children:["Time remaining: ",Mj(j.timeRemaining)]})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[T.map(te=>t.jsx("div",{className:`flex ${te.senderType==="admin"?"justify-end":"justify-start"}`,children:te.senderType==="system"?t.jsx("div",{className:"text-center text-xs text-slate-400 py-2 w-full",children:te.content}):t.jsxs("div",{className:`flex items-end gap-2 max-w-[70%] ${te.senderType==="admin"?"flex-row-reverse":""}`,children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 overflow-hidden shrink-0",children:te.senderAvatar?t.jsx("img",{src:te.senderAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Xo,{className:"w-4 h-4 text-slate-400"})})}),t.jsxs("div",{children:[t.jsx("div",{className:`px-4 py-3 rounded-2xl ${te.senderType==="admin"?"bg-blue-600 text-white rounded-br-md":"bg-white border border-slate-200 rounded-bl-md"}`,children:t.jsx("p",{className:"text-sm",children:te.content})}),t.jsx("div",{className:`text-xs text-slate-400 mt-1 ${te.senderType==="admin"?"text-right":""}`,children:new Date(te.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},te.id)),K&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white border border-slate-200 px-4 py-3 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[K," is typing..."]})]})})}),t.jsx("div",{ref:Ae})]}),["accepted","in_progress"].includes(j.status)?t.jsx("div",{className:"p-4 border-t border-slate-100",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{ref:se,type:"text",value:z,onChange:fe,onKeyDown:te=>te.key==="Enter"&&!te.shiftKey&&Se(),placeholder:s?"Type your reply...":"Connecting...",disabled:!s,className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:Se,disabled:Y||!z.trim()||!s,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:t.jsx(Sh,{className:"w-5 h-5"})})]})}):j.status==="pending"?t.jsx("div",{className:"p-4 bg-yellow-50 text-center text-sm text-yellow-700",children:"Accept this ticket to start chatting"}):t.jsxs("div",{className:"p-4 bg-slate-100 text-center text-sm text-slate-500",children:["This ticket is ",j.status]})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mu,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a ticket to view details"})]})})})]})},v0={getMessages:async(s="all")=>{const r=await(await fetch(`${It}/api/admin-messages?type=${s}`,{credentials:"include"})).json();return r.success?{messages:r.messages,unreadCount:r.unreadCount}:{messages:[],unreadCount:0}},getAdmins:async()=>{const e=await(await fetch(`${It}/api/admin-messages/admins`,{credentials:"include"})).json();return e.success?e.admins:[]},markRead:async s=>{await fetch(`${It}/api/admin-messages/${s}/read`,{method:"POST",credentials:"include"})},getSystemNotifications:async()=>{const e=await(await fetch(`${It}/api/admin-messages/system-notifications`,{credentials:"include"})).json();return e.success?{notifications:e.notifications,unreadCount:e.unreadCount}:{notifications:[],unreadCount:0}}},Oj=({priority:s})=>{const e={urgent:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",normal:"bg-slate-100 text-slate-600",low:"bg-slate-50 text-slate-400"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${e[s]||e.normal}`,children:s})},bK=()=>{const{isConnected:s,sendAdminMessage:e,onNewAdminMessage:r}=Um(),[n,a]=W.useState("messages"),[l,u]=W.useState("all"),[d,A]=W.useState([]),[o,f]=W.useState([]),[p,m]=W.useState([]),[x,b]=W.useState(0),[j,y]=W.useState(0),[T,R]=W.useState(!0),[z,X]=W.useState(!1),[Y,Q]=W.useState(null);W.useEffect(()=>{K()},[l]),W.useEffect(()=>{const ue=r(Ne=>{const le={id:Ne.id,senderId:Ne.senderId,senderName:Ne.senderName,senderAvatar:Ne.senderAvatar,recipientId:Ne.recipientId,recipientName:Ne.recipientName,isBroadcast:Ne.isBroadcast,subject:Ne.subject,content:Ne.content,messageType:"message",priority:Ne.priority,createdAt:Ne.createdAt,isRead:!1};A(Ce=>[le,...Ce]),b(Ce=>Ce+1)});return()=>ue()},[r]);const K=async()=>{R(!0);const[ue,Ne,le]=await Promise.all([v0.getMessages(l),v0.getSystemNotifications(),v0.getAdmins()]);A(ue.messages),b(ue.unreadCount),f(Ne.notifications),y(Ne.unreadCount),m(le),R(!1)},ce=async ue=>{Q(ue),ue.isRead||(await v0.markRead(ue.id),A(Ne=>Ne.map(le=>le.id===ue.id?{...le,isRead:!0}:le)),b(Ne=>Math.max(0,Ne-1)))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Admin Communications"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Internal messages and system notifications"})]}),t.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs ${s?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[s?t.jsx(yp,{className:"w-3 h-3"}):t.jsx(vp,{className:"w-3 h-3"}),s?"Live":"Offline"]})]}),t.jsxs("button",{onClick:()=>X(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:[t.jsx($i,{className:"w-4 h-4"}),"New Message"]})]}),t.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[t.jsx("button",{onClick:()=>a("messages"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${n==="messages"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Mh,{className:"w-4 h-4"}),"Messages",x>0&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:x})]})}),t.jsx("button",{onClick:()=>a("notifications"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${n==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Au,{className:"w-4 h-4"}),"System Notifications",j>0&&t.jsx("span",{className:"px-1.5 py-0.5 bg-red-500 text-white text-xs rounded-full",children:j})]})})]}),t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:n==="messages"?t.jsxs("div",{className:"flex h-[500px]",children:[t.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 border-r border-slate-200 flex flex-col",children:[t.jsx("div",{className:"p-3 border-b border-slate-100 flex gap-2",children:["all","received","sent"].map(ue=>t.jsx("button",{onClick:()=>u(ue),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${l===ue?"bg-blue-100 text-blue-700":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:ue.charAt(0).toUpperCase()+ue.slice(1)},ue))}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:T?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(cd,{className:"w-6 h-6 animate-spin text-slate-400"})}):d.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(Xd,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No messages"})]}):d.map(ue=>t.jsx("div",{onClick:()=>ce(ue),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${ue.isRead?"":"bg-blue-50/50"} ${(Y==null?void 0:Y.id)===ue.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden shrink-0 flex items-center justify-center",children:ue.senderAvatar?t.jsx("img",{src:ue.senderAvatar,alt:"",className:"w-full h-full object-cover"}):ue.isBroadcast?t.jsx(eA,{className:"w-5 h-5 text-slate-500"}):t.jsx(Xo,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ue.isBroadcast&&t.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"Broadcast"}),t.jsx(Oj,{priority:ue.priority})]}),t.jsx("h4",{className:`text-sm truncate ${ue.isRead?"":"font-semibold"}`,children:ue.subject||"No subject"}),t.jsxs("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:[ue.senderName,"  ",ue.isBroadcast?"All Admins":ue.recipientName]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(ue.createdAt).toLocaleString()})]}),!ue.isRead&&t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shrink-0 mt-2"})]})},ue.id))})]}),t.jsx("div",{className:"hidden md:flex flex-1 flex-col",children:Y?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Y.isBroadcast&&t.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-lg flex items-center gap-1",children:[t.jsx(eA,{className:"w-3 h-3"}),"Broadcast"]}),t.jsx(Oj,{priority:Y.priority})]}),t.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:Y.subject||"No subject"}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-slate-500",children:[t.jsxs("span",{children:["From: ",Y.senderName]}),t.jsx("span",{children:""}),t.jsxs("span",{children:["To: ",Y.isBroadcast?"All Admins":Y.recipientName]})]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(Y.createdAt).toLocaleString()})]}),t.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:t.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:Y.content})})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Xd,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a message to view"})]})})})]}):t.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:T?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(cd,{className:"w-6 h-6 animate-spin text-slate-400"})}):o.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(Au,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No notifications"})]}):o.map(ue=>t.jsx("div",{className:`p-4 border-b border-slate-100 hover:bg-slate-50 transition-colors ${ue.isRead?"":"bg-blue-50/50"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${ue.notificationType.includes("ticket")?"bg-blue-100 text-blue-600":ue.notificationType==="new_user"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-600"}`,children:t.jsx(Au,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:`text-sm ${ue.isRead?"":"font-semibold"}`,children:ue.title}),ue.content&&t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:ue.content}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:new Date(ue.createdAt).toLocaleString()})]})]})},ue.id))})}),z&&t.jsx(vK,{admins:p,isConnected:s,onSend:e,onClose:()=>X(!1),onSent:()=>{X(!1),K()}})]})},vK=({admins:s,isConnected:e,onSend:r,onClose:n,onSent:a})=>{const[l,u]=W.useState(!0),[d,A]=W.useState(null),[o,f]=W.useState(""),[p,m]=W.useState(""),[x,b]=W.useState("normal"),[j,y]=W.useState(""),T=()=>{if(!p.trim()){y("Please enter a message");return}if(!l&&!d){y("Please select a recipient");return}if(!e){y("Not connected to server");return}r(l?null:d,p,o,x),a()},R=s.filter(z=>!z.isCurrentUser);return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"New Message"}),t.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[j&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg text-sm flex items-center gap-2",children:[t.jsx(Ia,{className:"w-4 h-4"}),j]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Send To"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{type:"button",onClick:()=>{u(!0),A(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors ${l?"border-blue-500 bg-blue-50 text-blue-600":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx(eA,{className:"w-4 h-4"}),"All Admins"]}),t.jsxs("button",{type:"button",onClick:()=>u(!1),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors ${l?"border-slate-200 hover:border-slate-300":"border-blue-500 bg-blue-50 text-blue-600"}`,children:[t.jsx(Xo,{className:"w-4 h-4"}),"Specific Admin"]})]})]}),!l&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Recipient"}),t.jsxs("select",{value:d||"",onChange:z=>A(Number(z.target.value)||null),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white",children:[t.jsx("option",{value:"",children:"Select admin..."}),R.map(z=>t.jsxs("option",{value:z.id,children:[z.name," (",z.email,")"]},z.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Subject (optional)"}),t.jsx("input",{type:"text",value:o,onChange:z=>f(z.target.value),placeholder:"Message subject",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Priority"}),t.jsx("div",{className:"flex gap-2",children:["low","normal","high","urgent"].map(z=>t.jsx("button",{type:"button",onClick:()=>b(z),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x===z?z==="urgent"?"bg-red-100 text-red-700":z==="high"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:z.charAt(0).toUpperCase()+z.slice(1)},z))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Message *"}),t.jsx("textarea",{value:p,onChange:z=>m(z.target.value),placeholder:"Type your message...",rows:5,className:"w-full px-4 py-3 rounded-xl border border-slate-200 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-200 flex gap-3",children:[t.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-slate-100 rounded-xl font-medium hover:bg-slate-200 transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:T,disabled:!e,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[t.jsx(Sh,{className:"w-4 h-4"}),"Send ",l?"Broadcast":"Message"]})]})]})})},y0={getRooms:async()=>{const e=await(await fetch(`${It}/api/admin-chat/rooms`,{credentials:"include"})).json();return e.success?e.rooms:[]},getAdmins:async()=>{const e=await(await fetch(`${It}/api/admin-chat/admins`,{credentials:"include"})).json();return e.success?e.admins:[]},startChat:async s=>{const r=await(await fetch(`${It}/api/admin-chat/start/${s}`,{method:"POST",credentials:"include"})).json();return r.success?r.room:null},getMessages:async(s,e)=>{const r=e?`${It}/api/admin-chat/rooms/${s}/messages?before=${e}`:`${It}/api/admin-chat/rooms/${s}/messages`,a=await(await fetch(r,{credentials:"include"})).json();return a.success?{messages:a.messages,hasMore:a.hasMore}:{messages:[],hasMore:!1}},markRead:async s=>{await fetch(`${It}/api/admin-chat/rooms/${s}/read`,{method:"POST",credentials:"include"})}},yK=()=>{var Ae,se;const{socket:s,isConnected:e}=Um(),[r,n]=W.useState([]),[a,l]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState([]),[f,p]=W.useState(""),[m,x]=W.useState(!0),[b,j]=W.useState(!1),[y,T]=W.useState(""),[R,z]=W.useState(null),X=W.useRef(null),Y=W.useRef(null),Q=W.useRef(null);W.useEffect(()=>{K(),ce()},[]),W.useEffect(()=>{if(!s)return;const pe=De=>{u&&De.roomId===u.id&&(o(Se=>Se.some(fe=>fe.id===De.id)?Se:[...Se,De]),z(null)),n(Se=>Se.map(fe=>fe.id===De.roomId?{...fe,lastMessagePreview:De.content.slice(0,50),lastMessageAt:De.createdAt,unreadCount:(u==null?void 0:u.id)===De.roomId?0:fe.unreadCount+1}:fe).sort((fe,be)=>new Date(be.lastMessageAt||0).getTime()-new Date(fe.lastMessageAt||0).getTime()))},re=De=>{u&&De.roomId===u.id&&z(De.isTyping?De.userName:null)},Ee=De=>{console.log(` New message from ${De.senderName}`)};return s.on("new_admin_chat_message",pe),s.on("admin_chat_user_typing",re),s.on("admin_chat_notification",Ee),()=>{s.off("new_admin_chat_message",pe),s.off("admin_chat_user_typing",re),s.off("admin_chat_notification",Ee)}},[s,u]),W.useEffect(()=>{if(!(!s||!u))return s.emit("join_admin_chat",{roomId:u.id}),()=>{s.emit("leave_admin_chat",{roomId:u.id})}},[s,u==null?void 0:u.id]),W.useEffect(()=>{var pe;(pe=X.current)==null||pe.scrollIntoView({behavior:"smooth"})},[A,R]);const K=async()=>{const pe=await y0.getRooms();n(pe),x(!1)},ce=async()=>{const pe=await y0.getAdmins();l(pe)},ue=async pe=>{d(pe);const re=await y0.getMessages(pe.id);o(re.messages),n(Ee=>Ee.map(De=>De.id===pe.id?{...De,unreadCount:0}:De)),setTimeout(()=>{var Ee;return(Ee=Y.current)==null?void 0:Ee.focus()},100)},Ne=async pe=>{const re=await y0.startChat(pe.id);re&&(r.find(De=>De.id===re.id)||n(De=>[re,...De]),ue(re),j(!1))},le=W.useCallback(()=>{var pe;!f.trim()||!u||!s||!e||(s.emit("admin_chat_message",{roomId:u.id,content:f.trim()}),p(""),(pe=Y.current)==null||pe.focus(),s.emit("admin_chat_typing",{roomId:u.id,isTyping:!1}))},[f,u,s,e]),Ce=pe=>{p(pe.target.value),u&&s&&e&&(s.emit("admin_chat_typing",{roomId:u.id,isTyping:!0}),Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{s.emit("admin_chat_typing",{roomId:u.id,isTyping:!1})},2e3))},oe=pe=>{const re=new Date(pe),De=new Date().getTime()-re.getTime();return De<6e4?"Just now":De<36e5?`${Math.floor(De/6e4)}m ago`:De<864e5?re.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):re.toLocaleDateString([],{month:"short",day:"numeric"})},je=a.filter(pe=>pe.name.toLowerCase().includes(y.toLowerCase())||pe.email.toLowerCase().includes(y.toLowerCase()));return t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden h-[600px] flex",children:[t.jsxs("div",{className:`${u?"hidden md:flex":"flex"} flex-col w-full md:w-80 border-r border-slate-200`,children:[t.jsx("div",{className:"p-4 border-b border-slate-100",children:t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Admin Chat"}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${e?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[e?t.jsx(yp,{className:"w-3 h-3"}):t.jsx(vp,{className:"w-3 h-3"}),e?"Live":"Offline"]})]}),t.jsx("button",{onClick:()=>j(!0),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:t.jsx($i,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:m?t.jsx("div",{className:"flex items-center justify-center h-40 text-slate-400",children:"Loading..."}):r.length===0?t.jsxs("div",{className:"text-center py-12 px-4",children:[t.jsx(mu,{className:"w-12 h-12 mx-auto mb-3 text-slate-200"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"No conversations yet"}),t.jsx("button",{onClick:()=>j(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Start a Chat"})]}):r.map(pe=>{var re;return t.jsx("div",{onClick:()=>ue(pe),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${(u==null?void 0:u.id)===pe.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:(re=pe.otherMember)!=null&&re.avatar?t.jsx("img",{src:pe.otherMember.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Xo,{className:"w-6 h-6 text-slate-400"})}),pe.unreadCount>0&&t.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-600 text-white text-xs rounded-full flex items-center justify-center",children:pe.unreadCount>9?"9+":pe.unreadCount})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:`font-medium truncate ${pe.unreadCount>0?"text-slate-900":"text-slate-700"}`,children:pe.name}),pe.lastMessageAt&&t.jsx("span",{className:"text-xs text-slate-400",children:oe(pe.lastMessageAt)})]}),pe.lastMessagePreview&&t.jsx("p",{className:`text-sm truncate mt-0.5 ${pe.unreadCount>0?"text-slate-600 font-medium":"text-slate-400"}`,children:pe.lastMessagePreview})]})]})},pe.id)})})]}),t.jsx("div",{className:`${u?"flex":"hidden md:flex"} flex-1 flex-col`,children:u?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center gap-3",children:[t.jsx("button",{onClick:()=>d(null),className:"md:hidden p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(rA,{className:"w-5 h-5"})}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:(Ae=u.otherMember)!=null&&Ae.avatar?t.jsx("img",{src:u.otherMember.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Xo,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-800",children:u.name}),t.jsx("p",{className:"text-xs text-slate-400",children:(se=u.otherMember)==null?void 0:se.role})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-slate-50",children:[A.map(pe=>{var re,Ee,De,Se,fe;return t.jsx("div",{className:`flex ${pe.senderId===((re=u.otherMember)==null?void 0:re.id)?"justify-start":"justify-end"}`,children:t.jsxs("div",{className:`flex items-end gap-2 max-w-[75%] ${pe.senderId!==((Ee=u.otherMember)==null?void 0:Ee.id)?"flex-row-reverse":""}`,children:[pe.senderId===((De=u.otherMember)==null?void 0:De.id)&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 overflow-hidden shrink-0",children:pe.senderAvatar?t.jsx("img",{src:pe.senderAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Xo,{className:"w-4 h-4 text-slate-400"})})}),t.jsxs("div",{children:[t.jsx("div",{className:`px-4 py-2.5 rounded-2xl ${pe.senderId===((Se=u.otherMember)==null?void 0:Se.id)?"bg-white border border-slate-200 rounded-bl-md":"bg-blue-600 text-white rounded-br-md"}`,children:t.jsx("p",{className:"text-sm",children:pe.content})}),t.jsx("p",{className:`text-xs text-slate-400 mt-1 ${pe.senderId!==((fe=u.otherMember)==null?void 0:fe.id)?"text-right":""}`,children:oe(pe.createdAt)})]})]})},pe.id)}),R&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white border border-slate-200 px-4 py-2.5 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[R," is typing..."]})]})})}),t.jsx("div",{ref:X})]}),t.jsx("div",{className:"p-4 border-t border-slate-100",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:Y,type:"text",value:f,onChange:Ce,onKeyDown:pe=>pe.key==="Enter"&&!pe.shiftKey&&le(),placeholder:e?"Type a message...":"Connecting...",disabled:!e,className:"flex-1 px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:le,disabled:!f.trim()||!e,className:"px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:t.jsx(Sh,{className:"w-5 h-5"})})]})})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mu,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a conversation or start a new chat"})]})})}),b&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"New Conversation"}),t.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-4 border-b border-slate-100",children:t.jsxs("div",{className:"relative",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search admins...",value:y,onChange:pe=>T(pe.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),t.jsx("div",{className:"max-h-80 overflow-y-auto",children:je.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-400",children:[t.jsx(Xo,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No admins found"})]}):je.map(pe=>t.jsx("div",{onClick:()=>Ne(pe),className:"p-4 hover:bg-slate-50 cursor-pointer transition-colors border-b border-slate-100 last:border-0",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:pe.avatar?t.jsx("img",{src:pe.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Xo,{className:"w-6 h-6 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-slate-800",children:pe.name}),t.jsx("p",{className:"text-sm text-slate-500",children:pe.email}),t.jsx("span",{className:"text-xs text-slate-400",children:pe.role})]})]})},pe.id))})]})})]})},Ij={code:"",name:"",description:"",voucherType:"discount",discountType:"percentage",discountValue:10,minAmount:0,maxDiscount:null,activationDays:30,activationPlanId:null,maxUses:100,maxUsesPerUser:1,applicablePlans:[],validFrom:"",validUntil:"",status:"active"},wK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState([]),[a,l]=W.useState(!0),[u,d]=W.useState(!1),[A,o]=W.useState(null),[f,p]=W.useState(Ij),[m,x]=W.useState(""),[b,j]=W.useState(!1),[y,T]=W.useState("all"),[R,z]=W.useState("all"),[X,Y]=W.useState(""),[Q,K]=W.useState(!1),[ce,ue]=W.useState(null),[Ne,le]=W.useState([]),[Ce,oe]=W.useState(!1);W.useEffect(()=>{Ae(),je()},[y,R]);const je=async()=>{try{const ge=await(await fetch(`${It}/api/admin-subscription/plans?include_inactive=true`,{credentials:"include"})).json();n(ge.plans||[])}catch(te){console.error("Error fetching plans:",te)}},Ae=async()=>{l(!0);try{let te=`${It}/api/admin-subscription/vouchers`;const ge=new URLSearchParams;y!=="all"&&ge.append("status",y),R!=="all"&&ge.append("type",R),ge.toString()&&(te+=`?${ge.toString()}`);const Ve=await(await fetch(te,{credentials:"include"})).json();e(Ve.vouchers||[])}catch(te){console.error("Error fetching vouchers:",te)}finally{l(!1)}},se=async te=>{oe(!0);try{const Le=await(await fetch(`${It}/api/admin-subscription/vouchers/${te}/usages`,{credentials:"include"})).json();le(Le.usages||[])}catch(ge){console.error("Error fetching usages:",ge)}finally{oe(!1)}},pe=te=>{var ge,Le;te?(o(te),p({code:te.code,name:te.name||"",description:te.description||"",voucherType:te.voucherType,discountType:te.discountType||"percentage",discountValue:te.discountValue||10,minAmount:te.minAmount||0,maxDiscount:te.maxDiscount,activationDays:te.activationDays||30,activationPlanId:te.activationPlanId,maxUses:te.maxUses,maxUsesPerUser:te.maxUsesPerUser,applicablePlans:te.applicablePlans||[],validFrom:((ge=te.validFrom)==null?void 0:ge.split(" ")[0])||"",validUntil:((Le=te.validUntil)==null?void 0:Le.split(" ")[0])||"",status:te.status})):(o(null),p(Ij)),x(""),d(!0)},re=()=>{d(!1),o(null),x("")},Ee=async()=>{if(!f.code.trim()){x("Voucher code is required");return}if(f.voucherType==="discount"&&(!f.discountValue||f.discountValue<=0)){x("Discount value must be greater than 0");return}j(!0),x("");try{const te=A?`${It}/api/admin-subscription/vouchers/${A.id}`:`${It}/api/admin-subscription/vouchers`,Le=await fetch(te,{method:A?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:f.code.toUpperCase().trim(),name:f.name,description:f.description,voucherType:f.voucherType,discountType:f.discountType,discountValue:f.discountValue,minAmount:f.minAmount,maxDiscount:f.maxDiscount,activationDays:f.voucherType==="activation"?f.activationDays:null,activationPlanId:f.voucherType==="activation"?f.activationPlanId:null,maxUses:f.maxUses,maxUsesPerUser:f.maxUsesPerUser,applicablePlans:f.applicablePlans,validFrom:f.validFrom||null,validUntil:f.validUntil||null,status:f.status})}),Ve=await Le.json();Le.ok?(Ae(),re()):x(Ve.error||"Failed to save voucher")}catch{x("Failed to save voucher")}finally{j(!1)}},De=async te=>{try{await fetch(`${It}/api/admin-subscription/vouchers/${te}/toggle-status`,{method:"POST",credentials:"include"}),Ae()}catch(ge){console.error("Error toggling status:",ge)}},Se=te=>{ue(te.id),K(!0),se(te.id)},fe=s.filter(te=>{var ge;if(X){const Le=X.toLowerCase();return te.code.toLowerCase().includes(Le)||((ge=te.name)==null?void 0:ge.toLowerCase().includes(Le))}return!0}),be=te=>te==="discount"?t.jsx(kw,{className:"w-5 h-5 text-green-500"}):t.jsx(ww,{className:"w-5 h-5 text-purple-500"}),he=te=>{const ge={active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",inactive:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",exhausted:"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"};return ge[te]||ge.inactive};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Voucher Management"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Create and manage discount codes and activation codes"})]}),t.jsxs("button",{onClick:()=>pe(),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors",children:[t.jsx($i,{size:18})," Create Voucher"]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search by code or name...",value:X,onChange:te=>Y(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("select",{value:R,onChange:te=>z(te.target.value),className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"discount",children:"Discount"}),t.jsx("option",{value:"activation",children:"Activation"})]}),t.jsxs("select",{value:y,onChange:te=>T(te.target.value),className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"exhausted",children:"Exhausted"})]})]}),a?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Fr,{className:"w-8 h-8 animate-spin text-amber-500"})}):fe.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-500",children:[t.jsx(xf,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No vouchers found"})]}):t.jsx("div",{className:"grid gap-4",children:fe.map(te=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[be(te.voucherType),t.jsx("span",{className:"font-mono font-bold text-lg text-slate-900 dark:text-white",children:te.code}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${he(te.status)}`,children:te.status}),!te.isValid&&te.status==="active"&&t.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded-full text-xs",children:"Expired"})]}),te.name&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:te.name}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-500 dark:text-slate-400",children:[te.voucherType==="discount"?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(G0,{size:14}),te.discountType==="percentage"?`${te.discountValue}% off`:`RM${te.discountValue} off`]}):t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{size:14}),te.activationDays?`${te.activationDays} days`:"Lifetime"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ld,{size:14}),te.currentUses,"/",te.maxUses," used"]}),te.validUntil&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(co,{size:14}),"Until ",te.validUntil.split(" ")[0]]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Se(te),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Usages",children:t.jsx(io,{size:18})}),t.jsx("button",{onClick:()=>pe(te),className:"p-2 text-slate-500 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit",children:t.jsx(bp,{size:18})}),t.jsx("button",{onClick:()=>De(te.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${te.status==="active"?"bg-red-100 text-red-600 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400":"bg-green-100 text-green-600 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-400"}`,children:te.status==="active"?"Deactivate":"Activate"})]})]})},te.id))}),u&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 w-full max-w-lg my-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:A?"Edit Voucher":"Create Voucher"}),t.jsx("button",{onClick:re,className:"text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:20})})]}),m&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[t.jsx(Ia,{size:16}),m]}),t.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Voucher Code *"}),t.jsx("input",{type:"text",value:f.code,onChange:te=>p({...f,code:te.target.value.toUpperCase()}),placeholder:"e.g., SAVE20",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg font-mono uppercase",disabled:!!A})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Display Name"}),t.jsx("input",{type:"text",value:f.name,onChange:te=>p({...f,name:te.target.value}),placeholder:"e.g., New Year Promotion",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Voucher Type *"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>p({...f,voucherType:"discount"}),className:`p-3 rounded-lg border-2 flex items-center gap-2 transition-colors ${f.voucherType==="discount"?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(kw,{size:18,className:f.voucherType==="discount"?"text-green-500":"text-slate-400"}),t.jsx("span",{className:"font-medium",children:"Discount"})]}),t.jsxs("button",{type:"button",onClick:()=>p({...f,voucherType:"activation"}),className:`p-3 rounded-lg border-2 flex items-center gap-2 transition-colors ${f.voucherType==="activation"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(ww,{size:18,className:f.voucherType==="activation"?"text-purple-500":"text-slate-400"}),t.jsx("span",{className:"font-medium",children:"Activation"})]})]})]}),f.voucherType==="discount"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Discount Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("button",{type:"button",onClick:()=>p({...f,discountType:"percentage"}),className:`p-2 rounded-lg border text-center transition-colors ${f.discountType==="percentage"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:"Percentage (%)"}),t.jsx("button",{type:"button",onClick:()=>p({...f,discountType:"fixed"}),className:`p-2 rounded-lg border text-center transition-colors ${f.discountType==="fixed"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:"Fixed (RM)"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Discount Value *"}),t.jsx("input",{type:"number",value:f.discountValue,onChange:te=>p({...f,discountValue:parseFloat(te.target.value)||0}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Min Amount (RM)"}),t.jsx("input",{type:"number",value:f.minAmount,onChange:te=>p({...f,minAmount:parseFloat(te.target.value)||0}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),f.discountType==="percentage"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Max Discount (RM) - Optional"}),t.jsx("input",{type:"number",value:f.maxDiscount||"",onChange:te=>p({...f,maxDiscount:te.target.value?parseFloat(te.target.value):null}),placeholder:"No limit",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),f.voucherType==="activation"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Activation Days (leave empty for lifetime)"}),t.jsx("input",{type:"number",value:f.activationDays||"",onChange:te=>p({...f,activationDays:te.target.value?parseInt(te.target.value):null}),placeholder:"e.g., 30 (or leave empty for lifetime)",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Total Uses"}),t.jsx("input",{type:"number",value:f.maxUses,onChange:te=>p({...f,maxUses:parseInt(te.target.value)||1}),min:"1",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Per User Limit"}),t.jsx("input",{type:"number",value:f.maxUsesPerUser,onChange:te=>p({...f,maxUsesPerUser:parseInt(te.target.value)||1}),min:"1",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Valid From"}),t.jsx("input",{type:"date",value:f.validFrom,onChange:te=>p({...f,validFrom:te.target.value}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Valid Until"}),t.jsx("input",{type:"date",value:f.validUntil,onChange:te=>p({...f,validUntil:te.target.value}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description"}),t.jsx("textarea",{value:f.description,onChange:te=>p({...f,description:te.target.value}),placeholder:"Internal notes or description...",rows:2,className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg resize-none"})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:[t.jsx("button",{onClick:re,className:"flex-1 py-2.5 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ee,disabled:b,className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:b?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):A?"Update Voucher":"Create Voucher"})]})]})}),Q&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 w-full max-w-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Usage History"}),t.jsx("button",{onClick:()=>K(!1),className:"text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:20})})]}),Ce?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(Fr,{className:"w-6 h-6 animate-spin text-amber-500"})}):Ne.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Ld,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No usage history yet"})]}):t.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:Ne.map(te=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:te.userName||te.userEmail||`User #${te.userId}`}),t.jsx("p",{className:"text-xs text-slate-500",children:te.createdAt})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:`text-xs px-2 py-1 rounded ${te.usageType==="activation"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:te.usageType}),te.discountAmount>0&&t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["-RM ",te.discountAmount.toFixed(2)]})]})]},te.id))})]})})]})},Dj={name:"",slug:"",description:"",price:0,currency:"MYR",durationDays:30,durationType:"days",status:"active",isFeatured:!1,sortOrder:0},jK=s=>s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),NK=(s,e)=>s===null?"Lifetime":e==="months"||s===30?s===30?"1 Month":`${Math.round(s/30)} Months`:e==="years"||s===365?s===365?"1 Year":`${Math.round(s/365)} Years`:`${s} Days`,kK=(s,e="MYR")=>`${e} ${s.toFixed(2)}`,Rj=[{label:"7 Days",days:7,type:"days"},{label:"14 Days",days:14,type:"days"},{label:"1 Month",days:30,type:"months"},{label:"3 Months",days:90,type:"months"},{label:"6 Months",days:180,type:"months"},{label:"1 Year",days:365,type:"years"},{label:"Lifetime",days:null,type:"lifetime"}],CK=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(!1),[u,d]=W.useState(!0),[A,o]=W.useState(""),[f,p]=W.useState(!1),[m,x]=W.useState(null),[b,j]=W.useState(Dj),[y,T]=W.useState(!1),[R,z]=W.useState(""),[X,Y]=W.useState(null),Q=async(re=!0)=>{re?n(!0):l(!0);try{const De=await(await fetch(`${It}/api/admin-subscription/plans?include_inactive=${u}`,{credentials:"include"})).json();De.plans&&e(De.plans)}catch(Ee){console.error("Error fetching plans:",Ee),K("error","Failed to load plans")}finally{n(!1),l(!1)}};W.useEffect(()=>{Q()},[u]);const K=(re,Ee)=>{Y({type:re,text:Ee}),setTimeout(()=>Y(null),3e3)},ce=re=>{re?(x(re),j({name:re.name,slug:re.slug,description:re.description||"",price:re.price,currency:re.currency,durationDays:re.durationDays,durationType:re.durationType,status:re.status,isFeatured:re.isFeatured,sortOrder:re.sortOrder})):(x(null),j({...Dj,sortOrder:s.length})),z(""),p(!0)},ue=()=>{p(!1),x(null),z("")},Ne=re=>{j(Ee=>({...Ee,name:re,slug:m?Ee.slug:jK(re)}))},le=re=>{j(Ee=>({...Ee,durationDays:re.days,durationType:re.type}))},Ce=async()=>{if(!b.name.trim()){z("Plan name is required");return}if(!b.slug.trim()){z("Plan slug is required");return}if(b.price<0){z("Price must be 0 or greater");return}T(!0),z("");try{const re=m?`${It}/api/admin-subscription/plans/${m.id}`:`${It}/api/admin-subscription/plans`,De=await fetch(re,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(b)}),Se=await De.json();De.ok&&Se.success?(K("success",m?"Plan updated successfully":"Plan created successfully"),Q(!1),ue()):z(Se.error||"Failed to save plan")}catch{z("Network error occurred")}finally{T(!1)}},oe=async re=>{try{const Ee=await fetch(`${It}/api/admin-subscription/plans/${re}/toggle-status`,{method:"POST",credentials:"include"}),De=await Ee.json();Ee.ok&&De.success?(K("success",De.message||"Status updated"),Q(!1)):K("error",De.error||"Failed to update status")}catch{K("error","Network error occurred")}},je=async re=>{try{(await fetch(`${It}/api/admin-subscription/plans/${re.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isFeatured:!re.isFeatured})})).ok&&(K("success",re.isFeatured?"Removed from featured":"Marked as featured"),Q(!1))}catch{K("error","Failed to update")}},Ae=async(re,Ee)=>{try{await fetch(`${It}/api/admin-subscription/plans/${re}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({sortOrder:Ee})}),Q(!1)}catch{console.error("Failed to update sort order")}},se=s.filter(re=>{if(!A)return!0;const Ee=A.toLowerCase();return re.name.toLowerCase().includes(Ee)||re.slug.toLowerCase().includes(Ee)}).sort((re,Ee)=>re.sortOrder-Ee.sortOrder),pe={total:s.length,active:s.filter(re=>re.status==="active").length,inactive:s.filter(re=>re.status==="inactive").length,featured:s.filter(re=>re.isFeatured).length};return t.jsxs("div",{className:"space-y-6",children:[X&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-top ${X.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[X.type==="success"?t.jsx(Bo,{size:18}):t.jsx(Ia,{size:18}),X.text]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(nb,{className:"w-6 h-6 text-amber-500"}),"Subscription Plans"]}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Manage your subscription plans and pricing"})]}),t.jsxs("button",{onClick:()=>ce(),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors shadow-lg shadow-amber-500/20",children:[t.jsx($i,{size:18})," Create Plan"]})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:t.jsx(nb,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:pe.total}),t.jsx("p",{className:"text-xs text-slate-500",children:"Total Plans"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:t.jsx(io,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:pe.active}),t.jsx("p",{className:"text-xs text-slate-500",children:"Active"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:t.jsx(Zu,{className:"w-5 h-5 text-gray-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-500",children:pe.inactive}),t.jsx("p",{className:"text-xs text-slate-500",children:"Inactive"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center",children:t.jsx(tA,{className:"w-5 h-5 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:pe.featured}),t.jsx("p",{className:"text-xs text-slate-500",children:"Featured"})]})]})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search plans...",value:A,onChange:re=>o(re.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:re=>d(re.target.checked),className:"rounded border-slate-300"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Show Inactive"})]}),t.jsx("button",{onClick:()=>Q(!1),disabled:a,className:"p-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700",children:t.jsx(cd,{className:`w-5 h-5 text-slate-500 ${a?"animate-spin":""}`})})]}),r?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Fr,{className:"w-8 h-8 animate-spin text-amber-500"})}):se.length===0?t.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[t.jsx(nb,{className:"w-12 h-12 mx-auto mb-3 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:A?"No plans found":"No subscription plans yet"}),t.jsx("button",{onClick:()=>ce(),className:"mt-4 px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600",children:"Create First Plan"})]}):t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700",children:[t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Order"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Plan"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Price"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Duration"}),t.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Featured"}),t.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:se.map((re,Ee)=>t.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-900/30 transition-colors ${re.status==="inactive"?"opacity-60":""}`,children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>Ee>0&&Ae(re.id,re.sortOrder-1),disabled:Ee===0,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded disabled:opacity-30",children:t.jsx(j0,{size:14})}),t.jsx("span",{className:"text-sm text-slate-500 w-6 text-center",children:re.sortOrder}),t.jsx("button",{onClick:()=>Ee<se.length-1&&Ae(re.id,re.sortOrder+1),disabled:Ee===se.length-1,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded disabled:opacity-30",children:t.jsx(w0,{size:14})})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:re.name}),t.jsx("p",{className:"text-xs text-slate-500 font-mono",children:re.slug})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:kK(re.price,re.currency)})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[re.isLifetime?t.jsx(b3,{className:"w-4 h-4 text-amber-500"}):t.jsx(Vi,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:NK(re.durationDays,re.durationType)})]})}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsx("button",{onClick:()=>oe(re.id),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium transition-colors ${re.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 hover:bg-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-200"}`,children:re.status==="active"?t.jsxs(t.Fragment,{children:[t.jsx(io,{size:12})," Active"]}):t.jsxs(t.Fragment,{children:[t.jsx(Zu,{size:12})," Inactive"]})})}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsx("button",{onClick:()=>je(re),className:`p-2 rounded-lg transition-colors ${re.isFeatured?"text-amber-500 bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100":"text-slate-400 hover:text-amber-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:re.isFeatured?t.jsx(tA,{size:18,fill:"currentColor"}):t.jsx(JE,{size:18})})}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsxs("button",{onClick:()=>ce(re),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-amber-600 hover:text-amber-700 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded-lg transition-colors",children:[t.jsx(bp,{size:14}),"Edit"]})})]},re.id))})]})})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between sticky top-0 bg-white dark:bg-slate-900",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:m?"Edit Plan":"Create New Plan"}),t.jsx("button",{onClick:ue,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(qr,{size:20})})]}),t.jsxs("div",{className:"p-6 space-y-5",children:[R&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[t.jsx(Ia,{size:16}),R]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Plan Name *"}),t.jsx("input",{type:"text",value:b.name,onChange:re=>Ne(re.target.value),placeholder:"e.g., Monthly Premium",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Slug *"}),t.jsx("input",{type:"text",value:b.slug,onChange:re=>j({...b,slug:re.target.value}),placeholder:"e.g., monthly",disabled:!!m,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent font-mono text-sm disabled:opacity-50 disabled:cursor-not-allowed"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"URL-friendly identifier. Cannot be changed after creation."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Price (MYR) *"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:"RM"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:b.price,onChange:re=>j({...b,price:parseFloat(re.target.value)||0}),className:"w-full pl-14 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Duration"}),t.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:Rj.slice(0,4).map(re=>t.jsx("button",{type:"button",onClick:()=>le(re),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${b.durationDays===re.days?"border-amber-500 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:re.label},re.label))}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:Rj.slice(4).map(re=>t.jsx("button",{type:"button",onClick:()=>le(re),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${b.durationDays===re.days?"border-amber-500 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:re.label},re.label))}),b.durationDays!==null&&t.jsxs("div",{className:"mt-3",children:[t.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Custom Days"}),t.jsx("input",{type:"number",min:"1",value:b.durationDays||"",onChange:re=>j({...b,durationDays:parseInt(re.target.value)||null,durationType:"days"}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Description"}),t.jsx("textarea",{value:b.description,onChange:re=>j({...b,description:re.target.value}),placeholder:"Brief description of this plan...",rows:3,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Status"}),t.jsxs("select",{value:b.status,onChange:re=>j({...b,status:re.target.value}),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Sort Order"}),t.jsx("input",{type:"number",min:"0",value:b.sortOrder,onChange:re=>j({...b,sortOrder:parseInt(re.target.value)||0}),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:b.isFeatured,onChange:re=>j({...b,isFeatured:re.target.checked}),className:"w-5 h-5 rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(tA,{size:16,className:"text-amber-500"}),"Mark as Featured"]}),t.jsx("p",{className:"text-xs text-slate-500",children:"Featured plans are highlighted to users"})]})]})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-800 flex gap-3",children:[t.jsx("button",{onClick:ue,className:"flex-1 py-2.5 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ce,disabled:y,className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:y?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(QA,{size:16}),m?"Update Plan":"Create Plan"]})})]})]})})]})};async function BK(){try{const s=await fetch(`${It}/check_login_status`,{credentials:"include"});if(!s.ok)return null;const e=await s.json();if(!e.logged_in)return null;const r=e.user;return{id:r.id,name:r.full_name||r.name||r.email||"Admin",email:r.email||"",role:e.role||r.role||"admin"}}catch{return null}}async function SK(s){const e=new URLSearchParams;s.type&&s.type!=="all"&&e.set("type",s.type),s.status&&s.status!=="all"&&e.set("status",s.status),s.page&&e.set("page",s.page.toString()),s.limit&&e.set("limit",s.limit.toString()),s.assignedTo&&e.set("assigned_to",s.assignedTo.toString());const r=await fetch(`${It}/api/admin/inquiries?${e}`,{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch inquiries");return r.json()}async function EK(s){const e=await fetch(`${It}/api/admin/inquiries/${s}`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch inquiry");return(await e.json()).data}async function TK(s,e){const r=await fetch(`${It}/api/admin/inquiries/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!r.ok){const a=await r.json().catch(()=>({}));throw new Error(a.error||"Failed to update inquiry")}return(await r.json()).data}async function UK(){const s=await fetch(`${It}/api/admin/inquiries/stats`,{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch stats");return(await s.json()).data}async function FK(){try{const s=await fetch(`${It}/api/admin/users/admins`,{credentials:"include"});return s.ok?(await s.json()).data||[]:[]}catch{return[]}}const OC=({status:s})=>{const e={pending:{bg:"bg-amber-50",text:"text-amber-700",icon:t.jsx(Vi,{className:"w-3 h-3"})},in_progress:{bg:"bg-blue-50",text:"text-blue-700",icon:t.jsx(Fr,{className:"w-3 h-3"})},resolved:{bg:"bg-green-50",text:"text-green-700",icon:t.jsx(uo,{className:"w-3 h-3"})},closed:{bg:"bg-slate-100",text:"text-slate-600",icon:t.jsx(qr,{className:"w-3 h-3"})}},{bg:r,text:n,icon:a}=e[s]||e.pending;return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${r} ${n}`,children:[a,s.replace("_"," ").replace(/\b\w/g,l=>l.toUpperCase())]})},LK=({priority:s})=>{const e={low:{bg:"bg-slate-100",text:"text-slate-600"},normal:{bg:"bg-blue-50",text:"text-blue-600"},high:{bg:"bg-red-50",text:"text-red-600"}},{bg:r,text:n}=e[s]||e.normal;return t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${r} ${n}`,children:s.charAt(0).toUpperCase()+s.slice(1)})},IC=({type:s})=>{const e=s==="contact";return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium ${e?"bg-purple-50 text-purple-700":"bg-emerald-50 text-emerald-700"}`,children:[e?t.jsx(Mh,{className:"w-3 h-3"}):t.jsx(sy,{className:"w-3 h-3"}),e?"Contact":"Merchant"]})},MK=({stats:s,loading:e})=>{var n,a;if(e||!s)return t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(l=>t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 animate-pulse",children:[t.jsx("div",{className:"h-4 bg-slate-200 rounded w-20 mb-2"}),t.jsx("div",{className:"h-8 bg-slate-200 rounded w-12"})]},l))});const r=[{label:"Total Inquiries",value:s.total,icon:fm,color:"text-slate-600",bg:"bg-slate-50"},{label:"Pending",value:s.pending,icon:Vi,color:"text-amber-600",bg:"bg-amber-50"},{label:"Contact",value:((n=s.byType)==null?void 0:n.contact)||0,icon:Mh,color:"text-purple-600",bg:"bg-purple-50"},{label:"Merchant",value:((a=s.byType)==null?void 0:a.merchant)||0,icon:sy,color:"text-emerald-600",bg:"bg-emerald-50"}];return t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:r.map((l,u)=>t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-slate-500",children:l.label}),t.jsx("div",{className:`w-8 h-8 rounded-lg ${l.bg} flex items-center justify-center`,children:t.jsx(l.icon,{className:`w-4 h-4 ${l.color}`})})]}),t.jsx("div",{className:"text-2xl font-bold text-slate-800",children:l.value})]},u))})},OK=({inquiry:s,isOpen:e,onClose:r,onUpdate:n,admins:a,currentUser:l})=>{const[u,d]=W.useState(!1),[A,o]=W.useState({status:"",priority:"",assignedAdminId:"",adminNotes:""}),[f,p]=W.useState(!1),[m,x]=W.useState(null),b=Kv(l.role),j=b||(s==null?void 0:s.assignedAdminId)===l.id;W.useEffect(()=>{var z;s&&(o({status:s.status,priority:s.priority,assignedAdminId:((z=s.assignedAdminId)==null?void 0:z.toString())||"",adminNotes:s.adminNotes||""}),d(!1),x(null))},[s]);const y=async()=>{if(s){x(null),p(!0);try{const z={status:A.status,priority:A.priority,adminNotes:A.adminNotes};b&&(z.assignedAdminId=A.assignedAdminId?parseInt(A.assignedAdminId):null),await n(s.id,z),d(!1)}catch(z){x(z.message||"Failed to update inquiry")}finally{p(!1)}}};if(!e||!s)return null;const T=s.assignedAdminId===l.id,R=!s.assignedAdminId;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:r}),t.jsxs("div",{className:"fixed right-0 top-0 h-full w-full max-w-xl bg-white shadow-2xl z-50 overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(IC,{type:s.inquiryType}),t.jsxs("span",{className:"text-slate-400",children:["#",s.id]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[!b&&!T&&!R&&t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[t.jsx(Ud,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-amber-800",children:"View Only"}),t.jsx("p",{className:"text-sm text-amber-700",children:"This inquiry is assigned to another admin."})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Contact Information"}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Xo,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"font-medium text-slate-800",children:s.name})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Xd,{className:"w-4 h-4 text-slate-400"}),t.jsx("a",{href:`mailto:${s.email}`,className:"text-blue-600 hover:underline",children:s.email})]}),s.businessName&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(a5,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-slate-700",children:s.businessName})]}),s.subject&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(G0,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-slate-700",children:s.subject})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Message"}),t.jsx("div",{className:"bg-slate-50 rounded-xl p-4",children:t.jsx("p",{className:"text-slate-700 whitespace-pre-wrap leading-relaxed",children:s.message})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Status & Assignment"}),!u&&j&&t.jsx("button",{onClick:()=>d(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Edit"})]}),m&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:m}),u?t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:A.status,onChange:z=>o({...A,status:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"closed",children:"Closed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Priority"}),t.jsxs("select",{value:A.priority,onChange:z=>o({...A,priority:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"normal",children:"Normal"}),t.jsx("option",{value:"high",children:"High"})]})]}),b?t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t.jsxs("span",{className:"flex items-center gap-2",children:["Assigned Admin",t.jsx(Gd,{className:"w-3 h-3 text-purple-500"})]})}),t.jsxs("select",{value:A.assignedAdminId,onChange:z=>o({...A,assignedAdminId:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"",children:"Unassigned"}),a.map(z=>t.jsxs("option",{value:z.id,children:[z.name," (",z.email,")"]},z.id))]})]}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t.jsxs("span",{className:"flex items-center gap-2",children:["Assigned Admin",t.jsx(Ud,{className:"w-3 h-3 text-slate-400"})]})}),t.jsxs("div",{className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-slate-100 text-slate-600",children:[s.assignedAdminName||"Unassigned",t.jsx("span",{className:"text-xs text-slate-400 ml-2",children:"(Super Admin only)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Admin Notes"}),t.jsx("textarea",{value:A.adminNotes,onChange:z=>o({...A,adminNotes:z.target.value}),rows:3,placeholder:"Internal notes...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white"})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs("button",{onClick:y,disabled:f,className:"flex-1 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[f?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):t.jsx(uo,{className:"w-4 h-4"}),"Save Changes"]}),t.jsx("button",{onClick:()=>{d(!1),x(null)},className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 font-medium rounded-lg hover:bg-slate-50",children:"Cancel"})]})]}):t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Status"}),t.jsx(OC,{status:s.status})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Priority"}),t.jsx(LK,{priority:s.priority})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Assigned To"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[s.assignedAdminName||"Unassigned",T&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"You"})]})]}),s.adminNotes&&t.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[t.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-1 mb-1",children:[t.jsx(m5,{className:"w-3 h-3"})," Admin Notes"]}),t.jsx("p",{className:"text-sm text-slate-600",children:s.adminNotes})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Timeline"}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-slate-500 flex items-center gap-2",children:[t.jsx(co,{className:"w-3 h-3"})," Created"]}),t.jsx("span",{className:"text-slate-700",children:new Date(s.createdAt).toLocaleString()})]}),s.resolvedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-slate-500 flex items-center gap-2",children:[t.jsx(uo,{className:"w-3 h-3 text-green-500"})," Resolved"]}),t.jsx("span",{className:"text-green-600 font-medium",children:new Date(s.resolvedAt).toLocaleString()})]})]})]})]}),t.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:t.jsxs("a",{href:`mailto:${s.email}?subject=Re: ${s.subject||"Your Inquiry"}`,className:"w-full px-4 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 flex items-center justify-center gap-2",children:[t.jsx(Xd,{className:"w-4 h-4"}),"Reply via Email",t.jsx(qB,{className:"w-4 h-4"})]})})]})]})},IK=()=>{const[s,e]=W.useState(null),[r,n]=W.useState(!0),[a,l]=W.useState("all"),[u,d]=W.useState("all"),[A,o]=W.useState("all"),[f,p]=W.useState(""),[m,x]=W.useState([]),[b,j]=W.useState(null),[y,T]=W.useState([]),[R,z]=W.useState(!0),[X,Y]=W.useState(!0),[Q,K]=W.useState(null),[ce,ue]=W.useState(!1),[Ne,le]=W.useState(1),[Ce,oe]=W.useState(null),je=s?Kv(s.role):!1,Ae=s?Kv(s.role):!1;W.useEffect(()=>{(async()=>{n(!0);const he=await BK();e(he),n(!1)})()},[]);const se=async()=>{if(s){z(!0);try{let be;(!je&&A==="all"||A==="mine")&&(be=s.id);const he=await SK({type:a,status:u,page:Ne,limit:20,assignedTo:be});x(he.data||[]),oe(he.pagination)}catch(be){console.error("Failed to load inquiries:",be)}finally{z(!1)}}},pe=async()=>{Y(!0);try{const be=await UK();j(be)}catch(be){console.error("Failed to load stats:",be)}finally{Y(!1)}},re=async()=>{if(Ae){const be=await FK();T(be)}};W.useEffect(()=>{s&&se()},[s,a,u,A,Ne]),W.useEffect(()=>{s&&(pe(),re())},[s]);const Ee=async be=>{try{const he=await EK(be.id);K(he),ue(!0)}catch(he){console.error("Failed to load inquiry detail:",he)}},De=async(be,he)=>{const te=await TK(be,he);K(te),se(),pe()},Se=()=>{se(),pe()},fe=m.filter(be=>{var te,ge;if(!f)return!0;const he=f.toLowerCase();return be.name.toLowerCase().includes(he)||be.email.toLowerCase().includes(he)||((te=be.businessName)==null?void 0:te.toLowerCase().includes(he))||((ge=be.subject)==null?void 0:ge.toLowerCase().includes(he))||be.message.toLowerCase().includes(he)});return r?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Fr,{className:"w-8 h-8 text-blue-600 animate-spin"})}):s?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:["Inquiry Management",Ae&&t.jsxs("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs font-medium rounded-full flex items-center gap-1",children:[t.jsx(Gd,{className:"w-3 h-3"})," Super Admin"]})]}),t.jsx("p",{className:"text-slate-500 text-sm mt-1",children:je?"Manage contact and merchant partnership inquiries":"View and handle inquiries assigned to you"})]}),t.jsxs("button",{onClick:Se,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-600",children:[t.jsx(cd,{className:"w-4 h-4"}),"Refresh"]})]}),t.jsx(MK,{stats:b,loading:X}),t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[t.jsx("div",{className:"flex border-b border-slate-200",children:[{id:"all",label:"All Inquiries",icon:fm},{id:"contact",label:"Contact",icon:Mh},{id:"merchant",label:"Merchant",icon:sy}].map(be=>{var he;return t.jsxs("button",{onClick:()=>{l(be.id),le(1)},className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 -mb-px ${a===be.id?"border-blue-600 text-blue-600 bg-blue-50/50":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[t.jsx(be.icon,{className:"w-4 h-4"}),be.label,be.id!=="all"&&b&&t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${a===be.id?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600"}`,children:((he=b.byType)==null?void 0:he[be.id])||0})]},be.id)})}),t.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search by name, email, or message...",value:f,onChange:be=>p(be.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg"})]}),je&&t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:A,onChange:be=>{o(be.target.value),le(1)},className:"appearance-none px-4 py-2 pr-10 border border-slate-200 rounded-lg bg-white text-slate-600",children:[t.jsx("option",{value:"all",children:"All Assignments"}),t.jsx("option",{value:"mine",children:"Assigned to Me"}),t.jsx("option",{value:"unassigned",children:"Unassigned"})]}),t.jsx(ap,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:u,onChange:be=>{d(be.target.value),le(1)},className:"appearance-none px-4 py-2 pr-10 border border-slate-200 rounded-lg bg-white text-slate-600",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"closed",children:"Closed"})]}),t.jsx(ap,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:R?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(Fr,{className:"w-8 h-8 text-blue-600 animate-spin"})}):fe.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500",children:[t.jsx(fm,{className:"w-12 h-12 text-slate-300 mb-3"}),t.jsx("p",{className:"font-medium",children:"No inquiries found"}),t.jsx("p",{className:"text-sm",children:je?"Try adjusting your filters":"No inquiries are assigned to you yet"})]}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Type"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Contact"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Subject / Business"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Status"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Assigned"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Created"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:fe.map(be=>{const he=be.assignedAdminId===s.id;return t.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>Ee(be),children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx(IC,{type:be.inquiryType})}),t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium text-slate-800",children:be.name}),t.jsx("div",{className:"text-sm text-slate-500",children:be.email})]}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"max-w-xs truncate text-slate-600",children:be.inquiryType==="merchant"?be.businessName:be.subject||"-"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(OC,{status:be.status})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:"text-sm text-slate-600 flex items-center gap-1",children:[be.assignedAdminName||t.jsx("span",{className:"text-slate-400 italic",children:"Unassigned"}),he&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded ml-1",children:"You"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-sm text-slate-500",children:new Date(be.createdAt).toLocaleDateString()})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("button",{onClick:te=>{te.stopPropagation(),Ee(be)},className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(io,{className:"w-4 h-4 text-slate-400"})})})]},be.id)})})]})}),Ce&&Ce.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("span",{className:"text-sm text-slate-500",children:["Showing ",(Ne-1)*20+1," - ",Math.min(Ne*20,Ce.total)," of ",Ce.total]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>le(be=>Math.max(1,be-1)),disabled:Ne===1,className:"px-3 py-1 border border-slate-200 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),t.jsx("button",{onClick:()=>le(be=>Math.min(Ce.pages,be+1)),disabled:Ne===Ce.pages,className:"px-3 py-1 border border-slate-200 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]}),s&&t.jsx(OK,{inquiry:Q,isOpen:ce,onClose:()=>{ue(!1),K(null)},onUpdate:De,admins:y,currentUser:s})]}):t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[t.jsx(Ia,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),t.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Authentication Required"}),t.jsx("p",{className:"text-red-600 mt-1",children:"Please log in to access the inquiry management."})]})},DK=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,a]=W.useState(null),[l,u]=W.useState(null),[d,A]=W.useState(!0),[o,f]=W.useState(null),[p,m]=W.useState("all"),[x,b]=W.useState(""),[j,y]=W.useState(1),[T,R]=W.useState(null),[z,X]=W.useState(""),[Y,Q]=W.useState(!1),[K,ce]=W.useState(null);W.useEffect(()=>{ue()},[p,j]);const ue=async()=>{A(!0);try{const je=new URLSearchParams({page:j.toString(),per_page:"20"});p&&p!=="all"&&je.append("status",p),x&&je.append("search",x);const Ae=await fetch(`${It}/api/blogs/admin/all?${je}`,{credentials:"include"});if(Ae.ok){const se=await Ae.json();se.success&&(r(se.blogs||[]),a(se.stats||null),u(se.pagination||null))}}catch(je){console.error("Failed to fetch blogs:",je)}finally{A(!1)}},Ne=async je=>{R(je);try{(await fetch(`${It}/api/blogs/admin/${je}/approve`,{method:"POST",credentials:"include"})).ok&&ue()}catch(Ae){console.error("Failed to approve blog:",Ae)}finally{R(null)}},le=async()=>{if(K){R(K);try{(await fetch(`${It}/api/blogs/admin/${K}/reject`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:z||"Content does not meet community guidelines"})})).ok&&(Q(!1),ce(null),X(""),ue())}catch(je){console.error("Failed to reject blog:",je)}finally{R(null)}}},Ce=async je=>{R(je);try{(await fetch(`${It}/api/blogs/admin/${je}/hide`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:"Hidden by admin"})})).ok&&ue()}catch(Ae){console.error("Failed to hide blog:",Ae)}finally{R(null)}},oe=je=>{const Ae={draft:{color:"bg-slate-100 text-slate-600",icon:t.jsx(Vi,{className:"w-3 h-3"}),text:"Draft"},pending:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Ia,{className:"w-3 h-3"}),text:"Pending Review"},published:{color:"bg-green-100 text-green-700",icon:t.jsx(Bo,{className:"w-3 h-3"}),text:"Published"},rejected:{color:"bg-red-100 text-red-700",icon:t.jsx(hu,{className:"w-3 h-3"}),text:"Rejected"},hidden:{color:"bg-orange-100 text-orange-700",icon:t.jsx(Zu,{className:"w-3 h-3"}),text:"Hidden"}},se=Ae[je]||Ae.draft;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${se.color}`,children:[se.icon,se.text]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[t.jsx(Td,{className:"w-7 h-7 text-blue-600"}),"Blog Moderation"]}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Review and manage user blog posts"})]})}),n&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900",children:n.total}),t.jsx("div",{className:"text-sm text-slate-500",children:"Total Blogs"})]}),t.jsxs("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-100",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:n.pending}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Pending Review"})]}),t.jsxs("div",{className:"bg-green-50 rounded-2xl p-4 border border-green-100",children:[t.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.published}),t.jsx("div",{className:"text-sm text-green-600",children:"Published"})]}),t.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-700",children:n.draft}),t.jsx("div",{className:"text-sm text-slate-500",children:"Drafts"})]}),t.jsxs("div",{className:"bg-red-50 rounded-2xl p-4 border border-red-100",children:[t.jsx("div",{className:"text-2xl font-bold text-red-700",children:n.rejected}),t.jsx("div",{className:"text-sm text-red-600",children:"Rejected"})]})]}),t.jsx("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search blogs by title or content...",value:x,onChange:je=>b(je.target.value),onKeyDown:je=>je.key==="Enter"&&ue(),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(l5,{className:"w-5 h-5 text-slate-400"}),t.jsxs("select",{value:p,onChange:je=>{m(je.target.value),y(1)},className:"px-4 py-2.5 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending Review"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"rejected",children:"Rejected"}),t.jsx("option",{value:"hidden",children:"Hidden"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[d?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Fr,{className:"w-8 h-8 text-blue-600 animate-spin"})}):e.length===0?t.jsxs("div",{className:"text-center py-20",children:[t.jsx(Td,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No blogs found"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Adjust your filters or check back later"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:e.map(je=>t.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl bg-slate-100 overflow-hidden flex-shrink-0",children:je.coverImage?t.jsx("img",{src:je.coverImage,alt:je.title,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 to-purple-500"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 line-clamp-1",children:je.title}),t.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Xo,{className:"w-4 h-4"}),je.authorName]}),t.jsx("span",{children:je.createdAt}),t.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-xs",children:je.category})]}),t.jsx("p",{className:"text-sm text-slate-500 mt-2 line-clamp-2",children:je.excerpt})]}),oe(je.status)]}),t.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-100",children:[t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[t.jsxs("span",{children:[je.views," views"]}),t.jsxs("span",{children:[je.likesCount," likes"]}),t.jsxs("span",{children:[je.commentsCount," comments"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>f(je),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:t.jsx(io,{className:"w-4 h-4"})}),(je.status==="pending"||je.status==="draft")&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>Ne(je.id),disabled:T===je.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[T===je.id?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):t.jsx(Yo,{className:"w-4 h-4"}),je.status==="draft"?"Publish":"Approve"]}),t.jsxs("button",{onClick:()=>{ce(je.id),Q(!0)},disabled:T===je.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[t.jsx(qr,{className:"w-4 h-4"}),"Reject"]})]}),je.status==="published"&&t.jsxs("button",{onClick:()=>Ce(je.id),disabled:T===je.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50",children:[T===je.id?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):t.jsx(Zu,{className:"w-4 h-4"}),"Hide"]})]})]})]})]})},je.id))}),l&&l.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-100",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing page ",l.page," of ",l.pages," (",l.total," total)"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>y(je=>Math.max(1,je-1)),disabled:!l.hasPrev,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(Ph,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>y(je=>Math.min(l.pages,je+1)),disabled:!l.hasNext,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(hc,{className:"w-4 h-4"})})]})]})]}),o&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Blog Details"}),t.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[o.coverImage&&t.jsx("img",{src:o.coverImage,alt:o.title,className:"w-full h-64 object-cover rounded-xl mb-6"}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[oe(o.status),t.jsx("span",{className:"px-2.5 py-1 bg-slate-100 rounded-full text-xs font-medium text-slate-600",children:o.category})]}),t.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-4",children:o.title}),t.jsxs("div",{className:"flex items-center gap-4 mb-6 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Xo,{className:"w-4 h-4"}),o.authorName]}),t.jsx("span",{children:o.createdAt})]}),t.jsx("div",{className:"prose prose-slate max-w-none",dangerouslySetInnerHTML:{__html:o.content}}),o.rejectionReason&&t.jsxs("div",{className:"mt-6 p-4 bg-red-50 rounded-xl border border-red-100",children:[t.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),t.jsx("p",{className:"text-red-600 text-sm",children:o.rejectionReason})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50",children:[(o.status==="pending"||o.status==="draft")&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>{Ne(o.id),f(null)},className:"px-4 py-2 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors",children:o.status==="draft"?"Publish":"Approve & Publish"}),t.jsx("button",{onClick:()=>{ce(o.id),Q(!0),f(null)},className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors",children:"Reject"})]}),t.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Close"})]})]})}),Y&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[t.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Reject Blog"})}),t.jsxs("div",{className:"p-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Reason for rejection (optional)"}),t.jsx("textarea",{value:z,onChange:je=>X(je.target.value),placeholder:"Content does not meet community guidelines...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all resize-none",rows:4})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50 rounded-b-2xl",children:[t.jsx("button",{onClick:()=>{Q(!1),ce(null),X("")},className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:le,disabled:T!==null,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50",children:T?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):"Reject Blog"})]})]})})]})},RK=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,a]=W.useState(null),[l,u]=W.useState(null),[d,A]=W.useState(!0),[o,f]=W.useState(null),[p,m]=W.useState("pending"),[x,b]=W.useState(1),[j,y]=W.useState(null),[T,R]=W.useState(!1),[z,X]=W.useState(null),[Y,Q]=W.useState(""),[K,ce]=W.useState("none");W.useEffect(()=>{ue()},[p,x]);const ue=async()=>{A(!0);try{const je=new URLSearchParams({page:x.toString(),per_page:"20"});p&&p!=="all"&&je.append("status",p);const Ae=await fetch(`${It}/api/blogs/admin/reports?${je}`,{credentials:"include"});if(Ae.ok){const se=await Ae.json();se.success&&(r(se.reports||[]),a(se.stats||null),u(se.pagination||null))}}catch(je){console.error("Failed to fetch reports:",je)}finally{A(!1)}},Ne=async je=>{if(z){y(z.id);try{(await fetch(`${It}/api/blogs/admin/reports/${z.id}/review`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:K,adminNotes:Y,status:je})})).ok&&(R(!1),X(null),Q(""),ce("none"),ue())}catch(Ae){console.error("Failed to review report:",Ae)}finally{y(null)}}},le=je=>{const Ae={pending:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Vi,{className:"w-3 h-3"}),text:"Pending"},reviewed:{color:"bg-blue-100 text-blue-700",icon:t.jsx(io,{className:"w-3 h-3"}),text:"Reviewed"},resolved:{color:"bg-green-100 text-green-700",icon:t.jsx(Bo,{className:"w-3 h-3"}),text:"Resolved"},dismissed:{color:"bg-slate-100 text-slate-600",icon:t.jsx(hu,{className:"w-3 h-3"}),text:"Dismissed"}},se=Ae[je]||Ae.pending;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${se.color}`,children:[se.icon,se.text]})},Ce=je=>{const Ae={spam:{color:"bg-orange-100 text-orange-700",text:"Spam"},inappropriate:{color:"bg-red-100 text-red-700",text:"Inappropriate"},harassment:{color:"bg-purple-100 text-purple-700",text:"Harassment"},misinformation:{color:"bg-blue-100 text-blue-700",text:"Misinformation"},other:{color:"bg-slate-100 text-slate-600",text:"Other"}},se=Ae[je]||Ae.other;return t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${se.color}`,children:se.text})},oe=je=>{if(!je||je==="none")return null;const se={warning:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Ia,{className:"w-3 h-3"}),text:"Warning Sent"},hidden:{color:"bg-orange-100 text-orange-700",icon:t.jsx(Zu,{className:"w-3 h-3"}),text:"Content Hidden"},deleted:{color:"bg-red-100 text-red-700",icon:t.jsx(Zo,{className:"w-3 h-3"}),text:"Content Deleted"}}[je];return se?t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${se.color}`,children:[se.icon,se.text]}):null};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[t.jsx($0,{className:"w-7 h-7 text-red-600"}),"Blog Reports"]}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Review and manage user-reported blog content"})]})}),n&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900",children:n.total}),t.jsx("div",{className:"text-sm text-slate-500",children:"Total Reports"})]}),t.jsxs("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-100",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:n.pending}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Pending"})]}),t.jsxs("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-100",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-700",children:n.reviewed}),t.jsx("div",{className:"text-sm text-blue-600",children:"Reviewed"})]}),t.jsxs("div",{className:"bg-green-50 rounded-2xl p-4 border border-green-100",children:[t.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.resolved}),t.jsx("div",{className:"text-sm text-green-600",children:"Resolved"})]}),t.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-700",children:n.dismissed}),t.jsx("div",{className:"text-sm text-slate-500",children:"Dismissed"})]})]}),t.jsx("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(l5,{className:"w-5 h-5 text-slate-400"}),t.jsxs("select",{value:p,onChange:je=>{m(je.target.value),b(1)},className:"px-4 py-2.5 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all",children:[t.jsx("option",{value:"all",children:"All Reports"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"reviewed",children:"Reviewed"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"dismissed",children:"Dismissed"})]})]})}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[d?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Fr,{className:"w-8 h-8 text-red-600 animate-spin"})}):e.length===0?t.jsxs("div",{className:"text-center py-20",children:[t.jsx($0,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No reports found"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"All clear! No reports match your filters."})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:e.map(je=>t.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[le(je.status),Ce(je.reason),oe(je.actionTaken)]}),t.jsxs("h3",{className:"font-semibold text-slate-900 mt-2 flex items-center gap-2",children:[t.jsx(Td,{className:"w-4 h-4 text-slate-400"}),je.blogTitle]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Xo,{className:"w-4 h-4"}),"Reported by: ",je.reporterName]}),t.jsxs("span",{children:["Blog Author: ",je.blogAuthorName]}),t.jsx("span",{children:je.createdAt})]}),je.description&&t.jsxs("p",{className:"text-sm text-slate-600 mt-2 bg-slate-50 p-3 rounded-lg",children:['"',je.description,'"']}),je.adminNotes&&t.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[t.jsx("p",{className:"text-xs font-medium text-blue-700 mb-1",children:"Admin Notes:"}),t.jsx("p",{className:"text-sm text-blue-600",children:je.adminNotes}),je.reviewerName&&t.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["Reviewed by ",je.reviewerName," on ",je.reviewedAt]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>f(je),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:t.jsx(io,{className:"w-4 h-4"})}),je.status==="pending"&&t.jsxs("button",{onClick:()=>{X(je),R(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors",children:[t.jsx(Gd,{className:"w-4 h-4"}),"Review"]})]})]})},je.id))}),l&&l.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-100",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing page ",l.page," of ",l.pages," (",l.total," total)"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>b(je=>Math.max(1,je-1)),disabled:!l.hasPrev,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(Ph,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>b(je=>Math.min(l.pages,je+1)),disabled:!l.hasNext,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(hc,{className:"w-4 h-4"})})]})]})]}),o&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Report Details"}),t.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)] space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[le(o.status),Ce(o.reason),oe(o.actionTaken)]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-1",children:"Reported Blog"}),t.jsx("p",{className:"font-semibold text-slate-900",children:o.blogTitle}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["By ",o.blogAuthorName]})]}),t.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-1",children:"Reporter"}),t.jsx("p",{className:"font-semibold text-slate-900",children:o.reporterName}),t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.createdAt})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Report Reason"}),t.jsxs("p",{className:"text-slate-600 bg-red-50 p-4 rounded-xl",children:[t.jsx("span",{className:"font-medium",children:o.reason}),o.description&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("span",{className:"text-sm mt-2 block",children:o.description})]})]})]}),o.adminNotes&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Admin Notes"}),t.jsx("p",{className:"text-slate-600 bg-blue-50 p-4 rounded-xl",children:o.adminNotes}),o.reviewerName&&t.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Reviewed by ",o.reviewerName," on ",o.reviewedAt]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50",children:[o.status==="pending"&&t.jsx("button",{onClick:()=>{X(o),R(!0),f(null)},className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors",children:"Take Action"}),t.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Close"})]})]})}),T&&z&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Review Report"}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Report on: ",z.blogTitle]})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Action to take"}),t.jsxs("select",{value:K,onChange:je=>ce(je.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all",children:[t.jsx("option",{value:"none",children:"No action needed"}),t.jsx("option",{value:"warning",children:"Send warning to author"}),t.jsx("option",{value:"hidden",children:"Hide the blog post"}),t.jsx("option",{value:"deleted",children:"Delete the blog post"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Admin notes"}),t.jsx("textarea",{value:Y,onChange:je=>Q(je.target.value),placeholder:"Add notes about this report...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all resize-none",rows:4})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50 rounded-b-2xl",children:[t.jsx("button",{onClick:()=>{R(!1),X(null),Q(""),ce("none")},className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>Ne("dismissed"),disabled:j!==null,className:"px-4 py-2 bg-slate-600 text-white font-medium rounded-xl hover:bg-slate-700 transition-colors disabled:opacity-50",children:"Dismiss"}),t.jsx("button",{onClick:()=>Ne("resolved"),disabled:j!==null,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:j?t.jsx(Fr,{className:"w-4 h-4 animate-spin"}):"Resolve"})]})]})})]})},PK=({user:s,onSwitchToUser:e,onLogout:r})=>{const[n,a]=W.useState("Home"),[l,u]=W.useState(!1),d=o=>{console.log("Admin updated profile:",o)},A=()=>{switch(n){case"Home":return t.jsx(aK,{onNavigate:a});case"Info Blog":return t.jsx(AK,{onNavigate:a});case"Blog Moderation":return t.jsx(DK,{});case"Blog Reports":return t.jsx(RK,{});case"Subscription":return t.jsx(hK,{});case"Advertisement":return t.jsx(fK,{});case"Login Hero":return t.jsx(pK,{});case"Notifications":return t.jsx(mK,{});case"Admin Chat":return t.jsx(yK,{});case"Support Tickets":return t.jsx(xK,{});case"Admin Messages":return t.jsx(bK,{});case"Plan Managment":return t.jsx(CK,{});case"Voucher Managment":return t.jsx(wK,{});case"Inquiries":return t.jsx(IK,{});case"User":return t.jsx(iK,{});case"Email Verification":return t.jsx(oK,{});case"Place":return t.jsx(lK,{});case"Trip":return t.jsx(dK,{});case"Trip Item":return t.jsx(cK,{});case"Settings":return t.jsx(uK,{user:s,onUpdateUser:d});default:return t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-12 text-center shadow-sm min-h-[400px] flex flex-col items-center justify-center animate-in fade-in duration-300",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center mb-4",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:n}),t.jsx("p",{className:"text-slate-500 max-w-sm mx-auto mb-6",children:"This module is currently in development."}),t.jsx("button",{onClick:()=>a("Home"),className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors",children:"Back to Dashboard"})]})}};return t.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans text-slate-600",children:[t.jsx("div",{className:"md:hidden fixed top-4 right-20 z-50",children:t.jsx("button",{onClick:()=>u(!l),className:"p-2 bg-white rounded-lg shadow border border-slate-200 text-slate-700",children:t.jsx(d5,{size:24})})}),t.jsx("div",{className:`${l?"flex fixed inset-0 z-40 bg-white/95 p-0":"hidden"} md:flex md:relative`,children:t.jsx(sK,{activeItem:n,onNavigate:o=>{a(o),u(!1)},onSwitchToUser:e,onLogout:r})}),t.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[t.jsx(rK,{user:s,onLogout:r,onNavigate:a}),t.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:[t.jsx("div",{className:"max-w-7xl mx-auto flex flex-col gap-6 animate-in fade-in duration-300",children:A()}),t.jsxs("footer",{className:"py-8 text-center text-xs text-slate-400",children:[" ",new Date().getFullYear()," GogoTrip Admin Panel."]})]})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gv=function(){return Gv=Object.assign||function(s){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s},Gv.apply(this,arguments)},Wv,QK=function(s){var e;s?(function(r){if(r)for(;r.lastChild;)r.lastChild.remove()})(typeof s=="string"?document.getElementById(s):s):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},_K=function(s,e){QK(e),window.___grecaptcha_cfg=void 0;var r=document.querySelector("#"+s);r&&r.remove(),(function(){var n=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');n&&n.remove()})()},HK=function(s){var e=s.render,r=s.onLoadCallbackName,n=s.language,a=s.onLoad,l=s.useRecaptchaNet,u=s.useEnterprise,d=s.scriptProps,A=d===void 0?{}:d,o=A.nonce,f=o===void 0?"":o,p=A.defer,m=p!==void 0&&p,x=A.async,b=x!==void 0&&x,j=A.id,y=j===void 0?"":j,T=A.appendTo,R=y||"google-recaptcha-v3";if((function(Y){return!!document.querySelector("#"+Y)})(R))a();else{var z=(function(Y){return"https://www."+(Y.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(Y.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:u,useRecaptchaNet:l}),X=document.createElement("script");X.id=R,X.src=z+"?render="+e+(e==="explicit"?"&onload="+r:"")+(n?"&hl="+n:""),f&&(X.nonce=f),X.defer=!!m,X.async=!!b,X.onload=a,(T==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(X)}},Pj=function(s){console.warn(s)};(function(s){s.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Wv||(Wv={}));var Zy=W.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});Zy.Consumer;function zK(s){var e=s.reCaptchaKey,r=s.useEnterprise,n=r!==void 0&&r,a=s.useRecaptchaNet,l=a!==void 0&&a,u=s.scriptProps,d=s.language,A=s.container,o=s.children,f=W.useState(null),p=f[0],m=f[1],x=W.useRef(e),b=JSON.stringify(u),j=JSON.stringify(A==null?void 0:A.parameters);W.useEffect((function(){if(e){var R=(u==null?void 0:u.id)||"google-recaptcha-v3",z=(u==null?void 0:u.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[z]=function(){var X=n?window.grecaptcha.enterprise:window.grecaptcha,Y=Gv({badge:"inline",size:"invisible",sitekey:e},(A==null?void 0:A.parameters)||{});x.current=X.render(A==null?void 0:A.element,Y)},HK({render:A!=null&&A.element?"explicit":e,onLoadCallbackName:z,useEnterprise:n,useRecaptchaNet:l,scriptProps:u,language:d,onLoad:function(){if(window&&window.grecaptcha){var X=n?window.grecaptcha.enterprise:window.grecaptcha;X.ready((function(){m(X)}))}else Pj("<GoogleRecaptchaProvider /> "+Wv.SCRIPT_NOT_AVAILABLE)}}),function(){_K(R,A==null?void 0:A.element)}}Pj("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[n,l,b,j,d,e,A==null?void 0:A.element]);var y=W.useCallback((function(R){if(!p||!p.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return p.execute(x.current,{action:R})}),[p,x]),T=W.useMemo((function(){return{executeRecaptcha:p?y:void 0,container:A==null?void 0:A.element}}),[y,p,A==null?void 0:A.element]);return Uc.createElement(Zy.Provider,{value:T},o)}var $K=function(){return W.useContext(Zy)};function DC(s,e){return s(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var pc=typeof Symbol=="function"&&Symbol.for,Yv=pc?Symbol.for("react.element"):60103,Xv=pc?Symbol.for("react.portal"):60106,L0=pc?Symbol.for("react.fragment"):60107,M0=pc?Symbol.for("react.strict_mode"):60108,O0=pc?Symbol.for("react.profiler"):60114,I0=pc?Symbol.for("react.provider"):60109,D0=pc?Symbol.for("react.context"):60110,Jv=pc?Symbol.for("react.async_mode"):60111,$g=pc?Symbol.for("react.concurrent_mode"):60111,R0=pc?Symbol.for("react.forward_ref"):60112,P0=pc?Symbol.for("react.suspense"):60113,VK=pc?Symbol.for("react.suspense_list"):60120,Q0=pc?Symbol.for("react.memo"):60115,_0=pc?Symbol.for("react.lazy"):60116,KK=pc?Symbol.for("react.block"):60121,GK=pc?Symbol.for("react.fundamental"):60117,WK=pc?Symbol.for("react.responder"):60118,YK=pc?Symbol.for("react.scope"):60119;function $d(s){if(typeof s=="object"&&s!==null){var e=s.$$typeof;switch(e){case Yv:switch(s=s.type){case Jv:case $g:case L0:case O0:case M0:case P0:return s;default:switch(s=s&&s.$$typeof){case D0:case R0:case _0:case Q0:case I0:return s;default:return e}}case Xv:return e}}}function Qj(s){return $d(s)===$g}var XK={AsyncMode:Jv,ConcurrentMode:$g,ContextConsumer:D0,ContextProvider:I0,Element:Yv,ForwardRef:R0,Fragment:L0,Lazy:_0,Memo:Q0,Portal:Xv,Profiler:O0,StrictMode:M0,Suspense:P0,isAsyncMode:function(s){return Qj(s)||$d(s)===Jv},isConcurrentMode:Qj,isContextConsumer:function(s){return $d(s)===D0},isContextProvider:function(s){return $d(s)===I0},isElement:function(s){return typeof s=="object"&&s!==null&&s.$$typeof===Yv},isForwardRef:function(s){return $d(s)===R0},isFragment:function(s){return $d(s)===L0},isLazy:function(s){return $d(s)===_0},isMemo:function(s){return $d(s)===Q0},isPortal:function(s){return $d(s)===Xv},isProfiler:function(s){return $d(s)===O0},isStrictMode:function(s){return $d(s)===M0},isSuspense:function(s){return $d(s)===P0},isValidElementType:function(s){return typeof s=="string"||typeof s=="function"||s===L0||s===$g||s===O0||s===M0||s===P0||s===VK||typeof s=="object"&&s!==null&&(s.$$typeof===_0||s.$$typeof===Q0||s.$$typeof===I0||s.$$typeof===D0||s.$$typeof===R0||s.$$typeof===GK||s.$$typeof===WK||s.$$typeof===YK||s.$$typeof===KK)},typeOf:$d},Mi=DC((function(s,e){})),_j=(Mi.AsyncMode,Mi.ConcurrentMode,Mi.ContextConsumer,Mi.ContextProvider,Mi.Element,Mi.ForwardRef,Mi.Fragment,Mi.Lazy,Mi.Memo,Mi.Portal,Mi.Profiler,Mi.StrictMode,Mi.Suspense,Mi.isAsyncMode,Mi.isConcurrentMode,Mi.isContextConsumer,Mi.isContextProvider,Mi.isElement,Mi.isForwardRef,Mi.isFragment,Mi.isLazy,Mi.isMemo,Mi.isPortal,Mi.isProfiler,Mi.isStrictMode,Mi.isSuspense,Mi.isValidElementType,Mi.typeOf,DC((function(s){s.exports=XK}))),JK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Hj={};Hj[_j.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Hj[_j.Memo]=JK;const RC=Uc.memo(({config:s})=>{const[e,r]=W.useState(0),n=(a,l)=>l||a.startsWith("/proxy_image")?`${It}${a}`:a;return W.useEffect(()=>{if(!s||s.displayMode==="single"||!s.autoPlay)return;const a=setInterval(()=>{r(l=>(l+1)%s.images.length)},s.transitionInterval*1e3);return()=>clearInterval(a)},[s]),s?t.jsxs("div",{className:"hidden lg:flex lg:w-1/2 flex-shrink-0 relative overflow-hidden",children:[s.displayMode==="single"?t.jsx("img",{src:n(s.images[0].url,s.images[0].isProxy),alt:s.images[0].alt,className:"absolute inset-0 w-full h-full object-cover"}):s.images.map((a,l)=>t.jsx("img",{src:n(a.url,a.isProxy),alt:a.alt,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ${l===e?"opacity-100":"opacity-0"}`},`hero-img-${l}`)),s.enableGradient&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/60 via-slate-900/40 to-transparent"}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-start justify-end p-16 text-white z-10",children:[s.title&&t.jsx("h1",{className:"text-5xl font-black leading-tight mb-4 max-w-xl drop-shadow-2xl",children:s.title}),s.description&&t.jsx("p",{className:"text-lg text-white/90 max-w-md leading-relaxed drop-shadow-lg",children:s.description})]})]}):t.jsx("div",{className:"hidden lg:flex lg:w-1/2 flex-shrink-0 relative overflow-hidden bg-gradient-to-br from-slate-200 to-slate-300",children:t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"text-slate-400 text-sm",children:"Loading..."})})})});RC.displayName="HeroSection";const ZK=({email:s,onRedirect:e})=>{const{t:r}=Eo("auth"),[n,a]=W.useState(3);return W.useEffect(()=>{const l=setInterval(()=>{a(u=>u<=1?(clearInterval(l),setTimeout(e,500),0):u-1)},1e3);return()=>clearInterval(l)},[e]),t.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50",children:t.jsxs("div",{className:"max-w-md w-full",children:[t.jsx("div",{className:"text-center mb-8 animate-in zoom-in-95 fade-in duration-500",children:t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full blur-3xl opacity-30 animate-pulse"}),t.jsx("div",{className:"relative bg-gradient-to-br from-green-500 to-emerald-600 w-32 h-32 rounded-full flex items-center justify-center shadow-2xl",children:t.jsx(uo,{className:"w-16 h-16 text-white animate-in zoom-in duration-300 delay-200"})}),t.jsx("div",{className:"absolute -top-2 -right-2 animate-in zoom-in duration-300 delay-300",children:t.jsx(Ao,{className:"w-8 h-8 text-yellow-400"})}),t.jsx("div",{className:"absolute -bottom-2 -left-2 animate-in zoom-in duration-300 delay-400",children:t.jsx(pE,{className:"w-8 h-8 text-pink-400"})})]})}),t.jsxs("div",{className:"text-center space-y-4 animate-in fade-in-up duration-500 delay-300",children:[t.jsxs("h1",{className:"text-4xl font-black text-slate-900 mb-2",children:[r("verification.verified")," "]}),t.jsx("p",{className:"text-lg text-slate-600 font-medium",children:"Welcome aboard! Your account has been successfully verified."}),t.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-sm border border-green-200 rounded-xl",children:t.jsxs("p",{className:"text-sm text-slate-700",children:[t.jsx("strong",{className:"text-green-700",children:s})," is now verified and ready to go!"]})})]}),t.jsx("div",{className:"mt-8 text-center animate-in fade-in duration-500 delay-500",children:t.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 bg-white/80 backdrop-blur-sm border border-slate-200 rounded-full shadow-lg",children:[t.jsx(Fr,{className:"w-5 h-5 text-green-600 animate-spin"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[r("verification.redirecting")," ",t.jsx("span",{className:"text-green-600 font-bold text-lg",children:n}),"s..."]})]})}),t.jsx("div",{className:"mt-6 text-center animate-in fade-in duration-500 delay-700",children:t.jsx("button",{onClick:e,className:"text-sm text-slate-600 hover:text-slate-900 font-medium underline decoration-dotted underline-offset-4",children:"Skip waiting and go now "})})]})})},qK=()=>{const{t:s}=Eo("auth");return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-blue-50 via-sky-50 to-cyan-50",children:t.jsxs("div",{className:"max-w-md w-full text-center",children:[t.jsx("div",{className:"mb-8 animate-in zoom-in-95 fade-in duration-500",children:t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"w-32 h-32 rounded-full border-8 border-blue-100 border-t-blue-600 animate-spin"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(Gd,{className:"w-12 h-12 text-blue-600 animate-pulse"})})]})}),t.jsxs("div",{className:"space-y-4 animate-in fade-in-up duration-500 delay-200",children:[t.jsx("h2",{className:"text-3xl font-black text-slate-900",children:s("verification.verifying")}),t.jsx("p",{className:"text-lg text-slate-600",children:"Please wait while we confirm your account."}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500 mt-6",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})})},eG=({email:s,token:e,verificationConfig:r,onVerified:n,onResend:a,onBack:l})=>{const{t:u}=Eo("auth"),[d,A]=W.useState(""),[o,f]=W.useState(!1),[p,m]=W.useState(null),[x,b]=W.useState(null),[j,y]=W.useState(!1),[T,R]=W.useState(0),[z,X]=W.useState(e),[Y,Q]=W.useState(!1),K=W.useRef(null),ce=W.useRef(null);W.useEffect(()=>{if(T>0){const le=setTimeout(()=>{R(Ce=>Ce-1)},1e3);return()=>clearTimeout(le)}},[T]),W.useEffect(()=>{try{ce.current=new BroadcastChannel("gogotrip_verification"),ce.current.onmessage=Ce=>{Ce.data.type==="VERIFICATION_COMPLETE"&&Ce.data.email===s&&(console.log(" Received verification complete from another tab"),b(" Email verified in another tab! Redirecting..."),setTimeout(()=>{Ce.data.user&&n(Ce.data.user)},1500))}}catch{console.log("BroadcastChannel not supported, using polling only")}const le=async()=>{try{Q(!0);const oe=await(await fetch(`${It}/auth/check-verification-status`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s,token:z})})).json();oe.verified&&oe.user&&(console.log(" Email verified detected via polling"),b(" Email verified! Redirecting..."),ce.current&&ce.current.postMessage({type:"VERIFICATION_COMPLETE",email:s,user:oe.user}),K.current&&clearInterval(K.current),setTimeout(()=>{n(oe.user)},1500))}catch(Ce){console.log("Status check failed:",Ce)}finally{Q(!1)}};return K.current=setInterval(le,5e3),()=>{K.current&&clearInterval(K.current),ce.current&&ce.current.close()}},[s,z,n]);const ue=async le=>{if(le.preventDefault(),!d||d.length!==r.codeLength){m(`Please enter a ${r.codeLength}-digit code`);return}f(!0),m(null);try{const oe=await(await fetch(`${It}/auth/signup-verify-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:z,code:d})})).json();oe.status==="success"?(b(" Email verified successfully!"),ce.current&&ce.current.postMessage({type:"VERIFICATION_COMPLETE",email:s,user:oe.user}),setTimeout(()=>{n(oe.user)},1500)):m(oe.message||"Verification failed")}catch{m("Network error. Please try again.")}finally{f(!1)}},Ne=async()=>{var le;if(!(T>0||j)){y(!0),m(null),b(null);try{const Ce=await a();if(Ce.success)Ce.token&&X(Ce.token),b(" Verification email sent! Check your inbox."),R(60);else{if((le=Ce.message)!=null&&le.includes("wait")){const oe=Ce.message.match(/(\d+)/);oe&&R(parseInt(oe[1]))}m(Ce.message||"Failed to resend")}}catch{m("Failed to resend verification email")}finally{y(!1)}}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Xd,{className:"w-8 h-8 text-white"})}),t.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:u("verification.title")}),t.jsxs("p",{className:"text-slate-600",children:[u("verification.subtitle"),t.jsx("br",{}),t.jsx("strong",{className:"text-slate-900",children:s})]})]}),p&&t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(Ia,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-red-700",children:p})]}),x&&t.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(uo,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-green-700",children:x})]}),Y&&t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),t.jsx("span",{children:"Checking verification status..."})]}),t.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:u("verification.enterCode")}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",required:!0,value:d,onChange:le=>{const Ce=le.target.value.toUpperCase();r.codeType==="numeric"?/^\d*$/.test(Ce)&&A(Ce):A(Ce)},maxLength:r.codeLength,placeholder:u("verification.codePlaceholder",{length:r.codeLength}),className:"w-full bg-white border border-slate-200 rounded-xl py-4 px-4 font-mono text-2xl tracking-[0.5em] text-center font-bold focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all uppercase"})}),t.jsx("p",{className:"text-xs text-slate-500 text-center mt-2",children:u("verification.enterCodeDesc")})]}),t.jsx("button",{type:"submit",disabled:o||d.length!==r.codeLength,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?t.jsx(Fr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[u("verification.verify"),t.jsx(DA,{className:"w-4 h-4"})]})})]}),t.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-3",children:u("verification.didntReceive")}),t.jsx("button",{type:"button",onClick:Ne,disabled:j||T>0,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${T>0?"bg-slate-100 text-slate-400 cursor-not-allowed":j?"bg-slate-100 text-slate-500":"bg-sky-50 text-sky-600 hover:bg-sky-100"}`,children:j?t.jsxs(t.Fragment,{children:[t.jsx(Fr,{className:"w-4 h-4 animate-spin"}),u("forgotPassword.sending")]}):T>0?t.jsxs(t.Fragment,{children:[t.jsx(Vi,{className:"w-4 h-4"}),u("verification.resendIn",{seconds:T})]}):t.jsxs(t.Fragment,{children:[t.jsx(cd,{className:"w-4 h-4"}),u("verification.resendCode")]})})]}),t.jsx("div",{className:"text-center",children:t.jsxs("button",{type:"button",onClick:l,className:"text-sm text-slate-500 hover:text-slate-700 font-medium",children:[" ",u("register.backToSignUp")]})})]})},tG=({onLogin:s})=>{const{t:e}=Eo("auth"),[r,n]=W.useState("LOGIN"),[a,l]=W.useState(!1),[u,d]=W.useState(null),[A,o]=W.useState(null),[f,p]=W.useState(!1),[m,x]=W.useState({codeType:"numeric",codeLength:6,expiryMinutes:10}),[b,j]=W.useState(null),[y,T]=W.useState(""),[R,z]=W.useState(""),[X,Y]=W.useState(""),[Q,K]=W.useState(!1),[ce,ue]=W.useState(!1),{executeRecaptcha:Ne}=$K(),[le,Ce]=W.useState(null),[oe,je]=W.useState({name:"",email:"",password:"",verificationCode:""}),[Ae,se]=W.useState({hasLength:!1,hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpecial:!1}),[pe,re]=W.useState(!1),Ee=W.useRef(!1),De=We=>{const Lt={hasLength:We.length>=8,hasUpper:/[A-Z]/.test(We),hasLower:/[a-z]/.test(We),hasNumber:/[0-9]/.test(We),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(We)};se(Lt),re(Object.values(Lt).every(Boolean))};W.useEffect(()=>{r==="SIGNUP"?De(oe.password):r==="FORGOT_VERIFY"&&De(R)},[oe.password,R,r]),W.useEffect(()=>{(async()=>{try{const $t=await(await fetch(`${It}/api/login-hero/active`)).json();$t.status==="success"&&$t.config&&Ce($t.config)}catch(Lt){console.error("Failed to load hero config:",Lt),Ce({displayMode:"single",transitionInterval:5,autoPlay:!0,imageSource:"url",enableGradient:!0,images:[{url:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?auto=format&fit=crop&q=80&w=2000",alt:"Travel"}],title:"Plan your next great adventure in seconds.",subtitle:null,description:"Join thousands of travelers using AI to craft the perfect itinerary, track expenses, and explore the world."})}})()},[]),W.useEffect(()=>{if(Ee.current)return;const We=new URLSearchParams(window.location.search),Lt=We.get("token"),$t=We.get("error");if($t){$t==="account_suspended"?d("Your account has been suspended. Please contact support."):$t==="account_deleted"?d("This account has been deleted."):$t==="oauth_failed"&&d("Google login failed. Please try again."),window.history.replaceState({},"",window.location.pathname);return}Lt&&(console.log(" Detected token in URL, starting One-Click verification..."),Ee.current=!0,n("VERIFYING"),Se(Lt))},[]);const Se=async We=>{try{console.log(" Starting One-Click verification...");const $t=await(await fetch(`${It}/auth/verify-onetap`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:We})})).json();if(console.log(" Token info:",$t),$t.status!=="success")throw new Error($t.message||"Invalid verification link");const Ts=await(await fetch(`${It}/auth/signup-verify-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:We,code:$t.data.code})})).json();if(console.log(" Verification result:",Ts),Ts.status==="success"){T($t.data.email),window.history.replaceState({},"",window.location.pathname),n("VERIFIED");try{const Pe=new BroadcastChannel("gogotrip_verification");Pe.postMessage({type:"VERIFICATION_COMPLETE",email:$t.data.email,user:Ts.user}),Pe.close()}catch{console.log("BroadcastChannel not available")}setTimeout(()=>{s(Ts.user)},3e3)}else throw new Error(Ts.message||"Verification failed")}catch(Lt){console.error(" One-Click verification failed:",Lt),n("LOGIN"),d(Lt.message||"Verification link expired or invalid. Please try again.")}},fe=W.useCallback(()=>{y&&console.log("Redirecting...")},[y]),be=()=>{l(!0),d(null),window.location.href=`${It}/authorize`},he=async We=>{if(We.preventDefault(),!pe){d("Password is too weak. Please follow the requirements below.");return}if(oe.password!==X){d("Passwords do not match.");return}if(!oe.email||!oe.password||!oe.name){d("Please fill in all fields.");return}l(!0),d(null),o(null);try{if(!Ne){d("reCAPTCHA not ready"),l(!1);return}const Lt=await Ne("signup"),ls=await(await fetch(`${It}/auth/send-code-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:oe.email,password:oe.password,name:oe.name,code_type:m.codeType,code_length:m.codeLength,expiry_minutes:m.expiryMinutes,recaptcha_token:Lt})})).json();ls.status==="success"?(j(ls.token),n("VERIFY")):d(ls.message||"Failed to send code")}catch{d("Network error. Please try again.")}finally{l(!1)}},te=async()=>{try{if(!Ne)return{success:!1,message:"reCAPTCHA not ready"};const We=await Ne("resend"),$t=await(await fetch(`${It}/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:oe.email,token:b,recaptcha_token:We})})).json();return $t.status==="success"?{success:!0,token:$t.token}:{success:!1,message:$t.message}}catch{return{success:!1,message:"Network error"}}},ge=async We=>{We.preventDefault(),l(!0),d(null);try{const $t=await(await fetch(`${It}/auth/login-email`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:oe.email,password:oe.password})})).json();$t.status==="success"?s($t.user):$t.needs_verification?d("Please verify your email first. Check your inbox for the verification link."):d($t.message||"Login failed")}catch{d("Network error. Please try again.")}finally{l(!1)}},Le=async We=>{We.preventDefault(),l(!0),d(null),o(null);try{if(!Ne){d("reCAPTCHA not ready"),l(!1);return}const Lt=await Ne("forgot_password"),ls=await(await fetch(`${It}/auth/forgot-password/send-code-v2`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:oe.email,code_type:m.codeType,code_length:m.codeLength,expiry_minutes:m.expiryMinutes,recaptcha_token:Lt})})).json();ls.status==="success"?(j(ls.token),n("FORGOT_VERIFY"),o(` Verification code sent to ${oe.email}!`)):d(ls.message||"Failed to send code")}catch{d("Network error. Please try again.")}finally{l(!1)}},Ve=async We=>{if(We.preventDefault(),!pe){d("Password is too weak.");return}if(R!==X){d("Passwords do not match.");return}l(!0),d(null);try{const $t=await(await fetch(`${It}/auth/reset-password-v2`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:b,code:oe.verificationCode,new_password:R})})).json();$t.status==="success"?(o(" Password reset successful! Please login."),setTimeout(()=>n("LOGIN"),2e3)):d($t.message||"Reset failed")}catch{d("Network error. Please try again.")}finally{l(!1)}},kt=()=>t.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-br from-blue-50 to-sky-50 rounded-xl border border-sky-200",children:[t.jsxs("button",{type:"button",onClick:()=>p(!f),className:"w-full flex items-center justify-between text-sm font-bold text-slate-700 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Gd,{className:"w-4 h-4 text-sky-600"}),t.jsx("span",{children:"Verification Options"})]}),t.jsx("span",{className:"text-xs text-sky-600",children:f?" Hide":" Customize"})]}),f&&t.jsxs("div",{className:"space-y-4 animate-in fade-in-down",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(yw,{className:"w-3 h-3"}),"Code Type"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["numeric","alphanumeric","alpha"].map(We=>t.jsxs("button",{type:"button",onClick:()=>x(Lt=>({...Lt,codeType:We})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${m.codeType===We?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[We==="numeric"&&"123456",We==="alphanumeric"&&"A1B2C3",We==="alpha"&&"ABCDEF"]},We))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(yw,{className:"w-3 h-3"}),"Code Length"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[4,6,8].map(We=>t.jsxs("button",{type:"button",onClick:()=>x(Lt=>({...Lt,codeLength:We})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${m.codeLength===We?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[We," digits"]},We))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-3 h-3"}),"Expiry Time"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[5,10,15].map(We=>t.jsxs("button",{type:"button",onClick:()=>x(Lt=>({...Lt,expiryMinutes:We})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${m.expiryMinutes===We?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[We," min"]},We))})]})]})]}),Bt=()=>t.jsxs("div",{className:"mt-2 space-y-2",children:[t.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Password Requirements:"}),Object.entries({hasLength:"At least 8 characters",hasUpper:"One uppercase letter",hasLower:"One lowercase letter",hasNumber:"One number",hasSpecial:"One special character (!@#$...)"}).map(([We,Lt])=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[Ae[We]?t.jsx(Yo,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):t.jsx(qr,{className:"w-4 h-4 text-slate-300 flex-shrink-0"}),t.jsx("span",{className:Ae[We]?"text-green-700 font-medium":"text-slate-500",children:Lt})]},We))]});return r==="VERIFYING"?t.jsx(qK,{}):r==="VERIFIED"?t.jsx(ZK,{email:y,onRedirect:fe}):t.jsxs("div",{className:"min-h-screen flex overflow-hidden bg-slate-50",children:[t.jsx(RC,{config:le}),t.jsx("div",{className:"flex-1 min-w-0 flex items-center justify-center p-6 lg:p-12 relative overflow-y-auto",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsxs("h2",{className:"text-3xl font-black text-slate-900 mb-2",children:[r==="LOGIN"&&e("login.title"),r==="SIGNUP"&&e("register.title"),r==="VERIFY"&&e("verification.title"),r==="FORGOT"&&e("forgotPassword.title"),r==="FORGOT_VERIFY"&&e("resetPassword.title")]}),t.jsxs("p",{className:"text-slate-500 font-medium",children:[r==="LOGIN"&&e("login.subtitle"),r==="SIGNUP"&&e("register.subtitle"),r==="VERIFY"&&e("verification.checkEmail"),r==="FORGOT"&&e("forgotPassword.subtitle"),r==="FORGOT_VERIFY"&&e("resetPassword.subtitle")]})]}),u&&r!=="VERIFY"&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(Ia,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-red-700",children:u})]}),A&&r!=="VERIFY"&&t.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(uo,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-green-700",children:A})]}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8 shadow-xl",children:[r==="VERIFY"&&b&&t.jsx(eG,{email:oe.email,token:b,verificationConfig:m,onVerified:s,onResend:te,onBack:()=>{n("SIGNUP"),d(null),o(null)}}),r==="FORGOT_VERIFY"&&t.jsxs("form",{onSubmit:Ve,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("verification.enterCode")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",required:!0,value:oe.verificationCode,onChange:We=>{const Lt=We.target.value.toUpperCase();m.codeType==="numeric"?/^\d*$/.test(Lt)&&je({...oe,verificationCode:Lt}):je({...oe,verificationCode:Lt})},maxLength:m.codeLength,placeholder:e("verification.codePlaceholder",{length:m.codeLength}),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-12 font-mono text-lg tracking-widest text-center font-bold focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all uppercase"}),t.jsx(Gd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("resetPassword.newPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Ud,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:Q?"text":"password",required:!0,value:R,onChange:We=>z(We.target.value),placeholder:"",className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${!pe&&R.length>0?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>K(!Q),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:Q?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),t.jsx(Bt,{})]}),pe&&t.jsxs("div",{className:"space-y-1 animate-in fade-in-down",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("resetPassword.confirmPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Ud,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:ce?"text":"password",required:!0,value:X,onChange:We=>Y(We.target.value),placeholder:e("resetPassword.confirmPasswordPlaceholder"),className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${X.length>0&&X!==R?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>ue(!ce),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:ce?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),X.length>0&&X!==R&&t.jsx("p",{className:"text-xs text-red-500 font-bold ml-1",children:e("errors.passwordMismatch")})]}),t.jsx("button",{type:"submit",disabled:a||!pe||R!==X,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?t.jsx(Fr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[e("resetPassword.resetPassword"),t.jsx(DA,{className:"w-4 h-4"})]})})]}),r==="FORGOT"&&t.jsxs("form",{onSubmit:Le,className:"space-y-6",children:[t.jsx(kt,{}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("login.email")}),t.jsxs("div",{className:"relative",children:[t.jsx(Xd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",required:!0,value:oe.email,onChange:We=>je({...oe,email:We.target.value}),placeholder:e("login.emailPlaceholder"),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsx("button",{type:"submit",disabled:a,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?t.jsx(Fr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[e("forgotPassword.sendLink"),t.jsx(DA,{className:"w-4 h-4"})]})}),t.jsxs("button",{type:"button",onClick:()=>{n("LOGIN"),d(null)},className:"w-full text-sm text-sky-600 font-bold hover:underline",children:[" ",e("forgotPassword.backToLogin")]})]}),(r==="LOGIN"||r==="SIGNUP")&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{type:"button",onClick:be,disabled:a,className:"w-full py-3.5 bg-white border border-slate-200 rounded-xl font-bold text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center justify-center gap-3 relative group overflow-hidden",children:[t.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5 relative z-10"}),t.jsx("span",{className:"relative z-10",children:e("login.googleSignIn")})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-slate-200"})}),t.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:t.jsx("span",{className:"bg-white px-2 text-slate-400 font-bold",children:e("login.orContinueWithEmail")})})]}),r==="SIGNUP"&&t.jsx(kt,{}),t.jsxs("form",{onSubmit:r==="LOGIN"?ge:he,className:"space-y-4",children:[r==="SIGNUP"&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("register.fullName")}),t.jsxs("div",{className:"relative",children:[t.jsx(Xo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",required:!0,value:oe.name,onChange:We=>je({...oe,name:We.target.value}),placeholder:e("register.fullNamePlaceholder"),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("login.email")}),t.jsxs("div",{className:"relative",children:[t.jsx(Xd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",required:!0,value:oe.email,onChange:We=>je({...oe,email:We.target.value}),placeholder:e("login.emailPlaceholder"),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("login.password")}),t.jsxs("div",{className:"relative",children:[t.jsx(Ud,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:Q?"text":"password",required:!0,value:oe.password,onChange:We=>je({...oe,password:We.target.value}),placeholder:e(r==="SIGNUP"?"register.passwordPlaceholder":"login.passwordPlaceholder"),className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${r==="SIGNUP"&&!pe&&oe.password.length>0?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>K(!Q),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:Q?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),r==="SIGNUP"&&t.jsx(Bt,{})]}),r==="SIGNUP"&&pe&&t.jsxs("div",{className:"space-y-1 animate-in fade-in-down",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("register.confirmPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Ud,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:ce?"text":"password",required:!0,value:X,onChange:We=>Y(We.target.value),placeholder:e("register.confirmPasswordPlaceholder"),className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${X.length>0&&X!==oe.password?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>ue(!ce),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:ce?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),X.length>0&&X!==oe.password&&t.jsx("p",{className:"text-xs text-red-500 font-bold ml-1",children:e("errors.passwordMismatch")})]}),r==="LOGIN"&&t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"button",onClick:()=>{n("FORGOT"),d(null)},className:"text-sm font-bold text-sky-600 hover:text-sky-700",children:e("login.forgotPassword")})}),t.jsx("button",{type:"submit",disabled:a||r==="SIGNUP"&&(!pe||oe.password!==X),className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?t.jsx(Fr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[e(r==="LOGIN"?"login.signIn":"register.signUp"),t.jsx(DA,{className:"w-4 h-4"})]})})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-slate-500 text-sm",children:[e(r==="LOGIN"?"login.noAccount":"register.hasAccount")," ",t.jsx("button",{onClick:()=>{n(r==="LOGIN"?"SIGNUP":"LOGIN"),d(null),o(null),je({name:"",email:"",password:"",verificationCode:""}),Y("")},className:"font-bold text-sky-600 hover:text-sky-700",children:e(r==="LOGIN"?"login.signUpLink":"register.signInLink")})]})})]})]})]})})]})};try{const s=localStorage.getItem(cy);s&&["en","zh","ms"].includes(s)&&ox(s)}catch(s){console.error("Failed to hydrate language preference:",s)}const sG=()=>{const[s,e]=W.useState(null),[r,n]=W.useState(!1),[a,l]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const A=await fetch(`${It}/check_login_status`,{credentials:"include"});if(A.ok){const o=await A.json();if(o.logged_in&&o.user){const f={...o.user,role:zg(o.user.role||o.role)};e(f),Av(f.preferredLanguage),Vv(f.role)&&n(!0)}}}catch(A){console.error("Auth check failed:",A)}finally{l(!1)}})()},[]);const u=async()=>{try{await fetch(`${It}/auth/logout`,{method:"POST",credentials:"include"})}catch(d){console.error("Logout request failed",d)}finally{e(null),n(!1),window.location.href="/"}};return a?t.jsx("div",{className:"h-screen flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),t.jsx("span",{className:"text-slate-500 text-sm",children:"Loading..."})]})}):s?t.jsx(MU,{userId:s.id,isAuthenticated:!!s,children:r?t.jsx(PK,{user:s,onSwitchToUser:()=>n(!1),onLogout:u}):t.jsx(tK,{user:s,onLogout:u,onSwitchToAdmin:()=>n(!0),onUpdateUser:d=>e(A=>A&&{...A,...d})})}):t.jsx(zK,{reCaptchaKey:"6LewjjUsAAAAAKFHuvd4JdyTZ06TK14FTHZSZSTF",scriptProps:{async:!1,defer:!1,appendTo:"head"},children:t.jsx(tG,{onLogin:d=>{const A={...d,role:zg(d.role)};e(A),Av(A.preferredLanguage),Vv(A.role)&&n(!0)}})})},PC=document.getElementById("root");if(!PC)throw new Error("Root not found");const rG=z4.createRoot(PC);rG.render(t.jsx(Uc.StrictMode,{children:t.jsx(PB,{children:t.jsx(sG,{})})}));
